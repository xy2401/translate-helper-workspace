<html id="00809.using-XML-parser-for-C.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An explanation is given of how to use the Extensible Markup Language (XML) parser for C."></meta>
      <meta name="description" content="An explanation is given of how to use the Extensible Markup Language (XML) parser for C."></meta>
      <title>使用XML Parser for C</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="An explanation is given of how to use the Extensible Markup Language (XML) parser for C."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-XSLT-and-XVM-processors-for-C.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-binary-XML-with-C.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-XSLT-and-XVM-processors-for-C.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-binary-XML-with-C.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-C.html" property="item" typeof="WebPage"><span property="name">适用于C的Oracle XML Developer's Kit</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用XML Parser for C</li>
            </ol>
            <a id="GUID-6A39885C-865B-4386-B49C-1FBAB09529C6" name="GUID-6A39885C-865B-4386-B49C-1FBAB09529C6"></a><a id="ADXDK1035"></a><a id="ADXDK1400"></a>
            
            <h2 id="ADXDK-GUID-6A39885C-865B-4386-B49C-1FBAB09529C6" class="sect2"><span class="enumeration_chapter">5</span>使用XML Parser for C</h2>
         </header>
         <div class="ind">
            <div>
               <p>解释了如何为C使用可扩展标记语言（XML）解析器。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div><a id="ADXDK1036"></a><a id="ADXDK19749"></a><div class="props_rev_3"><a id="GUID-26A982BF-4D33-4C90-8BFA-F227D3C5CE5B" name="GUID-26A982BF-4D33-4C90-8BFA-F227D3C5CE5B"></a><h3 id="ADXDK-GUID-26A982BF-4D33-4C90-8BFA-F227D3C5CE5B" class="sect3">C的XML解析器简介</h3>
               <div>
                  <p>这里的主题包括C语言XML解析器的先决条件和标准。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-26A982BF-4D33-4C90-8BFA-F227D3C5CE5B__GUID-121BFA4D-E639-4F87-B8AC-D5E30303ADCB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="XML-parsing-for-Java.html#GUID-4BC9CC77-9343-421D-A5A0-9F073961DC75" title="描述了Java的XML解析。">XML解析Java</a>解析使用文档对象模型（DOM）和Simple API for XML（SAX）进行XML解析的一般性介绍。引言中的大部分信息都与语言无关，同样适用于C.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19750"></a><div class="sect3"><a id="GUID-A2821602-38A1-4613-8DB4-5FEBD5C8027E" name="GUID-A2821602-38A1-4613-8DB4-5FEBD5C8027E"></a><h4 id="ADXDK-GUID-A2821602-38A1-4613-8DB4-5FEBD5C8027E" class="sect4">使用XML Parser for C的先决条件</h4>
                  <div>
                     <p>用于C的Oracle XML解析器读取XML文档并使用DOM或SAX应用程序编程接口（API）来提供对其内容和结构的编程访问。您可以在验证或非验证模式下使用解析器。拉解析器也可用。</p>
                     <p>本章假定您熟悉这些技术：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="glossary.html#GUID-0969F796-24C8-4A02-B671-B2EE8BD49F5B"><span class="xrefglossterm">文档对象模型（DOM）</span></a> 。DOM是XML文档结构的内存树表示。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-6B57591D-3889-4BCD-8598-58ED2DC9E9EE"><span class="xrefglossterm">简单的XML API（SAX）</span></a> 。SAX是基于事件的XML解析的标准。
                           </p>
                        </li>
                        <li>
                           <p><a href="using-XML-parser-for-C.html#GUID-C244DBA6-8578-4224-B21D-CD5FF48B0EEC" title="XML Pull Parser是XML Events接口的一个实现。XML Pull Parser和SAX解析器类似，但是使用Pull Parser，应用程序（使用者）驱动事件，而在SAX中，解析器（生产者）驱动事件。">使用XML Pull Parser for C。</a> Pull Parser使用XML事件。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-F2AC11F4-F0D2-4EFB-B28B-8114CC0D7C38"><span class="xrefglossterm">文档类型定义（DTD）</span></a> 。XML DTD定义XML文档的合法结构。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-25F8F1D2-58B2-4A3F-B38C-3C2652C9C19C"><span class="xrefglossterm">XML Schema</span></a> 。与DTD一样，XML模式定义XML文档的合法结构。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-55AB1901-F16B-4FBD-9C2B-7164C71662B0" title="XML文档中的相关元素名称或属性。命名空间语法和用法由W3C建议定义。例如，元素&lt;xsl：apply-templates /&gt;被标识为XSL名称空间的一部分。命名空间在使用之前在XML文档或DTD中声明，使用以下属性语法：xmlns：xsl =" http:="" /="" /www.w3.org="" /tr="" /wd-xs="." =""><span class="xrefglossterm">XML命名空间</span></a> 。命名空间是一种区分元素和属性名称的机制。
                           </p>
                        </li>
                     </ul>
                     <p>如果您需要对上述技术进行一般性介绍，请参阅<a href="preface.html#GUID-2CD1F6B6-C8EC-42E3-97F2-589AABF9AFFB" title="列出了与此文档相关的Oracle资源。">相关文档中</a>列出的XML资源。
                     </p>
                  </div>
               </div><a id="ADXDK19751"></a><div class="props_rev_3"><a id="GUID-80662259-9C17-4F27-A03B-99CC6E1196EB" name="GUID-80662259-9C17-4F27-A03B-99CC6E1196EB"></a><h4 id="ADXDK-GUID-80662259-9C17-4F27-A03B-99CC6E1196EB" class="sect4">用于C的XML解析器的标准和规范</h4>
                  <div>
                     <p>描述了XDK XML解析器的标准和规范。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XML 1.0是W3C推荐标准。用于C API的Oracle XML Developer's Kit（XDK）提供对XML 1.0（第二版）的完全支持。</p>
                        </li>
                        <li>
                           <p>DOM Level 1，Level 2和Level 3规范是万维网联盟（W3C）建议。XDK for C API完全支持DOM Level 1和2，但不支持Level 3。</p>
                        </li>
                        <li>
                           <p>SAX适用于1.0版本，已弃用，2.0版本。SAX不是W3C规范。XDK for C API完全支持SAX 1.0和2.0。</p>
                        </li>
                        <li>
                           <p>XML命名空间是W3C推荐标准。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XDK-standards.html#GUID-795A483B-12AC-4F6D-A606-6BE9DA963F0F" title="描述了Oracle XML Developer&#39;s Kit（XDK）标准。">Oracle XML Developer的套件标准</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDK19752"></a><div class="props_rev_3"><a id="GUID-39C29945-6705-46C8-815B-DBBBF5D37C03" name="GUID-39C29945-6705-46C8-815B-DBBBF5D37C03"></a><h3 id="ADXDK-GUID-39C29945-6705-46C8-815B-DBBBF5D37C03" class="sect3">使用C的XML Parser API</h3>
               <div>
                  <p>用于C的Oracle XML解析器检查XML文档是否格式正确，并可选择根据DTD对其进行验证。您的应用程序可以通过DOM或SAX API访问已解析的数据。</p>
               </div><a id="ADXDK19754"></a><a id="ADXDK19753"></a><div class="props_rev_3"><a id="GUID-CDED5CE7-8514-4680-90EE-47C82C4303E8" name="GUID-CDED5CE7-8514-4680-90EE-47C82C4303E8"></a><h4 id="ADXDK-GUID-CDED5CE7-8514-4680-90EE-47C82C4303E8" class="sect4">C的Parser API概述</h4>
                  <div>
                     <p>XML解析API的核心是XML，DOM和SAX API。</p>
                     <p><a href="using-XML-parser-for-C.html#GUID-CDED5CE7-8514-4680-90EE-47C82C4303E8__CCHEDFAC" title="总结了XML解析器的C API。">表5-1</a>介绍了这些API的接口。有关完整的API文档，请参阅<a href="../caxml/datatypes.html#CAXML00100" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。
                     </p>
                     <div class="tblformalwide" id="GUID-CDED5CE7-8514-4680-90EE-47C82C4303E8__CCHEDFAC">
                        <p class="titleintable">表5-1 XML，DOM和SAX API的接口</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="XML，DOM和SAX API的接口" width="100%" border="1" summary="Summarizes the C APIs for the XML parser." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="10%" id="d19652e581">包</th>
                                 <th align="left" valign="bottom" width="62%" id="d19652e584">接口</th>
                                 <th align="left" valign="bottom" width="27%" id="d19652e587">功能名称约定</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d19652e592" headers="d19652e581 ">
                                    <p>XML</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d19652e592 d19652e584 ">
                                    <p>该包实现了单个<code class="codeph">XML</code>接口。该接口定义了这些任务的功能：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>创建和销毁上下文。顶级XML上下文（ <code class="codeph">xmlctx</code> ）共享协作XML组件之间的公共信息。
                                          </p>
                                       </li>
                                       <li>
                                          <p>创建和解析XML文档和DTD。</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d19652e592 d19652e587 ">
                                    <p>函数名称以字符串<code class="codeph">Xml</code>开头。
                                    </p>
                                    <p>有关API文档，请参阅<a href="../caxml/package-XmlDiff-API.html#CAXML6192" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d19652e626" headers="d19652e581 ">
                                    <p>DOM</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d19652e626 d19652e584 ">
                                    <p>该包提供对已解析XML的编程访问。该包实现了这些接口：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">Attr</code>定义了XML属性的get和set函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">CharacterData</code>定义用于操纵字符数据的函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Document</code>定义了用于创建XML节点，获取有关XML文档的信息以及为文档设置DTD的功能。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DocumentType</code>定义了DTD的get函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Element</code>定义XML元素的get和set函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Entity</code>为XML实体定义get函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NamedNodeMap</code>定义了命名节点的get函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Node</code>定义XML节点的get和set函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NodeList</code>定义释放节点列表并从列表中获取节点的函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Notation</code>定义了从节点获取系统和公共ID的函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ProcessingInstruction</code>定义处理指令的get和set函数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">Text</code>定义了一个将文本节点拆分为两个的函数。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d19652e626 d19652e587 ">
                                    <p>函数名称以字符串<code class="codeph">XmlDom</code> 。
                                    </p>
                                    <p>有关API文档，请参阅<a href="../caxml/package-DOM-API.html#CAXML00300" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d19652e709" headers="d19652e581 ">
                                    <p>SAX</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d19652e709 d19652e584 ">
                                    <p>该包提供对已解析XML的编程访问。该包实现了<code class="codeph">SAX</code>接口，该接口定义了接收SAX事件通知的函数。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d19652e709 d19652e587 ">
                                    <p>函数名称以字符串<code class="codeph">XmlSax</code> 。
                                    </p>
                                    <p>有关API文档，请参阅<a href="../caxml/package-SAX-API.html#CAXML5908" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d19652e733" headers="d19652e581 ">
                                    <p>XML Pull Parser</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d19652e733 d19652e584 ">
                                    <p>XML事件是XML文档的表示，类似于SAX事件，因为文档表示为一系列事件，如开始标记，结束标记，注释等。区别在于SAX事件由解析器（生产者）驱动，XML事件由应用程序（消费者）驱动。</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d19652e733 d19652e587 ">
                                    <p>函数名称以字符串<code class="codeph">XmlEv</code> 。</p>
                                    <p>有关API文档，请参阅<a href="../caxml/package-Event-API.html#CAXML02000" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="ADXDK19756"></a><a id="ADXDK19755"></a><div class="props_rev_3"><a id="GUID-8D335450-FD8E-483D-974E-5BD5C05E2BB3" name="GUID-8D335450-FD8E-483D-974E-5BD5C05E2BB3"></a><h5 id="ADXDK-GUID-8D335450-FD8E-483D-974E-5BD5C05E2BB3" class="sect5">用于C数据类型的XML解析器</h5>
                     <div>
                        <p>描述了用于C的XML解析器中使用的数据类型。</p>
                        <p>有关XDK for C的完整数据类型列表，请参阅<a href="../caxml/datatypes.html#CAXML00100" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a> 。</p>
                        <div class="tblformal" id="GUID-8D335450-FD8E-483D-974E-5BD5C05E2BB3__G455054">
                           <p class="titleintable">表5-2 C的XML解析器中使用的数据类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="用于C的XML解析器中的数据类型" width="100%" border="1" summary="This table describes the data types used in the XML parser for C. Datatype and Description are the column names." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="17%" id="d19652e850">数据类型</th>
                                    <th align="left" valign="bottom" width="83%" id="d19652e853">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d19652e858" headers="d19652e850 ">
                                       <p><code class="codeph">oratext</code></p>
                                    </td>
                                    <td align="left" valign="top" width="83%" headers="d19652e858 d19652e853 ">
                                       <p>字符串指针</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d19652e866" headers="d19652e850 ">
                                       <p><code class="codeph">xmlctx</code></p>
                                    </td>
                                    <td align="left" valign="top" width="83%" headers="d19652e866 d19652e853 ">
                                       <p>掌握XML上下文</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d19652e874" headers="d19652e850 ">
                                       <p><code class="codeph">xmlsaxcb</code></p>
                                    </td>
                                    <td align="left" valign="top" width="83%" headers="d19652e874 d19652e853 ">
                                       <p>SAX回调结构（仅限SAX）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d19652e882" headers="d19652e850 ">
                                       <p><code class="codeph">UB4</code></p>
                                    </td>
                                    <td align="left" valign="top" width="83%" headers="d19652e882 d19652e853 ">
                                       <p>32位（或更大）无符号整数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d19652e890" headers="d19652e850 ">
                                       <p><code class="codeph">UWORD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="83%" headers="d19652e890 d19652e853 ">
                                       <p>原始无符号整数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADXDK19757"></a><div class="props_rev_3"><a id="GUID-42B8F527-3013-4896-80EF-624B983BA725" name="GUID-42B8F527-3013-4896-80EF-624B983BA725"></a><h5 id="ADXDK-GUID-42B8F527-3013-4896-80EF-624B983BA725" class="sect5">C默认值的XML解析器</h5>
                     <div>
                        <p>描述了C的XML解析器的默认值。</p>
                        <p>这些是默认值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>字符集编码是Unicode（UTF-8）的8位编码。如果所有文档都是ASCII，则将编码设置为US-ASCII可提高性能。</p>
                           </li>
                           <li>
                              <p>解析器将消息打印到<code class="codeph">stderr</code>除非提供了错误处理程序。
                              </p>
                           </li>
                           <li>
                              <p>解析器检查输入文档是否格式良好但不是有效性。您可以设置属性“validate”以验证输入。</p>
                              <div class="infoboxnote" id="GUID-42B8F527-3013-4896-80EF-624B983BA725__GUID-8184CEC3-4F19-435D-97AA-FB84D46DC180">
                                 <p class="notep1">注意：</p>
                                 <p>如果仅使用单字节字符集（例如US-ASCII或任何ISO-8859字符集），Oracle建议您显式设置默认编码，以提高性能，而不是使用多字节字符集（如UTF-8）。</p>
                              </div>
                           </li>
                           <li>
                              <p>处理空白时，解析器符合XML 1.0规范，即解析器将所有空白空间报告给应用程序，但指示可以忽略哪个空格。但是，某些应用程序可能更喜欢设置属性“discard-white space”，它会丢弃end-element标记和此start-element标记之间的所有空格。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-42B8F527-3013-4896-80EF-624B983BA725__GUID-0A91D34B-745C-4173-9F04-CF2D34969529">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>适用于DOM，SAX，pull解析器和回调API的<a href="../caxml/package-DOM-API.html#CAXML00300" target="_blank"><span><cite>Oracle Database XML C API参考</cite></span></a> 。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADXDK19759"></a><a id="ADXDK19758"></a><div class="props_rev_3"><a id="GUID-4C2307E5-610E-470C-B1BB-BA81D6D1D9D5" name="GUID-4C2307E5-610E-470C-B1BB-BA81D6D1D9D5"></a><h4 id="ADXDK-GUID-4C2307E5-610E-470C-B1BB-BA81D6D1D9D5" class="sect4">C调用序列的XML解析器</h4>
                  <div>
                     <p>示出了用于C的XML解析器的调用序列。</p>
                     <div class="figure" id="GUID-4C2307E5-610E-470C-B1BB-BA81D6D1D9D5__BABCDCDC">
                        <p class="titleinfigure">图5-1 C调用序列的XML解析器</p><img src="img/adxdk096.gif" width="589" alt="下面是图5-1的描述" title="下面是图5-1的描述" longdesc="img_text/adxdk096.html"><br><a href="img_text/adxdk096.html">“图5-1 C调用序列的XML解析器”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADXDK19760"></a><div class="props_rev_3"><a id="GUID-12636E6D-1E3A-4B2C-941E-FF59196FD7DA" name="GUID-12636E6D-1E3A-4B2C-941E-FF59196FD7DA"></a><h4 id="ADXDK-GUID-12636E6D-1E3A-4B2C-941E-FF59196FD7DA" class="sect4">使用XML Parser for C：Basic Process</h4>
                  <div>
                     <p>描述了使用XML解析器进行C语言的基本过程。</p>
                     <div class="section">
                        <p>在您的应用程序中执行以下步骤</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">XmlCreate()</code>函数初始化解析过程。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</span><div><pre class="pre codeblock"><code>xmlctx * xctx; ...xctx = XmlCreate（＆ecode，（oratext *）“namespace_xctx”，NULL）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>解析输入项，可以是XML文档或字符串缓冲区。</span><div>
                              <p>如果要使用DOM进行语法分析，请调用<code class="codeph">XmlLoadDom()</code>函数。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</p><pre class="pre codeblock"><code>xmldocnode * doc; ...doc = XmlLoadDom（xctx，＆ecode，“file”，DOCUMENT，“validate”，TRUE，“discard_whitespace”，TRUE，NULL）;</code></pre><p>如果要使用SAX进行语法分析，请调用<code class="codeph">XmlLoadSax()</code>函数。以下示例代码片段来自<code class="codeph">SAXNamespace.c</code> ：</p><pre class="pre codeblock"><code>xmlerr ecode; ...ecode = XmlLoadSax（xctx，＆sax_callback，＆sc，“file”，DOCUMENT，“validate”，TRUE，“discard_whitespace”，TRUE，NULL）;</code></pre><p>如果您正在使用pull解析器，那么请包含以下步骤来创建事件上下文并加载要解析的文档：</p><pre class="pre codeblock"><code>evctx = XmlEvCreatePPCtx（xctx，＆xerr，NULL）; XmlEvLoadPPDoc（xctx，evctx，“File”，input_filenames [i]，0，NULL）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>如果您使用的是DOM接口，请包含以下步骤：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用<code class="codeph">XmlLoadDom()</code>函数调用<code class="codeph">XmlDomGetDocElem()</code> 。此步骤调用其他DOM函数，这些函数通常是根据需要输出DOM文档的节点或打印函数。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</p><pre class="pre codeblock"><code>printElements（xctx，XmlDomGetDocElem（xctx，doc））;</code></pre></li>
                                 <li>
                                    <p>调用<code class="codeph">XmlFreeDocument()</code>函数以清除在解析过程中创建的任何数据结构。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</p><pre class="pre codeblock"><code>XmlFreeDocument（xctx，doc）;</code></pre></li>
                              </ul>
                              <p>如果您使用的是SAX界面，请包含以下步骤：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用回调函数处理调用<code class="codeph">XmlLoadSax()</code>的结果，例如：</p><pre class="pre codeblock"><code>xmlsaxcb saxcb = {UserStartDocument，/ *用户自己的回调函数* / UserEndDocument，/ * ...* /}; if（XmlLoadSax（xctx，＆saxcb，NULL，“file”，“some_file.xml”，NULL）！= 0）/ *发生错误* /</code></pre></li>
                                 <li>
                                    <p>注册回调函数。如果不需要，您可以将任何SAX回调函数设置为<code class="codeph">NULL</code> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果您正在使用pull解析器，请使用以下方法迭代事件：</p><pre class="pre codeblock"><code>cur_event = XmlEvNext（evctx）;</code></pre><p>使用Get API获取有关该事件的信息。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">XmlFreeDocument()</code>清理解析期间使用的内存和结构。在调用<code class="codeph">XMLFreeDocument()</code>或<code class="codeph">XMLDestroy()</code>之前，程序不释放为传递给SAX回调的参数或者用DOM解析树存储的节点和数据释放的内存。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</span><div><pre class="pre codeblock"><code>XmlFreeDocument（xctx，doc）;</code></pre><p>返回步骤2或继续下一步。</p>
                              <p>对于pull解析器调用<code class="codeph">XmlEvCleanPPCtx()</code>来释放在解析期间使用的内存和结构。应用程序可以再次调用<code class="codeph">XmlEvLoadPPDoc()</code>来解析另一个文档。或者，它可以调用<code class="codeph">XMLEvDestroyPPCtx()</code>之后不能再次使用pull解析器上下文。
                              </p><pre class="pre codeblock"><code>XmlEvCleanPPCtx（xctx，evctx）; ...XmlEvDestroyPPCtx（xctx，evctx）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">XmlDestroy()</code>终止解析过程。以下示例代码片段来自<code class="codeph">DOMNamespace.c</code> ：</span><div><pre class="pre codeblock"><code>（void）XmlDestroy（xctx）;</code></pre><p>如果线程在初始化和终止之间的调用序列中的某个地方分叉，则应用程序会产生不可预测的行为和结果。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您可以使用内存回调函数<code class="codeph">XML_ALLOC_F</code>和<code class="codeph">XML_FREE_F</code>进行自己的内存分配。如果这样做，则指定两个函数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-XML-parser-for-C.html#GUID-C244DBA6-8578-4224-B21D-CD5FF48B0EEC" title="XML Pull Parser是XML Events接口的一个实现。XML Pull Parser和SAX解析器类似，但是使用Pull Parser，应用程序（使用者）驱动事件，而在SAX中，解析器（生产者）驱动事件。">使用XML Pull Parser for C</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19762"></a><a id="ADXDK19761"></a><div class="props_rev_3"><a id="GUID-247C9003-4689-447B-94B1-1EAAD497C45C" name="GUID-247C9003-4689-447B-94B1-1EAAD497C45C"></a><h4 id="ADXDK-GUID-247C9003-4689-447B-94B1-1EAAD497C45C" class="sect4">为C演示程序运行XML Parser</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/c/</code> （UNIX）和<code class="codeph">%ORACLE_HOME%\xdk\demo\c</code> （Windows）目录包括几个XML应用程序，它们展示了如何使用带有DOM和SAX接口的C语言的XML解析器。
                     </p>
                     <div class="section">
                        <p><a href="using-XML-parser-for-C.html#GUID-247C9003-4689-447B-94B1-1EAAD497C45C__CCHJHGCD" title="描述/ demo / java目录的子目录。">表5-3</a>介绍了演示。
                        </p>
                        <p><code class="codeph">make</code>实用程序编译源文件<span class="italic"><code class="codeph">fileName.c</code></span>以生成演示程序<span class="italic"><code class="codeph">fileName</code></span>和输出文件<span class="italic"><code class="codeph">fileName.out</code></span> 。<span class="italic"><code class="codeph">fileName.std</code></span>是预期的输出。
                        </p>
                        <div class="tblformalwide" id="GUID-247C9003-4689-447B-94B1-1EAAD497C45C__CCHJHGCD">
                           <p class="titleintable">表5-3 C分析器演示</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="C解析器演示" width="100%" border="1" summary="Describes the subdirectories of the /demo/java directory." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="10%" id="d19652e1480">目录</th>
                                    <th align="left" valign="bottom" width="16%" id="d19652e1483">内容</th>
                                    <th align="left" valign="bottom" width="74%" id="d19652e1486">演示</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d19652e1491" headers="d19652e1480 ">
                                       <p><code class="codeph">DOM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d19652e1491 d19652e1483 "><pre class="oac_no_warn" dir="ltr">DOMNamespace.c DOMSample.c FullDom.c FullDom.xml NSExample.xml Traverse.c XPointer.c class.xml cleo.xml pantry.xml</pre></td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1491 d19652e1486 ">
                                       <p>以下演示程序使用DOM API：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DOMNamespace</code>程序使用DOM API的Namespace扩展。它打印出<code class="codeph">NSExample.xml</code>所有元素和属性以及完整的命名空间信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DOMSample</code>程序使用DOM API来显示<span class="italic">Cleopatra</span>的轮廓，即XML元素<code class="codeph">ACT</code>和<code class="codeph">SCENE</code> 。 <code class="codeph">cleo.xml</code>文档包含莎士比亚的<span class="italic">“悲剧的安东尼和克利奥帕特拉”</span>的XML版本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FullDom</code>程序显示完整DOM接口的示例用法。它会执行所有调用。该程序接受<code class="codeph">FullDom.xml</code> ，它显示实体的使用，作为输入。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">Traverse</code>程序显示了DOM迭代器，树步行器和范围的使用。该程序接受<code class="codeph">class.xml</code>文档，该文档描述了大学微积分课程作为输入。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XPointer</code>程序通过在<code class="codeph">pantry.xml</code>定位<code class="codeph">&lt;pantry&gt;</code> <code class="codeph">pantry.xml</code> <code class="codeph">&lt;pantry&gt;</code>元素的子元素来显示XML指针语言的使用。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d19652e1564" headers="d19652e1480 ">
                                       <p><code class="codeph">萨克斯</code></p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d19652e1564 d19652e1483 "><pre class="oac_no_warn" dir="ltr">NSExample.xml SAXNamespace.c SAXSample.c cleo.xml</pre></td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1564 d19652e1486 ">
                                       <p>以下演示程序使用SAX API：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SAXNamespace</code>程序使用SAX API的命名空间扩展。它打印出<code class="codeph">NSExample.xml</code>所有元素和属性以及完整的命名空间信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SAXSample</code>程序使用SAX API显示包含给定单词的游戏<span class="italic">Cleopatra</span>中的所有行。如果您没有指定单词，则使用“死亡”一词。 <code class="codeph">cleo.xml</code>文档包含莎士比亚的<span class="italic">“悲剧的安东尼和克利奥帕特拉”</span>的XML版本。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>您可以在同一目录中找到描述如何在<code class="codeph">README</code>中编译和运行示例程序的文档。基本步骤是：</p>
                        <ol>
                           <li>
                              <p>转到<code class="codeph">$ORACLE_HOME/xdk/demo/c</code>目录（UNIX）或<code class="codeph">%ORACLE_HOME%\xdk\demo\c</code>目录（Windows）。
                              </p>
                           </li>
                           <li>
                              <p>确保按照<a href="getting-started-with-XDK-for-C.html#GUID-8BCD12B3-3D56-4F00-8C2E-B46AA6A428B7" title="描述了与XDK for C组件一起使用所需的UNIX环境变量。">在UNIX</a> <a href="getting-started-with-XDK-for-C.html#GUID-C64E22E0-7FAE-4409-8A04-758F4458F0D9" title="The Windows environment variables required for use with the XDK for C components are described.">上为C环境变量设置XDK</a>和<a href="getting-started-with-XDK-for-C.html#GUID-C64E22E0-7FAE-4409-8A04-758F4458F0D9" title="描述了与XDK for C组件一起使用所需的Windows环境变量。">在Windows上为C环境变量设置XDK中所述设置环境变量</a> 。
                              </p>
                           </li>
                           <li>
                              <p>在系统提示符下运行<code class="codeph">make</code> （UNIX）或<code class="codeph">Make.bat</code> （Windows）。<code class="codeph">make</code>实用程序更改为每个demo子目录并运行<code class="codeph">make</code>来执行此操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>使用<code class="codeph">cc</code>实用程序编译C源文件。例如， <code class="codeph">$ORACLE_HOME/xdk/demo/c/dom</code>目录中的<code class="codeph">Makefile</code>包含以下行：</p><pre class="oac_no_warn" dir="ltr">$（CC）-o DOMSample $（INCLUDE）$ @。c $（LIB）</pre></li>
                                 <li>
                                    <p>运行每个演示程序并将输出重定向到文件。例如， <code class="codeph">$ORACLE_HOME/xdk/demo/c/dom</code>目录中的<code class="codeph">Makefile</code>包含以下行：</p><pre class="oac_no_warn" dir="ltr">。/ DOMSample&gt; DOMSample.out</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>将<code class="codeph">*.std</code>文件与每个程序的<code class="codeph">*.out</code>文件进行比较。<code class="codeph">*.std</code>文件包含每个程序的预期输出。例如， <code class="codeph">DOMSample.std</code>包含运行<code class="codeph">DOMSample</code>的预期输出。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19764"></a><a id="ADXDK19763"></a><div class="props_rev_3"><a id="GUID-D7F8125B-A91C-41FA-A75E-5B9E0C620645" name="GUID-D7F8125B-A91C-41FA-A75E-5B9E0C620645"></a><h4 id="ADXDK-GUID-D7F8125B-A91C-41FA-A75E-5B9E0C620645" class="sect4">使用C XML Parser命令行实用程序</h4>
                  <div>
                     <p><code class="codeph">xml</code>实用程序位于<code class="codeph">$ORACLE_HOME/bin</code> （UNIX）或<code class="codeph">%ORACLE_HOME%\bin</code> （Windows）中，是一个解析XML文档的命令行界面。它检查结构良好和有效性。
                     </p>
                     <div class="section">
                        <p>要使用<code class="codeph">xml</code> ，请确保按照<a href="getting-started-with-XDK-for-C.html#GUID-8BCD12B3-3D56-4F00-8C2E-B46AA6A428B7" title="描述了与XDK for C组件一起使用所需的UNIX环境变量。">在UNIX</a> <a href="getting-started-with-XDK-for-C.html#GUID-C64E22E0-7FAE-4409-8A04-758F4458F0D9" title="The Windows environment variables required for use with the XDK for C components are described.">上为C环境变量设置XDK</a>和<a href="getting-started-with-XDK-for-C.html#GUID-C64E22E0-7FAE-4409-8A04-758F4458F0D9" title="描述了与XDK for C组件一起使用所需的Windows环境变量。">在Windows上为C环境变量设置XDK中所述设置环境</a> 。
                        </p>
                        <p>在命令行上使用此语法来调用<code class="codeph">xml</code> 。使用<code class="codeph">xml.exe</code> for Windows：</p><pre class="oac_no_warn" dir="ltr">xml [options] [document URI] xml -f [options] [document filespec]</pre><p><a href="using-XML-parser-for-C.html#GUID-D7F8125B-A91C-41FA-A75E-5B9E0C620645__G1016893" title="此表描述命令行选项。选项和描述是列。">表5-4说明</a>了命令行选项。
                        </p>
                        <div class="tblformal" id="GUID-D7F8125B-A91C-41FA-A75E-5B9E0C620645__G1016893">
                           <p class="titleintable">表5-4 C XML Parser命令行选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="C XML Parser命令行选项" width="100%" border="1" summary="This table describes the command-line options. Option and Description are the columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d19652e1821">选项</th>
                                    <th align="left" valign="bottom" width="74%" id="d19652e1824">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1829" headers="d19652e1821 ">
                                       <p><code class="codeph">-B</code> BaseURI</p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1829 d19652e1824 ">
                                       <p>设置XSLT处理器的基URI。碱的URI <code class="codeph">http://pqr/xsl.txt</code>解析<code class="codeph">pqr.txt</code>到<code class="codeph">http://pqr/pqr.txt</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1847" headers="d19652e1821 ">
                                       <p><code class="codeph">-C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1847 d19652e1824 ">
                                       <p>检查格式良好，但不执行验证。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1855" headers="d19652e1821 ">
                                       <p><code class="codeph">-e</code> <span class="italic"><code class="codeph">encoding</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1855 d19652e1824 ">
                                       <p>指定默认输入文件编码（“incoding”）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1866" headers="d19652e1821 ">
                                       <p><code class="codeph">-E</code> <span class="italic"><code class="codeph">encoding</code></span> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1866 d19652e1824 ">
                                       <p>指定DOM / SAX编码（“outcoding”）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1879" headers="d19652e1821 ">
                                       <p><code class="codeph">-f</code> <span class="italic"><code class="codeph">file</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1879 d19652e1824 ">
                                       <p>将文件解释为filespec，而不是URI。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1891" headers="d19652e1821 ">
                                       <p><code class="codeph">-G</code> <span class="italic"><code class="codeph">xptr_exprs</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1891 d19652e1824 ">
                                       <p>评估文件中给出的<code class="codeph">XPointer</code>方案示例。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1906" headers="d19652e1821 ">
                                       <p><code class="codeph">-H</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1906 d19652e1824 ">
                                       <p>显示使用帮助和命令行选项的基本列表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1914" headers="d19652e1821 ">
                                       <p><code class="codeph">-hh</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1914 d19652e1824 ">
                                       <p>显示完整的列表命令行选项。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1922" headers="d19652e1821 ">
                                       <p><code class="codeph">-i</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1922 d19652e1824 ">
                                       <p>指定迭代<code class="codeph">XSLT</code>处理的次数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1936" headers="d19652e1821 ">
                                       <p><code class="codeph">-l</code> <span class="italic"><code class="codeph">language</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1936 d19652e1824 ">
                                       <p>指定错误报告的语言。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1948" headers="d19652e1821 ">
                                       <p><code class="codeph">-n</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1948 d19652e1824 ">
                                       <p>遍历DOM并报告元素数量，如此示例输出中所示：</p><pre class="oac_no_warn" dir="ltr">ELEMENT 1 PCDATA 1 DOC 1 TOTAL 3 * 60 = 180</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1959" headers="d19652e1821 ">
                                       <p><code class="codeph">-o</code> <span class="italic"><code class="codeph">XSLoutfile</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1959 d19652e1824 ">
                                       <p>指定<code class="codeph">XSLT</code>处理器的输出文件。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1973" headers="d19652e1821 ">
                                       <p><code class="codeph">-p</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1973 d19652e1824 ">
                                       <p>在解析后打印文档/ DTD结构。例如，根元素<code class="codeph">&lt;greeting&gt;hello&lt;/greeting&gt;</code>打印为：</p><pre class="oac_no_warn" dir="ltr">+ --- ELEMENT greeting + --- PCDATA“你好”</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1986" headers="d19652e1821 ">
                                       <p><code class="codeph">-P</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1986 d19652e1824 ">
                                       <p>从根元素打印文档。例如，根元素<code class="codeph">&lt;greeting&gt;hello&lt;/greeting&gt;</code>打印为：</p><pre class="oac_no_warn" dir="ltr">&lt;问候&gt;你好&lt;/问候&gt;</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e1999" headers="d19652e1821 ">
                                       <p><code class="codeph">-PP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e1999 d19652e1824 ">
                                       <p>从根节点（DOC）打印并包含XML声明。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2007" headers="d19652e1821 ">
                                       <p><span class="italic"><code class="codeph">-PE编码</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2007 d19652e1824 ">
                                       <p>指定<code class="codeph">-P</code>或<code class="codeph">-PP</code>输出的编码。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2022" headers="d19652e1821 ">
                                       <p><code class="codeph">-PX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2022 d19652e1824 ">
                                       <p>在输出中包含XML声明。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2030" headers="d19652e1821 ">
                                       <p><code class="codeph">-s</code> <span class="italic"><code class="codeph">stylesheet</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2030 d19652e1824 ">
                                       <p>指定<code class="codeph">XSLT</code>样式表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2044" headers="d19652e1821 ">
                                       <p><code class="codeph">-v</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2044 d19652e1824 ">
                                       <p>显示XDK解析器版本，然后退出。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2052" headers="d19652e1821 ">
                                       <p><code class="codeph">-V</code> <span class="italic"><code class="codeph">var value</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2052 d19652e1824 ">
                                       <p>测试<code class="codeph">CXSLT</code>顶级变量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2066" headers="d19652e1821 ">
                                       <p><code class="codeph">-w</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2066 d19652e1824 ">
                                       <p>保留所有空白区域。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2074" headers="d19652e1821 ">
                                       <p><code class="codeph">-W</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2074 d19652e1824 ">
                                       <p>警告后停止解析。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d19652e2083" headers="d19652e1821 ">
                                       <p><code class="codeph">-X</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d19652e2083 d19652e1824 ">
                                       <p>练习SAX界面并打印文档，如以下示例输出所示：</p><pre class="oac_no_warn" dir="ltr">StartDocument XMLDECL version ='1.0'encoding = FALSE &lt;greeting&gt;“hello”&lt;/ greeting&gt; EndDocument</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADXDK19766"></a><a id="ADXDK19767"></a><a id="ADXDK19765"></a><div class="props_rev_3"><a id="GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445" name="GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445"></a><h5 id="ADXDK-GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445" class="sect5">使用XML Parser命令行实用程序：示例</h5>
                     <div>
                        <p>您可以使用位于<code class="codeph">$ORACLE_HOME/xdk/demo/c</code>的各种XML文件来测试<code class="codeph">xml</code>文档。
                        </p>
                        <div class="section">
                           <p> <a href="using-XML-parser-for-C.html#GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445__BGBFHECI">例5-1</a>显示了<code class="codeph">NSExample.xml</code>的内容。
                           </p>
                           <p>您可以解析此文件，计算元素数量，并显示DOM树，如下例所示：</p><pre class="pre codeblock"><code>xml -np NSEample.xml&gt; xml.out</code></pre><p><a href="using-XML-parser-for-C.html#GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445__GUID-D6CBD9FF-F2C6-452A-9C86-BA2C70A5973D">例5-2</a>显示了输出。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445__BGBFHECI">
                           <p class="titleinexample">例5-1 NSExample.xml</p><pre class="pre codeblock"><code>&lt;！DOCTYPE doc [&lt;！ELEMENT doc（孩子*）&gt; &lt;！ATTLIST doc xmlns：nsprefix CDATA #IMPLIED&gt; &lt;！ATTLIST doc xmlns CDATA #IMPLIED&gt; &lt;！ATTLIST doc nsfix：a1 CDATA #IMPLIED&gt; &lt;！ELEMENT子（#PCDATA）&gt;]&gt; &lt;doc nsprefix：a1 =“v1”xmlns =“http://www.w3c.org”xmlns：nsprefix =“http://www.oracle.com”&gt; &lt;child&gt;此元素继承doc的默认命名空间。&lt;/ child&gt; &lt;/ doc&gt;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-60CB9C7B-A2E9-4BAC-8A3C-9591230C9445__GUID-D6CBD9FF-F2C6-452A-9C86-BA2C70A5973D">
                           <p class="titleinexample">例5-2 xml.out</p><pre class="pre codeblock"><code>ELEMENT 2 PCDATA 1 DOC 1 DTD 1 ELEMDECL 2 ATTRDECL 3 TOTAL 10 * 112 = 1120 + --- ELEMENT doc [nsprefix：a1 ='v1'*，xmlns ='http：//www.w3c.org'*,xmlns ：nsprefix ='http：//www.oracle.com'*] + --- ELEMENT child + --- PCDATA“此元素继承了doc的默认命名空间。“</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK1037"></a><a id="ADXDK19768"></a><div class="props_rev_3"><a id="GUID-0C749FC8-C0B3-41AF-9382-82F0E4FC3BEF" name="GUID-0C749FC8-C0B3-41AF-9382-82F0E4FC3BEF"></a><h3 id="ADXDK-GUID-0C749FC8-C0B3-41AF-9382-82F0E4FC3BEF" class="sect3">使用DOM API for C</h3>
               <div>
                  <p>这里的主题包括控制XML文档的编码，使用NULL终止和长度编码的函数，以及处理错误。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div><a id="ADXDK19769"></a><div class="props_rev_3"><a id="GUID-8C9F7915-889D-417F-8E6A-3118AD8C883B" name="GUID-8C9F7915-889D-417F-8E6A-3118AD8C883B"></a><h4 id="ADXDK-GUID-8C9F7915-889D-417F-8E6A-3118AD8C883B" class="sect4">控制C API的XML文档的数据编码</h4>
                  <div>
                     <p>XML数据以许多编码形式出现。您可以通过各种方式控制XML编码。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为非自描述文件指定默认编码</p>
                           </li>
                           <li>
                              <p>指定DOM或SAX的表示编码</p>
                           </li>
                           <li>
                              <p>在序列化DOM时重新编码</p>
                           </li>
                        </ul>
                        <p>输入XML数据始终是编码的。某些编码完全是自描述的，例如Unicode（UTF-16）的16位编码，它需要在实际数据开始之前使用特定的字节顺序标记（BOM）。<code class="codeph">XMLDecl</code>或多用途Internet邮件扩展（MIME）标头也可以指定编码。如果应用程序无法确定特定编码，则它应用默认输入编码。如果您未提供默认值，则应用程序在ASCII平台上采用UTF-8，在EBCDIC平台上采用UTF-EBCDIC。
                        </p>
                        <p>API为输入文档的编码数据损坏时的情况提供了条件。例如，假设具有<code class="codeph">encoding=ascii</code>的<code class="codeph">XMLDecl</code>的ASCII文档被盲目地转换为EBCDIC。新的EBCDIC文档包含（在EBCDIC中）一个错误地声称该文档是ASCII的<code class="codeph">XMLDecl</code> 。重新编码XML数据的程序的正确行为是重新生成但不转换<code class="codeph">XMLDecl</code> 。<code class="codeph">XMLDecl</code>是元数据，而不是数据本身。但是，此规则通常会被忽略，从而导致文档损坏。为了解决这个问题，API提供了一个额外的标志，使您能够强制设置输入编码，从而克服不正确的<code class="codeph">XMLDecl</code> 。
                        </p>
                        <p>确定输入编码的优先规则是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>用户指定的强制编码</span><div>
                              <div class="infoboxnote" id="GUID-8C9F7915-889D-417F-8E6A-3118AD8C883B__GUID-6E34C31E-0805-4430-B307-A0C0686AA8CC">
                                 <p class="notep1">注意：</p>
                                 <p>如果存在冲突，强制编码可能会导致致命错误。例如，输入文档是UTF-16并以UTF-16 BOM开头，但用户指定强制UTF-8编码。在这种情况下，解析器会对冲突进行对象。</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>协议规范（HTTP标头等）</span></li>
                        <li class="stepexpand"><span><code class="codeph">XMLDecl</code>规范</span></li>
                        <li class="stepexpand"><span>用户的默认输入编码</span></li>
                        <li class="stepexpand"><span>默认值，即ASCII平台上的UTF-8或EBCDIC平台上的UTF-E</span></li>
                     </ol>
                     <div class="section">
                        <p>应用程序确定输入编码后，它可以解析文档并显示数据。您可以选择演示文稿编码;无论原始输入编码如何，数据都处于该编码状态。</p>
                        <p>当应用程序以序列化形式回写DOM时，它可以选择在那时重新编码表示数据。因此，您可以将序列化文档放在任何编码中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19771"></a><a id="ADXDK19770"></a><div class="props_rev_3"><a id="GUID-ABFE98DC-EB47-4733-BF8F-C3371FA30646" name="GUID-ABFE98DC-EB47-4733-BF8F-C3371FA30646"></a><h4 id="ADXDK-GUID-ABFE98DC-EB47-4733-BF8F-C3371FA30646" class="sect4">使用NULL终止和长度编码的C API函数</h4>
                  <div>
                     <p>C中的本机字符串表示以null结尾。因此，主DOM接口接受并返回以null结尾的字符串。但是，以表格形式存储时，Oracle XML DB数据<span class="italic">不是以</span>空值终止的，而是经过<span class="italic">长度编码的</span> 。因此，XDK为高频情况提供了一组额外的长度编码API，以提高性能。
                     </p>
                     <p>特别是， <a href="using-XML-parser-for-C.html#GUID-ABFE98DC-EB47-4733-BF8F-C3371FA30646__CCHBCCCF" title="此表列出了NULL终止和长度编码的C API函数。NULL-Terminated API和Length-Encoded API是列。">表5-5中</a>的DOM函数具有双API。</p>
                     <div class="tblformal" id="GUID-ABFE98DC-EB47-4733-BF8F-C3371FA30646__CCHBCCCF">
                        <p class="titleintable">表5-5 NULL终止和长度编码的C API函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="NULL终止和长度编码的C API函数" width="100%" border="1" summary="This table lists NULL-Terminated and Length-Encoded C API Functions. NULL-Terminated API and Length-Encoded  API are the columns." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d19652e2530">NULL终止的API</th>
                                 <th align="left" valign="bottom" width="55%" id="d19652e2533">长度编码的API</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2538" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetNodeName（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2538 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetNodeNameLen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2547" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetNodeLocal（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2547 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetNodeLocalLen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2556" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetNodeURI（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2556 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetNodeURILen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2565" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetNodeValue（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2565 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetNodeValueLen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2574" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetAttrName（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2574 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetAttrNameLen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2583" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetAttrLocal（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2583 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetAttrLocalLen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2592" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetAttrURI（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2592 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetAttrURILen（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d19652e2601" headers="d19652e2530 ">
                                    <p><code class="codeph">XmlDomGetAttrValue（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d19652e2601 d19652e2533 ">
                                    <p><code class="codeph">XmlDomGetAttrValueLen（）</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADXDK19772"></a><div class="props_rev_3"><a id="GUID-462C7E68-35A3-4CD9-A767-B0F900E92BE8" name="GUID-462C7E68-35A3-4CD9-A767-B0F900E92BE8"></a><h4 id="ADXDK-GUID-462C7E68-35A3-4CD9-A767-B0F900E92BE8" class="sect4">使用C API处理错误</h4>
                  <div>
                     <p>C API函数通常返回一个数字错误代码（0表示成功，非零表示失败），或者通过变量传回错误代码。在所有情况下，API都会存储错误代码。您的应用程序可以通过调用<code class="codeph">XmlDomGetLastError()</code>函数来检索最新的错误。
                     </p>
                     <div class="section">
                        <p>默认情况下，函数将错误消息输出到<code class="codeph">stderr</code> 。但是，您可以在初始化时注册错误消息回调。发生错误时，应用程序将调用已注册的回调并且不会输出错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADXDK99935"></a><a id="ADXDK99918"></a><div class="props_rev_3"><a id="GUID-B36E81CE-DD87-4619-B308-708175CCDD0B" name="GUID-B36E81CE-DD87-4619-B308-708175CCDD0B"></a><h3 id="ADXDK-GUID-B36E81CE-DD87-4619-B308-708175CCDD0B" class="sect3">使用orastream函数</h3>
               <div>
                  <p>orastream函数API是一个接口，使您能够从节点中流出大块数据，而不是将其全部整合在一起。因此可访问大于64 KB的节点。</p>
                  <div class="section">
                     <p>orastream API表示通用输入或输出流。该接口可通过<code class="codeph">xml.h</code>由XDK用户使用，并由<code class="codeph">orastream</code>数据结构和一组实现该接口的函数定义。流的创建者将流功能地址列表以及流上下文传递给<code class="codeph">OraStreamInit</code> 。此函数返回<code class="codeph">orastream</code>结构的实例。
                     </p>
                     <p>初始化时指定了几个流属性。如果提供了读或写，则流使用<code class="codeph">OraStreamRead()</code>和<code class="codeph">OraStreamWrite()</code>以字节模式运行。如果提供“read_char”或“write_char”，则流使用<code class="codeph">OraStreamReadChar()</code>和<code class="codeph">OraStreamWriteChar()</code>以字符模式运行。在字符模式下，只读取或写入完整字符，并且永远不会在缓冲区边界上拆分。
                     </p>
                     <p>流上下文用于表示orastream的状态，并且它在流的生存期内持续存在。</p>
                     <p>就像Java中的输入或输出流一样，始终指定数据的源或接收器。输出流存储外部流或对象的地址，它们必须填充数据。类似地，输入流存储读取的对象的地址。</p>
                     <p>以下是orastream功能：</p><pre class="oac_no_warn" dir="ltr">结构orastream; typedef struct orastream orastream; typedef ub4 oraerr; / *错误代码：零是成功，非零是失败* /</pre><pre class="oac_no_warn" dir="ltr">/ *初始化（创建）和销毁（终止）流对象* / orastream * OraStreamInit（void * sctx，void * sid，oraerr * err，...）; oraerr OraStreamTerm（orastream * stream）; / *设置或更改流的SID（streamID）（通过osid返回旧的流ID）* / oraerr OraStreamSid（orastream * stream，void * sid，void ** osid）; / *流是可读还是可写？* / boolean OraStreamReadable（orastream * stream）; boolean OraStreamWritable（orastream * stream）; / *打开和关闭流* / oraerr OraStreamOpen（orastream * stream，ubig_ora * length）; oraerr OraStreamClose（orastream * stream）; / *阅读|写字节流* / oraerr OraStreamRead（orastream * stream，oratext * dest，ubig_ora size，oratext ** start，ubig_ora * nread，ub1 * eoi）; oraerr OraStreamWrite（orastream * stream，oratext * src，ubig_ora size，ubig_ora * nwrote）; / *阅读|写字符串* / oraerr OraStreamReadChar（orastream * stream，oratext * dest，ubig_ora size，oratext ** start，ubig_ora * nread，ub1 * eoi）; oraerr OraStreamWriteChar（orastream * stream，oratext * src，ubig_ora size，ubig_ora * nwrote）; / *返回句点* * orastreamhdl * OraStreamHandle（orastream * stream）; / *返回状态：如果流对象当前是否打开* / boolean OraStreamIsOpen（orastream * stream）;</pre><p>流错误代码是：</p><pre class="oac_no_warn" dir="ltr">#define ORASTREAM_ERR_NULL_POINTER 1 / *给出空指针* / #define ORASTREAM_ERR_BAD_STREAM 2 / *无效流对象* / #define ORASTREAM_ERR_WRONG_DECTION 3 / *尝试错误方向I / O * / #define ORASTREAM_ERR_UNKNOWN_PROPERTY 4 / *未知创建道具* / #define ORASTREAM_ERR_NO_DIRECTION 5 / *既不读也不写？* / #define ORASTREAM_ERR_BI_DIRECTION 6 / *都读取任何写入？* / #define ORASTREAM_ERR_NOT_OPEN 7 / *流未打开* / #define ORASTREAM_ERR_WRONG_MODE 8 / *写入字节/字符模式* / / * ---打开错误--- * / #define ORASTREAM_ERR_CANT_OPEN 10 / *无法打开流* / / * ---关闭错误--- * / #define ORASTREAM_ERR_CANT_CLOSE 20 / *无法关闭流* /</pre><div class="infoboxnotealso" id="GUID-B36E81CE-DD87-4619-B308-708175CCDD0B__GUID-A39B7D88-BB54-490A-A7C1-B6A327B1FC53">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../caxml/package-Orastream-API.html#CAXML01400" target="_blank"><span><cite>Oracle Database XML C API参考，</cite></span></a>用于参考信息，例如orastream API中的参数定义</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B36E81CE-DD87-4619-B308-708175CCDD0B__GUID-C03C7044-B5BF-4362-9F13-A1CD877C0ED2">
                     <p class="titleinexample">例5-3使用orastream函数</p><pre class="oac_no_warn" dir="ltr">int test_read（）{xmlctx * xctx = NULL; oratext * barray，* docName =“NSExample.xml”; orastream * ostream =（orastream *）0; xmlerr ecode = 0; ub4 wcount = 0; ubig_ora destsize，nread; oraerr oerr = 0; ub1 eoi = 0; nread = destsize = 1024;如果（！（xctx = XmlCreateNew（＆ecode，（oratext *）“stream_xctx”，NULL，wcount，NULL）））{printf（“无法创建XML上下文，错误％u \ n”，（unsigned）ecode）;返回-1; } barray = XmlAlloc（xctx，sizeof（oratext）* destsize）;应指定/ * open函数以便正确读取。* / if（！（ostream = OraStreamInit（NULL，docName，（oraerr *）＆ecode，“open”，fileopen，“read”，fileread，NULL）））{printf（“无法初始化OrsStream，错误％u \ n”，（unsigned）ecode ）;返回-1; } / *检查可读和可写* / if（OraStreamReadable（ostream））printf（“ostream是可读的\ n”）; else printf（“ostream不可读\ n”）; if（OraStreamWritable（ostream））printf（“ostream是可写的\ n”）; else printf（“ostream不可写\ n”）; if（oerr = OraStreamRead（ostream，barray，destsize，＆barray，＆nread，＆eoi））{printf（“因orastream而未能阅读，错误％u \ n”，oerr）; } / * open orastream * / OraStreamOpen（ostream，NULL）; / *阅读文档* / OraStreamRead（ostream，barray，destsize，＆barray，＆nread，＆eoi）; OraStreamTerm（ostream的）; XmlDestroy（xctx）;返回0; ORASTREAM_OPEN_F（fileopen，sctx，sid，hdl，length）{FILE * fh = NULL; printf（“打开orastream％s ... \ n”，（oratext *）sid）; if（sid &amp;&amp;（（fh = fopen（sid，“r”））！= NULL））{printf（“打开orastream％s ... \ n”，（oratext *）sid）; } else {printf（“无法打开输入文件。\ n”）;返回-1; } / *一般存储文件句柄，NULL表示stdout * / hdl-&gt; ptr_orastreamhdl = fh;返回XMLERR_OK; } ORASTREAM_READ_F（fileread，sctx，sid，hdl，dest，size，start，nread，eoi）{FILE * fh = NULL; int i = 0; printf（“阅读orastream％s ... \ n”，（oratext *）sid）; //将数据从文件读取到dest if（（fh =（FILE *）hdl-&gt; ptr_orastreamhdl）！= NULL）* nread = fread（dest，1，size，fh）; printf（“从orastream读取％d个字节...... \ n”，（int）* nread）; * eoi =（* nread &lt;size）; if（start）* start = dest; printf（“打印文件...... \ n”）; for（i = 0; i &lt;* nread; i ++）printf（“％c”，（char）dest [i]）; printf（“\ nend ... \ n”）;返回ORAERR_OK; }</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADXDK19773"></a><div class="props_rev_3"><a id="GUID-34FE324C-DF9F-4FE7-B2EF-48FE4FB38B6E" name="GUID-34FE324C-DF9F-4FE7-B2EF-48FE4FB38B6E"></a><h3 id="ADXDK-GUID-34FE324C-DF9F-4FE7-B2EF-48FE4FB38B6E" class="sect3">使用SAX API for C</h3>
               <div>
                  <p>要使用SAX，请使用函数指针初始化<code class="codeph">xmlsaxcb</code>结构并将其传递给<code class="codeph">XmlLoadSax()</code> 。您还可以包含指向用户定义的上下文结构的指针，并将其传递给每个SAX函数。
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-34FE324C-DF9F-4FE7-B2EF-48FE4FB38B6E__GUID-883F4A36-85D5-40CA-B3D1-BCD12F56ED17">
                        <p class="notep1">也可以看看：</p>
                        <p>SAX回调结构的<a href="../caxml/package-SAX-API.html#CAXML5908" target="_blank"><span><cite>Oracle Database XML C API参考</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADXDK1038"></a><a id="ADXDK1410"></a><div class="props_rev_3"><a id="GUID-C244DBA6-8578-4224-B21D-CD5FF48B0EEC" name="GUID-C244DBA6-8578-4224-B21D-CD5FF48B0EEC"></a><h3 id="ADXDK-GUID-C244DBA6-8578-4224-B21D-CD5FF48B0EEC" class="sect3">使用XML Pull Parser for C</h3>
               <div>
                  <p>XML Pull Parser是XML Events接口的一个实现。XML Pull Parser和SAX解析器类似，但是使用Pull Parser，应用程序（使用者）驱动事件，而在SAX中，解析器（生产者）驱动事件。</p>
                  <div class="section">
                     <p>XML Pull Parser和SAX都将文档表示为一系列事件，包括开始标记，结束标记和注释。XML Pull Parser通过公开一组简单的API和一组基础事件来控制应用程序。诸如<code class="codeph">XmlEvNext</code>方法允许应用程序请求（或拉取）下一个事件，而不是像在SAX中那样在回调中处理事件。因此，应用程序对XML处理具有更多的程序控制。此外，与解析整个文档的SAX应用程序不同，应用程序可以决定停止进一步处理。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div><a id="ADXDK19774"></a><div class="props_rev_3"><a id="GUID-9440C355-936A-44ED-99A9-80B49758D000" name="GUID-9440C355-936A-44ED-99A9-80B49758D000"></a><h4 id="ADXDK-GUID-9440C355-936A-44ED-99A9-80B49758D000" class="sect4">使用Basic XML Pull Parsing功能</h4>
                  <div>
                     <p>描述了使用XML Pull Parser所需的步骤。</p>
                     <ol>
                        <li class="stepexpand"><span>调用<code class="codeph">XmlCreate</code>以初始化XML元上下文。</span></li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">XmlEvCreatePPCtx</code>函数初始化Pull Parser上下文，该函数创建并返回事件上下文。</span><div>
                              <p><code class="codeph">XmlEvCreatePPCtx</code>函数支持<code class="codeph">XmlLoadDom</code>和<code class="codeph">XmlLoadSax</code>支持的所有属性，以及一些其他属性。
                              </p>
                              <p><code class="codeph">XmlEvCreatePPCtx</code>和<code class="codeph">XmlEvCreatePPCtxVA</code>函数已完全实现。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>确保将事件上下文传递给Pull Parser的所有后续调用。</span></li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">XmlEvDestoryPPCtx</code>函数终止Pull Parser上下文来清理内存。</span></li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">XmlDestoryCtx</code>函数来销毁XML元上下文。</span></li>
                     </ol>
                  </div><a id="ADXDK19776"></a><a id="ADXDK19775"></a><div class="props_rev_3"><a id="GUID-DC1CF9B5-DCD1-4743-950B-EDBFD9E5ABEF" name="GUID-DC1CF9B5-DCD1-4743-950B-EDBFD9E5ABEF"></a><h5 id="ADXDK-GUID-DC1CF9B5-DCD1-4743-950B-EDBFD9E5ABEF" class="sect5">XML事件上下文</h5>
                     <div>
                        <p>显示了XML事件上下文结构。</p>
                        <div class="example" id="GUID-DC1CF9B5-DCD1-4743-950B-EDBFD9E5ABEF__CCHJDIHJ">
                           <p class="titleinexample">示例5-4 XML事件上下文</p><pre class="pre codeblock"><code>typedef struct {void * ctx_xmlevctx; / *实现特定上下文* / xmlevdisp * disp_xmlevctx; / * dispatch table * / ub4 checkword_xmlevctx; / * checkword for integrity check * / ub4 flags_xmlevctx; / *模式;默认值：expand_entity * / struct xmlevctx * input_xmlevctx; / *输入xmlevctx;链接XML事件上下文* /} xmlevctx;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADXDK19777"></a><div class="props_rev_3"><a id="GUID-60864BD6-729A-409C-B06E-D5454040A0B3" name="GUID-60864BD6-729A-409C-B06E-D5454040A0B3"></a><h5 id="ADXDK-GUID-60864BD6-729A-409C-B06E-D5454040A0B3" class="sect5">关于XML事件上下文</h5>
                     <div>
                        <p>允许每个XML Pull Parser创建自己的上下文并实现自己的API函数。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>派遣表</p>
                              <p>除了<code class="codeph">XmlEvCreatePPCtx</code> ， <code class="codeph">XmlEvCreatePPCtxVA</code> ， <code class="codeph">XmlEvDestoryPPCtx</code> ， <code class="codeph">XmlEvLoadPPDoc</code>和<code class="codeph">XmlEvCleanPPCtx</code>函数之外，调度表<code class="codeph">disp_xmlevctx</code>包含每个API函数的一个指针。
                              </p>
                              <p>创建事件上下文时，将使用该静态表的地址初始化指针<code class="codeph">disp_xmlevctx</code> 。
                              </p>
                           </li>
                           <li>
                              <p>特定于实现的事件上下文</p>
                              <p>必须使用特定于此特定实现的调用的上下文的地址初始化字段<code class="codeph">ctx_xmlevctx</code> 。特定于实现的事件上下文的类型为<code class="codeph">*void</code> ，因此它可以针对不同的应用程序而有所不同。
                              </p>
                           </li>
                           <li>
                              <p>输入事件上下文</p>
                              <p>每个Pull Parser都可以指定输入事件上下文<code class="codeph">xmlevctx</code> 。此字段使解析器能够链接多个事件生成器。因此，如果在上下文中将调度函数指定为<code class="codeph">NULL</code> ，则应用程序将使用输入事件上下文链中的下一个非空调度函数。基本<code class="codeph">xmlevctx</code>必须确保所有调度函数指针都为非null。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADXDK19778"></a><div class="props_rev_3"><a id="GUID-75020C67-9F3A-46DA-81C9-08CA086135E8" name="GUID-75020C67-9F3A-46DA-81C9-08CA086135E8"></a><h4 id="ADXDK-GUID-75020C67-9F3A-46DA-81C9-08CA086135E8" class="sect4">解析多个XML文档</h4>
                  <div>
                     <p>在创建和初始化XML事件上下文之后，应用程序可以使用<code class="codeph">XmlEvLoadPPDoc</code>和<code class="codeph">XmlEvCleanPPCtx</code>重复调用来解析多个文档。
                     </p>
                     <div class="section">
                        <p>在每次调用<code class="codeph">XmlLoadPPDoc</code>函数时，无法更改应用程序在XML事件上下文创建期间定义的属性。要更改属性，请销毁事件上下文，然后重新创建它。
                        </p>
                        <p>在<code class="codeph">XmlEvCleanPPCtx</code>清除当前解析器的内部结构之后，可以重用事件上下文来解析另一个文档。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19780"></a><a id="ADXDK19781"></a><a id="ADXDK19782"></a><a id="ADXDK19779"></a><div class="props_rev_3"><a id="GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE" name="GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE"></a><h4 id="ADXDK-GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE" class="sect4">ID回拨</h4>
                  <div>
                     <p>您可以提供回调以将基于文本的名称转换为8字节标识符（ID）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE__GUID-0143E44D-3A5F-4A52-948B-74767635184B">回调函数签名</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">typedef sb8（* xmlev_id_cb_funcp）（void * ctx，ub1 type，ub1 * token，ub4 tok_len，sb8 nmspid，boolean isAttribute）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE__GUID-E631A425-2160-4FAD-853D-AC9748E7D519">回报价值</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">sb8</code> ：一个8字节的ID。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-48E4B443-A445-4BAA-9A5F-11096A355BFE__GUID-018164CB-A939-4A4E-ACAE-7B50251EFFB4">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>* <code class="codeph">ctx</code> ：实现上下文。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">type</code> ：类型，由此枚举指示：</p><pre class="oac_no_warn" dir="ltr">typedef enum {XML_EVENT_ID_URI，XML_EVENT_ID_QNAME，} xmlevidtype;</pre></li>
                           <li>
                              <p>* <code class="codeph">token</code>和<code class="codeph">tok_len</code> ：要转换的实际文本。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">nmspid</code> ：命名空间ID。</p>
                           </li>
                           <li>
                              <p><code class="codeph">isAttribute</code> ：指示属性的布尔值。
                              </p>
                           </li>
                        </ul>
                        <p>在内部， <code class="codeph">XmlEvGetTagId</code>和<code class="codeph">XmlEvGetAttrID</code> API两次调用此回调，一次获取命名空间ID，一次获取标记的实际ID或属性<code class="codeph">Qname</code> 。
                        </p>
                        <p><code class="codeph">XmlEvGetTagUriID</code>和<code class="codeph">XmlEvGetAttrUriID</code>函数调用此回调一次以获取相应的<code class="codeph">XmlEvGetTagUriID</code>资源标识符（URI）的ID。
                        </p>
                        <p>如果未提供回调，则在使用这些API时会返回错误<code class="codeph">XML_ERR_EVENT_NOIDCBK</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19783"></a><div class="props_rev_3"><a id="GUID-D17D4D58-50E4-4C6E-BA79-91E5F196F04C" name="GUID-D17D4D58-50E4-4C6E-BA79-91E5F196F04C"></a><h4 id="ADXDK-GUID-D17D4D58-50E4-4C6E-BA79-91E5F196F04C" class="sect4">XML Pull Parser的错误处理</h4>
                  <div>
                     <p>描述了XML Pull Parser的错误处理。</p>
                  </div><a id="ADXDK19784"></a><div class="props_rev_3"><a id="GUID-1D5E95DB-55EE-44A7-8360-D530BEAD6477" name="GUID-1D5E95DB-55EE-44A7-8360-D530BEAD6477"></a><h5 id="ADXDK-GUID-1D5E95DB-55EE-44A7-8360-D530BEAD6477" class="sect5">分析器错误</h5>
                     <div>
                        <p>描述了解析器引发的错误。</p>
                        <p>XML Pull Parser在抛出错误时返回消息<code class="codeph">XML_EVENT_FATAL_ERROR</code> ，因为输入文档格式错误。提供函数<code class="codeph">XmlEvGetError</code>以获取错误号和消息。
                        </p>
                        <p>在<code class="codeph">XmlEvCreatePPCtx</code>操作期间，将覆盖<code class="codeph">XmlCreate</code>期间应用程序提供的任何错误处理程序。应用程序必须在<code class="codeph">XmlEvDestroyPPCtx</code>操作之后调用<code class="codeph">XmlErrSetHandler</code>函数以恢复原始回调。
                        </p>
                     </div>
                  </div><a id="ADXDK19785"></a><div class="props_rev_3"><a id="GUID-A32A6E3E-CA3E-4ED5-9FA3-AFC9DC357331" name="GUID-A32A6E3E-CA3E-4ED5-9FA3-AFC9DC357331"></a><h5 id="ADXDK-GUID-A32A6E3E-CA3E-4ED5-9FA3-AFC9DC357331" class="sect5">编程错误</h5>
                     <div>
                        <p>处理程序错误。XDK提供应用程序在创建事件上下文时可以提供的回调。当应用程序调用非法API时，将调用此回调。</p>
                        <div class="section">
                           <p>回调签名是：</p><pre class="oac_no_warn" dir="ltr">typedef void（* xmlev_err_cb_funcp）（xmlctx * xctx，xmlevctx * evctx，xmlevtype cur_event）;</pre><p>非法API调用的示例是：</p>
                           <p><code class="codeph">XmlEvGetName</code>不能呼吁<code class="codeph">XML_EVENT_CHARACTERS</code>事件。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADXDK19788"></a><a id="ADXDK19790"></a><a id="ADXDK19792"></a><a id="ADXDK19786"></a><div class="props_rev_3"><a id="GUID-DAE9B130-2651-403C-8442-A71634C12312" name="GUID-DAE9B130-2651-403C-8442-A71634C12312"></a><h4 id="ADXDK-GUID-DAE9B130-2651-403C-8442-A71634C12312" class="sect4">样本拉分析器应用程序</h4>
                  <div>
                     <p>提供了示例拉解析器应用程序，要解析的文档以及应用程序从文档生成的事件列表。</p>
                     <p><a href="using-XML-parser-for-C.html#GUID-DAE9B130-2651-403C-8442-A71634C12312__BABCJHAB">例5-5</a>显示了示例应用程序代码。
                     </p>
                     <p><a href="using-XML-parser-for-C.html#GUID-DAE9B130-2651-403C-8442-A71634C12312__BGBCACGI">例5-6</a>显示了要解析的示例文档。
                     </p>
                     <p><a href="using-XML-parser-for-C.html#GUID-DAE9B130-2651-403C-8442-A71634C12312__BGBBEAEB">示例5-7</a>显示了属性events属性为<code class="codeph">FALSE</code>且展开实体属性为<code class="codeph">TRUE</code>时生成的事件序列。</p>
                     <div class="example" id="GUID-DAE9B130-2651-403C-8442-A71634C12312__BABCJHAB">
                        <p class="titleinexample">例5-5 Sample Pull Parser应用程序示例</p><pre class="oac_no_warn" dir="ltr">#include“xml.h”#include“xmlev.h”......xmlctx * xctx; xmlevctx * evtcx;如果（！（xctx = XmlCreate（＆xerr，（oratext *）“test”）））{printf（“无法创建XML上下文，错误％u \ n”，（unsigned）xerr）;返回-1; } ...如果（！（evctx = XmlEvCreatePPCtx（xctx，＆xerr，NULL）））{printf（“无法创建EVENT上下文，错误％u \ n”，（无符号）xerr）;返回-1; } for（i = 0; i &lt;numDocs; i ++）{if（xerr = XmlEvLoadPPDoc（xctx，evctx，“file”，input_filenames [i]，0，NULL）{printf（“无法加载文档，错误％u \ n“，（unsigned）xerr）;返回-1;} ...for（;;）{xmlevtype cur_event; cur_event = XmlEvNext（evctx）; switch（cur_event）{case XML_EVENT_FATAL_ERROR：XmlEvGetError（evctx，（oratext **）＆errmsg）; printf（“Error％s \ n”，errmsg）;返回; case XML_EVENT_START_ELEMENT：printf（“&lt;％s&gt;”，XmlEvGetName0（evctx））;打破; case XML_EVENT_END_DOCUMENT：printf（“&lt;％s&gt;”，XmlEvGetName0（evctx））;返回; XmlEvCleanPPCtx（xctx，evctx）; XmlEvDestroyPPCtx（xctx，evctx）; XmlDestroy（xctx）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DAE9B130-2651-403C-8442-A71634C12312__BGBCACGI">
                        <p class="titleinexample">例5-6要解析的示例文档</p><pre class="oac_no_warn" dir="ltr">&lt;！DOCTYPE doc [&lt;！ENTITY ent SYSTEM“file：attendees.txt”&gt; &lt;！ELEMENT doc ANY&gt; &lt;！ELEMENT会议（主题，日期，发布受试者）&gt; &lt;！ELEMENT publishAttendees（#PCDATA）&gt; &lt;！ELEMENT主题（#PCDATA）&gt; &lt;！ELEMENT日期（#PCDATA）&gt;]&gt; &lt;！ - 开始文档 - &gt; &lt;doc&gt; &lt;！ - 有关会议的信息 - &gt; &lt;会议&gt; &lt;主题&gt;小组会议&lt;/ topic&gt; &lt;日期&gt; 4月25日， 2005 &lt;/ date&gt; &lt;publishAttendees&gt;＆ent; &lt;/ publishAttendees&gt; &lt;/ meeting&gt; &lt;/ doc&gt; &lt;！ -  End Document  - &gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DAE9B130-2651-403C-8442-A71634C12312__BGBBEAEB">
                        <p class="titleinexample">示例5-7通过解析示例文档生成的事件</p><pre class="oac_no_warn" dir="ltr">XML_EVENT_START_DOCUMENT XML_EVENT_START_DTD XML_EVENT_PE_DECLARATION XML_EVENT_ELEMENT_DECLARATION XML_EVENT_ELEMENT_DECLARATION XML_EVENT_ELEMENT_DECLARATION XML_EVENT_ELEMENT_DECLARATION XML_EVENT_ELEMENT_DECLARATION XML_EVENT_END_DTD XML_EVENT_COMMENT XML_EVENT_START_ELEMENT XML_EVENT_SPACE XML_EVENT_COMMENT XML_EVENT_SPACE XML_EVENT_START_ELEMENT XML_EVENT_START_ELEMENT XML_EVENT_CHARACTERS XML_EVENT_END_ELEMENT XML_EVENT_START_ELEMENT XML_EVENT_CHARACTERS XML_EVENT_END_ELEMENT XML_EVENT_START_ELEMENT XML_EVENT_START_ENTITY XML_EVENT_CHARACTERS XML_EVENT_END_ENTITY XML_EVENT_END_ELEMENT XML_EVENT_END_ELEMENT XML_EVENT_SPACE XML_EVENT_END_ELEMENT XML_EVENT_COMMENT XML_EVENT_END_DOCUMENT</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADXDK19793"></a><div class="props_rev_3"><a id="GUID-0B3D2810-F81E-4748-9E2B-152865F2A8B3" name="GUID-0B3D2810-F81E-4748-9E2B-152865F2A8B3"></a><h3 id="ADXDK-GUID-0B3D2810-F81E-4748-9E2B-152865F2A8B3" class="sect3">使用OCI和XDK for C API</h3>
               <div>
                  <p>本节介绍如何从Oracle调用接口（OCI）访问CD函数的XDK。</p>
               </div><a id="ADXDK19795"></a><a id="ADXDK19794"></a><div class="props_rev_3"><a id="GUID-0E4FBFA3-1B16-4886-A5B9-A0F5A8FA9693" name="GUID-0E4FBFA3-1B16-4886-A5B9-A0F5A8FA9693"></a><h4 id="ADXDK-GUID-0E4FBFA3-1B16-4886-A5B9-A0F5A8FA9693" class="sect4">使用XMLType函数和描述</h4>
                  <div>
                     <p>您可以在数据库中使用带有<code class="codeph">XMLType</code>列的C API for XML。Oracle调用接口（OCI）程序可以通过初始化OCI句柄的值来访问存储在表中的XML数据。
                     </p>
                     <div class="section">
                        <p>这适用于以下句柄：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>环境处理</p>
                           </li>
                           <li>
                              <p>服务处理</p>
                           </li>
                           <li>
                              <p>错误句柄</p>
                           </li>
                           <li>
                              <p>可选参数</p>
                           </li>
                        </ul>
                        <p>程序可以将这些输入值传递给函数<code class="codeph">OCIXmlDbInitXmlCtx()</code> ，该函数返回XML上下文。程序调用C API后，函数<code class="codeph">OCIXmlDbFreeXmlCtx()</code>释放上下文。
                        </p>
                        <div class="tblformal" id="GUID-0E4FBFA3-1B16-4886-A5B9-A0F5A8FA9693__CCHBDJDE">
                           <p class="titleintable">表5-6 XMLType函数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XMLType函数" width="100%" border="1" summary="This table describes a few of the functions for XML operations. Description and Function Name are the columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="42%" id="d19652e4208">功能名称</th>
                                    <th align="left" valign="bottom" width="58%" id="d19652e4211">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4216" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlCreateDocument（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4216 d19652e4211 ">
                                       <p>创建空<code class="codeph">XMLType</code>实例</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4227" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlLoadDom()</code>等等</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4227 d19652e4211 ">
                                       <p>从源缓冲区创建</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4236" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlXPathEvalexpr()</code>和系列</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4236 d19652e4211 ">
                                       <p>提取<code class="codeph">XPath</code>表达式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4248" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlXslProcess()</code>和系列</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4248 d19652e4211 ">
                                       <p>使用可扩展样式表语言转换（XSLT）样式表进行转换</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4257" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlXPathEvalexpr()</code>和系列</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4257 d19652e4211 ">
                                       <p>检查是否存在<code class="codeph">XPath</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4269" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlDomIsSchemaBased（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4269 d19652e4211 ">
                                       <p>是基于文档架构吗？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4277" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlDomGetSchema（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4277 d19652e4211 ">
                                       <p>获取架构信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4285" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlDomGetNodeURI（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4285 d19652e4211 ">
                                       <p>获取文档命名空间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4293" headers="d19652e4208 ">
                                       <p><code class="codeph">XmlSchemaValidate（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4293 d19652e4211 ">
                                       <p>使用架构验证</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4301" headers="d19652e4208 ">
                                       <p>Cast <code class="codeph">(void *)</code> to <code class="codeph">(xmldocnode *)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4301 d19652e4211 ">
                                       <p>从<code class="codeph">XMLType</code>获取DOM</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d19652e4315" headers="d19652e4208 ">
                                       <p>将<code class="codeph">(xmldocnode *)</code>为<code class="codeph">(void *)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d19652e4315 d19652e4211 ">
                                       <p>从DOM获取<code class="codeph">XMLType</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19796"></a><div class="props_rev_3"><a id="GUID-AFBCF39A-784B-4D78-9613-6E11EEBE4A20" name="GUID-AFBCF39A-784B-4D78-9613-6E11EEBE4A20"></a><h4 id="ADXDK-GUID-AFBCF39A-784B-4D78-9613-6E11EEBE4A20" class="sect4">初始化Oracle XML DB的XML上下文</h4>
                  <div>
                     <p>XML上下文是每个C DOM API函数中的必需参数。此不透明上下文封装了与数据编码，错误消息语言等有关的信息。对于XDK应用程序和Oracle XML DB应用程序，此XML上下文的内容是不同的。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-AFBCF39A-784B-4D78-9613-6E11EEBE4A20__GUID-0EF7C0D6-C9B5-4ED6-8B63-7C282A5E238F">
                           <p class="notep1">注意：</p>
                           <p>不要在Oracle XML DB应用程序中为XDK使用XML上下文，也不要在XDK应用程序中为Oracle XML DB使用XML上下文。</p>
                        </div>
                        <p>对于Oracle XML DB，初始化和释放XML上下文的两个OCI函数具有以下原型：</p><pre class="oac_no_warn" dir="ltr">xmlctx * OCIXmlDbInitXmlCtx（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，ocixmldbparam * params，ub4 num_params）; void OCIXmlDbFreeXmlCtx（xmlctx * xctx）;</pre><div class="infoboxnotealso" id="GUID-AFBCF39A-784B-4D78-9613-6E11EEBE4A20__GUID-F3A2423D-C0FF-4FF9-82D3-3C6377347C10">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../lnoci/oci-xml-databse-functions.html#LNOCI220" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a> ，了解有关函数的参考资料</p>
                              </li>
                              <li>
                                 <p>关于OCI对XML的支持的讨论的<a href="../lnoci/index.html" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关DOM API的参考信息，请参阅<a href="../caxml/package-DOM-API.html#CAXML00300" target="_blank"><span><cite>Oracle Database XML C API参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19797"></a><div class="props_rev_3"><a id="GUID-E6F4271E-BBF5-46C2-B8AB-C1702175BBB0" name="GUID-E6F4271E-BBF5-46C2-B8AB-C1702175BBB0"></a><h4 id="ADXDK-GUID-E6F4271E-BBF5-46C2-B8AB-C1702175BBB0" class="sect4">在客户端上创建XMLType实例</h4>
                  <div>
                     <p>您可以使用<code class="codeph">XmlLoadDom()</code>调用在客户端上构造新的<code class="codeph">XMLType</code>实例。
                     </p>
                     <div class="section">
                        <p>请遵循以下基本步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>您必须初始化<code class="codeph">xmlctx</code> ，如<a href="using-XML-parser-for-C.html#GUID-0C749FC8-C0B3-41AF-9382-82F0E4FC3BEF" title="这里的主题包括控制XML文档的编码，使用NULL终止和长度编码的函数，以及处理错误。">使用DOM API for C</a>中的示例所示。</span></li>
                        <li class="stepexpand"><span>您可以从以下来源构建XML数据：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>用户缓冲区</p>
                                 </li>
                                 <li>
                                    <p>本地文件</p>
                                 </li>
                                 <li>
                                    <p>URI</p>
                                 </li>
                              </ul>
                              <p>这些返回值是<code class="codeph">(xmldocnode *)</code> ，您可以在其他常见C API中使用它。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>您可以将<code class="codeph">(xmldocnode *)</code>转换为（ <code class="codeph">void *)</code>并在需要时直接将其作为绑定值提供。</span></li>
                     </ol>
                     <div class="section">
                        <p>您可以通过调用<code class="codeph">XmlCreateDocument()</code>来构造空的<code class="codeph">XMLType</code>实例。对于其他类型，此函数等效于<code class="codeph">OCIObjectNew()</code> 。您可以对前面调用返回的<code class="codeph">(xmldocnode *)</code>进行操作，如果必须将其作为绑定值提供，则最终将其<code class="codeph">(xmldocnode *)</code>转换为<code class="codeph">(void *)</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19798"></a><div class="props_rev_3"><a id="GUID-62F87C40-EB28-4B61-9CE1-2692C7EB5F60" name="GUID-62F87C40-EB28-4B61-9CE1-2692C7EB5F60"></a><h4 id="ADXDK-GUID-62F87C40-EB28-4B61-9CE1-2692C7EB5F60" class="sect4">在数据库服务器上操作XML数据</h4>
                  <div>
                     <p>您可以使用OCI语句在Oracle数据库中操作XML数据。您可以使用<code class="codeph">xmldocnode</code>绑定和定义<code class="codeph">XMLType</code>值，并使用OCI语句从数据库中提取XML数据。您可以直接在C DOM函数中使用此数据，也可以将值直接绑定到SQL语句。
                     </p>
                  </div>
               </div><a id="ADXDK19800"></a><a id="ADXDK19801"></a><a id="ADXDK19799"></a><div class="props_rev_3"><a id="GUID-649191E3-099B-49C4-97E3-4DC58F3960C0" name="GUID-649191E3-099B-49C4-97E3-4DC58F3960C0"></a><h4 id="ADXDK-GUID-649191E3-099B-49C4-97E3-4DC58F3960C0" class="sect4">使用OCI和XDK for C API：示例</h4>
                  <div>
                     <p>示例显示如何使用DOM API构造和保存基于XML模式的文档以及修改数据库文档。</p>
                     <div class="section">
                        <p><a href="using-XML-parser-for-C.html#GUID-649191E3-099B-49C4-97E3-4DC58F3960C0__CCHHJFAE">示例5-8</a>显示了如何使用DOM API构造基于模式的文档并将其保存到数据库中。您必须包含头文件<code class="codeph">xml.h</code>和<code class="codeph">ocixmldb.h</code> 。
                        </p>
                        <p><a href="using-XML-parser-for-C.html#GUID-649191E3-099B-49C4-97E3-4DC58F3960C0__CCHDJDBE">例5-9</a>显示了如何从数据库中获取文档并使用DOM API对其进行修改。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-649191E3-099B-49C4-97E3-4DC58F3960C0__CCHHJFAE">
                        <p class="titleinexample">示例5-8使用DOM API构造基于模式的文档</p><pre class="pre codeblock"><code>#include &lt;xml.h&gt; #include &lt;ocixmldb.h&gt; static oratext tlpxml_test_sch [] =“&lt;TOP xmlns ='example1.xsd'\ n \ xmlns：xsi ='http：//www.w3.org/2001/ XMLSchema-instance'\ n \ xsi：schemaLocation ='example1.xsd example1.xsd'/&gt;“; void example1（）{OCIEnv * envhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIDuration dur; OCIType * xmltdo; xmldocnode * doc; ocixmldbparam params [1]; xmlnode * quux，* foo，* foo_data; xmlerr错误; / *初始化envhp，svchp，errhp，dur，stmthp * / / * ........* / / *获取xml上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆dur; xctx = OCIXmlDbInitXmlCtx（envhp，svchp，errhp，params，1）; / *开始处理* / printf（“支持XML 1.0：％s \ n”，XmlHasFeature（xctx，（oratext *）“xml”，（oratext *）“1.0”）？“是”：“否”）; / *解析基于模式的文档* / if（！（doc = XmlLoadDom（xctx，＆err，“buffer”，tlpxml_test_sch，“buffer_length”，sizeof（tlpxml_test_sch）-1，“validate”，TRUE，NULL）））{printf（“Parse failed，code％d \ n”）;返回; } / *创建一些元素并将它们添加到文档中* / top = XmlDomGetDocElem（xctx，doc）; quux =（xmlnode *）XmlDomCreateElem（xctx，doc，（oratext *）“QUUX”）; foo =（xmlnode *）XmlDomCreateElem（xctx，doc，（oratext *）“FOO”）; foo_data =（xmlnode *）XmlDomCreateText（xctx，doc，（oratext *）“foo的数据”）; foo_data = XmlDomAppendChild（xctx，（xmlnode *）foo，（xmlnode *）foo_data）; foo = XmlDomAppendChild（xctx，quux，foo）; quux = XmlDomAppendChild（xctx，top，quux）; XmlSaveDom（xctx，＆err，top，“stdio”，stdout，NULL）; XmlSaveDom（xctx，＆err，doc，“stdio”，stdout，NULL）; / *将文档插入my_table * / ins_stmt =“插入my_table值（：1）”; status = OCITypeByName（envhp，errhp，svchp，（const text *）“SYS”，（ub4）strlen（（char *）“SYS”），（const text *）“XMLTYPE”，（ub4）strlen（（char * ）“XMLTYPE”），（CONST text *）0，（ub4）0，dur，OCI_TYPEGET_HEADER，（OCIType **）＆xmltdo））; if（status == OCI_SUCCESS）{exec_bind_xml（svchp，errhp，stmthp，（void *）doc，xmltdo，ins_stmt））; } / * free xml ctx * / OCIXmlDbFreeXmlCtx（xctx）; } / * ----------------------------------------------- --------- * / / *执行一个绑定xml数据的sql语句* / / * ------------------------- ------------------------------- * / sword exec_bind_xml（svchp，errhp，stmthp，xml，xmltdo，sqlstmt）OCISvcCtx * svchp; OCIError * errhp; OCIStmt * stmthp; void * xml; OCIType * xmltdo; OraText * sqlstmt; {OCIBind * bndhp1 =（OCIBind *）0; OCIBind * bndhp2 =（OCIBind *）0;剑状态= 0; OCIInd ind = OCI_IND_NOTNULL; OCIInd * indp =＆ind; if（status = OCIStmtPrepare（stmthp，errhp，（OraText *）sqlstmt，（ub4）strlen（（char *）sqlstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））{return OCI_ERROR; } if（status = OCIBindByPos（stmthp，＆bndhp1，errhp，（ub4）1，（dvoid *）0，（sb4）0，SQLT_NTY，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT））{return OCI_ERROR; } if（status = OCIBindObject（bndhp1，errhp，（CONST OCIType *）xmltdo，（dvoid **）＆xml，（ub4 *）0，（dvoid **）＆indp，（ub4 *）0））{return OCI_ERROR; } if（status = OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，（ub4）0，（CONST OCISnapshot *）0，（OCISnapshot *）0，（ub4）OCI_DEFAULT））{return OCI_ERROR; } return OCI_SUCCESS; }</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-649191E3-099B-49C4-97E3-4DC58F3960C0__CCHDJDBE">
                        <p class="titleinexample">示例5-9使用DOM API修改数据库文档</p><pre class="pre codeblock"><code>#include &lt;xml.h&gt; #include &lt;ocixmldb.h&gt; sword example2（）{OCIEnv * envhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIDuration dur; OCIType * xmltdo; xmldocnode * doc; xmlnodelist * item_list; ub4 ilist_l; ocixmldbparam params [1]; text * sel_xml_stmt =（text *）“SELECT xml_col FROM my_table”; ub4 xmlsize = 0;剑状态= 0; OCIDefine * defnp =（OCIDefine *）0; / *初始化envhp，svchp，errhp，dur，stmthp * / / * ...* / / *获取xml上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆dur; xctx = OCIXmlDbInitXmlCtx（envhp，svchp，errhp，params，1）; / *开始处理* / if（status = OCITypeByName（envhp，errhp，svchp，（const text *）“SYS”，（ub4）strlen（（char *）“SYS”），（const text *）“XMLTYPE”， （ub4）strlen（（char *）“XMLTYPE”），（CONST text *）0，（ub4）0，dur，OCI_TYPEGET_HEADER，（OCIType **）xmltdo_p））{return OCI_ERROR; if（！（* xmltdo_p））{printf（“NULL tdo returns \ n”）;返回OCI_ERROR; } if（status = OCIStmtPrepare（stmthp，errhp，（OraText *）selstmt，（ub4）strlen（（char *）selstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））{return OCI_ERROR; } if（status = OCIDefineByPos（stmthp，＆defnp，errhp，（ub4）1，（dvoid *）0，（sb4）0，SQLT_NTY，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ ub4）OCI_DEFAULT））{return OCI_ERROR; } if（status = OCIDefineObject（defnp，errhp，（OCIType *）* xmltdo_p，（dvoid **）＆doc，＆xmlsize，（dvoid **）0，（ub4 *）0））{return OCI_ERROR; } if（status = OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，（ub4）0，（CONST OCISnapshot *）0，（OCISnapshot *）0，（ub4）OCI_DEFAULT））{return OCI_ERROR;我们有文件。现在我们可以对它进行操作* / printf（“获取项目列表...... \ n”）; item_list = XmlDomGetElemsByTag（xctx，（xmlelemnode *）elem，（oratext *）“Item”）; ilist_l = XmlDomGetNodeListLength（xctx，item_list）; printf（“项目列表长度=％d \ n”，ilist_l）; for（i = 0; i &lt;ilist_l; i ++）{elem = XmlDomGetNodeListItem（xctx，item_list，i）; printf（“Elem Name：％s \ n”，XmlDomGetNodeName（xctx，fragelem））; XmlDomRemoveChild（xctx，fragelem）; XmlSaveDom（xctx，＆err，doc，“stdio”，stdout，NULL）; / * free xml ctx * / OCIXmlDbFreeXmlCtx（xctx）;返回OCI_SUCCESS; }</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12685.oracle-sql-loader-concepts.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="These sections describe SQL*Loader concepts."></meta>
      <meta name="description" content="These sections describe SQL*Loader concepts."></meta>
      <title>SQL * Loader概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Utilities "></meta>
      <meta property="og:description" content="These sections describe SQL*Loader concepts."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Utilities"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-utilities.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T19:07:17-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96081-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-sql-loader.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-sql-loader-commands.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Utilities"></meta>
    <meta name="dcterms.isVersionOf" content="SUTIL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-sql-loader.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-sql-loader-commands.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">公用事业</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-sql-loader.html" property="item" typeof="WebPage"><span property="name">使用SQL * Loader</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL * Loader概念</li>
            </ol>
            <a id="GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" name="GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC"></a><a id="SUTIL003"></a>
            
            <h2 id="SUTIL-GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" class="sect2"><span class="enumeration_chapter">7</span> SQL * Loader概念</h2>
         </header>
         <div class="ind">
            <div>
               <p>这些部分描述了SQL * Loader概念。</p>
               <p>在使用SQL * Loader将数据加载到Oracle数据库之前，您应该了解这些基本概念：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-A07484AF-4EE8-432F-A587-5E158FF0B4C1">SQL *加载器功能</a><br>SQL * Loader将外部文件中的数据加载到Oracle数据库的表中。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-15B4DC15-9065-495B-9666-8EBA47F892F4">SQL * Loader参数</a><br>指定<code class="codeph">sqlldr</code>命令时，可以启动SQL * Loader，也可以选择建立加载操作的各种特征的参数。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-FC7D21D4-A3B4-4E4B-9C45-3090F029D03F">SQL *加载程序控制文件</a><br>控制文件是用SQL * Loader理解的语言编写的文本文件。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F">输入数据和数据文件</a><br>SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-BBD855DC-8B7B-4145-A76D-FFF3F9B7CD4A">LOBFILE和辅助数据文件（SDF）</a><br>LOB数据可以足够长，从LOBFILE加载它是有意义的。</li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-89F0C127-A3E1-42F9-916D-BDF629FDD0D8">数据转换和数据类型规范</a><br>在传统路径加载期间， <span class="italic">数据</span>文件中的<span class="italic">数据字段</span>将转换为数据库中的<span class="italic">列</span> （直接路径加载在概念上类似，但实现方式不同）。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86">丢弃和拒绝记录</a><br>从输入文件读取的记录可能未插入数据库。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-CEC7DC6F-02DF-4B64-AA7E-A77FA9E01E4F">日志文件和日志信息</a><br>当SQL * Loader开始执行时，它会创建一个<span class="italic">日志文件。</span></li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8">常规路径载荷，直接路径载荷和外部载荷</a><br>SQL * Loader提供了几种加载数据的方法。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C">加载对象，集合和LOB</a><br>您可以使用SQL * Loader批量加载对象，集合和LOB。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-08137A98-9FE9-43F5-B976-BE4EF18068F3">分区对象支持</a><br>SQL * Loader支持在数据库中加载分区对象。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-615F67C7-A02E-425B-AFB8-2843082AF4D9">应用程序开发：直接路径加载API</a><br>Oracle为应用程序开发人员提供了直接路径加载API。
                  </li>
                  <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323">SQL * Loader案例研究</a><br>SQL * Loader功能在各种案例研究中有所说明。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-sql-loader.html#GUID-8D037494-07FA-4226-B507-E1B2ED10C144">SQL * Loader</a></p>
                  </div>
               </div>
            </div>
            <a id="SUTIL3312"></a><a id="SUTIL978"></a><div class="props_rev_3"><a id="GUID-A07484AF-4EE8-432F-A587-5E158FF0B4C1" name="GUID-A07484AF-4EE8-432F-A587-5E158FF0B4C1"></a><h3 id="SUTIL-GUID-A07484AF-4EE8-432F-A587-5E158FF0B4C1" class="sect3"><span class="enumeration_section">7.1</span> SQL * Loader功能</h3>
               <div>
                  <p>SQL * Loader将外部文件中的数据加载到Oracle数据库的表中。</p>
                  <p>它具有强大的数据解析引擎，对数据文件中的数据格式几乎没有限制。您可以使用SQL * Loader执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果数据文件位于与数据库不同的系统上，则通过网络加载数据。</p>
                     </li>
                     <li>
                        <p>在同一个加载会话期间从多个数据文件加载数据。</p>
                     </li>
                     <li>
                        <p>在同一个加载会话期间将数据加载到多个表中。</p>
                     </li>
                     <li>
                        <p>指定数据的字符集。</p>
                     </li>
                     <li>
                        <p>有选择地加载数据（您可以根据记录的值加载记录）。</p>
                     </li>
                     <li>
                        <p>使用SQL函数在加载数据之前处理数据。</p>
                     </li>
                     <li>
                        <p>在指定列中生成唯一的顺序键值。</p>
                     </li>
                     <li>
                        <p>使用操作系统的文件系统访问数据文件。</p>
                     </li>
                     <li>
                        <p>从磁盘，磁带或命名管道加载数据。</p>
                     </li>
                     <li>
                        <p>生成复杂的错误报告，极大地帮助排除故障。</p>
                     </li>
                     <li>
                        <p>加载任意复杂的对象关系数据。</p>
                     </li>
                     <li>
                        <p>使用辅助数据文件来加载LOB和集合。</p>
                     </li>
                     <li>
                        <p>使用传统的，直接的路径或外部表负载。请参见<a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径载荷_直接路径载荷_和外部载荷</a> 。
                        </p>
                     </li>
                  </ul>
                  <p>您可以通过两种方式使用SQL * Loader：带或不带控制文件。控制文件控制SQL * Loader的行为以及加载中使用的一个或多个数据文件。使用控制文件可以更好地控制加载操作，这对于更复杂的加载情况可能是理想的。但是对于简单加载，您可以在不指定控制文件的情况下使用SQL * Loader;这被称为SQL * Loader express模式。请参见<a href="oracle-sql-loader-express-mode.html#GUID-8C235861-2A8B-4196-9705-E6FFED0C0C99" title="SQL * Loader express模式允许您快速轻松地使用SQL * Loader加载简单数据类型。">SQL * Loader Express</a> 。
                  </p>
                  <p>SQL * Loader的输出是Oracle数据库（加载数据的位置），日志文件，如果存在被拒绝的记录则为坏文件，可能还有丢弃文件。</p>
                  <p>下图显示了使用控制文件的典型SQL * Loader会话的流程示例。</p>
                  <div class="figure" id="GUID-A07484AF-4EE8-432F-A587-5E158FF0B4C1__I1007641">
                     <p class="titleinfigure">图7-1 SQL * Loader概述</p><img src="img/sut81088.gif" alt="下面是图7-1的描述" title="下面是图7-1的描述" longdesc="img_text/sut81088.html"><br><a href="img_text/sut81088.html">“图7-1 SQL * Loader概述”的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL979"></a><div class="props_rev_3"><a id="GUID-15B4DC15-9065-495B-9666-8EBA47F892F4" name="GUID-15B4DC15-9065-495B-9666-8EBA47F892F4"></a><h3 id="SUTIL-GUID-15B4DC15-9065-495B-9666-8EBA47F892F4" class="sect3"><span class="enumeration_section">7.2</span> SQL * Loader参数</h3>
               <div>
                  <p>指定<code class="codeph">sqlldr</code>命令时，可以启动SQL * Loader，也可以选择建立加载操作的各种特征的参数。
                  </p>
                  <p>在总是使用值很少更改的相同参数的情况下，使用以下方法而不是在命令行上指定参数会更有效：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>参数可以在参数文件中组合在一起。然后，您可以使用<code class="codeph">PARFILE</code>参数在命令行上指定参数文件的名称。
                        </p>
                     </li>
                     <li>
                        <p>通过使用<code class="codeph">OPTIONS</code>子句，还可以在SQL * Loader控制文件中指定某些参数。
                        </p>
                     </li>
                  </ul>
                  <p>命令行中指定的参数将覆盖参数文件或<code class="codeph">OPTIONS</code>子句中指定的任何参数值。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-15B4DC15-9065-495B-9666-8EBA47F892F4__GUID-A2190747-BD50-4A92-8D36-5CDBEDADCD4E">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-sql-loader-commands.html#GUID-CD662CD8-DAA7-4A30-BC84-546E4C40DB31" title="您可以使用命令行参数来启动SQL * Loader。">SQL * Loader命令行参考，</a>用于描述SQL * Loader参数</p>
                        </li>
                        <li>
                           <p><a href="oracle-sql-loader-commands.html#GUID-958AD711-DAAA-4185-9055-FD7535CF413D" title="PARFILE SQL * Loader命令行参数指定包含常用命令行参数的文件的名称。">PARFILE</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-sql-loader-control-file-contents.html#GUID-2BB41EA6-C94D-41C1-94DE-966B291943E6" title="可以使用OPTIONS子句指定以下命令行参数。">选项条款</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL980"></a><div class="props_rev_3"><a id="GUID-FC7D21D4-A3B4-4E4B-9C45-3090F029D03F" name="GUID-FC7D21D4-A3B4-4E4B-9C45-3090F029D03F"></a><h3 id="SUTIL-GUID-FC7D21D4-A3B4-4E4B-9C45-3090F029D03F" class="sect3"><span class="enumeration_section">7.3</span> SQL * Loader控制文件</h3>
               <div>
                  <p>控制文件是用SQL * Loader理解的语言编写的文本文件。</p>
                  <p>控制文件告诉SQL * Loader在何处查找数据，如何解析和解释数据，在何处插入数据等。</p>
                  <p>通常，控制文件有三个主要部分，顺序如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>会话范围的信息</p>
                     </li>
                     <li>
                        <p>表和字段列表信息</p>
                     </li>
                     <li>
                        <p>输入数据（可选部分）</p>
                     </li>
                  </ul>
                  <p>要记住的一些控制文件语法注意事项是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>语法是自由格式的（语句可以扩展到多行）。</p>
                     </li>
                     <li>
                        <p>语法不区分大小写;但是，用单引号或双引号括起来的字符串是字面意思，包括大小写。</p>
                     </li>
                     <li>
                        <p>在控制文件语法中，注释从标记注释开头的两个连字符（ - ）延伸到行尾。控制文件的可选第三部分被解释为数据而不是控制文件语法;因此，不支持本节中的注释。</p>
                     </li>
                     <li>
                        <p>关键字<code class="codeph">CONSTANT</code>和<code class="codeph">ZONE</code>对SQL * Loader具有特殊含义，因此保留。为避免潜在冲突，Oracle建议您不要使用<code class="codeph">CONSTANT</code>或<code class="codeph">ZONE</code>作为任何表或列的名称。
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC7D21D4-A3B4-4E4B-9C45-3090F029D03F__GUID-B364CE2B-419D-47EB-913C-808C930F82CC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oracle-sql-loader-control-file-contents.html#GUID-7F8983A0-CA5D-41D9-A096-CB1858CEDB4C" title="SQL * Loader控制文件是一个文本文件，其中包含SQL * Loader作业的数据定义语言（DDL）指令。">SQL * Loader控制文件参考</a>有关控制文件语法和语义的详细信息</p>
                        </div>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL981"></a><div class="props_rev_3"><a id="GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" name="GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F"></a><h3 id="SUTIL-GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" class="sect3"><span class="enumeration_section">7.4</span>输入数据和数据文件</h3>
               <div>
                  <p>SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。</p>
                  <p>从SQL * Loader的角度来看，数据文件中的数据被组织为<span class="italic">记录</span> 。特定数据文件可以是固定记录格式，可变记录格式或流记录格式。可以使用<code class="codeph">INFILE</code>参数在控制文件中指定记录格式。如果未指定记录格式，则默认为流记录格式。
                  </p>
                  <div class="infoboxnote" id="GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F__GUID-133F52BD-F532-44B1-A221-4BC721BACDA2">
                     <p class="notep1">注意：</p>
                     <p>如果在控制文件中指定了数据（即，在控制文件中指定了<code class="codeph">INFILE *</code> ），则使用默认记录终止符以流记录格式解释数据。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B">固定记录格式</a><br>当数据文件中的所有记录具有相同的字节长度时，文件采用固定记录格式。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D">可变记录格式</a><br>当字符字段中每个记录的长度包含在数据文件中每个记录的开头时，文件是可变记录格式。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2">流记录格式</a><br>当记录未按大小指定时，文件采用流记录格式;而SQL * Loader通过扫描<span class="italic">记录终止符来</span>形成记录。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-F99250F9-F720-45EE-8159-9B8A8E5A77D6">逻辑记录</a><br>SQL * Loader根据指定的记录格式将输入数据组织到物理记录中。默认情况下，物理记录是逻辑记录。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-B22B423B-909B-458B-8A66-EBDCE7BFE67F">数据字段</a><br>一旦形成逻辑记录，就完成逻辑记录上的字段设置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL3313"></a><a id="SUTIL982"></a><div class="props_rev_3"><a id="GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B" name="GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B"></a><h4 id="SUTIL-GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B" class="sect4"><span class="enumeration_section">7.4.1</span>固定记录格式</h4>
                  <div>
                     <p>当数据文件中的所有记录具有相同的字节长度时，文件采用固定记录格式。</p>
                     <p>虽然这种格式的灵活性最低，但它比变量或流格式具有更好的性能。固定格式也很容易指定。例如：</p><pre class="oac_no_warn" dir="ltr">INFILE <span class="italic">datafile_name</span> “fix <span class="italic"><code class="codeph">n</code></span> ”</pre><p>此示例指定SQL * Loader应将特定数据文件解释为固定记录格式，其中每个记录的长度为<span class="italic"><code class="codeph">n</code></span>个字节。
                     </p>
                     <p><a href="oracle-sql-loader-concepts.html#GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B__I1004697">例7-1</a>显示了一个控制文件，它指定了以固定记录格式解释的数据文件（ <code class="codeph">example1.dat</code> ）。示例中的数据文件包含五个物理记录;每条记录都包含包含员工编号和名称的字段。五个记录中的每一个都是11个字节长，包括空格。出于解释此示例的目的，句点用于表示记录中的空格，但在实际记录中不存在句点。考虑到这一点，第一个物理记录是<code class="codeph">396,...ty,.</code>这正好是十一个字节（假设是单字节字符集）。第二个记录是<code class="codeph">4922,beth,</code>后跟换行符（ <code class="codeph">\n</code> ），这是第11个字节，依此类推。（固定记录格式不需要换行符;此处仅用于说明如果使用，则计为记录长度中的一个字节。）
                     </p>
                     <p>请注意，长度始终以字节为单位进行解释，即使字符长度语义对文件有效也是如此。这是必要的，因为该文件可能包含混合字段，其中一些字段使用字符长度语义处理，另一些字段使用字节长度语义处理。请参阅<a href="oracle-sql-loader-control-file-contents.html#GUID-3DB632A7-BF43-40EF-AB2C-A1CC095854C2" title="字节长度语义是所有数据文件的默认值，除了使用UTF16字符集的默认值（默认情况下使用字符长度语义）。">字符长度语义</a> 。
                     </p>
                     <div class="example" id="GUID-B88C4284-089D-4565-AFAF-6A73122AAA0B__I1004697">
                        <p class="titleinexample">示例7-1以固定记录格式加载数据</p><pre class="oac_no_warn" dir="ltr">将数据infile'example1.dat'“fix 11”加载到以'，'结尾的表示例字段中，可选地用'''括起来（col1，col2）</pre><p><span class="bold">example1.dat：</span></p><pre class="oac_no_warn" dir="ltr">396，... ty，.4922，beth，\ n 68773，ben，。1，..“dave”，5455，迈克，。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" title="SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。">输入数据和数据文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3314"></a><a id="SUTIL983"></a><div class="props_rev_3"><a id="GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D" name="GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D"></a><h4 id="SUTIL-GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D" class="sect4"><span class="enumeration_section">7.4.2</span>可变记录格式</h4>
                  <div>
                     <p>当字符字段中每个记录的长度包含在数据文件中每个记录的开头时，文件是可变记录格式。</p>
                     <p>与固定记录格式相比，此格式提供了一些额外的灵活性，并且比流记录格式具有性能优势。例如，您可以指定要解释为可变记录格式的数据文件，如下所示：</p><pre class="oac_no_warn" dir="ltr">INFILE“ <span class="italic">datafile_name</span> ”“var <span class="italic"><code class="codeph">n</code></span> ”</pre><p>在此示例中， <span class="italic"><code class="codeph">n</code></span>指定记录长度字段中的字节数。如果未指定<span class="italic"><code class="codeph">n</code></span> ，则SQL * Loader假定长度为5个字节。指定大于40的<span class="italic"><code class="codeph">n</code></span>导致错误。
                     </p>
                     <p><a href="oracle-sql-loader-concepts.html#GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D__I1004722">例7-2</a>显示了一个控制文件规范，它告诉SQL * Loader在数据文件<code class="codeph">example2</code>查找数据。 <code class="codeph">dat</code>和期望变量记录格式，其中记录的前三个字节表示字段的长度。<code class="codeph">example2.dat</code>数据文件由三个物理记录组成。第一个指定为009（9）字节长，第二个指定为010（10）字节长（加上1个字节的换行符），第三个指定为012（12）字节长（加上1个字节的换行符）。请注意，变量记录格式不需要换行符。此示例还假定数据文件的单字节字符集。出于此示例的目的， <code class="codeph">example2.dat</code>句点表示空格;这些字段不包含实际期间。
                     </p>
                     <p>长度始终以字节为单位进行解释，即使字符长度语义对文件有效也是如此。这是必要的，因为文件可能包含混合字段，一些字段长度语义处理，另一些字节长度语义处理。请参阅<a href="oracle-sql-loader-control-file-contents.html#GUID-3DB632A7-BF43-40EF-AB2C-A1CC095854C2" title="字节长度语义是所有数据文件的默认值，除了使用UTF16字符集的默认值（默认情况下使用字符长度语义）。">字符长度语义</a> 。
                     </p>
                     <div class="example" id="GUID-0A3FE221-01B5-4CDD-9834-109B3BB3B16D__I1004722">
                        <p class="titleinexample">示例7-2以可变记录格式加载数据</p><pre class="oac_no_warn" dir="ltr">将数据infile'example2.dat'“var 3”加载到以'，'结尾的表示例字段中，可选地用'''（col1 char（5），col2 char（7）括起来） <span class="bold">example2.dat：</span> 009.396，.ty，0104922 ，beth，012..68773，本，</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" title="SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。">输入数据和数据文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3315"></a><a id="SUTIL984"></a><div class="props_rev_3"><a id="GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2" name="GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2"></a><h4 id="SUTIL-GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2" class="sect4"><span class="enumeration_section">7.4.3</span>流记录格式</h4>
                  <div>
                     <p>当记录未按大小指定时，文件采用流记录格式;而SQL * Loader通过扫描<span class="italic">记录终止符来</span>形成记录。
                     </p>
                     <p>流记录格式是最灵活的格式，但可能会对性能产生负面影响。要解释为流记录格式的数据文件的规范类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">INFILE <span class="italic">datafile_name</span> [ <span class="italic"><code class="codeph">"str</code></span> <span class="italic">terminator_string</span> <span class="italic"><code class="codeph">"</code></span> ]</pre><p><code class="codeph">str</code>表示文件采用流记录格式。<span class="italic"><code class="codeph">terminator_string</code></span>被指定为<code class="codeph">'</code> <span class="italic"><code class="codeph">char_string</code></span> <code class="codeph">'</code>或<span class="italic"><code class="codeph">X'hex_string</code></span> <code class="codeph">'</code> ，其中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">'</code> <span class="italic"><code class="codeph">char_string</code></span> <code class="codeph">'</code>是用单引号或双引号括起来的字符串</p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">X'hex_string</code></span> <code class="codeph">'</code>是十六进制格式的字节字符串</p>
                        </li>
                     </ul>
                     <p>当<span class="italic"><code class="codeph">terminator_string</code></span>包含特殊（不可打印）字符时，应将其指定为<span class="italic"><code class="codeph">X'hex_string</code></span> <code class="codeph">'</code> 。但是，可以使用反斜杠将某些不可打印的字符指定为（ <code class="codeph">'</code> <span class="italic"><code class="codeph">char_string</code></span> <code class="codeph">'</code> ）。例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">\n</code>表示换行</p>
                        </li>
                        <li>
                           <p><code class="codeph">\t</code>表示水平制表符</p>
                        </li>
                        <li>
                           <p><code class="codeph">\f</code>表示换页</p>
                        </li>
                        <li>
                           <p><code class="codeph">\v</code>表示垂直制表符</p>
                        </li>
                        <li>
                           <p><code class="codeph">\r</code>表示回车</p>
                        </li>
                     </ul>
                     <p>如果使用会话的<code class="codeph">NLS_LANG</code>初始化参数指定的字符集与数据文件的字符集不同，则字符串将转换为数据文件的字符集。这是在SQL * Loader检查默认记录终止符之前完成的。
                     </p>
                     <p>假设十六进制字符串位于数据文件的字符集中，因此不执行转换。</p>
                     <p>在基于UNIX的平台上，如果未指定<span class="italic"><code class="codeph">terminator_string</code></span> ，则SQL * Loader默认为换行符字符<code class="codeph">\n</code> 。
                     </p>
                     <p>在基于Windows的平台上，如果未指定<span class="italic"><code class="codeph">terminator_string</code></span> ，则SQL * Loader使用<code class="codeph">\n</code>或<code class="codeph">\r\n</code>作为记录终止符，具体取决于它在数据文件中首先找到的那个。这意味着，如果你知道在你的数据文件的一个或多个记录已经<code class="codeph">\n</code>嵌入在一个领域，但你想<code class="codeph">\r\n</code>用作记录终结，那么你必须指定它。
                     </p>
                     <p><a href="oracle-sql-loader-concepts.html#GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2__I1005800">例7-3</a>说明了以流记录格式加载数据，其中终结符字符串是使用字符串<code class="codeph">'|\n'</code> 。使用反斜杠字符允许字符串指定不可打印的换行符。
                     </p>
                     <div class="infoboxnotealso" id="GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2__GUID-9840D502-0EB3-4905-BF0E-D49549214ABD">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=NLSPG982" target="_blank"><span class="italic">“Oracle数据库全球化支持指南”</span></a> ，了解有关使用语言和字符集文件扫描程序（LCSSCAN）实用程序确定未知文件文本的语言和字符集的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-C6D10BF6-F6C0-476C-B924-7A081C70DBC2__I1005800">
                        <p class="titleinexample">示例7-3以流记录格式加载数据</p><pre class="oac_no_warn" dir="ltr">将数据infile'example3.dat'“str'| \ n'”加载到由'，''结尾的表示例字段中，可选地用'''（col1 char（5），col2 char（7）） <span class="bold">example3.dat：</span> 396， ty，| 4922，beth，|</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" title="SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。">输入数据和数据文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL985"></a><div class="props_rev_3"><a id="GUID-F99250F9-F720-45EE-8159-9B8A8E5A77D6" name="GUID-F99250F9-F720-45EE-8159-9B8A8E5A77D6"></a><h4 id="SUTIL-GUID-F99250F9-F720-45EE-8159-9B8A8E5A77D6" class="sect4"><span class="enumeration_section">7.4.4</span>逻辑记录</h4>
                  <div>
                     <p>SQL * Loader根据指定的记录格式将输入数据组织到物理记录中。默认情况下，物理记录是逻辑记录。</p>
                     <p>为了增加灵活性，可以指示SQL * Loader将多个物理记录组合到逻辑记录中。</p>
                     <p>可以指示SQL * Loader遵循以下逻辑记录形成策略之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>组合固定数量的物理记录以形成每个逻辑记录。</p>
                        </li>
                        <li>
                           <p>在特定条件为真时将物理记录合并到逻辑记录中。</p>
                           <div class="infoboxnotealso" id="GUID-F99250F9-F720-45EE-8159-9B8A8E5A77D6__GUID-72544B11-8C1B-4E55-A021-536195F076B1">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="oracle-sql-loader-control-file-contents.html#GUID-C582FC3E-EDF0-4200-8F99-4F9E679F178F" title="本节介绍从物理记录中组装逻辑记录。">从物理记录中组装逻辑记录</a></p>
                                 </li>
                                 <li>
                                    <p>案例研究4，加载综合物理记录（有关如何访问<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL*Loader features are illustrated in a variety of case studies.">案例研究</a>的信息，请参阅<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例</a>研究）</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" title="SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。">输入数据和数据文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL986"></a><div class="props_rev_3"><a id="GUID-B22B423B-909B-458B-8A66-EBDCE7BFE67F" name="GUID-B22B423B-909B-458B-8A66-EBDCE7BFE67F"></a><h4 id="SUTIL-GUID-B22B423B-909B-458B-8A66-EBDCE7BFE67F" class="sect4"><span class="enumeration_section">7.4.5</span>数据字段</h4>
                  <div>
                     <p>一旦形成逻辑记录，就完成逻辑记录上的字段设置。</p>
                     <p>字段设置是SQL * Loader使用控制文件字段规范来确定逻辑记录数据的哪些部分对应于哪些控制文件字段的过程。两个或更多字段规范可以声明相同的数据。此外，逻辑记录可能包含任何控制文件字段规范未声明的数据。</p>
                     <p>大多数控制文件字段规范声明逻辑记录的特定部分。此映射采用以下形式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可以指定数据字段的开头，结尾或两者的字节位置。此规范表格不是最灵活的，但它提供了高的场地设置性能。</p>
                        </li>
                        <li>
                           <p>可以指定定义（包含，终止或两者）特定数据字段的字符串。假定分隔数据字段从最后一个数据字段结束的地方开始，除非指定了数据字段开始的字节位置。</p>
                        </li>
                        <li>
                           <p>您可以指定字节偏移量，数据字段的长度或两者。这样，每个字段从最后一个字节结束的位置开始指定的字节数，并持续指定的长度。</p>
                        </li>
                        <li>
                           <p>可以使用长度值数据类型。在这种情况下，数据字段的前<span class="italic"><code class="codeph">n</code></span>个字节包含有关其余数据字段的长度的信息。
                           </p>
                           <div class="infoboxnotealso" id="GUID-B22B423B-909B-458B-8A66-EBDCE7BFE67F__GUID-15B3136F-BCCE-4DFD-9488-A5A66B33963A">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="oracle-sql-loader-field-list-contents.html#GUID-269CE049-91ED-41FD-A3A3-D471009E918D" title="要从数据文件加载数据，SQL * Loader必须知道字段的长度和位置。">指定数据字段的位置</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oracle-sql-loader-field-list-contents.html#GUID-0DE2F816-CF31-4806-891C-05D3C548B34B" title="CHAR，datetime，interval或numeric EXTERNAL字段的边界也可以通过输入数据记录中包含的分隔符来标记。">指定分隔符</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817B408D-57AA-49F0-A2AA-1DEE8C1A2D8F" title="SQL * Loader从控制文件中指定的一个或多个数据文件（或文件的操作系统等效文件）中读取数据。">输入数据和数据文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL987"></a><div class="props_rev_3"><a id="GUID-BBD855DC-8B7B-4145-A76D-FFF3F9B7CD4A" name="GUID-BBD855DC-8B7B-4145-A76D-FFF3F9B7CD4A"></a><h3 id="SUTIL-GUID-BBD855DC-8B7B-4145-A76D-FFF3F9B7CD4A" class="sect3"><span class="enumeration_section">7.5</span> LOBFILE和辅助数据文件（SDF）</h3>
               <div>
                  <p>LOB数据可以足够长，从LOBFILE加载它是有意义的。</p>
                  <p>LOB数据可以足够长，从LOBFILE加载它是有意义的。在LOBFILE中，LOB数据实例仍被认为是在字段中（预定大小，分隔符，长度值），但这些字段没有组织成记录（LOBFILE中不存在记录的概念）。因此，避免了处理记录的处理开销。这种类型的数据组织是LOB加载的理想选择。</p>
                  <p>例如，您可能有一个存储员工姓名，ID及其简历的表。加载此表时，您可以从主数据文件中读取员工姓名和ID，并且可以从LOBFILE中读取可能非常冗长的简历。</p>
                  <p>您还可以使用LOBFILE来加载XML数据。您可以使用<code class="codeph">XML</code>列来保存对结构化和半结构化数据建模的数据。这些数据可能非常冗长。
                  </p>
                  <p>辅助数据文件（SDF）在概念上与主数据文件类似。与主数据文件一样，SDF是记录的集合，每个记录由字段组成。SDF是基于每个控制文件字段指定的。只有<code class="codeph">collection_fld_spec</code>才能将SDF命名为其数据源。
                  </p>
                  <p>使用<code class="codeph">SDF</code>参数指定<code class="codeph">SDF</code> 。<code class="codeph">SDF</code>参数后面可以是文件规范字符串，也可以是映射到包含一个或多个文件规范字符串的数据字段的<code class="codeph">FILLER</code>字段。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-BBD855DC-8B7B-4145-A76D-FFF3F9B7CD4A__GUID-E13F4A25-EBED-4BAD-BE34-D120C7538F0C">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="loading-objects-oracle-sql-loader.html#GUID-E02C2828-ABD1-4B8D-9561-124D221B4BE3" title="LOB数据可以足够长，因此从LOBFILE而不是从主数据文件加载它是有意义的。">从LOBFILE加载LOB数据</a></p>
                        </li>
                        <li>
                           <p><a href="loading-objects-oracle-sql-loader.html#GUID-EB6B23EE-B2AB-4AC2-9032-0F9798F539BC" title="辅助数据文件（SDF）在概念上与主数据文件类似。">辅助数据文件（SDF）</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL988"></a><div class="props_rev_3"><a id="GUID-89F0C127-A3E1-42F9-916D-BDF629FDD0D8" name="GUID-89F0C127-A3E1-42F9-916D-BDF629FDD0D8"></a><h3 id="SUTIL-GUID-89F0C127-A3E1-42F9-916D-BDF629FDD0D8" class="sect3"><span class="enumeration_section">7.6</span>数据转换和数据类型规范</h3>
               <div>
                  <p>在传统路径加载期间， <span class="italic">数据</span>文件中的<span class="italic">数据字段</span>将转换为数据库中的<span class="italic">列</span> （直接路径加载在概念上类似，但实现方式不同）。
                  </p>
                  <p>有两个转换步骤：</p>
                  <ol>
                     <li>
                        <p>SQL * Loader使用控制文件中的字段规范来解释数据文件的格式，解析输入数据，并填充与SQL <code class="codeph">INSERT</code>语句对应的绑定数组<span class="italic"> </span>使用该数据。绑定数组是内存中SQL * Loader存储要加载的数据的区域。当绑定数组已满时，数据将传输到数据库。绑定数组大小由SQL * Loader <code class="codeph">BINDSIZE</code>和<code class="codeph">READSIZE</code>参数控制。
                        </p>
                     </li>
                     <li>
                        <p>数据库接受数据并执行<code class="codeph">INSERT</code>语句以将数据存储在数据库中。
                        </p>
                     </li>
                  </ol>
                  <p>Oracle数据库使用列的数据类型将数据转换为最终的存储形式。请记住，在数据文件中的<span class="italic">字段</span> ，并在数据库中的<span class="italic">列</span>之间的区别。也请记住，在SQL * Loader控制文件中定义的字段的数据类型是<span class="italic">不</span>一样的列数据类型。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-89F0C127-A3E1-42F9-916D-BDF629FDD0D8__GUID-B582C89C-D506-4B0F-B574-B66167D25EE8">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-sql-loader-commands.html#GUID-15D32D8B-93AD-46B7-8D5F-8736289A9803" title="SQL * Loader的BINDSIZE命令行参数指定绑定数组的最大大小（以字节为单位）。">BINDSIZE</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-sql-loader-commands.html#GUID-846265A6-3B66-45FD-99AE-009EC9380490" title="如果您选择不使用默认值，则READSIZE SQL * Loader命令行参数指定（以字节为单位）读取缓冲区的大小。">READSIZE</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL989"></a><div class="props_rev_3"><a id="GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86" name="GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86"></a><h3 id="SUTIL-GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86" class="sect3"><span class="enumeration_section">7.7</span>丢弃和拒绝记录</h3>
               <div>
                  <p>从输入文件读取的记录可能未插入数据库。</p>
                  <p>此类记录放在坏文件或丢弃文件中<span class="italic">。</span></p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968">坏文件</a><br>坏文件包含被SQL * Loader或Oracle数据库拒绝的记录。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-33509A75-186E-4742-8FFA-C2430A51D968">丢弃文件</a><br>当SQL * Loader执行时，它可能会创建一个名为discard file的文件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL990"></a><div class="props_rev_3"><a id="GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968" name="GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968"></a><h4 id="SUTIL-GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968" class="sect4"><span class="enumeration_section">7.7.1</span>坏文件</h4>
                  <div>
                     <p>坏文件包含被SQL * Loader或Oracle数据库拒绝的记录。</p>
                     <p>如果未指定错误文件且存在被拒绝的记录，则SQL * Loader会自动创建一个。它将与数据文件具有相同的名称，扩展名为<code class="codeph">.bad</code> 。拒绝的一些可能原因将在下一节中讨论。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-1F19DD2A-C339-481D-BD4F-BAFC38B10A35">SQL * Loader拒绝的记录</a><br>当输入格式无效时，SQL * Loader将拒绝数据文件记录。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-6D52AD6E-5563-484F-9927-6E0F137DA226">SQL * Loader操作期间Oracle数据库拒绝的记录</a><br>在接受SQL * Loader处理数据文件记录后，将其发送到数据库以作为行插入表中。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：已</strong> <a href="oracle-sql-loader-concepts.html#GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86" title="从输入文件读取的记录可能未插入数据库。">废弃和已拒绝的记录</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL991"></a><div class="props_rev_3"><a id="GUID-1F19DD2A-C339-481D-BD4F-BAFC38B10A35" name="GUID-1F19DD2A-C339-481D-BD4F-BAFC38B10A35"></a><h5 id="SUTIL-GUID-1F19DD2A-C339-481D-BD4F-BAFC38B10A35" class="sect5"><span class="enumeration_section">7.7.1.1</span> SQL * Loader拒绝的记录</h5>
                     <div>
                        <p>当输入格式无效时，SQL * Loader将拒绝数据文件记录。</p>
                        <p>例如，如果缺少第二个机箱分隔符，或者分隔字段超过其最大长度，则SQL * Loader将拒绝该记录。被拒绝的记录被放在坏文件中。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968" title="坏文件包含被SQL * Loader或Oracle数据库拒绝的记录。">错误文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL992"></a><div class="props_rev_3"><a id="GUID-6D52AD6E-5563-484F-9927-6E0F137DA226" name="GUID-6D52AD6E-5563-484F-9927-6E0F137DA226"></a><h5 id="SUTIL-GUID-6D52AD6E-5563-484F-9927-6E0F137DA226" class="sect5"><span class="enumeration_section">7.7.1.2</span> SQL * Loader操作期间Oracle数据库拒绝的记录</h5>
                     <div>
                        <p>在接受SQL * Loader处理数据文件记录后，将其发送到数据库以作为行插入表中。</p>
                        <p>如果数据库确定该行有效，则将该行插入表中。如果确定该行无效，则拒绝该记录并且SQL * Loader将其放入坏文件中。例如，该行可能无效，因为密钥不是唯一的，因为必填字段为空，或者因为该字段包含Oracle数据类型的无效数据。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6D52AD6E-5563-484F-9927-6E0F137DA226__GUID-20641FE6-AE4B-44EE-A4B1-B2D02568CA5D">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oracle-sql-loader-control-file-contents.html#GUID-5C9400BE-5321-4727-9D50-265AB620155D" title="当SQL * Loader执行时，它可以创建一个称为坏文件或拒绝文件的文件，在该文件中放置由于格式错误而被拒绝的记录，或者因为它们导致Oracle错误。">指定错误文件</a></p>
                              </li>
                              <li>
                                 <p>案例研究4，加载综合物理记录（有关如何访问<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL*Loader features are illustrated in a variety of case studies.">案例研究</a>的信息，请参阅<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例</a>研究）</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-CB709CE1-BA35-42C8-A6F5-23874A6C2968" title="坏文件包含被SQL * Loader或Oracle数据库拒绝的记录。">错误文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL993"></a><div class="props_rev_3"><a id="GUID-33509A75-186E-4742-8FFA-C2430A51D968" name="GUID-33509A75-186E-4742-8FFA-C2430A51D968"></a><h4 id="SUTIL-GUID-33509A75-186E-4742-8FFA-C2430A51D968" class="sect4"><span class="enumeration_section">7.7.2</span>丢弃文件</h4>
                  <div>
                     <p>当SQL * Loader执行时，它可能会创建一个名为discard file的文件。</p>
                     <p>仅在需要时才创建此文件，并且仅当您指定应启用丢弃文件时才创建此文件。丢弃文件包含从负载中过滤掉的记录，因为它们与控制文件中指定的任何记录选择条件都不匹配。</p>
                     <p>因此，丢弃文件包含未插入数据库中任何表的记录。您可以指定discard文件可以接受的最大记录数。写入任何数据库表的数据不会写入丢弃文件。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-33509A75-186E-4742-8FFA-C2430A51D968__GUID-A51B8C6F-53D5-4789-9DB7-C05843F4F023">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>案例研究4，加载综合物理记录（有关如何访问<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL*Loader features are illustrated in a variety of case studies.">案例研究</a>的信息，请参阅<a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例</a>研究）</p>
                           </li>
                           <li>
                              <p><a href="oracle-sql-loader-control-file-contents.html#GUID-0A8BB28E-96D3-4553-8345-D1EDCAF599E4" title="在执行期间，SQL * Loader可以为不符合任何加载条件的记录创建丢弃文件。">指定丢弃文件</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：已</strong> <a href="oracle-sql-loader-concepts.html#GUID-69DBF6E4-1E0C-4D7A-B2F3-32736937ED86" title="从输入文件读取的记录可能未插入数据库。">废弃和已拒绝的记录</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL994"></a><div class="props_rev_3"><a id="GUID-CEC7DC6F-02DF-4B64-AA7E-A77FA9E01E4F" name="GUID-CEC7DC6F-02DF-4B64-AA7E-A77FA9E01E4F"></a><h3 id="SUTIL-GUID-CEC7DC6F-02DF-4B64-AA7E-A77FA9E01E4F" class="sect3"><span class="enumeration_section">7。8</span>日志文件和日志信息</h3>
               <div>
                  <p>当SQL * Loader开始执行时，它会创建一个<span class="italic">日志文件。</span></p>
                  <p>如果它无法创建日志文件，则执行终止。日志文件包含负载的详细摘要，包括加载期间发生的任何错误的描述。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL995"></a><div class="props_rev_3"><a id="GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" name="GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8"></a><h3 id="SUTIL-GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" class="sect3"><span class="enumeration_section">7.9</span>常规路径负载，直接路径负载和外部表负载</h3>
               <div>
                  <p>SQL * Loader提供了几种加载数据的方法。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-6C59CC14-B1B4-463A-B7C6-706330266768">常规路径载荷</a><br>在传统路径加载期间，根据字段规范解析输入记录，并将每个数据字段复制到其对应的绑定数组（SQL * Loader存储要加载的数据的内存区域）。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-817EE44A-D24C-4BB2-873A-6A4ACAA7689E">直接路径加载</a><br>直接路径加载根据字段规范解析输入记录，将输入字段数据转换为列数据类型，并构建列数组。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-309085A3-9D23-4ED8-9920-E243C6406286">外部表载荷</a><br>外部表定义为不驻留在数据库中的表，并且可以是为其提供访问驱动程序的任何格式。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-289C0B1B-96FE-430B-8525-AC077E434DA9">选择外部表与SQL * Loader</a><br>外部表和SQL * Loader的记录解析非常相似，因此通常对于相同的记录格式没有主要的性能差异。但是，由于外部表和SQL * Loader的体系结构不同，有些方法可能比另一种方法更合适。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED">SQL * Loader和外部表之间的行为差异</a><br>本节介绍使用<code class="codeph">ORACLE_LOADER</code>访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL996"></a><div class="props_rev_3"><a id="GUID-6C59CC14-B1B4-463A-B7C6-706330266768" name="GUID-6C59CC14-B1B4-463A-B7C6-706330266768"></a><h4 id="SUTIL-GUID-6C59CC14-B1B4-463A-B7C6-706330266768" class="sect4"><span class="enumeration_section">7.9.1</span>常规路径载荷</h4>
                  <div>
                     <p>在传统路径加载期间，根据字段规范解析输入记录，并将每个数据字段复制到其对应的绑定数组（SQL * Loader存储要加载的数据的内存区域）。</p>
                     <p>当绑定数组已满（或者没有剩余数据可供读取）时，将执行数组插入操作。</p>
                     <p>SQL * Loader在完成绑定数组插入后存储LOB字段。因此，如果在处理LOB字段时存在任何错误（例如，无法找到LOBFILE），则LOB字段保留为空。另请注意，因为在执行数组插入后加载了LOB数据，所以<code class="codeph">BEFORE</code>和<code class="codeph">AFTER</code>行触发器可能无法按预期方式对LOB列起作用。这是因为在SQL * Loader有机会将LOB内容加载到列之前触发了触发器。例如，假设您正在使用数据加载LOB列<code class="codeph">C1</code> ，并且您希望<code class="codeph">BEFORE</code>行触发器检查此LOB列的内容，并根据其检查导出要为其他列<code class="codeph">C2</code>加载的值。这是不可能的，因为在触发器触发时不会加载LOB内容。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6C59CC14-B1B4-463A-B7C6-706330266768__GUID-2A9E7C47-0B81-4744-B561-960BEA023E2A">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-sql-loader-conventional-and-direct-loads.html#GUID-9787AA3E-1640-4039-BB98-8374BE3553A2" title="SQL * Loader可以使用约定路径加载或直接路径加载来加载数据。">数据加载方法</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-sql-loader-control-file-contents.html#GUID-34765838-CECC-45D3-9533-92D821DB051B" title="一次读取多行并存储在绑定数组中。">绑定数组和常规路径加载</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径加载，直接路径加载和外部表加载</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL997"></a><div class="props_rev_3"><a id="GUID-817EE44A-D24C-4BB2-873A-6A4ACAA7689E" name="GUID-817EE44A-D24C-4BB2-873A-6A4ACAA7689E"></a><h4 id="SUTIL-GUID-817EE44A-D24C-4BB2-873A-6A4ACAA7689E" class="sect4"><span class="enumeration_section">7.9.2</span>直接路径加载</h4>
                  <div>
                     <p>直接路径加载根据字段规范解析输入记录，将输入字段数据转换为列数据类型，并构建列数组。</p>
                     <p>列数组传递给块格式化程序，后者以Oracle数据库块格式创建数据块。新格式化的数据库块直接写入数据库，绕过了通常发生的大部分数据处理。直接路径负载比传统路径负载快得多，但需要几个限制。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-6285DE2C-A69E-498E-8192-7C17934793BA">并行直接路径</a><br>并行直接路径加载允许多个直接路径加载会话同时加载相同的数据段（允许段内并行）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径加载，直接路径加载和外部表加载</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL998"></a><div class="props_rev_3"><a id="GUID-6285DE2C-A69E-498E-8192-7C17934793BA" name="GUID-6285DE2C-A69E-498E-8192-7C17934793BA"></a><h5 id="SUTIL-GUID-6285DE2C-A69E-498E-8192-7C17934793BA" class="sect5"><span class="enumeration_section">7.9.2.1</span>并行直接路径</h5>
                     <div>
                        <p>并行直接路径加载允许多个直接路径加载会话同时加载相同的数据段（允许段内并行）。</p>
                        <p>并行直接路径比直接路径更具限制性。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6285DE2C-A69E-498E-8192-7C17934793BA__GUID-1E21D3CF-0D2B-4632-831B-1E9090912BFF">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oracle-sql-loader-conventional-and-direct-loads.html#GUID-ECBC6D01-4273-4102-983A-2139C5FB2887" title="本主题描述并行数据加载模型。">并行数据加载模型</a></p>
                           <p><a href="oracle-sql-loader-conventional-and-direct-loads.html#GUID-26686C49-D768-4F55-8AED-771B9A8C6552" title="直接路径加载使用直接路径API将要加载的数据传递到服务器中的加载引擎。">直接路径加载</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-817EE44A-D24C-4BB2-873A-6A4ACAA7689E" title="直接路径加载根据字段规范解析输入记录，将输入字段数据转换为列数据类型，并构建列数组。">直接路径加载</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL999"></a><div class="props_rev_3"><a id="GUID-309085A3-9D23-4ED8-9920-E243C6406286" name="GUID-309085A3-9D23-4ED8-9920-E243C6406286"></a><h4 id="SUTIL-GUID-309085A3-9D23-4ED8-9920-E243C6406286" class="sect4"><span class="enumeration_section">7.9.3</span>外部表载荷</h4>
                  <div>
                     <p>外部表定义为不驻留在数据库中的表，并且可以是为其提供访问驱动程序的任何格式。</p>
                     <p>Oracle数据库提供了两个访问驱动程序： <code class="codeph">ORACLE_LOADER</code>和<code class="codeph">ORACLE_DATAPUMP</code> 。通过为数据库提供描述外部表的元数据，数据库能够公开外部表中的数据，就好像它是驻留在常规数据库表中的数据一样。
                     </p>
                     <p>外部表加载为外部数据文件中包含的数据创建外部表。加载执行<code class="codeph">INSERT</code>语句以将数据从数据文件插入目标表。
                     </p>
                     <p>使用外部表负载优于传统路径和直接路径负载的优点如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果数据文件足够大，则外部表加载会尝试并行加载该文件。</p>
                        </li>
                        <li>
                           <p>外部表加载允许使用SQL函数和PL / SQL函数修改正在加载的数据，作为用于创建外部表的<code class="codeph">INSERT</code>语句的一部分。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-309085A3-9D23-4ED8-9920-E243C6406286__GUID-CE82D80A-1F22-49C9-A028-5195315AE394">
                        <p class="notep1">注意：</p>
                        <p>在Windows操作系统上使用命名管道不支持外部表加载。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-309085A3-9D23-4ED8-9920-E243C6406286__GUID-86B75636-7564-4D7A-B8C0-46F003C8F47F">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle_loader-access-driver.html#GUID-EA56D498-E8BB-4E02-8ABF-12E7083ED9D5" title="ORACLE_LOADER访问驱动程序提供了一组对ORACLE_LOADER类型的外部表唯一的访问参数。">ORACLE_LOADER访问驱动程序</a></p>
                           </li>
                           <li>
                              <p><a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                           </li>
                           <li>
                              <p>有关创建和管理外部表的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=ADMIN01507" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径加载，直接路径加载和外部表加载</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1000"></a><div class="props_rev_3"><a id="GUID-289C0B1B-96FE-430B-8525-AC077E434DA9" name="GUID-289C0B1B-96FE-430B-8525-AC077E434DA9"></a><h4 id="SUTIL-GUID-289C0B1B-96FE-430B-8525-AC077E434DA9" class="sect4"><span class="enumeration_section">7.9.4</span>选择外部表与SQL * Loader</h4>
                  <div>
                     <p>外部表和SQL * Loader的记录解析非常相似，因此通常对于相同的记录格式没有主要的性能差异。但是，由于外部表和SQL * Loader的体系结构不同，有些方法可能比另一种方法更合适。</p>
                     <p>在以下情况下使用外部表以获得最佳负载性能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您希望在将数据加载到数据库时对其进行转换</p>
                        </li>
                        <li>
                           <p>您希望使用透明并行处理，而无需先拆分外部数据</p>
                        </li>
                     </ul>
                     <p>在以下情况下使用SQL * Loader获得最佳负载性能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您想远程加载数据</p>
                        </li>
                        <li>
                           <p>数据不需要转换，并且不需要并行加载数据</p>
                        </li>
                        <li>
                           <p>您希望加载数据，并且需要对登台表进行其他索引</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径加载，直接路径加载和外部表加载</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3316"></a><div class="props_rev_3"><a id="GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" name="GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED"></a><h4 id="SUTIL-GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" class="sect4"><span class="enumeration_section">7.9.5</span> SQL * Loader和外部表之间的行为差异</h4>
                  <div>
                     <p>本节介绍使用<code class="codeph">ORACLE_LOADER</code>访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。
                     </p>
                     <p>此信息不适用于<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-CB98D671-ECEE-44C6-B8F4-6EFADB10701B">多个主输入数据文件</a><br>如果有多个主要输入数据文件加载了SQL * Loader，则会为每个输入数据文件创建一个错误文件和一个丢弃文件。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-7C5E1DE3-78B3-4991-8BD5-1C2293ACD5D9">语法和数据类型</a><br>本节提供了对外部表加载不支持的语法和数据类型的描述。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-F0CA8BF4-7A9C-4435-A0AB-4BA7A8687E87">字节顺序标记</a><br>使用SQL * Loader，如果主数据文件使用Unicode字符集（UTF8或UTF16）并且它还包含字节顺序标记（BOM），则字节顺序标记将写入相应的错误和丢弃的开头文件。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-25925739-DB99-4BF0-90CF-37749E2149AE">默认字符集，日期掩码和小数分隔符</a><br>对于数据文件中的字段，客户端上的NLS环境变量的设置确定默认字符集，日期掩码和小数分隔符。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26">使用反斜杠转义字符</a><br>本节介绍如何使用反斜杠转义字符。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-C4C1A6D6-4C85-478F-9A43-148E1812CCE8" title="SQL * Loader提供了几种加载数据的方法。">常规路径加载，直接路径加载和外部表加载</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL3317"></a><div class="props_rev_3"><a id="GUID-CB98D671-ECEE-44C6-B8F4-6EFADB10701B" name="GUID-CB98D671-ECEE-44C6-B8F4-6EFADB10701B"></a><h5 id="SUTIL-GUID-CB98D671-ECEE-44C6-B8F4-6EFADB10701B" class="sect5"><span class="enumeration_section">7.9.5.1</span>多个主输入数据文件</h5>
                     <div>
                        <p>如果有多个主要输入数据文件加载了SQL * Loader，则会为每个输入数据文件创建一个错误文件和一个丢弃文件。</p>
                        <p>对于外部表加载，所有输入数据文件只有一个坏文件和一个丢弃文件。如果并行访问驱动程序用于外部表加载，则每个访问驱动程序都有自己的错误文件和丢弃文件。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" title="本节介绍使用ORACLE_LOADER访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。">SQL * Loader和外部表之间的行为差异</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL3318"></a><div class="props_rev_3"><a id="GUID-7C5E1DE3-78B3-4991-8BD5-1C2293ACD5D9" name="GUID-7C5E1DE3-78B3-4991-8BD5-1C2293ACD5D9"></a><h5 id="SUTIL-GUID-7C5E1DE3-78B3-4991-8BD5-1C2293ACD5D9" class="sect5"><span class="enumeration_section">7.9.5.2</span>语法和数据类型</h5>
                     <div>
                        <p>本节提供了对外部表加载不支持的语法和数据类型的描述。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">CONTINUEIF</code>或<code class="codeph">CONCATENATE</code>将多个物理记录组合成单个逻辑记录。
                              </p>
                           </li>
                           <li>
                              <p>加载以下SQL * Loader数据类型： <code class="codeph">GRAPHIC</code> ， <code class="codeph">GRAPHIC EXTERNAL</code>和<code class="codeph">VARGRAPHIC</code></p>
                           </li>
                           <li>
                              <p>使用以下数据库列类型： <code class="codeph">LONG</code> ，嵌套表， <code class="codeph">VARRAY</code> ， <code class="codeph">REF</code> ，主键<code class="codeph">REF</code>和<code class="codeph">SID</code></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" title="本节介绍使用ORACLE_LOADER访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。">SQL * Loader和外部表之间的行为差异</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL3319"></a><div class="props_rev_3"><a id="GUID-F0CA8BF4-7A9C-4435-A0AB-4BA7A8687E87" name="GUID-F0CA8BF4-7A9C-4435-A0AB-4BA7A8687E87"></a><h5 id="SUTIL-GUID-F0CA8BF4-7A9C-4435-A0AB-4BA7A8687E87" class="sect5"><span class="enumeration_section">7.9.5.3</span>字节顺序标记</h5>
                     <div>
                        <p>使用SQL * Loader，如果主数据文件使用Unicode字符集（UTF8或UTF16）并且它还包含字节顺序标记（BOM），则字节顺序标记将写入相应的错误和丢弃的开头文件。</p>
                        <p>对于外部表加载，字节顺序标记不会写入错误和丢弃文件的开头。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" title="本节介绍使用ORACLE_LOADER访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。">SQL * Loader和外部表之间的行为差异</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL3320"></a><div class="props_rev_3"><a id="GUID-25925739-DB99-4BF0-90CF-37749E2149AE" name="GUID-25925739-DB99-4BF0-90CF-37749E2149AE"></a><h5 id="SUTIL-GUID-25925739-DB99-4BF0-90CF-37749E2149AE" class="sect5"><span class="enumeration_section">7.9.5.4</span>默认字符集，日期掩码和小数分隔符</h5>
                     <div>
                        <p>对于数据文件中的字段，客户端上的NLS环境变量的设置确定默认字符集，日期掩码和小数分隔符。</p>
                        <p>对于数据文件中的字段，客户端上的NLS环境变量的设置确定默认字符集，日期掩码和小数分隔符。对于外部表中的字段，NLS参数的数据库设置确定默认字符集，日期掩码和小数分隔符。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" title="本节介绍使用ORACLE_LOADER访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。">SQL * Loader和外部表之间的行为差异</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL3321"></a><div class="props_rev_3"><a id="GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26" name="GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26"></a><h5 id="SUTIL-GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26" class="sect5"><span class="enumeration_section">7.9.5.5</span>使用反斜杠转义字符</h5>
                     <div>
                        <p>本节介绍如何使用反斜杠转义字符。</p>
                        <p>在SQL * Loader中，您可以使用反斜杠（\）转义字符将单引号标识为机箱字符，如下所示：</p><pre class="oac_no_warn" dir="ltr">字段被'，'''''''''''''''''''''''''''''''''''''''''''</pre><p>在外部表中，在字符串中使用反斜杠转义字符会引发错误。解决方法是使用双引号将单引号标识为机箱字符，如下所示：</p><pre class="oac_no_warn" dir="ltr">终止'，''包含在'''</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-AC0DBDB3-BD68-45A4-ABA3-3DE38BB038ED" title="本节介绍使用ORACLE_LOADER访问驱动程序加载数据与外部表之间的重要区别，而不是使用SQL * Loader传统和直接路径加载来加载数据。">SQL * Loader和外部表之间的行为差异</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SUTIL1001"></a><div class="props_rev_3"><a id="GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C" name="GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C"></a><h3 id="SUTIL-GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C" class="sect3"><span class="enumeration_section">7.10</span>加载对象，集合和LOB</h3>
               <div>
                  <p>您可以使用SQL * Loader批量加载对象，集合和LOB。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4">支持的对象类型</a><br>SQL * Loader支持加载列和行对象类型。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611">支持的集合类型</a><br>SQL * Loader支持加载嵌套表和<code class="codeph">VARRAY</code>集合类型。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-68F9967D-6D20-4501-99C1-C87FCD1AF5F1">支持的LOB数据类型</a><br>LOB是一种大型对象类型。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1002"></a><div class="props_rev_3"><a id="GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4" name="GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4"></a><h4 id="SUTIL-GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4" class="sect4"><span class="enumeration_section">7.10.1</span>支持的对象类型</h4>
                  <div>
                     <p>SQL * Loader支持加载列和行对象类型。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-920AF739-3E44-46C6-9EF8-97B7B4BD3C04">列对象</a><br>当表的列具有某种对象类型时，该列中的对象称为列对象。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-8FE69285-C515-401B-80B0-0E8ECA6C1413">行对象</a><br>这些对象存储在表（称为对象表）中，这些表具有与对象属性对应的列。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C" title="您可以使用SQL * Loader批量加载对象，集合和LOB。">加载对象，集合和LOB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL1003"></a><div class="props_rev_3"><a id="GUID-920AF739-3E44-46C6-9EF8-97B7B4BD3C04" name="GUID-920AF739-3E44-46C6-9EF8-97B7B4BD3C04"></a><h5 id="SUTIL-GUID-920AF739-3E44-46C6-9EF8-97B7B4BD3C04" class="sect5"><span class="enumeration_section">7.10.1.1</span>列对象</h5>
                     <div>
                        <p>当表的列具有某种对象类型时，该列中的对象称为列对象。</p>
                        <p>从概念上讲，这些对象整体存储在一行中的单个列位置中。这些对象没有对象标识符，无法引用。</p>
                        <p>如果列对象的对象类型声明为非最终对象，则SQL * Loader允许将派生类型（或子类型）加载到列对象中。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4" title="SQL * Loader支持加载列和行对象类型。">支持的对象类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL1004"></a><div class="props_rev_3"><a id="GUID-8FE69285-C515-401B-80B0-0E8ECA6C1413" name="GUID-8FE69285-C515-401B-80B0-0E8ECA6C1413"></a><h5 id="SUTIL-GUID-8FE69285-C515-401B-80B0-0E8ECA6C1413" class="sect5"><span class="enumeration_section">7.10.1.2</span>行对象</h5>
                     <div>
                        <p>这些对象存储在表（称为对象表）中，这些表具有与对象属性对应的列。</p>
                        <p>对象表有一个额外的系统生成列，称为<code class="codeph">SYS_NC_OID$,</code>它为表中的每个对象存储系统生成的唯一标识符（OID）。其他表中的列可以使用OID引用这些对象。
                        </p>
                        <p>如果声明对象表的对象类型是非最终的，则SQL * Loader允许将派生类型（或子类型）加载到行对象中。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8FE69285-C515-401B-80B0-0E8ECA6C1413__GUID-A0303602-E5B8-4C8D-AE2F-C2287DF46B31">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="loading-objects-oracle-sql-loader.html#GUID-13D3C6B4-209C-46CA-B0CD-57FB3FA37776" title="控制文件中的列对象根据其属性进行描述。">加载列对象</a></p>
                              </li>
                              <li>
                                 <p><a href="loading-objects-oracle-sql-loader.html#GUID-6BA4C022-77C8-4738-9AFD-E52252036DE7" title="加载对象表所需的控制文件语法几乎与用于加载典型关系表的语法相同。">加载对象表</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-FE9D5297-F833-47FD-BFD6-C554989E51D4" title="SQL * Loader支持加载列和行对象类型。">支持的对象类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL1005"></a><div class="props_rev_3"><a id="GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611" name="GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611"></a><h4 id="SUTIL-GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611" class="sect4"><span class="enumeration_section">7.10.2</span>支持的集合类型</h4>
                  <div>
                     <p>SQL * Loader支持加载嵌套表和<code class="codeph">VARRAY</code>集合类型。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-E91CDDF4-825E-4EF7-85DE-3B3533A2F6E0">嵌套表</a><br>嵌套表是在另一个表中显示为列的表。
                        </li>
                        <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-1272FCFE-F3D0-4B5A-BD12-56D988B7EE6C">可变数组</a><br><code class="codeph">VARRAY</code>是一个可变大小的数组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C" title="您可以使用SQL * Loader批量加载对象，集合和LOB。">加载对象，集合和LOB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL1006"></a><div class="props_rev_3"><a id="GUID-E91CDDF4-825E-4EF7-85DE-3B3533A2F6E0" name="GUID-E91CDDF4-825E-4EF7-85DE-3B3533A2F6E0"></a><h5 id="SUTIL-GUID-E91CDDF4-825E-4EF7-85DE-3B3533A2F6E0" class="sect5"><span class="enumeration_section">7.10.2.1</span>嵌套表</h5>
                     <div>
                        <p>嵌套表是在另一个表中显示为列的表。</p>
                        <p>可以在嵌套表上执行可以在其他表上执行的所有操作。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611" title="SQL * Loader支持加载嵌套表和VARRAY集合类型。">支持的集合类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL1007"></a><div class="props_rev_3"><a id="GUID-1272FCFE-F3D0-4B5A-BD12-56D988B7EE6C" name="GUID-1272FCFE-F3D0-4B5A-BD12-56D988B7EE6C"></a><h5 id="SUTIL-GUID-1272FCFE-F3D0-4B5A-BD12-56D988B7EE6C" class="sect5"><span class="enumeration_section">7.10.2.2 VARRAY</span></h5>
                     <div>
                        <p><code class="codeph">VARRAY</code>是一个可变大小的数组。
                        </p>
                        <p>数组是一组有序的内置类型或对象，称为元素。每个数组元素都是相同的类型，并且有一个索引，它是一个与元素在<code class="codeph">VARRAY.</code>的位置相对应的数字<code class="codeph">VARRAY.</code> 
                        </p>
                        <p>创建<code class="codeph">VARRAY</code>类型时，必须指定最大大小。一旦声明了<code class="codeph">VARRAY</code>类型，它就可以用作关系表的列的数据类型，作为对象类型属性，或作为PL / SQL变量。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1272FCFE-F3D0-4B5A-BD12-56D988B7EE6C__GUID-47448E88-F25D-4AE6-8816-E8FDC63349D0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="loading-objects-oracle-sql-loader.html#GUID-B769A8EC-48F4-4E8E-8896-2D7A5463112C" title="与LOB一样，可以从主数据文件（数据内联）或辅助数据文件（数据脱机）加载集合。">加载集合（嵌套表和VARRAY）</a>以获取有关使用SQL * Loader控制文件数据定义语言加载这些集合类型的详细信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-EEFF26E0-2722-44DB-A78D-B1B174C79611" title="SQL * Loader支持加载嵌套表和VARRAY集合类型。">支持的集合类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL1008"></a><div class="props_rev_3"><a id="GUID-68F9967D-6D20-4501-99C1-C87FCD1AF5F1" name="GUID-68F9967D-6D20-4501-99C1-C87FCD1AF5F1"></a><h4 id="SUTIL-GUID-68F9967D-6D20-4501-99C1-C87FCD1AF5F1" class="sect4"><span class="enumeration_section">7.10.3</span>支持的LOB数据类型</h4>
                  <div>
                     <p>LOB是一种大型对象类型。</p>
                     <p>此版本的SQL * Loader支持加载四种LOB数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BLOB</code> ：包含非结构化二进制数据的LOB</p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOB</code> ：包含字符数据的LOB</p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code> ：包含数据库国家字符集中的字符的LOB</p>
                        </li>
                        <li>
                           <p><code class="codeph">BFILE</code> ：存储在服务器端操作系统文件中的数据库表空间之外的<code class="codeph">BLOB</code></p>
                        </li>
                     </ul>
                     <p>LOB可以是列数据类型，除<code class="codeph">NCLOB</code> ，它们可以是对象的属性数据类型。LOB可以具有实际值，它们可以为<code class="codeph">null</code> ，或者它们可以是“空的”。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-68F9967D-6D20-4501-99C1-C87FCD1AF5F1__GUID-685B7C3C-151E-42CA-9BCB-9AD7CAC10694">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="loading-objects-oracle-sql-loader.html#GUID-3637F462-436A-4F6B-B243-03FB3177CA80" title="该部分描述了加载LOB。">加载LOB</a>以获取有关使用SQL * Loader控制文件数据定义语言加载这些LOB类型的详细信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-6970C8C0-6EBC-4FC3-AABE-51EA2595850C" title="您可以使用SQL * Loader批量加载对象，集合和LOB。">加载对象，集合和LOB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL1009"></a><div class="props_rev_3"><a id="GUID-08137A98-9FE9-43F5-B976-BE4EF18068F3" name="GUID-08137A98-9FE9-43F5-B976-BE4EF18068F3"></a><h3 id="SUTIL-GUID-08137A98-9FE9-43F5-B976-BE4EF18068F3" class="sect3"><span class="enumeration_section">7.11</span>分区对象支持</h3>
               <div>
                  <p>SQL * Loader支持在数据库中加载分区对象。</p>
                  <p>Oracle数据库中的分区对象是由已经分组的分区（片段）组成的表或索引，通常由公共逻辑属性组成。例如，特定年份的销售数据可能按月划分。每个月的数据存储在sales表的单独分区中。每个分区都存储在数据库的单独段中，并且可以具有不同的物理属性。</p>
                  <p>SQL * Loader分区对象支持使SQL * Loader能够加载以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>分区表的单个分区</p>
                     </li>
                     <li>
                        <p>分区表的所有分区</p>
                     </li>
                     <li>
                        <p>一个未分区的表</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1010"></a><div class="props_rev_3"><a id="GUID-615F67C7-A02E-425B-AFB8-2843082AF4D9" name="GUID-615F67C7-A02E-425B-AFB8-2843082AF4D9"></a><h3 id="SUTIL-GUID-615F67C7-A02E-425B-AFB8-2843082AF4D9" class="sect3"><span class="enumeration_section">7.12</span>应用程序开发：直接路径加载API</h3>
               <div>
                  <p>Oracle为应用程序开发人员提供了直接路径加载API。</p>
                  <p>有关更多信息，请参阅<a href="../lnoci/introduction.html#LNOCI010" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1011"></a><div class="props_rev_3"><a id="GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" name="GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323"></a><h3 id="SUTIL-GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" class="sect3"><span class="enumeration_section">7.13</span> SQL * Loader案例研究</h3>
               <div>
                  <p>SQL * Loader功能在各种案例研究中有所说明。</p>
                  <p>案例研究基于用户<code class="codeph">scott</code>拥有的Oracle演示数据库表<code class="codeph">emp</code>和<code class="codeph">dept</code> 。（在某些案例研究中，添加了其他列。）案例研究编号为1到11，从最简单的方案开始，并在复杂性方面取得进展。
                  </p>
                  <div class="infoboxnote" id="GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323__GUID-00795B5D-0D01-45A2-A0E0-718FC1C9CE42">
                     <p class="notep1">注意：</p>
                     <p>案例研究中使用的文件位于<code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中。安装Oracle Database 1 <span class="italic">2c</span>示例（以前称为Companion）介质时会安装这些文件。有关文件的名称，请参阅<a href="oracle-sql-loader-concepts.html#GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75__G1022881" title="SQL * Loader案例研究列表及其相关文件">表7-1</a> 。
                     </p>
                  </div>
                  <p>以下是案例研究的摘要：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>案例研究1：加载可变长度数据 - 加载流格式记录，其中字段以逗号结尾，并且可以用引号括起来。数据位于控制文件的末尾。</p>
                     </li>
                     <li>
                        <p>案例研究2：加载固定格式字段 - 从单独的数据文件加载数据。</p>
                     </li>
                     <li>
                        <p>案例研究3：加载定界的自由格式文件 - 从带有分隔字段和序列号的流格式记录中加载数据。数据位于控制文件的末尾。</p>
                     </li>
                     <li>
                        <p>案例研究4：加载组合物理记录 - 将多个物理记录组合到一个对应于一个数据库行的逻辑记录中。</p>
                     </li>
                     <li>
                        <p>案例研究5：将数据加载到多个表中 - 在一次运行中将数据加载到多个表中。</p>
                     </li>
                     <li>
                        <p>案例研究6：使用直接路径加载方法加载数据 - 使用直接路径加载方法加载数据。</p>
                     </li>
                     <li>
                        <p>案例研究7：从格式化报告中提取数据 - 从格式化报告中提取数据。</p>
                     </li>
                     <li>
                        <p>案例研究8：加载分区表 - 加载分区表。</p>
                     </li>
                     <li>
                        <p>案例研究9：加载LOBFILE（CLOB） - 将一个名为<code class="codeph">resume</code>的<code class="codeph">CLOB</code>列添加到表<code class="codeph">emp</code> ，使用<code class="codeph">FILLER</code>字段（ <code class="codeph">res_file</code> ），并将多个LOBFILE加载到<code class="codeph">emp</code>表中。
                        </p>
                     </li>
                     <li>
                        <p>案例研究10：REF字段和<code class="codeph">VARRAY</code> - 加载具有主键作为其OID的客户表，并将订单项存储在<code class="codeph">VARRAY</code> 。加载一个订单表，该表具有对客户表的引用和<code class="codeph">VARRAY</code>的订单商品。</p>
                     </li>
                     <li>
                        <p>案例研究11：在Unicode字符集中加载数据 - 以小端字节顺序加载Unicode字符集UTF16中的数据。本案例研究使用字符长度语义。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75">案例研究文件</a><br>本节介绍案例研究文件。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-EC342EAB-7C67-4D89-99AF-50D8B14EE4E9">运行案例研究</a><br>本节介绍运行案例研究。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-6FD9A3AD-4A0E-49AA-912D-9BCA8B16B5EE">案例研究日志文件</a><br><code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中未提供案例研究的日志文件。
                     </li>
                     <li class="ulchildlink"><a href="oracle-sql-loader-concepts.html#GUID-20FBD23C-0D58-40A7-AB6E-719837089870">检查案例研究的结果</a><br>要检查运行案例研究的结果，请启动SQL * Plus并从案例研究中加载的表中执行选择操作。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" title="这些部分描述了SQL * Loader概念。">SQL * Loader概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL3322"></a><a id="SUTIL1012"></a><div class="props_rev_3"><a id="GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75" name="GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75"></a><h4 id="SUTIL-GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75" class="sect4"><span class="enumeration_section">7.13.1</span>案例研究文件</h4>
                  <div>
                     <p>本节介绍案例研究文件。</p>
                     <div class="section">
                        <p>通常，每个案例研究都包含以下类型的文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>控制文件（例如， <code class="codeph">ulcase5.ctl</code> ）</p>
                           </li>
                           <li>
                              <p>数据文件（例如， <code class="codeph">ulcase5.dat</code> ）</p>
                           </li>
                           <li>
                              <p>安装文件（例如， <code class="codeph">ulcase5.sql</code> ）</p>
                           </li>
                        </ul>
                        <p>安装Oracle Database 12 <span class="italic">c</span>示例（以前称为Companion）介质时会安装这些文件。它们安装在<code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中。
                        </p>
                        <p>如果案例研究的样本数据包含在控制文件中，那么将没有。该案例的<code class="codeph">dat</code>文件。
                        </p>
                        <p>案例研究2不需要任何特殊设置，因此没有。这种情况的<code class="codeph">sql</code>脚本。案例研究7要求您运行启动（设置）脚本和结束（清理）脚本。
                        </p>
                        <p><a href="oracle-sql-loader-concepts.html#GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75__G1022881" title="SQL * Loader案例研究列表及其相关文件">表7-1</a>列出了与每种情况相关的文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-79CAAF8B-0DAA-413A-9AEA-AA01F8121A75__G1022881">
                        <p class="titleintable">表7-1案例研究及其相关文件</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="案例研究及其相关文件" width="100%" border="1" summary="List of SQL*Loader case studies and their related files" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d48197e3568">案件</th>
                                 <th align="left" valign="bottom" width="28%" id="d48197e3571">.CTL</th>
                                 <th align="left" valign="bottom" width="28%" id="d48197e3576">.DAT</th>
                                 <th align="left" valign="bottom" width="28%" id="d48197e3581">.SQL</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3588" headers="d48197e3568 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3588 d48197e3571 ">
                                    <p>ulcase1.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3588 d48197e3576 ">
                                    <p>N / A</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3588 d48197e3581 ">
                                    <p>ulcase1.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3601" headers="d48197e3568 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3601 d48197e3571 ">
                                    <p>ulcase2.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3601 d48197e3576 ">
                                    <p>ulcase2.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3601 d48197e3581 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3614" headers="d48197e3568 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3614 d48197e3571 ">
                                    <p>ulcase3.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3614 d48197e3576 ">
                                    <p>N / A</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3614 d48197e3581 ">
                                    <p>ulcase3.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3627" headers="d48197e3568 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3627 d48197e3571 ">
                                    <p>ulcase4.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3627 d48197e3576 ">
                                    <p>ulcase4.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3627 d48197e3581 ">
                                    <p>ulcase4.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3640" headers="d48197e3568 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3640 d48197e3571 ">
                                    <p>ulcase5.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3640 d48197e3576 ">
                                    <p>ulcase5.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3640 d48197e3581 ">
                                    <p>ulcase5.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3653" headers="d48197e3568 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3653 d48197e3571 ">
                                    <p>ulcase6.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3653 d48197e3576 ">
                                    <p>ulcase6.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3653 d48197e3581 ">
                                    <p>ulcase6.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3666" headers="d48197e3568 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3666 d48197e3571 ">
                                    <p>ulcase7.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3666 d48197e3576 ">
                                    <p>ulcase7.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3666 d48197e3581 ">
                                    <p>ulcase7s.sql</p>
                                    <p>ulcase7e.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3681" headers="d48197e3568 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3681 d48197e3571 ">
                                    <p>ulcase8.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3681 d48197e3576 ">
                                    <p>ulcase8.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3681 d48197e3581 ">
                                    <p>ulcase8.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3694" headers="d48197e3568 ">
                                    <p>9</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3694 d48197e3571 ">
                                    <p>ulcase9.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3694 d48197e3576 ">
                                    <p>ulcase9.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3694 d48197e3581 ">
                                    <p>ulcase9.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3707" headers="d48197e3568 ">
                                    <p>10</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3707 d48197e3571 ">
                                    <p>ulcase10.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3707 d48197e3576 ">
                                    <p>N / A</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3707 d48197e3581 ">
                                    <p>ulcase10.sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d48197e3720" headers="d48197e3568 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3720 d48197e3571 ">
                                    <p>ulcase11.ctl</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3720 d48197e3576 ">
                                    <p>ulcase11.dat</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d48197e3720 d48197e3581 ">
                                    <p>ulcase11.sql</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例研究</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1013"></a><div class="props_rev_3"><a id="GUID-EC342EAB-7C67-4D89-99AF-50D8B14EE4E9" name="GUID-EC342EAB-7C67-4D89-99AF-50D8B14EE4E9"></a><h4 id="SUTIL-GUID-EC342EAB-7C67-4D89-99AF-50D8B14EE4E9" class="sect4"><span class="enumeration_section">7.13.2</span>运行案例研究</h4>
                  <div>
                     <p>本节介绍运行案例研究。</p>
                     <div class="section">
                        <p>通常，您使用以下步骤来运行案例研究（确保您位于<code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中，这是案例研究文件所在的目录）：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在系统提示符下，键入<code class="codeph">sqlplus</code>并按Enter键以启动SQL * Plus。在用户名提示符下，输入<code class="codeph">scott</code> 。在密码提示下，输入<code class="codeph">tiger</code> 。</span><div>
                              <p>将显示SQL提示符。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在SQL提示符下，执行案例研究的SQL脚本。例如，要为案例研究1执行SQL脚本，请输入以下内容：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ ulcase1</pre><p>这将为案例研究准备和填充表格，然后返回系统提示符。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在系统提示符下，启动SQL * Loader并运行案例研究，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">sqlldr USERID = scott CONTROL = <span class="italic"><code class="codeph">ulcase1.ctl</code></span> LOG = <span class="italic"><code class="codeph">ulcase1.log</code></span>
</pre><p>替换<code class="codeph">CONTROL</code>和<code class="codeph">LOG</code>参数的相应控制文件名和日志文件名，然后按Enter键。系统提示您输入密码时，键入<code class="codeph">tiger</code> ，然后按Enter键。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>在运行之前，请务必阅读每个案例研究的控制文件。控制文件的开头包含有关案例研究中演示内容的信息以及您需要了解的任何其他特殊信息。例如，案例研究6要求您将<code class="codeph">DIRECT=TRUE</code>添加到SQL * Loader命令行。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例研究</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1014"></a><div class="props_rev_3"><a id="GUID-6FD9A3AD-4A0E-49AA-912D-9BCA8B16B5EE" name="GUID-6FD9A3AD-4A0E-49AA-912D-9BCA8B16B5EE"></a><h4 id="SUTIL-GUID-6FD9A3AD-4A0E-49AA-912D-9BCA8B16B5EE" class="sect4"><span class="enumeration_section">7.13.3</span>案例研究日志文件</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中未提供案例研究的日志文件。
                     </p>
                     <p>这是因为如果您使用<code class="codeph">LOG</code>参数，则在执行案例研究时会生成每个案例研究的日志文件。如果您不想生成日志文件，请从命令行中省略<code class="codeph">LOG</code>参数。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例研究</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1015"></a><div class="props_rev_3"><a id="GUID-20FBD23C-0D58-40A7-AB6E-719837089870" name="GUID-20FBD23C-0D58-40A7-AB6E-719837089870"></a><h4 id="SUTIL-GUID-20FBD23C-0D58-40A7-AB6E-719837089870" class="sect4"><span class="enumeration_section">7.13.4</span>检查案例研究的结果</h4>
                  <div>
                     <p>要检查运行案例研究的结果，请启动SQL * Plus并从案例研究中加载的表中执行选择操作。</p>
                     <div class="section">
                        <p>这样做完成如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在系统提示符下，键入<code class="codeph">sqlplus</code>并按Enter键以启动SQL * Plus。在用户名提示符下，输入<code class="codeph">scott</code> 。在密码提示下，输入<code class="codeph">tiger</code> 。</span><div>
                              <p>将显示SQL提示符。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在SQL提示符下，使用<code class="codeph">SELECT</code>语句从案例研究加载的表中选择所有行。例如，如果加载了表<code class="codeph">emp</code> ，则输入：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM emp;</pre><p>将显示<code class="codeph">emp</code>表中每行的内容。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-sql-loader-concepts.html#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323" title="SQL * Loader功能在各种案例研究中有所说明。">SQL * Loader案例研究</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00988.DBMS_CQ_NOTIFICATION.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_CQ_NOTIFICATION package is part of the database change notification feature that provides the functionality to create registration on queries designated by a client application and so to receive notifications in response to DML or DDL changes on the objects associated with the queries. The notifications are published by the database when the DML or DDL transaction commits."></meta>
      <meta name="description" content="The DBMS_CQ_NOTIFICATION package is part of the database change notification feature that provides the functionality to create registration on queries designated by a client application and so to receive notifications in response to DML or DDL changes on the objects associated with the queries. The notifications are published by the database when the DML or DDL transaction commits."></meta>
      <title>DBMS_CQ_NOTIFICATION</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_CQ_NOTIFICATION package is part of the database change notification feature that provides the functionality to create registration on queries designated by a client application and so to receive notifications in response to DML or DDL changes on the objects associated with the queries. The notifications are published by the database when the DML or DDL transaction commits."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_CONNECTION_POOL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_CREDENTIAL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_CONNECTION_POOL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_CREDENTIAL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_CQ_NOTIFICATION</li>
            </ol>
            <a id="GUID-02733C2D-4C40-4558-9988-3486DF0FA268" name="GUID-02733C2D-4C40-4558-9988-3486DF0FA268"></a><a id="ARPLS201"></a><a id="ARPLS201"></a>
            
            <h2 id="ARPLS-GUID-02733C2D-4C40-4558-9988-3486DF0FA268" class="sect2"><span class="enumeration_chapter">37</span> DBMS_CQ_NOTIFICATION</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">The DBMS_CQ_NOTIFICATION</code>包是数据库更改通知功能的一部分，该功能提供了对客户端应用程序指定的查询创建注册的功能，以便接收通知以响应与查询关联的对象的DML或DDL更改。当DML或DDL事务提交时，通知由数据库发布。
               </p>
               <div class="infoboxnotealso" id="GUID-02733C2D-4C40-4558-9988-3486DF0FA268__GUID-6ADCF549-5D34-470A-9F71-64C0894BA83E">
                  <p class="notep1">也可以看看：</p>
                  <p>有关实施数据库更改通知的<a href="../adfns/cqn.html#ADFNS018" target="_blank"><span class="italic">Oracle数据库开发指南</span></a>
                  </p>
               </div>
               <p>本章包含以下主题：<a id="d186645e95" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-181A77A5-BCA3-4050-B31E-9AC092294CF3" title="DBMS_CQ_NOTIFICATION包提供基于PL / SQL的注册接口。客户端可以使用此接口基于感兴趣的对象在查询上创建注册，并指定PL / SQL回调处理程序以接收通知。在对象级别注册的情况下，当事务更改与已注册查询和| COMMIT | s关联的任何对象时，将调用在注册这些对象期间指定的PL / SQL回调。应用程序可以在其PL / SQL回调处理程序的实现中定义特定于客户端的处理。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-299A450B-5DF0-48B6-9795-C5E3913716B9" title="DBMS_CQ_NOTIFICATION包要求用户具有CHANGE NOTIFICATION系统特权才能接收通知，并被授予DBMS_CQ_NOTIFICATION包的EXECUTE特权。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-766AE3C6-D1ED-4B7E-B346-82EC6C8C77ED" title="DBMS_CQ_NOTIFICATION常量在注册期间或在通知期间接收时用作标志参数。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-359BFA35-64EF-477D-B98D-96E5373888E6" title="以下是DBMS_CQ_NOTIFICATION操作说明。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534" title="假设中间层应用程序在HR.EMPLOYEES表上有很多查询。如果不经常更新EMPLOYEES表，则可以通过缓存表中的行来获得更好的性能，因为这样可以避免后端数据库服务器的往返和服务器端执行延迟。我们假设应用程序已实现了一个中间层HTTP侦听器，该侦听器侦听通知并更新中间层缓存以响应通知。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-542B69EF-9E64-4E9B-A15F-C69BE5747622" title="DBMS_CQ_NOTIFICATION包定义了几种OBJECT类型。">数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-5F2171F0-D166-4BE2-B2D0-F5C370979FBC" title="该表列出了DBMS_CQ_NOTIFICATION子程序并简要描述了它们。">DBMS_CQ_NOTIFICATION子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS65635"></a><a id="ARPLS65636"></a><a id="ARPLS65636"></a><a id="ARPLS65635"></a><div class="props_rev_3"><a id="GUID-181A77A5-BCA3-4050-B31E-9AC092294CF3" name="GUID-181A77A5-BCA3-4050-B31E-9AC092294CF3"></a><h3 id="ARPLS-GUID-181A77A5-BCA3-4050-B31E-9AC092294CF3" class="sect3"><span class="enumeration_section">37.1</span> DBMS_CQ_NOTIFICATION概述</h3>
               <div>
                  <p><code class="codeph">The DBMS_CQ_NOTIFICATION</code>包提供基于PL / SQL的注册接口。客户端可以使用此接口基于感兴趣的对象在查询上创建注册，并指定PL / SQL回调处理程序以接收通知。在对象级别注册的情况下，当事务更改与已注册查询和| COMMIT | s关联的任何对象时，将调用在注册这些对象期间指定的PL / SQL回调。应用程序可以在其PL / SQL回调处理程序的实现中定义特定于客户端的处理。
                  </p>
                  <div class="section">
                     <p>该界面允许您定义注册块（使用类似于<code class="codeph">BEGIN-END</code>块的机制）。可以在BEGIN阶段指定通知的接收者，即PL / SQL回调处理程序的名称和一些其他注册属性（如超时）。随后执行的任何查询（在注册块内）被认为是“有趣的查询”，并且在查询执行期间由这些查询引用的对象被注册。注册是通过<code class="codeph">END</code>注册块完成的。通过注册块，您可以创建新注册或向现有注册添加对象。
                     </p>
                     <p>通过PL / SQL接口创建注册时，RDBMS会为注册分配唯一的注册ID。客户端应用程序可以使用注册ID来跟踪它创建的注册。当RDBMS发布通知时，注册ID将成为通知的一部分。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-181A77A5-BCA3-4050-B31E-9AC092294CF3__GUID-550C89A9-A1C4-45DB-BEB9-54B457945773">典型应用</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>例如，此功能对于在中间层中的大多数只读对象上缓存查询结果集的应用程序非常有用，以避免网络往返数据库。这样的应用程序可以在对缓存感兴趣的查询上创建注册。在对这些查询中引用的对象的更改时，数据库会在基础事务提交时发布通知。响应该通知，中间层应用程序可以通过重新执行查询/查询来刷新其缓存。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65637"></a><a id="ARPLS65637"></a><div class="props_rev_3"><a id="GUID-299A450B-5DF0-48B6-9795-C5E3913716B9" name="GUID-299A450B-5DF0-48B6-9795-C5E3913716B9"></a><h3 id="ARPLS-GUID-299A450B-5DF0-48B6-9795-C5E3913716B9" class="sect3"><span class="enumeration_section">37.2</span> DBMS_CQ_NOTIFICATION安全模型</h3>
               <div>
                  <p><code class="codeph">The DBMS_CQ_NOTIFICATION</code>包要求用户具有<code class="codeph">CHANGE</code> <code class="codeph">NOTIFICATION</code>系统特权才能接收通知，并被授予<code class="codeph">DBMS_CQ_NOTIFICATION</code>包的<code class="codeph">EXECUTE</code>特权。
                  </p>
                  <div class="section">
                     <p>此外，要求用户对要注册的所有对象具有<code class="codeph">SELECT</code>或<code class="codeph">READ</code>权限。请注意，如果对象的<code class="codeph">SELECT</code>或<code class="codeph">READ</code>权限在创建注册时被授予但随后丢失（由于撤销），则将清除注册并发布有关该效果的通知。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65638"></a><a id="ARPLS65639"></a><a id="ARPLS65639"></a><a id="ARPLS65638"></a><div class="props_rev_3"><a id="GUID-766AE3C6-D1ED-4B7E-B346-82EC6C8C77ED" name="GUID-766AE3C6-D1ED-4B7E-B346-82EC6C8C77ED"></a><h3 id="ARPLS-GUID-766AE3C6-D1ED-4B7E-B346-82EC6C8C77ED" class="sect3"><span class="enumeration_section">37.3</span> DBMS_CQ_NOTIFICATION常量</h3>
               <div>
                  <p>DBMS_CQ_NOTIFICATION常量在注册期间或在通知期间接收时用作标志参数。</p>
                  <div class="section">
                     <p><code class="codeph">DBMS_CQ_NOTIFICATION</code>包有一组常量：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">EVENT_STARTUP</code> ， <code class="codeph">EVENT_SHUTDOWN</code> ， <code class="codeph">EVENT_SHUTDOWN_ANY</code> ， <code class="codeph">EVENT_DEREG</code>描述数据库发布的通知的类型。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INSERTOP</code> ， <code class="codeph">DELETEOP</code> ， <code class="codeph">UPDATEOP</code> ， <code class="codeph">ALTEROP</code> ， <code class="codeph">DROPOP</code>和<code class="codeph">UNKNOWNOP</code>描述了表上的操作类型（在数据库发布的通知期间）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">QOS_RELIABLE</code> ， <code class="codeph">QOS_DEREG_NFY</code> ， <code class="codeph">QOS_ROWIDs</code>描述了客户端所需的注册服务质量属性。这些是在注册期间指定的。
                           </p>
                        </li>
                     </ul>
                     <p>常量如下表所示。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-766AE3C6-D1ED-4B7E-B346-82EC6C8C77ED__CIHHIGIG">
                     <p class="titleintable">表37-1 DBMS_CQ_NOTIFICATION常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CQ_NOTIFICATION常量" width="100%" border="1" summary="This table describes the Constants used by DBMS_CQ_NOTIFICATION subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d186645e565">名称</th>
                              <th align="left" valign="bottom" width="22%" id="d186645e568">类型</th>
                              <th align="left" valign="bottom" width="8%" id="d186645e571">值</th>
                              <th align="left" valign="bottom" width="43%" id="d186645e574">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e579" headers="d186645e565 ">
                                 <p><code class="codeph">ALL_OPERATIONS</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e579 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e579 d186645e571 ">
                                 <p><code class="codeph">0</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e579 d186645e574 ">
                                 <p>有兴趣收到所有操作的通知，在注册期间指定为参数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e595" headers="d186645e565 ">
                                 <p><code class="codeph">ALL_ROWS</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e595 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e595 d186645e571 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e595 d186645e574 ">
                                 <p>表中的所有行都可能已被修改</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e611" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_STARTUP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e611 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e611 d186645e571 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e611 d186645e574 ">
                                 <p>实例启动通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e627" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_SHUTDOWN</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e627 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e627 d186645e571 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e627 d186645e574 ">
                                 <p>实例关闭通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e643" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_SHUTDOWN_ANY</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e643 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e643 d186645e571 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e643 d186645e574 ">
                                 <p>运行Oracle Real Application Clusters（Oracle RAC）时关闭的任何实例</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e659" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_DEREG</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e659 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e659 d186645e571 ">
                                 <p><code class="codeph">五</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e659 d186645e574 ">
                                 <p>注册已被删除</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e675" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_OBJCHANGE</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e675 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e675 d186645e571 ">
                                 <p><code class="codeph">6</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e675 d186645e574 ">
                                 <p>对象更改通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e691" headers="d186645e565 ">
                                 <p><code class="codeph">EVENT_QUERYCHANGE</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e691 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e691 d186645e571 ">
                                 <p><code class="codeph">7</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e691 d186645e574 ">
                                 <p>查询结果集更改通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e707" headers="d186645e565 ">
                                 <p><code class="codeph">INSERTOP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e707 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e707 d186645e571 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e707 d186645e574 ">
                                 <p>插入操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e723" headers="d186645e565 ">
                                 <p><code class="codeph">UPDATEOP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e723 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e723 d186645e571 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e723 d186645e574 ">
                                 <p>更新操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e739" headers="d186645e565 ">
                                 <p><code class="codeph">DELETEOP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e739 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e739 d186645e571 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e739 d186645e574 ">
                                 <p>删除操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e756" headers="d186645e565 ">
                                 <p><code class="codeph">ALTEROP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e756 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e756 d186645e571 ">
                                 <p><code class="codeph">16</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e756 d186645e574 ">
                                 <p>表改变了</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e772" headers="d186645e565 ">
                                 <p><code class="codeph">DROPOP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e772 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e772 d186645e571 ">
                                 <p><code class="codeph">32</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e772 d186645e574 ">
                                 <p>表丢了</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e788" headers="d186645e565 ">
                                 <p><code class="codeph">UNKNOWNOP</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e788 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e788 d186645e571 ">
                                 <p><code class="codeph">64</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e788 d186645e574 ">
                                 <p>未知的操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e804" headers="d186645e565 ">
                                 <p><code class="codeph">QOS_RELIABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e804 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e804 d186645e571 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e804 d186645e574 ">
                                 <p>可靠或持久的通知。还意味着通知将通过提交事务以原子方式插入到持久存储中，从而导致对象发生更改。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e820" headers="d186645e565 ">
                                 <p><code class="codeph">QOS_DEREG_NFY</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e820 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e820 d186645e571 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e820 d186645e574 ">
                                 <p>首次通知时清除注册</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e836" headers="d186645e565 ">
                                 <p><code class="codeph">QOS_ROWIDS</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e836 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e836 d186645e571 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e836 d186645e574 ">
                                 <p>需要已修改行的rowid</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e852" headers="d186645e565 ">
                                 <p><code class="codeph">QOS_QUERY</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e852 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e852 d186645e571 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e852 d186645e574 ">
                                 <p>以查询粒度注册</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e868" headers="d186645e565 ">
                                 <p><code class="codeph">QOS_BEST_EFFORT</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e868 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e868 d186645e571 ">
                                 <p><code class="codeph">16</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e868 d186645e574 ">
                                 <p>尽力评估</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e884" headers="d186645e565 ">
                                 <p><code class="codeph">NTFN_GROUPING_CLASS_TIME</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e884 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e884 d186645e571 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e884 d186645e574 ">
                                 <p>按时间分组通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e900" headers="d186645e565 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE_SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e900 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e900 d186645e571 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e900 d186645e574 ">
                                 <p>通知摘要分组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e916" headers="d186645e565 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE_LAST</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e916 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e916 d186645e571 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e916 d186645e574 ">
                                 <p>组中的最后通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d186645e933" headers="d186645e565 ">
                                 <p><code class="codeph">NTFN_GROUPING_FOREVER</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d186645e933 d186645e568 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="8%" headers="d186645e933 d186645e571 ">
                                 <p><code class="codeph">-1</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d186645e933 d186645e574 ">
                                 <p>永远重复通知</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS65640"></a><a id="ARPLS65641"></a><a id="ARPLS65641"></a><a id="ARPLS65640"></a><div class="props_rev_3"><a id="GUID-359BFA35-64EF-477D-B98D-96E5373888E6" name="GUID-359BFA35-64EF-477D-B98D-96E5373888E6"></a><h3 id="ARPLS-GUID-359BFA35-64EF-477D-B98D-96E5373888E6" class="sect3"><span class="enumeration_section">37.4</span> DBMS_CQ_NOTIFICATION操作说明</h3>
               <div>
                  <p>以下是DBMS_CQ_NOTIFICATION操作说明。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-359BFA35-64EF-477D-B98D-96E5373888E6__GUID-00698BF2-D839-4F0C-8115-E0D18EA32480">对象级注册</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当事务更改已注册的对象和<code class="codeph">COMMIT</code>时，数据库将发布通知。
                           </p>
                        </li>
                        <li>
                           <p>从上一个<code class="codeph">NEW_REG_START</code>或<code class="codeph">ENABLE_REG</code>到<code class="codeph">REG_END</code>开始在注册块内执行的查询中引用的所有对象都被视为有趣的对象并添加到注册中。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-359BFA35-64EF-477D-B98D-96E5373888E6__GUID-F17C53B8-36CA-43B5-AF02-930776C0636B">查询结果更改注册</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当事务更改已注册查询和<code class="codeph">COMMIT</code>的结果集时，数据库将发布通知。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-359BFA35-64EF-477D-B98D-96E5373888E6__GUID-ECFDD301-D261-465C-B30F-F1C733C6B380">故障排除</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果您已创建注册，并且在更改基础表时似乎没有收到通知，请检查以下内容。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">job_queue_processes</code>参数是否设置为非零值？需要将此参数配置为非零值，以便通过处理程序接收PL / SQL通知。
                           </p>
                        </li>
                        <li>
                           <p>注册是否作为非<code class="codeph">SYS</code>用户创建？
                           </p>
                        </li>
                        <li>
                           <p>如果你正在尝试注册对象上DML变化，你<code class="codeph">COMMIT</code>荷兰国际集团的交易？请注意，通知是事务性的，并且将在事务<code class="codeph">COMMIT</code>时生成。
                           </p>
                        </li>
                        <li>
                           <p>由于实现错误，在执行PL / SQL回调期间可能存在运行时错误。如果是这样，它们将被记录到尝试执行该过程的<code class="codeph">JOBQ</code>进程的跟踪文件中。跟踪文件通常命名为&lt; <code class="codeph">ORACLE_SID</code> &gt; <code class="codeph">_j*_</code> &lt; <code class="codeph">PID</code> &gt;。 <code class="codeph">trc</code> 。“</p>
                           <p>例如，如果ORACLE_SID为“dbs1”且进程为12483，则跟踪文件可能命名为“ <code class="codeph">dbs1_j000_12483</code> 。 <code class="codeph">trc</code> 。
                           </p>
                           <p>假设使用' <code class="codeph">chnf_callback</code>作为通知处理程序并使用<code class="codeph">registration_id</code> 100创建<code class="codeph">registration_id</code> 。让我们假设用户忘记定义<code class="codeph">chnf_callback</code>过程。然后<code class="codeph">JOBQ</code>跟踪文件可能包含以下形式的消息。
                           </p><pre class="oac_no_warn" dir="ltr">执行PL / SQL时的运行时错误cnk chnf_callback for reg CHNF100 msgid的PLSQL通知错误：队列：使用者名称：PLSQL函数：chnf_callback异常发生，错误消息：ORA-00604：递归SQL级别2 ORA-06550发生错误：第1行第7列：PLS-00201：必须声明标识符'CHNF_CALLBACK'ORA-06550：第1行第7列：PL / SQL：语句被忽略</pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-359BFA35-64EF-477D-B98D-96E5373888E6__GUID-09496318-F1CD-492E-AC22-AD1DBCF87FE9">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据库更改通知疑难解答的详细信息，请参阅<a href="../adfns/cqn.html#ADFNS1020" target="_blank"><span class="italic">Oracle数据库开发指南</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73675"></a><a id="ARPLS73676"></a><a id="ARPLS73677"></a><a id="ARPLS73676"></a><a id="ARPLS73677"></a><a id="ARPLS73675"></a><div class="props_rev_3"><a id="GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534" name="GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534"></a><h3 id="ARPLS-GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534" class="sect3"><span class="enumeration_section">37.5</span> DBMS_CQ_NOTIFICATION示例</h3>
               <div>
                  <p>假设中间层应用程序在<code class="codeph">HR</code>上有很多查询。 <code class="codeph">EMPLOYEES</code>表。如果不经常更新<code class="codeph">EMPLOYEES</code>表，则可以通过缓存表中的行来获得更好的性能，因为这样可以避免后端数据库服务器的往返和服务器端执行延迟。我们假设应用程序已实现了一个中间层HTTP侦听器，该侦听器侦听通知并更新中间层缓存以响应通知。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534__GUID-DA4B45EB-A08C-4D4C-B3CB-2B60ED14B760">对象更改注册示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在此方案中，可以使用<code class="codeph">DBMS_CQ_NOTIFICATION</code>包通过以下步骤发送有关表更改的通知：</p>
                     <ol>
                        <li>
                           <p>实现缓存管理系统的中间层侦听器组件（例如，使用HTTP），该组件侦听从数据库发送的通知消息，并刷新中间层缓存以响应通知。</p>
                        </li>
                        <li>
                           <p>创建服务器端存储过程以处理通知</p><pre class="oac_no_warn" dir="ltr">CONNECT系统;输入密码： <span class="italic">密码</span> GRANT CHANGE NOTIFICATION TO hr; DBMS_CQ_NOTIFICATION到hr的GRANT EXECUTE; Rem启用作业队列进程以接收通知。ALTER SYSTEM SET“job_queue_processes”= 2;连接小时;输入密码： <span class="italic">密码</span> Rem创建一个表来记录通知事件CREATE TABLE nfevents（regid number，event_type number）; Rem创建一个表来记录已注册表的更改CREATE TABLE nftablechanges（regid number，table_name varchar2（100），table_operation number）; Rem创建一个表来记录已更改行的rowid。CREATE TABLE nfrowchanges（regid number，table_name varchar2（100），row_id varchar2（30））; Rem创建一个PL / SQL回调处理程序来处理通知。创建或替换程序chnf_callback（ntfnds IN SYS.CHNF $ _DESC）是注册号码; tbname VARCHAR2（60）; event_type NUMBER; numtables NUMBER; operation_type NUMBER; numrows NUMBER; row_id VARCHAR2（20）; BEGIN regid：= ntfnds.registration_id; numtables：= ntfnds.numtables; event_type：= ntfnds.event_type; INSERT INTO nfevents VALUES（regid，event_type）; IF（event_type = DBMS_CQ_NOTIFICATION.EVENT_OBJCHANGE）那么for i IN 1..numtables LOOP tbname：= ntfnds.table_desc_array（i）.table_name; operation_type：= ntfnds.table_desc_array（I）。Opflags; INSERT INTO nftablechanges VALUES（regid，tbname，operation_type）; / *使用UTL_HTTP将表名和operation_type发送到客户端侦听器* / / *如果对rowid感兴趣，请按以下方式获取它们* / IF（bitand（operation_type，DBMS_CQ_NOTIFICATION.ALL_ROWS）= 0）THEN numrows：= ntfnds.table_desc_array （ⅰ）.numrows; ELSE numrows：= 0; / * ROWID INFO NOT AVAILABLE * / END IF; / *当numrows为ZERO * / FOR j IN 1时，不执行循环体。读取LOOP Row_id：= ntfnds.table_desc_array（i）.row_desc_array（j）.row_id; INSERT INTO nfrowchanges VALUES（regid，tbname，Row_id）; / *可选择使用UTL_HTTP将row_id发送到客户端侦听器; * / END LOOP;结束循环;万一;承诺;结束; /</pre><p>在<span>第2步</span> <span> </span>我们可以根据从通知描述符获得的信息，发送与中间层应用程序需要的无效信息一样多的信息。
                           </p>
                           <p>笔记</p>
                           <ol type="a">
                              <li>
                                 <p>在上面的示例中，在<code class="codeph">EMPLOYEES</code>表上创建了一个注册，其中“ <code class="codeph">chnf_callback</code> ”作为通知的PL / SQL处理程序。在注册期间，客户端指定了可靠的通知（ <code class="codeph">QOS_RELIABLE</code> ）和rowid通知（ <code class="codeph">QOS_ROWIDS</code> ）</p>
                              </li>
                              <li>
                                 <p>仅当通知类型为<code class="codeph">EVENT_OBJCHANGE</code> ，处理程序才从通知描述符访问表描述符数组。在所有其他情况下（例如<code class="codeph">EVENT_DEREG</code> ， <code class="codeph">EVENT_SHUTDOWN</code> ），不应访问表描述符数组。
                                 </p>
                              </li>
                              <li>
                                 <p>仅当表操作标志中未设置<code class="codeph">ALL_ROWS</code>位时，处理程序才从表通知描述符访问行描述符数组。如果在表操作标志中设置了<code class="codeph">ALL_ROWS</code>位，则表示表中的所有行都可能已被修改。除了影响表中所有行的<code class="codeph">TRUNCATE</code>操作之外，如果单个rowid已累计到FULL表失效中，也可以设置此位。
                                 </p>
                                 <p>如果在单个事务中的给定表上修改了太多行（超过80个），或者由于RDBMS上的rowid导致的总共享内存消耗过大（超过动态共享池大小的1％），则会发生这种情况。在这种情况下，收件人必须保守地假设整个表已经失效，并且回调/应用程序必须能够处理这种情况。</p>
                                 <p>另请注意，用户定义的回调的实现取决于开发人员。在上面的示例中，回调用于将事件详细信息记录到数据库表中。应用程序还可以使用<code class="codeph">UTL_HTTP</code>将通知详细信息发送到其缓存管理系统的中间层<code class="codeph">HTTP</code>侦听器（如示例中所示）。然后，侦听器可以通过从后端数据库查询来刷新其缓存。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>在我们希望收到通知的表上创建注册。我们传入先前定义的过程名称（ <code class="codeph">chnf_callback</code> ）作为生成通知时要执行的服务器端PL / SQL过程的名称。
                           </p><pre class="oac_no_warn" dir="ltr">Rem在EMPLOYEES TABLE DECLARE REGDS SYS.CHNF $ _REG_INFO上创建注册;注册号码; mgr_id NUMBER; dept_id NUMBER; qosflags NUMBER; BEGIN qosflags：= DBMS_CQ_NOTIFICATION.QOS_RELIABLE + DBMS_CQ_NOTIFICATION.QOS_ROWIDS; REGDS：= SYS.CHNF $ _REG_INFO（'chnf_callback'，qosflags，0,0,0）; regid：= DBMS_CQ_NOTIFICATION.NEW_REG_START（REGDS）; SELECT manager_id INTO mgr_id FROM EMPLOYEES WHERE employee_id = 200; DBMS_CQ_NOTIFICATION.REG_END;结束; /</pre><p>一旦在上面的步骤3中创建了注册，就执行步骤2中定义的服务器端PL / SQL过程以响应对<code class="codeph">HR</code>任何<code class="codeph">COMMIT</code> ted改变。 <code class="codeph">EMPLOYEES</code>表。作为示例，我们假设在employees表上执行了以下更新。
                           </p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=薪水* 1.05 WHERE employee_id = 203; COMMIT;</pre><p>处理完通知后，您会在<code class="codeph">nfevents</code> ， <code class="codeph">nftablechanges</code>和<code class="codeph">nfrowchanges</code>表中找到可能如下所示的行。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM nfevents; REGID EVENT_TYPE --------------------------- 20045 6 SQL&gt; SELECT * FROM nftablechanges; REGID TABLE_NAME TABLE_OPERATION ------------------------------------------- 20045 HR.EMPLOYEES 4 SQL&gt; select * from nfrowchanges; REGID TABLE_NAME ROW_ID ----------------------------------------------- ------- 20045 HR.EMPLOYEES AAAKB / AABAAAJ8zAAF</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A252A88A-6B2D-49F9-8CB8-4F790F2B2534__GUID-48DC7885-7821-40CA-8331-8EACF4403780">查询结果更改注册示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>创建回调</p><pre class="oac_no_warn" dir="ltr">CONNECT系统;输入密码： <span class="italic">密码</span> GRANT CHANGE NOTIFICATION TO hr; DBMS_CQ_NOTIFICATION到hr的GRANT EXECUTE;连接小时;输入密码： <span class="italic">密码</span> Rem创建一个表来记录通知事件CREATE TABLE nfevents（regid NUMBER，event_type NUMBER）; Rem创建一个表来记录通知查询CREATE TABLE nfqueries（qid NUMBER，qop NUMBER）; Rem创建一个表来记录已注册表的更改CREATE TABLE nftablechanges（qid NUMBER，table_name VARCHAR2（100），table_operation NUMBER）; Rem创建一个表来记录已更改行的rowid。CREATE TABLE nfrowchanges（qid NUMBER，table_name VARCHAR2（100），row_id VARCHAR2（2000））;创建或替换程序chnf_callback（ntfnds IN CQ_NOTIFICATION $ _DESCRIPTOR）是注册号码; tbname VARCHAR2（60）; event_type NUMBER; numtables NUMBER; operation_type NUMBER; numrows NUMBER; row_id VARCHAR2（2000）; numqueries NUMBER; qid NUMBER; qop NUMBER; BEGIN regid：= ntfnds.registration_id; event_type：= ntfnds.event_type; INSERT INTO nfevents VALUES（regid，event_type）; numqueries：= 0; IF（event_type = DBMS_CQ_NOTIFICATION.EVENT_QUERYCHANGE）那么numqueries：= ntfnds.query_desc_array.count; FOR i in 1..numqueries LOOP qid：= ntfnds。QUERY_DESC_ARRAY（ⅰ）.queryid; qop：= ntfnds。QUERY_DESC_ARRAY（ⅰ）.queryop; INSERT INTO nfqueries VALUES（qid，qop）; numtables：= 0; numtables：= ntfnds。QUERY_DESC_ARRAY（ⅰ）.table_desc_array.count; FOR j IN 1..numtables LOOP tbname：= ntfnds。QUERY_DESC_ARRAY（ⅰ）.table_desc_array（J）.table_name; operation_type：= ntfnds。QUERY_DESC_ARRAY（I）.table_desc_array（J）。Opflags; INSERT INTO nftablechanges VALUES（qid，tbname，operation_type）; IF（bitand（operation_type，DBMS_CQ_NOTIFICATION.ALL_ROWS）= 0）THEN numrows：= ntfnds.query_desc_array（i）.table_desc_array（j）.numrows; ELSE numrows：= 0; / * ROWID INFO NOT AVAILABLE * / END IF; / *当numrows为ZERO * / FOR k IN 1时，不执行循环体。读取LOOP Row_id：= ntfnds.query_desc_array（i）.table_desc_array（j）.row_desc_array（k）.row_id; INSERT INTO nfrowchanges VALUES（qid，tbname，Row_id）;结束循环; / *循环行* / END LOOP; / *循环表* / END LOOP; / *循环查询* / END IF;承诺;结束; /</pre></li>
                        <li>
                           <p>创建查询注册</p><pre class="oac_no_warn" dir="ltr">DECLARE reginfo cq_notification $ _reg_info; mgr_id NUMBER; dept_id NUMBER; v_cursor SYS_REFCURSOR;注册号码; qosflags NUMBER; BEGIN / *为结果集更改通知注册两个查询：* / / * 1。构建注册信息。'chnf_callback'是通知处理程序的名称。QOS_QUERY指定结果集更改通知。* / qosflags：= DBMS_CQ_NOTIFICATION.QOS_QUERY + DBMS_CQ_NOTIFICATION.QOS_ROWIDS; reginfo：= cq_notification $ _reg_info（'chnf_callback'，qosflags，0,0,0）; / * 2。创建注册* / regid：= DBMS_CQ_NOTIFICATION.NEW_REG_START（reginfo）; OPEN v_cursor FOR SELECT DBMS_CQ_NOTIFICATION.CQ_NOTIFICATION_QUERYID，manager_id FROM HR.employees WHERE employee_id = 7902;关闭v_cursor; OPEN v_cursor用于SELECT DBMS_CQ_NOTIFICATION.CQ_NOTIFICATION_QUERYID，department_id FROM HR.departments WHERE department_name ='IT';关闭v_cursor; DBMS_CQ_NOTIFICATION.REG_END;结束; /</pre></li>
                        <li>
                           <p>创建查询注册后， <code class="codeph">USER_CQ_NOTIFICATION_QUERIES</code>的输出将如下所示。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT queryid，regid，to_char（querytext）FROM user_cq_notification_queries; QUERYID REGID ---------- ---------- TO_CHAR（QUERYTEXT）------------------------ -------------------------------------------------- ------ 22 41选择HR.DEPARTMENTS.DEPARTMENT_ID来自HR.DEPARTMENTS HREREDEPARTMENTS。 DEPARTMENT_NAME ='IT'21 41选择HR.EMPLOYEES.MANAGER_ID来自HR.EMPLOYEES WHERE HR.EMPLOYEES.EMPLOYEE_ ID = 7902现在，让我们通过重命名名为'的部门来执行更新查询结果的UPDATE IT'到财务。 SQL&gt;更新部门设置department_name ='FINANCE'，其中department_name ='IT'; 1行更新。SQL&gt; commit;提交完成。现在我们可以查询我们在回调中记录的通知。SQL&gt; select * from nfevents; REGID EVENT_TYPE ---------- ---------- 61 7事件类型7对应于EVENT_QUERYCHANGE SQL&gt; select * from nfqueries; QID QOP ---------- ---------- 42 7事件类型7对应于EVENT_QUERYCHANGE SQL&gt; select * from nftablechanges; SQL&gt; select * from nftablechanges; REGID ---------- TABLE_NAME -------------------------------------- ------------------------------------------ TABLE_OPERATION ------- -------- 42 HR.DEPARTMENTS 4 TABLE_OPERATION 4对应于UPDATEOP SQL&gt; select * from nfrowchanges; REGID ---------- TABLE_NAME -------------------------------------- ------------------------------------------ ROW_ID ------- -------------------------------------------------- ----------------------- 61 HR.DEPARTMENTS AAANkdAABAAALinAAF</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65645"></a><a id="ARPLS65645"></a><div class="props_rev_3"><a id="GUID-542B69EF-9E64-4E9B-A15F-C69BE5747622" name="GUID-542B69EF-9E64-4E9B-A15F-C69BE5747622"></a><h3 id="ARPLS-GUID-542B69EF-9E64-4E9B-A15F-C69BE5747622" class="sect3"><span class="enumeration_section">37.6</span> DBMS_CQ_NOTIFICATION数据结构</h3>
               <div>
                  <p><code class="codeph">DBMS_CQ_NOTIFICATION</code>包定义了几种<code class="codeph">OBJECT</code>类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-542B69EF-9E64-4E9B-A15F-C69BE5747622__GUID-F54B4BBB-C9A0-4754-A34A-1174D4959AA2">对象类型</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217" title="这是顶级更改通知描述符类型。它是SYS.CHNF $ _DESC类型的同义词。">CQ_NOTIFICATION $ _DESCRIPTOR对象类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5" title="对象类型描述由事件（例如事务提交）引起的对查询结果的更改。">CQ_NOTIFICATION $ _QUERY对象类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-7D75D705-33A3-4169-8F70-978F2DA36808" title="此类型对应于CQ_NOTIFICATION $ _QUERY对象的数组。它是SYS.CHNF $ _QUERY_ARRAY类型的同义词。">CQ_NOTIFICATION $ _QUERY_ARRAY对象（数组）类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-8080C006-03AE-4475-96AA-16EB6A028E04" title="此描述符类型描述对表的更改，并嵌入EVENT_OBJCHANGE事件类型的顶级更改通知描述符类型中。对于查询结果集更改（事件类型将设置为EVENT_QUERYCHANGE），表描述符数组嵌入在每个查询更改描述符中。">CQ_NOTIFICATION $ _TABLE对象类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-0465C1A2-178A-4C08-87E0-9DCAD11A03FB" title="此类型对应于CQ_NOTIFICATION $ _TABLE对象的数组。它是SYS.CHNF $ _TDESC_ARRAY类型的同义词。">CQ_NOTIFICATION $ _TABLE_ARRAY对象（数组）类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-20407C5F-E147-47C0-B092-5E8A88E813BA" title="如果在注册时选择了QOS_ROWIDS选项并且未在表更改描述符的opflags字段中设置ALL_ROWS位，则CQ_NOTIFICATION $ _ROW数组嵌入CQ_NOTIFICATION $ _TABLE（表更改描述符）中。">CQ_NOTIFICATION $ _ROW对象类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-72159DCF-5C34-4B42-838B-A2C441261CDF" title="此对象类型对应于CQ_NOTIFICATION $ _ROW对象的数组。如果在注册期间指定了QOS_ROWIDS并且未在表更改描述符的opflags字段中设置ALL_ROWS位，则它嵌入在CQ_NOTIFICATION $ _TABLE内。">CQ_NOTIFICATION $ _ROW_ARRAY对象（数组）类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA" title="对象类型描述与创建新注册相关联的属性。它是以前名为SYS.CHNF $ _REG_INFO的类型的同义词。">CQ_NOTIFICATION $ _REG_INFO对象类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS65646"></a><a id="ARPLS65647"></a><a id="ARPLS65647"></a><a id="ARPLS65646"></a><div class="props_rev_3"><a id="GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217" name="GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217"></a><h4 id="ARPLS-GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217" class="sect4"><span class="enumeration_section">37.6.1</span> CQ_NOTIFICATION $ _DESCRIPTOR对象类型</h4>
                  <div>
                     <p>这是顶级更改通知描述符类型。它是<code class="codeph">SYS.CHNF$_DESC</code>类型的同义词。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217__GUID-80E2D688-737C-4661-89EE-F0832CA352DE">句法</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.CHNF $ _DESC是OBJECT（registration_id NUMBER，transaction_id RAW（8），dbname VARCHAR2（30），event_type NUMBER，numtables NUMBER，table_desc_array CQ_NOTIFICATION $ _TABLE_ARRAY，query_desc_array CQ_NOTIFICATION $ _QUERY_ARRAY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217__GUID-C3B14A4C-8387-4600-BB87-4E0D551BB509">属性</p>
                        <div class="tblformal" id="GUID-4FCD5A6C-D1EE-45A6-95D4-8C82D6319217__GUID-F67417F1-3A54-4F64-A316-A5153E5BAD56">
                           <p class="titleintable">表37-2 CQ_NOTIFICATION $ _DESCRIPTOR对象类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CQ_NOTIFICATION $ _DESCRIPTOR对象类型" width="100%" border="1" summary="This table liststhe attributes of the CHNF$_DESC object type and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d186645e1719">属性</th>
                                    <th align="left" valign="bottom" width="69%" id="d186645e1722">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1727" headers="d186645e1719 ">
                                       <p><code class="codeph">registration_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1727 d186645e1722 ">
                                       <p>注册时返回注册ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1735" headers="d186645e1719 ">
                                       <p><code class="codeph">TRANSACTION_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1735 d186645e1722 ">
                                       <p>交易ID。进行更改的<code class="codeph">transaction_id</code>的transaction_id。除非event_type是<code class="codeph">EVENT_OBJCHANGE</code>或<code class="codeph">EVENT_QUERYCHANGE</code>否则<code class="codeph">EVENT_OBJCHANGE</code> <code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1755" headers="d186645e1719 ">
                                       <p><code class="codeph">DBNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1755 d186645e1722 ">
                                       <p>数据库名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1763" headers="d186645e1719 ">
                                       <p><code class="codeph">事件类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1763 d186645e1722 ">
                                       <p>与通知关联的数据库事件。可以是<code class="codeph">EVENT_OBJCHANGE</code> （更改为已注册对象）， <code class="codeph">EVENT_STARTUP</code>或<code class="codeph">EVENT_QUERYCHANGE</code> ， <code class="codeph">EVENT_SHUTDOWN</code>或<code class="codeph">EVENT_DEREG</code> （由于超时或其他原因已删除注册）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1786" headers="d186645e1719 ">
                                       <p><code class="codeph">numtables</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1786 d186645e1722 ">
                                       <p>修改表的数量。除非<code class="codeph">event_type</code>是<code class="codeph">EVENT_OBJCHANGE</code>否则<code class="codeph">EVENT_OBJCHANGE</code> <code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1803" headers="d186645e1719 ">
                                       <p><code class="codeph">table_desc_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1803 d186645e1722 ">
                                       <p>表描述符数组。除非<code class="codeph">event_type</code>是<code class="codeph">EVENT_OBJCHANGE</code>否则<code class="codeph">EVENT_OBJCHANGE</code> <code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e1820" headers="d186645e1719 ">
                                       <p><code class="codeph">query_desc_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e1820 d186645e1722 ">
                                       <p>查询数组已更改。除非event_type是<code class="codeph">EVENT_QUERYCHANGE</code>否则这将为<code class="codeph">NULL</code> 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65648"></a><a id="ARPLS65649"></a><a id="ARPLS65649"></a><a id="ARPLS65648"></a><div class="props_rev_3"><a id="GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5" name="GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5"></a><h4 id="ARPLS-GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5" class="sect4"><span class="enumeration_section">37.6.2</span> CQ_NOTIFICATION $ _QUERY对象类型</h4>
                  <div>
                     <p>对象类型描述由事件（例如事务提交）引起的对查询结果的更改。</p>
                     <div class="section">
                        <p>的阵列<code class="codeph">CQ_NOTIFICATION$_QUERY</code>描述符被嵌入顶层通知描述符（内部<code class="codeph">CQ_NOTIFICATION$_DESCRIPTOR</code> ），用于类型的事件<code class="codeph">EVENT_QUERYCHANGE</code> 。该阵列对应于<code class="codeph">SET</code>其被无效的事件的结果queryids的。
                        </p>
                        <p>这是基本类型<code class="codeph">SYS.CHNF$_QDESC</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5__GUID-0A1EA12F-0414-47AB-8F3C-904D47A215C6">句法</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.CHNF $ _QDESC是OBJECT（queryid NUMBER，queryop NUMBER，table_desc_array CQ_NOTIFICATION $ _TABLE_ARRAY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5__GUID-090DA591-8C35-41AA-B4A5-34F06D5157B3">属性</p>
                        <div class="tblformal" id="GUID-808CBE68-12DC-40E9-8EEC-DDDB9073E6B5__GUID-B4FF435A-C663-4953-819D-EB101467D7CE">
                           <p class="titleintable">表37-3 TYPE SYS.CQ_NOTIFICATION $ _QUERY对象类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE SYS.CQ_NOTIFICATION $ _QUERY对象类型" width="100%" border="1" summary="This table describes the fields of the Object Type CQ_NOTIFICATION$_QUERY and briefly describes them" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d186645e1964">属性</th>
                                    <th align="left" valign="bottom" width="60%" id="d186645e1967">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e1972" headers="d186645e1964 ">
                                       <p><code class="codeph">queryid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e1972 d186645e1967 ">
                                       <p>已更改查询的QueryId</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e1980" headers="d186645e1964 ">
                                       <p><code class="codeph">queryop</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e1980 d186645e1967 ">
                                       <p>描述对查询的更改的操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e1988" headers="d186645e1964 ">
                                       <p><code class="codeph">table_desc_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e1988 d186645e1967 ">
                                       <p>导致查询结果集更改的表更改数组</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65650"></a><a id="ARPLS65650"></a><div class="props_rev_3"><a id="GUID-7D75D705-33A3-4169-8F70-978F2DA36808" name="GUID-7D75D705-33A3-4169-8F70-978F2DA36808"></a><h4 id="ARPLS-GUID-7D75D705-33A3-4169-8F70-978F2DA36808" class="sect4"><span class="enumeration_section">37.6.3</span> CQ_NOTIFICATION $ _QUERY_ARRAY对象（数组）类型</h4>
                  <div>
                     <p>此类型对应于<code class="codeph">CQ_NOTIFICATION$_QUERY</code>对象的数组。它是<code class="codeph">SYS.CHNF$_QUERY_ARRAY</code>类型的同义词。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7D75D705-33A3-4169-8F70-978F2DA36808__GUID-BF6497F2-22BB-42F9-8414-933DAA13006D">句法</p><pre class="oac_no_warn" dir="ltr">类型CQ_NOTIFICATION $ _TABLE_ARRAY是VARRAY（1073741824）OF <code class="codeph">CQ_NOTIFICATION$_TABLE</code> ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65651"></a><a id="ARPLS65652"></a><a id="ARPLS65652"></a><a id="ARPLS65651"></a><div class="props_rev_3"><a id="GUID-8080C006-03AE-4475-96AA-16EB6A028E04" name="GUID-8080C006-03AE-4475-96AA-16EB6A028E04"></a><h4 id="ARPLS-GUID-8080C006-03AE-4475-96AA-16EB6A028E04" class="sect4"><span class="enumeration_section">37.6.4</span> CQ_NOTIFICATION $ _TABLE对象类型</h4>
                  <div>
                     <p>此描述符类型描述对表的更改，并嵌入<code class="codeph">EVENT_OBJCHANGE</code>事件类型的顶级更改通知描述符类型中。对于查询结果集更改（事件类型将设置为<code class="codeph">EVENT_QUERYCHANGE</code> ），表描述符数组嵌入在每个查询更改描述符中。
                     </p>
                     <div class="section">
                        <p>请注意，这是<code class="codeph">previously named SYS.CHNF$_TDESC</code>的类型的同义词。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8080C006-03AE-4475-96AA-16EB6A028E04__GUID-F27375A8-A4F2-42E5-8B9F-415D898745EC">句法</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.CHNF $ _TDESC是OBJECT（opflags NUMBER，table_name VARCHAR2（2 * M_IDEN + 1），numrows NUMBER，row_desc_array CQ_NOTIFICATION $ _ROW_ARRAY）</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8080C006-03AE-4475-96AA-16EB6A028E04__GUID-791967B5-EF8C-4954-B1C6-854EFBF72012">属性</p>
                        <div class="tblformal" id="GUID-8080C006-03AE-4475-96AA-16EB6A028E04__GUID-0019038C-CB0C-430E-A915-838CE8FA78A4">
                           <p class="titleintable">表37-4 TYPE SYS.CQ_NOTIFICATION $ _TABLE对象类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE SYS.CQ_NOTIFICATION $ _TABLE对象类型" width="100%" border="1" summary="This table describes the fields of the Object Type SYS.CQ_NOTIFICATION$_TABLE and briefly describes them" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d186645e2221">属性</th>
                                    <th align="left" valign="bottom" width="60%" id="d186645e2224">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2229" headers="d186645e2221 ">
                                       <p>opflags</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2229 d186645e2224 ">
                                       <p>表级操作标志。这是一个标志字段（位向量），用于描述表上发生的操作。它可以是以下位字段的<code class="codeph">OR</code> - <code class="codeph">INSERTOP</code> ， <code class="codeph">UPDATEOP</code> ， <code class="codeph">DELETEOP</code> ， <code class="codeph">DROPOP</code> ， <code class="codeph">ALTEROP</code> ， <code class="codeph">ALL_ROWS</code> 。如果设置了<code class="codeph">ALL_ROWS</code> （0x1）位，则意味着整个表被修改（例如， <code class="codeph">DELETE</code> * <code class="codeph">FROM</code> <code class="codeph">t</code> ）或者通知中没有请求或不提供行级粒度信息，并且接收方必须保守地假设整个表已失效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2270" headers="d186645e2221 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2270 d186645e2224 ">
                                       <p>修改表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2278" headers="d186645e2221 ">
                                       <p><code class="codeph">numRows行</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2278 d186645e2224 ">
                                       <p>表中已修改的行数。 numrows将为<code class="codeph">NULL</code> ，因此如果在表更改描述符中设置了<code class="codeph">ALL_ROWS</code>位，则不应访问它们。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2292" headers="d186645e2221 ">
                                       <p><code class="codeph">row_desc_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2292 d186645e2224 ">
                                       <p>行描述符数组。此字段为<code class="codeph">NULL</code> ，如果<code class="codeph">ALL_ROWS</code>位被设置<code class="codeph">opflags</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65653"></a><a id="ARPLS65653"></a><div class="props_rev_3"><a id="GUID-0465C1A2-178A-4C08-87E0-9DCAD11A03FB" name="GUID-0465C1A2-178A-4C08-87E0-9DCAD11A03FB"></a><h4 id="ARPLS-GUID-0465C1A2-178A-4C08-87E0-9DCAD11A03FB" class="sect4"><span class="enumeration_section">37.6.5</span> CQ_NOTIFICATION $ _TABLE_ARRAY对象（数组）类型</h4>
                  <div>
                     <p>此类型对应于<code class="codeph">CQ_NOTIFICATION$_TABLE</code>对象的数组。它是<code class="codeph">SYS.CHNF$_TDESC_ARRAY</code>类型的同义词。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0465C1A2-178A-4C08-87E0-9DCAD11A03FB__GUID-D3029FAE-23E7-4E12-B2A9-E535A53540CD">句法</p><pre class="oac_no_warn" dir="ltr">类型CQ_NOTIFICATION $ _TABLE_ARRAY是VARRAY（1073741824）OF <code class="codeph">CQ_NOTIFICATION$_TABLE</code> ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65654"></a><a id="ARPLS65655"></a><a id="ARPLS65655"></a><a id="ARPLS65654"></a><div class="props_rev_3"><a id="GUID-20407C5F-E147-47C0-B092-5E8A88E813BA" name="GUID-20407C5F-E147-47C0-B092-5E8A88E813BA"></a><h4 id="ARPLS-GUID-20407C5F-E147-47C0-B092-5E8A88E813BA" class="sect4"><span class="enumeration_section">37.6.6</span> CQ_NOTIFICATION $ _ROW对象类型</h4>
                  <div>
                     <p>如果在注册时选择了<code class="codeph">QOS_ROWIDS</code>选项并且未在表更改描述符的<code class="codeph">opflags</code>字段中设置<code class="codeph">ALL_ROWS</code>位，则<code class="codeph">CQ_NOTIFICATION$_ROW</code>数组嵌入在<code class="codeph">CQ_NOTIFICATION$_TABLE</code> （表更改描述符）中。
                     </p>
                     <div class="section">
                        <p>请注意，这是<code class="codeph">previously named</code> <code class="codeph">SYS.CHNF$_RDESC</code>的类型的同义词。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20407C5F-E147-47C0-B092-5E8A88E813BA__GUID-DD5959D0-684A-4518-9252-A8E6102B7050">句法</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.CHNF $ _RDESC是OBJECT（opflags NUMBER，row_id VARCAHR2（2000））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20407C5F-E147-47C0-B092-5E8A88E813BA__GUID-0361588E-894E-45A3-AB27-6446FE89C97E">属性</p>
                        <div class="tblformal" id="GUID-20407C5F-E147-47C0-B092-5E8A88E813BA__GUID-46214F6E-FECF-48C9-9132-6CCDA2F32836">
                           <p class="titleintable">表37-5 TYPE SYS.CQ_NOTIFICATION $ _ROW对象类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE SYS.CQ_NOTIFICATION $ _ROW对象类型" width="100%" border="1" summary="This table describes the fields of the Object Type SYS.CQ_NOTIFICATION$_ROW and briefly describes them" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d186645e2546">属性</th>
                                    <th align="left" valign="bottom" width="60%" id="d186645e2549">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2554" headers="d186645e2546 ">
                                       <p>opflags</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2554 d186645e2549 ">
                                       <p>行级操作标志。标志字段（位向量）描述行中的操作（可以是<code class="codeph">INSERTOP</code> ， <code class="codeph">UPDATEOP</code>或<code class="codeph">DELETEOP</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2570" headers="d186645e2546 ">
                                       <p><code class="codeph">ROW_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2570 d186645e2549 ">
                                       <p>修改行的rowid</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65656"></a><a id="ARPLS65656"></a><div class="props_rev_3"><a id="GUID-72159DCF-5C34-4B42-838B-A2C441261CDF" name="GUID-72159DCF-5C34-4B42-838B-A2C441261CDF"></a><h4 id="ARPLS-GUID-72159DCF-5C34-4B42-838B-A2C441261CDF" class="sect4"><span class="enumeration_section">37.6.7</span> CQ_NOTIFICATION $ _ROW_ARRAY对象（数组）类型</h4>
                  <div>
                     <p>此对象类型对应于<code class="codeph">CQ_NOTIFICATION$_ROW</code>对象的数组。它嵌入在里面<code class="codeph">CQ_NOTIFICATION$_TABLE</code>如果<code class="codeph">QOS_ROWIDS</code>注册过程中指定和<code class="codeph">ALL_ROWS</code>位没有在设置<code class="codeph">opflags</code>表变化的描述符的领域。
                     </p>
                     <div class="section">
                        <p>此类型是<code class="codeph">SYS.CHNF$_RDESC_ARRAY</code>类型的同义词。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-72159DCF-5C34-4B42-838B-A2C441261CDF__GUID-521FCD5B-66EE-4D83-8C4A-1FAC517F2D5C">句法</p><pre class="oac_no_warn" dir="ltr">类型CQ_NOTIFICATION $ _ROW_ARRAY是VARRAY（1073741824）OF CQ_NOTIFICATION $ _ROW;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65657"></a><a id="ARPLS65658"></a><a id="ARPLS65658"></a><a id="ARPLS65657"></a><div class="props_rev_3"><a id="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA" name="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA"></a><h4 id="ARPLS-GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA" class="sect4"><span class="enumeration_section">37.6.8</span> CQ_NOTIFICATION $ _REG_INFO对象类型</h4>
                  <div>
                     <p>对象类型描述与创建新注册相关联的属性。它是以前名为<code class="codeph">SYS.CHNF$_REG_INFO</code>的类型的同义词。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA__GUID-86ED62F1-3D1E-4BD9-BC7F-D43520C5253C">句法</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.CHNF $ _REG_INFO是对象（回调VARCHAR2（20），qosflags NUMBER，超时NUMBER，operations_filter NUMBER，transaction_lag NUMBER，ntfn_grouping_class NUMBER，ntfn_grouping_value NUMBER，ntfn_grouping_type NUMBER，ntfn_grouping_start_time TIMESTAMP WITH TIME ZONE，ntfn_grouping_repeat_count NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA__GUID-E77DE6A5-3169-4B4C-9FE3-1C341E442232">属性</p>
                        <div class="tblformal" id="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA__GUID-974E7848-EDC2-44B2-B74D-A310E416D3F3">
                           <p class="titleintable">表37-6 TYPE CQ_NOTIFICATION $ _REG_INFO对象类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE CQ_NOTIFICATION $ _REG_INFO对象类型" width="100%" border="1" summary="This table describes the fields of the Object Type CQ_NOTIFICATION$_REG_INFO and briefly describes them" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d186645e2803">属性</th>
                                    <th align="left" valign="bottom" width="60%" id="d186645e2806">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2811" headers="d186645e2803 ">
                                       <p><code class="codeph">打回来</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2811 d186645e2806 ">
                                       <p>要在通知上执行的服务器端PL / SQL过程的名称。原型是<code class="codeph">&lt;call_backname&gt;(ntfnds IN SYS.chnf$_desc)</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2821" headers="d186645e2803 ">
                                       <p><code class="codeph">qosflags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2821 d186645e2806 ">
                                       <p>服务质量标志。可以设置为以下值的<code class="codeph">OR</code> ：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">QOS_RELIABLE</code> （ <code class="codeph">0x1</code> ）：通知是可靠的（持久的）并且可以在实例死亡后继续存在。这意味着，在Oracle RAC集群中的实例死亡时，幸存的实例将能够传递任何排队的失效。同样，在单实例配置中，可以在实例重新启动时传递挂起的失效。缺点是在将无效消息插入持久性存储时涉及CPU成本/延迟。如果此参数为false，则服务器端CPU和延迟最小化，因为失效被缓冲到内存队列中，但客户端可能会在实例关闭时丢失失效消息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">QOS_DEREG_NFY</code> （ <code class="codeph">0x2</code> ）：注册将在第一个通知中被清除</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">QOS_ROWIDS</code> （ <code class="codeph">0x4</code> ）：通知需要包含有关已修改的rowid的信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">QOS_QUERY</code> <code class="codeph">(0x8)</code> ：指定查询结果更改通知而不是对象更改通知</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">QOS_BEST_EFFORT (0x10)</code>或<code class="codeph">QOS_BEST_EFFORT (0x16)</code> ：可以注册查询的简化版本，并通过一些误报最小化评估。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2873" headers="d186645e2803 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2873 d186645e2806 ">
                                       <p>如果设置为非零值，则指定数据库自动清除注册的时间（以秒为单位）。如果为零/ <code class="codeph">NULL</code> ，则注册将一直存在，直到明确注销。请注意， <code class="codeph">timeout</code>选项也可以与通知清除（QOS_DEREG_NFY）选项结合使用。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2887" headers="d186645e2803 ">
                                       <p><code class="codeph">operations_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2887 d186645e2806 ">
                                       <p>如果非零，则指定要在某些操作上有选择地通知的过滤器。这些标志可用于根据特定的操作类型进行过滤：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>0：通知所有操作（ <code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">ALL_OPERATIONS</code> ）</p>
                                          </li>
                                          <li>
                                             <p>0X2：通知上的每个<code class="codeph">INSERT</code> （ <code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">INSERTOP</code> ）</p>
                                          </li>
                                          <li>
                                             <p>为0x4：通知上的每个<code class="codeph">UPDATE</code> （ <code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">UPDATEOP</code> ）</p>
                                          </li>
                                          <li>
                                             <p>0x8中：通知上的每个<code class="codeph">DELETE</code> （ <code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">DELETEOP</code> ）</p>
                                          </li>
                                       </ul>
                                       <p>可以使用按位<code class="codeph">OR</code>指定操作的组合。</p>
                                       <p>警告：此参数将用于对象级别注册，但会忽略查询结果更改注册。要在11g中实现通知流控制，应用程序可以使用“ <code class="codeph">GROUPING</code>通知”选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2951" headers="d186645e2803 ">
                                       <p><code class="codeph">transaction_lag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2951 d186645e2806 ">
                                       <p>以交易为单位的连续通知之间存在滞后。可用于指定客户端愿意滞后于数据库的事务/数据库更改的数量。如果为0，则表示客户端需要在生成后立即收到失效消息。</p>
                                       <p><span class="bold">警告</span> ：此参数将用于对象级别注册，但会在查询结果更改通知注册时被忽略。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2963" headers="d186645e2803 ">
                                       <p><code class="codeph">ntfn_grouping_class</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2963 d186645e2806 ">
                                       <p>对通知进行分组时，基于该组派生的类。目前，唯一允许的值是<code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">NTFN_GROUPING_CLASS_TIME</code>通过该时间将通知分组。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2977" headers="d186645e2803 ">
                                       <p><code class="codeph">ntfn_grouping_value</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2977 d186645e2806 ">
                                       <p>分组值。这描述了以秒为单位定义组的时间间隔。例如，如果将其设置为900，则意味着每15分钟间隔生成的通知将组合在一起。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e2986" headers="d186645e2803 ">
                                       <p><code class="codeph">ntfn_grouping_type</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e2986 d186645e2806 ">
                                       <p>所需的分组类型。它可以是两个允许值之一</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">NTFN_GROUPING_TYPE_SUMMARY</code> - 组中的所有通知都汇总到一个通知中</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">NTFN_GROUPING_TYPE_LAST</code> - 仅发布组中的最后一个通知，并丢弃先前的通知</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e3012" headers="d186645e2803 ">
                                       <p><code class="codeph">ntfn_grouping_start_time</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e3012 d186645e2806 ">
                                       <p>何时开始生成通知。如果指定为<code class="codeph">NULL</code> ，则默认为当前系统生成的时间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d186645e3024" headers="d186645e2803 ">
                                       <p><code class="codeph">ntfn_grouping_repeat_count</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d186645e3024 d186645e2806 ">
                                       <p>通知应重复多少次。将其设置为<code class="codeph">DBMS_CQ_NOTIFICATION</code> 。 <code class="codeph">NTFN_GROUPING_FOREVER</code>接收注册生命周期的通知。如果在注册的生命周期中只需要一定数量的通知，则设置为非零值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1732CD12-503B-43EA-8BB7-522C1FA235CA__GUID-C70B10CA-31A0-45DA-8EBC-CA57669DFF21">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>类型声明包含三个其他替代构造函数。在第一种情况下，所有其他参数都默认为其默认值。</p><pre class="oac_no_warn" dir="ltr">TYPE CQ_NOTIFICATION $ _REG_INFO IS OBJECT（回调VARCHAR2（20），qosflags NUMBER，超时NUMBER）;</pre><p>第二个选项适用于先前版本中定义的类型构造函数，并且为了向后兼容性而保留：</p><pre class="oac_no_warn" dir="ltr">TYPE CQ_NOTIFICATION $ _REG_INFO IS OBJECT（回调VARCHAR2（20），qosflags NUMBER，超时NUMBER，operations_filter NUMBER，transaction_lag NUMBER）;</pre><p>第三个定义包含除了不推荐使用的<code class="codeph">transaction_lag</code>之外的所有类型的成员：</p><pre class="oac_no_warn" dir="ltr">TYPE CQ_NOTIFICATION $ _REG_INFO IS OBJECT（回调VARCHAR2（20），qosflags NUMBER，超时NUMBER，operations_filter NUMBER，ntfn_grouping_class NUMBER，ntfn_grouping_value NUMBER，ntfn_grouping_type NUMBER，ntfn_grouping_start_time TIMESTAMP WITH TIME ZONE，ntfn_grouping_repeat_count NUMBER）;</pre></li>
                           <li>
                              <p>响应于数据库更改，执行由“回调”指定的服务器端PL / SQL过程。必须以格式<code class="codeph">s</code> <code class="codeph">chema_name.procedure_name</code>指定PL / SQL过程名称。该程序必须具有以下签名：</p><pre class="oac_no_warn" dir="ltr">程序&lt;procedure_name&gt;（ntfnds IN SYS.chnf $ _desc）</pre><p><code class="codeph">CHNF$_DESC</code>描述了更改通知描述符。
                              </p>
                           </li>
                           <li>
                              <p>必须将init.ora参数<code class="codeph">job_queue_processes</code>设置为非零值才能接收PL / SQL通知，因为在生成通知时，会在作业队列进程内执行指定的过程。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ARPLS65659"></a><a id="ARPLS65660"></a><a id="ARPLS65660"></a><a id="ARPLS65659"></a><div class="props_rev_3"><a id="GUID-5F2171F0-D166-4BE2-B2D0-F5C370979FBC" name="GUID-5F2171F0-D166-4BE2-B2D0-F5C370979FBC"></a><h3 id="ARPLS-GUID-5F2171F0-D166-4BE2-B2D0-F5C370979FBC" class="sect3"><span class="enumeration_section">37.7</span> DBMS_CQ_NOTIFICATION子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_CQ_NOTIFICATION</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-5F2171F0-D166-4BE2-B2D0-F5C370979FBC__GUID-0F2E9C0B-2C64-43A9-8D26-AF00158AC204">
                     <p class="titleintable">表37-7 DBMS_CQ_NOTIFICATION包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CQ_NOTIFICATION包子程序" width="100%" border="1" summary="This table lists the DBMS_CQ_NOTIFICATION subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d186645e3179">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d186645e3182">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3187" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166" title="此函数返回尝试在注册块中注册的最新查询的queryid。">CQ_NOTIFICATION_QUERYID功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3187 d186645e3182 ">
                                 <p>返回尝试在注册块中注册的最新查询的queryid</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3199" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12" title="此过程描述具有指定注册标识符（ID）的客户端。">注册程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3199 d186645e3182 ">
                                 <p>使用提供的注册标识符（ID）取消订阅客户端</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3211" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-1207FB2C-D487-49C4-A629-2E7155478AC7" title="此过程将对象添加到现有注册标识符（ID）。">ENABLE_REG程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3211 d186645e3182 ">
                                 <p>使用现有注册标识符（ID）开始注册块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3223" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA" title="此过程开始新的注册块。">NEW_REG_START功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3223 d186645e3182 ">
                                 <p>开始新的注册区块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3235" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F" title="此过程标志着注册块的结束。不会跟踪新执行的查询。">REG_END程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3235 d186645e3182 ">
                                 <p>结束注册边界</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d186645e3247" headers="d186645e3179 ">
                                 <p><a href="DBMS_CQ_NOTIFICATION.html#GUID-B64F324A-89C9-4E5C-9694-16D56E995798" title="如果在事务中修改了表的行，则此过程将配置更改通知中发布的表的最大行数。">SET_ROWID_THRESHOLD过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d186645e3247 d186645e3182 ">
                                 <p>如果在事务中修改了表的行，则配置在更改通知中发布的表的最大行数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS65661"></a><a id="ARPLS65661"></a><div class="props_rev_3"><a id="GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166" name="GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166"></a><h4 id="ARPLS-GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166" class="sect4"><span class="enumeration_section">37.7.1</span> CQ_NOTIFICATION_QUERYID函数</h4>
                  <div>
                     <p>此函数返回尝试在注册块中注册的最新查询的queryid。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166__GUID-F1EE2DFB-0040-4C3D-BECC-64F78E6122B3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.CQ_NOTIFICATION_QUERYID返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C620AA0E-DC5F-43E5-8338-EE7FF0604166__GUID-9F2497D0-5775-421E-92BD-E10E0E7A894A">返回值</p>
                        <p>返回最近注册的查询的queryid。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65662"></a><a id="ARPLS65663"></a><a id="ARPLS65663"></a><a id="ARPLS65662"></a><div class="props_rev_3"><a id="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12" name="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12"></a><h4 id="ARPLS-GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12" class="sect4"><span class="enumeration_section">37.7.2</span>注册程序</h4>
                  <div>
                     <p>此过程描述具有指定注册标识符（ID）的客户端。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12__GUID-89AF8F48-C54C-4F56-BA5A-3F014FD62AE5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.DEREGISTER（注册号码）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12__GUID-1DECCC99-562D-4D19-99FC-B61A8539B133">参数</p>
                        <div class="tblformal" id="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12__GUID-FFF2B2FA-52A4-4B03-9E6A-EBD876D48B47">
                           <p class="titleintable">表37-8 DEREGISTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGISTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CQ_NOTIFICATION.DEREGISTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d186645e3469">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d186645e3472">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e3477" headers="d186645e3469 ">
                                       <p><code class="codeph">REGID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e3477 d186645e3472 ">
                                       <p>客户注册ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A89399FD-CCE6-4B01-83A1-77DD3296EF12__GUID-E4A113F6-CFCA-46FF-A51E-0BCF02C57870">使用说明</p>
                        <p>只有创建注册的用户（或<code class="codeph">SYS</code>用户）才能够取消订阅注册。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65664"></a><a id="ARPLS65665"></a><a id="ARPLS65665"></a><a id="ARPLS65664"></a><div class="props_rev_3"><a id="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7" name="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7"></a><h4 id="ARPLS-GUID-1207FB2C-D487-49C4-A629-2E7155478AC7" class="sect4"><span class="enumeration_section">37.7.3</span> ENABLE_REG程序</h4>
                  <div>
                     <p>此过程将对象添加到现有注册标识符（ID）。</p>
                     <div class="section">
                        <p>它类似于创建新注册的界面，除了它需要一个现有的<code class="codeph">regid</code>来添加对象。后续执行查询会导致将查询中引用的对象添加到指定的<code class="codeph">regid</code> ，并在调用<a href="DBMS_CQ_NOTIFICATION.html#GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F" title="此过程标志着注册块的结束。不会跟踪新执行的查询。">REG_END过程时</a>完成注册。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7__GUID-ED87B4FD-92A4-4E6B-AEAB-204701858E9A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.ENABLE_REG（注册号码）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7__GUID-B847AF91-2E09-4568-BDD5-BC0EE92A3EA1">参数</p>
                        <div class="tblformal" id="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7__GUID-BDE381BF-2F81-4967-9FBD-B6CF894B7CFC">
                           <p class="titleintable">表37-9 ENABLE_REG过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_REG过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CQ_NOTIFICATION.ENABLE_REG.ENABLE_REG." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d186645e3618">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d186645e3621">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e3626" headers="d186645e3618 ">
                                       <p><code class="codeph">REGID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e3626 d186645e3621 ">
                                       <p>客户注册ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1207FB2C-D487-49C4-A629-2E7155478AC7__GUID-C2CD1888-A395-4C1E-9A13-FC0EA3A8B890">使用说明</p>
                        <p>只有创建注册的用户才能在注册中添加更多对象。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65666"></a><a id="ARPLS65667"></a><a id="ARPLS65667"></a><a id="ARPLS65666"></a><div class="props_rev_3"><a id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA" name="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA"></a><h4 id="ARPLS-GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA" class="sect4"><span class="enumeration_section">37.7.4</span> NEW_REG_START功能</h4>
                  <div>
                     <p>此过程开始新的注册块。</p>
                     <div class="section">
                        <p>在注册块内执行的查询引用的任何对象都被视为有趣的对象并添加到注册中。注册块在调用<code class="codeph">REG_END</code>过程时结束。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA__GUID-3DB055C2-796F-476C-86F9-F73834B722A0">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.NEW_REG_START（regds IN sys.chnf $ _reg_info）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA__GUID-33413E35-365B-422C-BED8-BA7487262B83">参数</p>
                        <div class="tblformal" id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA__GUID-10612A33-CCC4-4A64-95D1-D97FAC6DDA92">
                           <p class="titleintable">表37-10 NEW_REG_START功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="NEW_REG_START功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CQ_NOTIFICATION.NEW_REG_START." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d186645e3750">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d186645e3753">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e3758" headers="d186645e3750 ">
                                       <p><code class="codeph">sys.chnf $ _reg_info</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e3758 d186645e3753 ">
                                       <p>注册描述符描述通知处理程序和注册的其他属性</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA__GUID-6E8786D7-7C75-42F4-A2D5-EE138144605E">返回值</p>
                        <p>该过程返回一个registration-id，它是数据库为此注册分配的唯一整数。注册ID将在收到的每个注册通知中回显。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C92C877D-5795-4DB4-8C50-E694A15E27FA__GUID-7377B3AE-7A20-4A4F-B871-1A88FDEE66C0">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>注册块内允许的唯一操作是查询（用户希望注册的查询）。不允许DML和DDL操作。</p>
                           </li>
                           <li>
                              <p>注册块是会话属性，并在退出会话时隐式终止。虽然注册块是会话属性，但注册本身是持久数据库实体。一旦创建，注册将一直存在，直到客户端应用程序显式注销或由于某些其他原因（例如权限丢失）而被数据库超时或删除。</p>
                           </li>
                           <li>
                              <p>用户必须具有<code class="codeph">CHANGE NOTIFICATION</code>系统特权以及要注册的任何对象的<code class="codeph">SELECT</code>或<code class="codeph">READ</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>不允许<code class="codeph">SYS</code>用户创建新注册。
                              </p>
                           </li>
                           <li>
                              <p>不允许嵌套注册块。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65668"></a><a id="ARPLS65668"></a><div class="props_rev_3"><a id="GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F" name="GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F"></a><h4 id="ARPLS-GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F" class="sect4"><span class="enumeration_section">37.7.5</span> REG_END程序</h4>
                  <div>
                     <p>此过程标志着注册块的结束。不会跟踪新执行的查询。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-16A5ABD4-2949-498D-ABE3-98AFF9AF3A5F__GUID-E5784804-10B6-4D5C-AF12-242C4CBCCB59">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.REG_END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73678"></a><a id="ARPLS73679"></a><a id="ARPLS73679"></a><a id="ARPLS73678"></a><div class="props_rev_3"><a id="GUID-B64F324A-89C9-4E5C-9694-16D56E995798" name="GUID-B64F324A-89C9-4E5C-9694-16D56E995798"></a><h4 id="ARPLS-GUID-B64F324A-89C9-4E5C-9694-16D56E995798" class="sect4"><span class="enumeration_section">37.7.6</span> SET_ROWID_THRESHOLD过程</h4>
                  <div>
                     <p>如果在事务中修改了表的行，则此过程将配置更改通知中发布的表的最大行数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B64F324A-89C9-4E5C-9694-16D56E995798__GUID-28387C9D-6F51-4ACB-8101-A81A7299BC49">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CQ_NOTIFICATION.SET_ROWID_THRESHOLD（tbname IN VARCHAR2，阈值IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B64F324A-89C9-4E5C-9694-16D56E995798__GUID-5F63C10B-AD56-4453-8238-DD76394F6693">参数</p>
                        <div class="tblformal" id="GUID-B64F324A-89C9-4E5C-9694-16D56E995798__GUID-CB15802B-A442-4EA2-A27B-C1BC4A3EA2D6">
                           <p class="titleintable">表37-11 SET_ROWID_THRESHOLD过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ROWID_THRESHOLD过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CHANGE_NOTIFICATION.SET_ROWID_THRESHOLD." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d186645e4007">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d186645e4010">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e4015" headers="d186645e4007 ">
                                       <p><code class="codeph">tbname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e4015 d186645e4010 ">
                                       <p>表名由<code class="codeph">schemaname.tablename</code>形式的模式名限定</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d186645e4025" headers="d186645e4007 ">
                                       <p><code class="codeph">阈</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d186645e4025 d186645e4010 ">
                                       <p>要在更改通知中发布的表的最大修改行数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B64F324A-89C9-4E5C-9694-16D56E995798__GUID-40D18071-93DA-4D83-A900-3E1C80FAC27E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>需要以对象更改粒度或查询结果集粒度注册表以进行更改通知。</p>
                           </li>
                           <li>
                              <p>通过此子程序设置的阈值仅适用于该实例，并且不会在实例启动/关闭期间持续存在。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01175.OWA_UTIL.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The OWA_UTIL package contains utility subprograms for performing operations such as getting the value of CGI environment variables, printing the data that is returned to the client, and printing the results of a query in an HTML table."></meta>
      <meta name="description" content="The OWA_UTIL package contains utility subprograms for performing operations such as getting the value of CGI environment variables, printing the data that is returned to the client, and printing the results of a query in an HTML table."></meta>
      <title>OWA_UTIL</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The OWA_UTIL package contains utility subprograms for performing operations such as getting the value of CGI environment variables, printing the data that is returned to the client, and printing the results of a query in an HTML table."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="OWA_TEXT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_CS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="OWA_TEXT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_CS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OWA_UTIL</li>
            </ol>
            <a id="GUID-71EA8158-9F06-4619-8F35-21EB1030495D" name="GUID-71EA8158-9F06-4619-8F35-21EB1030495D"></a><a id="ARPLS397"></a><a id="ARPLS397"></a>
            
            <h2 id="ARPLS-GUID-71EA8158-9F06-4619-8F35-21EB1030495D" class="sect2"><span class="enumeration_chapter">221</span> OWA_UTIL</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">OWA_UTIL</code>包中包含实用程序子程序，用于执行诸如获取CGI环境变量的值，打印返回给客户端的数据以及在HTML表中打印查询结果等操作。
               </p>
               <div class="infoboxnotealso" id="GUID-71EA8158-9F06-4619-8F35-21EB1030495D__GUID-9473CE21-34CC-44BC-86D2-AF518158E9FD">
                  <p class="notep1">也可以看看：</p>
                  <p>有关此程序包实现的更多信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=HSADM" target="_blank"><span class="italic">适用于Oracle HTTP Server的Oracle融合中间件管理员指南</span></a></p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=YPMOD" target="_blank"><span class="italic">适用于mod_plsql的Oracle融合中间件用户指南</span></a></p>
                     </li>
                  </ul>
               </div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="OWA_UTIL.html#GUID-7915F61E-1E50-4507-87FC-7E0ECAE3D41D" title="OWA_UTIL包中包含三种类型的实用程序子程序。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="OWA_UTIL.html#GUID-0C559C1D-F3EA-4C71-BB15-BDBD058FA937" title="OWA_UTIL使用“类型”指定创建信息。">类型</a></p>
                  </li>
                  <li>
                     <p><a href="OWA_UTIL.html#GUID-19541F47-5CEB-4992-B836-D94A674A37E0" title="该表列出了OWA_UTIL子程序并简要描述了它们。">OWA_UTIL子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS70758"></a><a id="ARPLS70758"></a><div class="props_rev_3"><a id="GUID-7915F61E-1E50-4507-87FC-7E0ECAE3D41D" name="GUID-7915F61E-1E50-4507-87FC-7E0ECAE3D41D"></a><h3 id="ARPLS-GUID-7915F61E-1E50-4507-87FC-7E0ECAE3D41D" class="sect3"><span class="enumeration_section">221.1</span> OWA_UTIL概述</h3>
               <div>
                  <p><code class="codeph">OWA_UTIL</code>包中包含三种类型的实用程序子程序。
                  </p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>动态SQL实用程序使您能够生成具有动态生成的SQL代码的页面。</p>
                        </li>
                        <li>
                           <p>HTML实用程序使您可以检索CGI环境变量的值并执行URL重定向。</p>
                        </li>
                        <li>
                           <p>日期实用程序可以正确处理日期。日期值是HTML中的简单字符串，但被Oracle数据库视为数据类型。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS70759"></a><a id="ARPLS70759"></a><div class="props_rev_3"><a id="GUID-0C559C1D-F3EA-4C71-BB15-BDBD058FA937" name="GUID-0C559C1D-F3EA-4C71-BB15-BDBD058FA937"></a><h3 id="ARPLS-GUID-0C559C1D-F3EA-4C71-BB15-BDBD058FA937" class="sect3"><span class="enumeration_section">221.2</span> OWA_UTIL类型</h3>
               <div>
                  <p><code class="codeph">OWA_UTIL</code>使用“类型”指定创建信息。
                  </p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="OWA_UTIL.html#GUID-A181766C-ACDA-4B8B-B934-311BBAFF50EE" title="TODATE函数将此类型的项目转换为DATE类型，该类型由数据库理解并正确处理为数据。过程CHOOSE_DATE Procedure使用户可以选择所需的日期。">DATETYPE数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="OWA_UTIL.html#GUID-6B64BCC7-A0AB-4D28-BF93-6BFF0CD26307" title="此数据类型用于数组。">IDENT_ARR数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="OWA_UTIL.html#GUID-AE9D4ACF-C3A8-44ED-9EB7-7ADE6D751B14" title="该数据类型由OWA_SEC包中的GET_CLIENT_IP函数使用。">IP_ADDRESS数据类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS70760"></a><a id="ARPLS70760"></a><div class="props_rev_3"><a id="GUID-A181766C-ACDA-4B8B-B934-311BBAFF50EE" name="GUID-A181766C-ACDA-4B8B-B934-311BBAFF50EE"></a><h4 id="ARPLS-GUID-A181766C-ACDA-4B8B-B934-311BBAFF50EE" class="sect4"><span class="enumeration_section">221.2.1</span> DATETYPE数据类型</h4>
                  <div>
                     <p>TODATE函数将此类型的项目转换为<code class="codeph">DATE</code>类型，该类型由数据库理解并正确处理为数据。过程CHOOSE_DATE Procedure使用户可以选择所需的日期。
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE dateType IS TABLE OF VARCHAR2（10）INDEX BY BINARY_INTEGER;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="OWA_UTIL.html#GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC" title="此函数将DATETYPE数据类型转换为标准Oracle DATE类型。">TODATE功能</a></li>
                           <li><a href="OWA_UTIL.html#GUID-6C214278-C28B-4880-9724-017267937D26" title="此过程生成三个HTML表单元素，允许用户选择日期，月份和年份。">CHOOSE_DATE程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS70761"></a><a id="ARPLS70761"></a><div class="props_rev_3"><a id="GUID-6B64BCC7-A0AB-4D28-BF93-6BFF0CD26307" name="GUID-6B64BCC7-A0AB-4D28-BF93-6BFF0CD26307"></a><h4 id="ARPLS-GUID-6B64BCC7-A0AB-4D28-BF93-6BFF0CD26307" class="sect4"><span class="enumeration_section">221.2.2</span> IDENT_ARR数据类型</h4>
                  <div>
                     <p>此数据类型用于数组。</p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE ident_arr是VARCHAR2的表（30）INDEX BY BINARY_INTEGER;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70762"></a><a id="ARPLS70762"></a><div class="props_rev_3"><a id="GUID-AE9D4ACF-C3A8-44ED-9EB7-7ADE6D751B14" name="GUID-AE9D4ACF-C3A8-44ED-9EB7-7ADE6D751B14"></a><h4 id="ARPLS-GUID-AE9D4ACF-C3A8-44ED-9EB7-7ADE6D751B14" class="sect4"><span class="enumeration_section">221.2.3</span> IP_ADDRESS数据类型</h4>
                  <div>
                     <p>该数据类型由OWA_SEC包中的GET_CLIENT_IP函数使用。</p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE ip_address是BINARY_INTEGER的INTEGER INDEX表;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="OWA_SEC.html#GUID-47F304CC-AF0C-4A9D-9599-8D32C4145562" title="此函数返回客户端的IP地址。">GET_CLIENT_IP功能</a></li>
                           <li><a href="OWA_SEC.html#GUID-25FEE3B4-4BA5-48F8-B6E4-2220CA904C23" title="OWA_SEC包提供了自定义身份验证的接口。">OWA_SEC</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ARPLS70763"></a><a id="ARPLS70764"></a><a id="ARPLS70764"></a><a id="ARPLS70763"></a><div class="props_rev_3"><a id="GUID-19541F47-5CEB-4992-B836-D94A674A37E0" name="GUID-19541F47-5CEB-4992-B836-D94A674A37E0"></a><h3 id="ARPLS-GUID-19541F47-5CEB-4992-B836-D94A674A37E0" class="sect3"><span class="enumeration_section">221.3</span> OWA_UTIL子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">OWA_UTIL</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-19541F47-5CEB-4992-B836-D94A674A37E0__GUID-BBE2604A-E47C-4D9E-AB1E-8CD0D260D5D1">
                     <p class="titleintable">表221-1 <span class="italic"><span class="bold">OWA_UTIL包子程序</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OWA_UTIL包子程序" width="100%" border="1" summary="This table lists the OWA_UTIL subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d1398200e766">子程序</th>
                              <th align="left" valign="bottom" width="63%" id="d1398200e769">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e774" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" title="此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。">BIND_VARIABLES函数</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e774 d1398200e769 ">
                                 <p>准备SQL查询并将变量绑定到它</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e786" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55" title="这些过程使用可见边框创建HTML日历。日历中的每个日期都可以包含任意数量的超文本链接。">CALENDARPRINT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e786 d1398200e769 ">
                                 <p>打印日历</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e798" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE" title="此过程从SQL查询的输出生成HTML表。SQL原子数据项映射到HTML单元格，SQL行映射到HTML行。您必须编写代码来开始和结束HTML表。">CELLSPRINT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e798 d1398200e769 ">
                                 <p>在HTML表中打印查询的内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e810" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-6C214278-C28B-4880-9724-017267937D26" title="此过程生成三个HTML表单元素，允许用户选择日期，月份和年份。">CHOOSE_DATE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e810 d1398200e769 ">
                                 <p>生成允许用户选择日期的HTML表单元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e822" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B" title="此函数返回指定的CGI环境变量的值。">GET_CGI_ENV功能</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e822 d1398200e769 ">
                                 <p>返回指定的CGI环境变量的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e834" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4" title="此函数返回正在处理请求的PL / SQL网关的完整虚拟路径。">GET_OWA_SERVICE_PATH函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e834 d1398200e769 ">
                                 <p>返回PL / SQL网关的完整虚拟路径</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e847" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727" title="此函数返回PL / SQL网关正在调用的过程的名称。">GET_PROCEDURE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e847 d1398200e769 ">
                                 <p>返回PL / SQL网关调用的过程的名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e859" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95" title="此过程生成换行符以关闭HTTP标头。">HTTP_HEADER_CLOSE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e859 d1398200e769 ">
                                 <p>关闭HTTP标头</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e871" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C" title="此过程从SQL查询的输出生成HTML选择列表表单元素。">LISTPRINT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e871 d1398200e769 ">
                                 <p>生成包含查询数据的HTML表单元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e883" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-950D2D77-6D1E-4548-9865-D325C40B244B" title="此过程更改脚本返回的默认MIME标头。此过程必须在任何HTP.PRINT或HTP.PRN调用之前指示脚本不使用默认MIME头。">MIME_HEADER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e883 d1398200e769 ">
                                 <p>在HTTP标头中生成Content-type行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e901" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7" title="此过程生成PL / SQL网关为存储过程提供的所有CGI环境变量及其值。">PRINT_CGI_ENV程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e901 d1398200e769 ">
                                 <p>生成所有CGI环境变量及其值的列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e914" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408" title="此过程指定应用程序服务器将访问指定的URL。 URL可以指定要返回的Web页面或要执行的程序。">REDIRECT_URL程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e914 d1398200e769 ">
                                 <p>在HTTP标头中生成位置行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e926" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8" title="此过程在SQL * Plus中打印出过程的HTML输出。">SHOWPAGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e926 d1398200e769 ">
                                 <p>打印由SQL * Plus中的HTP和HTF包生成的页面</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e938" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9" title="此过程打印指定过程，函数或包的源。如果指定了属于包的过程或函数，则显示整个包。">SHOWSOURCE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e938 d1398200e769 ">
                                 <p>打印指定子程序的源</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e950" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894" title="此过程生成HTML行，然后在HTML文档上生成签名行。">签名程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e950 d1398200e769 ">
                                 <p>打印一行，表明该页面是由PL / SQL代理生成的</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e962" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-F5B88891-58A3-4BB6-9057-1505455896CC" title="此过程将标准HTTP状态代码发送到客户端。">STATUS_LINE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e962 d1398200e769 ">
                                 <p>在HTTP标头中生成状态行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e974" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD" title="此函数从数据库表生成预格式化表或HTML表（取决于用户浏览器的功能）。">TABLEPRINT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e974 d1398200e769 ">
                                 <p>将数据从数据库中的表打印为HTML表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e986" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC" title="此函数将DATETYPE数据类型转换为标准Oracle DATE类型。">TODATE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e986 d1398200e769 ">
                                 <p>将dateType数据转换为标准PL / SQL日期类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1398200e1001" headers="d1398200e766 ">
                                 <p><a href="OWA_UTIL.html#GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6" title="此过程返回有关调用它的PL / SQL代码单元的信息（以输出参数的形式）。">WHO_CALLED_ME程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1398200e1001 d1398200e769 ">
                                 <p>返回有关过程调用者的信息。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS70765"></a><a id="ARPLS70766"></a><a id="ARPLS70766"></a><a id="ARPLS70765"></a><div class="props_rev_3"><a id="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" name="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4"></a><h4 id="ARPLS-GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" class="sect4"><span class="enumeration_section">221.3.1</span> BIND_VARIABLES函数</h4>
                  <div>
                     <p>此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4__GUID-0BEB43B6-B113-460A-BB72-C2E05E47ED0B">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.BIND_VARIABLES（theQuery IN VARCHAR2 DEFAULT NULL，bv1Name IN VARCHAR2 DEFAULT NULL，bv1Value IN VARCHAR2 DEFAULT NULL，bv2Name IN VARCHAR2 DEFAULT NULL，bv2Value IN VARCHAR2 DEFAULT NULL，bv3Name IN VARCHAR2 DEFAULT NULL，bv3Value IN VARCHAR2 DEFAULT NULL，...bv25Name IN VARCHAR2 DEFAULT NULL，bv25Value IN VARCHAR2 DEFAULT NULL）RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4__GUID-20A5578B-6F2B-40C3-A92E-FD3325FDABB4">参数</p>
                        <div class="tblformal" id="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4__GUID-94988447-065F-4913-A09B-6EB9F58C61C7">
                           <p class="titleintable">表221-2 BIND_VARIABLES函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BIND_VARIABLES函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.BIND_VARIABLES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e1122">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e1125">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1130" headers="d1398200e1122 ">
                                       <p><code class="codeph">theQuery</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1130 d1398200e1125 ">
                                       <p>SQL查询语句必须是SELECT语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1138" headers="d1398200e1122 ">
                                       <p><code class="codeph">bv1Name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1138 d1398200e1125 ">
                                       <p>变量的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1146" headers="d1398200e1122 ">
                                       <p><code class="codeph">bv1Value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1146 d1398200e1125 ">
                                       <p>变量的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4__GUID-26A52280-2A1B-4AAD-80BC-59056DBF9ACA">返回值</p>
                        <p>标识打开的游标的整数。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70767"></a><a id="ARPLS70768"></a><a id="ARPLS70768"></a><a id="ARPLS70767"></a><div class="props_rev_3"><a id="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55" name="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55"></a><h4 id="ARPLS-GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55" class="sect4"><span class="enumeration_section">221.3.2</span> CALENDARPRINT程序</h4>
                  <div>
                     <p>这些过程使用可见边框创建HTML日历。日历中的每个日期都可以包含任意数量的超文本链接。</p>
                     <div class="section">
                        <p>此过程有2个版本。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>版本1使用存储在varchar2字符串中的硬编码查询。</p>
                           </li>
                           <li>
                              <p>版本2使用使用<a href="OWA_UTIL.html#GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" title="此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。">BIND_VARIABLES函数</a>准备的动态查询。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55__GUID-28FB8560-4A03-4C30-BB01-021F1BAEDBF4">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.CALENDARPRINT（p_query IN VARCHAR2，p_mf_only IN VARCHAR2 DEFAULT'N'）; OWA_UTIL.CALENDARPRINT（p_cursor IN INTEGER，p_mf_only IN VARCHAR2 DEFAULT'N'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55__GUID-E95F514B-E56C-4CBD-AA84-1520B49EC22D">参数</p>
                        <div class="tblformal" id="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55__GUID-AC8F4CF6-AD26-480D-B019-54E9DEC7E901">
                           <p class="titleintable">表221-3 CALENDARPRINT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CALENDARPRINT过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.CALENDARPRINT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e1286">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e1289">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1294" headers="d1398200e1286 ">
                                       <p><code class="codeph">p_query</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1294 d1398200e1289 ">
                                       <p>PL / SQL查询。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1302" headers="d1398200e1286 ">
                                       <p><code class="codeph">p_cursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1302 d1398200e1289 ">
                                       <p>包含与<code class="codeph">p_query</code>相同格式的PL / SQL游标。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1313" headers="d1398200e1286 ">
                                       <p><code class="codeph">p_mf_only</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1313 d1398200e1289 ">
                                       <p>如果为“ <code class="codeph">N</code> ”（默认值），则生成的日历包括星期日到星期六。否则，它仅包括周一至周五。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEA510D6-63A9-4810-8A9D-CFE6774FCB55__GUID-DBD6096F-43DB-4569-BDE8-25412AB307F2">使用说明</p>
                        <p>按如下方式设计查询：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第一列是DATE。这将查询生成的信息与过程生成的日历输出相关联。</p>
                           </li>
                           <li>
                              <p>必须使用ORDER BY在此列上对查询输出进行排序。</p>
                           </li>
                           <li>
                              <p>第二列包含要为该日期打印的文本（如果有）。</p>
                           </li>
                           <li>
                              <p>第三列包含生成链接的目标。第二列中的每个项目都成为此列中指定目的地的超文本链接。如果省略此列，则第二列中的项目是简单文本，而不是链接。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70769"></a><a id="ARPLS70770"></a><a id="ARPLS70770"></a><a id="ARPLS70769"></a><div class="props_rev_3"><a id="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE" name="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE"></a><h4 id="ARPLS-GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE" class="sect4"><span class="enumeration_section">221.3.3</span> CELLSPRINT程序</h4>
                  <div>
                     <p>此过程从SQL查询的输出生成HTML表。SQL原子数据项映射到HTML单元格，SQL行映射到HTML行。您必须编写代码来开始和结束HTML表。</p>
                     <div class="section">
                        <p>此过程有九个版本：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第一个版本将查询结果传递给索引表。执行查询，CELLSPRINT执行格式化。要从SQL查询的输出生成HTML表有更多控制权，请使用<span class="q">“ <a href="HTF.html#GUID-A4769ABF-E85F-47C4-A462-E164C50466E2" title="HTF（超文本功能）和HTP（超文本程序）包生成HTML标签。例如，HTF.ANCHOR函数生成HTML锚标记&lt;A&gt;。">HTF</a> ”</span>包中的<a href="HTF.html#GUID-5D7CDA71-6AE0-4E73-94BC-D7491FCADA2A" title="此函数使用TABLEDATA函数格式化HTML表中的列值。它允许更好地控制HTML表。">FORMAT_CELL函数</a> 。
                              </p>
                           </li>
                           <li>
                              <p>第二个和第三个版本显示查询或游标返回的行（最多指定的最大值）。</p>
                           </li>
                           <li>
                              <p>第四个和第五个版本从HTML表中排除指定的行数。使用第四个和第五个版本通过保存隐藏表单元素中显示的最后一行来滚动结果集。</p>
                           </li>
                           <li>
                              <p>第六到第九版与前四个版本相同，只是它们返回行计数输出参数。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE__GUID-5E83BA7C-9F56-49F5-B12B-BBF6EA285BC3">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.CELLSPRINT（p_colCnt IN INTEGER，p_resultTbl IN vc_arr，</pre><p>p_format_numbers IN VARCHAR2 DEFAULT NULL）;</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.CELLSPRINT（p_theQuery IN VARCHAR2，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL）; OWA_UTIL.CELLSPRINT（p_theCursor IN INTEGER，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers iN VARCHAR2 DEFAULT NULL）; OWA_UTIL.CELLSPRINT（p_theQuery IN VARCHAR2，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_skip_rec IN NUMBER DEFAULT 0，p_more_data OUT BOOLEAN）; OWA_UTIL.CELLSPRINT（p_theCursor IN INTEGER，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_skip_rec IN NUMBER DEFAULT 0，p_more_data OUT BOOLEAN）; OWA_UTIL.CELLSPRINT（p_theQuery IN VARCHAR2，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_reccnt OUT NUMBER）; OWA_UTIL.CELLSPRINT（p_theCursor IN INTEGER，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_reccnt OUT NUMBER）; OWA_UTIL.CELLSPRINT（p_theQuery IN VARCHAR2，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_skip_rec IN NUMBER DEFAULT 0，p_more_data OUT BOOLEAN p_reccnt OUT NUMBER）; OWA_UTIL.CELLSPRINT（p_theCursor IN INTEGER，p_max_rows IN NUMBER DEFAULT 100，p_format_numbers IN VARCHAR2 DEFAULT NULL，p_skip_rec IN NUMBER DEFAULT 0，p_more_data OUT BOOLEAN，p_reccnt OUT NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE__GUID-361AC5F3-2F0C-4FD4-A566-B0AFDD94A645">参数</p>
                        <div class="tblformal" id="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE__GUID-65A23D66-4359-40CA-B2B2-CF71C008C16C">
                           <p class="titleintable">表221-4 CELLSPRINT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CELLSPRINT过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.CELLSPRINT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e1498">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e1501">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1506" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_query</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1506 d1398200e1501 ">
                                       <p>PL / SQL查询。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1514" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_colCnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1514 d1398200e1501 ">
                                       <p>表中的列数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1522" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_theQuery</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1522 d1398200e1501 ">
                                       <p>SQL <code class="codeph">SELECT</code>语句。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1533" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_theCursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1533 d1398200e1501 ">
                                       <p>游标ID。这可以是<a href="OWA_UTIL.html#GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" title="此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。">BIND_VARIABLES函数</a>的返回值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1548" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_max_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1548 d1398200e1501 ">
                                       <p>要打印的最大行数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1556" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_format_numbers</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1556 d1398200e1501 ">
                                       <p>如果此参数的值不为<code class="codeph">NULL</code> ，则数字字段右对齐并舍入到两个小数位。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1567" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_skip_rec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1567 d1398200e1501 ">
                                       <p>要从HTML表中排除的行数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1575" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_more_data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1575 d1398200e1501 ">
                                       <p>如果查询或游标中有更多行，则为<code class="codeph">TRUE</code> ，否则为<code class="codeph">FALSE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1588" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_reccnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1588 d1398200e1501 ">
                                       <p>查询返回的行数。此值不包括跳过的行（如果有）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1596" headers="d1398200e1498 ">
                                       <p><code class="codeph">p_resultTbl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1596 d1398200e1501 ">
                                       <p>索引表将包含查询结果。查询中的每个条目都对应一个列值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A22E96B-2900-4301-9B6E-B6B44E4E5BCE__GUID-F32EB02E-99A7-4745-9464-B4C0F4ECCED8">例子</p>
                        <p>此过程生成</p><pre class="oac_no_warn" dir="ltr">&lt;tr&gt; &lt;td&gt; <span class="italic">QueryResultItem</span> &lt;/ td&gt; &lt;td&gt; <span class="italic">QueryResultItem</span> &lt;/ td&gt; &lt;/ tr&gt; ...</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70771"></a><a id="ARPLS70772"></a><a id="ARPLS70772"></a><a id="ARPLS70771"></a><div class="props_rev_3"><a id="GUID-6C214278-C28B-4880-9724-017267937D26" name="GUID-6C214278-C28B-4880-9724-017267937D26"></a><h4 id="ARPLS-GUID-6C214278-C28B-4880-9724-017267937D26" class="sect4"><span class="enumeration_section">221.3.4</span> CHOOSE_DATE程序</h4>
                  <div>
                     <p>此过程生成三个HTML表单元素，允许用户选择日期，月份和年份。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C214278-C28B-4880-9724-017267937D26__GUID-99AFBB51-375D-475A-8454-50C102CCEA55">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.CHOOSE_DATE（p_name IN VARCHAR2，p_date IN DATE DEFAULT SYSDATE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C214278-C28B-4880-9724-017267937D26__GUID-C1271624-0263-4A7C-997C-6A5B702E4BFB">参数</p>
                        <div class="tblformal" id="GUID-6C214278-C28B-4880-9724-017267937D26__GUID-FE0A46EC-9B79-4510-B97A-7786D253EF3F">
                           <p class="titleintable">表221-5 CHOOSE_DATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHOOSE_DATE过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.CHOOSE_DATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e1726">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e1729">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1734" headers="d1398200e1726 ">
                                       <p><code class="codeph">p_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1734 d1398200e1729 ">
                                       <p>表单元素的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1742" headers="d1398200e1726 ">
                                       <p><code class="codeph">p_date</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1742 d1398200e1729 ">
                                       <p>显示HTML页面时选择的初始日期。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C214278-C28B-4880-9724-017267937D26__GUID-218437FC-2D0D-42D2-80C1-5323B36CB1FD">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从这些元素接收数据的过程中的参数必须是<a href="OWA_UTIL.html#GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B" title="此函数返回指定的CGI环境变量的值。">GET_CGI_ENV函数</a> 。
                              </p>
                           </li>
                           <li>
                              <p>使用<a href="OWA_UTIL.html#GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC" title="此函数将DATETYPE数据类型转换为标准Oracle DATE类型。">TODATE功能</a>的转换<a href="OWA_UTIL.html#GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B" title="此函数返回指定的CGI环境变量的值。">GET_CGI_ENV功能</a>价值的标准Oracle日期数据类型。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C214278-C28B-4880-9724-017267937D26__GUID-EB1AC516-4D0E-47E1-B41D-DDED994D9E21">例子</p><pre class="oac_no_warn" dir="ltr">&lt;SELECT NAME =“p_name”SIZE =“1”&gt; &lt;OPTION value =“01”&gt; 1 ...&lt;OPTION value =“31”&gt; 31 &lt;/ SELECT&gt;  -  &lt;SELECT NAME =“p_name”SIZE =“1”&gt; &lt;OPTION value =“01”&gt; JAN ...&lt;OPTION value =“12”&gt; DEC &lt;/ SELECT&gt;  -  &lt;SELECT NAME =“p_name”SIZE =“1”&gt; &lt;OPTION value =“1992”&gt; 1992 ...&lt;OPTION value =“2002”&gt; 2002 &lt;/ SELECT&gt;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70773"></a><a id="ARPLS70774"></a><a id="ARPLS70774"></a><a id="ARPLS70773"></a><div class="props_rev_3"><a id="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B" name="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B"></a><h4 id="ARPLS-GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B" class="sect4"><span class="enumeration_section">221.3.5</span> GET_CGI_ENV功能</h4>
                  <div>
                     <p>此函数返回指定的CGI环境变量的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B__GUID-0B3A94E4-9505-4546-99F7-0A711472EEA2">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.GET_CGI_ENV（param_name IN VARCHAR2）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B__GUID-07B77907-127B-4A36-9EB5-C6558BBF2493">参数</p>
                        <div class="tblformal" id="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B__GUID-C14B3F52-0516-42AF-AD31-9EFC6A788BC9">
                           <p class="titleintable">表221-6 GET_CGI_ENV功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_CGI_ENV函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.GET_CGI_ENV subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e1899">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e1902">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e1907" headers="d1398200e1899 ">
                                       <p><code class="codeph">PARAM_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e1907 d1398200e1902 ">
                                       <p>CGI环境变量的名称。它不区分大小写。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F11DC54E-57DB-4F63-84BD-12166BD4024B__GUID-0EB98670-A5BF-4554-9890-A3AC16BEC6EA">返回值</p>
                        <p>指定的CGI环境变量的值。如果未定义变量，则函数返回<code class="codeph">NULL</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70775"></a><a id="ARPLS70775"></a><div class="props_rev_3"><a id="GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4" name="GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4"></a><h4 id="ARPLS-GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4" class="sect4"><span class="enumeration_section">221.3.6</span> GET_OWA_SERVICE_PATH函数</h4>
                  <div>
                     <p>此函数返回正在处理请求的PL / SQL网关的完整虚拟路径。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4__GUID-104F74F8-44DF-4D18-B852-BA743307E303">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.GET_OWA_SERVICE_PATH RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BABEB0F-3365-4C86-A5EF-D7BE088312B4__GUID-EB676893-6478-436F-BF2C-AF57E04F423E">返回值</p>
                        <p>处理请求的PL / SQL网关的虚拟路径。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70776"></a><a id="ARPLS70776"></a><div class="props_rev_3"><a id="GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727" name="GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727"></a><h4 id="ARPLS-GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727" class="sect4"><span class="enumeration_section">221.3.7</span> GET_PROCEDURE功能</h4>
                  <div>
                     <p>此函数返回PL / SQL网关正在调用的过程的名称。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727__GUID-A6429E91-B62E-4DDD-875E-29E8300476DD">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.GET_PROCEDURE RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3C48569-0FB9-4208-B11B-7C8A000E5727__GUID-6EF44983-674F-454F-953E-96D5A8EBDD41">返回值</p>
                        <p>过程的名称，如果在程序包中定义过程，则包括程序包名称。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70777"></a><a id="ARPLS70777"></a><div class="props_rev_3"><a id="GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95" name="GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95"></a><h4 id="ARPLS-GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95" class="sect4"><span class="enumeration_section">221.3.8</span> HTTP_HEADER_CLOSE过程</h4>
                  <div>
                     <p>此过程生成换行符以关闭HTTP标头。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95__GUID-BE33361D-DAF3-426A-8CC1-EF66D0E8AF1C">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.HTTP_HEADER_CLOSE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95__GUID-52225A0D-EDF9-4E4F-A455-E3BBD3FA34AC">返回值</p>
                        <p>换行符，用于关闭HTTP标头。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D18BCFFE-8F71-46CC-B0A3-5D0CC7B64F95__GUID-17680604-3BB9-4B1C-97DD-6DACE745FF94">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果尚未在<a href="OWA_UTIL.html#GUID-950D2D77-6D1E-4548-9865-D325C40B244B" title="此过程更改脚本返回的默认MIME标头。此过程必须在任何HTP.PRINT或HTP.PRN调用之前指示脚本不使用默认MIME头。">MIME_HEADER过程</a> ， <a href="OWA_UTIL.html#GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408" title="此过程指定应用程序服务器将访问指定的URL。 URL可以指定要返回的Web页面或要执行的程序。">REDIRECT_URL过程</a>或<a href="OWA_UTIL.html#GUID-F5B88891-58A3-4BB6-9057-1505455896CC" title="This procedure sends a standard HTTP status code to the client.">STATUS_LINE过程中</a>使用<code class="codeph">bclose_header</code>参数关闭标头，请使用此<a href="OWA_UTIL.html#GUID-F5B88891-58A3-4BB6-9057-1505455896CC" title="此过程将标准HTTP状态代码发送到客户端。">过程。</a> 
                              </p>
                           </li>
                           <li>
                              <p>必须在任何<code class="codeph">HTP.PRINT</code>或<code class="codeph">HTP.PRN</code>调用之前关闭HTTP标头。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70778"></a><a id="ARPLS70779"></a><a id="ARPLS70779"></a><a id="ARPLS70778"></a><div class="props_rev_3"><a id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C" name="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C"></a><h4 id="ARPLS-GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C" class="sect4"><span class="enumeration_section">221.3.9</span> LISTPRINT程序</h4>
                  <div>
                     <p>此过程从SQL查询的输出生成HTML选择列表表单元素。</p>
                     <div class="section">
                        <p>此过程有两个版本。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第一个版本包含硬编码的SQL查询。</p>
                           </li>
                           <li>
                              <p>第二个版本使用使用<a href="OWA_UTIL.html#GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" title="此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。">BIND_VARIABLES函数</a>准备的动态查询。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C__GUID-A2B363B7-87F8-4293-90DB-474701BB833D">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.LISTPRINT（p_theQuery IN VARCHAR2，p_cname IN VARCHAR2，p_nsize IN NUMBER，p_multiple IN BOOLEAN DEFAULT FALSE）; OWA_UTIL.LISTPRINT（p_theCursor IN INTEGER，p_cname IN VARCHAR2，p_nsize IN NUMBER，p_multiple IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C__GUID-74C64FB6-B9E8-4738-AF56-61E9F7144654">参数</p>
                        <div class="tblformal" id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C__GUID-566379F6-3842-4018-9B5A-94DD830AF087">
                           <p class="titleintable">表221-7 LISTPRINT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LISTPRINT过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.LISTPRINT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e2396">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e2399">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2404" headers="d1398200e2396 ">
                                       <p><code class="codeph">p_theQuery</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2404 d1398200e2399 ">
                                       <p>SQL查询。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2412" headers="d1398200e2396 ">
                                       <p><code class="codeph">p_theCursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2412 d1398200e2399 ">
                                       <p>光标ID。这可以是<a href="OWA_UTIL.html#GUID-5C58F9A9-5AD8-4286-88A1-686B0BE411B4" title="此函数通过将变量绑定到SQL查询来准备SQL查询，并将输出存储在打开的游标中。使用此函数作为发送动态生成的查询的过程的参数。最多指定25个绑定变量。">BIND_VARIABLES函数</a>的返回值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2427" headers="d1398200e2396 ">
                                       <p><code class="codeph">p_cname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2427 d1398200e2399 ">
                                       <p>HTML表单元素的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2435" headers="d1398200e2396 ">
                                       <p><code class="codeph">p_nsize</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2435 d1398200e2399 ">
                                       <p>表单元素的大小（这可以控制用户无需滚动即可看到的项目数）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2443" headers="d1398200e2396 ">
                                       <p><code class="codeph">p_multiple</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2443 d1398200e2399 ">
                                       <p>是否允许多重选择。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C__GUID-7004A038-3FD3-4DAE-A984-4C3785ABF45D">使用说明</p>
                        <p>查询输出中的列按以下方式处理：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第一列指定发回的值。这些值适用于<code class="codeph">OPTION</code>标记的<code class="codeph">VALUE</code>属性。
                              </p>
                           </li>
                           <li>
                              <p>第二列指定用户看到的值。</p>
                           </li>
                           <li>
                              <p>第三列指定该行是否在<code class="codeph">OPTION</code>标记中标记为<code class="codeph">SELECTED</code> 。如果该值不为<code class="codeph">NULL</code> ，则选择该行。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FFB826C9-781F-4DCF-9300-C4657FC3E77C__GUID-4FEB0C98-F817-4BD1-B35B-989DE8C4F3A0">例子</p><pre class="oac_no_warn" dir="ltr">&lt;SELECT NAME =“ <span class="italic">p_cname</span> ”SIZE =“ <span class="italic">p_nsize</span> ”&gt; &lt;OPTION SELECTED value ='value_from_the_first_column'&gt; value_from_the_second_column &lt;OPTION SELECTED value ='value_from_the_first_column'&gt; value_from_the_second_column ...&lt;/ SELECT&gt;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70780"></a><a id="ARPLS70781"></a><a id="ARPLS70781"></a><a id="ARPLS70780"></a><div class="props_rev_3"><a id="GUID-950D2D77-6D1E-4548-9865-D325C40B244B" name="GUID-950D2D77-6D1E-4548-9865-D325C40B244B"></a><h4 id="ARPLS-GUID-950D2D77-6D1E-4548-9865-D325C40B244B" class="sect4"><span class="enumeration_section">221.3.10</span> MIME_HEADER过程</h4>
                  <div>
                     <p>此过程更改脚本返回的默认MIME标头。此过程必须在任何<code class="codeph">HTP.PRIN</code> T或<code class="codeph">HTP.PRN</code>调用之前指示脚本不使用默认MIME标头。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-950D2D77-6D1E-4548-9865-D325C40B244B__GUID-2C2A6C3D-CED8-4620-BCCA-CF7C8AC5CFD2">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.MIME_HEADER（ccontent_type IN VARCHAR2 DEFAULT'text / html'，bclose_header IN BOOLEAN DEFAULT TRUE，ccharset IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-950D2D77-6D1E-4548-9865-D325C40B244B__GUID-C6FABDA8-688B-4665-90FD-BCCD71395E08">参数</p>
                        <div class="tblformal" id="GUID-950D2D77-6D1E-4548-9865-D325C40B244B__GUID-5368A76C-884E-467B-86CB-DA548C22044B">
                           <p class="titleintable">表221-8 MIME_HEADER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MIME_HEADER过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.MIME_HEADER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e2607">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e2610">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2615" headers="d1398200e2607 ">
                                       <p><code class="codeph">ccontent_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2615 d1398200e2610 ">
                                       <p>要生成的MIME类型</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2623" headers="d1398200e2607 ">
                                       <p>bclose_header</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2623 d1398200e2610 ">
                                       <p>是否关闭HTTP标头。如果为<code class="codeph">TRUE</code> ，则发送两个换行符，这将关闭HTTP标头。否则，将发送一个换行符，并且HTTP标头仍保持打开状态。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2633" headers="d1398200e2607 ">
                                       <p>ccharset</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2633 d1398200e2610 ">
                                       <p>要使用的字符集。只有MIME类型为“text”类型时，字符集才有意义。因此，仅当传入的MIME类型为“text”类型时，才会将字符集标记到Content-Type标头上。任何其他MIME类型（例如“image”）都不会标记任何字符集。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-950D2D77-6D1E-4548-9865-D325C40B244B__GUID-CD2D4128-56AC-4117-9F4C-5EE9B63C9BC7">例子</p><pre class="oac_no_warn" dir="ltr">内容类型：&lt;ccontent_type&gt;;字符集= &lt;ccharset&gt;</pre><p>以便</p><pre class="oac_no_warn" dir="ltr">owa_util.mime_header（'text / plain'，false，'ISO-8859-4'）</pre><p>生成</p><pre class="oac_no_warn" dir="ltr">内容类型：text / plain;字符集= ISO-8859-4 \ n</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70782"></a><a id="ARPLS70782"></a><div class="props_rev_3"><a id="GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7" name="GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7"></a><h4 id="ARPLS-GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7" class="sect4"><span class="enumeration_section">221.3.11</span> PRINT_CGI_ENV程序</h4>
                  <div>
                     <p>此过程生成PL / SQL网关为存储过程提供的所有CGI环境变量及其值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7__GUID-0CBA7CF8-5EE1-43E4-A66F-79D0182521E1">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.PRINT_CGI_ENV;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F9AA35ED-76A8-428B-A7A6-3AEE698B8CE7__GUID-F3FB2641-2A6C-4905-9EFD-279138F4365E">例子</p>
                        <p>此过程按以下格式生成列表：</p><pre class="oac_no_warn" dir="ltr">cgi_env_var_name = value \ n</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70783"></a><a id="ARPLS70784"></a><a id="ARPLS70784"></a><a id="ARPLS70783"></a><div class="props_rev_3"><a id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408" name="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408"></a><h4 id="ARPLS-GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408" class="sect4"><span class="enumeration_section">221.3.12</span> REDIRECT_URL程序</h4>
                  <div>
                     <p>此过程指定应用程序服务器将访问指定的URL。 URL可以指定要返回的Web页面或要执行的程序。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408__GUID-B24CAD2B-7CCE-4636-B406-921222D52459">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.REDIRECT_URL（curl IN VARCHAR2 bclose_header IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408__GUID-9769E932-C30A-489C-B6AF-2CE8D6042DEB">参数</p>
                        <div class="tblformal" id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408__GUID-4B267A37-E482-4F18-BB51-CD46A8D6CBD6">
                           <p class="titleintable">表221-9 REDIRECT_URL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REDIRECT_URL过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.REDIRECT_URL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e2865">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e2868">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2873" headers="d1398200e2865 ">
                                       <p><code class="codeph">卷曲</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2873 d1398200e2868 ">
                                       <p>要访问的URL。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e2881" headers="d1398200e2865 ">
                                       <p>bclose_header</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e2881 d1398200e2868 ">
                                       <p>是否关闭HTTP标头。如果为<code class="codeph">TRUE</code> ，则发送两个换行符，这将关闭HTTP标头。否则，将发送一个换行符，并且HTTP标头仍保持打开状态。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408__GUID-AFF46460-FF9D-40FF-87F3-C1DB4F9B36CA">使用说明</p>
                        <p>此过程必须在任何HTP过程或HTF函数调用之前进行。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60BC02F9-94FA-402E-AC47-4C5C13CB5408__GUID-AEF3C9FD-4032-4896-9BF1-900571B99964">例子</p>
                        <p>此过程生成</p><pre class="oac_no_warn" dir="ltr">位置：&lt; <span class="italic">curl</span> &gt; \ n \ n</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70785"></a><a id="ARPLS70785"></a><div class="props_rev_3"><a id="GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8" name="GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8"></a><h4 id="ARPLS-GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8" class="sect4"><span class="enumeration_section">221.3.13</span> SHOWPAGE程序</h4>
                  <div>
                     <p>此过程在SQL * Plus中打印出过程的HTML输出。</p>
                     <div class="section">
                        <p>该过程必须使用HTP或HTF包来生成HTML页面，并且必须在调用HTP或HTF页面生成子程序之后以及在直接或间接调用任何其他HTP或HTF子程序之前发出此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8__GUID-6A43B66C-1221-4011-9FF3-4A2CBC381961">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.SHOWPAGE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8__GUID-2C2D7598-4AB3-4D1A-9E89-23F6CC55D7CD">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>此方法对于生成填充静态数据的页面非常有用。</p>
                           </li>
                           <li>
                              <p>此过程使用<a href="DBMS_OUTPUT.html#GUID-C1400094-18D5-4F36-A2C9-D28B0E12FD8C" title="DBMS_OUTPUT包使您可以从存储过程，包和触发器发送消息。该包对于显示PL / SQL调试信息特别有用。">DBMS_OUTPUT</a>程序包，每行限制为32767个字符，总缓冲区大小为1,000,000个字节。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75F8EC0-A01A-4622-9DBC-A522542679F8__GUID-82CD1C56-BCC0-4A04-A0DF-B5011F501D1E">例子</p>
                        <p>htp过程的输出显示在SQL * Plus，SQL * DBA或Oracle Server Manager中。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; set serveroutput on SQL&gt; spool gretzky.html SQL&gt; execute hockey.pass（“Gretzky”）SQL&gt; execute owa_util.showpage SQL&gt; exit</pre><p>这将生成可以从Web浏览器访问的HTML页面。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70786"></a><a id="ARPLS70787"></a><a id="ARPLS70787"></a><a id="ARPLS70786"></a><div class="props_rev_3"><a id="GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9" name="GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9"></a><h4 id="ARPLS-GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9" class="sect4"><span class="enumeration_section">221.3.14</span> SHOWSOURCE程序</h4>
                  <div>
                     <p>此过程打印指定过程，函数或包的源。如果指定了属于包的过程或函数，则显示整个包。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9__GUID-4467B01C-0E32-490A-9623-9DDA3CC8CE00">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.SHOWSOURCE（cname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9__GUID-F6BD89AC-1200-4FA7-8541-04AAD1730185">参数</p>
                        <div class="tblformal" id="GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9__GUID-486F9623-B4CB-435B-BFB1-E114F551111D">
                           <p class="titleintable">表221-10 SHOWSOURCE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SHOWSOURCE过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.SHOWSOURCE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e3143">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e3146">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3151" headers="d1398200e3143 ">
                                       <p><code class="codeph">CNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3151 d1398200e3146 ">
                                       <p>要显示其源的函数或过程。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70788"></a><a id="ARPLS70789"></a><a id="ARPLS70789"></a><a id="ARPLS70788"></a><div class="props_rev_3"><a id="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894" name="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894"></a><h4 id="ARPLS-GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894" class="sect4"><span class="enumeration_section">221.3.15</span>签名程序</h4>
                  <div>
                     <p>此过程生成HTML行，然后在HTML文档上生成签名行。</p>
                     <div class="section">
                        <p>如果指定了参数，则该过程还会生成超文本链接以查看该过程的PL / SQL源。该链接调用<a href="OWA_UTIL.html#GUID-C96EBC92-9D7D-480E-9877-8B2CBFD4F7B9" title="此过程打印指定过程，函数或包的源。如果指定了属于包的过程或函数，则显示整个包。">SHOWSOURCE过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894__GUID-07827E32-DB3B-4792-8062-084E5AAA7AB2">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.SIGNATURE; OWA_UTIL.SIGNATURE（cname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894__GUID-2F9B4DB8-1C3B-4114-8CF9-19EEE1BD3C08">参数</p>
                        <div class="tblformal" id="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894__GUID-B9FDECF8-4778-4587-90FD-1A16A5CE8870">
                           <p class="titleintable">表221-11 SIGNATURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="签名过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.SIGNATURE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e3278">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e3281">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3286" headers="d1398200e3278 ">
                                       <p><code class="codeph">CNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3286 d1398200e3281 ">
                                       <p>要显示其源的函数或过程。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D6001DB5-2A71-4420-9BC3-7CB9ABFFB894__GUID-97E01351-704F-4D3E-8024-19E03C18FBA4">例子</p>
                        <p>如果没有参数，该过程将生成如下所示的行：</p><pre class="oac_no_warn" dir="ltr">该页面由<span class="bold">PL / SQL代理生成</span> <span class="italic"> </span> 2001年8月9日09:30
</pre><p>使用参数，该过程在HTML文档中生成一个如下所示的签名行：</p><pre class="oac_no_warn" dir="ltr">本页面由<span class="bold">PL / SQL Agent</span>于8/09/01 09:30生成。查看PL / SQL Source</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70790"></a><a id="ARPLS70791"></a><a id="ARPLS70791"></a><a id="ARPLS70790"></a><div class="props_rev_3"><a id="GUID-F5B88891-58A3-4BB6-9057-1505455896CC" name="GUID-F5B88891-58A3-4BB6-9057-1505455896CC"></a><h4 id="ARPLS-GUID-F5B88891-58A3-4BB6-9057-1505455896CC" class="sect4"><span class="enumeration_section">221.3.16</span> STATUS_LINE过程</h4>
                  <div>
                     <p>此过程将标准HTTP状态代码发送到客户端。</p>
                     <div class="section">
                        <p>此过程必须在任何<code class="codeph">htp.print</code>或<code class="codeph">htp.prn</code>调用之前进行，以便状态代码作为标题的一部分返回，而不是作为“内容数据”。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5B88891-58A3-4BB6-9057-1505455896CC__GUID-F4B899AE-110B-4890-9B7D-33754DC0069F">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.STATUS_LINE（nstatus IN INTEGER，creason IN VARCHAR2 DEFAULT NULL，bclose_header IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5B88891-58A3-4BB6-9057-1505455896CC__GUID-DE69E72D-7DF9-48FC-99A4-07178C8FD315">参数</p>
                        <div class="tblformal" id="GUID-F5B88891-58A3-4BB6-9057-1505455896CC__GUID-6F787246-974B-49BD-AE7A-1F69540C943D">
                           <p class="titleintable">表221-12 STATUS_LINE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STATUS_LINE过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.STATUS_LINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e3431">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e3434">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3439" headers="d1398200e3431 ">
                                       <p><code class="codeph">n状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3439 d1398200e3434 ">
                                       <p>状态代码。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3447" headers="d1398200e3431 ">
                                       <p><code class="codeph">creason</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3447 d1398200e3434 ">
                                       <p>状态代码的字符串。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3455" headers="d1398200e3431 ">
                                       <p><code class="codeph">bclose_header</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3455 d1398200e3434 ">
                                       <p>是否关闭HTTP标头。如果为<code class="codeph">TRUE</code> ，则发送两个换行符，这将关闭HTTP标头。否则，将发送一个换行符，并且HTTP标头仍保持打开状态。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5B88891-58A3-4BB6-9057-1505455896CC__GUID-87C7948C-5A00-43D7-BAD3-0FB28DA69F9B">例子</p>
                        <p>此过程生成</p><pre class="oac_no_warn" dir="ltr">状态：&lt; <span class="italic">nstatus</span> &gt; &lt; <span class="italic">creason</span> &gt; \ n \ n</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70792"></a><a id="ARPLS70793"></a><a id="ARPLS70793"></a><a id="ARPLS70792"></a><div class="props_rev_3"><a id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD" name="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD"></a><h4 id="ARPLS-GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD" class="sect4"><span class="enumeration_section">221.3.17</span> TABLEPRINT函数</h4>
                  <div>
                     <p>此函数从数据库表生成预格式化表或HTML表（取决于用户浏览器的功能）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-A10E4FD0-7FF5-4AF1-A131-2BA76D3A8487">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.TABLEPRINT（ctable IN VARCHAR2，cattable IN VARCHAR2 DEFAULT NULL，ntable_type IN INTEGER DEFAULT HTML_TABLE，ccolumns IN VARCHAR2 DEFAULT'*'，cclauses IN VARCHAR2 DEFAULT NULL，ccol_aliases IN VARCHAR2 DEFAULT NULL，nrow_min IN NUMBER DEFAULT 0，nrow_max in NUMBER DEFAULT NULL）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-A29ECC43-EF25-43AE-B28A-C2E7494F984A">参数</p>
                        <div class="tblformal" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-11733525-8850-407C-979C-1DF12059D393">
                           <p class="titleintable">表221-13 TABLEPRINT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLEPRINT函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.TABLEPRINT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e3589">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e3592">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3597" headers="d1398200e3589 ">
                                       <p><code class="codeph">ctable</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3597 d1398200e3592 ">
                                       <p>数据库表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3605" headers="d1398200e3589 ">
                                       <p><code class="codeph">cattributes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3605 d1398200e3592 ">
                                       <p>要包含在标记中的其他属性。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3613" headers="d1398200e3589 ">
                                       <p><code class="codeph">ntable_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3613 d1398200e3592 ">
                                       <p>如何生成表。指定<code class="codeph">HTML_TABLE</code>以使用<code class="codeph">&lt;TABLE&gt;</code>标记生成表，或使用<code class="codeph">PRE_TABLE</code>生成表以使用<code class="codeph">&lt;PRE&gt;</code>标记生成表。这些是常量：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">HTML_TABLE</code> <code class="codeph">CONSTANT INTEGER</code> ：= 1;</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PRE_TABLE</code> <code class="codeph">CONSTANT INTEGER</code> ：= 2;</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3650" headers="d1398200e3589 ">
                                       <p><code class="codeph">ccolumns</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3650 d1398200e3592 ">
                                       <p>来自<code class="codeph">ctable</code>逗号分隔列表，包含在生成的表中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3661" headers="d1398200e3589 ">
                                       <p><code class="codeph">cclauses</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3661 d1398200e3592 ">
                                       <p><code class="codeph">WHERE</code>或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句，指定从数据库表中检索哪些行，以及如何对它们进行排序。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3677" headers="d1398200e3589 ">
                                       <p><code class="codeph">ccol_aliases</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3677 d1398200e3592 ">
                                       <p>生成的表的标题的逗号分隔列表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3685" headers="d1398200e3589 ">
                                       <p><code class="codeph">nrow_min</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3685 d1398200e3592 ">
                                       <p>要检索的第一行要显示。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3693" headers="d1398200e3589 ">
                                       <p><code class="codeph">nrow_max</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3693 d1398200e3592 ">
                                       <p>要检索的最后一行要显示。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-CA691B14-FBB0-439B-AAF6-55BA99AEC856">返回值</p>
                        <p>如果超出<code class="codeph">nrow_max</code>请求的行数，则返回<code class="codeph">TRUE</code> ，否则返回<code class="codeph">FALSE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-AA5216C6-C439-42E4-9711-B45CB432BA9B">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>支持<code class="codeph">RAW</code>列，但不支持<code class="codeph">LONG</code> <code class="codeph">RAW</code>列。对LONG RAW列的引用将打印结果“Not Printable”。
                              </p>
                           </li>
                           <li>
                              <p>请注意，在此函数中， <code class="codeph">cattributes</code>是第二个而不是最后一个参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-86E1CB06-98A2-47F0-9D11-B5CF6D4A6594">例子</p>
                        <p>对于不支持HTML表的浏览器，请创建以下过程：</p><pre class="oac_no_warn" dir="ltr">创建或替换程序showemps IS ignore_more BOOLEAN; BEGIN ignore_more：= OWA_UTIL.TABLEPRINT（'emp'，'BORDER'，OWA_UTIL.PRE_TABLE）;结束;</pre><p>请求诸如的URL</p><pre class="oac_no_warn" dir="ltr">HTTP：//为myhost：7777 / PLS /小时/ showemps</pre><p>返回到客户端的以下内容：</p><pre class="oac_no_warn" dir="ltr">&lt;PRE&gt; ----------------------------------------------- ------------------ | EMPNO | ENAME | JOB | MGR | HIREDATE | SAL | COMM | DEPTNO | -------------------------------------------------- --------------- | 7369 |史密斯|秘书| 7902 | 17-DEC-80 | 800 | | 20 | | 7499 | ALLEN |推销员| 7698 | 20-FEB-81 | 1600 | 300 | 30 | | 7521 | WARD |推销员| 7698 | 22-FEB-81 | 1250 | 500 | 30 | | 7566 | JONES |经理| 7839 | 02-APR-81 | 2975 | | 20 | | 7654 |马丁|推销员| 7698 | 28-SEP-81 | 1250 | 1400 | 30 | | 7698 | BLAKE |经理| 7839 | 01-MAY-81 | 2850 | | 30 | | 7782 | CLARK |经理| 7839 | 09-JUN-81 | 2450 | | 10 | | 7788 |斯科特|分析师| 7566 | 09-DEC-82 | 3000 | | 20 | | 7839 | KING |主席| | 17-NOV-81 | 5000 | | 10 | | 7844 | TURNER |推销员| 7698 | 08-SEP-81 | 1500 | 0 | 30 | | 7876 | ADAMS |秘书| 7788 | 12-JAN-83 | 1100 | | 20 | | 7900 |詹姆斯|秘书| 7698 | 03-DEC-81 | 950 | | 30 | | 7902 |福特|分析师| 7566 | 03-DEC-81 | 3000 | | 20 | | 7934 |米勒|秘书| 7782 | 23-JAN-82 | 1300 | | 10 | -------------------------------------------------- ----------------- &lt;/ PRE&gt;</pre><p>要查看部门10中的员工，以及仅查看其员工ID，姓名和工资，请创建以下过程：</p><pre class="oac_no_warn" dir="ltr">创建或替换程序showemps_10 IS ignore_more BOOLEAN;开始ignore_more：= OWA_UTIL.TABLEPRINT（'EMP'，'BORDER'，OWA_UTIL.PRE_TABLE，'empno，ename，sal'，'WHERE deptno = 10 ORDER BY empno'，'员工编号，姓名，薪水'）;结束;</pre><p>对URL的请求<span class="bold"> </span></p><pre class="oac_no_warn" dir="ltr">HTTP：//为myhost：7777 / PLS /小时/ showemps_10</pre><p>将以下内容返回给客户：</p><pre class="oac_no_warn" dir="ltr">&lt;PRE&gt; ------------------------------------- |员工编号|姓名|薪水| ------------------------------------- | 7782 | CLARK | 2450 | | 7839 | KING | 5000 | | 7934 |米勒| 1300 | ------------------------------------- &lt;/ PRE&gt;</pre><p>对于支持HTML表的浏览器，要在HTML表中查看department表，请创建以下过程：</p><pre class="oac_no_warn" dir="ltr">创建或替换程序showdept IS ignore_more BOOLEAN; BEGIN ignore_more：= oWA_UTIL.TABLEPRINT（'dept'，'BORDER'）;结束;</pre><p>对URL的请求<span class="bold"> </span></p><pre class="oac_no_warn" dir="ltr">HTTP：//为myhost：7777 / PLS /小时/ showdept</pre><p>将以下内容返回给客户：</p><pre class="oac_no_warn" dir="ltr">&lt;表BORDER&gt; &lt;TR&gt; &lt;TH&gt; DEPTNO &lt;/ TH&gt; &lt;TH&gt; DNAME &lt;/ TH&gt; &lt;TH&gt; LOC &lt;/ TH&gt; &lt;/ TR&gt; &lt;TR&gt; &lt;TD ALIGN =“LEFT”&gt; 10 &lt;/ TD &gt; &lt;TD ALIGN =“LEFT”&gt;会计&lt;/ TD&gt; &lt;TD ALIGN =“LEFT”&gt;纽约&lt;/ TD&gt; &lt;/ TR&gt; &lt;TR&gt; &lt;TD ALIGN =“LEFT”&gt; 20 &lt;/ TD&gt; &lt;TD ALIGN =“LEFT”&gt;研究&lt;/ TD&gt; &lt;TD ALIGN =“LEFT”&gt; DALLAS &lt;/ TD&gt; &lt;/ TR&gt; &lt;TR&gt; &lt;TD ALIGN =“LEFT”&gt; 30 &lt;/ TD&gt; &lt;TD ALIGN =“LEFT “&gt; SALES &lt;/ TD&gt; &lt;TD ALIGN =”LEFT“&gt; CHICAGO &lt;/ TD&gt; &lt;/ TR&gt; &lt;TR&gt; &lt;TD ALIGN =”LEFT“&gt; 40 &lt;/ TD&gt; &lt;TD ALIGN =”LEFT“&gt;操作&lt; / TD&gt; &lt;TD ALIGN =“LEFT”&gt;波士顿&lt;/ TD&gt; &lt;/ TR&gt; &lt;/ TABLE&gt;</pre><p>Web浏览器将其格式化为如下表所示：</p>
                        <div class="tblformal" id="GUID-195C05B2-27D1-4C47-B0B9-7A10DF6FF0CD__GUID-14818A21-1D3B-468C-831A-D6C01BDDDA09">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table is an example of output generated by the TABLEPRINT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1398200e3790">DEPTNO</th>
                                    <th align="left" valign="bottom" width="33%" id="d1398200e3793">DNAME</th>
                                    <th align="left" valign="bottom" width="33%" id="d1398200e3796">LOC</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1398200e3801" headers="d1398200e3790 ">
                                       <p><code class="codeph">10</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3801 d1398200e3793 ">
                                       <p><code class="codeph">会计</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3801 d1398200e3796 ">
                                       <p><code class="codeph">纽约</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1398200e3814" headers="d1398200e3790 ">
                                       <p><code class="codeph">20</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3814 d1398200e3793 ">
                                       <p><code class="codeph">研究</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3814 d1398200e3796 ">
                                       <p><code class="codeph">DALLAS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1398200e3827" headers="d1398200e3790 ">
                                       <p><code class="codeph">三十</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3827 d1398200e3793 ">
                                       <p><code class="codeph">销售</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d1398200e3827 d1398200e3796 ">
                                       <p><code class="codeph">芝加哥</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70794"></a><a id="ARPLS70795"></a><a id="ARPLS70795"></a><a id="ARPLS70794"></a><div class="props_rev_3"><a id="GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC" name="GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC"></a><h4 id="ARPLS-GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC" class="sect4"><span class="enumeration_section">221.3.18 TODATE</span>函数</h4>
                  <div>
                     <p>此函数将DATETYPE数据类型转换为标准Oracle <code class="codeph">DATE</code>类型。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC__GUID-8A680F34-B04E-4EA5-A21A-C05CAC581157">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.TODATE（p_dateArray IN dateType）RETURN DATE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC__GUID-43BE42BB-EC56-48AF-A5C0-03AAC0E3DD36">参数</p>
                        <div class="tblformal" id="GUID-3B38BCB5-B4F1-47AA-91F8-A5E9E4A642FC__GUID-0C8DF6B5-592F-4F7E-9E45-EEE85C7DC5F7">
                           <p class="titleintable">表221-14 TODATE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TODATE函数参数" width="100%" border="1" summary="This table describes the parameters of the OWA_UTIL.TODATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e3952">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e3955">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e3960" headers="d1398200e3952 ">
                                       <p><code class="codeph">p_dateArray</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e3960 d1398200e3955 ">
                                       <p>要转换的值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="OWA_UTIL.html#GUID-A181766C-ACDA-4B8B-B934-311BBAFF50EE" title="TODATE函数将此类型的项目转换为DATE类型，该类型由数据库理解并正确处理为数据。过程CHOOSE_DATE Procedure使用户可以选择所需的日期。">DATETYPE数据类型</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS70796"></a><a id="ARPLS70797"></a><a id="ARPLS70797"></a><a id="ARPLS70796"></a><div class="props_rev_3"><a id="GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6" name="GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6"></a><h4 id="ARPLS-GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6" class="sect4"><span class="enumeration_section">221.3.19</span> WHO_CALLED_ME程序</h4>
                  <div>
                     <p>此过程返回有关调用它的PL / SQL代码单元的信息（以输出参数的形式）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6__GUID-D24A82EB-4B8E-41FF-9DDA-B8A947895345">句法</p><pre class="oac_no_warn" dir="ltr">OWA_UTIL.WHO_CALLED_ME（所有者OUT VARCHAR2，名称OUT VARCHAR2，lineno OUT NUMBER，caller_t OUT VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6__GUID-4B0A3E2D-B030-4F7B-AC6D-A9D37C322CC3">参数</p>
                        <div class="tblformal" id="GUID-5DE6750D-1EBC-40A7-AF22-849765DD3EF6__GUID-4370C0E8-6B83-4162-9818-6D3FFDFC9919">
                           <p class="titleintable">表221-15 WHO_CALLED_ME过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WHO_CALLED_ME程序参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_UTIL.WHO_CALLED_ME subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1398200e4088">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1398200e4091">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e4096" headers="d1398200e4088 ">
                                       <p><code class="codeph">所有者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e4096 d1398200e4091 ">
                                       <p>程序单元的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e4104" headers="d1398200e4088 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e4104 d1398200e4091 ">
                                       <p>程序单元的名称。如果调用程序单元包装在一个包中，则为包的名称;如果调用程序单元是独立的过程或函数，则为过程或函数的名称。如果调用程序单元是匿名块的一部分，则为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e4115" headers="d1398200e4088 ">
                                       <p><code class="codeph">LINENO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e4115 d1398200e4091 ">
                                       <p>调用程序单元中的行号。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1398200e4123" headers="d1398200e4088 ">
                                       <p><code class="codeph">caller_t</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1398200e4123 d1398200e4091 ">
                                       <p>进行呼叫的程序单元的类型。可能性包括：包体，匿名块，过程和功能。过程和功能仅适用于独立的过程和功能。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06031.release-changes.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>“Oracle自动存储管理管理员指南”中此版本的更改</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-intro.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-intro.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">“Oracle自动存储管理管理员指南”中此版本的更改</li>
            </ol>
            <a id="GUID-52FF3844-8CD0-4CD3-85FD-B05FB5C8DC7E" name="GUID-52FF3844-8CD0-4CD3-85FD-B05FB5C8DC7E"></a><a id="OSTMG000"></a>
            
            <h2 id="OSTMG-GUID-52FF3844-8CD0-4CD3-85FD-B05FB5C8DC7E" class="sect2">“Oracle自动存储管理管理员指南”中此版本的更改</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍<span class="italic">Oracle自动存储管理管理员指南</span>中的更改。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="release-changes.html#GUID-8F170567-478B-4BDC-8923-E559C955C0AE">Oracle自动存储管理19c中Oracle的变化</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB">Oracle ASM 19c中Oracle ACFS和Oracle ADVM的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896">Oracle自动存储管理18c中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-AC026E6A-1566-488C-9732-47E3E1881483">Oracle ASM 18c中Oracle ACFS和Oracle ADVM的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-6EAD10E1-9843-4C53-B685-37B5285DA187">Oracle自动存储管理12c第2版（12.2.0.1）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A">Oracle ACFS和Oracle ADVM for Oracle ASM 12c第2版（12.2.0.1）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-6DD43BE5-F9A2-4562-88ED-26544D48DD49">Oracle自动存储管理12c第1版（12.1.0.2）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56">Oracle ACFS和Oracle ADVM for Oracle ASM 12c第1版（12.1.0.2）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6">Oracle自动存储管理12c第1版（12.1.0.1）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="release-changes.html#GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02">Oracle ACFS和Oracle ADVM for Oracle ASM 12c第1版（12.1.0.1）中的更改</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-52FF3844-8CD0-4CD3-85FD-B05FB5C8DC7E__GUID-BF2F7521-08D0-4E84-A15E-B2B2060DEF36">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../dblic/index.html" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”，</cite></span></a>用于确定您的Oracle数据库版本是否提供了某项功能</p>
                     </li>
                     <li>
                        <p><a href="../newft/index.html" target="_blank"><span><cite>“Oracle数据库新增功能指南”</cite></span></a> ，以获取此版本中新功能的完整说明</p>
                     </li>
                     <li>
                        <p><a href="../upgrd/index.html" target="_blank"><span><cite>“Oracle数据库升级指南”</cite></span></a> ，以获取此版本中已弃用和不支持的功能的完整说明</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE" name="GUID-8F170567-478B-4BDC-8923-E559C955C0AE"></a><h3 id="OSTMG-GUID-8F170567-478B-4BDC-8923-E559C955C0AE" class="sect3">Oracle自动存储管理19c中Oracle的变化</h3>
               <div>
                  <p></p>
                  <p>以下是Oracle自动存储管理19c中的更改。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="release-changes.html#GUID-8F170567-478B-4BDC-8923-E559C955C0AE__NEWFEATURES-A68573B8">新功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-8F170567-478B-4BDC-8923-E559C955C0AE__DEPRECATEDFEATURES-A6857868">不推荐的功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-8F170567-478B-4BDC-8923-E559C955C0AE__DESUPPORTEDFEATURES-A6857C37">不受支持的功能</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__NEWFEATURES-A68573B8">
                     <p class="subhead2" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__GUID-08FE4ECD-8D9B-42FC-BFDD-E74437A513D3">新功能</p>
                     <p>这些是Oracle自动存储管理19c的新功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SRVCTL命令增强功能</p>
                           <p>SRVCTL提供增强的命令来管理Oracle ASM网络资源。</p>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__FORINFORMATIONABOUTSRVCTLCOMMANDSTO-A050B4A2">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="admin-asm-instance.html#GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F">关于使用服务器控制实用程序管理Oracle ASM实例，</a>以获取可使用SRVCTL执行的Oracle ASM和Oracle ACFS任务的摘要</p>
                                 </li>
                                 <li>
                                    <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__SRVCTLANDCRSCTLCOMMANDSTOADMINISTER-0F1774CF">用于管理Oracle Flex ASM的SRVCTL和CRSCTL命令，</a>以获取有关管理Oracle Flex ASM资源的SRVCTL命令的信息</p>
                                 </li>
                                 <li>
                                    <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“</cite></span></a> <a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>刷新密码文件元数据</p>
                           <p>在对密码文件的位置进行更改后，应运行以下SQL语句来刷新密码文件元数据缓存：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE</pre><p>可以通过运行<code class="codeph">orapwd</code>或ASMCMD <code class="codeph">pwcopy</code> ， <code class="codeph">pwcreate</code> ， <code class="codeph">pwdelete</code> ， <code class="codeph">pwmove</code>或<code class="codeph">pwset</code>命令来引入对密码文件位置的更改。如果更改后<code class="codeph">V$PASSWORDFILE_INFO</code>未显示正确的密码文件位置，则刷新密码文件元数据高速缓存以强制刷新密码文件位置。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__FORINFORMATIONABOUTTHEASMCMDCOMMAND-B4D1E7BD">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="You can make a backup of the Oracle ASM password file, and if the Oracle ASM password file is lost or the disk group becomes inaccessible, then you can restore the backup password file.">管理磁盘组中的共享密码文件，</a>以获取有关管理<a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">磁盘组</a>中的密码文件的信息。
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="本主题提供ASMCMD实例管理命令的摘要。">ASMCMD实例管理命令，</a>以获取有关用于管理密码文件的ASMCMD命令的信息。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>新的和更新的ASMCMD命令</p>
                           <ul id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__UL_IJJ_4S2_BGB" style="list-style-type:disc">
                              <li>
                                 <p>带有ASMCMD <code class="codeph">pwcreate</code>命令的<code class="codeph"><span class="codeinlineitalic">password</span></code>选项现在是可选的。
                                 </p>
                                 <p>添加了新选项以强制删除旧密码文件并创建新密码文件（ <code class="codeph">—f</code> ）并指定密码文件的格式（ <code class="codeph">——format</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p>新的ASMCMD <code class="codeph">setsparseparent</code>命令设置稀疏子文件的父级。
                                 </p>
                              </li>
                              <li>
                                 <p>新的ASMCMD <code class="codeph">mvfile</code>命令将文件移动到存储文件的同一磁盘组中的指定文件组。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__GUID-B95C2538-5F6A-4360-97A1-EE876C7AADAB">
                              <p class="notep1">也可以看看：</p>
                              <ul id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__UL_BLH_ZT2_BGB" style="list-style-type:disc">
                                 <li>
                                    <p><a href="asmcmd-instance-commands.html#GUID-657284FD-EC25-46FB-A47B-730BF4BD9960">pwcreate</a></p>
                                 </li>
                                 <li>
                                    <p><a href="asmcmd-diskgroup-commands.html#GUID-29A237AF-5C62-484F-B593-4080C8F4BF2A">setsparseparent</a></p>
                                 </li>
                                 <li>
                                    <p><a href="asmcmd-filegroup-commands.html#GUID-2BE6114C-1940-48FB-A4A5-11C87E495A8C">mvfile</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>支持奇偶校验受保护的文件</p>
                           <p><code class="codeph">REDUNDANCY</code>文件类型属性指定文件组的冗余。<code class="codeph">PARITY</code>值指定冗余的单奇偶校验。奇偶校验设置适用于一次写入文件，例如存档日志和备份集。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__GUID-52C925C8-5804-413A-94EC-EE718BA1740D">
                              <p class="notep1">也可以看看：</p>
                              <ul id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__UL_J2W_3SH_CGB" style="list-style-type:disc">
                                 <li>
                                    <p><a href="asm-filegroups.html#GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B">关于Oracle ASM文件组属性，</a>以获取有关Oracle ASM文件组<code class="codeph">REDUNDANCY</code>属性的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__DEPRECATEDFEATURES-A6857868">
                     <p class="subhead2" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__GUID-6E945D38-42B2-453A-AD06-5B81D8163482">不推荐的功能</p>
                     <p>这些是Oracle ASM 19c不推荐使用的功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用ASMCMD <code class="codeph">pwcreate</code>命令弃用<code class="codeph"><span class="codeinlineitalic">password</span></code>选项</p>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__ORACLEDATABASEUPGRADEGUIDE-A050BB2D">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="asmcmd-instance-commands.html#GUID-657284FD-EC25-46FB-A47B-730BF4BD9960">pwcreate</a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=UPGRD" target="_blank"><span><cite>Oracle数据库升级指南</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__DESUPPORTEDFEATURES-A6857C37">
                     <p class="subhead2" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__GUID-DE5A57A0-6EC7-4A40-99D6-F509D3050D6D">不受支持的功能</p>
                     <p>这些是Oracle ASM 19c不支持的功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从Oracle Database 19c开始，不支持叶节点作为Oracle Flex Cluster体系结构的一部分。</p>
                           <div class="infoboxnotealso" id="GUID-8F170567-478B-4BDC-8923-E559C955C0AE__ORACLEDATABASEUPGRADEGUIDE-A685605D">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=UPGRD60000" target="_blank"><span><cite>Oracle数据库升级指南</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB" name="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB"></a><h3 id="OSTMG-GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB" class="sect3">Oracle ASM 19c中Oracle ACFS和Oracle ADVM的更改</h3>
               <div>
                  <p></p>
                  <p>以下是Oracle自动存储管理版本19c中对Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的更改。</p>
                  <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_OKJ_HXJ_1HB" style="list-style-type:disc">
                     <li><a href="release-changes.html#GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__SECTION_QKV_TXJ_1HB">新功能</a></li>
                     <li><a href="release-changes.html#GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__SECTION_NBS_2XJ_1HB">不推荐的功能</a></li>
                  </ul>
                  <div class="section" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__SECTION_QKV_TXJ_1HB">
                     <p class="subhead2" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__GUID-613518A0-6F77-4707-B278-AB9752683963">新功能</p>
                     <p>这些是Oracle ASM 19c中Oracle ACFS和Oracle ADVM的新功能。</p>
                     <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_BNV_TXJ_1HB" style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS <code class="codeph">acfsutil</code>命令和视图的增强功能，为诊断和分析提供更详细的输出。
                           </p>
                           <p>Oracle ACFS <code class="codeph">acfsutil</code>命令和视图的增强功能包括：</p>
                           <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_DNV_TXJ_1HB" style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">ftrace</code>命令在任何给定时间显示打开的Oracle ACFS文件</p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">acfsutil</code> <code class="codeph">lockstats</code>命令显示群集范围诊断的锁争用统计信息</p>
                              </li>
                              <li>
                                 <p>使用带<code class="codeph">—g</code>选项的<code class="codeph">acfsutil</code> <code class="codeph">meta</code>命令，仅对相关元数据执行更快的扫描，而不是整个集合</p>
                              </li>
                              <li>
                                 <p>使用带<code class="codeph">—m</code>选项的<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>命令显示诊断Oracle ACFS元数据的<code class="codeph">info</code></p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">acfsutil</code> <code class="codeph">size</code>命令在AIX环境中支持缩小Oracle ACFS文件系统</p>
                              </li>
                              <li>
                                 <p>更新的Oracle ACFS视图（ <code class="codeph">V$ASM_FILESYSTEM</code> ， <code class="codeph">V$ASM_ACFSSNAPSHOTS</code> ， <code class="codeph">V$ASM_ACFSAUTORESIZE</code> ）反映了先前版本中的内容</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__NOTE-143326-A037811B">
                              <p class="notep1">也可以看看：</p>
                              <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_ENV_TXJ_1HB" style="list-style-type:disc">
                                 <li>
                                    <p><a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="提供了许多命令行工具来管理Oracle ASM集群文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）。">使用命令行工具管理Oracle ACFS</a></p>
                                 </li>
                                 <li>
                                    <p><a href="acfs-advanced-topics.html#GUID-8D315D41-69C7-426C-A80A-975849E48AE2" title="本主题提供了用于诊断目的的Oracle ACFS命令行实用程序的摘要。">Oracle ACFS诊断命令</a></p>
                                 </li>
                                 <li>
                                    <p><a href="views-acfs-advm-info.html#GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8" title="动态视图显示有关Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的重要信息。">使用视图显示Oracle ACFS信息</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>支持在线运行Oracle ACFS <code class="codeph">fsck</code>命令（Linux）</p>
                           <p>您可以在不强制停机的情况下对文件系统进行在线分析，并且可以执行Oracle ACFS文件系统的检查，而无需卸载文件系统（卸载）。仅在Linux上支持在线运行<code class="codeph">fsck</code> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__NOTE-143335-A03961A1">
                              <p class="notep1">也可以看看：</p>
                              <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_FNV_TXJ_1HB" style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" title="本主题提供了适用于Linux环境的Oracle ACFS命令的摘要。">适用于Linux环境的Oracle ACFS命令行工具</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS复制改进</p>
                           <p>Oracle ACFS复制改进为复制命令提供了更多灵活性和功能。这些改进包括：</p>
                           <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_GNV_TXJ_1HB" style="list-style-type:disc">
                              <li>
                                 <p>Oracle ACFS <code class="codeph">acfsutil</code> <code class="codeph">repl</code>命令（ <code class="codeph">acfsutil</code> <code class="codeph">repl</code> <code class="codeph">info</code> <code class="codeph">—c</code> <code class="codeph">—u</code>除外）现在可以作为非root用户的Oracle ASM用户调用。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle ACFS <code class="codeph">acfsutil</code> <code class="codeph">repl</code> <code class="codeph">terminate</code> <code class="codeph">standby</code>现在具有远程终止功能，并为standby termination命令提供了一个新的<code class="codeph">remote</code>关键字：</p>
                                 <p><code class="codeph">acfsutil</code> <code class="codeph">repl</code> <code class="codeph">terminate</code> <code class="codeph">standby</code> <code class="codeph">remote</code> <span class="italic">备用位置</span></p>
                                 <p>新的<code class="codeph">remote</code>关键字使备用数据库终止主要位置上的复制处理，然后在备用位置上终止复制。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__NOTE-143346-A0376735">
                              <p class="notep1">也可以看看：</p>
                              <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_HNV_TXJ_1HB" style="list-style-type:disc">
                                 <li>
                                    <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS基于快照的复制可以将Oracle ACFS文件系统通过网络复制到远程站点，从而为文件系统提供灾难恢复功能。">Oracle ACFS复制</a></p>
                                 </li>
                                 <li>
                                    <p><a href="acfs-commands-replication.html#GUID-F40FA4A4-2ED0-461F-A1E0-5F886DA7FC0A" title="本主题提供了基于Oracle ACFS快照的复制命令的摘要。">用于复制的Oracle ACFS命令行工具</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="本节将讨论Oracle ACFS基于快照的复制的要求。">配置基于Oracle ACFS快照的复制</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__SECTION_NBS_2XJ_1HB">
                     <p class="subhead2" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__TITLE_A2K_2XJ_1HB">不推荐的功能</p>
                     <p>这些是Oracle ACFS 19c的弃用功能。</p>
                     <ul id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__UL_DCJ_SWJ_1HB" style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS复制版本1的弃用</p>
                           <p>从Oracle ACFS 19c（19.3）开始，不推荐使用Oracle ACFS复制协议版本1。复制协议版本1已替换为Oracle ACFS 12c第2版（12.2.0.1）中引入的基于快照的复制版本2。</p>
                           <div class="infoboxnotealso" id="GUID-439488EB-6FBD-4CF0-BD31-E8AD4AA7AABB__GUID-67EFAECC-1C82-4ACC-A023-6F8D1D450BFD">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS基于快照的复制可以将Oracle ACFS文件系统通过网络复制到远程站点，从而为文件系统提供灾难恢复功能。">Oracle ACFS复制</a> ，概述了基于Oracle ACFS快照的复制</p>
                                 </li>
                                 <li>
                                    <p>有关将现有Oracle ACFS复制协议版本1环境转换为<a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="The requirements for Oracle ACFS snapshot-based replication are discussed in this section.">基于快照的复制</a>的信息，请<a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="本节将讨论Oracle ACFS基于快照的复制的要求。">配置基于</a> Oracle ACFS快照的复制</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>在Solaris和Windows上弃用Oracle ACFS加密</p>
                           <p>从Oracle ACFS 19c（19.3）开始，Oracle和Microsoft Windows操作系统上不推荐使用Oracle ACFS加密。Oracle Solaris和Microsoft Windows上的Oracle ACFS加密基于RSA技术，该技术正在退役。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896" name="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896"></a><h3 id="OSTMG-GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896" class="sect3">Oracle自动存储管理18c中的更改</h3>
               <div>
                  <p></p>
                  <p>以下是Oracle自动存储管理18c中的更改。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="release-changes.html#GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__NEWFEATURES-DE2A7D57">新功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__DEPRECATEDFEATURES-DE2A850A">不推荐的功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__DESUPPORTEDFEATURES-DE2A89CA">不受支持的功能</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__NEWFEATURES-DE2A7D57">
                     <p class="subhead2" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-333E726B-5665-4279-91B7-6C3BE93A3528">新功能</p>
                     <p>这些是Oracle ASM 18c的新功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将普通或高冗余磁盘组转换为Flex磁盘组而不受限制安装</p>
                           <p>您可以将传统磁盘组（在Oracle ASM 18c之前创建的磁盘组）转换为Oracle ASM Flex磁盘组，而无需使用限制性安装（ <code class="codeph">MOUNTED</code> <code class="codeph">RESTRICTED</code> ）选项。
                           </p>
                           <p>必须在转换之前启用并完成虚拟分配元数据（VAM）迁移，而无需使用限制性安装。</p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-21C66B52-1675-4136-BF04-D514786DDAB7">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="asm-filegroups.html#GUID-096D903B-6646-4927-9AA6-BC6A07AD2310" title="An Oracle ASM flex disk group is a disk group type that supports Oracle ASM file groups and quota groups.">关于Oracle ASM Flex Disk Groups，</a>以获取有关<a href="asm-filegroups.html#GUID-096D903B-6646-4927-9AA6-BC6A07AD2310" title="Oracle ASM Flex磁盘组是支持Oracle ASM文件组和配额组的磁盘组类型。">Oracle ASM Flex磁盘组</a>的信息</p>
                                 </li>
                                 <li>
                                    <p> 有关Oracle ASM Flex磁盘组，扩展磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>使用级联选项删除Oracle ASM文件组</p>
                           <p>您可以使用带有<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>的<code class="codeph">CASCADE</code>关键字删除文件组及其关联文件（ <span class="italic">删除包含内容</span> ）...<code class="codeph">DROP</code> <code class="codeph">FILEGROUP</code> SQL语句。
                           </p>
                           <p></p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-A65195B8-9835-46E9-A03C-D66632E657E9">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="asm-filegroups.html#GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" title="Oracle ASM文件组是一组共享同一组属性和特征的文件。">有关Oracle ASM文件组</a>的信息，请参见Oracle ASM文件组</p>
                                 </li>
                                 <li>
                                    <p> 有关Oracle ASM Flex磁盘组，扩展磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ASM Flex Disk Group支持多租户克隆</p>
                           <p>您可以创建多租户数据库的Oracle ASM镜像克隆。已更新Oracle ASM文件组属性和用于管理可插拔数据库的SQL语法。</p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-50623FC6-4144-4F76-B726-BE923905120F">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="asm-filegroups.html#GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2">关于时间点数据库克隆使用Oracle ASM Flex磁盘组</a>获取有关时间点数据库克隆的信息</p>
                                 </li>
                                 <li>
                                    <p> 有关Oracle ASM Flex磁盘组，扩展磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ASM其他增强功能</p>
                           <p>您可以设置<code class="codeph">CONTENT_HARDCHECK.ENABLED</code>磁盘组属性，以在执行数据复制操作时启用或禁用硬件辅助弹性数据（HARD）检查。
                           </p>
                           <p>为默认值<code class="codeph">DISK_REPAIR_TIME</code>磁盘组属性已从3.6小时（改变<code class="codeph">3.6h</code> ）至12小时（ <code class="codeph">12h</code> ）。
                           </p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-41CA9D8F-7F28-4A42-8229-97DB157A1488">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="manage-diskgroup-attributes.html#GUID-28A6ABB3-0AAB-4F7F-A843-CD5187F4D8DC" title="您可以设置和显示磁盘组属性设置。CONTENT.CHECK属性在执行磁盘组的数据重定位操作时启用或禁用内容检查。CONTENT_HARDCHECK.ENABLED磁盘组属性在执行用于重新平衡磁盘组的数据复制操作时启用或禁用硬件辅助弹性数据（HARD）检查。在包含跨多个物理上分离的站点的节点的Oracle扩展群集中，PREFERRED_READ.ENABLED磁盘组属性控制是否为磁盘组启用首选读取功能。">管理磁盘组属性</a>以获取有关磁盘组属性的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>成员群集的存储转换</p>
                           <p>您可以使用ASMCMD命令来管理成员集群的配置。例如，您可以将存储方法从直接Oracle ASM更改为间接Oracle ASM，或者从间接Oracle ASM更改为直接Oracle ASM。</p>
                           <p></p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__FORINFORMATIONABOUTADMINISTERINGORA-2CDA741E">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0">管理Oracle Flex ASM</a>以获取有关管理Oracle Flex ASM的信息</p>
                                 </li>
                                 <li>
                                    <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令，</a>用于获取有关管理成员群集的ASMCMD命令的信息</p>
                                 </li>
                                 <li>
                                    <p>有关成员集群的信息<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD-GUID-6BA197F8-44D4-4663-8191-1CB24EF5F117" target="_blank"><span><cite>，请参见“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>对ASMCMD <code class="codeph">showversion</code>和<code class="codeph">showpatches</code>命令的更改</p>
                           <p>已为ASMCMD <code class="codeph">showversion</code>和<code class="codeph">showpatches</code>命令提供了其他选项。
                           </p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__FORINFORMATIONABOUTASMCMDCOMMANDSTO-2CDA6085">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="本主题提供ASMCMD实例管理命令的摘要。">ASMCMD实例管理命令，</a>以获取有关管理Oracle ASM实例的ASMCMD命令的信息</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__DEPRECATEDFEATURES-DE2A850A">
                     <p class="subhead2" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-8C6E1551-68A4-415F-9EAF-660F1ED92534">不推荐的功能</p>
                     <p>这些是Oracle ASM 18c的弃用功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从Oracle Database 18c开始，叶子节点作为Oracle Flex Cluster体系结构的一部分被弃用。</p>
                           <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__ORACLEDATABASEUPGRADEGUIDEFORMOREIN-9FC9E210">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=UPGRD60000" target="_blank"><span><cite>Oracle数据库升级指南</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ASM智能数据放置的弃用</p>
                           <p>自Oracle ASM 12 <span class="italic">c</span>第2版（12.2）以来，Oracle ASM智能数据放置（IDP）功能已被弃用，并计划在将来的版本中进行解除支持。
                           </p>
                           <div class="infoboxnote" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-86FE2F65-2653-4162-B646-2632DAAAE3A1">
                              <p class="notep1">注意：</p>
                              <p>启用虚拟分配元数据（VAM）迁移时，不支持IDP。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__DESUPPORTEDFEATURES-DE2A89CA">
                     <p class="subhead2" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__GUID-7CAE442E-498B-4E07-8CD8-EF93407296EF">不受支持的功能</p>
                     <p>这些是Oracle ASM版本18c的不受支持的功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持Oracle XDB功能</p>
                           <p>Oracle XDB具有Oracle数据库18c版本18.1中不支持的功能。</p>
                        </li>
                        <li>
                           <p>支持<code class="codeph">STANDBY_ARCHIVE_DEST</code></p>
                           <p>Oracle数据库版本18c中不支持<code class="codeph">STANDBY_ARCHIVE_DEST</code>初始化参数。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-2EBF0157-89A5-42ED-B2A4-4644EC50F896__ORACLEDATABASENEWFEATURESGUIDEFORAC-FDFDD9D5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=UPGRD" target="_blank"><span><cite>Oracle数据库升级指南</cite></span></a> ，全面介绍Oracle Database 12c和Oracle Database 18c版中已弃用和不支持的功能</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-AC026E6A-1566-488C-9732-47E3E1881483" name="GUID-AC026E6A-1566-488C-9732-47E3E1881483"></a><h3 id="OSTMG-GUID-AC026E6A-1566-488C-9732-47E3E1881483" class="sect3">Oracle ASM 18c中Oracle ACFS和Oracle ADVM的更改</h3>
               <div>
                  <p></p>
                  <p>以下是Oracle自动存储管理18c中对Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的更改。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="release-changes.html#GUID-AC026E6A-1566-488C-9732-47E3E1881483__NEWFEATURES-DE2AED2E">新功能</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__NEWFEATURES-DE2AED2E">
                     <p class="subhead2" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-98B69F48-AA79-4F1E-9C22-F2D89783AAF7">新功能</p>
                     <p>这些是Oracle ASM 18c中Oracle ACFS和Oracle ADVM的新功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS复制的增强功能</p>
                           <p>Oracle ACFS复制提供复制角色转换功能，并将Oracle ACFS快照指定为参与复制的存储位置。Oracle ACFS复制提供复制<span class="italic">角色</span> <span class="italic">转换</span>功能，该功能使原始主要和备用位置可以反转角色。使用<code class="codeph">acfsutil</code> <code class="codeph">repl</code> <code class="codeph">reverse</code>命令，可以将原始主数据库更改为新备用数据库，将原始备用数据库更改为新主数据库。
                           </p>
                           <p><span class="italic">角色</span> <span class="italic">转换</span>功能增强了复制功能，可提供额外的灾难恢复功能。通过将Oracle ACFS快照指定为复制主要或备用位置，您可以选择复制已装入的文件系统或已装入文件系统的快照。
                           </p>
                           <p>Oracle建议使用Oracle Data Guard和Oracle Golden Gate进行数据库灾难恢复。在Oracle ASM 18c和Oracle ASM 12c第2版中，Oracle ACFS复制可与Oracle标准版一起用于灾难恢复和定期刷新测试和开发环境。</p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-176A7ACF-8F5A-469D-A1F0-ED983A98B0FD">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS基于快照的复制可以将Oracle ACFS文件系统通过网络复制到远程站点，从而为文件系统提供灾难恢复功能。">Oracle ACFS复制</a></p>
                                 </li>
                                 <li>
                                    <p><a href="acfs-commands-replication.html#GUID-F40FA4A4-2ED0-461F-A1E0-5F886DA7FC0A" title="本主题提供了基于Oracle ACFS快照的复制命令的摘要。">用于复制的Oracle ACFS命令行工具</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="本节将讨论Oracle ACFS基于快照的复制的要求。">配置基于Oracle ACFS快照的复制</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>减小Oracle ACFS文件系统的大小</p>
                           <p>无论命令是否必须在内部移动用户数据或元数据以完成操作，您都可以使用<code class="codeph">acfsutil</code> <code class="codeph">size</code>命令来减小文件系统的大小。
                           </p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-A3437F0F-FA7A-41C8-8EE3-114F33669E4A">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>适用于成员集群的Oracle ACFS远程服务</p>
                           <p>除了支持具有附加本地存储的Oracle成员集群之外，Oracle ACFS还为成员集群上的本机Oracle ACFS功能提供Oracle ACFS远程服务，而无需连接本地存储（间接存储成员集群）。利用Oracle域服务集群（DSC）上的Oracle ACFS部署，Oracle ACFS远程服务可用于Oracle应用集群和数据库成员集群，以实现灵活的基于文件系统的应用程序和数据库部署。与基于NFS的导出不同，Oracle ACFS远程服务完全支持高级Oracle ACFS功能;例如复制，快照和标记;在目标成员集群上。</p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-7B62A5AD-38D7-482C-9998-8E189E86E31B">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">关于集群域中的Oracle ACFS</a></p>
                                 </li>
                                 <li>
                                    <p><a href="understand-acfs-admin.html#GUID-348D994A-196F-41C9-A675-71AA58D7CA02">群集域中的Oracle ACFS远程服务</a></p>
                                 </li>
                                 <li>
                                    <p><a href="acfs-commands-cluster-domain.html#GUID-865D4267-5F79-4241-ADF4-2292FC34778D" title="本主题提供了在集群域中管理Oracle ACFS的命令的摘要。">集群域中用于Oracle ACFS的Oracle ACFS命令行工具</a></p>
                                 </li>
                                 <li>
                                    <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令</a></p>
                                 </li>
                                 <li>
                                    <p><a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。">管理Oracle Flex ASM</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>附加信息显示Oracle ACFS存储使用情况</p>
                           <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">storage</code>命令显示独立于平台的视图，该视图显示Oracle ASM，Oracle ACFS和Oracle ADVM的组件如何使用Oracle ASM磁盘组中的空间。</p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-2015ED10-759A-4541-859B-C1ACE17B0A29">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS快照命令的增强功能</p>
                           <p>Oracle ACFS <code class="codeph">acfsutil</code>命令已更新，可以更好地管理Oracle ACFS快照。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code>命令创建或删除快照链接。快照链接使用不包含的备用路径提供对快照内容的访问<code class="codeph">.ACFS/snaps</code>目录，即创建快照的默认位置。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">dup</code> <code class="codeph">apply</code>命令提供<code class="codeph">—B</code>选项以指定生成的备份快照的名称。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-FBA8488E-117F-4482-9047-1473DD8BD645">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="本主题提供了管理Oracle ACFS快照的命令摘要。">用于快照的Oracle ACFS命令行工具</a></p>
                                 </li>
                                 <li>
                                    <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>在Oracle ACFS文件系统中暂时冻结修改</p>
                           <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">freeze</code>和<code class="codeph">acfsutil</code> <code class="codeph">thaw</code>命令暂时停止和恢复Oracle ACFS文件系统中的修改活动。使用<code class="codeph">acfsutil</code> <code class="codeph">freeze</code>命令，您可以在不停止应用程序的情况下跨不同快照创建时间点映像。跨节点通信确保所有节点执行冻结操作。在冻结期间，每个节点停止对指定文件系统的所有修改操作，刷新用户数据和元数据，将数据提交到磁盘，然后确认操作何时完成。
                           </p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-0D2AAA65-2491-4096-80DE-F7059A9479C7">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS诊断命令的增强功能</p>
                           <p>Oracle ACFS诊断命令（例如<code class="codeph">acfsutil</code> <code class="codeph">meta</code> ）已更新，以提供改进的Oracle ACFS诊断管理。</p>
                           <p></p>
                           <div class="infoboxnotealso" id="GUID-AC026E6A-1566-488C-9732-47E3E1881483__GUID-DB77DCB8-CAB9-4A4F-BA8C-82C850B3A4C4">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="acfs-advanced-topics.html#GUID-8D315D41-69C7-426C-A80A-975849E48AE2" title="本主题提供了用于诊断目的的Oracle ACFS命令行实用程序的摘要。">Oracle ACFS诊断命令</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187" name="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187"></a><h3 id="OSTMG-GUID-6EAD10E1-9843-4C53-B685-37B5285DA187" class="sect3">Oracle自动存储管理12c第2版（12.2.0.1）中的更改</h3>
               <div>
                  <p>以下是Oracle自动存储管理12c第2版（12.2.0.1）中的更改。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="release-changes.html#GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__NEWFEATURES-5BC26471">新功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__DEPRECATEDFEATURES-5BC26D5C">不推荐的功能</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__NEWFEATURES-5BC26471">
                     <p class="subhead2" id="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__GUID-F63E5D68-06A1-4CD1-A7A3-11A45F4D2966">新功能</p> 
                     <p>这些是Oracle ASM 12c第2版（12.2.0.1）的新功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ASM Flex磁盘组</p>
                           <p>Oracle ASM使用Oracle ASM flex和扩展磁盘组提供面向数据库的存储管理。有关Oracle ASM Flex磁盘组，扩展磁盘组和文件组的信息，请参阅<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex磁盘组</a> 。
                           </p>
                        </li>
                        <li>
                           <p>针对Oracle ASM文件组的优先重新平衡</p>
                           <p>Oracle ASM文件组可以使用<code class="codeph">PRIORITY</code>属性设置重新平衡的<code class="codeph">PRIORITY</code>级。
                           </p>
                           <p>有关Oracle ASM文件组属性的信息，请参阅<a href="asm-filegroups.html#GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B">关于Oracle ASM文件组属性</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ASM支持对扩展群集进行首选读取</p>
                           <p>Oracle扩展集群是特殊用途的Oracle flex集群，其中包含跨越多个物理上分离的位置的节点。Oracle Flex集群是一个可伸缩的集群，可以在其中为服务器分配数据库或应用程序功能的特定角色。</p>
                           <p>在Oracle扩展群集中， <code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性控制是否为磁盘组启用首选读取功能。如果启用了首选读取功能，则此功能使实例能够确定和读取与自身相同的站点上的磁盘，从而提高性能。有关<code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性的信息，请参阅<a href="manage-diskgroup-attributes.html#GUID-F3E0FDDE-125D-4D7B-B3F5-8EE81DC1D3FB" title="在包含跨多个物理上分离的站点的节点的Oracle扩展群集中，PREFERRED_READ.ENABLED磁盘组属性控制是否为磁盘组启用首选读取功能。">PREFERRED_READ.ENABLED</a> 。</p>
                        </li>
                        <li>
                           <p>Oracle ASM对4K扇区大小的扩展支持</p>
                           <p>此功能提供新的磁盘组属性<code class="codeph">LOGICAL_SECTOR_SIZE</code> 。此属性设置磁盘组的逻辑扇区大小，而不是从添加到磁盘组的磁盘估计的大小。该值指定磁盘组可以接受的最小I / O，并且还限制可以加入磁盘组的磁盘类型。<code class="codeph">V$ASM_DISKGROUP</code>和<code class="codeph">V$ASM_DISK</code>视图中包含一个新列<code class="codeph">LOGICAL_SECTOR_SIZE</code> 。此列表示磁盘组或磁盘的逻辑扇区大小值（以字节为单位）。
                           </p>
                           <p>有关对4K扇区大小的扩展支持的信息，请参阅<a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580" title="您可以将可选的LOGICAL_SECTOR_SIZE和SECTOR_SIZE磁盘组属性与CREATE DISKGROUP和ALTER DISKGROUP SQL语句一起使用，以指定磁盘组的逻辑扇区大小和物理扇区大小。">指定逻辑和物理扇区大小</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle IOServer</p>
                           <p>Oracle IOServer（IOS）实例为Oracle成员集群的节点上的Oracle数据库实例提供Oracle ASM文件访问，这些节点没有连接到Oracle ASM受管磁盘。</p>
                           <p>有关远程Oracle IOServer和Oracle Flex ASM的信息，请参阅<a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。">管理Oracle Flex ASM</a> 。</p>
                        </li>
                        <li>
                           <p>Oracle ASM筛选器驱动程序安装和配置的更新</p>
                           <p>现在可以在Oracle Grid Infrastructure安装期间将Oracle ASM过滤器驱动程序（Oracle ASMFD）的安装和配置作为自动过程启用。</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，Solaris ASMFD在Solaris系统上可用。
                           </p>
                           <p>有关Oracle ASMFD的更多信息，请参阅<a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM过滤器驱动程序（Oracle ASMFD）通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。">管理Oracle ASM筛选器驱动程序</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__DEPRECATEDFEATURES-5BC26D5C">
                     <p class="subhead2" id="GUID-6EAD10E1-9843-4C53-B685-37B5285DA187__GUID-DDBDE414-9901-4899-A9F1-79A52C52B6F0">不推荐的功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第2版（12.2.0.1）的弃用功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ASM智能数据放置的弃用</p>
                           <p>Oracle ASM智能数据放置（IDP）功能已在Oracle ASM 12 <span class="italic">c</span>第2版（12.2）中弃用，并且可能在将来的版本中被禁用。
                           </p>
                        </li>
                        <li>
                           <p>ASM_PREFERRED_READ_FAILURE_GROUPS初始化参数的弃用</p>
                           <p><code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数已在Oracle ASM 12 <span class="italic">c</span>第2版（12.2）中弃用，并且可能在将来的版本中被禁用。
                           </p>
                           <p>在Oracle ASM 12 <span class="italic">c</span>第2版（12.2）中，指定首选读取失败组是自动完成的，因此不再需要使用<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数。从Oracle ASM 12 <span class="italic">c</span>第2版开始， <code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性控制是否启用首选读取功能。
                           </p>
                           <p>有关<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数的信息，请参阅<a href="init-params-asm-instance.html#GUID-C80F7E86-9937-434E-964F-6EED495BBF9E" title="ASM_PREFERRED_READ_FAILURE_GROUPS初始化参数值是逗号分隔的字符串列表，用于指定应由给定实例优先读取的故障组。">ASM_PREFERRED_READ_FAILURE_GROUPS</a> 。有关<code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性的信息，请参阅<a href="manage-diskgroup-attributes.html#GUID-F3E0FDDE-125D-4D7B-B3F5-8EE81DC1D3FB" title="在包含跨多个物理上分离的站点的节点的Oracle扩展群集中，PREFERRED_READ.ENABLED磁盘组属性控制是否为磁盘组启用首选读取功能。">PREFERRED_READ.ENABLED</a> 。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A" name="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A"></a><h3 id="OSTMG-GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A" class="sect3">Oracle ACFS和Oracle ADVM for Oracle ASM 12 <span class="italic">c</span>第2版（12.2.0.1）中的更改</h3>
               <div>
                  <p>以下是Oracle ASM 12 <span class="italic">c</span>第2版（12.2.0.1）的Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的更改。
                  </p>
                  <div class="section" id="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A__NEWFEATURES-5BC3BABA">
                     <p class="subhead2" id="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A__GUID-1AEAB310-90F5-4572-9857-1C448A05D040">新功能</p>
                     <p>这些是Oracle ASM 12c第2版（12.2.0.1）中的Oracle ACFS和Oracle ADVM的新功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS基于快照的复制</p> 
                           <p>Oracle ACFS基于快照的复制使用标准<code class="codeph">ssh</code>协议将主文件系统的连续快照之间的差异传输到备用文件系统。
                           </p>
                           <p>有关Oracle ACFS基于快照的复制的概述，请参阅<a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS基于快照的复制可以将Oracle ACFS文件系统通过网络复制到远程站点，从而为文件系统提供灾难恢复功能。">Oracle ACFS复制</a> 。有关Oracle ACFS复制命令的信息，请参阅<a href="acfs-commands-replication.html#GUID-F40FA4A4-2ED0-461F-A1E0-5F886DA7FC0A" title="本主题提供了基于Oracle ACFS快照的复制命令的摘要。">Oracle ACFS命令行工具以进行复制</a> 。
                           </p>
                           <p>有关将现有Oracle ACFS复制环境转换为基于快照的复制的信息，请参阅<a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="本节将讨论Oracle ACFS基于快照的复制的要求。">配置Oracle ACFS基于快照的复制</a> 。
                           </p>
                           <div class="infoboxnote" id="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A__FORINFORMATIONABOUTTHEPREVIOUSORACL-EC7C7A30">
                              <p class="notep1">注意：</p>
                              <p>有关Oracle Grid Infrastructure版本1（12.1）中可用的先前Oracle ACFS复制系统的信息，请参阅<a href="http://docs.oracle.com/database/121/index.htm" target="_blank">Database Online Documentation 12 <span class="italic">c</span>第1版（12.1）</a>库中的<span class="italic">Oracle自动存储管理管理员指南</span> 。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS快照增强功能</p>
                           <p>Oracle ACFS快照增强功能包括用于创建和管理快照重复项的<code class="codeph">acfsutil</code>操作系统命令。其他命令支持重新制作，重命名和设置快照的配额。
                           </p>
                           <p>有关Oracle ACFS快照的信息，请参阅<a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a> 。有关管理Oracle ACFS快照的<code class="codeph">acfsutil</code>命令的信息，请参阅Oracle ACFS快照<a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="本主题提供了管理Oracle ACFS快照的命令摘要。">命令行工具</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS压缩</p>
                           <p>Oracle ACFS使用<code class="codeph">acfsutil</code> <code class="codeph">compress</code>命令提供文件系统压缩功能。
                           </p>
                           <div class="infoboxnote" id="GUID-1CC5826A-5E06-4D84-927A-A4E9FCC55C1A__ORACLEACFSCOMPRESSIONISNOTSUPPORTED-2BCCB78C">
                              <p class="notep1">注意：</p>
                              <p>Oracle数据库文件不支持Oracle ACFS压缩。用于保存数据库文件的Oracle ACFS文件系统不应使用Oracle ACFS压缩进行压缩。</p>
                           </div>
                           <p>有关Oracle ACFS压缩的信息，请参阅<a href="understand-acfs-admin.html#GUID-7E372847-D7BA-4872-8A79-03300AF500C5" title="在指定的Oracle ACFS文件系统上启用Oracle ACFS压缩以获取通用文件。Oracle数据库文件不支持Oracle ACFS压缩。">Oracle ACFS压缩</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS Defragger</p>
                           <p>与快照共享存储或与文件系统基础共享存储的数据库可能会在活动联机事务处理（OLTP）工作负载下变为碎片。这种碎片可能导致卷中数据的位置对于顺序扫描是不连续的。Oracle ACFS在后台自动对这些文件进行碎片整理。通过<code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code>和<code class="codeph">file</code>命令报告<code class="codeph">defrag</code> ，也可以使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>命令查看<code class="codeph">acfsutil</code> 。如果自动碎片整理没有足够快地发生，则<code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code>和<code class="codeph">file</code>命令还可以对<code class="codeph">file</code>进行按需碎片整理。当数据库数据文件驻留在使用Oracle ACFS压缩启用的文件系统中时，也可能需要进行碎片整理。
                           </p>
                           <p>有关Oracle ACFS上的数据库文件的更多信息，请参阅<a href="understand-acfs-concepts.html#GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947">关于Oracle ACFS和数据库数据文件</a> 。有关<code class="codeph">acfsutil</code> <code class="codeph">defrag</code>和<code class="codeph">acfsutil</code> <code class="codeph">info</code>命令的<code class="codeph">info</code> ，请参阅<a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS对4K扇区的支持</p>
                           <p>Oracle ACFS支持4K逻辑扇区大小的多个I / O请求，并继续支持512字节逻辑扇区大小的I / O请求。<code class="codeph">i 4096</code>选项随Windows上的<code class="codeph">acfsformat</code>命令和AIX，Linux和Solaris环境中的<code class="codeph">mkfs</code>命令一起提供。
                           </p>
                           <p>有关Linux上的Oracle ACFS <code class="codeph">mkfs</code>命令的信息，请参阅<a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">mkfs</a> 。有关Oracle ACFS <code class="codeph">acfsformat</code>命令的信息，请参阅<a href="acfs-commands-windows.html#GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB">acfsformat</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS自动调整大小</p>
                           <p>Oracle ACFS使用<code class="codeph">acfsutil size</code>命令提供自动调整大小选项，使您可以指定在文件系统中可用空间量低于指定数量时Oracle ACFS文件系统自动增长的增量。还可以选择指定使用自动调整大小选项时允许的最大大小。<code class="codeph">acfsutil info fs</code>命令的输出显示自动调整大小增量和最大量。
                           </p>
                           <p>有关<code class="codeph">acfsutil size</code>命令的更多信息，请参阅<a href="acfs-commands-utilities.html#GUID-79A8333D-4E1C-4788-944D-EC86E4278C00">acfsutil大小</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS元数据加速</p>
                           <p>Oracle ACFS支持加速器元数据存储。此支持使许多关键的Oracle ACFS元数据结构（包括扩展区元数据，存储位图，卷日志和一些快照元数据）可以放置在加速器存储上。</p>
                           <p>可以使用<code class="codeph">mkfs</code>命令的<code class="codeph">-a</code>选项在Linux环境中创建加速器卷。要使用<code class="codeph">-a</code>选项， <code class="codeph">COMPATIBLE.ADVM</code>的值必须至少为<code class="codeph">12.2</code> 。
                           </p>
                           <p>有关元数据存储的更多信息，请参阅<a href="understand-acfs-admin.html#GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A">Oracle ACFS Accelerator Volume</a> 。有关使用<code class="codeph">mkfs</code>命令指定加速器存储的信息，请参阅<a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">mkfs</a> 。有关可用于查看有关加速器存储的信息的命令，请参阅<a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil info文件</a>和<a href="acfs-commands-utilities.html#GUID-1D06D15C-A37F-4805-BD99-953B01B1CD08">acfsutil info fs</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS NAS最高可用性扩展</p>
                           <p>Oracle ACFS通过Oracle ACFS NAS最高可用性扩展（Oracle ACFS NAS MAX）为高可用性通用Internet文件系统（HACIFS）提供增强功能。</p>
                           <p>有关更多信息，请参阅<a href="understand-acfs-admin.html#GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" title="Oracle ACFS NAS最高可用性扩展（Oracle ACFS NAS MAX）是一组扩展，为常见NAS协议（如NFS和SMB）提供高可用性扩展。">Oracle ACFS NAS最高可用性扩展</a> 。
                           </p>
                        </li>
                        <li>
                           <p>用于文件内容数据收集的Oracle ACFS插件</p>
                           <p>Oracle ACFS插件支持文件内容数据收集。文件内容数据集支持轮询和基于间隔的捕获。</p>
                           <p>有关Oracle ACFS插件和<code class="codeph">acfsfileid_lookup</code> API的更多信息，请参阅<a href="acfs-advanced-topics.html#GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB">Oracle ACFS插件通用应用程序编程接口</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS稀疏文件</p>
                           <p>Oracle ACFS提供对稀疏文件的支持。Oracle ACFS稀疏文件极大地有利于NFS客户端写入操作，这些操作通常由NFS服务器和关联的Oracle ACFS文件系统无序接收。</p>
                           <p>通常，当应用程序写入超出文件末尾时，将分配存储并为文件区域插入零，超出旧文件末尾和新写入的开头。使用此功能，不是插入零，而是在文件中保留一个洞，这有利于NFS性能以及有意执行此类写入的其他应用程序的性能和磁盘利用率。此功能还为本质上稀疏的文件节省了存储空间，这意味着它们具有大量未使用的空间，例如虚拟机的某些映像文件。当读取漏洞时，Oracle ACFS会在内存中用零填充文件中的漏洞，而不是为零分配存储空间。</p>
                           <p>要使用此功能， <code class="codeph">COMPATIBLE.ADVM</code>磁盘组属性必须设置为<code class="codeph">12.2</code>或更高。
                           </p>
                           <p>有关Oracle ACFS存储管理的<a href="overview-acfs-advm.html#GUID-C91D3A8E-F329-44BE-97B7-8AB41897D8E1" title="Oracle Automatic Storage Management Cluster File System (Oracle ACFS) is a multi-platform, scalable file system, and storage management technology that extends Oracle Automatic Storage Management (Oracle ASM) functionality to support all customer files.">概述</a> ，请参阅<a href="overview-acfs-advm.html#GUID-C91D3A8E-F329-44BE-97B7-8AB41897D8E1" title="Oracle自动存储管理群集文件系统（Oracle ACFS）是一种多平台，可扩展的文件系统和存储管理技术，可扩展Oracle自动存储管理（Oracle ASM）功能以支持所有客户文件。">Oracle ACFS概述</a> 。</p>
                        </li>
                        <li>
                           <p>Oracle ACFS清理功能</p>
                           <p>Oracle ACFS使用<code class="codeph">acfsutil</code> <code class="codeph">scrub</code>命令提供清理功能，以检查并报告元数据或文件数据中的任何不一致。
                           </p>
                           <p>有关<code class="codeph">acfsutil</code> <code class="codeph">scrub</code>命令的信息，请参阅<a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS环回功能</p>
                           <p>Oracle ACFS支持Linux操作系统上的环回功能，可以将Oracle ACFS文件作为设备进行访问。</p>
                           <p>有关Oracle ACFS环回支持的信息，请参阅<a href="acfs-advanced-topics.html#GUID-9394890B-0CBF-4606-AC94-830FACF2D254">Oracle ACFS环回支持</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS诊断命令</p>
                           <p>Oracle ACFS提供各种<code class="codeph">acfsutil</code>命令以用于诊断目的。这些命令仅在Oracle支持人员请求生成用于分析的诊断数据时运行。
                           </p>
                           <p>有关诊断命令的信息，请参阅<a href="acfs-advanced-topics.html#GUID-8D315D41-69C7-426C-A80A-975849E48AE2" title="本主题提供了用于诊断目的的Oracle ACFS命令行实用程序的摘要。">Oracle ACFS诊断命令</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95721"></a><div class="props_rev_3"><a id="GUID-6DD43BE5-F9A2-4562-88ED-26544D48DD49" name="GUID-6DD43BE5-F9A2-4562-88ED-26544D48DD49"></a><h3 id="OSTMG-GUID-6DD43BE5-F9A2-4562-88ED-26544D48DD49" class="sect3">Oracle自动存储管理12 <span class="italic">c</span>版本1（12.1.0.2）中的更改</h3>
               <div>
                  <p>以下是Oracle自动存储管理12 <span class="italic">c</span>第1版（12.1.0.2）中的更改。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6DD43BE5-F9A2-4562-88ED-26544D48DD49__GUID-292CBA4D-1E4C-4AC0-BB79-E262F6D865F9">新功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.2）的新功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ASM过滤器驱动程序</p>
                           <p>Oracle ASM筛选器驱动程序（Oracle ASMFD）是一个内核模块，驻留在Oracle ASM磁盘的I / O路径中。Oracle ASM使用筛选器驱动程序验证对Oracle ASM磁盘的写入I / O请求。</p>
                           <p>Oracle ASM筛选器驱动程序拒绝任何无效的I / O请求。此操作可消除意外覆盖Oracle ASM磁盘，从而导致磁盘组中的磁盘和文件损坏。例如，Oracle ASM筛选器驱动程序筛选出可能导致意外覆盖的所有非Oracle I / O.</p>
                           <p>有关Oracle ASMFD的更多信息，请参阅<a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM过滤器驱动程序（Oracle ASMFD）通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。">管理Oracle ASM筛选器驱动程序</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95724"></a><div class="props_rev_3"><a id="GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56" name="GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56"></a><h3 id="OSTMG-GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56" class="sect3">Oracle ACFS和Oracle ADVM for Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.2）中的更改</h3>
               <div>
                  <p>以下是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.2）中的Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的更改。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56__GUID-213C79C2-1D7B-442D-93A9-63E5E446D04F">新功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.2）中的Oracle ACFS和Oracle ADVM的新功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Windows上的Oracle ACFS对数据库数据文件的支持</p>
                           <p>Windows上的Oracle ACFS 12 <span class="italic">c</span>版本1（12.1.0.2）支持所有数据库文件，但Oracle Restart（独立服务器）配置中的数据文件和重做日志除外。要在Windows上支持数据库文件，必须将<code class="codeph">COMPATIBLE.ADVM</code>属性设置为<code class="codeph">12.1.0.2</code>或更高版本。
                           </p>
                           <p>有关Oracle ACFS上的数据库文件的更多信息，请参阅<a href="understand-acfs-concepts.html#GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947">关于Oracle ACFS和数据库数据文件</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ExFS支持Oracle ACFS和Oracle ACFS支持通用文件</p>
                           <p>Linux上的Oracle Exadata支持从Oracle Grid 12 <span class="italic">c</span>第1版（12.1.0.2）开始的Oracle ACFS。Oracle ACFS支持通用文件和数据库文件;但是，Oracle ASM是支持数据库文件的最佳实践。
                           </p>
                           <p>可以将Oracle ACFS配置为与数据库一起使用，尤其是利用Oracle ACFS快照进行数据库测试和开发。但是，Oracle ACFS目前无法将数据库操作直接推送到存储中。</p>
                           <p>有关Oracle ACFS上的数据库文件的更多信息，请参阅<a href="understand-acfs-concepts.html#GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947">关于Oracle ACFS和数据库数据文件</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS支持1023个快照</p>
                           <p>每个文件系统支持总共1023个只读，读写或只读和读写快照视图的组合。有关Oracle ACFS快照的信息，请参阅<a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS对Oracle数据库文件映射视图的支持</p>
                           <p>Oracle ACFS支持Oracle数据库文件映射视图到Oracle ASM设备级别。有关与Oracle ACFS相关的文件映射视图的信息，请参阅<a href="views-acfs-advm-info.html#GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157" title="Oracle ACFS支持Oracle数据库文件映射视图到Oracle ASM设备级别。">Oracle ACFS对Oracle数据库文件映射视图的支持</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Key Vault的Oracle ACFS加密支持</p>
                           <p>Oracle ACFS加密支持Oracle Key Vault作为密钥库。有关将此功能与Oracle ACFS加密一起使用的信息，请参阅<a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS加密使您可以加密存储在磁盘上的数据（静态数据）。">Oracle ACFS加密</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C0AEE92-A92E-44A8-9C3B-FA9B015C3E56__GUID-0ACE772D-2A8D-4F1C-B5AF-4B9E504A1373">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Oracle Key Vault的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=OKVAG10489" target="_blank"><span><cite>“Oracle Key Vault管理员指南”</cite></span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95323"></a><div class="props_rev_3"><a id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6" name="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6"></a><h3 id="OSTMG-GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6" class="sect3">Oracle自动存储管理12 <span class="italic">c</span>第1版（12.1.0.1）中的更改</h3>
               <div>
                  <p>以下是Oracle自动存储管理12 <span class="italic">c</span>第1版（12.1.0.1）中的更改。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="release-changes.html#GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__NEWFEATURES-B2FA48A2">新功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__DEPRECATEDFEATURES-B2FA4D4D">不推荐的功能</a></p>
                     </li>
                     <li>
                        <p><a href="release-changes.html#GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__DESUPPORTEDFEATURES-B2FA50FD">不受支持的功能</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__NEWFEATURES-B2FA48A2">
                     <p class="subhead2" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-9799A717-AFF2-40CA-BE5F-894937E330F1">新功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）的新功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>常规Oracle ASM增强功能</p>
                           <p>此功能提供对Oracle ASM的一般增强功能，包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>物理元数据复制点的修订版本</p>
                                 <p>Oracle ASM现在复制每个磁盘中物理寻址的元数据，例如磁盘头和分配表。此增强功能可确保Oracle ASM对恶意磁盘扇区和外部损坏更具弹性。提供磁盘组属性<code class="codeph">PHYS_META_REPLICATED</code>以跟踪磁盘组的复制状态。
                                 </p>
                                 <p>有关<code class="codeph">PHYS_META_REPLICATED</code>属性的更多信息，请参阅<a href="manage-diskgroup-attributes.html#GUID-CA752DF9-C2EB-49EA-975D-28A2ACD19D31">PHYS_META_REPLICATED</a> 。</p>
                              </li>
                              <li>
                                 <p>支持增加存储限制</p>
                                 <p>Oracle ASM现在支持511个磁盘组。最大Oracle ASM磁盘大小现在为32 PB（PB）。</p>
                                 <p>有关Oracle ASM大小限制的信息，请参阅<a href="performance-scability-diskgroup.html#GUID-5AC1176D-D331-4C1C-978F-0ECA43E0900F" title="Oracle ASM为未来增长提供了几乎无限的容量，但确实存在一些存储限制。">Oracle ASM存储限制</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>语句已使用<code class="codeph">REPLACE</code>子句进行更新。
                                 </p>
                                 <p>有关更换磁盘组中磁盘的更多信息，请参阅<a href="alter-diskgroups.html#GUID-2BD060BC-EF48-414D-9B24-3C4B2FD6E260" title="可以替换磁盘组中的磁盘或多个磁盘，而不是将其删除并添加回来。">更换磁盘组中的磁盘</a> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Oracle Flex ASM</p>
                           <p>Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。可以对许多Oracle ASM实例进行群集以支持大量数据库客户端。</p>
                           <p>此功能使您可以将所有存储要求合并到一组磁盘组中。所有这些磁盘组都可以由在单个集群中运行的一小组Oracle ASM实例进行管理。</p>
                           <p>Oracle Flex ASM仅支持Oracle Database 12 <span class="italic">c</span>第1版（12.1）及更高版本。
                           </p>
                           <p>有关信息，请参阅<a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。">管理Oracle Flex ASM</a> 。</p>
                        </li>
                        <li>
                           <p>Oracle ASM磁盘清理</p>
                           <p>Oracle ASM磁盘清理检查逻辑数据损坏并在正常和高冗余磁盘组中自动修复损坏。该功能的设计使其不会对生产系统中的常规输入和输出（I / O）操作产生任何影响。清理过程使用Oracle ASM镜像磁盘修复逻辑损坏。磁盘清理使用Oracle ASM重新平衡来最小化I / O开销。</p>
                           <p>清理过程在<code class="codeph">V$ASM_OPERATION</code>视图的字段中可见。
                           </p>
                           <p>有关更多信息，请参阅<a href="alter-diskgroups.html#GUID-ECCAE4F3-CFC5-4B55-81D2-FFB6953C035C">清理磁盘组</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ASM磁盘重新同步增强功能</p>
                           <p>磁盘重新同步增强功能可实现从实例故障中快速恢复以及整体更快的重新同步性能。Oracle ASM磁盘重新同步允许多个磁盘同时联机或控制重新同步操作的速度。Oracle ASM磁盘重新同步具有重新同步功率限制，可控制重新同步并行性并提高性能。磁盘重新同步检查点功能通过使重新同步从进程中断或停止的点恢复而不是从头开始，从实例失败中提供更快的恢复。</p>
                           <p>有关磁盘重新同步的更多信息，请参阅<a href="mirroring-diskgroup-redundancy.html#GUID-56B52297-F4E2-4D36-A573-3200A0C78D31">Oracle ASM快速镜像重新同步</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ASM重新平衡增强功能</p>
                           <p>Oracle ASM重新平衡增强功能可提高重新平衡操作的可伸缩性，性能和可靠性。此功能扩展了重新平衡过程，以便在单个实例中对多个磁盘组进行操作。此外，此功能还改进了对精简配置，用户数据验证和改进的错误处理的支持。</p>
                           <p>有关磁盘组重新平衡的详细信息，请参阅<a href="alter-diskgroups.html#GUID-020ABD10-8370-444C-9B44-71F2FF688861" title="您可以使用ALTER DISKGROUP语句的REBALANCE子句手动重新平衡磁盘组中的文件。">手动重新平衡磁盘组</a>和<a href="alter-diskgroups.html#GUID-14E48E96-F5D6-4F41-A8E4-B535CBD3CAE5">调整重新平衡操作</a> 。
                           </p>
                        </li>
                        <li>
                           <p>磁盘组中的共享Oracle ASM密码文件</p>
                           <p>此功能实现了解决Oracle ASM磁盘组中Oracle ASM共享密码文件的引导问题所需的基础结构。此功能解决了在磁盘组中存储共享Oracle ASM密码文件的引导问题。</p>
                           <p>有关磁盘组中共享密码文件的信息，请参阅<a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="You can make a backup of the Oracle ASM password file, and if the Oracle ASM password file is lost or the disk group becomes inaccessible, then you can restore the backup password file.">管理</a>磁盘组中<a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">的共享密码文件</a> 。有关管理磁盘组中的Oracle ASM或数据库实例密码文件的ASMCMD命令的信息，请参阅<a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="本主题提供ASMCMD实例管理命令的摘要。">ASMCMD实例管理命令</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-E61102B4-62E5-434E-8BD2-21C230B75A13">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<code class="codeph">ORAPWD</code>命令的信息，请<code class="codeph">ORAPWD</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ADMIN10241" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关信息SRVCTL命令的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ADMIN12726" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Windows上的Oracle ASM文件访问控制增强功能</p>
                           <p>此功能为Windows平台上的Oracle ASM文件访问控制提供了增强功能。</p>
                           <p>Oracle数据库现在支持使用Oracle主用户，可以在安装时指定。Oracle主用户与Oracle主目录关联，安装后无法更改。系统上的不同Oracle主目录可以共享同一个Oracle主目录用户，也可以使用不同的Oracle主目录用户名。有关更多信息，请参阅<a href="admin-asm-instance.html#GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD">Windows上的关于Oracle Home User</a> 。
                           </p>
                           <p>您现在可以使用访问控制来分隔Windows环境中的角色。由于Oracle数据库服务作为用户而非本地系统运行，因此启用了Oracle ASM访问控制功能以支持Windows上的角色分离。在以前的版本中，Windows上禁用了此功能，因为所有Oracle服务都作为本地系统运行。</p>
                           <p>您可以将Oracle ASM用户的身份从一个操作系统（OS）用户更改为另一个OS用户，而无需删除和重新创建用户，这需要删除用户拥有的所有文件，这样可以提高Oracle ASM的可管理性用户和他们拥有的文件。</p>
                           <p>使用ASMCMD文件访问控制命令（例如<code class="codeph">chgrp</code> ， <code class="codeph">chmod</code>和<code class="codeph">chown</code>打开文件时，可以修改Windows文件访问控制。
                           </p>
                           <p>有关Oracle ASM文件访问控制的更多信息，请参阅<a href="asm-access-control-diskgroups.html#GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371" title="Oracle ASM文件访问控制为Oracle ASM磁盘组的内容提供可选保护，防止未经授权的Oracle ASM客户端（例如未经授权的数据库）意外访问。">管理磁盘组的Oracle ASM文件访问控制</a> 。有关Oracle ASM文件访问控制ASMCMD命令的信息，请参阅<a href="asmcmd-accesscontrol-commands.html#GUID-AC0085E4-E4DC-4655-AD05-4C07B53900BE" title="本主题提供ASMCMD Oracle ASM文件访问控制命令的摘要。">ASMCMD文件访问控制命令</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-1827F4AE-E842-462A-86E3-617CCACF64E7">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=NTQRF673" target="_blank"><span class="italic">适用于Microsoft Windows的Oracle数据库平台指南，</span></a>了解有关在Windows平台上运行Oracle服务，不同类型的Windows用户帐户以及Windows平台上的访问控制的信息</p>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ASM一次性修补程序的滚动迁移框架</p>
                           <p>此功能增强了滚动迁移框架，以滚动方式应用为Oracle ASM发布的一个补丁。</p>
                           <p>您可以在集群Oracle ASM 12 <span class="italic">c</span>第1版（12.1）及更高版本环境中使用此功能，一次将一个节点更新到最新的修补程序级别，而不会影响Oracle ASM集群或使用Oracle ASM的数据库集群的整体可用性存储。此功能通过在关闭和升级操作之前将数据库迁移到另一个Oracle ASM实例来提高数据库可用性。
                           </p>
                           <p>有关信息，请参阅<a href="upgrade-patch-asm.html#GUID-CF124D9F-FF28-4B71-B179-640F1258E98A" title="您可以在集群Oracle ASM环境中应用修补程序，以便一次将一个节点更新到最新的修补程序级别，而不会影响Oracle ASM集群或使用Oracle ASM进行存储的数据库集群的整体可用性。">关于Oracle ASM Rolling Patches</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-EF6CA04D-9023-47A4-AF77-F556DE9359A2">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWGEN" target="_blank"><span class="italic">“Oracle Grid Infrastructure安装指南”，</span></a>以获取有关Oracle ASM和Oracle Grid Infrastructure主目录的滚动迁移的信息</p>
                           </div>
                        </li>
                        <li>
                           <p>更新了密钥管理框架</p>
                           <p>此功能更新Oracle密钥管理命令以统一密钥管理应用程序编程接口（API）层。更新的密钥管理框架使得与钱包中的密钥交互更容易，并添加了描述密钥如何被使用的新密钥元数据。</p>
                           <p>此功能添加了一项新功能，用于在Oracle ASM磁盘组中存储凭据文件（钱包）。有关Oracle ASM支持的文件类型的信息，请参阅<a href="asm-files-directories-templates.html#GUID-9D43CE5E-AB31-47EB-BE30-813764BB40F5" title="Oracle ASM支持数据库所需的大多数文件类型。">Oracle ASM支持哪些类型的文件？</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-44A29BFF-F25E-41C8-A2AE-DB0D36B8F31F">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Oracle密钥管理框架的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ASOAG600" target="_blank"><span class="italic">“Oracle数据库高级安全性指南</span></a></p>
                           </div>
                        </li>
                        <li>
                           <p>Oracle企业管理器</p>
                           <p>Oracle Enterprise Manager取代了Enterprise Manager Database Control，用于管理Oracle自动存储管理。有关更多信息，请参阅<a href="admin-asm-em.html#GUID-4ABDA37B-6BCC-4313-A1B0-07E6F24A7936" title="Oracle Enterprise Manager Cloud Control提供了用于管理Oracle ASM的工具。">使用Oracle Enterprise Manager管理Oracle ASM</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__DEPRECATEDFEATURES-B2FA4D4D">
                     <p class="subhead2" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-F984BF4E-8008-4E17-859B-AB2741CD3BDB">不推荐的功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）的已弃用功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在将来的版本中弃用单字母SRVCTL CLI选项</p>
                           <p>所有SRVCTL命令都已得到增强，可以接受更有意义且用户友好的关键字样式选项，而不是单个字母选项。此版本中添加的所有新SRVCTL命令行界面选项仅支持关键字样式选项，并且没有单字母等效项。以前版本中存在的先前使用单字母关键字选项的样式仍然完全受支持。在将来的版本中，可能不再支持单字母选项，客户可能希望更改其脚本以适应关键字样式的命令选项。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__DESUPPORTEDFEATURES-B2FA50FD">
                     <p class="subhead2" id="GUID-5569B697-46E8-480D-B4C2-C69E4B3DF3A6__GUID-08A0B858-5299-4750-BFE1-FB2FCC156A04">不受支持的功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）不支持的功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持用于Oracle数据库和相关技术的RAW（块）存储设备</p>
                           <p>Oracle Database 12 <span class="italic">c</span>和相关技术（如Oracle Clusterware 12 <span class="italic">c</span> ）不再支持使用原始（块）存储设备。这意味着在升级到Oracle Clusterware 12 <span class="italic">c</span>之前必须将文件移动到Oracle ASM。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95324"></a><div class="props_rev_3"><a id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02" name="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02"></a><h3 id="OSTMG-GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02" class="sect3">Oracle ACFS和Oracle ADVM for Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）中的更改</h3>
               <div>
                  <p>以下是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）中Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的更改。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02__GUID-C40E6A7A-3383-4AE4-B68C-1681E484AE71">新功能</p>
                     <p>这些是Oracle ASM 12 <span class="italic">c</span>第1版（12.1.0.1）中的Oracle ACFS和Oracle ADVM的新功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS增强功能</p>
                           <p>此功能引入了Oracle ACFS的增强功能，包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Oracle Grid 12 <span class="italic">c</span>第1版（12.1）中的Oracle ACFS支持Oracle Database <span class="italic">11g</span>第2版（11.2.0.4）或更高版本的所有数据库文件，但Oracle Restart（独立服务器）配置中的数据文件和重做日志除外。对于此功能，对于包含Oracle ACFS文件系统的磁盘组， <code class="codeph">COMPATIBLE.ADVM</code>属性必须设置为12.1或更高版本。
                                 </p>
                                 <p>不支持在Oracle ACFS上使用Oracle ACFS复制或加密数据库文件。有关Oracle ACFS上数据库文件的其他复制选项的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SBYDB00010" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a>以及Oracle GoldenGate文档。Oracle GoldenGate是独立于Oracle数据库销售的Oracle产品。要在Oracle ACFS上加密数据库数据文件，Oracle建议使用Oracle Advanced Security。Oracle Advanced Security提供透明数据加密（TDE）来加密整个表空间的数据文件。有关透明数据加密（TDE）的信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ASOAG600" target="_blank"><span class="italic">Oracle数据库高级安全指南”</span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle ACFS支持群集范围的文件粒度<code class="codeph">fcntl</code>建议锁定，而字节范围锁继续在节点本地模式下运行。
                                 </p>
                              </li>
                              <li>
                                 <p>对于新创建的目录，Oracle ACFS目录列表性能得到改进。</p>
                              </li>
                              <li>
                                 <p>Oracle ACFS支持使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>的<code class="codeph">-d</code>选项对文件进行端到端存储可见性。<code class="codeph">-d</code>选项显示有关文件扩展区位置的详细信息，从Oracle ACFS扩展区到磁盘组中的Oracle ASM设备。有关信息，请参阅<a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil信息文件</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle ACFS ASMCMD命令具有增强的语法。有关Oracle ACFS的ASMCMD命令的信息，请参阅<a href="manage-advm-asmcmd.html#GUID-FA76B787-7D01-4988-BC8F-2AD8798602A6" title="本主题提供Oracle ADVM卷管理命令的摘要。">ASMCMD卷管理命令</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在ADVM兼容性设置为<code class="codeph">11.2.0.4</code>或更高版本的磁盘组中调整文件系统大小时，Oracle ACFS支持无限扩展。
                                 </p>
                              </li>
                              <li>
                                 <p>针对<code class="codeph">ls</code> Oracle ACFS性能和可伸缩性改进，并在ADVM兼容性设置为<code class="codeph">11.2.0.4</code>或更高的磁盘组中<code class="codeph">find</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>有关Oracle ACFS的更多信息，请参阅<a href="overview-acfs-advm.html#GUID-C91D3A8E-F329-44BE-97B7-8AB41897D8E1" title="Oracle自动存储管理群集文件系统（Oracle ACFS）是一种多平台，可扩展的文件系统和存储管理技术，可扩展Oracle自动存储管理（Oracle ASM）功能以支持所有客户文件。">Oracle ACFS概述</a></p>
                        </li>
                        <li>
                           <p>支持网络文件存储（NFS）的Oracle ACFS增强功能</p>
                           <div class="infoboxnote" id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02__GUID-67E2C26F-666F-464C-B895-9C109A66571F">
                              <p class="notep1">注意：</p>
                              <p>Oracle Restart配置不支持此功能。</p>
                           </div>
                           <p>适用于Oracle Grid Infrastructure的高可用性NFS通过在高可用虚拟IP（HAVIP）上公开NFS导出并使用Oracle Clusterware代理确保HAVIP和NFS导出始终在线，从而为NFS V2 / V3 / V4导出路径提供不间断服务。虽然基本NFS支持文件锁定，但HANFS不支持NFS文件锁定。</p>
                           <p>Oracle ACFS文件系统导出（使用NFS）包括应用于Oracle ACFS快照的黄金映像和补丁更新。请注意，NFS与Oracle Grid Infrastructure服务器一起部署，以支持Oracle Grid Infrastructure客户端系统。应用程序VIP和NFS导出资源用于Oracle ACFS和高可用性NFS。</p>
                           <p>高可用性NFS还可以用作Oracle ACFS导出文件系统的通用高可用性解决方案。</p>
                           <p>有关Oracle Grid Infrastructure主目录的高可用性NFS的信息，请参阅<a href="understand-acfs-admin.html#GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" title="Oracle ACFS NAS最高可用性扩展（Oracle ACFS NAS MAX）是一组扩展，为常见NAS协议（如NFS和SMB）提供高可用性扩展。">Oracle ACFS NAS最高可用性扩展</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02__GUID-A40E8278-BCE6-4DCF-B208-D2F6286AEA2D">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关Oracle Clusterware和群集的信息<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD1111" target="_blank"><span class="italic">，请参见“Oracle Clusterware管理和部署指南”</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS快照的增强功能</p>
                           <p>Oracle ACFS支持从同一Oracle ACFS文件系统中的现有快照创建快照。此外，在只读和读写快照之间启用快照转换。</p>
                           <p>有关Oracle ACFS快照的信息，请参阅<a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a> 。有关Oracle ACFS快照命令的信息，请参阅<a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS标记通用应用程序编程接口</p>
                           <p>标记操作可用作C语言应用程序编程接口（API），如<a href="acfs-advanced-topics.html#GUID-95892F53-3082-4567-8C3A-4F66402F278D">Oracle ACFS标记通用应用程序编程接口中所述</a> 。
                           </p>
                           <p>有关Oracle ACFS标记的信息，请参阅<a href="understand-acfs-admin.html#GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" title="Oracle ACFS标记为一组文件分配一个公共命名属性。">Oracle ACFS标记</a> 。有关通过<code class="codeph">acfsutil</code> <code class="codeph">tag</code>命令提供的Oracle ACFS标记操作的信息，请参阅<a href="acfs-commands-tagging.html#GUID-1C47A766-E9A0-4D53-84FF-F29E5609A419" title="本主题提供Oracle ACFS标记命令的摘要。">用于标记的Oracle ACFS命令行工具</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware资源支持Oracle ACFS</p>
                           <div class="infoboxnote" id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02__GUID-64361FD1-020A-4D75-A152-D3BF7CEBC58E">
                              <p class="notep1">注意：</p>
                              <p>Oracle Restart配置不支持此功能。</p>
                           </div>
                           <p>Oracle ACFS和Oracle ADVM资源支持针对性能和覆盖范围进行了增强。Oracle Clusterware（CRS）托管资源支持已扩展为包括Oracle ACFS Oracle家庭，Oracle ACFS通用文件系统和Oracle ADVM卷的增强功能，以支持Oracle Grid Infrastructure Server Oracle ACFS导出（使用NFS）配置。SRVCTL具有用于管理Oracle ACFS和Oracle ADVM资源的命令的更新。</p>
                           <p>有关Oracle Clusterware资源和Oracle ACFS的信息，请参阅<a href="understand-acfs-admin.html#GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B">Oracle Clusterware Resources和Oracle ACFS Administration</a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-4F825F5F-7A56-4096-B621-6EE980AFEA02__GUID-16D6F401-991E-4383-9A7D-0ABD844B2B41">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关Oracle Clusterware资源的信息<a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD1111" target="_blank"><span class="italic">，请参见“Oracle Clusterware管理和部署指南”</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Oracle ACFS插件</p>
                           <p>Oracle ACFS插件功能使用户空间应用程序能够从操作系统环境收集<span class="italic">即时</span> Oracle ACFS文件和Oracle ADVM卷指标。应用程序可以使用Oracle ACFS插件基础结构创建自定义解决方案，以扩展常规应用程序文件度量标准接口，以包括详细的Oracle ACFS文件系统和卷数据。
                           </p>
                           <p>有关Oracle ACFS插件的信息，请参阅<a href="understand-acfs-admin.html#GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD" title="Oracle ACFS插件功能使用户空间应用程序能够从操作系统环境收集即时Oracle ACFS文件和Oracle ADVM卷指标。">Oracle ACFS插件</a> 。有关Oracle ACFS插件命令的信息，请参阅<a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a> 。有关Oracle ACFS插件应用程序编程接口的信息，请参阅<a href="acfs-advanced-topics.html#GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB">Oracle ACFS插件通用应用程序编程接口</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS复制与审计，加密和安全性的集成</p>
                           <p>此功能可以将Oracle自动存储管理群集文件系统（Oracle ACFS）复制与Oracle ACFS审核，加密和安全性集成。</p>
                           <p>有关更多信息，请参阅<a href="understand-acfs-admin.html#GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE">具有审计，加密和安全性的Oracle ACFS复制</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS审计和支持将审计数据导入Audit Vault Server</p>
                           <p>此功能提供Oracle ACFS安全性和加密的审核。此外，此功能还会生成包含Oracle ACFS审计跟踪数据的XML文件，该数据可由Audit Vault Server导入。</p>
                           <p>有关更多信息，请参阅<a href="understand-acfs-admin.html#GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9" title="Oracle ACFS安全性和加密都是审计源，Oracle ACFS审计管理器可以启用和禁用这些源。这些源由于执行Oracle ACFS安全性或加密命令而生成事件。">Oracle ACFS审核</a> 。有关用于审计的Oracle ACFS命令的信息，请参阅用于审计的<a href="acfs-commands-audit.html#GUID-9DCB02C4-D01E-4266-B13E-9EC7DFD5F557" title="本主题提供Oracle ACFS审核命令的摘要。">Oracle ACFS命令行工具</a>以及<a href="acfs-commands-security.html#GUID-07912FD9-DDF7-4511-B69F-A7B4BE8025FA" title="本主题提供了Oracle ACFS安全性命令的摘要。">Oracle ACFS安全命令行工具中</a>描述的<code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">realm</code> <code class="codeph">enable</code>和<code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">realm</code> <code class="codeph">disable</code>命令。
                           </p>
                        </li>
                        <li>
                           <p>在Solaris上支持Oracle ACFS复制和标记</p>
                           <p>此功能支持Solaris平台上的Oracle ACFS复制和标记。</p>
                           <p>有关Oracle ACFS的信息，请参阅<a href="intro-acfs-advm.html#GUID-7783FE8B-3BAD-4C4F-83C5-DF1426340290" title="Oracle ASM集群文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）提供了存储管理的关键组件。">Oracle ACFS和Oracle ADVM简介</a> 。</p>
                        </li>
                        <li>
                           <p>在AIX上支持Oracle ACFS复制和标记</p>
                           <p>此功能支持AIX平台上的Oracle ACFS复制和标记。</p>
                           <p>有关Oracle ACFS的信息，请参阅<a href="intro-acfs-advm.html#GUID-7783FE8B-3BAD-4C4F-83C5-DF1426340290" title="Oracle ASM集群文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）提供了存储管理的关键组件。">Oracle ACFS和Oracle ADVM简介</a> 。</p>
                        </li>
                        <li>
                           <p>在Solaris上支持Oracle ACFS安全性和加密</p>
                           <p>此功能扩展了对Solaris系统上的Oracle ACFS安全和加密功能的支持。使用各个安全性和加密命令记录Solaris环境的功能更改。</p>
                           <p>有关更多信息，请参阅<a href="understand-acfs-admin.html#GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" title="Oracle ACFS安全性为Oracle ACFS文件系统提供基于域的安全性，使您能够创建域以指定用户和组的安全策略，以确定对文件系统对象的访问。">Oracle ACFS安全性</a>和<a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS加密使您可以加密存储在磁盘上的数据（静态数据）。">Oracle ACFS加密</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle企业管理器</p>
                           <p>Oracle Enterprise Manager取代了Enterprise Manager Database Control，用于管理Oracle自动存储管理群集文件系统。有关更多信息，请参阅<a href="administer-acfs-advm-em.html#GUID-798ED422-7082-43E7-A25D-49E3EB0272D3" title="Oracle Enterprise Manager Cloud Control提供了用于管理Oracle自动存储管理群集文件系统（Oracle ACFS）的工具。">使用Oracle Enterprise Manager管理Oracle ACFS</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04688.connection-class.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>连接类</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="clob-class.html" title="Previous" type="text/html"></link>
      <link rel="next" href="connectionpool-class.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="clob-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="connectionpool-class.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name">OCCI应用程序编程接口</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">连接类</li>
            </ol>
            <a id="GUID-412D06D3-7636-4A32-AF24-534099F989D0" name="GUID-412D06D3-7636-4A32-AF24-534099F989D0"></a><a id="LNCPP20759"></a><a id="LNCPP20760"></a><a id="LNCPP1007"></a>
            
            <h2 id="LNCPP-GUID-412D06D3-7636-4A32-AF24-534099F989D0" class="sect2"><span class="enumeration_section">13.10</span>连接类</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">Connection</code>类表示与特定数据库的连接。在连接内部，执行SQL语句并返回结果。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-412D06D3-7636-4A32-AF24-534099F989D0__BBAEAHAH">
                  <p class="titleintable">表13-11 Connection Class使用的枚举值</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="连接类使用的枚举值" width="100%" border="1" summary="First column lists the attribute used by the class, the second column describes the options available to each attribute" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="29%" id="d102289e100">属性</th>
                           <th align="left" valign="bottom" width="71%" id="d102289e103">选项</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="29%" id="d102289e108" headers="d102289e100 "><pre class="oac_no_warn" dir="ltr">FailOverEventType</pre></td>
                           <td align="left" valign="top" width="71%" headers="d102289e108 d102289e103 ">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">FO_BEGIN</code>表示已检测到丢失的连接;故障转移正在开始。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_END</code>表示故障转移成功完成; <code class="codeph">Connection</code>已准备就绪。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_ABORT</code>表示故障转移不成功;它不会再次尝试。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_REAUTH</code>表示用户会话已重新进行<code class="codeph">FO_REAUTH</code>验证。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_ERROR</code>表示故障转移不成功;应用程序可以处理错误并重试故障转移。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="29%" id="d102289e142" headers="d102289e100 "><pre class="oac_no_warn" dir="ltr">FailOverType</pre></td>
                           <td align="left" valign="top" width="71%" headers="d102289e142 d102289e103 ">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">FO_NONE</code>表示用户未请求故障转移保护。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_SESSION</code>表示用户仅请求会话故障转移。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FO_SELECT</code>表示请求的使用选择故障转移。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="29%" id="d102289e163" headers="d102289e100 "><pre class="oac_no_warn" dir="ltr">的proxyType</pre></td>
                           <td align="left" valign="top" width="71%" headers="d102289e163 d102289e103 ">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">PROXY_DEFAULT</code>是数据库用户名。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section"></div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-412D06D3-7636-4A32-AF24-534099F989D0__GUID-F8C45B7A-F29D-44B7-A5D6-A960FBB5C215">
                  <p class="titleintable">表13-12连接方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="连接方法摘要" width="100%" border="1" summary="First column lists methods; second column provides description of these methods." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="39%" id="d102289e184">方法</th>
                           <th align="left" valign="bottom" width="61%" id="d102289e187">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e192" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-F8199347-883A-4F55-8AD5-B863CC608430">更改密码（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e192 d102289e187 ">
                              <p>更改当前用户的密码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e200" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-731BAC5D-4479-40A8-AAFD-3762F53D635C">承诺（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e200 d102289e187 ">
                              <p>提交自上次提交或回滚以来所做的更改，并释放会话持有的任何数据库锁。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e208" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A">的createStatement（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e208 d102289e187 ">
                              <p>创建一个<code class="codeph">Statement</code>对象来执行SQL语句。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e219" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-CB0F3183-6D87-49A4-AB42-F7502FDECADF">flushCache（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e219 d102289e187 ">
                              <p>刷新与连接关联的对象缓存。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e227" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-59B6ACE7-1501-4FF0-A25A-2154FE0F2DE7">getClientCharSet（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e227 d102289e187 ">
                              <p>返回默认的客户端字符集。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e235" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-313CC8A1-3186-43A7-BA70-95071BA2A3D9">getClientCharSetUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e235 d102289e187 ">
                              <p>返回<code class="codeph">UString</code>启用全球化的客户端字符集。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e246" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-E3D848A0-9E23-4192-9954-CE9C16AD9E30">getClientNCHARCharSet（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e246 d102289e187 ">
                              <p>返回默认客户端<code class="codeph">NCHAR</code>字符集。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e257" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-90AB923B-1DAD-43A0-B86E-A3E3E5CA0063">getClientNCHARCharSetUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e257 d102289e187 ">
                              <p>返回<code class="codeph">UString</code>启用全球化的客户端<code class="codeph">NCHAR</code>字符集。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e271" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C">getClientVersion（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e271 d102289e187 ">
                              <p>返回所用客户端的版本。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e279" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-B641B7D8-7223-4B52-94B8-B1BEF1A1205B">getLTXID（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e279 d102289e187 ">
                              <p>返回可在包<code class="codeph">DBMS_APP_CONT</code>各种调用中使用的逻辑事务标识。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e290" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D">的getMetaData（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e290 d102289e187 ">
                              <p>返回可从该连接访问的对象的元数据。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e299" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-ECCBBA2D-D51A-4FA8-AA43-A4E338850A2B">getOCIServer（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e299 d102289e187 ">
                              <p>返回与连接关联的OCI服务器上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e307" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-95B2A62A-6D3B-4579-867A-599AE60ED52B">getOCIServiceContext（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e307 d102289e187 ">
                              <p>返回与连接关联的OCI服务上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e315" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-8C59DFEB-F902-44DE-82B7-095FAD8405B5">getOCISession（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e315 d102289e187 ">
                              <p>返回与连接关联的OCI会话上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e323" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-D158EE4A-59B4-46F6-82FF-F26E6B07C1B7">getServerVersion（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e323 d102289e187 ">
                              <p>以<code class="codeph">string</code>返回所使用的Oracle服务器的版本。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e334" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-66B2FF71-760B-4500-92A3-DAA7F8B8D319">getServerVersionUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e334 d102289e187 ">
                              <p>返回使用的Oracle服务器的版本，作为<code class="codeph">UString</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e345" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-58BEA22D-4153-45A9-A4D4-85073E3D11E3">getStmtCacheSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e345 d102289e187 ">
                              <p>检索语句高速缓存的大小。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e353" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-21110CE0-E633-4D0A-AE7D-1B55C794320F">getTag（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e353 d102289e187 ">
                              <p>返回与连接关联的标记。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e361" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-43B40857-C45D-4FEE-8BD8-20E009961C68">的isCached（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e361 d102289e187 ">
                              <p>确定是否缓存指定的语句。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e369" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C">pinVectorOfRefs（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e369 d102289e187 ">
                              <p>在一次往返中将<code class="codeph">Ref</code>对象的整个向量固定到对象缓存中;固定对象可通过<code class="codeph">OUT</code>参数向量获得。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e383" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-24C60FE3-5811-4B49-B741-7F3B03269A87">postToSubscriptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e383 d102289e187 ">
                              <p>发布订阅通知。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e391" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8">readVectorOfBfiles（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e391 d102289e187 ">
                              <p>在单个服务器往返中读取多个<code class="codeph">Bfile</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e403" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-56F64002-E27C-4B04-951E-E155B45EBF8D">readVectorOfBlobs（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e403 d102289e187 ">
                              <p>在单个服务器往返中读取多个<code class="codeph">Blob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e414" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E">readVectorOfClobs（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e414 d102289e187 ">
                              <p>在单个服务器往返中读取多个<code class="codeph">Clob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e425" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-928B38ED-3326-403C-B377-187F32C3F146">registerSubscriptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e425 d102289e187 ">
                              <p>注册几个<code class="codeph">Subscription</code>以进行通知。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e436" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-F241BC58-9C8C-4355-9593-9A11848EBF18">回滚（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e436 d102289e187 ">
                              <p>回滚自上次提交或回滚以来所做的所有更改，并释放会话持有的任何数据库锁。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e444" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94">setStmtCacheSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e444 d102289e187 ">
                              <p>启用或禁用语句缓存。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e452" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B">setTAFNotify（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e452 d102289e187 ">
                              <p>在<code class="codeph">Connection</code>对象上注册故障转移回调函数。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e463" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE">terminateStatement（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e463 d102289e187 ">
                              <p>关闭<code class="codeph">Statement</code>对象并释放与其关联的所有资源。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e474" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20">unregisterSubscription（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e474 d102289e187 ">
                              <p>取消注册<code class="codeph">Subscription</code> ，关闭其通知。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e485" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4">writeVectorOfBlobs（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e485 d102289e187 ">
                              <p>在单个服务器往返中写入多个<code class="codeph">Blob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d102289e496" headers="d102289e184 ">
                              <p><a href="connection-class.html#GUID-6CF5271C-51CB-4004-9D00-405AA12472D2">writeVectorOfClobs（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d102289e496 d102289e187 ">
                              <p>在单个服务器往返中写入多个<code class="codeph">Clob</code> 。
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP20761"></a><div class="props_rev_3"><a id="GUID-F8199347-883A-4F55-8AD5-B863CC608430" name="GUID-F8199347-883A-4F55-8AD5-B863CC608430"></a><h3 id="LNCPP-GUID-F8199347-883A-4F55-8AD5-B863CC608430" class="sect3"><span class="enumeration_section">13.10.1</span> changePassword（）</h3>
               <div>
                  <div class="section">
                     <p>更改当前连接到数据库的用户的密码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F8199347-883A-4F55-8AD5-B863CC608430__GUID-B0BF5BEA-F4F3-49F4-95E5-4F702056ADF4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column prov ides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="49%" id="d102289e581">句法</th>
                              <th align="left" valign="bottom" width="51%" id="d102289e584">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e589" headers="d102289e581 "><pre class="oac_no_warn" dir="ltr">void changePassword（const string＆user，const string＆oldPassword，const string＆newPassword）= 0;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e589 d102289e584 ">
                                 <p>更改用户的密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e596" headers="d102289e581 "><pre class="oac_no_warn" dir="ltr">void changePassword（const UString＆user，const UString＆oldPassword，const UString＆newPassword）= 0;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e596 d102289e584 ">
                                 <p>更改用户的密码（Unicode支持）。应在OCCIUTIF16模式下初始化客户端<code class="codeph">Environment</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-F8199347-883A-4F55-8AD5-B863CC608430__GUID-C3B15EC4-2A51-4C6C-8727-A04580ED6C87">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d102289e613">参数</th>
                              <th align="left" valign="bottom" width="75%" id="d102289e616">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d102289e621" headers="d102289e613 "><pre class="oac_no_warn" dir="ltr">用户</pre></td>
                              <td align="left" valign="top" width="75%" headers="d102289e621 d102289e616 ">
                                 <p>用户当前连接到数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d102289e628" headers="d102289e613 "><pre class="oac_no_warn" dir="ltr">旧密码</pre></td>
                              <td align="left" valign="top" width="75%" headers="d102289e628 d102289e616 ">
                                 <p>用户的当前密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d102289e635" headers="d102289e613 "><pre class="oac_no_warn" dir="ltr">新密码</pre></td>
                              <td align="left" valign="top" width="75%" headers="d102289e635 d102289e616 ">
                                 <p>用户的新密码。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20763"></a><a id="LNCPP20762"></a><div class="props_rev_3"><a id="GUID-731BAC5D-4479-40A8-AAFD-3762F53D635C" name="GUID-731BAC5D-4479-40A8-AAFD-3762F53D635C"></a><h3 id="LNCPP-GUID-731BAC5D-4479-40A8-AAFD-3762F53D635C" class="sect3"><span class="enumeration_section">13.10.2</span> commit（）</h3>
               <div>
                  <div class="section">
                     <p>提交自上次提交或回滚以来所做的所有更改，并释放会话当前持有的所有数据库锁。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-731BAC5D-4479-40A8-AAFD-3762F53D635C__GUID-E9319FD6-1036-454E-B581-E05871A3629E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void commit（）= 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20764"></a><div class="props_rev_3"><a id="GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A" name="GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A"></a><h3 id="LNCPP-GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A" class="sect3"><span class="enumeration_section">13.10.3</span> createStatement（）</h3>
               <div>
                  <div class="section">
                     <p>使用指定的SQL语句创建<code class="codeph">Statement</code>对象。
                     </p>
                     <p>请注意，对于此方法的启用缓存的版本，最初会在缓存中搜索具有匹配<code class="codeph">tag</code>的语句，并返回该语句。如果未找到匹配项，则再次搜索缓存以查找与返回的<code class="codeph">sql</code>参数匹配的语句。如果未找到匹配项，则会创建并返回带有<code class="codeph">NULL</code> <code class="codeph">tag</code>的新语句。如果<code class="codeph">sql</code>参数为空且<code class="codeph">tag</code>搜索失败，则此调用将生成<code class="codeph">ERROR</code> 。</p>
                     <p>另请注意，此方法的非缓存版本始终创建并返回新语句。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A__GUID-E10A88B8-2BF5-4BA0-B421-25CFFFA965ED">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d102289e820">句法</th>
                              <th align="left" valign="bottom" width="47%" id="d102289e823">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d102289e828" headers="d102289e820 "><pre class="oac_no_warn" dir="ltr">Statement * createStatement（const string＆sql =“”）= 0;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d102289e828 d102289e823 ">
                                 <p>在缓存中搜索指定的SQL语句并返回它;如果找不到，则创建一个新语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d102289e835" headers="d102289e820 "><pre class="oac_no_warn" dir="ltr">Statement * createStatement（const string＆sql，const string＆tag）= 0;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d102289e835 d102289e823 ">
                                 <p>在缓存中搜索具有匹配标记的语句;如果未找到，则使用指定的SQL内容创建新语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d102289e842" headers="d102289e820 "><pre class="oac_no_warn" dir="ltr">Statement * createStatement（const UString＆sql）= 0;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d102289e842 d102289e823 ">
                                 <p>在缓存中搜索指定的SQL语句并返回它;如果找不到，则创建一个新语句。全球化启用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d102289e849" headers="d102289e820 "><pre class="oac_no_warn" dir="ltr">Statement * createStatement（const Ustring＆sql，const Ustring＆tag）= 0;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d102289e849 d102289e823 ">
                                 <p>在缓存中搜索匹配的标记并返回它;如果未找到，则使用指定的SQL内容创建新语句。全球化启用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8A15A5D0-7B8D-41FD-8A4C-68C92ECB998A__GUID-AC6E0FA1-84FB-4ED8-9482-6DEFDCFA0CC3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d102289e863">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d102289e866">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e871" headers="d102289e863 "><pre class="oac_no_warn" dir="ltr">SQL</pre></td>
                              <td align="left" valign="top" width="72%" headers="d102289e871 d102289e866 ">
                                 <p>与语句对象关联的SQL字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e878" headers="d102289e863 "><pre class="oac_no_warn" dir="ltr">标签</pre></td>
                              <td align="left" valign="top" width="72%" headers="d102289e878 d102289e866 ">
                                 <p>必须从缓存中检索其关联语句的标记。如果禁用语句缓存，则忽略。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20766"></a><a id="LNCPP20765"></a><div class="props_rev_3"><a id="GUID-CB0F3183-6D87-49A4-AB42-F7502FDECADF" name="GUID-CB0F3183-6D87-49A4-AB42-F7502FDECADF"></a><h3 id="LNCPP-GUID-CB0F3183-6D87-49A4-AB42-F7502FDECADF" class="sect3"><span class="enumeration_section">13.10.4</span> flushCache（）</h3>
               <div>
                  <div class="section">
                     <p>刷新与连接关联的对象缓存。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB0F3183-6D87-49A4-AB42-F7502FDECADF__GUID-75B7FB94-D064-43EB-B6E7-57C122BA1FD8">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void flushCache（）= 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20768"></a><a id="LNCPP20767"></a><div class="props_rev_3"><a id="GUID-59B6ACE7-1501-4FF0-A25A-2154FE0F2DE7" name="GUID-59B6ACE7-1501-4FF0-A25A-2154FE0F2DE7"></a><h3 id="LNCPP-GUID-59B6ACE7-1501-4FF0-A25A-2154FE0F2DE7" class="sect3"><span class="enumeration_section">13.10.5</span> getClientCharSet（）</h3>
               <div>
                  <div class="section">
                     <p>返回会话的字符集。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-59B6ACE7-1501-4FF0-A25A-2154FE0F2DE7__GUID-084DC109-3561-49F5-A5B3-80E5B9789FCF">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getClientCharSet（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20770"></a><a id="LNCPP20769"></a><div class="props_rev_3"><a id="GUID-313CC8A1-3186-43A7-BA70-95071BA2A3D9" name="GUID-313CC8A1-3186-43A7-BA70-95071BA2A3D9"></a><h3 id="LNCPP-GUID-313CC8A1-3186-43A7-BA70-95071BA2A3D9" class="sect3"><span class="enumeration_section">13.10.6</span> getClientCharSetUString（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">UString</code>启用全球化的客户端字符集。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-313CC8A1-3186-43A7-BA70-95071BA2A3D9__GUID-C1192896-3786-4C2D-B97F-D0ADBA94AD88">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getClientCharSetUString（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20772"></a><a id="LNCPP20771"></a><div class="props_rev_3"><a id="GUID-E3D848A0-9E23-4192-9954-CE9C16AD9E30" name="GUID-E3D848A0-9E23-4192-9954-CE9C16AD9E30"></a><h3 id="LNCPP-GUID-E3D848A0-9E23-4192-9954-CE9C16AD9E30" class="sect3"><span class="enumeration_section">13.10.7</span> getClientNCHARCharSet（）</h3>
               <div>
                  <div class="section">
                     <p>返回会话的<code class="codeph">NCHAR</code>字符集。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D848A0-9E23-4192-9954-CE9C16AD9E30__GUID-3147697D-C547-4EEF-84B5-71EAF1B71E37">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getClientNCHARCharSet（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20774"></a><a id="LNCPP20773"></a><div class="props_rev_3"><a id="GUID-90AB923B-1DAD-43A0-B86E-A3E3E5CA0063" name="GUID-90AB923B-1DAD-43A0-B86E-A3E3E5CA0063"></a><h3 id="LNCPP-GUID-90AB923B-1DAD-43A0-B86E-A3E3E5CA0063" class="sect3"><span class="enumeration_section">13.10.8</span> getClientNCHARCharSetUString（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">UString</code>启用全球化的客户端<code class="codeph">NCHAR</code>字符集。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AB923B-1DAD-43A0-B86E-A3E3E5CA0063__GUID-D551CE81-7756-4402-AC57-D762AB929373">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getClientNCHARCharSetUString（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20776"></a><a id="LNCPP20775"></a><div class="props_rev_3"><a id="GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C" name="GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C"></a><h3 id="LNCPP-GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C" class="sect3"><span class="enumeration_section">13.10.9</span> getClientVersion（）</h3>
               <div>
                  <div class="section">
                     <p>返回应用程序在运行时使用的客户端库的版本。</p>
                     <p>应用程序使用它来确定运行时OCCI客户端的版本，以及应用程序是否使用多个使用多个不同客户端补丁集的单独代码路径。</p>
                     <p>参数的值<code class="codeph">majorVersion</code>和<code class="codeph">minorVersion</code>使用宏<code class="codeph">OCCI_MAJOR_VERSION</code>和<code class="codeph">OCCI_MINOR_VERSION</code>分别。这些宏定义了OCCI客户端库的主要版本和次要版本。比较返回的版本。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C__GUID-01F3EB04-F4DC-4452-8CB0-E7100923A2CB">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void getClientVersion（int＆majorVersion，int＆minorVersion，int＆updateNum，int＆patchNumber，int＆portUpdateNum）</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C__GUID-868199F7-9A65-45B1-AECC-9B9CE24974DB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d102289e1366">参数</th>
                              <th align="left" valign="bottom" width="74%" id="d102289e1369">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d102289e1374" headers="d102289e1366 "><pre class="oac_no_warn" dir="ltr">majorVersion</pre></td>
                              <td align="left" valign="top" width="74%" headers="d102289e1374 d102289e1369 ">
                                 <p>客户端库的主要版本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d102289e1381" headers="d102289e1366 "><pre class="oac_no_warn" dir="ltr">minorVersion</pre></td>
                              <td align="left" valign="top" width="74%" headers="d102289e1381 d102289e1369 ">
                                 <p>客户端库的次要版本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d102289e1388" headers="d102289e1366 "><pre class="oac_no_warn" dir="ltr">updateNum</pre></td>
                              <td align="left" valign="top" width="74%" headers="d102289e1388 d102289e1369 ">
                                 <p>更新号码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d102289e1395" headers="d102289e1366 "><pre class="oac_no_warn" dir="ltr">patchNumber</pre></td>
                              <td align="left" valign="top" width="74%" headers="d102289e1395 d102289e1369 ">
                                 <p>应用于库的补丁编号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d102289e1402" headers="d102289e1366 "><pre class="oac_no_warn" dir="ltr">portUpdateNumber</pre></td>
                              <td align="left" valign="top" width="74%" headers="d102289e1402 d102289e1369 ">
                                 <p>应用于库的端口特定端口更新的编号。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21933"></a><a id="LNCPP21932"></a><div class="props_rev_3"><a id="GUID-B641B7D8-7223-4B52-94B8-B1BEF1A1205B" name="GUID-B641B7D8-7223-4B52-94B8-B1BEF1A1205B"></a><h3 id="LNCPP-GUID-B641B7D8-7223-4B52-94B8-B1BEF1A1205B" class="sect3"><span class="enumeration_section">13.10.10</span> getLTXID（）</h3>
               <div>
                  <div class="section">
                     <p>返回可在包<code class="codeph">DBMS_APP_CONT</code>各种调用中使用的逻辑事务标识。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B641B7D8-7223-4B52-94B8-B1BEF1A1205B__GUID-C701C095-011C-481C-95B1-5304ED0128B5">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">字节getLTXID（）const = 0</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20781"></a><div class="props_rev_3"><a id="GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D" name="GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D"></a><h3 id="LNCPP-GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D" class="sect3"><span class="enumeration_section">13.10.11</span> getMetaData（）</h3>
               <div>
                  <div class="section">
                     <p>返回数据库中对象的元数据。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D__GUID-100E81AB-E171-40C7-9CA8-A00EC672927E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="73%" id="d102289e1560">句法</th>
                              <th align="left" valign="bottom" width="27%" id="d102289e1563">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="73%" id="d102289e1568" headers="d102289e1560 "><pre class="oac_no_warn" dir="ltr">MetaData getMetaData（const string＆object，MetaData :: ParamType prmtyp = MetaData :: PTYPE_UNK）const = 0;</pre></td>
                              <td align="left" valign="top" width="27%" headers="d102289e1568 d102289e1563 ">
                                 <p>返回数据库中对象的元数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="73%" id="d102289e1575" headers="d102289e1560 "><pre class="oac_no_warn" dir="ltr">MetaData getMetaData（const UString＆object，MetaData :: ParamType prmtyp = MetaData :: PTYPE_UNK）const = 0;</pre></td>
                              <td align="left" valign="top" width="27%" headers="d102289e1575 d102289e1563 ">
                                 <p>返回数据库中启用全球化的对象的元数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="73%" id="d102289e1582" headers="d102289e1560 "><pre class="oac_no_warn" dir="ltr">MetaData getMetaData（const RefAny＆ref）const = 0;</pre></td>
                              <td align="left" valign="top" width="27%" headers="d102289e1582 d102289e1563 ">
                                 <p>通过引用返回数据库中对象的元数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-DCDC37EA-428C-4C9B-99A1-0A3238DF6B5D__GUID-FC0BF57B-0C52-4BFC-9753-BEC8B551E029">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d102289e1596">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d102289e1599">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e1604" headers="d102289e1596 ">
                                 <p>宾语</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d102289e1604 d102289e1599 ">
                                 <p>与语句对象关联的SQL字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e1611" headers="d102289e1596 ">
                                 <p>prmtyp</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d102289e1611 d102289e1599 ">
                                 <p>正在描述的模式对象的类型，由MetaData类的枚举<code class="codeph">ParamType</code>定义， <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJJDDG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-27</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e1625" headers="d102289e1596 ">
                                 <p>REF</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d102289e1625 d102289e1599 ">
                                 <p>对要描述的类型的类型描述符对象（TDO）的<code class="codeph">REF</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20783"></a><a id="LNCPP20782"></a><div class="props_rev_3"><a id="GUID-ECCBBA2D-D51A-4FA8-AA43-A4E338850A2B" name="GUID-ECCBBA2D-D51A-4FA8-AA43-A4E338850A2B"></a><h3 id="LNCPP-GUID-ECCBBA2D-D51A-4FA8-AA43-A4E338850A2B" class="sect3"><span class="enumeration_section">13.10.12</span> getOCIServer（）</h3>
               <div>
                  <div class="section">
                     <p>返回与连接关联的OCI服务器上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ECCBBA2D-D51A-4FA8-AA43-A4E338850A2B__GUID-E8709BA6-2FF4-42A2-B27D-68A1F3A8084B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">OCIServer * getOCIServer（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20785"></a><a id="LNCPP20784"></a><div class="props_rev_3"><a id="GUID-95B2A62A-6D3B-4579-867A-599AE60ED52B" name="GUID-95B2A62A-6D3B-4579-867A-599AE60ED52B"></a><h3 id="LNCPP-GUID-95B2A62A-6D3B-4579-867A-599AE60ED52B" class="sect3"><span class="enumeration_section">13.10.13</span> getOCIServiceContext（）</h3>
               <div>
                  <div class="section">
                     <p>返回与连接关联的OCI服务上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-95B2A62A-6D3B-4579-867A-599AE60ED52B__GUID-20908E8A-2533-4922-BA18-753868D05E67">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">OCISvcCtx * getOCIServiceContext（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20787"></a><a id="LNCPP20786"></a><div class="props_rev_3"><a id="GUID-8C59DFEB-F902-44DE-82B7-095FAD8405B5" name="GUID-8C59DFEB-F902-44DE-82B7-095FAD8405B5"></a><h3 id="LNCPP-GUID-8C59DFEB-F902-44DE-82B7-095FAD8405B5" class="sect3"><span class="enumeration_section">13.10.14</span> getOCISession（）</h3>
               <div>
                  <div class="section">
                     <p>返回与连接关联的OCI会话上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C59DFEB-F902-44DE-82B7-095FAD8405B5__GUID-3D89269E-EC2B-40FC-8BF6-8015EA98D623">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">OCISession * getOCISession（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20789"></a><a id="LNCPP20788"></a><div class="props_rev_3"><a id="GUID-D158EE4A-59B4-46F6-82FF-F26E6B07C1B7" name="GUID-D158EE4A-59B4-46F6-82FF-F26E6B07C1B7"></a><h3 id="LNCPP-GUID-D158EE4A-59B4-46F6-82FF-F26E6B07C1B7" class="sect3"><span class="enumeration_section">13.10.15</span> getServerVersion（）</h3>
               <div>
                  <div class="section">
                     <p>以当前<code class="codeph">Connection</code>对象使用的<code class="codeph">string</code>返回数据库服务器的版本。当应用程序使用多个单独的代码路径并连接到多个不同的服务器版本时，可以使用此方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D158EE4A-59B4-46F6-82FF-F26E6B07C1B7__GUID-35293F65-C834-419B-94B7-A1023DAB7E54">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getServerVersion（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20791"></a><a id="LNCPP20790"></a><div class="props_rev_3"><a id="GUID-66B2FF71-760B-4500-92A3-DAA7F8B8D319" name="GUID-66B2FF71-760B-4500-92A3-DAA7F8B8D319"></a><h3 id="LNCPP-GUID-66B2FF71-760B-4500-92A3-DAA7F8B8D319" class="sect3"><span class="enumeration_section">13.10.16</span> getServerVersionUString（）</h3>
               <div>
                  <div class="section">
                     <p>返回数据库服务器的版本，作为<code class="codeph">UString</code> ，由当前<code class="codeph">Connection</code>对象使用。当应用程序使用多个单独的代码路径并连接到多个不同的服务器版本时，可以使用此方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B2FF71-760B-4500-92A3-DAA7F8B8D319__GUID-B5D439C6-24A3-4119-8DB6-4E12C6D7EA77">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getServerVersionUString（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20793"></a><a id="LNCPP20792"></a><div class="props_rev_3"><a id="GUID-58BEA22D-4153-45A9-A4D4-85073E3D11E3" name="GUID-58BEA22D-4153-45A9-A4D4-85073E3D11E3"></a><h3 id="LNCPP-GUID-58BEA22D-4153-45A9-A4D4-85073E3D11E3" class="sect3"><span class="enumeration_section">13.10.17</span> getStmtCacheSize（）</h3>
               <div>
                  <div class="section">
                     <p>检索语句高速缓存的大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-58BEA22D-4153-45A9-A4D4-85073E3D11E3__GUID-5EB31ACE-9D4B-4B2B-A2B5-CC5287F0EB5A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getStmtCacheSize（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20795"></a><a id="LNCPP20794"></a><div class="props_rev_3"><a id="GUID-21110CE0-E633-4D0A-AE7D-1B55C794320F" name="GUID-21110CE0-E633-4D0A-AE7D-1B55C794320F"></a><h3 id="LNCPP-GUID-21110CE0-E633-4D0A-AE7D-1B55C794320F" class="sect3"><span class="enumeration_section">13.10.18</span> getTag（）</h3>
               <div>
                  <div class="section">
                     <p>返回与连接关联的标记。仅对来自无状态连接池的连接有效。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21110CE0-E633-4D0A-AE7D-1B55C794320F__GUID-95EDCD9E-C791-497F-8171-C63969942514">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getTag（）const = 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20796"></a><div class="props_rev_3"><a id="GUID-43B40857-C45D-4FEE-8BD8-20E009961C68" name="GUID-43B40857-C45D-4FEE-8BD8-20E009961C68"></a><h3 id="LNCPP-GUID-43B40857-C45D-4FEE-8BD8-20E009961C68" class="sect3"><span class="enumeration_section">13.10.19</span> isCached（）</h3>
               <div>
                  <div class="section">
                     <p>确定是否缓存指定的语句。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-43B40857-C45D-4FEE-8BD8-20E009961C68__GUID-234F244F-BF45-48CC-8771-1E12A9B48C9E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="56%" id="d102289e2242">句法</th>
                              <th align="left" valign="bottom" width="44%" id="d102289e2245">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="56%" id="d102289e2250" headers="d102289e2242 "><pre class="oac_no_warn" dir="ltr">bool isCached（const string＆sql，const string＆tag =“”）= 0;</pre></td>
                              <td align="left" valign="top" width="44%" headers="d102289e2250 d102289e2245 ">
                                 <p>在缓存中搜索具有匹配标记的语句。如果未指定标记，则在高速缓存中搜索匹配的SQL语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="56%" id="d102289e2257" headers="d102289e2242 "><pre class="oac_no_warn" dir="ltr">bool isCached（const Ustring＆sql，const Ustring＆tag）= 0;</pre></td>
                              <td align="left" valign="top" width="44%" headers="d102289e2257 d102289e2245 ">
                                 <p>在缓存中搜索具有匹配标记的语句。如果未指定标记，则在高速缓存中搜索匹配的SQL语句。全球化启用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-43B40857-C45D-4FEE-8BD8-20E009961C68__GUID-28C5B068-84BC-4D85-A3D4-F8A90D7CABBD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d102289e2271">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d102289e2274">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e2279" headers="d102289e2271 "><pre class="oac_no_warn" dir="ltr">SQL</pre></td>
                              <td align="left" valign="top" width="72%" headers="d102289e2279 d102289e2274 ">
                                 <p>与语句对象关联的SQL字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e2286" headers="d102289e2271 "><pre class="oac_no_warn" dir="ltr">标签</pre></td>
                              <td align="left" valign="top" width="72%" headers="d102289e2286 d102289e2274 ">
                                 <p>必须从缓存中检索其关联语句的标记。如果禁用语句缓存，则忽略。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20797"></a><div class="props_rev_3"><a id="GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C" name="GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C"></a><h3 id="LNCPP-GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C" class="sect3"><span class="enumeration_section">13.10.20</span> pinVectorOfRefs（）</h3>
               <div>
                  <div class="section">
                     <p>在一次往返中将<code class="codeph">Ref</code>对象的整个向量固定到对象缓存中。固定对象可通过<code class="codeph">OUT</code>参数向量获得。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C__GUID-9B26C116-C14A-4E19-9C6A-52C9702F2437">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="49%" id="d102289e2373">句法</th>
                              <th align="left" valign="bottom" width="51%" id="d102289e2376">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e2381" headers="d102289e2373 "><pre class="oac_no_warn" dir="ltr">template &lt;class T&gt; void pinVectorOfRefs（const Connection * conn，vector &lt;Ref &lt;T &gt;&gt;＆vect，vector &lt;T *&gt;＆vectObj，LockOptions lockOpt = OCCI_LOCK_NONE）;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e2381 d102289e2376 ">
                                 <p>返回对象。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e2388" headers="d102289e2373 "><pre class="oac_no_warn" dir="ltr">template &lt;class T&gt; void pinVectorOfRefs（const Connection * conn，vector &lt;Ref &lt;T &gt;&gt;＆vect，LockOptions lockOpt = OCCI_LOCK_NONE）;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e2388 d102289e2376 ">
                                 <p>不显式返回对象;应用程序必须通过<code class="codeph">ptr()</code>调用取消引用特定的<code class="codeph">Ref</code>对象，该调用返回先前固定的对象。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-D98EBFBE-3B25-4BD6-B228-F79E5A56AA7C__GUID-FB732563-1AB8-481D-85C5-AFF223F0DA7B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d102289e2408">参数</th>
                              <th align="left" valign="bottom" width="81%" id="d102289e2411">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d102289e2416" headers="d102289e2408 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="81%" headers="d102289e2416 d102289e2411 ">
                                 <p>连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d102289e2423" headers="d102289e2408 "><pre class="oac_no_warn" dir="ltr">VECT</pre></td>
                              <td align="left" valign="top" width="81%" headers="d102289e2423 d102289e2411 ">
                                 <p>被别住的<code class="codeph">Ref</code>对象传染媒介。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d102289e2433" headers="d102289e2408 "><pre class="oac_no_warn" dir="ltr">vectObj</pre></td>
                              <td align="left" valign="top" width="81%" headers="d102289e2433 d102289e2411 ">
                                 <p>钉扎操作完成后包含对象的向量; <code class="codeph">OUT</code>参数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d102289e2443" headers="d102289e2408 "><pre class="oac_no_warn" dir="ltr">lockOpt</pre></td>
                              <td align="left" valign="top" width="81%" headers="d102289e2443 d102289e2411 ">
                                 <p>在固定数组期间使用的锁定选项，如<a href="common-occi-constants.html#GUID-9B3E2120-8BB3-4F1A-B73B-E6F698ABDAB4__BBADFFGJ" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-2中</a>的<code class="codeph">LockOptions</code>所定义。唯一支持的值是<code class="codeph">OCCI_LOCK_NONE</code> 。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20799"></a><a id="LNCPP20798"></a><div class="props_rev_3"><a id="GUID-24C60FE3-5811-4B49-B741-7F3B03269A87" name="GUID-24C60FE3-5811-4B49-B741-7F3B03269A87"></a><h3 id="LNCPP-GUID-24C60FE3-5811-4B49-B741-7F3B03269A87" class="sect3"><span class="enumeration_section">13.10.21</span> postToSubscriptions（）</h3>
               <div>
                  <div class="section">
                     <p>发布订阅通知。</p>
                     <p><code class="codeph">Subscription</code>对象必须具有有效的预订名称，并且名称空间应设置为<code class="codeph">NS_ANONYMOUS</code> 。必须在调用此调用之前设置有效负载;否则，假定有效载荷为<code class="codeph">NULL</code>并且不传递。
                     </p>
                     <p>呼叫者必须保留有效负载，直到发布呼叫完成。此呼叫提供尽力而为的保证;最多一次向注册客户发送通知。此调用主要用于轻量级通知，对处理多个系统事件很有用。如果应用程序需要更严格的保证，则可以使用Oracle数据库高级排队功能。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24C60FE3-5811-4B49-B741-7F3B03269A87__GUID-5A3F89B1-FACD-4164-9806-239DC862463F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void postToSubscriptions（const vector &lt;aq :: Subscription&gt;＆sub）= 0;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-24C60FE3-5811-4B49-B741-7F3B03269A87__GUID-D51FA8FF-2A78-4A18-B546-2F082554BC8C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d102289e2556">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d102289e2559">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e2564" headers="d102289e2556 "><pre class="oac_no_warn" dir="ltr">子</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e2564 d102289e2559 ">
                                 <p>接收发布的订阅向量。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20801"></a><a id="LNCPP20800"></a><div class="props_rev_3"><a id="GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8" name="GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8"></a><h3 id="LNCPP-GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8" class="sect3"><span class="enumeration_section">13.10.22</span> readVectorOfBfiles（）</h3>
               <div>
                  <div class="section">
                     <p>在单个服务器往返中读取多个<code class="codeph">Bfile</code> 。所有<code class="codeph">Bfile</code>必须打开才能阅读。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8__GUID-10321063-D386-471C-9303-6175564C4BCD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void readVectorOfBfiles（const Connection * conn，vector &lt;Bfile&gt;＆vec，oraub8 * byteAmts，oraub8 * offsets，unsigned char * buffers []，oraub8 * bufferLengths）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E64143C9-B8FC-48DF-BAC8-9B93EE7D82D8__GUID-DFDA4258-2142-4712-B40A-7C4C2F09752D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d102289e2658">参数</th>
                              <th align="left" valign="bottom" width="77%" id="d102289e2661">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2666" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2666 d102289e2661 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2673" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">VEC</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2673 d102289e2661 ">
                                 <p><code class="codeph">Bfile</code>对象的向量;每个<code class="codeph">Bfile</code>必须打开才能阅读。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2686" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">byteAmts</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2686 d102289e2661 ">
                                 <p>从单个<code class="codeph">Bfile</code>读取的字节数量的数组。在每个<code class="codeph">Bfile</code>读取的实际字节数在此数组中返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2699" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">偏移</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2699 d102289e2661 ">
                                 <p>偏移数组，从<code class="codeph">Bfile</code>读取开始的起始位置。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2709" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">缓冲区</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2709 d102289e2661 ">
                                 <p>指向读取数据的缓冲区的指针数组。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d102289e2716" headers="d102289e2658 "><pre class="oac_no_warn" dir="ltr">bufferLengths</pre></td>
                              <td align="left" valign="top" width="77%" headers="d102289e2716 d102289e2661 ">
                                 <p>每个缓冲区的大小数组，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20803"></a><a id="LNCPP20802"></a><div class="props_rev_3"><a id="GUID-56F64002-E27C-4B04-951E-E155B45EBF8D" name="GUID-56F64002-E27C-4B04-951E-E155B45EBF8D"></a><h3 id="LNCPP-GUID-56F64002-E27C-4B04-951E-E155B45EBF8D" class="sect3"><span class="enumeration_section">13.10.23</span> readVectorOfBlobs（）</h3>
               <div>
                  <div class="section">
                     <p>在单个服务器往返中读取多个<code class="codeph">BLOB</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56F64002-E27C-4B04-951E-E155B45EBF8D__GUID-0F92EF1F-B128-4B14-A40D-0D2D9E299C9F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void readVectorOfBlobs（const Connection * conn，vector &lt;Blob&gt;＆vec，oraub8 * byteAmts，oraub8 * offsets，unsigned char * buffers []，oraub8 * bufferLengths）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-56F64002-E27C-4B04-951E-E155B45EBF8D__GUID-81EBDBDD-F1FA-4895-9EB0-A1104C6BFF90">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d102289e2807">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d102289e2810">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2815" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2815 d102289e2810 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2822" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">VEC</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2822 d102289e2810 ">
                                 <p><code class="codeph">Blob</code>对象<code class="codeph">Blob</code>媒介。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2832" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">byteAmts</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2832 d102289e2810 ">
                                 <p>从单个<code class="codeph">Blob</code>读取的字节数量的数组。从每个<code class="codeph">Blob</code>读取的实际字节数在此数组中返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2845" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">偏移</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2845 d102289e2810 ">
                                 <p>偏移数组，从<code class="codeph">Blob</code> s开始读取的起始位置。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2855" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">缓冲区</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2855 d102289e2810 ">
                                 <p>指向读取数据的缓冲区的指针数组。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2862" headers="d102289e2807 "><pre class="oac_no_warn" dir="ltr">bufferLengths</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2862 d102289e2810 ">
                                 <p>每个缓冲区的大小数组，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20804"></a><div class="props_rev_3"><a id="GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E" name="GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E"></a><h3 id="LNCPP-GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E" class="sect3"><span class="enumeration_section">13.10.24</span> readVectorOfClobs（）</h3>
               <div>
                  <div class="section">
                     <p>在单个服务器往返中读取多个<code class="codeph">Clob</code> 。所有<code class="codeph">Clob</code>应该是相同的字符集形式，并且属于相同的字符集ID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E__GUID-647B94B0-EB2E-4ABF-AE2B-8003B70B92F1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="57%" id="d102289e2950">句法</th>
                              <th align="left" valign="bottom" width="43%" id="d102289e2953">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d102289e2958" headers="d102289e2950 "><pre class="oac_no_warn" dir="ltr">void readVectorOfClobs（const Connection * conn，vector &lt;Clob&gt;＆vec，oraub8 * byteAmts，araub8 * charAmts，oraub8 * offsets，unsigned char * buffers []，oraub8 * bufferLengths）;</pre></td>
                              <td align="left" valign="top" width="43%" headers="d102289e2958 d102289e2953 ">
                                 <p>该方法的一般形式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d102289e2965" headers="d102289e2950 "><pre class="oac_no_warn" dir="ltr">void readVectorOfClobs（const Connection * conn，vector &lt;Clob&gt;＆vec，oraub8 * byteAmts，araub8 * charAmts，oraub8 * offsets，utext * buffers []，oraub8 * bufferLengths）;</pre></td>
                              <td align="left" valign="top" width="43%" headers="d102289e2965 d102289e2953 ">
                                 <p>当数据采用UTF16字符集编码时，与<code class="codeph">utext</code>缓冲区一起使用的方法的形式。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CD5D82C7-3C23-41DB-9822-150D9C1AB05E__GUID-0B947FAE-D042-4A2E-813D-83C8FEB4CA64">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d102289e2982">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d102289e2985">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2990" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2990 d102289e2985 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e2997" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">VEC</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e2997 d102289e2985 ">
                                 <p><code class="codeph">Clob</code>对象<code class="codeph">Clob</code>媒介。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e3007" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">byteAmts</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e3007 d102289e2985 ">
                                 <p>从单个<code class="codeph">Clob</code>读取的字节数量的数组。仅在<code class="codeph">charAmts</code>为<code class="codeph">NULL</code> ，或者对于任何<code class="codeph">Clob</code>索引使用<code class="codeph">0</code> 。返回每个<code class="codeph">Clob</code>读取的字节数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e3033" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">charAmts</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e3033 d102289e2985 ">
                                 <p>从单个<code class="codeph">Clob</code>读取的字符数量的数组。返回为每个<code class="codeph">Clob</code>读取的字符数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e3046" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">偏移</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e3046 d102289e2985 ">
                                 <p>偏移数组，从<code class="codeph">Clob</code> s开始读取的起始位置，以字符表示。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e3056" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">缓冲区</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e3056 d102289e2985 ">
                                 <p>指向读取数据的缓冲区的指针数组。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d102289e3063" headers="d102289e2982 "><pre class="oac_no_warn" dir="ltr">bufferLengths</pre></td>
                              <td align="left" valign="top" width="76%" headers="d102289e3063 d102289e2985 ">
                                 <p>每个缓冲区的大小数组，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20806"></a><a id="LNCPP20805"></a><div class="props_rev_3"><a id="GUID-928B38ED-3326-403C-B377-187F32C3F146" name="GUID-928B38ED-3326-403C-B377-187F32C3F146"></a><h3 id="LNCPP-GUID-928B38ED-3326-403C-B377-187F32C3F146" class="sect3"><span class="enumeration_section">13.10.25</span> registerSubscriptions（）</h3>
               <div>
                  <div class="section">
                     <p>注册<code class="codeph">Subscription</code>以进行通知。
                     </p>
                     <p>关闭后重新启动的新客户端进程和现有进程必须注册所有感兴趣的订阅。如果客户端在服务器关闭并重新启动期间保持运行，则此客户端将继续接收<code class="codeph">DISCONNECTED</code>注册的通知，但不会收到<code class="codeph">CONNECTED</code>注册的通知，因为它们在服务器停机期间丢失。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-928B38ED-3326-403C-B377-187F32C3F146__GUID-E5ED4B82-92D1-4C2A-8875-4B3E5513EB0B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void registerSubscriptions（const vector &lt;aq :: Subscription&gt;＆sub）= 0;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-928B38ED-3326-403C-B377-187F32C3F146__GUID-EA38A5D6-447A-40D0-BB24-D7476146F1C0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d102289e3162">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d102289e3165">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3170" headers="d102289e3162 "><pre class="oac_no_warn" dir="ltr">子</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3170 d102289e3165 ">
                                 <p>注册通知的订阅矢量。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20808"></a><a id="LNCPP20807"></a><div class="props_rev_3"><a id="GUID-F241BC58-9C8C-4355-9593-9A11848EBF18" name="GUID-F241BC58-9C8C-4355-9593-9A11848EBF18"></a><h3 id="LNCPP-GUID-F241BC58-9C8C-4355-9593-9A11848EBF18" class="sect3"><span class="enumeration_section">13.10.26</span> rollback（）</h3>
               <div>
                  <div class="section">
                     <p>删除自上次提交或回滚以来所做的所有更改，并释放会话当前持有的所有数据库锁。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F241BC58-9C8C-4355-9593-9A11848EBF18__GUID-A478F068-D71A-4B84-AC89-EF6B0751F73C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void rollback（）= 0;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20812"></a><a id="LNCPP20811"></a><div class="props_rev_3"><a id="GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94" name="GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94"></a><h3 id="LNCPP-GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94" class="sect3"><span class="enumeration_section">13.10.27</span> setStmtCacheSize（）</h3>
               <div>
                  <div class="section">
                     <p>启用或禁用语句缓存。非零值启用语句高速缓存，具有指定大小的高速缓存。零值禁用缓存。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94__GUID-925074BB-9368-468D-AE08-6F9A06FC1DDD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setStmtCacheSize（unsigned int cacheSize）= 0;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-68836B2A-7F4E-4140-AEDD-3822F012AB94__GUID-9154C93C-1143-46F1-8ECF-2892F9E8507E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d102289e3333">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d102289e3336">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d102289e3341" headers="d102289e3333 "><pre class="oac_no_warn" dir="ltr">CACHESIZE</pre></td>
                              <td align="left" valign="top" width="72%" headers="d102289e3341 d102289e3336 ">
                                 <p>缓存中的最大语句数。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20814"></a><a id="LNCPP20813"></a><div class="props_rev_3"><a id="GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B" name="GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B"></a><h3 id="LNCPP-GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B" class="sect3"><span class="enumeration_section">13.10.28</span> setTAFNotify（）</h3>
               <div>
                  <div class="section">
                     <p>在已配置故障转移且必须检测到的<code class="codeph">Connection</code>对象上注册故障转移回调函数。
                     </p>
                     <p>故障转移回调应返回<code class="codeph">OCCI_SUCCESS</code>以指示OCCI可以继续进行默认处理。故障转移事件<code class="codeph">foEvent</code>在<a href="connection-class.html#GUID-412D06D3-7636-4A32-AF24-534099F989D0__BBAEAHAH" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-11中</a>定义。当<code class="codeph">foEvent</code>为<code class="codeph">FO_ERROR</code> ，回调函数可以返回<code class="codeph">FO_RETRY</code>以指示必须再次尝试故障转移，或<code class="codeph">OCCI_SUCCESS</code>以结束故障转移尝试。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B__GUID-9C64178C-65A8-42F1-9020-31BC6C76637B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setTAFNotify（int（* notifyFn）（Environment * env，Connection * conn，void * ctx，FailOverType foType，FailOverEventType foEvent），void * ctxTAF）</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-0C0A528D-6669-490E-BC2E-9A8183D4F95B__GUID-30DF45A9-0C0C-4C23-A573-38B2986926E7">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d102289e3458">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d102289e3461">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3466" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">notifyFn</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3466 d102289e3461 ">
                                 <p>在故障转移事件期间调用的用户定义的回调函数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3473" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">ENV</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3473 d102289e3461 ">
                                 <p>创建失败<code class="codeph">Connection</code> <code class="codeph">Environment</code>对象。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3485" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3485 d102289e3461 ">
                                 <p>注册回调函数的<code class="codeph">Connection</code>失败。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3495" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3495 d102289e3461 ">
                                 <p>注册回调时用户提供的上下文。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3502" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">foType</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3502 d102289e3461 ">
                                 <p>配置的<code class="codeph">FailOverType</code> ，值为<code class="codeph">FO_SESSION</code>或<code class="codeph">FO_SELECT</code> ，如<a href="connection-class.html#GUID-412D06D3-7636-4A32-AF24-534099F989D0__BBAEAHAH" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-11中</a>所定义。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3523" headers="d102289e3458 ">
                                 <p>foEvent</p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d102289e3523 d102289e3461 ">
                                 <p>触发回调的故障转移事件类型; <code class="codeph">FailOverEventType</code> ，值<code class="codeph">FO_BEGIN</code> ， <code class="codeph">FO_END</code> ， <code class="codeph">FO_ABORT</code>和<code class="codeph">FO_ERROR</code>如<a href="connection-class.html#GUID-412D06D3-7636-4A32-AF24-534099F989D0__BBAEAHAH" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-11中</a>所定义。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d102289e3551" headers="d102289e3458 "><pre class="oac_no_warn" dir="ltr">ctxTAF</pre></td>
                              <td align="left" valign="top" width="82%" headers="d102289e3551 d102289e3461 ">
                                 <p>用户上下文在调用时传递回回调函数。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20815"></a><div class="props_rev_3"><a id="GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE" name="GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE"></a><h3 id="LNCPP-GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE" class="sect3"><span class="enumeration_section">13.10.29</span> terminateStatement（）</h3>
               <div>
                  <div class="section">
                     <p>关闭<code class="codeph">Statement</code>对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE__GUID-4E7796BF-00CA-4B14-9A16-068494EB56DD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="49%" id="d102289e3635">句法</th>
                              <th align="left" valign="bottom" width="51%" id="d102289e3638">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e3643" headers="d102289e3635 "><pre class="oac_no_warn" dir="ltr">void terminateStatement（Statement * stmt）= 0;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e3643 d102289e3638 ">
                                 <p>关闭<code class="codeph">Statement</code>对象并释放与其关联的所有资源。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e3653" headers="d102289e3635 "><pre class="oac_no_warn" dir="ltr">void terminateStatement（Statement * stmt，const string＆tag）= 0;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e3653 d102289e3638 ">
                                 <p>添加可选标记（ <code class="codeph">string</code>后，将语句释放回缓存。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d102289e3663" headers="d102289e3635 "><pre class="oac_no_warn" dir="ltr">void terminateStatement（Statement * stmt，const UString＆tag）= 0;</pre></td>
                              <td align="left" valign="top" width="51%" headers="d102289e3663 d102289e3638 ">
                                 <p>添加可选标记<code class="codeph">UString</code>后，将语句释放回缓存。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-DC3E71A2-9BD4-418D-96AD-CBE05EE9B2BE__GUID-16280AD6-1EFD-4781-82A9-B0D464E338A9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d102289e3680">参数</th>
                              <th align="left" valign="bottom" width="75%" id="d102289e3683">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d102289e3688" headers="d102289e3680 "><pre class="oac_no_warn" dir="ltr">语句</pre></td>
                              <td align="left" valign="top" width="75%" headers="d102289e3688 d102289e3683 ">
                                 <p>该<code class="codeph">Statement</code>即将结束。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d102289e3698" headers="d102289e3680 "><pre class="oac_no_warn" dir="ltr">标签</pre></td>
                              <td align="left" valign="top" width="75%" headers="d102289e3698 d102289e3683 ">
                                 <p>与语句关联的标记，可以是<code class="codeph">string</code> ，也可以是<code class="codeph">UString</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20817"></a><a id="LNCPP20816"></a><div class="props_rev_3"><a id="GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20" name="GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20"></a><h3 id="LNCPP-GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20" class="sect3"><span class="enumeration_section">13.10.30</span> unregisterSubscription（）</h3>
               <div>
                  <div class="section">
                     <p>取消注册<code class="codeph">Subscription</code> ，关闭其通知。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20__GUID-24594002-7510-43A0-86BB-917A18690C7A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void unregisterSubscription（const aq :: Subscription＆sub）= 0;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-64F0EB9B-CE28-4936-ADDC-75D710848C20__GUID-F9E7D4BB-3896-4D36-B5E2-589E975D5AB8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d102289e3796">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d102289e3799">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3804" headers="d102289e3796 "><pre class="oac_no_warn" dir="ltr">子</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3804 d102289e3799 ">
                                 <p>其通知已关闭的<code class="codeph">Subscription</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20819"></a><a id="LNCPP20818"></a><div class="props_rev_3"><a id="GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4" name="GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4"></a><h3 id="LNCPP-GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4" class="sect3"><span class="enumeration_section">13.10.31</span> writeVectorOfBlobs（）</h3>
               <div>
                  <div class="section">
                     <p>在单个服务器往返中写入多个<code class="codeph">Blob</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4__GUID-54FB3330-9F81-4A5D-938F-F593A037E646">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void writeVectorOfBlobs（const Connection * conn，vector &lt;Blob&gt;＆vec，oraub8 * byteAmts，oraub8 * offsets，unsigned char * buffers []，oraub8 * bufferLengths）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5B7FA59F-28CD-4DB5-8320-C0D70F4594B4__GUID-5E4DC2DF-B614-4BAE-951D-F0576165E842">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d102289e3897">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d102289e3900">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3905" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3905 d102289e3900 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3912" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">VEC</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3912 d102289e3900 ">
                                 <p><code class="codeph">Blob</code>对象<code class="codeph">Blob</code>媒介。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3922" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">byteAmts</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3922 d102289e3900 ">
                                 <p>要写入单个<code class="codeph">Blob</code>的字节数量的数组。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3932" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">偏移</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3932 d102289e3900 ">
                                 <p>偏移数组，开始写入<code class="codeph">Blob</code> s的起始位置。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3942" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">缓冲区</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3942 d102289e3900 ">
                                 <p>指向写入数据的缓冲区的指针数组。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e3949" headers="d102289e3897 "><pre class="oac_no_warn" dir="ltr">bufferLengths</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e3949 d102289e3900 ">
                                 <p>每个缓冲区的大小数组，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20820"></a><div class="props_rev_3"><a id="GUID-6CF5271C-51CB-4004-9D00-405AA12472D2" name="GUID-6CF5271C-51CB-4004-9D00-405AA12472D2"></a><h3 id="LNCPP-GUID-6CF5271C-51CB-4004-9D00-405AA12472D2" class="sect3"><span class="enumeration_section">13.10.32</span> writeVectorOfClobs（）</h3>
               <div>
                  <div class="section">
                     <p>在单个服务器往返中写入多个<code class="codeph">Clob</code> 。所有<code class="codeph">Clob</code>应该是相同的字符集形式，并且属于相同的字符集ID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6CF5271C-51CB-4004-9D00-405AA12472D2__GUID-ADC8D034-091D-4241-9399-C9B1A4AA18CA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="57%" id="d102289e4036">句法</th>
                              <th align="left" valign="bottom" width="43%" id="d102289e4039">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d102289e4044" headers="d102289e4036 "><pre class="oac_no_warn" dir="ltr">void writeVectorOfClobs（const Connection * conn，vector &lt;Clob&gt;＆vec，oraub8 * byteAmts，araub8 * charAmts，oraub8 * offsets，unsigned char * buffers []，oraub8 * bufferLengths）;</pre></td>
                              <td align="left" valign="top" width="43%" headers="d102289e4044 d102289e4039 ">
                                 <p>该方法的一般形式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d102289e4051" headers="d102289e4036 "><pre class="oac_no_warn" dir="ltr">void writeVectorOfClobs（const Connection * conn，vector &lt;Clob&gt;＆vec，oraub8 * byteAmts，araub8 * charAmts，oraub8 * offsets，utext * buffers []，oraub8 * bufferLengths）;</pre></td>
                              <td align="left" valign="top" width="43%" headers="d102289e4051 d102289e4039 ">
                                 <p>当数据采用UTF16字符集编码时，与<code class="codeph">utext</code>缓冲区一起使用的方法的形式。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-6CF5271C-51CB-4004-9D00-405AA12472D2__GUID-C7F11BE8-133E-43C4-B396-3EFF3162AB80">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d102289e4068">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d102289e4071">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4076" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4076 d102289e4071 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4083" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">VEC</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4083 d102289e4071 ">
                                 <p><code class="codeph">Clob</code>对象<code class="codeph">Clob</code>媒介。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4093" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">byteAmts</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4093 d102289e4071 ">
                                 <p>要写入单个<code class="codeph">Clob</code>的字节数组。仅在<code class="codeph">charAmts</code>为<code class="codeph">NULL</code>或<code class="codeph">0</code>表示任何<code class="codeph">Clob</code>索引时使用。返回为每个<code class="codeph">Clob</code>写入的字节数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4119" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">charAmts</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4119 d102289e4071 ">
                                 <p>要写入单个<code class="codeph">Clob</code>的字符数量的数组。返回为每个<code class="codeph">Clob</code>读取的字符数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4132" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">偏移</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4132 d102289e4071 ">
                                 <p>一组偏移，开始写入<code class="codeph">Clob</code> s的位置，以字符开头。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4142" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">缓冲区</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4142 d102289e4071 ">
                                 <p>指向写入数据的缓冲区的指针数组。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d102289e4149" headers="d102289e4068 "><pre class="oac_no_warn" dir="ltr">bufferLengths</pre></td>
                              <td align="left" valign="top" width="79%" headers="d102289e4149 d102289e4071 ">
                                 <p>每个缓冲区的大小数组，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04096.Oracle-object-types.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用Oracle对象类型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Java-streams-in-JDBC.html" title="Previous" type="text/html"></link>
      <link rel="next" href="LOBs-and-BFiles.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Java-streams-in-JDBC.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="LOBs-and-BFiles.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name">数据访问和操作</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle对象类型</li>
            </ol>
            <a id="GUID-5905674A-A045-40B1-96DE-726761517D50" name="GUID-5905674A-A045-40B1-96DE-726761517D50"></a><a id="JJDBC28431"></a>
            
            <h2 id="JJDBC-GUID-5905674A-A045-40B1-96DE-726761517D50" class="sect2"><span class="enumeration_chapter">13</span>使用Oracle对象类型</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d51198e21" class="indexterm-anchor"></a><a id="d51198e25" class="indexterm-anchor"></a>本章介绍了对用户定义的对象类型的Java数据库连接（JDBC）支持。它讨论了泛型弱类型<code class="codeph">oracle.sql.STRUCT</code>类，以及如何映射到实现JDBC标准<code class="codeph">SQLData</code>接口或Oracle特定<code class="codeph">OracleData</code>接口的自定义Java类。
               </p>
               <div class="infoboxnote" id="GUID-5905674A-A045-40B1-96DE-726761517D50__GUID-B1E97578-48C4-47BA-8F99-B23594622084">
                  <p class="notep1">注意：</p>
                  <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.不推荐使用STRUCT</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleStruct</code>接口，它是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle强烈建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以获得Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleStruct</code>接口。
                  </p>
               </div>
               <p>涵盖以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Oracle-object-types.html#GUID-D8784F68-C051-4068-9F34-23913C6733F7">关于映射Oracle对象</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-object-types.html#GUID-962C3E5C-1208-4A63-8130-6347ED9231C5">关于为Oracle Objects使用默认STRUCT类</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-object-types.html#GUID-0128E185-086F-41CD-BECC-63A42EBB142C">关于为Oracle Objects创建和使用自定义对象类</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-object-types.html#GUID-E47B8141-3C4C-44D5-BB5C-2F8E16DF5140">对象类型继承</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-object-types.html#GUID-4D737F6A-66F6-4C67-BC9A-233A89F75FFD">关于描述对象类型</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="JDBC-reference-information.html#GUID-E77C2AE8-E22B-48BF-A4CB-010CBC8FE7C2">关于使用PL / SQL类型</a></li>
                  </ul>
               </div>
            </div>
            <a id="JJDBC28432"></a><div class="props_rev_3"><a id="GUID-D8784F68-C051-4068-9F34-23913C6733F7" name="GUID-D8784F68-C051-4068-9F34-23913C6733F7"></a><h3 id="JJDBC-GUID-D8784F68-C051-4068-9F34-23913C6733F7" class="sect3"><span class="enumeration_section">13.1</span>关于映射Oracle对象</h3>
               <div>
                  <p><a id="d51198e132" class="indexterm-anchor"></a> Oracle对象类型为数据库中的复合数据结构提供支持。例如，你可以定义一个<code class="codeph">Person</code>具有的属性种类<code class="codeph">name</code>的<code class="codeph">CHAR</code>类型， <code class="codeph">phoneNumber</code>的<code class="codeph">CHAR</code>类型， <code class="codeph">employeeNumber</code>的<code class="codeph">NUMBER</code>类型。
                  </p>
                  <p>Oracle提供了它之间的紧密集成<a id="d51198e161" class="indexterm-anchor"></a> Oracle对象功能及其JDBC功能。您可以使用标准的通用JDBC类型映射到Oracle对象，也可以通过创建自定义Java类型定义类来自定义映射。
                  </p>
                  <div class="infoboxnote" id="GUID-D8784F68-C051-4068-9F34-23913C6733F7__GUID-B09543A0-045B-479D-9B64-428E41E216A2">
                     <p class="notep1">注意：</p>
                     <p>在本书中，您创建用于映射到Oracle对象的<span class="bold">Java类</span>将称为<span class="bold">自定义Java类，</span>或者更具体地说，称为<span class="bold">自</span> <span class="bold">定义对象类</span> 。这与<span class="bold">自定义引用类</span>相反，后者是映射到对象引用的Java类，而<span class="bold">自定义集合</span>类是映射到Oracle集合的Java类。
                     </p>
                  </div>
                  <p>自定义对象类可以实现标准JDBC接口或Oracle扩展接口来读取和写入数据。JDBC将Oracle对象实现为特定Java类的实例。使用JDBC访问Oracle对象的两个主要步骤是：</p>
                  <ol>
                     <li>
                        <p>为Oracle对象创建Java类</p>
                     </li>
                     <li>
                        <p>填充这些类。您有以下选择：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>让JDBC将对象实现为<code class="codeph">STRUCT</code>对象。
                              </p>
                           </li>
                           <li>
                              <p>明确指定Oracle对象和Java类之间的映射。</p>
                              <p>这包括为对象数据自定义Java类。然后，驱动程序必须能够填充您指定的自定义对象类的实例。这对Java类施加了一组约束。要满足这些约束，您可以定义类以实现JDBC标准<code class="codeph">java.sql.SQLData</code>接口或Oracle扩展<code class="codeph">oracle.jdbc.OracleData</code>接口。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ol>
                  <div class="infoboxnote" id="GUID-D8784F68-C051-4068-9F34-23913C6733F7__GUID-C5780BA8-94EA-4BF8-AA6D-635D3AD80796">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">SQLData</code>接口时，必须使用Java类型映射来指定SQL-Java映射，除非弱类型的<code class="codeph">java.sql.Struct</code>对象就足够了。
                     </p>
                  </div>
               </div>
            </div><a id="JJDBC28433"></a><div class="props_rev_3"><a id="GUID-962C3E5C-1208-4A63-8130-6347ED9231C5" name="GUID-962C3E5C-1208-4A63-8130-6347ED9231C5"></a><h3 id="JJDBC-GUID-962C3E5C-1208-4A63-8130-6347ED9231C5" class="sect3"><span class="enumeration_section">13.2</span>关于使用Oracle Objects的默认STRUCT类</h3>
               <div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-21636EC9-B321-43A8-AAED-0329A8371D5C">使用Struct类的概述</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-13EB6E85-4356-4653-9822-855691AACC4A">检索STRUCT对象和属性</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-00F1EBB3-B60F-4897-BA00-4889A320B74B">关于创建STRUCT对象</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-CCEADA36-E70A-42A9-A55C-9D7BD1BBABBF">将STRUCT对象绑定到语句中</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74">STRUCT自动属性缓冲</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-21636EC9-B321-43A8-AAED-0329A8371D5C" name="GUID-21636EC9-B321-43A8-AAED-0329A8371D5C"></a><h4 id="JJDBC-GUID-21636EC9-B321-43A8-AAED-0329A8371D5C" class="sect4"><span class="enumeration_section">13.2.1</span>使用Struct类的概述</h4>
                  <div>
                     <p>如果您选择不为您的SQL-Java映射提供自定义Java类<a id="d51198e291" class="indexterm-anchor"></a> Oracle对象，然后Oracle JDBC将对象实现为实现<code class="codeph">java.sql.的对象<code class="codeph">java.sql.Struct</code>界面。
                     </p>
                     <p>在不了解实际SQL类型的情况下，通常需要使用<code class="codeph">STRUCT</code>对象而不是自定义Java对象。例如，您的Java应用程序可能是一种在数据库中操纵任意对象数据的工具，而不是最终用户应用程序。您可以从数据库中选择数据到<code class="codeph">STRUCT</code>对象中，并创建<code class="codeph">STRUCT</code>对象以将数据插入数据库。<code class="codeph">STRUCT</code>对象完全保留数据，因为它们以SQL格式维护数据。在不需要特定于应用程序的表单中的信息的情况下，使用<code class="codeph">STRUCT</code>对象更有效，更精确。
                     </p>
                  </div>
               </div><a id="JJDBC28440"></a><a id="JJDBC28441"></a><a id="JJDBC28442"></a><a id="JJDBC28438"></a><div class="props_rev_3"><a id="GUID-13EB6E85-4356-4653-9822-855691AACC4A" name="GUID-13EB6E85-4356-4653-9822-855691AACC4A"></a><h4 id="JJDBC-GUID-13EB6E85-4356-4653-9822-855691AACC4A" class="sect4"><span class="enumeration_section">13.2.2</span>检索STRUCT对象和属性</h4>
                  <div>
                     <div class="section">
                        <p>本节讨论如何使用Oracle特定功能或JDBC 2.0标准功能检索和操作Oracle对象及其属性。</p>
                        <div class="infoboxnote" id="GUID-13EB6E85-4356-4653-9822-855691AACC4A__GUID-17EBE907-B787-44CB-B28D-A12B6F008756">
                           <p class="notep1">注意：</p>
                           <p>JDBC驱动无缝地处理嵌入的对象，也就是<code class="codeph">STRUCT</code>是的属性的对象<code class="codeph">STRUCT</code>目的，以同样的方式，它通常处理的对象。当JDBC驱动程序检索作为对象的属性时，它通过使用类型映射（如果可用）或使用默认映射遵循相同的转换规则。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13EB6E85-4356-4653-9822-855691AACC4A__GUID-965D536C-AFEB-45FB-ABBF-FE15907496E3">将Oracle对象检索为java.sql。结构对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>或者，在前面的示例中，您可以使用标准JDBC功能（如<code class="codeph">getObject</code>从数据库中检索Oracle对象作为<code class="codeph">java.sql.的实例<code class="codeph">java.sql.Struct</code> 。<code class="codeph">getObject</code>方法返回<code class="codeph">java.lang.Object</code> ，因此，必须将方法的输出<code class="codeph">Struct</code>为<code class="codeph">Struct</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">ResultSet rs = stmt.executeQuery（“SELECT * FROM struct_table”）; java.sql中。struct jdbcStruct =（java.sql。结构）rs.getObject（1）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13EB6E85-4356-4653-9822-855691AACC4A__GUID-86188575-F0AA-49E0-96D9-89FE34C79F42">将属性检索为oracle.sql类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果要从<code class="codeph">STRUCT</code>或<code class="codeph">Struct</code>实例检索Oracle对象属性为<code class="codeph">oracle.sql</code>类型，则使用<code class="codeph">oracle.sql</code>的<code class="codeph">getOracleAttributes</code>方法<code class="codeph">oracle.sql.STRUCT</code>类，如下：</p><pre class="oac_no_warn" dir="ltr">oracle.sql。Datum [] attrs = oracleSTRUCT.getOracleAttributes（）;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">oracle.sql。Datum [] attrs =（（oracle.sql。STRUCT）jdbcStruct）.getOracleAttributes（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13EB6E85-4356-4653-9822-855691AACC4A__GUID-F986D1A3-26E0-4C7C-9DEC-1D37A1AE7C62">将属性检索为标准Java类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果要从<code class="codeph">STRUCT</code>或<code class="codeph">Struct</code>实例检索Oracle对象属性作为标准Java类型，请使用标准<code class="codeph">getAttributes</code>方法：</p><pre class="oac_no_warn" dir="ltr">Object [] attrs = jdbcStruct.getAttributes（）;</pre><div class="infoboxnote" id="GUID-13EB6E85-4356-4653-9822-855691AACC4A__GUID-66694E99-A661-4419-B99A-CF44489256FA">
                           <p class="notep1">注意：</p>
                           <p>Oracle JDBC驱动程序缓存数组和结构描述符。这提供了巨大的性能优势。但是，这意味着如果更改数据库中结构类型的基础类型定义，则该结构类型的高速缓存描述符将变为陈旧，并且您的应用程序将收到<code class="codeph">SQLException</code>异常。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28443"></a><div class="props_rev_3"><a id="GUID-00F1EBB3-B60F-4897-BA00-4889A320B74B" name="GUID-00F1EBB3-B60F-4897-BA00-4889A320B74B"></a><h4 id="JJDBC-GUID-00F1EBB3-B60F-4897-BA00-4889A320B74B" class="sect4"><span class="enumeration_section">13.2.3</span>关于创建STRUCT对象</h4>
                  <div>
                     <div class="section">
                        <p>有关创建STRUCT对象的信息，请参阅<span class="q">“ <a href="Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53">Package oracle.sql</a> ”</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-00F1EBB3-B60F-4897-BA00-4889A320B74B__GUID-4967F80C-4684-405E-8CC9-F463938E45AE">
                           <p class="notep1">注意：</p>
                           <p>如果您已从数据库中获取了相应SQL对象类型的<code class="codeph">STRUCT</code> ，那么获取<code class="codeph">STRUCT</code>描述符的最简单方法是在其中一个获取的<code class="codeph">STRUCT</code>对象上调用<code class="codeph">getDescriptor</code> 。任何一种SQL对象类型只需要一个<code class="codeph">STRUCT</code>描述符。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28447"></a><div class="props_rev_3"><a id="GUID-CCEADA36-E70A-42A9-A55C-9D7BD1BBABBF" name="GUID-CCEADA36-E70A-42A9-A55C-9D7BD1BBABBF"></a><h4 id="JJDBC-GUID-CCEADA36-E70A-42A9-A55C-9D7BD1BBABBF" class="sect4"><span class="enumeration_section">13.2.4将</span> STRUCT对象绑定到语句中</h4>
                  <div>
                     <div class="section">
                        <p>绑定<code class="codeph">oracle.sql.STRUCT</code>对象为STRUCT</code>准备语句或可调用语句，您可以使用该标准<a id="d51198e512" class="indexterm-anchor"></a> <code class="codeph">setObject</code>方法（指定类型代码），或将语句对象<code class="codeph">setOracleObject</code>转换为Oracle语句类型并使用Oracle扩展<code class="codeph">setOracleObject</code>方法。例如：</p><pre class="oac_no_warn" dir="ltr">PreparedStatement ps = conn.prepareStatement（“ <span class="italic">text_of_prepared_statement</span> ”）; Struct mySTRUCT = conn.createStruct（...）; ps.setObject（1，mySTRUCT，Types。结构）;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">PreparedStatement ps = conn.prepareStatement（“ <span class="italic">text_of_prepared_statement</span> ”）; Struct mySTRUCT = conn.createStruct（...）; （（OraclePreparedStatement）ps）.setOracleObject（1，mySTRUCT）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28448"></a><div class="props_rev_3"><a id="GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74" name="GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74"></a><h4 id="JJDBC-GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74" class="sect4"><span class="enumeration_section">13.2.5</span> STRUCT自动属性缓冲</h4>
                  <div>
                     <p>Oracle JDBC驱动程序提供公共方法来启用和禁用<code class="codeph">STRUCT</code>属性的缓冲。
                     </p>
                     <div class="infoboxnote" id="GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74__GUID-37E8CBAC-3A75-4F1D-9E94-EB78E733BBC2">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.不推荐使用STRUCT</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleStruct</code>接口，它是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle强烈建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以获得Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleStruct</code>接口。
                        </p>
                     </div>
                     <p><code class="codeph">oracle.sql.包含以下方法<code class="codeph">oracle.sql.STRUCT</code>类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">public void setAutoBuffering（boolean enable）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">public boolean getAutoBuffering（）</code></p>
                        </li>
                     </ul>
                     <p><code class="codeph">setAutoBuffering(boolean)</code>方法启用或禁用自动缓冲。<code class="codeph">getAutoBuffering</code>方法返回当前的自动缓冲模式。默认情况下，禁用自动缓冲。
                     </p>
                     <p>当<code class="codeph">getAttributes</code>和<code class="codeph">getArray</code>方法多次访问<code class="codeph">STRUCT</code>属性时，建议在JDBC应用程序中启用自动缓冲，假设<code class="codeph">ARRAY</code>数据能够适应Java虚拟机（JVM）内存而不会溢出。
                     </p>
                     <div class="infoboxnote" id="GUID-DB4B241E-7C22-4585-A42D-80097D5ADA74__GUID-73296BC2-A877-4697-9CCB-6B499027AE8F">
                        <p class="notep1">注意：</p>
                        <p>缓冲转换后的属性可能会导致JDBC应用程序消耗大量内存。</p>
                     </div>
                     <p>启用自动缓冲时， <code class="codeph">oracle.sql.STRUCT</code>对象保留所有转换属性的本地副本。保留此数据，以便后续访问此信息不需要通过数据格式转换过程。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-collections.html#GUID-33CC8F2C-4E73-412B-990E-D4293173E199">ARRAY自动元素缓冲</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JJDBC28449"></a><div class="props_rev_3"><a id="GUID-0128E185-086F-41CD-BECC-63A42EBB142C" name="GUID-0128E185-086F-41CD-BECC-63A42EBB142C"></a><h3 id="JJDBC-GUID-0128E185-086F-41CD-BECC-63A42EBB142C" class="sect3"><span class="enumeration_section">13.3</span>关于为Oracle Objects创建和使用自定义对象类</h3>
               <div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-CB167A20-2A94-4066-80CC-E5577698394E">创建和使用自定义对象类概述</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3">OracleData与SQLData的相对优势</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-87716972-5BD5-4116-B706-DC8C13663342">关于SQLData实现的类型映射</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-6C176486-2299-408A-86D7-29033E593210">关于为SQLData实现创建类型映射和定义映射</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3">关于使用SQLData实现读取和写入数据</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-EEF1A8CA-354D-430B-9153-171849DE2525">关于OracleData接口</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-7E84EDB6-A403-475D-875B-CAA151436AF7">关于使用OracleData实现读取和写入数据</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-1CC46DF9-95F1-4892-8C25-9B3BBD36CFFF">OracleData的其他用途</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-CB167A20-2A94-4066-80CC-E5577698394E" name="GUID-CB167A20-2A94-4066-80CC-E5577698394E"></a><h4 id="JJDBC-GUID-CB167A20-2A94-4066-80CC-E5577698394E" class="sect4"><span class="enumeration_section">13.3.1</span>创建和使用自定义对象类概述</h4>
                  <div>
                     <p>如果你想创造<a id="d51198e727" class="indexterm-anchor"></a>你的自定义对象类<a id="d51198e732" class="indexterm-anchor"></a>在Oracle对象中，您必须在中定义条目<a id="d51198e737" class="indexterm-anchor"></a> type map，指定驱动程序为相应的Oracle对象实例化的自定义对象类。
                     </p>
                     <p>您还必须提供一种从Oracle对象及其属性数据创建和填充自定义对象类的实例的方法。驱动程序必须能够从自定义对象类读取并写入它。此外，自定义对象类可以提供<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>并<code class="codeph">set</code>与Oracle对象的属性对应的<span class="italic"><code class="codeph">XXX</code></span>方法，尽管这不是必需的。要创建和填充自定义类并提供这些读/写功能，您可以选择以下接口：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>JDBC标准<code class="codeph">SQLData</code>接口</p>
                        </li>
                        <li>
                           <p>Oracle提供的<code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口</p>
                        </li>
                     </ul>
                     <p>您创建的自定义对象类必须实现其中一个接口。<code class="codeph">OracleData</code>接口还可用于实现与自定义对象类对应的自定义引用类。但是，如果您使用的是<code class="codeph">SQLData</code>接口，那么您只能在Java中使用弱引用类型，例如<code class="codeph">java.sql.Ref</code>或<code class="codeph">oracle.sql.REF</code> 。 <code class="codeph">SQLData</code>接口仅用于映射SQL对象。
                     </p>
                     <p>例如，假设您在数据库中有一个Oracle对象类型<code class="codeph">EMPLOYEE</code> ，它包含两个属性： <code class="codeph">Name</code> ，它是<code class="codeph">CHAR</code>类型， <code class="codeph">EmpNum</code>是<code class="codeph">NUMBER</code>类型。您可以使用类型映射来指定<code class="codeph">EMPLOYEE</code>对象应映射到您调用<code class="codeph">JEmployee</code>的自定义对象类。您可以在<code class="codeph">JEmployee</code>类中实现<code class="codeph">SQLData</code>或<code class="codeph">OracleData</code>接口。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-object-types.html#GUID-E47B8141-3C4C-44D5-BB5C-2F8E16DF5140">对象类型继承</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28451"></a><a id="JJDBC28452"></a><a id="JJDBC28450"></a><div class="props_rev_3"><a id="GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3" name="GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3"></a><h4 id="JJDBC-GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3" class="sect4"><span class="enumeration_section">13.3.2</span> OracleData与SQLData的相对优势</h4>
                  <div>
                     <div class="section">
                        <p>在决定使用哪两个接口实现时，您需要考虑<code class="codeph">OracleData</code>和<code class="codeph">SQLData</code>的优点。
                        </p>
                        <p><code class="codeph">SQLData</code>接口仅用于映射SQL对象。<code class="codeph">OracleData</code>接口更加灵活，使您可以映射SQL对象以及要为其自定义处理的任何其他SQL类型。您可以从Oracle数据库中的任何数据类型创建<code class="codeph">OracleData</code>实现。例如，这对于在Java中序列化<code class="codeph">RAW</code>数据可能很有用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3__GUID-EEB125BD-14AC-4D41-B839-8F08EAAA21C8">OracleData接口的优点</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">OracleData</code>接口的优点是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它不需要Oracle对象的类型映射中的条目。</p>
                           </li>
                           <li>
                              <p>它具有Oracle扩展的意识。</p>
                           </li>
                           <li>
                              <p>您可以从<code class="codeph">oracle.sql.构造<code class="codeph">OracleData</code> <code class="codeph">oracle.sql.STRUCT</code> 。这样更有效，因为它避免了对本机Java类型的不必要的转换。
                              </p>
                           </li>
                           <li>
                              <p>您可以使用<code class="codeph">toJDBCObject</code>方法从<code class="codeph">OracleData</code>获取相应的JDBC对象。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-47ED704C-6F0C-485F-B6F0-56C65BC17CA3__GUID-0F39D4D3-FD8B-4496-8E33-8427DC9B44F1">SQLData的优点</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">SQLData</code>是一种使您的代码可移植的JDBC标准。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28453"></a><div class="props_rev_3"><a id="GUID-87716972-5BD5-4116-B706-DC8C13663342" name="GUID-87716972-5BD5-4116-B706-DC8C13663342"></a><h4 id="JJDBC-GUID-87716972-5BD5-4116-B706-DC8C13663342" class="sect4"><span class="enumeration_section">13.3.3</span>关于SQLData实现的类型映射</h4>
                  <div>
                     <div class="section">
                        <p>如果在自定义对象类中使用<code class="codeph">SQLData</code>接口，则必须创建类型映射条目，以指定在将Oracle对象类型映射到Java时使用的自定义对象类。您可以使用连接对象的默认类型映射，也可以使用从结果集中检索数据时指定的类型映射。<code class="codeph">ResultSet</code>接口的<code class="codeph">getObject</code>方法具有一个签名，允许您指定类型映射。您可以使用以下任一方法：</p><pre class="oac_no_warn" dir="ltr">rs.getObject（int columnIndex）; rs.getObject（int columnIndex，Map map）;</pre><p>使用SQLData实现时，如果未包含类型映射条目，则该对象将映射到<code class="codeph">oracle.jdbc.默认情况下为OracleStruct</code>接口。相比之下， <code class="codeph">OracleData</code>实现具有自己的映射功能，因此不需要类型映射条目。使用<code class="codeph">OracleData</code>实现时，请使用Oracle <code class="codeph">getObject(int columnindex, OracleDataFactory factory)</code>方法。
                        </p>
                        <p>类型映射将Java类与Oracle对象的SQL类型名称相关联。这种一对一映射作为关键字 - 值对存储在散列表中。从Oracle对象读取数据时，JDBC驱动程序会考虑类型映射以确定使用哪个Java类来实现Oracle对象类型中的数据。将数据写入Oracle对象时，JDBC驱动程序通过调用<code class="codeph">SQLData</code>接口的<code class="codeph">getSQLTypeName</code>方法从Java类获取SQL类型名称。SQL和Java之间的实际转换由驱动程序执行。
                        </p>
                        <p>与Oracle对象对应的Java类的属性可以使用Java本机类型或Oracle本机类型来存储属性。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-object-types.html#GUID-0128E185-086F-41CD-BECC-63A42EBB142C">关于为Oracle Objects创建和使用自定义对象类</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28454"></a><div class="props_rev_3"><a id="GUID-6C176486-2299-408A-86D7-29033E593210" name="GUID-6C176486-2299-408A-86D7-29033E593210"></a><h4 id="JJDBC-GUID-6C176486-2299-408A-86D7-29033E593210" class="sect4"><span class="enumeration_section">13.3.4</span>关于为SQLData实现创建类型映射和定义映射</h4>
                  <div>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-1F446706-91EA-4D67-9581-A0357DCCCFEC">创建类型映射和定义映射概述</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C">将条目添加到现有类型映射</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-23CF44E8-F757-4F03-9719-16309C9F95BA">创建新类型地图</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-BE6AD090-BB22-404F-8003-37D7187764C0">关于物化类型映射中未指定的对象类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1F446706-91EA-4D67-9581-A0357DCCCFEC" name="GUID-1F446706-91EA-4D67-9581-A0357DCCCFEC"></a><h5 id="JJDBC-GUID-1F446706-91EA-4D67-9581-A0357DCCCFEC" class="sect5"><span class="enumeration_section">13.3.4.1</span>创建类型映射和定义映射概述</h5>
                     <div>
                        <p>使用<code class="codeph">SQLData</code>实现时，JDBC应用程序程序员负责提供类型映射，该映射必须是实现标准<code class="codeph">java.util.的类的实例<code class="codeph">java.util.Map</code>界面。
                        </p>
                        <p>您可以选择创建自己的类来完成此任务，但标准<code class="codeph">java.util.Hashtable</code>类符合要求。
                        </p>
                        <p>用于类型映射的<code class="codeph">Hashtable</code>和其他类实现了一个<code class="codeph">put</code>方法，该方法将关键字 - 值对作为输入，其中每个键是完全限定的SQL类型名称，相应的值是指定Java类的实例。
                        </p>
                        <p>类型映射与连接实例相关联。标准的<code class="codeph">java.sql.Connection</code>接口和Oracle特定的<code class="codeph">oracle.jdbc.OracleConnection</code>接口包含<code class="codeph">getTypeMap</code>方法。两者都返回一个<code class="codeph">Map</code>对象。
                        </p>
                     </div>
                  </div><a id="JJDBC28455"></a><div class="props_rev_3"><a id="GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C" name="GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C"></a><h5 id="JJDBC-GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C" class="sect5"><span class="enumeration_section">13.3.4.2</span>在现有类型映射中添加条目</h5>
                     <div>
                        <div class="section">
                           <p>首次建立连接实例时，默认类型映射为空。你必须填充它。</p>
                           <p>执行以下操作<a id="d51198e1125" class="indexterm-anchor"></a>将条目添加到现有类型映射的一般步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">OracleConnection</code>对象的<code class="codeph">getTypeMap</code>方法返回连接的类型映射对象。<code class="codeph">getTypeMap</code>方法返回<code class="codeph">java.util.Map</code>对象。例如，假设一个<code class="codeph">OracleConnection</code>实例<code class="codeph">oraconn</code> ：</span><div><pre class="oac_no_warn" dir="ltr">java.util中。映射myMap = oraconn.getTypeMap（）;</pre><div class="infoboxnote" id="GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C__GUID-1DAA090E-3F81-40DC-B8BD-81E9CC7D32FD">
                                    <p class="notep1">注意：</p>
                                    <p>如果尚未初始化<code class="codeph">OracleConnection</code>实例中的类型映射，则第一次调用<code class="codeph">getTypeMap</code>将返回一个空映射。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用类型映射的<code class="codeph">put</code>方法添加映射条目。<code class="codeph">put</code>方法有两个参数：SQL类型名称字符串和要映射到的指定Java类的实例。</span><div><pre class="oac_no_warn" dir="ltr">myMap.put（ <span class="italic">sqlTypeName</span> ， <span class="italic">classObject</span> ）;</pre><p><span class="italic"><code class="codeph">sqlTypeName</code></span>是一个字符串，表示数据库中SQL类型的完全限定名称。<span class="italic"><code class="codeph">classObject</code></span>是要将SQL类型映射到的Java类对象。使用<code class="codeph">Class.forName</code>方法获取类对象，如下所示：</p><pre class="oac_no_warn" dir="ltr">myMap.put（ <span class="italic">sqlTypeName</span> ，Class.forName（ <span class="italic">className</span> ））;</pre><p>例如，如果您在<code class="codeph">CORPORATE</code>数据库模式中定义了<code class="codeph">PERSON</code> SQL数据类型，则将其映射到使用以下语句定义为<code class="codeph">Person</code>的<code class="codeph">Person</code> Java类：</p><pre class="oac_no_warn" dir="ltr">myMap.put（“CORPORATE.PERSON”，Class.forName（“Person”））; oraconn.setTypeMap（newMap）;</pre><p>该映射有一个条目，用于将<code class="codeph">CORPORATE</code>数据库中的<code class="codeph">PERSON</code> SQL数据类型映射到<code class="codeph">Person</code> Java类。
                                 </p>
                                 <div class="infoboxnote" id="GUID-BEC26079-81FA-4B26-B34D-40CA4EBD200C__GUID-2228FA7B-0430-4F75-A8E7-67D4487ED960">
                                    <p class="notep1">注意：</p>
                                    <p>类型映射中的SQL类型名称必须全部为大写，因为这是Oracle数据库存储SQL名称的方式。</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="JJDBC28456"></a><div class="props_rev_3"><a id="GUID-23CF44E8-F757-4F03-9719-16309C9F95BA" name="GUID-23CF44E8-F757-4F03-9719-16309C9F95BA"></a><h5 id="JJDBC-GUID-23CF44E8-F757-4F03-9719-16309C9F95BA" class="sect5"><span class="enumeration_section">13.3.4.3</span>创建新类型映射</h5>
                     <div>
                        <div class="section">
                           <p>演出<a id="d51198e1260" class="indexterm-anchor"></a>以下是创建新类型映射的一般步骤。此示例使用<code class="codeph">java.util.的实例<code class="codeph">java.util.Hashtable</code> ，扩展了<code class="codeph">java.util.Dictionary</code>和实现<code class="codeph">java.util.Map</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>创建一个新的类型映射对象。</span><div><pre class="oac_no_warn" dir="ltr">Hashtable newMap = new Hashtable（）;</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用类型映射对象的<code class="codeph">put</code>方法向条目添加条目。例如，如果你有一个<code class="codeph">EMPLOYEE</code>在定义的SQL类型<code class="codeph">CORPORATE</code>数据库，则可以将其映射到<code class="codeph">Employee</code>通过定义的类对象<code class="codeph">Employee.java</code> ，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">newMap.put（“CORPORATE.EMPLOYEE”，class.forName（“Employee”））;</pre></div>
                           </li>
                           <li class="stepexpand"><span>完成向地图添加条目后，必须使用<code class="codeph">OracleConnection</code>对象的<code class="codeph">setTypeMap</code>方法覆盖连接的现有类型映射。例如：</span><div><pre class="oac_no_warn" dir="ltr">oraconn.setTypeMap（newMap）;</pre><p>在这个例子中， <code class="codeph">setTypeMap</code>方法覆盖的原始地图<code class="codeph">oraconn</code>与连接对象<code class="codeph">newMap</code> 。
                                 </p>
                                 <div class="infoboxnote" id="GUID-23CF44E8-F757-4F03-9719-16309C9F95BA__GUID-6305D41E-7731-4A61-B3D5-C42DD64AC250">
                                    <p class="notep1">注意：</p>
                                    <p>当需要映射但未指定映射名称时，将使用连接实例的缺省类型映射，例如，对于未将映射指定为输入的结果集<code class="codeph">getObject</code>调用。
                                    </p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="JJDBC28457"></a><div class="props_rev_3"><a id="GUID-BE6AD090-BB22-404F-8003-37D7187764C0" name="GUID-BE6AD090-BB22-404F-8003-37D7187764C0"></a><h5 id="JJDBC-GUID-BE6AD090-BB22-404F-8003-37D7187764C0" class="sect5"><span class="enumeration_section">13.3.4.4</span>关于实现类型映射中未指定的实现对象类型</h5>
                     <div>
                        <div class="section">
                           <p>如果你不提供<a id="d51198e1356" class="indexterm-anchor"></a>使用<code class="codeph">getObject</code>调用时，使用适当的条目键入map，然后JDBC驱动程序将Oracle对象实现为<code class="codeph">oracle.jdbc.的实例<code class="codeph">oracle.jdbc.OracleStruct</code>接口。如果Oracle对象类型包含嵌入对象，并且它们不在类型映射中，则驱动程序将实现嵌入对象作为<code class="codeph">oracle.jdbc.实例<code class="codeph">oracle.jdbc.OracleStruct</code>也是如此。如果嵌入对象存在于类型映射中，则对<code class="codeph">getAttributes</code>方法的调用将返回嵌入对象作为类型映射中指定Java类的实例。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28462"></a><a id="JJDBC28463"></a><a id="JJDBC28464"></a><a id="JJDBC28465"></a><a id="JJDBC28461"></a><div class="props_rev_3"><a id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3" name="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3"></a><h4 id="JJDBC-GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3" class="sect4"><span class="enumeration_section">13.3.5</span>关于使用SQLData实现读取和写入数据</h4>
                  <div>
                     <p>本节介绍如果相应的Java类实现<code class="codeph">SQLData</code>如何从Oracle对象读取数据或将数据写入Oracle对象。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3__GUID-476CA319-2D38-4476-A1BF-F3AD10F02AF9">从结果集中读取SQLData对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下文字<a id="d51198e1410" class="indexterm-anchor"></a><a id="d51198e1414" class="indexterm-anchor"></a>总结了在为自定义对象类选择<code class="codeph">SQLData</code>实现时将数据从Oracle对象读取到Java应用程序的步骤。
                        </p>
                        <p>这些步骤假定您已经定义了Oracle对象类型，创建了相应的自定义对象类，更新了类型映射以定义Oracle对象和Java类之间的映射，并定义了语句对象<code class="codeph">stmt</code> 。
                        </p>
                        <ol>
                           <li>
                              <p>查询数据库以将Oracle对象读入JDBC结果集。</p><pre class="oac_no_warn" dir="ltr">ResultSet rs = stmt.executeQuery（“SELECT emp_col FROM personnel”）;</pre><p>该<code class="codeph">PERSONNEL</code>表中包含一列， <code class="codeph">EMP_COL</code> ，SQL类型的<code class="codeph">EMP_OBJECT</code> 。此类型的SQL类型在类型映射中定义，以映射到Java类<code class="codeph">Employee</code> 。
                              </p>
                           </li>
                           <li>
                              <p>使用Oracle结果集的<code class="codeph">getObject</code>方法，使用结果集的一行中的数据填充自定义对象类的实例。<code class="codeph">getObject</code>方法返回用户定义的<code class="codeph">SQLData</code>对象，因为类型映射包含<code class="codeph">Employee</code>的条目。
                              </p><pre class="oac_no_warn" dir="ltr">if（rs.next（））Employee emp =（Employee）rs.getObject（1）;</pre><p>请注意，如果类型映射没有该对象的条目，则<code class="codeph">getObject</code>方法将返回<code class="codeph">oracle.jdbc.OracleStruct</code>对象。将输出转换为类型<code class="codeph">OracleStruct</code>因为<code class="codeph">getObject</code>方法签名返回通用<code class="codeph">java.lang.Object</code>类型。
                              </p><pre class="oac_no_warn" dir="ltr">if（rs.next（））OracleStruct empstruct =（OracleStruct）rs.getObject（1）;</pre><p><code class="codeph">getObject</code>方法调用<code class="codeph">readSQL</code> ，而<code class="codeph">readSQL</code>又从<code class="codeph">SQLData</code>接口调用<code class="codeph">read</code> <span class="italic"><code class="codeph">XXX</code></span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3__GUID-30A3BF58-2340-431B-AEFC-75010D0648DF">
                                 <p class="notep1">注意：</p>
                                 <p>如果要避免使用已定义的类型映射，请使用<code class="codeph">getSTRUCT</code>方法。即使类型映射中存在映射条目，此方法也始终返回<code class="codeph">STRUCT</code>对象。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>如果已在自定义对象类中<code class="codeph">get</code>方法，则使用它们从对象属性中读取数据。例如，如果<code class="codeph">EMPLOYEE</code>具有属性<code class="codeph">EmpName</code>类型<code class="codeph">CHAR</code>和<code class="codeph">EmpNum</code>类型的<code class="codeph">NUMBER</code> ，然后提供一个<code class="codeph">getEmpName</code>返回的Java方法<code class="codeph">String</code>和一个<code class="codeph">getEmpNum</code>返回一个方法<code class="codeph">int</code>值。然后在Java应用程序中调用它们，如下所示：</p><pre class="oac_no_warn" dir="ltr">String empname = emp.getEmpName（）; int empnumber = emp.getEmpNum（）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3__GUID-1E26A487-4615-4918-BD0E-15ABA53237A2">从可调用语句OUT参数中检索SQLData对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>假设您有一个<code class="codeph">CallableStatement</code> PL / SQL函数<code class="codeph">GETEMPLOYEE</code>的<code class="codeph">CallableStatement</code>实例<code class="codeph">cs</code> 。该程序将员工编号传递给该功能。该函数返回相应的<code class="codeph">Employee</code>对象。要检索此对象，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>准备一个<code class="codeph">CallableStatement</code>来调用<code class="codeph">GETEMPLOYEE</code>函数，如下所示：</p><pre class="oac_no_warn" dir="ltr">CallableStatement ocs = conn.prepareCall（“{？=致电GETEMPLOYEE（？）}“）;</pre></li>
                           <li>
                              <p>声明<code class="codeph">empnumber</code>作为输入参数来<code class="codeph">GETEMPLOYEE</code> 。将<code class="codeph">SQLData</code>对象注册为<code class="codeph">OUT</code>参数，类型代码为<code class="codeph">OracleTypes.STRUCT</code> 。然后，运行该语句。这可以按如下方式完成：</p><pre class="oac_no_warn" dir="ltr">cs.setInt（2，empnumber）; cs.registerOutParameter（1，OracleTypes。STRUCT，“EMP_OBJECT”）; cs.execute（）;</pre></li>
                           <li>
                              <p>使用<code class="codeph">getObject</code>方法检索employee对象。
                              </p><pre class="oac_no_warn" dir="ltr">Employee emp =（Employee）cs.getObject（1）;</pre><p>如果没有类型映射条目，则<code class="codeph">getObject</code>方法将返回<code class="codeph">java.sql.Struct</code>对象。
                              </p><pre class="oac_no_warn" dir="ltr">Struct emp = cs.getObject（1）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3__GUID-9A998336-12A2-41F7-BFFD-5556D6626CF0">将SQLData对象作为IN参数传递给可调用语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>假设你有一个PL / SQL函数<code class="codeph">addEmployee(?)</code> 将<code class="codeph">Employee</code>对象作为<code class="codeph">IN</code>参数并将其添加到<code class="codeph">PERSONNEL</code>表。在此示例中， <code class="codeph">emp</code>是有效的<code class="codeph">Employee</code>对象。
                        </p>
                        <ol>
                           <li>
                              <p>准备一个<code class="codeph">CallableStatement</code>来调用<code class="codeph">addEmployee(?)</code> 功能。
                              </p><pre class="oac_no_warn" dir="ltr">CallableStatement cs = conn.prepareCall（“{call addEmployee（？）}“）;</pre></li>
                           <li>
                              <p>使用<code class="codeph">setObject</code>将<code class="codeph">emp</code>对象作为<code class="codeph">IN</code>参数传递给可调用语句。然后，调用该语句。
                              </p><pre class="oac_no_warn" dir="ltr">cs.setObject（1，emp）; cs.execute（）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D44496F-0CAA-4034-AF55-00B39DE4C6E3__GUID-5C497F9F-D471-4D32-B0B3-F5688A8A2756">使用SQLData实现将数据写入Oracle对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d51198e1670" class="indexterm-anchor"></a><a id="d51198e1674" class="indexterm-anchor"></a>下面的文本描述了在为自定义对象类选择<code class="codeph">SQLData</code>实现时，从Java应用程序向Oracle对象写入数据的步骤。
                        </p>
                        <p>此描述假定您已经定义了Oracle对象类型，创建了相应的Java类，并更新了类型映射以定义Oracle对象和Java类之间的映射。</p>
                        <ol>
                           <li>
                              <p>如果在自定义对象类中<code class="codeph">set</code>方法，则使用它们将应用程序中Java变量的数据写入Java数据类型对象的属性。
                              </p><pre class="oac_no_warn" dir="ltr">emp.setEmpName（empname）; emp.setEmpNum（empnumber）;</pre></li>
                           <li>
                              <p>使用Java数据类型对象中提供的数据，根据需要准备一个更新数据库表行中的Oracle对象的语句。</p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“INSERT INTO PERSONNEL VALUES（？）“）;</pre></li>
                           <li>
                              <p>使用<code class="codeph">setObject</code>准备语句的<code class="codeph">setObject</code>方法将Java数据类型对象绑定到<code class="codeph">setObject</code>准备语句。
                              </p><pre class="oac_no_warn" dir="ltr">pstmt.setObject（1，emp）;</pre></li>
                           <li>
                              <p>运行更新数据库的语句。</p><pre class="oac_no_warn" dir="ltr">pstmt.executeUpdate（）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28467"></a><a id="JJDBC28468"></a><a id="JJDBC28466"></a><div class="props_rev_3"><a id="GUID-EEF1A8CA-354D-430B-9153-171849DE2525" name="GUID-EEF1A8CA-354D-430B-9153-171849DE2525"></a><h4 id="JJDBC-GUID-EEF1A8CA-354D-430B-9153-171849DE2525" class="sect4"><span class="enumeration_section">13.3.6</span>关于OracleData接口</h4>
                  <div>
                     <p>您可以创建实现<code class="codeph">oracle.jdbc.的自定义对象类<code class="codeph">oracle.jdbc.OracleData</code>和<code class="codeph">oracle.jdbc.OracleDataFactory</code>接口使Oracle对象及其属性数据可供Java应用程序使用。<code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口是特定于Oracle的，并不是JDBC标准的一部分。
                     </p>
                     <div class="infoboxnote" id="GUID-EEF1A8CA-354D-430B-9153-171849DE2525__GUID-3C9EAAEC-E81B-4A09-A970-B2894875ED1D">
                        <p class="notep1">注意：</p>
                        <p>从Oracle数据库12开始<span class="italic">c</span>解除1（12.1），所述<code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口更换<code class="codeph">ORAData</code>和<code class="codeph">ORADataFactory</code>接口。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-EEF1A8CA-354D-430B-9153-171849DE2525__GUID-21969CFF-8F45-4625-87B6-57E4CB97DFCC">了解OracleData接口功能</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">OracleData</code>接口具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它支持标准JDBC类型的Oracle扩展。</p>
                           </li>
                           <li>
                              <p>它不需要类型映射来指定要创建的Java自定义类的名称。</p>
                           </li>
                           <li>
                              <p>它提供了更好的性能。<code class="codeph">OracleData</code>直接与<code class="codeph">Datum</code>类型一起工作， <code class="codeph">Datum</code>类型是驱动程序用于保存Oracle对象的内部格式。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OracleData</code>类的<code class="codeph">toJDBCObject</code>方法将数据转换为<code class="codeph">oracle.jdbc.*</code>表示。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleDataFactory</code>指定一个等效于自定义对象类的构造函数的<code class="codeph">create</code>方法。它创建并返回一个<code class="codeph">OracleData</code>实例。JDBC驱动程序使用<code class="codeph">create</code>方法将自定义对象类的实例返回给Java应用程序。它需要<code class="codeph">java.lang.作为输入<code class="codeph">java.lang.Object</code>对象和一个整数，指示<code class="codeph">OracleTypes</code>类中指定的相应SQL类型代码。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>具有以下定义：</p><pre class="oac_no_warn" dir="ltr">包oracle.jdbc; import java.sql。连接; import java.sql。的SQLException;公共接口OracleData {public Object toJDBCObject（Connection conn）抛出SQLException; }</pre><pre class="oac_no_warn" dir="ltr">包oracle.jdbc; import java.sql。的SQLException;公共接口OracleDataFactory {public OracleData create（Object jdbcValue，int sqlType）抛出SQLException; }</pre><p>其中<span class="italic"><code class="codeph">conn</code></span>表示Connection对象， <span class="italic"><code class="codeph">jdbcValue</code></span>表示<code class="codeph">java.lang.object</code>类型的对象，该对象用于初始化正在创建的Object， <span class="italic"><code class="codeph">sqlType</code></span>表示指定的<code class="codeph">Datum</code>对象的SQL类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEF1A8CA-354D-430B-9153-171849DE2525__GUID-4EE2EDCE-2552-44B5-8FE7-9883B853807F">检索和插入对象数据</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>JDBC驱动程序提供以下方法来检索和插入作为<code class="codeph">OracleData</code>实例的对象数据。
                        </p>
                        <p>您可以通过以下方式之一检索对象数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用Oracle特定的<code class="codeph">OracleResultSet</code>接口的以下<code class="codeph">getObject</code>方法：</p><pre class="oac_no_warn" dir="ltr">ors.getObject（int col_index，OracleDataFactory factory）;</pre><p>此方法将结果集中数据的列索引和<code class="codeph">OracleDataFactory</code>实例作为输入。例如，您可以在自定义对象类中实现<code class="codeph">getOracleDataFactory</code>方法，以生成要输入到<code class="codeph">getObject</code>方法的<code class="codeph">OracleDataFactory</code>实例。使用实现<code class="codeph">OracleData</code> Java类时，不需要类型映射。
                              </p>
                           </li>
                           <li>
                              <p>使用标准<a id="d51198e1908" class="indexterm-anchor"></a>由<code class="codeph">ResultSet</code>接口指定的<code class="codeph">getObject(</code> <span class="italic"><code class="codeph">index</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">map</code></span> <code class="codeph">)</code>方法，用于检索作为<code class="codeph">OracleData</code>实例的数据。在这种情况下，您必须在类型映射中有一个条目，用于标识要用于给定对象类型的工厂类及其对应的SQL类型名称。
                              </p>
                           </li>
                        </ul>
                        <p>您可以通过以下方式之一插入对象数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用Oracle特定的<code class="codeph">OraclePreparedStatement</code>类的以下<code class="codeph">setObject</code>方法：</p><pre class="oac_no_warn" dir="ltr">setObject（int bind_index，Object custom_object）;</pre><p>此方法将绑定变量的参数索引和<code class="codeph">OracleData</code>的实例作为输入，作为包含变量的对象的名称。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">PreparedStatement</code>接口指定的标准<code class="codeph">setObject</code>方法。您还可以使用此方法以不同的形式插入<code class="codeph">OracleData</code>实例，而无需类型映射。
                              </p>
                           </li>
                        </ul>
                        <p>以下部分描述了<code class="codeph">getObject</code>和<code class="codeph">setObject</code>方法。
                        </p>
                        <p>要继续Oracle对象<code class="codeph">EMPLOYEE</code>的示例，您可能在Java应用程序中具有以下内容：</p><pre class="oac_no_warn" dir="ltr">OracleData obj = ors.getObject（1，Employee.getOracleDataFactory（））;</pre><p>在此示例中， <code class="codeph">ors</code>是<code class="codeph">OracleResultSet</code>接口的实例， <code class="codeph">getObject</code>是<code class="codeph">OracleResultSet</code>接口中用于检索<code class="codeph">OracleData</code>对象的方法，而<code class="codeph">EMPLOYEE</code>位于结果集的第1列中。<code class="codeph">static</code> <code class="codeph">Employee.getOracleDataFactory</code>方法将<code class="codeph">OracleDataFactory</code>返回给JDBC驱动程序。JDBC驱动程序将从此对象调用<code class="codeph">create(</code> ），并向您的Java应用程序返回一个<code class="codeph">Employee</code>类的实例，该类填充了结果集中的数据。
                        </p>
                        <div class="infoboxnote" id="GUID-EEF1A8CA-354D-430B-9153-171849DE2525__GUID-11BBA304-16B0-4DBA-B0D6-9ABA2B24703E">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>被定义为单独的接口，以便不同的Java类可以根据需要实现它们。
                                 </p>
                              </li>
                              <li>
                                 <p>要使用<code class="codeph">OracleData</code>接口，您的自定义对象类必须导入<code class="codeph">oracle.jdbc.*</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28470"></a><a id="JJDBC28471"></a><a id="JJDBC28469"></a><div class="props_rev_3"><a id="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7" name="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7"></a><h4 id="JJDBC-GUID-7E84EDB6-A403-475D-875B-CAA151436AF7" class="sect4"><span class="enumeration_section">13.3.7</span>关于使用OracleData实现读取和写入数据</h4>
                  <div>
                     <p>本节介绍如果相应的Java类实现<code class="codeph">OracleData</code>如何从Oracle对象读取数据或将数据写入Oracle对象。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7__GUID-B657E514-694F-49A2-BB60-18F520429B82">使用OracleData实现从Oracle对象读取数据</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下文字<a id="d51198e2067" class="indexterm-anchor"></a>总结了从Oracle对象读取数据到Java应用程序的步骤。无论是手动实现<code class="codeph">OracleData</code>还是使用Oracle JVM Web服务调用实用程序来生成自定义对象类，这些步骤都适用。
                        </p>
                        <p>这些步骤假定您已经定义了Oracle对象类型，创建了相应的自定义对象类，或者让Oracle JVM Web服务调用实用程序为您创建了它，并定义了语句对象<code class="codeph">stmt</code> 。
                        </p>
                        <ol>
                           <li>
                              <p>查询数据库以将Oracle对象读入结果集，并将其转换为Oracle结果集。</p><pre class="oac_no_warn" dir="ltr">OracleResultSet ors =（OracleResultSet）stmt.executeQuery（“SELECT Emp_col FROM PERSONNEL”）;</pre><p><code class="codeph">PERSONNEL</code>是一列表。列名是<code class="codeph">Emp_col</code>型<code class="codeph">Employee_object</code> 。
                              </p>
                           </li>
                           <li>
                              <p>使用Oracle结果集的<code class="codeph">getObject</code>方法，使用结果集的一行中的数据填充自定义对象类的实例。<code class="codeph">getObject</code>方法返回<code class="codeph">java.lang.Object</code>对象，可以转换为特定的自定义对象类。
                              </p><pre class="oac_no_warn" dir="ltr">if（ors.next（））Employee emp =（Employee）ors.getObject（1，Employee.getOracleDataFactory（））;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">if（ors.next（））Object obj = ors.getObject（1，Employee.getOracleDataFactory（））;</pre><p>此示例假定<code class="codeph">Employee</code>是自定义对象类的名称， <code class="codeph">ors</code>是<code class="codeph">OracleResultSet</code>实例的名称。
                              </p>
                              <p>例如，如果对象的SQL类型名称是<code class="codeph">EMPLOYEE</code> ，那么相应的Java类是<code class="codeph">Employee</code> ，它将实现<code class="codeph">OracleData</code> 。相应的Factory类是<code class="codeph">EmployeeFactory</code> ，它将实现<code class="codeph">OracleDataFactory</code> 。
                              </p>
                              <p>使用此语句为类型映射声明<code class="codeph">EmployeeFactory</code>条目：</p><pre class="oac_no_warn" dir="ltr">map.put（“EMPLOYEE”，Class.forName（“EmployeeFactory”））;</pre><p>然后使用<code class="codeph">getObject</code>的形式指定地图对象：</p><pre class="oac_no_warn" dir="ltr">Employee emp =（Employee）rs.getObject（1，map）;</pre><p>如果连接的默认类型映射已有一个条目，该条目标识要用于给定对象类型的工厂类及其对应的SQL类型名称，则可以使用此形式的<code class="codeph">getObject</code> ：</p><pre class="oac_no_warn" dir="ltr">Employee emp =（Employee）rs.getObject（1）;</pre></li>
                           <li>
                              <p>如果已在自定义对象类中<code class="codeph">get</code>方法，则使用它们将对象属性中的数据读取到应用程序中的Java变量中。例如，如果<code class="codeph">EMPLOYEE</code>具有<code class="codeph">EmpName</code>类型<code class="codeph">CHAR</code>和<code class="codeph">EmpNum</code>类型的<code class="codeph">NUMBER</code> ，提供一种<code class="codeph">getEmpName</code>返回的Java方法<code class="codeph">String</code>和一个<code class="codeph">getEmpNum</code>返回一个整数方法。然后在Java应用程序中调用它们，如下所示：</p><pre class="oac_no_warn" dir="ltr">String empname = emp.getEmpName（）; int empnumber = emp.getEmpNum（）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7__GUID-622829E2-D65F-4312-AABD-83CB892CE5BF">使用OracleData实现将数据写入Oracle对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下文字<a id="d51198e2204" class="indexterm-anchor"></a>总结了从Java应用程序向Oracle对象写入数据的步骤。无论是手动实现<code class="codeph">OracleData</code>还是使用Oracle JVM Web服务调用实用程序来生成自定义对象类，这些步骤都适用。
                        </p>
                        <p>这些步骤假定您已经定义了Oracle对象类型并创建了相应的自定义对象类。</p>
                        <div class="infoboxnote" id="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7__GUID-B881DFAC-F842-49EB-B4AE-EB2A8C6178A1">
                           <p class="notep1">注意：</p>
                           <p>执行数据库<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作时不使用类型映射。
                           </p>
                        </div>
                        <ol>
                           <li>
                              <p>如果在自定义对象类中<code class="codeph">set</code>方法，则使用它们将应用程序中Java变量的数据写入Java数据类型对象的属性。
                              </p><pre class="oac_no_warn" dir="ltr">emp.setEmpName（empname）; emp.setEmpNum（empnumber）;</pre></li>
                           <li>
                              <p>编写Oracle预准备语句，使用Java数据类型对象中提供的数据，根据需要更新数据库表行中的Oracle对象。</p><pre class="oac_no_warn" dir="ltr">OraclePreparedStatement opstmt = conn.prepareStatement（“UPDATE PERSONNEL SET Employee =？在哪里员工。EmpNum = 28959）;</pre><p>假设<code class="codeph">conn</code>是您的<code class="codeph">Connection</code>对象。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">OraclePreparedStatement</code>接口的<code class="codeph">setObject</code>方法将Java数据类型对象绑定到<code class="codeph">OraclePreparedStatement</code>准备语句。
                              </p><pre class="oac_no_warn" dir="ltr">opstmt.setObject（1，EMP）;</pre><p><code class="codeph">setObject</code>方法调用自定义对象类实例的<code class="codeph">toJDBCObject</code>方法来检索<code class="codeph">oracle.jdbc.可以写入数据库的OracleStruct</code>对象。
                              </p>
                              <div class="infoboxnote" id="GUID-7E84EDB6-A403-475D-875B-CAA151436AF7__GUID-CC5F882D-298E-40B1-8FC7-A1FB1F17F07A">
                                 <p class="notep1">注意：</p>
                                 <p>您可以将Java数据类型对象用作<code class="codeph">IN</code>或<code class="codeph">OUT</code>绑定变量。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28472"></a><div class="props_rev_3"><a id="GUID-1CC46DF9-95F1-4892-8C25-9B3BBD36CFFF" name="GUID-1CC46DF9-95F1-4892-8C25-9B3BBD36CFFF"></a><h4 id="JJDBC-GUID-1CC46DF9-95F1-4892-8C25-9B3BBD36CFFF" class="sect4"><span class="enumeration_section">13.3.8</span> OracleData的其他用途</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">OracleData</code>接口提供比<code class="codeph">SQLData</code>接口更多的灵活性。<code class="codeph">SQLData</code>接口旨在让您自定义仅将Oracle对象类型映射到您选择的Java类型。实现<code class="codeph">SQLData</code>接口允许JDBC驱动程序从原始SQL对象数据填充自定义Java类实例的字段，反之，在Java和SQL类型之间执行适当的转换后。
                        </p>
                        <p><code class="codeph">OracleData</code>接口不仅支持将Oracle对象类型自定义为Java类型。它允许您提供Java对象类型与<code class="codeph">oracle.sql</code>包支持的<span class="italic">任何</span> SQL类型之间的映射。
                        </p>
                        <p>您可能会发现提供自定义Java类来包装<code class="codeph">oracle.sql.*</code>类型，然后实现自定义转换或功能也很有用。以下是一些可能的情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>执行加密和解密或数据验证</p>
                           </li>
                           <li>
                              <p>执行已读取或正在写入的值的记录</p>
                           </li>
                           <li>
                              <p>将字符列（例如包含URL信息的字符字段）解析为较小的组件</p>
                           </li>
                           <li>
                              <p>将字符串映射到数字常量</p>
                           </li>
                           <li>
                              <p>将数据转换为更理想的Java格式，例如将<code class="codeph">DATE</code>字段映射到<code class="codeph">java.util.Date</code>格式</p>
                           </li>
                           <li>
                              <p>自定义数据表示，例如，表格列中的数据以英尺为单位，但您希望在选择后以米为单位表示</p>
                           </li>
                           <li>
                              <p>序列化和反序列化Java对象</p>
                           </li>
                        </ul>
                        <p>例如，使用<code class="codeph">OracleData</code>在SQL类型<code class="codeph">RAW</code>列中存储与数据库中的特定SQL对象类型不对应的Java对象的实例。 <code class="codeph">OracleDataFactory</code>的<code class="codeph">create</code>方法必须实现从<code class="codeph">oracle.sql.类型的对象转换<code class="codeph">oracle.sql.RAW</code>到所需的Java对象。<code class="codeph">OracleData</code>的<code class="codeph">toJDBCObject</code>方法必须实现从Java对象到<code class="codeph">oracle.sql.的转换<code class="codeph">oracle.sql.RAW</code>对象。您也可以使用Java序列化来实现此目的。
                        </p>
                        <p>检索后，JDBC驱动程序以<code class="codeph">oracle.sql.的形式透明地检索数据的原始字节<code class="codeph">oracle.sql.RAW</code>并调用<code class="codeph">OracleDataFactory</code>的<code class="codeph">create</code>方法来转换<code class="codeph">oracle.sql.RAW</code>对象到所需的Java类。
                        </p>
                        <p>将Java对象插入数据库时，只需将其绑定到<code class="codeph">RAW</code>类型的列即可存储它。驱动程序透明地调用<code class="codeph">OracleData</code> 。 <code class="codeph">toJDBCObject</code>方法将Java对象转换为<code class="codeph">oracle.sql.RAW</code>对象。然后将该对象存储在数据库中<code class="codeph">RAW</code>类型的列中。
                        </p>
                        <p>对<code class="codeph">OracleData</code>接口的支持也非常高效，因为转换旨在使用<code class="codeph">oracle.sql.*</code>格式，这些格式恰好是JDBC驱动程序使用的内部格式。此外，在使用实现<code class="codeph">OracleData</code> Java类时，不需要<code class="codeph">SQLData</code>接口所必需的类型映射。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-object-types.html#GUID-EEF1A8CA-354D-430B-9153-171849DE2525">关于OracleData接口</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JJDBC28474"></a><div class="props_rev_3"><a id="GUID-E47B8141-3C4C-44D5-BB5C-2F8E16DF5140" name="GUID-E47B8141-3C4C-44D5-BB5C-2F8E16DF5140"></a><h3 id="JJDBC-GUID-E47B8141-3C4C-44D5-BB5C-2F8E16DF5140" class="sect3"><span class="enumeration_section">13.4</span>对象类型继承</h3>
               <div>
                  <p>对象类型继承允许通过扩展另一个对象类型来创建新的对象类型。然后，新对象类型是其扩展的对象类型的子类型。子类型自动继承超类型中定义的所有属性和方法。子类型可以添加属性和方法，并重载或覆盖从超类型继承的方法。</p>
                  <p>对象类型继承引入了<span class="bold">可替代性</span> 。可替代性声明的槽的保持类型的值的能力<code class="codeph">T</code>除了类型的任何亚型<code class="codeph">T</code> 。 Oracle JDBC驱动程序透明地处理可替代性。
                  </p>
                  <p>返回具有最特定类型的数据库对象，而不会丢失信息。例如，如果<code class="codeph">STUDENT_T</code>对象存储在<code class="codeph">PERSON_T</code>插槽中，则Oracle JDBC驱动程序将返回表示<code class="codeph">STUDENT_T</code>对象的Java对象。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE">关于创建子类型</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-21A782F4-5EA3-42E0-8201-2636B97516C2">关于为子类型实现自定义类</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0">关于检索子类型对象</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-EDEEF48A-DBEE-484D-BC65-577DD9665ACA">创建子类型对象</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-B7A9E9B9-ED8B-4EBA-94F1-C048876DB314">发送子类型对象</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2">访问子类型数据字段</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-object-types.html#GUID-E0C046C2-4F00-49EB-89B8-D2C147C5C75F">继承元数据方法</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC29174"></a><a id="JJDBC28475"></a><div class="props_rev_3"><a id="GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE" name="GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE"></a><h4 id="JJDBC-GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE" class="sect4"><span class="enumeration_section">13.4.1</span>关于创建子类型</h4>
                  <div>
                     <p>如果要使Java类明确对应于Oracle对象类型，请创建自定义对象类。如果您有对象类型的层次结构，则可能需要相应的Java类层次结构。</p>
                     <p>在JDBC中创建数据库子类型的最常用方法是使用<code class="codeph">java.sql.的<code class="codeph">execute</code>方法运行SQL <code class="codeph">CREATE TYPE</code>命令<code class="codeph">java.sql.Statement</code>界面。例如，您要创建一个类型继承层次结构，如下图所示：</p>
                     <div class="figure" id="GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE__BCEDBDFC">
                        <p class="titleinfigure">图13-1类型继承层次结构</p><img src="img/hierarchy.gif" alt="下面是图13-1的描述" title="下面是图13-1的描述" longdesc="img_text/hierarchy.html"><br><a href="img_text/hierarchy.html">“图13-1类型继承层次结构”的描述</a></div>
                     <!-- class="figure" -->
                     <p>这个的JDBC代码如下：</p><pre class="oac_no_warn" dir="ltr">Statement s = conn.createStatement（）; s.execute（“CREATE TYPE Person_T（SSN NUMBER，名称VARCHAR2（30），地址VARCHAR2（255））”）; s.execute（“CREATE TYPE Student_T UNDER Person_t（deptid NUMBER，major VARCHAR2（100））”）; s.execute（“CREATE TYPE PartTimeStudent_t UNDER Student_t（numHours NUMBER）”）;</pre><p>在下面的代码中，类型<code class="codeph">ST</code>的<code class="codeph">foo</code>成员过程被重载，成员过程<code class="codeph">print</code>覆盖它从类型<code class="codeph">T</code>继承的副本。</p><pre class="oac_no_warn" dir="ltr">创建类型T作为对象（...，成员程序foo（x NUMBER），成员程序打印（），...不是最终的;在T下创建类型ST（...，成员程序foo（x日期），&lt; - 重载“foo”覆盖成员程序打印（），&lt; - 覆盖“打印”静态功能栏（...）......）;</pre><p>一旦创建了子类型，它们就可以用作基表的两列以及对象类型的属性。</p>
                     <div class="infoboxnotealso" id="GUID-27F2FE6B-DA9A-4551-94EF-EDEAC5CBD6FE__GUID-678DBA14-0836-48A2-A65F-8BF46E46A64D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adobj/inheritance-in-sql-object-types.html#ADOBJ-GUID-D6D92FB6-7BC4-4EE6-A9EC-BC69C5BA5A56" target="_blank"><span><cite>Oracle数据库对象关系开发人员指南</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="JJDBC28476"></a><div class="props_rev_3"><a id="GUID-21A782F4-5EA3-42E0-8201-2636B97516C2" name="GUID-21A782F4-5EA3-42E0-8201-2636B97516C2"></a><h4 id="JJDBC-GUID-21A782F4-5EA3-42E0-8201-2636B97516C2" class="sect4"><span class="enumeration_section">13.4.2</span>关于为子类型实现自定义类</h4>
                  <div>
                     <p>在大多数情况下，自定义Java类表示数据库对象类型。为子类型创建自定义Java类时，Java类可以镜像数据库对象类型层次结构。</p>
                     <p>您可以使用<code class="codeph">OracleData</code>或<code class="codeph">SQLData</code>解决方案创建类以映射到对象类型的层次结构。
                     </p>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8">关于将OracleData用于类型继承层次结构</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B">关于使用SQLData进行类型继承层次结构</a></p>
                        </li>
                     </ul>
                  </div><a id="JJDBC28478"></a><a id="JJDBC28479"></a><a id="JJDBC28480"></a><a id="JJDBC28477"></a><div class="props_rev_3"><a id="GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8" name="GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8"></a><h5 id="JJDBC-GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8" class="sect5"><span class="enumeration_section">13.4.2.1</span>关于使用OracleData进行类型继承层次结构</h5>
                     <div>
                        <p>Oracle建议使用自定义映射，其中Java类实现<code class="codeph">oracle.sql.OracleData</code>接口。<code class="codeph">OracleData</code>映射要求JDBC应用程序实现<code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口。实现<code class="codeph">OracleDataFactory</code>接口的类包含一个生成对象的工厂方法。每个对象代表一个数据库对象。
                        </p>
                        <p>实现<code class="codeph">OracleData</code>接口的类的层次结构可以镜像数据库对象类型层次结构。例如，映射到<code class="codeph">PERSON_T</code>和<code class="codeph">STUDENT_T</code>的Java类如下：</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8__GUID-895805D9-7E10-4541-8C36-4A63263264A5">Person.java使用OracleData</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>实现<code class="codeph">OracleData</code>和<code class="codeph">OracleDataFactory</code>接口的<code class="codeph">Person.java</code>类的代码：</p><pre class="oac_no_warn" dir="ltr">public static OracleDataFactory getOracleDataFactory（）{return _personFactory; public Person（）{} public Person（NUMBER ssn，CHAR name，CHAR address）{this.ssn = ssn; this.name = name; this.address =地址; public Object toJDBCObject（OracleConnection c）抛出SQLException {Object [] attributes = {ssn，name，address}; Struct struct = c.createStruct（“HR.PERSON_T”，属性）;返回结构; public OracleData create（Object jdbcValue，int sqlType）抛出SQLException {if（d == null）返回null; Object [] attributes =（（STRUCT）d）.getOracleAttributes（）;返回new Person（（NUMBER）属性[0]，（CHAR）属性[1]，（CHAR）属性[2]）; }}</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8__GUID-A6BFBF89-1F2F-4B90-B2D9-B5DC48709AD1">Student.java扩展Person.java</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">Student.java</code>类的代码，它扩展了<code class="codeph">Person.java</code>类：</p><pre class="oac_no_warn" dir="ltr">class Student extends Person {static final Student _studentFactory = new Student（）;公共号码;公共CHAR专业; public static OracleDataFactory getOracleDataFactory（）{return _studentFactory; public Student（）{} public Student（NUMBER ssn，CHAR name，CHAR address，NUMBER deptid，CHAR major）{super（ssn，name，address）; this.deptid = deptid; this.major = major; public Object toJDBCObject（OracleConnection c）抛出SQLException {Object [] attributes = {ssn，name，address，deptid，major}; Struct struct = c.createStruct（“HR.STUDENT_T”，attributes）;返回结构; public OracleData create（Object jdbcValue，int sqlType）抛出SQLException {if（d == null）返回null; Object [] attributes =（（STRUCT）d）.getOracleAttributes（）;返回new Student（（NUMBER）属性[0]，（CHAR）属性[1]，（CHAR）属性[2]，（NUMBER）属性[3]，（CHAR）属性[4]）; }}</pre><p>实现<code class="codeph">OracleData</code>接口的自定义类不必镜像数据库对象类型层次结构。例如，您可以在没有超类的情况下声明<code class="codeph">Student</code>类。在这种情况下， <code class="codeph">Student</code>将包含用于保存<code class="codeph">PERSON_T</code>的继承属性的字段以及<code class="codeph">STUDENT_T</code>声明的属性。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EF78FF64-5B65-42F7-97B0-5CF233BF9DC8__GUID-08E47E90-F85E-4424-BAF1-2860676E801C">OracleDataFactory实现</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>JDBC应用程序使用工厂类查询数据库以返回<code class="codeph">Person</code>或其子类的实例，如下例所示：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从tab1中选择人员”）; while（rset.next（））{rset.getOracleData（1，Person.getOracleDataFactory（））; ...}</pre><p>实现<code class="codeph">OracleDataFactory</code>接口的类应该能够生成关联的自定义对象类型的实例，以及任何子类型的实例，或者至少是您希望支持的所有类型的实例。
                           </p>
                           <p>在以下示例中， <code class="codeph">PersonFactory.getOracleDataFactory</code>方法返回一个工厂，该工厂可以通过返回<code class="codeph">person</code> ， <code class="codeph">student</code>或<code class="codeph">parttimestudent</code> Java实例来处理<code class="codeph">PERSON_T</code> ， <code class="codeph">STUDENT_T</code>和<code class="codeph">PARTTIMESTUDENT_T</code>对象。
                           </p><pre class="oac_no_warn" dir="ltr">class PersonFactory实现OracleDataFactory {static final PersonFactory _factory = new PersonFactory（）; public static OracleDataFactory getOracleDataFactory（）{return _factory; public OracleData create（Object jdbcValue，int sqlType）抛出SQLException {STRUCT s =（STRUCT）jdbcValue; if（s.getSQLTypeName（）。equals（“HR.PERSON_T”））返回Person.getOracleDataFactory（）。create（jdbcValue，sqlType）; else if（s.getSQLTypeName（）。equals（“HR.STUDENT_T”））return Student.getOracleDataFactory（）。create（jdbcValue，sqlType）; else if（s.getSQLTypeName（）。equals（“HR.PARTTIMESTUDENT_T”））返回ParttimeStudent.getOracleDataFactory（）。create（jdbcValue，sqlType）; else返回null; }}</pre><p>以下示例假定表<code class="codeph">tabl1</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE tabl1（idx NUMBER，person PERSON_T）; INSERT INTO tabl1 VALUES（1，PERSON_T（1000，'HR'，'100 Oracle Parkway'））; INSERT INTO tabl1 VALUES（2，STUDENT_T（1001，'Peter'，'200 Oracle Parkway'，101，'CS'））; INSERT INTO tabl1 VALUES（3，PARTTIMESTUDENT_T（1002，'David'，'300 Oracle Parkway'，102，'EE'））;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28482"></a><a id="JJDBC28483"></a><a id="JJDBC28484"></a><a id="JJDBC28481"></a><div class="props_rev_3"><a id="GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B" name="GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B"></a><h5 id="JJDBC-GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B" class="sect5"><span class="enumeration_section">13.4.2.2</span>关于使用<span class="enumeration_section">SQLData</span>进行类型继承层次结构</h5>
                     <div>
                        <p>实现<code class="codeph">java.sql.的自定义类<code class="codeph">java.sql.SQLData</code>接口可以镜像数据库对象类型层次结构。子类的<code class="codeph">readSQL</code>和<code class="codeph">writeSQL</code>方法通常在读取或写入子类属性之前调用相应的超类方法来读取或写入超类属性。例如，映射到<code class="codeph">PERSON_T</code>和<code class="codeph">STUDENT_T</code>的Java类如下：</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B__GUID-AD3DE26D-3E19-4639-B695-79590722E8A3">Person.java使用SQLData</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">Person.java</code>类的代码，它实现了<code class="codeph">SQLData</code>接口：</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; public class Person实现SQLData {private String sql_type; public int ssn; public String name; public String address; public Person（）{} public String getSQLTypeName（）throws SQLException {return sql_type; public void readSQL（SQLInput stream，String typeName）抛出SQLException {sql_type = typeName; ssn = stream.readInt（）; name = stream.readString（）; address = stream.readString（）; public void writeSQL（SQLOutput stream）抛出SQLException {stream.writeInt（ssn）; stream.writeString（name）; stream.writeString（address）; }}</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B__GUID-66BB23E1-9228-4ED2-B020-4FBBE13A36A9">Student.java扩展了Student.java</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">Student.java</code>类的代码，它扩展了<code class="codeph">Person.java</code>类：</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; public class Student extends Person {private String sql_type; public int deptid; public String major; public Student（）{super（）; public String getSQLTypeName（）抛出SQLException {return sql_type; public void readSQL（SQLInput stream，String typeName）抛出SQLException {super.readSQL（stream，typeName）; //读取超类型属性sql_type = typeName; deptid = stream.readInt（）; major = stream.readString（）; public void writeSQL（SQLOutput stream）抛出SQLException {super.writeSQL（stream）; //写supertype //属性stream.writeInt（deptid）; stream.writeString（major）; }}</pre><p>虽然不是必需的，但建议实现<code class="codeph">SQLData</code>接口的自定义类镜像数据库对象类型层次结构。例如，您可以在没有超类的情况下声明<code class="codeph">Student</code>类。在这种情况下， <code class="codeph">Student</code>将包含用于保存<code class="codeph">PERSON_T</code>的继承属性的字段以及<code class="codeph">STUDENT_T</code>声明的属性。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-26AC0C12-D473-4957-A9B1-D64DFD0EC71B__GUID-EE80B9FE-3B3D-4194-A3EA-C1240387D7B1">Student.java使用SQLData</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">Student.java</code>类的代码，它不扩展<code class="codeph">Person.java</code>类，但直接实现SQLData接口：</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; public class Student实现SQLData {private String sql_type; public int ssn; public String name; public String address; public int deptid; public String major; public Student（）{} public String getSQLTypeName（）throws SQLException {return sql_type; public void readSQL（SQLInput stream，String typeName）抛出SQLException {sql_type = typeName; ssn = stream.readInt（）; name = stream.readString（）; address = stream.readString（）; deptid = stream.readInt（）; major = stream.readString（）; public void writeSQL（SQLOutput stream）抛出SQLException {stream.writeInt（ssn）; stream.writeString（name）; stream.writeString（address）; stream.writeInt（deptid）; stream.writeString（major）; }}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28487"></a><a id="JJDBC28488"></a><a id="JJDBC28489"></a><a id="JJDBC28486"></a><div class="props_rev_3"><a id="GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0" name="GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0"></a><h4 id="JJDBC-GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0" class="sect4"><span class="enumeration_section">13.4.3</span>关于检索子类型对象</h4>
                  <div>
                     <p>在典型的JDBC应用程序中，子类型对象将作为以下之一返回：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询结果</p>
                        </li>
                        <li>
                           <p>PL / SQL <code class="codeph">OUT</code>参数</p>
                        </li>
                        <li>
                           <p>类型属性</p>
                        </li>
                     </ul>
                     <p>您可以使用默认映射或<code class="codeph">SQLData</code>映射或<code class="codeph">OracleData</code>映射来检索子类型。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0__GUID-942D43C1-39B4-4356-A2C5-3D1B1D9FCFDD">使用默认映射</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下，数据库对象作为<code class="codeph">oracle.jdbc.的实例返回<code class="codeph">oracle.jdbc.OracleStruct</code>接口。此实例可以表示声明类型的声明类型或子类型的对象。如果<code class="codeph">OracleStruct</code>接口表示数据库中的子类型对象，则它包含其超类型的属性以及子类型中定义的属性。
                        </p>
                        <p>Oracle JDBC驱动程序以最特定的类型返回数据库对象。JDBC应用程序可以使用<code class="codeph">OracleStruct</code>接口的<code class="codeph">getSQLTypeName</code>方法来确定<code class="codeph">STRUCT</code>对象的SQL类型。以下代码显示了这一点：</p><pre class="oac_no_warn" dir="ltr">// tab1.person列可以存储PERSON_T，STUDENT_T和PARTIMESTUDENT_T对象ResultSet rset = stmt.executeQuery（“从tab1中选择人员”）; while（rset.next（））{oracle.sql。STRUCT s =（oracle.sql。STRUCT）rset.getObject（1）;如果（s！= null）System.out.println（s.getSQLTypeName（））; //打印出//可能是HR.PERSON_T，HR.STUDENT_T或HR.PARTTIMESTUDENT_T}的类型名称</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0__GUID-9CE4AA48-A012-4F10-8B67-9F6B78AD67E4">使用SQLData映射</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用<code class="codeph">SQLData</code>映射，JDBC驱动程序将数据库对象作为实现<code class="codeph">SQLData</code>接口的类的实例返回。
                        </p>
                        <p>要在检索数据库对象时使用<code class="codeph">SQLData</code>映射，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>实现为所需对象类型实现<code class="codeph">SQLData</code>接口的容器类。
                              </p>
                           </li>
                           <li>
                              <p>使用指定每个Oracle对象类型对应的自定义Java类型的条目填充连接类型映射。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">getObject</code>方法访问SQL对象值。
                              </p>
                              <p>JDBC驱动程序检查类型映射以查找条目匹配。如果存在，则驱动程序将数据库对象作为实现<code class="codeph">SQLData</code>接口的类的实例返回。
                              </p>
                           </li>
                        </ol>
                        <p>以下代码显示了整个SQLData自定义映射过程：</p><pre class="oac_no_warn" dir="ltr">// JDBC应用程序开发人员为PERSON_T实现Person.java，为STUDENT_T //实现Student.java，为PARTTIMESTUDEN_T实现ParttimeStudent.java。连接conn = ...; //建立JDBC连接//获取连接类型映射java.util。Map map = conn.getTypeMap（）; //填充类型映射map.put（“HR.PERSON_T”，Class.forName（“Person”））; map.put（“HR.STUDENT_T”，Class.forName（“Student”））; map.put（“HR.PARTTIMESTUDENT_T”，Class.forName（“ParttimeStudent”））; // tab1.person列可以存储PERSON_T，STUDENT_T和PARTTIMESTUDENT_T对象ResultSet rset = stmt.executeQuery（“从tab1中选择人员”）; while（rset.next（））{//“s”是Person，Student或ParttimeStudent对象的实例s = rset.getObject（1）;如果（s！= null）{if（s instanceof Person）System.out.println（“This is a Person”）; else if（s instanceof Student）System.out.println（“This is a Student”）; else if（s instanceof ParttimeStudent）System.out.pritnln（“这是PartimeStudent”）; else System.out.println（“未知类型”）; }}</pre><p>JDBC驱动程序检查每次调用以下内容的连接类型映射：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">java.sql. <code class="codeph">getObject</code>方法<code class="codeph">java.sql.ResultSet</code>和<code class="codeph">java.sql.CallableStatement</code>接口</p>
                           </li>
                           <li>
                              <p><code class="codeph">java.sql. <code class="codeph">getAttribute</code>方法<code class="codeph">java.sql.Struct</code>界面</p>
                           </li>
                           <li>
                              <p><code class="codeph">java.sql. <code class="codeph">getArray</code>方法<code class="codeph">java.sql.Array</code>接口</p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql. <code class="codeph">getValue</code>方法<code class="codeph">oracle.sql.REF</code>接口</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E0B6269-71FD-4F4C-83B5-D31D214655A0__GUID-D9C1D077-F39C-4D37-9B04-46C16FFAF791">使用OracleData Mapping</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用<code class="codeph">OracleData</code>映射，JDBC驱动程序将数据库对象作为实现<code class="codeph">OracleData</code>接口的类的实例返回。
                        </p>
                        <p>需要通知Oracle JDBC驱动程序将Java类映射到Oracle对象类型。以下是通知Oracle JDBC驱动程序的两种方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>JDBC应用程序使用<code class="codeph">getObject(int idx, OracleDataFactory f)</code>方法来访问数据库对象。<code class="codeph">getObject</code>方法的第二个参数指定生成自定义类的工厂类的实例。该<code class="codeph">getObject</code>方法是可用的<code class="codeph">OracleResultSet</code>和<code class="codeph">OracleCallableStatement</code>接口。
                              </p>
                           </li>
                           <li>
                              <p>JDBC应用程序使用条目填充连接类型映射，这些条目指定每个Oracle对象类型对应的自定义Java类型。<code class="codeph">getObject</code>方法用于访问Oracle对象值。
                              </p>
                           </li>
                        </ul>
                        <p>第二种方法涉及使用标准的<code class="codeph">getObject</code>方法。以下代码示例演示了第一种方法：</p><pre class="oac_no_warn" dir="ltr">// tab1.person列可以存储PERSON_T和STUDENT_T对象ResultSet rset = stmt.executeQuery（“从tab1中选择人员”）; while（rset.next（））{Object s = rset.getObject（1，PersonFactory.getOracleDataFactory（））;如果（s！= null）{if（s instanceof Person）System.out.println（“This is a Person”）; else if（s instanceof Student）System.out.println（“This is a Student”）; else if（s instanceof ParttimeStudent）System.out.pritnln（“这是PartimeStudent”）; else System.out.println（“未知类型”）; }}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28490"></a><div class="props_rev_3"><a id="GUID-EDEEF48A-DBEE-484D-BC65-577DD9665ACA" name="GUID-EDEEF48A-DBEE-484D-BC65-577DD9665ACA"></a><h4 id="JJDBC-GUID-EDEEF48A-DBEE-484D-BC65-577DD9665ACA" class="sect4"><span class="enumeration_section">13.4.4</span>创建子类型对象</h4>
                  <div>
                     <div class="section">
                        <p>在某些情况下，JDBC应用程序使用JDBC驱动程序创建数据库子类型对象。这些对象作为绑定变量发送到数据库，或用于在JDBC应用程序中交换信息。</p>
                        <p>通过自定义映射，JDBC应用程序可以根据您选择的方法创建基于<code class="codeph">SQLData</code>或基于<code class="codeph">OracleData</code>的对象，以表示数据库子类型对象。使用默认映射，JDBC应用程序创建<code class="codeph">STRUCT</code>对象以表示数据库子类型对象。从超类型继承的所有数据字段以及子类型中定义的所有字段都必须具有值。以下代码演示了这一点：</p><pre class="oac_no_warn" dir="ltr">Connection conn = ... //建立JDBC连接......Object [] attrs = {new Integer（1234），“HR”，“500 Oracle Parkway”，//在// PERSON_T new Integer（102）中定义的数据字段，“CS”，//在STUDENT_T中定义的数据字段新的整数（4）// // PARTTIMESTUDENT_T}中定义的数据字段; Struct s = conn.createStruct（“HR.PARTTIMESTUDENT”，attrs）;</pre><p>使用从<code class="codeph">PERSON_T</code>和<code class="codeph">STUDENT_T</code>继承的数据字段以及<code class="codeph">PARTTIMESTUDENT_T</code>定义的数据字段初始化<code class="codeph">s</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28491"></a><div class="props_rev_3"><a id="GUID-B7A9E9B9-ED8B-4EBA-94F1-C048876DB314" name="GUID-B7A9E9B9-ED8B-4EBA-94F1-C048876DB314"></a><h4 id="JJDBC-GUID-B7A9E9B9-ED8B-4EBA-94F1-C048876DB314" class="sect4"><span class="enumeration_section">13.4.5</span>发送子类型对象</h4>
                  <div>
                     <div class="section">
                        <p>在典型的JDBC应用程序中，表示数据库对象的Java对象将作为以下之一发送到数据库：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据操作语言（DML）绑定变量</p>
                           </li>
                           <li>
                              <p>PL / SQL <code class="codeph">IN</code>参数</p>
                           </li>
                           <li>
                              <p>对象类型属性值</p>
                           </li>
                        </ul>
                        <p>Java对象可以是<code class="codeph">STRUCT</code>类的实例，也可以是实现<code class="codeph">SQLData</code>或<code class="codeph">OracleData</code>接口的类的实例。Oracle JDBC驱动程序将Java对象转换为数据库SQL引擎可接受的线性化格式。绑定子类型对象与绑定标准对象相同。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28493"></a><a id="JJDBC28494"></a><a id="JJDBC28492"></a><div class="props_rev_3"><a id="GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2" name="GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2"></a><h4 id="JJDBC-GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2" class="sect4"><span class="enumeration_section">13.4.6</span>访问子类型数据字段</h4>
                  <div>
                     <div class="section">
                        <p>虽然访问子类型数据字段的逻辑是自定义类的一部分，但默认映射的逻辑在JDBC应用程序本身中定义。数据库对象作为<code class="codeph">oracle.jdbc.实例返回<code class="codeph">oracle.jdbc.OracleStruct</code>类。JDBC应用程序需要调用<code class="codeph">STRUCT</code>类中的以下访问方法之一来访问数据字段：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">Object [] getAttribute（）</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。Datum [] getOracleAttribute（）</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2__GUID-1750EBD8-BCF9-41F2-956F-E2B08202B3E5">getAttribute方法中的子类型数据字段</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">java.sql.的<code class="codeph">getAttribute</code>方法<code class="codeph">java.sql.JDBC 2.0中使用Struct</code>接口来访问对象数据字段。此方法返回<code class="codeph">java.lang.Object</code>数组，其中每个数组元素表示一个对象属性。您可以通过在JDBC转换矩阵中引用相应的属性类型来确定单个元素类型。例如，SQL <code class="codeph">NUMBER</code>属性将转换为<code class="codeph">java.math.BigDecimal</code>对象。<code class="codeph">getAttribute</code>方法返回在对象类型的超类型中定义的所有数据字段以及在子类型中定义的数据字段。首先列出超类型数据字段，然后是子类型数据字段。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D4E75B2-AFE4-4C34-BDCD-C06D0D27EAB2__GUID-961E150A-E595-4827-B49C-2B5213D980B8">getOracleAttribute方法中的子类型数据字段</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">getOracleAttribute</code>方法是Oracle扩展方法，比<code class="codeph">getAttribute</code>方法更有效。<code class="codeph">getOracleAttribute</code>方法返回<code class="codeph">oracle.sql.用于保存数据字段的Datum</code>数组。<code class="codeph">oracle.sql.每个元素<code class="codeph">oracle.sql.Datum</code>数组表示属性。您可以通过引用Oracle转换矩阵中的相应属性类型来确定单个元素类型。例如，SQL <code class="codeph">NUMBER</code>属性将转换为<code class="codeph">oracle.sql.NUMBER</code>对象。<code class="codeph">getOracleAttribute</code>方法返回在对象类型的超类型中定义的所有属性，以及在子类型中定义的属性。首先列出超类型数据字段，然后是子类型数据字段。
                        </p>
                        <p>以下代码显示了<code class="codeph">getAttribute</code>方法的用法：</p><pre class="oac_no_warn" dir="ltr">// tab1.person列可以存储PERSON_T，STUDENT_T和PARTIMESTUDENT_T对象ResultSet rset = stmt.executeQuery（“从tab1中选择人员”）; while（rset.next（））{oracle.sql。STRUCT s =（oracle.sql。STRUCT）rset.getObject（1）;如果（s！= null）{String sqlname = s.getSQLTypeName（）; <span class="bold">Object [] attrs = s.getAttribute（）;</span> if（sqlname.equals（“HR.PERSON”）{System.out.println（“ssn =”+（（BigDecimal）attrs [0]）。intValue（））; System.out.println（“name =”+ （（String）attrs [1]））; System.out.println（“address =”+（（String）attrs [2]））;} else if（sqlname.equals（“HR.STUDENT”））{System .out.println（“ssn =”+（（BigDecimal）attrs [0]）。intValue（））; System.out.println（“name =”+（（String）attrs [1]））; System.out .println（“address =”+（（String）attrs [2]））; System.out.println（“deptid =”+（（BigDecimal）attrs [3]）。intValue（））; System.out.println （“major =”+（（String）attrs [4]））;} else if（sqlname.equals（“HR.PARTTIMESTUDENT”））{System.out.println（“ssn =”+（（BigDecimal）attrs [ 0]）。intValue（））; System.out.println（“name =”+（（String）attrs [1]））; System.out.println（“address =”+（（String）attrs [2] ）;; System.out.println（“deptid =”+（（BigDecimal）attrs [3]）。intValue（））; System.out.println（“major =”+（（String）attrs [4]）） ; System.out.println（“numHours =”+（（BigDecimal）attrs [5]）。intValue（））;} else抛出新的异常（“无效的类型名称：”+ sqlname）;}} rset.close（） ; stmt.close（）; conn.close（）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28495"></a><div class="props_rev_3"><a id="GUID-E0C046C2-4F00-49EB-89B8-D2C147C5C75F" name="GUID-E0C046C2-4F00-49EB-89B8-D2C147C5C75F"></a><h4 id="JJDBC-GUID-E0C046C2-4F00-49EB-89B8-D2C147C5C75F" class="sect4"><span class="enumeration_section">13.4.7</span>继承元数据方法</h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC驱动程序提供了一组元数据方法来访问继承属性。继承元数据方法在<code class="codeph">oracle.sql.中定义<code class="codeph">oracle.sql.StructDescriptor</code>和<code class="codeph">oracle.jdbc.StructMetaData</code>类。
                        </p>
                        <p><code class="codeph">StructMetaData</code>类为子类型属性提供继承元数据方法。<code class="codeph">StructDescriptor</code>类的<code class="codeph">getMetaData</code>方法返回该类型的<code class="codeph">StructMetaData</code>实例。<code class="codeph">StructMetaData</code>类包含以下继承元数据方法：</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28505"></a><div class="props_rev_3"><a id="GUID-4D737F6A-66F6-4C67-BC9A-233A89F75FFD" name="GUID-4D737F6A-66F6-4C67-BC9A-233A89F75FFD"></a><h3 id="JJDBC-GUID-4D737F6A-66F6-4C67-BC9A-233A89F75FFD" class="sect3"><span class="enumeration_section">13.5</span>关于描述对象类型</h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC包括检索有关其属性名称和类型的结构化对象类型的信息的功能。这在概念上类似于从结果集中检索有关其列名和类型的信息，并且实际上使用几乎相同的方法。</p>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-BE316A98-BAAD-4B15-A8DA-D9E081E9F2D4">获取对象元数据的功能</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-object-types.html#GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16">检索对象元数据</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28506"></a><div class="props_rev_3"><a id="GUID-BE316A98-BAAD-4B15-A8DA-D9E081E9F2D4" name="GUID-BE316A98-BAAD-4B15-A8DA-D9E081E9F2D4"></a><h4 id="JJDBC-GUID-BE316A98-BAAD-4B15-A8DA-D9E081E9F2D4" class="sect4"><span class="enumeration_section">13.5.1</span>获取对象元数据的功能</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">oracle.sql.StructDescriptor</code>类包括检索有关结构化对象类型的元数据的功能。<code class="codeph">StructDescriptor</code>类具有<code class="codeph">getMetaData</code>方法，其功能与结果集对象中可用的标准<code class="codeph">getMetaData</code>方法相同。它返回一组属性信息，例如属性名称和类型。在<code class="codeph">StructDescriptor</code>对象上调用此方法以获取有关<code class="codeph">StructDescriptor</code>对象描述的Oracle对象类型的元数据。
                        </p>
                        <p><code class="codeph">StructDescriptor</code>类<code class="codeph">getMetaData</code>方法的签名与标准<code class="codeph">ResultSet</code>接口中为<code class="codeph">getMetaData</code>指定的签名相同。签名如下：</p><pre class="oac_no_warn" dir="ltr">ResultSetMetaData getMetaData（）抛出SQLException</pre><p>但是，此方法实际上返回<code class="codeph">oracle.jdbc.的实例<code class="codeph">oracle.jdbc.StructMetaData</code> ，一个以与标准<code class="codeph">java.sql.相同的方式支持结构化对象元数据的类<code class="codeph">java.sql.ResultSetMetaData</code>接口指定对结果集元数据的支持。
                        </p>
                        <p><code class="codeph">StructMetaData</code>也支持以下方法：</p><pre class="oac_no_warn" dir="ltr">String getOracleColumnClassName（int column）抛出SQLException</pre><p>此方法返回<code class="codeph">oracle.sql.的完全限定名称<code class="codeph">oracle.sql.如果<code class="codeph">OracleResultSet</code>接口<code class="codeph">getOracleObject</code>方法来检索指定属性的值，则生成其实例的Datum</code>子类。例如， <code class="codeph">oracle.sql.NUMBER</code> 。</p>
                        <p>要使用<code class="codeph">getOracleColumnClassName</code>方法，必须将<code class="codeph">getMetaData</code>方法返回的<code class="codeph">ResultSetMetaData</code>对象<code class="codeph">StructMetaData</code>为<code class="codeph">StructMetaData</code> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <div class="infoboxnote" id="GUID-BE316A98-BAAD-4B15-A8DA-D9E081E9F2D4__GUID-DCCF7172-A7CE-4F5D-856E-112DB9A909BC">
                                 <p class="notep1">注意：</p>
                                 <p>在上述所有方法签名中， <code class="codeph">column</code>都是用词不当。如果为<code class="codeph">column</code>指定值4，则实际上是指对象的第四个属性。
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28508"></a><a id="JJDBC28507"></a><div class="props_rev_3"><a id="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16" name="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16"></a><h4 id="JJDBC-GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16" class="sect4"><span class="enumeration_section">13.5.2</span>检索对象元数据</h4>
                  <div>
                     <div class="section">
                        <p>使用以下步骤获取有关结构化对象类型的元数据：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand" id="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16__BABBJBEG"><span>创建或获取描述相关结构化对象类型的<code class="codeph">StructDescriptor</code>实例。</span></li>
                        <li class="stepexpand"><span>在<code class="codeph">StructDescriptor</code>实例上调用<code class="codeph">getMetaData</code>方法。</span></li>
                        <li class="stepexpand" id="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16__BABFDCJH"><span>根据需要调用元数据getter方法， <code class="codeph">getColumnName</code> ， <code class="codeph">getColumnType</code>和<code class="codeph">getColumnTypeName</code> 。</span><div>
                              <div class="infoboxnote" id="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16__GUID-4444BB26-A13D-4916-B727-4749B86F14A4">
                                 <p class="notep1">注意：</p>
                                 <p>如果其中一个结构化对象属性本身是结构化对象，请重复步骤1到3。</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-1C6748F4-AC7D-4645-9A00-6F366C553B16__GUID-2314DB02-7822-45AF-9391-1EF6AB365EB4">
                        <p class="titleinexample">例13-1例子</p>
                        <p>以下方法显示如何检索有关结构化对象类型的属性的信息。这包括创建<code class="codeph">StructDescriptor</code>实例的初始步骤。
                        </p><pre class="oac_no_warn" dir="ltr">// //打印出ADT的属性名称和类型// void getAttributeInfo（Connection conn，String type_name）抛出SQLException {</pre><pre class="oac_no_warn" dir="ltr">//获取类型描述符StructDescriptor desc = StructDescriptor.createDescriptor（type_name，conn）; //获取类型元数据ResultSetMetaData md = desc.getMetaData（）; //获取此类型的att＃int numAttrs = desc.length（）; //临时缓冲区字符串attr_name; int attr_type; String attr_typeName; System.out.println（“Attributes of”+ type_name +“：”）; for（int i = 0; i &lt;numAttrs; i ++）{attr_name = md.getColumnName（i + 1）; attr_type = md.getColumnType（i + 1）; System.out.println（“index”+（i + 1）+“name =”+ attr_name +“type =”+ attr_type）; //向下钻取嵌套对象if（attrType == OracleTypes。STRUCT）{attr_typeName = md.getColumnTypeName（i + 1）; //递归调用打印出嵌套对象元数据getAttributeInfo（conn，attr_typeName）; }}}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>