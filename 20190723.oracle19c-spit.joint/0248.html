<html id="02963.managing-oracle-data-guard-broker-configuration-members.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Learn how to manage broker configuration members, and monitor the state of each member of the configuration."></meta>
      <meta name="description" content="Learn how to manage broker configuration members, and monitor the state of each member of the configuration."></meta>
      <title>Managing the Members of a Broker Configuration</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Broker "></meta>
      <meta property="og:description" content="Learn how to manage broker configuration members, and monitor the state of each member of the configuration."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Broker"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-broker.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-29T04:14:25-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96245-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-oracle-data-guard-broker-configurations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-data-guard-broker-to-manage-switchovers-failovers.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Broker"></meta>
    <meta name="dcterms.isVersionOf" content="DGBKR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-oracle-data-guard-broker-configurations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-data-guard-broker-to-manage-switchovers-failovers.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Broker </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing the Members of a Broker Configuration</li>
            </ol>
            <a id="GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7" name="GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7"></a><a id="DGBKR135"></a>
            
            <h2 id="DGBKR-GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7" class="sect2"><span class="enumeration_chapter">4 </span> Managing the Members of a Broker Configuration
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='managing-oracle-data-guard-broker-configuration-members'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Learn how to manage broker configuration members, and monitor the state of each member of the configuration.</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-679ACCCD-309C-49A3-ADCF-8A3D8635ADCA" title="The broker uses information in its configuration file to manage and monitor the state of each member of the configuration.">Managing Broker Configuration Members</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-7430128F-D79C-4F6A-8932-8830478B83AB" title="The members of a configuration can be in various states which, in an enabled configuration, determine the behavior of Oracle Data Guard.">Managing States of Broker Configuration Members</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271" title="There are two types of database properties: monitorable and configurable.">Managing Database Properties</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" title="To manage redo transport services, you specify configurable properties on each configuration member.">Managing Redo Transport Services</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A" title="Redo transport services for a Zero Data Loss Recovery Appliance (Recovery Appliance) are managed in the same way as for a standby database.">Managing Redo Transport Services for Recovery Appliance</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6753936C-E2E3-471E-BCC5-0C4697AD4255" title="You can manage Redo Apply and SQL Apply on physical and logical standby databases by using database properties related to log apply.">Managing Log Apply Services</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8" title="You can use the broker to set up a configuration having any of the different data protection modes.">Managing Data Protection Modes</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-247E7C1E-EEC0-42CA-AC9F-E73948F5EDC1" title="An Oracle Data Guard far sync instance is a redo transport destination that accepts redo from a primary database and forwards that redo to one or more redo destinations in the configuration.">Managing Far Sync Instances</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-E2C40F7E-8ACC-4A75-AAAA-52E54F39F488" title="You can enable fast-start failover to allow the broker to determine if a failover is necessary and to initiate a failover to a standby database from a list of one or more pre-specified target standby databases.">Managing Fast-Start Failover</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-0F7CA42F-1FE4-437E-9A2E-3FD3D2738BC1" title="You can use the DGMGRL CONVERT DATABASE command to convert a physical standby database to a snapshot standby database.">Managing Database Conversions</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-85D20060-248B-42A1-B78D-15C23AAA2F59" title="In general, the broker checks the health of a database by verifying that the actual database state and settings match those described in the broker configuration file.">Database Status</a></p>
                  </li>
               </ul>
            </div><a id="DGBKR140"></a><div class="props_rev_3"><a id="GUID-679ACCCD-309C-49A3-ADCF-8A3D8635ADCA" name="GUID-679ACCCD-309C-49A3-ADCF-8A3D8635ADCA"></a><h3 id="DGBKR-GUID-679ACCCD-309C-49A3-ADCF-8A3D8635ADCA" class="sect3"><span class="enumeration_section">4.1 </span>Managing Broker Configuration Members
               </h3>
               <div>
                  <p>The broker uses information in its configuration file to manage and monitor the state of each member of the configuration.</p>
                  <p>The broker distinguishes between different types of members in a broker configuration. Each type of member has a set of states and properties that are appropriate for that type of member.</p>
               </div>
            </div><a id="DGBKR3530"></a><a id="DGBKR145"></a><div class="props_rev_3"><a id="GUID-7430128F-D79C-4F6A-8932-8830478B83AB" name="GUID-7430128F-D79C-4F6A-8932-8830478B83AB"></a><h3 id="DGBKR-GUID-7430128F-D79C-4F6A-8932-8830478B83AB" class="sect3"><span class="enumeration_section">4.2 </span>Managing States of Broker Configuration Members
               </h3>
               <div>
                  <p>The members of a configuration can be in various states which, in an enabled configuration, determine the behavior of Oracle Data Guard.</p>
                  <p>The following table describes the various states.</p>
                  <p>Snapshot standby databases are not listed in this table because they do not have states; they only receive redo data.</p>
                  <p>Far sync instances are also not included in this table because they do not have states; they only receive redo and forward it to a standby database.</p>
                  <p>Zero Data Loss Recovery Appliances are not included in this table because they do not have states.</p>
                  <div class="tblformal" id="GUID-7430128F-D79C-4F6A-8932-8830478B83AB__G1037265">
                     <p class="titleintable">Table 4-1 Database States and Descriptions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Database States and Descriptions" width="100%" border="1" summary="This 3 column table describes all of the primary and standby database states. Column 1 is the database role. Column 2 is the state. Column 3 is a description of the state." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d7524e207">Database Role</th>
                              <th align="left" valign="bottom" width="28%" id="d7524e210">State Name</th>
                              <th align="left" valign="bottom" width="51%" id="d7524e213">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e218" headers="d7524e207 ">
                                 <p>Primary</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e218 d7524e210 ">
                                 <p><code class="codeph">TRANSPORT-ON</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e218 d7524e213 ">
                                 <p>Redo transport services are set up to transmit redo data to the standby databases or far sync instances when the primary database is open for read/write access.</p>
                                 <p>If this is an Oracle RAC database, all instances open in read/write mode will have redo transport services running.</p>
                                 <p>This is the default state for a primary database when it is enabled for the first time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e233" headers="d7524e207 ">
                                 <p>Primary</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e233 d7524e210 ">
                                 <p><code class="codeph">TRANSPORT-OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e233 d7524e213 ">
                                 <p>Redo transport services are stopped on the primary database.</p>
                                 <p>If this is an Oracle RAC database, redo transport services are not running on any instances.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e246" headers="d7524e207 ">
                                 <p>Physical standby</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e246 d7524e210 ">
                                 <p><code class="codeph">APPLY-ON</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e246 d7524e213 ">
                                 <p>Redo Apply is started on a physical standby database.</p>
                                 <p>If the standby database is an Oracle RAC database, the broker starts Redo Apply on exactly one standby instance, called the apply instance. If this instance fails, the broker automatically chooses another instance that is either mounted or open read-only. This new instance then becomes the apply instance. </p>
                                 <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), Redo Apply can be set up to run on each active running physical standby instance. If a database has already been set up to run Redo Apply on multiple instances, then you can use the Data Guard broker property <code class="codeph">ApplyInstances</code> to restrict the number of instances that are involved in Redo Apply on an Oracle RAC physical standby database.
                                 </p>
                                 <p><code class="codeph">APPLY-ON</code> is the default state for a physical standby database when it is enabled for the first time.
                                 </p>
                                 <p>If a license for the Oracle Active Data Guard option has been purchased, a physical standby database can be open while Redo Apply is active. This capability is known as real-time query. See <a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB00706" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more details.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e278" headers="d7524e207 ">
                                 <p>Physical standby</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e278 d7524e210 ">
                                 <p><code class="codeph">APPLY-OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e278 d7524e213 ">
                                 <p>Redo Apply is stopped. </p>
                                 <p>If this is an Oracle RAC database, there is no instance running Apply Services until you change the database state to <code class="codeph">APPLY-ON</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e294" headers="d7524e207 ">
                                 <p>Logical standby</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e294 d7524e210 ">
                                 <p><code class="codeph">APPLY-ON</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e294 d7524e213 ">
                                 <p> SQL Apply is started on the logical standby database when it is opened and the logical standby database guard is on.</p>
                                 <p>If this is an Oracle RAC database, SQL Apply is running on one instance, the apply instance. If this instance fails, the broker automatically chooses another open instance. This new instance becomes the apply instance.</p>
                                 <p>This is the default state for a logical standby database when it is enabled for the first time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d7524e309" headers="d7524e207 ">
                                 <p>Logical standby</p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d7524e309 d7524e210 ">
                                 <p><code class="codeph">APPLY-OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d7524e309 d7524e213 ">
                                 <p>SQL Apply is stopped. The logical standby database guard is on.</p>
                                 <p>If this is an Oracle RAC database, there is no instance running SQL Apply until you change the state to <code class="codeph">APPLY-ON</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="DGBKR3531"></a><a id="DGBKR3532"></a><a id="DGBKR3534"></a><a id="DGBKR150"></a><div class="props_rev_3"><a id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6" name="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6"></a><h4 id="DGBKR-GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6" class="sect4"><span class="enumeration_section">4.2.1 </span>Database State Transitions
                  </h4>
                  <div>
                     <p>You can use the DGMGRL <code class="codeph">EDIT DATABASE</code> command to explicitly change the state of a database. 
                     </p>
                     <p>For example, the <code class="codeph">EDIT DATABASE</code> command in the following example changes the state of the <code class="codeph">North_Sales</code> database to <code class="codeph">TRANSPORT-OFF</code>. 
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'North_Sales' SET STATE='TRANSPORT-OFF';
Succeeded.</pre><p>The following sections describe in more detail the possible state transitions for primary and standby databases.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6__GUID-F6EBAC2F-B13A-43B1-84BD-4D351F1EE66D">Primary Database State Transitions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When transitioning the primary database to the <code class="codeph">TRANSPORT-ON</code> state, the broker sets up redo transport services using the redo transport-related properties of the configuration members and the <code class="codeph">RedoRoutes</code> property at the primary database. Redo transport services setup is done by setting the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> and <code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="variable" translate="no">n</span> initialization parameters on the primary database, and the <code class="codeph">LOG_ARCHIVE_CONFIG</code> initialization parameter on all databases (primary or standby) and far sync instances. If necessary, the broker also sets up the data protection mode of the database to match the protection mode recorded in the broker configuration file. Finally, if the database is open, the broker switches a log for each thread to initiate redo transport services.
                        </p>
                        <p>When transitioning the primary database to the <code class="codeph">TRANSPORT-OFF</code> state, the broker turns off redo transport services to all broker-managed standbys by resetting the <code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="variable" translate="no">n</span> initialization parameter. Transmission of redo data to all broker-managed standbys is stopped. Log files continue to be archived at the primary database.
                        </p>
                        <p>If the primary database is an Oracle RAC database, the broker configures redo transport services on all primary instances with the exact same settings.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6__GUID-EAA85C02-2619-4AD0-BB4F-3EEF1F399CE7">Physical Standby Database State Transitions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When transitioning a physical standby database to the <code class="codeph">APPLY-ON</code> state, the broker starts Redo Apply with options specified by the Redo Apply-related properties. If the standby is an Oracle RAC database, then the broker starts Redo Apply on one standby instance, called the apply instance.
                        </p>
                        <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), Redo Apply can be set up to run on multiple active running physical standby instances. (This feature requires the standby database to have a license for the Oracle Active Data Guard option.) If a database has already been set up to run Redo Apply on multiple instances, then you can use the Data Guard broker property <code class="codeph">ApplyInstances</code> to restrict the number of instances that are involved in Redo Apply on an Oracle RAC physical standby database.
                        </p>
                        <p>If a license for the Oracle Active Data Guard option has been purchased, a physical standby database can be open while Redo Apply is active. This capability is known as real-time query. See <a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB00706" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more details.
                        </p>
                        <p>The apply instance must be open before starting Redo Apply if any other instance is open.</p>
                        <p>When transitioning to the <code class="codeph">APPLY-OFF</code> state, the broker stops Redo Apply.
                        </p>
                        <div class="infoboxnote" id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6__GUID-3CCF9B95-3921-4F15-9F63-B1F7D871170E">
                           <p class="notep1">Note:</p>
                           <p>If you perform online database relocation with Oracle RAC One Node on a physical standby, then the new instance is started in the same mode as the currently running instance. Therefore, if the database is mounted on the original instance, then the database will be mounted on the new instance. Likewise, if the database is open on the original instance, then the database will be open on the new instance. This may result in the new instance starting in a mode that does not match the start option recorded with Oracle Clusterware for the database.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6__GUID-D7E02CBE-2576-4FB3-B37D-BFA35E855971">Logical Standby Database State Transitions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When transitioning a logical standby database to the <code class="codeph">APPLY-ON</code> state, the broker will wait until the database is open, and then enable the database guard to prevent modifications to tables in the logical standby database, and start SQL Apply with options specified by the log apply-related properties. If the logical standby database is an Oracle RAC database, the broker starts SQL Apply on one standby instance, the apply instance.
                        </p>
                        <p>When transitioning to the <code class="codeph">APPLY-OFF</code> state, the broker stops SQL Apply.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D8E8E357-C19D-49AD-AF6E-162B97C3B7B6__GUID-DB8B530E-007E-47AF-ACB6-FFB9664F7075">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6753936C-E2E3-471E-BCC5-0C4697AD4255" title="You can manage Redo Apply and SQL Apply on physical and logical standby databases by using database properties related to log apply.">Managing Log Apply Services</a> for information about managing SQL Apply
                                 </p>
                              </li>
                              <li>
                                 <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" title="To manage redo transport services, you specify configurable properties on each configuration member.">Managing Redo Transport Services</a> for more details on managing redo transport services and a  list of redo transport-related properties
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/managing-oracle-data-guard-logical-standby-databases.html#SBYDB4827" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about the database guard
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oracle-data-guard-broker-commands.html#GUID-E7889124-C414-466F-9FBB-B8F035881F89" title="Use the command reference to understand how you can use the Data Guard broker command-line interface (DGMGRL) to manage your broker configuration.">Oracle Data Guard Command-Line Interface Reference</a> for complete information about the <code class="codeph">EDIT DATABASE</code> command.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DGBKR3535"></a><a id="DGBKR155"></a><div class="props_rev_3"><a id="GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271" name="GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271"></a><h3 id="DGBKR-GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271" class="sect3"><span class="enumeration_section">4.3 </span>Managing Database Properties
               </h3>
               <div>
                  <p>There are two types of database properties: monitorable and configurable.</p>
                  <p>Both monitorable and configurable properties can be further divided into properties having database-wide scope or instance-specific scope.</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Monitorable property values can be viewed only when the associated database is enabled.</p>
                        <p>Monitorable properties allow you to view run-time information related to databases, but you cannot change the values of these properties.</p>
                     </li>
                     <li>
                        <p>Configurable property values can be viewed and dynamically updated.</p>
                        <p>Configurable properties affect the operation or configuration of the broker. You can change the value of these properties using DGMGRL or Cloud Control. You can edit properties whether the configuration and its members are enabled or disabled. However, if a configuration member is disabled, then the new property value does not take effect until you enable the configuration or member, as appropriate. </p>
                        <div class="infoboxnotealso" id="GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271__GUID-62CD8E34-1D42-446A-BED7-97DCA9ACE99C">
                           <p class="notep1">See Also:</p>
                           <p> <a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration."> Oracle Data Guard Broker Properties</a> for a detailed list of all database properties
                           </p>
                        </div>
                     </li>
                  </ul>
                  <p>To see these properties, you can use the DGMGRL <code class="codeph">SHOW</code> command or Edit Properties page in Cloud Control. <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271__CHDEBGGH">Example 4-1</a> uses the <code class="codeph">SHOW DATABASE VERBOSE</code> command to display information about the <code class="codeph">North_Sales</code> database.
                  </p>
                  <div class="infoboxnotealso" id="GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271__GUID-4780B6F6-4D94-4D3E-9DC1-AFF1A112A38D">
                     <p class="notep1">See Also:</p>
                     <p><a href="oracle-data-guard-broker-commands.html#GUID-E7889124-C414-466F-9FBB-B8F035881F89" title="Use the command reference to understand how you can use the Data Guard broker command-line interface (DGMGRL) to manage your broker configuration."> Oracle Data Guard Command-Line Interface Reference</a> for complete information about the DGMGRL command-line interface
                     </p>
                  </div>
                  <div class="example" id="GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271__CHDEBGGH">
                     <p class="titleinexample">Example 4-1 Using the SHOW DATABASE VERBOSE Command to Display Properties</p>
                     <p></p><pre class="pre codeblock"><code>SHOW DATABASE VERBOSE 'North_Sales';

Database - North_Sales

  Role:               PRIMARY
  Intended State:     TRANSPORT-ON
  Instance(s):
    North_sales1

  Properties:
    DGConnectIdentifier             = 'North_Sales.example.com'
    ObserverConnectIdentifier       = ''
    FastStartFailoverTarget         = ''
    PreferredObserverHosts          = ''
    LogShipping                     = 'ON'
    RedoRoutes                      = ''
    LogXptMode                      = 'ASYNC'
    DelayMins                       = '0'
    Binding                         = 'optional'
    MaxFailure                      = '0'
    ReopenSecs                      = '30'
    NetTimeout                      = '300'
    RedoCompression                 = 'DISABLE'
    PreferredApplyInstance          = ''
    ApplyInstanceTimeout            = '0'
    ApplyLagThreshold               = '0'
    TransportLagThreshold           = '0'
    TransportDisconnectedThreshold  = '0'
    ApplyParallel                   = 'AUTO'
    ApplyInstances                  = '0'
    StandbyFileManagement           = ''
    ArchiveLagTarget                = '0'
    LogArchiveMaxProcesses          = '0'
    LogArchiveMinSucceedDest        = '0'
    DataGuardSyncLatency            = '0'
    LogArchiveTrace                 = 255
    LogArchiveFormat                = 'db1r_%d_%t_%s_%R.arc'
    DbFileNameConvert               = 'dbs/cdb2_, dbs/cdb1_, dbs/bt, dbs/t, dbs/cdb4_, dbs/cdb1_, dbs/dt, dbs/t'
    LogFileNameConvert              = 'dbs/cdb2_, dbs/cdb1_, dbs/bt, dbs/t, dbs/cdb4_, dbs/cdb1_, dbs/dt, dbs/t'
    ArchiveLocation                 = ''
    AlternateLocation               = ''
    StandbyArchiveLocation          = ''
    StandbyAlternateLocation        = ''
    InconsistentProperties          = '(monitor)'
    InconsistentLogXptProps         = '(monitor)'
    LogXptStatus                    = '(monitor)'
    SendQEntries                    = '(monitor)'
    RecvQEntries                    = '(monitor)'
    HostName                        = ’North_Sales.example.com'
    StaticConnectIdentifier         = '(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)
(HOST=North_Sales.example.com)(PORT=2840))
(CONNECT_DATA=(SERVICE_NAME=North_Sales_DGMGRL.example.com)
(INSTANCE_NAME=north_sales1)(SERVER=DEDICATED)))'
    TopWaitEvents                   = '(monitor)'
    SidName                         = '(monitor)’

  Log file locations:
    Alert log               : /dev/oracle/log/diag/rdbms/North_Sales/north1/trace/alert_north1.log
    Data Guard Broker log   : /dev/oracle/log/diag/rdbms/North_Sales/north1/trace/drcnorth1.log

Database Status:
SUCCESS</code></pre></div>
                  <!-- class="example" -->
               </div><a id="DGBKR160"></a><div class="props_rev_3"><a id="GUID-3A5DC529-0C67-4EBF-8771-C7C3281F1553" name="GUID-3A5DC529-0C67-4EBF-8771-C7C3281F1553"></a><h4 id="DGBKR-GUID-3A5DC529-0C67-4EBF-8771-C7C3281F1553" class="sect4"><span class="enumeration_section">4.3.1 </span>Monitorable (Read-Only) Properties
                  </h4>
                  <div>
                     <p>Monitorable properties allow you to view information related to a configuration member, but you cannot change the property values.</p>
                     <p>Monitorable properties can be very helpful when you are trying to diagnose problems in the broker configuration. For example, you can view the <code class="codeph">InconsistentLogXptProps</code> monitorable property to determine where there is a discrepancy in redo transport services properties between the broker configuration file and the actual value currently used by the database.
                     </p>
                     <p>You can list all monitorable properties using the DGMGRL <code class="codeph">SHOW DATABASE VERBOSE</code> command. Use the <code class="codeph">SHOW DATABASE</code> command to obtain more details about a particular property. For example, the following shows the <code class="codeph">InconsistentLogXptProps</code> property:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'North_Sales' 'InconsistentLogXptProps';

INCONSISTENT LOG TRANSPORT PROPERTIES

 INSTANCE_NAME     STANDBY_NAME  PROPERTY_NAME  MEMORY_VALUE  BROKER_VALUE 
  south_sales1      South_Sales     ReopenSecs           600           300
</pre><p>Cloud Control displays the information obtained from these properties on the Edit Properties page.</p>
                  </div>
               </div><a id="DGBKR165"></a><div class="props_rev_3"><a id="GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B" name="GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B"></a><h4 id="DGBKR-GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B" class="sect4"><span class="enumeration_section">4.3.2 </span>Configurable (Changeable) Properties
                  </h4>
                  <div>
                     <p>Configurable properties affect the operation or configuration of a database or far sync instance.</p>
                     <p>When you use DGMGRL or Cloud Control to create a primary database and import existing standby databases and far sync instances into a new broker configuration, the property values are initially imported from the database or far sync instance settings.</p>
                     <p>You can update many property values when a configuration member is either disabled or enabled. When a new member is added into the configuration, the broker connects to that member and imports initial values for the member's properties from the current member settings. For example:</p>
                     <p></p><pre class="pre codeblock"><code>DGMGRL&gt; SHOW DATABASE 'North_Sales' LogXptMode;
  LogXptMode = ASYNC

DGMGRL&gt; EDIT DATABASE 'North_Sales' SET PROPERTY LogXptMode='SYNC';
  Property "LogXptMode" updated

DGMGRL&gt; SHOW DATABASE 'North_Sales' LogXptMode;
  LogXptMode = SYNC
</code></pre><p></p>
                     <p>When the configuration is enabled, for properties related to redo transport, the broker keeps the member property values in the broker configuration file consistent with the values being used by the member. The broker no longer maintains values for properties related to initialization parameters in the configuration file. Note that there is no issue with maintaining consistency. Although the broker no longer maintains values for these properties, it is still possible to use the broker CLI to update and examine the value of these properties. Due to user action, it is possible for the parameter value in the system global area (SGA) to differ from the parameter value in the server parameter file. This is not flagged as an inconsistency and only means that the server parameter file value will take effect the next time the database is restarted. The specified database must be accessible to be able to make these property changes.</p>
                     <div class="infoboxnote" id="GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B__GUID-7A55C027-EB6E-4A21-805A-911AFA59DFC4">
                        <p class="notep1">Note:</p>
                        <p>Even though you can change a property value when the configuration is disabled, the change does not take effect on the configuration member unless the configuration is enabled. Also note that some property values can only be changed in the disabled state.</p>
                     </div>
                  </div><a id="DGBKR3660"></a><div class="props_rev_3"><a id="GUID-43C85B63-339E-4431-A0CB-6BADE9298E2D" name="GUID-43C85B63-339E-4431-A0CB-6BADE9298E2D"></a><h5 id="DGBKR-GUID-43C85B63-339E-4431-A0CB-6BADE9298E2D" class="sect5"><span class="enumeration_section">4.3.2.1 </span>Resetting Broker Configurable Properties to Default Values
                     </h5>
                     <div>
                        <p>Most broker configurable properties have a default value, but you can specify a different value to override it.</p>
                        <p>In releases prior to Oracle Database 12<span class="italic">c</span> Release 1 (12.1), once you changed a default value the broker considered it to be a user-supplied value even if you later set the property back to its former default value.
                        </p>
                        <p>As of Oracle Database 12<span class="italic">c</span> Release 1 (12.1), the broker recognizes when a default value has been restored for a property and no longer considers it a user-supplied value. This is expedient in upgrade scenarios because if a default value for a property changes between releases, then the new default value is automatically put into effect after an upgrade is complete. Values that are considered user-supplied are not automatically upgraded.
                        </p>
                        <p> You do not need to know the actual default value in order to reset it. You can reset a default value at the configuration, configuration member, or instance level.</p>
                        <div class="infoboxnotealso" id="GUID-43C85B63-339E-4431-A0CB-6BADE9298E2D__GUID-0678BEF5-8527-42CA-B8B5-B8B871974376">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="oracle-data-guard-broker-commands.html#GUID-CD715676-43D3-4EBF-AFCB-50729C68CDE7" title="The EDIT CONFIGURATION RESET PROPERTY command resets the specified configuration property to its default value.">EDIT CONFIGURATION RESET (Property)</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-data-guard-broker-commands.html#GUID-57834E6A-990F-44FF-82BF-C221D8FA3400" title="The EDIT DATABASE RESET (Property) command reset the specified property for the named database back to its default value.">EDIT DATABASE RESET (Property)</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-data-guard-broker-commands.html#GUID-80730A07-6245-48FC-8A7B-2802A93E9EC7" title="The EDIT FAR_SYNC RESET (Property) command resets the specified property for the named far sync instance to its default value.">EDIT FAR_SYNC RESET (Property)</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="oracle-data-guard-broker-commands.html#GUID-E61C8F4A-5F76-425B-A107-B7ABD1AD4B38" title="The EDIT RECOVERY_APPLIANCE RESET (Property) command resets the specified property for the named Recovery Appliance to its default value.">EDIT RECOVERY_APPLIANCE RESET (Property)</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DGBKR170"></a><div class="props_rev_3"><a id="GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" name="GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A"></a><h3 id="DGBKR-GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" class="sect3"><span class="enumeration_section">4.4 </span>Managing Redo Transport Services
               </h3>
               <div>
                  <p>To manage redo transport services, you specify configurable properties on each configuration member.</p>
                  <p>The properties you specify are as follows:<a id="d7524e865" class="indexterm-anchor"></a><a id="d7524e869" class="indexterm-anchor"></a>:
                  </p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DGConnectIdentifier</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">StandbyAlternateLocation</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">Binding</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">Encryption</code> (This property can be set only on a Recovery Appliance)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LogShipping</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">LogXptMode</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">MaxFailure</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">NetTimeout</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">RedoCompression</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">RedoRoutes</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ReopenSecs</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">StandbyArchiveLocation</code></p>
                     </li>
                  </ul>
                  <p>You can use these properties to specify how the broker configures redo transport services for the standby database. The actual redo transport setup, such as setting the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter, is carried out by the broker on the primary database (except for the <code class="codeph">StandbyArchiveLocation</code> property). If changing the property requires that you change the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter attributes, the broker forces a log switch on each thread so that the new setting is adopted immediately by the primary database.
                  </p>
                  <p>You should also preset these properties on the primary database in preparation for it to be switched over to a standby database.</p>
               </div><a id="DGBKR3396"></a><div class="props_rev_3"><a id="GUID-A21F8635-0F5B-41C3-8B7E-EF604B4C1C98" name="GUID-A21F8635-0F5B-41C3-8B7E-EF604B4C1C98"></a><h4 id="DGBKR-GUID-A21F8635-0F5B-41C3-8B7E-EF604B4C1C98" class="sect4"><span class="enumeration_section">4.4.1 </span>Setting Up For Redo Transport
                  </h4>
                  <div>
                     <p>Redo data is transported to a standby database using Oracle Net.</p>
                     <div class="section">
                        <p>An Oracle Net service name is specified with the <code class="codeph">SERVICE</code> attribute of the <code class="codeph">LOG_ARCHIVE_DEST_n</code> initialization parameter and is used to transmit redo data to the standby database. The Oracle Net service name is translated into a connect descriptor that contains the information necessary for connecting to the standby database.
                        </p>
                        <p>The <code class="codeph">SERVICE</code> attribute can be set or changed by using the <code class="codeph">DGConnectIdentifier</code> database property. The <code class="codeph">DGConnectIdentifier</code> property is set when a database is first added to the configuration. Its initial value is the connect identifier that is specified in the optional <code class="codeph">CONNECT IDENTIFIER IS</code> clause of the <code class="codeph">ADD DATABASE</code> command.
                        </p>
                        <p>The <code class="codeph">DGConnectIdentifier</code> property value is also used to set up the <code class="codeph">FAL_SERVER</code> initialization parameter. If the <code class="codeph">DGConnectIdentifier</code> property for any database is changed, the <code class="codeph">SERVICE</code> attribute of the corresponding <code class="codeph">LOG_ARCHIVE_DEST_n</code> initialization parameter will also be changed. In addition, the <code class="codeph">FAL_SERVER</code> initialization parameter will also be updated on every enabled standby database in the configuration.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3536"></a><a id="DGBKR3537"></a><a id="DGBKR3661"></a><a id="DGBKR175"></a><div class="props_rev_3"><a id="GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF" name="GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF"></a><h4 id="DGBKR-GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF" class="sect4"><span class="enumeration_section">4.4.2 </span>Managing Redo Transport Services for Data Protection Modes
                  </h4>
                  <div>
                     <p>As a part of the overall configuration protection mode, you must ensure that redo transport services are also properly set up for the data protection mode that you choose.</p>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8" title="You can use the broker to set up a configuration having any of the different data protection modes.">Managing Data Protection Modes</a> describes how the broker handles data protection modes. 
                     </p>
                     <p>You use the <code class="codeph">LogXptMode</code> or <code class="codeph">RedoRoutes</code> database properties to set the <code class="codeph">SYNC</code>, <code class="codeph">ASYNC</code>, or <code class="codeph">FASTSYNC</code> mode for redo transport services.
                     </p>
                     <p>The following redo transport modes are supported:</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF__GUID-A1AD379C-140C-43E1-844C-31474C0431ED">SYNC</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Configures redo transport services for this standby database using the <code class="codeph">SYNC</code> and <code class="codeph">AFFIRM</code> attributes of the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter. This mode, along with standby redo log files, is required for configurations operating in either maximum protection mode or maximum availability mode. This redo transport service enables the highest grade of data protection to the primary database, but also can incur a higher performance impact.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF__GUID-213FC368-FD94-4008-9AB8-F1E70364EE8E">ASYNC</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Configures redo transport services for this standby database using the <code class="codeph">ASYNC</code> and <code class="codeph">NOAFFIRM</code> attributes of the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter. This mode, along with standby redo log files, enables a moderate grade of protection to the primary database, and lower performance impact.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5BFCC986-BB38-47CF-86CE-9F54E2539CBF__GUID-F9E8EB77-6C6A-41FD-AF30-3F15A358EAF9">FASTSYNC</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Configures redo transport services for this standby database using the <code class="codeph">SYNC</code> and <code class="codeph">NOAFFIRM</code> attributes of the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter. This mode is only available in maximum availability protection mode.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3932"></a><a id="DGBKR3933"></a><a id="DGBKR3852"></a><div class="props_rev_3"><a id="GUID-81DE5E90-C544-410C-942E-6172E7BB4205" name="GUID-81DE5E90-C544-410C-942E-6172E7BB4205"></a><h4 id="DGBKR-GUID-81DE5E90-C544-410C-942E-6172E7BB4205" class="sect4"><span class="enumeration_section">4.4.3 </span>Advanced Redo Transport Settings
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">RedoRoutes</code> property to override the default behavior in which a primary database sends its redo to every possible redo transport destination in the configuration.
                     </p>
                     <p>An example of redo transport topology other than the default would be one in which a physical standby or a far sync instance forwards redo received from the primary database to one or more destinations, or one in which the redo transport mode used for a given destination is dependent on which database is in the primary role.</p>
                     <div class="infoboxnotealso" id="GUID-81DE5E90-C544-410C-942E-6172E7BB4205__GUID-D9DD8190-E8E5-4332-98A2-2735D9E753AD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-data-guard-broker-properties.html#GUID-FB1A96ED-5E6D-43FE-BFC4-6A808E589410" title="The RedoRoutes property lets you override the default behavior by which a primary database sends the redo that it generates to every other redo transport destination in the configuration.">RedoRoutes</a> for information about redo routing rules when you use the <code class="codeph">RedoRoutes</code> property
                              </p> 
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-81DE5E90-C544-410C-942E-6172E7BB4205__GUID-621A2C97-A225-4874-8061-C9AB80972484">
                        <p class="titleinexample">Example 4-2 Using the RedoRoutes Property for Real-Time Cascading</p>
                        <p>Consider a configuration that has a primary database (<code class="codeph">North_Sales</code>) and two physical standby databases (<code class="codeph">Local_Sales</code> and <code class="codeph">Remote_Sales</code>). The <code class="codeph">Local_Sales</code> database is located in the same data center as the primary for high availability purposes. The <code class="codeph">Remote_Sales</code> database is located in a remote data center for disaster recovery purposes. Instead of the primary having to ship its redo to both databases, it is possible to use the <code class="codeph">RedoRoutes</code> property to configure real-time cascading, in which the local physical standby database forwards redo from <code class="codeph">North_Sales</code> to the remote physical standby database, <code class="codeph">Remote_Sales</code>. To accomplish this, the <code class="codeph">RedoRoutes</code> property must be set as follows:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>	On the <code class="codeph">North_Sales</code> database, the <code class="codeph">RedoRoutes</code> property must specify that if <code class="codeph">North_Sales</code> is in the primary role, then it should ship redo to the <code class="codeph">Local_Sales</code> database using synchronous transport mode. This rule prevents the primary from shipping redo data directly to the <code class="codeph">Remote_Sales</code> database.
                              </p>
                           </li>
                           <li>
                              <p>	On the <code class="codeph">Local_Sales</code> database, the <code class="codeph">RedoRoutes</code> property must specify that if <code class="codeph">North_Sales</code> is in the primary role, then <code class="codeph">Local_Sales</code> should forward redo it receives from <code class="codeph">North_Sales</code> on to <code class="codeph">Remote_Sales</code>.
                              </p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'North_Sales' SET PROPERTY 'RedoRoutes' = '(LOCAL : Local_Sales SYNC)';
DGMGRL&gt; EDIT DATABASE 'Local_Sales' SET PROPERTY 'RedoRoutes' = '(North_Sales : Remote_Sales ASYNC)';
</pre><p>To see the runtime <code class="codeph">RedoRoutes</code> configuration, use the <code class="codeph">SHOW</code> <code class="codeph">CONFIGURATION</code> command. For example:
                        </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW CONFIGURATION;
 
Configuration - Sales_Configuration
 
  Protection Mode: MaxAvailability
  Members:
  North_Sales  - Primary database
    Local_Sales  - Physical standby database
      Remote_Sales  - Physical standby database (receiving current redo)
 
Fast-Start Failover: DISABLED
 
Configuration Status:
SUCCESS
</pre><p>Note that the <code class="codeph">ASYNC</code> redo transport attribute was explicitly specified in the redo route rule for the <code class="codeph">Remote_Sales</code> destination to enable real-time cascading of redo to that destination. (Real-time cascading requires a license for the Oracle Active Data Guard option.)
                        </p>
                        <p>To disable real-time cascading of redo, do not specify the <code class="codeph">ASYNC</code> redo transport attribute. For example:
                        </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'Local_Sales' SET PROPERTY 'RedoRoutes' = '(North_Sales : Remote_Sales)';</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81DE5E90-C544-410C-942E-6172E7BB4205__GUID-2DF34135-CAC2-494C-8A06-006A98902881">
                        <p class="titleinexample">Example 4-3 Using the RedoRoutes Property for Remote Alternate Destinations</p>
                        <p>The <code class="codeph">RedoRoutes</code> property can also be used to set up a remote alternate destination so that a terminal member can still receive redo data even if the member from which it was receiving the redo data fails. Using the previous example, it would be possible to have the primary database, <code class="codeph">North_Sales</code>, send redo data directly to <code class="codeph">Remote_Sales</code> if the <code class="codeph">Local_Sales</code> standby database failed. It is also possible, using the <code class="codeph">PRIORITY</code> attribute, to set it up so that once the <code class="codeph">Local_Sales</code> failure has been resolved it can resume shipping redo to <code class="codeph">Remote_Sales</code>. 
                        </p><pre class="pre codeblock"><code>DGMGRL&gt; EDIT DATABASE 'North_Sales' SET PROPERTY 'RedoRoutes' = '(LOCAL : ( Local_Sales ASYNC PRIORITY=1, Remote_Sales ASYNC PRIORITY=2 ))';
Property "RedoRoutes" updated

DGMGRL&gt; EDIT DATABASE 'Local_Sales' SET PROPERTY 'RedoRoutes' = '(North_Sales : Remote_Sales ASYNC)';
Property "RedoRoutes" updated

DGMGRL&gt; SHOW CONFIGURATION;

Configuration - Sales_Configuration

  Protection Mode: MaxPerformance
  Members:
  North_Sales    - Primary database
    Local_Sales  - Physical standby database
      Remote_Sales - Physical standby database
Fast-Start Failover: DISABLED

Configuration Status:
SUCCESS</code></pre><p>To see the full <code class="codeph">RedoRoutes</code> configuration, use the <code class="codeph">SHOW</code> <code class="codeph">CONFIGURATION</code> <code class="codeph">VERBOSE</code> command. For example:
                        </p><pre class="pre codeblock"><code>DGMGRL&gt; SHOW CONFIGURATION VERBOSE;

Configuration - Sales_Configuration

  Protection Mode: MaxPerformance
  Members:
    North_Sales - Primary database
      Local_Sales - Physical standby database
        Remote_Sales - Physical standby database
      Remote_Sales - Physical standby database (alternate of Local_Sales)

  Properties:
    FastStartFailoverThreshold      = '180'
    OperationTimeout                = '30'
    TraceLevel                      = 'USER'
    FastStartFailoverLagLimit       = '300'
    CommunicationTimeout            = '180'
    ObserverReconnect               = '0'
    FastStartFailoverAutoReinstate  = 'TRUE'
    FastStartFailoverPmyShutdown    = 'TRUE'
    BystandersFollowRoleChange      = 'ALL'
    ObserverOverride                = 'FALSE'
    ExternalDestination1            = ''
    ExternalDestination2            = ''
    PrimaryLostWriteAction          = 'CONTINUE'
    ConfigurationWideServiceName    = 'c0_CFG'

Fast-Start Failover: DISABLED

Configuration Status:
SUCCESS</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DGBKR3538"></a><a id="DGBKR3539"></a><a id="DGBKR180"></a><div class="props_rev_3"><a id="GUID-407D7187-93B3-4DAB-A31E-4D5302265A48" name="GUID-407D7187-93B3-4DAB-A31E-4D5302265A48"></a><h4 id="DGBKR-GUID-407D7187-93B3-4DAB-A31E-4D5302265A48" class="sect4"><span class="enumeration_section">4.4.4 </span>Turning Redo Transport Services On and Off
                  </h4>
                  <div>
                     <p>You turn redo transport services on and off by setting the state of the primary database.</p>
                     <div class="section">
                        <p><a id="d7524e1358" class="indexterm-anchor"></a>Setting the primary database state to <code class="codeph">TRANSPORT-ON</code> starts redo transport services at the primary database, and setting the primary database state to <code class="codeph">TRANSPORT-OFF</code> stops redo transport services at the primary database.
                        </p>
                        <div class="infoboxnote" id="GUID-407D7187-93B3-4DAB-A31E-4D5302265A48__GUID-1C47EA3F-6BE4-48DC-AC90-002936181462">
                           <p class="notep1">Note:</p>
                           <p>Oracle does not recommend turning off redo transport services to all standby databases. This increases the risk of data loss if the primary database fails.</p>
                        </div>
                        <p>Turn redo transport services on and off to an individual standby database using the <code class="codeph">LogShipping</code> database property on the standby database. The <code class="codeph">LogShipping</code> property accepts values <code class="codeph">ON</code> and <code class="codeph">OFF</code>. If you set the <code class="codeph">LogShipping</code> property to <code class="codeph">OFF</code> for a standby database, redo transport services to this standby database are turned off, while redo transport services to other databases are not affected. You can set <code class="codeph">LogShipping</code> to <code class="codeph">ON</code> to turn back on redo transport services to the standby database.
                        </p>
                        <p>The relationship between setting the primary database state and setting the <code class="codeph">LogShipping</code> property is as follows:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>If the primary database state is set to <code class="codeph">TRANSPORT-OFF</code>, redo transport services to all the standby databases are stopped regardless of the <code class="codeph">LogShipping</code> property values of the individual standby databases.
                              </p>
                           </li>
                           <li>
                              <p>If the primary database state is set to <code class="codeph">TRANSPORT-ON</code>, redo transport services to each standby database are determined by the <code class="codeph">LogShipping</code> property of that database.
                              </p>
                           </li>
                        </ul>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-407D7187-93B3-4DAB-A31E-4D5302265A48__I1029225">Example 4-4</a> and <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-407D7187-93B3-4DAB-A31E-4D5302265A48__I1029241">Example 4-5</a> show how to turn off <a id="d7524e1429" class="indexterm-anchor"></a>redo transport services in two different scenarios.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-407D7187-93B3-4DAB-A31E-4D5302265A48__I1029225">
                        <p class="titleinexample">Example 4-4 Turn Off Redo Transport Services to All Standby Databases</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'North_Sales' SET STATE='TRANSPORT-OFF';
DGMGRL&gt; SHOW DATABASE 'North_Sales';
 
Database - North_Sales
 
  Role:            PRIMARY
  Intended State:  TRANSPORT-OFF
  Instance(s):
    north_sales1
 
Database Status:
SUCCESS</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-407D7187-93B3-4DAB-A31E-4D5302265A48__I1029241">
                        <p class="titleinexample">Example 4-5 Turn Off Redo Transport Services to a Specific Standby Database</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'LogShipping'='OFF';
Property "LogShipping" updated

DGMGRL&gt; SHOW DATABASE 'South_Sales' 'LogShipping';
  LogShipping = 'OFF'</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DGBKR185"></a><div class="props_rev_3"><a id="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D" name="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D"></a><h4 id="DGBKR-GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D" class="sect4"><span class="enumeration_section">4.4.5 </span>Specifying Locations for Archived Redo Log Files
                  </h4>
                  <div>
                     <p>You can use broker configurable properties to set up locations to store both archived standby redo log files and archived online redo log files.</p>
                     <p>For online redo log files, use the <code class="codeph">ArchiveLocation</code> and <code class="codeph">AlternateLocation</code> properties on a primary, logical, or snapshot standby database. 
                     </p>
                     <p>For standby redo log files, use the <code class="codeph">StandbyArchiveLocation</code> and <code class="codeph">StandbyAlternateLocation</code> properties on a standby database. If the <code class="codeph">StandbyArchiveLocation</code> is not set, <code class="codeph">ArchiveLocation</code> or <code class="codeph">AlternateLocation</code> specify the archiving location for both of online and standby redo log files. If <code class="codeph">StandbyArchiveLocation</code> is set, ArchiveLocation and AlternateLocation specify the archiving location for online redo log files.
                     </p>
                     <p>The <code class="codeph">StandbyArchiveLocation</code> property specifies a location to store archived redo log files. The broker uses the location to store only archived redo log files received from the primary database. For archived redo log files generated locally when the database is either the primary database, a logical standby database, or a snapshot standby database, you need to specify the <code class="codeph">ArchiveLocation</code> property. The broker allows the value of the <code class="codeph">StandbyArchiveLocation</code> and <code class="codeph">ArchiveLocation</code> properties to be the same as the location you set up for locally generated logs, in which case the broker sets up the <code class="codeph">VALID_FOR</code> attribute of the destination appropriately so that it can be used for both the archived redo log files received from the primary database and archived redo log files generated locally. When a location is used for both online and standby redo log files, you must configure the <code class="codeph">ArchiveLocation</code> property to the shared location and leave the <code class="codeph">StandbyArchiveLocation</code> property empty.
                     </p>
                     <p>You can also set up an alternate location to store archived redo log files by using the <code class="codeph">StandbyAlternateLocation</code> and <code class="codeph">AlternateLocation</code> properties. The alternate locations specified by these properties are where the archived redo log files are stored if the original archive location (specified by <code class="codeph">StandbyArchiveLocation</code> or <code class="codeph">Archivelocation</code>) fails. The broker sets up the alternate location properly using the <code class="codeph">ALTERNATE</code> attribute of the <code class="codeph">LOG_ARCHIVE_DEST_<span class="codeinlineitalic">n</span></code> initialization parameter. 
                     </p>
                     <div class="infoboxnote" id="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D__GUID-C23AC892-16F3-49E5-BFAC-E61BA0F46BA0">
                        <p class="notep1">Note:</p>
                        <p>You can use the database recovery area to store archived redo log files on the standby. In such a case, the value of the <code class="codeph">StandbyArchiveLocation</code> or <code class="codeph">ArchiveLocation</code> properties can be set to <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code>.
                        </p>
                        <p>If you are not using a database recovery area, then on a logical standby database Oracle recommends that the <code class="codeph">ArchiveLocation</code> property be different from the value of the <code class="codeph">StandbyArchiveLocation</code> property.
                        </p>
                     </div>
                     <div class="example" id="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D__GUID-F6252CA2-4B44-421A-919E-2E96FA68F9D7">
                        <p class="titleinexample">Example 4-6 Using the Same Archiving Location for Standby Redo Log Files and Online Redo Log Files</p>
                        <p>The following example uses the same archiving location for online redo log files and standby redo log files.</p><pre class="pre codeblock"><code>ArchiveLocation='/archfs/arch'</code></pre><p></p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D__GUID-696EDEBB-0F6E-4A41-94ED-7310C43FD2CD">
                        <p class="titleinexample">Example 4-7 Specifying an Alternate Location for Archived Standby and Online Redo Log Files</p>
                        <p>The following example uses the same archiving location for online redo log files and standby redo log files. Configuring the <code class="codeph">AlternateLocation</code> property ensures that a shared, alternate, location is available to store standby redo log files if the location specified by the <code class="codeph">ArchiveLocation</code> property is unavailable.
                        </p><pre class="pre codeblock"><code>ArchiveLocation='/archfs/arch'
AlternateLocation='/archfs/alt'</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E58A6D1D-19BF-4C47-A0A3-DD228A77DB2D__GUID-F0D54779-9EF6-4CC0-A9E6-253C6D7DB756">
                        <p class="titleinexample">Example 4-8 Specifying Separate Archiving Locations for Online and Standby Redo Log Files</p>
                        <p>This example configures separate archiving locations for standby redo log files and online redo log files. Also, alternate archiving locations are configured for the online and standby redo log files by using the <code class="codeph">AlternateLocation</code> and <code class="codeph">StandbyAlternateLocation</code> properties respectively
                        </p><pre class="pre codeblock"><code>ArchiveLocation='/archfs/arch/online'
AlternateLocation='/archfs/alt/online'
StandbyArchiveLocation='/archfs/arch/standby'
StandbyAlternateLocation='/archfs/alt/standby'</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DGBKR195"></a><div class="props_rev_3"><a id="GUID-C44B11B8-B607-4514-AE7B-AB4F86FD1641" name="GUID-C44B11B8-B607-4514-AE7B-AB4F86FD1641"></a><h4 id="DGBKR-GUID-C44B11B8-B607-4514-AE7B-AB4F86FD1641" class="sect4"><span class="enumeration_section">4.4.6 </span>Other Redo Transport Settings
                  </h4>
                  <div>
                     <p>You can use database properties to tune the performance of redo transport services and to set up redo transport services failure policies. </p>
                     <p></p>
                     <p>The properties used are: <code class="codeph">Binding</code>, <code class="codeph">MaxFailure</code>, <code class="codeph">NetTimeout</code>, <code class="codeph">RedoCompression</code>, and <code class="codeph">ReopenSecs</code> <a id="d7524e1656" class="indexterm-anchor"></a><a id="d7524e1660" class="indexterm-anchor"></a><a id="d7524e1664" class="indexterm-anchor"></a>. These properties correspond to attributes on the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-C44B11B8-B607-4514-AE7B-AB4F86FD1641__GUID-23FF658E-E8BE-4B74-895C-AFDD21673A0C">
                        <p class="notep1">See Also:</p>
                        <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration."> Oracle Data Guard Broker Properties</a> for complete information about these database properties
                        </p>
                     </div>
                  </div>
               </div><a id="DGBKR205"></a><div class="props_rev_3"><a id="GUID-81371C7E-2D13-4CAB-A9AF-2CC6E2D954C7" name="GUID-81371C7E-2D13-4CAB-A9AF-2CC6E2D954C7"></a><h4 id="DGBKR-GUID-81371C7E-2D13-4CAB-A9AF-2CC6E2D954C7" class="sect4"><span class="enumeration_section">4.4.7 </span>Redo Transport Services in an Oracle RAC Database Environment
                  </h4>
                  <div>
                     <p>If the primary database is an Oracle RAC database, the broker ensures that redo transport services are set up identically on each of the primary database instances.</p>
                     <p>Each instance has the same remote destinations, and for each remote destination, all instances are set up the same in terms of redo transport service, performance related settings, local archival of the online redo logs, and so on. If an instance has different settings, the broker raises a health check warning on that particular instance</p>
                     <p>Settings relative to redo transport services are saved in the broker configuration file as properties. When you update a redo transport-related property on a standby database, the corresponding change is also made automatically by the broker to the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter on all of the primary database instances. If a new instance comes up on the primary database, the broker sets up redo transport services for the new instance using the redo transport-related properties of all the configuration members currently being managed by the broker. After the new instance is opened for activity, all archived redo log files generated on this instance begin to transmit to members of the configuration. 
                     </p>
                     <div class="infoboxnote" id="GUID-81371C7E-2D13-4CAB-A9AF-2CC6E2D954C7__GUID-A08BBE1E-FDC3-40CA-878B-874D64AEE897">
                        <p class="notep1">See also:</p>
                        <p><a href="../sbydb/LOG_ARCHIVE_DEST_n-parameter-attributes.html#SBYDB01100" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for additional information about the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> initialization parameter
                        </p>
                     </div>
                  </div>
               </div><a id="DGBKR3635"></a><div class="props_rev_3"><a id="GUID-376B5C8C-C922-4AED-A8BB-1E5D362551A6" name="GUID-376B5C8C-C922-4AED-A8BB-1E5D362551A6"></a><h4 id="DGBKR-GUID-376B5C8C-C922-4AED-A8BB-1E5D362551A6" class="sect4"><span class="enumeration_section">4.4.8 </span>Transport Lag
                  </h4>
                  <div>
                     <p>Transport lag is a measure of the degree to which the transport of redo to a standby database or far sync instance lags behind the generation of redo on the primary database.</p>
                     <p>If there are one or more redo gaps on a standby database or far sync instance, then the transport lag is calculated as if no redo has been received after the beginning of the earliest redo gap.</p>
                     <p>Both Cloud Control and the DGMGRL client display the redo transport lag for each managed standby or far sync instance. Cloud Control displays the transport lag on the Oracle Data Guard home page. The DGMGRL client displays the transport lag in the <code class="codeph">SHOW DATABASE</code> output. There is no transport lag displayed for a primary database. For example:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; show database 'South_Sales';
 
Database - South_Sales
 
  Role:            PHYSICAL STANDBY
  Intended State:  APPLY-ON
  <span class="bold">Transport Lag:   0 seconds (computed 0 seconds ago)</span>
  Apply Lag:       0 seconds (computed 0 seconds ago)
  Apply Rate:      255.00 KByte/s
  Real Time Query: OFF
  Instance(s):
    south_sales1
 
Database Status:
SUCCESS
</pre><p></p>
                     <p>Starting with Oracle Database Release 19c, the <code class="codeph">SHOW CONFIGURATION LAG</code> command displays a summary of the broker configuration and the transport lag of all standby databases.
                     </p>
                     <p>The transport lag can help you identify any problems that may exist with the redo transport services.</p>
                     <p>You can set the <code class="codeph">TransportLagThreshold</code> database configurable property to generate a health check warning when the transport of redo data to a standby database or far sync instance lags behind the generation of redo data on the primary database.
                     </p>
                     <p>The following command sets the <code class="codeph">TransportLagThreshold</code> property to 15 seconds:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'TransportLagThreshold'=15;
Property TransportLagThreshold updated
</pre><p>Additionally, you can set the <code class="codeph">TransportDisconnectedThreshold</code> database configurable property to generate a health check warning if a standby or far sync instance finds that it has not had any redo transport-related communication with the primary database. The property has a default value of 30 seconds.
                     </p>
                     <p>The following command sets the <code class="codeph">TransportDisconnectedThreshold</code> property to 15 seconds:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'TransportDisconnectedThreshold'=15;
Property TransportDisconnectedThreshold updated</pre></div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A" name="GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A"></a><h3 id="DGBKR-GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A" class="sect3"><span class="enumeration_section">4.5 </span>Managing Redo Transport Services for Recovery Appliance
               </h3>
               <div>
                  <p>Redo transport services for a Zero Data Loss Recovery Appliance (Recovery Appliance) are managed in the same way as for a standby database.</p>
                  <div class="section">
                     <p>You can use the broker to manage redo transport services to a Recovery Appliance from any member in the configuration. For example, to add a Recovery Appliance to a broker configuration and then enable it, you would take the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Add the Recovery Appliance to the broker configuration.</span><div><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; ADD RECOVERY_APPLIANCE EnterpriseRecoveryAppliance AS CONNECT IDENTIFIER IS
EnterpriseRecoveryAppliance.example.com;
Oracle Recovery Appliance "EnterpriseRecoveryAppliance" added
 
DGMGRL&gt; SHOW RECOVERY_APPLIANCE 'EnterpriseRecoveryAppliance';
 Oracle Recovery Server - EnterpriseRecoveryAppliance
   Transport Lag: 0 seconds
  Redo Source: North_Sales
 
Oracle Recovery Appliance Status:
DISABLED
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Enable the Recovery Appliance.</span><div><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; ENABLE RECOVERY_APPLIANCE 'EnterpriseRecoveryAppliance';
 
DGMGRL&gt; SHOW RECOVERY_APPLIANCE 'EnterpriseRecoveryAppliance';
 Oracle Recovery Server - EnterpriseRecoveryAppliance
   Transport Lag: 0 seconds
  Redo Source: North_Sales
 
Oracle Recovery Appliance Status:
SUCCESS
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Set a transport lag threshold.</span><div>
                           <p>Set the <code class="codeph">TransportLagThreshold</code> database configurable property to generate a health check warning when the transport of redo data to the Recovery Appliance lags behind the generation of redo data on the source database. This step is optional, but if you do not specify a transport lag threshold, then the default value of 0 seconds is used and no warning is generated if a transport lag exists.
                           </p>
                           <p>The following command sets the <code class="codeph">TransportLagThreshold</code> property to 15 seconds:
                           </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT RECOVERY_APPLIANCE 'EnterpriseRecoveryAppliance'
SET PROPERTY 'TransportLagThreshold'=15;
Property TransportLagThreshold updated
</pre></div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A__BABBEGEI">
                     <p class="titleinexample">Example 4-9 Setting Up Redo Transport From a Physical Standby To a Recovery Appliance</p>
                     <p>Consider a configuration that has a primary database (<code class="codeph">North_Sales</code>) a physical standby database (<code class="codeph">South_Sales</code>), and a Recovery Appliance (<code class="codeph">EnterpriseRecoveryAppliance</code>). Instead of the primary having to ship its redo to both the standby and the Recovery Appliance, you can set up the <code class="codeph">RedoRoutes</code> property so that the primary sends redo only to the physical standby, and the physical standby then forwards that redo to the Recovery Appliance. To accomplish this, the <code class="codeph">RedoRoutes</code> property must be set as follows:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>	On the <code class="codeph">North_Sales</code> database, the <code class="codeph">RedoRoutes</code> property must specify that if <code class="codeph">North_Sales</code> is in the primary role, then it should ship redo to the <code class="codeph">South_Sales</code> database using synchronous transport mode. This rule prevents the primary from shipping redo data directly to the Recovery Appliance, <code class="codeph">EnterpriseRecoveryAppliance</code>.
                           </p>
                        </li>
                        <li>
                           <p>	On the <code class="codeph">South_Sales</code> database, the <code class="codeph">RedoRoutes</code> property must specify that if <code class="codeph">North_Sales</code> is in the primary role, then <code class="codeph">South_Sales</code> should forward redo it receives from <code class="codeph">North_Sales</code> on to <code class="codeph">EnterpriseRecoveryAppliance</code>.
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'North_Sales' SET PROPERTY 'RedoRoutes' = '(LOCAL : South_Sales SYNC)';
DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'RedoRoutes' = '(North_Sales : EnterpriseRecoveryAppliance ASYNC)';
</pre><p>Note that the <code class="codeph">ASYNC</code> redo transport attribute was explicitly specified in the redo route rule for the <code class="codeph">EnterpriseRecoveryAppliance</code> destination to enable real-time cascading of redo to that destination.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>Once a Recovery Appliance has been added to a broker configuration, it can receive redo from either the primary database or a standby database. <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A__BABBEGEI">Example 4-9</a> shows how to set up a Recovery Appliance to receive redo from a physical standby database.
                     </p>
                     <div class="infoboxnotealso" id="GUID-845BE719-CC15-4D6C-BD91-FF935CAE605A__GUID-05A1FCB1-557C-46DD-8289-9BA1E94ACD26">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" title="To manage redo transport services, you specify configurable properties on each configuration member.">Managing Redo Transport Services</a> for information about managing redo transport services
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DGBKR210"></a><div class="props_rev_3"><a id="GUID-6753936C-E2E3-471E-BCC5-0C4697AD4255" name="GUID-6753936C-E2E3-471E-BCC5-0C4697AD4255"></a><h3 id="DGBKR-GUID-6753936C-E2E3-471E-BCC5-0C4697AD4255" class="sect3"><span class="enumeration_section">4.6 </span>Managing Log Apply Services
               </h3>
               <div>
                  <p>You can manage Redo Apply and SQL Apply on physical and logical standby databases by using database properties related to log apply.</p>
                  <p>The database properties related to log apply are as follows: <a id="d7524e1973" class="indexterm-anchor"></a><a id="d7524e1977" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Properties common to Redo Apply and SQL Apply</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ApplyInstanceTimeout</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DelayMins</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PreferredApplyInstance</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Properties specific to Redo Apply</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ApplyParallel</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ApplyInstances</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Properties specific to SQL Apply</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LsbyMaxEventsRecorded</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyPreserveCommitOrder</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyRecordSkipErrors</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyRecordSkipDdl</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyRecordAppliedDdl</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyMaxSga</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LsbyMaxServers</code></p>
                           </li>
                        </ul>
                        <p>There are some properties related to SQL Apply that, if changed, may require a restart of SQL Apply if the current database state is <code class="codeph">APPLY-ON</code>. See the information in <a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration."> Oracle Data Guard Broker Properties</a> about properties related to SQL Apply, to determine which ones require SQL Apply to be restarted.
                        </p>
                        <p>If the current database state is <code class="codeph">APPLY-OFF</code>, the property changes will take effect the next time the database state is changed to <code class="codeph">APPLY-ON</code>.
                        </p>
                     </li>
                  </ul>
               </div><a id="DGBKR220"></a><div class="props_rev_3"><a id="GUID-5562D067-BAF8-45FA-9F49-BCF1C0BFB76A" name="GUID-5562D067-BAF8-45FA-9F49-BCF1C0BFB76A"></a><h4 id="DGBKR-GUID-5562D067-BAF8-45FA-9F49-BCF1C0BFB76A" class="sect4"><span class="enumeration_section">4.6.1 </span>Managing Delayed Apply
                  </h4>
                  <div>
                     <p>You can set up Apply Services so that the application of redo to the standby database is delayed.</p>
                     <p>This allows the standby database to lag behind the primary database, and if a user error (for example, dropping a table) occurs during this window of time, the standby database will still contain the correct data that can be transmitted back to the primary database to repair the data. </p>
                     <p>By default, no delay is configured and the redo data is applied on a standby database as soon as possible. If the standby database has standby redo logs configured, the broker will enable real-time apply. When Redo Apply and SQL Apply apply redo in real time, the redo data is recovered directly from the standby redo log files as they are being filled. This means that the standby database does not have to wait for the log files to be archived before applying redo data from the archived redo log files. This minimizes the transactional lag between the primary and the standby.</p>
                     <p>Use the <code class="codeph">DelayMins</code> database property to specify the number of minutes that log apply services must wait before applying redo data to the standby database. Note that only log apply services on the standby database are delayed. Redo transport services on the primary database are not delayed, thus the primary database data is still well protected by the standby database.
                     </p>
                     <div class="infoboxnote" id="GUID-5562D067-BAF8-45FA-9F49-BCF1C0BFB76A__GUID-81AD90CB-4BBA-476B-964D-0A032A2AC5FA">
                        <p class="notep1">Caution:</p>
                        <p>Because the broker automatically enables real-time apply on standby databases, Oracle recommends that you configure all databases to use Flashback Database.</p>
                     </div>
                  </div>
               </div><a id="DGBKR225"></a><div class="props_rev_3"><a id="GUID-BD2898F5-9BF4-444B-A0B5-3965F53C995D" name="GUID-BD2898F5-9BF4-444B-A0B5-3965F53C995D"></a><h4 id="DGBKR-GUID-BD2898F5-9BF4-444B-A0B5-3965F53C995D" class="sect4"><span class="enumeration_section">4.6.2 </span>Managing Parallel Apply with Redo Apply
                  </h4>
                  <div>
                     <p>For Redo Apply, you can configure whether multiple parallel processes are used to apply redo data received from the primary database by using the <code class="codeph">ApplyParallel</code> database property.
                     </p>
                     <p> Parallelism is enabled by default, which means Redo Apply automatically chooses the optimal number of parallel processes based on the number of CPUs in the system. (This is equivalent to setting the <code class="codeph">ApplyParallel</code> property to <code class="codeph">AUTO</code>.) You can disable parallelism by setting the <code class="codeph">ApplyParallel</code> property to <code class="codeph">NO</code>.  
                     </p>
                     <div class="infoboxnote" id="GUID-BD2898F5-9BF4-444B-A0B5-3965F53C995D__GUID-C871854B-35E6-48D2-9B6C-9F13B8E2C49C">
                        <p class="notep1">Note:</p>Parallel Redo Apply is different from multi-instance Redo Apply. Parallel Redo Apply means that there are multiple Redo Apply slaves per instance; this value is set using the broker <code class="codeph">ApplyParallel</code> property. Multi-instance Redo Apply means that there are multiple instances running Redo Apply; this value is set with the broker <code class="codeph">ApplyInstances</code> property. The two properties can be used together to control the Redo Apply slaves on each instance on which apply is running in multi-instance apply. The number of parallel slaves specified by the <code class="codeph">ApplyParallel</code> property will be the same on each instance in a multi-instance apply configuration.
                     </div>
                     <div class="infoboxnotealso" id="GUID-BD2898F5-9BF4-444B-A0B5-3965F53C995D__GUID-B9C95C91-63C6-468E-BB37-ECE28183348E">
                        <p class="notep1">See Also:</p>
                        <p><a href="oracle-data-guard-broker-properties.html#GUID-1E8E8B1D-A138-4B31-8F8C-C5E4CC4F2E8C" title="The ApplyParallel configurable property specifies whether Redo Apply should use multiple processes to apply redo data to the physical standby database.">ApplyParallel</a></p>
                        <p><a href="oracle-data-guard-broker-properties.html#GUID-E887A076-74A1-4970-8ED9-EF643D60DB0D" title="The ApplyInstances property lets you specify how many physical standby instances run Redo Apply.">ApplyInstances</a></p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A0CC5489-FD5D-4B08-BD95-0319A1E958EA" name="GUID-A0CC5489-FD5D-4B08-BD95-0319A1E958EA"></a><h4 id="DGBKR-GUID-A0CC5489-FD5D-4B08-BD95-0319A1E958EA" class="sect4"><span class="enumeration_section">4.6.3 </span>Managing Multi-Instance Redo Apply
                  </h4>
                  <div>
                     <p>For Redo Apply in an Oracle RAC database, you can configure the number of instances that can be engaged in recovery by means of the <code class="codeph">ApplyInstances</code> property value.
                     </p>
                     <p>By default, only one instance is involved in recovery activity. However, the <code class="codeph">ApplyInstances</code> property can be set to indicate a specific number of instances or the value <code class="codeph">ALL</code>, to indicate all instances. When recovery is started, it checks to see if enough instances as configured are available to start recovery on. If not, then broker delays starting recovery for one minute to allow other instances to start up and then starts recovery. 
                     </p>
                     <p>During periodic health checks, broker checks to see if more instances have started that could potentially be engaged in recovery. If so, then broker stops and restarts recovery to engage the additional instances. </p>
                     <p> Changing the value of the <code class="codeph">ApplyInstances</code> property value results in recovery being restarted with the new values.
                     </p>
                     <p>All instances must be in the same state (open or mounted) to be able to engage that instance in recovery.</p>
                  </div>
               </div><a id="DGBKR250"></a><div class="props_rev_3"><a id="GUID-AD180341-C7FD-4965-8826-E32372F10F27" name="GUID-AD180341-C7FD-4965-8826-E32372F10F27"></a><h4 id="DGBKR-GUID-AD180341-C7FD-4965-8826-E32372F10F27" class="sect4"><span class="enumeration_section">4.6.4 </span>Apply Services in an Oracle RAC Database Environment
                  </h4>
                  <div>
                     <p>When a standby database is an Oracle RAC database, SQL Apply and Redo Apply make use of an apply instance.  </p>
                     <p>SQL Apply can run on only one instance of an Oracle RAC database at any time. This instance is called the apply instance. </p>
                     <p>Redo Apply can run on all instances of an Oracle RAC database at the same time, but only one of the instances is the apply coordinator and that is the instance that the broker considers to be the apply instance. This feature requires that the <code class="codeph">ApplyInstances</code> database configurable property (valid only on physical standby databases) be set to a non-zero value. See <a href="oracle-data-guard-broker-properties.html#GUID-E887A076-74A1-4970-8ED9-EF643D60DB0D" title="The ApplyInstances property lets you specify how many physical standby instances run Redo Apply.">ApplyInstances</a>.
                     </p>
                     <p>If the apply instance fails, then the broker automatically restarts SQL Apply, or the Redo Apply coordinator, as appropriate, on a different instance. This is called apply instance failover (see <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-EFAD8D8F-4BFB-418F-893B-F8B6548543B7" title="To tolerate a failure of the apply instance, the broker leverages the availability of the Oracle RAC standby database by automatically failing over log apply services to a different standby instance.">Apply Instance Failover</a>).
                     </p>
                  </div><a id="DGBKR255"></a><div class="props_rev_3"><a id="GUID-F46F089F-F256-426B-B84A-4E1D25A469C7" name="GUID-F46F089F-F256-426B-B84A-4E1D25A469C7"></a><h5 id="DGBKR-GUID-F46F089F-F256-426B-B84A-4E1D25A469C7" class="sect5"><span class="enumeration_section">4.6.4.1 </span>Selecting the Apply Instance
                     </h5>
                     <div>
                        <p>If you have no preference which instance is to be the apply instance in an Oracle RAC standby database, the broker randomly picks an apply instance. If you want to select a particular instance as the apply instance, there are two methods to do so.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-F46F089F-F256-426B-B84A-4E1D25A469C7__GUID-B08199AA-E64E-422B-962F-B3C835B500E0">
                              <p class="notep1">Note:</p>
                              <p>The information in this section is not applicable to snapshot standby databases or far sync instances.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>The first method is to set the value of the <code class="codeph">PreferredApplyInstance</code> database property to the name of the instance (see the <code class="codeph">InstanceName</code> property) you want to be the apply instance. The broker starts log apply services on that instance if no apply instance is yet selected in the Oracle RAC standby database. This could be the case before you enable the standby database for the first time, or if the apply instance just failed and the broker is about to do an apply instance failover, or if the Oracle RAC database is currently the primary and you want to specify its apply instance in preparation for a switchover. Once the apply instance is selected and, as long as the apply instance is still running, the broker disregards the value of the <code class="codeph">PreferredApplyInstance</code> property even if you change it.
                                 </p>
                              </li>
                              <li>
                                 <p>The second method is to change the apply instance when the apply instance is already selected and is running. To change the apply instance, issue the DGMGRL <code class="codeph">SET STATE</code> command to set the standby database state to <code class="codeph">APPLY-ON</code>, with a specific apply instance argument. The <code class="codeph">SET STATE</code> command will update the <code class="codeph">PreferredApplyInstance</code> property to the new apply instance value, and then move log apply services to the new instance. For example, use DGMGRL <code class="codeph">SHOW</code> command to show the available instances for the standby database, then issue the <code class="codeph">EDIT DATABASE</code> command to move log apply services to the new instance:
                                 </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'South_Sales'
 
Database - South_Sales
 
  Role:            PHYSICAL STANDBY
  Intended State:  APPLY-ON
  Transport Lag:   0 seconds (computed 1 second ago)
  Apply Lag:       0 seconds (computed 1 second ago)
  Apply Rate:      1017.00 KByte/s
  Real Time Query: OFF
  Instance(s):
    south_sales1   (apply instance)
    south_sales2
 
Database Status:
SUCCESS
</pre><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET STATE='APPLY-ON' WITH APPLY INSTANCE='south_sales2';
Succeeded.

DGMGRL&gt; SHOW DATABASE 'South_Sales' 'PreferredApplyInstance';
  PreferredApplyInstance = 'south_sales2'
</pre><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'South_Sales'
 
Database - South_Sales
 
  Role:            PHYSICAL STANDBY
  Intended State:  APPLY-ON
  Transport Lag:   0 seconds (computed 1 second ago)
  Apply Lag:       0 seconds (computed 1 second ago)
  Apply Rate:      1017.00 KByte/s
  Real Time Query: OFF
  Instance(s):
    south_sales1
    south_sales2   (apply instance)
 
Database Status:
SUCCESS
</pre></li>
                           </ul>
                           <p>Ensure that the new apply instance is running when the command is issued. Otherwise, the apply instance remains the same.</p>
                           <p>Once the apply instance is selected, the broker keeps apply instance information in the broker configuration file so that even if the standby database is shut down and restarted, the broker still selects the same instance to start log apply services. The apply instance remains unchanged until changed by the user or it fails for any reason and the broker decides to do an apply instance failover.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DGBKR260"></a><div class="props_rev_3"><a id="GUID-EFAD8D8F-4BFB-418F-893B-F8B6548543B7" name="GUID-EFAD8D8F-4BFB-418F-893B-F8B6548543B7"></a><h5 id="DGBKR-GUID-EFAD8D8F-4BFB-418F-893B-F8B6548543B7" class="sect5"><span class="enumeration_section">4.6.4.2 </span>Apply Instance Failover
                     </h5>
                     <div>
                        <p>To tolerate a failure of the apply instance, the broker leverages the availability of the Oracle RAC standby database by automatically failing over log apply services to a different standby instance. </p>
                        <p>The apply instance failover capability provided by the broker enhances data protection.</p>
                        <p>To set up apply instance failover, set the <code class="codeph">ApplyInstanceTimeout</code> database property to specify the time period that the broker will wait after detecting an apply instance failure and before initiating an apply instance failover. To select an appropriate timeout value, you need to consider:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>If there is another mechanism in the cluster (such as Oracle Clusterware) that will try to recover the failed apply instance.</p>
                           </li>
                           <li>
                              <p>How long your business can tolerate not applying redo data on the standby database.</p>
                           </li>
                           <li>
                              <p>The overhead associated with moving the log apply services to a different instance. The overhead may include retransmitting, from the primary database, all log files accumulated on the failed apply instance that have not been applied if those log files are not saved in a shared file system that can be accessed from other standby instances.</p>
                           </li>
                        </ul>
                        <p>The broker default value of the <code class="codeph">ApplyInstanceTimeout</code> property is 0 seconds, indicating that apply instance failover should occur immediately upon detection of the failure of the current apply instance.
                        </p>
                        <p>After the broker initiates an apply instance failover, the broker selects a new apply instance according to the following rule: if the <code class="codeph">PreferredApplyInstance</code> property indicates an instance that is currently running, select it as the new apply instance; otherwise pick a random instance that is currently running to be the new apply instance.
                        </p>
                        <p>In addition, if the physical standby database was operating in real-time query mode when the apply instance failed, then after Oracle recovery cleanup is completed, the broker opens any instances that had been automatically closed. If the failed apply instance was the only instance open, then the instance chosen as the new apply instance is opened before starting apply services so that real-time query is once again in effect.</p>
                        <div class="infoboxnotealso" id="GUID-EFAD8D8F-4BFB-418F-893B-F8B6548543B7__GUID-E9311EAE-B8B3-415C-9C10-AE1F3EF46DD6">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB00707" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about real-time query mode
                                 </p>
                              </li>
                              <li>
                                 <p>The My Oracle Support note 1357597.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for additional information about apply instance failures in an Oracle Active Data Guard Oracle RAC standby
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="DGBKR3636"></a><div class="props_rev_3"><a id="GUID-EBA4925E-4580-4D06-9355-20DF777E5DCA" name="GUID-EBA4925E-4580-4D06-9355-20DF777E5DCA"></a><h4 id="DGBKR-GUID-EBA4925E-4580-4D06-9355-20DF777E5DCA" class="sect4"><span class="enumeration_section">4.6.5 </span>Apply Lag
                  </h4>
                  <div>
                     <p>Apply lag is a measure of the degree to which the data in a standby database or far sync instance lags behind the data in the primary database, due to delays in propagating and applying the redo.</p>
                     <p>Both Cloud Control and the DGMGRL client display the apply lag for each managed standby database and far sync instance. Cloud Control displays the apply lag on the Oracle Data Guard home page. The DGMGRL client displays the apply lag in the <code class="codeph">SHOW DATABASE</code> output. There is no apply lag displayed for a primary database. For example:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'South_Sales';
Database - South_Sales
 
  Role:            PHYSICAL STANDBY
  Intended State:  APPLY-ON
  Transport Lag:   0 seconds (computed 0 seconds ago)
  <span class="bold">Apply Lag:       0 seconds (computed 0 seconds ago)</span>
  Apply Rate:      255.00 KByte/s
  Real Time Query: OFF
  Instance(s):
    south_sales1
 
Database Status:
SUCCESS
</pre><p></p>
                     <p>Starting with Oracle Database Release 19c, the <code class="codeph">SHOW CONFIGURATION LAG</code> command displays a summary of the broker configuration and the apply lag of all standby databases.
                     </p>
                     <p>The apply lag can help you identify any problems that may exist with both the redo transport services and the log apply services.</p>
                     <p>You can set the <code class="codeph">ApplyLagThreshold</code> database configurable property to generate a health check warning when a standby database or far sync instance lags behind the data in the primary database.
                     </p>
                     <p>The following command sets the <code class="codeph">ApplyLagThreshold</code> property to 15 seconds:
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'ApplyLagThreshold'=15;
Property ApplyLagThreshold updated</pre></div>
               </div>
            </div><a id="DGBKR265"></a><div class="props_rev_3"><a id="GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8" name="GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8"></a><h3 id="DGBKR-GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8" class="sect3"><span class="enumeration_section">4.7 </span>Managing Data Protection Modes
               </h3>
               <div>
                  <p>You can use the broker to set up a configuration having any of the different data protection modes.</p>
                  <p>The available modes of data protection are: maximum protection, maximum availability, and maximum performance. <a id="d7524e2564" class="indexterm-anchor"></a></p>
                  <p>This section contains the following topics to help you configure the proper protection for your configuration:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-A938EA13-B128-4D54-8A99-6871D93F01CE" title="These are the steps for setting the protection mode for your configuration.">Setting the Protection Mode for Your Configuration</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-4F9446D8-AB6E-4917-BED2-058126654DA0" title="These topics describe how an Oracle Data Guard configuration&#39;s protection mode and redo transport services can affect operations such as switchovers, failovers, and disabling or enabling the configuration.">How the Protection Modes Influence Broker Operations</a></p>
                     </li>
                  </ul>
               </div><a id="DGBKR270"></a><div class="props_rev_3"><a id="GUID-A938EA13-B128-4D54-8A99-6871D93F01CE" name="GUID-A938EA13-B128-4D54-8A99-6871D93F01CE"></a><h4 id="DGBKR-GUID-A938EA13-B128-4D54-8A99-6871D93F01CE" class="sect4"><span class="enumeration_section">4.7.1 </span>Setting the Protection Mode for Your Configuration
                  </h4>
                  <div>
                     <p>These are the steps for setting the protection mode for your configuration.</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0" title="Each data protection mode provides a different balance of data protection, data availability, and database performance.">Setting the Protection Mode Task 1: Determine Which Data Protection Mode You Want to Use</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-FA6A798E-4C1A-45C4-89EE-BA8918A8DD9C" title="You must add standby redo log files on all standby databases, regardless of the protection mode you are using.">Setting the Protection Mode Task 2: Set up standby redo log files</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1" title="If the data protection mode requires that you change the redo transport mode used by any of the standby databases, then either change the LogXptMode database property on each standby database, or set the RedoRoutes property on the primary database or on the far sync instance that is directly connected to the standby database.">Setting the Protection Mode Task 3: Set the redo transport mode</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-A8DE2A69-A808-48F9-AA43-BB12ED534A11" title="These steps describe how to set the protection mode using DGMGRL commands or Cloud Control.">Setting the Protection Mode Task 4: Using DGMGRL or Cloud Control</a></p>
                        </li>
                     </ul>
                  </div><a id="DGBKR285"></a><a id="DGBKR275"></a><a id="DGBKR280"></a><div class="props_rev_3"><a id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0" name="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0"></a><h5 id="DGBKR-GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0" class="sect5"><span class="enumeration_section">4.7.1.1 </span>Setting the Protection Mode Task 1: Determine Which Data Protection Mode You Want to Use
                     </h5>
                     <div>
                        <p>Each data protection mode provides a different balance of data protection, data availability, and database performance.</p>
                        <div class="section">
                           <p>To select the data protection mode that meets the needs of your business, carefully consider your data protection requirements and the performance expectations of your users.</p>
                           <div class="infoboxnote" id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0__GUID-B662D377-B93C-434D-800A-64C87339217F">
                              <p class="notep1">Note:</p>
                              <p>Maximum protection mode cannot be used in the following situations:</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>If the only standby database in a configuration is a snapshot standby</p>
                                 </li>
                                 <li>
                                    <p>If a far sync instance is the only configuration member receiving redo in synchronous mode from the primary database</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0__GUID-8056395E-0703-44F1-B25C-0B7FD0121F50">Maximum Availability</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>This protection mode provides the highest level of data protection that is possible without compromising the availability of a primary database. Transactions do not commit until all redo data needed to recover those transactions has been written to the online redo log and to the standby redo log on at least one synchronized standby database. If the primary database cannot write its redo stream to at least one synchronized standby database, it operates as if it were in maximum performance mode to preserve primary database availability until it is again able to write its redo stream to a synchronized standby database.</p>
                           <p>This mode ensures that no data loss will occur if the primary database fails, but only if a second fault does not prevent a complete set of redo data from being sent from the primary database to at least one standby database.</p>
                           <p>You can enable fast-start failover if the protection mode is maximum availability.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0__GUID-53935982-E64E-49C1-8A31-455907C281A2">Maximum Performance</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>This protection mode provides the highest level of data protection that is possible without affecting the performance of a primary database. This is accomplished by allowing transactions to commit as soon as all redo data generated by those transactions has been written to the online log. Redo data is also written to one or more standby databases, but this is done asynchronously with respect to transaction commitment, so primary database performance is unaffected by delays in writing redo data to the standby database(s).</p>
                           <p>This protection mode offers slightly less data protection than maximum availability mode and has minimal impact on primary database performance.</p>
                           <p>This is the default protection mode.</p>
                           <p>You can enable fast-start failover if the protection mode is maximum performance.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0__GUID-0329DF7B-6FE4-436F-9950-EF8D520DD220">Maximum Protection</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>This protection mode ensures that no data loss will occur if the primary database fails. To provide this level of protection, the redo data needed to recover a transaction must be written to both the online redo log and to the standby redo log on at least one synchronized standby database before the transaction commits. To ensure that data loss cannot occur, the primary database will shut down, rather than continue processing transactions, if it cannot write its redo stream to at least one synchronized standby database.</p>
                           <p>Transactions on the primary are considered protected as soon as Oracle Data Guard has written the redo data to persistent storage in a standby redo log file. Once that is done, acknowledgment is quickly made back to the primary database so that it can proceed to the next transaction. This minimizes the impact of synchronous transport on primary database throughput and response time. To fully benefit from complete Oracle Data Guard validation at the standby database, be sure to operate in real-time apply mode so that redo changes are applied to the standby database as fast as they are received. Oracle Data Guard signals any corruptions that are detected so that immediate corrective action can be taken.</p>
                           <p>Because this data protection mode prioritizes data protection over primary database availability, Oracle recommends that a minimum of two standby databases be used to protect a primary database that runs in maximum protection mode to prevent a single standby database failure from causing the primary database to shut down. If only one standby database is supporting maximum protection mode, Oracle Data Guard broker will disallow the shutdown of the apply instance. This prevents the primary database from shutting down.</p>
                           <p>You can enable fast-start failover if the protection mode is maximum protection.</p>
                           <div class="infoboxnotealso" id="GUID-6ABD41B9-E96A-40EE-B9A2-E963616F9DC0__GUID-12697183-7CB5-4BE9-8FAE-554C8AEB65F2">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-995CED84-BEA1-4675-9C68-B37CB996924F" title="Fast-start failover allows the broker to automatically fail over to a previously chosen standby database in the event of loss of the primary database.">Fast-Start Failover</a> for information on fast-start failover
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#SBYDB00439" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for complete information about data protection modes
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-FA6A798E-4C1A-45C4-89EE-BA8918A8DD9C" name="GUID-FA6A798E-4C1A-45C4-89EE-BA8918A8DD9C"></a><h5 id="DGBKR-GUID-FA6A798E-4C1A-45C4-89EE-BA8918A8DD9C" class="sect5"><span class="enumeration_section">4.7.1.2 </span>Setting the Protection Mode Task 2: Set up standby redo log files
                     </h5>
                     <div>
                        <p>You must add standby redo log files on all standby databases, regardless of the protection mode you are using. </p>
                        <div class="section">
                           <p>Also, Oracle requires that you add standby redo log files on the primary database in preparation for a future switchover or failover. Standby redo log files are required on the primary database if you want to enable fast-start failover.</p>
                           <p>Cloud Control automatically prompts you to select one or more standby databases in the configuration and sets up standby redo log (SRL) files on them and on the primary database in preparation for a future role change.</p>
                           <div class="infoboxnotealso" id="GUID-FA6A798E-4C1A-45C4-89EE-BA8918A8DD9C__GUID-422521AE-E2DB-41EA-BCDE-F802A32AC619">
                              <p class="notep1">See Also:</p>
                              <p>If you are using the <a id="d7524e2794" class="indexterm-anchor"></a><a id="d7524e2798" class="indexterm-anchor"></a>DGMGRL command-line interface, follow the instructions in <a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB00426" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> to configure standby redo log files.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DGBKR3540"></a><div class="props_rev_3"><a id="GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1" name="GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1"></a><h5 id="DGBKR-GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1" class="sect5"><span class="enumeration_section">4.7.1.3 </span>Setting the Protection Mode Task 3: Set the redo transport mode
                     </h5>
                     <div>
                        <p>If the data protection mode requires that you change the redo transport mode used by any of the standby databases, then either change the <code class="codeph">LogXptMode</code> database property on each standby database, or set the <code class="codeph">RedoRoutes</code> property on the primary database or on the far sync instance that is directly connected to the standby database.
                        </p>
                        <div class="section">
                           <p> See <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-6DC53E53-63F3-42D7-865E-C7689AEBD44A" title="To manage redo transport services, you specify configurable properties on each configuration member.">Managing Redo Transport Services</a> for more information about setting the redo transport service. <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1__G1046794" title="The is a 4 column table showing the protection mode and the corresponding log transport mode and SQL statement. Column 1 is the protection mode. Column 2 is the Redo Transport. Column 3 shows if standby redo log files are needed. Column 4 indicates if the mode is usable with Fast-Start Failover.">Table 4-2</a> shows the protection modes and the corresponding redo transport service.
                           </p>
                           <p>Cloud Control automatically specifies the correct redo transport service on the primary database in preparation for a future switchover.</p>
                           <div class="tblformal" id="GUID-72DB59E4-097E-4821-9C7C-98B8389BA8F1__G1046794">
                              <p class="titleintable">Table 4-2 Oracle Data Guard Protection Modes and Requirements</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Data Guard Protection Modes and Requirements" width="100%" border="1" summary="The is a 4 column table showing the protection mode and the corresponding log transport mode and SQL statement. Column 1 is the protection mode. Column 2 is the Redo Transport. Column 3 shows if standby redo log files are needed. Column 4 indicates if the mode is usable with Fast-Start Failover." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="26%" id="d7524e2865">Protection Mode</th>
                                       <th align="left" valign="bottom" width="21%" id="d7524e2868">Redo Transport</th>
                                       <th align="left" valign="bottom" width="24%" id="d7524e2871">Standby Redo Log Files Needed?</th>
                                       <th align="left" valign="bottom" width="29%" id="d7524e2874">Usable with Fast-Start Failover?</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d7524e2879" headers="d7524e2865 ">
                                          <p><code class="codeph">MAXPROTECTION</code></p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d7524e2879 d7524e2868 ">
                                          <p><code class="codeph">SYNC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d7524e2879 d7524e2871 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d7524e2879 d7524e2874 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d7524e2894" headers="d7524e2865 ">
                                          <p><code class="codeph">MAXAVAILABILITY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d7524e2894 d7524e2868 ">
                                          <p><code class="codeph">SYNC</code>, <code class="codeph">FASTSYNC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d7524e2894 d7524e2871 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d7524e2894 d7524e2874 ">
                                          <p>Yes<a id="fn_1" name="fn_1" href="#fn_1" data="" because="" fastsync="" transport="" mode="" uses="" the="" noaffirm="" attribute="" of="" log_archive_dest_n="" parameter,="" loss="" is="" possible.="" this="" means="" that="" a="" fast-start="" failover="" cannot="" be="" initiated="" when="" used="" and="" standby="" missing="" redo="" data=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d7524e2927" headers="d7524e2865 ">
                                          <p><code class="codeph">MAXPERFORMANCE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d7524e2927 d7524e2868 ">
                                          <p><code class="codeph">ASYNC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d7524e2927 d7524e2871 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d7524e2927 d7524e2874 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p class="tablefootnote"><sup class="tablefootnote">Footnote 1 </sup></p><p>Because <code class="codeph">FASTSYNC</code> transport mode uses the <code class="codeph">NOAFFIRM</code> attribute of the <code class="codeph">LOG_ARCHIVE_DEST_n</code> parameter, data loss is possible. This means that a fast-start failover cannot be initiated when <code class="codeph">FASTSYNC</code> is used and the standby is missing redo data.
                              </p>
                           <p></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-A8DE2A69-A808-48F9-AA43-BB12ED534A11" name="GUID-A8DE2A69-A808-48F9-AA43-BB12ED534A11"></a><h5 id="DGBKR-GUID-A8DE2A69-A808-48F9-AA43-BB12ED534A11" class="sect5"><span class="enumeration_section">4.7.1.4 </span>Setting the Protection Mode Task 4: Using DGMGRL or Cloud Control
                     </h5>
                     <div>
                        <p>These steps describe how to set the protection mode using DGMGRL commands or Cloud Control. </p>
                        <div class="section">
                           <p><span class="bold">With DGMGRL:</span></p>
                           <ol>
                              <li>
                                 <p>Use the <code class="codeph">EDIT DATABASE (property)</code> command and specify the standby database whose redo transport service should be changed to correspond to the protection mode you plan to set. For example, if you plan to set the overall Oracle Data Guard configuration to operate in maximum availability mode, you must use the <code class="codeph">EDIT DATABASE</code> command to set the <code class="codeph">SYNC</code> mode for redo transport services. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY LogXptMode='SYNC';
</pre><p>Do this also for the primary database or another standby database in the configuration to ensure that it can support the chosen protection mode after a switchover.</p>
                                 <p>You could also use the <code class="codeph">RedoRoutes</code> property, as follows:
                                 </p><pre class="oac_no_warn" dir="ltr">EDIT DATABASE 'North_Sales' SET PROPERTY RedoRoutes = '(LOCAL : South_Sales SYNC)';
</pre></li>
                              <li>
                                 <p>Use the <code class="codeph">EDIT CONFIGURATION SET PROTECTION MODE AS </code><span class="italic"><code class="codeph">protection-mode</code></span> command to set the overall configuration protection mode. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT CONFIGURATION SET PROTECTION MODE AS MAXAVAILABILITY;
</pre></li>
                           </ol>
                           <p>See <a href="examples-using-data-guard-broker-DGMGRL-utility.html#GUID-82319941-58E8-4672-8609-7CC496D3DC29" title="You can change the protection mode of the configuration at any time.">Scenario 4: Setting the Configuration Protection Mode</a> for a DGMGRL scenario showing how to set the protection mode.
                           </p>
                           <p><span class="bold">With Cloud Control:</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>On the Oracle Data Guard overview page, click the link to the right of the Protection Mode label.</span></li>
                           <li><span>Select Maximum Protection, Maximum Availability, or Maximum Performance and click Continue.</span></li>
                           <li><span>If prompted, log in to the database with <code class="codeph">SYSDG</code> or <code class="codeph">SYSDBA</code> privileges and click Login.</span></li>
                           <li><span>Select one or more standby databases to support the protection mode that you selected. If standby redo log files are needed, verify the names of the log files. Click OK.</span></li>
                           <li><span>On the Confirmation page, click Yes.</span></li>
                        </ol>
                        <div class="section">
                           <p>The broker does not allow the protection mode to be directly upgraded from maximum performance mode to maximum protection mode. You must first change from maximum performance to maximum availability, and then to maximum protection. </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DGBKR290"></a><div class="props_rev_3"><a id="GUID-4F9446D8-AB6E-4917-BED2-058126654DA0" name="GUID-4F9446D8-AB6E-4917-BED2-058126654DA0"></a><h4 id="DGBKR-GUID-4F9446D8-AB6E-4917-BED2-058126654DA0" class="sect4"><span class="enumeration_section">4.7.2 </span>How the Protection Modes Influence Broker Operations
                  </h4>
                  <div>
                     <p>These topics describe how an Oracle Data Guard configuration's protection mode and redo transport services can affect operations such as switchovers, failovers, and disabling or enabling the configuration. </p>
                     <p>This section This section contains the following sections:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-37E01064-2FD0-4206-B737-37D28066E722">Upgrading or Downgrading the Current Protection Mode</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C">Switchover Operations</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-C7F2658B-1097-4F0A-B6D8-D1E82F9FEF9A">Failover Operations</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-4AE4576C-6106-467C-A6EF-88F6CBAF5E4C">Disable and Enable Operations</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-522A06B1-28DA-4E5A-9657-8E9FB990C98A">Requirements For Removing a Database from the Configuration</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-B94E0996-ABDC-47F7-82FB-6C6E3A1FC638">Requirements On Other Operations</a></p>
                        </li>
                     </ul>
                  </div><a id="DGBKR295"></a><div class="props_rev_3"><a id="GUID-37E01064-2FD0-4206-B737-37D28066E722" name="GUID-37E01064-2FD0-4206-B737-37D28066E722"></a><h5 id="DGBKR-GUID-37E01064-2FD0-4206-B737-37D28066E722" class="sect5"><span class="enumeration_section">4.7.2.1 </span>Upgrading or Downgrading the Current Protection Mode
                     </h5>
                     <div>
                        <p>No restart is necessary when you upgrade the current Oracle Data Guard protection mode to maximum availability or when you downgrade the current Oracle Data Guard protection mode. Follow these recommendations when upgrading or downgrading the Oracle Data Guard protection mode:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>When up<a id="d7524e3126" class="indexterm-anchor"></a><a id="d7524e3130" class="indexterm-anchor"></a>grading the protection mode, upgrade the redo transport service before you upgrade the overall protection mode. At the time when you change the protection mode or reset the redo transport service of a standby database, the broker verifies that there is at least one standby database in the configuration that can support the desired grade of protection. If not, then the broker does not change the protection mode and returns an error.
                              </p>
                           </li>
                           <li>
                              <p>When <a id="d7524e3138" class="indexterm-anchor"></a>downgrading the protection mode, <a id="d7524e3145" class="indexterm-anchor"></a><a id="d7524e3149" class="indexterm-anchor"></a>downgrade the protection mode first and then change the redo transport service (if necessary). The broker will disallow a change of the redo transport service if doing so invalidates the current overall protection mode.
                              </p>
                           </li>
                        </ul>
                        <p>If you upgrade the protection mode from the maximum performance mode, the broker ensures that there is at least one standby database that receives redo via the <code class="codeph">SYNC</code> transport, either directly or through a far sync instance. Additionally, for upgrades to maximum protection mode, the broker ensures there are no gaps in the redo data on the standby database. If there are no standby databases in the configuration that meet these requirements, the request to upgrade the protection mode is rejected with an error.
                        </p>
                        <p>The protection mode cannot be changed if fast-start failover is enabled. An exception to this is that a downgrade to maximum availability mode is allowed when fast-start failover has been enabled in maximum protection mode. </p>
                     </div>
                  </div><a id="DGBKR300"></a><div class="props_rev_3"><a id="GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C" name="GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C"></a><h5 id="DGBKR-GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C" class="sect5"><span class="enumeration_section">4.7.2.2 </span>Switchover Operations
                     </h5>
                     <div>
                        <p>A switchover <a id="d7524e3184" class="indexterm-anchor"></a>does not change the overall Oracle Data Guard protection mode. The protection mode remains the same as it was before the switchover.
                        </p>
                        <p>This requires that there be a standby database that is properly configured to support the current protection mode once the switchover completes. This can be either another standby database in the configuration or the current primary database that will become a standby database after the switchover completes.</p>
                        <p>Before you perform a switchover, if necessary you can add standby redo log files and set the redo transport properties on the current primary database, or on another standby database in the configuration, to the transport mode that is required to support the Oracle Data Guard protection mode. Then, when the switchover begins:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>The broker verifies the presence of standby redo log files and the redo transport service setting on each standby database and on the current primary database.</p>
                           </li>
                           <li>
                              <p>The broker verifies there are no gaps in the redo data present on the target standby database.</p>
                           </li>
                        </ul>
                        <p>If the verification is successful, the switchover continues; otherwise, the switchover fails, and the database roles and the broker configuration files remain unchanged.</p>
                        <div class="infoboxnotewarn" id="GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C__GUID-F67990C2-A622-4064-BBD5-5A4D9956A999">
                           <p class="notep1">WARNING:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>If the target of the switchover is a physical standby database, then the broker shuts down and restarts the primary database.</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-65830C4F-A603-4D69-AAC8-54EA08C1172C__GUID-25CA688E-58E9-4D75-BD20-368388A7D09F">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-AC6A6D2B-1112-422B-8A41-02FAC40E2078" title="A switchover is a role reversal between the primary database and one of its standby databases.">Switchover</a> for more information about switchovers
                           </p>
                        </div>
                     </div>
                  </div><a id="DGBKR305"></a><div class="props_rev_3"><a id="GUID-C7F2658B-1097-4F0A-B6D8-D1E82F9FEF9A" name="GUID-C7F2658B-1097-4F0A-B6D8-D1E82F9FEF9A"></a><h5 id="DGBKR-GUID-C7F2658B-1097-4F0A-B6D8-D1E82F9FEF9A" class="sect5"><span class="enumeration_section">4.7.2.3 </span>Failover Operations
                     </h5>
                     <div>
                        <p>After you perform a manual <a id="d7524e3241" class="indexterm-anchor"></a><a id="d7524e3247" class="indexterm-anchor"></a><a id="d7524e3251" class="indexterm-anchor"></a>failover, the Oracle Data Guard protection mode is downgraded to maximum performance mode if the protection mode was at maximum protection. You can upgrade the protection mode later, if necessary. If the protection mode was at maximum availability or maximum performance, it remains unchanged. The redo transport services of the standby databases remain unchanged.
                        </p>
                        <p>If fast-start failover occurs, the broker preserves the protection mode that was in effect just prior to the fast-start failover. If the protection mode was maximum protection, then the configuration protection mode is preserved, but the new primary database is set to maximum availability to allow the instance to open. When a standby becomes available that supports maximum protection mode (either because the old primary database was reinstated or due to the presence of another standby in the configuration), the database protection mode is elevated to match the configuration protection mode of maximum protection.</p>
                        <div class="infoboxnotealso" id="GUID-C7F2658B-1097-4F0A-B6D8-D1E82F9FEF9A__GUID-0757800D-4C2F-433F-A795-82B6850B6A34">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-9A988501-7E18-4A62-8CD6-4BDDFA355C98" title="In a manual failover, you convert a standby database to a primary database because the original primary database failed and there is no possibility of recovering the primary database in a timely manner.">Manual Failover</a> and <a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-995CED84-BEA1-4675-9C68-B37CB996924F" title="Fast-start failover allows the broker to automatically fail over to a previously chosen standby database in the event of loss of the primary database.">Fast-Start Failover</a> for more information about manual failover and fast-start failover, respectively
                           </p>
                        </div>
                     </div>
                  </div><a id="DGBKR310"></a><div class="props_rev_3"><a id="GUID-4AE4576C-6106-467C-A6EF-88F6CBAF5E4C" name="GUID-4AE4576C-6106-467C-A6EF-88F6CBAF5E4C"></a><h5 id="DGBKR-GUID-4AE4576C-6106-467C-A6EF-88F6CBAF5E4C" class="sect5"><span class="enumeration_section">4.7.2.4 </span>Disable and Enable Operations
                     </h5>
                     <div>
                        <p>When you <a id="d7524e3298" class="indexterm-anchor"></a>disable broker management of a standby database, the broker checks to see if the overall protection mode can still be satisfied by any of the remaining standby databases. If not, the broker rejects the disable operation. Otherwise, the broker allows the disable operation to proceed as long as fast-start failover is not enabled. If it is enabled, the broker allows the disable operation to proceed only if the standby database is not the target standby database for fast-start failovers.
                        </p>
                        <div class="infoboxnotewarn" id="GUID-4AE4576C-6106-467C-A6EF-88F6CBAF5E4C__GUID-CAC7E3DB-FEE7-4924-BD9F-E08E5EFFDD0D">
                           <p class="notep1">WARNING:</p>
                           <p>If you disable broker management of a standby database in the broker configuration, that standby database cannot be used by the broker as a failover target in the event of loss of the primary database.</p>
                        </div>
                        <p>As long as fast-start failover is not enabled, you can disable the entire configuration regardless of the protection mode. You cannot disable the configuration if fast-start failover is enabled. See <a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-3DAD4204-B8FB-425D-9D22-0602C62FA89A" title="This list describes restrictions when fast-start failover is enabled.">Restrictions When Fast-Start Failover is Enabled</a> for more information. 
                        </p>
                        <p>When <a id="d7524e3319" class="indexterm-anchor"></a>enabling broker management of the entire configuration, the broker first checks to see if the protection mode will be satisfied by the redo transport settings of the standby databases that will be enabled. If not, the enable operation fails and the configuration remains disabled. Otherwise, the enable operation successfully enables the configuration, and the broker enables the database using the settings saved in the broker configuration file. 
                        </p>
                     </div>
                  </div><a id="DGBKR315"></a><div class="props_rev_3"><a id="GUID-522A06B1-28DA-4E5A-9657-8E9FB990C98A" name="GUID-522A06B1-28DA-4E5A-9657-8E9FB990C98A"></a><h5 id="DGBKR-GUID-522A06B1-28DA-4E5A-9657-8E9FB990C98A" class="sect5"><span class="enumeration_section">4.7.2.5 </span>Requirements For Removing a Database from the Configuration
                     </h5>
                     <div>
                        <p>When <a id="d7524e3349" class="indexterm-anchor"></a><a id="d7524e3353" class="indexterm-anchor"></a>removing<a id="d7524e3358" class="indexterm-anchor"></a> a standby database from the broker configuration, the broker checks to see if the protection mode will still be satisfied. The operation fails if:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Removing the database compromises the protection mode</p>
                           </li>
                           <li>
                              <p>Fast-start failover is enabled and you try to remove the standby database that is the target of the fast-start failover</p>
                           </li>
                           <li>
                              <p>The configuration member to be removed has its <code class="codeph">RedoRoutes</code> configurable property set to a non-null value
                              </p>
                           </li>
                        </ul>
                        <p>You can remove the configuration at any time, unless fast-start failover is enabled.</p>
                     </div>
                  </div><a id="DGBKR320"></a><div class="props_rev_3"><a id="GUID-B94E0996-ABDC-47F7-82FB-6C6E3A1FC638" name="GUID-B94E0996-ABDC-47F7-82FB-6C6E3A1FC638"></a><h5 id="DGBKR-GUID-B94E0996-ABDC-47F7-82FB-6C6E3A1FC638" class="sect5"><span class="enumeration_section">4.7.2.6 </span>Requirements On Other Operations
                     </h5>
                     <div>
                        <p>Some operations that take place in a broker configuration, especially operations related to redo transport services, can affect the overall protection mode. These operations include: </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Stopping redo transport services on the primary database</p>
                           </li>
                           <li>
                              <p>Stopping redo transport services to individual standby databases</p>
                           </li>
                           <li>
                              <p>Downgrading the redo transport mode from <code class="codeph">SYNC</code> to <code class="codeph">ASYNC</code> to the only standby database that supports a configuration operating in maximum availability mode or maximum protection mode
                              </p>
                           </li>
                        </ul>
                        <p>Before any of these operations can proceed, the broker checks to see if the protection mode will be supported by the redo transport service settings on the standby databases after the operation completes. If not, the broker fails the operation and returns an error.</p>
                     </div>
                  </div>
               </div>
            </div><a id="DGBKR3854"></a><div class="props_rev_3"><a id="GUID-247E7C1E-EEC0-42CA-AC9F-E73948F5EDC1" name="GUID-247E7C1E-EEC0-42CA-AC9F-E73948F5EDC1"></a><h3 id="DGBKR-GUID-247E7C1E-EEC0-42CA-AC9F-E73948F5EDC1" class="sect3"><span class="enumeration_section">4.8 </span>Managing Far Sync Instances
               </h3>
               <div>
                  <p>An Oracle Data Guard far sync instance is a redo transport destination that accepts redo from a primary database and forwards that redo to one or more redo destinations in the configuration.</p>
                  <p>It is similar to a physical standby database in that it has a control file, receives redo into Standby Redo Log files (SRLs), and archives those SRLs to local Archived Redo Logs (ARLs). But unlike a standby database, a far sync instance does not have data files, cannot be opened, and cannot apply received redo. These limitations yield the benefit of using fewer disk and processing resources. More importantly, a far sync instance provides the ability to failover to a terminal database with no data loss if it receives redo data using synchronous transport mode and the configuration protection mode is set to maximum availability.</p>
                  <p>The following example shows how to add a far sync instance to a broker configuration.</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; ADD FAR_SYNC FS1 AS CONNECT IDENTIFIER IS FS1.example.com;
Far Sync FS1 added
DGMGRL&gt; ENABLE FAR_SYNC FS1;
Enabled.
DGMGRL&gt; SHOW CONFIGURATION;
 
Configuration - DRSolution
 
  Protection Mode: MaxPerformance
  Members:
  North_Sales  - Primary database
    FS1        - Far Sync
    South_Sales - Physical standby database
 
Fast-Start Failover: DISABLED
Configuration Status:
SUCCESS
</pre><p>After a far sync instance has been added to the configuration, set up redo transport to support maximum availability and then upgrade the protection mode:</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; EDIT DATABASE 'North_Sales' SET PROPERTY 'RedoRoutes' = '(LOCAL : FS1 SYNC)';
DGMGRL&gt; EDIT FAR_SYNC 'FS1' SET PROPERTY 'RedoRoutes' = '(North_Sales : South_Sales ASYNC)';
DGMGRL&gt; EDIT CONFIGURATION SET PROTECTION MODE AS MaxAvailability;
DGMGRL&gt; SHOW CONFIGURATION;
 
Configuration - DRSolution
 
  Protection Mode: MaxAvailability
  Members:
  North_Sales  - Primary database
    FS1          - Far Sync
      South_Sales - Physical standby database
 
Fast-Start Failover: DISABLED
Configuration Status:
SUCCESS
</pre><p>To ensure that maximum availability protection mode can be maintained when <code class="codeph">South_Sales</code> is the primary database, after a switchover or a failover, add a second far sync instance to the configuration so that <code class="codeph">South_Sales</code> can send redo in synchronous mode which in turn will send redo to the new terminal database, <code class="codeph">North_Sales,</code> after the role transition.
                  </p>
                  <p>The following example shows how to add a second far sync instance to the broker configuration:</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; ADD FAR_SYNC FS2 AS CONNECT IDENTIFIER IS FS2.example.com;
Far Sync FS2 added
DGMGRL&gt; EDIT FAR_SYNC 'FS2' SET PROPERTY 'RedoRoutes' = '(South_Sales : North_Sales ASYNC)';
DGMGRL&gt; ENABLE FAR_SYNC FS2;
Enabled.
DGMGRL&gt; EDIT DATABASE 'South_Sales' SET PROPERTY 'RedoRoutes' = '(LOCAL : FS2 SYNC)';
DGMGRL&gt; SHOW CONFIGURATION;
 
Configuration - DRSolution
 
  Protection Mode: MaxAvailability
  Members:
  North_Sales  - Primary database
    FS1          - Far Sync
      South_Sales - Physical standby database
      FS2         - Far Sync (inactive)
 
Fast-Start Failover: DISABLED
Configuration Status:
SUCCESS
</pre><p>If a far sync instance is monitored for availability by Oracle Clusterware (for example, in an Oracle Restart, Oracle Real Application Clusters (Oracle RAC), or Oracle RAC One Node installation), then use the SRVCTL utility to specify a default open mode of mount. You can use a command such as the following:</p><pre class="oac_no_warn" dir="ltr">srvctl modify database -d &lt;db_unique_name&gt; -startoption MOUNT</pre><div class="infoboxnotealso" id="GUID-247E7C1E-EEC0-42CA-AC9F-E73948F5EDC1__GUID-38D89FD8-07EA-4C8C-A73C-339441919134">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../sbydb/creating-oracle-data-guard-far-sync-instance.html#SBYDB5416" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about creating a far sync instance and redo transport
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DGBKR00677"></a><div class="props_rev_3"><a id="GUID-E2C40F7E-8ACC-4A75-AAAA-52E54F39F488" name="GUID-E2C40F7E-8ACC-4A75-AAAA-52E54F39F488"></a><h3 id="DGBKR-GUID-E2C40F7E-8ACC-4A75-AAAA-52E54F39F488" class="sect3"><span class="enumeration_section">4.9 </span>Managing Fast-Start Failover
               </h3>
               <div>
                  <p>You can enable <span class="bold">fast-start failover</span> to allow the broker to determine if a failover is necessary and to initiate a failover to a standby database from a list of one or more pre-specified target standby databases.
                  </p>
                  <p>The failover can be set up for either no data loss or a configurable amount of data loss. In addition, you can specify under which conditions or errors you want a failover to be initiated. Oracle also provides the <code class="codeph">DBMS_DG</code> PL/SQL package to allow an application to request a fast-start failover.
                  </p>
                  <p>You use broker configuration properties to control the behavior of fast-start failover. You can also use Cloud Control or the DGMGRL <code class="codeph">ENABLE FAST_START FAILOVER CONDITION</code> and <code class="codeph">DISABLE FAST_START FAILOVER CONDITION</code> commands to specify conditions for which a fast-start failover should occur.
                  </p>
               </div><a id="DGBKR3397"></a><div class="props_rev_3"><a id="GUID-E4B19583-762C-4F07-A3B5-566A3481B254" name="GUID-E4B19583-762C-4F07-A3B5-566A3481B254"></a><h4 id="DGBKR-GUID-E4B19583-762C-4F07-A3B5-566A3481B254" class="sect4"><span class="enumeration_section">4.9.1 </span>Configure Properties to Tune Fast-Start Failover
                  </h4>
                  <div>
                     <p>You can set various properties to tune how fast-start failover behaves.</p>
                     <p>The configurable properties for fast-start failover include:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">FastStartFailoverThreshold</code> 
                           </p>
                           <p>Set the <code class="codeph">FastStartFailoverThreshold</code> configuration property to specify the number of seconds you want the observer and target standby database to wait (after detecting the primary database is unavailable) before initiating a failover. See <a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-D26D79F2-0093-4C0E-98CD-224A5C8CBFA4" title="You can enable fast-start failover from any site while connected to any database in the broker configuration.">Enabling Fast-Start Failover</a> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FastStartFailoverPmyShutdown</code></p>
                           <p>The <code class="codeph">FastStartFailoverPmyShutdown</code> configuration property controls whether the primary database will shut down if redo generation has been stalled (<code class="codeph">FS_FAILOVER_STATUS</code> column of <code class="codeph">V$DATABASE</code> contains a value of <code class="codeph">STALLED</code>) and the primary database has lost connectivity with the observer and target standby database for longer than the number of seconds specified by the <code class="codeph">FastStartFailoverThreshold</code> configuration property. The default value for FastStartFailoverPmyShutdown is <code class="codeph">TRUE</code>.	
                           </p>
                           <div class="infoboxnote" id="GUID-E4B19583-762C-4F07-A3B5-566A3481B254__GUID-F21DDBB9-F044-4EED-A8F3-E7D1D6DC3529">
                              <p class="notep1">Note:</p>
                              <p>The primary database is always shut down if a user configurable fast-start failover condition is detected or if an application initiated a fast-start failover by calling the <code class="codeph">DBMS_DG.INITIATE_FS_FAILOVER</code> function.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">FastStartFailoverLagLimit</code></p>
                           <p></p>
                           <p>The fast-start failover feature can be configured on databases operating in maximum performance mode. Destinations that receive redo in <code class="codeph">ASYNC</code> mode will be acceptable fast-start failover target standby databases, and these destinations can lag the primary in terms of redo received and applied. A configurable time-based limit can be specified through the <code class="codeph">FastStartFailoverLagLimit</code> configuration property. If the standby database's applied redo point is within this many seconds of the primary's redo generation point, a fast-start failover will be allowed. If its applied point lags beyond this limit, a fast-start failover is not allowed. 
                           </p>
                           <p>The <code class="codeph">FastStartFailoverLagLimit</code> configuration property can also be used if fast-start failover is enabled when the configuration is operating in maximum availability mode. It cannot be used when the configuration is operating in maximum protection mode.  When <code class="codeph">FastStartFailoverLagLimit</code> is set to a non-zero value and the configuration is operating in maximum availability mode, a zero data loss failover or a data loss failover is possible. If a data loss failover is performed, the amount of data loss will not exceed the number of seconds specified by the <code class="codeph">FastStartFailoverLagLimit</code> configuration property. Note that the redo transport mode of the target standby must be set to the value of <code class="codeph">SYNC</code> or <code class="codeph">FASTSYNC</code> when a non-zero value is specified for the <code class="codeph">FastStartFailoverLagLimit</code> property and the protection mode is maximum availability mode.  An <code class="codeph">ASYNC</code> destination is only a valid fast-start failover target in a configuration operating in maximum performance mode. If you want to change protection mode or redo transport mode to <code class="codeph">SYNC</code> or <code class="codeph">FASTSYNC</code>, you must first disable fast-start failover. Likewise, changing the protection mode from maximum availability mode to maximum performance mode will require first disabling fast-start failover and changing the redo transport mode used to send redo to the primary and target standby to <code class="codeph">ASYNC</code>. Reinstatement of an old primary will be possible after a fast-start failover to an <code class="codeph">ASYNC</code> target standby. If the observer rediscovers the old primary, it will automatically reinstate the old primary and any redo generated within the specified lag will be lost.
                           </p>
                           <div class="infoboxnotealso" id="GUID-E4B19583-762C-4F07-A3B5-566A3481B254__GUID-7A88D3B9-D245-484A-A5A3-90F94526A716">
                              <p class="notep1">See Also:</p>
                              <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration.">Oracle Data Guard Broker Properties</a> for more information
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">FastStartFailoverAutoReinstate</code></p>
                           <p>The <code class="codeph">FastStartFailoverAutoReinstate</code> configuration property controls whether the former primary database is automatically reinstated if a fast-start failover occurred because the primary database crashed or was stalled for longer than <code class="codeph">FastStartFailoverThreshold</code> seconds. The default value for <code class="codeph">FastStartFailoverAutoReinstate</code> is <code class="codeph">TRUE</code>.
                           </p>
                           <p>If you want to perform diagnostic or repair work after failover has completed, you can avoid an automatic reinstatement by setting the <code class="codeph">FastStartFailoverAutoReinstate</code> configuration property to <code class="codeph">FALSE</code>.
                           </p>
                           <div class="infoboxnote" id="GUID-E4B19583-762C-4F07-A3B5-566A3481B254__GUID-69505E1E-B3DE-459F-ADEB-C8CDB4AE1611">
                              <p class="notep1">Note:</p>
                              <p>The former primary database is never automatically reinstated if a fast-start failover occurred because a user configurable fast-start failover condition was detected or because an application initiated a fast-start failover by calling the <code class="codeph">DBMS_DG.INITIATE_FS_FAILOVER</code> function.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">FastStartFailoverTarget</code></p>
                           <p>The <code class="codeph">FastStartFailoverTarget</code> configuration property specifies the <code class="codeph">DB_UNIQUE_NAME</code> values of the databases that are eligible to be targets of a fast-start failover when this database is the primary database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ObserverReconnect</code></p>
                           <p>The <code class="codeph">ObserverReconnect</code> configuration property specifies how often the observer establishes a new connection to the primary database. When this property is set to the default value of 0, it prevents the observer from periodically establishing a new connection with the primary database. While this eliminates the processing overhead associated with periodically establishing a new observer connection to the primary database, it also prevents the observer from detecting that it is not possible to create new connections to the primary database. Oracle recommends that this property be set to a value that is small enough to allow timely detection of faults at the primary database, but large enough to limit the overhead associated with periodic observer connections to an acceptable level.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ObserverOverride</code></p>
                           <p>The <code class="codeph">ObserverOverride</code> configuration property, when set to <code class="codeph">TRUE</code>, allows an automatic failover to occur when the observer has lost connectivity to the primary, even if the standby has a healthy connection to the primary.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DGBKR3398"></a><div class="props_rev_3"><a id="GUID-BE851289-11B0-4B08-83C5-9A54AB14AD3B" name="GUID-BE851289-11B0-4B08-83C5-9A54AB14AD3B"></a><h4 id="DGBKR-GUID-BE851289-11B0-4B08-83C5-9A54AB14AD3B" class="sect4"><span class="enumeration_section">4.9.2 </span>Configure Conditions for Fast-start Failover
                  </h4>
                  <div>
                     <p>By default, a fast-start failover is done when neither the observer nor the standby can reach the primary after the configured time threshold (<code class="codeph">FastStartFailoverThreshold</code>) has passed. 
                     </p>
                     <p>There are also other conditions under which you might want a fast-start failover to occur. </p>
                     <p>The configurable conditions fall into two classes: those detected through the database health-check mechanism and those detected through errors raised by the Oracle server (such as ORA errors). When a specified condition occurs, the observer will initiate a fast-start failover without waiting for <code class="codeph">FastStartFailoverThreshold</code> to expire, assuming the standby is in a valid state to accept a failover. 
                     </p>
                     <p>Each condition may be enabled or disabled individually. The Oracle Data Guard configuration persists all user specified configurable fast-start failover conditions in the broker configuration file. </p>
                     <p>The observer will detect when the primary database has signaled any of the enabled health-check conditions and will immediately initiate a fast-start failover, assuming the standby is in a valid fast-start failover state (observed and either synchronized or within lag limits) to accept a failover.</p>
                     <p>For specified Oracle ORA-Error conditions, the primary database will notify the observer if the error is signaled and the observer will immediately initiate a fast-start failover, assuming the standby is in a valid fast-start failover state (observed and either synchronized or within lag limits) to accept a failover.</p>
                     <div class="infoboxnote" id="GUID-BE851289-11B0-4B08-83C5-9A54AB14AD3B__GUID-3740004F-D8A6-4265-B183-DF80CC33737F">
                        <p class="notep1">Note:</p>
                        <p>The primary database will shut down and the observer will not attempt to automatically reinstate the former primary database.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-BE851289-11B0-4B08-83C5-9A54AB14AD3B__GUID-176E4AFF-1214-4144-9715-73589361658C">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Cloud Control online help</p>
                           </li>
                           <li>
                              <p><a href="oracle-data-guard-broker-commands.html#GUID-B70D6C87-242B-4657-9C95-DFE750679671" title="The ENABLE FAST_START FAILOVER CONDITION command specifies additional conditions for which a fast-start failover should be performed.">ENABLE FAST_START FAILOVER CONDITION</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="oracle-data-guard-broker-commands.html#GUID-CF212C5D-FCBD-4BB9-99A9-02774885C394" title="The DISABLE FAST_START FAILOVER CONDITION command allows you to remove conditions for which a fast-start failover should be performed.">DISABLE FAST_START FAILOVER CONDITION</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DGBKR3399"></a><div class="props_rev_3"><a id="GUID-D9E5FC78-657B-4C66-8EB7-D56880665861" name="GUID-D9E5FC78-657B-4C66-8EB7-D56880665861"></a><h4 id="DGBKR-GUID-D9E5FC78-657B-4C66-8EB7-D56880665861" class="sect4"><span class="enumeration_section">4.9.3 </span>Application Initiated Fast-Start Failover
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">DBMS_DG</code> PL/SQL package to allow an application to direct a fast-start failover when it encounters specific conditions.
                     </p>
                     <p> See <span class="q">"<a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-C98DB3F7-2894-4855-9BBD-E3593E59383C" title="You can customize fast-start failover setup for a specific application by using the DBMS_DG PL/SQL package.">Directing a Fast-Start Failover From an Application</a>"</span>.
                     </p>
                  </div>
               </div>
            </div><a id="DGBKR3400"></a><div class="props_rev_3"><a id="GUID-0F7CA42F-1FE4-437E-9A2E-3FD3D2738BC1" name="GUID-0F7CA42F-1FE4-437E-9A2E-3FD3D2738BC1"></a><h3 id="DGBKR-GUID-0F7CA42F-1FE4-437E-9A2E-3FD3D2738BC1" class="sect3"><span class="enumeration_section">4.10 </span>Managing Database Conversions
               </h3>
               <div>
                  <p>You can use the DGMGRL <code class="codeph">CONVERT DATABASE</code> command to convert a physical standby database to a snapshot standby database.
                  </p>
                  <p> A snapshot standby database is a fully updatable standby database.</p>
                  <p>Like a physical or logical standby database, a snapshot standby database receives and archives redo data from a primary database. However, unlike a physical or logical standby database, a snapshot standby database does not apply the redo data that it receives. The redo data received by a snapshot standby database is not applied until the snapshot standby is converted back into a physical standby database, after first discarding any local updates made to the snapshot standby database.</p>
                  <p>To convert a physical standby database to a snapshot standby database you must have Flashback Database enabled. The following example shows how to convert a physical standby database to a snapshot standby database:</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; CONVERT DATABASE 'South_Sales' TO SNAPSHOT STANDBY;
</pre><p>When you are ready to convert the snapshot back into a physical standby, use the DGMGRL <code class="codeph">CONVERT DATABASE</code> command as follows:
                  </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; CONVERT DATABASE 'South_Sales' TO PHYSICAL STANDBY;</pre></div>
            </div><a id="DGBKR325"></a><div class="props_rev_3"><a id="GUID-85D20060-248B-42A1-B78D-15C23AAA2F59" name="GUID-85D20060-248B-42A1-B78D-15C23AAA2F59"></a><h3 id="DGBKR-GUID-85D20060-248B-42A1-B78D-15C23AAA2F59" class="sect3"><span class="enumeration_section">4.11 </span>Database Status
               </h3>
               <div>
                  <p>In general, the broker checks the health of a database by verifying that the actual database state and settings match those described in the broker configuration file.</p>
                  <p> This is done by checking if any component of the Oracle Data Guard configuration is functioning incorrectly (for example, if redo transport services have an error), and by checking if other required database settings are correctly set (for example, if the server parameter files are available and if the <code class="codeph">ARCHIVELOG</code> mode is turned on). The following is a detailed list of what is being checked by the broker on a primary database and a standby database. <a id="d7524e3904" class="indexterm-anchor"></a><a id="d7524e3908" class="indexterm-anchor"></a><a id="d7524e3912" class="indexterm-anchor"></a></p>
                  <p>On a <a id="d7524e3918" class="indexterm-anchor"></a><a id="d7524e3922" class="indexterm-anchor"></a><a id="d7524e3926" class="indexterm-anchor"></a>primary database, the health check determines whether the following conditions are met:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Database is in the state specified by the user, as recorded in the broker configuration file</p>
                     </li>
                     <li>
                        <p>Database is in the correct data protection mode</p>
                     </li>
                     <li>
                        <p>Database is using a server parameter file</p>
                     </li>
                     <li>
                        <p>Database is in the <code class="codeph">ARCHIVELOG</code> mode
                        </p>
                     </li>
                     <li>
                        <p>Database guard is turned off</p>
                     </li>
                     <li>
                        <p>Supplemental logging is turned on when there is a logical standby database in the configuration</p>
                     </li>
                     <li>
                        <p>Redo transport services do not have any errors</p>
                     </li>
                     <li>
                        <p>Database settings match those specified by the broker configurable properties</p>
                     </li>
                     <li>
                        <p>Redo transport settings match those specified by the redo transport-related properties of the standby databases</p>
                     </li>
                     <li>
                        <p>Current data protection level is consistent with configured data protection mode</p>
                     </li>
                     <li>
                        <p>Primary database is able to resolve all gaps for all standby databases</p>
                     </li>
                  </ul>
                  <p>On a <a id="d7524e3970" class="indexterm-anchor"></a><a id="d7524e3974" class="indexterm-anchor"></a><a id="d7524e3978" class="indexterm-anchor"></a>standby database, the health check determines whether the following conditions are met:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Database is in the state specified by the user, as recorded in the broker configuration file</p>
                     </li>
                     <li>
                        <p>Database is using a server parameter file</p>
                     </li>
                     <li>
                        <p>Database settings match those specified by the broker configurable properties</p>
                     </li>
                     <li>
                        <p>Database guard is turned on when the database is a logical standby database</p>
                     </li>
                     <li>
                        <p>Primary and target standby databases are synchronized or within lag limits if fast-start failover is enabled</p>
                     </li>
                  </ul>
               </div><a id="DGBKR3662"></a><div class="props_rev_3"><a id="GUID-F538BD81-9767-4844-BCCA-6B699026D572" name="GUID-F538BD81-9767-4844-BCCA-6B699026D572"></a><h4 id="DGBKR-GUID-F538BD81-9767-4844-BCCA-6B699026D572" class="sect4"><span class="enumeration_section">4.11.1 </span>Querying Database Status
                  </h4>
                  <div>
                     <p>Certain monitorable properties can be used to query the database status.</p>
                     <p></p>
                     <p>The following properties are directly accessed through the DGMGRL command-line interface:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">LogXptStatus</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">InconsistentLogXptProps</code></p>
                           <div class="infoboxnote" id="GUID-F538BD81-9767-4844-BCCA-6B699026D572__GUID-09E25029-FEEA-4717-98F0-1296297A88A5">
                              <p class="notep1">Note:</p>
                              <p>Cloud Control rearranges the values of these properties for presentation in the GUI.</p>
                           </div>
                        </li>
                     </ul>
                     <p>You can use the <code class="codeph">SHOW DATABASE &lt;db_unique_name&gt;</code> command to get a brief description of the database (name, role, and so on), database status, and information about any health check problems. For example, the output of the following <code class="codeph">SHOW DATABASE</code> command shows two problems: some redo transport services errors and an inconsistent redo transport-related property
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'North_Sales';
 
Database - North_Sales
  Role: PRIMARY
  Intended State: TRANSPORT-OFF
  Instance(s):
    north_sales1
      Error: ORA-16737: the redo transport service for standby
        database "South_Sales" has an error
 
    north_sales2
      Error: ORA-16737: the redo transport service for standby
        database "South_Sales" has an error
      Warning: ORA-16715: redo transport-related property
        ReopenSecs of standby "South_Sales" is inconsistent
Database Status:
ERROR
</pre><p>To further check the details about the database status, you can use the following monitorable properties:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">LogXptStatus</code> —  lists all log transport errors detected on all instances of the primary database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">InconsistentLogXptProps</code> —  lists all redo transport-related properties of standby databases that have inconsistent values between the broker configuration file and the redo transport settings.
                           </p>
                        </li>
                     </ul>
                     <p>Issue the following <code class="codeph">SHOW DATABASE</code> commands to obtain further details about the problems.
                     </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW DATABASE 'North_Sales' 'LogXptStatus';
LOG TRANSPORT STATUS
PRIMARY_INSTANCE_NAME  STANDBY_DATABASE_NAME  STATUS 
         north_sales1            South_Sales  ORA-12541: TNS:no listener
         north_sales2            South_Sales  ORA-12541: TNS:no listener
 
DGMGRL&gt; SHOW DATABASE 'North_Sales' 'InconsistentLogXptProps';
INCONSISTENT LOG TRANSPORT PROPERTIES
 INSTANCE_NAME  STANDBY_NAME  PROPERTY_NAME  MEMORY_VALUE  BROKER_VALUE 
  north_sales2   South_Sales     ReopenSecs           600           300</pre><div class="infoboxnotealso" id="GUID-F538BD81-9767-4844-BCCA-6B699026D572__GUID-DA6A1887-03F8-4B49-9F69-86E2FB7BE9F5">
                        <p class="notep1">See Also:</p>
                        <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration.">Oracle Data Guard Broker Properties</a> for detailed information about database properties
                        </p>
                     </div>
                  </div>
               </div><a id="DGBKR3855"></a><div class="props_rev_3"><a id="GUID-055762DD-33BC-426D-AA35-7217B8A77D0E" name="GUID-055762DD-33BC-426D-AA35-7217B8A77D0E"></a><h4 id="DGBKR-GUID-055762DD-33BC-426D-AA35-7217B8A77D0E" class="sect4"><span class="enumeration_section">4.11.2 </span>Validating a Database Before a Role Change
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">VALIDATE</code> <code class="codeph">DATABASE</code> command to perform a comprehensive set of database checks prior to performing a role change.
                     </p>
                     <p> The command checks the following items:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Whether there is missing redo data on a standby database</p>
                        </li>
                        <li>
                           <p>Whether flashback is enabled</p>
                        </li>
                        <li>
                           <p>The number of temporary tablespace files configured</p>
                        </li>
                        <li>
                           <p>Whether an online data file move is in progress</p>
                        </li>
                        <li>
                           <p>Whether online redo logs are cleared for a physical standby database</p>
                        </li>
                        <li>
                           <p>Whether standby redo logs are cleared for a primary database</p>
                        </li>
                        <li>
                           <p>The online log file configuration</p>
                        </li>
                        <li>
                           <p>The standby log file configuration</p>
                        </li>
                        <li>
                           <p>Apply-related property settings</p>
                        </li>
                        <li>
                           <p>Transport-related property settings</p>
                        </li>
                        <li>
                           <p>Whether there are any errors in the Automatic Diagnostic Repository (for example, control file corruptions, system data file problems, user data file problems)</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-055762DD-33BC-426D-AA35-7217B8A77D0E__GUID-BA2E10DA-2B05-49CE-BEED-4B82E25EDA36">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="oracle-data-guard-broker-commands.html#GUID-06ED8F7F-4547-4D4D-9D1A-4A84FF234A12" title="The VALIDATE DATABASE command performs a comprehensive set of database checks prior to a role change.">VALIDATE DATABASE</a>"</span> for a description of the command and for examples that show command output for various scenarios
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DA0698C3-FC1F-4B81-93B6-A6C330F02F9C" name="GUID-DA0698C3-FC1F-4B81-93B6-A6C330F02F9C"></a><h4 id="DGBKR-GUID-DA0698C3-FC1F-4B81-93B6-A6C330F02F9C" class="sect4"><span class="enumeration_section">4.11.3 </span>Validating the Server Parameter Files Before a Role Change
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">VALIDATE DATABASE SPFILE</code> command to compare the contents of the server parameter file (SPFILE) between the primary and standby database.
                     </p>
                     <div class="p">Comparing the primary to the standby lets you determine whether there are any missing parameters in either database’s SPFILE, or whether the entries contain different values.
                        <div class="infoboxnotealso" id="GUID-DA0698C3-FC1F-4B81-93B6-A6C330F02F9C__GUID-A8E7BF98-E494-4B9A-A718-A75A9BF20423">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oracle-data-guard-broker-commands.html#GUID-D8A6F0CF-959E-490D-9384-B746821836B4" title="The VALIDATE DATABASE SPFILE command performs a comparison of server parameter file (SPFILE) entries between the primary database and a specified standby database.">VALIDATE DATABASE SPFILE</a> for a description of the command and for examples that show command output
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-98AF0DE7-0D50-4F78-9625-563EBF430BD8" name="GUID-98AF0DE7-0D50-4F78-9625-563EBF430BD8"></a><h4 id="DGBKR-GUID-98AF0DE7-0D50-4F78-9625-563EBF430BD8" class="sect4"><span class="enumeration_section">4.11.4 </span>Validating the Network Configuration Before a Role Change
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">VALIDATE NETWORK CONFIGURATION</code> command to perform network connectivity checks between members of a configuration. 
                     </p>
                     <p>Performing a network connectivity check identifies potential network configuration problems before a role change is attempted.</p>
                     <div class="infoboxnotealso" id="GUID-98AF0DE7-0D50-4F78-9625-563EBF430BD8__GUID-9ABFA0A7-8E9F-4096-87E5-F2700661B7EA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-98AF0DE7-0D50-4F78-9625-563EBF430BD8" title="Use the VALIDATE NETWORK CONFIGURATION command to perform network connectivity checks between members of a configuration.">Validating the Network Configuration Before a Role Change</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-75625C54-0312-46AD-A366-63FE146A03A7" name="GUID-75625C54-0312-46AD-A366-63FE146A03A7"></a><h4 id="DGBKR-GUID-75625C54-0312-46AD-A366-63FE146A03A7" class="sect4"><span class="enumeration_section">4.11.5 </span>Validating the Static Connect Identifier Before a Role Change
                  </h4>
                  <div>
                     <p>A single-instance database on which Oracle Restart is not configured must have a static service registered with the listener so that the DGMGRL CLI can automatically start the instance when necessary (for example, for the new standby after a switchover).</p>
                     <p>The broker sets up a default value for the <code class="codeph">StaticConnectIdentifier</code> property that uses that static service (assuming the default value of <code class="codeph"><span class="codeinlineitalic">db_unique_name</span>_DGMGRL</code> is used for the static service name). This connect identifier is used for instance restart.
                     </p>
                     <p>Use the <code class="codeph">VALIDATE STATIC CONNECT IDENTIFIER</code> command to confirm that the connect identifier specified by the <code class="codeph">StaticConnectIdentifier</code> property can be used to restart an instance. The command does not restart the database, but rather checks that the service specified in the connect identifier is registered with the listener.
                     </p>
                     <div class="infoboxnotealso" id="GUID-75625C54-0312-46AD-A366-63FE146A03A7__GUID-946FCDB1-2FDC-4005-89B2-5BEF08F1F47F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-data-guard-broker-commands.html#GUID-C3E2884B-E0A7-492A-9A42-EEB4D6CCCBE6" title="The VALIDATE STATIC CONNECT IDENTIFIER command validates the static connect identifier of a database.">VALIDATE STATIC CONNECT IDENTIFIER</a> for a description of the command and for examples that show command output
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05566.enabling-advanced-features.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Enabling Advanced Features of Oracle Net Services</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-profiles.html" title="Previous" type="text/html"></link>
      <link rel="next" href="optimizing-performance.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-profiles.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="optimizing-performance.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Net Services Administrator's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Configuration and Administration of Oracle Net Services</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Enabling Advanced Features of Oracle Net Services</li>
            </ol>
            <a id="GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F" name="GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F"></a><a id="NETAG013"></a>
            
            <h2 id="NETAG-GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F" class="sect2"><span class="enumeration_chapter">13 </span>Enabling Advanced Features of Oracle Net Services
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='enabling-advanced-features'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Understand how to configure the advanced features of Oracle Net Services, including advanced connect data parameters, <a href="glossary.html#GUID-BBAB896F-C9F1-46C3-936E-2D0EA5FC117C"><span class="xrefglossterm">load balancing</span></a>, <a href="glossary.html#GUID-AAE7BF84-FA74-4EE0-A56F-742500110B0E"><span class="xrefglossterm">failover</span></a>, and connections to non-database services. 
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-64F8244D-530A-41ED-AB80-3B27F271CD01">Specifying the Instance Role for Primary and Secondary Instance Configurations</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F">Understanding Static Service Registration</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Configuration and Administration of Oracle Net Services</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG328"></a><div class="sect2"><a id="GUID-D4894B70-971C-4AF6-B4F6-19503F853959" name="GUID-D4894B70-971C-4AF6-B4F6-19503F853959"></a><h3 id="NETAG-GUID-D4894B70-971C-4AF6-B4F6-19503F853959" class="sect3"><span class="enumeration_section">13.1 </span>Configuring Advanced Network Address and Connect Data Information
               </h3>
               <div>
                  <p>A database service can be accessed by several routes and protocol addresses. You configure which routes to use by setting the list of protocol addresses. You configure the order addresses are used by specifying the address parameters. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239">About the Address List Parameters</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7">About the Advanced Connect Data Parameters</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1171"></a><a id="NETAG1172"></a><a id="NETAG329"></a><div class="sect3"><a id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5" name="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5"></a><h4 id="NETAG-GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5" class="sect4"><span class="enumeration_section">13.1.1 </span>Creating a List of Listener Protocol Addresses
                  </h4>
                  <div>
                     <p>A database service may be accessed by more than one network route, or protocol address. In the following example, <code class="codeph">sales.us.example.com</code> can connect to the <code class="codeph">sales.us.example.com</code> service using listeners on either <code class="codeph">sales1-server</code> or <code class="codeph">sales2-server</code>. 
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  <span class="bold">(ADDRESS_LIST=</span>
    <span class="bold">(ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)</span>)
    <span class="bold">(ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)</span>))
  (CONNECT_DATA=
    (SERVICE_NAME=sales.us.example.com)))
</pre><p>To add a network protocol address to an existing network service name or database service, use one of the following procedures:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABBICDC">Adding a Network Protocol Using Oracle Enterprise Manager Cloud Control</a></p>
                        </li>
                        <li>
                           <p><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABGBHBG">Adding a Network Protocol Using Oracle Net Manager</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABBICDC">
                        <p class="subhead3" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-931CF15A-2872-49FA-8903-71E958F2784C">Adding a Network Protocol Using Oracle Enterprise Manager Cloud Control </p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to add a network protocol to an existing network service name or database service using Oracle Enterprise Manager Cloud Control:</p>
                     <ol>
                        <li>
                           <p>Access the Directory Naming or Local Naming page in Oracle Enterprise Manager Cloud Control:</p>
                           <ol type="a">
                              <li>
                                 <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-9E649881-AE97-4EEC-958B-F1D2398892AF">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Local Naming</span> or <span class="bold">Directory Naming</span> from the Administer list, and then select the Oracle home for the directory server or the location of the local configuration files.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Go</span>. 
                                 </p>
                                 <p>The Local Naming or Directory Naming page appears.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select the directory service or network service name.</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>For Local Naming, select a network service from the list, and then click <span class="bold">Edit</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>For Directory Naming, perform a search of the network service name in the Simple Search section, then select the network service or database service from the Results list, and then click <span class="bold">Edit</span>. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>In the Addresses section, click <span class="bold">Add</span>.
                           </p>
                           <p>The Add Address page appears.</p>
                        </li>
                        <li>
                           <p>From the Protocol list, select the protocol which the listener is configured to listen. This protocol must also be installed on the client.</p>
                        </li>
                        <li>
                           <p>Enter the appropriate parameter information for the selected protocol in the fields provided.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-641B1F5A-F5BA-4F7C-8BCA-8FF277998DD1">
                              <p class="notep1">See Also:</p>
                              <p> <a href="../netrf/protocol-address-configuration.html#NETRF-GUID-71A0702F-A5C6-4122-907D-5E9BFA1DCE45" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for protocol parameter settings
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>(Optional) In the Advanced Parameters section, specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-63C53BED-55B9-4316-8FDC-09E3AFDA791A">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space</a>"</span> for additional information about buffer space
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span>.
                           </p>
                           <p>The protocol address is added to the Addresses section.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> to update the address information.
                           </p>
                        </li>
                     </ol>
                     <div class="section" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABGBHBG">
                        <p class="subhead3" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-4282929B-F057-4E5D-A47D-2341941A6FEE">Adding a Network Protocol Using Oracle Net Manager </p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to add a network protocol to an existing network service name or database service using Oracle Net Manager:</p>
                     <ol>
                        <li>
                           <p>Start Oracle Net Manager.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-B1D0488E-7D3C-4E6A-BB05-DCEF7C68EBE2">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>In the navigator pane, select <span class="bold">Service Naming</span> from the Directory or Local menus.
                           </p>
                        </li>
                        <li>
                           <p>Select either the network service name or a database service.</p>
                           <p>The right pane displays the current destination service and address list.</p>
                        </li>
                        <li>
                           <p>In the Address Configuration box, click the plus sign (+) to add a new address.</p>
                           <p>A new Address tab appears:</p>
                           <ol type="a">
                              <li>
                                 <p>Select the protocol and enter appropriate address information.</p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-FE9B69BC-B8D7-4BCA-9549-44594294B429">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="../netrf/protocol-address-configuration.html#NETRF0041" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for details about protocol address parameters
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>(Optional) On the Address tab, click <span class="bold">Advanced</span> to specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-AB4EEA14-8978-41AE-9A8A-7CDFB1B7B92E">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space </a>"</span> for additional information about buffer space
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>Order the protocol addresses using the left-arrow and right-arrow buttons. This will order the addresses in the protocol address list. Unless multiple address options are configured, the first address in the list is contacted. </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1173"></a><a id="NETAG1174"></a><a id="NETAG332"></a><div class="sect3"><a id="GUID-39241458-E9E1-4B4C-99FD-48975F307239" name="GUID-39241458-E9E1-4B4C-99FD-48975F307239"></a><h4 id="NETAG-GUID-39241458-E9E1-4B4C-99FD-48975F307239" class="sect4"><span class="enumeration_section">13.1.2 </span>About the Address List Parameters
                  </h4>
                  <div>
                     <p>When a database service is accessible by multiple listener protocol addresses, specify the order in which the addresses are to be used, such as chosen randomly or tried sequentially. <a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492599" title="Address List Parameters">Table 13-1</a> lists the parameters used with multiple protocol addresses. 
                     </p>
                     <div class="tblformal" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492599">
                        <p class="titleintable">Table 13-1 Address List Parameters in the tnsnames.ora File</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Address List Parameters in the tnsnames.ora File" width="100%" border="1" summary="Address List Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d38386e570">Parameter</th>
                                 <th align="left" valign="bottom" width="73%" id="d38386e573">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e578" headers="d38386e570 ">
                                    <p>FAILOVER<a id="d38386e581" class="indexterm-anchor"></a><a id="d38386e585" class="indexterm-anchor"></a><a id="d38386e591" class="indexterm-anchor"></a><a id="d38386e598" class="indexterm-anchor"></a><a id="d38386e605" class="indexterm-anchor"></a><a id="d38386e607" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e578 d38386e573 ">
                                    <p>At connect time, this parameter instructs Oracle Net to fail over to a different listener if the first listener fails when set to <code class="codeph">on</code>. The number of addresses in the list determines how many addresses are tried. When set to <code class="codeph">off</code>, instructs Oracle Net to try one address.
                                    </p>
                                    <p>Connect-time failover is turned <code class="codeph">on</code> by default for multiple address lists (ADDRESS_LIST), connect descriptors (DESCRIPTION), and multiple connect descriptors (DESCRIPTION_LIST). 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e628" headers="d38386e570 ">
                                    <p>LOAD_BALANCE<a id="d38386e631" class="indexterm-anchor"></a><a id="d38386e633" class="indexterm-anchor"></a><a id="d38386e639" class="indexterm-anchor"></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e628 d38386e573 ">
                                    <p>When set to <code class="codeph">on</code>, this parameter instructs Oracle Net to progress through the list of protocol addresses in a random sequence, balancing the load on the various listeners. When set to <code class="codeph">off</code>, instructs Oracle Net to try the addresses sequentially until one succeeds. 
                                    </p>
                                    <p>Client load balancing is turned <code class="codeph">on</code> by default for multiple connect descriptors (DESCRIPTION_LIST).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e661" headers="d38386e570 ">
                                    <p>SOURCE_ROUTE<a id="d38386e664" class="indexterm-anchor"></a><a id="d38386e666" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e661 d38386e573 ">
                                    <p>When set to <code class="codeph">on</code>, this parameter instructs Oracle Net to use each address in the order presented until the destination is reached. This parameter is required for reaching the destination using a specific route, that is, by specific computers. This parameter is used to enable connections to <a href="glossary.html#GUID-73188D8F-3751-4E9E-A0ED-8BB9D51FB745"><span class="xrefglossterm">Oracle Connection Manager</span></a>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__GUID-4E200ADA-1016-43C4-8494-9BEF76EB9900">
                        <p class="notep1">Note:</p>
                        <p>You cannot set source routing (SOURCE_ROUTE) at the same level as connect-time failover (FAILOVER) or client load balancing (LOAD_BALANCE). Source routing connects to each address in the list sequentially whereas connect-time failover and client load balancing select a single address from a list.</p>
                        <p>When a connect descriptor in a<code class="codeph"> tnsnames.ora</code> file contains at least two protocol addresses for an Oracle Connection Manager hop, then parameters for connect-time failover and load balancing within the hop can be included in the file.
                        </p>
                     </div>
                     <p><a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492573" title="Address List Options Dialog Box">Table 13-2</a> describes the <a id="d38386e696" class="indexterm-anchor"></a><a id="d38386e698" class="indexterm-anchor"></a>address list options.
                     </p>
                     <div class="tblformal" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492573">
                        <p class="titleintable">Table 13-2 Address List Options Dialog Box</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Address List Options Dialog Box" width="100%" border="1" summary="Address List Options Dialog Box" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="62%" id="d38386e713">Option</th>
                                 <th align="left" valign="bottom" width="38%" id="d38386e724">Parameter Setting</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e729" headers="d38386e713 ">
                                    <p>Try each address, in order, until one succeeds.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e729 d38386e724 ">
                                    <p>FAILOVER=on<a id="d38386e735" class="indexterm-anchor"></a><a id="d38386e737" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e744" headers="d38386e713 ">
                                    <p>Try each address, randomly, until one succeeds.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e744 d38386e724 ">
                                    <p>LOAD_BALANCE=on</p>
                                    <p>FAILOVER=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e753" headers="d38386e713 ">
                                    <p>Try one address, selected at random.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e753 d38386e724 ">
                                    <p>LOAD_BALANCE=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e760" headers="d38386e713 ">
                                    <p>Use each address in order until destination reached.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e760 d38386e724 ">
                                    <p>SOURCE_ROUTE=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e767" headers="d38386e713 ">
                                    <p>Use only the first address.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e767 d38386e724 ">
                                    <p>LOAD_BALANCE=off</p>
                                    <p>FAILOVER=off</p>
                                    <p>SOURCE_ROUTE=off</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following example shows a <code class="codeph">tnsnames.ora</code> file configured for client load balancing:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS_LIST=
  <span class="bold">(LOAD_BALANCE=on)</span>
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)) 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
  (CONNECT_DATA=
    (SERVICE_NAME=sales.us.example.com))) 
</pre><p>The following example shows a <code class="codeph">tnsnames.ora</code> file configured for connect-time failover:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS_LIST=
   <span class="bold">(LOAD_BALANCE=off)</span>
   <span class="bold">(FAILOVER=on)</span>
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)) 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
  (CONNECT_DATA=
   (SERVICE_NAME=sales.us.example.com)))
</pre><p>The following example shows a tnsnames.ora file configured for Oracle Connection Manager and load balancing:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
(DESCRIPTION=
   (SOURCE_ROUTE=ON)
   (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc1)(PORT=1630))
   (ADDRESS=
     (LOAD_BALANCE=ON)
     (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc2)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc3)(PORT=1521)))
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
</pre></div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8">Configuring Address List Parameters</a><br></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__GUID-E36BBA3B-1B06-4055-AD9D-02FAB4732FA3">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="configuring-oracle-connection-manager.html#GUID-A37427A9-8D37-42E8-980B-4A76C210616C">Configuring Clients for Oracle Connection Manager</a>"</span> for additional information about configuring clients for source routing
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1586"></a><div class="sect4"><a id="GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8" name="GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8"></a><h5 id="NETAG-GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8" class="sect5"><span class="enumeration_section">13.1.2.1 </span>Configuring Address List Parameters
                     </h5>
                     <div>
                        <p>The following procedure describes how to configure address list parameters:</p>
                        <ol>
                           <li>
                              <p>Perform the procedure in <span class="q">"<a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Use Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure address list options.</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>For Oracle Enterprise Manager Cloud Control, select the appropriate option in the Connect-time Failover and Client Load Balancing section.</p>
                                 </li>
                                 <li>
                                    <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Address Configuration box. The Address List Options dialog box appears. Select the appropriate option.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239">About the Address List Parameters</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1175"></a><a id="NETAG1176"></a><a id="NETAG1177"></a><a id="NETAG0131"></a><div class="sect3"><a id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7" name="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7"></a><h4 id="NETAG-GUID-FEF9B98D-65D1-4F49-8355-112351670BB7" class="sect4"><span class="enumeration_section">13.1.3 </span>About the Advanced Connect Data Parameters
                  </h4>
                  <div>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> release 2 (12.2), data compression can be set in the <code class="codeph">sqlnet.ora</code> file. The parameters that set compression are SQLNET.COMPRESSION and SQLNET.COMPRESSION_LEVELS. Setting these parameters in the <code class="codeph">sqlnet.ora</code> file affects all the connections using the <code class="codeph">sqlnet.ora</code> file, except for Oracle Data Guard streaming redo and SecureFiles LOBs (Large Objects). The following example shows how to set compression:
                     </p><pre class="oac_no_warn" dir="ltr">SQLNET.COMPRESSION = on
SQLNET.COMPRESSION_LEVELS =(low,high)
</pre><p>The CONNECT_DATA section of a connect descriptor in the <code class="codeph">tnsnames.ora</code> file defines the destination database service. In the following example, SERVICE_NAME defines a service called <code class="codeph">sales.us.example.com</code>:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
   <span class="bold">(CONNECT_DATA=</span>
<span class="bold">    (SERVICE_NAME=sales.us.example.com)</span>)) 
</pre><p>In addition to the service name, you can optionally configure the connect data information with the parameters described in <a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__G492533" title="Advanced Connect Data Settings">Table 13-3</a>.
                     </p>
                     <div class="tblformalwide" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__G492533">
                        <p class="titleintable">Table 13-3 Advanced Connect Data Settings in the tnsnames.ora File</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Advanced Connect Data Settings in the tnsnames.ora File" width="100%" border="1" summary="Advanced Connect Data Settings" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d38386e1004">Oracle Enterprise Manager Cloud Control/Oracle Net Manager Option</th>
                                 <th align="left" valign="bottom" width="23%" id="d38386e1007">tnsnames.ora File Parameter</th>
                                 <th align="left" valign="bottom" width="57%" id="d38386e1010">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1015" headers="d38386e1004 ">
                                    <p>Instance Name </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1015 d38386e1007 ">
                                    <p><a id="d38386e1020" class="indexterm-anchor"></a><a id="d38386e1022" class="indexterm-anchor"></a>INSTANCE_NAME<a id="d38386e1027" class="indexterm-anchor"></a><a id="d38386e1029" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1015 d38386e1010 ">
                                    <p>The database instance to access. The instance name can be obtained from the INSTANCE_NAME parameter in the initialization parameter file. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1039" headers="d38386e1004 ">
                                    <p>Session Data Unit Size </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1039 d38386e1007 ">
                                    <p><a id="d38386e1044" class="indexterm-anchor"></a><a id="d38386e1048" class="indexterm-anchor"></a>SDU<a id="d38386e1053" class="indexterm-anchor"></a><a id="d38386e1055" class="indexterm-anchor"></a><a id="d38386e1061" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1039 d38386e1010 ">
                                    <p>The transfer rate of data packets being sent across the network. You can specify the <a href="glossary.html#GUID-DDF7E038-5341-44CA-8634-C03D77EB50BA"><span class="xrefglossterm">session data unit (SDU)</span></a> size to change the performance characteristics having to do with the packets sent across the network. The SDU size limit is 2 MB. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1073" headers="d38386e1004 ">
                                    <p>Use for Heterogeneous Services</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1073 d38386e1007 ">
                                    <p><a id="d38386e1078" class="indexterm-anchor"></a><a id="d38386e1080" class="indexterm-anchor"></a>HS<a id="d38386e1085" class="indexterm-anchor"></a><a id="d38386e1087" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1073 d38386e1010 ">
                                    <p>If you want an Oracle database server to access a third-party system through <a href="glossary.html#GUID-DA7016FB-3B8F-43D7-876B-BD8502DFADBE"><span class="xrefglossterm">Heterogeneous Services</span></a>, then set this option to <code class="codeph">on</code>. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1104" headers="d38386e1004 ">
                                    <p><a id="d38386e1106" class="indexterm-anchor"></a><a id="d38386e1108" class="indexterm-anchor"></a>Oracle RDB Database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1104 d38386e1007 ">
                                    <p>RDB_DATABASE<a id="d38386e1116" class="indexterm-anchor"></a><a id="d38386e1118" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1104 d38386e1010 ">
                                    <p>The file name of the Oracle Rdb database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1128" headers="d38386e1004 ">
                                    <p><a id="d38386e1130" class="indexterm-anchor"></a><a id="d38386e1132" class="indexterm-anchor"></a>Type of Service 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1128 d38386e1007 ">
                                    <p>TYPE_OF_SERVICE<a id="d38386e1140" class="indexterm-anchor"></a><a id="d38386e1142" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1128 d38386e1010 ">
                                    <p>The type of service to use for the Oracle Rdb database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1152" headers="d38386e1004 ">
                                    <p><a id="d38386e1154" class="indexterm-anchor"></a><a id="d38386e1156" class="indexterm-anchor"></a>Global Database Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1152 d38386e1007 ">
                                    <p>GLOBAL_NAME<a id="d38386e1166" class="indexterm-anchor"></a><a id="d38386e1168" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1152 d38386e1010 ">
                                    <p>Oracle Rdb database identifier.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In the following example, the transfer rate for data packets is set:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
   <span class="bold">(CONNECT_DATA=</span>
<span class="bold">    (SERVICE_NAME=sales.us.example.com)</span>
    <span class="bold"><code class="codeph">(SDU=8192)</code></span>)) 
</pre><p>Use Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure advanced CONNECT_DATA parameters for either a network service name or a database service.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-E02F2EB7-F52B-4F88-8E4C-423CBF8E5006">Configuring Advanced Connect Descriptor Parameters Using Oracle Enterprise Manager Cloud Control</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to configure advanced connect descriptor parameters using Oracle Enterprise Manager Cloud Control:</p>
                     <ol>
                        <li>
                           <p>Access the Directory Naming or Local Naming page in Oracle Enterprise Manager Cloud Control, as follows:</p>
                           <ol type="a">
                              <li>
                                 <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                 <div class="infoboxnotealso" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-DC61D362-A4A6-49E1-800F-9E52AD5F66E0">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Local Naming</span> or <span class="bold">Directory Naming</span> from the <span class="bold">Administer</span> list, and then select the Oracle home for the directory server or the location of the local configuration files.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Go</span>. 
                                 </p>
                                 <p>The Directory Naming or Local Naming pages appear.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select the directory service or network service name.</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>For Local Naming, select a network service from the list, and then click <span class="bold">Edit</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>For Directory Naming, search the network service name in the Simple Search section by selecting the network service or database service from the Results list, and then clicking <span class="bold">Edit</span>. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Advanced</span> tab. 
                           </p>
                        </li>
                        <li>
                           <p>Enter fields or select options as appropriate, and then click <span class="bold">OK</span>.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> to update the connect data information.
                           </p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-25B3917A-5B77-45CE-B46E-28445E4C4226">Configuring Advanced Connect Descriptor Parameters Using Oracle Net Manager</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to configure advanced connect descriptor parameters using Oracle Net Manager:</p>
                     <ol>
                        <li>
                           <p>Start Oracle Net Manager.</p>
                           <div class="infoboxnotealso" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-C9339266-0FA6-4016-BA9A-9723969581C0">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>In the navigator pane, select <span class="bold">Service Naming</span> from Directory or Local menus.
                           </p>
                        </li>
                        <li>
                           <p>Select either the network service name or a database service.</p>
                           <p>The right pane displays the current destination service and address list.</p>
                        </li>
                        <li>
                           <p>In the Service Identification box, click <span class="bold">Advanced</span>.
                           </p>
                           <p>The Advanced Service Options dialog box appears.</p>
                        </li>
                        <li>
                           <p>Enter fields or select options as appropriate, and then click <span class="bold">OK</span>.
                           </p>
                        </li>
                        <li>
                           <p>If you are making these changes to the Local folder, then select <span class="bold">Save Network Configuration</span> from the File menu. Changes to the Directory folder are saved automatically.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG335"></a><div class="sect2"><a id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E" name="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E"></a><h3 id="NETAG-GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E" class="sect3"><span class="enumeration_section">13.2 </span>Understanding Connection Load Balancing
               </h3>
               <div>
                  <p>The <a href="glossary.html#GUID-65C69E90-90B0-4D0D-AF6B-771E4409314A"><span class="xrefglossterm">connection load balancing</span></a> feature improves connection performance by balancing the number of active connections among multiple <a href="glossary.html#GUID-6A50A995-E885-4B57-88A3-F0DA6E3B1B60"><span class="xrefglossterm">dispatcher</span></a>s. In an <a href="glossary.html#GUID-771FD3A1-1859-4DF9-9151-DF02A8ECFBA3"><span class="xrefglossterm">Oracle Real Application Clusters (Oracle RAC)</span></a> environment, connection load balancing can also balance the number of active connections among multiple instances.
                  </p>
                  <p>Because the Listener Registration (LREG) process can register with remote listeners, a listener can always be aware of all instances and dispatchers, regardless of their location. Depending on the load information, a listener decides which instance and, if shared server is configured, which dispatcher to send the incoming client request. </p>
                  <p>In a <a href="glossary.html#GUID-1217C512-0795-497A-BE6B-13D8E18E08CA"><span class="xrefglossterm">shared server</span></a> configuration, a listener selects a dispatcher in the following order:
                  </p>
                  <ol>
                     <li>
                        <p>Least loaded node.</p>
                     </li>
                     <li>
                        <p>Least loaded instance.</p>
                     </li>
                     <li>
                        <p>Least loaded dispatcher for that instance. </p>
                     </li>
                  </ol>
                  <p>In a <a href="glossary.html#GUID-111D574E-F53B-45C4-9F52-FB63F969DA4F"><span class="xrefglossterm">dedicated server</span></a> configuration, a listener selects an instance in the following order: 
                  </p>
                  <ol>
                     <li>
                        <p>Least loaded node.</p>
                     </li>
                     <li>
                        <p>Least loaded instance. </p>
                     </li>
                  </ol>
                  <p>Load Balancing across nodes for HTTP presentation is introduced in this release. The remote listener can load balance across instances that are on different nodes for HTTP presentation using HTTP redirect.</p>
                  <p>An Oracle RAC environment requires that the dispatchers on each instance be cross-registered with the other listeners on the other nodes. This is achieved by the use of the <code class="codeph">LISTENER</code> attribute of the DISPATCHERS parameter. 
                  </p>
                  <div class="infoboxnote" id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E__GUID-FE839E17-DCF0-4F98-98BD-0886A6AA3E62">
                     <p class="notep1">Note:</p>
                     <p>For optimum connection load balancing results, the instances that belong to the same database service should be on equivalent hardware and software configurations.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5">Example of Connection Load Balancing for Shared Server Configuration</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269">Example of Connection Load Balancing for Dedicated Server Configuration</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF">COLOCATION_TAG of Client Connections</a><br>The <code class="codeph">COLOCATION_TAG</code> parameter is an alphanumeric string that you can use with the <code class="codeph">CONNECT_DATA</code> parameter of the TNS connect string. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E__GUID-DBC7168E-44DA-434A-81DA-E0CA0B0AB4B3">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D">Registering Information with a Remote Listener</a>"</span> for additional information about cross-registration
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span class="italic">Oracle Database Reference</span></a> for complete information about the SERVICE_NAMES and INSTANCE_NAME parameters
                           </p>
                        </li>
                        <li>
                           <p><a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">Configuring a Shared Server Architecture </a> for additional information about the <code class="codeph">LISTENER</code> attribute
                           </p>
                        </li>
                        <li>
                           <p><a href="../gsmug/global-data-services-admin.html#GSMUG-GUID-3A51492C-6214-4585-8609-56962180A12A" target="_blank"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for information about management of global services
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1178"></a><a id="NETAG1179"></a><a id="NETAG336"></a><div class="sect3"><a id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5" name="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5"></a><h4 id="NETAG-GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5" class="sect4"><span class="enumeration_section">13.2.1 </span>Example of Connection Load Balancing for Shared Server Configuration
                  </h4>
                  <div>
                     <p><a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABHIHIA">Figure 13-1</a> shows an Oracle RAC shared server database with two instances, <code class="codeph">sales1</code> and <code class="codeph">sales2</code>, of the same service, <code class="codeph">sales.us.example.com</code>. The instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> reside on computers <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Instance <code class="codeph">sales1</code> has one dispatcher and instance <code class="codeph">sales2</code> has two dispatchers. Listeners named <code class="codeph">listener</code> run on nodes 1 and 2. The <code class="codeph">listener</code> attribute in the DISPATCHERS parameter has been configured to allow for service registration of information to both listeners.
                     </p>
                     <div class="figure" id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABHIHIA">
                        <p class="titleinfigure">Figure 13-1 Load Balancing Environment for a Shared Server Configuration</p><img width="435" src="img/netag034.gif" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/netag034.html"><br><a href="img_text/netag034.html">Description of "Figure 13-1 Load Balancing Environment for a Shared Server Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>In this example, <code class="codeph">sales2-server</code> is the least loaded node, <code class="codeph">sales2</code> is the least loaded instance, and <code class="codeph">dispatcher2</code> is the least loaded dispatcher. The following load information is registered. 
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>The one minute load average for each instance is 600 for <code class="codeph">sales1</code> and 400 for <code class="codeph">sales2</code>. This can happen if more processing is required on <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The number of connections to each instance is 200 for <code class="codeph">sales1</code> and 300 for <code class="codeph">sales2</code>.
                           </p>
                        </li>
                        <li>
                           <p>The number of dispatcher connections to each instance is 200 for <code class="codeph">dispatcher1</code>, 100 for <code class="codeph">dispatcher2</code>, and 200 for <code class="codeph">dispatcher3</code>.
                           </p>
                        </li>
                        <li>
                           <p>The number of connections to <code class="codeph">sales1</code> (200) is the same as that of its only dispatcher, <code class="codeph">dispatcher1</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The number of connections on <code class="codeph">sales2</code> (300) is the sum of the connections on its two dispatchers, <code class="codeph">dispatcher2</code> (100) and <code class="codeph">dispatcher3</code> (200). 
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">listeners_sales</code> value in <code class="codeph">(LISTENER=listeners_sales)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on both servers as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listeners_sales= 
 (DESCRIPTION= 
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521))))
</pre><p>Based on the environment, the following actions occur. The numbered actions correspond to the arrows shown in <a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABEFIEE">Figure 13-2</a>:
                     </p>
                     <ol>
                        <li>
                           <p>LREG processes for instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> register with both listeners. The listeners are updated dynamically on the load of the instances and dispatchers.
                           </p>
                        </li>
                        <li>
                           <p>The client sends a connect request. A connect descriptor is configured to try each protocol address randomly until one succeeds:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com= 
 (DESCRIPTION= 
  (<span class="bold"><code class="codeph">LOAD_BALANCE=on</code></span>)
  (<span class="bold"><code class="codeph">FAILOVER=on</code></span>)
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</pre><p>The listener on <code class="codeph">sales1-server</code> was randomly chosen to receive the client connect request. 
                           </p>
                           <p>The listener on <code class="codeph">sales1-server</code> compares the load of the instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code>. The comparison takes into account the load on nodes <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Because <code class="codeph">sales2-server</code> is less loaded than <code class="codeph">sales1-server</code>, the listener selects <code class="codeph">sales2-server</code> over <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The listener compares the load on dispatchers <code class="codeph">dispatcher2</code> and <code class="codeph">dispatcher3</code>. Because <code class="codeph">dispatcher2</code> is less loaded than <code class="codeph">dispatcher3</code>, the listener redirects the client connect request to <code class="codeph">dispatcher2</code>.
                           </p>
                        </li>
                        <li>
                           <p>The client connects directly to <code class="codeph">dispatcher2</code>.
                           </p>
                        </li>
                     </ol>
                     <div class="figure" id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABEFIEE">
                        <p class="titleinfigure">Figure 13-2 Load Balancing Example for a Shared Server Configuration</p><img width="568" src="img/netag033.gif" alt="Description of Figure 13-2 follows" title="Description of Figure 13-2 follows" longdesc="img_text/netag033.html"><br><a href="img_text/netag033.html">Description of "Figure 13-2 Load Balancing Example for a Shared Server Configuration"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1180"></a><a id="NETAG1182"></a><a id="NETAG337"></a><div class="sect3"><a id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269" name="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269"></a><h4 id="NETAG-GUID-1A1CCEFC-197A-4547-89E3-A062969F6269" class="sect4"><span class="enumeration_section">13.2.2 </span>Example of Connection Load Balancing for Dedicated Server Configuration
                  </h4>
                  <div>
                     <p><a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__i480663">Figure 13-3</a> shows an Oracle RAC dedicated server database with two instances, <code class="codeph">sales1</code> and <code class="codeph">sales2</code>, of the same service, <code class="codeph">sales.us.example.com</code>. The instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> reside on computers <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Listeners named <code class="codeph">listener</code> run on nodes 1 and 2. The REMOTE_LISTENER initialization parameter has been configured to allow for service registration of information to both listeners.
                     </p>
                     <div class="figure" id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__i480663">
                        <p class="titleinfigure">Figure 13-3 Load Balancing Environment for a Dedicated Server Configuration</p><img width="437" src="img/netag125.gif" alt="Description of Figure 13-3 follows" title="Description of Figure 13-3 follows" longdesc="img_text/netag125.html"><br><a href="img_text/netag125.html">Description of "Figure 13-3 Load Balancing Environment for a Dedicated Server Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>In this example, the following load information is registered:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">sales1-server</code> has a node load average of 450 per minute.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales2-server</code> has a node load average of 200 per minute.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales1</code> has 200 connections.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales2</code> has 150 connections.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">listener_sales1</code> value in <code class="codeph">(REMOTE_LISTENER=listener_sales1)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on the <code class="codeph">sales2-server</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listener_sales1= 
 (DESCRIPTION= 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)))
</pre><p>The <code class="codeph">listener_sales2</code> value in <code class="codeph">(REMOTE_LISTENER=listener_sales2)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on the <code class="codeph">sales1-server</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listener_sales2= 
 (DESCRIPTION= 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
</pre><p>Based on the environment, the following actions occur. The numbered actions correspond to the arrows shown in <a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__BABBAEAD">Figure 13-4</a>: 
                     </p>
                     <ol>
                        <li>
                           <p>LREG processes for instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> register with both listeners. The listeners are dynamically updated on the load of the instances.
                           </p>
                           <p>Based on the preceding information, <code class="codeph">sales2-server</code> is the least loaded node and <code class="codeph">sales2</code> is the least loaded instance.
                           </p>
                        </li>
                        <li>
                           <p>The client sends a connect request. </p>
                           <p>A connect descriptor is configured to try each protocol address randomly until one succeeds:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com= 
 (DESCRIPTION= 
  (ADDRESS_LIST=
    (<span class="bold"><code class="codeph">LOAD_BALANCE=on</code></span>)
<a id="d38386e1969" class="indexterm-anchor"></a><span class="bold"><code class="codeph">    (FAILOVER=on)</code></span>
    (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
    (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
    (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</pre><p>The listener on <code class="codeph">sales1-server</code> was randomly chosen to receive the client connect request. 
                           </p>
                           <p>The listener on <code class="codeph">sales1-server</code> compares the load of the instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code>. The comparison takes into account the load on nodes <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Because <code class="codeph">sales2-server</code> is less loaded than <code class="codeph">sales1-server</code>, the listener selects <code class="codeph">sales2-server</code> over <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The listener on <code class="codeph">sales1-server</code> redirects the client connect request to the listener on <code class="codeph">sales2-server</code>.
                           </p>
                        </li>
                        <li>
                           <p>The client connects to the listener on <code class="codeph">sale2-server</code>. The listener starts a dedicated server process, and the dedicated server process inherits the connection request from the listener.
                           </p>
                        </li>
                     </ol>
                     <div class="figure" id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__BABBAEAD">
                        <p class="titleinfigure">Figure 13-4 Load Balancing Example for a Dedicated Server Configuration</p><img width="616" src="img/netag126.gif" alt="Description of Figure 13-4 follows" title="Description of Figure 13-4 follows" longdesc="img_text/netag126.html"><br><a href="img_text/netag126.html">Description of "Figure 13-4 Load Balancing Example for a Dedicated Server Configuration"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF" name="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF"></a><h4 id="NETAG-GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF" class="sect4"><span class="enumeration_section">13.2.3 </span>COLOCATION_TAG of Client Connections
                  </h4>
                  <div>
                     <p>The <code class="codeph">COLOCATION_TAG</code> parameter is an alphanumeric string that you can use with the <code class="codeph">CONNECT_DATA</code> parameter of the TNS connect string. 
                     </p>
                     <p>When you set the <code class="codeph">colocation_tag</code> within the <code class="codeph">CONNECT_DATA</code> parameter, load balancing is ignored. The listener makes an effort to send all connections that have the same <code class="codeph">colocation_tag</code> to the same database instance. The instance selection algorithm is based on the <code class="codeph">colocation_tag</code>, and the list of available instances for the specified service. 
                     </p>
                     <p>For example, the listener will try to route all clients to the same database instance that have the <code class="codeph">COLOCATION_TAG</code> set to interactive in the connection descriptor.
                     </p><pre class="pre codeblock"><code>
sales.us.example.com=
  (DESCRIPTION=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
     (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)(COLOCATION_TAG=interactive)))
    </code></pre><div class="infoboxnote" id="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF__GUID-3FCDE296-6232-429D-88C0-1155FB661C99">
                        <p class="notep1">Note:</p>Under certain conditions, such as, when maximum load of an instance is reached or when new instances are added or deleted for a service, the colocation of client connections that have the same <code class="codeph">colocation_tag</code> to the same database instance may not be consistent.
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../netrf/local-naming-parameters-in-tns-ora-file.html#NETRF-GUID-9D06528E-BBC4-4629-A119-C216EBF70201" target="_blank">COLOCATION_TAG</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="NETAG455"></a><div class="sect2"><a id="GUID-8F532535-C401-4B51-BE0B-04FD74BB0621" name="GUID-8F532535-C401-4B51-BE0B-04FD74BB0621"></a><h3 id="NETAG-GUID-8F532535-C401-4B51-BE0B-04FD74BB0621" class="sect3"><span class="enumeration_section">13.3 </span>Configuring Transparent Application Failover
               </h3>
               <div>
                  <p><a id="d38386e2196" class="indexterm-anchor"></a>Transparent Application Failover (TAF) instructs Oracle Net to fail over a failed connection to a different listener. This enables the user to continue to work using the new connection as if the original connection had never failed. 
                  </p>
                  <p>TAF involves manual configuration of a network service name that includes the <a id="d38386e2203" class="indexterm-anchor"></a>FAILOVER_MODE parameter included in the CONNECT_DATA section of the connect descriptor. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1BCF4B66-3F06-468B-9D22-13F057247B93">About Transparent Application Failover</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749">What Transparent Application Failover Restores</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-21C469A4-1743-40DD-806C-48057E4A4BBD">About the FAILOVER_MODE Parameters</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-2DACA598-A593-4283-BAD2-7406C56CC146">Verifying Transparent Application Failover</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG338"></a><div class="sect3"><a id="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93" name="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93"></a><h4 id="NETAG-GUID-1BCF4B66-3F06-468B-9D22-13F057247B93" class="sect4"><span class="enumeration_section">13.3.1 </span>About Transparent Application Failover
                  </h4>
                  <div>
                     <p>TAF is a client-side feature that allows clients to reconnect to surviving databases in the event of a failure of a database instance. Notifications are used by the server to trigger TAF callbacks on the client-side. </p>
                     <p>TAF is configured using either client-side specified TNS (Transparent Network Substrate) connect string or using server-side service attributes. If both methods are used to configure TAF, then the server-side service attributes supersede the client-side settings. Server-side service attributes are the preferred way to set up TAF. </p>
                     <p>TAF can operate in one of two modes, Session Failover and Select Failover. Session Failover re-creates lost connections and sessions. Select Failover replays queries that were in progress.</p>
                     <p>When there is a failure, callback functions are initiated on the client-side using Oracle Call Interface (OCI) callbacks. This works with standard OCI connections as well as connection pool and session pool connections.</p>
                     <p>TAF operates with Oracle Data Guard to provide automatic failover. TAF works with the following database configurations to effectively mask a database failure:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle Real Application Clusters</p>
                        </li>
                        <li>
                           <p>Replicated systems</p>
                        </li>
                        <li>
                           <p>Standby databases</p>
                        </li>
                        <li>
                           <p>Single instance Oracle database</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93__GUID-1724338D-F4E0-4844-A3F9-533E0C1305E8">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../racad/ensuring-application-continuity.html#RACAD-GUID-DEF850F6-27E9-428E-B8FC-530230D78AD2" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="../lnoci/high-availability-in-oci.html#LNOCI-GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more details on callbacks, and session pools
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG339"></a><div class="sect3"><a id="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749" name="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749"></a><h4 id="NETAG-GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749" class="sect4"><span class="enumeration_section">13.3.2 </span>What Transparent Application Failover Restores
                  </h4>
                  <div>
                     <p>TAF automatically restores some or all of the following elements associated with active database connections. Other elements may need to be embedded in the application code to enable TAF to recover the connection.</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Client-server database connections: TAF automatically reestablishes the connection using the same connect string or an alternate connect string that you specify when configuring failover.</p>
                        </li>
                        <li>
                           <p>Users' database sessions: TAF automatically logs a user in with the same user ID as was used before the failure. If multiple users were using the connection, then TAF automatically logs them in as they attempt to process database commands. Unfortunately, TAF cannot automatically restore other session properties. These properties can be restored by invoking a callback function.</p>
                        </li>
                        <li>
                           <p>Completed commands: If a command was completed at the time of connection failure, and it changed the state of the database, then TAF does not resend the command. If TAF reconnects in response to a command that may have changed the database, then TAF issues an error message to the application.</p>
                        </li>
                        <li>
                           <p>Open cursors used for fetching: TAF allows applications that began fetching rows from a cursor before failover to continue fetching rows after failover. This is called select failover. It is accomplished by re-running a <code class="codeph">SELECT</code> statement using the same snapshot, discarding those rows already fetched and retrieving those rows that were not fetched initially. TAF verifies that the discarded rows are those that were returned initially, or it returns an error message.
                           </p>
                        </li>
                        <li>
                           <p>Active transactions: Any active transactions are rolled back at the time of failure because TAF cannot preserve active transactions after failover. The application instead receives an error message until a <code class="codeph">ROLLBACK</code> command is submitted. 
                           </p>
                           <p></p>
                        </li>
                        <li>
                           <p>Server-side program variables: Server-side program variables, such as PL/SQL package states, are lost during failures, and TAF cannot recover them. They can be initialized by making a call from the failover callback.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749__GUID-AE09DEDA-6623-4822-BFF1-18313DF4E6C5">
                        <p class="notep1">See Also:</p>
                        <p> <a href="../lnoci/session-and-connection-pooling.html#LNOCI090" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1183"></a><a id="NETAG347"></a><div class="sect3"><a id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD" name="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD"></a><h4 id="NETAG-GUID-21C469A4-1743-40DD-806C-48057E4A4BBD" class="sect4"><span class="enumeration_section">13.3.3 </span>About the FAILOVER_MODE Parameters
                  </h4>
                  <div>
                     <p>The FAILOVER_MODE parameter must be included in the CONNECT_DATA section of a connect descriptor. The FAILOVER_MODE parameter can contain the parameters described in <a href="enabling-advanced-features.html#GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__CEGIJFCA" title="Subparameters of the FAILOVER_MODE Parameter">Table 13-4</a>.
                     </p>
                     <div class="tblformal" id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__CEGIJFCA">
                        <p class="titleintable">Table 13-4 Additional Parameters of the FAILOVER_MODE Parameter</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Additional Parameters of the FAILOVER_MODE Parameter" width="100%" border="1" summary="Subparameters of the FAILOVER_MODE Parameter" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d38386e2509">FAILOVER_MODE Parameters</th>
                                 <th align="left" valign="bottom" width="77%" id="d38386e2512">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2517" headers="d38386e2509 ">
                                    <p><a id="d38386e2519" class="indexterm-anchor"></a><a id="d38386e2521" class="indexterm-anchor"></a>BACKUP
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2517 d38386e2512 ">
                                    <p>A different network service name for backup connections. A backup should be specified when using <code class="codeph">preconnect</code> to pre-establish connections.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2535" headers="d38386e2509 ">
                                    <p>DELAY</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2535 d38386e2512 ">
                                    <p>The amount of time in seconds to wait between connect attempts. If RETRIES is specified, then DELAY defaults to one second.</p>
                                    <p>If a callback function is registered, then this parameter is ignored.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2544" headers="d38386e2509 ">
                                    <p><a id="d38386e2546" class="indexterm-anchor"></a><a id="d38386e2548" class="indexterm-anchor"></a>METHOD
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2544 d38386e2512 ">
                                    <p>The setting for fast failover from the primary node to the backup node:</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">basic</code>: Set to establish connections at failover time. This option requires almost no work on the backup server until failover time.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">preconnect</code>: Set to pre-established connections. This provides faster failover but requires that the backup instance be able to support all connections from every supported instance.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2570" headers="d38386e2509 ">
                                    <p>RETRIES</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2570 d38386e2512 ">
                                    <p>The number of times to attempt to connect after a failover. If DELAY is specified, then RETRIES defaults to five retry attempts.</p>
                                    <p>If a callback function is registered, then this parameter is ignored.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2579" headers="d38386e2509 ">
                                    <p>TRANSACTION</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2579 d38386e2512 ">
                                    <p>The ability for a transaction to complete after a recoverable database error. This parameter is set using the SRVCTL utility or the DBMS_SERVICE package. </p>
                                    <p>This parameter is used with <code class="codeph">COMMIT_OUTCOME=TRUE</code>. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2591" headers="d38386e2509 ">
                                    <p><a id="d38386e2593" class="indexterm-anchor"></a><a id="d38386e2595" class="indexterm-anchor"></a>TYPE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2591 d38386e2512 ">
                                    <p>The type of failover. Three types of Oracle Net failover functionality are available by default to Oracle Call Interface (OCI) applications: </p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">session</code>: Set to fail over the session. If the user's connection is lost, then a new session is automatically created for the user on the backup. This type of failover does not attempt to recover select operations.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">select</code>: Set to enable users with open cursors to continue fetching on them after failure. However, this mode involves overhead on the client side in normal select operations.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">none</code>: This is the default. No failover functionality is used. This can also be explicitly specified to prevent failover from happening.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__GUID-2EAD55C9-2E66-4D87-8A4B-61B7776DA8D4">
                        <p class="notep1">Note:</p>
                        <p>Oracle Net Manager does not provide support for TAF parameters. These parameters must be set manually.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG348"></a><div class="sect3"><a id="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796" name="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796"></a><h4 id="NETAG-GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796" class="sect4"><span class="enumeration_section">13.3.4 </span>Implementing Transparent Application Failover
                  </h4>
                  <div>
                     <p>Depending on the FAILOVER_MODE parameters, you can implement TAF in several ways. Oracle recommends the following methods:</p>
                     <div class="infoboxnote" id="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796__GUID-E0BF5257-B7A9-4395-B9B5-8253E9F966F6">
                        <p class="notep1">Important:</p>
                        <p>Do not set the GLOBAL_DBNAME parameter in the SID_LIST_<span class="italic">listener_name</span> section of the <code class="codeph">listener.ora</code> file. A statically configured global database name disables TAF.<a id="d38386e2689" class="indexterm-anchor"></a></p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3">TAF with Connect-Time Failover and Client Load Balancing</a><br></li>
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250">TAF Retrying a Connection</a><br></li>
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD">TAF Pre-establishing a Connection</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG349"></a><div class="sect4"><a id="GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3" name="GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3"></a><h5 id="NETAG-GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3" class="sect5"><span class="enumeration_section">13.3.4.1 </span>TAF with Connect-Time Failover and Client Load Balancing
                     </h5>
                     <div>
                        <p>Implement TAF with connect-time failover and client load balancing for multiple addresses. In the following example, Oracle Net connects randomly to one of the protocol addresses on <code class="codeph">sales1-server</code> or <code class="codeph">sales2-server</code>. If the instance fails after the connection, then the TAF application fails over to the other node's listener, reserving any <code class="codeph">SELECT</code> statements in progress.
                        </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  <span class="bold">(LOAD_BALANCE=on)</span> 
  <span class="bold">(FAILOVER=on) </span>
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=basic))</span>))
</pre><p>Although the preceding example has multiple addresses, the <code class="codeph">ADDRESS_LIST</code> parameter was not used. This is because the <code class="codeph">ADDRESS_LIST</code> parameter is not mandatory.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG350"></a><div class="sect4"><a id="GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250" name="GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250"></a><h5 id="NETAG-GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250" class="sect5"><span class="enumeration_section">13.3.4.2 </span>TAF Retrying a Connection
                     </h5>
                     <div>
                        <p>TAF also provides the ability to automatically retry connecting if the first connection attempt fails with the RETRIES and DELAY parameters. In the following example, Oracle Net tries to reconnect to the listener on <code class="codeph">sales1-server</code>. If the failover connection fails, then Oracle Net waits 15 seconds before trying to reconnect again. Oracle Net attempts to reconnect up to 20 times.
                        </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=basic)</span>
       <span class="bold">(RETRIES=20)</span>
       <span class="bold">(DELAY=15))</span>))</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG351"></a><div class="sect4"><a id="GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD" name="GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD"></a><h5 id="NETAG-GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD" class="sect5"><span class="enumeration_section">13.3.4.3 </span>TAF Pre-establishing a Connection
                     </h5>
                     <div>
                        <p>A backup connection can be pre-established. The initial and backup connections must be explicitly specified. In the following example, clients that use network service name <code class="codeph">sales1.us.example.com</code> to connect to the listener on <code class="codeph">sales1-server</code> are also preconnected to <code class="codeph">sales2-server</code>. If <code class="codeph">sales1-server</code> fails after the connection, then Oracle Net fails over to <code class="codeph">sales2-server</code>, preserving any <code class="codeph">SELECT</code> statements in progress. Similarly, Oracle Net preconnects to <code class="codeph">sales1-server</code> for those clients that use <code class="codeph">sales2.us.example.com</code> to connect to the listener on <code class="codeph">sales2-server</code>.
                        </p><pre class="oac_no_warn" dir="ltr">sales1.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     (INSTANCE_NAME=sales1) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(BACKUP=sales2.us.example.com)</span> 
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=preconnect))</span>))
sales2.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     (INSTANCE_NAME=sales2)
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(BACKUP=sales1.us.example.com)</span> 
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=preconnect))</span>))</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG352"></a><div class="sect3"><a id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146" name="GUID-2DACA598-A593-4283-BAD2-7406C56CC146"></a><h4 id="NETAG-GUID-2DACA598-A593-4283-BAD2-7406C56CC146" class="sect4"><span class="enumeration_section">13.3.5 </span>Verifying Transparent Application Failover
                  </h4>
                  <div>
                     <p>You can query the FAILOVER_TYPE, FAILOVER_METHOD, and FAILED_OVER columns in the V$SESSION view to verify that TAF is correctly configured. To view the columns, use a query similar to the following: </p><pre class="oac_no_warn" dir="ltr">SELECT MACHINE, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER, COUNT(*)
FROM V$SESSION
GROUP BY MACHINE, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER;
</pre><p>The output before failover looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">MACHINE              FAILOVER_TYPE FAILOVER_METHOD FAILED_OVER   COUNT(*)
-------------------- ------------- ----------      ---           ----------
sales1               NONE          NONE            NO            11
sales2               SELECT        PRECONNECT      NO             1
</pre><p>The output after failover looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">MACHINE              FAILOVER_TYPE FAILOVER_METHOD FAILED_OVER   COUNT(*)
-------------------- ------------- ----------      ---           ----------
sales2               NONE          NONE            NO            10
sales2               SELECT        PRECONNECT      YES            1</pre><p></p>
                     <div class="infoboxnote" id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146__GUID-9512CA75-49C8-4E76-9B53-5AAF90C064C3">
                        <p class="notep1">Note:</p>
                        <p>You can monitor each step of TAF using an appropriately configured <code class="codeph">OCI TAF CALLBACK</code> function. 
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146__GUID-47E38FBB-239E-42ED-A796-8D4ECF55F258">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../lnoci/high-availability-in-oci.html#LNOCI-GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span class="italic">Oracle Database Reference</span></a> for additional information about the <a id="d38386e3080" class="indexterm-anchor"></a>V$SESSION view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1594"></a><a id="NETAG1184"></a><a id="NETAG1185"></a><a id="NETAG1186"></a><a id="NETAG353"></a><div class="sect2"><a id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01" name="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01"></a><h3 id="NETAG-GUID-64F8244D-530A-41ED-AB80-3B27F271CD01" class="sect3"><span class="enumeration_section">13.4 </span>Specifying the Instance Role for Primary and Secondary Instance Configurations
               </h3>
               <div>
                  <p>The INSTANCE_ROLE<a id="d38386e3173" class="indexterm-anchor"></a><a id="d38386e3175" class="indexterm-anchor"></a> parameter is an optional parameter for the CONNECT_DATA section of a connect descriptor. It enables you to specify a connection to the primary or secondary instance of Oracle RAC configurations. 
                  </p>
                  <p>This parameter is useful when:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>You want to explicitly connect to a primary or secondary instance. The default is the primary instance.</p>
                     </li>
                     <li>
                        <p>You want to use TAF to preconnect to a secondary instance.</p>
                     </li>
                  </ul>
                  <p><a href="enabling-advanced-features.html#GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__CEGCCJGC" title="INSTANCE_ROLE parameters">Table 13-5</a> describes the INSTANCE_ROLE parameters.
                  </p>
                  <div class="tblformal" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__CEGCCJGC">
                     <p class="titleintable">Table 13-5 INSTANCE_ROLE Parameters</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="INSTANCE_ROLE Parameters" width="100%" border="1" summary="INSTANCE_ROLE parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d38386e3207">INSTANCE_ROLE Parameter</th>
                              <th align="left" valign="bottom" width="69%" id="d38386e3210">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3215" headers="d38386e3207 ">
                                 <p>PRIMARY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3215 d38386e3210 ">
                                 <p>Specifies a connection to the primary instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3222" headers="d38386e3207 ">
                                 <p>SECONDARY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3222 d38386e3210 ">
                                 <p>Specifies a connection to the secondary instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3229" headers="d38386e3207 ">
                                 <p>ANY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3229 d38386e3210 ">
                                 <p>Specifies a connection to whichever instance has the lowest load, regardless of primary or secondary instance role.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-B53E7B23-B74E-4355-833A-1C14A0692B46">Connection to Instance Role Type</p>
                  </div>
                  <!-- class="section" -->
                  <p>In the following example of the <code class="codeph">tnsnames.ora</code> file, network service name <code class="codeph">sales_primary</code> enables connections to the primary instance, and network service name <code class="codeph">sales_secondary</code> enables connections to the secondary instance.
                  </p><pre class="oac_no_warn" dir="ltr">sales_primary=
 (DESCRIPTION=
  (ADDRESS_LIST=
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521))) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=primary)</span>))
sales_secondary=
 (DESCRIPTION=
  (ADDRESS_LIST=
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521))) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=secondary)</span>))</pre><div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-168D471D-B4D6-4BF0-ADBF-833D2750916C">Connection to a Specific Instance</p>
                  </div>
                  <!-- class="section" -->
                  <p>There are times when Oracle Enterprise Manager Cloud Control and other system management products need to connect to a specific instance regardless of its role to perform administrative tasks. For these types of connections, configure (<code class="codeph">INSTANCE_NAME=</code><span class="italic"><code class="codeph">instance_name</code></span><code class="codeph">)</code> and (<code class="codeph">INSTANCE_ROLE=any)</code> to connect to the instance regardless of its role.
                  </p>
                  <p>In the following example, network service name <code class="codeph">sales1</code> enables connections to the instance on <code class="codeph">sales1-server</code> and <code class="codeph">sales2</code> enables connections to the instance on <code class="codeph">sales2-server</code>. <code class="codeph">(SERVER=dedicated)</code> is specified to force a dedicated server connection. 
                  </p><pre class="oac_no_warn" dir="ltr">sales1=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=any)</span>
     (INSTANCE_NAME=sales1)
     <span class="bold"><code class="codeph">(SERVER=dedicated)</code></span>))
sales2=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=any)</span>
     (INSTANCE_NAME=sales2)
     <span class="bold"><code class="codeph">(SERVER=dedicated)</code></span>))</pre><div class="infoboxnote" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-6BE995F8-B2A7-4889-9317-AA782F6C4731">
                     <p class="notep1">Note:</p>
                     <p>Failover is incompatible with the preceding settings.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-0745013D-2C14-4022-B94A-0EBC3469E0C0">TAF Pre-establishing a Connection</p>
                  </div>
                  <!-- class="section" -->
                  <p>If TAF is configured, then a backup connection can be pre-established to the secondary instance. The initial and backup connections must be explicitly specified. In the following example, Oracle Net connects to the listener on <code class="codeph">sales1-server</code> and preconnects to <code class="codeph">sales2-server</code>, the secondary instance. If <code class="codeph">sales1-server</code> fails after the connection, then the TAF application fails over to <code class="codeph">sales2-server</code>, the secondary instance, preserving any <code class="codeph">SELECT</code> statements in progress.
                  </p><pre class="oac_no_warn" dir="ltr">sales1.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=primary) </span>
     <span class="bold"><code class="codeph">(FAILOVER_MODE=</code></span>
       <span class="bold"><code class="codeph">(BACKUP=sales2.example.com) </code></span>
       <span class="bold"><code class="codeph">(TYPE=select)</code></span>
       <span class="bold"><code class="codeph">(METHOD=preconnect))</code></span>))
sales2.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=secondary)</span>))</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1590"></a><a id="NETAG1591"></a><a id="NETAG1589"></a><div class="sect2"><a id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F" name="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F"></a><h3 id="NETAG-GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F" class="sect3"><span class="enumeration_section">13.5 </span>Understanding Static Service Registration 
               </h3>
               <div>
                  <p>The listener uses the dynamic service information about the database and instance before using statically configured information in the <code class="codeph">listener.ora</code> file. Configuration of static service information is necessary in the following cases: 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Use of external procedure calls</p>
                     </li>
                     <li>
                        <p>Use of Oracle Heterogeneous Services</p>
                     </li>
                     <li>
                        <p>Use of Oracle Data Guard</p>
                     </li>
                     <li>
                        <p>Remote database startup from a tool other than Oracle Enterprise Manager Cloud Control</p>
                     </li>
                     <li>
                        <p>Connections to Oracle databases earlier than Oracle8<span class="italic">i</span> release 2 (8.1)
                        </p>
                     </li>
                  </ul>
                  <p><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGIHJEE">Example 13-1</a> shows a <code class="codeph">listener.ora </code>file configured for static service registration. The LISTENER entry defines the listening protocol address for a listener named Listener, and the <a id="d38386e3464" class="indexterm-anchor"></a>SID_LIST_LISTENER entry provides information about the external services statically supported by the Listener listener.
                  </p>
                  <div class="example" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGIHJEE">
                     <p class="titleinexample">Example 13-1 Example listener.ora File</p><pre class="oac_no_warn" dir="ltr"><span class="bold">LISTENER</span>=
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
      (ADDRESS=(PROTOCOL=ipc)(KEY=extproc) (queuesize=50))))
<span class="bold">SID_LIST_listener</span>=
  (SID_LIST=
    (SID_DESC=
      (SID_NAME=plsextproc)
      (ORACLE_HOME=/oracle8)
      (PROGRAM=extproc)))
</pre></div>
                  <!-- class="example" -->
                  <p>The SID_LIST_<span class="italic">listener_name</span> parameter setting in the <code class="codeph">listener.ora</code> file specifies information about the databases served by the listener. When services are configured statically, a listener starts a dedicated server process when it receives a client request. If the instance is not up, then the server returns an <code class="codeph">Oracle not available</code> error message. 
                  </p>
                  <p>If a database cannot find the listener, then configure the <code class="codeph">listener.ora</code> file with the <a id="d38386e3496" class="indexterm-anchor"></a>GLOBAL_DBNAME parameter, as shown in the following example
                  </p><pre class="oac_no_warn" dir="ltr">SID_LIST_listener=
(SID_LIST=
 (SID_DESC=
  (<span class="bold"><code class="codeph">GLOBAL_DBNAME</code></span>=sales.example.com)
  (SID_NAME=sales)
  (ORACLE_HOME=/u01/app/oracle))
</pre><div class="infoboxnote" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__GUID-C90B3DD4-676F-4AF9-B260-1E338F907652">
                     <p class="notep1">Note:</p>
                     <p>A statically-configured global database name disables TAF.<a id="d38386e3508" class="indexterm-anchor"></a> To use TAF, do not set the GLOBAL_DBNAME parameter in the SID_LIST_<span class="italic">listener_name</span> section of the <code class="codeph">listener.ora</code> file. 
                     </p>
                  </div>
                  <p><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGGAGIE" title="Static Service Settings in sqlnet.ora">Table 13-6</a> describes static service settings in the <code class="codeph">listener.ora</code> file.
                  </p>
                  <div class="tblformalwide" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGGAGIE">
                     <p class="titleintable">Table 13-6 Static Service Settings in listener.ora</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Static Service Settings in listener.ora" width="100%" border="1" summary="Static Service Settings in sqlnet.ora" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d38386e3539">Oracle Net Manager Field</th>
                              <th align="left" valign="bottom" width="21%" id="d38386e3542">listener.ora File Parameter</th>
                              <th align="left" valign="bottom" width="61%" id="d38386e3545">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3550" headers="d38386e3539 ">
                                 <p><a id="d38386e3552" class="indexterm-anchor"></a><a id="d38386e3554" class="indexterm-anchor"></a>SID
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3550 d38386e3542 ">
                                 <p><a id="d38386e3563" class="indexterm-anchor"></a><a id="d38386e3565" class="indexterm-anchor"></a>SID_NAME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3550 d38386e3545 ">
                                 <p>The <a id="d38386e3575" class="indexterm-anchor"></a><a id="d38386e3577" class="indexterm-anchor"></a><a id="d38386e3583" class="indexterm-anchor"></a><a id="d38386e3585" class="indexterm-anchor"></a><a href="glossary.html#GUID-8747716F-4706-44ED-B15F-046D1691CA72"><span class="xrefglossterm">Oracle system identifier (SID)</span></a> of the instance. You can obtain the SID value from the INSTANCE_NAME parameter in the initialization parameter file. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3596" headers="d38386e3539 ">
                                 <p><a id="d38386e3598" class="indexterm-anchor"></a><a id="d38386e3600" class="indexterm-anchor"></a>Service Name
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3596 d38386e3542 ">
                                 <p><a id="d38386e3609" class="indexterm-anchor"></a><a id="d38386e3611" class="indexterm-anchor"></a>GLOBAL_DBNAME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3596 d38386e3545 ">
                                 <p>The database service.</p>
                                 <p>While processing a client connection request, the listener tries to match the value of this parameter with the value of the SERVICE_NAME parameter in the client connect descriptor. If the client connect descriptor uses the SID parameter, then the listener does not attempt to map the values. This parameter is primarily intended for configurations with Oracle8 databases (where dynamic service registration is not supported for dedicated servers). This parameter may also be required for use with Oracle8<span class="italic">i</span> and later database services by some configurations.
                                 </p>
                                 <p>The value for this parameter is typically obtained from the combination of the DB_NAME and DB_DOMAIN parameters (DB_NAME.DB_DOMAIN) in the initialization parameter file, but the value can also contain any valid name used by clients to identify the service.</p>
                                 <p>When using a connect descriptor with a SERVICE_NAME parameter, ensure that any SID_DESC entry does not have the value <code class="codeph">GLOBAL_DBNAME</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3634" headers="d38386e3539 ">
                                 <p><a id="d38386e3636" class="indexterm-anchor"></a><a id="d38386e3638" class="indexterm-anchor"></a>Oracle Home Directory
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3634 d38386e3542 ">
                                 <p><a id="d38386e3647" class="indexterm-anchor"></a><a id="d38386e3649" class="indexterm-anchor"></a>ORACLE_HOME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3634 d38386e3545 ">
                                 <p>The Oracle home location of the instance. Without this setting, the listener assumes its Oracle home for the instance.</p>
                                 <p>On Linux and UNIX, this setting is optional. </p>
                                 <p>On Microsoft Windows, this setting is ignored. The Oracle home specified by the ORACLE_HOME parameter in <code class="codeph">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\HOME</code><span class="italic"><code class="codeph">ID</code></span> of the Microsoft Windows registry is used.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3670" headers="d38386e3539 ">
                                 <p>Not applicable</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3670 d38386e3542 ">
                                 <p>SID_LIST_<span class="italic">listener_name</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3670 d38386e3545 ">
                                 <p>The section of the <code class="codeph">listener.ora</code> file that defines the database served by the listener. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919">Configuring Static Registration for the Listener</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1592"></a><div class="sect3"><a id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919" name="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919"></a><h4 id="NETAG-GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919" class="sect4"><span class="enumeration_section">13.5.1 </span>Configuring Static Registration for the Listener
                  </h4>
                  <div>
                     <p>The following procedure describes how to statically configure the listener:</p>
                     <div class="infoboxnote" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-E5931323-914C-4E69-9D64-5606440A7DC4">
                        <p class="notep1">Note:</p>
                        <p><a id="d38386e3749" class="indexterm-anchor"></a>If you are <a id="d38386e3754" class="indexterm-anchor"></a><a id="d38386e3758" class="indexterm-anchor"></a>using connect-time failover or TAF, such as in an Oracle Real Application Clusters environment, then do not set the GLOBAL_DBNAME parameter. 
                        </p>
                     </div>
                     <ol>
                        <li>
                           <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                           <div class="infoboxnotealso" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-5B5B1C24-BD81-4A29-A6D0-9467C06B0FC7">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the configuration files.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Go</span>. You may be prompted to log in to the database server.
                           </p>
                           <p>The Listeners page appears.</p>
                        </li>
                        <li>
                           <p>Select a listener, and then click <span class="bold">Edit</span>.
                           </p>
                           <p>The Edit Listener page appears.</p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Static Database Registration</span> tab, and then click <span class="bold">Add</span>.
                           </p>
                           <p>The Add Database Service page appears. Enter the required information in the fields. </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span>.
                           </p>
                           <div class="infoboxnote" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-200E7B9D-DCD1-463F-8E33-5DD219F2F9C1">
                              <p class="notep1">Note:</p>
                              <p>You can also configure static service information with Oracle Net Manager. See <span class="bold">Statically Configure Database Service Information</span> in the online help for additional information.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-2D855FC6-D152-40B5-8EA5-7F483848EE95">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">Configuring Dynamic Service Registration</a>"</span> for additional information about configuring dynamic service registration Oracle Databases
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F">Understanding Static Service Registration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG888"></a><div class="sect2"><a id="GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D" name="GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D"></a><h3 id="NETAG-GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D" class="sect3"><span class="enumeration_section">13.6 </span>Configuring Connections to Third-Party Database Services
               </h3>
               <div>
                  <p>The following topics describe how to configure connections to third-party database services:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB">Default Configuration for External Procedures</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-AD068B69-6790-4699-A710-A22C3482AE4B">About Oracle Net Services for Oracle Heterogeneous Services</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-647A53C5-A519-47D5-A879-F178246B1010">Configuring Oracle Net Services for an Oracle Rdb Database</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1189"></a><a id="NETAG0132"></a><div class="sect3"><a id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB" name="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB"></a><h4 id="NETAG-GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB" class="sect4"><span class="enumeration_section">13.6.1 </span>Default Configuration for External Procedures 
                  </h4>
                  <div>
                     <p>An <a id="d38386e3957" class="indexterm-anchor"></a><a href="glossary.html#GUID-EFD64542-6B81-4634-A0E1-CE819AEF558E"><span class="xrefglossterm">external procedure</span></a><a id="d38386e3964" class="indexterm-anchor"></a><a id="d38386e3968" class="indexterm-anchor"></a><a id="d38386e3972" class="indexterm-anchor"></a><a id="d38386e3976" class="indexterm-anchor"></a> is a procedure called from another program, written in a different language. An example would be a PL/SQL program calling one or more C routines that are required to perform special-purpose processing. 
                     </p>
                     <p>When an application calls an external procedure<a id="d38386e3983" class="indexterm-anchor"></a>, Oracle Database starts an external procedure agent named <a id="d38386e3988" class="indexterm-anchor"></a><a id="d38386e3990" class="indexterm-anchor"></a>extproc. Using the network connection established by Oracle Database, the application passes the following information to the agent:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DLL or shared library name </p>
                        </li>
                        <li>
                           <p>External procedure name </p>
                        </li>
                        <li>
                           <p>Any parameters </p>
                        </li>
                     </ul>
                     <p>The agent then loads the DLL or the shared library, and runs the external procedure and passes back to the application any values returned by the external procedure. The agent must reside on the same computer as the application making the external procedure call.</p>
                     <p>When you use the default configuration for external procedures, the <code class="codeph">extproc</code> agent is spawned directly by Oracle Database. There are no configuration changes required for either the <code class="codeph">listener.ora</code> or <code class="codeph">tnsnames.ora</code> file. However, you must define the environment variables to be used by external procedures in the <code class="codeph">extproc.ora</code> file located in the <code class="codeph">ORACLE_HOME/hs/admin</code> directory. If the default configuration for external procedures is not used, then the parameters listed in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a> must be set.
                     </p>
                     <div class="tblformalwide" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505">
                        <p class="titleintable">Table 13-7 External Procedures Settings in listener.ora</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="External Procedures Settings in listener.ora" width="100%" border="1" summary="External Procedures Settings in listener.ora" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d38386e4041">Oracle Enterprise Manager Cloud Control Field</th>
                                 <th align="left" valign="bottom" width="16%" id="d38386e4044">listener.ora Parameter</th>
                                 <th align="left" valign="bottom" width="62%" id="d38386e4047">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4052" headers="d38386e4041 ">
                                    <p><a id="d38386e4054" class="indexterm-anchor"></a><a id="d38386e4056" class="indexterm-anchor"></a>Program Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4052 d38386e4044 ">
                                    <p><a id="d38386e4065" class="indexterm-anchor"></a><a id="d38386e4067" class="indexterm-anchor"></a>PROGRAM
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4052 d38386e4047 ">
                                    <p>The name of the external procedure agent executable. </p>
                                    <p><span class="bold">Note:</span> On Microsoft Windows, the executable must reside in the <code class="codeph">ORACLE_HOME\bin</code> directory.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4085" headers="d38386e4041 ">
                                    <p><a id="d38386e4087" class="indexterm-anchor"></a><a id="d38386e4089" class="indexterm-anchor"></a>Environment Variables
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4085 d38386e4044 ">
                                    <p><a id="d38386e4098" class="indexterm-anchor"></a><a id="d38386e4100" class="indexterm-anchor"></a>ENVS
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4085 d38386e4047 ">
                                    <p>The environment variables to be used by external procedures in the <code class="codeph">extproc.ora</code> file located in the <code class="codeph">ORACLE_HOME/hs/admin</code> directory.
                                    </p>
                                    <p><span class="bold">Note:</span> When <code class="codeph">extproc.ora</code> is in use, it precedes the same environment variables of <code class="codeph">ENVS</code> in <code class="codeph">listener.ora</code>.
                                    </p>
                                    <p><span class="bold">Syntax:</span> <code class="codeph">SET </code><span class="italic"><code class="codeph">name=</code></span><span class="italic"><code class="codeph">value</code></span></p>
                                    <p><span class="bold">Example:</span> <code class="codeph">SET EXTPROC_DLLS=ANY</code></p>
                                    <p>Specify the <a id="d38386e4149" class="indexterm-anchor"></a>EXTPROC_DLLS environment variable to restrict the DLLs that the extproc agent is allowed to load. Without the EXTPROC_DLLS environment variable, the extproc agent loads DLLs from the <code class="codeph">ORACLE_HOME/lib</code> directory on UNIX operating systems and the <code class="codeph">ORACLE_HOME\bin</code> directory on Microsoft Windows. 
                                    </p>
                                    <p>Set EXTPROC_DLLS to one of the following values:</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>Colon-separated list of DLLs<a id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" name="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" href="#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" the="" dlls="" are="" separated="" by="" semi-colons="" (;)="" on="" microsoft="" windows=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">"</code></p>
                                          <p>This value allows the extproc agent to load the specified DLLs and the DLLs from the <code class="codeph">ORACLE_HOME/lib</code> directory on UNIX operating systems and the <code class="codeph">ORACLE_HOME\bin</code> directory on Microsoft Windows. You must enter the complete directory path and file name of the DLLs. 
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ONLY </code>(Recommended for maximum security)<a id="fnsrc_d38386e4196" name="fnsrc_d38386e4196" href="#fnsrc_d38386e4196" the="" dlls="" are="" separated="" by="" semi-colons="" (;)="" on="" microsoft="" windows=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"ONLY:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">"</code></p>
                                          <p>This value allows the extproc agent to load only the specified DLLs. You must enter the complete directory path and file name of the DLLs. </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ANY</code></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"ANY"</code></p>
                                          <p><span class="bold">Description:</span> This value allows the extproc agent to load any DLL. <code class="codeph">ANY</code> disables DLL checking.
                                          </p>
                                       </li>
                                    </ul>
                                    <p><span class="bold">Examples: </span></p><pre class="oac_no_warn" dir="ltr">"EXTPROC_DLLS=/home/xyz/mylib.so:/home/abc/urlib.so,
LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"

"EXTPROC_DLLS=ONLY:/home/xyz/mylib.so:/home/abc/urlib.so,
LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"

"EXTPROC_DLLS=ANY,LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"</pre><div class="infoboxnote" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-B1949C7E-B3C6-4435-AA5E-71437932B432">
                                       <p class="notep1">Note:</p>If effective user and real user, or effective group and real group are different, then<code class="codeph"> LD_LIBRARY_PATH </code>environment setting is ignored.
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4244" headers="d38386e4041 ">
                                    <p><a id="d38386e4246" class="indexterm-anchor"></a><a id="d38386e4248" class="indexterm-anchor"></a>Oracle Home Directory
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4244 d38386e4044 ">
                                    <p><a id="d38386e4257" class="indexterm-anchor"></a><a id="d38386e4259" class="indexterm-anchor"></a>ORACLE_HOME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4244 d38386e4047 ">
                                    <p>The Oracle home location of the agent.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4270" headers="d38386e4041 ">
                                    <p>Oracle System Identifier (<a id="d38386e4273" class="indexterm-anchor"></a><a id="d38386e4275" class="indexterm-anchor"></a>SID)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4270 d38386e4044 ">
                                    <p><a id="d38386e4284" class="indexterm-anchor"></a><a id="d38386e4286" class="indexterm-anchor"></a>SID_NAME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4270 d38386e4047 ">
                                    <p>A system identifier for the external procedure agent by any name. </p>
                                    <p>See the examples in <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a> for more information about how to work with the external procedure agent spawned by Oracle listener.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote 1 </sup></p><p>The DLLs are separated by semi-colons (;) on Microsoft Windows.</p>
                     <p></p>
                     <div class="infoboxnote" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-4A4E3C3C-7F8C-49B8-B266-F3186B7F43D6">
                        <p class="notep1">Note:</p>
                        <p>The default configuration for external procedures does not require a network listener to work with Oracle Database and the <code class="codeph">extproc</code> agent. The <code class="codeph">extproc</code> agent is spawned directly by Oracle Database and eliminates the risks that the <code class="codeph">extproc</code> agent might be spawned by Oracle Listener unexpectedly. This default configuration is recommended for maximum security.
                        </p>
                        <p>You can change the default configuration for external procedures and have the <code class="codeph">extproc</code> agent spawned by Oracle Listener. To do this, you must perform additional network configuration steps.
                        </p>
                        <p>Having the <code class="codeph">extproc</code> agent spawned by Oracle Listener is necessary if you use:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Multi-threaded agent</p>
                           </li>
                           <li>
                              <p>Oracle Database in MTS mode on Microsoft Windows</p>
                           </li>
                           <li>
                              <p>The AGENT clause of the LIBRARY specification or the AGENT IN clause of the PROCEDURE specification such that you can redirect external procedures to a different <code class="codeph">extproc</code> agent.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a><br></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-99D8F1EF-1BEE-4E14-AA51-641E93777F32">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/managing-security-for-application-developers.html#DBSEG656" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for additional information about securing external procedures
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1187"></a><a id="NETAG1188"></a><a id="NETAG354"></a><div class="sect4"><a id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A" name="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A"></a><h5 id="NETAG-GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A" class="sect5"><span class="enumeration_section">13.6.1.1 </span>Configuring Oracle Net Services for External Procedures
                     </h5>
                     <div>
                        <p>You can change the default configuration for external procedures and have the extproc agent spawned by the listener similar to earlier releases of Oracle Database. Here is the process:</p>
                        <p>1. Configure an existing listener or create a new listener to serve external procedures.</p>
                        <p><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGGJBFC">Example 13-2</a> shows a sample configuration in the <code class="codeph">listener.ora</code> file.
                        </p>
                        <div class="example" id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGGJBFC">
                           <p class="titleinexample">Example 13-2 listener.ora File with an External Procedure</p><pre class="oac_no_warn" dir="ltr">LISTENER=
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=(PROTOCOL=tcp)(HOST=sale-server)(PORT=1521))
      <span class="bold">(ADDRESS=(PROTOCOL=ipc)(KEY=extproc)</span>)))
SID_LIST_LISTENER=
  (SID_LIST=
    (SID_DESC=
      (GLOBAL_DBNAME=sales.us.example.com)
      (ORACLE_HOME=/oracle)
      (SID_NAME=sales))
    (SID_DESC=
      (SID_NAME=plsextproc)
      (ORACLE_HOME=/oracle)
      (PROGRAM=extproc)))
</pre></div>
                        <!-- class="example" -->
                        <p>2. Add a new entry in <code class="codeph">tnsnames.ora</code>.
                        </p>
                        <p><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGBICIC">Example 13-3</a> shows a sample configuration in the <code class="codeph">tnsnames.ora</code> file.
                        </p>
                        <div class="example" id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGBICIC">
                           <p class="titleinexample">Example 13-3 tnsnames.ora File with an External Procedure</p><pre class="oac_no_warn" dir="ltr">EXTPROC_CONNECTION_DATA_1=            
 (DESCRIPTION=                     
   (ADDRESS=(PROTOCOL=ipc)<span class="bold"><code class="codeph">(KEY=extproc)</code></span>)                      
   (CONNECT_DATA=
    <span class="bold"><code class="codeph">(SID=plsextproc)</code></span>))
</pre></div>
                        <!-- class="example" -->
                        <p>3. Use <code class="codeph">AGENT</code> clause of the <code class="codeph">LIBRARY</code> specification or <code class="codeph">AGENT IN</code> clause of the <code class="codeph">PROCEDURE</code> specification such that you can redirect external procedures to a different <code class="codeph">extproc</code> agent (for example, <code class="codeph">extproc</code> spawned by Oracle listener).
                        </p><pre class="pre codeblock"><code>$ cat test.c

#include &lt;stdlib.h&gt;
int negative(char* db, int n)
{
        return -1*n;
}

char* mygetenv(const char* env)
{
        return getenv(env);
}

$ gcc -shared -fPIC -o test.so test.c

$ cp test.so $ORACLE_HOME/lib
</code></pre><p>In <code class="codeph">SQL*PLUS</code>, run:
                        </p><pre class="pre codeblock"><code>
DROP DATABASE LINK extproclink;
CREATE DATABASE LINK extproclink USING 'extproc_connection_data_1';

CREATE OR REPLACE LIBRARY test1 AS '$ORACLE_HOME/lib/test.so';
/

-- 
-- Use 'AGENT' clause in LIBRARY SPEC
-- 
CREATE OR REPLACE LIBRARY test2 AS '$ORACLE_HOME/lib/test.so' AGENT 'extproclink';
/

-- 
-- Use 'AGENT IN' clause in FUNCTION
-- 
CREATE OR REPLACE FUNCTION ftest1(x VARCHAR2, y BINARY_INTEGER)
RETURN BINARY_INTEGER
AS LANGUAGE C
LIBRARY test1
NAME "negative"
PARAMETERS(x STRING, y INT)
AGENT IN ( x );
/

CREATE OR REPLACE FUNCTION ftest2(x VARCHAR2)
RETURN VARCHAR2
AS LANGUAGE C
LIBRARY test2
NAME "mygetenv";
/

$ select ftest1('extproclink', 123) from dual;

$ select ftest2('LD_LIBRARY_PATH') from dual;</code></pre><p>The listener for external procedures should have a user account that does not have general access to the files owned by the <code class="codeph">oracle</code> user. Specifically, this user should not have permission to read or write to database files or to the Oracle server address space. In addition, this user should have read access to the <code class="codeph">listener.ora</code> file, but must not have write access to it.
                        </p>
                        <p>Running the listener with lower privileges also prevents using the Listener Control <code class="codeph">SET</code> commands to alter the configuration of the listener in the <code class="codeph">listener.ora</code> file. For this reason, Oracle recommends that you complete <code class="codeph">listener.ora</code> file configuration before running the listener.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1">Modifying the Default Configuration for External Procedures</a><br></li>
                           <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-80C459B1-4D97-4A90-ABA6-2252895442DA">Creating a New Listener to Run External Procedures</a><br></li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB">Default Configuration for External Procedures</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="NETAG1473"></a><div class="sect5"><a id="GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1" name="GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1"></a><h6 id="NETAG-GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1" class="sect6"><span class="enumeration_section">13.6.1.1.1 </span>Modifying the Default Configuration for External Procedures 
                        </h6>
                        <div>
                           <p><a id="d38386e4566" class="indexterm-anchor"></a><a id="d38386e4572" class="indexterm-anchor"></a>To modify the default configuration for external procedures, configure and run a separate or existing listener to serve external procedures. The following procedure describes how to modify the default configuration:
                           </p>
                           <ol>
                              <li>
                                 <p>Configure an existing listener to serve external procedures using Oracle Net Configuration Assistant as follows. For most installation types, this listener is named <code class="codeph">LISTENER</code>.
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                    </li>
                                    <li>
                                       <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the location of the configuration files.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Go</span>. 
                                       </p>
                                       <p>The Listeners page appears.</p>
                                    </li>
                                    <li>
                                       <p>Select the existing listener created by Oracle Net Configuration Assistant, and then click <span class="bold">Edit</span>.
                                       </p>
                                       <p>The Edit Listeners page appears.</p>
                                    </li>
                                    <li>
                                       <p>In the Addresses section, select the protocol address for external procedures, and then click <span class="bold">Add</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click the <span class="bold">Other Services</span> tab.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select the row representing the service information for external procedures, and then click <span class="bold">Add</span>.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Add service information about the extproc agent in the <code class="codeph">listener.ora</code> file, including the parameters described in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="NETAG1474"></a><div class="sect5"><a id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA" name="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA"></a><h6 id="NETAG-GUID-80C459B1-4D97-4A90-ABA6-2252895442DA" class="sect6"><span class="enumeration_section">13.6.1.1.2 </span>Creating a New Listener to Run External Procedures
                        </h6>
                        <div>
                           <p>To configure and run a separate listener to serve external procedures, create the external procedure entries for a different listener using Oracle Net Configuration Assistant. The following procedure describes how to create a new listener:</p>
                           <ol>
                              <li>
                                 <p>Create a listener to exclusively handle external procedures, as follows:</p>
                                 <ol type="a">
                                    <li>
                                       <p>Navigate to the Listeners page.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Create</span>.
                                       </p>
                                       <p>The Create Listener page appears. </p>
                                    </li>
                                    <li>
                                       <p>In the Listener Name field, enter a unique listener name, such as <code class="codeph">LISTENEREXTPROC</code>, in the Listener Name field.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>In the Addresses section, configure an IPC protocol address, as follows: </p>
                                 <ol type="a">
                                    <li>
                                       <p>Click <span class="bold">Add</span>.
                                       </p>
                                       <p>The Add Address page appears.</p>
                                    </li>
                                    <li>
                                       <p>From the Protocol list, select <span class="bold">IPC</span>. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the Key field, enter a key value of the extproc agent.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA__GUID-4DE6D66B-0088-4424-B95C-300477DCEA1A">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">Configuring Listening Protocol Addresses</a>"</span> for additional information about configuring listener protocol addresses
                                          </p>
                                       </div>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Add service information about the extproc agent in the <code class="codeph">listener.ora</code> file, including the parameters described in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a>, as follows:<a id="d38386e4765" class="indexterm-anchor"></a></p>
                                 <ol type="a">
                                    <li>
                                       <p>Click the <span class="bold">Other Services</span> tab.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Add</span>.
                                       </p>
                                       <p>The Create Other Service page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter the following values in the fields: </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">extproc</code> in the Program Name field.
                                             </p>
                                          </li>
                                          <li>
                                             <p>The Oracle home where the <code class="codeph">extproc</code> executable resides in the Oracle Home Directory field.
                                             </p>
                                          </li>
                                          <li>
                                             <p>System identifier, such as <code class="codeph">extproc</code>, in the SID field.
                                             </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li>
                                       <p>In the Environment Variables section, click <span class="bold">Add Another Row</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Enter the EXTPROC_DLLS environment variable in the Name field, and the directory path and file name of the DLLs in the Value field.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                       <p>The Create Listener page appears.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span> to add the listener.
                                       </p>
                                       <p>The listener is added to the Listeners page.</p>
                                       <p>The <code class="codeph">listener.ora</code> file updates with information for external procedures, as shown in the following output:
                                       </p><pre class="oac_no_warn" dir="ltr">LISTENEREXTPROC=
 (DESCRIPTION=
  (ADDRESS=
     (PROTOCOL=ipc)(KEY=extproc)))
</pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Start the listener for external procedures from a user account with lower privileges than the <code class="codeph">oracle</code> user. 
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA__GUID-ED1C9CC0-3D62-4C00-8574-BDD3F94BE05B">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">"<a href="quick-start-oracle-net-services.html#GUID-CE3F16F8-E4AD-45C2-B439-123DC49AB1D3">Starting Oracle Net Listener and the Oracle Database Server</a>"</span> for instructions on using the Listener Control utility <code class="codeph">START</code> command to start the listener
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../adfns/design_basics.html#ADFNS010" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for instruction on enabling external procedure calls
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="NETAG0133"></a><div class="sect3"><a id="GUID-AD068B69-6790-4699-A710-A22C3482AE4B" name="GUID-AD068B69-6790-4699-A710-A22C3482AE4B"></a><h4 id="NETAG-GUID-AD068B69-6790-4699-A710-A22C3482AE4B" class="sect4"><span class="enumeration_section">13.6.2 </span>About Oracle Net Services for Oracle Heterogeneous Services
                  </h4>
                  <div>
                     <p><a id="d38386e4940" class="indexterm-anchor"></a>Heterogeneous Services is an integrated component within the Oracle database server, and provides the generic technology for accessing third-party systems from the Oracle database server. Heterogeneous Services enables you to: 
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Use Oracle SQL to transparently access data stored in third-party systems as if the data resides within an Oracle database server.</p>
                        </li>
                        <li>
                           <p>Use Oracle procedure calls to transparently access third-party systems, services, or application programming interfaces (APIs) from your Oracle distributed environment.</p>
                        </li>
                     </ul>
                     <p>While Heterogeneous Services provides the generic technology in the Oracle database server, a Heterogeneous Services agent is required to access a particular third-party system.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C">Configuring Oracle Database to Connect to Agents</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1587"></a><div class="sect4"><a id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C" name="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C"></a><h5 id="NETAG-GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C" class="sect5"><span class="enumeration_section">13.6.2.1 </span>Configuring Oracle Database to Connect to Agents
                     </h5>
                     <div>
                        <p>To initiate a connection to the third-party system, the Oracle database server starts an agent process through the listener on the gateway. The following procedure describes how to configure the Oracle database server to be able to connect to the agents:</p>
                        <ol>
                           <li>
                              <p><a id="d38386e5020" class="indexterm-anchor"></a><a id="d38386e5022" class="indexterm-anchor"></a>Configure the listener on the gateway to listen for incoming requests from the Oracle database server and spawn Heterogeneous Services agents by configuring the following parameters in the <code class="codeph">listener.ora</code> file:
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a id="d38386e5033" class="indexterm-anchor"></a><a id="d38386e5035" class="indexterm-anchor"></a>PROGRAM: The name of the agent executable
                                    </p>
                                 </li>
                                 <li>
                                    <p><a id="d38386e5044" class="indexterm-anchor"></a><a id="d38386e5046" class="indexterm-anchor"></a>ORACLE_HOME: The Oracle home location of the agent executable
                                    </p>
                                 </li>
                                 <li>
                                    <p><a id="d38386e5055" class="indexterm-anchor"></a><a id="d38386e5057" class="indexterm-anchor"></a>SID_NAME: The Oracle system identifier (SID)
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Configure the PROGRAM, ORACLE_HOME, and SID parameters in Oracle Enterprise Manager Cloud Control.</p>
                              <ol type="a">
                                 <li>
                                    <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                    <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-F479F068-0264-48A8-92EF-8A60F6A805D8">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the location of the configuration files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Go</span>. 
                                    </p>
                                    <p>The Listeners page appears.</p>
                                 </li>
                                 <li>
                                    <p>Select the listener created by Oracle Net Configuration Assistant, and then click <span class="bold">Edit</span>.
                                    </p>
                                    <p>The Edit Listeners page appears.</p>
                                 </li>
                                 <li>
                                    <p>Click the <span class="bold">Other Services</span> tab.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Add</span>.
                                    </p>
                                    <p>The Create Other Service page appears.</p>
                                 </li>
                                 <li>
                                    <p>Enter the program name in the Program Name field that will be run to create a gateway, the Oracle home where the agent executable resides in the Oracle Home Directory field, and the Oracle System Identifier (SID) or service name of the third-party system in the SID field.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span>.
                                    </p>
                                    <p>The Edit Listener page appears.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span> to modify the listener.
                                    </p>
                                    <p>The Listeners page appears.</p>
                                    <p>The <code class="codeph">listener.ora</code> file updates information about the Heterogeneous Services, as shown in the following:
                                    </p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
<span class="bold">  (SID_DESC=</span>
<span class="bold">   (SID_NAME=sybasegw)</span>
<span class="bold">   (ORACLE_HOME=/oracle12c)</span>
<span class="bold">   (PROGRAM=tg4sybs))</span>)
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>On the computer where the Oracle database resides, set up a network service name to connect to the listener on the gateway. The connect descriptor must include the <code class="codeph">HS=ok</code> clause to ensure the connection uses Heterogeneous Services, as follows:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Create a network service name that can be used for connections from the Oracle database server to a third-party system. </p>
                                    <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-FB20C684-B431-41CD-B583-913406D3253F">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">Task 1, "Configure Net Services Names"</a> for local naming instructions and <a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">Task 2, "Create Net Service Names in the Directory"</a> for directory naming instructions
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Use either Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure <code class="codeph">HS=ok</code>.
                                    </p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>For Oracle Enterprise Manager Cloud Control, access the <span class="bold">Net Services Administration</span> page, select Local Naming for the listener, and then click the <span class="bold">Advanced</span> tab in the Create Net Service Name page. Next, click <span class="bold">Use for Heterogeneous Services</span>. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Service Identification box. The Advanced Service Options dialog box appears. Click <a id="d38386e5194" class="indexterm-anchor"></a><a id="d38386e5196" class="indexterm-anchor"></a><span class="bold">Use for Heterogeneous Services</span>.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span> to confirm the change.
                                    </p>
                                    <p>The <code class="codeph">tnsnames.ora</code> file updates with the new network service name configured for Heterogeneous Services, as shown in the following:
                                    </p><pre class="oac_no_warn" dir="ltr">sybase_gtw=
 (DESCRIPTION=
  (ADDRESS=(PROTOCOL=tcp)(HOST=gate-server)(PORT=1521))
  (CONNECT_DATA=
    (SERVICE_NAME=sybasegw)
  )
    <span class="bold">(HS=ok)</span>))
 )</pre></li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-E0AE7F48-F12D-460A-910F-47F338A4B9D8">
                           <p class="notep1">See Also:</p>
                           <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=HETER-GUID-9E8667AA-0D1B-4E45-8448-8C6E25CD9F58" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-AD068B69-6790-4699-A710-A22C3482AE4B">About Oracle Net Services for Oracle Heterogeneous Services</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1190"></a><a id="NETAG356"></a><div class="sect3"><a id="GUID-647A53C5-A519-47D5-A879-F178246B1010" name="GUID-647A53C5-A519-47D5-A879-F178246B1010"></a><h4 id="NETAG-GUID-647A53C5-A519-47D5-A879-F178246B1010" class="sect4"><span class="enumeration_section">13.6.3 </span>Configuring Oracle Net Services for an Oracle Rdb Database
                  </h4>
                  <div>
                     <p>Oracle Rdb is a database for Digital 64-bit operating systems. Because Oracle Rdb has its own listener, the client interacts with Rdb in the same manner as it does with an Oracle database. </p>
                     <p>To initiate a connection to an Oracle Rdb, set up a network service name to connect to the Oracle Rdb database using the parameters described in <a href="enabling-advanced-features.html#GUID-647A53C5-A519-47D5-A879-F178246B1010__g510382" title="Oracle RDB Database Settings in a Connect Descriptor">Table 13-8</a>.
                     </p>
                     <div class="tblformalwide" id="GUID-647A53C5-A519-47D5-A879-F178246B1010__g510382">
                        <p class="titleintable">Table 13-8 Oracle RDB Database Settings in a Connect Descriptor</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle RDB Database Settings in a Connect Descriptor" width="100%" border="1" summary="Oracle RDB Database Settings in a Connect Descriptor" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d38386e5319">Oracle Enterprise Manager Cloud Control Field</th>
                                 <th align="left" valign="bottom" width="25%" id="d38386e5322">tnsnames.ora Parameter</th>
                                 <th align="left" valign="bottom" width="53%" id="d38386e5325">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5330" headers="d38386e5319 ">
                                    <p><a id="d38386e5332" class="indexterm-anchor"></a><a id="d38386e5334" class="indexterm-anchor"></a>Rdb Database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5330 d38386e5322 ">
                                    <p><a id="d38386e5343" class="indexterm-anchor"></a>RDB_DATABASE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5330 d38386e5325 ">
                                    <p>The file name of an Oracle Rdb database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5350" headers="d38386e5319 ">
                                    <p><a id="d38386e5352" class="indexterm-anchor"></a><a id="d38386e5354" class="indexterm-anchor"></a>Type of Service
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5350 d38386e5322 ">
                                    <p><a id="d38386e5363" class="indexterm-anchor"></a>TYPE_OF_SERVICE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5350 d38386e5325 ">
                                    <p>The type of service to use for an Oracle Rdb database. It is used by Rdb interface tools. This feature should only be used if the application supports both Oracle Rdb and Oracle database services, and you want the application to load balance between the two.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5370" headers="d38386e5319 ">
                                    <p><a id="d38386e5372" class="indexterm-anchor"></a><a id="d38386e5374" class="indexterm-anchor"></a>Global Database Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5370 d38386e5322 ">
                                    <p><a id="d38386e5383" class="indexterm-anchor"></a>GLOBAL_NAME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5370 d38386e5325 ">
                                    <p>The Oracle Rdb database. Optional.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d38386e5390" class="indexterm-anchor"></a>The following procedure describes how to configure a client for an Oracle Rdb database:<a id="d38386e5395" class="indexterm-anchor"></a></p>
                     <ol>
                        <li>
                           <p>Create a network service name that can be used for connections from the Oracle server to a third-party system. </p>
                           <div class="infoboxnotealso" id="GUID-647A53C5-A519-47D5-A879-F178246B1010__GUID-F07353F9-57E2-4DF1-BE72-6CB80CEA8BBF">
                              <p class="notep1">See Also:</p>
                              <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">Task 1, "Configure Net Services Names"</a> for local naming instructions and <a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">Task 2, "Create Net Service Names in the Directory"</a> for directory naming instructions
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Use either Oracle Enterprise Manager Cloud Control or Oracle Net Manager to set the Oracle Rdb parameters.</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>For Oracle Enterprise Manager Cloud Control, access the <span class="bold">Net Services Administration</span> page, select Local Naming for the listener, and then click the <span class="bold">Advanced</span> tab in the Create Net Service Name page. 
                                 </p>
                              </li>
                              <li>
                                 <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Service Identification section. The Advanced Service Options dialog box appears. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Enter the file name of an Oracle Rdb database in the Rdb Database field.</p>
                        </li>
                        <li>
                           <p>(Optional) Specify the type of service in the Type of Service field, if needed, and enter the global database name in the Global Database Name field, and then click <span class="bold">OK.</span></p>
                           <p>The <code class="codeph">tnsnames.ora</code> file updates with the new network service name configured for the Oracle Rdb database, similar to the following: 
                           </p><pre class="oac_no_warn" dir="ltr">alpha5=
  (DESCRIPTION=
    (ADDRESS=...)
    (CONNECT_DATA=
      (SERVICE_NAME=generic)
      <span class="bold">(RDB_DATABASE=[.mf]mf_personnel.rdb)</span>
<span class="bold">     (GLOBAL_NAME=alpha5)))</span>
</pre><p>In the following example, the TYPE_OF_SERVICE parameter is used to load balance between an Oracle Rdb database service and an Oracle database service:</p><pre class="oac_no_warn" dir="ltr">alpha5=
 (DESCRIPTION_LIST=
  (DESCRIPTION=
    (ADDRESS=...)
    (CONNECT_DATA=
     (SERVICE_NAME=generic)
     <span class="bold">(RDB_DATABASE=[.mf]mf_personnel.rdb)</span>
     <span class="bold">(GLOBAL_NAME=alpha5)</span>))
  (DESCRIPTION=
   (ADDRESS=...)
    (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com))
  <span class="bold"> (TYPE_OF_SERVICE=oracle_database))</span></pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10304.ALTER-DISKGROUP.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>ALTER DISKGROUP</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-DIMENSION.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-FLASHBACK-ARCHIVE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-DIMENSION.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ALTER-FLASHBACK-ARCHIVE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: ADMINISTER KEY MANAGEMENT to ALTER JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALTER DISKGROUP </li>
            </ol>
            <a id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557" name="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557"></a><a id="SQLRF52591"></a><a id="SQLRF52592"></a><a id="SQLRF52593"></a><a id="SQLRF52594"></a><a id="SQLRF52595"></a><a id="SQLRF52596"></a><a id="SQLRF56563"></a><a id="SQLRF56613"></a><a id="SQLRF52597"></a><a id="SQLRF52598"></a><a id="SQLRF52599"></a><a id="SQLRF52601"></a><a id="SQLRF52602"></a><a id="SQLRF52603"></a><a id="SQLRF52604"></a><a id="SQLRF52605"></a><a id="SQLRF52606"></a><a id="SQLRF52607"></a><a id="SQLRF52608"></a><a id="SQLRF52609"></a><a id="SQLRF52610"></a><a id="SQLRF52611"></a><a id="SQLRF52612"></a><a id="SQLRF52613"></a><a id="SQLRF52614"></a><a id="SQLRF52615"></a><a id="SQLRF52616"></a><a id="SQLRF52617"></a><a id="SQLRF52618"></a><a id="SQLRF52619"></a><a id="SQLRF52620"></a><a id="SQLRF55829"></a><a id="SQLRF52600"></a><a id="SQLRF52621"></a><a id="SQLRF52622"></a><a id="SQLRF52623"></a><a id="SQLRF52624"></a><a id="SQLRF52625"></a><a id="SQLRF52626"></a><a id="SQLRF52627"></a><a id="SQLRF52628"></a><a id="SQLRF52629"></a><a id="SQLRF52630"></a><a id="SQLRF52631"></a><a id="SQLRF52632"></a><a id="SQLRF52633"></a><a id="SQLRF52634"></a><a id="SQLRF52635"></a><a id="SQLRF52636"></a><a id="SQLRF56564"></a><a id="SQLRF56674"></a><a id="SQLRF56675"></a><a id="SQLRF56710"></a><a id="SQLRF56711"></a><a id="SQLRF56614"></a><a id="SQLRF56615"></a><a id="SQLRF56616"></a><a id="SQLRF52638"></a><a id="SQLRF52637"></a><a id="SQLRF52641"></a><a id="SQLRF52642"></a><a id="SQLRF52643"></a><a id="SQLRF52644"></a><a id="SQLRF52645"></a><a id="SQLRF52646"></a><a id="SQLRF52647"></a><a id="SQLRF52648"></a><a id="SQLRF52649"></a><a id="SQLRF52650"></a><a id="SQLRF52651"></a><a id="SQLRF52652"></a><a id="SQLRF52653"></a><a id="SQLRF52654"></a><a id="SQLRF52655"></a><a id="SQLRF52656"></a><a id="SQLRF52657"></a><a id="SQLRF52658"></a><a id="SQLRF52659"></a><a id="SQLRF52660"></a><a id="SQLRF52661"></a><a id="SQLRF52662"></a><a id="SQLRF52663"></a><a id="SQLRF52664"></a><a id="SQLRF52665"></a><a id="SQLRF52666"></a><a id="SQLRF52667"></a><a id="SQLRF52668"></a><a id="SQLRF52669"></a><a id="SQLRF52670"></a><a id="SQLRF52671"></a><a id="SQLRF52672"></a><a id="SQLRF52673"></a><a id="SQLRF52674"></a><a id="SQLRF52675"></a><a id="SQLRF52676"></a><a id="SQLRF52677"></a><a id="SQLRF52678"></a><a id="SQLRF52679"></a><a id="SQLRF55651"></a><a id="SQLRF52680"></a><a id="SQLRF52681"></a><a id="SQLRF55830"></a><a id="SQLRF55831"></a><a id="SQLRF55832"></a><a id="SQLRF55833"></a><a id="SQLRF55834"></a><a id="SQLRF52639"></a><a id="SQLRF52682"></a><a id="SQLRF52683"></a><a id="SQLRF52684"></a><a id="SQLRF52685"></a><a id="SQLRF52686"></a><a id="SQLRF52687"></a><a id="SQLRF52688"></a><a id="SQLRF55558"></a><a id="SQLRF55559"></a><a id="SQLRF55560"></a><a id="SQLRF55561"></a><a id="SQLRF55562"></a><a id="SQLRF55563"></a><a id="SQLRF55564"></a><a id="SQLRF55565"></a><a id="SQLRF55566"></a><a id="SQLRF55567"></a><a id="SQLRF55568"></a><a id="SQLRF55835"></a><a id="SQLRF55569"></a><a id="SQLRF55570"></a><a id="SQLRF01113"></a>
            
            <h2 id="SQLRF-GUID-22D73AB6-7063-4627-A2ED-18D521ED2557" class="sect2">ALTER DISKGROUP </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <div class="infoboxnote" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-65CACA3F-403A-4DEB-A59C-E28B445A6CAA">
                     <p class="notep1">Note:</p>
                     <p>This SQL statement is valid only if you are using Oracle ASM and you have started an Oracle ASM instance. You must issue this statement from within the Oracle ASM instance, not from a normal database instance. For information on starting an Oracle ASM instance, refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG036" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-E769C4FC-ACC7-4609-B099-4C6BFD23BE26">Purpose </p>
                  <p>The <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> statement lets you perform a number of operations on a disk group or on the disks in a disk group.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BDAC6BD4-5FA8-4D77-A1CD-0D798843FA0F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880">CREATE DISKGROUP</a> for information on creating disk groups
                           </p>
                        </li>
                        <li>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information on Oracle ASM and using disk groups to simplify database administration
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-B8117586-5E6B-42A6-B53B-42305A2A125C">Prerequisites </p>
                  <p>You must have an Oracle ASM instance started from which you issue this statement. The disk group to be modified must be mounted.</p>
                  <p>You can issue all <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> clauses if you have the <code class="codeph">SYSASM</code> system privilege. You can issue specific clauses as follows:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>The <code class="codeph">SYSOPER</code> privilege permits the following subset of the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> operations: <span class="italic"><code class="codeph">diskgroup_availability</code></span>, <span class="italic"><code class="codeph">rebalance_diskgroup_clause</code></span>, <span class="italic"><code class="codeph">check_diskgroup_clause</code></span> (without the <code class="codeph">REPAIR</code> option).
                        </p>
                     </li>
                     <li>
                        <p>If you are connected as <code class="codeph">SYSDBA</code>, you have limited privileges to use this statement. The following operations are always granted to users connected as <code class="codeph">SYSDBA</code>:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">ADD</code> <code class="codeph">DIRECTORY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">ADD</code>/<code class="codeph">ALTER</code>/<code class="codeph">DROP</code> <code class="codeph">TEMPLATE</code> (nonsystem templates only)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">ADD</code> <code class="codeph">USERGROUP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SHOW</code> <code class="codeph">PARAMETER</code></p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBFECBF" title="Column 1 lists the ALTER DISK operations with specific prerequisites. Column 2 contains the prerequisites.">Table 10-1</a> shows additional privileges granted to users connected as <code class="codeph">SYSDBA</code> under the conditions shown:
                  </p>
                  <div class="tblformal" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBFECBF">
                     <p class="titleintable">Table 10-1 Conditional Diskgroup Privileges for SYSDBA</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Conditional Diskgroup Privileges for SYSDBA" width="100%" border="1" summary="Column 1 lists the ALTER DISK operations with specific prerequisites. Column 2 contains the prerequisites." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d215185e439">ALTER DISKGROUP Operation</th>
                              <th align="left" valign="bottom" width="69%" id="d215185e442">Condition</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e447" headers="d215185e439 ">
                                 <p><code class="codeph">DROP</code> <code class="codeph">FILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e447 d215185e442 ">
                                 <p>User must have read-write permission on the file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e458" headers="d215185e439 ">
                                 <p><code class="codeph">ADD</code> <code class="codeph">ALIAS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e458 d215185e442 ">
                                 <p>User must have read-write permission on the related file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e469" headers="d215185e439 ">
                                 <p><code class="codeph">RENAME</code> <code class="codeph">ALIAS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e469 d215185e442 ">
                                 <p>User must have read-write permission on the related file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e480" headers="d215185e439 ">
                                 <p><code class="codeph">DROP</code> <code class="codeph">ALIAS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e480 d215185e442 ">
                                 <p>User must have read-write permission on the related file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e491" headers="d215185e439 ">
                                 <p><code class="codeph">RENAME</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e491 d215185e442 ">
                                 <p>Directory must contain only aliases and no files. User must have <code class="codeph">DROP</code> <code class="codeph">ALIAS</code> permissions on all aliases under the directory.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e508" headers="d215185e439 ">
                                 <p><code class="codeph">DROP</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e508 d215185e442 ">
                                 <p>Directory must contain only aliases and no files. User must have <code class="codeph">DROP</code> <code class="codeph">ALIAS</code> permissions on all aliases under the directory.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e525" headers="d215185e439 ">
                                 <p><code class="codeph">DROP</code> <code class="codeph">USERGROUP</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e525 d215185e442 ">
                                 <p>User must be the owner of the user group.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e536" headers="d215185e439 ">
                                 <p><code class="codeph">MODIFY</code> <code class="codeph">FILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e536 d215185e442 ">
                                 <p>User must be the owner of the file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e547" headers="d215185e439 ">
                                 <p><code class="codeph">MODIFY</code> <code class="codeph">USERGROUP</code> <code class="codeph">ADD</code> <code class="codeph">MEMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e547 d215185e442 ">
                                 <p>User must be the owner of the user group.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e564" headers="d215185e439 ">
                                 <p><code class="codeph">MODIFY</code> <code class="codeph">USERGROUP</code> <code class="codeph">DROP</code> <code class="codeph">MEMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e564 d215185e442 ">
                                 <p>User must be the owner of the user group.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e581" headers="d215185e439 ">
                                 <p><code class="codeph">SET</code> <code class="codeph">PERMISSION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e581 d215185e442 ">
                                 <p>User must be the owner of the file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d215185e593" headers="d215185e439 ">
                                 <p><code class="codeph">SET</code> <code class="codeph">OWNER</code> <code class="codeph">GROUP</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d215185e593 d215185e442 ">
                                 <p>User must be the owner of the file and a member of the user group.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-4A1A66E6-68F8-43B8-9D1D-AFF73783746D">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-FD24B621-E310-4ACA-B12C-A668E15AAA79"><span class="italic">alter_diskgroup</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7AB4DF16-1764-4331-95AD-4BC34C9FDCD6"><img src="img/alter_diskgroup.gif" alt="Description of alter_diskgroup.eps follows" title="Description of alter_diskgroup.eps follows" longdesc="img_text/alter_diskgroup.html"><br><a href="img_text/alter_diskgroup.html">Description of the illustration alter_diskgroup.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168772">add_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168665">drop_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168828">resize_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEGBBHC">replace_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEJJABJ">rename_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEFCHE">disk_online_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEJJID">disk_offline_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168857">rebalance_diskgroup_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEBGCFB">check_diskgroup_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEDEDC">diskgroup_template_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGECIJCC">diskgroup_directory_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEJAFI">diskgroup_alias_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBBDJBA">diskgroup_volume_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABGCDFE">diskgroup_attributes::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEGFJD">modify_diskgroup_file::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEBADJI">drop_diskgroup_file_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__CONVERT_REDUNDANCY_CLAUSE-57BF8F00">convert_redundancy_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJACJH">usergroup_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBBGAHG">user_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEAHIA">file_permissions_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBFGDIJ">file_owner_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEHAAE">scrub_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__QUOTAGROUP_CLAUSES-4FAA7646">quotagroup_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__FILEGROUP_CLAUSES-4FAAB7F0">filegroup_clauses::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168846">undrop_disk_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEGEFBJ">diskgroup_availability::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBHCFBD">enable_disable_volume::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168772">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-03E45ABE-6F15-4EAF-8BCA-84C767FD7F13"><span class="italic">add_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5081BFBF-22EF-4744-8B53-1F9FA7D4208D"><img src="img/add_disk_clause.gif" alt="Description of add_disk_clause.eps follows" title="Description of add_disk_clause.eps follows" longdesc="img_text/add_disk_clause.html"><br><a href="img_text/add_disk_clause.html">Description of the illustration add_disk_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2208507">qualified_disk_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2208507">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-0F82670C-0CBF-491E-AA45-2D1D8BDB96B1"><span class="italic">qualified_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-96C3397D-8E76-48D5-8D98-C0AB1580BB3D"><img src="img/qualified_disk_clause.gif" alt="Description of qualified_disk_clause.eps follows" title="Description of qualified_disk_clause.eps follows" longdesc="img_text/qualified_disk_clause.html"><br><a href="img_text/qualified_disk_clause.html">Description of the illustration qualified_disk_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168665">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1C774730-26B1-481F-BFAC-700F3B58E49A"><span class="italic">drop_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-796E8DED-0418-47A9-B853-9333B2C671F7"><img src="img/drop_disk_clause.gif" alt="Description of drop_disk_clause.eps follows" title="Description of drop_disk_clause.eps follows" longdesc="img_text/drop_disk_clause.html"><br><a href="img_text/drop_disk_clause.html">Description of the illustration drop_disk_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168828">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C0CB040A-EE66-4B85-A715-F9CD8C19650B"><span class="italic">resize_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-2E3F372C-D513-4621-BB94-2C468ECCD1F3"><img src="img/resize_disk_clause.gif" alt="Description of resize_disk_clause.eps follows" title="Description of resize_disk_clause.eps follows" longdesc="img_text/resize_disk_clause.html"><br><a href="img_text/resize_disk_clause.html">Description of the illustration resize_disk_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEGBBHC">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6E479875-D024-408C-9781-ECC9F3CB515B"><span class="italic">replace_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-92847FDB-6ED7-47E1-9353-43FCEB8411E2"><img src="img/replace_disk_clause.gif" alt="Description of replace_disk_clause.eps follows" title="Description of replace_disk_clause.eps follows" longdesc="img_text/replace_disk_clause.html"><br><a href="img_text/replace_disk_clause.html">Description of the illustration replace_disk_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEJJABJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8A0C946D-FD84-4B32-AFD3-9D919A79966A"><span class="italic">rename_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-4665288E-5EF6-4C95-899C-99733AA40D1E"><img src="img/rename_disk_clause.gif" alt="Description of rename_disk_clause.eps follows" title="Description of rename_disk_clause.eps follows" longdesc="img_text/rename_disk_clause.html"><br><a href="img_text/rename_disk_clause.html">Description of the illustration rename_disk_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEFCHE">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-69C2F98E-A87F-4691-91C0-065E19D3C800"><span class="italic">disk_online_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-355E4914-766A-460C-B3CB-6D37D0D66457"><img src="img/disk_online_clause.gif" alt="Description of disk_online_clause.eps follows" title="Description of disk_online_clause.eps follows" longdesc="img_text/disk_online_clause.html"><br><a href="img_text/disk_online_clause.html">Description of the illustration disk_online_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEJJID">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8195BE3C-6D6B-4D40-B412-E67B34B1704E"><span class="italic">disk_offline_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BD81C053-DE2F-4E46-A99E-245186D29A13"><img src="img/disk_offline_clause.gif" alt="Description of disk_offline_clause.eps follows" title="Description of disk_offline_clause.eps follows" longdesc="img_text/disk_offline_clause.html"><br><a href="img_text/disk_offline_clause.html">Description of the illustration disk_offline_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5719C742-F87F-49EB-B2BC-6CC20DDE5718"><span class="italic">timeout_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A2755930-9929-474D-BD0F-6F48416FF0D2"><img src="img/timeout_clause.gif" alt="Description of timeout_clause.eps follows" title="Description of timeout_clause.eps follows" longdesc="img_text/timeout_clause.html"><br><a href="img_text/timeout_clause.html">Description of the illustration timeout_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168857">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-0A21EED3-6D7D-410F-9B58-9A0B61E0C619"><span class="italic">rebalance_diskgroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-2F1EA84A-CFA5-43B3-88C8-6B4C66157DF9"><img src="img/rebalance_diskgroup_clause.gif" alt="Description of rebalance_diskgroup_clause.eps follows" title="Description of rebalance_diskgroup_clause.eps follows" longdesc="img_text/rebalance_diskgroup_clause.html"><br><a href="img_text/rebalance_diskgroup_clause.html">Description of the illustration rebalance_diskgroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEBGCFB">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5774E428-DC8B-46EC-84AF-643FDE9BDB89"><span class="italic">check_diskgroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-B481715D-4D0B-4E13-BBBC-72346D90EF39"><img src="img/check_diskgroup_clause.gif" alt="Description of check_diskgroup_clause.eps follows" title="Description of check_diskgroup_clause.eps follows" longdesc="img_text/check_diskgroup_clause.html"><br><a href="img_text/check_diskgroup_clause.html">Description of the illustration check_diskgroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEDEDC">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1D20ABB6-454D-4458-905F-794671F76646"><span class="italic">diskgroup_template_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6BB965D0-2DD1-4605-9A5F-35C73653A288"><img src="img/diskgroup_template_clauses.gif" alt="Description of diskgroup_template_clauses.eps follows" title="Description of diskgroup_template_clauses.eps follows" longdesc="img_text/diskgroup_template_clauses.html"><br><a href="img_text/diskgroup_template_clauses.html">Description of the illustration diskgroup_template_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2208551">qualified_template_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2208551">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-DCF259F7-CFBC-4B6C-9F0E-647ECA026166"><span class="italic">qualified_template_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-988113FB-7C4A-4D1F-9456-D407C5FB42A0"><img src="img/qualified_template_clause.gif" alt="Description of qualified_template_clause.eps follows" title="Description of qualified_template_clause.eps follows" longdesc="img_text/qualified_template_clause.html"><br><a href="img_text/qualified_template_clause.html">Description of the illustration qualified_template_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABDDHBB">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-D6E5524E-46A4-48E5-918E-C2CEAB72E5E3"><span class="italic">redundancy_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6B8B74B5-FF0F-406A-A3B1-16380CE60E04"><img src="img/redundancy_clause.gif" alt="Description of redundancy_clause.eps follows" title="Description of redundancy_clause.eps follows" longdesc="img_text/redundancy_clause.html"><br><a href="img_text/redundancy_clause.html">Description of the illustration redundancy_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-9923D2F3-6A80-4E47-B68F-88D4D71CC730"><span class="italic">striping_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A35701C3-2139-470D-B079-E2D0FB388DB1"><img src="img/striping_clause.gif" alt="Description of striping_clause.eps follows" title="Description of striping_clause.eps follows" longdesc="img_text/striping_clause.html"><br><a href="img_text/striping_clause.html">Description of the illustration striping_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBIIBGE">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-34988838-5BE5-4CD2-B5E8-BF63E3C84277"><span class="italic">disk_region_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-535D674B-FDA4-442E-9260-4DEB0A600FFC"><img src="img/disk_region_clause.gif" alt="Description of disk_region_clause.eps follows" title="Description of disk_region_clause.eps follows" longdesc="img_text/disk_region_clause.html"><br><a href="img_text/disk_region_clause.html">Description of the illustration disk_region_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGECIJCC">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A7CFFCCB-8FAD-48C0-8B4F-449CA69DB0F6"><span class="italic">diskgroup_directory_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-226288BC-3E26-4A39-A451-1D345DEFF6FE"><img src="img/diskgroup_directory_clauses.gif" alt="Description of diskgroup_directory_clauses.eps follows" title="Description of diskgroup_directory_clauses.eps follows" longdesc="img_text/diskgroup_directory_clauses.html"><br><a href="img_text/diskgroup_directory_clauses.html">Description of the illustration diskgroup_directory_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEJAFI">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5739AE53-51FC-4D8C-8223-055B4904E12D"><span class="italic">diskgroup_alias_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-420F37B0-6B46-465B-911C-23BCED667BEB"><img src="img/diskgroup_alias_clauses.gif" alt="Description of diskgroup_alias_clauses.eps follows" title="Description of diskgroup_alias_clauses.eps follows" longdesc="img_text/diskgroup_alias_clauses.html"><br><a href="img_text/diskgroup_alias_clauses.html">Description of the illustration diskgroup_alias_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBBDJBA">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-3F7343EF-F610-4AC7-9BA8-6D8ADA104C66"><span class="italic">diskgroup_volume_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-98147A3E-8FCA-4004-AD28-2BB8A476C70D"><img src="img/diskgroup_volume_clauses.gif" alt="Description of diskgroup_volume_clauses.eps follows" title="Description of diskgroup_volume_clauses.eps follows" longdesc="img_text/diskgroup_volume_clauses.html"><br><a href="img_text/diskgroup_volume_clauses.html">Description of the illustration diskgroup_volume_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABGCCEJ">add_volume_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCIDJB">modify_volume_clause::=</a></span></p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABGCCEJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-2B89FB60-DDCB-48A8-A2E2-059A386D67BE"><span class="italic">add_volume_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-9D46ECBB-B078-4C3D-980E-C147C353E4EA"><img src="img/add_volume_clause.gif" alt="Description of add_volume_clause.eps follows" title="Description of add_volume_clause.eps follows" longdesc="img_text/add_volume_clause.html"><br><a href="img_text/add_volume_clause.html">Description of the illustration add_volume_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEDJHI">size_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABDDHBB">redundancy_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBIIBGE">disk_region_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABEDJHI">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-E064E572-9532-464B-9E7B-B831AD6B0C12"><span class="italic">size_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-85D11461-8E09-4009-9FE8-C07928D48F94"><img src="img/size_clause.gif" alt="Description of size_clause.eps follows" title="Description of size_clause.eps follows" longdesc="img_text/size_clause.html"><br><a href="img_text/size_clause.html">Description of the illustration size_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCIDJB">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7A428F86-6A34-42E8-A7B0-C7225F694669"><span class="italic">modify_volume_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5A47FF33-9223-42F1-A7C2-D447BBDBB9CE"><img src="img/modify_volume_clause.gif" alt="Description of modify_volume_clause.eps follows" title="Description of modify_volume_clause.eps follows" longdesc="img_text/modify_volume_clause.html"><br><a href="img_text/modify_volume_clause.html">Description of the illustration modify_volume_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBIIBGE">disk_region_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABGCDFE">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-CC5C41C9-ED82-4A30-A367-AA0E6196DBDE"><span class="italic">diskgroup_attributes</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-3E03CEFF-838C-415F-87F2-6E941634C537"><img src="img/diskgroup_attributes.gif" alt="Description of diskgroup_attributes.eps follows" title="Description of diskgroup_attributes.eps follows" longdesc="img_text/diskgroup_attributes.html"><br><a href="img_text/diskgroup_attributes.html">Description of the illustration diskgroup_attributes.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEGFJD">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7398B6A1-9FDB-4AC1-93EC-EF58DDAD10E3"><span class="italic">modify_diskgroup_file</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BB7339F7-3C7D-4449-9EE4-B5D5CE9DFC3A"><img src="img/modify_diskgroup_file.gif" alt="Description of modify_diskgroup_file.eps follows" title="Description of modify_diskgroup_file.eps follows" longdesc="img_text/modify_diskgroup_file.html"><br><a href="img_text/modify_diskgroup_file.html">Description of the illustration modify_diskgroup_file.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEBADJI">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C7DD519D-330B-40D1-9789-2164BD7D9399"><span class="italic">drop_diskgroup_file_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1DB9EA97-A538-4324-A966-4E0675E86B3D"><img src="img/drop_diskgroup_file_clause.gif" alt="Description of drop_diskgroup_file_clause.eps follows" title="Description of drop_diskgroup_file_clause.eps follows" longdesc="img_text/drop_diskgroup_file_clause.html"><br><a href="img_text/drop_diskgroup_file_clause.html">Description of the illustration drop_diskgroup_file_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__CONVERT_REDUNDANCY_CLAUSE-57BF8F00">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-F9EDE1F8-CA46-4815-8558-2E45932A7606"><span class="italic">convert_redundancy_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1DA80BF8-5012-4D46-B29C-B0F8C048AE52"><img src="img/convert_redundancy_clause.gif" alt="Description of convert_redundancy_clause.eps follows" title="Description of convert_redundancy_clause.eps follows" longdesc="img_text/convert_redundancy_clause.html"><br><a href="img_text/convert_redundancy_clause.html">Description of the illustration convert_redundancy_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJACJH">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C929AD97-1D78-44FC-AF1B-502A6198F570"><span class="italic">usergroup_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-EB1D5067-1768-4CE4-A73E-2CD2DD401F96"><img src="img/usergroup_clauses.gif" alt="Description of usergroup_clauses.eps follows" title="Description of usergroup_clauses.eps follows" longdesc="img_text/usergroup_clauses.html"><br><a href="img_text/usergroup_clauses.html">Description of the illustration usergroup_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBBGAHG">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1B33B015-0FD1-45E0-9D09-D2A8F6F00332"><span class="italic">user_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-B7BB3F27-0995-4178-92BA-E0C2A6A9F9CC"><img src="img/user_clauses.gif" alt="Description of user_clauses.eps follows" title="Description of user_clauses.eps follows" longdesc="img_text/user_clauses.html"><br><a href="img_text/user_clauses.html">Description of the illustration user_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEAHIA">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-E524D01A-2529-48B5-921C-9700D9358CEF"><span class="italic">file_permissions_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A9D94335-22AB-44EB-ACBE-DACF8998CD9D"><img src="img/file_permissions_clause.gif" alt="Description of file_permissions_clause.eps follows" title="Description of file_permissions_clause.eps follows" longdesc="img_text/file_permissions_clause.html"><br><a href="img_text/file_permissions_clause.html">Description of the illustration file_permissions_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBFGDIJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8289CD75-7E76-4A8B-A1B1-FCC2E3CE8FB6"><span class="italic">file_owner_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-DBEFD1F8-39C7-4DA8-A1EF-D004D355F4CB"><img src="img/file_owner_clause.gif" alt="Description of file_owner_clause.eps follows" title="Description of file_owner_clause.eps follows" longdesc="img_text/file_owner_clause.html"><br><a href="img_text/file_owner_clause.html">Description of the illustration file_owner_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEEHAAE">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6AC3E42F-9C56-45EE-A9DC-7F97A9BFAFB1"><span class="italic">scrub_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-584F76CB-CB79-46F2-BBB8-2158B5F0C115"><img src="img/scrub_clause.gif" alt="Description of scrub_clause.eps follows" title="Description of scrub_clause.eps follows" longdesc="img_text/scrub_clause.html"><br><a href="img_text/scrub_clause.html">Description of the illustration scrub_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__QUOTAGROUP_CLAUSES-4FAA7646">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-79DDC1B3-738A-409B-91CF-364F73D9CAB0"><span class="italic">quotagroup_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C0D557E6-386C-44E4-ABFC-EB95C9678358"><img src="img/quotagroup_clauses.gif" alt="Description of quotagroup_clauses.eps follows" title="Description of quotagroup_clauses.eps follows" longdesc="img_text/quotagroup_clauses.html"><br><a href="img_text/quotagroup_clauses.html">Description of the illustration quotagroup_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__FILEGROUP_CLAUSES-4FAAB7F0">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6D568DB1-109D-4029-8FED-7EF4E5EB0A7D"><span class="italic">filegroup_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-68BE7978-C4B1-4B87-BF86-AAAD8A85C714"><img src="img/filegroup_clauses.gif" alt="Description of filegroup_clauses.eps follows" title="Description of filegroup_clauses.eps follows" longdesc="img_text/filegroup_clauses.html"><br><a href="img_text/filegroup_clauses.html">Description of the illustration filegroup_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__ADD_FILEGROUP_CLAUSE-5AD3A8CA">add_filegroup_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MODIFY_FILEGROUP_CLAUSE-5AD3AC4F">modify_filegroup_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MOVE_TO_FILEGROUP_CLAUSE-5AD3B18B">move_to_filegroup_clause::=</a></span>, <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__DROP_FILEGROUP_CLAUSE-5AD3B51F">drop_filegroup_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__ADD_FILEGROUP_CLAUSE-5AD3A8CA">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A03CCB9B-5829-4D36-8A87-61C67C07BBCC"><span class="italic">add_filegroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-F67764FA-4844-4FAB-8FED-60C7C0A46FB2"><img src="img/add_filegroup_clause.gif" alt="Description of add_filegroup_clause.eps follows" title="Description of add_filegroup_clause.eps follows" longdesc="img_text/add_filegroup_clause.html"><br><a href="img_text/add_filegroup_clause.html">Description of the illustration add_filegroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MODIFY_FILEGROUP_CLAUSE-5AD3AC4F">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8689FE6E-7F78-4ACF-9198-623983CE420E"><span class="italic">modify_filegroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-AA8CFCE9-4D7E-4D63-AFC7-08422ED549F4"><img src="img/modify_filegroup_clause.gif" alt="Description of modify_filegroup_clause.eps follows" title="Description of modify_filegroup_clause.eps follows" longdesc="img_text/modify_filegroup_clause.html"><br><a href="img_text/modify_filegroup_clause.html">Description of the illustration modify_filegroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MOVE_TO_FILEGROUP_CLAUSE-5AD3B18B">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7E602F5A-1E86-4ABB-B1E2-954EE8601778"><span class="italic">move_to_filegroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-86C9431A-E5F3-4E1B-ADDD-C6BF5EC1588E"><img src="img/move_to_filegroup_clause.gif" alt="Description of move_to_filegroup_clause.eps follows" title="Description of move_to_filegroup_clause.eps follows" longdesc="img_text/move_to_filegroup_clause.html"><br><a href="img_text/move_to_filegroup_clause.html">Description of the illustration move_to_filegroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__DROP_FILEGROUP_CLAUSE-5AD3B51F">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-FF71B48B-A9E3-4529-85B2-64C86AC4D4BF"><span class="italic">drop_filegroup_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-07354C5C-90B0-4F01-8EFA-18F53BB30372"><img src="img/drop_filegroup_clause.gif" alt="Description of drop_filegroup_clause.eps follows" title="Description of drop_filegroup_clause.eps follows" longdesc="img_text/drop_filegroup_clause.html"><br><a href="img_text/drop_filegroup_clause.html">Description of the illustration drop_filegroup_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168846">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-95FFDEA3-1CCC-458C-B8EF-2B003960DEAC"><span class="italic">undrop_disk_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-17004F28-1B1A-4369-9106-77494F1CCD33"><img src="img/undrop_disk_clause.gif" alt="Description of undrop_disk_clause.eps follows" title="Description of undrop_disk_clause.eps follows" longdesc="img_text/undrop_disk_clause.html"><br><a href="img_text/undrop_disk_clause.html">Description of the illustration undrop_disk_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEGEFBJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-87EA28DC-6729-4DCB-8662-9D2A716EEB13"><span class="italic">diskgroup_availability</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-E2CBAAD2-25B0-40D5-9C96-AB35391E72AA"><img src="img/diskgroup_availability.gif" alt="Description of diskgroup_availability.eps follows" title="Description of diskgroup_availability.eps follows" longdesc="img_text/diskgroup_availability.html"><br><a href="img_text/diskgroup_availability.html">Description of the illustration diskgroup_availability.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBHCFBD">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6D8CBB2C-0EDA-4F4B-9E91-B48015F3A6BB"><span class="italic">enable_disable_volume</span>::=
                  </p>
                  <div class="figure" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-309221DA-EC40-4AC7-853F-CDD3621B3E87"><img src="img/enable_disable_volume.gif" alt="Description of enable_disable_volume.eps follows" title="Description of enable_disable_volume.eps follows" longdesc="img_text/enable_disable_volume.html"><br><a href="img_text/enable_disable_volume.html">Description of the illustration enable_disable_volume.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A16FE56A-CD6E-4BDD-8986-4CB318102F11">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-58DADE66-41DE-4E30-8B6D-3C1FF1B68CA5"><span class="italic">diskgroup_name</span></p>
                  <p>Specify the name of the disk group you want to modify. To determine the names of existing disk groups, query the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30171" target="_blank"><code class="codeph">V$ASM_DISKGROUP</code></a> dynamic performance view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8146A4B5-A24B-49FC-B671-6CA482C30A90"><span class="italic">add_disk_clause</span></p>
                  <p>Use this clause to add one or more disks to the disk group and specify attributes for the newly added disk. Oracle ASM automatically rebalances the disk group as part of this operation.</p>
                  <p>You cannot use this clause to change the failure group of a disk. Instead you must drop the disk from the disk group and then add the disk back into the disk group as part of the new failure group.</p>
                  <p>To determine the names of the disks already in this disk group, query the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30170" target="_blank"><code class="codeph">V$ASM_DISK</code></a> dynamic performance view.
                  </p>
                  <p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI"><span class="bold">QUORUM | REGULAR</span></p>
                  <p>The semantics of these keyword are the same as the semantics in a <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> statement. See <a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__CACJHFHD">QUORUM | REGULAR</a> for more information on these keywords.
                  </p>
                  <p>You cannot change this qualifier for an existing disk or disk group. Therefore, you cannot specify in this clause a keyword different from the keyword that was specified when the disk group was created.</p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C119BEE8-401B-40F1-B51D-344446B06CDD">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG13790" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about the use of these keywords
                     </p>
                  </div>
                  <p><span class="bold">FAILGROUP Clause</span><a id="d215185e1181" class="indexterm-anchor"></a><a id="d215185e1185" class="indexterm-anchor"></a></p>
                  <p>Use this clause to assign the newly added disk to a failure group. If you omit this clause and you are adding the disk to a normal or high redundancy disk group, then Oracle Database automatically adds the newly added disk to its own failure group. The implicit name of the failure group is the same as the operating system independent disk name (see <span class="q">"<a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__I2177129">NAME Clause</a>"</span>).
                  </p>
                  <p>You cannot specify this clause if you are creating an external redundancy disk group.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-CBF0B97B-4890-45A9-9141-24C93B3FADB7"><span class="italic">qualified_disk_clause</span></p>
                  <p>This clause has the same semantics in <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> and <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> statements. For complete information on this clause, refer to <span class="italic"><a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__I2177293">qualified_disk_clause</a></span> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-F36AFE3A-4BA2-4ABB-AEE4-A4C3B4AF7EE4"><span class="italic">drop_disk_clause</span></p>
                  <p>Use this clause to drop one or more disks from the disk group.</p>
                  <p><span class="bold">DROP DISK</span></p>
                  <p>The <code class="codeph">DROP</code> <code class="codeph">DISK</code> clause lets you drop one or more disks from the disk group and automatically rebalance the disk group. When you drop a disk, Oracle ASM relocates all the data from the disk and clears the disk header so that it no longer is part of the disk group. The disk header is not cleared if you specify the <code class="codeph">FORCE</code> keyword.
                  </p>
                  <p>Specify <span class="italic"><code class="codeph">disk_name</code></span> as shown in the <code class="codeph">NAME</code> column of the <code class="codeph">V$ASM_DISK</code> dynamic performance view.
                  </p>
                  <p>If a disk to be dropped is a quorum disk or belongs to a quorum failure group, then you must specify <code class="codeph">QUORUM</code> in order to drop the disk. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold">DROP DISKS IN FAILGROUP</span></p>
                  <p>The <code class="codeph">DROP</code> <code class="codeph">DISKS</code> <code class="codeph">IN</code> <code class="codeph">FAILGROUP</code> clause lets you drop all the disks in the specified failure group. The behavior is otherwise the same as that for the <code class="codeph">DROP</code> <code class="codeph">DISK</code> clause.
                  </p>
                  <p>If the specified failure group is a quorum failure group, then you must specify the <code class="codeph">QUORUM</code> keyword in order to drop the disks. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold">FORCE | NOFORCE</span></p>
                  <p>These keywords let you specify when the disk is considered to be no longer part of the disk group. The default and recommended setting is <code class="codeph">NOFORCE</code>.
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>When you specify <code class="codeph">NOFORCE</code>, Oracle ASM reallocates all of the extents of the disk to other disks and then expels the disk from the disk group and rebalances the disk group. 
                        </p>
                        <div class="infoboxnote" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-46675F5E-FEDE-4C9D-8966-AB9C923D91FC">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">DROP</code> <code class="codeph">DISK</code> ... <code class="codeph">NOFORCE</code> returns control to the user before the disk can be safely reused or removed from the system. To ensure that the drop disk operation has completed, query the <code class="codeph">V$ASM_DISK</code> view to verify that <code class="codeph">HEADER_STATUS</code> has the value <code class="codeph">FORMER</code>. Do not attempt to remove or reuse a disk if <code class="codeph">STATE</code> has the value <code class="codeph">DROPPING</code>. Query the <code class="codeph">V$ASM_OPERATION</code> view for approximate information on how long it will take to complete the rebalance resulting from dropping the disk.If you also specify <code class="codeph">REBALANCE</code> ... <code class="codeph">WAIT</code> (see <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168800">rebalance_diskgroup_clause</a></span>), then the statement will not return until the rebalance operation is complete and the disk has been cleared. However, you should always verify that the <code class="codeph">HEADER_STATUS</code> column of <code class="codeph">V$ASM_DISK</code> is <code class="codeph">FORMER</code>, because of the unlikely event the rebalance operations fails.
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>When you specify <code class="codeph">FORCE</code>, Oracle Database expels the disk from the disk group immediately. It then reconstructs the data from the redundant copies on other disks, reallocates the data to other disks, and rebalances the disk group. 
                        </p>
                        <p>The <code class="codeph">FORCE</code> clause can be useful, for example, if Oracle ASM can no longer read the disk to be dropped. However, it is more time consuming than a <code class="codeph">NOFORCE</code> drop, and it can leave portions of a file with reduced protection. You cannot specify <code class="codeph">FORCE</code> for an external redundancy disk group at all, because in the absence of redundant data on the disk, Oracle ASM must read the data from the disk before it can be dropped. 
                        </p>
                     </li>
                  </ul>
                  <p>The rebalance operation invoked when a disk is dropped is time consuming, whether or not you specify <code class="codeph">FORCE</code> or <code class="codeph">NOFORCE</code>. You can monitor the progress by querying the <a href="../refrn/V-ASM_OPERATION.html#REFRN30173" target="_blank"><code class="codeph">V$ASM_OPERATION</code></a> dynamic performance view. Refer to <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168800">rebalance_diskgroup_clause</a></span> for more information on rebalance operations.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6DEA8F2D-86F4-4546-AB9B-300BFDB8B458"><span class="italic">resize_disk_clause</span></p>
                  <p>Use this clause to specify a new size for every disk in a disk group. This clause lets you override the size returned by the operating system or the size you specified previously for the disks.</p>
                  <p><span class="bold">SIZE</span></p>
                  <p>Specify the new size in kilobytes, megabytes, gigabytes, or terabytes. You cannot specify a size greater than the capacity of the disk. If you specify a size smaller than the disk capacity, then you limit the amount of disk space Oracle ASM will use. If you omit this clause, then Oracle ASM attempts programatically to determine the size of the disks.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGECCJJD">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-FA8AA5A0-5BD8-430F-89EE-D5A209352BAE"><span class="italic">replace_disk_clause</span></p>
                  <p><a id="d215185e1416" class="indexterm-anchor"></a>Use this clause to replace one or more disks in the disk group. This clause allows you to replace disks with a single operation, which is more efficient than dropping and adding each disk.
                  </p>
                  <p>For <span class="italic"><code class="codeph">disk_name</code></span>, specify the name of the disk you want to replace. This name is assigned to the replacement disk. You can view disk names by querying the <code class="codeph">NAME</code> column of the <code class="codeph">V$ASM_DISK</code> dynamic performance view.
                  </p>
                  <p>For <span class="italic"><code class="codeph">path_name</code></span>, specify the full path name for the replacement disk.
                  </p>
                  <p><span class="bold">FORCE</span></p>
                  <p>Specify <code class="codeph">FORCE</code> if you want Oracle ASM to add the replacement disk to the disk group even if the replacement disk is already a member of a disk group.
                  </p>
                  <div class="infoboxnote" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-B930FA42-94CC-468D-A53C-7A8E172E6271">
                     <p class="notep1">Note:</p>
                     <p>Using <code class="codeph">FORCE</code> in this way may destroy existing disk groups.
                     </p>
                  </div>
                  <p><span class="bold">NOFORCE</span></p>
                  <p>Specify <code class="codeph">NOFORCE</code> if you want Oracle ASM to return an error if the replacement disk is already a member of a disk group. <code class="codeph">NOFORCE</code> is the default.
                  </p>
                  <p><span class="bold">POWER</span></p>
                  <p>The <code class="codeph">POWER</code> clause has the same semantics here as for a manual rebalancing of a disk group, except that the power value cannot be set to 0. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCGEIH">POWER</a>.
                  </p>
                  <p><span class="bold">WAIT | NOWAIT</span></p>
                  <p>The <code class="codeph">WAIT</code> and <code class="codeph">NOWAIT</code> keywords have the same semantics here as for a manual rebalancing of a disk group. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABHEIIB">WAIT | NOWAIT</a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGECIAHJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5C34B110-7F42-4868-8113-5769E7892E48"><span class="italic">rename_disk_clause</span></p>
                  <p>Use this clause to rename one or more disks in the disk group. The disk group must be in the <code class="codeph">MOUNT</code> <code class="codeph">RESTRICTED</code> state and all disks in the disk group must be online.
                  </p>
                  <p><span class="bold">RENAME DISK</span></p>
                  <p>Specify this clause to rename one or more disks. For each disk, specify the <span class="italic"><code class="codeph">old_disk_name</code></span> and <span class="italic"><code class="codeph">new_disk_name</code></span>. If <span class="italic"><code class="codeph">new_disk_name</code></span> already exists, then this operation fails.
                  </p>
                  <p><span class="bold">RENAME DISKS ALL</span></p>
                  <p>Specify this clause to rename all disks in the disk group to a name of the form <span class="italic"><code class="codeph">diskgroupname_####</code></span>, where <span class="italic"><code class="codeph">####</code></span> is the disk number. Disk names that are already in the <span class="italic"><code class="codeph">diskgroupname_####</code></span> format are not changed.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-31EE04F2-9D71-47B8-B8F5-7E91F3C45C30"><span class="italic">disk_online_clause</span></p>
                  <p><a id="d215185e1541" class="indexterm-anchor"></a>Use this clause to bring one or more disks online and rebalance the disk group.
                  </p>
                  <p><span class="bold">ONLINE DISK</span></p>
                  <p>The <code class="codeph">ONLINE</code> <code class="codeph">DISK</code> clause lets you bring one or more specified disks online and rebalance the disk group.
                  </p>
                  <p>Specify <span class="italic"><code class="codeph">disk_name</code></span> as shown in the <code class="codeph">NAME</code> column of the <code class="codeph">V$ASM_DISK</code> dynamic performance view.
                  </p>
                  <p>The <code class="codeph">QUORUM</code> and <code class="codeph">REGULAR</code> keywords have the same semantics here as they have when adding a disk to a disk group. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold">ONLINE DISKS IN FAILGROUP</span></p>
                  <p>The <code class="codeph">ONLINE</code> <code class="codeph">DISKS</code> <code class="codeph">IN</code> <code class="codeph">FAILGROUP</code> clause lets you bring all disks in the specified failure group online and rebalance the disk group.
                  </p>
                  <p>If the specified failure group is a quorum failure group, then you must specify the <code class="codeph">QUORUM</code> keyword in order to bring the disks online. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold">ALL</span></p>
                  <p>The <code class="codeph">ALL</code> clause lets you bring all disks in the disk group online and rebalance the disk group.
                  </p>
                  <p><span class="bold">POWER</span></p>
                  <p>The <code class="codeph">POWER</code> clause has the same semantics here as for a manual rebalancing of a disk group. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCGEIH">POWER</a></p>
                  <p><span class="bold">WAIT | NOWAIT</span></p>
                  <p>The <code class="codeph">WAIT</code> and <code class="codeph">NOWAIT</code> keywords have the same semantics here as for a manual rebalancing of a disk group. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABHEIIB">WAIT | NOWAIT</a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABFJHFG">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BCA4811E-C4EA-4188-A8CA-9C6623575795"><span class="italic">disk_offline_clause</span></p>
                  <p><a id="d215185e1643" class="indexterm-anchor"></a>Use the <span class="italic"><code class="codeph">disk_offline_clause</code></span> to take one or more disks offline. This clause fails if the redundancy level of the disk group would be violated by taking the specified disks offline.
                  </p>
                  <p><span class="bold">OFFLINE DISK</span></p>
                  <p>The <code class="codeph">OFFLINE</code> <code class="codeph">DISK</code> clause lets you take one or more specified disks offline.
                  </p>
                  <p>Specify <span class="italic"><code class="codeph">disk_name</code></span> as shown in the <code class="codeph">NAME</code> column of the <code class="codeph">V$ASM_DISK</code> dynamic performance view.
                  </p>
                  <p>The <code class="codeph">QUORUM</code> and <code class="codeph">REGULAR</code> keywords have the same semantics here as they have when adding a disk to a disk group. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold">OFFLINE DISKS IN FAILGROUP</span></p>
                  <p>The <code class="codeph">OFFLINE</code> <code class="codeph">DISKS</code> <code class="codeph">IN</code> <code class="codeph">FAILGROUP</code> clause lets you take all disks in the specified failure group offline.
                  </p>
                  <p>If the specified failure group is a quorum failure group, then you must specify the <code class="codeph">QUORUM</code> keyword in order to take the disks offline. See <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBEHDFI">QUORUM | REGULAR</a>.
                  </p>
                  <p><span class="bold"><span class="italic">timeout_clause</span></span></p>
                  <p>By default, Oracle ASM drops a disk shortly after it is taken offline. You can delay this operation by specifying the <span class="italic"><code class="codeph">timeout_clause</code></span>, which gives you the opportunity to repair the disk and bring it back online. You can specify the timeout value in units of minute or hour. If you omit the unit, then the default is hour.
                  </p>
                  <p>You can change the timeout period by specifying this clause multiple times. Each time you specify it, Oracle ASM measures the time from the most recent previous <span class="italic"><code class="codeph">disk_offline_clause</code></span> while the disk group is mounted. To learn how much time remains before Oracle ASM will drop an offline disk, query the <code class="codeph">REPAIR_TIMER</code> column of <code class="codeph">V$ASM_DISK</code>.
                  </p>
                  <p>This clause overrides any previous setting of the <code class="codeph">disk_repair_time</code> attribute. Refer to <a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__BGEDFCIB" title="Column 1 lists diskgroup attribute names; column 2 lists valid values for each attribute; column 3 describes the attributes.">Table 13-2</a> for more information about disk group attributes.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-60282451-2D20-4003-928B-2B1BF65ED03D">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG10044" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about taking Oracle ASM disks online and offline
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168800">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-1F4579CC-5AB7-4FE0-B1E9-09CD1FCC4C94"><span class="italic">rebalance_diskgroup_clause </span></p>
                  <p>Use this clause to manually rebalance the disk group. During a rebalance operation, Oracle ASM redistributes data files evenly across all drives. This clause is rarely necessary, because Oracle ASM allocates files evenly and automatically rebalances disk groups when the storage configuration changes. However, it is useful if you want to perform a controlled rebalance operation. It allows you to include or exclude certain phases of a rebalance operation, pause and restart a rebalance operation, and adjust the power of a rebalance operation.</p>
                  <p><span class="bold">WITH | WITHOUT</span></p>
                  <p>A rebalance operation consists of the following phases: <code class="codeph">RESTORE</code> (includes the <code class="codeph">RESYNC</code>, <code class="codeph">RESILVER</code>, or <code class="codeph">REBUILD</code> phases), <code class="codeph">BALANCE</code>, <code class="codeph">PREPARE</code>, and <code class="codeph">COMPACT</code>.
                  </p>
                  <p>You can use the <code class="codeph">WITH</code> or <code class="codeph">WITHOUT</code> clause to instruct Oracle ASM to include or exclude specific phases of a rebalance operation. For example, if you have time constraints, you can include only the <code class="codeph">RESTORE</code> phase. Or, if you are using flash storage disk groups or disk groups with flash cache, you can exclude the <code class="codeph">COMPACT</code> phase, which is not beneficial for such disk groups.
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Use the <code class="codeph">WITH</code> clause to include only the specified phases of a rebalance operation. You can specify any of phases <code class="codeph">RESTORE</code>, <code class="codeph">BALANCE</code>, <code class="codeph">PREPARE</code>, and <code class="codeph">COMPACT</code>. It is acceptable, but not necessary, to specify <code class="codeph">RESTORE</code>, because the <code class="codeph">RESTORE</code> phase always occurs.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">WITHOUT</code> clause to exclude the specified phases of a rebalance operation. You can specify any of the phases <code class="codeph">BALANCE</code>, <code class="codeph">PREPARE</code>, and <code class="codeph">COMPACT</code>. You cannot specify <code class="codeph">RESTORE</code>, because the <code class="codeph">RESTORE</code> phase must always occur.
                        </p>
                     </li>
                  </ul>
                  <p>The order in which you specify multiple phases in the <code class="codeph">WITH</code> or <code class="codeph">WITHOUT</code> clause does not matter. Oracle ASM will perform the phases of the rebalance operation in the proper order. You cannot specify the <code class="codeph">RESYNC</code>, <code class="codeph">RESILVER</code>, or <code class="codeph">REBUILD</code> phases; they are part of the <code class="codeph">RESTORE</code> phase.
                  </p>
                  <p>If you omit the <code class="codeph">WITH</code> and <code class="codeph">WITHOUT</code> clauses, then Oracle ASM performs all phases of the rebalance operation.
                  </p>
                  <p>You can monitor the progress of the rebalance operation by querying the <code class="codeph">V$ASM_OPERATION</code> dynamic performance view.
                  </p>
                  <p>See <a href="../ostmg/alter-diskgroups.html#OSTMG-GUID-020ABD10-8370-444C-9B44-71F2FF688861" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information on the phases of a rebalance operation.
                  </p>
                  <p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCGEIH"><span class="bold">POWER</span></p>
                  <p>This clause lets you specify the power, or speed, of the rebalance operation. It also lets you stop the rebalance operation.</p>
                  <div class="p">For <span class="italic"><code class="codeph">integer</code></span>, specify a value from <code class="codeph">0</code> to <code class="codeph">1024</code>:
                     <ul style="list-style-type:disc">
                        <li>
                           <p>A value of <code class="codeph">1</code> through <code class="codeph">1024</code> specifies the power at which Oracle ASM is to perform the rebalance operation, with <code class="codeph">1</code> representing the lowest possible power and <code class="codeph">1024</code> representing the highest possible power.
                           </p>
                        </li>
                        <li>
                           <p>A value of <code class="codeph">0</code> stops an active rebalance operation. No further rebalancing will occur until the start of another manual or automatic rebalance operation on the disk group, and at that time the rebalance operation will start from the beginning. If you would like to have the option of later resuming the rebalance operation from where it left off, then instead stop the rebalance operation by specifying <code class="codeph">MODIFY</code> <code class="codeph">POWER</code> <code class="codeph">0</code>. See the clause <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MODIFYPOWER-6173CE80">MODIFY POWER</a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>If you omit the <code class="codeph">POWER</code> clause, then the default power is determined as follows:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>For flex disk groups, Oracle ASM rebalances each file group according the value of its <code class="codeph">POWER_LIMIT</code> property. If the <code class="codeph">POWER_LIMIT</code> property is not set for a file group, then Oracle ASM uses the value of the <code class="codeph">ASM_POWER_LIMIT</code> initialization parameter for the file group.
                        </p>
                     </li>
                     <li>
                        <p>For all other types of disk groups, if you omit the <code class="codeph">POWER</code> clause, then Oracle ASM rebalances the disk group according to the value of the <code class="codeph">ASM_POWER_LIMIT</code> initialization parameter.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABHEIIB"><span class="bold">WAIT | NOWAIT</span></p>
                  <p>Use this clause to specify when, in the course of the rebalance operation, control should be returned to the user.</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Specify <code class="codeph">WAIT</code> if you want control returned to the user after the rebalance operation has finished. You can explicitly terminate a rebalance operation running in <code class="codeph">WAIT</code> mode, although doing so does not undo any completed disk add, drop, or resize operations in the same statement.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">NOWAIT</code> if you want control returned to the user immediately after the statement is issued. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__MODIFYPOWER-6173CE80"><span class="bold">MODIFY POWER</span></p>
                  <p>Use this clause to pause, resume, or change the power of an active rebalance operation.</p>
                  <p>You can specify <span class="italic"><code class="codeph">integer</code></span> as follows:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Specify <code class="codeph">0</code> to pause the rebalance operation. When you pause a rebalance operation in this manner, you can subsequently resume the operation from the phase where it left off by issuing an <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">MODIFY</code> <code class="codeph">POWER</code> ... statement. If you subsequently start a manual rebalance operation on the disk group using the clause <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCGEIH">POWER</a>, or an automatic rebalance operation for the disk group occurs, then the rebalance operation will start at the beginning.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">1</code> through <code class="codeph">1024</code> to specify the power of the rebalance operation, with <code class="codeph">1</code> representing the lowest possible power and <code class="codeph">1024</code> representing the highest possible power. If a rebalance operation is running, then Oracle ASM changes the power without interrupting the operation. If a rebalance operation was previously paused with the <code class="codeph">MODIFY</code> <code class="codeph">POWER</code> <code class="codeph">0</code> clause, then the rebalance operation resumes at the specified power.
                        </p>
                     </li>
                     <li>
                        <p>Omit <span class="italic"><code class="codeph">integer</code></span> to specify the default power. If a rebalance operation is running, then Oracle ASM changes the power to the default power without interrupting the operation. If a rebalance operation was previously paused with the <code class="codeph">MODIFY</code> <code class="codeph">POWER</code> <code class="codeph">0</code> clause, then the rebalance operation resumes at the default power. Refer to the clause <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BABCGEIH">POWER</a> for information on how the default power is determined.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-51B12548-6611-4B40-BFB9-8CCBA21742CF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">Oracle Database Reference</span> for more information on the <a href="../refrn/ASM_POWER_LIMIT.html#REFRN10246" target="_blank"><code class="codeph">ASM_POWER_LIMIT</code></a> initialization parameter and the <a href="../refrn/V-ASM_OPERATION.html#REFRN30173" target="_blank"><code class="codeph">V$ASM_OPERATION</code></a> dynamic performance view
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEJBJJJ">Rebalancing a Disk Group: Example</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-8492DFCB-6BDA-40E8-997E-596C085B3A5F"><span class="italic">check_diskgroup_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">check_diskgroup_clause</code></span> lets you verify the internal consistency of Oracle ASM disk group metadata. The disk group must be mounted. Oracle ASM displays summary errors and writes the details of the detected errors in the alert log.
                  </p>
                  <p>The <code class="codeph">CHECK</code> keyword performs the following operations:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Checks the consistency of the disk.</p>
                     </li>
                     <li>
                        <p>Cross checks all the file extent maps and allocation tables for consistency.</p>
                     </li>
                     <li>
                        <p>Checks that the alias metadata directory and file directory are linked correctly.</p>
                     </li>
                     <li>
                        <p>Checks that the alias directory tree is linked correctly.</p>
                     </li>
                     <li>
                        <p>Checks that Oracle ASM metadata directories do not have unreachable allocated blocks.</p>
                     </li>
                  </ul>
                  <p><span class="bold">REPAIR | NOREPAIR</span></p>
                  <p>This clause lets you instruct Oracle ASM whether or not to attempt to repair any errors found during the consistency check. The default is <code class="codeph">NOREPAIR</code>. The <code class="codeph">NOREPAIR</code> setting is useful if you want to be alerted to any inconsistencies but do not want Oracle ASM to take any automatic action to resolve them.
                  </p>
                  <p><span class="bold">Deprecated Clauses</span></p>
                  <p>In earlier releases, you could specify <code class="codeph">CHECK</code> for <code class="codeph">ALL</code>, <code class="codeph">DISK</code>, <code class="codeph">DISKS</code> <code class="codeph">IN</code> <code class="codeph">FAILGROUP</code>, or <code class="codeph">FILE</code>. Those clauses have been deprecated as they are no longer needed. If you specify them, then their behavior is the same as in earlier releases and a message is added to the alert log. However, Oracle recommends that you do not introduce these clauses into your new code, as they are scheduled for desupport. The deprecated clauses are these:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ALL</code> checks all disks and files in the disk group.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DISK</code> checks one or more specified disks in the disk group.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DISKS</code> <code class="codeph">IN</code> <code class="codeph">FAILGROUP</code> checks all disks in a specified failure group. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">FILE</code> checks one or more specified files in the disk group. You must use one of the reference forms of the filename. Refer to <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__I1026664">ASM_filename</a></span> for information on the reference forms of Oracle ASM filenames.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168808">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-85154221-A491-4F59-9E5E-D3ACA672C7BC"><span class="italic">diskgroup_template_clauses</span></p>
                  <p>A template is a named collection of attributes. When you create a disk group, Oracle ASM associates a set of initial system default templates with that disk group. The attributes defined by the template are applied to all files in the disk group. <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBCHIIF" title="The ASM templates are listed along with their file type, various redundancy levels, and striping level.">Table 10-2</a> lists the system default templates and the attributes they apply to the various file types. The <span class="italic"><code class="codeph">diskgroup_template_clauses</code></span> described following the table let you change the template attributes and create new templates.
                  </p>
                  <p>You cannot use this clause to change the attributes of a disk group file after it has been created. Instead, you must use Recovery Manager (RMAN) to copy the file into a new file with the new attributes.</p>
                  <div class="tblformalwide" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBCHIIF">
                     <p class="titleintable">Table 10-2 Oracle Automatic Storage Management System Default File Group Templates</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Automatic Storage Management System Default File Group Templates" width="100%" border="1" summary="The ASM templates are listed along with their file type, various redundancy levels, and striping level." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d215185e2220">Template Name</th>
                              <th align="left" valign="bottom" width="19%" id="d215185e2223">File Type</th>
                              <th align="left" valign="bottom" width="13%" id="d215185e2226">Mirroring Level in External Redundancy Disk Groups</th>
                              <th align="left" valign="bottom" width="13%" id="d215185e2229">Mirroring Level in Normal Redundancy Disk Groups</th>
                              <th align="left" valign="bottom" width="13%" id="d215185e2232">Mirroring Level in High Redundancy Disk Groups</th>
                              <th align="left" valign="bottom" width="11%" id="d215185e2235">Striped</th>
                              <th align="left" valign="bottom" width="10%" id="d215185e2238">Region</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2243" headers="d215185e2220 ">
                                 <p><code class="codeph">CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2243 d215185e2223 ">
                                 <p>Control files</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2243 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2243 d215185e2229 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2243 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2243 d215185e2235 ">
                                 <p><code class="codeph">FINE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2243 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2268" headers="d215185e2220 ">
                                 <p><code class="codeph">DATAFILE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2268 d215185e2223 ">
                                 <p>Data Files and copies</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2268 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2268 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2268 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2268 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2268 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2294" headers="d215185e2220 ">
                                 <p><code class="codeph">ONLINELOG</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2294 d215185e2223 ">
                                 <p>Online logs</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2294 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2294 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2294 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2294 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2294 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2320" headers="d215185e2220 ">
                                 <p><code class="codeph">ARCHIVELOG</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2320 d215185e2223 ">
                                 <p>Archive logs</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2320 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2320 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2320 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2320 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2320 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2346" headers="d215185e2220 ">
                                 <p><code class="codeph">TEMPFILE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2346 d215185e2223 ">
                                 <p>Temp files</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2346 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2346 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2346 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2346 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2346 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2372" headers="d215185e2220 ">
                                 <p><code class="codeph">BACKUPSET</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2372 d215185e2223 ">
                                 <p>Data File backup pieces, data file incremental backup pieces, and archive log backup pieces</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2372 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2372 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2372 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2372 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2372 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2398" headers="d215185e2220 ">
                                 <p><code class="codeph">PARAMETERFILE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2398 d215185e2223 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2398 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2398 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2398 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2398 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2398 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2424" headers="d215185e2220 ">
                                 <p><code class="codeph">DATAGUARDCONFIG</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2424 d215185e2223 ">
                                 <p>Disaster recovery configurations (used in standby databases)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2424 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2424 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2424 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2424 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2424 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2449" headers="d215185e2220 ">
                                 <p><code class="codeph">FLASHBACK</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2449 d215185e2223 ">
                                 <p>Flashback logs</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2449 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2449 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2449 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2449 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2449 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2475" headers="d215185e2220 ">
                                 <p><code class="codeph">CHANGETRACKING</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2475 d215185e2223 ">
                                 <p>Block change tracking data (used during incremental backups)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2475 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2475 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2475 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2475 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2475 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2501" headers="d215185e2220 ">
                                 <p><code class="codeph">DUMPSET</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2501 d215185e2223 ">
                                 <p>Data Pump dumpset</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2501 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2501 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2501 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2501 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2501 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2528" headers="d215185e2220 ">
                                 <p><code class="codeph">XTRANSPORT</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2528 d215185e2223 ">
                                 <p>Cross-platform converted data file</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2528 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2528 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2528 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2528 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2528 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2554" headers="d215185e2220 ">
                                 <p><code class="codeph">AUTOBACKUP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2554 d215185e2223 ">
                                 <p>Automatic backup files</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2554 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2554 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2554 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2554 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2554 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2580" headers="d215185e2220 ">
                                 <p><code class="codeph">ASMPARAMETERFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2580 d215185e2223 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2580 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2580 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2580 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2580 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2580 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d215185e2605" headers="d215185e2220 ">
                                 <p><code class="codeph">OCRFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d215185e2605 d215185e2223 ">
                                 <p>Oracle Cluster Registry file</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2605 d215185e2226 ">
                                 <p>Unprotected</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2605 d215185e2229 ">
                                 <p>2-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d215185e2605 d215185e2232 ">
                                 <p>3-way mirror</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d215185e2605 d215185e2235 ">
                                 <p><code class="codeph">COARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="10%" headers="d215185e2605 d215185e2238 ">
                                 <p><code class="codeph">COLD</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><span class="bold">ADD TEMPLATE</span></p>
                  <p>Use this clause to add one or more named templates to a disk group. To determine the names of existing templates, query the <a href="../refrn/V-ASM_TEMPLATE.html#REFRN30174" target="_blank"><code class="codeph">V$ASM_TEMPLATE</code></a> dynamic performance view.
                  </p>
                  <p><span class="bold">MODIFY TEMPLATE</span></p>
                  <p>Use this clause to modify the attributes of a system default or user-defined disk group template. Only the specified attributes are altered. Unspecified properties retain their current values.</p>
                  <div class="infoboxnote" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-40C5AB38-2DA8-4383-B822-1A039DA51F62">
                     <p class="notep1">Note:</p>
                     <p>In earlier releases, the keywords <code class="codeph">ALTER</code> <code class="codeph">TEMPLATE</code> were used instead of <code class="codeph">MODIFY</code> <code class="codeph">TEMPLATE</code>. The <code class="codeph">ALTER</code> keyword is still supported for backward compatibility, but is replaced with <code class="codeph">MODIFY</code> for consistency with other Oracle SQL.
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">template_name</span></span></p>
                  <p>Specify the name of the template to be added or modified. The maximum length of a template name is 30 characters. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>.
                  </p>
                  <p><span class="bold"><span class="italic">redundancy_clause</span></span> 
                  </p>
                  <p>Specify <code class="codeph">PARITY</code> for single parity protection for write-once file types like archive logs and backup sets. If parity protection is not specified, the default redundancy for write-once file types will continue to be derived from system templates. 
                  </p>
                  <p>The redundancy of write-once file types may be changed to support parity protection later as needed. </p>
                  <p>Specify the redundancy level of the newly added or modified template:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MIRROR</code>: Files to which this template are applied are protected by mirroring their data blocks. In normal redundancy disk groups, each primary extent has one mirror extent (2-way mirroring). For high redundancy disk groups, each primary extent has two mirror extents (3-way mirroring). You cannot specify <code class="codeph">MIRROR</code> for templates in external redundancy disk groups.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">HIGH</code>: Files to which this template are applied are protected by mirroring their data blocks. Each primary extent has two mirror extents (3-way mirroring) for both normal redundancy and high redundancy disk groups. You cannot specify <code class="codeph">HIGH</code> for templates in external redundancy disk groups.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">UNPROTECTED</code>: Files to which this template are applied are not protected by Automated Storage Management from media failures. Disks taken offline, either through system action or by user command, can cause loss of unprotected files. <code class="codeph">UNPROTECTED</code> is the only valid setting for external redundancy disk groups. <code class="codeph">UNPROTECTED</code> may not be specified for templates in high redundancy disk groups. Oracle discourages the use of unprotected files in high and normal redundancy disk groups.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PARITY</code>: Specify the property <code class="codeph">PARITY</code> for single parity for write-once file types only. 
                        </p>
                     </li>
                  </ul>
                  <p>If you omit the redundancy clause, then the value defaults to <code class="codeph">MIRROR</code> for a normal redundancy disk group, <code class="codeph">HIGH</code> for a high redundancy disk group, and <code class="codeph">UNPROTECTED</code> for an external redundancy disk group. 
                  </p>
                  <p><span class="bold"><span class="italic">striping_clause</span></span> 
                  </p>
                  <p>Specify how the files to which this template are applied will be striped:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">FINE</code>: Files to which this template are applied are striped every 128KB. This striping mode is not valid for an Oracle ASM spfile.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COARSE</code>: Files to which this template are applied are striped every 1MB. This is the default value.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJECEI"><span class="bold"><span class="italic">disk_region_clause</span></span> 
                  </p>
                  <p><a id="d215185e2762" class="indexterm-anchor"></a><a id="d215185e2766" class="indexterm-anchor"></a>This clause lets you determine the Intelligent Data Placement attribute of the disk group file. Specify the region of the disk in which you want Oracle ASM to allocate extents for the file:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">HOT</code>: Extents are allocated in the region of the disk furthest away from the spindle. These outer tracks on the disk are longer than inner tracks, and so have more sectors and increased throughput.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COLD</code>: Extents are allocated in the region of the disk closest to the spindle.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MIRRORHOT</code> and <code class="codeph">MIRRORCOLD</code>: Specify the region desired for the mirrored datablocks of the file. 
                        </p>
                     </li>
                  </ul>
                  <p>If no space is available in the desired disk region, then Oracle ASM allocates extents in the other region but initiates a rebalance to adjust the size of the region. </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C2E85479-87C3-44CE-AE0E-2F7CE3EF36AF">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ostmg/index.html" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information on Intelligent Data Placement
                     </p>
                  </div>
                  <p><span class="bold">DROP TEMPLATE</span></p>
                  <p>Use this clause to drop one or more templates from the disk group. You can use this clause to drop only user-defined templates, not system default templates. </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2175401">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-49345FFB-D681-452D-9FCE-01CB67B813FF"><span class="italic">diskgroup_directory_clauses</span></p>
                  <p>Before you can create alias names for Oracle ASM filenames (see <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168812">diskgroup_alias_clauses</a></span>), you must specify the full directory structure in which the alias name will reside. The <span class="italic"><code class="codeph">diskgroup_directory_clauses</code></span> let you create and manipulate such a directory structure. 
                  </p>
                  <p><span class="bold">ADD DIRECTORY</span></p>
                  <p>Use this clause to create a new directory path for hierarchically named aliases. Use a slash (/) to separate components of the directory. Each directory component can be up to 48 bytes in length and must not contain the slash character. You cannot use a space for the first or last character of any component. The total length of the directory path cannot exceed 256 bytes minus the length of any alias name you intend to create in this directory (see <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168812">diskgroup_alias_clauses</a></span>).
                  </p>
                  <p><span class="bold">DROP DIRECTORY</span></p>
                  <p>Use this clause to drop a directory for hierarchically named aliases. Oracle ASM will not drop the directory if it contains any alias definitions unless you also specify <code class="codeph">FORCE</code>. This clause is not valid for dropping directories created as part of a system alias. Such directories are labeled with the value <code class="codeph">Y</code> in the <code class="codeph">SYSTEM_CREATED</code> column of the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30168" target="_blank"><code class="codeph">V$ASM_ALIAS</code></a> dynamic performance view.
                  </p>
                  <p><span class="bold">RENAME DIRECTORY</span></p>
                  <p>Use this clause to change the name of a directory for hierarchically named aliases. This clause is not valid for renaming directories created as part of a system alias. Such directories are labeled with the value <code class="codeph">Y</code> in the <code class="codeph">SYSTEM_CREATED</code> column of the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30168" target="_blank"><code class="codeph">V$ASM_ALIAS</code></a> dynamic performance view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2168812">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-36CC575D-3086-41F8-858C-00D9996C983B"><span class="italic">diskgroup_alias_clauses</span></p>
                  <p>When an Oracle ASM file is created, either implicitly or by user specification, Oracle ASM assigns to the file a fully qualified name ending in a dotted pair of numbers (see <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>). The <span class="italic"><code class="codeph">diskgroup_alias_clauses</code></span> let you create more user-friendly alias names for the Oracle ASM filenames. You cannot specify an alias name that ends in a dotted pair of numbers, as this format is indistinguishable from an Oracle ASM filename.
                  </p>
                  <p>Before specifying this clause, you must first create the directory structure appropriate for your naming conventions (see <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__I2175401">diskgroup_directory_clauses</a></span>). The total length of the alias name, including the directory prefix, is limited to 256 bytes. Alias names are case insensitive but case retentive.
                  </p>
                  <p><span class="bold">ADD ALIAS</span></p>
                  <p>Use this clause to create an alias name for an Oracle ASM filename. The <span class="italic"><code class="codeph">alias_name</code></span> consists of the full directory path and the alias itself. To determine the names of existing Oracle ASM aliases, query the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30168" target="_blank"><code class="codeph">V$ASM_ALIAS</code></a> dynamic performance view. Refer to <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__I1026664">ASM_filename</a></span> for information on Oracle ASM filenames.
                  </p>
                  <p><span class="bold">DROP ALIAS</span></p>
                  <p>Use this clause to remove an alias name from the disk group directory. Each alias name consists of the full directory path and the alias itself. The underlying file to which the alias refers remains unchanged. </p>
                  <p><span class="bold">RENAME ALIAS</span></p>
                  <p>Use this clause to change the name of an existing alias. The <span class="italic"><code class="codeph">alias_name</code></span> consists of the full directory path and the alias itself. 
                  </p>
                  <p><span class="bold">Restriction on Dropping and Renaming Aliases</span></p>
                  <p>You cannot drop or rename a system-generated alias. To determine whether an alias was system generated, query the <code class="codeph">SYSTEM_CREATED</code> column of the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30168" target="_blank"><code class="codeph">V$ASM_ALIAS</code></a> dynamic performance view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-13024B4C-F849-401B-8183-9AF7F6951E0B"><span class="italic">diskgroup_volume_clauses</span></p>
                  <p><a id="d215185e2933" class="indexterm-anchor"></a><a id="d215185e2937" class="indexterm-anchor"></a>Use these clauses to manipulate logical Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes corresponding to physical volume devices. To use these clauses, Oracle ASM must be started and the disk group being modified must be mounted.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-A8D7ED5A-4851-4792-9688-7F42AD197174">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ostmg/overview-advm.html#OSTMG32000" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about disk group volumes, including examples
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-66CFBAE2-B45F-4221-B41F-B10B49E3AA58"><span class="italic">add_volume_clause</span></p>
                  <p>Use this clause to add a volume to the disk group.</p>
                  <p>For <span class="italic"><code class="codeph">asm_volume</code></span>, specify the name of the volume. The name can contain only alphanumeric characters and the first character must be alphabetic. The maximum length of the name is platform dependent. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG94739" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information.
                  </p>
                  <p>For <span class="italic"><code class="codeph">size_clause</code></span>, specify the size of the Oracle ADVM volume. The Oracle ASM instance determines whether sufficient space exists to create the volume. If sufficient space does not exist, then the Oracle ASM instance returns an error. If sufficient space does exist, then all nodes in the cluster with an Oracle ASM instance running and the disk group mounted are notified of the addition. Oracle ASM creates and enables on those nodes a volume device that can be used to create and mount file systems.
                  </p>
                  <p>The following optional settings are also available:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>In the <span class="italic"><code class="codeph">redundancy_clause</code></span>, specify the redundancy level of the Oracle ADVM volume. You can specify this clause only when creating a volume in a normal redundancy disk group. You can specify the following volume redundancy levels:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MIRROR</code>: 2-way mirroring of the volume. This is the default.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">HIGH</code>: 3-way mirroring of the volume.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">UNPROTECTED</code>: No mirroring of the volume.
                              </p>
                           </li>
                        </ul>
                        <p>You cannot specify the <span class="italic"><code class="codeph">redundancy_clause</code></span> when creating a volume in a high redundancy disk group or an external redundancy disk group. If you do so, then an error will result. In high redundancy disk groups, Oracle Database automatically sets the volume redundancy to <code class="codeph">HIGH</code> (3-way mirroring). In external redundancy disk groups, Oracle Database automatically sets the volume redundancy to <code class="codeph">UNPROTECTED</code> (no mirroring).
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">STRIPE_WIDTH</code> clause, specify a stripe width for the Oracle ADVM volume. The valid range is from 4KB to 1MB, at intervals of the power of 2. The default value is 128K. 
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">STRIPE_COLUMNS</code> clause, specify the number of stripes in a stripe set of the Oracle ADVM volume. The valid range is 1 to 8. The default is 4. If <code class="codeph">STRIPE_COLUMNS</code> is set to 1, then striping becomes disabled. In this case, the stripe width is the extent size of the volume. This volume extent size is 64 times the allocation unit (AU) size of the disk group.
                        </p>
                     </li>
                     <li>
                        <p>In the <span class="italic"><code class="codeph">disk_region_clause</code></span> clause, specify the Intelligent Data Placement attribute of both the primary and nonprimary mirror of the disk group volume. The default for both is <code class="codeph">COLD</code>. See <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJECEI">disk_region_clause</a></span> for details on this clause.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5AE11285-FA07-44AD-B25B-5A5516693232"><span class="italic">modify_volume_clause</span></p>
                  <p>Use this clause to modify the characteristics of an existing Oracle ADVM volume. You must specify at least one of the following clauses:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>In the <span class="italic"><code class="codeph">disk_region_clause</code></span> clause, specify the Intelligent Data Placement attribute of both the primary and nonprimary mirror of the disk group volume. The default for the primary mirror is <code class="codeph">COLD</code>. The default for mirror and high redundancy is <code class="codeph">HOT</code>. See <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJECEI">disk_region_clause</a></span> for details on this clause.
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">MOUNTPATH</code> clause, specify the mountpath name associated with the volume. The <span class="italic"><code class="codeph">mountpath_name</code></span> can be up to 1024 characters. 
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">USAGE</code> clause, specify the usage name associated with the volume. The <span class="italic"><code class="codeph">usage_name</code></span> can be up to 30 characters.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">RESIZE VOLUME Clause</span></p>
                  <p>Use this clause to change the size of an existing Oracle ADVM volume. In an Oracle ASM cluster, the new size is propagated to all nodes. If an Oracle Automatic Storage Management File System (ACFS) exists on the volume, then you must use the <code class="codeph">acfsutil</code> <code class="codeph">size</code> command instead of the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> statement.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-6ADA064B-88F1-4A79-BA5F-6A2FFA6B12C2">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ostmg/acfs-commands-utilities.html#OSTMG94000" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about the <code class="codeph">acfsutil</code> <code class="codeph">size</code> command
                     </p>
                  </div>
                  <p><span class="bold">DROP VOLUME Clause</span></p>
                  <p>Use this clause to remove the Oracle ASM file that is the storage container for an existing Oracle ADVM volume. In an Oracle ASM cluster, all nodes with an Oracle ASM instance running and with this disk group open are notified of the drop operation, which results in removal of the volume device. If the volume file is open, then this clause returns an error.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-266268FC-7B83-467B-9E85-389B6B23B9C5"><span class="italic">diskgroup_attributes </span></p>
                  <p>Use this clause to specify attributes for the disk group. <a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__BGEDFCIB" title="Column 1 lists diskgroup attribute names; column 2 lists valid values for each attribute; column 3 describes the attributes.">Table 13-2</a> lists the attributes you can set with this clause. Refer to the <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> <span class="q">"<a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__BABECECH">ATTRIBUTE Clause</a>"</span> for information on the behavior of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-63E60C7F-749E-4676-9F0E-6F1A14A9455B"><span class="italic">modify_diskgroup_file</span></p>
                  <p>Use this clause to modify the Intelligent Data Placement attributes of an existing disk group file. When you modify the Intelligent Data Placement for a file, this action will apply to new extensions of the file, but existing file contents are not affected until a rebalance operation. To apply the new Intelligent Data Placement policy for existing file contents, you can manually initiate a rebalance. A rebalance operation uses the last specified policy for the file extents.</p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-02584858-DC8D-42F6-913A-3DDB17D73FE1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJECEI">disk_region_clause</a></span> for more information on this clause
                           </p>
                        </li>
                        <li>
                           <p><a href="../ostmg/alter-diskgroups.html#OSTMG10080" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information on manually rebalancing disk groups
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-575F0E98-CCBD-4FD6-B105-A349FECD8BFA"><span class="italic">drop_diskgroup_file_clause</span></p>
                  <p>Use this clause to drop a file from the disk group. Oracle ASM also drops all aliases associated with the file being dropped. You must use one of the reference forms of the filename. Most Oracle ASM files do not need to be manually deleted because, as Oracle Managed Files, they are removed automatically when they are no longer needed. Refer to <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__I1026664">ASM_filename</a></span> for information on the reference forms of Oracle ASM filenames.
                  </p>
                  <p>You cannot drop a disk group file it if is the spfile that was used to start up the current instance or any instance in the Oracle ASM cluster.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__CONVERT_REDUNDANCY_CLAUSE-57C1BAB2">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7F548CFE-22E8-4F1B-B38F-8A8A4B19651E"><span class="italic">convert_redundancy_clause</span></p>
                  <p>You can use this clause to convert a <code class="codeph">NORMAL</code> <code class="codeph">REDUNDANCY</code> or <code class="codeph">HIGH</code> <code class="codeph">REDUNDANCY</code> disk group to a <code class="codeph">FLEX</code> <code class="codeph">REDUNDANCY</code> disk group. The disk group must have at least three failure groups before you start the conversion.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-C5AEA06D-50BA-4453-A2CE-0A5E7992BD10"><span class="italic">usergroup_clauses</span></p>
                  <p>Use these clauses to add a user group to the disk group, remove a user group from the disk group, or to add a member to or drop a member from an existing user group.</p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-054590BB-AE6E-40FC-8502-F1886F6C4F56">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG02660" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for detailed information about user groups and members, including examples
                     </p>
                  </div>
                  <p><span class="bold">ADD USERGROUP</span> <a id="d215185e3213" class="indexterm-anchor"></a></p>
                  <p>Use this clause to add a user group to the disk group. You must have <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege to create a user group. The maximum length of a user group name is 63 bytes. If you specify the user name, then it must be in the OS password file and its length cannot exceed 32 characters.
                  </p>
                  <p><span class="bold">MODIFY USERGROUP</span> <a id="d215185e3229" class="indexterm-anchor"></a></p>
                  <p>Use these clauses to add a member to or drop a member from an existing user group. You must be an Oracle ASM administrator (with SYSASM privilege) or the creator (with SYSDBA privilege) of the user group to use these clauses. The user name must be an existing user in the OS password file.</p>
                  <p><span class="bold">DROP USERGROUP</span> <a id="d215185e3239" class="indexterm-anchor"></a></p>
                  <p>Use this clause to drop an existing user group from the disk group. You must be an Oracle ASM administrator (with SYSASM privilege) or the creator (with SYSDBA privilege) of the user group to use this clause. Dropping a user group may leave a disk group file without a valid user group. In this case, you can update the disk group file manually to add a new, valid group using the <span class="italic"><a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJGAFA">file_permissions_clause</a></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBCFAFC">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-D77B97D0-021D-4643-8EBF-3995A0B900B9"><span class="italic">user_clauses</span></p>
                  <p>Use these clauses to add a user to, drop a user from, or replace a user in a disk group.</p>
                  <div class="infoboxnote" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-EDC4EF93-DBBC-4A0F-B748-0A7193D9B76A">
                     <p class="notep1">Note:</p>
                     <p>When administering users with SQL*Plus, the users must be existing operating system users and their user names must have corresponding operating system user IDs. However, only users in the same cluster as the Oracle ASM instance can be validated.</p>
                  </div>
                  <p><span class="bold">ADD USER</span> <a id="d215185e3262" class="indexterm-anchor"></a></p>
                  <p>Use this clause to add one or more operating system (OS) users to an Oracle ASM disk group and give those users access privileges on the disk group. A user name must be an existing user in the OS password file and its length cannot exceed 32 characters. If a specified user already exists in the disk group, as shown by <code class="codeph">V$ASM_USER</code>, then the command records an error and continues to add other users, if any have been specified. This command is seldom needed, because the OS user running the database instance is added to a disk group automatically when the instance accesses the disk group. However, this clause is useful when adding users that are not associated with a particular database instance.
                  </p>
                  <p><span class="bold">DROP USER</span> <a id="d215185e3277" class="indexterm-anchor"></a></p>
                  <p>Use this clause to drop one or more users from the disk group. If a specified user is not in the disk group, then this clause records an error and continues to drop other users, if any are specified. If the user owns any files, then you must specify the <code class="codeph">CASCADE</code> keyword, which drops the user and all the user's files. If any files owned by the user are open, then <code class="codeph">DROP</code> <code class="codeph">USER</code> <code class="codeph">CASCADE</code> fails with an error.
                  </p>
                  <p>To delete a user without deleting the files owned by that user, change the owner of each of these files to another user and then issue an <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">DROP</code> <code class="codeph">USER</code> statement on the user. Alternatively, you can issue an <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">REPLACE</code> <code class="codeph">USER</code> statement to replace the user you want to drop with a user that currently does not exist in the disk group. This operation has the side effect of making the new user the owner of files that were previously owned by the dropped user.
                  </p>
                  <p><span class="bold">REPLACE USER</span></p>
                  <p>Use this clause to replace <span class="italic"><code class="codeph">old_user</code></span> with <span class="italic"><code class="codeph">new_user</code></span> in the disk group. All files that are currently owned by <span class="italic"><code class="codeph">old_user</code></span> will become owned by <span class="italic"><code class="codeph">new_user</code></span>, and <span class="italic"><code class="codeph">old_user</code></span> will be dropped from the disk group. <span class="italic"><code class="codeph">old_user</code></span> must exist in the disk group and <span class="italic"><code class="codeph">new_user</code></span> must not exist in the disk group.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBJGAFA">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-CE605895-68B2-4025-A479-FC1354F0200E"><span class="italic">file_permissions_clause</span></p>
                  <p><a id="d215185e3363" class="indexterm-anchor"></a>Use this clause to change the permission settings of a disk group file. The three classes of permissions are owner, user group, and other. You must be the file owner or the Oracle ASM administrator to use this clause.
                  </p>
                  <p>If you change the permission settings of an open file, then the operation currently running on the file will complete using the old permission settings. The new permission settings will take effect when re-authentication is required.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGBGHEAF">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BA3C1414-38B9-40C4-82CC-40EED4ABE903"><span class="italic">file_owner_clause</span></p>
                  <p><a id="d215185e3375" class="indexterm-anchor"></a>Use this clause to set the owner or user group for a specified file. You must be the Oracle ASM administrator to change the owner of the file. You must be the owner of the file or the Oracle ASM administrator to change the user group of a file. In addition, to change the associated user group of a file, the specified user group must already exist in the disk group, and the owner of the file must be a member of that user group.
                  </p>
                  <p>If you use this clause on an open file, then the following conditions apply:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>If you change the owner or user group of an open file, then the operation currently running on the file will complete using the old owner or user group. The new owner or user group will take effect when re-authentication is required.</p>
                     </li>
                     <li>
                        <p>If you change the owner of an open file, then the new owner of the file cannot be dropped from the disk group until the instance has been restarted. In an Oracle ASM cluster, the new owner of the file cannot be dropped until all instances in the cluster have been restarted.</p>
                     </li>
                     <li>
                        <p>If you change the owner of an open file, then the old owner cannot be dropped while the file is still open, even after the ownership of the file has changed.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEBHEJJ">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-9CB8D6DA-088C-4E2C-A3C6-95349A448669"><span class="italic">scrub_clause</span></p>
                  <p>Use this clause to scrub a disk group. The scrub operation checks for logical data corruptions and repairs the corruptions automatically in normal and high redundancy disks groups.</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Use the <code class="codeph">FILE</code> clause to scrub the specified Oracle ASM file in the disk group. You must use one of the reference forms of the <span class="italic"><code class="codeph">ASM_filename</code></span>. Refer to <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__I1026664">ASM_filename</a></span> for information on the reference forms of Oracle ASM filenames.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">DISK</code> clause to scrub the specified disk in the disk group.
                        </p>
                     </li>
                     <li>
                        <p>If you do not specify <code class="codeph">FILE</code> or <code class="codeph">DISK</code>, then all files and disks in the disk group are scrubbed.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">REPAIR | NOREPAIR</span></p>
                  <p>Specify <code class="codeph">REPAIR</code> to attempt to repair any errors found during the logical data corruption check. Specify <code class="codeph">NOREPAIR</code> to be alerted of any corruptions; Oracle ASM will not take any action to resolve them. The default is <code class="codeph">NOREPAIR</code>.
                  </p>
                  <p><span class="bold">POWER</span></p>
                  <p>Use the <code class="codeph">POWER</code> clause to specify the power level of the scrub operation. Valid values are <code class="codeph">AUTO</code>, <code class="codeph">LOW</code>, <code class="codeph">HIGH</code>, and <code class="codeph">MAX</code>. If you omit this clause, then the power level defaults to <code class="codeph">AUTO</code> and the power adjusts to the optimum level for the system.
                  </p>
                  <p><span class="bold">WAIT | NOWAIT</span></p>
                  <p>Specify <code class="codeph">WAIT</code> to allow the scrub operation to complete before returning control to the user. Specify <code class="codeph">NOWAIT</code> to add the operation to the scrubbing queue and return control to the user immediately. The default is <code class="codeph">NOWAIT</code>.
                  </p>
                  <p><span class="bold">FORCE | NOFORCE</span></p>
                  <p>Specify <code class="codeph">FORCE</code> to process the command even if the system I/O load is high or scrubbing has been disabled at the system level. Specify <code class="codeph">NOFORCE</code> to process the command normally. The default is <code class="codeph">NOFORCE</code>.
                  </p>
                  <p>You can monitor the progress of the scrub operation by querying the <code class="codeph">V$ASM_ OPERATION</code> dynamic performance view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-BF2BA98B-35E2-448F-BF83-46430CE269F8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG95351" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information on scrubbing disk groups and <span class="q">"<a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEFHBEA">Scrubbing a Disk Group: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__QUOTAGROUP_CLAUSES-5542D6FA">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-72F46192-6D8A-48FB-8B87-63B1DCEEEF35"><span class="italic">quotagroup_clauses</span></p>
                  <p>Use these clauses to add a quota group to the disk group, modify a quota group, move a file group into a quota group, or drop a quota group.</p>
                  <p>A quota group is a collection of file groups. A file group is a container for all files of a database within one disk group. A quota group has a specified quota limit, which is the maximum amount of storage space that its file groups can collectively use. Therefore, a quota group enables you to define the quota limit for a group of databases within a disk group. The sum of the quota limits for all quota groups in a disk group can exceed the storage capacity of the disk group.</p>
                  <p>Each disk group contains a default quota group named <code class="codeph">GENERIC</code>. If you create a file group and do not specify its quota group, then the file group belongs to the <code class="codeph">GENERIC</code> quota group. Oracle ASM automatically creates the <code class="codeph">GENERIC</code> quota group when you create a disk group with the <code class="codeph">compatible</code>.<code class="codeph">asm</code> attribute set to <code class="codeph">12</code>.<code class="codeph">2</code> or higher, or when you set <code class="codeph">compatible</code>.<code class="codeph">asm</code> to <code class="codeph">12</code>.<code class="codeph">2</code> or higher for an existing disk group. Initially, the quota limit for <code class="codeph">GENERIC</code> is <code class="codeph">UNLIMITED</code>. You can subsequently modify this quota limit with the <code class="codeph">MODIFY</code> <code class="codeph">QUOTAGROUP</code> clause.
                  </p>
                  <p></p>
                  <p><span class="bold">ADD QUOTAGROUP</span></p>
                  <p>Use this clause to create a quota group and add it to the disk group. For <span class="italic"><code class="codeph">quotagroup_name</code></span>, specify the name of the new quota group.
                  </p>
                  <p>The <code class="codeph">SET</code> clause allows you to set the quota limit for the quota group.
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>For <span class="italic"><code class="codeph">property_name</code></span>, specify <code class="codeph">QUOTA</code>.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">property_value</code></span>, specify one of the following clauses:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Specify <span class="italic"><code class="codeph">size_clause</code></span> to set a number of bytes for the quota limit. The minimum value you can specify is 1 byte. You can specify a value that is greater than the storage size of the disk group. In this case, storage use is limited by the current size of the disk group. However, if you subsequently increase the storage space for the disk group to a size that exceeds the quota limit, then the quota limit will be enforced. Refer to <a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517">size_clause</a> for the syntax and semantics of this clause. Note that specifying 0 bytes is equivalent to specifying <code class="codeph">UNLIMITED</code>.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">UNLIMITED</code> if you do not want to set a quota limit. In this case, storage use is limited by the storage size of the disk group.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>If you omit the <code class="codeph">SET</code> clause, then the default is <code class="codeph">SET QUOTA=UNLIMITED</code>.
                  </p>
                  <p><span class="bold">MODIFY QUOTAGROUP</span></p>
                  <p>Use this clause to modify the quota limit for a quota group. For <span class="italic"><code class="codeph">quotagroup_name</code></span>, specify the name of the quota group you want to modify. You can modify the quota limit for any quota group, including the <code class="codeph">GENERIC</code> quota group. The <code class="codeph">SET</code> clause has the same semantics here as for the <code class="codeph">ADD</code> <code class="codeph">QUOTAGROUP</code> clause. The quota limit can be set below the amount of space currently used by the quota group. This action prevents any additional space from being allocated for files described by file groups associated with this quota group.
                  </p>
                  <p><span class="bold">MOVE FILEGROUP</span></p>
                  <p>Use this clause to move a file group from one quota group to another. For <span class="italic"><code class="codeph">filegroup_name</code></span>, specify the file group you want to move. For <span class="italic"><code class="codeph">quotagroup_name</code></span>, specify the name of the destination quota group. If the move operation causes the amount of used storage space in the destination quota group to exceed the quota limit, then the operation succeeds, but no new storage allocations can take place in the file groups within the quota group. This capability enables you to stop any files described by a specific file group from allocating additional space.
                  </p>
                  <p><span class="bold">DROP QUOTAGROUP</span></p>
                  <p>Use this clause to drop a quota group from the disk group. For <span class="italic"><code class="codeph">quotagroup_name</code></span>, specify the quota group you want to drop. The quota group must not contain any file groups. You cannot drop the quota group <code class="codeph">GENERIC</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-0B8697E5-809D-4D81-AB9A-A364238B77C2">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG-GUID-A4AA7D67-082F-402D-8164-53193B405211" target="_blank"><span class="italic">Automatic Storage Management Administrator's Guide</span></a> for more information on quota groups
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__FILEGROUP_CLAUSES-5542E098">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-5E2A76C5-FF77-4785-B15A-ED0A15C6DCD1"><span class="italic">filegroup_clauses</span></p>
                  <p>The <span class="italic"><code class="codeph">filegroup_clauses</code></span> are valid only for flex disk groups. Use these clauses to create a file group, modify a file group, move a file into a file group, or drop a file group. A file group is a container for all files of a database within one disk group. A file group must belong to a quota group.
                  </p>
                  <p>Each disk group has a default file group with <code class="codeph">FILEGROUP_NUMBER</code> <code class="codeph">=</code> <code class="codeph">0</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-04BE0366-67FD-474B-B5B5-3C502CCE6326"><span class="italic">add_filegroup_clause</span></p>
                  <p>Use this clause to create a file group.</p>
                  <p>For <span class="italic"><code class="codeph">filegroup_name</code></span>, specify the name of the new file group. The maximum length of a file group name is 127 characters. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>, with the following addition: File group names are not case sensitive, even if you specify them with quotation marks. They are always stored internally as uppercase. File group names must be unique within a disk group.
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Use the <code class="codeph">DATABASE</code> clause to specify the database (non-CDB, CDB, or PDB) with which the file group is associated.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">CLUSTER</code> clause to specify the cluster with which the file group is associated.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">VOLUME</code> clause to specify the volume with which the file group is associated.
                        </p>
                     </li>
                  </ul>
                  <p>You cannot associate more than one file group in the same disk group with the same database, cluster, or volume. If the database, cluster, or volume does not exist at the time of file group creation, then the file group will be automatically associated with it when it is subsequently created. Database, cluster, and volume names must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>.
                  </p>
                  <p>The <code class="codeph">SET</code> clause allows you to set properties for the file group. If you do not specify the <code class="codeph">SET</code> clause for a property, then the default value is assigned. You can specify the <span class="italic"><code class="codeph">file_type</code></span> for any property for which a file type applies. If you do not specify <span class="italic"><code class="codeph">file_type</code></span> for such a property, then the property applies to all file types. For complete information on file group properties and their default values, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG-GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-628A1784-7DF0-4D71-8F49-9A3E5128FDC5"><span class="italic">modify_filegroup_clause</span></p>
                  <p> Use this clause to modify file group properties. For <span class="italic"><code class="codeph">filegroup_name</code></span>, specify the name of the file group you want to modify. You can modify properties for any file group, including the default file group. Any that you do not specify with this clause remain unchanged. The <code class="codeph">SET</code> clause has the same semantics here as for the <span class="italic"><code class="codeph">add_filegroup_clause</code></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-7289655C-3322-4966-9306-7BFE439305D5"><span class="italic">move_to_filegroup_clause</span></p>
                  <p>Use this clause to move a file to a file group. If the file is currently associated with a different file group, then it is disassociated from that file group. The target file group must have enough space available to contain the file. You must be the owner of the file and the target file group.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-D1CA44D0-FF6C-4433-BD48-255DD2EAAD82"><span class="italic">drop_filegroup_clause</span></p>
                  <p>Use this clause to drop an empty file group. For <span class="italic"><code class="codeph">filegroup_name</code></span>, specify the name of the file group you want to drop. 
                  </p>
                  <p><span class="bold">CASCADE</span></p>
                  <p>Use the keyword <code class="codeph">CASCADE</code> to drop a file group that is not empty. When a file group is dropped with the keyword <code class="codeph">CASCADE</code>, every file associated with the file group is automatically dropped. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-81FF42D6-AEAC-4018-A8B6-44F4C78D00D8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=OSTMG-GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" target="_blank"><span class="italic">Automatic Storage Management Administrator's Guide</span></a> for more information on file groups
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-40B2AE4B-FBC5-4253-8CE0-EC98B2D090B7"><span class="italic">undrop_disk_clause</span></p>
                  <p>Use this clause to cancel the drop of disks from the disk group. You can cancel the pending drop of all the disks in one or more disk groups (by specifying <span class="italic"><code class="codeph">diskgroup_name</code></span>) or of all the disks in all disk groups (by specifying <code class="codeph">ALL</code>).
                  </p>
                  <p>This clause is not relevant for disks that have already been completely dropped from the disk group or for disk groups that have been completely dropped. This clause results in a long-running operation. You can see the status of the operation by querying the <code class="codeph">V$ASM_OPERATION</code> dynamic performance view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-167B9CE6-9DFD-4A48-BEAD-B8C1E2D4F95B">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30173" target="_blank"><code class="codeph">V$ASM_OPERATION</code></a> for more information on the details of long-running Oracle ASM operations
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-CEB3AB9B-8624-4284-87BA-1955520BCA11"><span class="italic">diskgroup_availability</span></p>
                  <p>Use this clause to make one or more disk groups available or unavailable to the database instances running on the same node as the Oracle ASM instance. This clause does not affect the status of the disk group on other nodes in a cluster.</p>
                  <p><span class="bold">MOUNT</span></p>
                  <p>Specify <code class="codeph">MOUNT</code> to mount the disk groups in the local Oracle ASM instance. Specify <code class="codeph">ALL</code> <code class="codeph">MOUNT</code> to mount all disk groups specified in the <code class="codeph">ASM_DISKGROUPS</code> initialization parameter. File operations can only be performed when a disk group is mounted. If Oracle ASM is running in a cluster or a standalone server managed by Oracle Grid Infrastructure for a standalone server, then the <code class="codeph">MOUNT</code> clause automatically brings the corresponding resource online.
                  </p>
                  <p><span class="bold">RESTRICTED | NORMAL</span></p>
                  <p>Use these clauses to determine the manner in which the disk groups are mounted.</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>In the <code class="codeph">RESTRICTED</code> mode, the disk group is mounted in single-instance exclusive mode. No other Oracle ASM instance in the same cluster can mount that disk group. In this mode the disk group is not usable by any Oracle ASM client. 
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">NORMAL</code> mode, the disk group is mounted in shared mode, so that other Oracle ASM instances and clients can access the disk group. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">FORCE | NOFORCE</span></p>
                  <p>Use these clauses to determine the circumstances under which the disk groups are mounted.</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>In the <code class="codeph">FORCE</code> mode, Oracle ASM attempts to mount the disk group even if it cannot discover all of the devices that belong to the disk group. This setting is useful if some of the disks in a normal or high redundancy disk group became unavailable while the disk group was dismounted. When <code class="codeph">MOUNT</code> <code class="codeph">FORCE</code> succeeds, Oracle ASM takes the missing disks offline.
                        </p>
                        <p>If Oracle ASM discovers <span class="italic">all</span> of the disks in the disk group, then <code class="codeph">MOUNT</code> <code class="codeph">FORCE</code> fails. Therefore, use the <code class="codeph">MOUNT</code> <code class="codeph">FORCE</code> setting only if some disks are unavailable. Otherwise, use <code class="codeph">NOFORCE</code>.
                        </p>
                        <p>In normal- and high-redundancy disk groups, disks from one failure group can be unavailable and <code class="codeph">MOUNT</code> <code class="codeph">FORCE</code> will succeed. Also in high-redundancy disk groups, two disks in two different failure groups can be unavailable and <code class="codeph">MOUNT</code> <code class="codeph">FORCE</code> will succeed. Any other combination of unavailable disks causes the operation to fail, because Oracle ASM cannot guarantee that a valid copy of all user data or metadata exists on the available disks.
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">NOFORCE</code> mode, Oracle ASM does not attempt to mount the disk group unless it can discover all the member disks. This is the default.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-E99D7B5C-C8CB-4AB5-BC27-ECD0BF867AE8">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/ASM_DISKGROUPS.html#REFRN10247" target="_blank"><code class="codeph">ASM_DISKGROUPS</code></a> for more information about adding disk group names to the initialization parameter file
                     </p>
                  </div>
                  <p><span class="bold">DISMOUNT</span></p>
                  <p>Specify <code class="codeph">DISMOUNT</code> to dismount the specified disk groups. Oracle ASM returns an error if any file in the disk group is open unless you also specify <code class="codeph">FORCE</code>. Specify <code class="codeph">ALL</code> <code class="codeph">DISMOUNT</code> to dismount all currently mounted disk groups. File operations can only be performed when a disk group is mounted. If Oracle ASM is running in a cluster or a standalone server managed by Oracle Grid Infrastructure for a standalone server, then the <code class="codeph">DISMOUNT</code> clause automatically takes the corresponding resource offline.
                  </p>
                  <p><span class="bold">FORCE</span></p>
                  <p>Specify <code class="codeph">FORCE</code> if you want Oracle ASM to dismount the disk groups even if some files in the disk group are open.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-DABFB318-7F5A-405A-9824-1B64B79A4BA9"><span class="italic">enable_disable_volume</span></p>
                  <p>Use this clause to enable or disable one or more volumes in the disk group. </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>For each volume you enable, Oracle ASM creates a volume device file on the local node that can be used to create or mount the file system.</p>
                     </li>
                     <li>
                        <p>For each volume you disable, Oracle ASM deletes the device file on the local node. If the volume file is open on the local node, then the <code class="codeph">DISABLE</code> clause returns an error.
                        </p>
                     </li>
                  </ul>
                  <p>Use the <code class="codeph">ALL</code> keyword to enable or disable all volumes in the disk group. If you specify <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ALL</code> <code class="codeph">...</code>, then you must use the <code class="codeph">ALL</code> keyword in this clause as well.
                  </p>
                  <div class="infoboxnotealso" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-ADC1C39D-1F8A-4F5E-A25E-2875697B1E4B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ostmg/overview-advm.html#OSTMG32000" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about disk group volumes
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__GUID-81DA1AA6-203A-4E62-B72B-EFE78402A31E">Examples</p>
                  <p>The following examples require a disk group called <code class="codeph">dgroup_01</code>. They assume that <code class="codeph">ASM_DISKSTRING</code> is set to <code class="codeph">/devices/disks/*</code>. In addition, they assume the Oracle user has read/write permission to <code class="codeph">/devices/disks/d100</code>. Refer to <span class="q">"<a href="CREATE-DISKGROUP.html#GUID-039A1373-1F3F-4A53-A152-8EBC348FB880__CACIHAAD">Creating a Diskgroup: Example</a>"</span> to create <code class="codeph">dgroup_01</code>.
                  </p>
                  <p><span class="bold">Adding a Disk to a Disk Group: Example</span></p>
                  <p>To add a disk, <code class="codeph">d100</code>, to a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  ADD DISK '/devices/disks/d100';</pre><p><span class="bold">Dropping a Disk from a Disk Group: Example</span></p>
                  <p>To drop a disk, <code class="codeph">dgroup_01_0000</code>, from a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  DROP DISK dgroup_01_0000;</pre><p><span class="bold">Undropping a Disk from a Disk Group: Example</span></p>
                  <p>To cancel the drop of disks from a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  UNDROP DISKS;</pre><p><span class="bold">Resizing a Disk Group: Example</span></p>
                  <p>To resize every disk in a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  RESIZE ALL
  SIZE 36G;</pre><p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEJBJJJ"><span class="bold">Rebalancing a Disk Group: Example</span></p>
                  <p>To manually rebalance a disk group, <code class="codeph">dgroup_01</code>, and permit Oracle ASM to execute the rebalance as fast as possible, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  REBALANCE POWER 11 WAIT;
</pre><p>The <code class="codeph">WAIT</code> keyword causes the database to wait for the disk group to be rebalanced before returning control to the user. 
                  </p>
                  <p><span class="bold">Verifying the Internal Consistency of Disk Group Metadata: Example</span></p>
                  <p>To verify the internal consistency of Oracle ASM disk group metadata and instruct Oracle ASM to repair any errors found, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  CHECK ALL
  REPAIR;</pre><p><span class="bold">Adding a Named Template to a Disk Group: Example</span></p>
                  <p>To add a named template, <code class="codeph">template_01</code> to a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  ADD TEMPLATE template_01
    ATTRIBUTES (UNPROTECTED COARSE);</pre><p><span class="bold">Changing the Attributes of a Disk Group Template: Example</span></p>
                  <p>To modify the attributes of a system default or user-defined disk group template, <code class="codeph">template_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  MODIFY TEMPLATE template_01
    ATTRIBUTES (FINE);</pre><p><span class="bold">Dropping a User-Defined Template from a Disk Group: Example</span></p>
                  <p>To drop a user-defined template, <code class="codeph">template_01</code>, from a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  DROP TEMPLATE template_01;</pre><p><span class="bold">Creating a Directory Path for Hierarchically Named Aliases: Example</span></p>
                  <p>To specify the directory structure in which alias names will reside, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  ADD DIRECTORY '+dgroup_01/alias_dir';</pre><p><span class="bold">Creating an Alias Name for an Oracle ASM Filename: Example</span></p>
                  <p>To create a user alias by specifying the numeric Oracle ASM filename, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  ADD ALIAS '+dgroup_01/alias_dir/datafile.dbf'
    FOR '+dgroup_01.261.1';</pre><p id="GUID-22D73AB6-7063-4627-A2ED-18D521ED2557__BGEFHBEA"><span class="bold">Scrubbing a Disk Group: Example</span></p>
                  <p>To scrub a disk group, <code class="codeph">dgroup_01</code>, issue the following statement. This statement attempts to repair any errors found during the logical data corruption check and allows the scrub operation to complete before returning control to the user.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  SCRUB REPAIR WAIT;</pre><p><span class="bold">Dismounting a Disk Group: Example</span></p>
                  <p>To dismount a disk group, <code class="codeph">dgroup_01</code>, issue the following statement. This statement dismounts the disk group even if one or more files are active:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  DISMOUNT FORCE;</pre><p><span class="bold">Mounting a Disk Group: Example</span></p>
                  <p>To mount a disk group, <code class="codeph">dgroup_01</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP dgroup_01
  MOUNT;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="03372.oracle-database-vault-general-administrative-apis.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_MACADM PL/SQL package and the CONFIGURE_DV standalone procedure enable you to you perform general maintenance tasks."></meta>
      <meta name="description" content="The DBMS_MACADM PL/SQL package and the CONFIGURE_DV standalone procedure enable you to you perform general maintenance tasks."></meta>
      <title>Oracle Database Vault General Administrative APIs</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="The DBMS_MACADM PL/SQL package and the CONFIGURE_DV standalone procedure enable you to you perform general maintenance tasks."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-vault-utility-apis.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-vault-policy-apis.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-utility-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-database-vault-policy-apis.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault General Administrative APIs</li>
            </ol>
            <a id="GUID-9A01A246-2E1F-47A9-9C66-4A17F994EF90" name="GUID-9A01A246-2E1F-47A9-9C66-4A17F994EF90"></a><a id="DVADM71195"></a>
            
            <h2 id="DVADM-GUID-9A01A246-2E1F-47A9-9C66-4A17F994EF90" class="sect2"><span class="enumeration_chapter">21 </span>Oracle Database Vault General Administrative APIs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_MACADM</code> PL/SQL package and the <code class="codeph">CONFIGURE_DV</code> standalone procedure enable you to you perform general maintenance tasks.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C">DBMS_MACADM General System Maintenance Procedures</a><br>The <code class="codeph">DBMS_MACADM</code> PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E">CONFIGURE_DV General System Maintenance Procedure</a><br>The <code class="codeph">CONFIGURE_DV</code> procedure configures the initial two Oracle Database user accounts, which are granted the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles, respectively. 
                  </li>
               </ul>
            </div>
            <a id="DVADM70710"></a><div class="props_rev_3"><a id="GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" name="GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C"></a><h3 id="DVADM-GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" class="sect3">DBMS_MACADM General System Maintenance Procedures</h3>
               <div>
                  <p>The <code class="codeph">DBMS_MACADM</code> PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-13C973A2-03F7-444A-9E29-458D762D80B8">ADD_APP_EXCEPTION Procedure</a><br>The <code class="codeph">ADD_APP_EXCEPTION</code> procedure enables a common user or package to access local schemas. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-3A615710-02E5-4E14-AD42-40131B0805FE">ADD_NLS_DATA Procedure</a><br>The <code class="codeph">ADD_NLS_DATA</code> procedure adds a new language to Oracle Database Vault.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-DB9AA939-D18D-407D-B2E4-4CA038992589">AUTHORIZE_DATAPUMP_USER Procedure</a><br>The <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure authorizes a user to perform Oracle Data Pump operations when Oracle Database Vault is enabled. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-8245155D-463D-4969-BD06-8C1868525604">AUTHORIZE_DBCAPTURE Procedure</a><br>The <code class="codeph">AUTHORIZE_DBCAPTURE</code> procedure grants a user authorization to perform Oracle Database Replay workload capture operations. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED">AUTHORIZE_DBREPLAY Procedure</a><br>The <code class="codeph">AUTHORIZE_DBREPLAY</code> procedure grants a user authorization to perform Oracle Database Replay workload replay operations. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF">AUTHORIZE_DDL Procedure</a><br>The <code class="codeph">AUTHORIZE_DDL</code> procedure grants a user authorization to execute Data Definition Language (DDL) statements on the specified schema.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE">AUTHORIZE_MAINTENANCE_USER Procedure</a><br>The <code class="codeph">AUTHORIZE_MAINTENANCE_USER</code> procedure grants a user authorization to perform Information Lifecycle Management (ILM) operations in an Oracle Database Vault environment. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08">AUTHORIZE_PREPROCESSOR Procedure</a><br>The <code class="codeph">AUTHORIZE_PREPROCESSOR</code> procedure grants a user authorization to execute preprocessor programs through external tables. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8">AUTHORIZE_PROXY_USER Procedure</a><br>The <code class="codeph">AUTHORIZE_PROXY_USER</code> procedure grants a proxy user authorization to proxy other user accounts, as long as the proxy user has database authorization. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5">AUTHORIZE_SCHEDULER_USER Procedure</a><br>The <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure grants a user authorization to schedule database jobs when Oracle Database Vault is enabled. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-EC41007D-D62E-48F6-A180-4A96DDF39811">AUTHORIZE_TTS_USER Procedure</a><br>The <code class="codeph">AUTHORIZE_TTS_USER</code> procedure authorizes a user to perform Oracle Data Pump transportable tablespace operations for a tablespace when Oracle Database Vault is enabled. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D">DELETE_APP_EXCEPTION Procedure</a><br>The <code class="codeph">DELETE_APP_EXCEPTION</code> procedure removes a common user or a common user's package from the Database Vault operations control exception list. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-94612D83-E2F9-4AFD-8D05-010458EEA911">DISABLE_APP_PROTECTION Procedure</a><br>The <code class="codeph">DISABLE_APP_PROTECTION</code> procedure disables Database Vault operations control. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-53D5A365-C7D6-4B34-87CF-480587C50B59">DISABLE_DV Procedure</a><br>The <code class="codeph">DISABLE_DV</code> procedure disables Oracle Database Vault. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052">DISABLE_DV_DICTIONARY_ACCTS Procedure</a><br>The <code class="codeph">DISABLE_DV_DICTIONARY_ACCTS</code> procedure prevents any user from logging into the database as the <code class="codeph">DVSYS</code> or <code class="codeph">DVF</code> schema user. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264">DISABLE_DV_PATCH_ADMIN_AUDIT Procedure</a><br>The <code class="codeph">DISABLE_DV_PATCH_ADMIN_AUDIT</code> procedure disables realm, command rule, and rule set auditing of the actions by users who have the <code class="codeph">DV_PATCH_ADMIN</code> role.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5">DISABLE_ORADEBUG Procedure</a><br>The <code class="codeph">DISABLE_ORADEBUG</code> procedure disables the use of the <code class="codeph">ORADEBUG</code> utility in an Oracle Database Vault environment. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55">ENABLE_APP_PROTECTION Procedure</a><br>The <code class="codeph">ENABLE_APP_PROTECTION</code> procedure enables Database Vault operations control. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-2C1B589A-6B40-48F4-AE61-D47C20231418">ENABLE_DV Procedure</a><br>The <code class="codeph">ENABLE_DV</code> procedure enables Oracle Database Vault and Oracle Label Security. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-0E38F962-9D44-4F93-B013-B54D343F1E81">ENABLE_DV_DICTIONARY_ACCTS Procedure</a><br>The <code class="codeph">ENABLE_DV_DICTIONARY_ACCTS</code> procedure enables users to log into the database as the <code class="codeph">DVSYS</code> or <code class="codeph">DVF</code> user. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-EE7BE4F9-928F-48DE-988A-3874CC647174">ENABLE_DV_PATCH_ADMIN_AUDIT Procedure</a><br>The <code class="codeph">ENABLE_DV_PATCH_ADMIN_AUDIT</code> procedure enables realm, command rule, and rule set auditing of the actions by users who have the <code class="codeph">DV_PATCH_ADMIN</code> role. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6">ENABLE_ORADEBUG Procedure</a><br>The <code class="codeph">ENABLE_ORADEBUG</code> procedure enables the use of the <code class="codeph">ORADEBUG</code> utility in an Oracle Database Vault environment. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B">UNAUTHORIZE_DATAPUMP_USER Procedure</a><br>The <code class="codeph">UNAUTHORIZE_DATAPUMP_USER</code> procedure revokes the authorization that was granted by the <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF">UNAUTHORIZE_DBCAPTURE Procedure</a><br>The <code class="codeph">UNAUTHORIZE_DBCAPTURE</code> procedure revokes authorization from users to perform Oracle Database Replay workload capture operations. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A">UNAUTHORIZE_DBREPLAY Procedure</a><br>The <code class="codeph">UNAUTHORIZE_DBREPLAY</code> procedure revokes authorization from users to perform Oracle Database Replay workload replay operations. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6">UNAUTHORIZE_DDL Procedure</a><br>The <code class="codeph">UNAUTHORIZE_DDL</code> procedure revokes authorization from a user who was granted authorization to execute DDL statements through the <code class="codeph">DBMS_MACDM.AUTHORIZE_DDL</code> procedure. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-87BD15C7-0368-4603-8F72-362615FDB86B">UNAUTHORIZE_MAINTENANCE_USER Procedure</a><br>The <code class="codeph">UNAUTHORIZE_MAINTENANCE_USER</code> procedure revokes privileges from users who have been granted authorization to perform Information Lifecycle Management (ILM) operations in an Oracle Database Vault environment. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4">UNAUTHORIZE_PREPROCESSOR Procedure</a><br>The <code class="codeph">UNAUTHORIZE_PREPROCESSOR</code> procedure revokes authorization from a user to execute preprocessor programs through external tables. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140">UNAUTHORIZE_PROXY_USER Procedure</a><br>The <code class="codeph">UNAUTHORIZE_PROXY_USER</code> procedure revokes authorization from a user who was granted proxy authorization from the <code class="codeph">DBMS_MACADM.AUTHORIZE_PROXY_USER</code> procedure. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8">UNAUTHORIZE_SCHEDULER_USER Procedure</a><br>The <code class="codeph">UNAUTHORIZE_SCHEDULER_USER</code> procedure revokes the authorization that was granted by the <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-general-administrative-apis.html#GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678">UNAUTHORIZE_TTS_USER Procedure</a><br>The <code class="codeph">UNAUTHORIZE_TTS_USER</code> procedure removes from authorization users who had previously been granted the authorization to perform Oracle Data Pump transportable tablespace operations. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-9A01A246-2E1F-47A9-9C66-4A17F994EF90" title="The DBMS_MACADM PL/SQL package and the CONFIGURE_DV standalone procedure enable you to you perform general maintenance tasks.">Oracle Database Vault General Administrative APIs</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-13C973A2-03F7-444A-9E29-458D762D80B8" name="GUID-13C973A2-03F7-444A-9E29-458D762D80B8"></a><h4 id="DVADM-GUID-13C973A2-03F7-444A-9E29-458D762D80B8" class="sect4">ADD_APP_EXCEPTION Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ADD_APP_EXCEPTION</code> procedure enables a common user or package to access local schemas. 
                     </p>
                     <div class="section">
                        <p>Use this procedure when you are configuring Database Vault operations control to automatically restrict common users from accessing pluggable database (PDB) local data. The procedure applies to the entire container, so you must run it from the CDB root. When the exception is for a package, then owner statements from the given package can access local schemas. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C973A2-03F7-444A-9E29-458D762D80B8__TITLE_YVX_KV5_P2B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ADD_APP_EXCEPTION(
  owner         IN VARCHAR2,
  package_name  IN VARCHAR2);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C973A2-03F7-444A-9E29-458D762D80B8__TITLE_GTH_DCV_P2B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-13C973A2-03F7-444A-9E29-458D762D80B8__TABLE_KV2_HDV_P2B">
                        <p class="titleintable">Table 21-1 ADD_APP_EXCEPTION</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_APP_EXCEPTION" width="100%" border="1" summary="ADD_APP_EXCEPTION" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e690">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e693">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e698" headers="d101071e690 ">
                                    <p><code class="codeph">owner</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e698 d101071e693 ">
                                    <p>Name of the user who you want to add as an exception</p>
                                    <p>To find a list of available common users, query the <code class="codeph">USERNAME</code> and <code class="codeph">COMMON</code> columns of the <code class="codeph">DBA_USERS</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e718" headers="d101071e690 ">
                                    <p><code class="codeph">package_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e718 d101071e693 ">
                                    <p>Name of the package that you want to add as an exception if you want to specify a package instead of the entire user account. This package must be owned by the user specified in the <code class="codeph">user</code> parameter.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C973A2-03F7-444A-9E29-458D762D80B8__TITLE_CFS_WV5_P2B">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ADD_APP_EXCEPTION ('C##HR_ADMIN'); <span class="italic">--Applies to the user c##hr_admin</span>

EXEC DBMS_MACADM.ADD_APP_EXCEPTION('C##HR_ADMIN', 'validateHRdata'); <span class="italic">--Applies to the package validateHRdata</span>
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-00868C98-FC37-49BC-B867-558B9FB27B6A" title="Common users and applications that must access PDB local data can be added to an exception list.">Adding Common Users and Packages to an Exception List</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55" title="The ENABLE_APP_PROTECTION procedure enables Database Vault operations control.">ENABLE_APP_PROTECTION Procedure</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-94612D83-E2F9-4AFD-8D05-010458EEA911" title="The DISABLE_APP_PROTECTION procedure disables Database Vault operations control.">DISABLE_APP_PROTECTION Procedure</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D" title="The DELETE_APP_EXCEPTION procedure removes a common user or a common user&#39;s package from the Database Vault operations control exception list.">DELETE_APP_EXCEPTION Procedure</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71212"></a><a id="DVADM71213"></a><a id="DVADM71214"></a><a id="DVADM71215"></a><a id="DVADM71211"></a><div class="props_rev_3"><a id="GUID-3A615710-02E5-4E14-AD42-40131B0805FE" name="GUID-3A615710-02E5-4E14-AD42-40131B0805FE"></a><h4 id="DVADM-GUID-3A615710-02E5-4E14-AD42-40131B0805FE" class="sect4">ADD_NLS_DATA Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ADD_NLS_DATA</code> procedure adds a new language to Oracle Database Vault.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3A615710-02E5-4E14-AD42-40131B0805FE__GUID-6B1B4B5A-0980-4361-800A-4905CDFE0ED8">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ADD_NLS_DATA(
  language      IN VARCHAR );
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A615710-02E5-4E14-AD42-40131B0805FE__GUID-5C31D179-EAC2-4287-8E51-BEF601968ADF">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3A615710-02E5-4E14-AD42-40131B0805FE__ADD_NLS_DATA-0910CEA4">
                        <p class="titleintable">Table 21-2 ADD_NLS_DATA</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_NLS_DATA" width="100%" border="1" summary="AUTHORIZE_DATAPUMP_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e896">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e899">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e904" headers="d101071e896 ">
                                    <p><code class="codeph">language</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e904 d101071e899 ">
                                    <p>Enter one of the following settings. (This parameter is case insensitive.)</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">ENGLISH</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">GERMAN</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SPANISH</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FRENCH</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ITALIAN</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">JAPANESE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">KOREAN</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">BRAZILIAN PORTUGUESE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SIMPLIFIED CHINESE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">TRADITIONAL CHINESE</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A615710-02E5-4E14-AD42-40131B0805FE__GUID-01B283DE-E12E-406C-9B31-7BDEC1732983">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ADD_NLS_DATA('french');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70713"></a><a id="DVADM70714"></a><a id="DVADM70715"></a><a id="DVADM70716"></a><a id="DVADM70712"></a><div class="props_rev_3"><a id="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589" name="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589"></a><h4 id="DVADM-GUID-DB9AA939-D18D-407D-B2E4-4CA038992589" class="sect4">AUTHORIZE_DATAPUMP_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure authorizes a user to perform Oracle Data Pump operations when Oracle Database Vault is enabled. 
                     </p>
                     <div class="section">
                        <p>It applies to both the <code class="codeph">expdp</code> and <code class="codeph">impdp</code> utilities.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589__GUID-F11B1499-B866-491C-95F2-006D7A987656">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_DATAPUMP_USER(
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2 DEFAULT NULL,
  table_name     IN VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589__GUID-945BF8A5-30E1-4E47-A9E9-33A7792DE712">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589__AUTHORIZE_DATAPUMP_USER-0910D1CA">
                        <p class="titleintable">Table 21-3 AUTHORIZE_DATAPUMP_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_DATAPUMP_USER" width="100%" border="1" summary="AUTHORIZE_DATAPUMP_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1091">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1094">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1099" headers="d101071e1091 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1099 d101071e1094 ">
                                    <p>Name of the Oracle Data Pump user to whom you want to grant authorization. </p>
                                    <p>To find a list of users who have privileges to use Oracle Data Pump (that is, the <code class="codeph">EXP_FULL_DATABASE</code> and <code class="codeph">IMP_FULL_DATABASE</code> roles), query the <code class="codeph">DBA_ROLE_PRIVS</code> data dictionary view as follows:
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT GRANTEE, GRANTED_ROLE FROM DBA_ROLE_PRIVS WHERE GRANTED_ROLE LIKE '%FULL%'</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1121" headers="d101071e1091 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1121 d101071e1094 ">
                                    <p>Name of the database schema that the Oracle Data Pump user must export or import. If you omit this parameter, then the user is granted global authorization to export and import any schema in the database. In this case, ensure the user has been granted the <code class="codeph">DV_OWNER</code> role.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1133" headers="d101071e1091 ">
                                    <p><code class="codeph">table_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1133 d101071e1094 ">
                                    <p>Name of the table within the schema specified by the <code class="codeph">schema_name</code> parameter. If you omit this parameter, then the user you specified can export and import all tables within the schema specified by the <code class="codeph">schema_name</code> parameter. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB9AA939-D18D-407D-B2E4-4CA038992589__GUID-4CFA44E5-FFAB-4CE3-9ABD-DA72B6CD366A">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER('DP_MGR');

EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER('DP_MGR', 'HR');

EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER('DP_MGR', 'HR', 'EMPLOYEES'); </pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-FAFC06B4-CE1A-4A26-9B3B-F55566E1431D" title="You can use different authorization types for administrators who perform Oracle Data Pump export and import operations in a Database Vault environment.">Authorizing Users or Roles for Data Pump Regular Export and Import Operations</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8245155D-463D-4969-BD06-8C1868525604" name="GUID-8245155D-463D-4969-BD06-8C1868525604"></a><h4 id="DVADM-GUID-8245155D-463D-4969-BD06-8C1868525604" class="sect4">AUTHORIZE_DBCAPTURE Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_DBCAPTURE</code> procedure grants a user authorization to perform Oracle Database Replay workload capture operations. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DBCAPTURE_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-8245155D-463D-4969-BD06-8C1868525604__SYNTAX-17C81EA0">
                        <p class="subhead3" id="GUID-8245155D-463D-4969-BD06-8C1868525604__SYNTAX-17C821CD">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_DBCAPTURE(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-8245155D-463D-4969-BD06-8C1868525604__PARAMETERS-17C65155">
                        <p class="subhead3" id="GUID-8245155D-463D-4969-BD06-8C1868525604__GUID-E3CF11FB-E6ED-436D-976D-480A49C07179">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8245155D-463D-4969-BD06-8C1868525604__AUTHORIZE_DDL-17C65517">
                        <p class="titleintable">Table 21-4 AUTHORIZE_DBCAPTURE</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_DBCAPTURE" width="100%" border="1" summary="AUTHORIZE_DBCAPTURE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1283">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1286">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1291" headers="d101071e1283 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1291 d101071e1286 ">
                                    <p>Name of the user to whom you want to grant Database Replay workload capture authorization</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-8245155D-463D-4969-BD06-8C1868525604__GUID-B0209F32-EAD0-4A9C-BECA-5A00A1061AEE">
                        <p class="titleinexample">Example 21-1 Example</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DBCAPTURE('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED" name="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED"></a><h4 id="DVADM-GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED" class="sect4">AUTHORIZE_DBREPLAY Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_DBREPLAY</code> procedure grants a user authorization to perform Oracle Database Replay workload replay operations. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DBREPLAY_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED__SYNTAX-17C814C5">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_DBREPLAY(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED__PARAMETERS-17C7132B">
                        <p class="subhead3" id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED__PARAMETERS-17C71560">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED__AUTHORIZE_DBREPLAY-17C718A1">
                        <p class="titleintable">Table 21-5 AUTHORIZE_DBREPLAY</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_DBREPLAY" width="100%" border="1" summary="AUTHORIZE_DBREPLAY" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1429">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1432">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1437" headers="d101071e1429 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1437 d101071e1432 ">
                                    <p>Name of the user to whom you want to grant Database Replay workload replay authorization</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-78A1E356-4B42-42FF-9CC2-657A9637F1ED__EXAMPLE-17C71E73">
                        <p class="titleinexample">Example 21-2 Example</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DBREPLAY('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71291"></a><a id="DVADM71292"></a><a id="DVADM71293"></a><a id="DVADM71294"></a><a id="DVADM71290"></a><div class="props_rev_3"><a id="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF" name="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF"></a><h4 id="DVADM-GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF" class="sect4">AUTHORIZE_DDL Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_DDL</code> procedure grants a user authorization to execute Data Definition Language (DDL) statements on the specified schema.
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DDL_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF__GUID-AF4849AC-6D17-4996-AC05-47CB60DBAB43">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_DDL(
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF__GUID-E3CF11FB-E6ED-436D-976D-480A49C07179">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF__AUTHORIZE_DDL-0910D526">
                        <p class="titleintable">Table 21-6 AUTHORIZE_DDL</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_DDL" width="100%" border="1" summary="AUTHORIZE_DDL" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1587">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1590">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1595" headers="d101071e1587 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1595 d101071e1590 ">
                                    <p>Name of the user to whom you want to grant DDL authorization. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1604" headers="d101071e1587 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1604 d101071e1590 ">
                                    <p>Name of the database schema in which the user wants to perform the DDL statements. Enter <code class="codeph">%</code> to specify all schemas.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B0360F9-C612-4374-8B05-DBAD2A255FDF__GUID-0509530C-C067-40EE-8CD7-9641D01FAFE5">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables user <code class="codeph">psmith</code> to execute DDL statements in any schema:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DDL('psmith', '%');
</pre><p>This example enables user <code class="codeph">psmith</code> to execute DDL statements in the <code class="codeph">HR</code> schema only. 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DDL('psmith', 'HR');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE" name="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE"></a><h4 id="DVADM-GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE" class="sect4">AUTHORIZE_MAINTENANCE_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_MAINTENANCE_USER</code> procedure grants a user authorization to perform Information Lifecycle Management (ILM) operations in an Oracle Database Vault environment. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_MAINTENANCE_AUTH</code> view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE__SYNTAX-F3DDC005">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_MAINTENANCE_USER(
 uname        IN VARCHAR2,
 sname        IN VARCHAR2 DEFAULT NULL,
 objname      IN VARCHAR2 DEFAULT NULL,
 objtype      IN VARCHAR2 DEFAULT NULL,
 action       IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE__PARAMETERS-F3DDC58D">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE__AUTHORIZE_PROXY_USER-F3DDC921">
                        <p class="titleintable">Table 21-7 AUTHORIZE_MAINTENANCE_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_MAINTENANCE_USER" width="100%" border="1" summary="AUTHORIZE_MAINTENANCE_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1767">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1770">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1775" headers="d101071e1767 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1775 d101071e1770 ">
                                    <p>Name of the user to whom you want to grant authorization </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1784" headers="d101071e1767 ">
                                    <p><code class="codeph">sname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1784 d101071e1770 ">
                                    <p>Name of the database schema for which the maintenance operations are to be performed. Enter <code class="codeph">%</code> to specify all schemas. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1796" headers="d101071e1767 ">
                                    <p><code class="codeph">objname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1796 d101071e1770 ">
                                    <p>Name of the object (such as the name of a table) in the schema that is specified in the <code class="codeph">sname</code> parameter for which maintenance operations are to be performed
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1808" headers="d101071e1767 ">
                                    <p><code class="codeph">objtype</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1808 d101071e1770 ">
                                    <p>Type of the <code class="codeph">objname</code> object, such as <code class="codeph">table</code>, <code class="codeph">index</code>, <code class="codeph">tablespace</code>, and so on
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1829" headers="d101071e1767 ">
                                    <p><code class="codeph">action</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1829 d101071e1770 ">
                                    <p>Maintenance action. Enter <code class="codeph">ilm</code> for Information Lifecycle Management
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3EF48B6-79D7-476A-9AC6-FFCD39D53EDE__EXAMPLES-F3DDCF44">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables user <code class="codeph">psmith</code> to have Database Vault authorization to manage ILM features for the <code class="codeph">HR.EMPLOYEES</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_MACADM.AUTHORIZE_MAINTENANCE_USER (
  uname       =&gt; 'psmith', 
  sname       =&gt; 'HR', 
  objname     =&gt; 'EMPLOYEES',
  objtype     =&gt; 'TABLE', 
  action      =&gt; 'ILM');
END;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-886F7C9A-74A1-476F-85A4-300269EAF5CA" title="Users who perform Information Lifecycle Management operations on an Oracle Database Vault-enabled database must be granted authorization to perform these operations.">Using Information Lifecycle Management with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08" name="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08"></a><h4 id="DVADM-GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08" class="sect4">AUTHORIZE_PREPROCESSOR Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_PREPROCESSOR</code> procedure grants a user authorization to execute preprocessor programs through external tables. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_PREPROCESSOR_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__SYNTAX-3E068DB3">
                        <p class="subhead3" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__SYNTAX-3E069105">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_PREPROCESSOR(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__PARAMETERS-3E06971B">
                        <p class="subhead3" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__GUID-E3CF11FB-E6ED-436D-976D-480A49C07179">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__AUTHORIZE_PREPROCESSOR-3E069A6F">
                        <p class="titleintable">Table 21-8 AUTHORIZE_PREPROCESSOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_PREPROCESSOR" width="100%" border="1" summary="AUTHORIZE_PREPROCESSOR" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e1985">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e1988">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e1993" headers="d101071e1985 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e1993 d101071e1988 ">
                                    <p>Name of the user to whom you want to grant authorization to execute preprocessor programs through external tables</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-51A04808-7FEC-4D42-95D6-FB795D52DB08__EXAMPLE-3E06A1B9">
                        <p class="titleinexample">Example 21-3 Example</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_PREPROCESSOR('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-BE6E030C-1563-4932-A9B4-B756C6FED1EB" title="Users who execute preprocessor programs through external tables must have Oracle Database Vault-specific authorization.">Executing Preprocessor Programs with Oracle Database Vault</a></li>
                           <li><a href="oracle-database-vault-data-dictionary-views.html#GUID-B67A1257-9C1E-409C-8C70-D24CECEFAB01" title="The DBA_DV_PREPROCESSOR_AUTH data dictionary view shows users who have been granted authorization to execute preprocessor programs through external tables.">DBA_DV_PREPROCESSOR_AUTH View</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71296"></a><a id="DVADM71297"></a><a id="DVADM71298"></a><a id="DVADM71299"></a><a id="DVADM71295"></a><div class="props_rev_3"><a id="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8" name="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8"></a><h4 id="DVADM-GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8" class="sect4">AUTHORIZE_PROXY_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_PROXY_USER</code> procedure grants a proxy user authorization to proxy other user accounts, as long as the proxy user has database authorization. 
                     </p>
                     <div class="section">
                        <p>For example, the <code class="codeph">CREATE SESSION</code> privilege is a valid database authorization. 
                        </p>
                        <p><code class="codeph">AUTHORIZE_PROXY_USER</code> does not control whether a particular user can connect as a proxy of another user. That part is controlled by <code class="codeph">GRANT CONNECT THROUGH</code>, which can be issued only by the a user who has the <code class="codeph">DV_ACCTMGR</code> role. Instead, <code class="codeph">AUTHORIZE_PROXY_USER</code> controls whether the proxy user is allowed to assume all the Database Vault authorizations that the target user has. For example, suppose that the proxy user <code class="codeph">hr_proxy_user</code> successfully connects as user <code class="codeph">HR</code>. Now being <code class="codeph">HR</code>, <code class="codeph">hr_proxy_user</code> can access all the objects to which <code class="codeph">HR</code> has access. However, if the target objects are Database Vault protected and <code class="codeph">HR</code> is authorized to access it, <code class="codeph">hr_proxy_user</code> can access the objects if and only if <code class="codeph">hr_proxy_user</code> is proxy-authorized for <code class="codeph">HR</code>. If <code class="codeph">hr_proxy_user</code> is not proxy-authorized for <code class="codeph">HR</code>, then even after connecting as <code class="codeph">HR</code>, <code class="codeph">hr_proxy_user</code> cannot access the Database Vault-protected objects for which <code class="codeph">HR</code> is authorized.
                        </p>
                        <p>To find information about users who have been granted authorization using <code class="codeph">AUTHORIZE_PROXY_USER</code>, query the <code class="codeph">DBA_DV_PROXY_AUTH</code> view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8__GUID-3B558A0F-E900-48AC-ABC6-C3ED128B1E9B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_PROXY_USER(
  proxy_user   IN VARCHAR2,
  user_name    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8__GUID-4419B236-B245-4833-B8F5-FBBA01EC4791">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8__AUTHORIZE_PROXY_USER-0910D864">
                        <p class="titleintable">Table 21-9 AUTHORIZE_PROXY_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_PROXY_USER" width="100%" border="1" summary="AUTHORIZE_PROXY_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e2218">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e2221">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2226" headers="d101071e2218 ">
                                    <p><code class="codeph">proxy_user</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2226 d101071e2221 ">
                                    <p>Name of the proxy user. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2235" headers="d101071e2218 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2235 d101071e2221 ">
                                    <p>Name of the database user who will be proxied by the <code class="codeph">proxy_user</code> user. Enter <code class="codeph">%</code> to specify all users.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41304AC5-32F0-42D1-99A5-D2E1A2784DE8__GUID-B3F23138-BF87-4036-8F66-2D49B566CBA4">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables proxy user <code class="codeph">preston</code> to proxy all users:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_PROXY_USER('preston', '%');
</pre><p>This example enables proxy user <code class="codeph">preston</code> to proxy database user <code class="codeph">dkent</code> only. 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_PROXY_USER('preston', 'dkent');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70718"></a><a id="DVADM70719"></a><a id="DVADM70720"></a><a id="DVADM70721"></a><a id="DVADM70717"></a><div class="props_rev_3"><a id="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5" name="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5"></a><h4 id="DVADM-GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5" class="sect4">AUTHORIZE_SCHEDULER_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure grants a user authorization to schedule database jobs when Oracle Database Vault is enabled. 
                     </p>
                     <div class="section">
                        <p>This authorization applies to anyone who has privileges to schedule database jobs.
                These privileges include any of the following: <code class="codeph">CREATE JOB</code>,
                    <code class="codeph">CREATE ANY JOB</code>, <code class="codeph">CREATE EXTERNAL JOB</code>,
                    <code class="codeph">EXECUTE ANY PROGRAM</code>, <code class="codeph">EXECUTE ANY CLASS</code>,
                    <code class="codeph">MANAGE SCHEDULER</code>.  
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5__GUID-47840F72-C2E1-41C9-B8E4-BD746B638B5A">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_SCHEDULER_USER(
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5__GUID-59A4B491-0A7E-48A7-BC70-69315A7EA92E">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5__AUTHORIZE_SCHEDULER_USER-0910DBE0">
                        <p class="titleintable">Table 21-10 AUTHORIZE_SCHEDULER_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_SCHEDULER_USER" width="100%" border="1" summary="AUTHORIZE_SCHEDULER_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e2411">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e2414">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2419" headers="d101071e2411 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2419 d101071e2414 ">
                                    <p>Name of the user to whom you want to grant authorization. </p>
                                    <p>To find a list of users who have privileges (for example, <code class="codeph">CREATE JOB</code>
                                and <code class="codeph">CREATE ANY JOB</code>) to schedule jobs, query the
                                    <code class="codeph">GRANTEE</code> and <code class="codeph">PRIVILEGE</code> columns
                                of the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2445" headers="d101071e2411 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2445 d101071e2414 ">
                                    <p>Name of the database schema for which a job will be scheduled. If you omit this parameter, then the user is granted global authorization to schedule a job for any schema in the database. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-72FC758D-9427-4BCB-93DD-8EF86A4D6DF5__GUID-B033AD74-7457-469B-AA9C-B8BAE137AC85">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example authorizes the user <code class="codeph">JOB_MGR</code> to run a job under any schema. 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_SCHEDULER_USER('JOB_MGR');
</pre><p>This example authorizes user <code class="codeph">JOB_MGR</code> to run a job under the <code class="codeph">HR</code> schema only.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_SCHEDULER_USER('JOB_MGR', 'HR');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-7B4B7730-24EC-4346-A8EF-536204F1E07D" title="Users who are responsible for scheduling database jobs must have Oracle Database Vault-specific authorization.">Using Oracle Scheduler with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71339"></a><a id="DVADM71340"></a><a id="DVADM71341"></a><a id="DVADM71342"></a><a id="DVADM71338"></a><div class="props_rev_3"><a id="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811" name="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811"></a><h4 id="DVADM-GUID-EC41007D-D62E-48F6-A180-4A96DDF39811" class="sect4">AUTHORIZE_TTS_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">AUTHORIZE_TTS_USER</code> procedure authorizes a user to perform Oracle Data Pump transportable tablespace operations for a tablespace when Oracle Database Vault is enabled. 
                     </p>
                     <div class="section">
                        <p>It applies to both the <code class="codeph">EXPDP</code> and <code class="codeph">IMPDP</code> utilities.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811__GUID-E4BA0816-1481-4C93-BDF1-9DC91E3B4F05">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.AUTHORIZE_TTS_USER(
  uname      IN VARCHAR2,
  tsname     IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811__GUID-0039FA07-A19A-498E-BD57-67F8D6CB7733">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811__AUTHORIZE_TTS_USER-0910DF72">
                        <p class="titleintable">Table 21-11 AUTHORIZE_TTS_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AUTHORIZE_TTS_USER" width="100%" border="1" summary="AUTHORIZE_TTS_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d101071e2617">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d101071e2620">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e2625" headers="d101071e2617 ">
                                    <p><code class="codeph">uname</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e2625 d101071e2620 ">
                                    <p>Name of the user who you want to authorize to perform Oracle Data Pump transportable tablespace operations. </p>
                                    <p>To find a list of users and their current privileges, query the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e2638" headers="d101071e2617 ">
                                    <p><code class="codeph">tsname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e2638 d101071e2620 ">
                                    <p>Name of the tablespace in which the <code class="codeph">uname</code> user is to perform the transportable tablespace operation. 
                                    </p>
                                    <p>To find a list of tablespaces, query the <code class="codeph">DBA_TABLESPACES</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC41007D-D62E-48F6-A180-4A96DDF39811__GUID-5E532DDF-97CB-49AC-A086-F374FBC6F94A">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_TTS_USER('PSMITH', 'HR_TS');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-BE236503-9FC0-4AFA-BA6F-F02BD16552FA" title="You can authorize a database administrator or a role to use Data Pump for regular operations in an Oracle Database Vault environment.">Authorizing Users or Roles for Oracle Data Pump Regular Operations in Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D" name="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D"></a><h4 id="DVADM-GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D" class="sect4">DELETE_APP_EXCEPTION Procedure </h4>
                  <div>
                     <p>The <code class="codeph">DELETE_APP_EXCEPTION</code> procedure removes a common user or a common user's package from the Database Vault operations control exception list. 
                     </p>
                     <div class="section">
                        <p>The exception list allows a user or package to access local PDB data. Removing a user or package from the exception list will block the user or package from accessing PDB local data.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D__TITLE_AJJ_1FV_P2B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DELETE_APP_EXCEPTION(
  owner         IN VARCHAR2,
  package_name  IN VARCHAR2);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D__TITLE_IYF_2FV_P2B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D__AUTHORIZE_DATAPUMP_USER-0910D1CA">
                        <p class="titleintable">Table 21-12 DELETE_APP_EXCEPTION</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_APP_EXCEPTION" width="100%" border="1" summary="DELETE_APP_EXCEPTION" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e2786">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e2789">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2794" headers="d101071e2786 ">
                                    <p><code class="codeph">owner</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2794 d101071e2789 ">
                                    <p>Name of the user who you want to remove from being an exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2803" headers="d101071e2786 ">
                                    <p><code class="codeph">package_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2803 d101071e2789 ">
                                    <p>Name of the package that you want to remove from being an exception</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D26A150-D48F-4B32-A6BE-48CD667ED49D__TITLE_FLS_3FV_P2B">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_APP_EXCEPTION ('C##HR_ADMIN'); <span class="italic">--Applies to the user c##hr_admin</span>

EXEC DBMS_MACADM.DELETE_APP_EXCEPTION('C##HR_ADMIN', 'validateHRdata'); <span class="italic">--Applies to the package validateHRdata</span>
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-00868C98-FC37-49BC-B867-558B9FB27B6A" title="Common users and applications that must access PDB local data can be added to an exception list.">Adding Common Users and Packages to an Exception List</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-13C973A2-03F7-444A-9E29-458D762D80B8" title="The ADD_APP_EXCEPTION procedure enables a common user or package to access local schemas.">ADD_APP_EXCEPTION Procedure</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55" title="The ENABLE_APP_PROTECTION procedure enables Database Vault operations control.">ENABLE_APP_PROTECTION Procedure</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-94612D83-E2F9-4AFD-8D05-010458EEA911" title="The DISABLE_APP_PROTECTION procedure disables Database Vault operations control.">DISABLE_APP_PROTECTION Procedure</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911" name="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911"></a><h4 id="DVADM-GUID-94612D83-E2F9-4AFD-8D05-010458EEA911" class="sect4">DISABLE_APP_PROTECTION Procedure</h4>
                  <div>
                     <p>The <code class="codeph">DISABLE_APP_PROTECTION</code> procedure disables Database Vault operations control. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911__TITLE_SGX_XBV_P2B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DISABLE_APP_PROTECTION(
  pdb_name     IN VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911__TITLE_JZX_2CV_P2B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911__TABLE_SFN_JDV_P2B">
                        <p class="titleintable">Table 21-13 DISABLE_APP_PROTECTION</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DISABLE_APP_PROTECTION" width="100%" border="1" summary="DISABLE_APP_PROTECTION" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e2975">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e2978">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e2983" headers="d101071e2975 ">
                                    <p><code class="codeph">pdb_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e2983 d101071e2978 ">
                                    <p>Name of the pluggable database (PDB) for which you want to disable Database Vault operations control. If you omit this setting, then it applies to all PDBs in the CDB environment.</p>
                                    <p>To find a list of available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94612D83-E2F9-4AFD-8D05-010458EEA911__GUID-4CFA44E5-FFAB-4CE3-9ABD-DA72B6CD366A">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DISABLE_APP_PROTECTION; <span class="italic">--Applies to all PDBs</span>

EXEC DBMS_MACADM.DISABLE_APP_PROTECTION('hr_pdb'); <span class="italic">--Applies to a specific PDB</span>
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-D23A52A4-0556-4F71-9157-6CC081EF7819" title="To disable Database Vault operations control, use the DBMS_MACADM.DISABLE_APP_PROTECTION PL/SQL procedure.">Disabling Database Vault Operations Control</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70733"></a><a id="DVADM70734"></a><a id="DVADM70735"></a><a id="DVADM70732"></a><div class="props_rev_3"><a id="GUID-53D5A365-C7D6-4B34-87CF-480587C50B59" name="GUID-53D5A365-C7D6-4B34-87CF-480587C50B59"></a><h4 id="DVADM-GUID-53D5A365-C7D6-4B34-87CF-480587C50B59" class="sect4">DISABLE_DV Procedure</h4>
                  <div>
                     <p>The <code class="codeph">DISABLE_DV</code> procedure disables Oracle Database Vault. 
                     </p>
                     <div class="section">
                        <p>After you run this procedure, you must restart the database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-53D5A365-C7D6-4B34-87CF-480587C50B59__GUID-8F55D3A6-1E62-4357-9132-4E2AB153EACE">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DISABLE_DV;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-53D5A365-C7D6-4B34-87CF-480587C50B59__GUID-D361ED37-EC81-4FEF-B46B-4FAC4A3AE10F">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-53D5A365-C7D6-4B34-87CF-480587C50B59__GUID-DF73A8B0-4608-4F61-912A-3B27187D0A8A">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DISABLE_DV;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71259"></a><a id="DVADM71260"></a><a id="DVADM71261"></a><a id="DVADM71258"></a><div class="props_rev_3"><a id="GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052" name="GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052"></a><h4 id="DVADM-GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052" class="sect4">DISABLE_DV_DICTIONARY_ACCTS Procedure</h4>
                  <div>
                     <p>The <code class="codeph">DISABLE_DV_DICTIONARY_ACCTS</code> procedure prevents any user from logging into the database as the <code class="codeph">DVSYS</code> or <code class="codeph">DVF</code> schema user. 
                     </p>
                     <div class="section">
                        <p>By default these two accounts are locked. Only a user who has been granted the <code class="codeph">DV_OWNER</code> role can execute this procedure. To find the status of whether users can log into <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code>, query the <code class="codeph">DBA_DV_DICTIONARY_ACCTS</code> data dictionary view. For stronger security, run this procedure to better protect the <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code> schemas. The disablement takes place immediately, so you do not need to restart the database after running this procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052__GUID-AAC06A4C-A932-4221-8883-E6AB0945639C">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052__GUID-6B5F275E-1168-4948-A35E-251C6177C924">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7251C1B9-8A0E-499E-B914-CD8236E3D052__GUID-7E243CAF-A8C7-4941-AA92-14F89014AC87">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.">Archiving and Purging the Oracle Database Vault Audit Trail</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71311"></a><a id="DVADM71312"></a><a id="DVADM71313"></a><a id="DVADM71310"></a><div class="props_rev_3"><a id="GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264" name="GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264"></a><h4 id="DVADM-GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264" class="sect4">DISABLE_DV_PATCH_ADMIN_AUDIT Procedure</h4>
                  <div>
                     <p>The <code class="codeph">DISABLE_DV_PATCH_ADMIN_AUDIT</code> procedure disables realm, command rule, and rule set auditing of the actions by users who have the <code class="codeph">DV_PATCH_ADMIN</code> role.
                     </p>
                     <div class="section">
                        <p>This procedure disables the successful actions of this user, not the failed actions. You should run this procedure after the <code class="codeph">DV_PATCH_ADMIN</code> user has completed database patch operation. To find if auditing is enabled or not, query the <code class="codeph">DBA_DV_PATCH_AUDIT</code> data dictionary view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264__GUID-43F19BAB-FBDF-4F16-9A9D-6626094BFB91">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DISABLE_DV_PATCH_ADMIN_AUDIT;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264__GUID-411CA63A-B5F0-419B-9FF5-0C3609EA7688">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264__GUID-609DC7A0-290D-484D-8261-6CA9E5F58925">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DISABLE_DV_PATCH_ADMIN_AUDIT;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" title="The DV_PATCH_ADMIN role is used for patching operations.">DV_PATCH_ADMIN Database Vault Database Patch Role</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-EE7BE4F9-928F-48DE-988A-3874CC647174" title="The ENABLE_DV_PATCH_ADMIN_AUDIT procedure enables realm, command rule, and rule set auditing of the actions by users who have the DV_PATCH_ADMIN role.">ENABLE_DV_PATCH_ADMIN_AUDIT Procedure</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71263"></a><a id="DVADM71264"></a><a id="DVADM71265"></a><a id="DVADM71262"></a><div class="props_rev_3"><a id="GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5" name="GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5"></a><h4 id="DVADM-GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5" class="sect4">DISABLE_ORADEBUG Procedure</h4>
                  <div>
                     <p>The <code class="codeph">DISABLE_ORADEBUG</code> procedure disables the use of the <code class="codeph">ORADEBUG</code> utility in an Oracle Database Vault environment. 
                     </p>
                     <div class="section">
                        <p>The disablement takes place immediately, so you do not need to restart the database after running this procedure. To find the status of whether the <code class="codeph">ORADEBUG</code> utility is available in Database Vault, query the <code class="codeph">DVYS.DBA_DV_ORADEBUG</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5__GUID-C7E4A67D-0361-4671-A4BC-64973AC84EB0">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DISABLE_ORADEBUG;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5__GUID-945D95D6-A2C8-4DB4-A660-E97F81AE8F9C">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F86EF7D-AEED-4AB5-99CD-BD07EACE11C5__GUID-55CD13C6-6525-4338-91D9-F12476899040">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DISABLE_ORADEBUG;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-C962017D-313C-4AD8-85D5-B0772DAC3313" title="The ORADEBUG utility is used primarily by Oracle Support to diagnose problems that may arise with an Oracle database.">Using the ORADEBUG Utility with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55" name="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55"></a><h4 id="DVADM-GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55" class="sect4">ENABLE_APP_PROTECTION Procedure </h4>
                  <div>
                     <p>The <code class="codeph">ENABLE_APP_PROTECTION</code> procedure enables Database Vault operations control. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55__TITLE_S1Z_22V_P2B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ENABLE_APP_PROTECTION(
  pdb_name     IN VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55__TITLE_CSB_32V_P2B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55__AUTHORIZE_DATAPUMP_USER-0910D1CA">
                        <p class="titleintable">Table 21-14 ENABLE_APP_PROTECTION</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_APP_PROTECTION" width="100%" border="1" summary="ENABLE_APP_PROTECTION" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e3718">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e3721">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e3726" headers="d101071e3718 ">
                                    <p><code class="codeph">pdb_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e3726 d101071e3721 ">
                                    <p>Allows a single PDB to have Database Vault operations control re-enabled after it was disabled. The default is to omit the <code class="codeph">pdb_name</code> setting and then enable operations control across all of the PDBs.
                                    </p>
                                    <p>To find a list of available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61ACD55A-4DB9-47B3-AF81-119066DBEE55__GUID-4CFA44E5-FFAB-4CE3-9ABD-DA72B6CD366A">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_APP_PROTECTION; <span class="italic">--Applies to all PDBs</span>

EXEC DBMS_MACADM.ENABLE_APP_PROTECTION('hr_pdb'); <span class="italic">--Applies to a specific PDB</span>
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3" title="To enable Database Vault operations control, use the DBMS_MACADM.ENABLE_APP_PROTECTION PL/SQL procedure.">Enabling Database Vault Operations Control</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70737"></a><a id="DVADM70738"></a><a id="DVADM70739"></a><a id="DVADM70736"></a><div class="props_rev_3"><a id="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418" name="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418"></a><h4 id="DVADM-GUID-2C1B589A-6B40-48F4-AE61-D47C20231418" class="sect4">ENABLE_DV Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ENABLE_DV</code> procedure enables Oracle Database Vault and Oracle Label Security. 
                     </p>
                     <div class="section">
                        <p>After you run this procedure, you must restart the database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418__GUID-1275F885-95EE-4BD8-B2C4-D50EEC6DB420">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ENABLE_DV(
 strict_mode  IN VARCHAR2 DEFAULT);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418__GUID-DEEAF39A-9D57-4894-9624-91D5C3FBF889">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418__UNAUTHORIZE_DATAPUMP_USER-5EED544A">
                           <p class="titleintable">Table 21-15 ENABLE_DV</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_DV" width="100%" border="1" summary="ENABLE_DV" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d101071e3886">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d101071e3889">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d101071e3894" headers="d101071e3886 ">
                                       <p><code class="codeph">strict_mode</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d101071e3894 d101071e3889 ">
                                       <p>In a multitenant environment, specifies one of the following modes:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">n</code> specifies regular mode, which allows the PDBs to be Database Vault enabled or disabled. (Default)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">y</code> specifies strict mode, which puts the PDBs that have not been Database Vault-enabled in restricted mode, until you enable Database Vault in them and then restart the PDB. 
                                             </p>
                                          </li>
                                       </ul>
                                       <p>To apply this setting to all PDBs in the multitenant environment, run the <code class="codeph">DBMS_MACADM.ENABLE_DV</code> procedure in the CDB root. To apply it to all PDBs in an application container, run the procedure in the application root.
                                       </p>
                                       <p>In a non-multitenant environment, omit this parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C1B589A-6B40-48F4-AE61-D47C20231418__GUID-AF1FA302-A04E-4E43-9C17-C16BAB40BE9D">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables Oracle Database Vault in regular mode.</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_DV;</pre><p>This example enables Oracle Database Vault in strict mode in a multitenant environment.</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_DV (strict_mode =&gt; 'y');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71267"></a><a id="DVADM71268"></a><a id="DVADM71269"></a><a id="DVADM71266"></a><div class="props_rev_3"><a id="GUID-0E38F962-9D44-4F93-B013-B54D343F1E81" name="GUID-0E38F962-9D44-4F93-B013-B54D343F1E81"></a><h4 id="DVADM-GUID-0E38F962-9D44-4F93-B013-B54D343F1E81" class="sect4">ENABLE_DV_DICTIONARY_ACCTS Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ENABLE_DV_DICTIONARY_ACCTS</code> procedure enables users to log into the database as the <code class="codeph">DVSYS</code> or <code class="codeph">DVF</code> user. 
                     </p>
                     <div class="section">
                        <p>By default, the <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code> accounts are locked. 
                        </p>
                        <p>Only a user who has been granted the <code class="codeph">DV_OWNER</code> role can execute this procedure. To find the status of whether users can log into <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code>, query the <code class="codeph">DBA_DV_DICTIONARY_ACCTS</code> data dictionary view. For stronger security, only run this procedure when you need to better protect the <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code> schemas. The enablement takes place immediately, so you do not need to restart the database after running this procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E38F962-9D44-4F93-B013-B54D343F1E81__GUID-D85E311B-5A30-460F-91D4-FA6EFC65B7DC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E38F962-9D44-4F93-B013-B54D343F1E81__GUID-392EC499-A6E8-4F9D-8629-4D8ABCCDF0F6">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E38F962-9D44-4F93-B013-B54D343F1E81__GUID-B8C9E675-8AA7-4D9C-8E5F-38B1ED0371B7">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.">Archiving and Purging the Oracle Database Vault Audit Trail</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71315"></a><a id="DVADM71316"></a><a id="DVADM71317"></a><a id="DVADM71314"></a><div class="props_rev_3"><a id="GUID-EE7BE4F9-928F-48DE-988A-3874CC647174" name="GUID-EE7BE4F9-928F-48DE-988A-3874CC647174"></a><h4 id="DVADM-GUID-EE7BE4F9-928F-48DE-988A-3874CC647174" class="sect4">ENABLE_DV_PATCH_ADMIN_AUDIT Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ENABLE_DV_PATCH_ADMIN_AUDIT</code> procedure enables realm, command rule, and rule set auditing of the actions by users who have the <code class="codeph">DV_PATCH_ADMIN</code> role. 
                     </p>
                     <div class="section">
                        <p>This procedure is designed to audit these users' actions during a patch upgrade. To find if this auditing is enabled or not, query the <code class="codeph">DBA_DV_PATCH_AUDIT</code> data dictionary view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE7BE4F9-928F-48DE-988A-3874CC647174__GUID-4DC3A592-70A5-4E88-8A3B-20E9C4E348CE">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE7BE4F9-928F-48DE-988A-3874CC647174__GUID-EE337A75-D978-4E55-BAFC-ED314AD84969">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE7BE4F9-928F-48DE-988A-3874CC647174__GUID-68FCB72F-5B58-40CB-A623-88D62D8864C5">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" title="The DV_PATCH_ADMIN role is used for patching operations.">DV_PATCH_ADMIN Database Vault Database Patch Role</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-3A0D9953-91ED-4F94-A6BA-A7A7BD980264" title="The DISABLE_DV_PATCH_ADMIN_AUDIT procedure disables realm, command rule, and rule set auditing of the actions by users who have the DV_PATCH_ADMIN role.">DISABLE_DV_PATCH_ADMIN_AUDIT Procedure</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71271"></a><a id="DVADM71272"></a><a id="DVADM71273"></a><a id="DVADM71270"></a><div class="props_rev_3"><a id="GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6" name="GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6"></a><h4 id="DVADM-GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6" class="sect4">ENABLE_ORADEBUG Procedure</h4>
                  <div>
                     <p>The <code class="codeph">ENABLE_ORADEBUG</code> procedure enables the use of the <code class="codeph">ORADEBUG</code> utility in an Oracle Database Vault environment. 
                     </p>
                     <div class="section">
                        <p>The enablement takes place immediately, so you do not need to restart the database after running this procedure. To find the status of whether the <code class="codeph">ORADEBUG</code> utility is available in Database Vault, query the <code class="codeph">DVYS.DBA_DV_ORADEBUG</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6__GUID-C47E335C-7AC8-47FC-A02B-B1C116CFAA7F">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ENABLE_ORADEBUG;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6__GUID-BACA3399-64E2-4B38-A0AE-EDEAFEAB5DCE">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CEFBBEA-4261-47A9-A10B-8043391B09A6__GUID-633E723D-210A-4615-8CEF-556CD1787DEB">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_ORADEBUG;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-C962017D-313C-4AD8-85D5-B0772DAC3313" title="The ORADEBUG utility is used primarily by Oracle Support to diagnose problems that may arise with an Oracle database.">Using the ORADEBUG Utility with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70723"></a><a id="DVADM70724"></a><a id="DVADM70725"></a><a id="DVADM70726"></a><a id="DVADM70722"></a><div class="props_rev_3"><a id="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B" name="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B"></a><h4 id="DVADM-GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B" class="sect4">UNAUTHORIZE_DATAPUMP_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_DATAPUMP_USER</code> procedure revokes the authorization that was granted by the <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure. 
                     </p>
                     <div class="section">
                        <p>When you run this procedure, ensure that its settings correspond exactly to the equivalent <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure. 
                        </p>
                        <p>For example, the following two procedures will work because the parameters are consistent:</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER('DP_MGR');

EXEC DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER('DP_MGR');
</pre><p>However, because the parameters in the following procedures are not consistent, the <code class="codeph">UNAUTHORIZE_DATAPUMP_USER</code> procedure will not work:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER('JSMITH');

EXEC DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER('JSMITH', 'HR');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B__GUID-385F1A50-B8BF-44A2-8E62-71D0FCF198E3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER(
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2 DEFAULT NULL,
  table_name     IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B__GUID-44351E0A-D41E-4F0C-8EE8-24E3905DB500">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B__UNAUTHORIZE_DATAPUMP_USER-0910E3C6">
                        <p class="titleintable">Table 21-16 UNAUTHORIZE_DATAPUMP_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_DATAPUMP_USER" width="100%" border="1" summary="UNAUTHORIZE_DATAPUMP_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d101071e4529">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d101071e4532">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e4537" headers="d101071e4529 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e4537 d101071e4532 ">
                                    <p>Name of the Oracle Data Pump user from whom you want to revoke authorization. </p>
                                    <p>To find a list of users and authorizations from the <code class="codeph">AUTHORIZE_DATAPUMP_USER</code> procedure, query the <code class="codeph">DBA_DV_DATAPUMP_AUTH</code> data dictionary view as follows: 
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DV_DATAPUMP_AUTH;</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e4556" headers="d101071e4529 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e4556 d101071e4532 ">
                                    <p>Name of the database schema that the Oracle Data Pump user is authorized to export or import. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e4565" headers="d101071e4529 ">
                                    <p><code class="codeph">table_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e4565 d101071e4532 ">
                                    <p>Name of the table within the schema specified by the <code class="codeph">schema name</code> parameter. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-416BFDD0-26A6-4859-BC2A-23C4BF89D47B__GUID-4C281423-E62D-4163-BEE1-3565B8943EEF">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER('JSMITH');

EXEC DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER('JSMITH', 'HR');

EXEC DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER('JSMITH', 'HR', 'SALARY');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF" name="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF"></a><h4 id="DVADM-GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF" class="sect4">UNAUTHORIZE_DBCAPTURE Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_DBCAPTURE</code> procedure revokes authorization from users to perform Oracle Database Replay workload capture operations. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DBCAPTURE_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__SYNTAX-17C80C4D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_DBCAPTURE(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__PARAMETERS-17C76E81">
                        <p class="subhead3" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__PARAMETERS-17C772A5">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__UNAUTHORIZE_DBCAPTURE-17C77BE7">
                        <p class="titleintable">Table 21-17 UNAUTHORIZE_DBCAPTURE</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_DBCAPTURE" width="100%" border="1" summary="UNAUTHORIZE_DBCAPTURE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e4706">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e4709">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e4714" headers="d101071e4706 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e4714 d101071e4709 ">
                                    <p>Name of the user from whom you want to revoke Database Replay workload capture authorization</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__EXAMPLE-17C77F82">
                        <p class="titleinexample">Example 21-4 Example</p><pre class="oac_no_warn" id="GUID-56039C2A-667B-47D0-90DE-1DD8A6A6AAAF__EXECDBMS_MACADM.UNAUTHORIZE_DBCAPTU-17C78273" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_DBCAPTURE('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A" name="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A"></a><h4 id="DVADM-GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A" class="sect4">UNAUTHORIZE_DBREPLAY Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_DBREPLAY</code> procedure revokes authorization from users to perform Oracle Database Replay workload replay operations. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DBREPLAY_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__SYNTAX-17C7DD6A">
                        <p class="subhead3" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__SYNTAX-17C7E0CC">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_DBREPLAY(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__PARAMETERS-17C7E516">
                        <p class="subhead3" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__PARAMETERS-17C7E79C">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__UNAUTHORIZE_DBREPLAY-17C7EAAA">
                        <p class="titleintable">Table 21-18 UNAUTHORIZE_DBREPLAY</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_DBREPLAY" width="100%" border="1" summary="UNAUTHORIZE_DBREPLAY" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e4851">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e4854">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e4859" headers="d101071e4851 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e4859 d101071e4854 ">
                                    <p>Name of the user from whom you want to revoke Database Replay workload replay authorization</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__EXAMPLE-17C7F095">
                        <p class="titleinexample">Example 21-5 Example</p><pre class="oac_no_warn" id="GUID-011B43EE-CF7A-401A-A92D-7870DF2DE43A__EXECDBMS_MACADM.UNAUTHORIZE_DBCAPTU-17C78273" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_DBREPLAY('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71301"></a><a id="DVADM71302"></a><a id="DVADM71303"></a><a id="DVADM71304"></a><a id="DVADM71300"></a><div class="props_rev_3"><a id="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6" name="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6"></a><h4 id="DVADM-GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6" class="sect4">UNAUTHORIZE_DDL Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_DDL</code> procedure revokes authorization from a user who was granted authorization to execute DDL statements through the <code class="codeph">DBMS_MACDM.AUTHORIZE_DDL</code> procedure. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_DDL_AUTH</code> data dictionary view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6__GUID-C97BF7A3-0D43-4F2A-ABAE-BBB0436200AE">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_DDL(
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6__GUID-37369788-CD9A-42CF-891A-0B7AF6EEE79E">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6__UNAUTHORIZE_DDL-09111338">
                        <p class="titleintable">Table 21-19 UNAUTHORIZE_DDL</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_DDL" width="100%" border="1" summary="UNAUTHORIZE_DDL" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e5007">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e5010">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5015" headers="d101071e5007 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5015 d101071e5010 ">
                                    <p>Name of the user from whom you want to revoke DDL authorization. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5024" headers="d101071e5007 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5024 d101071e5010 ">
                                    <p>Name of the database schema in which the user wants to perform the DDL statements. Enter <code class="codeph">%</code> specify all schemas.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69641E98-98C3-4FE6-812E-87BC8DBA93E6__GUID-EE2D1980-3270-404F-BC97-661C00ADD669">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example revokes DDL statement execution authorization from user <code class="codeph">psmith</code> for all schemas:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_DDL('psmith', '%');
</pre><p>This example revokes DDL statement execution authorization from user <code class="codeph">psmith</code> for the <code class="codeph">HR</code> schema only. 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_DDL('psmith', 'HR');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-87BD15C7-0368-4603-8F72-362615FDB86B" name="GUID-87BD15C7-0368-4603-8F72-362615FDB86B"></a><h4 id="DVADM-GUID-87BD15C7-0368-4603-8F72-362615FDB86B" class="sect4">UNAUTHORIZE_MAINTENANCE_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_MAINTENANCE_USER</code> procedure revokes privileges from users who have been granted authorization to perform Information Lifecycle Management (ILM) operations in an Oracle Database Vault environment. 
                     </p>
                     <div class="section">
                        <p>To find information about the settings for the ILM authorization, query the <code class="codeph">DBA_DV_MAINTENANCE_AUTH</code> view.
                        </p>
                        <p>When you run this procedure, ensure that its settings correspond exactly to the equivalent <code class="codeph">AUTHORIZE_MAINTENANCE_USER</code> procedure.
                        </p>
                        <p>For example, the following two procedures will work because the parameter settings correspond:</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_MAINTENANCE_USER('psmith', 'OE', 'ORDERS', 'TABLE', 'ILM');
EXEC DBMS_MACADM.UNAUTHORIZE_MAINTENANCE_USER('psmith', 'OE', 'ORDERS', 'TABLE', 'ILM');</pre><p>However, these two statements will fail because the settings do not correspond:</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_MAINTENANCE_USER('psmith', 'OE', 'ORDERS', 'TABLE', 'ILM');

EXEC DBMS_MACADM.UNAUTHORIZE_MAINTENANCE_USER('psmith', '%', '%', '%', 'ILM');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87BD15C7-0368-4603-8F72-362615FDB86B__SYNTAX-F3E2C72F">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_MAINTENANCE_USER(
 uname        IN VARCHAR2,
 sname        IN VARCHAR2 DEFAULT NULL,
 objname      IN VARCHAR2 DEFAULT NULL,
 objtype      IN VARCHAR2 DEFAULT NULL,
 action       IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87BD15C7-0368-4603-8F72-362615FDB86B__PARAMETERS-F3E40089">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-87BD15C7-0368-4603-8F72-362615FDB86B__UNAUTHORIZE_MAINTENANCE_USER-F3E40316">
                        <p class="titleintable">Table 21-20 UNAUTHORIZE_MAINTENANCE_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_MAINTENANCE_USER" width="100%" border="1" summary="UNAUTHORIZE_MAINTENANCE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e5200">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e5203">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5208" headers="d101071e5200 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5208 d101071e5203 ">
                                    <p>Name of the user to whom you want to revoke authorization </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5217" headers="d101071e5200 ">
                                    <p><code class="codeph">sname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5217 d101071e5203 ">
                                    <p>Name of the database schema for which the maintenance operations are performed. Enter <code class="codeph">%</code> to specify all schemas. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5229" headers="d101071e5200 ">
                                    <p><code class="codeph">objname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5229 d101071e5203 ">
                                    <p>Name of the object (such as the name of a table) in the schema that is specified in the <code class="codeph">sname</code> parameter for which maintenance operations are performed
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5241" headers="d101071e5200 ">
                                    <p><code class="codeph">objtype</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5241 d101071e5203 ">
                                    <p>Type of the <code class="codeph">objname</code> object, such as <code class="codeph">table</code>, <code class="codeph">index</code>, <code class="codeph">tablespace</code>, and so on
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5262" headers="d101071e5200 ">
                                    <p><code class="codeph">action</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5262 d101071e5203 ">
                                    <p>Maintenance action. Enter <code class="codeph">ilm</code> for Information Lifecycle Management
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87BD15C7-0368-4603-8F72-362615FDB86B__EXAMPLES-F3E40B71">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example revokes privileges from Database Vault user <code class="codeph">psmith</code> so that she can no longer perform ILM operations in any <code class="codeph">HR</code> schema objects:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_MACADM.UNAUTHORIZE_MAINTENANCE_USER (
  uname       =&gt; 'psmith', 
  sname       =&gt; 'HR', 
  objname     =&gt; 'EMPLOYEES',
  objtype     =&gt; 'TABLE', 
  action      =&gt; 'ILM');
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-886F7C9A-74A1-476F-85A4-300269EAF5CA" title="Users who perform Information Lifecycle Management operations on an Oracle Database Vault-enabled database must be granted authorization to perform these operations.">Using Information Lifecycle Management with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4" name="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4"></a><h4 id="DVADM-GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4" class="sect4">UNAUTHORIZE_PREPROCESSOR Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_PREPROCESSOR</code> procedure revokes authorization from a user to execute preprocessor programs through external tables. 
                     </p>
                     <div class="section">
                        <p>To find information about users who have been granted this authorization, query the <code class="codeph">DBA_DV_PREPROCESSOR_AUTH</code> data dictionary view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__SYNTAX-3E07FEDB">
                        <p class="subhead3" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__SYNTAX-3E069105">Syntax</p><pre class="oac_no_warn" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__DBMS_MACADM.UNAUTHORIZE_PREPROCESSO-3E0809B2" dir="ltr">DBMS_MACADM.UNAUTHORIZE_PREPROCESSOR(
  uname      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__PARAMETERS-3E080F15">
                        <p class="subhead3" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__GUID-E3CF11FB-E6ED-436D-976D-480A49C07179">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__UNAUTHORIZE_PREPROCESSOR-3E081266">
                        <p class="titleintable">Table 21-21 UNAUTHORIZE_PREPROCESSOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_PREPROCESSOR" width="100%" border="1" summary="UNAUTHORIZE_PREPROCESSOR" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e5417">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e5420">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5425" headers="d101071e5417 ">
                                    <p><code class="codeph">uname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5425 d101071e5420 ">
                                    <p>Name of the user from whom you want to revoke authorization to execute preprocessor programs through external tables</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-0381F4B3-8832-4659-9BBC-45844AB1CBA4__EXAMPLE-3E0819C4">
                        <p class="titleinexample">Example 21-6 Example</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_PREPROCESSOR('PFITCH');
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-BE6E030C-1563-4932-A9B4-B756C6FED1EB" title="Users who execute preprocessor programs through external tables must have Oracle Database Vault-specific authorization.">Executing Preprocessor Programs with Oracle Database Vault</a></li>
                           <li><a href="oracle-database-vault-data-dictionary-views.html#GUID-B67A1257-9C1E-409C-8C70-D24CECEFAB01" title="The DBA_DV_PREPROCESSOR_AUTH data dictionary view shows users who have been granted authorization to execute preprocessor programs through external tables.">DBA_DV_PREPROCESSOR_AUTH View</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71306"></a><a id="DVADM71307"></a><a id="DVADM71308"></a><a id="DVADM71309"></a><a id="DVADM71305"></a><div class="props_rev_3"><a id="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140" name="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140"></a><h4 id="DVADM-GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140" class="sect4">UNAUTHORIZE_PROXY_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_PROXY_USER</code> procedure revokes authorization from a user who was granted proxy authorization from the <code class="codeph">DBMS_MACADM.AUTHORIZE_PROXY_USER</code> procedure. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140__GUID-FD4F1CB4-65A1-441C-876E-974178B51242">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_PROXY_USER(
  proxy_user   IN VARCHAR2,
  user_name    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140__GUID-22893033-FC1D-48AD-AB48-A1085C2C0C65">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140__UNAUTHORIZE_PROXY_USER-091116B3">
                        <p class="titleintable">Table 21-22 UNAUTHORIZE_PROXY_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_PROXY_USER" width="100%" border="1" summary="UNAUTHORIZE_PROXY_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d101071e5583">Parameter</th>
                                 <th align="left" valign="bottom" width="78%" id="d101071e5586">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5591" headers="d101071e5583 ">
                                    <p><code class="codeph">proxy_user</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5591 d101071e5586 ">
                                    <p>Name of the proxy user. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d101071e5600" headers="d101071e5583 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d101071e5600 d101071e5586 ">
                                    <p>Name of the database user who was proxied by the <code class="codeph">proxy_user</code> user. Enter <code class="codeph">%</code> to specify all users.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-99CBEAF6-9FFD-4480-9856-A71C2A091140__GUID-6433431C-7E5D-4F5B-BC26-A13F98A240EB">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example revokes proxy authorization from user <code class="codeph">preston</code> for proxying all users:
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_PROXY_USER('preston', '%');
</pre><p>This example revokes proxy authorization from user <code class="codeph">preston</code> for proxying database user <code class="codeph">psmith</code> only. 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_PROXY_USER('preston', 'psmith');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70728"></a><a id="DVADM70729"></a><a id="DVADM70730"></a><a id="DVADM70731"></a><a id="DVADM70727"></a><div class="props_rev_3"><a id="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8" name="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8"></a><h4 id="DVADM-GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8" class="sect4">UNAUTHORIZE_SCHEDULER_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_SCHEDULER_USER</code> procedure revokes the authorization that was granted by the <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure. 
                     </p>
                     <div class="section">
                        <p>When you run this procedure, ensure that its settings correspond exactly to the equivalent <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure. For example, the following two procedures will work because the parameters are consistent:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_SCHEDULER_USER('JOB_MGR');

EXEC DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER('JOB_MGR');
</pre><p>However, because the parameters in the following procedures are not consistent, the <code class="codeph">UNAUTHORIZE_SCHEDULER_USER</code> procedure will not work:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_SCHEDULER_USER('JOB_MGR');

EXEC DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER('JOB_MGR', 'HR');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8__GUID-2FD8DDB0-35FE-4307-89FA-55F5777C8152">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER
  user_name      IN VARCHAR2,
  schema_name    IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8__GUID-FABC3606-462F-465A-B605-4CB3C8D58055">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8__UNAUTHORIZE_SCHEDULER_USER-09111AB4">
                        <p class="titleintable">Table 21-23 UNAUTHORIZE_SCHEDULER_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_SCHEDULER_USER" width="100%" border="1" summary="UNAUTHORIZE_SCHEDULER_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d101071e5772">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d101071e5775">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e5780" headers="d101071e5772 ">
                                    <p><code class="codeph">user_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e5780 d101071e5775 ">
                                    <p>Name of the job scheduling user from whom you want to revoke authorization. </p>
                                    <p>To find a list of users and authorizations from the <code class="codeph">AUTHORIZE_SCHEDULER_USER</code> procedure, query the <code class="codeph">DBA_DV_JOB_AUTH</code> data dictionary view as follows: 
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DV_JOB_AUTH;</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e5799" headers="d101071e5772 ">
                                    <p><code class="codeph">schema_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e5799 d101071e5775 ">
                                    <p>Name of the database schema for which the user is authorized to schedule jobs. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9861403F-0D92-4FBE-8ED3-985DAF60B9F8__GUID-B41516FE-95CD-4EF5-BCF9-F9296AC5B633">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER('JOB_MGR');

EXEC DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER('JOB_MGR', 'HR');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71344"></a><a id="DVADM71345"></a><a id="DVADM71346"></a><a id="DVADM71347"></a><a id="DVADM71343"></a><div class="props_rev_3"><a id="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678" name="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678"></a><h4 id="DVADM-GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678" class="sect4">UNAUTHORIZE_TTS_USER Procedure</h4>
                  <div>
                     <p>The <code class="codeph">UNAUTHORIZE_TTS_USER</code> procedure removes from authorization users who had previously been granted the authorization to perform Oracle Data Pump transportable tablespace operations. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678__GUID-FB1D378E-4C78-40EA-A327-948D8695E108">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNAUTHORIZE_TTS_USER
  uname      IN VARCHAR2,
  tsname     IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678__GUID-A75A96AA-1AD2-4241-A9BA-89662B9E509F">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678__UNAUTHORIZE_TTS_USER-09111E2D">
                        <p class="titleintable">Table 21-24 UNAUTHORIZE_TTS_USER</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNAUTHORIZE_TTS_USER" width="100%" border="1" summary="UNAUTHORIZE_TTS_USER" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d101071e5940">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d101071e5943">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e5948" headers="d101071e5940 ">
                                    <p><code class="codeph">uname</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e5948 d101071e5943 ">
                                    <p>Name of the user who you want to remove from being authorized to perform Oracle Data Pump transportable tablespace operations. </p>
                                    <p>To find a list of users and their current privileges, query the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d101071e5961" headers="d101071e5940 ">
                                    <p><code class="codeph">tsname</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d101071e5961 d101071e5943 ">
                                    <p>Name of the tablespace that is used in the transportable tablespace operation.</p>
                                    <p>To find a list of tablespaces, query the <code class="codeph">DBA_TABLESPACES</code> data dictionary view.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-774B88EA-66A7-47DB-AAD8-8A8212CED678__GUID-A6F08925-9899-43FD-811F-33BA10814912">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.UNAUTHORIZE_TTS_USER('PSMITH', 'HR_TS');</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-53DCBDDC-434C-4133-83D1-7D7BB7B4E37C" title="The DBMS_MACADM PL/SQL package general system maintenance procedures perform tasks such as authorizing users or adding new language to Oracle Database Vault.">DBMS_MACADM General System Maintenance Procedures</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71170"></a><a id="DVADM71171"></a><a id="DVADM71172"></a><a id="DVADM71173"></a><a id="DVADM71169"></a><div class="props_rev_3"><a id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E" name="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E"></a><h3 id="DVADM-GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E" class="sect3">CONFIGURE_DV General System Maintenance Procedure</h3>
               <div>
                  <p>The <code class="codeph">CONFIGURE_DV</code> procedure configures the initial two Oracle Database user accounts, which are granted the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles, respectively. 
                  </p>
                  <div class="section">
                     <p>You can check the status of this configuration by querying the <code class="codeph">DBA_DV_STATUS</code> data dictionary view. Before you run the <code class="codeph">CONFIGURE_DV</code> procedure, you must create the two user accounts and grant them the <code class="codeph">CREATE SESSION</code> privilege. The accounts can be either local or common. If you create common user accounts, then the Database Vault roles that are granted to these users apply to the current pluggable database (PDB) only. You then refer to these user accounts for the <code class="codeph">CONFIGURE_DV</code> procedure.
                     </p>
                     <p>The <code class="codeph">CONFIGURE_DV</code> procedure resides in the <code class="codeph">SYS</code> schema. Oracle provides a synonym, <code class="codeph">DVSYS.CONFIGURE_DV</code>, so that any existing Oracle Database Vault configuration scripts that you may have created in previous releases will continue to work in this release.
                     </p>
                     <p>You only can run the <code class="codeph">CONFIGURE_DV</code> procedure once, when you are ready to register Oracle Database Vault with an Oracle database. After you run this procedure, you must run <code class="codeph">utlrp.sql</code> script and then <code class="codeph">DBMS_MACADM.ENABLE_DV</code> to complete the registration process. Oracle strongly recommends that for better security, you use the two accounts you create here as back-up accounts and then create additional accounts for every day use. See <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" title="As a best practice, you should maintain backup accounts for the DV_OWNER and DV_ACCTMGR roles.">Backup Oracle Database Vault Accounts</a> for guidance.
                     </p>
                     <p>If after running <code class="codeph">CONFIGURE_DV</code> you decide that you want to modify the settings that you had entered, you or another user who has the <code class="codeph">DV_OWNER</code> role must disable Database Vault, and then have an administrator with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> administrative privilege restart the database. If you are in a multitenant environment, as user <code class="codeph">SYS</code>, then commonly grant the <code class="codeph">DV_OWNER</code> user the <code class="codeph">DV_OWNER</code> role, with the <code class="codeph">CONTAINER</code> clause set to <code class="codeph">ALL</code>. 
                     </p>
                     <p>When you run the <code class="codeph">CONFIGURE_DV</code> procedure, it checks the <code class="codeph">DVSYS</code> schema for problems such as missing tables or packages. If it finds problems, then it raises an <code class="codeph">ORA-47500 Database Vault cannot be configured</code> error. If this happens, then you can reinstall Oracle Database Vault by running <code class="codeph">catmac.sql</code> on <code class="codeph">CDB$ROOT</code> and the associated PDBs.
                     </p>
                     <p>Together, the <code class="codeph">CONFIGURE_DV</code> and <code class="codeph">DBMS_MACADM.ENABLE_DV</code> procedures, and the and <code class="codeph">utlrp.sql</code> script, are designed to be a command-line alternative to using Oracle Database Configuration Assistant (DBCA) to register Oracle Database Vault with an Oracle database. 
                     </p>
                     <p>When you register Oracle Database Vault with an Oracle database, you must run the <code class="codeph">CONFIGURE_DV</code> procedure as user <code class="codeph">SYS</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E__GUID-3DA664CA-F130-4F26-81C8-8CA45B504D35">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CONFIGURE_DV
  dvowner_uname         IN VARCHAR2,
  dvacctmgr_uname       IN VARCHAR2,
  force_local_dvowner   IN BOOLEAN;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E__GUID-6B2AB1E2-375C-411F-B263-8A9A29E559D9">Parameters</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E__CONFIGURE_DV-09113045">
                     <p class="titleintable">Table 21-25 CONFIGURE_DV</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="CONFIGURE_DV" width="100%" border="1" summary="CONFIGURE_DV" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d101071e6225">Parameter</th>
                              <th align="left" valign="bottom" width="69%" id="d101071e6228">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d101071e6233" headers="d101071e6225 ">
                                 <p><code class="codeph">dvowner_uname</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d101071e6233 d101071e6228 ">
                                 <p>Name of the user who will be the Database Vault Owner. This user will be granted the <code class="codeph">DV_OWNER</code> role.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d101071e6244" headers="d101071e6225 ">
                                 <p><code class="codeph">dvacctmgr_uname</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d101071e6244 d101071e6228 ">
                                 <p>Name of the user who will be the Database Vault Account Manager. This user will be granted the <code class="codeph">DV_ACCTMGR</code> role. If you omit this setting, the user specified by the <code class="codeph">dvowner_uname</code> parameter is made the Database Vault Account Manager and granted the <code class="codeph">DV_ACCTMGR</code> role.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d101071e6261" headers="d101071e6225 "><code class="codeph">force_local_dvowner</code></td>
                              <td align="left" valign="top" width="69%" headers="d101071e6261 d101071e6228 ">
                                 <p>Applies only to the <code class="codeph">DV_OWNER</code> (<code class="codeph">dvowner_unname</code> user) in the CDB root or an application root in a multitenant environment. It does not apply to users who are created in a PDB.
                                 </p>
                                 <ul id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E__UL_GHR_XLS_R2B" style="list-style-type:disc">
                                    <li><code class="codeph">TRUE</code> restricts the <code class="codeph">DV_OWNER</code> role privileges of the <code class="codeph">dvowner_unname</code> user to be local to the root. 
                                    </li>
                                    <li><code class="codeph">FALSE</code>, the default setting,enables the <code class="codeph">dvowner_unname</code> user to have <code class="codeph">DV_OWNER</code> privileges for all containers that are associated with the root. 
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E__GUID-6B15624D-37F5-4946-A758-5517B8F76857">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE USER c##dbv_owner_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = CURRENT;
CREATE USER c##dbv_acctmgr_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = CURRENT;
GRANT CREATE SESSION TO c##dbv_owner_root_backup, c##dbv_acctmgr_root_backup;

BEGIN
 CONFIGURE_DV (
   dvowner_uname         =&gt; 'c##dbv_owner_root_backup',
   dvacctmgr_uname       =&gt; 'c##adbv_acctmgr_root_backup',
   force_local_dvowner   =&gt; TRUE);
 END;
/</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="postinstallation-oracle-database-vault-procedures.html#GUID-5B68C4CE-A162-48FF-AD1A-475B8D3AD112" title="You can remove Oracle Database Vault from an Oracle Database installation, for both to both single-instance and Oracle RAC installations.">Deinstalling Oracle Database Vault</a></li>
                        <li><a href="postinstallation-oracle-database-vault-procedures.html#GUID-C6A459DB-1329-4B5F-9DF6-7C66D1DE6520" title="You can reinstall Oracle Database Vault by using Database Configuration Assistant and afterward, register Database Vault.">Reinstalling Oracle Database Vault</a></li>
                        <li><a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-general-administrative-apis.html#GUID-9A01A246-2E1F-47A9-9C66-4A17F994EF90" title="The DBMS_MACADM PL/SQL package and the CONFIGURE_DV standalone procedure enable you to you perform general maintenance tasks.">Oracle Database Vault General Administrative APIs</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01700.data-concurrency-and-consistency.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter explains how Oracle Database maintains consistent data in a multiuser database environment."></meta>
      <meta name="description" content="This chapter explains how Oracle Database maintains consistent data in a multiuser database environment."></meta>
      <title>Data Concurrency and Consistency</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter explains how Oracle Database maintains consistent data in a multiuser database environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-transaction-management.html" title="Previous" type="text/html"></link>
      <link rel="next" href="transactions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-transaction-management.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="transactions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-transaction-management.html" property="item" typeof="WebPage"><span property="name">Oracle Transaction Management</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Data Concurrency and Consistency </li>
            </ol>
            <a id="GUID-E8CBA9C5-58E3-460F-A82A-850E0152E95C" name="GUID-E8CBA9C5-58E3-460F-A82A-850E0152E95C"></a><a id="CNCPT020"></a>
            
            <h2 id="CNCPT-GUID-E8CBA9C5-58E3-460F-A82A-850E0152E95C" class="sect2"><span class="enumeration_chapter">9 </span>Data Concurrency and Consistency 
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='data-concurrency-and-consistency'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>This chapter explains how Oracle Database maintains consistent data in a multiuser database environment.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-7AD41DFA-04E5-4738-B744-C4407170411C" title="In a single-user database, a user can modify data without concern for other users modifying the same data at the same time. However, in a multiuser database, statements within multiple simultaneous transactions may update the same data. Transactions executing simultaneously must produce meaningful and consistent results.">Introduction to Data Concurrency and Consistency</a></p>
                  </li>
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685" title="The ANSI standard for transaction isolation levels is defined in terms of the phenomena that are either permitted or prevented for each isolation level.">Overview of Oracle Database Transaction Isolation Levels</a></p>
                  </li>
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-AD0CEE83-2F33-4906-94E1-3D1022924C63" title="A lock is a mechanism that prevents destructive interactions.">Overview of the Oracle Database Locking Mechanism</a></p>
                  </li>
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-E926E638-0161-4389-887B-4A31A529478A" title="Oracle Database automatically locks a resource on behalf of a transaction to prevent other transactions from doing something that requires exclusive access to the same resource.">Overview of Automatic Locks</a></p>
                  </li>
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7" title="You can manually override the Oracle Database default locking mechanisms.">Overview of Manual Data Locks</a></p>
                  </li>
                  <li>
                     <p><a href="data-concurrency-and-consistency.html#GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42" title="With Oracle Database Lock Management services, you can define your own locks for a specific application.">Overview of User-Defined Locks</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT121"></a><div class="props_rev_3"><a id="GUID-7AD41DFA-04E5-4738-B744-C4407170411C" name="GUID-7AD41DFA-04E5-4738-B744-C4407170411C"></a><h3 id="CNCPT-GUID-7AD41DFA-04E5-4738-B744-C4407170411C" class="sect3">Introduction to Data Concurrency and Consistency</h3>
               <div>
                  <p>In a single-user database, a user can modify data without concern for other users modifying the same data at the same time. However, in a multiuser database, statements within multiple simultaneous transactions may update the same data. Transactions executing simultaneously must produce meaningful and consistent results. </p>
                  <p>A multiuser database must provide the following:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>The assurance that users can access data at the same time (<a href="glossary.html#GUID-D7E696DB-944C-4798-B70D-5C2381FE971F"><span class="xrefglossterm">data concurrency</span></a>)
                        </p>
                     </li>
                     <li>
                        <p>The assurance that each user sees a consistent view of the data (<a href="glossary.html#GUID-B016467E-5663-4AC8-B54D-181CA1B8198E"><span class="xrefglossterm">data consistency</span></a>), including visible changes made by the user's own transactions and committed transactions of other users
                        </p>
                     </li>
                  </ul>
                  <p>To describe consistent transaction behavior when transactions run concurrently, database researchers have defined a transaction isolation model called <a href="glossary.html#GUID-41BC7551-23D4-4778-8109-B886FBFC85EE"><span class="xrefglossterm">serializability</span></a>. A serializable transaction operates in an environment that makes it appear as if no other users were modifying data in the database.
                  </p>
                  <p>While this degree of isolation between transactions is generally desirable, running many applications in serializable mode can seriously compromise application throughput. Complete isolation of concurrently running transactions could mean that one transaction cannot perform an insertion into a table being queried by another transaction. In short, real-world considerations usually require a compromise between perfect transaction isolation and performance.</p>
                  <p>Oracle Database maintains data consistency by using a <a href="glossary.html#GUID-FCCF7DC5-C860-4F1C-8811-03AE76597104"><span class="xrefglossterm">multiversion consistency model</span></a> and various types of locks and transactions. In this way, the database can present a view of data to multiple concurrent users, with each view consistent to a point in time. Because different versions of data blocks can exist simultaneously, transactions can read the version of data committed at the point in time required by a <a href="glossary.html#GUID-CCF91C9F-A98A-498F-A84B-58A0FA16CD6E"><span class="xrefglossterm">query</span></a> and return results that are consistent to a single point in time.
                  </p>
                  <div class="infoboxnotealso" id="GUID-7AD41DFA-04E5-4738-B744-C4407170411C__GUID-04EA95D3-71F5-46E0-986D-DBCE9CA4E0C3">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="data-integrity.html#GUID-6A89FF39-AD42-4399-BD1B-E51ECEE50B4E" title="This chapter explains how integrity constraints enforce the business rules associated with a database and prevent the entry of invalid information into tables.">Data Integrity</a>"</span> and <span class="q">"<a href="transactions.html#GUID-B97790CB-DF82-442D-B9D5-50CCE6BF9FBD" title="This chapter defines a transaction and describes how the database processes transactions.">Transactions</a>"</span></p>
                  </div>
               </div><a id="CNCPT221"></a><div class="props_rev_3"><a id="GUID-4BD4DFD6-DAEA-41B2-BB56-7135568F0548" name="GUID-4BD4DFD6-DAEA-41B2-BB56-7135568F0548"></a><h4 id="CNCPT-GUID-4BD4DFD6-DAEA-41B2-BB56-7135568F0548" class="sect4">Multiversion Read Consistency</h4>
                  <div>
                     <p>In Oracle Database, multiversioning is the ability to simultaneously materialize multiple versions of data. Oracle Database maintains multiversion read consistency.</p>
                     <p>Queries of an Oracle database have the following characteristics:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Read-consistent queries</p>
                           <p>The data returned by a query is committed and consistent for a single point in time.</p>
                           <div class="infoboxnote" id="GUID-4BD4DFD6-DAEA-41B2-BB56-7135568F0548__GUID-476AB5BA-55AF-4682-B949-3182CC4CCC98">
                              <p class="notep1">Note:</p>
                              <p>Oracle Database <span class="italic">never</span> permits a <a href="glossary.html#GUID-E3E574ED-BCBE-4217-8206-D2BD6F075A39"><span class="xrefglossterm">dirty read</span></a>, which occurs when a transaction reads uncommitted data in another transaction.
                              </p>
                           </div>
                           <p>To illustrate the problem with dirty reads, suppose one transaction updates a column value without committing. A second transaction reads the updated and dirty (uncommitted) value. The first session rolls back the transaction so that the column has its old value, but the second transaction proceeds using the updated value, corrupting the database. Dirty reads compromise <a href="glossary.html#GUID-9DE527B3-8901-4F4C-A18F-D2C2C307AFE1"><span class="xrefglossterm">data integrity</span></a>, violate foreign keys, and ignore unique constraints.
                           </p>
                        </li>
                        <li>
                           <p>Nonblocking queries</p>
                           <p>Readers and writers of data do not block one another.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4BD4DFD6-DAEA-41B2-BB56-7135568F0548__GUID-D0A79A62-5035-498C-9CB1-8F49A9395C5E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47" title="The database maintains several different types of locks, depending on the operation that acquired the lock.">Summary of Locking Behavior</a>"</span></p>
                     </div>
                  </div><a id="CNCPT88960"></a><div class="props_rev_3"><a id="GUID-6A252EAE-7900-47DC-BD6A-D5376A6B7608" name="GUID-6A252EAE-7900-47DC-BD6A-D5376A6B7608"></a><h5 id="CNCPT-GUID-6A252EAE-7900-47DC-BD6A-D5376A6B7608" class="sect5">Statement-Level Read Consistency</h5>
                     <div>
                        <p>Oracle Database always enforces <span class="bold">statement-level read consistency</span>, which guarantees that data returned by a single query is committed and consistent for a single point in time. 
                        </p>
                        <p>The point in time to which a single SQL statement is consistent depends on the transaction isolation level and the nature of the query:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>In the read committed isolation level, this point is the time at which the <span class="italic">statement</span> was opened. For example, if a <code class="codeph">SELECT</code> statement opens at SCN 1000, then this statement is consistent to SCN 1000.
                              </p>
                           </li>
                           <li>
                              <p>In a serializable or read-only transaction, this point is the time the <span class="italic">transaction</span> began. For example, if a transaction begins at SCN 1000, and if multiple <code class="codeph">SELECT</code> statements occur in this transaction, then each statement is consistent to SCN 1000.
                              </p>
                           </li>
                           <li>
                              <p>In a Flashback Query operation (<code class="codeph">SELECT ... AS OF</code>), the <code class="codeph">SELECT</code> statement explicitly specifies the point in time. For example, you can query a table as it appeared last Thursday at 2 p.m.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-6A252EAE-7900-47DC-BD6A-D5376A6B7608__GUID-572BF8E7-44A0-4A46-94F7-1949ED34113A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../adfns/flashback.html#ADFNS01003" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn about Flashback Query
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT88961"></a><div class="props_rev_3"><a id="GUID-D081389D-C338-4E74-BF64-6524795EF764" name="GUID-D081389D-C338-4E74-BF64-6524795EF764"></a><h5 id="CNCPT-GUID-D081389D-C338-4E74-BF64-6524795EF764" class="sect5">Transaction-Level Read Consistency</h5>
                     <div>
                        <p>Oracle Database can also provide read consistency to all queries in a transaction, known as <span class="bold">transaction-level read consistency</span>.
                        </p>
                        <p>In this case, each statement in a transaction sees data from the <span class="italic">same</span> point in time. This is the time at which the transaction began.
                        </p>
                        <p>Queries made by a serializable transaction see changes made by the transaction itself. For example, a transaction that updates <code class="codeph">employees</code> and then queries <code class="codeph">employees</code> will see the updates. Transaction-level read consistency produces repeatable reads and does not expose a query to phantom reads.
                        </p>
                     </div>
                  </div><a id="CNCPT88962"></a><div class="props_rev_3"><a id="GUID-8DC0D1D1-C2B1-4237-9B77-27889B6467C1" name="GUID-8DC0D1D1-C2B1-4237-9B77-27889B6467C1"></a><h5 id="CNCPT-GUID-8DC0D1D1-C2B1-4237-9B77-27889B6467C1" class="sect5">Read Consistency and Undo Segments</h5>
                     <div>
                        <p>To manage the multiversion read consistency model, the database must create a read-consistent set of data when a table is simultaneously queried and updated.</p>
                        <p>Oracle Database achieves read consistency through <a href="glossary.html#GUID-297B963A-989C-4720-B061-A2352FF72892"><span class="xrefglossterm">undo data</span></a>.
                        </p>
                        <p>Whenever a user modifies data, Oracle Database creates undo entries, which it writes to undo segments. The undo segments contain the old values of data that have been changed by uncommitted or recently committed transactions. Thus, multiple versions of the same data, all at different points in time, can exist in the database. The database can use snapshots of data at different points in time to provide read-consistent views of the data and enable nonblocking queries. </p>
                        <p>Read consistency is guaranteed in single-instance and Oracle Real Application Clusters (Oracle RAC) environments. Oracle RAC uses a cache-to-cache block transfer mechanism known as cache fusion to transfer read-consistent images of data blocks from one database instance to another.</p>
                        <div class="infoboxnotealso" id="GUID-8DC0D1D1-C2B1-4237-9B77-27889B6467C1__GUID-A287E0E2-AD8E-4457-A388-BC9D5C15379B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="logical-storage-structures.html#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle Database maintains records of the actions of transactions, collectively known as undo data.">Undo Segments</a>"</span></p> to learn about undo storage
                              </li>
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-3C50EAB8-FC39-4BB3-B680-4EACCE49E866" title="An internal LOB stores data in the database itself rather than in external files.">Internal LOBs</a>"</span> to learn about read consistency mechanisms for LOBs
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="CNCPT88964"></a><a id="CNCPT88963"></a><div class="props_rev_3"><a id="GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB" name="GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB"></a><h6 id="CNCPT-GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB" class="sect6">Read Consistency: Example</h6>
                        <div>
                           <p>This example shows a query that uses undo data to provide statement-level read consistency in the read committed isolation level.</p>
                           <div class="figure" id="GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB__BABFDBAJ">
                              <p class="titleinfigure">Figure 9-1 Read Consistency in the Read Committed Isolation Level</p><img src="img/cncpt069.gif" alt="Description of Figure 9-1 follows" title="Description of Figure 9-1 follows" longdesc="img_text/cncpt069.html"><br><a href="img_text/cncpt069.html">Description of "Figure 9-1 Read Consistency in the Read Committed Isolation Level"</a></div>
                           <!-- class="figure" -->
                           <p>As the database retrieves data blocks on behalf of a query, the database ensures that the data in each block reflects the contents of the block when the query began. The database rolls back changes to the block as needed to reconstruct the block to the point in time the query started processing.</p>
                           <p>The database uses an internal ordering mechanism called an <a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a> to guarantee the order of transactions. As the <code class="codeph">SELECT</code> statement enters the execution phase, the database determines the SCN recorded at the time the query began executing. In <a href="data-concurrency-and-consistency.html#GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB__BABFDBAJ">Figure 9-1</a>, this SCN is 10023. The query only sees committed data with respect to SCN 10023.
                           </p>
                           <p>In <a href="data-concurrency-and-consistency.html#GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB__BABFDBAJ">Figure 9-1</a>, blocks with SCNs <span class="italic">after</span> 10023 indicate changed data, as shown by the two blocks with SCN 10024. The <code class="codeph">SELECT</code> statement requires a version of the block that is consistent with committed changes. The database copies current data blocks to a new buffer and applies undo data to reconstruct previous versions of the blocks. These reconstructed data blocks are called <span class="italic">consistent read (CR) clones</span>.
                           </p>
                           <p>In <a href="data-concurrency-and-consistency.html#GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB__BABFDBAJ">Figure 9-1</a>, the database creates two CR clones: one block consistent to SCN 10006 and the other block consistent to SCN 10021. The database returns the reconstructed data for the query. In this way, Oracle Database prevents dirty reads.
                           </p>
                           <div class="infoboxnotealso" id="GUID-00A3688F-1219-423C-A5ED-4B8F25BEEAFB__GUID-8AB73DDC-0DF5-4859-B0F9-4CCB5B60CB05">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="memory-architecture.html#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="The database buffer cache, also called the buffer cache, is the memory area that stores copies of data blocks read from data files.">Database Buffer Cache</a>"</span> and <span class="q">"<a href="transactions.html#GUID-A2615547-94D2-4346-B156-64C534C5E9E4" title="A system change number (SCN) is a logical, internal time stamp used by Oracle Database.">System Change Numbers (SCNs)</a>"</span></p>
                           </div>
                        </div>
                     </div><a id="CNCPT88965"></a><div class="props_rev_3"><a id="GUID-3DA63BF3-5C19-4DBC-8E6B-980771AEA2FB" name="GUID-3DA63BF3-5C19-4DBC-8E6B-980771AEA2FB"></a><h6 id="CNCPT-GUID-3DA63BF3-5C19-4DBC-8E6B-980771AEA2FB" class="sect6">Read Consistency and Interested Transaction Lists</h6>
                        <div>
                           <p>The <strong class="term">block header</strong> of every segment block contains an <strong class="term">interested transaction list (ITL)</strong>.
                           </p>
                           <p>The database uses the ITL to determine whether a transaction was uncommitted when the database began modifying the block.</p>
                           <p>Entries in the ITL describe which transactions have rows locked and which rows in the block contain committed and uncommitted changes. The ITL points to the transaction table in the undo segment, which provides information about the timing of changes made to the database.</p>
                           <p>In a sense, the block header contains a recent history of transactions that affected each row in the block. The <code class="codeph">INITRANS</code> parameter of the <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> statements controls the amount of transaction history that is kept.
                           </p>
                           <div class="infoboxnotealso" id="GUID-3DA63BF3-5C19-4DBC-8E6B-980771AEA2FB__GUID-F07A610E-B6D9-4290-908A-BC6AB71E180F">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF54481" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">INITRANS</code> parameter
                              </p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-ED6AFF56-F998-4E80-9D6B-105B2610ECAC" name="GUID-ED6AFF56-F998-4E80-9D6B-105B2610ECAC"></a><h5 id="CNCPT-GUID-ED6AFF56-F998-4E80-9D6B-105B2610ECAC" class="sect5">Read Consistency and Deferred Inserts</h5>
                     <div>
                        <p>A special type of insert known as a <strong class="term">deferred insert</strong> does not use the standard read consistency mechanism.
                        </p>
                        <p>A deferred insert uses the <code class="codeph">MEMOPTIMIZE_WRITE</code> hint to insert into a table specified as <code class="codeph">MEMOPTIMIZE FOR WRITE</code>. The database buffers these inserts in the large pool rather than in the buffer cache. The database does not track the changes using redo and undo. Instead, the database automatically commits the changes when the Space Management Coordinator (SMCO) writes the buffer to disk. The changes cannot be rolled back.
                        </p>
                        <p><span>Deferred insert</span>s differ from conventional inserts in important ways:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Data residing in the large pool, which the application assumes is committed, can be lost. For example, the database instance could fail before the changes are saved to disk, even though the application reports that the changes are saved.</p>
                           </li>
                           <li>
                              <p>Reading data directly from memory is not permitted. A writer cannot read its own changes until the background processes writes them to disk. No reader can see committed changes until they are written to disk.</p>
                           </li>
                        </ul>
                        <p>Client applications that must avoid data loss should keep a local copy of data after writing to the large pool. The client can use the <code class="codeph">DBMS_MEMOPTIMIZE</code> package to track the durability of the writes to memory, and the <code class="codeph">DBMS_MEMOPTIMIZE_ADMIN</code> package to force the database to write to disk.
                        </p>
                        <div class="infoboxnotealso" id="GUID-ED6AFF56-F998-4E80-9D6B-105B2610ECAC__GUID-A30B8D85-7074-48C1-ACBB-A81D4E03FEA1">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="memory-architecture.html#GUID-07D4439A-8E4E-4FBC-A403-1B0F0B9E0058" title="For a special type of insert known as a deferred insert, the database allocates buffers from the large pool.">Large Pool Buffers for Deferred Inserts</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/COMMENT.html#SQLRF-GUID-65F447C4-6914-4823-9691-F15D52DB74D7" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">MEMOPTIMIZE FOR WRITE</code> hint
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1313"></a><div class="props_rev_3"><a id="GUID-AD960556-7F7B-4242-8B91-6DA22AABA27D" name="GUID-AD960556-7F7B-4242-8B91-6DA22AABA27D"></a><h4 id="CNCPT-GUID-AD960556-7F7B-4242-8B91-6DA22AABA27D" class="sect4">Locking Mechanisms</h4>
                  <div>
                     <p>In general, multiuser databases use some form of data locking to solve the problems associated with data concurrency, consistency, and integrity. </p>
                     <p>A <a href="glossary.html#GUID-6D016291-A487-4F88-BE0B-ACF8FA2AE72C"><span class="xrefglossterm">lock</span></a> is a mechanism that prevent destructive interaction between transactions accessing the same resource.
                     </p>
                     <div class="infoboxnotealso" id="GUID-AD960556-7F7B-4242-8B91-6DA22AABA27D__GUID-7E89FC48-E10C-4B49-89CE-B029123DE541">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-AD0CEE83-2F33-4906-94E1-3D1022924C63" title="A lock is a mechanism that prevents destructive interactions.">Overview of the Oracle Database Locking Mechanism</a>"</span></p>
                     </div>
                  </div>
               </div><a id="CNCPT88966"></a><a id="CNCPT1312"></a><div class="props_rev_3"><a id="GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B" name="GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B"></a><h4 id="CNCPT-GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B" class="sect4">ANSI/ISO Transaction Isolation Levels</h4>
                  <div>
                     <p>The SQL standard, which has been adopted by both ANSI and ISO/IEC, defines four levels of transaction isolation. These levels have differing degrees of impact on transaction processing throughput.</p>
                     <div class="section">
                        <p>These isolation levels are defined in terms of phenomena that must be prevented between concurrently executing transactions. The preventable phenomena are:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Dirty reads</p>
                              <p>A transaction reads data that has been written by another transaction that has not been committed yet.</p>
                           </li>
                           <li>
                              <p>Nonrepeatable (fuzzy) reads</p>
                              <p>A transaction rereads data it has previously read and finds that another committed transaction has modified or deleted the data. For example, a user queries a row and then later queries the same row, only to discover that the data has changed.</p>
                           </li>
                           <li>
                              <p>Phantom reads</p>
                              <p>A transaction reruns a query returning a set of rows that satisfies a search condition and finds that another committed transaction has inserted additional rows that satisfy the condition.</p>
                              <p>For example, a transaction queries the number of employees. Five minutes later it performs the same query, but now the number has increased by one because another user inserted a record for a new hire. More data satisfies the query criteria than before, but unlike in a fuzzy read the previously read data is unchanged.</p>
                           </li>
                        </ul>
                        <p>The SQL standard defines four levels of isolation in terms of the phenomena that a transaction running at a particular isolation level is permitted to experience. <a href="data-concurrency-and-consistency.html#GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B__G35628" title="This table shows Preventable Phenomena by Isolation Level.">Table 9-1</a> shows the levels.
                        </p>
                        <div class="tblformal" id="GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B__G35628">
                           <p class="titleintable">Table 9-1 Preventable Read Phenomena by Isolation Level</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Preventable Read Phenomena by Isolation Level" width="100%" border="1" summary="This table shows Preventable Phenomena by Isolation Level. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d44938e3480">Isolation Level</th>
                                    <th align="left" valign="bottom" id="d44938e3484">Dirty Read</th>
                                    <th align="left" valign="bottom" id="d44938e3487">Nonrepeatable Read</th>
                                    <th align="left" valign="bottom" id="d44938e3490">Phantom Read</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d44938e3495" headers="d44938e3480 ">
                                       <p>Read uncommitted</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3495 d44938e3484 ">
                                       <p>Possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3495 d44938e3487 ">
                                       <p>Possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3495 d44938e3490 ">
                                       <p>Possible</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d44938e3508" headers="d44938e3480 ">
                                       <p>Read committed</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3508 d44938e3484 ">
                                       <p>Not possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3508 d44938e3487 ">
                                       <p>Possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3508 d44938e3490 ">
                                       <p>Possible</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d44938e3521" headers="d44938e3480 ">
                                       <p>Repeatable read</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3521 d44938e3484 ">
                                       <p>Not possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3521 d44938e3487 ">
                                       <p>Not possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3521 d44938e3490 ">
                                       <p>Possible</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d44938e3534" headers="d44938e3480 ">
                                       <p>Serializable</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3534 d44938e3484 ">
                                       <p>Not possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3534 d44938e3487 ">
                                       <p>Not possible</p>
                                    </td>
                                    <td align="left" valign="top" headers="d44938e3534 d44938e3490 ">
                                       <p>Not possible</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Oracle Database offers the read committed (default) and serializable isolation levels. Also, the database offers a read-only mode.</p>
                        <div class="infoboxnotealso" id="GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B__GUID-B38BF468-DDE1-4E76-9404-96583005DBEB">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685" title="The ANSI standard for transaction isolation levels is defined in terms of the phenomena that are either permitted or prevented for each isolation level.">Overview of Oracle Database Transaction Isolation Levels</a>"</span> to learn about read committed, serializable, and read-only isolation levels
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/Oracle-and-Standard-SQL.html#SQLRF019" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for a discussion of Oracle Database conformance to SQL standards
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CNCPT621"></a><div class="props_rev_3"><a id="GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685" name="GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685"></a><h3 id="CNCPT-GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685" class="sect3">Overview of Oracle Database Transaction Isolation Levels</h3>
               <div>
                  <p>The ANSI standard for transaction isolation levels is defined in terms of the phenomena that are either permitted or prevented for each isolation level.</p>
                  <p>Oracle Database provides the transaction isolation levels:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="data-concurrency-and-consistency.html#GUID-DB571DA8-864F-4FE9-93B9-3EC2DD0604FE" title="In the read committed isolation level, every query executed by a transaction sees only data committed before the query—not the transaction—began.">Read Committed Isolation Level</a></p>
                     </li>
                     <li>
                        <p><a href="data-concurrency-and-consistency.html#GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738" title="In the serializable isolation level, a transaction sees only changes committed at the time the transaction—not the query—began and changes made by the transaction itself.">Serializable Isolation Level</a></p>
                     </li>
                     <li>
                        <p><a href="data-concurrency-and-consistency.html#GUID-371C3622-540E-490C-BD83-F12CE4CF39C6" title="The read-only isolation level is similar to the serializable isolation level, but read-only transactions do not permit data to be modified in the transaction unless the user is SYS.">Read-Only Isolation Level</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2A0FDFF0-5F72-4476-BFD2-060A20EA1685__GUID-2FD80AC4-7635-4CB6-9F8E-CFB02E1CE54C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS99999" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn more about transaction isolation levels
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/SET-TRANSACTION.html#SQLRF55422" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> and <a href="../lnpls/static-sql.html#LNPLS00608" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about <code class="codeph">SET TRANSACTION ISOLATION LEVEL</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT1319"></a><div class="props_rev_3"><a id="GUID-DB571DA8-864F-4FE9-93B9-3EC2DD0604FE" name="GUID-DB571DA8-864F-4FE9-93B9-3EC2DD0604FE"></a><h4 id="CNCPT-GUID-DB571DA8-864F-4FE9-93B9-3EC2DD0604FE" class="sect4">Read Committed Isolation Level</h4>
                  <div>
                     <p>In the <span class="bold">read committed isolation level</span>, every query executed by a transaction sees only data committed before the query—not the transaction—began.
                     </p>
                     <p>This isolation level is the default. It is appropriate for database environments in which few transactions are likely to conflict.</p>
                     <p>A query in a read committed transaction avoids reading data that commits while the query is in progress. For example, if a query is halfway through a scan of a million-row table, and if a different transaction commits an update to row 950,000, then the query does not see this change when it reads row 950,000. However, because the database does not prevent other transactions from modifying data read by a query, other transactions may change data <span class="italic">between</span> query executions. Thus, a transaction that runs the same query twice may experience fuzzy reads and phantoms.
                     </p>
                  </div><a id="CNCPT050"></a><div class="props_rev_3"><a id="GUID-432C4EDC-F7F2-467C-B85F-4E82D3D58A2F" name="GUID-432C4EDC-F7F2-467C-B85F-4E82D3D58A2F"></a><h5 id="CNCPT-GUID-432C4EDC-F7F2-467C-B85F-4E82D3D58A2F" class="sect5">Read Consistency in the Read Committed Isolation Level</h5>
                     <div>
                        <p>The database provides a consistent result set for every query, guaranteeing data consistency, with no action by the user.</p>
                        <p>An <a href="glossary.html#GUID-E802CBDA-5F3B-40CF-9749-612F0E0E4A35"><span class="xrefglossterm">implicit query</span></a>, such as a query implied by a <code class="codeph">WHERE</code> clause in an <code class="codeph">UPDATE</code> statement, is guaranteed a consistent set of results. However, each statement in an implicit query does not see the changes made by the DML statement itself, but sees the data as it existed before changes were made.
                        </p>
                        <p>If a <code class="codeph">SELECT</code> list contains a PL/SQL function, then the database applies statement-level read consistency at the statement level for SQL run within the PL/SQL function code, rather than at the parent SQL level. For example, a function could access a table whose data is changed and committed by another user. For each execution of the <code class="codeph">SELECT</code> in the function, a new read-consistent snapshot is established.
                        </p>
                        <div class="infoboxnotealso" id="GUID-432C4EDC-F7F2-467C-B85F-4E82D3D58A2F__GUID-64857734-72D0-49BA-AC0B-CE3C7DC8B6C8">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="sql.html#GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E" title="A subquery is a SELECT statement nested within another SQL statement. Subqueries are useful when you must execute multiple queries to solve a single problem.">Subqueries</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT89216"></a><a id="CNCPT051"></a><div class="props_rev_3"><a id="GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7" name="GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7"></a><h5 id="CNCPT-GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7" class="sect5">Conflicting Writes in Read Committed Transactions</h5>
                     <div>
                        <p>In a read committed transaction, a <span class="bold">conflicting write</span> occurs when the transaction attempts to change a row updated by an uncommitted concurrent transaction.
                        </p>
                        <p>The transaction that prevents the row modification is sometimes called a <span class="italic">blocking transaction</span>. The read committed transaction waits for the blocking transaction to end and release its row lock.
                        </p>
                        <p>The options are as follows:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>If the blocking transaction rolls back, then the waiting transaction proceeds to change the previously locked row as if the other transaction never existed.</p>
                           </li>
                           <li>
                              <p>If the blocking transaction commits and releases its locks, then the waiting transaction proceeds with its intended update to the newly changed row.</p>
                           </li>
                        </ul>
                        <p>The following table shows how transaction 1, which can be either serializable or read committed, interacts with read committed transaction 2. It shows a classic situation known as a <a href="glossary.html#GUID-F9DA6F63-B518-44C5-B98B-2425680EB498"><span class="xrefglossterm">lost update</span></a>. The update made by transaction 1 is not in the table <span class="italic">even though transaction 1 committed it</span>. Devising a strategy to handle lost updates is an important part of application development.
                        </p>
                        <div class="tblformalwide" id="GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7__CHDBBCEI">
                           <p class="titleintable">Table 9-2 Conflicting Writes and Lost Updates in a READ COMMITTED Transaction</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Conflicting Writes and Lost Updates in a READ COMMITTED Transaction" width="100%" border="1" summary="This table describes the conflicting writes and lost updates in a READ COMMITTED transaction, when a serializable or read committed transaction interacts with a read committed transaction." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d44938e4810">Session 1</th>
                                    <th align="left" valign="bottom" width="35%" id="d44938e4813">Session 2</th>
                                    <th align="left" valign="bottom" width="31%" id="d44938e4816">Explanation</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4821" headers="d44938e4810 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN 
('Banda', 'Greene',
'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6200
Greene              9500
</pre></td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4821 d44938e4813 ">No action.</td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4821 d44938e4816 ">
                                       <p>Session 1 queries the salaries for Banda, Greene, and Hintz. No employee named Hintz is found.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4830" headers="d44938e4810 "><pre class="oac_no_warn" dir="ltr">SQL&gt; UPDATE employees 
SET salary = 7000 WHERE 
last_name = 'Banda';</pre></td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4830 d44938e4813 ">No action.</td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4830 d44938e4816 ">
                                       <p>Session 1 begins a transaction by updating the Banda salary. The default isolation level for transaction 1 is <code class="codeph">READ COMMITTED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4842" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4842 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SET TRANSACTION 
ISOLATION LEVEL 
READ COMMITTED;</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4842 d44938e4816 ">
                                       <p>Session 2 begins transaction 2 and sets the isolation level explicitly to <code class="codeph">READ COMMITTED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4854" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4854 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN
('Banda', 'Greene',
'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6200
Greene              9500</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4854 d44938e4816 ">
                                       <p>Transaction 2 queries the salaries for Banda, Greene, and Hintz. Oracle Database uses read consistency to show the salary for Banda before the uncommitted update made by transaction 1.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4863" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4863 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; UPDATE employees 
SET salary = 9900 
WHERE last_name='Greene';</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4863 d44938e4816 ">
                                       <p>Transaction 2 updates the salary for Greene successfully because transaction 1 locked only the Banda row.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4872" headers="d44938e4810 "><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO 
employees (employee_id, 
last_name, email, 
hire_date, job_id) 
VALUES (210, 'Hintz', 
'JHINTZ', SYSDATE, 
'SH_CLERK');</pre></td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4872 d44938e4813 ">No action.</td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4872 d44938e4816 ">
                                       <p>Transaction 1 inserts a row for employee Hintz, but does not commit.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4881" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4881 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN 
('Banda', 'Greene',
'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6200
Greene              9900</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4881 d44938e4816 ">
                                       <p>Transaction 2 queries the salaries for employees Banda, Greene, and Hintz. </p>
                                       <p>Transaction 2 sees its own update to the salary for Greene. Transaction 2 does not see the uncommitted update to the salary for Banda or the insertion for Hintz made by transaction 1.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4892" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4892 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; UPDATE employees SET
salary = 6300 WHERE 
last_name = 'Banda';

-- prompt does not return </pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4892 d44938e4816 ">
                                       <p>Transaction 2 attempts to update the row for Banda, which is currently locked by transaction 1, creating a conflicting write. Transaction 2 waits until transaction 1 ends.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4901" headers="d44938e4810 "><pre class="oac_no_warn" dir="ltr">SQL&gt; COMMIT;</pre></td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4901 d44938e4813 ">No action.</td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4901 d44938e4816 ">
                                       <p>Transaction 1 commits its work, ending the transaction.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4910" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4910 d44938e4813 "><pre class="oac_no_warn" dir="ltr">1 row updated.
 
SQL&gt;</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4910 d44938e4816 ">
                                       <p>The lock on the Banda row is now released, so transaction 2 proceeds with its update to the salary for Banda.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4919" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4919 d44938e4813 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN
('Banda', 'Greene', 
'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6300
Greene              9900
Hintz</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4919 d44938e4816 ">
                                       <p>Transaction 2 queries the salaries for employees Banda, Greene, and Hintz. The Hintz insert committed by transaction 1 is now visible to transaction 2. Transaction 2 sees its own update to the Banda salary.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4929" headers="d44938e4810 ">No action.</td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4929 d44938e4813 "><pre class="oac_no_warn" dir="ltr">COMMIT;</pre></td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4929 d44938e4816 ">
                                       <p>Transaction 2 commits its work, ending the transaction.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d44938e4938" headers="d44938e4810 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN 
('Banda', 'Greene',
'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6300
Greene              9900
Hintz</pre></td>
                                    <td align="left" valign="top" width="35%" headers="d44938e4938 d44938e4813 ">No action.</td>
                                    <td align="left" valign="top" width="31%" headers="d44938e4938 d44938e4816 ">
                                       <p>Session 1 queries the rows for Banda, Greene, and Hintz. The salary for Banda is 6300, which is the update made by transaction 2. The update of Banda's salary to 7000 made by transaction 1 is now "lost."</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7__GUID-921181FD-EBF1-49C3-983F-B81356D32405">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p> <span class="q">"<a href="data-concurrency-and-consistency.html#GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3" title="In a single-user database, locks are not necessary because only one user is modifying information. However, when multiple users are accessing and modifying data, the database must provide a way to prevent concurrent modification of the same data.">Use of Locks</a>"</span> to learn about lost updates
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-92D38952-A7A0-486F-9547-BDB6E624F125" title="A row lock, also called a TX lock, is a lock on a single row of table. A transaction acquires a row lock for each row modified by an INSERT, UPDATE, DELETE, MERGE, or SELECT ... FOR UPDATE statement. The row lock exists until the transaction commits or rolls back.">Row Locks (TX)</a>"</span> to learn when and why the database obtains row locks
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88968"></a><a id="CNCPT1320"></a><div class="props_rev_3"><a id="GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738" name="GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738"></a><h4 id="CNCPT-GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738" class="sect4">Serializable Isolation Level</h4>
                  <div>
                     <p>In the <strong class="term">serializable isolation level</strong>, a transaction sees only changes committed at the time the transaction—not the query—began and changes made by the transaction itself. 
                     </p>
                     <p>A serializable transaction operates in an environment that makes it appear as if no other users were modifying data in the database. Serializable isolation is suitable for environments: </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>With large databases and short transactions that update only a few rows</p>
                        </li>
                        <li>
                           <p>Where the chance that two concurrent transactions will modify the same rows is relatively low</p>
                        </li>
                        <li>
                           <p>Where relatively long-running transactions are primarily read only</p>
                        </li>
                     </ul>
                     <p>In serializable isolation, the read consistency normally obtained at the statement level extends to the entire transaction. Any row read by the transaction is assured to be the same when reread. Any query is guaranteed to return the same results for the duration of the transaction, so changes made by other transactions are not visible to the query regardless of how long it has been running. Serializable transactions do not experience dirty reads, fuzzy reads, or phantom reads.</p>
                     <p>Oracle Database permits a serializable transaction to modify a row only if changes to the row made by other transactions were <span class="italic">already</span> committed when the serializable transaction began. The database generates an error when a serializable transaction tries to update or delete data changed by a different transaction that committed <span class="italic">after</span> the serializable transaction began:
                     </p><pre class="pre codeblock"><code>ORA-08177: Cannot serialize access for this transaction
</code></pre><p>When a serializable transaction fails with the <code class="codeph">ORA-08177</code> error, an application can take several actions, including the following:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Commit the work executed to that point</p>
                        </li>
                        <li>
                           <p>Execute additional (but different) statements, perhaps after rolling back to a <a href="glossary.html#GUID-ED9601F2-D0A2-4FE5-83A8-8F7F9E9E0D18"><span class="xrefglossterm">savepoint</span></a> established earlier in the transaction
                           </p>
                        </li>
                        <li>
                           <p>Roll back the entire transaction</p>
                        </li>
                     </ul>
                     <p>The following table shows how a serializable transaction interacts with other transactions. If the serializable transaction does not try to change a row committed by another transaction after the serializable transaction began, then a serialized access problem is avoided.</p>
                     <div class="tblformalwide" id="GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738__BABDGDII">
                        <p class="titleintable">Table 9-3 Serializable Transaction</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Serializable Transaction" width="100%" border="1" summary="This table shows how a serializable transaction interacts with other transactions. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d44938e5336">Session 1</th>
                                 <th align="left" valign="bottom" width="35%" id="d44938e5339">Session 2</th>
                                 <th align="left" valign="bottom" width="30%" id="d44938e5342">Explanation</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5347" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary FROM employees WHERE 
last_name  IN ('Banda', 
'Greene', 'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               6200
Greene              9500</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5347 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5347 d44938e5342 ">
                                    <p>Session 1 queries the salaries for Banda, Greene, and Hintz. No employee named Hintz is found.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5357" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
SET salary = 7000 
WHERE last_name='Banda';</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5357 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5357 d44938e5342 ">
                                    <p>Session 1 begins transaction 1 by updating the Banda salary. The default isolation level is <code class="codeph">READ COMMITTED</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5370" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5370 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SET TRANSACTION 
ISOLATION LEVEL SERIALIZABLE;</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5370 d44938e5342 ">
                                    <p>Session 2 begins transaction 2 and sets it to the <code class="codeph">SERIALIZABLE</code> isolation level.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5383" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5383 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary FROM employees 
WHERE last_name IN 
('Banda', 'Greene', 'Hintz');
 
LAST_NAME        SALARY
------------ ----------
Banda              6200
Greene             9500</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5383 d44938e5342 ">
                                    <p>Transaction 2 queries the salaries for Banda, Greene, and Hintz. Oracle Database uses read consistency to show the salary for Banda <span class="italic">before</span> the uncommitted update made by transaction 1.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5396" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5396 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
SET salary = 9900 
WHERE last_name = 'Greene';</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5396 d44938e5342 ">
                                    <p>Transaction 2 updates the Greene salary successfully because only the Banda row is locked.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5406" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; INSERT INTO employees 
(employee_id, last_name, 
email, hire_date, job_id) 
VALUES (210, 'Hintz', 
'JHINTZ', SYSDATE,'SH_CLERK');</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5406 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5406 d44938e5342 ">
                                    <p>Transaction 1 inserts a row for employee Hintz.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5416" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; COMMIT;</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5416 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5416 d44938e5342 ">
                                    <p>Transaction 1 commits its work, ending the transaction.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5426" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary 
FROM employees 
WHERE last_name IN 
('Banda', 'Greene', 'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               7000
Greene              9500
Hintz</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5426 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary FROM employees 
WHERE last_name IN
('Banda', 'Greene', 'Hintz');
 
LAST_NAME        SALARY
------------- ---------
Banda              6200
Greene             9900</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5426 d44938e5342 ">
                                    <p>Session 1 queries the salaries for employees Banda, Greene, and Hintz and sees changes committed by transaction 1. Session 1 does not see the uncommitted Greene update made by transaction 2.</p>
                                    <p>Transaction 2 queries the salaries for employees Banda, Greene, and Hintz. Oracle Database read consistency ensures that the Hintz insert and Banda update committed by transaction 1 are <span class="italic">not</span> visible to transaction 2. Transaction 2 sees its own update to the Greene salary.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5441" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5441 d44938e5339 "><pre class="pre codeblock"><code>COMMIT;</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5441 d44938e5342 ">
                                    <p>Transaction 2 commits its work, ending the transaction.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5451" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary 
FROM employees 
WHERE last_name IN 
('Banda', 'Greene', 'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               7000
Greene              9900
Hintz</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5451 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, salary
FROM employees 
WHERE last_name IN 
('Banda', 'Greene', 'Hintz');
 
LAST_NAME        SALARY
------------- ---------
Banda              7000
Greene             9900
Hintz</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5451 d44938e5342 ">
                                    <p>Both sessions query the salaries for Banda, Greene, and Hintz. Each session sees all committed changes made by transaction 1 and transaction 2.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5461" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
SET salary = 7100 
WHERE last_name = 'Hintz';</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5461 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5461 d44938e5342 ">
                                    <p>Session 1 begins transaction 3 by updating the Hintz salary. The default isolation level for transaction 3 is <code class="codeph">READ COMMITTED</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5475" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5475 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SET TRANSACTION 
ISOLATION LEVEL SERIALIZABLE;</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5475 d44938e5342 ">
                                    <p>Session 2 begins transaction 4 and sets it to the <code class="codeph">SERIALIZABLE</code> isolation level.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5488" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5488 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
SET salary = 7200 
WHERE last_name = 'Hintz';

-- prompt does not return</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5488 d44938e5342 ">
                                    <p>Transaction 4 attempts to update the salary for Hintz, but is blocked because transaction 3 locked the Hintz row. Transaction 4 queues behind transaction 3.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5498" headers="d44938e5336 "><pre class="pre codeblock"><code>SQL&gt; COMMIT;</code></pre></td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5498 d44938e5339 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5498 d44938e5342 ">
                                    <p>Transaction 3 commits its update of the Hintz salary, ending the transaction.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5508" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5508 d44938e5339 "><pre class="pre codeblock"><code>UPDATE employees 
SET salary = 7200 
WHERE last_name = 'Hintz'
*
ERROR at line 1: 
ORA-08177: can't 
serialize access for 
this transaction</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5508 d44938e5342 ">
                                    <p>The commit that ends transaction 3 causes the Hintz update in transaction 4 to fail with the <code class="codeph">ORA-08177</code> error. The problem error occurs because transaction 3 committed the Hintz update <span class="italic">after</span> transaction 4 began.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5524" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5524 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; ROLLBACK;</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5524 d44938e5342 ">
                                    <p>Session 2 rolls back transaction 4, which ends the transaction.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5534" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5534 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SET TRANSACTION 
ISOLATION LEVEL SERIALIZABLE;</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5534 d44938e5342 ">
                                    <p>Session 2 begins transaction 5 and sets it to the <code class="codeph">SERIALIZABLE</code> isolation level.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5547" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5547 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; SELECT last_name, 
salary FROM employees 
WHERE last_name IN 
('Banda', 'Greene', 'Hintz');
 
LAST_NAME         SALARY
------------- ----------
Banda               7000
Greene              9500
Hintz               7100</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5547 d44938e5342 ">
                                    <p>Transaction 5 queries the salaries for Banda, Greene, and Hintz. The Hintz salary update committed by transaction 3 is visible.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5557" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5557 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
SET salary = 7200 
WHERE last_name='Hintz';

1 row updated.</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5557 d44938e5342 ">
                                    <p>Transaction 5 updates the Hintz salary to a different value. Because the Hintz update made by transaction 3 committed <span class="italic">before</span> the start of transaction 5, the serialized access problem is avoided.
                                    </p>
                                    <p><span class="bold">Note:</span> If a different transaction updated and committed the Hintz row after transaction 5 began, then the serialized access problem would occur again.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d44938e5574" headers="d44938e5336 ">
                                    <p>No action.</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d44938e5574 d44938e5339 "><pre class="pre codeblock"><code>SQL&gt; COMMIT;
</code></pre></td>
                                 <td align="left" valign="top" width="30%" headers="d44938e5574 d44938e5342 ">
                                    <p>Session 2 commits the update without any problems, ending the transaction.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738__GUID-8C5FA6EE-CE0D-4917-8792-222222C31B6D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-92D38952-A7A0-486F-9547-BDB6E624F125" title="A row lock, also called a TX lock, is a lock on a single row of table. A transaction acquires a row lock for each row modified by an INSERT, UPDATE, DELETE, MERGE, or SELECT ... FOR UPDATE statement. The row lock exists until the transaction commits or rolls back.">Row Locks (TX)</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361" title="Transaction control is the management of changes made by DML statements and the grouping of DML statements into transactions.">Overview of Transaction Control</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88969"></a><div class="props_rev_3"><a id="GUID-371C3622-540E-490C-BD83-F12CE4CF39C6" name="GUID-371C3622-540E-490C-BD83-F12CE4CF39C6"></a><h4 id="CNCPT-GUID-371C3622-540E-490C-BD83-F12CE4CF39C6" class="sect4">Read-Only Isolation Level</h4>
                  <div>
                     <p>The <strong class="term">read-only isolation level</strong> is similar to the serializable isolation level, but read-only transactions do not permit data to be modified in the transaction unless the user is <code class="codeph">SYS</code>.
                     </p>
                     <p>Read-only transactions are not susceptible to the <code class="codeph">ORA-08177</code> error. Read-only transactions are useful for generating reports in which the contents must be consistent with respect to the time when the transaction began.
                     </p>
                     <p>Oracle Database achieves read consistency by reconstructing data as needed from the undo segments. Because undo segments are used in a circular fashion, the database can overwrite undo data. Long-running reports run the risk that undo data required for read consistency may have been reused by a different transaction, raising a <code class="codeph">snapshot too old</code> error. Setting an <a href="glossary.html#GUID-F02E3C0D-EFBF-4FAA-84B8-1BCF0BD2166A"><span class="xrefglossterm">undo retention period</span></a>, which is the minimum amount of time that the database attempts to retain old undo data before overwriting it, appropriately avoids this problem.
                     </p>
                     <div class="infoboxnotealso" id="GUID-371C3622-540E-490C-BD83-F12CE4CF39C6__GUID-76CDCF0B-15A2-4FF2-BDBB-1CB41220EB12">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="logical-storage-structures.html#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle Database maintains records of the actions of transactions, collectively known as undo data.">Undo Segments</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-undo.html#ADMIN11465" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to set the undo retention period
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1331"></a><div class="props_rev_3"><a id="GUID-AD0CEE83-2F33-4906-94E1-3D1022924C63" name="GUID-AD0CEE83-2F33-4906-94E1-3D1022924C63"></a><h3 id="CNCPT-GUID-AD0CEE83-2F33-4906-94E1-3D1022924C63" class="sect3">Overview of the Oracle Database Locking Mechanism</h3>
               <div>
                  <p>A <span class="bold">lock</span> is a mechanism that prevents destructive interactions.
                  </p>
                  <p>Interactions are destructive when they incorrectly update data or incorrectly alter underlying data structures, between transactions accessing shared data. Locks play a crucial role in maintaining database concurrency and consistency.</p>
               </div><a id="CNCPT88970"></a><div class="props_rev_3"><a id="GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47" name="GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47"></a><h4 id="CNCPT-GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47" class="sect4">Summary of Locking Behavior</h4>
                  <div>
                     <p>The database maintains several different types of locks, depending on the operation that acquired the lock.</p>
                     <p>In general, the database uses two types of locks: exclusive locks and share locks. Only one exclusive lock can be obtained on a resource such as a row or a table, but many share locks can be obtained on a single resource.</p>
                     <p>Locks affect the interaction of readers and writers. A reader is a query of a resource, whereas a writer is a statement modifying a resource. The following rules summarize the locking behavior of Oracle Database for readers and writers:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>A row is locked only when modified by a writer.</p>
                           <p>When a statement updates one row, the transaction acquires a lock for this row only. By locking table data at the row level, the database minimizes contention for the same data. Under normal circumstances<a id="fn_1" name="fn_1" href="#fn_1" data="" when="" processing="" a="" distributed="" two-phase="" commit,="" the="" database="" may="" briefly="" prevent="" read="" access="" in="" special="" circumstances.="" specifically,="" if="" query="" starts="" between="" prepare="" and="" commit="" phases="" attempts="" to="" before="" then="" escalate="" lock="" from="" row-level="" block-level="" guarantee="" consistency=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a> the database does not escalate a row lock to the block or table level.
                           </p>
                        </li>
                        <li>
                           <p>A writer of a row blocks a concurrent writer of the same row.</p>
                           <p>If one transaction is modifying a row, then a row lock prevents a different transaction from modifying the same row simultaneously.</p>
                        </li>
                        <li>
                           <p>A reader never blocks a writer.</p>
                           <p>Because a reader of a row does not lock it, a writer can modify this row. The only exception is a <code class="codeph">SELECT ... FOR UPDATE</code> statement, which is a special type of <code class="codeph">SELECT</code> statement that <span class="italic">does</span> lock the row that it is reading.
                           </p>
                        </li>
                        <li>
                           <p>A writer never blocks a reader.</p>
                           <p>When a row is being changed by a writer, the database uses undo data to provide readers with a consistent view of the row.</p>
                           <div class="infoboxnote" id="GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47__GUID-F42BEFC3-4611-4FAB-BDEE-582D4CAB4D00">
                              <p class="notep1">Note:</p>
                              <p>Readers of data may have to wait for writers of the same data blocks in very special cases of pending distributed transactions.</p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47__GUID-B31D6133-FA94-44D1-9F26-041CD83B84D9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/SELECT.html#SQLRF55370" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about <code class="codeph">SELECT ... FOR UPDATE</code></p>
                           </li>
                           <li>
                              <p><a href="../admin/distributed-transactions-concepts.html#ADMIN12233" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about waits associated with in-doubt distributed transactions
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88971"></a><a id="CNCPT1332"></a><div class="props_rev_3"><a id="GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3" name="GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3"></a><h4 id="CNCPT-GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3" class="sect4">Use of Locks</h4>
                  <div>
                     <p>In a single-user database, locks are not necessary because only one user is modifying information. However, when multiple users are accessing and modifying data, the database must provide a way to prevent concurrent modification of the same data.</p>
                     <p>Locks achieve the following important database requirements: </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Consistency</p>
                           <p>The data a session is viewing or changing must not be changed by other sessions until the user is finished.</p>
                        </li>
                        <li>
                           <p>Integrity</p>
                           <p>The data and structures must reflect all changes made to them in the correct sequence.</p>
                        </li>
                     </ul>
                     <p>Oracle Database provides data concurrency, consistency, and integrity among transactions through its locking mechanisms. Locking occurs automatically and requires no user action.</p>
                     <p>The need for locks can be illustrated by a concurrent update of a single row. In the following example, a simple web-based application presents the end user with an employee email and phone number. The application uses an <code class="codeph">UPDATE</code> statement such as the following to modify the data:
                     </p><pre class="pre codeblock"><code>UPDATE employees
SET    email = ?, phone_number = ?
WHERE  employee_id = ?
AND    email = ?
AND    phone_number = ?
</code></pre><p>In the preceding <code class="codeph">UPDATE</code> statement, the email and phone number values in the <code class="codeph">WHERE</code> clause are the original, unmodified values for the specified employee. This update ensures that the row that the application modifies was not changed after the application last read and displayed it to the user. In this way, the application avoids the lost update problem in which one user overwrites changes made by another user, effectively losing the update by the second user (<a href="data-concurrency-and-consistency.html#GUID-8A15F1B2-3F64-49E7-929D-4768B2DB7DD7__CHDBBCEI" title="This table describes the conflicting writes and lost updates in a READ COMMITTED transaction, when a serializable or read committed transaction interacts with a read committed transaction.">Table 9-2</a> shows an example of a lost update).
                     </p>
                     <p><a href="data-concurrency-and-consistency.html#GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3__GUID-6F6A0A32-87B1-4F60-A3A4-C5EDBB157F82" title="This table shows the sequence of events when two sessions attempt to modify the same row in the employees table at roughly the same time.">Table 9-4</a> shows the sequence of events when two sessions attempt to modify the same row in the <code class="codeph">employees</code> table at roughly the same time.
                     </p>
                     <div class="tblformalwide" id="GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3__GUID-6F6A0A32-87B1-4F60-A3A4-C5EDBB157F82">
                        <p class="titleintable">Table 9-4 Row Locking Example</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Row Locking Example" width="100%" border="1" summary="This table shows the sequence of events when two sessions attempt to modify the same row in the employees table at roughly the same time. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d44938e6885">T</th>
                                 <th align="left" valign="bottom" width="20%" id="d44938e6887">Session 1</th>
                                 <th align="left" valign="bottom" width="20%" id="d44938e6889">Session 2</th>
                                 <th align="left" valign="bottom" width="20%" id="d44938e6891">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e6895" headers="d44938e6885 ">
                                    <p>t0</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6895 d44938e6887 "><pre class="pre codeblock"><code>SELECT employee_id as ID, 
       email, phone_number 
FROM   hr.employees 
WHERE  last_name='Himuro';</code></pre><pre class="pre codeblock"><code>ID  EMAIL   PHONE_NUMBER
--- ------- ------------
118 GHIMURO 515.127.4565</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6895 d44938e6889 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6895 d44938e6891 ">
                                    <p>In session 1, the <code class="codeph">hr1</code> user queries <code class="codeph">hr.employees</code> for the Himuro record and displays the employee_id (<code class="codeph">118</code>), email (<code class="codeph">GHIMURO</code>), and phone number (<code class="codeph">515.127.4565</code>) attributes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e6923" headers="d44938e6885 ">
                                    <p>t1</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6923 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6923 d44938e6889 "><pre class="pre codeblock"><code>SELECT employee_id as ID,
       email, phone_number 
FROM   hr.employees 
WHERE  last_name='Himuro';</code></pre><pre class="pre codeblock"><code>ID  EMAIL   PHONE_NUMBER
--- ------- ------------
118 GHIMURO 515.127.4565</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6923 d44938e6891 ">
                                    <p>In session 2, the <code class="codeph">hr2</code> user queries <code class="codeph">hr.employees</code> for the Himuro record and displays the employee_id (<code class="codeph">118</code>), email (<code class="codeph">GHIMURO</code>), and phone number (<code class="codeph">515.127.4565</code>) attributes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e6951" headers="d44938e6885 ">
                                    <p>t2</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6951 d44938e6887 "><pre class="pre codeblock"><code>UPDATE hr.employees SET 
phone_number='515.555.1234'
WHERE employee_id=118
AND email='GHIMURO'
AND phone_number = 
'515.127.4565';

1 row updated.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6951 d44938e6889 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6951 d44938e6891 ">
                                    <p>In session 1, the <code class="codeph">hr1</code> user updates the phone number in the row to <code class="codeph">515.555.1234</code>, which acquires a lock on the <code class="codeph">GHIMURO</code> row.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e6971" headers="d44938e6885 ">
                                    <p>t3</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6971 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6971 d44938e6889 "><pre class="pre codeblock"><code>UPDATE hr.employees SET 
phone_number='515.555.1235'
WHERE employee_id=118
AND email='GHIMURO'
AND phone_number = 
'515.127.4565';

-- SQL*Plus does not show
-- a row updated message or
-- return the prompt.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6971 d44938e6891 ">
                                    <p>In session 2, the <code class="codeph">hr2</code> user attempts to update the same row, but is blocked because <code class="codeph">hr1</code> is currently processing the row.
                                    </p>
                                    <p>The attempted update by <code class="codeph">hr2</code> occurs almost simultaneously with the <code class="codeph">hr1</code> update.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e6996" headers="d44938e6885 ">
                                    <p>t4</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6996 d44938e6887 "><pre class="pre codeblock"><code>COMMIT;

Commit complete.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6996 d44938e6889 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e6996 d44938e6891 ">
                                    <p>In session 1, the <code class="codeph">hr1</code> user commits the transaction.
                                    </p>
                                    <p>The commit makes the change for Himuro permanent and unblocks session 2, which has been waiting.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7012" headers="d44938e6885 ">
                                    <p>t5</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7012 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7012 d44938e6889 "><pre class="pre codeblock"><code>0 rows updated.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7012 d44938e6891 ">
                                    <p>In session 2, the <code class="codeph">hr2</code> user discovers that the <code class="codeph">GHIMURO</code> row was modified in such a way that it no longer matches its predicate.
                                    </p>
                                    <p>Because the predicates do not match, session 2 updates no records.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7031" headers="d44938e6885 ">
                                    <p>t6</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7031 d44938e6887 "><pre class="pre codeblock"><code>UPDATE hr.employees SET 
phone_number='515.555.1235'
WHERE employee_id=118
AND email='GHIMURO' AND 
phone_number='515.555.1234';

1 row updated.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7031 d44938e6889 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7031 d44938e6891 ">
                                    <p>In session 1, the <code class="codeph">hr1</code> user realizes that it updated the <code class="codeph">GHIMURO</code> row with the wrong phone number. The user starts a new transaction and updates the phone number in the row to <code class="codeph">515.555.1235</code>, which locks the <code class="codeph">GHIMURO</code> row.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7054" headers="d44938e6885 ">
                                    <p>t7</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7054 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7054 d44938e6889 "><pre class="pre codeblock"><code>SELECT employee_id as ID, 
       email, phone_number 
FROM   hr.employees 
WHERE  last_name='Himuro';</code></pre><pre class="pre codeblock"><code>ID  EMAIL   PHONE_NUMBER
--- ------- ------------
118 GHIMURO 515.555.1234</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7054 d44938e6891 ">
                                    <p>In session 2, the <code class="codeph">hr2</code> user queries <code class="codeph">hr.employees</code> for the Himuro record. The record shows the phone number update committed by session 1 at t4. Oracle Database read consistency ensures that session 2 does not see the uncommitted change made at t6.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7073" headers="d44938e6885 ">
                                    <p>t8</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7073 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7073 d44938e6889 "><pre class="pre codeblock"><code>UPDATE hr.employees SET 
phone_number='515.555.1235 
WHERE employee_id=118
AND email='GHIMURO'
AND phone_number =
'515.555.1234';

-- SQL*Plus does not show
-- a row updated message or
-- return the prompt.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7073 d44938e6891 ">
                                    <p>In session 2, the <code class="codeph">hr2</code> user attempts to update the same row, but is blocked because <code class="codeph">hr1</code> is currently processing the row.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7090" headers="d44938e6885 ">
                                    <p>t9</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7090 d44938e6887 "><pre class="pre codeblock"><code>ROLLBACK;

Rollback complete.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7090 d44938e6889 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7090 d44938e6891 ">
                                    <p>In session 1, the <code class="codeph">hr1</code> user rolls back the transaction, which ends it.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7104" headers="d44938e6885 ">
                                    <p>t10</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7104 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7104 d44938e6889 "><pre class="pre codeblock"><code>1 row updated.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7104 d44938e6891 ">
                                    <p>In session 2, the update of the phone number succeeds because the session 1 update was rolled back. The <code class="codeph">GHIMURO</code> row matches its predicate, so the update succeeds.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d44938e7119" headers="d44938e6885 ">
                                    <p>t11</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7119 d44938e6887 "> </td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7119 d44938e6889 "><pre class="pre codeblock"><code>COMMIT;

Commit complete.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d44938e7119 d44938e6891 ">
                                    <p>Session 2 commits the update, ending the transaction.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle Database automatically obtains necessary locks when executing SQL statements. For example, before the database permits a session to modify data, the session must first lock the data. The lock gives the session exclusive control over the data so that no other transaction can modify the locked data until the lock is released. </p>
                     <p>Because the locking mechanisms of Oracle Database are tied closely to transaction control, application designers need only define transactions properly, and Oracle Database automatically manages locking. Users never need to lock any resource explicitly, although Oracle Database also enables users to lock data manually.</p>
                     <p>The following sections explain concepts that are important for understanding how Oracle Database achieves data concurrency.</p>
                     <div class="infoboxnotealso" id="GUID-E6FB4581-CD65-4C18-AFDD-ACB3243238D3__GUID-C8158A34-356C-486D-B831-28D7AB7374E4">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/OWA_OPT_LOCK.html#ARPLS393" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">OWA_OPT_LOCK</code> package, which contains subprograms that can help prevent lost updates
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT1333"></a><div class="props_rev_3"><a id="GUID-2309ED19-A551-46DA-9E58-D957A22F9D6C" name="GUID-2309ED19-A551-46DA-9E58-D957A22F9D6C"></a><h4 id="CNCPT-GUID-2309ED19-A551-46DA-9E58-D957A22F9D6C" class="sect4">Lock Modes</h4>
                  <div>
                     <p>Oracle Database automatically uses the lowest applicable level of restrictiveness to provide the highest degree of data concurrency yet also provide fail-safe data integrity.</p>
                     <p>The less restrictive the level, the more available the data is for access by other users. Conversely, the more restrictive the level, the more limited other transactions are in the types of locks that they can acquire.</p>
                     <p>Oracle Database uses two modes of locking in a multiuser database:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Exclusive lock mode</p>
                           <p>This mode prevents the associated resource from being shared. A transaction obtains an <a href="glossary.html#GUID-745FDB36-B218-4F25-BCB1-61D696DB8814"><span class="xrefglossterm">exclusive lock</span></a> when it modifies data. The first transaction to lock a resource exclusively is the only transaction that can alter the resource until the exclusive lock is released.
                           </p>
                        </li>
                        <li>
                           <p>Share lock mode</p>
                           <p>This mode allows the associated resource to be shared, depending on the operations involved. Multiple users reading data can share the data, each holding a <a href="glossary.html#GUID-A0909390-32EF-4122-B892-659E0F04C709"><span class="xrefglossterm">share lock</span></a> to prevent concurrent access by a writer who needs an exclusive lock. Multiple transactions can acquire share locks on the same resource.
                           </p>
                        </li>
                     </ul>
                     <p>Assume that a transaction uses a <code class="codeph">SELECT ... FOR UPDATE</code> statement to select a single table row. The transaction acquires an exclusive row lock and a row share table lock. The row lock allows other sessions to modify any rows <span class="italic">other than</span> the locked row, while the table lock prevents sessions from altering the structure of the table. Thus, the database permits as many statements as possible to execute.
                     </p>
                  </div>
               </div><a id="CNCPT88972"></a><div class="props_rev_3"><a id="GUID-FCE31DFC-474C-4145-9561-29344C02BB3E" name="GUID-FCE31DFC-474C-4145-9561-29344C02BB3E"></a><h4 id="CNCPT-GUID-FCE31DFC-474C-4145-9561-29344C02BB3E" class="sect4">Lock Conversion and Escalation</h4>
                  <div>
                     <p>Oracle Database performs <span class="bold">lock conversion</span> as necessary. 
                     </p>
                     <p>In lock conversion, the database automatically converts a table lock of lower restrictiveness to one of higher restrictiveness. For example, suppose a transaction issues a <code class="codeph">SELECT ... FOR UPDATE</code> for an employee and later updates the locked row. In this case, the database automatically converts the row share table lock to a row exclusive table lock. A transaction holds exclusive row locks for all rows inserted, updated, or deleted within the transaction. Because row locks are acquired at the highest degree of restrictiveness, no lock conversion is required or performed.
                     </p>
                     <p>Lock conversion is different from <a href="glossary.html#GUID-2A2BBC47-0538-40B6-8BB3-E60DAE25F32F"><span class="xrefglossterm">lock escalation</span></a>, which occurs when numerous locks are held at one level of granularity (for example, rows) and a database raises the locks to a higher level of granularity (for example, table). If a session locks many rows in a table, then some databases automatically escalate the row locks to a single table. The number of locks decreases, but the restrictiveness of what is locked increases.
                     </p>
                     <p><span class="italic">Oracle Database never escalates locks.</span> Lock escalation greatly increases the probability of deadlocks. Assume that a system is trying to escalate locks on behalf of transaction 1 but cannot because of the locks held by transaction 2. A deadlock is created if transaction 2 also requires lock escalation of the same data before it can proceed.
                     </p>
                  </div>
               </div><a id="CNCPT1334"></a><div class="props_rev_3"><a id="GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F" name="GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F"></a><h4 id="CNCPT-GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F" class="sect4">Lock Duration</h4>
                  <div>
                     <p>Oracle Database automatically releases a lock when some event occurs so that the transaction no longer requires the resource.</p>
                     <p>Usually, the database holds locks acquired by statements within a transaction for the duration of the transaction. These locks prevent destructive interference such as dirty reads, lost updates, and destructive <a href="glossary.html#GUID-64F19D78-A73F-44A5-AA2E-60EBC800CB22"><span class="xrefglossterm">DDL</span></a> from concurrent transactions.
                     </p>
                     <div class="infoboxnote" id="GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F__GUID-2D4C2BE1-A849-419D-97EA-B9CC7CD48417">
                        <p class="notep1">Note:</p>
                        <p>A table lock taken on a child table because of an unindexed foreign key is held for the duration of the statement, not the transaction. Also, the <code class="codeph">DBMS_LOCK</code> package enables user-defined locks to be released and allocated at will and even held over transaction boundaries.
                        </p>
                     </div>
                     <p>Oracle Database releases all locks acquired by the statements within a transaction when it commits or rolls back. Oracle Database also releases locks acquired after a <a href="glossary.html#GUID-ED9601F2-D0A2-4FE5-83A8-8F7F9E9E0D18"><span class="xrefglossterm">savepoint</span></a> when rolling back to the savepoint. However, only transactions not waiting for the previously locked resources can acquire locks on the now available resources. Waiting transactions continue to wait until after the original transaction commits or rolls back completely.
                     </p>
                     <div class="infoboxnotealso" id="GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F__GUID-B58118DD-8FDC-4C9A-A209-77AE87141FFA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="transactions.html#GUID-07517D95-D5F9-4851-B737-B076336CED13__CHDGIIFB" title="This table shows an extended example showing a rollback to savepoint.">Table 10-3</a>"</span> that shows transaction waiting behavior
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42" title="With Oracle Database Lock Management services, you can define your own locks for a specific application.">Overview of User-Defined Locks</a>"</span> to learn more about <code class="codeph">DBMS_LOCK</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88973"></a><a id="CNCPT1336"></a><div class="props_rev_3"><a id="GUID-C1971E9B-849A-4634-9575-4F8FAD697750" name="GUID-C1971E9B-849A-4634-9575-4F8FAD697750"></a><h4 id="CNCPT-GUID-C1971E9B-849A-4634-9575-4F8FAD697750" class="sect4">Locks and Deadlocks</h4>
                  <div>
                     <p>A <strong class="term">deadlock</strong> is a situation in which two or more users are waiting for data locked by each other. Deadlocks prevent some transactions from continuing to work.
                     </p>
                     <p>Oracle Database automatically detects deadlocks and resolves them by rolling back one statement involved in the deadlock, releasing one set of the conflicting row locks. The database returns a corresponding message to the transaction that undergoes <a href="glossary.html#GUID-187EACC0-1FDD-498A-BEAD-892AC03B50D0"><span class="xrefglossterm">statement-level rollback</span></a>. The statement rolled back belongs to the transaction that detects the deadlock. Usually, the signaled transaction should be rolled back explicitly, but it can retry the rolled-back statement after waiting.
                     </p>
                     <p><a href="data-concurrency-and-consistency.html#GUID-C1971E9B-849A-4634-9575-4F8FAD697750__BABICGEE" title="This table illustrates how Oracle Database handles two deadlocked transactions.">Table 9-5</a> illustrates two transactions in a deadlock.
                     </p>
                     <div class="tblformalwide" id="GUID-C1971E9B-849A-4634-9575-4F8FAD697750__BABICGEE">
                        <p class="titleintable">Table 9-5 Deadlocked Transactions</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Deadlocked Transactions" width="100%" border="1" summary="This table illustrates how Oracle Database handles two deadlocked transactions. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d44938e8381">T</th>
                                 <th align="left" valign="bottom" id="d44938e8384">Session 1</th>
                                 <th align="left" valign="bottom" id="d44938e8387">Session 2</th>
                                 <th align="left" valign="bottom" id="d44938e8390">Explanation</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8395" headers="d44938e8381 ">
                                    <p>t0</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8395 d44938e8384 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
  SET salary = salary*1.1
  WHERE employee_id = 100;

1 row updated.</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8395 d44938e8387 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees
  SET  salary = salary*1.1
  WHERE employee_id = 200;

1 row updated.</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8395 d44938e8390 ">
                                    <p>Session 1 starts transaction 1 and updates the salary for employee 100. Session 2 starts transaction 2 and updates the salary for employee 200. No problem exists because each transaction locks only the row that it attempts to update.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8408" headers="d44938e8381 ">
                                    <p>t1</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8408 d44938e8384 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees 
  SET salary = salary*1.1
  WHERE employee_id = 200;

-- prompt does not return</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8408 d44938e8387 "><pre class="pre codeblock"><code>SQL&gt; UPDATE employees
  SET salary = salary*1.1
  WHERE employee_id = 100;

-- prompt does not return</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8408 d44938e8390 ">
                                    <p>Transaction 1 attempts to update the employee 200 row, which is currently locked by transaction 2. Transaction 2 attempts to update the employee 100 row, which is currently locked by transaction 1.</p>
                                    <p>A deadlock results because neither transaction can obtain the resource it needs to proceed or terminate. No matter how long each transaction waits, the conflicting locks are held.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8423" headers="d44938e8381 ">
                                    <p>t2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8423 d44938e8384 "><pre class="pre codeblock"><code>UPDATE employees
       *
ERROR at line 1:
ORA-00060: deadlock detected
while waiting for resource

SQL&gt;</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8423 d44938e8387 "> </td>
                                 <td align="left" valign="top" headers="d44938e8423 d44938e8390 ">
                                    <p>Transaction 1 signals the deadlock and rolls back the <code class="codeph">UPDATE</code> statement issued at t1. However, the update made at t0 is not rolled back. The prompt is returned in session 1.
                                    </p>
                                    <p><span class="bold">Note:</span> Only one session in the deadlock actually gets the deadlock error, but either session could get the error.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8441" headers="d44938e8381 ">
                                    <p>t3</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8441 d44938e8384 "><pre class="pre codeblock"><code>SQL&gt; COMMIT;

Commit complete.</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8441 d44938e8387 "> </td>
                                 <td align="left" valign="top" headers="d44938e8441 d44938e8390 ">
                                    <p>Session 1 commits the update made at t0, ending transaction 1. The update unsuccessfully attempted at t1 is not committed.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8452" headers="d44938e8381 ">
                                    <p>t4</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8452 d44938e8384 "> </td>
                                 <td align="left" valign="top" headers="d44938e8452 d44938e8387 "><pre class="pre codeblock"><code>1 row updated.

SQL&gt;</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8452 d44938e8390 ">
                                    <p>The update at t1 in transaction 2, which was being blocked by transaction 1, is executed. The prompt is returned.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d44938e8463" headers="d44938e8381 ">
                                    <p>t5</p>
                                 </td>
                                 <td align="left" valign="top" headers="d44938e8463 d44938e8384 "> </td>
                                 <td align="left" valign="top" headers="d44938e8463 d44938e8387 "><pre class="pre codeblock"><code>SQL&gt; COMMIT;

Commit complete.</code></pre></td>
                                 <td align="left" valign="top" headers="d44938e8463 d44938e8390 ">
                                    <p>Session 2 commits the updates made at t0 and t1, which ends transaction 2.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Deadlocks most often occur when transactions explicitly override the default locking of Oracle Database. Because Oracle Database does not escalate locks and does not use read locks for queries, but does use row-level (rather than page-level) locking, deadlocks occur infrequently.</p>
                     <div class="infoboxnotealso" id="GUID-C1971E9B-849A-4634-9575-4F8FAD697750__GUID-28BD423C-5E44-44E2-AA84-ECC36C4B2D1B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7" title="You can manually override the Oracle Database default locking mechanisms.">Overview of Manual Data Locks</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS00203" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn how to handle deadlocks when you lock tables explicitly
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1339"></a><div class="props_rev_3"><a id="GUID-E926E638-0161-4389-887B-4A31A529478A" name="GUID-E926E638-0161-4389-887B-4A31A529478A"></a><h3 id="CNCPT-GUID-E926E638-0161-4389-887B-4A31A529478A" class="sect3">Overview of Automatic Locks</h3>
               <div>
                  <p>Oracle Database automatically locks a resource on behalf of a transaction to prevent other transactions from doing something that requires exclusive access to the same resource. </p>
                  <p>The database automatically acquires different types of locks at different levels of restrictiveness depending on the resource and the operation being performed.</p>
                  <div class="infoboxnote" id="GUID-E926E638-0161-4389-887B-4A31A529478A__GUID-234DEE05-05D8-47C5-929E-49A2C855FA3F">
                     <p class="notep1">Note:</p>
                     <p>The database never locks rows when performing simple reads.</p>
                  </div>
                  <p>Oracle Database locks are divided into the categories show in the following table.</p>
                  <div class="tblformal" id="GUID-E926E638-0161-4389-887B-4A31A529478A__GUID-8097ADA6-419F-4E1F-BFEA-C7E2AD8BF1FE">
                     <p class="titleintable">Table 9-6 Lock Categories</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Lock Categories" width="100%" border="1" summary="The table shows Oracle Database lock categories." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d44938e8791">Lock</th>
                              <th align="left" valign="bottom" width="45%" id="d44938e8794">Description</th>
                              <th align="left" valign="bottom" width="33%" id="d44938e8797">To Learn More</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d44938e8802" headers="d44938e8791 ">
                                 <p>DML Locks</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d44938e8802 d44938e8794 ">
                                 <p>Protect data. For example, table locks lock entire tables, while row locks lock selected rows.</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d44938e8802 d44938e8797 ">
                                 <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-6D4F7A79-A5F1-470A-ADEF-8888565DE84F" title="A DML lock, also called a data lock, guarantees the integrity of data accessed concurrently by multiple users.">DML Locks</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d44938e8823" headers="d44938e8791 ">
                                 <p>DDL Locks</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d44938e8823 d44938e8794 ">
                                 <p>Protect the structure of schema objects—for example, the dictionary definitions of tables and views.</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d44938e8823 d44938e8797 ">
                                 <p> <span class="q">"<a href="data-concurrency-and-consistency.html#GUID-5015CC53-4059-4CD6-B892-F211E8BDE2F9" title="A data dictionary (DDL) lock protects the definition of a schema object while an ongoing DDL operation acts on or refers to the object.">DDL Locks</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d44938e8842" headers="d44938e8791 ">
                                 <p>System Locks </p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d44938e8842 d44938e8794 ">
                                 <p>Protect internal database structures such as data files. Latches, mutexes, and internal locks are entirely automatic.</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d44938e8842 d44938e8797 ">
                                 <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-19E6C804-8D75-4D05-ACD2-11915687307A" title="Oracle Database uses various types of system locks to protect internal database and memory structures. These mechanisms are inaccessible to users because users have no control over their occurrence or duration.">System Locks</a>"</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CNCPT1340"></a><div class="props_rev_3"><a id="GUID-6D4F7A79-A5F1-470A-ADEF-8888565DE84F" name="GUID-6D4F7A79-A5F1-470A-ADEF-8888565DE84F"></a><h4 id="CNCPT-GUID-6D4F7A79-A5F1-470A-ADEF-8888565DE84F" class="sect4">DML Locks</h4>
                  <div>
                     <p>A <span class="bold">DML lock</span>, also called a <span class="italic">data lock</span>, guarantees the integrity of data accessed concurrently by multiple users.
                     </p>
                     <p>For example, a DML lock prevents two customers from buying the last copy of a book available from an online bookseller. DML locks prevent destructive interference of simultaneous conflicting DML or DDL operations.</p>
                     <p>DML statements automatically acquire the following types of locks:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-concurrency-and-consistency.html#GUID-92D38952-A7A0-486F-9547-BDB6E624F125" title="A row lock, also called a TX lock, is a lock on a single row of table. A transaction acquires a row lock for each row modified by an INSERT, UPDATE, DELETE, MERGE, or SELECT ... FOR UPDATE statement. The row lock exists until the transaction commits or rolls back.">Row Locks (TX)</a></p>
                        </li>
                        <li>
                           <p><a href="data-concurrency-and-consistency.html#GUID-B6B075B7-DE83-45EF-8A9E-1C1F71F72598" title="A table lock, also called a TM lock, is acquired by a transaction when a table is modified by an INSERT, UPDATE, DELETE, MERGE, SELECT with the FOR UPDATE clause, or LOCK TABLE statement.">Table Locks (TM)</a></p>
                        </li>
                     </ul>
                     <p>In the following sections, the acronym in parentheses after each type of lock or lock mode is the abbreviation used in the Locks Monitor of Oracle Enterprise Manager (Enterprise Manager). Enterprise Manager might display TM for any table lock, rather than indicate the mode of table lock (such as RS or SRX).</p>
                     <div class="infoboxnotealso" id="GUID-6D4F7A79-A5F1-470A-ADEF-8888565DE84F__GUID-112F720A-8A89-459B-ACC6-1DD58809018A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-BE08A8FA-501A-418E-AD32-3E42AE762026" title="Oracle Enterprise Manager (Enterprise Manager) is a web-based system management tool that provides management of Oracle databases, Exadata database machine, Fusion Middleware, Oracle applications, servers, storage, and non-Oracle hardware and software.">Oracle Enterprise Manager</a>"</span></p>
                     </div>
                  </div><a id="CNCPT88974"></a><a id="CNCPT1341"></a><div class="props_rev_3"><a id="GUID-92D38952-A7A0-486F-9547-BDB6E624F125" name="GUID-92D38952-A7A0-486F-9547-BDB6E624F125"></a><h5 id="CNCPT-GUID-92D38952-A7A0-486F-9547-BDB6E624F125" class="sect5">Row Locks (TX)</h5>
                     <div>
                        <p>A <span class="bold">row lock</span>, also called a <span class="italic">TX lock</span>, is a lock on a single row of table. A transaction acquires a row lock for each row modified by an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">MERGE</code>, or <code class="codeph">SELECT</code> <code class="codeph">... FOR</code> <code class="codeph">UPDATE</code> statement. The row lock exists until the transaction commits or rolls back.
                        </p>
                        <p>Row locks primarily serve as a queuing mechanism to prevent two transactions from modifying the same row. The database always locks a modified row in exclusive mode so that other transactions cannot modify the row until the transaction holding the lock commits or rolls back. Row locking provides the finest grain locking possible and so provides the best possible concurrency and throughput.</p>
                        <div class="infoboxnote" id="GUID-92D38952-A7A0-486F-9547-BDB6E624F125__GUID-F52FBD3B-821F-415B-B2E2-D7C45EB3456D">
                           <p class="notep1">Note:</p>
                           <p>If a transaction terminates because of database <a href="glossary.html#GUID-A3F6C6D9-6351-4886-BA47-5BD688AECA4B"><span class="xrefglossterm">instance failure</span></a>, then block-level recovery makes a row available before the entire transaction is recovered.
                           </p>
                        </div>
                        <p>If a transaction obtains a lock for a row, then the transaction also acquires a lock for the table containing the row. The table lock prevents conflicting DDL operations that would override data changes in a current transaction. <a href="data-concurrency-and-consistency.html#GUID-92D38952-A7A0-486F-9547-BDB6E624F125__BABJHGCE">Figure 9-2</a> illustrates an update of the third row in a table. Oracle Database automatically places an exclusive lock on the updated row and a subexclusive lock on the table.
                        </p>
                        <div class="figure" id="GUID-92D38952-A7A0-486F-9547-BDB6E624F125__BABJHGCE">
                           <p class="titleinfigure">Figure 9-2 Row and Table Locks</p><img src="img/cncpt265.gif" width="592" alt="Description of Figure 9-2 follows" title="Description of Figure 9-2 follows" longdesc="img_text/cncpt265.html"><br><a href="img_text/cncpt265.html">Description of "Figure 9-2 Row and Table Locks"</a></div>
                        <!-- class="figure" -->
                     </div><a id="CNCPT88976"></a><a id="CNCPT88975"></a><div class="props_rev_3"><a id="GUID-6665D14A-D186-4BA8-A277-A3B8237FA57B" name="GUID-6665D14A-D186-4BA8-A277-A3B8237FA57B"></a><h6 id="CNCPT-GUID-6665D14A-D186-4BA8-A277-A3B8237FA57B" class="sect6">Row Locks and Concurrency</h6>
                        <div>
                           <p>This scenario illustrates how Oracle Database uses row locks for concurrency. </p>
                           <p>Three sessions query the same rows simultaneously. Session 1 and 2 proceed to make uncommitted updates to different rows, while session 3 makes no updates. Each session sees its own uncommitted updates but not the uncommitted updates of any other session.</p>
                           <div class="tblformalwide" id="GUID-6665D14A-D186-4BA8-A277-A3B8237FA57B__BABGHCDD">
                              <p class="titleintable">Table 9-7 Data Concurrency Example</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Data Concurrency Example" width="100%" border="1" summary="This table shows an example of three concurrent transactions and how Oracle Database uses row locks for concurrency." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="4%" id="d44938e9849">T</th>
                                       <th align="left" valign="bottom" width="25%" id="d44938e9852">Session 1</th>
                                       <th align="left" valign="bottom" width="25%" id="d44938e9855">Session 2</th>
                                       <th align="left" valign="bottom" width="24%" id="d44938e9858">Session 3</th>
                                       <th align="left" valign="bottom" width="22%" id="d44938e9861">Explanation</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="4%" id="d44938e9866" headers="d44938e9849 ">
                                          <p>t0</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9866 d44938e9852 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9866 d44938e9855 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary 
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="24%" headers="d44938e9866 d44938e9858 "><pre class="pre codeblock"><code>SELECT employee_id, 
       salary 
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="22%" headers="d44938e9866 d44938e9861 ">
                                          <p>Three different sessions simultaneously query the ID and salary of employees 100 and 101. The results returned by each query are identical.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="4%" id="d44938e9888" headers="d44938e9849 ">
                                          <p>t1</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9888 d44938e9852 "><pre class="pre codeblock"><code>UPDATE hr.employees
SET salary = 
      salary+100
WHERE 
  employee_id=100;</code></pre></td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9888 d44938e9855 "> </td>
                                       <td align="left" valign="top" width="24%" headers="d44938e9888 d44938e9858 "> </td>
                                       <td align="left" valign="top" width="22%" headers="d44938e9888 d44938e9861 ">
                                          <p>Session 1 updates the salary of employee 100, but does not commit. In the update, the writer acquires a row-level lock for the updated row only, thereby preventing other writers from modifying this row.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="4%" id="d44938e9900" headers="d44938e9849 ">
                                          <p>t2</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9900 d44938e9852 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary 
FROM   employees 
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          <span class="bold">612</span>
101          600</code></pre></td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9900 d44938e9855 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="24%" headers="d44938e9900 d44938e9858 "><pre class="pre codeblock"><code>SELECT employee_id, 
       salary 
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="22%" headers="d44938e9900 d44938e9861 ">
                                          <p>Each session simultaneously issues the original query. Session 1 shows the salary of 612 resulting from the t1 update. The readers in session 2 and 3 return rows immediately and do not wait for session 1 to end its transaction. The database uses multiversion read consistency to show the salary as it existed before the update in session 1.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="4%" id="d44938e9925" headers="d44938e9849 ">
                                          <p>t3</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9925 d44938e9852 "> </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9925 d44938e9855 "><pre class="pre codeblock"><code>UPDATE hr.employee
  SET  salary =
         salary+100
  WHERE 
    employee_id=101;</code></pre></td>
                                       <td align="left" valign="top" width="24%" headers="d44938e9925 d44938e9858 "> </td>
                                       <td align="left" valign="top" width="22%" headers="d44938e9925 d44938e9861 ">
                                          <p>Session 2 updates the salary of employee 101, but does not commit the transaction. In the update, the writer acquires a row-level lock for the updated row only, preventing other writers from modifying this row.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="4%" id="d44938e9937" headers="d44938e9849 ">
                                          <p>t4</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9937 d44938e9852 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary 
FROM   employees 
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          <span class="bold">612</span>
101          600</code></pre></td>
                                       <td align="left" valign="top" width="25%" headers="d44938e9937 d44938e9855 "><pre class="pre codeblock"><code>SELECT employee_id,
       salary
FROM   employees 
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          <span class="bold">700</span></code></pre></td>
                                       <td align="left" valign="top" width="24%" headers="d44938e9937 d44938e9858 "><pre class="pre codeblock"><code>SELECT employee_id, 
       salary 
FROM   employees
WHERE  employee_id
IN ( 100, 101 );</code></pre><pre class="pre codeblock"><code>EMPLOYEE_ID  SALARY
-----------  ------
100          512
101          600</code></pre></td>
                                       <td align="left" valign="top" width="22%" headers="d44938e9937 d44938e9861 ">
                                          <p>Each session simultaneously issues the original query. Session 1 shows the salary of 612 resulting from the t1 update, but not the salary update for employee 101 made in session 2. The reader in session 2 shows the salary update made in session 2, but not the salary update made in session 1. The reader in session 3 uses read consistency to show the salaries before modification by session 1 and 2.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-6665D14A-D186-4BA8-A277-A3B8237FA57B__GUID-1A5A9D57-3A1F-40A4-AB2B-239DF75B977B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="../sqlrf/Automatic-Locks-in-DML-Operations.html#SQLRF55505" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../refrn/V-LOCK.html#REFRN30121" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">V$LOCK</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="CNCPT88977"></a><div class="props_rev_3"><a id="GUID-B6E414BE-B880-40F6-B353-F996208B8D0A" name="GUID-B6E414BE-B880-40F6-B353-F996208B8D0A"></a><h6 id="CNCPT-GUID-B6E414BE-B880-40F6-B353-F996208B8D0A" class="sect6">Storage of Row Locks</h6>
                        <div>
                           <p>Unlike some databases, which use a lock manager to maintain a list of locks in memory, Oracle Database stores lock information in the data block that contains the locked row.</p>
                           <p>The database uses a queuing mechanism for acquisition of row locks. If a transaction requires a lock for an unlocked row, then the transaction places a lock in the data block. Each row modified by this transaction points to a copy of the transaction ID stored in the <a href="glossary.html#GUID-78394D5D-A1F6-4978-8F13-028185F514B5"><span class="xrefglossterm">block header</span></a>.
                           </p>
                           <p>When a transaction ends, the transaction ID remains in the block header. If a different transaction wants to modify a row, then it uses the transaction ID to determine whether the lock is active. If the lock is active, then the session asks to be notified when the lock is released. Otherwise, the transaction acquires the lock. </p>
                           <div class="infoboxnotealso" id="GUID-B6E414BE-B880-40F6-B353-F996208B8D0A__GUID-5D29B64C-C0AD-4667-A0D0-07BA32EA741B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">"<a href="logical-storage-structures.html#GUID-1AED5140-E820-436C-BEB7-2A985524911E" title="Oracle Database manages the logical storage space in the data files of a database in a unit called a data block, also called an Oracle block or page. A data block is the minimum unit of database I/O.">Overview of Data Blocks</a>"</span> to learn more about the data block header
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../refrn/V-TRANSACTION.html#REFRN30291" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">V$TRANSACTION</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="CNCPT1342"></a><div class="props_rev_3"><a id="GUID-B6B075B7-DE83-45EF-8A9E-1C1F71F72598" name="GUID-B6B075B7-DE83-45EF-8A9E-1C1F71F72598"></a><h5 id="CNCPT-GUID-B6B075B7-DE83-45EF-8A9E-1C1F71F72598" class="sect5">Table Locks (TM)</h5>
                     <div>
                        <p>A <strong class="term">table lock</strong>, also called a <span class="italic">TM lock</span>, is acquired by a transaction when a table is modified by an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">MERGE</code>, <code class="codeph">SELECT</code> with the <code class="codeph">FOR UPDATE</code> clause, or <code class="codeph">LOCK TABLE</code> statement. 
                        </p>
                        <p>DML operations require table locks to reserve DML access to the table on behalf of a transaction and to prevent DDL operations that would conflict with the transaction.</p>
                        <p>A table lock can be held in any of the following modes:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Row Share (RS)</p>
                              <p>This lock, also called a <span class="italic">subshare table lock (SS)</span>, indicates that the transaction holding the lock on the table has locked rows in the table and intends to update them. A row share lock is the least restrictive mode of table lock, offering the highest degree of concurrency for a table.
                              </p>
                           </li>
                           <li>
                              <p>Row Exclusive Table Lock (RX)</p>
                              <p>This lock, also called a <span class="italic">subexclusive table lock (SX)</span>, generally indicates that the transaction holding the lock has updated table rows or issued <code class="codeph">SELECT ... FOR UPDATE</code>. An SX lock allows other transactions to query, insert, update, delete, or lock rows concurrently in the same table. Therefore, SX locks allow multiple transactions to obtain simultaneous SX and subshare table locks for the same table.
                              </p>
                           </li>
                           <li>
                              <p>Share Table Lock (S)</p>
                              <p>A share table lock held by a transaction allows other transactions to query the table (without using <code class="codeph">SELECT ... FOR UPDATE</code>), but updates are allowed only if a single transaction holds the share table lock. Because multiple transactions may hold a share table lock concurrently, holding this lock is not sufficient to ensure that a transaction can modify the table.
                              </p>
                           </li>
                           <li>
                              <p>Share Row Exclusive Table Lock (SRX)</p>
                              <p>This lock, also called a <span class="italic">share-subexclusive table lock (SSX)</span>, is more restrictive than a share table lock. Only one transaction at a time can acquire an SSX lock on a given table. An SSX lock held by a transaction allows other transactions to query the table (except for <code class="codeph">SELECT ... FOR UPDATE</code>) but not to update the table.
                              </p>
                           </li>
                           <li>
                              <p>Exclusive Table Lock (X)</p>
                              <p>This lock is the most restrictive, prohibiting other transactions from performing any type of DML statement or placing any type of lock on the table.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-B6B075B7-DE83-45EF-8A9E-1C1F71F72598__GUID-F5FBFF40-0F2B-49AA-9985-CB597EAABA2B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sqlrf/Automatic-Locks-in-DML-Operations.html#SQLRF55504" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS007" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn more about table locks
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88978"></a><div class="props_rev_3"><a id="GUID-261F98F8-F7B4-49A9-9BE8-11F2B1F4609B" name="GUID-261F98F8-F7B4-49A9-9BE8-11F2B1F4609B"></a><h5 id="CNCPT-GUID-261F98F8-F7B4-49A9-9BE8-11F2B1F4609B" class="sect5">Locks and Foreign Keys</h5>
                     <div>
                        <p>Oracle Database maximizes the concurrency control of parent keys in relation to dependent foreign keys.</p>
                        <p>Locking behavior depends on whether foreign key columns are indexed. If foreign keys are not indexed, then the child table will probably be locked more frequently, deadlocks will occur, and concurrency will be decreased. For this reason foreign keys should almost always be indexed. The only exception is when the matching unique or primary key is never updated or deleted.</p>
                     </div><a id="CNCPT88980"></a><a id="CNCPT88979"></a><div class="props_rev_3"><a id="GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6" name="GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6"></a><h6 id="CNCPT-GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6" class="sect6">Locks and Unindexed Foreign Keys</h6>
                        <div>
                           <p>The database acquires a full table lock on the child table when no index exists on the foreign key column of the child table, and a session modifies a primary key in the parent table (for example, deletes a row or modifies primary key attributes) or merges rows into the parent table.</p>
                           <p>When both of the following conditions are true, the database acquires a full table lock on the child table:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>No index exists on the foreign key column of the child table.</p>
                              </li>
                              <li>
                                 <p>A session modifies a primary key in the parent table (for example, deletes a row or modifies primary key attributes) or merges rows into the parent table. </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6__GUID-1E54032D-4575-4551-8907-84BC1CE91D54">
                              <p class="notep1">Note:</p>
                              <p>Inserts into the parent table do <span class="italic">not</span> acquire blocking table locks that prevent DML on the child table. In the case of inserts, the database acquires a lock on the child table that prevents structural changes, but not modifications of existing or newly added rows.
                              </p>
                           </div>
                           <p>Suppose that <code class="codeph">hr.departments</code> table is a parent of <code class="codeph">hr.employees</code>, which contains the unindexed foreign key <code class="codeph">employees.department_id</code>. The following figure shows a session modifying the primary key attributes of department 60 in the <code class="codeph">departments</code> table.
                           </p>
                           <div class="figure" id="GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6__I8589">
                              <p class="titleinfigure">Figure 9-3 Locking Mechanisms with Unindexed Foreign Key</p><img src="img/cncpt308.gif" alt="Description of Figure 9-3 follows" title="Description of Figure 9-3 follows" longdesc="img_text/cncpt308.html"><br><a href="img_text/cncpt308.html">Description of "Figure 9-3 Locking Mechanisms with Unindexed Foreign Key"</a></div>
                           <!-- class="figure" -->
                           <p>In <a href="data-concurrency-and-consistency.html#GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6__I8589">Figure 9-3</a>, the database acquires a full table lock on <code class="codeph">employees</code> during the primary key modification of department 60. This lock enables other sessions to query but not update the <code class="codeph">employees</code> table. For example, sessions cannot update employee phone numbers. The table lock on <code class="codeph">employees</code> releases immediately after the primary key modification on the <code class="codeph">departments</code> table completes. If multiple rows in <code class="codeph">departments</code> undergo primary key modifications, then a table lock on <code class="codeph">employees</code> is obtained and released once for each row that is modified in <code class="codeph">departments</code>.
                           </p>
                           <div class="infoboxnote" id="GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6__GUID-40030039-4823-4676-85A5-BC3CCAA39E46">
                              <p class="notep1">Note:</p>
                              <p>DML on a child table does not acquire a table lock on the parent table.</p>
                           </div>
                        </div>
                     </div><a id="CNCPT88982"></a><a id="CNCPT88981"></a><div class="props_rev_3"><a id="GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16" name="GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16"></a><h6 id="CNCPT-GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16" class="sect6">Locks and Indexed Foreign Keys</h6>
                        <div>
                           <p>The database does <span class="italic">not</span> acquire a full table lock on the child table when a foreign key column in the child table <span class="italic">is</span> indexed, and a session modifies a primary key in the parent table (for example, deletes a row or modifies primary key attributes) or merges rows into the parent table.
                           </p>
                           <p>A lock on the parent table prevents transactions from acquiring exclusive table locks, but does not prevent DML on the parent <span class="italic">or</span> child table during the primary key modification. This situation is preferable if primary key modifications occur on the parent table while updates occur on the child table.
                           </p>
                           <p><a href="data-concurrency-and-consistency.html#GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16__I8605">Figure 9-4</a> shows child table <code class="codeph">employees</code> with an indexed <code class="codeph">department_id</code> column. A transaction deletes department 280 from <code class="codeph">departments</code>. This deletion does not cause the database to acquire a full table lock on the <code class="codeph">employees</code> table as in the scenario described in <span class="q">"<a href="data-concurrency-and-consistency.html#GUID-0D5DA0E0-28DF-498A-B2E5-B9207AC2BAE6" title="The database acquires a full table lock on the child table when no index exists on the foreign key column of the child table, and a session modifies a primary key in the parent table (for example, deletes a row or modifies primary key attributes) or merges rows into the parent table.">Locks and Unindexed Foreign Keys</a>"</span>.
                           </p>
                           <div class="figure" id="GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16__I8605">
                              <p class="titleinfigure">Figure 9-4 Locking Mechanisms with Indexed Foreign Key</p><img src="img/cncpt309.gif" alt="Description of Figure 9-4 follows" title="Description of Figure 9-4 follows" longdesc="img_text/cncpt309.html"><br><a href="img_text/cncpt309.html">Description of "Figure 9-4 Locking Mechanisms with Indexed Foreign Key"</a></div>
                           <!-- class="figure" -->
                           <p>If the child table specifies <code class="codeph">ON DELETE CASCADE</code>, then deletions from the parent table can result in deletions from the child table. For example, the deletion of department 280 can cause the deletion of records from <code class="codeph">employees</code> for employees in the deleted department. In this case, waiting and locking rules are the same as if you deleted rows from the child table after deleting rows from the parent table.
                           </p>
                           <div class="infoboxnotealso" id="GUID-02E89C3B-91C8-4ACD-A43B-55C1DC970D16__GUID-9A8B9BB5-747D-4BE2-B935-2BF4C531C38A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">"<a href="data-integrity.html#GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8" title="Whenever two tables contain one or more common columns, Oracle Database can enforce the relationship between the two tables through a foreign key constraint, also called a referential integrity constraint.">Foreign Key Constraints</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="indexes-and-index-organized-tables.html#GUID-DE7A95BC-6E4A-47EA-9FC5-B85B54F8CF41" title="An index is an optional structure, associated with a table or table cluster, that can sometimes speed data access.">Introduction to Indexes</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1351"></a><div class="props_rev_3"><a id="GUID-5015CC53-4059-4CD6-B892-F211E8BDE2F9" name="GUID-5015CC53-4059-4CD6-B892-F211E8BDE2F9"></a><h4 id="CNCPT-GUID-5015CC53-4059-4CD6-B892-F211E8BDE2F9" class="sect4">DDL Locks</h4>
                  <div>
                     <p>A <span class="bold">data dictionary (DDL) lock</span> protects the definition of a schema object while an ongoing DDL operation acts on or refers to the object.
                     </p>
                     <p>Only individual schema objects that are modified or referenced are locked during DDL operations. The database never locks the whole data dictionary.</p>
                     <p>Oracle Database acquires a DDL lock automatically on behalf of any DDL transaction requiring it. Users cannot explicitly request DDL locks. For example, if a user creates a <a href="glossary.html#GUID-21B42148-517A-4B25-B1E1-DBC165DE7A43"><span class="xrefglossterm">stored procedure</span></a>, then Oracle Database automatically acquires DDL locks for all schema objects referenced in the procedure definition. The DDL locks prevent these objects from being altered or dropped before procedure compilation is complete.
                     </p>
                  </div><a id="CNCPT1352"></a><div class="props_rev_3"><a id="GUID-54A9C57E-C8E5-43B5-B2E8-830ED84D6BE9" name="GUID-54A9C57E-C8E5-43B5-B2E8-830ED84D6BE9"></a><h5 id="CNCPT-GUID-54A9C57E-C8E5-43B5-B2E8-830ED84D6BE9" class="sect5">Exclusive DDL Locks</h5>
                     <div>
                        <p>An exclusive DDL lock prevents other sessions from obtaining a DDL or DML lock.</p>
                        <p>Most DDL operations require exclusive DDL locks for a resource to prevent destructive interference with other DDL operations that might modify or reference the same schema object. For example, <code class="codeph">DROP TABLE</code> is not allowed to drop a table while <code class="codeph">ALTER TABLE</code> is adding a column to it, and vice versa.
                        </p>
                        <p>Exclusive DDL locks last for the duration of DDL statement execution and automatic commit. During the acquisition of an exclusive DDL lock, if another DDL lock is held on the schema object by another operation, then the acquisition waits until the older DDL lock is released and then proceeds.</p>
                        <div class="infoboxnotealso" id="GUID-54A9C57E-C8E5-43B5-B2E8-830ED84D6BE9__GUID-9A73B116-8316-4DBB-8F05-E5D180D537DE">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-C6696CA2-D3B8-4CE0-AAB1-CFF040431B6E" title="A share DDL lock for a resource prevents destructive interference with conflicting DDL operations, but allows data concurrency for similar DDL operations.">Share DDL Locks</a>"</span> describes situations where exclusive locks are not required to prevent destructive interference
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT1353"></a><div class="props_rev_3"><a id="GUID-C6696CA2-D3B8-4CE0-AAB1-CFF040431B6E" name="GUID-C6696CA2-D3B8-4CE0-AAB1-CFF040431B6E"></a><h5 id="CNCPT-GUID-C6696CA2-D3B8-4CE0-AAB1-CFF040431B6E" class="sect5">Share DDL Locks</h5>
                     <div>
                        <p>A share DDL lock for a resource prevents destructive interference with conflicting DDL operations, but allows data concurrency for similar DDL operations. </p>
                        <p>For example, when a <code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code> statement is run, the containing transaction acquires share DDL locks for all referenced tables. Other transactions can concurrently create procedures that reference the same tables and acquire concurrent share DDL locks on the same tables, but no transaction can acquire an exclusive DDL lock on any referenced table. 
                        </p>
                        <p>A share DDL lock lasts for the duration of DDL statement execution and automatic commit. Thus, a transaction holding a share DDL lock is guaranteed that the definition of the referenced schema object remains constant during the transaction.</p>
                     </div>
                  </div><a id="CNCPT1354"></a><div class="props_rev_3"><a id="GUID-D5EC0CEE-1E41-48FB-A303-B4D5C301872D" name="GUID-D5EC0CEE-1E41-48FB-A303-B4D5C301872D"></a><h5 id="CNCPT-GUID-D5EC0CEE-1E41-48FB-A303-B4D5C301872D" class="sect5">Breakable Parse Locks</h5>
                     <div>
                        <p>A <span class="bold">parse lock</span> is held by a SQL statement or PL/SQL program unit for each schema object that it references. 
                        </p>
                        <p>Parse locks are acquired so that the associated <a href="glossary.html#GUID-E0BE3164-B0A9-4ED8-AD19-2048ADFFC9BB"><span class="xrefglossterm">shared SQL area</span></a> can be invalidated if a referenced object is altered or dropped. A parse lock is called a <span class="italic">breakable parse lock</span> because it does not disallow any DDL operation and can be broken to allow conflicting DDL operations.
                        </p>
                        <p>A parse lock is acquired in the <a href="glossary.html#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a> during the parse phase of SQL statement execution. The lock is held as long as the shared SQL area for that statement remains in the shared pool.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D5EC0CEE-1E41-48FB-A303-B4D5C301872D__GUID-C740B851-7C7E-4274-B3B3-707B5B231D07">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="memory-architecture.html#GUID-1CB2BA23-4386-46DA-9146-5FE0E4599AC6" title="The shared pool caches various types of program data.">Shared Pool</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1357"></a><div class="props_rev_3"><a id="GUID-19E6C804-8D75-4D05-ACD2-11915687307A" name="GUID-19E6C804-8D75-4D05-ACD2-11915687307A"></a><h4 id="CNCPT-GUID-19E6C804-8D75-4D05-ACD2-11915687307A" class="sect4">System Locks</h4>
                  <div>
                     <p>Oracle Database uses various types of system locks to protect internal database and memory structures. These mechanisms are inaccessible to users because users have no control over their occurrence or duration.</p>
                  </div><a id="CNCPT1358"></a><div class="props_rev_3"><a id="GUID-95BC1F61-F13B-4F04-94AC-30138287F7C7" name="GUID-95BC1F61-F13B-4F04-94AC-30138287F7C7"></a><h5 id="CNCPT-GUID-95BC1F61-F13B-4F04-94AC-30138287F7C7" class="sect5">Latches</h5>
                     <div>
                        <p>A <span class="bold">latch</span> is a simple, low-level serialization mechanism that coordinates multiuser access to shared data structures, objects, and files.
                        </p>
                        <p>Latches protect shared memory resources from corruption when accessed by multiple processes. Specifically, latches protect data structures from the following situations:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Concurrent modification by multiple sessions</p>
                           </li>
                           <li>
                              <p>Being read by one session while being modified by another session</p>
                           </li>
                           <li>
                              <p>Deallocation (aging out) of memory while being accessed</p>
                           </li>
                        </ul>
                        <p>Typically, a single latch protects multiple objects in the SGA. For example, background processes such as DBW and LGWR allocate memory from the <a href="glossary.html#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a> to create data structures. To allocate this memory, these processes use a shared pool latch that serializes access to prevent two processes from trying to inspect or modify the shared pool simultaneously. After the memory is allocated, other processes may need to access shared pool areas such as the <a href="glossary.html#GUID-FEEB5344-9D82-4727-911A-7F14CDC76D73"><span class="xrefglossterm">library cache</span></a>, which is required for parsing. In this case, processes latch only the library cache, not the entire shared pool.
                        </p>
                        <p>Unlike enqueue latches such as row locks, latches do not permit sessions to queue. When a latch becomes available, the first session to request the latch obtains exclusive access to it. The phenomenon of <a href="glossary.html#GUID-90863FC3-7B0A-48D1-ACEC-139690358B4F"><span class="xrefglossterm">latch spinning</span></a> occurs when a process repeatedly requests a latch in a loop, whereas <a href="glossary.html#GUID-4B25EC28-1C69-4810-BA53-52D9E88401BC"><span class="xrefglossterm">latch sleeping</span></a> occurs when a process releases the CPU before renewing the latch request.
                        </p>
                        <p>Typically, an Oracle process acquires a latch for an extremely short time while manipulating or looking at a data structure. For example, while processing a salary update of a single employee, the database may obtain and release thousands of latches. The implementation of latches is operating system-dependent, especially in respect to whether and how long a process waits for a latch.</p>
                        <p>An increase in latching means a decrease in concurrency. For example, excessive <a href="glossary.html#GUID-1BFB2AF7-BC88-4A93-B9AA-C75CA62C5824"><span class="xrefglossterm">hard parse</span></a> operations create contention for the library cache latch. The <code class="codeph">V$LATCH</code> view contains detailed latch usage statistics for each latch, including the number of times each latch was requested and waited for.
                        </p>
                        <div class="infoboxnotealso" id="GUID-95BC1F61-F13B-4F04-94AC-30138287F7C7__GUID-8C916B68-97F0-4401-84EC-E4A86D8F4A08">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="sql.html#GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" title="The first stage of SQL processing is SQL parsing. This stage involves separating the pieces of a SQL statement into a data structure that can be processed by other routines.">SQL Parsing</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/V-LATCH.html#REFRN30108" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">V$LATCH</code></p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/instance-tuning-using-performance-views.html#GUID-03F070F3-81DF-4649-820C-DAD28AEF0871" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn about wait event statistics
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88983"></a><div class="props_rev_3"><a id="GUID-4AC3AA12-E84E-4A73-B66F-9799D4980B1D" name="GUID-4AC3AA12-E84E-4A73-B66F-9799D4980B1D"></a><h5 id="CNCPT-GUID-4AC3AA12-E84E-4A73-B66F-9799D4980B1D" class="sect5">Mutexes</h5>
                     <div>
                        <p>A <span class="bold">mutual exclusion object (mutex)</span> is a low-level mechanism that prevents an object in memory from aging out or from being corrupted when accessed by concurrent processes. A mutex is similar to a latch, but whereas a latch typically protects a group of objects, a mutex protects a single object.
                        </p>
                        <p>Mutexes provide several benefits:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>A mutex can reduce the possibility of contention. </p>
                              <p>Because a latch protects multiple objects, it can become a bottleneck when processes attempt to access any of these objects concurrently. By serializing access to an individual object rather than a group, a mutex increases availability.</p>
                           </li>
                           <li>
                              <p>A mutex consumes less memory than a latch.</p>
                           </li>
                           <li>
                              <p>When in shared mode, a mutex permits concurrent reference by multiple sessions.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT1360"></a><a id="CNCPT1361"></a><a id="CNCPT1362"></a><a id="CNCPT1359"></a><div class="props_rev_3"><a id="GUID-58E2545B-A3F8-48C7-B23B-4E2EEF1BF18A" name="GUID-58E2545B-A3F8-48C7-B23B-4E2EEF1BF18A"></a><h5 id="CNCPT-GUID-58E2545B-A3F8-48C7-B23B-4E2EEF1BF18A" class="sect5">Internal Locks</h5>
                     <div>
                        <p>Internal locks are higher-level, more complex mechanisms than latches and mutexes and serve various purposes. </p>
                        <p>The database uses the following types of internal locks:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Dictionary cache locks</p>
                              <p>These locks are of very short duration and are held on entries in dictionary caches while the entries are being modified or used. They guarantee that statements being parsed do not see inconsistent object definitions. Dictionary cache locks can be shared or exclusive. Shared locks are released when the parse is complete, whereas exclusive locks are released when the DDL operation is complete.</p>
                           </li>
                           <li>
                              <p>File and log management locks</p>
                              <p>These locks protect various files. For example, an internal lock protects the <a href="glossary.html#GUID-DF498605-D186-451B-87AA-73DF396AD599"><span class="xrefglossterm">control file</span></a> so that only one process at a time can change it. Another lock coordinates the use and archiving of the online redo log files. Data files are locked to ensure that multiple instances mount a database in shared mode or that one instance mounts it in exclusive mode. Because file and log locks indicate the status of files, these locks are necessarily held for a long time.
                              </p>
                           </li>
                           <li>
                              <p>Tablespace and undo segment locks</p>
                              <p>These locks protect tablespaces and undo segments. For example, all instances accessing a database must agree on whether a tablespace is online or offline. Undo segments are locked so that only one database instance can write to a segment.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-58E2545B-A3F8-48C7-B23B-4E2EEF1BF18A__GUID-A080A898-A32B-4FB4-8C7B-F841DCB7B398">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="memory-architecture.html#GUID-66430838-7862-4389-96B5-795B99A72473" title="The data dictionary is a collection of database tables and views containing reference information about the database, its structures, and its users.">Data Dictionary Cache</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1363"></a><div class="props_rev_3"><a id="GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7" name="GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7"></a><h3 id="CNCPT-GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7" class="sect3">Overview of Manual Data Locks</h3>
               <div>
                  <p>You can manually override the Oracle Database default locking mechanisms.</p>
                  <p>Oracle Database performs locking automatically to ensure data concurrency, data integrity, and statement-level read consistency. However, overriding the default locking is useful in situations such as the following: </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Applications require transaction-level read consistency or repeatable reads. </p>
                        <p>In this case, queries must produce consistent data for the duration of the transaction, not reflecting changes by other transactions. You can achieve transaction-level read consistency by using explicit locking, read-only transactions, serializable transactions, or by overriding default locking. </p>
                     </li>
                     <li>
                        <p>Applications require that a transaction have exclusive access to a resource so that the transaction does not have to wait for other transactions to complete. </p>
                     </li>
                  </ul>
                  <p>You can override Oracle Database automatic locking at the session or transaction level. At the session level, a session can set the required transaction isolation level with the <code class="codeph">ALTER SESSION</code> statement. At the transaction level, transactions that include the following SQL statements override Oracle Database default locking: 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>The <code class="codeph">SET TRANSACTION ISOLATION LEVEL</code> statement 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">LOCK TABLE</code> statement (which locks either a table or, when used with views, the base tables) 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">SELECT ... FOR UPDATE</code> statement 
                        </p>
                     </li>
                  </ul>
                  <p>Locks acquired by the preceding statements are released after the transaction ends or a rollback to savepoint releases them.</p>
                  <p>If Oracle Database default locking is overridden at any level, then the database administrator or application developer should ensure that the overriding locking procedures operate correctly. The locking procedures must satisfy the following criteria: data integrity is guaranteed, data concurrency is acceptable, and deadlocks are not possible or are appropriately handled. </p>
                  <div class="infoboxnotealso" id="GUID-A4E54CD6-7232-489D-86A4-412EAF8A8DB7__GUID-DE1C2664-1E6D-4692-8277-F0125ED503AD">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p> <a href="../sqlrf/LOCK-TABLE.html#SQLRF01605" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for descriptions of <code class="codeph">LOCK TABLE</code> and <code class="codeph">SELECT</code></p>
                        </li>
                        <li>
                           <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS00203" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn how to manually lock tables
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CNCPT1364"></a><div class="props_rev_3"><a id="GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42" name="GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42"></a><h3 id="CNCPT-GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42" class="sect3">Overview of User-Defined Locks</h3>
               <div>
                  <p>With Oracle Database Lock Management services, you can define your own locks for a specific application. </p>
                  <p>For example, you might create a lock to serialize access to a message log on the file system. Because a reserved user lock is the same as an Oracle Database lock, it has all the Oracle Database lock functionality including deadlock detection. User locks never conflict with Oracle Database locks, because they are identified with the prefix <code class="codeph">UL</code>.
                  </p>
                  <p>The Oracle Database Lock Management services are available through procedures in the <code class="codeph">DBMS_LOCK</code> package. You can include statements in PL/SQL blocks that: 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Request a lock of a specific type</p>
                     </li>
                     <li>
                        <p>Give the lock a unique name recognizable in another procedure in the same or in another instance</p>
                     </li>
                     <li>
                        <p>Change the lock type</p>
                     </li>
                     <li>
                        <p>Release the lock</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D63FD030-44CD-4FD7-970A-C98C8CC4AC42__GUID-3B45BFA6-2C0A-4270-8C64-86559F5F335A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS1002" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for more information about Oracle Database Lock Management services
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_LOCK.html#ARPLS021" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about <code class="codeph">DBMS_LOCK</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote 1: 
            <p>When processing a distributed two-phase commit, the database may briefly prevent read access in special circumstances. Specifically, if a query starts between the prepare and commit phases and attempts to read the data before the commit, then the database may escalate a lock from row-level to block-level to guarantee read consistency.</p><br></div>
      </article>
   </body>
</html>