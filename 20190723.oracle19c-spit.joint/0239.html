<html id="03809.populating-objects-in-memory.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <meta name="description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <title>为内存中的人口启用对象</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database In-Memory Guide"></meta>
      <meta property="og:description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database In-Memory Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00"></meta>
      <meta name="dcterms.title" content="Database In-Memory Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96137-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="enabling-the-im-column-store.html" title="Previous" type="text/html"></link>
      <link rel="next" href="populating-the-imcs-manually.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enabling-the-im-column-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="populating-the-imcs-manually.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库内存指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">配置和填充IM列存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为内存中的人口启用对象</li>
            </ol>
            <a id="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" name="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8"></a>
            
            <h2 id="INMEM-GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" class="sect2"><span class="enumeration_chapter">4</span>为内存中的人口启用对象</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0">关于记忆中的人口</a><br>当数据库从磁盘读取现有行格式数据，将其转换为列式格式，然后将其存储在IM列存储中时，会发生<strong class="term">内存中的填充（填充）</strong> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B">为IM列存储启用和禁用表</a><br>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">ALTER TABLE</code> 。通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">ALTER TABLE</code> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347">启用和禁用内存表中的列</a><br>您可以为内部表中的各个列指定<code class="codeph">INMEMORY</code>子句。外部表不支持在列级别指定<code class="codeph">INMEMORY</code> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-636A1675-838D-4004-9CDB-70783DC72C6B">为IM列存储启用和禁用表空间</a><br>您可以为IM列存储启用或禁用表空间。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA">为IM列存储启用和禁用实体化视图</a><br>您可以为IM列存储启用和禁用实体化视图。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="configuring-the-im-column-store.html#GUID-8844C889-E381-4B77-8A51-7AA6462B14D7" title="您可以启用内存列存储（IM列存储）并调整其大小。您还可以为对象配置内存设置，并在IM列存储中填充这些对象。">配置和填充IM列存储</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" name="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0"></a><h3 id="INMEM-GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" class="sect3"><span class="enumeration_section">4.1</span>关于记忆中的人口</h3>
               <div>
                  <p>当数据库从磁盘读取现有行格式数据，将其转换为列式格式，然后将其存储在IM列存储中时，会发生<strong class="term">内存中的填充（填充）</strong> 。
                  </p>
                  <p>只有具有<code class="codeph">INMEMORY</code>属性的对象<code class="codeph">INMEMORY</code>资格进行填充。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B">记忆中人口的目的</a><br>IM列存储不会自动将数据库中的所有对象加载到IM列存储中。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3">记忆中的人口如何运作</a><br>您可以指定数据库在数据库实例启动时或访问<code class="codeph">INMEMORY</code>对象时填充IM列存储中的对象。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261">对记忆内人口的控制</a><br>使用DDL语句中的<code class="codeph">INMEMORY</code>子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" name="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B"></a><h4 id="INMEM-GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" class="sect4"><span class="enumeration_section">4.1.1</span>记忆中人口的目的</h4>
                  <div>
                     <p>IM列存储不会自动将数据库中的所有对象加载到IM列存储中。</p>
                     <p>如果不使用DDL将任何对象指定为<code class="codeph">INMEMORY</code> ，则IM列存储仍为空。必须使用<code class="codeph">INMEMORY</code>将用户指定的<code class="codeph">INMEMORY</code>对象中的行转换为列式格式，以便它们可用于分析查询。
                     </p>
                     <p>将磁盘上的<span class="italic">现有</span>数据转换为柱状格式的<a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">群体</span></a>与将将<span class="italic">新</span>数据加载到IM列存储中的<a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">重新填充</span></a>不同。由于IMCU是只读结构，因此Oracle数据库在行更改时不会填充它们。相反，数据库记录<a href="glossary.html#GUID-16BF775D-7A77-4F8C-94F2-D1EBF2D67D1B"><span class="xrefglossterm">事务日志中</span></a>的行更改，然后创建新的IMCU作为重新填充的一部分。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repopulation-and-dml.html#GUID-85AB84D5-1308-430A-BED2-281F3E9515B2" title="IM列存储定期刷新已修改的对象。您可以使用初始化参数和DBMS_INMEMORY包来控制此行为。">优化IM列存储的重新填充</a></li>
                           <li><a href="in-memory-column-store-architecture.html#GUID-50A30EC3-1CD1-4BFC-9BD1-9AC55D0B4AAE" title="内存中压缩单元（IMCU）是一个压缩的只读存储单元，包含一列或多列的数据。">内存中压缩单元（IMCU）</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" name="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3"></a><h4 id="INMEM-GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" class="sect4"><span class="enumeration_section">4.1.2</span>记忆中的人口如何运作</h4>
                  <div>
                     <p>您可以指定数据库在数据库实例启动时或访问<code class="codeph">INMEMORY</code>对象时填充IM列存储中的对象。
                     </p>
                     <p>人口算法也会根据您使用的是单实例还是Oracle RAC而有所不同。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12">内存中人口的优先顺序</a><br>DDL语句包括一个<code class="codeph">INMEMORY PRIORITY</code>子句，它提供了对总体队列的更多控制。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886">后台进程如何填充IMCU</a><br>在填充期间，数据库以行格式从磁盘读取数据，将行旋转以创建列，然后将数据压缩到内存中压缩单元（IMCU）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" name="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12"></a><h5 id="INMEM-GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" class="sect5"><span class="enumeration_section">4.1.2.1</span>记忆中人口的优先<span class="enumeration_section">次序</span></h5>
                     <div>
                        <p>DDL语句包括一个<code class="codeph">INMEMORY PRIORITY</code>子句，它提供了对总体队列的更多控制。
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-C9658C1B-B4EE-40CD-A02E-FDD7109AB1E8">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">INMEMORY PRIORITY</code>子条款控制人口的优先级，但不控制人口的速度。
                           </p>
                        </div>
                        <p>优先级设置适用于整个表，分区或子分区，而不适用于不同的列子集。在对象上设置<code class="codeph">INMEMORY</code>属性意味着此对象是IM列存储中填充的<span class="italic">候选</span>对象。这并不意味着数据库会立即填充对象。
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-50EDEDA9-8471-43B5-8320-D297A7DA78FE">
                           <p class="notep1">注意：</p>
                           <p>如果磁盘上的段为64 KB或更少，则不会在IM列存储中填充它。因此，可能无法填充为IM列存储启用的某些小型数据库对象。</p>
                        </div>
                        <p>Oracle数据库管理优先级如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>按需人口</p>
                              <p>默认情况下， <code class="codeph">INMEMORY PRIORITY</code>参数设置为<code class="codeph">NONE</code> 。在这种情况下，数据库<span class="italic">仅</span>在通过全表扫描访问对象时填充对象。如果从不访问该对象，或者仅通过索引扫描或通过rowid获取来访问该对象，则永远不会发生填充。
                              </p>
                           </li>
                           <li>
                              <p>基于优先的人口</p>
                              <p>当<code class="codeph">PRIORITY</code>设置为<code class="codeph">NONE</code> <span class="italic">以外</span>的值时，Oracle数据库会使用内部管理的优先级队列自动填充对象。在这种情况下，全扫描不是人口的必要条件。数据库执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在数据库实例重新启动后自动填充IM列存储中的列数据</p>
                                 </li>
                                 <li>
                                    <p>根据指定的优先级对<code class="codeph">INMEMORY</code>对象进行排队</p>
                                    <p>例如，使用<code class="codeph">INMEMORY PRIORITY CRITICAL</code>更改的表优先于使用<code class="codeph">INMEMORY PRIORITY HIGH</code>更改的表，而该表优先于使用<code class="codeph">INMEMORY PRIORITY LOW</code>更改的表。如果IM列存储空间不足，则Oracle数据库不会填充其他对象，直到空间可用。
                                    </p>
                                 </li>
                                 <li>
                                    <p>等待从<code class="codeph">ALTER TABLE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句返回，直到对象的更改记录在IM列存储中</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>在IM列存储中填充段后，数据库仅在删除或移动段时将其<code class="codeph">NO INMEMORY</code> ，或者使用<code class="codeph">NO INMEMORY</code>属性更新段。您可以手动或通过<a href="glossary.html#GUID-66F7095A-378A-4C56-88DA-3AC93A5F55DB"><span class="xrefglossterm">ADO策略</span></a>逐出某个段。
                        </p>
                        <div class="example" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-CD3B2EB8-4C77-428A-9DA3-EAEB61363D82">
                           <p class="titleinexample">示例4-1 IM列存储中对象的填充</p>
                           <p>在完成此示例之前，必须为数据库启用IM列存储。</p>
                           <ol>
                              <li>
                                 <p>以管理员身份登录数据库，然后按如下方式查询<code class="codeph">customers</code>表：</p><pre class="pre codeblock"><code>SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960;</code></pre></li>
                              <li>
                                 <p>显示查询的执行计划：</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE（DBMS_XPLAN.DISPLAY_CURSOR（FORMAT =&gt;'+ ALLSTATS'））; SQL_ID frgk9dbaftmm9，子编号0 ------------------------------------- SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960计划哈希值：2008213504 ------------------------- -------------------------------------------------- ---- | ID |操作|名称|开始| E-Rows | A-Rows | A-Time |缓冲区| -------------------------------------------------- ----------------------------- | 0 |选择声明| | 1 | | 6 | 00：00：00.01 | 1523 | | * 1 |表访问完全|客户| 1 | 6 | 6 | 00：00：00.01 | 1523 | -------------------------------------------------- -----------------------------谓词信息（由操作ID标识）：------------ --------------------------------------- 1  -  filter（（“CUST_CITY”='Hyderabad 'AND“CUST_YEAR_OF_BIRTH”&gt; 1960和“CUST_INCOME_LEVEL”喜欢'C％'））</code></pre></li>
                              <li>
                                 <p>在IM列存储中为<code class="codeph">sh.customers</code>表启用<code class="codeph">sh.customers</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;</code></pre><p>上述语句使用默认优先级<code class="codeph">NONE</code> 。填充没有优先级的对象需要完整扫描。
                                 </p>
                              </li>
                              <li>
                                 <p>要确定是否已在IM列存储中填充<code class="codeph">sh.customers</code>表中的数据，请执行以下查询（包括示例输出）：</p><pre class="pre codeblock"><code>SELECT SEGMENT_NAME，POPULATE_STATUS FROM V $ IM_SEGMENTS WHERE SEGMENT_NAME ='CUSTOMERS';没有选择任何行</code></pre><p>在这种情况下，IM列存储中不会填充任何段，因为尚未扫描<code class="codeph">sh.customers</code>表。
                                 </p>
                              </li>
                              <li>
                                 <p>使用与步骤1中相同的语句查询<code class="codeph">sh.customers</code> ：</p><pre class="pre codeblock"><code>SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960;</code></pre></li>
                              <li>
                                 <p>查询光标显示数据库执行了完整扫描并访问了IM列存储：</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE（DBMS_XPLAN.DISPLAY_CURSOR（FORMAT =&gt;'+ ALLSTATS'））; SQL_ID frgk9dbaftmm9，子编号0 ------------------------------------- SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960计划哈希值：2008213504 ------------------------- -------------------------------------------------- ------ | ID |操作|名称|开始| E-Rows | A-Rows | A-Time |缓冲区| -------------------------------------------------- ------------------------------- | 0 |选择声明| | 1 | | 6 | 00：00：00.02 | 1523 | | * 1 |表访问<span class="bold">INMEMORY</span> FULL |客户| 1 | 6 | 6 | 00：00：00.02 | 1523 | -------------------------------------------------- -------------------------------谓词信息（由操作ID标识）：---------- ----------------------------------------- 1  -  inmemory（（“CUST_CITY”= 'Hyderabad'和'CUST_YEAR_OF_BIRTH&gt;&gt; 1960和'CUST_INCOME_LEVEL'喜欢'C％'））过滤器（（“CUST_CITY”='Hyderabad'AND“CUST_YEAR_OF_BIRTH”&gt; 1960和“CUST_INCOME_LEVEL”喜欢'C％'））</code></pre></li>
                              <li>
                                 <p>再次查询<code class="codeph">V$IM_SEGMENTS</code> （包括样本输出）：</p><pre class="pre codeblock"><code>COL SEGMENT_NAME FORMAT a20 SELECT SEGMENT_NAME，POPULATE_STATUS来自V $ IM_SEGMENTS WHERE SEGMENT_NAME ='CUSTOMERS'; SEGMENT_NAME POPULATE_STATUS -------------------- ---------------客户已完成</code></pre><p><code class="codeph">POPULATE_STATUS</code>的值<code class="codeph">COMPLETED</code>表示该表填充在IM列存储中。
                                 </p>
                              </li>
                              <li>
                                 <div class="p"><code class="codeph">DBA_FEATURE_USAGE_STATISTICS</code>视图确认数据库使用IM列存储来检索结果：<pre class="pre codeblock"><code>COL NAME FORMAT a25 SELECT ul。NAME，ul。来自DBA_FEATURE_USAGE_STATISTICS的DETECTED_USAGES ul ul。VERSION =（SELECT MAX（u2。版本来自DBA_FEATURE_USAGE_STATISTICS u2在哪里u2。NAME = ul。姓名和ul。NAME LIKE'％Column Store％'）;名称DETECTED_USAGES ------------------------- ---------------内存列存储1</code></pre></div>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-1DA5E834-3FE8-47FD-A73E-6C3F9AA22718">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85" title="为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。">记忆中人口的优先选择</a> ”</span></p>
                           <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">INMEMORY PRIORITY</code>子句</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="您可以指定数据库在数据库实例启动时或访问INMEMORY对象时填充IM列存储中的对象。">内存中的人口如何工作</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" name="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886"></a><h5 id="INMEM-GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" class="sect5"><span class="enumeration_section">4.1.2.2</span>后台进程如何填充IMCU</h5>
                     <div>
                        <p>在填充期间，数据库以行格式从磁盘读取数据，将行旋转以创建列，然后将数据压缩到内存中压缩单元（IMCU）。</p>
                        <p>工作进程（W <span class="italic">nnn</span> ）填充IM列存储中的数据。每个工作进程都对来自该对象的数据库块的子集进行操作。Population是一种流式传输机制，可同时压缩数据并将其转换为柱状格式。
                        </p>
                        <p><code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>初始化参数指定用于IM列存储填充的最大工作进程数。默认情况下，该设置是<code class="codeph">CPU_COUNT</code>一半。将此参数设置为适合您环境的值。更多的工作进程导致更快的填充，但他们使用更多的CPU资源。较少的工作进程导致较慢的填充，从而降低了CPU开销。
                        </p>
                        <div class="infoboxnote" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-717BA1F4-0B28-467E-B241-AC8332E32E05">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>设置为<code class="codeph">0</code> ，则禁用填充。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-4C4DF133-8DB5-4FB7-8AEC-2D8DD301C47F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>初始化参数的详细信息，请<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> <a href="../refrn/INMEMORY_MAX_POPULATE_SERVERS.html#REFRN-GUID-3428C0FF-5AA9-491C-908E-F0BD88095A5A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="您可以指定数据库在数据库实例启动时或访问INMEMORY对象时填充IM列存储中的对象。">内存中的人口如何工作</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" name="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261"></a><h4 id="INMEM-GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" class="sect4"><span class="enumeration_section">4.1.3</span>记忆中人口的控制</h4>
                  <div>
                     <p>使用DDL语句中的<code class="codeph">INMEMORY</code>子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B">INMEMORY子条款</a><br><code class="codeph">INMEMORY</code>是段级属性，而不是列级属性。但是，您可以将<code class="codeph">INMEMORY</code>属性应用于特定对象中的列的子集。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85">内存中人口的优先选择</a><br>为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4">IM列存储压缩方法</a><br>根据您的要求，您可以在不同级别压缩内存中对象。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-6E37613F-564B-4619-B9B3-CAEB09427E98">Oracle Compression Advisor</a><br>Oracle Compression Advisor使用<code class="codeph">MEMCOMPRESS</code>子句估计您可以实现的压缩率。顾问程序使用<code class="codeph">DBMS_COMPRESSION</code>接口。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" name="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B"></a><h5 id="INMEM-GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" class="sect5"><span class="enumeration_section">4.1.3.1</span> INMEMORY子条款</h5>
                     <div>
                        <p><code class="codeph">INMEMORY</code>是段级属性，而不是列级属性。但是，您可以将<code class="codeph">INMEMORY</code>属性应用于特定对象中的列的子集。
                        </p>
                        <p>要为IM列存储启用或禁用对象，请在DDL语句中为表空间，表和物化视图指定<code class="codeph">INMEMORY</code>子句。<code class="codeph">DBA_TABLES</code>视图中的<code class="codeph">INMEMORY</code>列指示哪些表具有<code class="codeph">INMEMORY</code>属性集（ <code class="codeph">ENABLED</code> ）或未设置（ <code class="codeph">DISABLED</code> ）。
                        </p>
                        <p>以下对象不符合IM列存储中的填充条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>索引</p>
                           </li>
                           <li>
                              <p>索引组织表</p>
                           </li>
                           <li>
                              <p>哈希集群</p>
                           </li>
                           <li>
                              <p><code class="codeph">SYS</code>用户拥有并存储在<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间中的对象</p>
                           </li>
                        </ul>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA">内存表</a><br>要使堆组织表适合填充， <code class="codeph">INMEMORY</code>在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">INMEMORY</code> 。
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-37E2E218-33A2-490E-891D-B627906DE16B">内存外部表</a><br>要使外部表符合人口，请指定<code class="codeph">EXTERNAL ...<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code> INMEMORY</code>子句。</li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A">内存物化视图</a><br>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中指定<code class="codeph">INMEMORY</code> ，可以使物化视图符合人口要求。
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580">内存中的表空间</a><br>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句上指定<code class="codeph">INMEMORY</code> ，可以使永久表空间符合填充条件。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" name="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA"></a><h6 id="INMEM-GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" class="sect6"><span class="enumeration_section">4.1.3.1.1</span>内存表</h6>
                        <div>
                           <p>要使堆组织表适合填充， <code class="codeph">INMEMORY</code>在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">INMEMORY</code> 。
                           </p>
                           <p>默认情况下，IM列存储会填充表中的所有非虚拟列。您可以指定内部表的全部或部分列。例如，您可以排除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>列<code class="codeph">oe.product_information</code>从资格。
                           </p>
                           <p>对于分区表，您可以填充IM列存储中的所有或部分分区。默认情况下，分区表中的所有分区都继承<code class="codeph">INMEMORY</code>属性。对于包含内部和外部分区的混合分区表，只有内部分区继承<code class="codeph">INMEMORY</code>属性。
                           </p>
                           <p>在Oracle Exadata Storage Server上， <code class="codeph">CELLMEMORY</code>关键字（默认）使闪存缓存能够以In-Memory格式存储数据。您可以使用<code class="codeph">ALTER TABLE</code>选择<code class="codeph">FOR QUERY</code>或<code class="codeph">FOR CAPACITY</code>压缩。指定<code class="codeph">NO CELLMEMORY</code>会禁用闪存缓存中的列存储。
                           </p>
                           <p>如果为IM列存储启用表并且它包含以下任何类型的列，则它们将不会填充在IM列存储中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>外行列（varrays，嵌套表列和外部LOB）</p>
                                 <div class="infoboxnote" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-5136E8D0-9A18-4EE5-A6E0-8FCAB0F5C31F">
                                    <p class="notep1">注意：</p>
                                    <p>对于内联LOB列，IM列存储分配最多4 KB的连续缓冲区存储，当内联LOB包含OSON（二进制JSON）数据时最多分配32 KB。对于外部LOB，IM列存储为定位器分配最多40个字节，但不存储LOB本身。</p>
                                 </div>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>数据类型的列</p>
                              </li>
                              <li>
                                 <p>扩展数据类型列</p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-B310B32B-63DF-4C53-A522-0AAD43A8EE86">
                              <p class="titleinexample">示例4-2将表指定为INMEMORY</p>
                              <p>假设您以用户<code class="codeph">sh</code>身份连接到数据库。使用<code class="codeph">FOR QUERY LOW</code>的默认压缩级别为IM列存储中的填充启用<code class="codeph">customers</code>表：</p><pre class="pre codeblock"><code>SQL&gt; SELECT TABLE_NAME，INMEMORY FROM USER_TABLES WHERE TABLE_NAME ='CUSTOMERS'; TABLE_NAME INMEMORY ---------- -------- CUSTOMERS DISABLED SQL&gt; ALTER TABLE customers INMEMORY;表改变了。SQL&gt; SELECT TABLE_NAME，INMEMORY，INMEMORY_COMPRESSION FROM USER_TABLES WHERE TABLE_NAME ='CUSTOMERS'; TABLE_NAME INMEMORY INMEMORY_COMPRESS ---------- -------- -----------------客户为QUERY LOW启用</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-01A3F602-2793-4402-8628-B7844CE35E11">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="IM列存储使用针对访问速度优化的特殊压缩格式，而不是存储减少。列式格式使查询能够直接针对压缩列执行。">内存中压缩</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata系统软件用户指南</cite></span></a> ，了解有关<code class="codeph">ALTER TABLE ...更多信息<code class="codeph">ALTER TABLE ...CELLMEMORY</code></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-37E2E218-33A2-490E-891D-B627906DE16B" name="GUID-37E2E218-33A2-490E-891D-B627906DE16B"></a><h6 id="INMEM-GUID-37E2E218-33A2-490E-891D-B627906DE16B" class="sect6"><span class="enumeration_section">4.1.3.1.2</span>内存外部表</h6>
                        <div>
                           <p>要使外部表符合人口，请指定<code class="codeph">EXTERNAL ...<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code> INMEMORY</code>子句。</p>
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-4C5095BD-8708-4F6E-86B1-80EA78A52045">内存外部表的用途</p>
                              <p>内存外部表在以下情况下很有用：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>必须在短时间内重复扫描的短期数据，不需要在Oracle数据库中保留</p>
                                 </li>
                                 <li>
                                    <p>必须连接到关系数据的外部数据，以便进行快速分析处理</p>
                                 </li>
                                 <li>
                                    <p>Oracle数据库和外部工具中的分析查询访问的数据，不需要在数据库存储中实现</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-3BCB388A-5694-4886-9E59-033E38188216">内存外部表的限制</p>
                              <p>IM列存储以与堆组织表相同的方式管理外部表的数据。例如，全表扫描会将内部表和外部表填充到IM列存储中。内存外部表支持外部表支持的相同驱动程序。但请注意以下差异：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>外部表的某些<code class="codeph">INMEMORY</code>子条款无效，包括column子句，distribute子句和priority子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span>内存中优化算术</span>不支持外部表。
                                    </p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持分区。对于包含内部和外部分区的混合分区表，只有<span class="italic">内部</span>分区（而不是外部分区）支持<code class="codeph">INMEMORY</code>属性。
                                    </p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持连接组。</p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持IM表达式。</p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持<code class="codeph">DISTRIBUTE ...Oracle Active Data Guard实例的FOR SERVICE</code>子句。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-41D0FF6E-6FB0-40EC-84E3-793804B9827D">
                                 <p class="notep1">注意：</p>
                                 <p>查询内存外部表的会话必须将初始化参数<code class="codeph">QUERY_REWRITE_INTEGRITY</code>设置为<code class="codeph">stale_tolerated</code> 。如果修改了外部表，则IM列存储的结果未定义。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-EA7D5E71-89E7-4B17-BE0F-13548DC66E10">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="此示例填充具有INMEMORY选项的外部表。">使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">CREATE TABLE ... <code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a>EXTERNAL</code>声明</p>
                                 </li>
                                 <li>
                                    <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”</cite></span></a> ，了解不同版本和服务支持哪些功能的详细信息</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" name="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A"></a><h6 id="INMEM-GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" class="sect6"><span class="enumeration_section">4.1.3.1.3</span>内存物化视图</h6>
                        <div>
                           <p>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中指定<code class="codeph">INMEMORY</code> ，可以使物化视图符合人口要求。
                           </p>
                           <p>对于分区的物化视图，您可以填充IM列存储中的所有或部分分区。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A__GUID-4B5B7E9A-E31E-4963-BB33-17BC6837427A">
                              <p class="notep1">也可以看看：</p>
                              <p>用于<code class="codeph">ALTER MATERIALIZED VIEW</code>语法和语义的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" name="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580"></a><h6 id="INMEM-GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" class="sect6"><span class="enumeration_section">4.1.3.1.4</span>内存中的表空间</h6>
                        <div>
                           <p>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句上指定<code class="codeph">INMEMORY</code> ，可以使永久表空间符合填充条件。
                           </p>
                           <p>默认情况下，表空间中的所有表和实例化视图都为IM列存储启用。表空间中的各个表和物化视图可能具有不同的<code class="codeph">INMEMORY</code>属性。各个数据库对象的属性会覆盖表空间的属性。
                           </p>
                           <div class="infoboxnote" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-891F89CD-200A-4D8A-86F4-4FC04561BAD6">
                              <p class="notep1">注意：</p>
                              <p>临时表空间不符合In-Memory填充条件。</p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-0E102071-2927-4B74-B5FE-ACD2AC1E4EA7">
                              <p class="notep1">也可以看看：</p>
                              <p>用于<code class="codeph">ALTER TABLESPACE</code>语法和语义的<a href="../sqlrf/ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85" name="GUID-B37DCA18-7CDA-425A-883B-036B70714F85"></a><h5 id="INMEM-GUID-B37DCA18-7CDA-425A-883B-036B70714F85" class="sect5"><span class="enumeration_section">4.1.3.2</span>记忆内人口的优先选择</h5>
                     <div>
                        <p>为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。</p>
                        <div class="section">
                           <p>Oracle SQL包含一个<code class="codeph">INMEMORY PRIORITY</code>子句，可以更好地控制填充队列。例如，在填充其他数据库对象的数据之前填充数据库对象的数据可能更重要或更不重要。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-C3E99599-F9CA-4F6C-8E5B-9DAF3E2EC26F">
                              <p class="notep1">视频：</p>
                              <p>
                                 </p><div class="video-box">
                                    <div id="9368" class="video-container"></div>
                                 </div>
                              
                           </div>
                           <p>下表介绍了支持的优先级。</p>
                           <div class="tblformalwide" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__BABEIDGD">
                              <p class="titleintable">表4-1在IM列存储中填充数据库对象的优先级</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="在IM列存储中填充数据库对象的优先级" width="100%" border="1" summary="This table describes the priority levels for loading table data into the In-Memory Column Store. It has the following columns:  Priority Level, CREATE/ALTER Table Syntax, and Description" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d11625e2317">CREATE / ALTER语法</th>
                                       <th align="left" valign="bottom" width="70%" id="d11625e2320">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2325" headers="d11625e2317 ">
                                          <p><code class="codeph">优先权</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2325 d11625e2320 ">
                                          <p>数据库仅按需填充对象。对数据库对象的完全扫描会触发对象的填充到IM列存储中。</p>
                                          <p>当<code class="codeph">PRIORITY</code>未包含在<code class="codeph">INMEMORY</code>子句中时，这是默认级别。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2341" headers="d11625e2317 ">
                                          <p><code class="codeph">优先级低</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2341 d11625e2320 ">
                                          <p>数据库为对象分配低优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>在具有以下优先级的数据库对象之前，在IM列存储中填充该对象： <code class="codeph">NONE</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">MEDIUM</code> ， <code class="codeph">HIGH</code>或<code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2363" headers="d11625e2317 ">
                                          <p><code class="codeph">优先媒体</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2363 d11625e2320 ">
                                          <p>数据库为对象分配中等优先级，并根据其在队列中的位置在启动后填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code>或<code class="codeph">LOW</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">HIGH</code>或<code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2385" headers="d11625e2317 ">
                                          <p><code class="codeph">优先级高</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2385 d11625e2320 ">
                                          <p>数据库为对象分配高优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象的数据在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code> ， <code class="codeph">LOW</code>或<code class="codeph">MEDIUM</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2407" headers="d11625e2317 ">
                                          <p><code class="codeph">优先关键</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2407 d11625e2320 ">
                                          <p>数据库为对象分配低优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象的数据在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code> ， <code class="codeph">LOW</code> ， <code class="codeph">MEDIUM</code>或<code class="codeph">HIGH</code> 。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>当多个数据库对象的优先级不是<code class="codeph">NONE</code> ，Oracle数据库会根据优先级对要填充的对象的数据进行排队。首先填充具有<code class="codeph">CRITICAL</code>优先级的数据库对象;接下来填充具有<code class="codeph">HIGH</code>优先级的数据库对象，依此类推。如果IM列存储中没有剩余空间，则在空间可用之前不会填充其他对象。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-E2372CD0-3319-4179-B3DA-64510BF383F8">
                              <p class="notep1">注意：</p>
                              <p>如果将所有对象指定为<code class="codeph">CRITICAL</code> ，则数据库不会将任何对象视为比任何其他对象更重要。
                              </p>
                           </div>
                           <p>重新启动数据库时，启动期间IM列列存储中将填充优先级为<code class="codeph">NONE</code>数据库对象的所有数据。对于优先级不是<code class="codeph">NONE</code>的数据库对象，在DD列更改记录在IM列存储中之前，不会返回涉及数据库对象的<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code> DDL语句。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-973048C5-DE8A-43BA-8751-8310E2B2685F">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>优先级设置必须应用于整个表或表分区。不允许为表中的不同列子集指定不同的IM列存储优先级。</p>
                                 </li>
                                 <li>
                                    <p>如果磁盘上的段为64 KB或更少，则不会在IM列存储中填充它。因此，可能无法填充为IM列存储启用的某些小型数据库对象。</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-44A62D85-0071-40D2-909B-D8555BEA8518">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" title="DDL语句包括一个INMEMORY PRIORITY子句，它提供了对总体队列的更多控制。">记忆中人口的优先顺序</a> ”</span></p>
                              </li>
                              <li>
                                 <p>用于<code class="codeph">CREATE TABLE ... <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> <code class="codeph">CREATE TABLE ...INMEMORY PRIORITY</code>语法和语义</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" name="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4"></a><h5 id="INMEM-GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" class="sect5"><span class="enumeration_section">4.1.3.3</span> IM列存储压缩方法</h5>
                     <div>
                        <p>根据您的要求，您可以在不同级别压缩内存中对象。</p>
                        <div class="section">
                           <p>通常，压缩是一种节省空间的机制。但是，IM列存储可以使用一组新算法压缩数据，这些算法也可以提高查询性能。如果使用<code class="codeph">FOR DML</code>或<code class="codeph">FOR QUERY</code>选项压缩列数据，则SQL查询将直接对压缩数据执行。因此，扫描和过滤操作在更少量的数据上执行。数据库仅在结果集需要时解压缩数据。
                           </p>
                           <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-FE6070A5-C5BB-444C-BC92-F63E56B6077C">
                              <p class="notep1">视频：</p>
                              <p>
                                 </p><div class="video-box">
                                    <div id="9369" class="video-container"></div>
                                 </div>
                              
                           </div>
                           <p><code class="codeph">V$IM_SEGMENTS</code>和<code class="codeph">V$IM_COLUMN_LEVEL</code>视图指示当前的压缩级别。您可以使用适当的<code class="codeph">ALTER</code>命令更改压缩级别。<span>如果当前在IM列存储中填充了表，并且如果更改<span class="italic">除</span> <code class="codeph">PRIORITY</code> <span class="italic">之外</span>的表的任何<code class="codeph">INMEMORY</code>属性，则数据库将从IM列存储中逐出该表。重新填充行为取决于<code class="codeph">PRIORITY</code>设置。</span></p>
                           <p>下表总结了IM列存储中支持的数据压缩方法。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__BABIHHDA">
                           <p class="titleintable">表4-2 IM列存储压缩方法</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="IM列存储压缩方法" width="100%" border="1" summary="This table describes the types of in-memory table compression. It has the following columns: CREATE/ALTER Table Syntax, and Description" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="45%" id="d11625e2662">CREATE / ALTER语法</th>
                                    <th align="left" valign="bottom" width="55%" id="d11625e2665">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2670" headers="d11625e2662 ">
                                       <p><code class="codeph">没有MEMCOMPRESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2670 d11625e2665 ">
                                       <p>数据未压缩。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2678" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS for DML</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2678 d11625e2665 ">
                                       <p>此方法可获得最佳DML性能。</p>
                                       <p>此方法最少压缩IM列存储数据， <code class="codeph">NO MEMCOMPRESS</code> 。</p>
                                       <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-D184FBE5-7A65-410E-B241-34AE170A716A">
                                          <p class="notep1">注意：</p>
                                          <p>Exadata闪存缓存上的<code class="codeph">CELLMEMORY</code>存储不支持此压缩方法。
                                          </p>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2697" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS非常低</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2697 d11625e2665 ">
                                       <p>此方法可获得最佳查询性能。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR DML</code>压缩IM列存储数据，但小于<code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code> 。</p>
                                       <p>如果在<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> SQL语句中未指定压缩方法指定<code class="codeph">INMEMORY</code>子句，或者指定<code class="codeph">MEMCOMPRESS FOR QUERY</code>而不包括<code class="codeph">LOW</code>或<code class="codeph">HIGH</code>此方法是缺省值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2734" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS为QUERY HIGH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2734 d11625e2665 ">
                                       <p>此方法可以提高查询性能，并节省空间。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR QUERY LOW</code>压缩IM列存储数据，但低于<code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2750" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS的容量低</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2750 d11625e2665 ">
                                       <p>此方法可节省空间和查询性能，并可节省空间。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code>压缩IM列存储数据，但小于<code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code> 。此方法应用称为Oracle Zip（OZIP）的专有压缩技术，该技术提供针对Oracle数据库专门调整的极快速解压缩。必须先对该数据进行解压缩才能进行扫描。
                                       </p>
                                       <p>当指定<code class="codeph">MEMCOMPRESS FOR CAPACITY</code>时，此方法是默认值，不包括<code class="codeph">LOW</code>或<code class="codeph">HIGH</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2777" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS容量高</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2777 d11625e2665 ">
                                       <p>这种方法可以节省空间。</p>
                                       <p>此方法最能压缩IM列存储数据。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>在SQL语句中， <code class="codeph">MEMCOMPRESS</code>关键字必须以<code class="codeph">INMEMORY</code>关键字<code class="codeph">INMEMORY</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-ED27CFC7-FDAC-41CC-AA4D-C6484F71BF43">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="repopulation-and-dml.html#GUID-857EFBD6-6D03-4543-9FAB-F66B5C16D0C7" title="重大修改后自动刷新柱状数据称为重新填充。">关于IM列存储的重新填充</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata系统软件用户指南</cite></span></a> ，了解有关<code class="codeph">ALTER TABLE ...更多信息<code class="codeph">ALTER TABLE ...CELLMEMORY</code></p>
                              </li>
                              <li>
                                 <p>用于<code class="codeph">CREATE TABLE ... <a href="../sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> <code class="codeph">CREATE TABLE ...INMEMORY PRIORITY</code>语法和语义</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" name="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98"></a><h5 id="INMEM-GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" class="sect5"><span class="enumeration_section">4.1.3.4</span> Oracle Compression Advisor</h5>
                     <div>
                        <p>Oracle Compression Advisor使用<code class="codeph">MEMCOMPRESS</code>子句估计您可以实现的压缩率。顾问程序使用<code class="codeph">DBMS_COMPRESSION</code>接口。
                        </p>
                        <p>当您为表运行<code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code> ，Oracle数据库会分析行的样本。因此，Oracle Compression Advisor可以很好地估计表填充到IM列存储后的压缩结果。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98__GUID-E1CB37F6-B8A3-4A1C-8A0F-FF3B139809FC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_COMPRESSION.html#ARPLS65605" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" name="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B"></a><h3 id="INMEM-GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" class="sect3"><span class="enumeration_section">4.2</span>启用和禁用IM列存储的表</h3>
               <div>
                  <p>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">ALTER TABLE</code> 。通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">ALTER TABLE</code> 。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-FB360DEE-45DB-49FF-8510-541473AAD707">为内存中的列存储启用新表</a><br>通过在<code class="codeph">CREATE TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，可以为IM列存储启用新表。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE">为IM列存储启用和禁用现有表</a><br>通过在<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>或<code class="codeph">NO INMEMORY</code>子句，为IM列存储启用或禁用现有表。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496">为IM列存储启用和禁用表：示例</a><br>以下示例说明如何为IM列存储启用或禁用表。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707" name="GUID-FB360DEE-45DB-49FF-8510-541473AAD707"></a><h4 id="INMEM-GUID-FB360DEE-45DB-49FF-8510-541473AAD707" class="sect4"><span class="enumeration_section">4.2.1</span>为内存中的列存储启用新表</h4>
                  <div>
                     <p>通过在<code class="codeph">CREATE TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，可以为IM列存储启用新表。
                     </p>
                     <div class="section">
                        <p>您可以为IM列存储启用内部或外部表。某些<code class="codeph">INMEMORY</code>子条款（包括列和优先级子条款）对外部表无效。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-6F19ED97-8AD8-40E2-A990-FEA27BBF5C74">先决条件</p>
                        <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-2CCDECBE-24E2-42C4-ACAE-7174A1DD6411">要为IM列存储启用新表：</p>
                        <ol>
                           <li>
                              <p>以具有创建表所需权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">INMEMORY</code>子句运行<code class="codeph">CREATE TABLE</code>语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="此示例启用oe.product_information表中除wt_class和catalog_url之外的IM列存储的所有列。">为IM列存储启用列的子集：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" name="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE"></a><h4 id="INMEM-GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" class="sect4"><span class="enumeration_section">4.2.2</span>启用和禁用IM列存储的现有表</h4>
                  <div>
                     <p>通过在<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>或<code class="codeph">NO INMEMORY</code>子句，为IM列存储启用或禁用现有表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-C0FDBC4A-D0C2-403F-983E-596C5EE3CF42">先决条件</p>
                        <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-BD98BA8A-70BE-4FBC-A8AB-55B59E0D6A22">要为IM列存储启用或禁用现有表，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">ALTER TABLE</code>语句。
                              </p>
                           </li>
                           <li>
                              <p>（可选）要查看有关内存中段的元数据（大小，优先级，压缩级别），请查询<code class="codeph">V$IM_SEGMENTS</code> 。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="此示例启用oe.product_information表中除wt_class和catalog_url之外的IM列存储的所有列。">为IM列存储启用列的子集：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER TABLE</code>语句的信息，请<a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$IM_SEGMENTS</code>视图的信息，请<a href="../refrn/V-IM_SEGMENTS.html#GUID-1CD070FD-2864-452D-B2AA-50E977C4885A" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" name="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496"></a><h4 id="INMEM-GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" class="sect4"><span class="enumeration_section">4.2.3</span>启用和禁用IM列存储的表：示例</h4>
                  <div>
                     <p>以下示例说明如何为IM列存储启用或禁用表。</p>
                     <div class="section">本节包含以下主题：</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-21EBEB55-6898-40C8-B60A-36052D34D73C">创建内存表：示例</a><br>此示例创建<code class="codeph">test_inmem</code>表并为IM列存储启用它。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E1378020-4ED0-4C79-A555-0687314D72BC">使用内存分区创建表：示例</a><br>此示例创建名为<code class="codeph">range_sales</code>的分区表，将分区的子集指定为<code class="codeph">INMEMORY</code> 。</li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4">创建内存外部表：示例</a><br>此示例使用<code class="codeph">INMEMORY</code>选项创建外部表。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9">创建和填充混合外部表：示例</a><br>此示例使用<code class="codeph">INMEMORY</code>选项创建混合外部表，然后填充内部分区。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-D259986C-DD74-4E72-B467-15B5858FB2CC">为IM列存储启用现有表：示例</a><br>此示例为IM列存储启用现有<code class="codeph">sh.sales</code>表。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A">将内存中压缩设置为FOR CAPACITY LOW：示例</a><br>此示例为IM列存储启用现有<code class="codeph">oe.product_information</code>表，并指定压缩方法<code class="codeph">FOR CAPACITY LOW</code> 。</li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA">将内存优先级设置为HIGH：示例</a><br>此示例启用IM列存储的<code class="codeph">oe.product_information</code>表，并指定<code class="codeph">PRIORITY HIGH</code>以填充IM列存储中的表数据。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2D5D74B5-F89B-4E67-B177-1509185B473E">更改内存中表的压缩和优先级设置：示例</a><br>此示例将<code class="codeph">oe.product_information</code>表更改为使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">LOW</code>优先级设置。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C">禁用IM列存储的表：示例</a><br>要禁用IM列存储的表，请指定<code class="codeph">NO INMEMORY</code>子句。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4">在Exadata智能闪存缓存上禁用列式格式：示例</a><br>此示例禁用Exadata智能闪存缓存存储上的<code class="codeph">oe.product_information</code>的列式格式。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__GUID-F9C0F675-4D73-454E-9139-E8A6B95BAB8E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" name="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C"></a><h5 id="INMEM-GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" class="sect5"><span class="enumeration_section">4.2.3.1</span>创建内存表：示例</h5>
                     <div>
                        <p>此示例创建<code class="codeph">test_inmem</code>表并为IM列存储启用它。
                        </p>
                        <div class="example" id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C__GUID-2C339BDC-BFDB-4A5D-AB57-15DE86ACD215">
                           <p>在SQL * Plus中，以拥有该表的用户身份登录数据库，然后执行以下SQL语句：</p><pre class="pre codeblock"><code>CREATE TABLE test_inmem（id NUMBER（5）PRIMARY KEY，test_col VARCHAR2（15））INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。由于<code class="codeph">PRIORITY</code>为<code class="codeph">NONE</code> ，因此数据库不会自动填充表。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC" name="GUID-E1378020-4ED0-4C79-A555-0687314D72BC"></a><h5 id="INMEM-GUID-E1378020-4ED0-4C79-A555-0687314D72BC" class="sect5"><span class="enumeration_section">4.2.3.2</span>使用内存分区创建表：示例</h5>
                     <div>
                        <p>此示例创建名为<code class="codeph">range_sales</code>的分区表，将分区的子集指定为<code class="codeph">INMEMORY</code> 。</p>
                        <div class="example" id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC__GUID-3598CEB3-F4DD-42D0-A69C-6425CD023EBE">
                           <p>以拥有新表的用户身份登录SQL * Plus，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>CREATE TABLE range_sales（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）（PARTITION SALES_Q4_1999价值低于（截止日期（'01 -JAN-2015'，'DD-MON-YYYY'））DML，PARTITION SALES_Q1_2000的价值不足（截止日期为（'01-APR-2015'，'DD-MON-） YYYY'））INMEMORY MEMCOMPRESS for QUERY，PARTITION SALES_Q2_2000价值不到（2015年7月1日'，2015年7月'，'DD-MON-YYYY'）INMEMORY MEMCOMPRESS for CAPACITY，PARTITION SALES_Q3_2000价值不到（7月10日） OCT-2015'，'DD-MON-YYYY'））没有INMEMORY，PARTITION SALES_Q4_2000价值低于（MAXVALUE））;</code></pre><p>前面的SQL为IM列存储中的前三个分区指定了不同的压缩级别。最后两个分区不符合IM列存储中的填充条件。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" name="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4"></a><h5 id="INMEM-GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" class="sect5"><span class="enumeration_section">4.2.3.3</span>创建内存外部表：示例</h5>
                     <div>
                        <p>此示例使用<code class="codeph">INMEMORY</code>选项创建外部表。
                        </p>
                        <div class="p">
                           <p>此示例假定主机具有目录<code class="codeph">/tmp/data/</code> ， <code class="codeph">/tmp/log/</code>和<code class="codeph">/tmp/bad/</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-74146E09-A4DF-4F63-9909-836168A7B3DE">
                           <p>以下SQL脚本从<code class="codeph">sh.sales</code>表创建逗号分隔的平面文件<code class="codeph">/tmp/data/sh_sales.csv</code> 。以用户<code class="codeph">sh</code>执行脚本。
                           </p><pre class="pre codeblock"><code>SET HEAD OFF SET PAGES 0 SET FEEDBACK OFF SET TERMOUT OFF SPOOL /tmp/data/sh_sales.csv SELECT prod_id || '，'|| cust_id || '，'|| time_id || '，'|| channel_id || '，'|| promo_id || '，'|| quantity_sold || '，'|| amount_sold FROM sales; SPOOL OFF</code></pre><p>使用<code class="codeph">sh_sales.csv</code>文件，以下SQL脚本使用<code class="codeph">INMEMORY</code>选项创建外部表<code class="codeph">sh.admin_ext_sales</code> ：</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA; - 设置目录并授予sh create或REPLACE DIRECTORY admin_dat_dir AS'/ tmp / data'的访问权限;创建或替换目录admin_log_dir AS'/ tmp / log';创建或替换目录admin_bad_dir AS'/ tmp / bad'; GRANT READ ON DIRECTORY admin_dat_dir TO sh; GRANT WRITE ON DIRECTORY admin_log_dir TO sh; GRANT WRITE ON DIRECTORY admin_bad_dir TO sh; -  sh连接。出现提示时提供用户密码（sh）。CONNECT sh  - 创建外部表DROP TABLE admin_ext_sales; CREATE TABLE admin_ext_sales（prod_id NUMBER，cust_id NUMBER，time_id DATE，channel_id NUMBER，promo_id NUMBER，quantity_sold NUMBER（10,2），amount_sold NUMBER（10,2））ORGANIZATION EXTERNAL（TYPE ORACLE_LOADER DEFAULT DIRECTORY admin_dat_dir ACCESS PARAMETERS（由换行符分隔的记录） badfile admin_bad_dir：'empxt％a_％p.bad'logfile admin_log_dir：'empxt％a_％p.log'字段以'结尾'，缺少的字段值为空（prod_id，cust_id，time_id char date_format date mask“dd-mon- yy“，channel_id，promo_id，quantity_sold，amount_sold））LOCATION（'sh_sales.csv'））REJECT LIMIT UNLIMITED INMEMORY;</code></pre><p>以下查询<code class="codeph">ALL_EXTERNAL_TABLES</code>表明<code class="codeph">admin_ext_sales</code>表启用了<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>COL OWNER FORMAT A10 COL TABLE_NAME FORMAT A15 SELECT ALLWWER，TABLE_NAME，INMEMORY，INMEMORY_COMPRESSION FROM ALL_EXTERNAL_TABLES WHERE TABLE_NAME ='ADMIN_EXT_SALES'; OWNER TABLE_NAME INMEMORY INMEMORY_COMPRESS ---------- --------------- -------- ------------- ---- SH ADMIN_EXT_SALES启用了QUERY LOW</code></pre><p>相关视图包括<code class="codeph">ALL_XTERNAL_PART_TABLES</code> ， <code class="codeph">ALL_XTERNAL_TAB_PARTITIONS</code>和<code class="codeph">ALL_XTERNAL_TAB_SUBPARTITIONS</code> 。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="此示例填充具有INMEMORY选项的外部表。">使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/QUERY_REWRITE_INTEGRITY.html#GUID-23655494-DF65-4F0E-A89F-8333222297F5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">ALL_EXTERNAL_TABLES</code>和相关的外部表视图</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" name="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9"></a><h5 id="INMEM-GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" class="sect5"><span class="enumeration_section">4.2.3.4</span>创建和<span class="enumeration_section">填充</span>混合外部表：示例</h5>
                     <div>
                        <p>此示例使用<code class="codeph">INMEMORY</code>选项创建混合外部表，然后填充内部分区。
                        </p>
                        <div class="section">
                           <p>此示例假定存在<code class="codeph">sh.sales</code>表。目标是使用两个内部分区创建混合分区表<code class="codeph">sales_hpt</code> ，其中一个内部分区使用<code class="codeph">sh.sales</code>的数据，然后添加一个外部分区。将<code class="codeph">INMEMORY</code>属性应用于<code class="codeph">sales_hpt</code> ，此属性仅适用于内部分区。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__GUID-0EFD8472-DEFF-4675-8F07-8485100A5954">
                           <ol id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__OL_T1Z_CNV_3GB">
                              <li>
                                 <p>在Linux中，创建一个临时目录，然后使用一行销售数据创建一个文本文件。</p><pre class="pre codeblock"><code>mkdir / tmp / sales_data echo“1002,110,19-02-2015,12,18,150,4800”&gt; /tmp/sales_data/sales2015_data.txt</code></pre></li>
                              <li>
                                 <p>在SQL * Plus中，log具有管理员权限，然后为销售数据创建目录对象：</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA CREATE DIRECTORY sales_data AS'/ tmp / sales_data'; GRANT READ，WRITE ON DIRECTORY sales_data to sh;</code></pre></li>
                              <li>
                                 <p>以<code class="codeph">sh</code>用户身份登录，然后创建<code class="codeph">sales_hpt</code>表：</p><pre class="pre codeblock"><code>CONNECT sh DROP TABLE sales_hpt; CREATE TABLE sales_hpt（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL）EXTERNAL分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id日期'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT UNLIMITED）按范围划分（time_id ）（PARTITION sales_2014价值不到（截止日期为（'01 -01-2015'，'dd-mm-yyyy'）），PARTITION sales_2015价值不到（截止日期（'01 -01-2016'，'dd-mm-yyyy） '）），PARTITION sales_2016价值低于（7月1日（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'））;</code></pre><p>上面的语句显示该表有三个分区： <code class="codeph">sales_2014</code> ， <code class="codeph">sales_2015</code>和<code class="codeph">sales_2016</code> 。只有<code class="codeph">sales_2016</code>被设计为外部。
                                 </p>
                              </li>
                              <li>
                                 <p>查询数据字典以确认该表是混合的：</p><pre class="pre codeblock"><code>SQL&gt; COL TABLE_NAME FORMAT a25 SQL&gt; SELECT TABLE_NAME，HYBRID FROM USER_TABLES WHERE HYBRID ='YES'; TABLE_NAME HYB ------------------------- --- SALES_HPT YES</code></pre></li>
                              <li>
                                 <p>将行插入两个内部分区：</p><pre class="pre codeblock"><code>INSERT / * + APPEND * / INTO sh.sales_hpt（SELECT * FROM sales）; INSERT INTO sh.sales_hpt VALUES（30,21086，'30 -12-2015'，2,999,1,109）;承诺;</code></pre><p>前面的第一个语句插入<code class="codeph">sales</code>表中的所有行。<code class="codeph">sales</code>中的所有日期都在2002年之前，因此<code class="codeph">sales</code>中的所有行都会插入到<code class="codeph">sales_2014</code>分区中。第二个语句将一行插入<code class="codeph">sales_2015</code>分区。
                                 </p>
                              </li>
                              <li>
                                 <p>查询分区以确认存在正确的数据：</p><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2014）; COUNT（*）---------- 918843 SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2015）; COUNT（*）---------- 1 SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2016）; COUNT（*）---------- 1</code></pre></li>
                              <li>
                                 <p>在表级别应用<code class="codeph">INMEMORY</code>属性，然后强制数据库将表填充到IM列存储中：</p><pre class="pre codeblock"><code>ALTER TABLE sales_hpt INMEMORY; SELECT / * + FULL（sales_hpt）NO_PARALLEL（sales_hpt）* / COUNT（*）FROM sales_hpt;</code></pre></li>
                              <li>
                                 <p>查询<code class="codeph">sales_hpt</code>分区的填充状态：</p><pre class="pre codeblock"><code>COL所有者格式a3 COL名称格式a10 COL分区格式a13 COL状态格式a20选择所有者，SEGMENT_NAME NAME，PARTITION_NAME PARTITION，POPULATE_STATUS状态，BYTES_NOT_POPULATED自V $ IM_SEGMENTS;自己的名字分区状态BYTES_NOT_POPULATED --- ---------- ------------- ------------------- -  ------------------- SH SALES_HPT SALES_2015已完成0 SH SALES_HPT SALES_2014已完成0</code></pre><p>该查询显示只填充了两个内部分区，这是预期的。<code class="codeph">INMEMORY</code>属性不适用于外部分区。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" name="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC"></a><h5 id="INMEM-GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" class="sect5"><span class="enumeration_section">4.2.3.5</span>为IM列存储启用现有表：示例</h5>
                     <div>
                        <p>此示例为IM列存储启用现有<code class="codeph">sh.sales</code>表。
                        </p>
                        <div class="example" id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC__GUID-E76EA99F-9376-4D58-950D-885C7DB465C4">
                           <p>在SQL * Plus中，以<code class="codeph">sh</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE销售INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" name="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A"></a><h5 id="INMEM-GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" class="sect5"><span class="enumeration_section">4.2.3.6</span>将内存中压缩设置为FOR CAPACITY LOW：示例</h5>
                     <div>
                        <p>此示例为IM列存储启用现有<code class="codeph">oe.product_information</code>表，并指定压缩方法<code class="codeph">FOR CAPACITY LOW</code> 。</p>
                        <div class="example" id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A__GUID-AF1FC237-18BF-4ECA-9BCA-99CA4E463158">
                           <p>在SQL * Plus中，以<code class="codeph">oe</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information INMEMORY MEMCOMPRESS容量低;</code></pre><p>前面的语句使用<code class="codeph">NONE</code>的<code class="codeph">PRIORITY</code>子句的默认值。通过强制执行全表扫描来填充表，如下所示（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT / * + FULL（p）NO_PARALLEL（p）* / COUNT（*）FROM product_information p; COUNT（*）---------- 288</code></pre><p>在单独的会话中，以具有管理权限的用户身份登录，然后通过执行以下查询来计算压缩率（包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a19 SET PAGESIZE 50000 SELECT OWNER，SEGMENT_NAME，BYTES ORIG_SIZE，INMEMORY_SIZE IN_MEM_SIZE，ROUND（BYTES / INMEMORY_SIZE，2）COMP_RATIO FROM V $ IM_SEGMENTS SEGMENT_NAME喜欢'P％'订购4;所有者SEGMENT_NAME ORIG_SIZE IN_MEM_SIZE COMP_RATIO ----- ------------------- ---------- ----------- ---------- OE PRODUCT_INFORMATION 98304 1310720 .08</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" name="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA"></a><h5 id="INMEM-GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" class="sect5"><span class="enumeration_section">4.2.3.7</span>将内存优先级设置为HIGH：示例</h5>
                     <div>
                        <p>此示例启用IM列存储的<code class="codeph">oe.product_information</code>表，并指定<code class="codeph">PRIORITY HIGH</code>以填充IM列存储中的表数据。
                        </p>
                        <div class="example" id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA__GUID-C7F19235-479A-4D5A-A735-FE4560E9F2C3">
                           <p>在SQL * Plus中，以<code class="codeph">oe</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information INMEMORY PRIORITY HIGH;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" name="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E"></a><h5 id="INMEM-GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" class="sect5"><span class="enumeration_section">4.2.3.8</span>更改内存表的压缩和优先级设置：示例</h5>
                     <div>
                        <p>此示例将<code class="codeph">oe.product_information</code>表更改为使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">LOW</code>优先级设置。
                        </p>
                        <div class="example" id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E__GUID-5A918ABB-5598-4535-9B4E-F9DDBC706BD1">
                           <p>在SQL * Plus中，以管理用户身份登录数据库，然后执行以下查询以显示<code class="codeph">oe.product_information</code>表的当前优先级和压缩设置：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a19 SET PAGESIZE 50000 SELECT v.OWNER，v.SEGMENT_NAME，v.INMEMORY_PRIORITY，v.INMEMORY_COMPRESSION FROM V $ IM_SEGMENTS v SEGMENT_NAME喜欢'P％'; OWNER SEGMENT_NAME INMEMORY INMEMORY_COMPRESS ----- ------------------- -------- -------------- --- OE PRODUCT_INFORMATION高容量低</code></pre><p>以下DDL语句改变<code class="codeph">oe.product_information</code>以使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">PRIORITY LOW</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information INMEMORY MEMCOMPRESS for CAPACITY HIGH PRIORITY LOW;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" name="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C"></a><h5 id="INMEM-GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" class="sect5"><span class="enumeration_section">4.2.3.9</span>禁用IM列存储的表：示例</h5>
                     <div>
                        <p>要禁用IM列存储的表，请指定<code class="codeph">NO INMEMORY</code>子句。
                        </p>
                        <div class="example" id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C__GUID-DF205A1C-2A1B-4E56-A803-E370DA1460FD">
                           <p>以用户<code class="codeph">oe</code>身份登录数据库，然后执行以下语句以禁用IM列存储的<code class="codeph">product_information</code>表：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information NO INMEMORY;</code></pre><p><code class="codeph">V$IM_SEGMENTS</code>视图列出了在IM列存储中填充的数据库对象。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" name="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4"></a><h5 id="INMEM-GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" class="sect5"><span class="enumeration_section">4.2.3.10</span>在Exadata智能闪存缓存上禁用列式格式：示例</h5>
                     <div>
                        <p>此示例禁用Exadata智能闪存缓存存储上的<code class="codeph">oe.product_information</code>的列式格式。
                        </p>
                        <div class="example" id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4__GUID-31D5AC5E-FA0A-4615-B03D-9670B3FB88A5">
                           <p>默认情况下，Exadata智能闪存缓存使用<code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code>级别压缩数据。若要更改压缩级别或完全禁用列式格式，请使用<code class="codeph">ALTER TABLE ...NO CELLMEMORY</code>声明。
                           </p>
                           <p>以<code class="codeph">oe</code>用户登录数据库，执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information NO CELLMEMORY;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" name="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347"></a><h3 id="INMEM-GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" class="sect3"><span class="enumeration_section">4.3</span>启用和禁用内存表中的列</h3>
               <div>
                  <p>您可以为内部表中的各个列指定<code class="codeph">INMEMORY</code>子句。外部表不支持在列级别指定<code class="codeph">INMEMORY</code> 。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617">关于启用INMEMORY列</a><br>对于内部表，内存中的虚拟列（IM虚拟列）和非虚拟列都符合IM填充的条件。对于外部表，只有非虚拟列才符合条件。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA">启用IM虚拟列</a><br>IM虚拟列通过避免重复计算来提高查询性能。此外，数据库可以使用诸如SIMD矢量处理之类的技术来扫描和过滤IM虚拟列。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E">为IM列存储启用列子集：示例</a><br>此示例启用<code class="codeph">oe.product_information</code>表中除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>之外的IM列存储的所有列。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-9E123407-13BA-4566-933D-6E4473C8FE5C">在NO INMEMORY表上指定INMEMORY列属性：示例</a><br>从<span>Oracle Database 12c</span>第2版（12.2）开始，您可以在尚未指定为<code class="codeph">INMEMORY</code>的对象的列级别指定<code class="codeph">INMEMORY</code>子句。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" name="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617"></a><h4 id="INMEM-GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" class="sect4"><span class="enumeration_section">4.3.1</span>关于启用INMEMORY列</h4>
                  <div>
                     <p>对于内部表，内存中的虚拟列（IM虚拟列）和非虚拟列都符合IM填充的条件。对于外部表，只有非虚拟列才符合条件。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-20B9C781-32BF-4F37-9B12-ACC1F9278589">INMEMORY对象中没有INMEMORY列</p>
                        <p>默认情况下，如果内部对象具有<code class="codeph">INMEMORY</code>属性，则此对象中的所有列都有资格进入IM列存储。但是，您可以指定<code class="codeph">INMEMORY</code>表中的某些列应具有<code class="codeph">NO INMEMORY</code>属性，在这种情况下，只有<code class="codeph">INMEMORY</code>列才符合填充条件。
                        </p>
                        <p>要将<code class="codeph">INMEMORY</code>属性应用于列的子集，请指定<code class="codeph">ALTER TABLE <span class="codeinlineitalic">table_name</span> INMEMORY ...NO INMEMORY <span class="codeinlineitalic">excluded_columns</span></code> ，其中<span class="italic">excluded_columns</span>列出要指定为<code class="codeph">NO INMEMORY</code>的列。只有未指定为<code class="codeph">NO INMEMORY</code>的列（即不在排除列列表中的列） <code class="codeph">INMEMORY</code>继承段级别的<code class="codeph">INMEMORY</code>属性。
                        </p>
                        <p>在<code class="codeph">INMEMORY</code>表中指定<code class="codeph">NO INMEMORY</code>列具有重要的后果。引用一个查询<code class="codeph">NO INMEMORY</code>列使用行店<span class="italic">独家</span> 。例如，如果<code class="codeph">sales</code>是包含7列的<code class="codeph">INMEMORY</code>表，并且只有<code class="codeph">promo_id</code>列具有<code class="codeph">NO INMEMORY</code>属性，那么其<code class="codeph">SELECT</code>列表包含<code class="codeph">promo_id</code>任何查询将从行存储而不是IM列存储中检索数据。同样，谓词引用<code class="codeph">promo_id</code>任何查询，无论<code class="codeph">promo_id</code>是否在<code class="codeph">SELECT</code>列表中，都只从行存储中检索数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-2632F2F0-35C5-45CF-A17C-3AA5D339E562">虚拟列</p>
                        <p>IM虚拟列与任何其他列类似，只是它的值是通过计算表达式得出的。将预先计算的IM虚拟列值存储在IM列存储中可以提高查询性能。表达式可以包括来自同一个表的列，常量，SQL函数和用户定义的PL / SQL函数（仅限<code class="codeph">DETERMINISTIC</code> ）。您无法显式写入IM虚拟列。
                        </p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-611BBB2C-0DF7-4EEE-AD90-881B97977C6F">
                           <p class="notep1">注意：</p>
                           <p>虚拟列或<a href="glossary.html#GUID-7EFD3370-3D0F-40FA-96CD-FB00D333F8B8"><span class="xrefglossterm">IM表达式</span></a>计入每个填充对象的1000列限制。
                           </p>
                        </div>
                        <p>要在IM列存储中填充IM虚拟列，请将<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为以下值之一：</p>
                        <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_JQY_K3P_LHB" style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MANUAL</code> （默认值）：如果为IM列存储启用了表，则此表上定义的IM虚拟列<code class="codeph">INMEMORY</code>用于填充，除非它们显式设置为<code class="codeph">INMEMORY</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE</code> ：如果为IM列存储启用了表，则此表上定义的所有IM虚拟列都符合填充条件，除非它们显式设置为<code class="codeph">NO INMEMORY</code> 。</p>
                              <p>默认情况下，IM列存储中列的压缩级别与存储它的表或分区相同。但是，如果为IM虚拟列指定了不同的压缩级别，则会以指定的压缩级别填充它。</p>
                           </li>
                        </ul>
                        <p>要指定IM列存储中不填充IM虚拟列，请将此初始化参数设置为<code class="codeph">DISABLE</code> 。</p>
                        <p>IM虚拟列和IM表达式的底层存储结构是相同的。但是，不同的机制控制IM表达式和IM虚拟列。</p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-380019E5-D4B1-4111-971E-871DC632D2B3">
                           <p class="notep1">注意：</p>
                           <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_KQY_K3P_LHB" style="list-style-type:disc">
                              <li>
                                 <p>IM列存储仅为标记为<code class="codeph">INMEMORY</code>表填充虚拟列。</p>
                              </li>
                              <li>
                                 <p>要在IM列存储中填充IM虚拟列，初始化参数<code class="codeph">COMPATIBLE</code>的值必须设置为12.1.0或更高。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-EE5FC973-7C8C-4D99-BDF4-6A505424C89F">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_QNQ_M3P_LHB" style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="optimizing-in-memory-expressions.html#GUID-FDA8B0D3-6339-4E19-8D2D-EEA0A7529B46" title="IM表达式基础结构负责计算和填充IM表达式，IM虚拟列以及IM列存储中的任何其他有用内部计算的结果。这些优化主要有利于分析查询。">IM表达式基础设施</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="init-parameters-for-im-column-store.html#GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE" title="几个初始化参数控制IM列存储的行为。">内存中初始化参数</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SQLRF004" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解<code class="codeph">INMEMORY</code>子句的语法和语义</p>
                           </li>
                           <li>
                              <p><a href="https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated" target="_blank">https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated</a>用于访问未填充的列的博客条目</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" name="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA"></a><h4 id="INMEM-GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" class="sect4"><span class="enumeration_section">4.3.2</span>启用IM虚拟列</h4>
                  <div>
                     <p>IM虚拟列通过避免重复计算来提高查询性能。此外，数据库可以使用诸如SIMD矢量处理之类的技术来扫描和过滤IM虚拟列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-FD24C40C-D16B-4CE1-94BA-BBB7DDF52819">先决条件</p>
                        <p>要启用IM虚拟列，必须满足以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为数据库启用了IM列存储。</p>
                              <p>请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>包含虚拟列的表已为IM列存储启用。</p>
                              <p>请参阅<span class="q">“ <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数<span class="italic">未</span>设置为<code class="codeph">DISABLE</code> 。</p>
                           </li>
                           <li>
                              <p>初始化参数<code class="codeph">COMPATIBLE</code>值设置为<code class="codeph">12.1.0</code>或更高。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-8BF2C47F-A612-40A0-9EFD-69F9A4DD00F8">要启用IM虚拟列：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为<code class="codeph">ENABLE</code> ，或为IM列存储启用特定虚拟列。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-87D49413-0F20-4DA7-93BF-8B2F2437911B">
                        <p class="titleinexample">示例4-3为IM列存储启用虚拟列</p>              
                        <p>在此示例中，您以<code class="codeph">SYSTEM</code>身份登录到数据库。已启用IM列存储，但当前已禁用虚拟列的数量：</p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER INMEMORY_SIZE NAME TYPE VALUE ------------------------------------ ------ ----- ----- inmemory_size大整数200M SQL&gt; SHOW PARAMETER INMEMORY_VIRTUAL_COLUMNS NAME TYPE VALUE ---------------------------- -------- ----------- ------- inmemory_virtual_columns string DISABLE</code></pre><p>您将一个虚拟列添加到<code class="codeph">hr.employees</code>表，然后指定该表是<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLE hr.employees ADD（weekly_sal AS（ROUND（salary * 12 / 52,2）））;表改变了。SQL&gt; ALTER TABLE hr.employees INMEMORY;表改变了。
</code></pre><p>在此阶段， <code class="codeph">weekly_sal</code>不符合人口条件，尽管<code class="codeph">hr.employees</code>中的非虚拟列符合人口。下面的语句使<code class="codeph">weekly_sal</code> ，而在任何其他虚拟列<code class="codeph">hr.employees</code> ，要填充：</p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET INMEMORY_VIRTUAL_COLUMNS = ENABLE SCOPE = SPFILE;系统改变了。
</code></pre>     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-607CB2DD-913D-406A-9BDF-2A0828A47FB4">
                        <p class="titleinexample">示例4-4为IM列存储启用特定IM虚拟列</p>       
                        <p>此示例假定<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为<code class="codeph">MANUAL</code> ，这意味着必须将IM虚拟列显式添加到IM列存储中。此示例首先创建<code class="codeph">hr.admin_emp</code>表：</p><pre class="pre codeblock"><code>CREATE TABLE hr.admin_emp（empno NUMBER（5）PRIMARY KEY，ename VARCHAR2（15）NOT NULL，job VARCHAR2（10），sal NUMBER（7,2），hrly_rate NUMBER（7,2）GENERATED ALWAYS AS（sal / 2080） ），deptno NUMBER（3）NOT NULL）INMEMORY;</code></pre><p>在此阶段， <code class="codeph">hrly_rate</code>虚拟列不符合填充条件。以下语句将虚拟列显式指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE hr.admin_emp INMEMORY（hrly_rate）;</code></pre>     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" name="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E"></a><h4 id="INMEM-GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" class="sect4"><span class="enumeration_section">4.3.3</span>为IM列存储启用列子集：示例</h4>
                  <div>
                     <p>此示例启用<code class="codeph">oe.product_information</code>表中除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>之外的IM列存储的所有列。
                     </p>
                     <div class="section">
                        <p>以下语句还为为IM列存储启用的列指定了不同的IM列存储压缩方法：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information INMEMORY MEMCOMPRESS FOR QUERY（product_id，product_name，category_id，supplier_id，min_price）INMEMORY MEMCOMPRESS FOR CAPACITY HIGH（product_description，warranty_period，product_status，list_price）NO INMEMORY（weight_class，catalog_url）;</code></pre><p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">MEMCOMPRESS FOR QUERY</code>压缩方法为IM列存储启用了<code class="codeph">product_id</code> ， <code class="codeph">product_name</code> ， <code class="codeph">category_id</code> ， <code class="codeph">supplier_id</code>和<code class="codeph">min_price</code>列。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code>压缩方法为IM列存储启用了<code class="codeph">product_description</code> ， <code class="codeph">warranty_period</code> ， <code class="codeph">product_status</code>和<code class="codeph">list_price</code>列。
                              </p>
                           </li>
                           <li>
                              <p>未对IM列存储启用<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>列。因此，在<code class="codeph">SELECT</code>列表或谓词中引用这两列的任何查询都必须使用行存储而不是IM列存储。
                              </p>
                           </li>
                           <li>
                              <p>该表使用<code class="codeph">PRIORITY</code>子句的默认值，即<code class="codeph">PRIORITY NONE</code> 。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-60E9950B-A5A7-4A8D-8486-2DC42DD609E7">
                           <p class="notep1">注意：</p>
                           <p>优先级设置必须适用于整个表或分区。不允许为表中的不同列子集指定不同的IM列存储优先级。</p>
                        </div>
                        <p>要确定为数据库对象定义的选择性列压缩级别，请查询<code class="codeph">V$IM_COLUMN_LEVEL</code>视图，如以下示例所示：</p><pre class="pre codeblock"><code>COL TABLE_NAME格式a20 COL COLUMN_NAME格式a20 SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION来自V $ IM_COLUMN_LEVEL，其中TABLE_NAME ='PRODUCT_INFORMATION'按COLUMN_NAME排序; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- PRODUCT_INFORMATION CATALOG_URL NO INMEMORY PRODUCT_INFORMATION CATEGORY_ID for QUERY LOW PRODUCT_INFORMATION LIST_PRICE for CAPACITY HIGH PRODUCT_INFORMATION MIN_PRICE for QUERY LOW PRODUCT_INFORMATION PRODUCT_DESCRIPTION FOR CAPACITY HIGH PRODUCT_INFORMATION PRODUCT_ID for QUERY LOW PRODUCT_INFORMATION PRODUCT_NAME对于低产品_INFORMATION PRODUCT_STATUS为容量高产品_INFORMATION SUPPLIER_ID为低产品_信息保证_容量为容量高产品_信息量_CLASS NO INMEMORY</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-3EDE10AA-6654-4BF0-8692-4CB3BBE9BF32">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="IM列存储使用针对访问速度优化的特殊压缩格式，而不是存储减少。列式格式使查询能够直接针对压缩列执行。">内存中压缩</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$IM_COLUMN_LEVEL</code>视图的更多信息，请<a href="../refrn/V-IM_COLUMN_LEVEL.html#REFRN30742" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" name="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C"></a><h4 id="INMEM-GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" class="sect4"><span class="enumeration_section">4.3.4</span>在NO INMEMORY表上指定INMEMORY列属性：示例</h4>
                  <div>
                     <p>从<span>Oracle Database 12c</span>第2版（12.2）开始，您可以在尚未指定为<code class="codeph">INMEMORY</code>的对象的列级别指定<code class="codeph">INMEMORY</code>子句。</p>
                     <div class="section">
                        <p>在以前的版本中，列级<code class="codeph">INMEMORY</code>子句仅在<code class="codeph">INMEMORY</code>表或分区上指定时才有效。此限制意味着在表或分区与<code class="codeph">INMEMORY</code>子句关联之前，列无法与<code class="codeph">INMEMORY</code>子句关联。
                        </p>
                        <p>从<span>Oracle Database 12c</span>第2版（12.2）开始，如果在列级别指定<code class="codeph">INMEMORY</code>子句，则数据库将记录指定列的属性。如果表为<code class="codeph">NO INMEMORY</code> （缺省值），则在将表或分区指定为<code class="codeph">INMEMORY</code>之前，列级属性不会影响查询表的<code class="codeph">INMEMORY</code> 。如果将表本身标记为<code class="codeph">NO INMEMORY</code> ，则数据库将删除任何现有的列级属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-EF882761-02EE-4310-A1DD-A69238138211">
                        <p>在此示例中，您的目标是确保永远不会在IM列存储中填充分区表中的列<code class="codeph">c3</code> 。您执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>创建分区表<code class="codeph">t</code>如下：</p><pre class="pre codeblock"><code>创建表t（c1 NUMBER，c2 NUMBER，c3 NUMBER）NO INMEMORY  - 此子句将表本身指定为NO INMEMORY PARTITION BY LIST（c1）（PARTITION p1 VALUES（0），PARTITION p2 VALUES（1），PARTITION p3 VALUES （2））;</code></pre><p>表<code class="codeph">t</code>是<code class="codeph">NO INMEMORY</code> 。该表由列<code class="codeph">c1</code>上的列表分区，并具有三个分区： <code class="codeph">p1</code> ， <code class="codeph">p2</code>和<code class="codeph">p3</code> 。
                              </p>
                           </li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>COL TABLE_NAME FORMAT a20 COL COLUMN_NAME FORMAT a20 SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME;没有选择任何行</code></pre><p>如输出所示，未设置列级<code class="codeph">INMEMORY</code>属性。
                              </p>
                           </li>
                           <li>
                              <p>要确保永远不会填充列<code class="codeph">c3</code> ，请将<code class="codeph">NO INMEMORY</code>属性应用于列<code class="codeph">c3</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY（c3）;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------- T C1 DEFAULT T C2 DEFAULT T C3 NO INMEMORY</code></pre><p>数据库已记录<code class="codeph">c3</code>的<code class="codeph">NO INMEMORY</code>属性。其他列使用默认压缩。
                              </p>
                           </li>
                           <li>
                              <p>将分区<code class="codeph">p3</code>指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>更改表格t修改分区p3 INMEMORY PRIORITY CRITICAL;</code></pre><p>由于列<code class="codeph">c3</code>先前已指定为<code class="codeph">NO INMEMORY</code> ，因此分区<code class="codeph">p3</code>初始填充不包括列<code class="codeph">c3</code> 。
                              </p>
                           </li>
                           <li>
                              <p>将整个表指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t INMEMORY;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- T C1 DEFAULT T C2 DEFAULT T C3 NO INMEMORY</code></pre><p>数据库已保留列<code class="codeph">c3</code>的<code class="codeph">NO INMEMORY</code>设置。其他列使用默认压缩。
                              </p>
                           </li>
                           <li>对列<code class="codeph">c1</code>和<code class="codeph">c2</code>应用不同的压缩级别：<pre class="pre codeblock"><code>更高容量（c1）INMEMORY MEMCOMPRESS容量低（c2）的内容表;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- T C1容量高T C2容量低T C3无INMEMORY</code></pre><p>每列现在具有不同的压缩级别。</p>
                           </li>
                           <li>
                              <p>将整个表指定为<code class="codeph">NO INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME;没有选择任何行</code></pre><p>因为整个表被指定为<code class="codeph">NO INMEMORY</code> ，所以数据库删除了所有列级<code class="codeph">INMEMORY</code>属性。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-05B6B1EB-0640-434C-8FB8-8D12B62F5CE1">
                        <p class="notep1">也可以看看：</p>
                        <p>用于<code class="codeph">ALTER TABLE</code>语法和语义的<a href="../sqlrf/ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B" name="GUID-636A1675-838D-4004-9CDB-70783DC72C6B"></a><h3 id="INMEM-GUID-636A1675-838D-4004-9CDB-70783DC72C6B" class="sect3"><span class="enumeration_section">4.4</span>为IM列存储启用和禁用表空间</h3>
               <div>
                  <p>您可以为IM列存储启用或禁用表空间。</p>
                  <div class="section">
                     <p>使用包含<code class="codeph">INMEMORY</code>子句的<code class="codeph">CREATE TABLESPACE</code>语句在创建表空间期间为IM列存储启用表空间。您还可以使用包含<code class="codeph">INMEMORY</code>子句的<code class="codeph">ALTER TABLESPACE</code>语句更改表空间以使其为IM列存储启用它。
                     </p>
                     <p>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的表空间。
                     </p>
                     <p>为IM列存储启用表空间时，默认情况下会为IM列存储启用表空间中的所有表和实例化视图。对于表， <code class="codeph">INMEMORY</code>化视图和表空间， <code class="codeph">INMEMORY</code>子句是相同的。所述<code class="codeph">DEFAULT</code>存储子句的之前所需<code class="codeph">INMEMORY</code>使得对于IM列存储与前一个表空间时子句<code class="codeph">NO INMEMORY</code>禁用为IM列存储一个表空间时子句。
                     </p>
                     <p>为IM列存储启用表空间时，表空间中的各个表和实例化视图可以具有不同的内存设置，并且各个数据库对象的设置会覆盖表空间的设置。例如，如果将表空间设置为<code class="codeph">PRIORITY LOW</code>以在内存中填充数据，并且如果表空间中的表设置为<code class="codeph">PRIORITY HIGH</code> ，则表使用<code class="codeph">PRIORITY HIGH</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9663EDEB-6A16-40D9-81DB-533DDE99F2ED">先决条件</p>
                     <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9AF7F591-DD05-4E2F-8133-E5782542634D">要为IM列存储启用或禁用表空间，请执行以下操作：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-522FC202-F175-4125-B577-C78FED9ECB00">
                     <p class="titleinexample">示例4-5创建表空间并为IM列存储启用它</p>
                     <p>以下示例创建<code class="codeph">users01</code>表空间并为IM列存储启用它：</p><pre class="pre codeblock"><code>CREATE TABLESPACE users01 DATAFILE'users01.dbf'SIZE 40M ONLINE DEFAULT INMEMORY;</code></pre><p>此示例使用<code class="codeph">INMEMORY</code>子句的默认值。因此，使用<code class="codeph">MEMCOMPRESS FOR QUERY</code> ，并使用<code class="codeph">PRIORITY NONE</code> 。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-B0EC62EE-9CC3-4B76-A309-6B9F7241CD29">
                     <p class="titleinexample">示例4-6更改表空间以为IM列存储启用它</p>
                     <p>以下示例更改<code class="codeph">users01</code>表空间以为IM列存储启用它，并为表空间中的数据库对象指定<code class="codeph">FOR CAPACITY HIGH</code>压缩，并为内存中的数据填充<code class="codeph">PRIORITY LOW</code> ：</p><pre class="pre codeblock"><code>ALTER TABLESPACE users01 DEFAULT INMEMORY MEMCOMPRESS容量高优先级低;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" name="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA"></a><h3 id="INMEM-GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" class="sect3"><span class="enumeration_section">4.5</span>为IM列存储启用和禁用实体化视图</h3>
               <div>
                  <p>您可以为IM列存储启用和禁用实体化视图。</p>
                  <div class="section">
                     <p>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">INMEMORY</code> <code class="codeph">ALTER MATERIALIZED VIEW</code> 。通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">NO INMEMORY</code> <code class="codeph">ALTER MATERIALIZED VIEW</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-20CD3001-D01A-4A8F-92EF-FB68E9A8CECE">先决条件</p>
                     <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-AD22A864-2ACF-4CFD-BE55-F4B723330C19">要为IM列存储启用或禁用实例化视图，请执行以下操作：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2E6FF120-DFBD-467C-A40F-F35CCB8FDBA6">
                     <p class="titleinexample">示例4-7创建实体化视图并为IM列存储启用它</p>
                     <p>以下语句创建<code class="codeph">oe.prod_info_mv</code>化视图，并为IM列存储启用它：</p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW oe.prod_info_mv INMEMORY AS SELECT * FROM oe.product_information;</code></pre><p>此示例使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code>和<code class="codeph">PRIORITY</code> <code class="codeph">NONE</code> 。</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-BD789C3C-8FC8-49C8-9242-A626F3DA1DB8">
                     <p class="titleinexample">示例4-8为具有高数据填充优先级的IM列存储启用物化视图</p>
                     <p>以下语句为IM列存储启用<code class="codeph">oe.prod_info_mv</code>化视图：</p><pre class="pre codeblock"><code>ALTER MATERIALIZED VIEW oe.prod_info_mv INMEMORY PRIORITY HIGH;</code></pre><p>此示例使用默认压缩： <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code> 。</p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2D3F2870-0DEA-45DD-A75C-20D36B8EF586">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B" target="_blank"><span><cite>Oracle Database SQL语言参考，</cite></span></a>以了解有关<code class="codeph">CREATE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="01606.package-XSLTVM-API.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于XML C API的XSLTVM包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XML C API Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XML C API Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00"></meta>
      <meta name="dcterms.title" content="XML C API Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96478-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="package-XSLT-API.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appendix.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-XSLT-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appendix.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于XML C API的XSLTVM包</li>
            </ol>
            <a id="GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF" name="GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF"></a><a id="CAXML00900"></a>
            
            <h2 id="CAXML-GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF" class="sect2"><span class="enumeration_chapter">16</span>用于XML C API的XSLTVM包</h2>
         </header>
         <div class="ind">
            <div>
               <p>包XSLTVM实现了XML C API的XSL转换（XSLT）语言，如W3C 1999年11月16日建议书中所规定的那样。为方便起见，我们将XSLTVM方法分为两种接口类型。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="package-XSLTVM-API.html#GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3">XSLTC接口</a></p>
                  </li>
                  <li>
                     <p><a href="package-XSLTVM-API.html#GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE">XSLTVM接口</a></p>
                  </li>
               </ul>
            </div><a id="CAXML6316"></a><a id="CAXML6315"></a><div class="props_rev_3"><a id="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3" name="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3"></a><h3 id="CAXML-GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3" class="sect3">用于XML C API的XSLTVM的XSLTC接口</h3>
               <div>
                  <div class="section">
                     <p>下表总结了<code class="codeph">XSLTVM</code> for XML C API的<code class="codeph">XSLTC</code>接口可用的方法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3__BEJCJACI">
                     <p class="titleintable">表16-1用于XML C实现的XSLTC XSLTVM方法摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于XML C实现的XSLTC XSLTVM方法摘要" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d133320e99">功能</th>
                              <th align="left" valign="bottom" width="53%" id="d133320e102">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e107" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e107 d133320e102 ">
                                 <p>将缓冲区中的XSLT样式表编译为字节码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e116" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e116 d133320e102 ">
                                 <p>将DOM中的XSLT样式表编译为字节码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e125" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e125 d133320e102 ">
                                 <p>将文件中的XSLT样式表编译为字节码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e134" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e134 d133320e102 ">
                                 <p>将URI中的XSLT样式表编译为字节代码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e143" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-51A26334-F6D9-4DF6-A599-0535848B80C3">XmlXvmCompileXPath（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e143 d133320e102 ">
                                 <p>编译XPath表达式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e152" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342">XmlXvmCreateComp（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e152 d133320e102 ">
                                 <p>创建一个XSLT编译器。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e161" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050">XmlXvmDestroyComp（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e161 d133320e102 ">
                                 <p>销毁XSLT编译器对象。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e170" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-78643759-4F26-4EB9-9583-6CF458313555">XmlXvmGetBytecodeLength（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e170 d133320e102 ">
                                 <p>返回字节码长度。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CAXML6317"></a><div class="props_rev_3"><a id="GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA" name="GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA"></a><h4 id="CAXML-GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA" class="sect4">XmlXvmCompileBuffer（）</h4>
                  <div>
                     <div class="section">
                        <p>将缓冲区中的XSLT样式表编译为字节码。编译器标志可以是以下一个或多个：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code>强制编译器将调试信息包含在字节码中</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code>等同于<code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>生成的字节码驻留在编译器缓冲区中，该缓冲区在编译下一个样式表或删除编译器对象时释放。因此，如果要重用字节码，则应将其复制到另一个位置。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6321"></a><a id="CAXML6322"></a><a id="CAXML6320"></a><div class="sect3"><a id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230" name="GUID-D1434EED-6461-4218-85E0-A0FED42AF230"></a><h4 id="CAXML-GUID-D1434EED-6461-4218-85E0-A0FED42AF230" class="sect4">XmlXvmCompileDom（）</h4>
                  <div>
                     <p>将DOM中的XSLT样式表编译为字节码。编译器标志可以是以下一个或多个：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">XMLXVM_DEBUG</code>强制编译器将调试信息包含在字节码中</p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLXVM_STRIPSPACE</code>等同于<code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>生成的字节码驻留在编译器缓冲区中，该缓冲区在编译下一个样式表或删除编译器对象时释放。因此，如果要重用字节码，则应将其复制到另一个位置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-51B4E64E-5E94-4CA5-A848-DC5001FE9CEE">句法</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">ub2 * XmlXvmCompileDom（xmlxvmcomp * comp，xmldocnode * root，xmlxvmflag flags，xmlerr * error）;</pre><div class="tblformal" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-2DF9313E-9B34-462F-9C9F-D9947ED5F3F0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e311">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e314">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e317">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e322" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">补偿</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e322 d133320e314 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e322 d133320e317 ">
                                    <p>编译器对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e332" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">rooot</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e332 d133320e314 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e332 d133320e317 ">
                                    <p>样式表DOM的根元素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e342" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">旗</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e342 d133320e314 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e342 d133320e317 ">
                                    <p>当前编译的标志</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e352" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">错误</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e352 d133320e314 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e352 d133320e317 ">
                                    <p>返回错误代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-9EA5F1ED-2015-45B6-8DE3-F6F7B94D1AE3">返回</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">(ub2 *)</code>字节码或错误时为<code class="codeph">NULL</code></p>
                     <div class="infoboxnotealso" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-378C0AF2-DCD4-4FED-B439-7596560254C0">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer（）</a> ， <a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI（）</a></p>
                     </div>
                  </div>
               </div><a id="CAXML6324"></a><a id="CAXML6325"></a><a id="CAXML6323"></a><div class="props_rev_3"><a id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D" name="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D"></a><h4 id="CAXML-GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D" class="sect4">XmlXvmCompileFile（）</h4>
                  <div>
                     <div class="section">
                        <p>将XSLT样式表从文件编译为字节码。编译器标志可以是以下一个或多个：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code>强制编译器将调试信息包含在字节码中</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code>等同于<code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>生成的字节码驻留在编译器缓冲区中，该缓冲区在编译下一个样式表或删除编译器对象时释放。因此，如果要重用字节码，则应将其复制到另一个位置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-566E4E5B-BC23-44D6-BD13-4B24F78894EC">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 * XmlXvmCompileFile（xmlxvmcomp * comp，oratext * path，oratext * baseURI，xmlxvmflag flags，xmlerr * error）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-B814EAE0-5050-4C56-AB1B-5B6205DB7CF6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e461">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e464">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e467">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e472" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">补偿</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e472 d133320e464 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e472 d133320e467 ">
                                    <p>编译器对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e482" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">路径</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e482 d133320e464 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e482 d133320e467 ">
                                    <p>XSL样式表文件的路径</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e492" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">基本URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e492 d133320e464 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e492 d133320e467 ">
                                    <p>文档的基URI</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e502" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">旗</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e502 d133320e464 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e502 d133320e467 ">
                                    <p>当前编译的标志</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e512" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">错误</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e512 d133320e464 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e512 d133320e467 ">
                                    <p>返回错误代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-AFA48BFB-CB2E-40D2-AEF3-04DDB5AB6E69">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code>字节码或错误时为<code class="codeph">NULL</code></p>
                        <div class="infoboxnotealso" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-3665617C-8615-4872-8BE6-2732A5790836">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI（）</a> ， <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer（）</a> ， <a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6327"></a><a id="CAXML6328"></a><a id="CAXML6326"></a><div class="props_rev_3"><a id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93" name="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93"></a><h4 id="CAXML-GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93" class="sect4">XmlXvmCompileURI（）</h4>
                  <div>
                     <div class="section">
                        <p>将URI中的XSLT样式表编译为字节码。编译器标志可以是以下一个或多个：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code>强制编译器将调试信息包含在字节码中</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code>等同于<code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>生成的字节码驻留在编译器缓冲区中，该缓冲区在编译下一个样式表或删除编译器对象时释放。因此，如果要重用字节码，则应将其复制到另一个位置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-F602C1E0-FC23-4501-B5A0-DEA1F9E62210">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 * XmlXvmCompileURI（xmlxvmcomp * comp，oratext * uri，xmlxvmflag flags，xmlerr * error）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-2AAA1862-3EC5-499C-AA00-204DBC77BC26">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e621">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e624">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e627">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e632" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">补偿</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e632 d133320e624 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e632 d133320e627 ">
                                    <p>编译器对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e642" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e642 d133320e624 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e642 d133320e627 ">
                                    <p>包含XSL样式表的文件的URI</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e652" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">旗</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e652 d133320e624 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e652 d133320e627 ">
                                    <p>当前编译的标志</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e662" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">错误</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e662 d133320e624 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e662 d133320e627 ">
                                    <p>返回错误代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-4A86A42F-0756-49D8-8E8D-E363636B4476">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code>字节码或错误时为<code class="codeph">NULL</code></p>
                        <div class="infoboxnotealso" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-D88B8768-D123-469B-ADA0-7710B60F5A2A">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer（）</a> ， <a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6330"></a><a id="CAXML6331"></a><a id="CAXML6329"></a><div class="props_rev_3"><a id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3" name="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3"></a><h4 id="CAXML-GUID-51A26334-F6D9-4DF6-A599-0535848B80C3" class="sect4">XmlXvmCompileXPath（）</h4>
                  <div>
                     <div class="section">
                        <p>编译XPath表达式。可选的<code class="codeph">pfxmap</code>用于将名称空间前缀映射到XPath表达式中的URI。它是一个前缀，URI值的数组，以<code class="codeph">NULL</code>结尾，依此类推。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-561DC049-53F5-4C00-BECA-E236B0B3DBAB">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 * XmlXvmCompileXPath（xmlxvmcomp * comp，oratext * xpath，oratext ** pfxmap，xmlerr * error）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-F52FCCC0-4A07-457E-B7DC-049830F6EB3E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e761">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e764">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e767">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e772" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">补偿</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e772 d133320e764 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e772 d133320e767 ">
                                    <p>编译器对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e782" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">XPath的</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e782 d133320e764 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e782 d133320e767 ">
                                    <p>XPath表达式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e792" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">pfxmap</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e792 d133320e764 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e792 d133320e767 ">
                                    <p>前缀-URI映射数组</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e802" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">错误</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e802 d133320e764 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e802 d133320e767 ">
                                    <p>返回错误代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-A0E7E286-A433-4892-9ACF-963681817774">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code> XPath表达式字节码或错误时为<code class="codeph">NULL</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6333"></a><a id="CAXML6334"></a><a id="CAXML6332"></a><div class="props_rev_3"><a id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342" name="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342"></a><h4 id="CAXML-GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342" class="sect4">XmlXvmCreateComp（）</h4>
                  <div>
                     <div class="section">
                        <p>创建一个XSLT编译器对象。XSLT编译器用于将XSLT样式表编译为字节码。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-E9FF57E3-A4C8-439E-ADD9-AA33047C6322">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvmcomp * XmlXvmCreateComp（xmlctx * xctx）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-29FC1ABD-E0E1-4F32-BFB6-3535C8B70027">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e883">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e886">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e889">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e894" headers="d133320e883 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e894 d133320e886 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e894 d133320e889 ">
                                    <p>XML上下文</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-CFB714CE-66DD-4C28-BAC0-FDDBC9B14F99">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvmcomp *)</code> XSLT编译器对象，或者出错时为<code class="codeph">NULL</code></p>
                        <div class="infoboxnotealso" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-511F2C8E-6043-426F-9B34-EBBCED888801">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050">XmlXvmDestroyComp（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6336"></a><a id="CAXML6335"></a><div class="props_rev_3"><a id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050" name="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050"></a><h4 id="CAXML-GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050" class="sect4">XmlXvmDestroyComp（）</h4>
                  <div>
                     <div class="section">
                        <p>销毁XSLT编译器对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-5DF7667C-8DA3-4D1F-828B-6BFFAF0950D6">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmDestroyComp（xmlxvmcomp * comp）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-90D655CE-29C3-4888-AF95-D5A39A1C6597">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e978">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e981">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e984">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e989" headers="d133320e978 "><pre class="oac_no_warn" dir="ltr">补偿</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e989 d133320e981 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e989 d133320e984 ">
                                    <p>XSLT编译器对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-EB685018-B2E9-4217-8D4F-160F8AC492F3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342">XmlXvmCreateComp（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6338"></a><a id="CAXML6339"></a><a id="CAXML6337"></a><div class="props_rev_3"><a id="GUID-78643759-4F26-4EB9-9583-6CF458313555" name="GUID-78643759-4F26-4EB9-9583-6CF458313555"></a><h4 id="CAXML-GUID-78643759-4F26-4EB9-9583-6CF458313555" class="sect4">XmlXvmGetBytecodeLength（）</h4>
                  <div>
                     <div class="section">
                        <p>当要复制字节码或将其设置为XSLTVM时，需要字节码长度。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-F9089074-B31C-438B-AF0A-11C3FCDC22C8">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlXvmGetBytecodeLength（ub2 * bytecode，xmlerr * error）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-322E2625-AC5A-4D0F-B1D5-2C942C8167F2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1064">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1067">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1070">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1075" headers="d133320e1064 "><pre class="oac_no_warn" dir="ltr">字节码</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1075 d133320e1067 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1075 d133320e1070 ">
                                    <p>字节码缓冲区</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1085" headers="d133320e1064 "><pre class="oac_no_warn" dir="ltr">错误</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1085 d133320e1067 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1085 d133320e1070 ">
                                    <p>返回错误代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-E2A728AA-F7C8-42FA-82DB-2C959053D33A">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub4)</code>字节码长度，以字节为单位。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CAXML6341"></a><a id="CAXML6340"></a><div class="props_rev_3"><a id="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE" name="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE"></a><h3 id="CAXML-GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE" class="sect3">用于XML C API的XSLTVM的XSLTVM接口</h3>
               <div>
                  <div class="section">
                     <p>下表总结了<code class="codeph">XSLTVM</code> for XML C API的<code class="codeph">XSLTVM</code>接口可用的方法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE__Summaryxsltvm">
                     <p class="titleintable">表16-2用于XML C实现的XSLTVM XSLTVM方法摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于XML C实现的XSLTVM XSLTVM方法摘要" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d133320e1150">功能</th>
                              <th align="left" valign="bottom" width="53%" id="d133320e1153">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1158" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-694CC811-71C9-42CD-855C-306B53FB3A83">XMLXVM_DEBUG_F（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1158 d133320e1153 ">
                                 <p>XMLXSLTVM调试功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1167" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD">XmlXvmCreate（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1167 d133320e1153 ">
                                 <p>创建一个XSLT虚拟机。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1176" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633">XmlXvmDestroy（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1176 d133320e1153 ">
                                 <p>销毁XSLT虚拟机。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1185" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69">XmlXvmEvaluateXPath（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1185 d133320e1153 ">
                                 <p>评估已编译的XPath表达式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1194" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1194 d133320e1153 ">
                                 <p>获取XPath对象的布尔值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1203" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1203 d133320e1153 ">
                                 <p>从nodeset类型XPathobject获取节点。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1212" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1212 d133320e1153 ">
                                 <p>获取节点集类型XPathobject中的节点数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1221" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1221 d133320e1153 ">
                                 <p>从XPath对象中获取数字。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1230" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1230 d133320e1153 ">
                                 <p>从XPath对象获取字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1239" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1239 d133320e1153 ">
                                 <p>获取XPath对象类型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1248" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79">XmlXvmGetOutputDom（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1248 d133320e1153 ">
                                 <p>返回输出DOM。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1258" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-5EBD08DB-9016-405D-8664-CD054DA65D84">XmlXvmResetParams（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1258 d133320e1153 ">
                                 <p>重置样式表顶级文本参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1267" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258">XmlXvmSetBaseURI（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1267 d133320e1153 ">
                                 <p>设置XLTVM的基本URI。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1276" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1276 d133320e1153 ">
                                 <p>设置编译的字节码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1285" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1285 d133320e1153 ">
                                 <p>从文件中设置编译的字节代码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1294" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1294 d133320e1153 ">
                                 <p>设置编译的字节码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1303" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-6184A424-E169-4512-914A-9C1440FCE5B6">XmlXvmSetDebugFunc（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1303 d133320e1153 ">
                                 <p>设置回调函数进行调试。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1312" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-9758249C-632E-4B0C-83A0-10D4C087FF71">XmlXvmSetOutputDom（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1312 d133320e1153 ">
                                 <p>将XSLTVM设置为输出文档节点。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1321" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6">XmlXvmSetOutputEncoding（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1321 d133320e1153 ">
                                 <p>设置XSLTVM输出的编码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1330" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8">XmlXvmSetOutputSax（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1330 d133320e1153 ">
                                 <p>将XSLTVM设置为输出SAX。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1339" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE">XmlXvmSetOutputStream（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1339 d133320e1153 ">
                                 <p>将XSLTVM输出设置为用户定义的流。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1348" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-40F1858D-9B70-4E52-9864-FD2233E27012">XmlXvmSetTextParam（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1348 d133320e1153 ">
                                 <p>设置样式表顶级文本参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1358" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1358 d133320e1153 ">
                                 <p>在内存中的XML文档上运行已编译的XSLT样式表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1367" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1367 d133320e1153 ">
                                 <p>在XML文档上运行已编译的XSLT样式表作为DOM。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1376" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1376 d133320e1153 ">
                                 <p>在文件中的XML文档上运行已编译的XSLT样式表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1385" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI（）</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1385 d133320e1153 ">
                                 <p>从URI运行XML文档的已编译XSLT样式表。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CAXML6343"></a><a id="CAXML6342"></a><div class="props_rev_3"><a id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83" name="GUID-694CC811-71C9-42CD-855C-306B53FB3A83"></a><h4 id="CAXML-GUID-694CC811-71C9-42CD-855C-306B53FB3A83" class="sect4">XMLXVM_DEBUG_F（）</h4>
                  <div>
                     <div class="section">
                        <p>调试XSLT VM的回调函数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-FA110B30-4BA5-4A4E-979B-74734AA209B6">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">#define XMLXVM_DEBUG_F（func，line，file，obj，n）void func（ub2 line，oratext * file，xvmobj * obj，ub4 n）</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-64EAB90D-9DC4-4194-A3AF-9F7E930B8709">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1452">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1455">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1458">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1463" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">线</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1463 d133320e1455 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1463 d133320e1458 ">
                                    <p>源样式表行号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1473" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">文件</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1473 d133320e1455 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1473 d133320e1458 ">
                                    <p>样式表文件名</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1483" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1483 d133320e1455 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1483 d133320e1458 ">
                                    <p>当前VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1493" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">ñ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1493 d133320e1455 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1493 d133320e1458 ">
                                    <p>当前节点的索引</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-D47D54E3-151A-463B-BBBA-6E02B1F80F81">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-6184A424-E169-4512-914A-9C1440FCE5B6">XmlXvmSetDebugFunc（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6345"></a><a id="CAXML6346"></a><a id="CAXML6344"></a><div class="props_rev_3"><a id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD" name="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD"></a><h4 id="CAXML-GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD" class="sect4">XmlXvmCreate（）</h4>
                  <div>
                     <div class="section">
                        <p>创建一个XSLT虚拟机。可以使用此API设置零个或多个以下XSLTVM属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">"VMStack", size</code>设置主VM堆栈的大小[Kbyte];默认大小为4K。</p>
                           </li>
                           <li>
                              <p><code class="codeph">"NodeStack", size</code>设置节点堆栈的大小[Kbyte];默认大小为16K。</p>
                           </li>
                           <li>
                              <p><code class="codeph">"StringStack", size</code>设置字符串堆栈的大小[Kbyte];默认大小为64K。</p>
                           </li>
                        </ul>
                        <p>如果未指定堆栈大小，则使用默认大小。当XSLTVM以“Stack Overflow”消息终止或需要较小的内存占用时，需要显式堆栈大小设置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-83258559-EEBC-4E40-8CA7-0A4B11D394C1">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvm * XmlXvmCreate（xmlctx * xctx， <span class="italic">list</span> ）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-62D2F0F6-31D4-4398-8EF2-EEB10549BD4D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1589">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1592">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1595">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1600" headers="d133320e1589 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1600 d133320e1592 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1600 d133320e1595 ">
                                    <p>XML上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1610" headers="d133320e1589 "><pre class="oac_no_warn" dir="ltr"><span class="italic">名单</span></pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1610 d133320e1592 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1610 d133320e1595 ">
                                    <p><code class="codeph">NULL</code> -terminated要设置的属性列表;可以是空的</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-539B6FF0-B2DA-42F3-BE4F-844F6D0FBE3E">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvm *)</code> XSLT虚拟机对象，或者出错时为<code class="codeph">NULL</code></p>
                        <div class="infoboxnotealso" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-DC6AF619-A97C-4155-87A8-37553C5EF990">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633">XmlXvmDestroy（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6348"></a><a id="CAXML6347"></a><div class="props_rev_3"><a id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633" name="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633"></a><h4 id="CAXML-GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633" class="sect4">XmlXvmDestroy（）</h4>
                  <div>
                     <div class="section">
                        <p>销毁XSLT虚拟机</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-5BA73422-B24F-4B26-8A5C-9D66997D6097">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmDestroy（xmlxvm * vm）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-B061875B-835C-4081-AD54-E24C8C40381B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1698">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1701">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1704">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1709" headers="d133320e1698 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1709 d133320e1701 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1709 d133320e1704 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-7223CCD0-963B-4B0B-9383-AD7D39A40311">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD">XmlXvmCreate（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6350"></a><a id="CAXML6351"></a><a id="CAXML6349"></a><div class="props_rev_3"><a id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69" name="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69"></a><h4 id="CAXML-GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69" class="sect4">XmlXvmEvaluateXPath（）</h4>
                  <div>
                     <div class="section">
                        <p>评估已编译的XPath表达式</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-EA43C0B6-2CD5-4343-856B-EE9F7D66B57E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xvmobj * XmlXvmEvaluateXPath（xmlxvm * vm，ub2 * bytecode，ub4 ctxpos，ub4 ctxsize，xmlnode * ctxnode）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-B942AB7F-7961-4654-8602-A10C250FA71A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1784">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1787">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1790">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1795" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1795 d133320e1787 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1795 d133320e1790 ">
                                    <p>XSLTVM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1805" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">字节码</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1805 d133320e1787 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1805 d133320e1790 ">
                                    <p>XPath表达式字节码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1815" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxpos</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1815 d133320e1787 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1815 d133320e1790 ">
                                    <p>目前的背景情况</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1825" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxsize</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1825 d133320e1787 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1825 d133320e1790 ">
                                    <p>当前上下文大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1835" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxnode</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1835 d133320e1787 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1835 d133320e1790 ">
                                    <p>当前上下文节点</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-D40766F2-82E0-4B31-A53E-335F15B7F5FD">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xvmobj *)</code> XPath对象</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6353"></a><a id="CAXML6354"></a><a id="CAXML6352"></a><div class="props_rev_3"><a id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8" name="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8"></a><h4 id="CAXML-GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8" class="sect4">XmlXvmGetObjectBoolean（）</h4>
                  <div>
                     <div class="section">
                        <p>获取XPath对象的布尔值</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-09C6ADDC-616B-4CF3-9DFE-CEBE2C179897">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">boolean XmlXvmGetObjectBoolean（xvmobj * obj）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-FDF2A2A1-B496-4548-9F23-C82ADC6F09FE">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1912">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1915">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1918">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1923" headers="d133320e1912 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1923 d133320e1915 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1923 d133320e1918 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-19576688-5FA5-4EDB-AD08-7DE2A7467F93">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(boolean)</code> XPath对象的值</p>
                        <div class="infoboxnotealso" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-E2704EDF-FA42-4140-A798-214541EE9A3B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a> ， <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a> ， <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a> ， <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6356"></a><a id="CAXML6357"></a><a id="CAXML6355"></a><div class="props_rev_3"><a id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79" name="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79"></a><h4 id="CAXML-GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79" class="sect4">XmlXvmGetObjectNSetNode（）</h4>
                  <div>
                     <div class="section">
                        <p>从nodeset类型的XPath对象获取节点</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-4D8EDA75-8377-4398-B36F-5AF1A87EAE06">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode * XmlXvmGetObjectNSetNode（xvmobj * obj，ub4 i）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-D2CE484F-9073-4199-B919-62FAE4B3B290">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2022">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2025">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2028">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2033" headers="d133320e2022 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2033 d133320e2025 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2033 d133320e2028 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2043" headers="d133320e2022 "><pre class="oac_no_warn" dir="ltr">一世</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2043 d133320e2025 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2043 d133320e2028 ">
                                    <p>节点集中的节点索引</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-4B0520BA-14AB-4BFC-9594-B202827F3703">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlnode *)</code>对象类型或值。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-3719C672-B95C-4801-9873-4B2A5F27B60F">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a> ， <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a> ， <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString（）</a> ， <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6359"></a><a id="CAXML6360"></a><a id="CAXML6358"></a><div class="props_rev_3"><a id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA" name="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA"></a><h4 id="CAXML-GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA" class="sect4">XmlXvmGetObjectNSetNum（）</h4>
                  <div>
                     <div class="section">
                        <p>获取nodeset类型的XPath对象中的节点数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-9D674993-876E-4B63-913F-45AD6699E7AF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlXvmGetObjectNSetNum（xvmobj * obj）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-35873B85-1862-4FFD-B222-F9B3C5385555">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2141">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2144">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2147">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2152" headers="d133320e2141 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2152 d133320e2144 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2152 d133320e2147 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-CC1121AE-C073-4054-AD6A-24781E4ABC67">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub4)</code>节点集中的节点数</p>
                        <div class="infoboxnotealso" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-17490C61-AF80-4BC8-AFC2-CC70AC3734E3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a> ， <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a> ， <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString（）</a> ， <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6362"></a><a id="CAXML6363"></a><a id="CAXML6361"></a><div class="props_rev_3"><a id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4" name="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4"></a><h4 id="CAXML-GUID-2986510E-5804-472C-8C28-8D0BC060A5D4" class="sect4">XmlXvmGetObjectNumber（）</h4>
                  <div>
                     <div class="section">
                        <p>从XPath对象中获取数字。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-6CD11EA9-8FA5-4348-9593-5D8200F87ED7">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">double XmlXvmGetObjectNumber（xvmobj * obj）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-133A3CA3-9817-4C56-A9F9-C36AFB73D1D2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2250">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2253">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2256">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2261" headers="d133320e2250 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2261 d133320e2253 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2261 d133320e2256 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-71A4BBC1-0FCA-41B2-B6C2-7AC64B80C231">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(double)</code>号码</p>
                        <div class="infoboxnotealso" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-BF14D75B-BC4C-49D4-ADAB-0309B54488DF">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a> ， <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a> ， <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a> ， <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6365"></a><a id="CAXML6366"></a><a id="CAXML6364"></a><div class="props_rev_3"><a id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2" name="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2"></a><h4 id="CAXML-GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2" class="sect4">XmlXvmGetObjectString（）</h4>
                  <div>
                     <div class="section">
                        <p>从XPath对象获取字符串。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-5972E754-88EC-4C85-8F62-561623B458A4">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">oratext * XmlXvmGetObjectString（xvmobj * obj）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-F1650908-991F-455F-8C16-F012F5EA465D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2360">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2363">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2366">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2371" headers="d133320e2360 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2371 d133320e2363 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2371 d133320e2366 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-0F187CF6-BE20-45F2-BDE0-E63648F6DCDE">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(oratext *)</code>字符串</p>
                        <div class="infoboxnotealso" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-E8CF85D3-5669-4C03-A165-797B41CF1070">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType（）</a> ， <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a> ， <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a> ， <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6368"></a><a id="CAXML6369"></a><a id="CAXML6367"></a><div class="props_rev_3"><a id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E" name="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E"></a><h4 id="CAXML-GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E" class="sect4">XmlXvmGetObjectType（）</h4>
                  <div>
                     <div class="section">
                        <p>获取XPath对象类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-1EADD8B0-8DC7-4AF2-AA26-E7E015C77817">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvmobjtype XmlXvmGetObjectType（xvmobj * obj）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-FBD5EA98-93BC-4349-86DD-10736A76070B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2469">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2472">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2475">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2480" headers="d133320e2469 "><pre class="oac_no_warn" dir="ltr">OBJ</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2480 d133320e2472 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2480 d133320e2475 ">
                                    <p>宾语</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-04FC9C95-F4A1-47FA-B9EA-D44900163686">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvmobjtype)</code>对象的类型代码</p>
                        <div class="infoboxnotealso" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-2A3648D7-0E6A-493D-B5B3-B421A191BFFF">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum（）</a> ， <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode（）</a> ， <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString（）</a> ， <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber（）</a> ， <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6371"></a><a id="CAXML6372"></a><a id="CAXML6370"></a><div class="props_rev_3"><a id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79" name="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79"></a><h4 id="CAXML-GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79" class="sect4">XmlXvmGetOutputDom（）</h4>
                  <div>
                     <div class="section">
                        <p>返回结果DOM树的根节点（如果有）。必须在转换之前使用<code class="codeph">XmlXvmSetOutputDom</code>来设置VM以输出DOM树（默认VM输出是流）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-AF769051-EE40-4D3C-A435-83C9DBF2F82C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlfragnode * XmlXvmGetOutputDom（xmlxvm * vm）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-5597B5E2-20D8-430C-9F8E-716CB8FC8832">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2581">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2584">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2587">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2592" headers="d133320e2581 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2592 d133320e2584 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2592 d133320e2587 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-6E45071C-E7F0-4C37-B746-D87918B85D21">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlfragnode *)</code>输出DOM，或者在SAX或Stream输出的情况下为<code class="codeph">NULL</code> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-2021B716-CA9E-4DBF-AAD9-1B9F7B796F73">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-9758249C-632E-4B0C-83A0-10D4C087FF71">XmlXvmSetOutputDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6374"></a><a id="CAXML6373"></a><div class="props_rev_3"><a id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84" name="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84"></a><h4 id="CAXML-GUID-5EBD08DB-9016-405D-8664-CD054DA65D84" class="sect4">XmlXvmResetParams（）</h4>
                  <div>
                     <div class="section">
                        <p>使用默认值重置样式表顶级参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84__GUID-C4CBC07B-57C2-4CD4-8209-C8B16DDC7473">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmResetParams（xmlxvm * vm）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84__GUID-CB83059B-4FE0-4376-A95B-40728E181DC4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2677">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2680">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2683">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2688" headers="d133320e2677 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2688 d133320e2680 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2688 d133320e2683 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CAXML6376"></a><a id="CAXML6377"></a><a id="CAXML6375"></a><div class="props_rev_3"><a id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258" name="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258"></a><h4 id="CAXML-GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258" class="sect4">XmlXvmSetBaseURI（）</h4>
                  <div>
                     <div class="section">
                        <p>设置XSLTVM的基URI。 VM使用baseuri来编写要使用<code class="codeph">document</code>或<code class="codeph">XmlXvmTransformFile</code>加载进行转换的路径XML文档。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-B8F3DE77-FEBC-4FB2-9667-D64411ACADF4">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBaseURI（xmlxvm * vm，oratext * baseuri）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-6308EE33-D31E-444F-AE86-ED7A4542760B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2763">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2766">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2769">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2774" headers="d133320e2763 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2774 d133320e2766 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2774 d133320e2769 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2784" headers="d133320e2763 "><pre class="oac_no_warn" dir="ltr">基本URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2784 d133320e2766 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2784 d133320e2769 ">
                                    <p>用于读写文档的VM基URI</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-7C1A4227-775C-484B-B341-81F074C66469">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6379"></a><a id="CAXML6380"></a><a id="CAXML6378"></a><div class="props_rev_3"><a id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD" name="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD"></a><h4 id="CAXML-GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD" class="sect4">XmlXvmSetBytecodeBuffer（）</h4>
                  <div>
                     <div class="section">
                        <p>从缓冲区设置编译的字节码。任何先前设置的字节码都将被替换。如果未设置样式表字节码，则无法执行XML转换。VM不会将字节码复制到内部缓冲区，因此在VM完成使用之前不应释放它。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-45182243-3BBC-48BD-87E0-E0CECDAED90E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeBuffer（xmlxvm * vm，ub2 * buffer，size_t buflen）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-2753C3CF-8A13-4322-A506-17ADD269C518">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2861">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2864">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2867">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2872" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2872 d133320e2864 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2872 d133320e2867 ">
                                    <p>XSLT VM上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2882" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">缓冲</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2882 d133320e2864 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2882 d133320e2867 ">
                                    <p>用户的缓冲区</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2892" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">buflen</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2892 d133320e2864 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2892 d133320e2867 ">
                                    <p>缓冲区大小，以字节为单位</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-34C03207-69BF-431F-A1AF-3EDC40BC35B2">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                        <div class="infoboxnotealso" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-009E81F8-D85E-49C0-829B-2DCA605FAE4D">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6382"></a><a id="CAXML6383"></a><a id="CAXML6381"></a><div class="props_rev_3"><a id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F" name="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F"></a><h4 id="CAXML-GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F" class="sect4">XmlXvmSetBytecodeFile（）</h4>
                  <div>
                     <div class="section">
                        <p>从文件设置编译的字节码。任何先前设置的字节码都将被替换。如果未设置样式表字节码，则无法执行XML转换。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-D11173D6-A444-4BF3-8B9B-AA4BB9DE1CA9">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeFile（xmlxvm * vm，oratext * path）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-D7483508-D627-45C6-B5A0-D6DB351201A6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2982">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2985">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2988">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2993" headers="d133320e2982 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2993 d133320e2985 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2993 d133320e2988 ">
                                    <p>XSLT VM上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3003" headers="d133320e2982 "><pre class="oac_no_warn" dir="ltr">路径</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3003 d133320e2985 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3003 d133320e2988 ">
                                    <p>字节码文件的路径</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-3D4868DC-ADA2-471B-9ED1-208E5525B043">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                        <div class="infoboxnotealso" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-F397A279-8364-4258-AB3C-6E6098DAF174">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI（）</a> ， <a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6385"></a><a id="CAXML6386"></a><a id="CAXML6384"></a><div class="props_rev_3"><a id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5" name="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5"></a><h4 id="CAXML-GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5" class="sect4">XmlXvmSetBytecodeURI（）</h4>
                  <div>
                     <div class="section">
                        <p>从URI设置编译的字节码。任何先前设置的字节码都将被替换。如果未设置样式表字节码，则无法执行XML转换。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-B740E711-0138-45E2-A0C6-EC18A9B06070">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeURI（xmlxvm * vm，oratext * uri）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-F3D20177-BA6B-4F1A-9004-374B42E32571">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3092">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3095">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3098">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3103" headers="d133320e3092 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3103 d133320e3095 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3103 d133320e3098 ">
                                    <p>XSLT VM上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3113" headers="d133320e3092 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3113 d133320e3095 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3113 d133320e3098 ">
                                    <p>字节码文件的路径</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-871EEAD5-3106-40FA-89AE-796125E7887D">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                        <div class="infoboxnotealso" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-1A6DE5E9-5925-44B1-A98B-85C78291AA8B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6388"></a><a id="CAXML6389"></a><a id="CAXML6387"></a><div class="props_rev_3"><a id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6" name="GUID-6184A424-E169-4512-914A-9C1440FCE5B6"></a><h4 id="CAXML-GUID-6184A424-E169-4512-914A-9C1440FCE5B6" class="sect4">XmlXvmSetDebugFunc（）</h4>
                  <div>
                     <div class="section">
                        <p>每次执行到达XSLT样式表中的新行时，VM都会调用用户回调函数。VM将样式表文件名，行号，当前上下文节点集和节点集中的当前节点索引传递给用户。重要信息 - 样式表必须使用标志<code class="codeph">XMLXVM_DEBUG</code>进行编译。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-5B3435FD-45D3-4A2A-9C7F-A071BE2D10BE">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">#define XMLXVM_DEBUG_FUNC（func）void func（ub2 line，oratext * filename，xvmobj * obj，ub4 n）xmlerr XmlXvmSetDebugFunc（xmlxvm * vm，XMLXVM_DEBUG_FUNC（debugcallback））;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-A213752C-9558-4F29-88DC-F64FF135B9F7">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3205">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3208">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3211">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3216" headers="d133320e3205 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3216 d133320e3208 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3216 d133320e3211 ">
                                    <p>XSLT VM上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3226" headers="d133320e3205 "><pre class="oac_no_warn" dir="ltr">FUNC</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3226 d133320e3208 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3226 d133320e3211 ">
                                    <p>回调函数</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-976084C8-8AA7-452E-A252-F5F3155EE14B">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6391"></a><a id="CAXML6392"></a><a id="CAXML6390"></a><div class="props_rev_3"><a id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71" name="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71"></a><h4 id="CAXML-GUID-9758249C-632E-4B0C-83A0-10D4C087FF71" class="sect4">XmlXvmSetOutputDom（）</h4>
                  <div>
                     <div class="section">
                        <p>将XSLTVM设置为输出DOM。如果<code class="codeph">xmldocnode==NULL</code> ，则结果DOM树属于VM对象，并在执行新转换或删除VM对象时删除。如果要使用结果DOM树更长的时间段，则必须创建<code class="codeph">xmldocnode</code>并将其设置为VM对象。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-E1A883DD-5994-49B5-96D9-17FDAB0997B6">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputDom（xmlxvm * vm，xmldocnode * doc）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-6777C50E-ABB9-47BE-BB7B-8E74846FF58D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3313">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3316">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3319">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3324" headers="d133320e3313 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3324 d133320e3316 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3324 d133320e3319 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3334" headers="d133320e3313 "><pre class="oac_no_warn" dir="ltr">DOC</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3334 d133320e3316 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3334 d133320e3319 ">
                                    <p>空文件</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-B59D0DCD-82C6-4E07-B176-CA9B50263D83">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6394"></a><a id="CAXML6395"></a><a id="CAXML6393"></a><div class="props_rev_3"><a id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6" name="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6"></a><h4 id="CAXML-GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6" class="sect4">XmlXvmSetOutputEncoding（）</h4>
                  <div>
                     <div class="section">
                        <p>设置XSLTVM流输出的编码。如果输入（数据）编码与此API设置的编码不同，则执行编码转换。此API将覆盖XSLT样式表中的编码集（如果有）。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-0E43E6A1-BBDE-445E-B35A-8EE9E3B92489">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputEncoding（xmlxvm * vm，oratext * encoding）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-215338D8-4545-4070-8157-E62C381D7658">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3411">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3414">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3417">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3422" headers="d133320e3411 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3422 d133320e3414 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3422 d133320e3417 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3432" headers="d133320e3411 "><pre class="oac_no_warn" dir="ltr">编码</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3432 d133320e3414 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3432 d133320e3417 ">
                                    <p>输出编码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-2709B8EB-777D-4CB5-8A7E-42CBD7BEB16B">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6397"></a><a id="CAXML6398"></a><a id="CAXML6396"></a><div class="props_rev_3"><a id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8" name="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8"></a><h4 id="CAXML-GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8" class="sect4">XmlXvmSetOutputSax（）</h4>
                  <div>
                     <div class="section">
                        <p>将XSLTVM设置为输出SAX。如果提供了SAX回调接口对象，则VM使用用户指定的回调函数以SAX事件的形式输出结果文档。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-0A1611B6-8C15-4034-9CD9-793B715A2452">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputSax（xmlxvm * vm，xmlsaxcb * saxcb，void * saxctx）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-36250E4A-4B52-420B-BC1C-6954D8CE0E6D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3509">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3512">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3515">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3520" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3520 d133320e3512 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3520 d133320e3515 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3530" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">saxcb</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3530 d133320e3512 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3530 d133320e3515 ">
                                    <p>SAX回调对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3540" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">saxctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3540 d133320e3512 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3540 d133320e3515 ">
                                    <p>SAX背景</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-1AAD5211-8BE4-4A8F-9A2D-C15BD7831B32">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6400"></a><a id="CAXML6401"></a><a id="CAXML6399"></a><div class="props_rev_3"><a id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE" name="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE"></a><h4 id="CAXML-GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE" class="sect4">XmlXvmSetOutputStream（）</h4>
                  <div>
                     <div class="section">
                        <p>将XSLTVM输出设置为用户定义的流。默认的XSLTVM输出是一个流。此API使用用户指定的API覆盖默认流以进行写入。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-82AFF08E-94A8-4FC6-A585-8CF0A62EB1CF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputStream（xmlxvm * vm，xmlostream * ostream）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-32406FD0-C284-41CE-A549-0A3618D418F8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3618">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3621">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3624">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3629" headers="d133320e3618 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3629 d133320e3621 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3629 d133320e3624 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3639" headers="d133320e3618 "><pre class="oac_no_warn" dir="ltr">ostream的</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3639 d133320e3621 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3639 d133320e3624 ">
                                    <p>流对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-A56DEDCF-B1A3-4857-ADD9-8478F05D9887">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6403"></a><a id="CAXML6404"></a><a id="CAXML6402"></a><div class="props_rev_3"><a id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012" name="GUID-40F1858D-9B70-4E52-9864-FD2233E27012"></a><h4 id="CAXML-GUID-40F1858D-9B70-4E52-9864-FD2233E27012" class="sect4">XmlXvmSetTextParam（）</h4>
                  <div>
                     <div class="section">
                        <p>设置样式表顶级文本参数。将覆盖XSLT样式表中设置的参数值。由于在每次转换后使用样式表值重置顶级参数，因此必须再次调用此API。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-3AE88FA3-D44B-4C44-98DF-6F21F19960C4">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetTextParam（xmlxvm * vm，oratext * name，oratext * value）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-2C05FB74-53CF-411B-8D61-8ABB7AE85A8A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3716">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3719">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3722">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3727" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3727 d133320e3719 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3727 d133320e3722 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3737" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">名称</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3737 d133320e3719 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3737 d133320e3722 ">
                                    <p>顶级参数的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3747" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">值</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3747 d133320e3719 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3747 d133320e3722 ">
                                    <p>顶级参数的值</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-98B725A5-79D5-45F1-B8FF-C25405A5B9FA">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码， <code class="codeph">XMLERR_SUCC [0]</code>成功。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6406"></a><a id="CAXML6407"></a><a id="CAXML6405"></a><div class="props_rev_3"><a id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446" name="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446"></a><h4 id="CAXML-GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446" class="sect4">XmlXvmTransformBuffer（）</h4>
                  <div>
                     <div class="section">
                        <p>在内存中的XML文档上运行已编译的XSLT样式表。在此调用之前，应使用<code class="codeph">XmlXvmSetBytecodeXXX</code>设置已编译的XSLT样式表（字节码）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-D7E7FF52-AA4C-4FF7-8E87-8D919B6538BC">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformBuffer（xmlxvm * vm，oratext * buffer，ub4 length，oratext * baseURI）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-4A9F23A6-4DEE-4735-9A8E-990A83D64596">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d133320e3830">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3833">进出</th>
                                 <th align="left" valign="bottom" width="65%" id="d133320e3836">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3841" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3841 d133320e3833 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3841 d133320e3836 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3851" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">缓冲</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3851 d133320e3833 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3851 d133320e3836 ">
                                    <p>包含XML文档的<code class="codeph">NULL</code> -terminated缓冲区</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3863" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">长度</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3863 d133320e3833 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3863 d133320e3836 ">
                                    <p>XML文档的长度</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3873" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">基本URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3873 d133320e3833 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3873 d133320e3836 ">
                                    <p>XML文档的基URI</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-CEEBD88F-FF81-4141-8D8A-6E5A831DC908">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                        <div class="infoboxnotealso" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-FF80B3D8-7409-4F36-A6EF-8B07270700F1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI（）</a> ， <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6409"></a><a id="CAXML6410"></a><a id="CAXML6408"></a><div class="props_rev_3"><a id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E" name="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E"></a><h4 id="CAXML-GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E" class="sect4">XmlXvmTransformDom（）</h4>
                  <div>
                     <div class="section">
                        <p>在XML文档上运行已编译的XSLT样式表作为DOM。在此调用之前，应使用<code class="codeph">XmlXvmSetBytecodeXXX</code>设置已编译的XSLT样式表（字节码）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-BBB8EBB7-CFED-425F-A975-8E41C779782A">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformDom（xmlxvm * vm，xmldocnode * root）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-9AC9A7E6-B053-404D-9F86-1A9F7F27E272">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3967">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3970">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3973">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3978" headers="d133320e3967 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3978 d133320e3970 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3978 d133320e3973 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3988" headers="d133320e3967 "><pre class="oac_no_warn" dir="ltr">根</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3988 d133320e3970 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3988 d133320e3973 ">
                                    <p>XML文档的DOM的根元素</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-9634AC5C-33B3-445F-B75D-B2E3084DCC46">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-D0D01F93-99B8-47D6-992F-FC8D7D76D87E">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI（）</a> ， <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6412"></a><a id="CAXML6413"></a><a id="CAXML6411"></a><div class="props_rev_3"><a id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315" name="GUID-1E343A8E-5E17-4761-9830-5F315DC62315"></a><h4 id="CAXML-GUID-1E343A8E-5E17-4761-9830-5F315DC62315" class="sect4">XmlXvmTransformFile（）</h4>
                  <div>
                     <div class="section">
                        <p>在文件中的XML文档上运行已编译的XSLT样式表。在此调用之前，应使用<code class="codeph">XmlXvmSetBytecodeXXX</code>设置已编译的XSLT样式表（字节码）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-3331C852-AE38-47BB-AF64-F86A5B5350BB">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformFile（xmlxvm * vm，oratext * path，oratext * baseURI）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-ED063350-6FB6-4091-91E8-4307668B3929">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e4081">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e4084">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e4087">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4092" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4092 d133320e4084 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4092 d133320e4087 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4102" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">路径</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4102 d133320e4084 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4102 d133320e4087 ">
                                    <p>要转换的XML文档的路径</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4112" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">基本URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4112 d133320e4084 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4112 d133320e4087 ">
                                    <p>XML文档的基URI</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-CFBCDE1D-194E-4FBB-9DB7-1E8AB52B13BB">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码</p>
                        <div class="infoboxnotealso" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-D486112F-C3A9-4657-95CB-84BF3B52FCAE">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI（）</a> ， <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer（）</a> ， <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6415"></a><a id="CAXML6416"></a><a id="CAXML6414"></a><div class="props_rev_3"><a id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164" name="GUID-D2D1D312-948F-4258-9190-7FED51DCB164"></a><h4 id="CAXML-GUID-D2D1D312-948F-4258-9190-7FED51DCB164" class="sect4">XmlXvmTransformURI（）</h4>
                  <div>
                     <div class="section">
                        <p>从URI运行XML文档的已编译XSLT样式表。在此调用之前，应使用<code class="codeph">XmlXvmSetBytecodeXXX</code>设置已编译的XSLT样式表（字节码）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-F62EFE2D-3B80-4101-80C7-2EDF2D1972D5">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformURI（xmlxvm * vm，oratext * uri）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-D8581A2F-C7EC-4443-954B-471440AE1AD0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e4205">参数</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e4208">进出</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e4211">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4216" headers="d133320e4205 "><pre class="oac_no_warn" dir="ltr">VM</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4216 d133320e4208 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4216 d133320e4211 ">
                                    <p>VM对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4226" headers="d133320e4205 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4226 d133320e4208 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4226 d133320e4211 ">
                                    <p>要转换的XML文档的URI</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-41CC23F3-30D0-428B-B73C-AF174F42214A">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code>错误代码。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-7C732CD9-AEFE-431E-81B7-2892F0C43135">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile（）</a> ， <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer（）</a> ， <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06172.replaying-a-database-workload.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database."></meta>
      <meta name="description" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database."></meta>
      <title>重播数据库工作负载</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Testing Guide "></meta>
      <meta property="og:description" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Testing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96279-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preprocessing-a-database-workload.html" title="Previous" type="text/html"></link>
      <link rel="next" href="analyzing-captured-and-replayed-workloads.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="RATUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preprocessing-a-database-workload.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="analyzing-captured-and-replayed-workloads.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">测试指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-replay.html" property="item" typeof="WebPage"><span property="name">数据库重播</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">重播数据库工作负载</li>
            </ol>
            <a id="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B" name="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B"></a><a id="RATUG131"></a>
            
            <h2 id="RATUG-GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B" class="sect2"><span class="enumeration_chapter">12</span>重播数据库工作负载</h2>
         </header>
         <div class="ind">
            <div>
               <div><span>在对捕获的工作负载进行预处理后，可以在运行相同版本的Oracle数据库的重放系统上重复执行该工作负载。</span> 通常，将重放预处理工作负载的重放系统应该是与生产系统分开的测试系统。
               </div>
               <p>本章介绍如何在测试系统上重放数据库工作负载，并包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="正确准备重播系统和规划工作负载重放可确保重放准确。">重播数据库工作负载的步骤</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-B97B7550-A947-45D0-A31B-636A6427DD86" title="本节介绍如何使用Enterprise Manager重播数据库工作负载。">使用Enterprise Manager重播数据库工作负载</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-F4B0C255-243D-4C85-A003-F876AA25E845" title="通过重播计划功能，您可以扩展捕获的工作负载的实例，使其包含在整合的重放中，然后控制重放中实例的相对回放计划。">使用Enterprise Manager设置重播计划和参数</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-64593639-9102-4C30-8EB9-71F28ABED05A" title="本节介绍如何使用Enterprise Manager监视工作负载重放。监视工作负载重放的主要工具是Oracle Enterprise Manager。">使用Enterprise Manager监视工作负载重放</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" title="与导入Enterprise Manager外部的工作负载一样，您可以将重播导入Enterprise Manager以对其进行管理。">导入企业管理器外部重播</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" title="本节介绍如何使用DBMS_WORKLOAD_REPLAY包重播数据库工作负载。">使用API重播数据库工作负载</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" title="本节介绍如何使用API和视图监视工作负载重放。">使用API监视工作负载重放</a></p>
                  </li>
               </ul>
               <div class="infobox-tip" id="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B__GUID-819370F5-6614-43E8-9293-BF794AE4AA1C">
                  <p class="notep1">小费：</p>
                  <p>在重放数据库工作负载之前，您必须先：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>捕获生产系统上的工作负载，如<a href="capturing-a-database-workload.html#GUID-E774C161-98C0-43EF-8B78-DD74E2A2A219" title="本章介绍如何在生产系统上捕获数据库工作负载。">捕获数据库工作负载中所述</a></p>
                     </li>
                     <li>
                        <p>预处理捕获的工作负载，如<a href="preprocessing-a-database-workload.html#GUID-4CEE2F79-F5A7-4EBA-9018-0CB99AB51C0A" title="捕获工作负载并完成测试系统的设置后，必须预处理捕获的数据。">预处理数据库工作负载中所述</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="RATUG135"></a><div class="props_rev_3"><a id="GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" name="GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F"></a><h3 id="RATUG-GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" class="sect3"><span class="enumeration_section">12.1</span>重播数据库工作负载的步骤</h3>
               <div>
                  <div><span>正确准备重播系统和规划工作负载重放可确保重放准确。</span> 在重放数据库工作负载之前，请完成以下步骤以准备重播系统和工作负载重放：</div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" title="捕获的工作负载必须已经过预处理并复制到重放系统。复制预处理工作负载的目录的目录对象必须存在于重放系统中。">设置重播目录</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" title="在重放工作负载之前，重放系统上的应用程序数据状态在逻辑上应与工作负载捕获开始时捕获系统的状态等效。这最小化了重放期间的重放差异。还原数据库的方法取决于捕获工作负载之前使用的备份方法。">恢复数据库</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" title="捕获的工作负载可能包含对外部系统的引用，例如数据库链接或外部表。通常，您应该重新配置这些外部交互，以避免在重放期间影响其他生产系统。">解决对外部系统的引用</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="在工作负载捕获期间，将捕获用于连接到生产系统的连接字符串。为了使重放成功，您需要将这些连接字符串重新映射到重放系统。然后，重播客户端可以使用重新映射的连接连接到重放系统。">连接重映射</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" title="在工作负载捕获期间，将捕获用于连接到生产系统的数据库用户或模式的用户名。您可以选择将捕获的用户名重新映射到新用户或架构的用户名。">用户重新映射</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="还原数据库并重新映射连接和用户后，您可以设置相应的重播选项。">指定重播选项</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" title="默认情况下，在工作负载重放期间重播所有捕获的数据库调用。您可以使用工作负载筛选器指定在工作负载重放期间要包含在工作负载中或从工作负载中排除的数据库调">使用带工作负载重放的过滤器</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" title="此时，您需要设置并启动重播客户端，这些客户端将连接到重放系统并根据工作负载中捕获的内容发送请求。">设置重播客户端</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG136"></a><div class="props_rev_3"><a id="GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" name="GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC"></a><h4 id="RATUG-GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" class="sect4"><span class="enumeration_section">12.1.1</span>设置重播目录</h4>
                  <p>捕获的工作负载必须已经过预处理并复制到重放系统。复制预处理工作负载的目录的目录对象必须存在于重放系统中。</p>
               </div><a id="RATUG133"></a><div class="props_rev_3"><a id="GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" name="GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384"></a><h4 id="RATUG-GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" class="sect4"><span class="enumeration_section">12.1.2</span>恢复数据库</h4>
                  <div>
                     <div><span>在重放工作负载之前，重放系统上的应用程序数据状态在逻辑上应与工作负载捕获开始时捕获系统的状态等效。这最小化了重放期间的重放差异。还原数据库的方法取决于捕获工作负载之前使用的备份方法。</span> 例如，如果使用RMAN备份捕获系统，则可以使用RMAN <code class="codeph">DUPLICATE</code>功能来创建测试数据库。有关更多信息，请参阅<span class="q">“ <a href="capturing-a-database-workload.html#GUID-372BA03D-7A24-4300-A0AE-30E0D9D9C724" title="在开始工作负载捕获之前，您应该有一个策略来恢复测试系统上的数据库。">捕获数据库工作负载的先决条件</a> ”</span> 。
                     </div>
                     <p>使用重放系统上的相应应用程序数据创建数据库后，执行要测试的系统更改，例如数据库或操作系统升级。数据库重放的主要目的是测试系统更改对捕获的工作负载的影响。因此，您应该进行的系统更改应该使用捕获的工作负载定义您正在进行的测试。</p>
                  </div>
               </div><a id="RATUG137"></a><div class="props_rev_3"><a id="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" name="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4"></a><h4 id="RATUG-GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" class="sect4"><span class="enumeration_section">12.1.3</span>解析对外部系统的引用</h4>
                  <div>
                     <div><span>捕获的工作负载可能包含对外部系统的引用，例如数据库链接或外部表。通常，您应该重新配置这些外部交互，以避免在重放期间影响其他生产系统。</span> 在重放工作负载之前需要解决的外部引用包括：</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库链接</p>
                           <p>重放系统通常不希望与其他数据库交互。因此，您应该重新配置所有数据库链接以指向包含重播所需数据的相应数据库。</p>
                        </li>
                        <li>
                           <p>外部表格</p>
                           <p>在重放期间，使用外部表引用的目录对象指定的所有外部文件都必须可供数据库使用。这些文件的内容应与捕获期间的内容相同，用于定义外部表的文件名和目录对象也应该有效。</p>
                        </li>
                        <li>
                           <p>目录对象</p>
                           <p>您应该通过在还原数据库后适当地重新定义重放系统中存在的目录对象来重新配置对生产系统上的目录的任何引用。</p>
                        </li>
                        <li>
                           <p>网址</p>
                           <p>需要配置存储在数据库中的URL / URI，以便在工作负载捕获期间访问的Web服务将在重放期间指向正确的URL。如果工作负载引用存储在生产系统中的URL，则应在重放期间隔离测试系统网络。</p>
                        </li>
                        <li>
                           <p>电子邮件</p>
                           <p>为避免在重放期间重新发送电子邮件通知，应将重播系统可访问的任何电子邮件服务器配置为忽略对传出电子邮件的请求。</p>
                        </li>
                     </ul>
                     <div class="infobox-tip" id="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4__GUID-8E8F665B-D35F-4F00-B0F1-CA819DD33B70">
                        <p class="notep1">小费：</p>
                        <p>为避免在重放期间影响其他生产系统，Oracle强烈建议在无法访问生产环境主机的隔离专用网络中运行重放。</p>
                     </div>
                  </div>
               </div><a id="RATUG138"></a><div class="props_rev_3"><a id="GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" name="GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B"></a><h4 id="RATUG-GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" class="sect4"><span class="enumeration_section">12.1.4</span>连接重映射</h4>
                  <div>
                     <p>在工作负载捕获期间，将捕获用于连接到生产系统的连接字符串。为了使重放成功，您需要将这些连接字符串重新映射到重放系统。然后，重播客户端可以使用重新映射的连接连接到重放系统。</p>
                     <p>对于Oracle Real Application Clusters（Oracle RAC）数据库，您可以将所有连接字符串映射到负载平衡连接字符串。如果重放系统上的节点数与捕获系统不同，这尤其有用。或者，如果要将工作负载定向到特定实例，则可以使用服务或在重新映射的连接字符串中显式指定实例标识符。</p>
                  </div>
               </div><a id="RATUG4067"></a><div class="props_rev_3"><a id="GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" name="GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24"></a><h4 id="RATUG-GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" class="sect4"><span class="enumeration_section">12.1.5</span>用户重映射</h4>
                  <p>在工作负载捕获期间，将捕获用于连接到生产系统的数据库用户或模式的用户名。您可以选择将捕获的用户名重新映射到新用户或架构的用户名。</p>
               </div><a id="RATUG139"></a><div class="props_rev_3"><a id="GUID-289F573A-9C83-4A29-A1D4-323705E8293D" name="GUID-289F573A-9C83-4A29-A1D4-323705E8293D"></a><h4 id="RATUG-GUID-289F573A-9C83-4A29-A1D4-323705E8293D" class="sect4"><span class="enumeration_section">12.1.6</span>指定重播选项</h4>
                  <div>
                     <div><span>还原数据库并重新映射连接和用户后，您可以设置相应的重播选项。</span> 例如：</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" title="synchronization参数控制用于数据库重放的同步方法。">指定同步方法</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" title="connect_time_scale参数使您可以缩放工作负载捕获开始和每个会话连接之间的经过时间。">控制会话连接速率</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" title="用户思考时间是重播用户在单个会话中发出呼叫之间等待的时间。">控制会话中的请求率</a></p>
                        </li>
                     </ul>
                  </div><a id="RATUG140"></a><div class="props_rev_3"><a id="GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" name="GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF"></a><h5 id="RATUG-GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" class="sect5"><span class="enumeration_section">12.1.6.1</span>指定同步方法</h5>
                     <div>
                        <p><code class="codeph">synchronization</code>参数控制用于数据库重放的同步方法。
                        </p>
                        <p>如果参数设置为<code class="codeph">TIME</code> ，则重放将使用与捕获相同的挂钟时序。所有数据库会话登录时间都将与捕获完全重放。同样，数据库会话中的事务之间的所有时间将被保留并在捕获时重放。这种同步方法将为大多数工作负载产生良好的重放。
                        </p>
                        <p>如果此参数设置为<code class="codeph">SCN</code> ，则在重放期间将观察捕获的工作负载中的<code class="codeph">COMMIT</code>顺序，并且只有在所有相关<code class="codeph">COMMIT</code>操作完成后才会执行所有重放操作。这种同步方法可能会为某些工作负载带来显着的延迟。如果是这种情况，建议使用<code class="codeph">TIME</code>作为<code class="codeph">synchronization</code>参数。
                        </p>
                        <p>如果此参数设置为<code class="codeph">OBJECT_ID</code> ，则只有在完成所有相关<code class="codeph">COMMIT</code>操作后，才会执行所有重放操作。相关<code class="codeph">COMMIT</code>操作必须符合以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在工作负载捕获中的给定操作之前发布</p>
                           </li>
                           <li>
                              <p>至少修改了至少一个给定操作引用的数据库对象，无论是隐式还是显式</p>
                           </li>
                        </ul>
                        <p>将此参数设置为<code class="codeph">OBJECT_ID</code>可以在工作负载重放期间为在工作负载捕获期间未引用相同数据库对象的<code class="codeph">COMMIT</code>操作提供更多并发性。
                        </p>
                     </div>
                  </div><a id="RATUG141"></a><div class="props_rev_3"><a id="GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" name="GUID-776F6E15-7429-4434-B4BC-8FEA180DB708"></a><h5 id="RATUG-GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" class="sect5"><span class="enumeration_section">12.1.6.2</span>控制会话连接速率</h5>
                     <div><span><code class="codeph">connect_time_scale</code>参数使您可以缩放工作负载捕获开始和每个会话连接之间的经过时间。</span> 您可以使用此选项在重放期间使用给定的百分比值操纵会话连接时间。默认值为100，它将尝试连接捕获的所有会话。将此参数设置为0将尝试立即连接所有会话。
                     </div>
                  </div><a id="RATUG142"></a><div class="props_rev_3"><a id="GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" name="GUID-D8D4EEE8-AB75-453B-B696-35A99263504F"></a><h5 id="RATUG-GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" class="sect5"><span class="enumeration_section">12.1.6.3</span>控制会话内的请求速率</h5>
                     <div>
                        <div><span>用户思考时间是重播用户在单个会话中发出呼叫之间等待的时间。</span> 要控制重放速度，请使用<code class="codeph">think_time_scale</code>参数在重放期间缩放用户思考时间。
                        </div>
                        <p>如果在重放期间执行用户调用的速度比捕获期间要慢，则可以通过将<code class="codeph">think_time_auto_correct</code>参数设置为<code class="codeph">TRUE</code>来使数据库重放尝试赶上。这将使重播客户端缩短呼叫之间的思考时间，以便重放的总体经过时间将更接近地匹配捕获的经过时间。
                        </p>
                        <p>如果在重放期间比捕获期间更快地执行用户调用，则将<code class="codeph">think_time_auto_correct</code>参数设置为<code class="codeph">TRUE</code>将不会更改思考时间。重播客户端不会增加调用之间的思考时间以匹配捕获的经过时间。
                        </p>
                     </div>
                  </div>
               </div><a id="RATUG261"></a><div class="props_rev_3"><a id="GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" name="GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE"></a><h4 id="RATUG-GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" class="sect4"><span class="enumeration_section">12.1.7</span>使用具有工作负载重放的过滤器</h4>
                  <div>
                     <p>默认情况下，在工作负载重放期间重播所有捕获的数据库调用。您可以使用工作负载筛选器指定在工作负载重放期间要包含在工作负载中或从工作负载中排除的数据库调</p>
                     <p>首先定义工作负载重放过滤器，然后将其添加到a <a id="d22870e1258" class="indexterm-anchor"></a>重放过滤器集，以便它们可用于工作负载重放。工作负载过滤器有两种类型：包含过滤器和排除过滤器。<a id="d22870e1265" class="indexterm-anchor"></a>通过包含筛选器，您可以指定将要重播的数据库调用。<a id="d22870e1272" class="indexterm-anchor"></a>使用排除筛选器可以指定不会重播的数据库调用。您可以在工作负载重播中使用包含过滤器或排除过滤器，但不能同时使用两者。在创建重放过滤器集时，工作负载过滤器被确定为包含或排除过滤器。
                     </p>
                  </div>
               </div><a id="RATUG143"></a><div class="props_rev_3"><a id="GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" name="GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F"></a><h4 id="RATUG-GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" class="sect4"><span class="enumeration_section">12.1.8</span>设置重播客户端</h4>
                  <div>
                     <div>重放客户端是一个多线程程序（位于<code class="codeph">$ORACLE_HOME/bin</code>目录中的名为<code class="codeph">wrc</code>的可执行文件），其中每个线程都从捕获的会话中提交工作负载。在重播开始之前，数据库将等待重播客户端连接。<span>此时，您需要设置并启动重播客户端，这些客户端将连接到重放系统并根据工作负载中捕获的内容发送请求。</span></div>
                     <p>在开始重播客户端之前，请确保：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>重播客户端软件安装在将运行它的主机上</p>
                        </li>
                        <li>
                           <p>重播客户端可以访问重播目录</p>
                        </li>
                        <li>
                           <p>重播目录包含预处理的工作负载捕获</p>
                        </li>
                        <li>
                           <p>重播用户具有正确的用户ID，密码和权限（重放用户需要DBA角色，不能是<code class="codeph">SYS</code>用户）</p>
                        </li>
                        <li>
                           <p>重播客户端不会在运行数据库的系统上启动</p>
                        </li>
                        <li>
                           <p>重播客户端读取文件系统上的捕获目录，该文件系统与数据库文件所在的文件系统不同</p>
                           <p>为此，请将捕获目录复制到将运行重播客户端的系统。重放完成后，您可以删除捕获目录。</p>
                        </li>
                     </ul>
                     <p>满足这些先决条件后，您可以继续使用<code class="codeph">wrc</code>可执行文件设置和启动重播客户端。<code class="codeph">wrc</code>可执行文件使用以下语法：</p><pre class="oac_no_warn" dir="ltr">wrc [用户/密码[@server]] MODE = [value] [keyword = [value]]</pre><p>参数<code class="codeph">user</code> ， <code class="codeph">password</code>和<code class="codeph">server</code>指定用于连接到重放数据库的用户名，密码和连接字符串。参数<code class="codeph">mode</code>指定运行<code class="codeph">wrc</code>可执行文件的模式。可能的值包括<code class="codeph">replay</code> （默认值）， <code class="codeph">calibrate</code>和<code class="codeph">list_hosts</code> 。parameter <code class="codeph">keyword</code>指定用于执行的选项，并且取决于所选的模式。要显示可能的关键字及其对应的值，请运行不带任何参数的<code class="codeph">wrc</code>可执行文件。
                     </p>
                     <p>以下部分描述了运行<code class="codeph">wrc</code>可执行文件时可以选择的模式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" title="由于一个重播客户端可以启动与数据库的多个会话，因此不必为捕获的每个会话启动重播客户端。需要启动的重播客户端数量取决于工作负载流的数量，主机数量以及每个主机的重播客户端数量。">校准重播客户端</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" title="确定重放工作负载所需的重播客户端数量后，需要通过在安装它们的主机上以重播模式运行wrc可执行文件来启动重播客户端。">启动重播客户端</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" title="您可以通过在list_hosts模式下运行wrc可执行文件来显示参与工作负载捕获和工作负载重放的主机。">显示主机信息</a></p>
                        </li>
                     </ul>
                  </div><a id="RATUG144"></a><div class="props_rev_3"><a id="GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" name="GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6"></a><h5 id="RATUG-GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" class="sect5"><span class="enumeration_section">12.1.8.1</span>校准重播客户端</h5>
                     <div>
                        <p>由于一个重播客户端可以启动与数据库的多个会话，因此不必为捕获的每个会话启动重播客户端。需要启动的重播客户端数量取决于工作负载流的数量，主机数量以及每个主机的重播客户端数量。</p>
                        <p>要估计重放特定工作负载所需的重播客户端和主机数，请运行<code class="codeph">wrc</code>可执行文件<a id="d22870e1565" class="indexterm-anchor"></a>校准模式。
                        </p>
                        <p>在校准模式下， <code class="codeph">wrc</code>可执行文件接受以下关键字：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">replaydir</code>指定包含要重播的预处理工作负载捕获的目录。如果未指定，则默认为当前目录。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">process_per_cpu</code>指定每个CPU可以运行的最大客户端进程数。默认值为4。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">threads_per_process</code>指定可在客户端进程中运行的最大线程数。默认值为50。
                              </p>
                           </li>
                        </ul>
                        <p>以下示例显示如何在校准模式下运行<code class="codeph">wrc</code>可执行文件：</p><pre class="oac_no_warn" dir="ltr">％&gt; wrc mode =校准replaydir =。/重播</pre><p>在此示例中，执行<code class="codeph">wrc</code>可执行文件以估计重放存储在当前目录下名为<code class="codeph">replay</code>的子目录中的工作负载捕获所需的重放客户端和主机的数量。在以下示例输出中，建议使用至少21个重播客户端，分为6个CPU：</p><pre class="oac_no_warn" dir="ltr">Workload Replay客户端：版本12.1.0.0.1  - 生产于2011年9月30日星期五13:06:33版权所有（c）1982,2011，Oracle。版权所有。工作负载报告：/ oracle / replay / -----------------------建议：考虑使用至少21个客户端分为6个CPU。工作负载特征： - 最大并发：1004个会话 - 总会话数：1013假设： - 每50个并发会话1个客户端进程 - 每个CPU 4个客户端进程 - 认为时间刻度= 100  - 连接时间刻度= 100  - 同步= TRUE</pre></div>
                  </div><a id="RATUG145"></a><div class="props_rev_3"><a id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" name="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB"></a><h5 id="RATUG-GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" class="sect5"><span class="enumeration_section">12.1.8.2</span>启动重播客户端</h5>
                     <div>
                        <div><span>确定重放工作负载所需的重播客户端数量后，需要通过在安装它们的主机上以重播模式运行<code class="codeph">wrc</code>可执行文件来启动重播客户端。</span> 一旦启动，每个重播客户端将启动与数据库的一个或多个会话以驱动工作负载重放。
                        </div>
                        <p>在重放模式下， <code class="codeph">wrc</code>可执行文件接受以下关键字：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">userid</code>和<code class="codeph">password</code>指定重播客户端的重播用户的用户标识和密码。如果未指定，则这些值默认为<code class="codeph">system</code>用户。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">server</code>指定用于连接到重播系统的连接字符串。如果未指定，则该值默认为空字符串。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">replaydir</code>指定包含要重播的预处理工作负载捕获的目录。如果未指定，则默认为当前目录。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">workdir</code>指定将写入客户端日志的目录。此参数仅与<code class="codeph">debug</code>参数一起用于调试目的。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">debug</code>指定是否将创建调试数据。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">上</code></p>
                                    <p>调试数据将写入工作目录中的文件</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">离</code></p>
                                    <p>不会写入调试数据（默认值）</p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-737330EF-05AB-4019-938A-826A8483579B">
                                 <p class="notep1">注意：</p>
                                 <p>在调试模式下运行<code class="codeph">wrc</code>可执行文件之前，请联系Oracle支持以获取更多信息。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">connection_override</code>指定是否覆盖存储在<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图中的连接映射。如果设置为<code class="codeph">TRUE</code> ，则将忽略存储在<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图中的连接重映射，并将使用使用<code class="codeph">server</code>参数指定的连接字符串。如果设置为<code class="codeph">FALSE</code> ，则所有重播线程将使用存储在<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图中的连接重映射进行连接。这是默认设置。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">walletdir</code>指向自动登录软件密钥库目录的位置。默认值为空字符串。在重播加密工作负载捕获期间， <code class="codeph">walletdir</code>是必需的。对于非加密捕获，不得设置<code class="codeph">walletdir</code> ，并且默认为空字符串。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-E881A619-7410-41DF-98A6-3275FD811F63">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于加密工作负载捕获，必须使用<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）标识符设置密码。密码存储在自动登录软件密钥库中。
                                 </p>
                              </li>
                              <li>
                                 <p>在重放加密工作负载捕获期间，您必须设置单独的客户端软件密钥库。例如：</p><pre class="pre codeblock"><code>rm -rf <span class="italic">keystore_location</span> mkdir <span class="italic">keystore_location</span> mkstore -wrl <span class="italic">keystore_location</span> -create mkstore -wrl <span class="italic">keystore_location</span> <span class="italic">-createEntry'oracle.rat.database_replay.encryption'secret_key</span> mkstore -wrl <span class="italic">keystore_location</span> -createSSO</code></pre><p><code class="codeph"><span class="codeinlineitalic">secret_key</span></code>必须与在加密工作负载捕获期间创建的服务器端软件密钥库中使用的<code class="codeph"><span class="codeinlineitalic">secret_key</span></code>匹配。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>在所有重播客户端都已连接之后，数据库将自动在所有可用的重播客户端之间分配工作负载捕获流，并且可以开始工作负载重放。您可以使用<code class="codeph">V$WORKLOAD_REPLAY_THREAD</code>视图监控重播客户端的状态。重播完成后，所有重播客户端将自动断开连接。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-75980CA5-8D9E-4165-9E0E-E6FB1EB71232">示例：在重放模式下运行wrc可执行文件以进行非加密捕获</p>
                           <p>以下示例显示如何在重放模式下运行<code class="codeph">wrc</code>可执行文件：</p><pre class="oac_no_warn" dir="ltr">％&gt; wrc system / password @ test mode = replay replaydir =。/ replay</pre><p>在此示例中， <code class="codeph">wrc</code>可执行文件启动重播客户端以重放存储在当前目录下名为<code class="codeph">replay</code>的子目录中的工作负载捕获。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-9E3E00FB-6960-4B1B-96D1-871633756E0F">示例：以重播模式运行wrc可执行文件以进行加密捕获</p>
                           <p>以下示例显示如何在重放模式下运行<code class="codeph">wrc</code>可执行文件以进行加密工作负载捕获：</p><pre class="pre codeblock"><code>％&gt; wrc system / password @ test mode = replay replaydir =。/ replay walletdir = / tmp / replay_encrypt_cwallet</code></pre><p>在此示例中， <code class="codeph">wrc</code>可执行文件启动重播客户端以重放存储在当前目录下名为<code class="codeph">replay</code>的子目录中的工作负载捕获。 <code class="codeph">walletdir</code>指向自动登录软件密钥库目录的位置。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG146"></a><div class="props_rev_3"><a id="GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" name="GUID-CFB2030D-C77B-495F-98CF-10953D2A937B"></a><h5 id="RATUG-GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" class="sect5"><span class="enumeration_section">12.1.8.3</span>显示主机信息</h5>
                     <div>
                        <p>您可以通过在list_hosts模式下运行<code class="codeph">wrc</code>可执行文件来显示参与工作负载捕获和工作负载重放的主机。
                        </p>
                        <p>在list_hosts模式下， <code class="codeph">wrc</code>可执行文件接受关键字<code class="codeph">replaydir</code> ，该关键字指定包含要重播的预处理工作负载捕获的目录。如果未指定，则默认为当前目录。
                        </p>
                        <p>以下示例显示如何在list_hosts模式下运行<code class="codeph">wrc</code>可执行文件：</p><pre class="oac_no_warn" dir="ltr">％&gt; wrc mode = list_hosts replaydir =。/ replay</pre><p>在此示例中，执行<code class="codeph">wrc</code>可执行文件以列出参与捕获或重放存储在当前目录下名为<code class="codeph">replay</code>的子目录中的工作负载捕获的所有主机。在以下示例输出中，显示了参与工作负载捕获的主机和三个后续重放：</p><pre class="oac_no_warn" dir="ltr">Workload Replay客户端：版本12.1.0.0.1  - 生产于2011年9月30日星期五13:44:48版权所有（c）1982,2011，Oracle。版权所有。主持人发现：捕获：prod1 prod2重播1：test1重播2：test1 test2重播3：testwin</pre></div>
                  </div>
               </div>
            </div><a id="RATUG262"></a><a id="RATUG147"></a><div class="props_rev_3"><a id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86" name="GUID-B97B7550-A947-45D0-A31B-636A6427DD86"></a><h3 id="RATUG-GUID-B97B7550-A947-45D0-A31B-636A6427DD86" class="sect3"><span class="enumeration_section">12.2</span>使用Enterprise Manager重播数据库工作负载</h3>
               <div>
                  <p>本节介绍如何使用Enterprise Manager重播数据库工作负载。</p>
                  <div class="p">在继续之前，您必须已经创建了重播任务并从重播任务创建了重播。为此，请参阅<span class="q">“ <a href="preprocessing-a-database-workload.html#GUID-07329403-B681-4278-81F3-B72803E83B44" title="准备单个工作负载涉及多个任务。">使用Enterprise Manager准备单个数据库工作负载</a> ”</span> 。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>重放数据库工作负载的主要工具是Oracle Enterprise Manager。如果Oracle Enterprise Manager不可用，您还可以使用API重播数据库工作负载，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" title="本节介绍如何使用DBMS_WORKLOAD_REPLAY包重播数据库工作负载。">使用API重新映射数据库工作负载</a> ”中所述</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-1A85F1EA-EA18-44DA-B4F9-424D55CC1F4F">使用Enterprise Manager重播数据库工作负载：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>从Enterprise Manager Cloud Control控制台的Enterprise菜单中，选择<span class="bold">Quality Management</span> ，然后选择<span class="bold">Database Replay</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，请以具有管理员权限的用户身份登录。</p>
                           <p>将显示“数据库重播”页面。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-327EBB40-F190-4AE0-B2D7-FCF985C88FFE"><img src="img/dbr.gif" width="505" alt="dbr.gif的描述如下" title="dbr.gif的描述如下" longdesc="img_text/dbr.html"><br><a href="img_text/dbr.html">插图描述dbr.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>选择“ <span class="bold">重播任务”</span>选项卡，然后单击表中所需重播任务的链接。
                           </p>
                           <p>将显示重播的“重播任务”页面。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-4CE3CACE-9C14-4581-BCEB-B354262FFD97"><img src="img/dbr_replay_tasks.gif" width="509" alt="下面是dbr_replay_tasks.gif的描述" title="下面是dbr_replay_tasks.gif的描述" longdesc="img_text/dbr_replay_tasks.html"><br><a href="img_text/dbr_replay_tasks.html">说明描述dbr_replay_tasks.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击<span class="bold">创建</span>的重播部分创建重播。
                           </p>
                           <p>将出现“创建重播”弹出窗口。</p>
                        </li>
                        <li>
                           <p>提供必需的名称和可选说明，然后单击“ <span class="bold">目标数据库”</span>图标。
                           </p>
                           <p>将出现“搜索和选择：目标”弹出窗口。</p>
                        </li>
                        <li>
                           <p>选择适当的数据库，然后单击“ <span class="bold">选择”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>在“创建重播”弹出窗口中单击“ <span class="bold">确定</span> ”。
                           </p>
                           <p>将显示重播的“数据库重放”页面，其中包含一个任务列表，其中包含执行重播的链接。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-FBF0506B-F50B-46AE-BB4B-7AD7117C0D3A"><img src="img/dbr_replay_workload.gif" width="509" alt="下面是dbr_replay_workload.gif的描述" title="下面是dbr_replay_workload.gif的描述" longdesc="img_text/dbr_replay_workload.html"><br><a href="img_text/dbr_replay_workload.html">说明dbr_replay_workload.gif的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击“ <span class="bold">重播工作负载”</span>任务的链接。
                           </p>
                           <p>将显示“重播工作负载：定位工作负载”页面。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-0CBF7B07-FE09-4E55-A5D7-00A2FEA38CA9"><img src="img/dbr_replay_loc_wkload.gif" width="511" alt="下面是dbr_replay_loc_wkload.gif的描述" title="下面是dbr_replay_loc_wkload.gif的描述" longdesc="img_text/dbr_replay_loc_wkload.html"><br><a href="img_text/dbr_replay_loc_wkload.html">说明描述dbr_replay_loc_wkload.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>选择所需的工作负载位置选项。</p>
                           <p>如果之前未将工作负载从其存储位置复制到重播客户端可以访问的重放位置，请选择复制工作负载的选项。否则，请选择该选项以使用包含要重播的工作负载的现有重播目录。</p>
                           <p>单击“ <span class="bold">下一步”</span>以显示“重播工作负载：复制工作负载”页面。
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-B7775211-FD41-43EA-A70A-45FD8C2E9C81"><img src="img/dbr_replay_copy_wkload.gif" width="511" alt="下面是dbr_replay_copy_wkload.gif的描述" title="下面是dbr_replay_copy_wkload.gif的描述" longdesc="img_text/dbr_replay_copy_wkload.html"><br><a href="img_text/dbr_replay_copy_wkload.html">说明说明dbr_replay_copy_wkload.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>提供所需的凭据以及要将工作负载复制到的工作负载目录的新位置，然后单击“ <span class="bold">下一步”</span> 。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>统一重播有多个源工作负载，因此工作负载目录的当前位置可能需要多个源凭据。有关整合重播的详细信息，请参阅<span class="q">“ <a href="using-consolidated-database-replay.html#GUID-BBC96414-F08A-4D57-BA72-B28C1BBEE9F2" title="本节介绍如何将Consolidated Database Replay与Enterprise Manager一起使用。">使用统一数据库重放与企业管理器”</a> 。</span></p>
                              </li>
                           </ul>
                           <p>系统通过在处理期间显示进度条形图来响应，然后在复制操作结束后显示“重播工作负载：选择目录”页面。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-434D9C21-AFF9-4455-8000-D54F8C9302CC"><img src="img/dbr_replay_select_dir.gif" width="440" alt="下面是dbr_replay_select_dir.gif的描述" title="下面是dbr_replay_select_dir.gif的描述" longdesc="img_text/dbr_replay_select_dir.html"><br><a href="img_text/dbr_replay_select_dir.html">插图描述dbr_replay_select_dir.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>指定目录对象，或创建指向包含工作负载的位置的新目录对象。如果在上一步中选择从工作负载位置复制到新位置，请确保目录对象指向您在“工作负载目录”的“新位置”部分中指定的确切位置。</p>
                           <p>系统通过显示捕获摘要进行响应。您可以展开“捕获详细信息”部分以查看工作负载配置文件和工作负载筛您还可以生成工作负载捕获分析器报告和数据库捕获报告。“合并重播”不会显示“捕获摘要”。</p>
                           <p>单击“ <span class="bold">下一步”</span>以显示“重播工作负荷：初始化选项”页面。
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-7B2C38C2-1906-4503-B9C2-E868BBF6C219"><img src="img/dbr_replay_init_options.gif" width="437" alt="下面是dbr_replay_init_options.gif的描述" title="下面是dbr_replay_init_options.gif的描述" longdesc="img_text/dbr_replay_init_options.html"><br><a href="img_text/dbr_replay_init_options.html">说明说明dbr_replay_init_options.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在“SQL性能分析器”部分中，保留或禁用“捕获SQL语句”选项，该选项在默认情况下启用并建议使用。如果您不想在重放结束时比较SQL调优集，则可以禁用此选项。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>SQL性能分析器可以在SQL调优集中启动对SQL语句性能的环境变化的影响分析。您可以创建和分析SQL Performance Analyzer任务，以测试数据库升级，初始化参数更改，Exadata模拟或自定义实验的效果。任务比较试验前更改与试验后更改的影响。</p>
                                 <p>尽管数据库重放提供了对更改如何影响整个系统的分析，但您可以将SQL调优集与SQL性能分析器结合使用，以获得更多以SQL为中心的分析，了解更改如何影响SQL语句和执行计划。</p>
                                 <p>通过在工作负载重放期间捕获SQL调优集，您可以使用SQL性能分析器将此SQL调优集与工作负载捕获期间捕获的另一个SQL调优集进行比较，而无需重新执行SQL语句。这使您可以在运行数据库重放时获取SQL Performance Analyzer报告并比较更改前后的SQL性能。</p>
                              </li>
                              <li>
                                 <p>在Identify Source部分中，初始重播选项引用Customize Options页面上的连接映射和参数。连接与工作负载一起被捕获。</p>
                                 <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-C05ECE62-389B-4C2A-9CA9-32842967DB84">
                                    <p class="notep1">注意：</p>
                                    <p>对于合并重播或Oracle RAC，此部分不会出现。</p>
                                 </div>
                              </li>
                           </ul>
                           <p>单击“ <span class="bold">下一步”</span>以显示“重播工作负荷：自定义选项”页面。
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-565A1FA8-F5C8-4742-8DF6-E7051C84715A"><img src="img/dbr_replay_cust_options.gif" width="435" alt="下面是dbr_replay_cust_options.gif的描述" title="下面是dbr_replay_cust_options.gif的描述" longdesc="img_text/dbr_replay_cust_options.html"><br><a href="img_text/dbr_replay_cust_options.html">说明描述dbr_replay_cust_options.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>将捕获的连接字符串重新映射到指向重放系统的连接字符串。请注意，您需要重新映射每个捕获连接。例如，在上图中，您需要重新映射capture12_1和capture12_adc的连接。</p>
                           <p>（您可以重新映射每个工作负载的连接以进行整合重播。有一个Capture Name下拉列表可以选择工作负载。）</p>
                           <p>单击“ <span class="bold">连接映射”</span>选项卡。您可以使用多种方法重新映射捕获的连接字符串。您可以选择：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过选择此选项并输入要<span class="bold">使用的连接描述符，为所有客户端连接使用单个连接描述符</span> 。连接描述符应指向重放系统。
                                 </p>
                                 <p>要测试连接，请单击“ <span class="bold">测试连接”</span> 。如果连接描述符有效，则会显示一条信息消息，通知您连接已成功。
                                 </p>
                              </li>
                              <li>
                                 <p>通过选择此选项并输入要使用的<span class="bold">网络服务名称，为所有客户端连接使用单个TNS网络服务名称</span> 。所有重播客户端必须能够解析网络服务名称，这可以使用本地<code class="codeph">tnsnames.ora</code>文件来完成。
                                 </p>
                              </li>
                              <li>
                                 <p>通过选择此选项，为<span class="bold">工作负载中捕获的每个客户端连接描述符使用单独的连接描述符或网络服务名称，</span>并为每个捕获系统值输入重放客户端将使用的相应重播系统值。如果在“初始化选项”步骤中选择了“使用先前重播中的重播选项”选项，则会选择“使用单独的连接描述符”选项，并且以前的重播系统值将显示在下面的文本字段中。
                                 </p>
                                 <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-5CB0B54B-696E-478D-8508-9FD63A1BE52C">
                                    <p class="notep1">注意：</p>
                                    <p>此选项不适用于合并重播。</p>
                                 </div>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>使用重播参数指定重播选项，这些参数控制重放的某些方面。</p>
                           <p>要修改重播行为，请单击“ <span class="bold">重播参数”</span>选项卡，然后为每个重播参数输入所需的值。建议使用默认值。有关设置重播参数的信息，请参阅。
                           </p>
                           <p>设置重播参数后，单击“ <span class="bold">下一步”</span> 。
                           </p>
                           <p>将显示“重播工作负载：准备重播客户端”页面。</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-AB0197E8-E153-4CBA-BA04-9D66CA8AA6A3"><img src="img/dbr_replay_prep_clients.gif" width="433" alt="下面是dbr_replay_prep_clients.gif的描述" title="下面是dbr_replay_prep_clients.gif的描述" longdesc="img_text/dbr_replay_prep_clients.html"><br><a href="img_text/dbr_replay_prep_clients.html">说明说明dbr_replay_prep_clients.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>确保重播客户端已准备好重播：</p>
                           <p>在继续之前，必须设置重播客户端。</p>
                           <ol type="a">
                              <li>
                                 <p>单击“ <span class="bold">估计”</span>以确定重播所需的重播客户端和CPU数量。
                                 </p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">添加重播客户端主机”</span>以为重播客户端添加一个或多个主机。（如果您不想添加任何重播客户端主机，您仍然可以从Enterprise Manager外部的命令行继续并启动重播客户端）。
                                 </p>
                                 <p>将显示“搜索并选择：重播客户端主机”弹出窗口。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>指定目标名称，然后单击“开始<span class="bold">”</span> ，或者只需单击“ <span class="bold">转到”</span>以显示可用主机的完整列表。
                                       </p>
                                    </li>
                                    <li>
                                       <p>选择主机，然后单击“ <span class="bold">选择”</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>当主机名出现在“重播客户端主机”表的“目标”列中时，请根据估计结果指定建议的重播客户端数，然后确保为主机列出的CPU数量满足估计结果中的最小建议。您应该为每个捕获的工作负载启动至少一个重播客户端。</p>
                              </li>
                              <li>
                                 <p>在Configured列中，单击<span class="bold">No</span>链接以在出现的弹出窗口中配置重播客户端主机。
                                 </p>
                              </li>
                              <li>
                                 <p>在弹出窗口中完成输入后，单击“ <span class="bold">应用”</span> 。“已配置”列现在在“重播客户端主机”表中显示“是”。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">下一步”</span>以启动重播客户端并显示“重播工作负载：等待客户端连接”页面。
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-376B55C6-B97E-4C67-B49F-0093C1087C90"><img src="img/dbr_replay_client.gif" width="444" alt="下面是dbr_replay_client.gif的描述" title="下面是dbr_replay_client.gif的描述" longdesc="img_text/dbr_replay_client.html"><br><a href="img_text/dbr_replay_client.html">插图描述dbr_replay_client.gif</a></div>
                           <!-- class="figure" -->
                           <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-D0B1A7A9-26D6-42B9-BC1E-FA0DFB2CCEA8">
                              <p class="notep1">注意：</p>
                              <p>如果您已从“企业”菜单进入此过程中的此步骤，则还需要输入重播作业和重播结果存储主机的凭据。</p>
                           </div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>启动重播客户端后，重播客户端连接将显示在“客户端连接”表中。</p>
                              </li>
                              <li>
                                 <p>如果连接了重播客户端，则时钟下方的文本会发生变化。</p>
                              </li>
                              <li>
                                 <p>连接至少一个重播客户端时，将填充“客户端连接”表。</p>
                              </li>
                           </ul>
                           <p>当所有重播客户端都已连接后，在页面底部输入主机凭据以启动重播作业，然后单击“ <span class="bold">下一步”</span>以显示“重播工作负载：审阅”页面。
                           </p>
                        </li>
                        <li>
                           <p>查看为工作负载重放定义的选项和参数。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>连接的重播客户端的值必须至少为1才能成功提交重播工作负载作业。</p>
                              </li>
                              <li>
                                 <p>仅当至少连接了一个重播客户端时，才会启用“提交”按钮。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果所有内容都按预期显示，请单击“ <span class="bold">提交”</span>以提交重播作业。
                           </p>
                           <p>重播开始后，此重播的“数据库重放”页面的“主页”选项卡将重新显示，并显示一条系统消息，指出“工作负载重放已开始”。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-4EEE0BB6-83D3-44EC-BB11-A204B438C946">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="在工作负载捕获期间，将捕获用于连接到生产系统的连接字符串。为了使重放成功，您需要将这些连接字符串重新映射到重放系统。然后，重播客户端可以使用重新映射的连接连接到重放系统。">连接重映射</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="还原数据库并重新映射连接和用户后，您可以设置相应的重播选项。">指定重播选项</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" title="此时，您需要设置并启动重播客户端，这些客户端将连接到重放系统并根据工作负载中捕获的内容发送请求。">设置重播客户端</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" title="本节介绍如何使用Enterprise Manager监视活动工作负载重放。">监控活动工作负载重放</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG4241"></a><div class="props_rev_3"><a id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845" name="GUID-F4B0C255-243D-4C85-A003-F876AA25E845"></a><h3 id="RATUG-GUID-F4B0C255-243D-4C85-A003-F876AA25E845" class="sect3"><span class="enumeration_section">12.3</span>使用Enterprise Manager设置重播计划和参数</h3>
               <div>
                  <div><span>通过重播计划功能，您可以扩展捕获的工作负载的实例，使其包含在整合的重放中，然后控制重放中实例的相对回放计划。</span> 通过更新每个实例的活动会话图表的对齐，可视地显示捕获的工作负载实例的相对调度。
                  </div>
                  <div class="section">
                     <p>此功能适用于Cloud Control Database插件12.1.0.5及更高版本。</p>
                     <p>此功能使您可以完成以下任务：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">偏移实例，以便它们以不同的时间间隔执行</span></p>
                           <p>您可以调整每个工作负载实例的相对重播开始时间，以使Capture工作负载的计划实例的平均活动会话高峰时间保持一致。工作负载峰值的这种对齐可能会最大化系统负载，因此您可以试验测试系统在不同工作负载条件下的响应方式。</p>
                        </li>
                        <li>
                           <p><span class="bold">通过添加捕获的工作负载的实例来扩展重放工作负载</span></p>
                           <p>每个添加的实例都独立于其他实例进行重放。</p>
                           <p>通过指定工作负载的多个实例来扩展工作负载时，默认和建议的配置是重放其中一个实例中的DML语句。所有其他实例仅重放查询（仅限就绪）语句。</p>
                           <p>例如，如果工作负载具有对员工数据库的SQL插入，通常您希望只有一个实例执行Insert，而其他实例将绕过使用此Insert修改数据库的用户调用。但是，您可以通过取消选中“仅限重播查询”复选框来重写工作负载中的所有语句，从而覆盖实例的默认设置。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-9B423D14-AF82-4262-91D2-9FBE244D6EFF">要访问“计划重播计划”页面：</p>
                     <ol>
                        <li>
                           <p>在Database Replay主页中，单击<span class="bold">Replay Tasks</span>选项卡。
                           </p>
                        </li>
                        <li>
                           <p>单击具有多个工作负荷的现有重播任务的名称，以导航到“重播任务”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>以创建新重播。
                           </p>
                        </li>
                        <li>
                           <p>在“创建重播”弹出窗口中提供必需信息，然后单击“ <span class="bold">确定”</span> 。</p>
                           <p>新重播将显示在“重播”表中。</p>
                        </li>
                        <li>
                           <p>在Replays表中单击新重播的名称。</p>
                           <p>任务列表现在出现在重播页面中。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">计划重播计划”</span>链接。
                           </p>
                           <p>将显示“计划重播计划”页面。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-1123ECD6-228B-4D99-9AB6-C7FDFF39F1C9">要扩大重播次数：</p>
                     <ol>
                        <li>
                           <p>在“添加工作负载实例”按钮旁边的下拉列表中，选择要为其添加实例的“捕获”工作负载。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">添加工作负载实例”</span>以添加实例。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-D7CED3C3-49D2-4657-8394-BDA494B90B4F">安排时间间隔：</p>
                     <ol>
                        <li>
                           <p>在“重播延迟”列中，为第一个捕获实例保留默认值0，或者在实例开始执行之前调整所需的分钟数。</p>
                        </li>
                        <li>
                           <p>对每个捕获实例重复上述步骤，直到您设置了所有值来表示您希望为测试需求执行性能峰值的方式。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-156DC0F0-D6EE-4876-B0F7-A53F1E87D549">要自动对齐工作负载峰值：</p>
                     <ol>
                        <li>
                           <p>单击“ <span class="bold">自动对齐”</span>按钮。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-4CD4E1F9-3984-4B00-9AA9-5E0C4474ECD1">要指定仅查询实例：</p>
                     <ol>
                        <li>
                           <p>对于您希望仅查询的每个实例，请启用“ <span class="bold">仅重播查询”</span>复选框。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-F64C386D-48E8-4A47-96FE-B148A679262C">要查看更新的计划：</p>
                     <ol>
                        <li>
                           <p>在“数据库重放”页面的“重播任务”选项卡中，单击包含计划重播的重播任务链接。</p>
                           <p>将显示“重播任务”页面。</p>
                        </li>
                        <li>
                           <p>单击“重播”表中的计划重播。</p>
                        </li>
                        <li>
                           <p>在“重播”页面中选择“审阅”选项卡。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG148"></a><div class="props_rev_3"><a id="GUID-64593639-9102-4C30-8EB9-71F28ABED05A" name="GUID-64593639-9102-4C30-8EB9-71F28ABED05A"></a><h3 id="RATUG-GUID-64593639-9102-4C30-8EB9-71F28ABED05A" class="sect3"><span class="enumeration_section">12.4</span>使用Enterprise Manager监控工作负载重播</h3>
               <div>
                  <div><span>本节介绍如何使用Enterprise Manager监视工作负载重放。监视工作负载重放的主要工具是Oracle Enterprise Manager。</span> 使用Enterprise Manager，您可以：</div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>监视或停止活动工作负载重播</p>
                     </li>
                     <li>
                        <p>查看已完成的工作负载重播</p>
                     </li>
                  </ul>
                  <p>如果Oracle Enterprise Manager不可用，您可以使用API和视图监视工作负载重放，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" title="本节介绍如何使用API和视图监视工作负载重放。">使用API监视工作负载重放</a> ”中所述</span> 。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" title="本节介绍如何使用Enterprise Manager监视活动工作负载重放。">监视活动工作负载重播</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-D482064E-6B26-400F-8D96-B7686F887B70" title="本节介绍如何使用Enterprise Manager查看已完成的工作负载重放。">查看已完成的工作负载重播</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG263"></a><a id="RATUG149"></a><div class="props_rev_3"><a id="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" name="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071"></a><h4 id="RATUG-GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" class="sect4"><span class="enumeration_section">12.4.1</span>监视活动工作负载重播</h4>
                  <div>
                     <p>本节介绍如何使用Enterprise Manager监视活动工作负载重放。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071__GUID-2AFC2F82-E69F-4A6A-BC43-6DED6B9B4401">监视活动工作负载重放：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在“数据库重放”页面中，单击“ <span class="bold">重播任务”</span>选项卡。</span></li>
                        <li class="stepexpand"><span>单击包含要监视重播进度的重播的重播任务的名称。</span></li>
                        <li class="stepexpand"><span>在“重播任务”页面的“重播”部分中，单击“创建重播”向导中已提交以进行处理的重播的名称。（此重播的“状态”列应显示“正在进行”。）</span><div>
                              <p>将显示“数据库重播”页面的“主页”选项卡，“重播摘要”将显示“正在运行”状态。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>重放进度图表中的重播行在重放过程中动态更新。您可以单击“刷新”按钮更新图表。</p>
                                 </li>
                                 <li>
                                    <p>重播进度图表中的用户调用行指示数据库相对于捕获同时服务的工作负载量。</p>
                                 </li>
                                 <li>
                                    <p>在重播完成之前，重播发散摘要的数据不可用。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="RATUG286"></a><a id="RATUG150"></a><div class="props_rev_3"><a id="GUID-D482064E-6B26-400F-8D96-B7686F887B70" name="GUID-D482064E-6B26-400F-8D96-B7686F887B70"></a><h4 id="RATUG-GUID-D482064E-6B26-400F-8D96-B7686F887B70" class="sect4"><span class="enumeration_section">12.4.2</span>查看已完成的工作负载重播</h4>
                  <div>
                     <p>本节介绍如何使用Enterprise Manager查看已完成的工作负载重放。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-1EF6243C-817E-47AF-9EF3-538DF526DB9F">要查看已完成的工作负载重播：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在“数据库重放”页面中，单击“ <span class="bold">重播任务”</span>选项卡。</span></li>
                        <li class="stepexpand"><span>单击包含要查看的已完成重播的重播任务的名称。</span></li>
                        <li class="stepexpand"><span>在“重播任务”页面的“重播”部分中，单击“创建重播”向导中已提交以进行处理的重播的名称。（此重播的“状态”列应显示“已完成”。）</span><div>
                              <p>将显示“数据库重播”页面的“主页”选项卡，“重播摘要”将显示“已完成状态”。</p>
                              <div class="figure" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-C0EDA23D-04BA-45A9-81DB-3CF9C78050D5"><img src="img/dbr_replay_completed.gif" width="508" alt="下面是dbr_replay_completed.gif的描述" title="下面是dbr_replay_completed.gif的描述" longdesc="img_text/dbr_replay_completed.html"><br><a href="img_text/dbr_replay_completed.html">说明dbr_replay_completed.gif的描述</a></div>
                              <!-- class="figure" -->
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>“用户调用”图表中的重播行以图形方式表示从开始到结束的整个重播过程中的重放进度。</p>
                                    <p>该图表显示了在用户调用方面，与工作负载捕获期间的已用时间相比，重放相同工作负载所花费的时间。如果重放行位于Capture行的上方或左侧，则重播系统比捕获系统更快地处理工作负载。</p>
                                 </li>
                                 <li>
                                    <p>在Replay Divergence Summary下，重播系统和捕获系统之间的任何错误和数据差异在重放期间显示为分散的数据库调用。您可以使用分散的总呼叫百分比作为重播质量的度量。</p>
                                    <p>要查看有关分支呼叫的详细信息，请单击“计数”列中与分叉呼叫类型对应的链接，以访问“重播期间的分散呼叫”页面。“重放期间的分散呼叫”页面显示最相关的重播呼叫集，这些呼叫与通过基于公共属性值和指定的过滤条件对它们进行分组而捕获的工作负载不同。要查看有关特定分支调用的详细信息（如调用属性，SQL文本和绑定变量），请单击SQL ID列中的相应链接以显示Replay Diverged Statement页面。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>要返回“数据库重放”页面，请单击“数据库重放”面包屑。</span><div>
                              <div class="infoboxnotealso" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-312E464F-D7AA-461F-B1F4-F712B4256A40">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="analyzing-captured-and-replayed-workloads.html#GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E" title="本章介绍如何使用各种数据库重放报告分析捕获和重放的工作负载。">分析捕获的和重放的工作负载</a> ”</span>以获取有关访问工作负载重放报告的信息</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="RATUG4242"></a><div class="props_rev_3"><a id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" name="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490"></a><h3 id="RATUG-GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" class="sect3"><span class="enumeration_section">12.5</span>在企业管理器外部导入重播</h3>
               <div>
                  <div><span>与导入Enterprise Manager外部的工作负载一样，您可以将重播导入Enterprise Manager以对其进行管理。</span> 要导入重播，请从重播任务导入重播，该重播任务可以包含一个或多个工作负载以及一个或多个重放。重放任务位于数据库重放层次结构的顶部，并充当这些其他从属组件的容器。
                  </div>
                  <div class="section">
                     <p>要导入的重放可以在测试数据库中运行，也可以完成重放并将重放目录存储在文件系统中。</p>
                     <p>此功能适用于Cloud Control Database插件12.1.0.5及更高版本。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-7EBF83FD-BED6-463C-88F0-79B1FED9E0FA">要导入企业管理器外部的重播：</p>
                     <ol>
                        <li>
                           <p>在“数据库重放”页面中，单击“ <span class="bold">重播任务”</span>选项卡，然后选择所需的重播任务。
                           </p>
                           <p>将显示“重播任务”页面。</p>
                        </li>
                        <li>
                           <p>单击“重播”部分中的“ <span class="bold">导入</span> ”。
                           </p>
                           <p>将显示“导入重播：源”页面</p>
                        </li>
                        <li id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">
                           <p>选择可用于导入重播的三个选项之一，然后单击“ <span class="bold">下一步”</span> 。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">从文件系统中的目录导入一个或多个已完成的重播</span></p>
                                 <p>此选项通常适用于使用API创建的重播，您现在可以将其导入Enterprise Manager以进行后续处理。在这种情况下，企业管理器可能不一定管理重播数据库。</p>
                              </li>
                              <li>
                                 <p><span class="bold">从数据库目标导入一个或多个已完成的重播</span></p>
                                 <p>在这种情况下，企业管理器可能已经在管理重放数据库。重放可以在这个数据库上完成，或者可以像上面的选项那样加载。</p>
                              </li>
                              <li>
                                 <p><span class="bold">附加到在数据库目标中运行的此重播任务的重播</span></p>
                                 <p>此选项与上面的选项类似，但此重播仍在进行中，而不是已完成的重播。</p>
                              </li>
                           </ul>
                           <p>将显示“导入重播：数据库”页面。</p>
                        </li>
                        <li>
                           <p>单击<span class="bold">“数据库目标”字段旁边的搜索图标，然后从显示的弹出窗口中选择一个数据库。</span></p>
                           <div class="infoboxnote" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-642C727C-0293-42F0-91E1-6E404F3CC72B">
                              <p class="notep1">注意：</p>
                              <p>读取重播的数据库的目标版本必须至少与您在重播任务中使用的目标版本一样高。例如，如果重播任务使用Oracle Database 12x，则您选择读取重播的数据库必须至少为12x版本。</p>
                           </div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>系统现在请求数据库和主机凭据。</p>
                              </li>
                              <li>
                                 <p>在上一步中，如果您选择从文件系统中的目录导入一个或多个已完成的重播，则系统还需要工作负载位置。</p>
                              </li>
                              <li>
                                 <p>重放任务可以根据重放任务中包含的工作负载数量来确定这是否是整合重播。如果这是一个整合重播，则此步骤会要求您输入工作负载位置的整合重播目录。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>为上面的步骤提供必要的输入，然后单击“ <span class="bold">下一步”</span> 。
                           </p>
                           <p>将显示“导入重播：重播”页面。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果在步骤<a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3中</a>选择“从文件系统中的目录导入一个或多个已完成的重播”，则此页面将提供“加载重播”按钮。
                                 </p>
                              </li>
                              <li>
                                 <p>如果在步骤<a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3中</a>选择“从数据库目标导入一个或多个已完成的重播”或“附加到在数据库目标中运行的此重播任务的重播”，则此页面将提供“发现重播”按钮。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">加载重播”</span>或“ <span class="bold">发现重播”</span> ，具体取决于您在步骤<a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3中</a>的选择可用的按钮。
                           </p>
                           <p>如果找到，系统会在Discovered Replays表中显示一个或多个重放。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">下一步”</span>以加载重播，或选择一个或多个重播，然后单击“ <span class="bold">下一步”</span>继续导入重播。
                           </p>
                           <p>将显示“导入重播：审阅”页面。</p>
                        </li>
                        <li>
                           <p>如果一切按预期显示，请单击“ <span class="bold">提交”</span> 。
                           </p>
                           <p>数据库重播页面重新出现并显示一条消息，指出作业已成功提交。表格中用于导入重播的“状态”列将显示“正在进行”。</p>
                           <div class="infobox-tip" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-B1BC3FCA-2AEF-4BED-81DB-9005C322B0AF">
                              <p class="notep1">小费：</p>
                              <p>您可以通过单击“审核”步骤中刚刚提交的重播名称来检查作业的进度。将显示“重播摘要”页面，您可以单击“数据库重播导入作业”链接以查看作业执行步骤的进度。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG151"></a><div class="props_rev_3"><a id="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" name="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602"></a><h3 id="RATUG-GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" class="sect3"><span class="enumeration_section">12.6</span>使用API重播数据库工作负载</h3>
               <div>
                  <div><span>本节介绍如何使用<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包重播数据库工作负载。</span> 您还可以使用Oracle Enterprise Manager重播数据库工作负载，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-B97B7550-A947-45D0-A31B-636A6427DD86" title="本节介绍如何使用Enterprise Manager重播数据库工作负载。">使用Enterprise Manager重新映射数据库工作负载</a> ”中所述</span> 。
                  </div>
                  <p>使用<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包重播数据库工作负载是一个多步骤过程，涉及：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" title="在预处理工作负载捕获并正确准备测试系统之后，可以初始化重放数据。初始化重放数据会将必要的元数据加载到工作负载重放所需的表中。">初始化重播数据</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" title="初始化重放数据后，需要重新映射工作负载捕获中使用的连接字符串，以便用户会话可以连接到相应的数据库并执行重放期间捕获的外部交互。">重新映射连接</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" title="除了重新映射连接字符串之外，您还可以使用新架构或用户，而不是工作负载捕获中捕获的用户。">重新映射用户</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" title="初始化重放数据并重新映射连接和用户后，您需要准备数据库以进行工作负载重放。">设置工作负载重播选项</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" title="本节介绍如何添加和删除工作负载重放过滤器，以及如何创建和使用重放过滤器集。">定义工作负载重放过滤器和重放过滤器集</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" title="本节介绍如何为工作负载重放设置超时操作。">设置重播超时操作</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" title="在开始工作负载重放之前，需要执行任务。">开始工作负载重播</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" title="暂停工作负载重放将暂停重播客户端发出的所有后续用户调用，直到重新启动或取消工作负载重放为止。">暂停工作负载重播</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" title="本节介绍如何恢复暂停的工作负载重播。">恢复工作负载重播</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" title="本节介绍如何取消工作负载重放。">取消工作负载重播</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="您可以从重放目录对象中检索有关工作负载捕获的所有信息，以及从目录中检索工作负载重放尝试的历史记录。">检索有关工作负载重播的信息</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" title="加载工作负载重放的差异数据会将从重播目录检索到的每次重播尝试导入行导入DBA_WORKLOAD_REPLAY_DIVERGENCE视图，该视图显示有关重放尝试期间分歧的呼叫和错误的信息。">加载工作负载重放的分歧数据</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-13B2F26C-2655-4900-94A2-60322707D248" title="您可以删除为单个工作负载重放或给定目录对象中的所有工作负载重放检索的信息。">删除有关工作负载重播的信息</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" title="导出AWR数据可以对工作负载进行详细分析。">导出工作负载重播的AWR数据</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" title="从重放系统导出AWR数据后，您可以将AWR数据导入另一个系统。导入AWR数据可以对工作负载进行详细分析。">导入工作负载重播的AWR数据</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602__GUID-77705B7E-E09F-4948-B51C-B68BADF2B020">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包的信息，请<code class="codeph">DBMS_WORKLOAD_REPLAY</code> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RATUG152"></a><div class="props_rev_3"><a id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" name="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD"></a><h4 id="RATUG-GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" class="sect4"><span class="enumeration_section">12.6.1</span>初始化重播数据</h4>
                  <div>
                     <div><span>在预处理工作负载捕获并正确准备测试系统之后，可以初始化重放数据。初始化重放数据会将必要的元数据加载到工作负载重放所需的表中。</span> 例如，捕获的连接字符串被加载到表中，在表中可以重新映射它们以进行重放。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-3B869885-D5DE-42E2-A3B8-8CD8EC813247">要初始化重播数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e3509" class="indexterm-anchor"></a> <code class="codeph">INITIALIZE_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.INITIALIZE_REPLAY（replay_name =&gt;'dec06_102'，replay_dir =&gt;'dec06'，plsql_mode =&gt;'top_level'）;结束; /</pre><p>在此示例中， <code class="codeph">INITIALIZE_REPLAY</code>过程将来自<code class="codeph">dec06</code>目录的预处理工作负载数据加载到数据库中。
                              </p>
                              <p>此示例中的<code class="codeph">INITIALIZE_REPLAY</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">replay_name</code> required参数指定可与其他API一起使用的重播名称，以检索先前重放的设置和过滤器。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">replay_dir</code> required参数指定包含将要重播的工作负载捕获的目录。
                                    </p>
                                 </li>
                                 <li>
                                    <p>可选的<code class="codeph">plsql_mode</code>参数指定PL / SQL重放模式。
                                    </p>
                                    <p>可以为<code class="codeph">plsql_mode</code>参数设置这两个值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">top_level</code> ：只有顶级PL / SQL调用。这是默认值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">extended</code> ：如果内部没有记录SQL，则在PL / SQL或顶级PL / SQL中执行SQL。非PL / SQL调用将以通常的方式重放。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-A1145984-A0AC-457E-9398-80F039225CAC">
                           <p class="notep1">注意：</p>
                           <p>要在加密工作负载捕获上运行<code class="codeph">INITIALIZE_REPLAY</code> ，您需要使用<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）标识符设置密码。密码存储在软件密钥库中。您可以从<code class="codeph">DBA_WORKLOAD_CAPTURES</code>视图中查找工作负载捕获是否已加密。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-CFEA8F0C-B0DB-4D13-B669-80B7B1780564">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" title="本节介绍如何使用DBMS_WORKLOAD_REPLAY包预处理捕获的工作负载。">使用API预处理数据库工作负载</a> ”，</span>以获取有关预处理工作负载捕获的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="正确准备重播系统和规划工作负载重放可确保重放准确。">重放数据库工作负载的步骤</a> ”，</span>用于准备测试系统的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG153"></a><div class="props_rev_3"><a id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" name="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0"></a><h4 id="RATUG-GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" class="sect4"><span class="enumeration_section">12.6.2</span>重新映射连接</h4>
                  <div>
                     <div><span>初始化重放数据后，需要重新映射工作负载捕获中使用的连接字符串，以便用户会话可以连接到相应的数据库并执行重放期间捕获的外部交互。</span> 要查看连接映射，请使用<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0__GUID-E5E82D13-86F5-422E-8515-B62E7958E954">要重新映射连接：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e3693" class="indexterm-anchor"></a> <code class="codeph">REMAP_CONNECTION</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.REMAP_CONNECTION（connection_id =&gt; 101，replay_connection =&gt;'dlsun244：3434 / bjava21'）;结束; /</pre><p>在此示例中，对应于连接ID 101的连接将使用由<code class="codeph">replay_connection</code>参数定义的新连接字符串。
                              </p>
                              <p>此示例中的<code class="codeph">REMAP_CONNECTION</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">connection_id</code> required参数在初始化重放数据时生成，并且对应于工作负载捕获的连接。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">replay_connection</code> required参数指定将在工作负载重放期间使用的新连接字符串。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0__GUID-BD17A90C-4AF7-4421-BEBE-C7BA4790CE69">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="在工作负载捕获期间，将捕获用于连接到生产系统的连接字符串。为了使重放成功，您需要将这些连接字符串重新映射到重放系统。然后，重播客户端可以使用重新映射的连接连接到重放系统。">连接重映射</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4068"></a><div class="props_rev_3"><a id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" name="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E"></a><h4 id="RATUG-GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" class="sect4"><span class="enumeration_section">12.6.3</span>重新映射用户</h4>
                  <div>
                     <div><span>除了重新映射连接字符串之外，您还可以使用新架构或用户，而不是工作负载捕获中捕获的用户。</span> 要查看捕获的用户，请使用<code class="codeph">DBA_WORKLOAD_USER_MAP</code>视图。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E__GUID-F3013C9E-0429-444C-BDB9-193D127EF568">要重新映射用户：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e3823" class="indexterm-anchor"></a> <code class="codeph">SET_USER_MAPPING</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.SET_USER_MAPPING（capture_user =&gt;'PROD'，replay_user =&gt;'TEST'）;结束; /</pre><p>在此示例中，捕获期间使用的<code class="codeph">PROD</code>用户在重放期间重新映射到<code class="codeph">TEST</code>用户。
                              </p>
                              <p>此示例中的<code class="codeph">SET_USER_MAPPING</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">capture_user</code> required参数指定在工作负载捕获期间捕获的用户名。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">replay_user</code> required参数指定在重放期间将捕获的用户重新映射到的用户名。如果此参数设置为<code class="codeph">NULL</code> ，则禁用映射。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E__GUID-FF53AEAC-2B70-4478-A493-05B9AD6F7C83">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" title="在工作负载捕获期间，将捕获用于连接到生产系统的数据库用户或模式的用户名。您可以选择将捕获的用户名重新映射到新用户或架构的用户名。">用户重映射</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG154"></a><div class="props_rev_3"><a id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" name="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D"></a><h4 id="RATUG-GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" class="sect4"><span class="enumeration_section">12.6.4</span>设置工作负载重播选项</h4>
                  <div>
                     <div><span>初始化重放数据并重新映射连接和用户后，您需要准备数据库以进行工作负载重放。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D__GUID-37953254-F9E7-4702-BCDB-D08A03D67A75">要在重播系统上准备工作负载重播：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e3963" class="indexterm-anchor"></a> <code class="codeph">PREPARE_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY（synchronization =&gt;'OBJECT_ID'，capture_sts =&gt; TRUE，sts_cap_interval =&gt; 300）;结束; /</pre><p>在此示例中， <code class="codeph">PREPARE_REPLAY</code>过程准备先前已初始化的重播。还将与工作负载重放并行捕获SQL调优集。
                              </p>
                              <p><code class="codeph">PREPARE_REPLAY</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">synchronization</code> required参数控制工作负载重放期间使用的同步类型。
                                    </p>
                                    <p>如果参数设置为<code class="codeph">TIME</code> ，则重放将使用与捕获相同的挂钟时序。所有数据库会话登录时间都将与捕获完全重放。同样，数据库会话中的事务之间的所有时间将被保留并在捕获时重放。这种同步方法将为大多数工作负载产生良好的重放。
                                    </p>
                                    <p>如果此参数设置为<code class="codeph">SCN</code> （默认值），则在重放期间将观察捕获的工作负载中的<code class="codeph">COMMIT</code>顺序，并且只有在所有相关<code class="codeph">COMMIT</code>操作完成后才会执行所有重放操作。这种同步方法可能会为某些工作负载带来显着的延迟。如果是这种情况，建议使用<code class="codeph">TIME</code>作为同步参数。
                                    </p>
                                    <p>如果此参数设置为<code class="codeph">OBJECT_ID</code> ，则只有在完成所有相关<code class="codeph">COMMIT</code>操作后，才会执行所有重放操作。相关<code class="codeph">COMMIT</code>操作必须符合以下条件：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在工作负载捕获中的给定操作之前发布</p>
                                       </li>
                                       <li>
                                          <p>至少修改了至少一个给定操作引用的数据库对象，无论是隐式还是显式</p>
                                       </li>
                                    </ul>
                                    <p>将此参数设置为<code class="codeph">OBJECT_ID</code>可以在工作负载重放期间为在工作负载捕获期间不引用相同数据库对象的<code class="codeph">COMMIT</code>操作提供更多并发性。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">connect_time_scale</code>参数缩放从工作负载捕获开始到会话与指定值连接的经过时间，并被解释为％值。使用此参数可以在重播期间增加或减少并发用户数。默认值为100。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">think_time_scale</code>参数缩放来自同一会话的两个连续用户调用之间的经过时间，并被解释为％值。将此参数设置为0将在重播期间尽快将用户调用发送到数据库。默认值为100。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">think_time_auto_correct</code>参数可在用户调用在重放期间完成的时间比在捕获期间花费更长时间时<code class="codeph">think_time_scale</code>调用之间的思考时间（基于<code class="codeph">think_time_scale</code>参数）。此参数可以设置为<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。如果工作负载重放花费的时间超过工作负载捕获，则将此参数设置为<code class="codeph">TRUE</code>可减少思考时间。默认值为<code class="codeph">TRUE</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">scale_up_multiplier</code>参数定义在重放期间扩展工作负载的次数。每个捕获的会话将同时重放此参数指定的次数。但是，每组相同的重放会话中只有一个会话将执行查询和更新。其余会话将仅执行查询。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">capture_sts</code>参数指定是否与工作负载重放并行捕获SQL调优集。如果此参数设置为<code class="codeph">TRUE</code> ，则可以在工作负载重放期间捕获SQL调优集，并使用SQL Performance Analyzer将其与另一个SQL调优集进行比较，而无需重新执行SQL语句。这使您可以在运行数据库重放时获取SQL性能分析器报告并比较更改之前和之后的SQL性能。您还可以使用<code class="codeph">EXPORT_AWR</code>过程导出生成的SQL调优集及其AWR数据，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" title="导出AWR数据可以对工作负载进行详细分析。">导出工作负载重播的AWR数据</a> ”中所述</span> 。
                                    </p>
                                    <p>Oracle RAC不支持此功能。使用<code class="codeph">DBMS_WORKLOAD_REPLAY</code>定义的工作负载重<code class="codeph">DBMS_WORKLOAD_REPLAY</code>不适用于SQL调整集捕获。此参数的默认值为<code class="codeph">FALSE</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">sts_cap_interval</code>参数指定从光标高速缓存捕获SQL调整集的持续时间（以秒为单位）。默认值为300。将此参数的值设置为低于默认值可能会导致某些工作负载产生额外开销，因此不建议这样做。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>有关设置这些参数的详细信息，请参阅<span class="q">“ <a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="还原数据库并重新映射连接和用户后，您可以设置相应的重播选项。">指定重播选项</a> ”</span> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D__GUID-CD94962C-3FF3-4A6E-A7C7-047279DD3DDE">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="正确准备重播系统和规划工作负载重放可确保重放准确。">重播数据库工作负载的步骤</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG264"></a><div class="props_rev_3"><a id="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" name="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF"></a><h4 id="RATUG-GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" class="sect4"><span class="enumeration_section">12.6.5</span>定义工作负载重播过滤器和重播过滤器集</h4>
                  <div>
                     <div><span>本节介绍如何添加和删除工作负载重放过滤器，以及如何创建和使用重放过滤器集。</span> 
                     </div>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296">添加工作负载重放过滤器</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96">删除工作负载重播过滤器</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-F07AE474-DA24-4FA9-A997-5C1472873070">创建重播过滤器集</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E">使用重播过滤器集</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF__GUID-C3F8EA34-2568-47A4-BDAC-7DFC298B59A9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" title="默认情况下，在工作负载重放期间重播所有捕获的数据库调用。您可以使用工作负载筛选器指定在工作负载重放期间要包含在工作负载中或从工作负载中排除的数据库调">使用带工作负载重放的过滤器</a> ”</span></p>
                     </div>
                  </div><a id="RATUG265"></a><div class="props_rev_3"><a id="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296" name="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296"></a><h5 id="RATUG-GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296" class="sect5"><span class="enumeration_section">12.6.5.1</span>添加工作负载重<span class="enumeration_section">放过</span>滤器</h5>
                     <div>
                        <div class="section">
                           <p>本节介绍如何添加要在重放过滤器集中使用的新过滤器。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296__GUID-6522CE7C-CA9C-43F2-88F2-470423AF7777">要添加新过滤器：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<a id="d22870e4327" class="indexterm-anchor"></a> <code class="codeph">ADD_FILTER</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.ADD_FILTER（fname =&gt;'user_ichan'，fattribute =&gt;'USER'，fvalue =&gt;'ICHAN'）;结束; /</pre><p>在此示例中， <code class="codeph">ADD_FILTER</code>过程添加名为user_ichan的过滤器，该过滤器可用于过滤掉属于用户名ICHAN的所有会话。</p>
                                 <p>此示例中的<code class="codeph">ADD_FILTER</code>过程使用以下参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">fname</code> required参数指定要添加的过滤器的名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">fattribute</code> required参数指定将应用过滤器的属性。有效值包括PROGRAM，MODULE，ACTION，SERVICE，USER和CONNECTION_STRING。您必须指定将在重播期间使用的有效捕获的连接字符串作为CONNECTION_STRING属性。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">fvalue</code> required参数指定将应用过滤器的相应属性的值。可以使用％等通配符和某些属性，例如模块和操作。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>添加所有工作负载重放过滤器后，您可以创建可在重放工作负载时使用的重放过滤器集。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG266"></a><div class="props_rev_3"><a id="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96" name="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96"></a><h5 id="RATUG-GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96" class="sect5"><span class="enumeration_section">12.6.5.2</span>删除工作负载重<span class="enumeration_section">放过</span>滤器</h5>
                     <div>
                        <div class="section">
                           <p>本节介绍如何删除工作负载重放过滤器。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96__GUID-305F5690-B735-4644-BBD1-4401D9154912">要删除工作负载重播过滤器：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<a id="d22870e4454" class="indexterm-anchor"></a> <code class="codeph">DELETE_FILTER</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.DELETE_FILTER（fname =&gt;'user_ichan'）;结束; /</pre><p>在此示例中， <code class="codeph">DELETE_FILTER</code>过程删除名为user_ichan的过滤器。
                                 </p>
                                 <p>此示例中的<code class="codeph">DELETE_FILTER</code>过程使用<code class="codeph">fname</code> required参数，该参数指定要删除的过滤器的名称。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG267"></a><div class="props_rev_3"><a id="GUID-F07AE474-DA24-4FA9-A997-5C1472873070" name="GUID-F07AE474-DA24-4FA9-A997-5C1472873070"></a><h5 id="RATUG-GUID-F07AE474-DA24-4FA9-A997-5C1472873070" class="sect5"><span class="enumeration_section">12.6.5.3</span>创建重播过滤器集</h5>
                     <div>
                        <div class="section">
                           <p>添加工作负载重放过滤器后，您可以创建一组重播过滤器以用于工作负载重放。创建重播过滤器集时，将使用自创建上一个重放过滤器集以来添加的所有工作负载重放过滤器。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F07AE474-DA24-4FA9-A997-5C1472873070__GUID-038B152F-FD36-4740-BAC2-43EAEDB19855">要创建重播过滤器集：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<a id="d22870e4562" class="indexterm-anchor"></a> <code class="codeph">CREATE_FILTER_SET</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.CREATE_FILTER_SET（replay_dir =&gt;'apr09'，filter_set =&gt;'replayfilters'，default_action =&gt;'INCLUDE'）;结束; /</pre><p>在此示例中， <code class="codeph">CREATE_FILTER_SET</code>过程创建名为replayfilters的重放过滤器集，它将重放所有捕获的<code class="codeph">apr09</code>目录中存储的重放调用，但重<code class="codeph">apr09</code>滤器定义的工作负载部分除外。
                                 </p>
                                 <p>此示例中的<code class="codeph">CREATE_FILTER_SET</code>过程使用以下参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">replay_dir</code>参数指定存储要过滤的重放的目录</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">filter_set</code>参数指定要创建的过滤器集的名称</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">default_action</code>参数确定是否应重播每个捕获的数据库调用，以及是否应将工作负载重放过滤器视为包含或排除过滤器。
                                       </p>
                                       <p>如果此参数设置为<code class="codeph">INCLUDE</code> ，则将重播所有捕获的数据库调用，但重放过滤器定义的工作负载部分除外。在这种情况下，所有重放过滤器都将被视为排除过滤器，因为它们将定义不会重放的工作负载部分。这是默认行为。
                                       </p>
                                       <p>如果此参数设置为<code class="codeph">EXCLUDE</code> ，则不会重播捕获的数据库调用，除了重放过滤器定义的工作负载部分。在这种情况下，所有重放过滤器都将被视为包含过滤器，因为它们将定义将要重播的工作负载部分。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG268"></a><div class="props_rev_3"><a id="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E" name="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E"></a><h5 id="RATUG-GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E" class="sect5"><span class="enumeration_section">12.6.5.4</span>使用重<span class="enumeration_section">放过</span>滤器集</h5>
                     <div>
                        <div class="section">
                           <p>一旦创建了重<code class="codeph">replay_dir</code>滤器集并初始化了重放，您就可以使用重<code class="codeph">replay_dir</code>滤器集来过滤<code class="codeph">replay_dir</code>目录中的重放。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E__GUID-FEE2C383-397B-4F96-BF91-6D3E23FB6B17">要使用重播过滤器集：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<a id="d22870e4702" class="indexterm-anchor"></a> <code class="codeph">USE_FILTER_SET</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.USE_FILTER_SET（filter_set =&gt;'replayfilters'）;结束; /</pre><p>在此示例中， <code class="codeph">USE_FILTER_SET</code>过程使用名为replayfilters的过滤器集。
                                 </p>
                                 <p>所述<code class="codeph">USE_FILTER_SET</code>在此示例过程使用<code class="codeph">filter_set</code>所需的参数，其指定在设置重放中使用的过滤器的名称。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="RATUG320"></a><div class="props_rev_3"><a id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" name="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064"></a><h4 id="RATUG-GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" class="sect4"><span class="enumeration_section">12.6.6</span>设置重播超时操作</h4>
                  <div>
                     <div><span>本节介绍如何为工作负载重放设置超时操作。</span> 您可以设置重播超时操作以中止在重放期间显着较慢的用户调用或导致重播挂起。例如，您可能希望设置重播超时操作以中止由数据库升级后的次优执行计划导致的失控查询。
                     </div>
                     <div class="section">
                        <p>启用重播超时操作后，如果用户调用延迟超出重播超时操作指定的条件，则会以<code class="codeph">ORA-15569</code>错误退出。中止的呼叫及其错误报告为错误分歧。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064__GUID-D680197D-0E1F-44E6-82F8-55D85B74E4D6">要设置重播超时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e4817" class="indexterm-anchor"></a> <code class="codeph">SET_REPLAY_TIMEOUT</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.SET_REPLAY_TIMEOUT（enabled =&gt; TRUE，min_delay =&gt; 20，max_delay =&gt; 60，delay_factor =&gt; 10）;结束; /</pre><p>在此示例中， <code class="codeph">SET_REPLAY_TIMEOUT</code>过程定义了一个重播超时操作，如果重放期间的延迟超过60分钟，或者重放期间的延迟超过20分钟且经过的时间比捕获时间大10倍，则会中止用户调用经过的时间。
                              </p>
                              <p>此示例中的<code class="codeph">SET_REPLAY_TIMEOUT</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">enabled</code>参数指定是启用还是禁用重播超时操作。默认值为<code class="codeph">TRUE</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">min_delay</code>参数定义呼叫延迟的下限值（以分钟为单位）。仅当延迟超过此值时，才会激活重播超时操作。默认值为10。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">max_delay</code>参数定义呼叫延迟的上限值（以分钟为单位）。重播超时操作已激活，并在延迟超过此值时发出错误。默认值为120。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">delay_factor</code>参数定义了<code class="codeph">min_delay</code>和<code class="codeph">max_delay</code>之间的呼叫延迟的因子。当前重播经过的时间高于捕获经过时间与此值的乘积时，重放超时操作会发出错误。默认值为8。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064__GUID-2F38C1BF-8044-4F46-AD9A-97ACFA9D0DEA">要检索重播超时操作设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">GET_REPLAY_TIMEOUT</code>过程：</p><pre class="oac_no_warn" dir="ltr">DECLARE启用了BOOLEAN; min_delay NUMBER; max_delay NUMBER; delay_factor NUMBER; BEGIN DBMS_WORKLOAD_REPLAY.GET_REPLAY_TIMEOUT（启用，min_delay，max_delay，delay_factor）;结束; /</pre><p>此示例中的<code class="codeph">GET_REPLAY_TIMEOUT</code>过程返回以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">enabled</code>参数返回是启用还是禁用重播超时操作。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">min_delay</code>参数以分钟为单位返回呼叫延迟的下限值。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">max_delay</code>参数以分钟为单位返回呼叫延迟的上限值。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">delay_factor</code>参数返回延迟因子。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG155"></a><div class="props_rev_3"><a id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" name="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517"></a><h4 id="RATUG-GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" class="sect4"><span class="enumeration_section">12.6.7</span>启动工作负载重播</h4>
                  <div>
                     <div><span>在开始工作负载重放之前，需要执行任务。</span> 例如：</div>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>预处理捕获的工作负载，如<span class="q">“ <a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" title="本节介绍如何使用DBMS_WORKLOAD_REPLAY包预处理捕获的工作负载。">使用API预处理数据库工作负载</a> ”中所述</span></p>
                           </li>
                           <li>
                              <p>初始化重播数据，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" title="在预处理工作负载捕获并正确准备测试系统之后，可以初始化重放数据。初始化重放数据会将必要的元数据加载到工作负载重放所需的表中。">初始化重放数据</a> ”中所述</span></p>
                           </li>
                           <li>
                              <p>指定重播选项，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" title="初始化重放数据并重新映射连接和用户后，您需要准备数据库以进行工作负载重放。">设置工作负载重播选项</a> ”中所述</span></p>
                           </li>
                           <li>
                              <p>启动重播客户端，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" title="确定重放工作负载所需的重播客户端数量后，需要通过在安装它们的主机上以重播模式运行wrc可执行文件来启动重播客户端。">启动重播客户端</a> ”中所述</span></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-9449FCA6-71EB-42BD-99B5-A35B192E509B">
                           <p class="notep1">注意：</p>
                           <p>一旦开始工作负载重放，新的重播客户端将无法连接到数据库。仅重播在执行<code class="codeph">START_REPLAY</code>过程之前启动的客户端将用于重放捕获的工作负载。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-79338298-41C9-4A20-9B5D-D10F54510AEB">要开始重新启动工作负载：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e5057" class="indexterm-anchor"></a> <code class="codeph">START_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.START_REPLAY（）;结束; /</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-88A50B19-1619-482D-AD31-4942C9111EE8">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database Release 19c开始， <code class="codeph">DBA_RAT_CAPTURE_SCHEMA_INFO</code>视图为SQL语句提供<code class="codeph">login_schema</code>和<code class="codeph">current_schema</code>信息。在扩展模式下重播期间，如果遇到<code class="codeph">ORA-00942: table or view does not exist</code>错误，则使用<code class="codeph">DBA_RAT_CAPTURE_SCHEMA_INFO</code>和<code class="codeph">DBA_WORKLOAD_CAPTURE_SQLTEXT</code>视图查找发生错误的表。然后将表的必要权限授予发生错误的用户并重试重播;这可能会解决问题。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG269"></a><div class="props_rev_3"><a id="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" name="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E"></a><h4 id="RATUG-GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" class="sect4"><span class="enumeration_section">12.6.8</span>暂停工作负载重播</h4>
                  <div>
                     <div><span>暂停工作负载重放将暂停重播客户端发出的所有后续用户调用，直到重新启动或取消工作负载重放为止。</span> 将允许完成正在进行的用户呼叫。此选项使您可以暂时停止重播以执行更改并观察其对剩余重播的影响。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E__GUID-2C0B14EE-3E36-444D-B76F-BED50AAFE51F">暂停工作负载重放：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e5184" class="indexterm-anchor"></a> <code class="codeph">PAUSE_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.PAUSE_REPLAY（）;结束; /</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG270"></a><div class="props_rev_3"><a id="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" name="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F"></a><h4 id="RATUG-GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" class="sect4"><span class="enumeration_section">12.6.9</span>恢复工作负载重播</h4>
                  <div>
                     <p>本节介绍如何恢复暂停的工作负载重播。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F__GUID-E5AA734E-3AA0-4BAF-A001-E697928E1881">要恢复工作负载重播：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e5286" class="indexterm-anchor"></a> <code class="codeph">RESUME_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.RESUME_REPLAY（）;结束; /</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG156"></a><div class="props_rev_3"><a id="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" name="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053"></a><h4 id="RATUG-GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" class="sect4"><span class="enumeration_section">12.6.10</span>取消工作负载重播</h4>
                  <div>
                     <p>本节介绍如何取消工作负载重放。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053__GUID-B39C1EA3-FB5A-4B9D-B798-4A451F02A46D">要取消工作负载重播：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e5388" class="indexterm-anchor"></a> <code class="codeph">CANCEL_REPLAY</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.CANCEL_REPLAY（）;结束; /</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4258"></a><a id="RATUG4257"></a><div class="props_rev_3"><a id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" name="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA"></a><h4 id="RATUG-GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" class="sect4"><span class="enumeration_section">12.6.11</span>检索有关工作负载重播的信息</h4>
                  <div>
                     <div><span>您可以从重放目录对象中检索有关工作负载捕获的所有信息，以及从目录中检索工作负载重放尝试的历史记录。</span> 默认情况下，不会加载工作负载重放差异数据，但您可以选择性地选择加载此数据。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA__GUID-EA5AED55-3B4A-4494-8C62-C3469DBF7A4D">要检索有关工作负载重放的信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>调用<code class="codeph">DBMS_WORKLOAD_REPLAY</code> 。 <a id="d22870e5489" class="indexterm-anchor"></a> <code class="codeph">GET_REPLAY_INFO</code>函数。
                              </p>
                              <p><code class="codeph">GET_REPLAY_INFO</code>函数首先将行导入<code class="codeph">DBA_WORKLOAD_CAPTURES</code>视图，该视图包含有关工作负载捕获的信息。默认情况下，它仅导入以前未加载到<code class="codeph">DBA_WORKLOAD_REPLAYS</code>视图中的重放信息。此函数返回捕获目录的<code class="codeph">cap_id</code> （对于合并的捕获目录，返回的<code class="codeph">cap_id</code>为<code class="codeph">0</code> ），它可以与<code class="codeph">DBA_WORKLOAD_REPLAYS</code>视图中的<code class="codeph">CAPTURE_ID</code>列关联，以访问检索到的信息。
                              </p>
                              <p><code class="codeph">GET_REPLAY_INFO</code>函数使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">replay_dir</code>必需参数，指定工作负载重播目录对象的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">load_divergence</code>可选参数，指定是否加载分歧数据。此参数的默认值为<code class="codeph">FALSE</code> 。要加载<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>数据，将从重放目录检索到的每次重播尝试的行导入<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>视图，请将此参数设置为<code class="codeph">TRUE</code> 。或者，您可以使用<code class="codeph">LOAD_DIVERGENCE</code>过程在检索重放信息后有选择地为单个重播或目录对象中的所有重放<span class="q"><a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" title="Loading divergence data for workload replay imports rows for every replay attempt retrieved from the replay directory into the DBA_WORKLOAD_REPLAY_DIVERGENCE view, which displays information about diverged calls and errors during replay attempts.">加载分歧数据</a></span> ，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" title="加载工作负载重放的差异数据会将从重播目录检索到的每次重播尝试导入行导入DBA_WORKLOAD_REPLAY_DIVERGENCE视图，该视图显示有关重放尝试期间分歧的呼叫和错误的信息。">加载分散数据以进行工作负载重放</a> ”中所述</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA__GUID-68023FD6-46FF-4C90-8D4A-B7394AC98D27">
                        <p class="titleinexample">示例12-1检索有关工作负载重放的信息</p>
                        <p>以下示例说明如何检索有关工作负载捕获的信息以及名为<code class="codeph">jul14</code>的重放目录对象的工作负载重放尝试的历史记录，以及验证是否已检索到该信息。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE cap_id NUMBER; BEGIN cap_id：= DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO（replay_dir =&gt;'jul14'）; SELECT capture_id FROM dba_workload_replays WHERE capture_id = cap_id;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4260"></a><a id="RATUG4259"></a><div class="props_rev_3"><a id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" name="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E"></a><h4 id="RATUG-GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" class="sect4"><span class="enumeration_section">12.6.12</span>加载工作负载重放的分歧数据</h4>
                  <div>
                     <div><span>加载工作负载重放的差异数据<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>从重播目录检索到的每次重播尝试导入行导入<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>视图，该视图显示有关重放尝试期间分歧的呼叫和错误的信息。</span> 您可以选择为单个工作负载重放或给定目录对象中的所有工作负载重放加载差异数据。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E__GUID-17F224FE-14A4-4459-A18E-18AD25CFD88D">加载工作负载重放的差异数据：</p>
                        <ol>
                           <li>
                              <p>调用<code class="codeph">WORKLOAD_REPLAY</code> 。 <a id="d22870e5668" class="indexterm-anchor"></a>使用以下参数之一的<code class="codeph">LOAD_DIVERGENCE</code>过程：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">replay_id</code>参数指定要为其加载分歧数据的工作负载重放的ID。如果您只想为单个工作负载重放加载差异数据，请使用此参数。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">replay_dir</code>参数指定目录对象的名称（值区分大小写）。如果要为给定目录对象中的所有工作负载重放加载差异数据，请使用此参数。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>要检查分歧数据的加载状态，请在<code class="codeph">DBA_WORKLOAD_REPLAYS</code>视图中查询<code class="codeph">DIVERGENCE_LOAD_STATUS</code>列。
                              </p>
                              <p>值<code class="codeph">TRUE</code>表示加载了分歧数据，值<code class="codeph">FALSE</code>表示尚未加载。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E__GUID-FAA768FB-7EA7-45AB-8D48-A8B0F2F04711">
                        <p class="titleinexample">示例12-2加载单个工作负载重放的差异数据</p>
                        <p>以下示例显示如何使用<code class="codeph">replay_id</code>值<code class="codeph">12</code>加载工作负载重放的差异数据，并验证是否加载了分歧数据。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE rep_id NUMBER; BEGIN rep_id：= DBMS_WORKLOAD_REPLAY.LOAD_DIVERGENCE（replay_id =&gt; 12）; SELECT divergence_load_status FROM dba_workload_replays WHERE capture_id = rep_id;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4262"></a><a id="RATUG4261"></a><div class="props_rev_3"><a id="GUID-13B2F26C-2655-4900-94A2-60322707D248" name="GUID-13B2F26C-2655-4900-94A2-60322707D248"></a><h4 id="RATUG-GUID-13B2F26C-2655-4900-94A2-60322707D248" class="sect4"><span class="enumeration_section">12.6.13</span>删除有关工作负载重播的信息</h4>
                  <div>
                     <div><span>您可以删除为单个工作负载重放或给定目录对象中的所有工作负载重放检索的信息。</span> 可以使用<code class="codeph">GET_REPLAY_INFO</code>函数检索已删除的信息，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="您可以从重放目录对象中检索有关工作负载捕获的所有信息，以及从目录中检索工作负载重放尝试的历史记录。">检索有关工作负载重播的信息</a> ”中所述</span> 。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-13B2F26C-2655-4900-94A2-60322707D248__GUID-6B423274-60F9-459E-AC52-EF37A37294D7">要删除有关工作负载重放的信息：</p>
                        <ol>
                           <li>
                              <p>调用<code class="codeph">DBMS_WORKLOAD_REPLAY</code> 。 <a id="d22870e5819" class="indexterm-anchor"></a> <code class="codeph">DELETE_REPLAY_INFO</code>过程使用<code class="codeph">replay_id</code>参数。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">replay_id</code>参数指定要删除重播信息的工作负载重放的ID。如果您只想删除单个工作负载重放的信息，请使用此参数。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>默认情况下，删除有关工作负载重放的信息不会从磁盘中删除数据。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-13B2F26C-2655-4900-94A2-60322707D248__GUID-E81F42C4-998A-49BC-B711-0C60FD5EFD76">
                        <p class="titleinexample">示例12-3删除有关工作负载重放的信息</p>
                        <p>以下示例删除检索到的有关工作负载捕获的信息以及ID为<code class="codeph">2</code>的工作负载重放的工作负载重放尝试的历史记录。重放数据不会从磁盘中删除，因此可以通过调用<code class="codeph">GET_REPLAY_INFO</code>函数来检索，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="您可以从重放目录对象中检索有关工作负载捕获的所有信息，以及从目录中检索工作负载重放尝试的历史记录。">检索有关工作负载重播的信息</a> ”中所述</span> 。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.DELETE_REPLAY_INFO（replay_id =&gt; 2）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG157"></a><div class="props_rev_3"><a id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" name="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA"></a><h4 id="RATUG-GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" class="sect4"><span class="enumeration_section">12.6.14</span>导出工作负载重播的AWR数据</h4>
                  <div>
                     <div><span>导出AWR数据可以对工作负载进行详细分析。</span> 如果您计划在一对工作负载捕获或重放上运行AWR比较期报告，则还需要此数据。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA__GUID-5D331A3E-54BC-401F-9C46-9D7292F75ADA">要导出AWR数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e5955" class="indexterm-anchor"></a> <code class="codeph">EXPORT_AWR</code>程序：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_WORKLOAD_REPLAY.EXPORT_AWR（replay_id =&gt; 1）;结束; /</pre><p>在此示例中，将导出与重放ID为1的工作负载重放相对应的AWR快照，以及在工作负载重放期间可能已捕获的任何SQL调整集。</p>
                              <p><code class="codeph">EXPORT_AWR</code>过程使用<code class="codeph">replay_id</code> required参数，该参数指定将导出其AWR快照的重放的ID。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA__GUID-2F592A6D-2651-4F8B-B9E1-144CB547A1ED">
                           <p class="notep1">注意：</p>
                           <p>仅当在当前数据库中执行相应的工作负载重放且与原始重播时间段对应的AWR快照仍可用时，此过程才有效。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4195"></a><div class="props_rev_3"><a id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" name="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07"></a><h4 id="RATUG-GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" class="sect4"><span class="enumeration_section">12.6.15</span>导入工作负载重播的AWR数据</h4>
                  <div>
                     <div><span>从重放系统导出AWR数据后，您可以将AWR数据导入另一个系统。导入AWR数据可以对工作负载进行详细分析。</span> 如果您计划在一对工作负载捕获或重放上运行AWR比较期报告，则还需要此数据。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07__GUID-51A82109-537C-4E35-8C33-636A208DB1FF">要导入AWR数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a id="d22870e6073" class="indexterm-anchor"></a> <code class="codeph">IMPORT_AWR</code>功能：</p><pre class="oac_no_warn" dir="ltr">CREATE USER capture_awr SELECT DBMS_WORKLOAD_REPLAY.IMPORT_AWR（replay_id =&gt; 1，staging_schema =&gt;'capture_awr'）FROM DUAL;</pre><p>在此示例中，使用名为<code class="codeph">capture_awr</code>的临时模式导入与捕获ID为1的工作负载重放相对应的AWR快照。
                              </p>
                              <p>此示例中的<code class="codeph">IMPORT_AWR</code>过程使用以下参数：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">replay_id</code> required参数指定将导入其AWR快照的重播的ID。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">staging_schema</code> required参数指定当前数据库中有效模式的名称，该模式可以在将AWR快照从重播目录导入<code class="codeph">SYS</code> <code class="codeph">AWR</code>模式时用作临时区域。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07__GUID-793B5548-43B2-48FB-A4D1-7734659C234D">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">staging_schema</code>参数指定的模式包含与任何AWR表同名的任何表，则此函数将失败。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="RATUG302"></a><div class="sect2"><a id="GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" name="GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2"></a><h3 id="RATUG-GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" class="sect3"><span class="enumeration_section">12.7</span>使用API监控工作负载重放</h3>
               <div>
                  <div><span>本节介绍如何使用API和视图监视工作负载重放。</span> 您还可以使用Oracle Enterprise Manager监视工作负载重放，如<span class="q">“ <a href="replaying-a-database-workload.html#GUID-64593639-9102-4C30-8EB9-71F28ABED05A" title="本节介绍如何使用Enterprise Manager监视工作负载重放。监视工作负载重放的主要工具是Oracle Enterprise Manager。">使用Enterprise Manager监视工作负载重放</a> ”中所述</span> 。
                  </div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" title="在重放期间，重放系统和捕获系统之间的任何错误和数据差异都记录为分支呼叫。">检索有关分散呼叫的信息</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" title="本节概述了可以显示以监视工作负载重放的视图。">使用视图监视工作负载重播</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG303"></a><div class="props_rev_3"><a id="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" name="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79"></a><h4 id="RATUG-GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" class="sect4"><span class="enumeration_section">12.7.1</span>检索有关分散呼叫的信息</h4>
                  <div>
                     <p>在重放期间，重放系统和捕获系统之间的任何错误和数据差异都记录为分支呼叫。</p>
                     <div class="section">
                        <p>要检索有关分支调用的信息（包括其SQL标识符，SQL文本和绑定值），请调用<a id="d22870e6311" class="indexterm-anchor"></a> <code class="codeph">GET_DIVERGING_STATEMENT</code>函数使用以下参数：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">replay_id</code>参数设置为呼叫分散的重播ID</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">stream_id</code>参数设置为<code class="codeph">stream_id</code>呼叫的流ID</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">call_counter</code>参数设置为<code class="codeph">call_counter</code>呼叫的呼叫计数器</p>
                           </li>
                        </ul>
                        <p>要查看有关分歧呼叫的这些信息，请使用<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>视图。以下示例说明了函数调用：</p><pre class="oac_no_warn" dir="ltr">DECLARE r CLOB; ls_stream_id NUMBER; ls_call_counter NUMBER; ls_sql_cd VARCHAR2（20）; ls_sql_err VARCHAR2（512）; CURSOR c IS SELECT stream_id，call_counter FROM DBA_WORKLOAD_REPLAY_DIVERGENCE WHERE replay_id = 72; BEGIN OPEN c; LOOP FETCH c INTO ls_stream_id，ls_call_counter;当c％未发现时退出; DBMS_OUTPUT.PUT_LINE（ls_stream_id ||''|| ls_call_counter）; r：= DBMS_WORKLOAD_REPLAY.GET_DIVERGING_STATEMENT（replay_id =&gt; 72，stream_id =&gt; ls_stream_id，call_counter =&gt; ls_call_counter）; DBMS_OUTPUT.PUT_LINE（r）;结束循环;结束; /</pre><div class="infoboxnotealso" id="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79__GUID-B3EE3159-2C87-4886-B6DF-89FF48295F1F">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包的信息，请<code class="codeph">DBMS_WORKLOAD_REPLAY</code> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG158"></a><div class="props_rev_3"><a id="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" name="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29"></a><h4 id="RATUG-GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" class="sect4"><span class="enumeration_section">12.7.2</span>使用视图监控工作负载重播</h4>
                  <div>
                     <div><span>本节概述了可以显示以监视工作负载重放的视图。</span> 您需要DBA权限才能访问这些视图。
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_CAPTURES</code>视图列出了当前数据库中捕获的所有工作负载捕获。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_FILTERS</code>视图列出了当前数据库中定义的工作负载捕获的所有工作负载过滤器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_REPLAYS</code>视图列出了当前数据库中已重播的所有工作负载重放。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>视图使您可以查看有关<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code>呼叫的信息，例如重播标识符，流标识符和呼叫计数器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_DIV_SUMMARY</code>视图在<code class="codeph">DBA_WORKLOAD_DIV_SUMMARY</code>视图中显示重播差异信息的<code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_REPLAY_FILTER_SET</code>视图列出了当前数据库中定义的工作负载重放的所有工作负载过滤器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图列出了工作负载重放的连接映射信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">V$WORKLOAD_REPLAY_THREAD</code>视图列出了有关重播客户端的所有会话的信息。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29__GUID-28820D51-017F-4104-92CA-6FAD1516A412">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/index.html" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> <span class="italic"> </span>有关这些视图的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03378.oracle-database-vault-schemas-roles-and-accounts.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts."></meta>
      <meta name="description" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts."></meta>
      <title>Oracle Database Vault架构，角色和帐户</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="dba-operations-in-an-oracle-database-vault-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-vault-realm-apis.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="dba-operations-in-an-oracle-database-vault-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-vault-realm-apis.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault架构，角色和帐户</li>
            </ol>
            <a id="GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" name="GUID-AD6F5807-3927-466F-BCFF-E82FDA912493"></a><a id="DVADM013"></a>
            
            <h2 id="DVADM-GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" class="sect2"><span class="enumeration_chapter">13</span> Oracle Database Vault架构，角色和帐户</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='oracle-database-vault-schemas-roles-and-accounts'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF">Oracle Database Vault架构</a><br>Oracle Database Vault架构<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>支持Oracle Database Vault的管理和运行时处理。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832">Oracle Database Vault角色</a><br>Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F">注册期间创建的Oracle Database Vault帐户</a><br>您必须在注册过程中为Oracle Database Vault Owner和Oracle Database Vault Account Manager创建帐户。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC">备份Oracle Database Vault帐户</a><br>作为最佳实践，您应该维护<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色的备份帐户。
                  </li>
               </ul>
            </div>
            <a id="DVADM70325"></a><div class="props_rev_3"><a id="GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" name="GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF"></a><h3 id="DVADM-GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" class="sect3">Oracle Database Vault架构</h3>
               <div>
                  <p>Oracle Database Vault架构<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>支持Oracle Database Vault的管理和运行时处理。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4D275449-513A-4153-86EF-60620F2CD94D">DVSYS架构</a><br><code class="codeph">DVSYS</code>架构包含Oracle Database Vault数据库对象。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5">DVF架构</a><br><code class="codeph">DVF</code>架构是Oracle Database Vault <code class="codeph">DBMS_MACSEC_FUNCTION</code> PL / SQL程序包的所有者。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。">Oracle Database Vault架构，角色和帐户</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70326"></a><div class="props_rev_3"><a id="GUID-4D275449-513A-4153-86EF-60620F2CD94D" name="GUID-4D275449-513A-4153-86EF-60620F2CD94D"></a><h4 id="DVADM-GUID-4D275449-513A-4153-86EF-60620F2CD94D" class="sect4">DVSYS架构</h4>
                  <div>
                     <p><code class="codeph">DVSYS</code>架构包含Oracle Database Vault数据库对象。
                     </p>
                     <p>这些对象存储Oracle Database Vault配置信息，并支持Oracle Database Vault的管理和运行时处理。</p>
                     <p>在默认安装中， <code class="codeph">DVSYS</code>架构已锁定。<code class="codeph">DVSYS</code>架构还拥有<code class="codeph">AUDIT_TRAIL$</code>表。
                     </p>
                     <p>在多租户环境中， <code class="codeph">DVSYS</code>模式被视为通用模式，这意味着<code class="codeph">DVSYS</code>中的对象（表，视图，PL / SQL包等）可自动用于任何子可插拔数据库（PDB）。此外， <code class="codeph">DVSYS</code>架构帐户无法使用<code class="codeph">ALTER SESSION</code>语句切换到其他容器。
                     </p>
                     <p>Oracle Database Vault使用受保护的架构设计来保护<code class="codeph">DVSYS</code>架构。受保护的模式设计可防止模式不正确使用系统特权（例如， <code class="codeph">SELECT ANY TABLE</code> ， <code class="codeph">CREATE ANY VIEW</code>或<code class="codeph">DROP ANY</code> ）。
                     </p>
                     <p>Oracle Database Vault通过以下方式保护和保护<code class="codeph">DVSYS</code>架构：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>无法删除<code class="codeph">DVSYS</code>受保护的模式及其管理角色。默认情况下， <code class="codeph">DVSYS</code>帐户已被锁定。
                           </p>
                        </li>
                        <li>
                           <p>默认情况下，用户无法直接登录<code class="codeph">DVSYS</code>帐户。要控制用户直接登录此帐户的能力，您可以运行<code class="codeph">DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS</code>过程以防止用户登录，并运行<code class="codeph">DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS</code>过程以允许用户登录。
                           </p>
                        </li>
                        <li>
                           <p>诸如<code class="codeph">CREATE USER</code> ， <code class="codeph">ALTER USER</code> ， <code class="codeph">DROP USER</code> ， <code class="codeph">CREATE PROFILE</code> ， <code class="codeph">ALTER PROFILE</code>和<code class="codeph">DROP PROFILE</code>之类的<code class="codeph">DV_ACCTMGR</code>只能由具有<code class="codeph">DV_ACCTMGR</code>角色的用户发出。使用<code class="codeph">SYSDBA</code>管理权限登录的用户只有在允许通过修改“可以维护帐户/配置文件”规则集来执行此操作时才能发出这些语句。
                           </p>
                        </li>
                        <li>
                           <p>数据库定义语言（DDL）和数据操作语言（DML）命令的强大<code class="codeph">ANY</code>系统特权在受保护的模式中被阻止。这意味着必须由架构帐户本身创建<code class="codeph">DVSYS</code>架构中的对象。此外，必须通过对象权限授予来授权对模式对象的访问。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DVSYS</code>架构中的对象权限只能授予架构中的Database Vault管理角色。这意味着用户只能通过预定义的管理角色访问受保护的模式。
                           </p>
                        </li>
                        <li>
                           <p>只有受保护的模式帐户<code class="codeph">DVSYS</code>才能在Database Vault预定义的模式管理角色上发出<code class="codeph">ALTER ROLE</code>语句。<a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a>详细描述了Oracle Database Vault预定义的管理角色。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SYS.DBMS_SYS_SQL.PARSE_AS_USER</code>过程不能用于代表受保护的模式<code class="codeph">DVSYS</code>运行SQL语句。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-4D275449-513A-4153-86EF-60620F2CD94D__GUID-B6459163-57A2-432B-A45C-016CA56C9CD5">
                        <p class="notep1">注意：</p>
                        <p>数据库用户可以向Oracle Database Vault管理角色（例如<code class="codeph">DV_ADMIN</code>和<code class="codeph">DV_OWNER</code> ）授予其他对象权限和角色，前提是他们具有足够的权限。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" title="Oracle Database Vault架构DVSYS和DVF支持Oracle Database Vault的管理和运行时处理。">Oracle Database Vault架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70327"></a><div class="props_rev_3"><a id="GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" name="GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5"></a><h4 id="DVADM-GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" class="sect4">DVF架构</h4>
                  <div>
                     <p><code class="codeph">DVF</code>架构是Oracle Database Vault <code class="codeph">DBMS_MACSEC_FUNCTION</code> PL / SQL程序包的所有者。
                     </p>
                     <p>此程序包包含检索因子标识的函数。安装Oracle Database Vault后，安装过程会锁定<code class="codeph">DVF</code>帐户以更好地保护它。创建新因子时，Oracle Database Vault会为该因子创建新的检索函数并将其保存在此模式中。
                     </p>
                     <p>在多租户环境中， <code class="codeph">DVF</code>用户无法使用<code class="codeph">ALTER SESSION</code>语句切换到其他容器。
                     </p>
                     <p>默认情况下，用户无法直接登录<code class="codeph">DVF</code>帐户。要控制用户直接登录此帐户的能力，您可以运行<code class="codeph">DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS</code>过程以防止用户登录，并运行<code class="codeph">DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS</code>过程以允许用户登录。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" title="Oracle Database Vault架构DVSYS和DVF支持Oracle Database Vault的管理和运行时处理。">Oracle Database Vault架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70328"></a><div class="props_rev_3"><a id="GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" name="GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832"></a><h3 id="DVADM-GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" class="sect3">Oracle Database Vault角色</h3>
               <div>
                  <p>Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3">关于Oracle Database Vault角色</a><br>Oracle Database Vault提供了管理Oracle Database Vault所需的一组角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC">Oracle Database Vault角色的权限</a><br>Oracle Database Vault角色旨在提供分离任务的最大好处。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-573E923C-4307-49FF-A70F-39B38F91BD86">向用户授予Oracle Database Vault角色</a><br>您可以使用Enterprise Manager Cloud Control向用户授予Oracle Database Vault角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E">DV_OWNER数据库保管库所有者角色</a><br><code class="codeph">DV_OWNER</code>角色使您可以管理Oracle Database Vault角色及其配置。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812">DV_ADMIN数据库库配置管理员角色</a><br><code class="codeph">DV_ADMIN</code>角色控制Oracle Database Vault PL / SQL包。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4">DV_MONITOR数据库库监控角色</a><br><code class="codeph">DV_MONITOR</code>角色用于监视Oracle Database Vault。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5">DV_SECANALYST Database Vault安全分析师角色</a><br><code class="codeph">DV_SECANALYST</code>角色使用户能够分析活动。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2">DV_AUDIT_CLEANUP审计跟踪清理角色</a><br><code class="codeph">DV_AUDIT_CLEANUP</code>角色用于清除操作。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5">DV_DATAPUMP_NETWORK_LINK数据泵网络链接角色</a><br><code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色用于数据泵导入操作。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B">DV_XSTREAM_ADMIN XStream管理角色</a><br><code class="codeph">DV_XSTREAM_ADMIN</code>角色用于Oracle XStream。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D">DV_GOLDENGATE_ADMIN GoldenGate管理角色</a><br><code class="codeph">DV_GOLDENGATE_ADMIN</code>角色与Oracle GoldenGate一起使用。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039">DV_GOLDENGATE_REDO_ACCESS GoldenGate重做日志角色</a><br><code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色与Oracle GoldenGate一起使用。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C">DV_PATCH_ADMIN数据库保管库数据库修补程序角色</a><br><code class="codeph">DV_PATCH_ADMIN</code>角色用于修补操作。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802">DV_ACCTMGR数据库保管库客户经理角色</a><br><code class="codeph">DV_ACCTMGR</code>角色是一个强大的角色，用于帐户管理。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A">DV_REALM_OWNER Database Vault领域DBA角色</a><br><code class="codeph">DV_REALM_OWNER</code>角色用于领域管理。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E">DV_REALM_RESOURCE数据库库应用程序资源所有者角色</a><br><code class="codeph">DV_REALM_RESOURCE</code>角色用于管理域资源。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1">DV_POLICY_OWNER数据库保管库所有者角色</a><br><code class="codeph">DV_POLICY_OWNER</code>角色使数据库用户能够管理有限程度的Oracle Database Vault策略。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5">DV_PUBLIC数据库库PUBLIC角色</a><br>不再使用<code class="codeph">DV_PUBLIC</code>角色。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。">Oracle Database Vault架构，角色和帐户</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70330"></a><a id="DVADM70329"></a><div class="props_rev_3"><a id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3" name="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3"></a><h4 id="DVADM-GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3" class="sect4">关于Oracle Database Vault角色</h4>
                  <div>
                     <p>Oracle Database Vault提供了管理Oracle Database Vault所需的一组角色。</p>
                     <p>说明了这些角色如何设计用于实现数据库中第一级职责分离。您如何使用这些角色取决于贵公司的要求。</p>
                     <div class="figure" id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3__FIG_YDZ_MLQ_2FB">
                        <p class="titleinfigure">图13-1 Oracle Database Vault角色的分类方式</p><img src="img/dvadm_vm_001b.png" alt="下面是图13-1的描述" title="下面是图13-1的描述" longdesc="img_text/dvadm_vm_001b.html"><br><a href="img_text/dvadm_vm_001b.html">“图13-1如何对Oracle Database Vault角色进行分类”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnote" id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3__GUID-2F9A933B-E929-4E6A-AADB-6C408F1C5542">
                        <p class="notep1">注意：</p>
                        <p>您可以向Oracle Database Vault角色授予其他对象权限和角色，以扩展其权限范围。例如，只要对象不在<code class="codeph">DVSYS</code>架构或<code class="codeph">DVSYS</code> ，以<code class="codeph">SYSDBA</code>管理权限登录的用户就可以向Oracle Database Vault角色授予对象权限。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-security-guidelines.html#GUID-128A1A30-3183-4D53-94AE-3F12707978D2" title="Oracle Database Vault旨在轻松实现职责分离指南。">职责分离指南</a></li>
                           <li><a href="oracle-database-vault-security-guidelines.html#GUID-FDD3E113-B692-4BBD-9E78-B8BDB804348E" title="Oracle提供了管理管理帐户（如SYSTEM）或具有SYSDBA管理权限的用户的安全性的准则。">管理Oracle数据库管理帐户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70331"></a><a id="DVADM71451"></a><div class="props_rev_3"><a id="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC" name="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC"></a><h4 id="DVADM-GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC" class="sect4">Oracle Database Vault角色的权限</h4>
                  <div>
                     <p>Oracle Database Vault角色旨在提供分离任务的最大好处。</p>
                     <p><code class="codeph">DV_PATCH_ADMIN</code> ， <code class="codeph">DV_XSTREAM</code> ， <code class="codeph">DV_GOLDENGATE_ADMIN</code>和<code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色未包含在下表中，因为它们没有系统权限。
                     </p>
                     <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC__BABDIHJG" title="DV角色和权限">表13-1</a>总结了Oracle Database Vault角色可用的权限。
                     </p>
                     <div class="tblformalwide" id="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC__BABDIHJG">
                        <p class="titleintable">表13-1 Oracle Database Vault角色的权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Database Vault角色的权限" width="100%" border="1" summary="DV Roles and Privileges" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="10%" id="d53477e1205">特权</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1208">DV_OWNER</th>
                                 <th align="left" valign="bottom" width="7%" id="d53477e1211">DV_ADMIN</th>
                                 <th align="left" valign="bottom" width="9%" id="d53477e1214">DV_MONITOR</th>
                                 <th align="left" valign="bottom" width="12%" id="d53477e1217">DV_SECANALYST</th>
                                 <th align="left" valign="bottom" width="10%" id="d53477e1220">DV_ACCTMGR</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1223">DV_REALM_OWNER</th>
                                 <th align="left" valign="bottom" width="11%" id="d53477e1226">DV_REALM_RESOURCE</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1229">DV_PUBLIC</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1232">DV_POLICY_OWNER</th>
                                 <th align="left" valign="bottom" width="9%" id="d53477e1235">DV_AUDIT_CLEANUP</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1240" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code>架构， <code class="codeph">EXECUTE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1208 ">
                                    <p>是<a id="fn_1" name="fn_1" href="#fn_1" includes="" the="" execute="" privilege="" on="" all="" oracle="" database="" vault="" pl="" /sql="" packages=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1240 d53477e1211 ">
                                    <p>是<a id="fn_2" name="fn_2" href="#fn_2" includes="" the="" execute="" privilege="" on="" all="" oracle="" database="" vault="" pl="" /sql="" packages=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1240 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1240 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1240 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1240 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1232 ">
                                    <p>是的，在一些<code class="codeph">DBMS_MACADM</code>程序上</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1240 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1293" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code>架构， <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1293 d53477e1211 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1293 d53477e1214 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1293 d53477e1217 ">
                                    <p>是的，在某些Database Vault视图<a id="fn_3" name="fn_3" href="#fn_3" dv_secanalyst="" can="" query="" dvsys="" schema="" objects="" through="" oracle="" database="" vault-supplied="" views="" only=")" ="" onclick="footdisplay(3, "><sup>Foot 3上</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1293 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1293 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1229 ">
                                    <p>没有<a id="fn_4" name="fn_4" href="#fn_4" dv_public="" can="" query="" dvsys="" schema="" objects="" through="" oracle="" database="" vault-supplied="" views="" only=")" ="" onclick="footdisplay(4, "><sup>脚4</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1232 ">
                                    <p>是的，在某些Database Vault视图<a id="fn_5" name="fn_5" href="#fn_5" policy_owner*="" views="" onl=")" ="" onclick="footdisplay(5, "><sup>Foot 5上</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1293 d53477e1235 ">
                                    <p>是，在某些Database Vault表和视图<a id="fn_6" name="fn_6" href="#fn_6" dv_audit_cleanup="" can="" perform="" select="" statements="" on="" the="" audit_trail$="" table="" and="" dv$enforcement_audit,="" dv$configuration_audit="" views=")" ="" onclick="footdisplay(6, "><sup>Foot 6上</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1369" headers="d53477e1205 ">
                                    <p><code class="codeph">DELETE</code> <code class="codeph">DVSYS</code>架构</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1208 ">
                                    <p>是，在某些Database Vault表和视图<a id="fn_7" name="fn_7" href="#fn_7" dv_audit_cleanup="" can="" perform="" delete="" statements="" on="" the="" audit_trail$="" table="" and="" dv$enforcement_audit,="" dv$configuration_audit="" views=")" ="" onclick="footdisplay(7, "><sup>Foot 7上</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1369 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1369 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1369 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1369 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1369 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1369 d53477e1235 ">
                                    <p>是，在某些Database Vault表和视图<a id="fn_8" name="fn_8" href="#fn_8" dv_audit_cleanup="" can="" perform="" delete="" statements="" on="" the="" audit_trail$="" table="" and="" dv$enforcement_audit,="" dv$configuration_audit="" views=")" ="" onclick="footdisplay(8, "><sup>Foot 8上</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1441" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code>架构，授予对象权限</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1208 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1441 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1441 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1441 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1441 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1441 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1441 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1477" headers="d53477e1205 ">
                                    <p><code class="codeph">DVF</code>架构， <code class="codeph">EXECUTE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1477 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1477 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1477 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1477 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1477 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1477 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1515" headers="d53477e1205 ">
                                    <p><code class="codeph">DVF</code>架构， <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1515 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1515 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1515 d53477e1217 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1515 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1515 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1515 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1553" headers="d53477e1205 ">
                                    <p>监控数据库库</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1553 d53477e1211 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1553 d53477e1214 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1553 d53477e1217 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1553 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1553 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1553 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1587" headers="d53477e1205 ">
                                    <p>运行Database Vault报告</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1587 d53477e1211 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1587 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1587 d53477e1217 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1587 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1587 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1587 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1621" headers="d53477e1205 ">
                                    <p><code class="codeph">SYS</code>架构， <code class="codeph">SELECT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1208 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1621 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1621 d53477e1214 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1621 d53477e1217 ">
                                    <p>是，在与<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ADMIN</code>相同的系统视图上</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1621 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1621 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1621 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1665" headers="d53477e1205 ">
                                    <p><code class="codeph">SYSMAN</code>模式， <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1208 ">
                                    <p>是的，部分</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1665 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1665 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1665 d53477e1217 ">
                                    <p>是的，部分</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1665 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1665 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1665 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1703" headers="d53477e1205 ">
                                    <p><code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code> ， <code class="codeph">DROP</code>用户帐户和配置文件<a id="fn_9" name="fn_9" href="#fn_9" this="" privilege="" does="" not="" include="" the="" ability="" to="" drop="" or="" alter="" dvsys="" account,="" nor="" change="" password=")" ="" onclick="footdisplay(9, "><sup>Foot 9</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1208 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1703 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1703 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1703 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1703 d53477e1220 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1703 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1703 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1755" headers="d53477e1205 ">
                                    <p>管理定义领域<a id="fn_10" name="fn_10" href="#fn_10" this="" privilege="" includes="" any="" privileges,="" such="" as="" create="" any,="" alter="" and="" drop="" any.="" ="" onclick="footdisplay(10, "><sup>Foot 10的</sup></a>模式中的对象</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1208 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1755 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1755 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1755 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1755 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1223 ">
                                    <p>是<a id="fn_11" name="fn_11" href="#fn_11" the="" user="" with="" this="" role="" also="" must="" be="" realm="" participant="" or="" owner="" to="" exercise="" his="" her="" system="" privileges=")" ="" onclick="footdisplay(11, "><sup>脚11</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1755 d53477e1226 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1755 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1807" headers="d53477e1205 ">
                                    <p><code class="codeph">RESOURCE</code>角色权限<a id="fn_12" name="fn_12" href="#fn_12" the="" resource="" role="" provides="" following="" system="" privileges:="" create="" cluster,="" indextype,="" operator,="" procedure,="" sequence,="" table,="" trigger,="" type=")" ="" onclick="footdisplay(12, "><sup>脚12</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1208 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1807 d53477e1211 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1807 d53477e1214 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1807 d53477e1217 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1807 d53477e1220 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1223 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1807 d53477e1226 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1229 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1232 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1807 d53477e1235 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>包括所有Oracle Database Vault PL / SQL包的<code class="codeph">EXECUTE</code>特权。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>包括所有Oracle Database Vault PL / SQL包的<code class="codeph">EXECUTE</code>特权。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p><code class="codeph">DV_SECANALYST</code>只能通过Oracle Database Vault提供的视图查询<code class="codeph">DVSYS</code>模式对象。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注4</sup></p><p><code class="codeph">DV_PUBLIC</code>只能通过Oracle Database Vault提供的视图查询<code class="codeph">DVSYS</code>模式对象。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注5</sup></p><p><code class="codeph">POLICY_OWNER</code> *仅限观看次数</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注6</sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code>可以在<code class="codeph">AUDIT_TRAIL$</code>表和<code class="codeph">DV$ENFORCEMENT_AUDIT</code>以及<code class="codeph">DV$CONFIGURATION_AUDIT</code>视图上执行<code class="codeph">SELECT</code>语句。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注7</sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code>可以在<code class="codeph">AUDIT_TRAIL$</code>表和<code class="codeph">DV$ENFORCEMENT_AUDIT</code>以及<code class="codeph">DV$CONFIGURATION_AUDIT</code>视图上执行<code class="codeph">DELETE</code>语句。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注8</sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code>可以在<code class="codeph">AUDIT_TRAIL$</code>表和<code class="codeph">DV$ENFORCEMENT_AUDIT</code>以及<code class="codeph">DV$CONFIGURATION_AUDIT</code>视图上执行<code class="codeph">DELETE</code>语句。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注9</sup></p><p>此权限不包括删除或更改<code class="codeph">DVSYS</code>帐户的权限，也不包括更改<code class="codeph">DVSYS</code>密码的<code class="codeph">DVSYS</code> 。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注10</sup></p><p>此权限包括<code class="codeph">ANY</code>权限，例如<code class="codeph">CREATE ANY</code> ， <code class="codeph">ALTER ANY</code>和<code class="codeph">DROP ANY</code> 。</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注11</sup></p><p>具有此角色的用户也必须是领域参与者或所有者才能行使其系统权限。</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注12</sup></p><p><code class="codeph">RESOURCE</code>角色提供以下系统特权： <code class="codeph">CREATE CLUSTER</code> ， <code class="codeph">CREATE INDEXTYPE</code> ， <code class="codeph">CREATE OPERATOR</code> ， <code class="codeph">CREATE PROCEDURE</code> ， <code class="codeph">CREATE SEQUENCE</code> ， <code class="codeph">CREATE TABLE</code> ， <code class="codeph">CREATE TRIGGER</code> ， <code class="codeph">CREATE TYPE</code> 。</p>
                     <p></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-573E923C-4307-49FF-A70F-39B38F91BD86" name="GUID-573E923C-4307-49FF-A70F-39B38F91BD86"></a><h4 id="DVADM-GUID-573E923C-4307-49FF-A70F-39B38F91BD86" class="sect4">向用户授予Oracle Database Vault角色</h4>
                  <div>
                     <p>您可以使用Enterprise Manager Cloud Control向用户授予Oracle Database Vault角色。</p>
                     <ol>
                        <li class="stepexpand"><span>从Cloud Control，以已被授予<code class="codeph">DV_OWNER</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份登录Oracle Database Vault Administrator。</span><div>
                              <p><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。
                              </p>
                              <p>请参阅角色描述以查找谁可以将角色授予其他用户的要求。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">数据库Vault角色管理”</span> 。</span><div>此时将显示Database Vault Role Management页面。<br><img src="img/em_role_grant2.png" alt="em_role_grant2.png的描述如下" title="em_role_grant2.png的描述如下" longdesc="img_text/em_role_grant2.html"><br><a href="img_text/em_role_grant2.html">em_role_grant2.png插图的描述</a><br></div>
                        </li>
                        <li class="stepexpand"><span>执行以下操作之一：</span><ul>
                              <li>要为授权添加新用户或角色，请单击“添加”按钮以显示“添加授权”对话框。在<span class="bold">Grantee</span>字段中输入被授权者，然后选择授权的角色。然后单击<span class="bold">确定</span> 。<br><img src="img/em_role_grant1.png" alt="em_role_grant1.png的描述如下" title="em_role_grant1.png的描述如下" longdesc="img_text/em_role_grant1.html"><br><a href="img_text/em_role_grant1.html">em_role_grant1.png插图的描述</a><br></li>
                           </ul>
                           <ul>
                              <li>要为“数据库库角色管理”页面中列出的用户或角色授予不同角色或修改角色授予，请选择用户或角色，单击“ <span class="bold">编辑”</span> ，然后根据需要修改角色授予。然后单击<span class="bold">确定</span> 。</li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70333"></a><a id="DVADM71453"></a><a id="DVADM71454"></a><a id="DVADM71455"></a><a id="DVADM70332"></a><div class="props_rev_3"><a id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E" name="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E"></a><h4 id="DVADM-GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E" class="sect4">DV_OWNER数据库保管库所有者角色</h4>
                  <div>
                     <p><code class="codeph">DV_OWNER</code>角色使您可以管理Oracle Database Vault角色及其配置。
                     </p>
                     <p>在<span class="italic">Oracle Database Vault管理员指南中</span> ，使用此角色的示例帐户是<code class="codeph">leo_dvowner</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-109BF8D0-0F21-4554-85DB-9EE45202D06F">与DV_OWNER角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<code class="codeph">DV_OWNER</code>角色具有的行政能力<code class="codeph">DV_ADMIN</code>角色提供和报告功能<code class="codeph">DV_SECANALYST</code>角色提供。
                        </p>
                        <p>此角色还提供监视Oracle Database Vault的权限。它是在安装Oracle Database Vault时创建的，并且具有<code class="codeph">DVSYS</code>架构的最大权限。它还具有<code class="codeph">DV_ADMIN</code>角色。
                        </p>
                        <p>要查找与<code class="codeph">DV_OWNER</code>角色关联的系统和对象权限的完整列表，您可以登录数据库实例并输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_OWNER';从DBA_SYS_PRIVS中选择PRIVILEGE GREREEE ='DV_OWNER';</pre><p>安装和注册Oracle Database Vault时，会创建<code class="codeph">DV_OWNER</code>帐户。被授予此角色的用户也被授予<code class="codeph">ADMIN</code>选项，并且可以将任何Oracle Database Vault角色（ <code class="codeph">DV_ACCTMGR</code>除外）授予任何帐户。授予此角色的用户还可以运行Oracle Database Vault报告并监控Oracle Database Vault。
                        </p>
                        <div class="infobox-tip" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-5FA1A0BB-188C-40AC-9E2D-3F3827D7C68A">
                           <p class="notep1">小费：</p>
                           <p>Oracle强烈建议您为<code class="codeph">DV_OWNER</code>用户创建单独的命名帐户。这样，如果用户不再可用（例如，他或她离开公司），则可以轻松地重新创建此用户帐户，然后向该用户授予<code class="codeph">DV_OWNER</code>角色。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-6CDF10DD-3E08-443C-B178-B34485CF8252">授权和撤销操作如何受DV_OWNER影响？</p>
                        <p>具有<code class="codeph">DV_OWNER</code>角色的任何人都可以将<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ADMIN</code>角色授予其他用户。
                        </p>
                        <p>授予此角色的帐户可以从其他帐户撤消任何已授予的数据库保管库角色。仅具有<code class="codeph">GRANT ANY ROLE</code>系统特权（直接授予或间接授予角色）的<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>等帐户无权向任何其他数据库帐户授予或撤消<code class="codeph">DV_OWNER</code>角色。另请注意，具有<code class="codeph">DV_OWNER</code>角色的用户无法授予或撤消<code class="codeph">DV_ACCTMGR</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-11DCD486-6935-4F6A-B571-3D6AB09E956F">管理具有DV_OWNER角色的用户的密码更改</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在您为其他已被授予<code class="codeph">DV_OWNER</code>角色的用户更改密码之前，必须从该用户帐户撤消<code class="codeph">DV_OWNER</code>角色。
                        </p>
                        <p>但是，请谨慎撤消<code class="codeph">DV_OWNER</code>角色。您网站上至少有一位用户必须授予此角色。如果另一个<code class="codeph">DV_OWNER</code>用户被授予此角色并且需要更改其密码，则可以暂时从该用户撤消<code class="codeph">DV_OWNER</code> 。另请注意，如果您已被授予<code class="codeph">DV_OWNER</code>角色，则可以更改自己的密码，而无需从自己撤消角色。
                        </p>
                        <p>要更改<code class="codeph">DV_OWNER</code>用户密码：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>使用已授予<code class="codeph">DV_OWNER</code>角色的帐户登录数据库实例。
                              </p>
                           </li>
                           <li>
                              <p>从密码需要更改的用户帐户撤消<code class="codeph">DV_OWNER</code>角色。
                              </p>
                           </li>
                           <li>
                              <p>以已被授予<code class="codeph">DV_ACCTMGR</code>角色的用户身份进行连接，然后更改此用户的密码。
                              </p>
                           </li>
                           <li>
                              <p>以<code class="codeph">DV_OWNER</code>用户身份连接，然后将<code class="codeph">DV_OWNER</code>角色授予您更改其密码的用户。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-FFA01419-9C63-4E70-B582-8B3872A2D9B7">禁用Oracle Database Vault安全性时的DV_OWNER状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71457"></a><a id="DVADM71458"></a><a id="DVADM71459"></a><a id="DVADM71460"></a><a id="DVADM70337"></a><div class="props_rev_3"><a id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812" name="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812"></a><h4 id="DVADM-GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812" class="sect4">DV_ADMIN数据库库配置管理员角色</h4>
                  <div>
                     <p><code class="codeph">DV_ADMIN</code>角色控制Oracle Database Vault PL / SQL包。
                     </p>
                     <p>这些程序包是Oracle Enterprise Manager Cloud Control中Database Vault管理员用户界面的基础界面。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-0D7A76EE-C9F1-44EA-AE44-0DA5A323B984">与DV_ADMIN角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DV_ADMIN</code>角色对<code class="codeph">DVSYS</code>包具有<code class="codeph">EXECUTE</code>特权（ <code class="codeph">DBMS_MACADM</code> ， <code class="codeph">DBMS_MACSECROLES</code>和<code class="codeph">DBMS_MACUTL</code> ）。
                        </p>
                        <p><code class="codeph">DV_ADMIN</code>还具有<code class="codeph">DV_SECANALYST</code>角色提供的功能，允许用户运行Oracle Database Vault报告并监控Oracle Database Vault。安装过程中， <code class="codeph">DV_ADMIN</code>角色授予<code class="codeph">DV_OWNER</code>与角色<code class="codeph">ADMIN OPTION</code> 。</p>
                        <p>此外， <code class="codeph">DV_ADMIN</code>角色还为<code class="codeph">DBA_DV_POLICY</code> ， <code class="codeph">DBA_DV_POLICY_OWNER</code>和<code class="codeph">DBA_DV_POLICY_OBJECT</code>数据字典视图提供<code class="codeph">SELECT</code>权限。<code class="codeph">DV_ADMIN</code>角色还具有<code class="codeph">REGISTER SESSION</code>系统特权。
                        </p>
                        <p>要查找与<code class="codeph">DV_ADMIN</code>角色关联的系统和对象权限的完整列表，请以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_ADMIN';从DBA_SYS_PRIVS中选择PRIVILEGE WHERE GRANTEE ='DV_ADMIN';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-96EEE001-ED69-492D-AC7A-DF47BBFDCA58">GRANT和REVOKE操作如何受DV_ADMIN的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>仅具有<code class="codeph">GRANT ANY ROLE</code>系统特权的<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>等帐户<code class="codeph">DV_ADMIN</code>从任何其他数据库帐户授予或撤消<code class="codeph">DV_ADMIN</code> 。
                        </p>
                        <p>具有<code class="codeph">DV_OWNER</code>角色的用户可以向任何数据库帐户授予或撤消此角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-B3E9A911-0AD2-4866-A16D-B0CA645D9B53">管理具有DV_ADMIN角色的用户的密码更改</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在您可以更改已授予<code class="codeph">DV_ADMIN</code>角色的用户的密码之前，必须从此帐户撤消<code class="codeph">DV_ADMIN</code>角色。
                        </p>
                        <p>如果您已被授予<code class="codeph">DV_ADMIN</code>角色，则可以更改自己的密码，而无需从自己撤消角色。
                        </p>
                        <p>要更改<code class="codeph">DV_ADMIN</code>用户密码：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>使用已授予<code class="codeph">DV_OWNER</code>角色的帐户登录数据库实例。
                              </p>
                           </li>
                           <li>
                              <p>从密码需要更改的用户帐户撤消<code class="codeph">DV_ADMIN</code>角色。
                              </p>
                           </li>
                           <li>
                              <p>以已被授予<code class="codeph">DV_ACCTMGR</code>角色的用户身份进行连接，然后更改此用户的密码。
                              </p>
                           </li>
                           <li>
                              <p>以<code class="codeph">DV_OWNER</code>用户身份连接，然后将<code class="codeph">DV_ADMIN</code>角色授予您更改其密码的用户。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-DD74919B-989A-49D2-8DEB-304E5011ECF2">禁用Oracle Database Vault安全性时的DV_ADMIN状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71462"></a><a id="DVADM71463"></a><a id="DVADM71464"></a><a id="DVADM70342"></a><div class="props_rev_3"><a id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4" name="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4"></a><h4 id="DVADM-GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4" class="sect4">DV_MONITOR数据库库监控角色</h4>
                  <div>
                     <p><code class="codeph">DV_MONITOR</code>角色用于监视Oracle Database Vault。
                     </p>
                     <p><code class="codeph">DV_MONITOR</code>角色使Oracle企业管理器云控制代理能够监视Oracle Database Vault中是否存在针对领域或命令规则定义的尝试违规和配置问题。
                     </p>
                     <p>此角色使Cloud Control能够在数据库之间读取和传播领域定义和命令规则定义。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-35C2A040-4F6F-4A44-9A4B-35D0FB54F14B">与DV_MONITOR角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有与<code class="codeph">DV_MONITOR</code>角色关联的系统权限，但它对<code class="codeph">SYS</code>和<code class="codeph">DVSYS</code>对象具有<code class="codeph">SELECT</code>权限。
                        </p>
                        <p>此外， <code class="codeph">DV_MONITOR</code>角色还为<code class="codeph">DBA_DV_POLICY</code> ， <code class="codeph">DBA_DV_POLICY_OWNER</code>和<code class="codeph">DBA_DV_POLICY_OBJECT</code>数据字典视图提供<code class="codeph">SELECT</code>权限。
                        </p>
                        <p>要查找<code class="codeph">DV_MONITOR</code>对象权限的完整列表， <code class="codeph">DV_MONITOR</code>使用足够的（例如<code class="codeph">DV_OWNER</code> ）权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_MONITOR';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-569687F5-C3BD-45F6-85C5-8FA61B1791C4">GRANT和REVOKE操作如何受DV_MONITOR的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下， <code class="codeph">DV_MONITOR</code>角色被授予<code class="codeph">DV_OWNER</code>角色和<code class="codeph">DBSNMP</code>用户。
                        </p>
                        <p>只有谁已被授予用户<code class="codeph">DV_OWNER</code>角色可以授予或撤销<code class="codeph">DV_MONITOR</code>角色给其他用户。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-8A6FEC75-FA0E-4F7F-8141-C61544BA2EE5">禁用Oracle Database Vault安全性时的DV_MONITOR状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="monitoring-oracle-database-vault.html#GUID-EF26F67E-A410-4868-9B5C-5ABEA9B6BFAB" title="您可以通过检查对Database Vault配置的违规以及跟踪对策略的更改来监控Oracle Database Vault。">监控Oracle Database Vault</a></li>
                           <li><a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71466"></a><a id="DVADM71467"></a><a id="DVADM71468"></a><a id="DVADM70346"></a><div class="props_rev_3"><a id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5" name="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5"></a><h4 id="DVADM-GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5" class="sect4">DV_SECANALYST Database Vault安全分析师角色</h4>
                  <div>
                     <p><code class="codeph">DV_SECANALYST</code>角色使用户能够分析活动。
                     </p>
                     <p>使用<code class="codeph">DV_SECANALYST</code>角色运行Oracle Database Vault报告并监控Oracle Database Vault。
                     </p>
                     <p>此角色还用于与数据库相关的报告。此外，此角色还允许您通过查询<a href="oracle-database-vault-data-dictionary-views.html#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="您可以通过查询特定于Database Vault的数据字典视图来查找有关Oracle Database Vault配置设置的信息。">Oracle Database Vault数据字典视图中</a>描述的<code class="codeph">DVSYS</code>视图来检查<code class="codeph">DVSYS</code>配置。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-3372BD64-92EA-4B1B-93B7-70585CEE4B03">与DV_SECANALYST角色相关的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有与<code class="codeph">DV_SECANALYST</code>角色关联的系统权限，但它对某些<code class="codeph">DVSYS</code>架构对象以及<code class="codeph">SYS</code>和<code class="codeph">SYSMAN</code>架构对象的部分具有<code class="codeph">SELECT</code>权限，以便在<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>相关实体上进行报告。
                        </p>
                        <p>此外， <code class="codeph">DV_SECANALYST</code>角色还为<code class="codeph">DBA_DV_POLICY</code> ， <code class="codeph">DBA_DV_POLICY_OWNER</code>和<code class="codeph">DBA_DV_POLICY_OBJECT</code>数据字典视图提供<code class="codeph">SELECT</code>权限。
                        </p>
                        <p>要查找<code class="codeph">DV_SECANALYST</code>对象特权的完整列表， <code class="codeph">DV_SECANALYST</code>以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_SECANALYST';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-502162E2-0FFD-4290-A86C-17B3C28B6189">如何通过DV_SECANALYST影响授权和撤销操作？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>任何具有<code class="codeph">GRANT ANY ROLE</code>系统特权的帐户（如<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>都无权从任何其他数据库帐户授予此角色或撤消此角色。
                        </p>
                        <p>只有具有<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消此角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-5589835D-3AFF-4907-9176-699FAE7A8DFD">禁用Oracle Database Vault安全性时的DV_SECANALYST状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71470"></a><a id="DVADM71471"></a><a id="DVADM71472"></a><a id="DVADM71241"></a><div class="props_rev_3"><a id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" name="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2"></a><h4 id="DVADM-GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" class="sect4">DV_AUDIT_CLEANUP审计跟踪清理角色</h4>
                  <div>
                     <p><code class="codeph">DV_AUDIT_CLEANUP</code>角色用于清除操作。
                     </p>
                     <div class="infoboxnote" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-0281E040-939C-4ABF-8E34-9AAB92538707">
                        <p class="notep1">注意：</p>
                        <p>此功能已在Oracle Database 12 <span class="italic">c第</span> 1版（12.1.0.2）中进行了更新。
                        </p>
                     </div>
                     <p>将<code class="codeph">DV_AUDIT_CLEANUP</code>角色授予负责在非统一审计环境中清除Database Vault审计跟踪的任何用户。
                     </p>
                     <p><a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。">归档和清除Oracle Database Vault Audit Trail</a>说明了如何使用此角色完成清除操作。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-83E3BEA5-E214-45F1-8486-42A14B6FF095">与DV_AUDIT_CLEANUP角色关联的权限</p>
                        <p><code class="codeph">DV_AUDIT_CLEANUP</code>角色具有三个与Database Vault相关的审核视图的<code class="codeph">SELECT</code>和<code class="codeph">DELETE</code>权限。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表上<code class="codeph">SELECT</code>和<code class="codeph">DELETE</code></p>
                           </li>
                           <li>
                              <p>在<code class="codeph">DVSYS.DV$ENFORCEMENT_AUDIT</code>视图上<code class="codeph">SELECT</code>和<code class="codeph">DELETE</code></p>
                           </li>
                           <li>
                              <p>在<code class="codeph">DVSYS.DV$CONFIGURATION_AUDIT</code>视图上<code class="codeph">SELECT</code>和<code class="codeph">DELETE</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-1046487C-8C7C-4047-844D-9FF9224DB71F">GRANT和REVOKE操作如何受DV_AUDIT_CLEANUP的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下，此角色使用<code class="codeph">ADMIN OPTION</code>授予<code class="codeph">DV_OWNER</code>角色。</p>
                        <p>只有谁已被授予用户<code class="codeph">DV_OWNER</code>角色可以授予或撤销<code class="codeph">DV_AUDIT_CLEANUP</code>角色给其他用户。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-3EB24B56-DD65-44C9-BB7F-2E416020A2FB">禁用Oracle Database Vault安全性时的DV_AUDIT_CLEANUP状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71474"></a><a id="DVADM71475"></a><a id="DVADM71476"></a><a id="DVADM71334"></a><div class="props_rev_3"><a id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5" name="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5"></a><h4 id="DVADM-GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5" class="sect4">DV_DATAPUMP_NETWORK_LINK数据泵网络链接角色</h4>
                  <div>
                     <p><code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色用于数据泵导入操作。
                     </p>
                     <p>将<code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色授予负责在Oracle Database Vault环境中执行<code class="codeph">NETWORK_LINK</code>传输数据泵导入操作的任何用户。
                     </p>
                     <p>此角色可以使Database Vault严格控制Oracle Data Pump <code class="codeph">NETWORK_LINK</code>传输导入过程的管理，但不会更改或限制您通常执行Oracle Data Pump操作的方式。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-CF461CBF-373B-4AB3-9570-CBE29AC8B380">与DV_DATAPUMP_NETWORK_LINK角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>那里<a id="d53477e3441" class="indexterm-anchor"></a>没有与<code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色关联的系统权限，但它对<code class="codeph">DVSYS</code>对象具有<code class="codeph">EXECUTE</code>权限。
                        </p>
                        <p>要查找<code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>对象权限的完整列表， <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_DATAPUMP_NETWORK_LINK';</pre><p>请注意， <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色未提供足够的数据库权限集来执行<code class="codeph">NETWORK_LINK</code>传输数据泵导入操作。相反， <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色是数据库管理员在Oracle Database Vault环境中执行<code class="codeph">NETWORK_LINK</code>传输数据泵导入操作的附加要求（即，除了Oracle Data Pump当前要求的权限之外）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-533C23E9-6668-4B03-9D81-917782A71DC2">如何使GR_D和REVOKE操作受DV_DATAPUMP_NETWORK_LINK的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有已被授予<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消<code class="codeph">DV_DATAPUMP_NETWORK_LINK</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-10106DAE-1475-45C2-9BAB-ABC83700EBAB">禁用Oracle Database Vault安全性时的DV_DATAPUMP_NETWORK_LINK状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-F43AB786-056D-4875-A555-F036D75EE63B" title="数据库管理员可以授权Oracle Data Pump用户在Database Vault环境中工作。">将Oracle Data Pump与Oracle Database Vault配合使用</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71482"></a><a id="DVADM71483"></a><a id="DVADM71484"></a><a id="DVADM71246"></a><div class="props_rev_3"><a id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B" name="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B"></a><h4 id="DVADM-GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B" class="sect4">DV_XSTREAM_ADMIN XStream管理角色</h4>
                  <div>
                     <p><code class="codeph">DV_XSTREAM_ADMIN</code>角色用于Oracle XStream。
                     </p>
                     <p>将<code class="codeph">DV_XSTREAM_ADMIN</code>角色授予负责在Oracle Database Vault环境中配置Oracle XStream的任何用户。
                     </p>
                     <p>这使得XStream进程的管理可以由Database Vault严格控制，但不会更改或限制管理员通常配置XStream的方式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-3A088635-A7DD-4CE3-B94C-24AF23A042B8">与DV_XSTREAM_ADMIN角色关联的权限</p>
                        <p>没有与<code class="codeph">DV_XSTREAM_ADMIN</code>角色关联的权限。
                        </p>
                        <p>请注意， <code class="codeph">DV_XSTREAM_ADMIN</code>角色未提供足够的数据库权限来配置XStream。相反， <code class="codeph">DV_XSTREAM_ADMIN</code>角色是数据库管理员在Oracle Database Vault环境中配置XStream的附加要求（即，除了XStream当前要求的权限之外）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-F29EDA08-36C9-4432-95C6-6D9C31F29BD3">GRANT和REVOKE操作如何受DV_XSTREAM_ADMIN的影响？</p>
                        <p>只有已被授予<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消<code class="codeph">DV_XSTREAM_ADMIN</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-B13BAACF-A1FE-4CE5-825E-5EF77240F239">禁用Oracle Database Vault安全性时的DV_XSTREAM_ADMIN状态</p>
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-83F623CD-C0CC-47BB-8CF9-1F55DE44C7A3" title="如果要在Oracle Database Vault环境中使用XStream，则必须具有相应的权限。">将XStream与Oracle Database Vault一起使用的权限</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71486"></a><a id="DVADM71487"></a><a id="DVADM71488"></a><a id="DVADM71250"></a><div class="props_rev_3"><a id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D" name="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D"></a><h4 id="DVADM-GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D" class="sect4">DV_GOLDENGATE_ADMIN GoldenGate管理角色</h4>
                  <div>
                     <p><code class="codeph">DV_GOLDENGATE_ADMIN</code>角色与Oracle GoldenGate一起使用。
                     </p>
                     <p>授予负责在Oracle Database Vault环境中配置Oracle GoldenGate的任何用户。</p>
                     <p>这使得Oracle GoldenGate流程的管理可以由Database Vault严格控制，但不会更改或限制管理员通常配置Oracle GoldenGate的方式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-7DD75008-D4A2-4E3F-B0F1-5D39D03FC536">与DV_GOLDENGATE_ADMIN角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有与<code class="codeph">DV_GOLDENGATE_ADMIN</code>角色关联的权限。
                        </p>
                        <p>请注意， <code class="codeph">DV_GOLDENGATE_ADMIN</code>角色未提供足够的数据库权限来配置Oracle GoldenGate。相反， <code class="codeph">DV_GOLDENGATE_ADMIN</code>角色是数据库管理员在Oracle Database Vault环境中配置Oracle GoldenGate的附加要求（即，除了Oracle GoldenGate当前要求的权限之外）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-7B963E3D-00CD-41BD-8797-971C9CE93DDE">GRANT和REVOKE操作如何受DV_GOLDENGATE_ADMIN的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有已被授予<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消<code class="codeph">DV_GOLDENGATE_ADMIN</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-16BA4122-5765-41C7-97B9-508D5E9B4197">禁用Oracle Database Vault安全性时的DV_GOLDENGATE_ADMIN状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-8BC01B07-01AE-4973-9E72-BD637D773D01" title="如果要在Oracle Database Vault环境中使用Oracle GoldenGate，则必须具有相应的权限。">将Oracle GoldenGate与Oracle Database Vault配合使用的权限</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71490"></a><a id="DVADM71491"></a><a id="DVADM71492"></a><a id="DVADM71254"></a><div class="props_rev_3"><a id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039" name="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039"></a><h4 id="DVADM-GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039" class="sect4">DV_GOLDENGATE_REDO_ACCESS GoldenGate重做日志角色</h4>
                  <div>
                     <p><code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色与Oracle GoldenGate一起使用。
                     </p>
                     <p>将<code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色授予负责使用Oracle GoldenGate <code class="codeph">TRANLOGOPTIONS DBLOGREADER</code>方法访问Oracle Database Vault环境中的重做日志的任何用户。
                     </p>
                     <p>这使得Oracle GoldenGate流程的管理可以由Database Vault严格控制，但不会更改或限制管理员通常配置Oracle GoldenGate的方式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-3233DF06-2AB3-436A-8742-09704BE01E11">与DV_GOLDENGATE_REDO_ACCESS角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有与<code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色相关联的权限。
                        </p>
                        <p>请注意， <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色未提供足够的数据库权限来配置Oracle GoldenGate。相反， <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色是数据库管理员的附加要求（即，除了Oracle GoldenGate当前要求的权限之外）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-63608BE1-755A-40AD-AE73-95297F772052">GRANT和REVOKE操作如何受DV_GOLDENGATE_REDO_ACCESS影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您无法使用<code class="codeph">ADMIN OPTION</code>授予<code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色。</p>
                        <p>只有已被授予<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消<code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-2BBD7B26-81D3-4B5F-9863-713536861A29">禁用Oracle Database Vault安全性时的DV_GOLDENGATE_REDO_ACCESS状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-8BC01B07-01AE-4973-9E72-BD637D773D01" title="如果要在Oracle Database Vault环境中使用Oracle GoldenGate，则必须具有相应的权限。">将Oracle GoldenGate与Oracle Database Vault配合使用的权限</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71494"></a><a id="DVADM71495"></a><a id="DVADM71496"></a><a id="DVADM70355"></a><div class="props_rev_3"><a id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" name="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C"></a><h4 id="DVADM-GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" class="sect4">DV_PATCH_ADMIN数据库保管库数据库修补程序角色</h4>
                  <div>
                     <p><code class="codeph">DV_PATCH_ADMIN</code>角色用于修补操作。
                     </p>
                     <p>为了根据Database Vault元数据中指定的审核策略以及Database Vault统一审核策略生成所有与Database Vault相关的审核记录，请在使用前以已授予<code class="codeph">DV_ADMIN</code>角色的用户身份执行<code class="codeph">DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT</code>过程<code class="codeph">DV_PATCH_ADMIN</code>角色。
                     </p>
                     <p>暂时将<code class="codeph">DV_PATCH_ADMIN</code>角色授予负责执行数据库修补的任何数据库管理员。在此管理员执行修补程序操作之前，请运行<code class="codeph">DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT</code>过程。此过程根据现有审计配置，对已被授予<code class="codeph">DV_PATCH_ADMIN</code>角色的用户执行操作的领域，命令规则和规则集进行审计。如果您具有混合模式审核，则此用户的操作将写入<code class="codeph">AUDIT_TRAIL$</code>表。如果启用了纯统一审核，则应创建统一的审核策略以捕获此用户的操作。
                     </p>
                     <p>修补程序操作完成后，请勿立即禁用负责执行数据库修补程序操作的用户的审核。这样，您可以跟踪<code class="codeph">DV_PATCH_ADMIN</code>角色用户的操作。为了向后兼容，默认情况下禁用此类审核。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-BCC56E31-DDC0-49A7-9E9B-2315120C88AB">与DV_PATCH_ADMIN角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DV_PATCH_ADMIN</code>角色不提供对任何安全数据的访问。
                        </p>
                        <p><code class="codeph">DV_PATCH_ADMIN</code>角色是一个特殊的Database Vault角色，没有任何对象或系统特权。它旨在允许数据库管理员或用户<code class="codeph">SYS</code>修补启用Database Vault的数据库（例如，应用数据库修补程序而不禁用Database Vault）。它还使数据库管理员能够创建用户，因为某些补丁可能需要创建新的模式。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-F3C07A13-DEA3-44B9-A6C1-FEA9236DCA56">GRANT和REVOKE操作如何受DV_PATCH_ADMIN的影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有具有<code class="codeph">DV_OWNER</code>角色的用户才能向其他用户授予或撤消<code class="codeph">DV_PATCH_ADMIN</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-6394E382-A759-4E5D-8724-2EE0B90E92A0">禁用Oracle Database Vault安全性时的DV_PATCH_ADMIN状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__SECTION_T5Z_PXK_R2B">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__TITLE_AZR_QXK_R2B">在多租户环境中修补时注册Database Vault的指南</p>
                        <p>在某些多租户环境中， <code class="codeph">DV_OWNER</code>用户是在本地配置的，而不是在CDB根目录中配置的。如果必须修补数据库，则在<code class="codeph">SYS</code>可以执行修补程序之前， <code class="codeph">DV_OWNER</code>角色必须将<code class="codeph">DV_PATCH_ADMIN</code>角色共同授予<code class="codeph">SYS</code> 。然而，本地授予<code class="codeph">DV_OWNER</code>角色不能授予<code class="codeph">DV_PATCH_ADMIN</code>常用的作用。要解决此问题，您可以使用以下方法之一：</p>
                        <ul id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__UL_APY_JXK_R2B" style="list-style-type:disc">
                           <li>在启用Oracle Database Vault之前，通常向<code class="codeph">SYS</code>用户授予<code class="codeph">DV_PATCH_ADMIN</code>角色，然后启用Database Vault是CDB根目录。在这种情况下， <code class="codeph">DV_OWNER</code>用户将无法共同撤销或授予<code class="codeph">DV_PATCH_ADMIN</code>角色。
                           </li>
                           <li>必须进行数据库修补时，请完全禁用Database Vault，并让<code class="codeph">SYS</code>用户自行授予<code class="codeph">DV_PATCH_ADMIN</code>角色。然后启用Database Vault并允许<code class="codeph">SYS</code>执行修补操作。修补后，禁用Database Vault，从<code class="codeph">SYS</code>用户撤消<code class="codeph">DV_PATCH_ADMIN</code>角色，然后重新启用Database Vault。
                           </li>
                           <li>在修补之前，让CDB根<code class="codeph">DV_OWNER</code>将<code class="codeph">DV_PATCH_ADMIN</code>角色本地授予<code class="codeph">SYS</code> 。启用Database Vault的所有PDB也将使其PDB本地<code class="codeph">DV_OWNER</code>用户在本地向<code class="codeph">SYS</code>授予<code class="codeph">DV_PATCH_ADMIN</code> 。然后， <code class="codeph">SYS</code>执行数据库修补操作，然后所有<code class="codeph">DV_OWNER</code>用户都可以从其自己的容器<code class="codeph">SYS</code>用户撤消<code class="codeph">DV_PATCH_ADMIN</code>角色。
                           </li>
                           <li>运行<code class="codeph">DV_CONFIGURE</code>过程时，通常将<code class="codeph">DV_OWNER</code>角色授予CDB根<code class="codeph">DV_OWNER</code>用户。
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dbseg/introduction-to-auditing.html#DBSEG-GUID-94381464-53A3-421B-8F13-BD171C867405" target="_blank">审计简介</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71498"></a><a id="DVADM71499"></a><a id="DVADM71500"></a><a id="DVADM70359"></a><div class="props_rev_3"><a id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" name="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802"></a><h4 id="DVADM-GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" class="sect4">DV_ACCTMGR数据库保管库客户经理角色</h4>
                  <div>
                     <p><code class="codeph">DV_ACCTMGR</code>角色是一个强大的角色，用于帐户管理。
                     </p>
                     <p>使用<code class="codeph">DV_ACCTMGR</code>角色创建和维护数据库帐户和数据库配置文件。在本手册中，示例<code class="codeph">DV_ACCTMGR</code>角色分配给名为<code class="codeph">bea_dvacctmgr</code>的用户。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-2BC0FBEF-3976-4633-AF3F-4A87B21F11AE">与DV_ACCTMGR角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>已被授予此角色的用户可以对用户帐户或配置文件使用<code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code>和<code class="codeph">DROP</code>语句，包括已被授予<code class="codeph">DV_SECANALYST</code> ， <code class="codeph">DV_AUDIT_CLEANUP</code>和<code class="codeph">DV_MONITOR</code>角色的用户。
                        </p>
                        <p>此用户还可以将<code class="codeph">CREATE SESSION</code>权限授予其他用户。但是，已被授予<code class="codeph">DV_ACCTMGR</code>角色的人员无法执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DVSYS</code>帐户上的<code class="codeph">ALTER</code>或<code class="codeph">DROP</code>语句</p>
                           </li>
                           <li>
                              <p>已授予<code class="codeph">DV_ADMIN</code>或<code class="codeph">DV_OWNER</code>角色的用户的<code class="codeph">ALTER</code>或<code class="codeph">DROP</code>语句</p>
                           </li>
                           <li>
                              <p>更改已被授予<code class="codeph">DV_ADMIN</code>或<code class="codeph">DV_OWNER</code>角色的用户的密码</p>
                           </li>
                        </ul>
                        <p>在CDB根目录中被授予<code class="codeph">DV_ACCTMGR</code>角色的普通用户可以更改CDB根目录中的公共用户或公共配置文件，即使公共<code class="codeph">DV_ACCTMGR</code>用户在任何PDB中没有<code class="codeph">SET CONTAINER</code>权限或<code class="codeph">DV_ACCTMGR</code>角色也是<code class="codeph">DV_ACCTMGR</code> 。</p>
                        <p>要查找与<code class="codeph">DV_ACCTMGR</code>角色关联的系统和对象权限的完整列表，请以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_ACCTMGR';从DBA_SYS_PRIVS中选择PRIVILEGE WHERE GRANTEE ='DV_ACCTMGR';</pre><div class="infoboxnote" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-32EE6B3F-43B2-4CCF-9C97-9D0B80EA5792">
                           <p class="notep1">提示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果您希望<code class="codeph">DV_ACCTMGR</code>用户能够为其他用户授予或撤消<code class="codeph">ANY</code>权限，请以具有<code class="codeph">SYSDBA</code>权限的用户<code class="codeph">SYS</code>身份登录，并授予此用户<code class="codeph">GRANT ANY PRIVILEGE</code>和<code class="codeph">REVOKE ANY PRIVILEGE</code>权限。然后将此用户作为所有者添加到Oracle System Privilege和Role Management Realm。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle强烈建议您为<code class="codeph">DV_ACCTMGR</code>用户创建单独的命名帐户。这样，如果此用户忘记了他或她的密码，您可以以原始<code class="codeph">DV_ACCTMGR</code>帐户登录并重置用户密码。否则，您必须禁用Oracle Database Vault，以<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>身份登录以重新创建密码，然后重新启用Database Vault。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-D5D93D74-4A07-496C-BF3C-3A56AF56AC3B">GRANT和REVOKE操作如何受DV_ACCTMGR影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>任何具有<code class="codeph">GRANT ANY ROLE</code>系统特权的帐户（如<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>都无权从任何其他数据库帐户授予此角色或撤消此角色。
                        </p>
                        <p>具有<code class="codeph">DV_ACCTMGR</code>角色和<code class="codeph">ADMIN OPTION</code>的帐户可以将此角色授予任何给定的数据库帐户，并从另一个帐户撤消此角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-0FEE2A22-D207-48CE-83AC-0AA3A12772DC">禁用Oracle Database Vault安全性时的DV_ACCTMGR状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71502"></a><a id="DVADM71503"></a><a id="DVADM71504"></a><a id="DVADM70363"></a><div class="props_rev_3"><a id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A" name="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A"></a><h4 id="DVADM-GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A" class="sect4">DV_REALM_OWNER Database Vault领域DBA角色</h4>
                  <div>
                     <p><code class="codeph">DV_REALM_OWNER</code>角色用于领域管理。
                     </p>
                     <p>使用<code class="codeph">DV_REALM_OWNER</code>角色管理定义领域的多个模式中的数据库对象。
                     </p>
                     <p>将此角色授予负责管理领域中的一个或多个架构数据库帐户以及与领域关联的角色的数据库帐户。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-BFC9D07B-79BF-49B4-B267-617699AD606D">与DV_REALM_OWNER角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>已被授予此角色的用户可以使用强大的系统权限，例如在域内<code class="codeph">CREATE ANY</code> ， <code class="codeph">ALTER ANY</code>和<code class="codeph">DROP ANY</code> 。
                        </p>
                        <p>但是，在此用户可以行使这些权限之前，您必须使该用户成为该域的参与者或所有者。有关说明，请参阅<a href="configuring-realms.html#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="领域授权建立了一组数据库帐户和角色，用于管理或访问领域中受保护的对象。">关于领域授权</a> 。
                        </p>
                        <p>没有授予<code class="codeph">DV_REALM_OWNER</code>角色的对象权限，但它确实具有一些系统权限。要查找<code class="codeph">DV_REALM_OWNER</code>系统特权的完整列表， <code class="codeph">DV_REALM_OWNER</code>以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">从DBA_SYS_PRIVS中选择PRIVILEGE WHERE GRANTEE ='DV_REALM_OWNER';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-2A56ED17-BFAA-46FD-9B2E-1B12A148AEE0">GRANT和REVOKE操作如何受DV_REALM_OWNER影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle系统特权和角色管理领域的领域所有者（例如<code class="codeph">SYS</code> ）可以将此角色授予任何给定的数据库帐户或角色。
                        </p>
                        <p>请注意，虽然此角色具有强大的系统权限，但它没有任何Oracle Database Vault角色，例如<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色。
                        </p>
                        <p>如果要将此角色附加到特定领域，则必须将其分配给帐户或业务相关角色，然后在该领域中授权该帐户或角色。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-F0EA0A87-AFCD-43EA-8370-7FD946EA67ED">禁用Oracle Database Vault安全性时的DV_REALM_OWNER状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71506"></a><a id="DVADM71507"></a><a id="DVADM71508"></a><a id="DVADM70367"></a><div class="props_rev_3"><a id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E" name="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E"></a><h4 id="DVADM-GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E" class="sect4">DV_REALM_RESOURCE数据库库应用程序资源所有者角色</h4>
                  <div>
                     <p><code class="codeph">DV_REALM_RESOURCE</code>角色用于管理域资源。
                     </p>
                     <p>使用<code class="codeph">DV_REALM_RESOURCE</code>角色进行操作，例如创建表，视图，触发器，同义词以及域通常使用的其他对象。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-927B7F6E-371E-4273-B6E7-ACF8C376A183">与DV_REALM_RESOURCE角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DV_REALM_RESOURCE</code>角色提供与Oracle <code class="codeph">RESOURCE</code>角色相同的系统特权。此外， <code class="codeph">CREATE SYNONYM</code>和<code class="codeph">CREATE VIEW</code>都被授予此角色。
                        </p>
                        <p>没有授予<code class="codeph">DV_REALM_RESOURCE</code>角色的对象权限，但它确实具有一些系统权限。要查找<code class="codeph">DV_REALM_RESOURCE</code>系统特权的完整列表， <code class="codeph">DV_REALM_RESOURCE</code>以足够的权限登录数据库实例，然后输入以下查询：</p><pre class="oac_no_warn" dir="ltr">从DBA_SYS_PRIVS中选择PRIVILEGE在哪里GRANTEE ='DV_REALM_RESOURCE';</pre><p>虽然此角色具有强大的系统权限，但它没有任何Oracle Database Vault角色，例如<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-F8C68805-2BF0-415B-8E81-4FBF9A04E0AA">GRANT和REVOKE操作如何受DV_REALM_RESOURCE影响？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以将<code class="codeph">DV_REALM_RESOURCE</code>角色授予拥有用于支持任何数据库应用程序的数据库表，对象，触发器，视图，过程等的数据库帐户。
                        </p>
                        <p>这是为模式类型数据库帐户设计的角色。Oracle系统特权和角色管理领域的领域所有者（例如<code class="codeph">SYS</code> ）可以将此角色授予任何数据库帐户或角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-F02EE6C3-2A07-4EEE-81FE-DF3CBE2D80A8">禁用Oracle Database Vault安全性时的DV_REALM_RESOURCE状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle数据库角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1" name="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1"></a><h4 id="DVADM-GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1" class="sect4">DV_POLICY_OWNER数据库保管库所有者角色</h4>
                  <div>
                     <p><code class="codeph">DV_POLICY_OWNER</code>角色使数据库用户能够管理有限程度的Oracle Database Vault策略。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__GUID-109BF8D0-0F21-4554-85DB-9EE45202D06F">与DV_POLICY_OWNER角色关联的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DV_POLICY_OWNER</code>角色为非Database Vault管理用户提供了足够的权限来启用或禁用Database Vault策略，向域添加或从<code class="codeph">DV_POLICY_OWNER</code>删除授权，并对以下数据库视图使用<code class="codeph">SELECT</code>权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_COMMAND_RULE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_POLICY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM_AUTH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM_OBJECT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE_SET</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE_SET_RULE</code></p>
                           </li>
                        </ul>
                        <p>只有<code class="codeph">DV_POLICY_OWNER</code>可以查询这些视图。即使具有<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ADMIN</code>角色的用户也无法查询这些视图。
                        </p>
                        <p><code class="codeph">DV_POLICY_OWNER</code>角色没有任何系统权限。要查找与<code class="codeph">DV_POLICY_OWNER</code>角色关联的对象权限的完整列表，可以登录数据库实例，输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME，OWNER，PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE ='DV_POLICY_OWNER';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__GUID-6CDF10DD-3E08-443C-B178-B34485CF8252">GR_POLICY_OWNER如何影响GRANT和REVOKE操作？</p>
                        <p>已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户无法向其他用户授予或撤消此角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__DV_POLICY_OWNERSTATUSWHENORACLEDATA-B1F50DCC">禁用Oracle Database Vault安全性时的DV_POLICY_OWNER状态</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>只有在启用Oracle Database Vault时，才会强制保护所有Oracle Database Vault角色。</p>
                        <p>如果禁用Oracle Database Vault，则具有<code class="codeph">GRANT ANY ROLE</code>系统特权的任何帐户都可以对受保护的Database Vault角色执行<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="您必须定期禁用然后重新启用Oracle Database Vault，以执行安装Oracle数据库可选产品或功能等活动。">禁用和启用Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70371"></a><div class="props_rev_3"><a id="GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5" name="GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5"></a><h4 id="DVADM-GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5" class="sect4">DV_PUBLIC数据库库PUBLIC角色</h4>
                  <div>
                     <p>不再使用<code class="codeph">DV_PUBLIC</code>角色。
                     </p>
                     <p><code class="codeph">DV_PUBLIC</code>角色仍在安装期间创建，但未授予任何角色或权限。现在，在先前版本中授予<code class="codeph">DV_PUBLIC</code>所有权限都直接授予<code class="codeph">PUBLIC</code>角色。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70376"></a><a id="DVADM70377"></a><a id="DVADM70375"></a><div class="props_rev_3"><a id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F" name="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F"></a><h3 id="DVADM-GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F" class="sect3">注册期间创建的Oracle Database Vault帐户</h3>
               <div>
                  <p>您必须在注册过程中为Oracle Database Vault Owner和Oracle Database Vault Account Manager创建帐户。</p>
                  <p>您必须在安装期间为Oracle Database Vault Owner帐户提供帐户名和密码。创建Oracle Database Vault客户经理是可选的，但强烈建议您更好地分离职责。</p>
                  <p>Oracle Database Vault Owner帐户被授予<code class="codeph">DV_OWNER</code>角色。此帐户可以管理Oracle Database Vault角色和配置。
                  </p>
                  <p>Oracle Database Vault帐户管理器帐户被授予<code class="codeph">DV_ACCTMGR</code>角色。此帐户用于管理数据库用户帐户以便于职责分离。
                  </p>
                  <p>如果您在安装期间选择不创建Oracle Database Vault帐户管理器帐户，则会将<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色授予Oracle Database Vault Owner用户帐户。
                  </p>
                  <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG" title="列出默认的Data Vault数据库帐户">表13-2</a>列出了在安装期间创建的帐户之外所需的Oracle Database Vault数据库帐户。
                  </p>
                  <div class="tblformal" id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG">
                     <p class="titleintable">表13-2 Oracle Database Vault使用的数据库帐户</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Database Vault使用的数据库帐户" width="100%" border="1" summary="lists the default Data Vault database accounts" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d53477e5569">数据库帐户</th>
                              <th align="left" valign="bottom" width="50%" id="d53477e5572">角色和特权</th>
                              <th align="left" valign="bottom" width="27%" id="d53477e5575">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5580" headers="d53477e5569 ">
                                 <p><code class="codeph">DVSYS</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5580 d53477e5572 ">
                                 <p>提供了多个系统和对象权限来支持Oracle Database Vault。在安装结束时撤消使用此帐户创建会话的权限，并且帐户已被锁定。</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5580 d53477e5575 ">
                                 <p>Oracle Database Vault架构和相关对象的所有者</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5591" headers="d53477e5569 ">
                                 <p><code class="codeph">DVF</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5591 d53477e5572 ">
                                 <p>提供了一组有限的系统特权来支持Oracle Database Vault。在安装结束时撤消使用此帐户创建会话的权限，并且帐户已被锁定。</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5591 d53477e5575 ">
                                 <p>为检索因子标识而创建的Oracle Database Vault功能的所有者</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5602" headers="d53477e5569 ">
                                 <p><code class="codeph">LBACSYS</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5602 d53477e5572 ">
                                 <p>使用Oracle Universal Installer自定义安装选项安装Oracle Label Security时会创建此帐户。（安装Oracle Database Vault时不会创建它。）请勿删除或重新创建此帐户。</p>
                                 <p>如果计划将因子与Oracle Label Security策略集成，则必须将此用户指定为使用此因子的域的所有者。有关详细信息，请参阅<a href="integrating-database-vault-with-other-oracle-products.html#GUID-8B571D38-9687-45F3-9BE2-A774CB485505" title="要增强安全性，可以将Oracle Database Vault因子与Oracle Label Security策略集成。">将Oracle Database Vault因子与Oracle Label Security策略配合使用</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5602 d53477e5575 ">
                                 <p>Oracle Label Security架构的所有者</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>您可以创建不同的数据库帐户以实现Oracle Database Vault的职责分离要求。<a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE" title="具有相应描述，角色和特权的数据库帐户">表13-3</a>列出了一些可作为指南的模型数据库帐户。（ <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE" title="具有相应描述，角色和特权的数据库帐户">表13-3中</a>列出的帐户可用作实施Oracle Database Vault角色的指南。这些不是安装期间创建的实际帐户。）
                  </p>
                  <div class="tblformal" id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE">
                     <p class="titleintable">表13-3 Oracle Database Vault数据库帐户模型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="建模Oracle Database Vault数据库帐户" width="100%" border="1" summary="Database accounts with thier respective descriptions and roles and privileges" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d53477e5643">数据库帐户</th>
                              <th align="left" valign="bottom" width="29%" id="d53477e5646">角色和特权</th>
                              <th align="left" valign="bottom" width="54%" id="d53477e5649">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5654" headers="d53477e5643 ">
                                 <p><code class="codeph">EBROWN</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5654 d53477e5646 ">
                                 <p><code class="codeph">DV_OWNER</code> （带<code class="codeph">DV_ADMIN</code>和<code class="codeph">DV_SECANALYST</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5654 d53477e5649 ">
                                 <p>作为Oracle Database Vault领域的领域所有者的帐户。这个帐户可以：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>执行<code class="codeph">DVSYS</code>包</p>
                                    </li>
                                    <li>
                                       <p>授予<code class="codeph">DVSYS</code>架构对象的权限</p>
                                    </li>
                                    <li>
                                       <p>在<code class="codeph">DVSYS</code>架构中选择对象</p>
                                    </li>
                                    <li>
                                       <p>监控Oracle Database Vault活动</p>
                                    </li>
                                    <li>
                                       <p>运行有关Oracle Database Vault配置的报告</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5698" headers="d53477e5643 ">
                                 <p><code class="codeph">JGODFREY</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5698 d53477e5646 ">
                                 <p><code class="codeph">DV_ACCTMGR</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5698 d53477e5649 ">
                                 <p>管理数据库帐户和配置文件的帐户。这个帐户可以：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>创建，更改和删除用户</p>
                                    </li>
                                    <li>
                                       <p>创建，更改和删除配置文件</p>
                                    </li>
                                    <li>
                                       <p>授予并撤消<code class="codeph">CREATE SESSION</code>权限</p>
                                    </li>
                                    <li>
                                       <p>授予和撤消<code class="codeph">DV_ACCTMGR</code>角色，但<code class="codeph">DV_ACCTMGR</code>是此帐户是在Database Vault安装期间创建的（此帐户是使用<code class="codeph">ADMIN</code>选项创建的）</p>
                                    </li>
                                    <li>
                                       <p>授予并撤消<code class="codeph">CONNECT</code>角色</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>此帐户无法创建角色，也无法授予<code class="codeph">RESOURCE</code>或<code class="codeph">DBA</code>角色。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5748" headers="d53477e5643 ">
                                 <p><code class="codeph">RLAYTON</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5748 d53477e5646 ">
                                 <p><code class="codeph">DV_ADMIN</code> （带<code class="codeph">DV_SECANALYST</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5748 d53477e5649 ">
                                 <p>帐户充当访问控制管理员。这个帐户可以：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>执行<code class="codeph">DVSYS</code>包</p>
                                    </li>
                                    <li>
                                       <p>监控Oracle Database Vault活动</p>
                                    </li>
                                    <li>
                                       <p>运行有关Oracle Database Vault配置的报告</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>此帐户无法直接更新<code class="codeph">DVSYS</code>表。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5784" headers="d53477e5643 ">
                                 <p><code class="codeph">PSMYTHE</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5784 d53477e5646 ">
                                 <p><code class="codeph">DV_SECANALYST</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5784 d53477e5649 ">
                                 <p>帐户运行Oracle Database Vault报告</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="integrating-database-vault-with-other-oracle-products.html#GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE" title="您可以将现有Oracle Database Vault用户帐户配置为企业用户帐户。">将Oracle Database Vault帐户配置为企业用户帐户</a></li>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" title="作为最佳实践，您应该维护DV_OWNER和DV_ACCTMGR角色的备份帐户。">备份Oracle Database Vault帐户</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。">Oracle Database Vault架构，角色和帐户</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" name="GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC"></a><h3 id="DVADM-GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" class="sect3">备份Oracle Database Vault帐户</h3>
               <div>
                  <p>作为最佳实践，您应该维护<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色的备份帐户。
                  </p>
                  <p>Oracle Database Vault注册过程需要为<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色创建日常和备份帐户。如果被授予其中一个角色的用户忘记了密码或离开了组织，则应保留并维护这些帐户作为安全措施。然后，您可以登录备份帐户以恢复密码或将角色授予新帐户。这些应仅用作特权帐户管理系统或组织破解玻璃（或紧急密码恢复）系统中保持安全的备份帐户。授予用户其中一个角色时，请在<code class="codeph">GRANT</code>语句中包含<code class="codeph">WITH ADMIN OPTION</code>子句。
                  </p>
                  <p>由于Oracle Database Vault实现了强大的职责分离，因此无法访问<code class="codeph">DV_OWNER</code>帐户将迫使您重建数据库。<code class="codeph">SYS</code>帐户无法覆盖<code class="codeph">DV_OWNER</code>帐户</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="troubleshooting-oracle-database-vault.html#GUID-6A419E95-F2E4-4F37-8B84-EFB78989BBDB" title="备份帐户可以帮助您为已被授予DV_OWNER和DV_ACCTMGR角色的用户重置丢失的密码。">重置Oracle Database Vault帐户密码</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。">Oracle Database Vault架构，角色和帐户</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00652.how-to-use-XML-DB.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An overview of the various ways of using Oracle XML DB is presented."></meta>
      <meta name="description" content="An overview of the various ways of using Oracle XML DB is presented."></meta>
      <title>如何使用Oracle XML DB概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="An overview of the various ways of using Oracle XML DB is presented."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="getting-started-with-XML-DB.html" title="Previous" type="text/html"></link>
      <link rel="next" href="manipulation-of-XML-in-XML-DB.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-XML-DB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="manipulation-of-XML-in-XML-DB.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-basics.html" property="item" typeof="WebPage"><span property="name">Oracle XML DB基础知识</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">如何使用Oracle XML DB概述</li>
            </ol>
            <a id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398" name="GUID-757B4470-851B-47B7-AB78-81F47ECE5398"></a><a id="ADXDB0300"></a>
            
            <h2 id="ADXDB-GUID-757B4470-851B-47B7-AB78-81F47ECE5398" class="sect2"><span class="enumeration_chapter">3</span>如何使用Oracle XML DB概述</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='how-to-use-XML-DB'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>介绍了使用Oracle XML DB的各种方法的概述。</p>
               <p>此概述说明了如何执行以下操作：创建和分区<code class="codeph">XMLType</code>表和列;强制数据完整性，加载，查询和更新数据库XML内容;并从关系数据生成XML数据。它还解释了Oracle XML DB如何确定哪些字符集用于XML文档。
               </p>
               <div class="section">
                  <p class="subhead1" id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398__GUID-3110B980-4BC0-4DA8-B5FE-4CE8010C1B95">采购订单文档说明了关键的XML模式功能</p>
                  <p>本章介绍的许多示例都说明了在采购订单文档中访问和管理XML内容的技术。采购订单是高度结构化的文档，但您也可以使用此处显示的技术来处理结构很少的XML文档。</p>
                  <p>此处用于示例的采购订单文档符合采购订单XML架构，该架构演示了典型XML文档的一些关键功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>全局元素<code class="codeph">PurchaseOrder</code>是<code class="codeph">complexType</code> <code class="codeph">PurchaseOrderType</code>的实例</p>
                     </li>
                     <li>
                        <p><code class="codeph">PurchaseOrderType</code>定义组成<code class="codeph">PurchaseOrder</code>元素的节点集</p>
                     </li>
                     <li>
                        <p><code class="codeph">LineItems</code>元件由集合的<code class="codeph">LineItem</code>元素</p>
                     </li>
                     <li>
                        <p>每个<code class="codeph">LineItem</code>元素由两个元素组成： <code class="codeph">Description</code>和<code class="codeph">Part</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">Part</code>元素具有属性<code class="codeph">Id</code> ， <code class="codeph">Quantity</code>和<code class="codeph">UnitPrice</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B">创建XMLType表和列</a><br>创建<code class="codeph">XMLType</code>的表或列非常简单，因为它是一种抽象数据类型。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242">在存储为二进制XML的XMLType数据上创建虚拟列</a><br>您只能为存储为二进制XML的<code class="codeph">XMLType</code>数据创建虚拟列。这些列可用于分区或约束数据。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5">对包含存储为二进制XML的XMLType数据的表进行分区</a><br>您可以对包含存储为二进制XML的<code class="codeph">XMLType</code>数据的表进行分区。</li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596">使用数据库实施XML数据完整性</a><br>您可以将SQL和XML的强大功能与数据库强制执行规则的能力结合起来。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B">将XML内容加载到Oracle XML DB中</a><br>有几种方法可以将XML内容加载到Oracle XML DB中。</li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75">查询Oracle XML DB中存储的XML内容</a><br>有许多方法可以在Oracle XML DB中查询XML内容并检索它。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8">更新存储在Oracle XML DB中的XML内容</a><br>您可以更新XML内容，替换文档的全部内容或仅替换文档的特定部分。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B">从关系数据生成XML数据</a><br>您可以使用Oracle XML DB从关系数据生成XML数据。
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D">XML文档的字符集</a><br>Oracle XML DB有几种方法可以确定哪些字符集用于XML文档</li>
               </ul>
               <div class="infoboxnotealso" id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398__GUID-6E7C00BE-B33D-4314-BB86-CE698C0D0877">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started-with-XML-DB.html#GUID-39A9B429-EFD9-4FC0-AB93-35324AF6D6AE" title="在规划Oracle XML DB应用程序时，考虑一些初步设计标准是值得的。">Oracle XML DB的应用程序设计注意事项，适用</a>于大多数用途的推荐Oracle XML DB功能</p>
                     </li>
                     <li>
                        <p><a href="XMLType-APIs.html#GUID-6209297F-DBE4-4F31-85F1-4083BF5BDE01" title="您可以使用Oracle XML DB XMLType PL / SQL，Java，C API和Oracle Data Provider for .NET（ODP.NET）来访问和操作XML数据。">XMLType API</a> ， <a href="XML-Schema-and-object-relational-XMLType.html#GUID-817F95DE-D604-41DC-BCDE-76CDE30F9176" title="涵盖了XML Schema的使用和XMLType数据的对象关系存储。">XML Schema和Object-Relational XMLType</a>以及<a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML DB Repository允许您对数据进行版本控制，实现和管理安全性，并使用API来访问和操作存储库资源。">Oracle XML DB Repository，</a>以获取有关更高级Oracle XML DB功能的信息</p>
                     </li>
                     <li>
                        <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD" title="提供了各种示例中使用的采购订单XML模式的完整列表。">购买订单XML模式</a> ，用于本章示例中使用的采购订单XML模式</p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-DB-basics.html#GUID-8611495B-A091-4B11-9E65-E8AD20D50D97" title="介绍了Oracle XML DB的基础知识。">Oracle XML DB基础知识</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5801"></a><a id="ADXDB5802"></a><a id="ADXDB4044"></a><div class="props_rev_3"><a id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B" name="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B"></a><h3 id="ADXDB-GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B" class="sect3"><span class="enumeration_section">3.1</span>创建XMLType表和列</h3>
               <div>
                  <p>创建<code class="codeph">XMLType</code>的表或列非常简单，因为它是一种抽象数据类型。
                  </p>
                  <div class="section">
                     <p>基本的<code class="codeph">CREATE TABLE</code>语句（不指定存储选项且不指定XML模式）将<code class="codeph">XMLType</code>数据存储为二进制XML。 <a id="fn_1" name="fn_1" href="#fn_1" data="" the="" xmltype="" storage="" model="" for="" xml="" schema-based="" is="" whatever="" was="" specified="" during="" registration="" of="" referenced="" schema.="" if="" no="" registration,="" then="" object-relational="" used=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                     <p><a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFCFCDG">示例3-1</a>创建<code class="codeph">XMLType</code>列， <a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFJACCB">示例3-2</a>创建<code class="codeph">XMLType</code>表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFCFCDG">
                     <p class="titleinexample">示例3-1使用XMLType列创建表</p><pre class="pre codeblock"><code>CREATE TABLE mytable1（key_column VARCHAR2（10）PRIMARY KEY，xml_column <span class="bold">XMLType</span> ）;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFJACCB">
                     <p class="titleinexample">示例3-2创建XMLType表</p><pre class="pre codeblock"><code>CREATE TABLE mytable2 OF <span class="bold">XMLType</span> ;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5" title="您可以创建受XML架构定义的全局元素约束的XMLType表和列。在XMLType列被约束到特定元素和特定模式之后，它只能包含符合该元素的模式定义的文档。">基于XML模式创建XMLType表和列</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6339"></a><a id="ADXDB6340"></a><a id="ADXDB6338"></a><div class="props_rev_3"><a id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" name="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242"></a><h3 id="ADXDB-GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" class="sect3"><span class="enumeration_section">3.2</span>在XMLType数据上创建虚拟列存储为二进制XML</h3>
               <div>
                  <p>您只能为存储为二进制XML的<code class="codeph">XMLType</code>数据创建虚拟列。这些列可用于分区或约束数据。
                  </p>
                  <div class="section">
                     <p>您为XML数据创建虚拟列的方式与为其他数据类型创建虚拟列的方式相同，但您使用的语法略有不同。（特别是，您不能指定与列定义关联的约束。）</p>
                     <p>您可以根据涉及该元素或属性的SQL表达式定义基于XML元素或属性的虚拟列。因此该列基于功能。</p>
                     <p>您可以使用SQL / XML函数<code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>来执行此操作，如<a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">示例3-3</a>和<a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">示例3-4中所示</a> 。函数<code class="codeph">XMLQuery</code>的XQuery表达式参数必须是仅使用子轴和属性轴的简单XPath表达式。
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">例3-3</a>创建<code class="codeph">XMLType</code>表<code class="codeph">po_binaryxml</code> ，存储为二进制XML。它创建虚拟列<code class="codeph">date_col</code> ，它表示属性<code class="codeph">/PurchaseOrder/@orderDate</code> <code class="codeph">date_col</code>的XML数据。
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">示例3-4</a>创建了关系表<code class="codeph">rel_tab</code> ，它有两列：主键的<code class="codeph">VARCHAR2</code>列<code class="codeph">key_col</code>和XML数据的<code class="codeph">XMLType</code>列<code class="codeph">xml_col</code> 。
                     </p>
                     <p>由于<code class="codeph">XMLType</code>是抽象数据类型，因此如果在<code class="codeph">XMLType</code>表或列上创建虚拟列，则会<span class="italic">隐藏</span>这些列。例如，它们不会出现在<code class="codeph">DESCRIBE</code>语句中。这种隐藏使得使用诸如<code class="codeph">DESCRIBE</code>操作的工具能够正常运行而不会被虚拟列误导。
                     </p>
                     <div class="infoboxnote" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__GUID-A0DFADB0-98D4-4242-BEFA-11783DCB7600">
                        <p class="notep1">注意：</p>
                        <p>如果使用虚拟列进行间隔分区，则它<span class="italic">必须</span>具有数据类型<code class="codeph">NUMBER</code>或<code class="codeph">DATE</code> ，否则会引发错误。使用SQL / XML函数<code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>转换为正确的数据类型。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__GUID-B28290E4-574E-45AB-A7E4-712A0D37729F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用虚拟列创建表的信息，请<a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">
                     <p class="titleinexample">示例3-3在XMLType表中为XML属性创建虚拟列</p><pre class="pre codeblock"><code>CREATE TABLE po_binaryxml OF XMLType XMLTYPE STORE作为二进制XML <span class="bold">VIRTUAL COLUMNS</span> （date_col AS（XMLCast（XMLQuery（'/ PurchaseOrder / @orderDate'PASSING OBJECT_VALUE RETURNING CONTENT）AS DATE）））;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">
                     <p class="titleinexample">示例3-4在XMLType列中为XML属性创建虚拟列</p><pre class="pre codeblock"><code>CREATE TABLE reltab（key_col VARCHAR2（10）PRIMARY KEY，xml_col XMLType）XMLTYPE xml_col存储为二进制XML <span class="bold">虚拟列</span> （date_col AS（XMLCast（XMLQuery（'/ PurchaseOrder / @orderDate'PASSING xml_col返回内容），日期）））;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" title="您可以对包含存储为二进制XML的XMLType数据的表进行分区。">对包含存储为二进制XML的XMLType数据的表进行分区</a></li>
                        <li><a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" title="您可以使用SQL约束和数据库触发器来确保数据完整性属性，例如唯一性和外键关系。">使用SQL约束实现参照完整性</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6342"></a><a id="ADXDB6343"></a><a id="ADXDB6341"></a><div class="props_rev_3"><a id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" name="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5"></a><h3 id="ADXDB-GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" class="sect3"><span class="enumeration_section">3.3</span>对包含存储为二进制XML的XMLType数据的表进行分区</h3>
               <div>
                  <p>您可以对包含存储为二进制XML的<code class="codeph">XMLType</code>数据的表进行分区。</p>
                  <div class="section">
                     <p>有两种可能性：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该表是关系型的，具有<code class="codeph">XMLType</code>列和非<code class="codeph">XMLType</code>列。
                           </p>
                        </li>
                        <li>
                           <p>该表的数据类型为<code class="codeph">XMLType</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>对于<code class="codeph">XMLType</code>列，您使用非<code class="codeph">XMLType</code>列作为分区键。这在<a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCHHDE">例3-5中</a>说明。
                     </p>
                     <p>这个案例没有提供任何关于XML数据的新内容或特定内容。其中一列包含<code class="codeph">XMLType</code>数据这一事实无关紧要。对于另一种情况，情况有所不同：对<code class="codeph">XMLType</code>表进行分区。
                     </p>
                     <p>XML数据有自己的结构，（ <code class="codeph">XMLType</code>对象关系存储除外）不直接反映在数据库数据结构中。对于存储为二进制XML的<code class="codeph">XMLType</code>数据，单个XML元素和属性不会映射到单个数据库列或表。
                     </p>
                     <p>因此，为了根据各个元素或属性的值对二进制XML数据进行分区，关系数据的标准方法不适用。相反，你必须创建一个代表相关的XML数据<span class="italic">虚拟列</span> ，然后使用这些虚拟列来定义你需要的约束或分区。
                     </p>
                     <p>技术如下：</p>
                     <ol>
                        <li>
                           <p>定义与您感兴趣的XML元素或属性相对应的虚拟列。</p>
                        </li>
                        <li>
                           <p>使用这些列将<code class="codeph">XMLType</code>数据作为一个整体进行分区。
                           </p>
                        </li>
                     </ol>
                     <p><a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCIJEF">示例3-6中</a>说明了这一点：虚拟列<code class="codeph">date_col</code>以采购订单文档中元素<code class="codeph">PurchaseOrder</code>的<code class="codeph">orderDate</code>属性为目标。此列用作分区键。
                     </p>
                     <p>为了使用包含XML数据的分区表获得最佳性能，Oracle建议您使用<code class="codeph">XMLType</code>列而不是<code class="codeph">XMLType</code>表，因此使用非<code class="codeph">XMLType</code>列进行分区。
                     </p>
                     <div class="infoboxnote" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__GUID-4D49DA2D-CDB6-4130-8B35-13F90D076A20">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>仅当存储模型是二进制XML时，才可以使用虚拟列对<code class="codeph">XMLType</code>表进行分区。支持范围，散列和列表分区。
                              </p>
                           </li>
                           <li>
                              <p>从11g第2版（11.2）开始，支持对存储为XML的<code class="codeph">XMLType</code>表进行分区。它仅支持如果数据库兼容性（参数<code class="codeph">compatible</code>文件<code class="codeph">init.ora</code> ）为11.2或更高。
                              </p>
                           </li>
                           <li>
                              <p>如果关系表具有<code class="codeph">XMLType</code> <span class="italic">列</span> ，则无法使用该列对表进行分区以定义XML数据的虚拟列。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCHHDE">
                     <p class="titleinexample">示例3-5对具有XMLType列的关系表进行分区</p><pre class="pre codeblock"><code>CREATE TABLE reltab（key_col VARCHAR2（10）PRIMARY KEY，xml_col XMLType）XMLTYPE xml_col存储作为BANGARY XML <span class="bold">PARTITION BY RANGE（key_col）</span> <span class="bold">（PARTITION P1值小于（'abc'），</span> <span class="bold">PARTITION P2值小于（MAXVALUE））</span> ;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCIJEF">
                     <p class="titleinexample">示例3-6对XMLType表进行分区</p><pre class="pre codeblock"><code>CREATE TABLE po_binaryxml OF XMLType XMLTYPE STORE作为二进制XML <span class="bold">VIRTUAL COLUMNS</span> （date_col AS（XMLCast（XMLQuery（'/ PurchaseOrder / @ orderDate'PASSING OBJECT_VALUE RETURNING CONTENT）作为日期）））按<span class="bold">范围划分（date_col）</span> <span class="bold">（PARTITION orders2001 VALUES LESS）（ to_date（'01 -JAN-2002'）），</span> <span class="bold">PARTITION orders2002 VALUES LESS（MAXVALUE））</span> ;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="indexes-for-XMLType-data.html#GUID-7F44BE51-8F1A-487F-84CD-054E08F7A652" title="如果使用范围，列表或散列分区对XMLType表或具有XMLType列的表进行分区，则还可以在表上创建XMLIndex索引。您可以选择确保并行执行索引创建和维护。">XMLIndex分区和并行</a></li>
                        <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-8713E2AD-0D5F-4076-A2DE-BB0ECEFBFEA8" title="使用对象关系存储的XMLType列对对象关系XMLType表或表进行分区时，使用列表，范围或散列分区，数据中的任何有序集合表（OCT）或外联表默认情况下会相应地自动分区。">分区存储对象 - 关系的XMLType表和列的概述</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4101"></a><a id="ADXDB0345"></a><div class="props_rev_3"><a id="GUID-8320CE79-5536-4252-BAF4-746692EBA596" name="GUID-8320CE79-5536-4252-BAF4-746692EBA596"></a><h3 id="ADXDB-GUID-8320CE79-5536-4252-BAF4-746692EBA596" class="sect3"><span class="enumeration_section">3.4</span>使用数据库实施XML数据完整性</h3>
               <div>
                  <p>您可以将SQL和XML的强大功能与数据库强制执行规则的能力结合起来。</p>
                  <div class="section">
                     <p>您可以使用SQL来补充XML模式提供的功能。只有格式良好的XML文档才能存储在<code class="codeph">XMLType</code>表或列中。<strong class="term">格式良好的</strong> XML文档符合XML声明中声明的XML版本的语法。这包括具有单个根元素，正确嵌套的标记等。此外，如果<code class="codeph">XMLType</code>表或列被约束为XML模式，则只有符合该XML模式的文档才能存储在该表或列中。任何在基于XML模式的<code class="codeph">XMLType</code>存储或插入任何其他类型的XML文档的尝试都会引发错误。<a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596__BABCBCJJ">例3-7</a>说明了这一点。
                     </p>
                     <p>仅当将内容直接插入<code class="codeph">XMLType</code>表时才会发生此类错误。它表示Oracle XML DB无法将该文档识别为XML架构定义的类的成员。要使文档被识别为模式定义的类的成员，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XML文档根元素的名称必须与用于定义<code class="codeph">XMLType</code>表或列的全局元素的名称匹配。
                           </p>
                        </li>
                        <li>
                           <p>XML文档必须包含<code class="codeph">XMLSchema-instance</code>名称空间中的相应属性，或者XML文档必须使用<code class="codeph">XMLType</code>构造函数或<code class="codeph">XMLType</code>方法<code class="codeph">createSchemaBasedXML()</code>与XML模式显式关联。
                           </p>
                        </li>
                     </ul>
                     <p>如果约束XML模式声明了<code class="codeph">targetNamespace</code> ，则实例文档必须包含相应的名称空间声明，以将文档的根元素放在XML模式定义的<code class="codeph">targetNamespace</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-8320CE79-5536-4252-BAF4-746692EBA596__GUID-9A41BA8D-9224-4712-BB73-3D695C950734">
                        <p class="notep1">注意：</p>
                        <p>XML约束仅在单个XML文档中强制实施。跨多个XML文档强制实施数据库（SQL）约束。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8320CE79-5536-4252-BAF4-746692EBA596__BABCBCJJ">
                     <p class="titleinexample">示例3-7尝试插入不正确的XML文档时出错</p><pre class="pre codeblock"><code>INSERT INTO purchaseorder VALUES（XMLType（bfilename（'XMLDIR'，'Invoice.xml'），nls_charset_id（'AL32UTF8'）））VALUES（XMLType（bfilename（'XMLDIR'，'Invoice.xml'），nls_charset_id（'AL32UTF8'） ）））*第2行的错误：ORA-19007：架构 - 与预期的http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd不匹配。</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1">使用SQL约束实现参照完整性</a><br>您可以使用SQL约束和数据库触发器来确保数据完整性属性，例如唯一性和外键关系。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transformation-and-validation-of-XMLType-data.html#GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" title="将基于XML模式的文档插入数据库时，可以部分或完全验证它们。">部分和完整XML模式验证</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4110"></a><a id="ADXDB6344"></a><a id="ADXDB6345"></a><a id="ADXDB4112"></a><a id="ADXDB4109"></a><div class="props_rev_3"><a id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" name="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1"></a><h4 id="ADXDB-GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" class="sect4"><span class="enumeration_section">3.4.1</span>使用SQL约束实现参照完整性</h4>
                  <div>
                     <p>您可以使用SQL约束和数据库触发器来确保数据完整性属性，例如唯一性和外键关系。</p>
                     <div class="section">
                        <p>W3C XML Schema Recommendation定义了一种用于定义XML文档内容的强大语言。但是，有一些简单的数据管理概念，W3C XML Schema Recommendation目前尚未解决这些概念。这些包括确保元素或属性的值具有以下任一属性的能力：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它在一组XML文档（ <code class="codeph">UNIQUE</code>约束）中是<code class="codeph">UNIQUE</code> 。
                              </p>
                           </li>
                           <li>
                              <p>它存在于当前文档之外的特定数据源中（ <code class="codeph">FOREIGN KEY</code>约束）。
                              </p>
                           </li>
                        </ul>
                        <p>但是，使用Oracle XML DB，您可以强制执行此类约束。用于强制XML数据完整性的机制与用于强制关系数据完整性的机制相同。可以通过指定SQL约束来强制执行简单规则，例如唯一性和外键关系。可以通过指定数据库触发器来实施更复杂的规则。</p>
                        <p>除了可以使用XML Schema构造指定的规则之外，Oracle XML DB还允许您使用数据库来强制执行XML内容的业务规则。无论XML是直接插入表还是使用Oracle XML DB Repository支持的协议之一上载，数据库都会强制执行这些业务规则。</p>
                        <p>XML数据有自己的结构，（ <code class="codeph">XMLType</code>对象关系存储除外）不直接反映在数据库数据结构中。对于存储为二进制XML的<code class="codeph">XMLType</code>数据，单个XML元素和属性不会映射到单个数据库列或表。
                        </p>
                        <p>因此，为了根据各个元素或属性的值约束二进制XML数据，关系数据的标准方法不适用。相反，你必须创建一个代表相关的XML数据<span class="italic">虚拟列</span> ，然后使用这些虚拟列来定义你所需要的约束。
                        </p>
                        <p>技术如下：</p>
                        <ol>
                           <li>
                              <p>定义与您感兴趣的XML元素或属性相对应的虚拟列。</p>
                           </li>
                           <li>
                              <p>使用这些列可以将<code class="codeph">XMLType</code>数据作为一个整体进行约束。
                              </p>
                           </li>
                        </ol>
                        <p>二进制XML数据可以位于关系表的<code class="codeph">XMLType</code>表或<code class="codeph">XMLType</code>列中。在前一种情况下，如果您愿意，可以包括创建约束作为<code class="codeph">CREATE TABLE</code>语句的一部分。对于后一种情况，必须在创建关系表后使用<code class="codeph">ALTER TABLE</code>语句创建约束。
                        </p>
                        <div class="infoboxnote" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__GUID-86132A6B-687F-46B6-981D-3A338085F5CD">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../errmg/index.html" target="_blank"><span><cite>Oracle数据库错误消息参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">
                        <p class="titleinexample">示例3-8使用虚拟列约束二进制XML表</p>
                        <p>此示例说明了<code class="codeph">XMLType</code>表的技术。它使用采购订单文档中的<code class="codeph">Reference</code>元素定义虚拟列<code class="codeph">c_xtabref</code> 。它在该列上定义了唯一性约束<code class="codeph">reference_is_unique</code> ，这确保了node <code class="codeph">/PurchaseOrder/Reference/text()</code>值在存储在表中的所有文档中是唯一的。它用<code class="codeph">OE.purchaseorder</code>的数据填充表格。然后它尝试插入一个违反唯一性约束的重复文档<code class="codeph">DuplicateReference.xml</code> ，从而引发错误。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_binaryxml OF XMLType（ <span class="bold">CONSTRAINT</span> reference_is_unique <span class="bold">UNIQUE</span> （ <span class="bold">c_xtabref</span> ））XMLTYPE STORE作为二进制XML <span class="bold">虚拟列</span> （ <span class="bold">c_xtabref</span> AS（XMLCast（XMLQuery（'/ PurchaseOrder / Reference'PASSING OBJECT_VALUE RETURNING CONTENT）AS VARCHAR2（32））））; INSERT INTO po_binaryxml SELECT OBJECT_VALUE FROM OE.purchaseorder;创建了132行。INSERT INTO po_binaryxml VALUES（XMLType（bfilename（'XMLDIR'，'DuplicateReference.xml'），nls_charset_id（'AL32UTF8'）））;在第1行INSERT INTO po_binaryxml * ERROR： <span class="bold">ORA-00001：违反了唯一约束（OE.REFERENCE_IS_UNIQUE）</span>
 </pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGHCEDI">
                        <p class="titleinexample">示例3-9使用虚拟列约束二进制XML列：唯一性</p>
                        <p>此示例说明了关系表的<code class="codeph">XMLType</code>列的技术。它定义了虚拟列<code class="codeph">c_xcolref</code>和唯一性约束<code class="codeph">fk_ref</code> ，它引用了<a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">例3-8中</a>定义的唯一性约束。与<a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">示例3-8中一样</a> ，这确保了node <code class="codeph">/PurchaseOrder/Reference/text()</code>值在存储在<code class="codeph">XMLType</code>列<code class="codeph">po_binxml_col</code>所有文档中是唯一的。
                        </p>
                        <p>该示例使用<code class="codeph">OE.purchaseorder</code>的相同数据填充<code class="codeph">XMLType</code>列。然后它尝试插入违反唯一性约束的重复文档<code class="codeph">DuplicateReference.xml</code> ，从而引发错误。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_reltab（po_binxml_col XMLType）XMLTYPE po_binxml_col存储为二进制XML虚拟列（ <span class="bold">c_xcolref</span> AS（XMLCast（XMLQuery（'/ PurchaseOrder / Reference'PASSING po_binxml_col RETURNING CONTENT）AS VARCHAR2（32））））; ALTER TABLE po_reltab <span class="bold">ADD CONSTRAINT</span> reference_is_unique <span class="bold">UNIQUE</span> （ <span class="bold">c_xcolref</span> ））; INSERT INTO po_reltab SELECT OBJECT_VALUE FROM OE.purchaseorder; INSERT INTO po_reltab VALUES（XMLType（bfilename（'XMLDIR'，'DuplicateReference.xml'），nls_charset_id（'AL32UTF8'）））;在第1行INSERT INTO po_reltab * ERROR： <span class="bold">ORA-00001：违反了唯一约束（OE.REFERENCE_IS_UNIQUE）</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGDJJFJ">
                        <p class="titleinexample">示例3-10使用虚拟列约束二进制XML列：外键</p>
                        <p>此示例与<a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGHCEDI">示例3-9</a>类似，但它使用外键约束<code class="codeph">fk_ref</code> ，该约束引用具有<a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">示例3-8中</a>定义的唯一性约束的列。在文件<code class="codeph">DuplicateReference.xml</code>插入文档在此处成功，因为该文档位于表<code class="codeph">po_binaryxml</code> （虚拟）列<code class="codeph">c_tabref</code>中。插入与表<code class="codeph">po_binaryxml</code>中的任何文档都不匹配的文档。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_reltab（po_binxml_col XMLType）XMLTYPE po_binxml_col存储为二进制XML虚拟列（ <span class="bold">c_xcolref</span> AS（XMLCast（XMLQuery（'/ PurchaseOrder / Reference'PASSING po_binxml_col RETURNING CONTENT）AS VARCHAR2（32））））; ALTER TABLE po_reltab <span class="bold">ADD CONSTRAINT fk_ref FOREIGN KEY（c_xcolref）</span> <span class="bold">REFERENCES po_binaryxml（c_xtabref）;</span> INSERT INTO po_reltab VALUES（XMLType（bfilename（'XMLDIR'，'DuplicateReference.xml'），nls_charset_id（'AL32UTF8'）））; INSERT INTO po_reltab VALUES（' <span class="bold">&lt;PurchaseOrder&gt; &lt;Reference&gt; Not Compliant &lt;/ Reference&gt; &lt;/ PurchaseOrder&gt;</span> '）; INSERT INTO po_reltab VALUES（'&lt;PurchaseOrder&gt; &lt;Reference&gt; Not Compliant &lt;/ Reference&gt; &lt;/ PurchaseOrder&gt;'）*第1行的错误： <span class="bold">ORA-02291：违反完整性约束（OE.FK_REF） - 未找到父键</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__BABHEHEG">
                        <p class="titleinexample">示例3-11使用FTP加载XML时强制执行数据库完整性</p>
                        <p>当基于XML模式的XML内容加载到Oracle XML DB Repository时，也会强制使用约束和触发器定义的完整性规则。此示例显示，当使用协议（如FTP）将基于XML模式的XML内容上载到Oracle XML DB存储库时，也会强制执行数据库完整性。在这种情况下，除了唯一性之外，还违反了其他约束。</p><pre class="oac_no_warn" dir="ltr">$ ftp localhost 2100已连接到localhost。220 mdrake-sun FTP服务器（Oracle XML DB / Oracle数据库10g企业版10.1.0.0.0版 -  Beta）准备就绪。名称（localhost：oracle10）：QUINE 331 QUINE密码所需的密码： <span class="italic">密码</span> 230 QUINE登录ftp&gt; cd / source / schemas 250 CWD命令成功ftp&gt; put InvalidReference.xml 200 PORT命令成功150 ASCII数据连接550-错误响应ORA -00604：递归SQL级别1发生错误ORA-31154：XML文档无效ORA-19202：XML处理错误LSX-00221：“SBELL-20021009”太短（最小长度为18）ORA-06512：at“ SYS.XMLTYPE“，第333行ORA-06512：at”QUINE.VALIDATE_PURCHASEORDER“，第3行ORA-04088：执行触发器'QUINE.VALIDATE_PURCHASEORDER'时出错550结束错误响应ftp&gt; put InvalidElement.xml 200 PORT命令成功150 ASCII数据连接550-错误响应ORA-30937：父“PurchaseOrder”中的“UserName”（命名空间“## local”）没有模式定义550结束错误响应ftp&gt; put DuplicateReference.xml 200 PORT命令成功150 ASCII数据连接550-错误响应ORA-00604：重复发生错误sive SQL级别1 ORA-00001：违反了唯一约束（QUINE.REFERENCE_IS_UNIQUE）550结束错误响应ftp&gt; put InvalidUser.xml 200 PORT命令成功150 ASCII数据连接550-错误响应ORA-00604：递归SQL级别1 ORA发生错误-02291：违反了完整性约束（QUINE.USER_IS_VALID） - 未找到父键550结束错误响应</pre><p>使用协议上载文档时发生错误时，Oracle XML DB会为客户端提供完整的SQL错误跟踪。如何解释错误并向您报告错误由客户端应用程序中内置的错误处理决定。某些客户端（如命令行FTP工具）报告Oracle XML DB返回的错误，而其他客户端（如Microsoft Windows资源管理器）则报告一般错误消息。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-EEF1789B-F8B0-4371-96FB-40D0547060BA" title="对于以对象关系存储的XMLType数据，您可以为在XML文档中仅出现一次的元素和属性指定典型的关系约束。">XMLType表和列的关系约束规范</a></li>
                           <li><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" title="您只能为存储为二进制XML的XMLType数据创建虚拟列。这些列可用于分区或约束数据。">在存储为二进制XML的XMLType数据上创建虚拟列</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596" title="您可以将SQL和XML的强大功能与数据库强制执行规则的能力结合起来。">使用数据库强制执行XML数据完整性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4048"></a><div class="props_rev_3"><a id="GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" name="GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B"></a><h3 id="ADXDB-GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" class="sect3"><span class="enumeration_section">3.5将</span> XML内容加载到Oracle XML DB中</h3>
               <div>
                  <p>有几种方法可以将XML内容加载到Oracle XML DB中。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-23956CE8-C61D-4178-968E-5686CAD80C08">使用SQL或PL / SQL加载XML内容</a><br></li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE">使用Java加载XML内容</a><br>使用DOM，您可以使用Java来加载<code class="codeph">SQLXML</code>实例。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-23802182-8EF2-46C5-966B-03D9F11A258D">使用C加载XML内容</a><br>使用DOM，您可以使用C代码加载<code class="codeph">XMLType</code>实例。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-B271C430-A1FB-4818-A3F4-056C59CC5553">加载包含小型XML文档的大型XML文件</a><br>在加载由一组较小的XML文档组成的大型XML文件时，使用Simple API for XML（SAX）解析将文件分解为一组较小的文档，然后插入这些文档通常会更有效。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-157EE50B-6004-4B30-BC85-AC60581C930E">使用SQL * Loader加载大型XML文件</a><br>您可以使用SQL * Loader将大量XML数据加载到Oracle数据库中。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B">使用DBMS_XDB_REPOS将XML文档加载到存储库中</a><br>您可以使用PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>将XML文档加载到Oracle XML DB存储库中。您可以使用基于路径的技术而不是基于表的技术来访问存储库文档（资源）。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C4D83D80-7B69-4C57-B817-2699722D28A3">使用协议将文档加载到存储库</a><br>您可以使用流行的协议将文档（包括XML文档）从本地文件系统加载到Oracle XML DB Repository中。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5988"></a><a id="ADXDB4051"></a><a id="ADXDB4049"></a><div class="props_rev_3"><a id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08" name="GUID-23956CE8-C61D-4178-968E-5686CAD80C08"></a><h4 id="ADXDB-GUID-23956CE8-C61D-4178-968E-5686CAD80C08" class="sect4"><span class="enumeration_section">3.5.1</span>使用SQL或PL / SQL加载XML内容</h4>
                  <div>
                     <div class="section">
                        <p>您可以在SQL或PL / SQL中使用简单的<code class="codeph">INSERT</code>操作将XML文档加载到数据库中。
                        </p>
                        <p>在将文档存储为<code class="codeph">XMLType</code>列或表之前，必须使用其中一个<code class="codeph">XMLType</code>构造函数将其转换为<code class="codeph">XMLType</code>实例。
                        </p>
                        <p><code class="codeph">XMLType</code> <strong class="term">构造函数</strong>允许从不同的源创建<code class="codeph">XMLType</code>实例，包括<code class="codeph">VARCHAR</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>值。构造函数接受其他参数，以减少与<code class="codeph">XMLType</code>创建相关的处理量。例如，如果您确定给定的源XML文档是有效的，则可以为构造函数提供一个参数，该参数禁用否则执行的类型检查。
                        </p>
                        <p>此外，如果源数据未在数据库字符集中编码，则可以使用<code class="codeph">BFILE</code>或<code class="codeph">BLOB</code>值构造<code class="codeph">XMLType</code>实例。源数据的编码通过构造函数的字符集id（ <code class="codeph">csid</code> ）参数指定。
                        </p>
                        <p>当您使用SQL <code class="codeph">INSERT</code>将包含集合的大型文档插入<code class="codeph">XMLType</code>表（但不会插入<code class="codeph">XMLType</code>列）时，Oracle XML DB会优化加载时间和内存使用情况。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-23956CE8-C61D-4178-968E-5686CAD80C08__BABBBGBB">示例3-13</a>显示了如何将XML内容插入<code class="codeph">XMLType</code>表。在进行此插入之前，必须创建一个数据库目录对象，该对象指向包含要处理的文件的目录。为此，您必须具有<code class="codeph">CREATE ANY DIRECTORY</code>权限。
                        </p>
                        <div class="infoboxnotealso" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__GUID-D6EE23F5-FEB6-4D98-B918-7C02B67091E3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../arpls/XMLTYPE.html#ARPLS369" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> ，以获取<code class="codeph">XMLType</code>构造函数的描述</p>
                              </li>
                              <li>
                                 <p> <code class="codeph">GRANT</code>下的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=SQLRF01603" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__GUID-76473048-4E3F-4B67-9223-3F92341984AE">
                        <p class="titleinexample">示例3-12创建数据库目录</p><pre class="oac_no_warn" dir="ltr">CREATE DIRECTORY xmldir AS <span class="italic">path_to_folder_containing_XML_file</span> ;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__BABBBGBB">
                        <p class="titleinexample">示例3-13将XML内容插入XMLType表</p><pre class="oac_no_warn" dir="ltr">INSERT INTO mytable2 VALUES（XMLType（bfilename（'XMLDIR'，'purchaseOrder.xml'），nls_charset_id（'AL32UTF8'）））;</pre><p>传递给<code class="codeph">nls_charset_id</code>的值表示要读取的文件的编码是UTF-8。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="应用程序有许多方法可以查询和更新Oracle数据库中的XML数据，包括基于XML模式和非基于模式的数据。">查询和更新XML数据</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="描述了XMLType的PL / SQL应用程序编程接口（API）。">XMLType的PL / SQL API：参考</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-32930A3C-AFD4-4950-94B6-B26ACAFBC70D" title="Oracle XML DB配置文件xdbconfig.xml具有控制加载操作使用的内存量的参数：xdbcore-loadableunit-size和xdbcore-xobmem-bound。">使用集合加载和检索大型文档的注意事项</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4053"></a><a id="ADXDB4052"></a><div class="props_rev_3"><a id="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE" name="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE"></a><h4 id="ADXDB-GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE" class="sect4"><span class="enumeration_section">3.5.2</span>使用Java加载XML内容</h4>
                  <div>
                     <p>使用DOM，您可以使用Java来加载<code class="codeph">SQLXML</code>实例。
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE__BABIEIAD">示例3-14</a>显示了如何在给定文档对象模型（ <a href="../adxdk/glossary.html#ADXDK9548" target="_blank">DOM</a> ）的情况下首先在Java中创建<code class="codeph">SQLXML</code>实例，从而将XML内容加载到Oracle XML DB中。
                        </p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=otn_db_xmldb_overview" target="_blank">OTN</a>上的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=otn_db_xmldb_overview" target="_blank">Oracle XML DB</a>提供了一个简单的批量加载器应用程序。它展示了如何使用Java数据库连接（JDBC）将XML文件目录加载到Oracle XML DB中。JDBC是Oracle数据库的一组Java接口。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE__BABIEIAD">
                        <p class="titleinexample">示例3-14使用Java将内容插入XMLType表</p><pre class="pre codeblock"><code>public void doInsert（Connection conn，Document doc）抛出异常{String query =“ <span class="bold">INSERT INTO purchaseorder VALUES（？）</span>“; SQLXML SX =康恩<span class="bold">createSQLXML（）;</span> DOMResult DOM = sx.setResult（DOMResult.class）; dom.setNode（DOC）; PreparedStatement的语句= conn.prepareStatement（查询）;语句<span class="bold">setSQLXML（1，SX）;</span>语句。执行（）; }</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4055"></a><a id="ADXDB4054"></a><div class="props_rev_3"><a id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D" name="GUID-23802182-8EF2-46C5-966B-03D9F11A258D"></a><h4 id="ADXDB-GUID-23802182-8EF2-46C5-966B-03D9F11A258D" class="sect4"><span class="enumeration_section">3.5.3</span>使用C加载XML内容</h4>
                  <div>
                     <p>使用DOM，您可以使用C代码加载<code class="codeph">XMLType</code>实例。
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-23802182-8EF2-46C5-966B-03D9F11A258D__BJFGHJDC">示例3-15</a>显示了如何使用C代码将XML内容插入到<code class="codeph">XMLType</code>表中，方法是创建给定DOM的<code class="codeph">XMLType</code>实例（请参阅<a href="../adxdk/glossary.html#ADXDK9548" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a> ）。有关此示例的完整列表，请参阅<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-E357126F-BFCE-4A51-A559-520FE64DA756" title="提供了将XML数据插入XMLType表的C程序的完整列表。">使用C（OCI）加载XML数据</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D__GUID-594E0B44-DB29-4055-B4D4-4A241248D56B">
                           <p class="notep1">注意：</p>
                           <p>为了简化演示此功能，此示例不执行已部署系统通常使用的密码管理技术。在生产环境中，请遵循Oracle数据库密码管理准则，并禁用任何示例帐户。有关密码管理指南和其他安全建议，请参阅<a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D__BJFGHJDC">
                        <p class="titleinexample">示例3-15使用C将内容插入XMLType表</p><pre class="pre codeblock"><code><span class="bold">。 。 。</span>void main（）{OCIType * xmltdo; xmldocnode * doc; ocixmldbparam params [1]; xmlerr错误; xmlctx * xctx; oratext * ins_stmt;剑的地位; xmlnode * root; oratext buf [10000]; / *初始化envhp，svchp，errhp，dur，stmthp * / init_oci_connect（）; / *获取XML上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆dur; xctx = <span class="bold">OCIXmlDbInitXmlCtx</span> （envhp，svchp，errhp，params，1）;如果（！（doc = XmlLoadDom（xctx，＆err，“file”，filename，“schema_location”，schemaloc，NULL）））{printf（“Parse failed。\ n”）;返回; } else printf（“Parse succeeded。\ n”）; root = <span class="bold">XmlDomGetDocElem</span> （xctx，doc）; printf（“xml文档是：\ n”）; XmlSaveDom（xctx，＆err，（xmlnode *）doc，“buffer”，buf，“buffer_length”，10000，NULL）; printf（“％s \ n”，buf）; / *将文档插入my_table * / ins_stmt =（oratext *）“insert into purchaseorder values（：1）”; status = OCITypeByName（envhp，errhp，svchp，（const text *）“SYS”，（ub4）strlen（（const char *）“SYS”），（const text *）“XMLTYPE”，（ub4）strlen（（const char *）“XMLTYPE”），（CONST text *）0，（ub4）0，OCI_DURATION_SESSION，OCI_TYPEGET_HEADER，（OCIType **）＆xmltdo）; if（status == OCI_SUCCESS）{status = exec_bind_xml（svchp，errhp，stmthp，（void *）doc，xmltdo，ins_stmt）; } if（status == OCI_SUCCESS）printf（“Insert successful \ n”）; else printf（“插入失败\ n”）; / *免费XML实例* / if（doc）XmlFreeDocument（（xmlctx *）xctx，（xmldocnode *）doc）; / * Free XML CTX * / <span class="bold">OCIXmlDbFreeXmlCtx</span> （xctx）; free_oci（）; }</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4056"></a><div class="props_rev_3"><a id="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553" name="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553"></a><h4 id="ADXDB-GUID-B271C430-A1FB-4818-A3F4-056C59CC5553" class="sect4"><span class="enumeration_section">3.5.4</span>加载包含小型XML文档的大型XML文件</h4>
                  <div>
                     <p>在加载由一组较小的XML文档组成的大型XML文件时，使用Simple API for XML（SAX）解析将文件分解为一组较小的文档，然后插入这些文档通常会更有效。</p>
                     <div class="section">
                        <p>SAX是XML解析器为基于事件的应用程序提供的XML标准接口。通过从节点集合创建单个文档，可以使用SAX从大小为30 MB或更大的XML文件加载数据库表。您还可以批量加载XML文件。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553__GUID-9F5AF3AE-1805-4D38-9F83-B6B3F8803B42">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关SAX的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=sax_project_org" target="_blank">SAX项目</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=otn_db_xmldb_overview" target="_blank">OTN上的Oracle XML DB</a> ，用于使用SAX加载大型文件的应用程序示例</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4058"></a><a id="ADXDB4057"></a><div class="props_rev_3"><a id="GUID-157EE50B-6004-4B30-BC85-AC60581C930E" name="GUID-157EE50B-6004-4B30-BC85-AC60581C930E"></a><h4 id="ADXDB-GUID-157EE50B-6004-4B30-BC85-AC60581C930E" class="sect4"><span class="enumeration_section">3.5.5</span>使用SQL * Loader加载大型XML文件</h4>
                  <div>
                     <p>您可以使用SQL * Loader将大量XML数据加载到Oracle数据库中。</p>
                     <div class="section">
                        <p>SQL * Loader以两种模式之一加载，即常规路径或直接路径。<a href="how-to-use-XML-DB.html#GUID-157EE50B-6004-4B30-BC85-AC60581C930E__BJFJFHIF" title="此表比较了SQL * Loader常规模式和直接加载模式。">表3-1</a>比较了这些模式。
                        </p>
                        <div class="tblformal" id="GUID-157EE50B-6004-4B30-BC85-AC60581C930E__BJFJFHIF">
                           <p class="titleintable">表3-1 SQL * Loader  - 常规和直接路径加载模式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL * Loader  - 常规和直接路径加载模式" width="100%" border="1" summary="This tables compares SQL*Loader Conventional and Direct Load Modes." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="53%" id="d14886e1654">传统的加载模式</th>
                                    <th align="left" valign="bottom" width="47%" id="d14886e1657">直接路径加载模式</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1662" headers="d14886e1654 ">
                                       <p>使用SQL将数据加载到Oracle数据库中。这是<span class="italic">默认</span>模式。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1662 d14886e1657 ">
                                       <p>绕过SQL并将数据直接流式传输到Oracle数据库。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1672" headers="d14886e1654 ">
                                       <p><span class="italic">优点：</span>遵循SQL语义。例如触发触发器并检查约束。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1672 d14886e1657 ">
                                       <p><span class="italic">优点：</span>这比传统的负载模式更快地加载数据。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1683" headers="d14886e1654 ">
                                       <p><span class="italic">缺点：</span>加载数据的速度比直接加载模式慢。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1683 d14886e1657 ">
                                       <p><span class="italic">缺点：</span>不遵守SQL语义。例如，不触发触发器，也不检查约束。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>使用SQL * Loader直接路径加载加载LOB时，可以使用大量内存。如果出现消息<code class="codeph">SQL*Loader 700 (out of memory)</code> ，则每次加载调用中可能包含的行数可能超过操作系统和进程内存可处理的行数。<span class="italic">解决方法：</span>使用<code class="codeph">ROWS</code>选项在每个数据保存中读取较少的行数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="how-to-load-XML-data.html#GUID-B94D42C1-A20A-457A-8427-C01E39788EA1" title="将XML数据加载到Oracle XML DB的主要方法是使用SQL * Loader。">如何加载XML数据</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4060"></a><a id="ADXDB4059"></a><div class="props_rev_3"><a id="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B" name="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B"></a><h4 id="ADXDB-GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B" class="sect4"><span class="enumeration_section">3.5.6</span>使用DBMS_XDB_REPOS将XML文档加载到存储库</h4>
                  <div>
                     <p>您可以使用PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>将XML文档加载到Oracle XML DB存储库中。您可以使用基于路径的技术而不是基于表的技术来访问存储库文档（资源）。
                     </p>
                     <div class="section">
                        <p>要将XML文档加载到给定路径下的存储库中，请使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.createResource</code> 。<a href="how-to-use-XML-DB.html#GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B__BJFICDCH">例3-16</a>说明了这一点。
                        </p>
                        <p>许多用于配置和使用Oracle XML DB的操作都基于处理一个或多个XML文档。示例包括注册XML模式和执行XSL转换。使这些XML文档可供Oracle数据库使用的最简单方法是将它们加载到Oracle XML DB Repository中。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B__BJFICDCH">
                        <p class="titleinexample">示例3-16使用CREATERESOURCE将XML内容插入存储库</p><pre class="pre codeblock"><code>DECLARE res BOOLEAN; BEGIN res：= DBMS_XDB_REPOS.createResource（'/ home / QUINE / purchaseOrder.xml'，bfilename（'XMLDIR'，'purchaseOrder.xml'），nls_charset_id（'AL32UTF8'））;结束;/</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4062"></a><a id="ADXDB4061"></a><div class="props_rev_3"><a id="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3" name="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3"></a><h4 id="ADXDB-GUID-C4D83D80-7B69-4C57-B817-2699722D28A3" class="sect4"><span class="enumeration_section">3.5.7</span>使用协议将文档加载到存储库</h4>
                  <div>
                     <p>您可以使用流行的协议将文档（包括XML文档）从本地文件系统加载到Oracle XML DB Repository中。</p>
                     <div class="section">
                        <p>Oracle XML DB Repository可以存储基于XML模式或非基于模式的XML文档。它还可以存储非XML数据的内容，例如HTML文件，图像文件和Microsoft Word文档。</p>
                        <p>您可以使用WebDAV，Windows资源管理器或支持WebDAV的其他工具等协议（如WebDAV）将XML文档从本地文件系统加载到Oracle XML DB Repository中。 <a href="how-to-use-XML-DB.html#GUID-C4D83D80-7B69-4C57-B817-2699722D28A3__CHDHJDAE">图3-1</a>显示了一个简单的拖放操作，用于将<code class="codeph">SCOTT</code>文件夹的内容从本地硬盘驱动器复制到Oracle XML DB Repository中的文件夹<code class="codeph">poSource</code> 。
                        </p>
                        <div class="figure" id="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3__CHDHJDAE">
                           <p class="titleinfigure">图3-1使用Windows资源管理器将内容加载到存储库</p><img src="img/repo_load.gif" width="478" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/repo_load.html"><br><a href="img_text/repo_load.html">“图3-1使用Windows资源管理器将内容加载到存储库”的描述</a></div>
                        <!-- class="figure" -->
                        <p>复制的文件夹可能包含，例如，XML架构文档，HTML页面和一些XSLT样式表。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：将</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="有几种方法可以将XML内容加载到Oracle XML DB中。">XML内容加载到Oracle XML DB中</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4116"></a><div class="props_rev_3"><a id="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" name="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75"></a><h3 id="ADXDB-GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" class="sect3"><span class="enumeration_section">3.6</span>查询Oracle XML DB中存储的XML内容</h3>
               <div>
                  <p>有许多方法可以在Oracle XML DB中查询XML内容并检索它。</p>
                  <div class="infoboxnote" id="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75__GUID-EBDA1BAC-73E1-44E9-AE6B-5DBC5D5855FD">
                     <p class="notep1">注意：</p>
                     <p>为了提高查询性能，通常需要创建索引。有关索引XML数据的信息，请参阅<a href="indexes-for-XMLType-data.html#GUID-FE16BE28-035C-49EE-9683-6ED37876C3FC" title="您可以在XML数据上创建索引，专注于经常查询的特定部分，从而提高性能。您可以通过多种方式索引XMLType数据，无论是基于XML模式还是非基于模式，无论您使用何种XMLType存储模型。">XMLType数据的索引</a> 。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C">示例中使用的PurchaseOrder XML文档</a><br>XML模式定义了示例中使用的采购订单文档。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-42EDC657-C53B-441F-96E3-31E755A7A30E">使用伪列OBJECT_VALUE检索XML文档的内容</a><br>伪列<code class="codeph">OBJECT_VALUE</code>可用作对象表值的别名。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C">使用XMLQUERY访问XML文档的片段或节点</a><br>您可以使用SQL / XML函数<code class="codeph">XMLQuery</code>来提取与XQuery表达式匹配的节点。结果作为<code class="codeph">XMLType</code>的实例返回。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3">使用XMLCAST和XMLQUERY访问文本节点和属性值</a><br>您可以使用SQL / XML标准函数<code class="codeph">XMLQuery</code>和<code class="codeph">XMLCast</code>访问文本节点和属性值。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F">使用XMLEXISTS，XMLCAST和XMLQUERY搜索XML文档</a><br>您可以在SQL <code class="codeph">WHERE</code>子句中使用SQL / XML标准函数<code class="codeph">XMLExists</code> ， <code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>来限制查询结果。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532">使用XMLTABLE在XMLType片段上执行SQL操作</a><br>您可以使用SQL / XML函数<code class="codeph">XMLTable</code>在与XQuery表达式匹配的一组节点上执行SQL操作。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4118"></a><a id="ADXDB4117"></a><div class="props_rev_3"><a id="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C" name="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C"></a><h4 id="ADXDB-GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C" class="sect4"><span class="enumeration_section">3.6.1</span>示例中使用的PurchaseOrder XML文档</h4>
                  <div>
                     <p>XML模式定义了示例中使用的采购订单文档。</p>
                     <div class="section">
                        <p>此处提供的示例基于<a href="how-to-use-XML-DB.html#GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C__BJFDAFHE">示例3-17中</a>显示的<code class="codeph">PurchaseOrder</code> XML文档。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C__BJFDAFHE">
                        <p class="titleinexample">示例3-17 PurchaseOrder XML实例文档</p><pre class="pre codeblock"><code>&lt;PurchaseOrder xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi：noNamespaceSchemaLocation =“http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd”&gt; &lt;参考&gt; SBELL-2002100912333601PDT &lt;/ Reference&gt; &lt;Actions&gt; &lt;Action&gt; &lt;User&gt; SVOLLMAN &lt;/ User&gt; &lt;/ Action&gt; &lt;/ Actions&gt; &lt;Reject /&gt; &lt;Requestor&gt; Sarah J. Bell &lt;/ Requestor&gt; &lt;User&gt; SBELL &lt;/ User&gt; &lt;CostCenter&gt; S30 &lt;/ CostCenter&gt; &lt;ShippingInstructions&gt; &lt;name&gt; Sarah J. Bell &lt;/ name&gt; &lt;地址&gt; 400 Oracle Parkway Redwood Shores CA 94065 USA &lt;/ address&gt; &lt;telephone&gt; 650 506 7400 &lt;/ telephone &gt; &lt;/ ShippingInstructions&gt; &lt;SpecialInstructions&gt; Air Mail &lt;/ SpecialInstructions&gt; &lt;LineItems&gt; &lt;LineItem ItemNumber =“1”&gt; &lt;Description&gt;要记住的夜晚&lt;/ Description&gt; &lt;Part Id =“715515009058”UnitPrice =“39.95”Quantity = “2”/&gt; &lt;/ LineItem&gt; &lt;LineItem ItemNumber =“2”&gt; &lt;Description&gt;难以忍受的轻盈&lt;/ Description&gt; &lt;Part Id =“37429140222”UnitPrice =“29.95”Quantity =“2”/&gt; &lt;/ LineItem&gt; &lt;LineItem ItemNumber =“3”&gt; &lt;Description&gt; Sisters &lt;/ Description&gt; &lt;Part Id =“715515011020”U nitPrice =“29.95”Quantity =“4”/&gt; &lt;/ LineItem&gt; &lt;/ LineItems&gt; &lt;/ PurchaseOrder&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4120"></a><a id="ADXDB4119"></a><div class="props_rev_3"><a id="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E" name="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E"></a><h4 id="ADXDB-GUID-42EDC657-C53B-441F-96E3-31E755A7A30E" class="sect4"><span class="enumeration_section">3.6.2</span>使用伪列OBJECT_VALUE检索XML文档的内容</h4>
                  <div>
                     <p>伪列<code class="codeph">OBJECT_VALUE</code>可用作对象表值的别名。
                     </p>
                     <div class="section">
                        <p>对于由单个<code class="codeph">XMLType</code>列组成的<code class="codeph">XMLType</code>表，将检索整个XML文档。（ <code class="codeph">OBJECT_VALUE</code>替换Oracle Database 10g第1版之前的版本中使用的<code class="codeph">value(x)</code>和<code class="codeph">SYS_NC_ROWINFO$</code>别名。）
                        </p>
                        <p>在<a href="how-to-use-XML-DB.html#GUID-42EDC657-C53B-441F-96E3-31E755A7A30E__BJFCECGJ">示例3-18中</a> ，SQL * Plus设置<code class="codeph">PAGESIZE</code>和<code class="codeph">LONG</code>用于确保正确打印整个文档，而不会出现换行符。（输出已格式化以便于阅读。）
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E__BJFCECGJ">
                        <p class="titleinexample">示例3-18使用OBJECT_VALUE检索整个XML文档</p><pre class="pre codeblock"><code>从购买订单中选择OBJECT_VALUE; OBJECT_VALUE ------------------------------------------------- ---------------------- &lt;PurchaseOrder xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi：noNamespaceSchemaLocation =“ http：// localhost：8080 / source / schemas /poSource/xsd/purchaseOrder.xsd“&gt; &lt;参考&gt; SBELL-2002100912333601PDT &lt;/ Reference&gt; &lt;Actions&gt; &lt;Action&gt; &lt;User&gt; SVOLLMAN &lt;/ User&gt; &lt;/ Action&gt; &lt; /操作&gt; &lt;拒绝/&gt; &lt;请求者&gt; Sarah J. Bell &lt;/ Requestor&gt; &lt;用户&gt; SBELL &lt;/用户&gt; &lt;CostCenter&gt; S30 &lt;/ CostCenter&gt; &lt;ShippingInstructions&gt; &lt;name&gt; Sarah J. Bell &lt;/ name&gt; &lt;地址&gt; 400 Oracle Parkway Redwood Shores CA 94065 USA &lt;/ address&gt; &lt;telephone&gt; 650 506 7400 &lt;/ telephone&gt; &lt;/ ShippingInstructions&gt; &lt;SpecialInstructions&gt; Air Mail &lt;/ SpecialInstructions&gt; &lt;LineItems&gt; &lt;LineItem ItemNumber =“1”&gt; &lt;Description&gt;一个难忘的夜晚&lt;/ Description&gt; &lt;Part Id =“715515009058”UnitPrice =“39.95”Quantity =“2”/&gt; &lt;/ LineItem&gt; &lt;LineItem ItemNumber =“2”&gt; &lt;Description&gt;难以承受的轻盈&lt;/ Description &gt; &lt;Part Id =“37429140222”UnitPrice =“29.95”Quantity =“2”/&gt; &lt;/ LineItem&gt; &lt; LineItem ItemNumber =“3”&gt; &lt;Description&gt; Sisters &lt;/ Description&gt; &lt;Part Id =“715515011020”UnitPrice =“29.95”Quantity =“4”/&gt; &lt;/ LineItem&gt; &lt;/ LineItems&gt; &lt;/ PurchaseOrder&gt;选择了1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4122"></a><a id="ADXDB4121"></a><div class="props_rev_3"><a id="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C" name="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C"></a><h4 id="ADXDB-GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C" class="sect4"><span class="enumeration_section">3.6.3</span>使用XMLQUERY访问XML文档的片段或节点</h4>
                  <div>
                     <p>您可以使用SQL / XML函数<code class="codeph">XMLQuery</code>来提取与XQuery表达式匹配的节点。结果作为<code class="codeph">XMLType</code>的实例返回。
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">示例3-19</a>通过多个查询说明了这一点。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">
                        <p class="titleinexample">示例3-19使用XMLQUERY访问XML片段</p>
                        <p>以下查询返回包含与XPath表达式匹配的<code class="codeph">Reference</code>元素的<code class="codeph">XMLType</code>实例。
                        </p><pre class="pre codeblock"><code>来自purchaseorder的SELECT XMLQuery（'/ PurchaseOrder / Reference'PASSING OBJECT_VALUE RETURNING CONTENT）; XMLQUERY（'/ PURCHASEORDER / REFERENCE'PASSINGOBJECT_ ----------------------------------------- -------- &lt;参考&gt; SBELL-2002100912333601PDT &lt;/ Reference&gt;选择1行。
</code></pre><p>以下查询返回包含<code class="codeph">LineItems</code>集合中第一个<code class="codeph">LineItem</code>元素的<code class="codeph">XMLType</code>实例：</p><pre class="pre codeblock"><code>来自purchaseorder的SELECT XMLQuery（'/ PurchaseOrder / LineItems / LineItem [1]'PASSING OBJECT_VALUE RETURNING CONTENT）; XMLQUERY（'/ PURCHASEORDER / LINEITEMS / LINEITEM [1]'PASSINGOBJECT_ ------------------------------------ ------------------------- &lt;LineItem ItemNumber =“1”&gt; &lt;Description&gt;值得纪念的夜晚&lt;/ Description&gt; &lt;Part Id =“715515009058 “UnitPrice =”39.95“Quantity =”2“/&gt; &lt;/ LineItem&gt;选择了1行。
</code></pre><p>以下查询返回一个<code class="codeph">XMLType</code>实例，该实例包含与XPath表达式匹配的三个<code class="codeph">Description</code>元素。这些元素作为单个<code class="codeph">XMLType</code>实例中的节点返回。<code class="codeph">XMLType</code>实例没有单个根节点;它是一个XML <span class="italic">片段</span> 。
                        </p><pre class="pre codeblock"><code>从purchaseorder中选择XMLQuery（'/ / PurchaseOrder / LineItems / LineItem / Description'PASSING OBJECT_VALUE RETURNING CONTENT）; XMLQUERY（'/ PURCHASEORDER / LINEITEMS / LINEITEM / DESCRIPTION'PASSINGOBJECT_ ------------------------------------- --------------------------------- &lt;Description&gt;值得纪念的夜晚&lt;/ Description&gt; &lt;Description&gt;难以忍受的轻盈存在&lt;/ Description&gt; &lt;描述&gt;姐妹&lt;/ Description&gt;选择1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532" title="您可以使用SQL / XML函数XMLTable在与XQuery表达式匹配的一组节点上执行SQL操作。">使用XMLTABLE在XMLType片段上执行SQL操作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4124"></a><a id="ADXDB4123"></a><div class="props_rev_3"><a id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3" name="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3"></a><h4 id="ADXDB-GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3" class="sect4"><span class="enumeration_section">3.6.4</span>使用XMLCAST和XMLQUERY访问文本节点和属性值</h4>
                  <div>
                     <p>您可以使用SQL / XML标准函数<code class="codeph">XMLQuery</code>和<code class="codeph">XMLCast</code>访问文本节点和属性值。
                     </p>
                     <div class="section">
                        <p>为此，传递给<code class="codeph">XMLQuery</code>的XQuery表达式必须唯一地标识文档中的<span class="italic">单个</span>文本节点或属性值 - 即<span class="italic">叶</span>节点。<a href="how-to-use-XML-DB.html#GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__BJFCGHGB">示例3-20</a>使用多个查询说明了这一点。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__GUID-B49CF969-0A4E-4FF3-8DA9-7E3E36261A03">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="XQuery语言是您与Oracle XML DB中的XML数据交互的主要方式之一。对该语言的支持包括SQL * Plus commandXQUERY和SQL / XML函数XMLQuery，XMLTable，XMLExists和XMLCast。">XQuery和Oracle XML DB，</a>用于获取有关SQL / XML函数<code class="codeph">XMLQuery</code>和<code class="codeph">XMLCast</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__BJFCGHGB">
                        <p class="titleinexample">示例3-20使用XMLCAST和XMLQuery访问文本节点值</p>
                        <p>以下查询返回与<code class="codeph">Reference</code>元素关联的文本节点的值，该值与目标XPath表达式匹配。该值作为<code class="codeph">VARCHAR2</code>值返回。
                        </p><pre class="pre codeblock"><code>SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / Reference / text（）'PASSING OBJECT_VALUE AS“p”RETURNING CONTENT）AS VARCHAR2（30））FROM purchaseorder; XMLCAST（XMLQUERY（'$ P / PURCHASEO ------------------------------ SBELL-2002100912333601PDT 1行选中。
</code></pre><p>以下查询返回与<code class="codeph">LineItem</code>元素中包含的<code class="codeph">Description</code>元素关联的文本节点的值。特定的<code class="codeph">LineItem</code>元素由其<code class="codeph">Id</code>属性值指定。标识<code class="codeph">LineItem</code>元素的谓词是<code class="codeph">[Part/@Id="715515011020"]</code> 。符号字符（ <code class="codeph">@</code> ）指定<code class="codeph">Id</code>是属性而不是元素。该值作为<code class="codeph">VARCHAR2</code>值返回。
                        </p><pre class="pre codeblock"><code>SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / LineItems / LineItem [Part / @ Id =“715515011020”] / Description / text（）'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）AS VARCHAR2（30））FROM purchaseorder; XMLCAST（XMLQUERY（'$ P / PURCHASEO ------------------------------选择姐妹1行。
</code></pre><p>以下查询返回与第一个<code class="codeph">LineItem</code>元素中包含的<code class="codeph">Description</code>元素关联的文本节点的值。第一个<code class="codeph">LineItem</code>元素由位置谓词<code class="codeph">[1]</code>指示。
                        </p><pre class="pre codeblock"><code>SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / LineItems / LineItem [1] / Description'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）AS VARCHAR2（4000））FROM purchaseorder; XMLCAST（XMLQUERY（'$ P / PURCHASEORDER / LINEITEMS / LINEITEM [1] / DESCRIPTION'PASSINGOBJECT_VALUEAS“P”--------------------------- -------------------------------------------------- ----------------一个难忘的夜晚选择了一行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4126"></a><a id="ADXDB6413"></a><a id="ADXDB4125"></a><div class="props_rev_3"><a id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F" name="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F"></a><h4 id="ADXDB-GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F" class="sect4"><span class="enumeration_section">3.6.5</span>使用XMLEXISTS，XMLCAST和XMLQUERY搜索XML文档</h4>
                  <div>
                     <p>您可以在SQL <code class="codeph">WHERE</code>子句中使用SQL / XML标准函数<code class="codeph">XMLExists</code> ， <code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>来限制查询结果。
                     </p>
                     <div class="section">
                        <p>SQL / XML标准函数<code class="codeph">XMLExists</code>评估给定文档是否包含与W3C XPath表达式匹配的节点。如果文档包含由提供给函数的XPath表达式指定的节点，则返回布尔值<code class="codeph">true</code>如果不包含，则返回值<code class="codeph">false</code> 。由于XPath表达式可以包含谓词，因此<code class="codeph">XMLExists</code>可以确定文档中是否存在给定节点，以及文档中是否存在具有指定值的节点。
                        </p>
                        <p>类似地，函数<code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>允许您将查询结果限制为满足某些属性的文档。<a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__BJFJHBAE">示例3-21</a>说明了使用<code class="codeph">XMLExists</code> ， <code class="codeph">XMLCast</code>和<code class="codeph">XMLQuery</code>来搜索文档。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__CEGIICDB">示例3-22</a>基于XML文档中的节点的值和另一个关系表中的数据执行连接。
                        </p>
                        <div class="infoboxnotealso" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__GUID-B7C2D0CC-D99A-49E4-8981-86FBDBC54410">
                           <p class="notep1">也可以看看：</p>
                           <p>有关SQL / XML函数<code class="codeph">XMLQuery</code> ， <code class="codeph">XMLExists</code>和<code class="codeph">XMLCast</code>信息，请参阅<a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="XQuery语言是您与Oracle XML DB中的XML数据交互的主要方式之一。对该语言的支持包括SQL * Plus commandXQUERY和SQL / XML函数XMLQuery，XMLTable，XMLExists和XMLCast。">XQuery和Oracle XML DB</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__BJFJHBAE">
                        <p class="titleinexample">示例3-21使用XMLExists，XMLCast和XMLQuery搜索XML内容</p>
                        <p>以下查询使用<code class="codeph">XMLExists</code>检查XML文档是否包含名为<code class="codeph">Reference</code>的元素，该元素是根元素<code class="codeph">PurchaseOrder</code>的子元素：</p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder / Reference'PASSING OBJECT_VALUE AS“p”）; COUNT（*）---------- 132选择1行。
</pre><p>以下查询检查与<code class="codeph">Reference</code>元素关联的文本节点的值是否为<code class="codeph">SBELL-2002100912333601PDT</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder <span class="bold">[Reference =“SBELL-2002100912333601PDT”]</span> 'PASSING OBJECT_VALUE AS“p”）; COUNT（*）----------选择了1行。
</pre><p>该查询检查是否XML文档包含一个根元素<code class="codeph">PurchaseOrder</code>包含<code class="codeph">LineItems</code>包含元素<code class="codeph">LineItem</code>包含元素<code class="codeph">Part</code>与元素<code class="codeph">Id</code>属性。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder / LineItems / LineItem / Part / <span class="bold">@</span> Id'PASSING OBJECT_VALUE AS“p”）; COUNT（*）---------- 132选择1行。
</pre><p>以下查询检查是否XML文档包含一个根元素<code class="codeph">PurchaseOrder</code>包含<code class="codeph">LineItems</code>包含元件<code class="codeph">LineItem</code>包含元件<code class="codeph">Part</code>与元件<code class="codeph">Id</code>属性值<code class="codeph">715515009058</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder / LineItems / <span class="bold">LineItem / Part [@ Id =“715515009058”]</span> 'PASSING OBJECT_VALUE AS“p”）; COUNT（*）---------- 21</pre><p>以下查询检查XML文档是否包含根元素<code class="codeph">PurchaseOrder</code> ，该元素包含<code class="codeph">LineItems</code>元素，其<span class="italic">第三个</span> <code class="codeph">LineItem</code>元素包含具有<code class="codeph">Id</code>属性值<code class="codeph">715515009058</code>的<code class="codeph">Part</code>元素。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder / LineItems / LineItem <span class="bold">[3]</span> / Part [@ Id =“715515009058”]'PASSING OBJECT_VALUE AS“p”）; COUNT（*）----------选择了1行。
</pre><p>以下查询将<code class="codeph">SELECT</code>语句的结果限制为与元素<code class="codeph">User</code>关联的文本节点以字母<code class="codeph">S</code>开头的行。 XQuery不包括对基于<code class="codeph">LIKE</code>的查询的支持。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT XMLCAST（的XMLQuery（ '$ P / PurchaseOrder的/参考' PASSING OBJECT_VALUE为“P”回CONTENT）AS VARCHAR2（30））FROM定单WHERE XMLCAST（的XMLQuery（ '$ P / PurchaseOrder的/ <span class="bold">用户</span> '逝水OBJECT_VALUE为“P”回内容）如VARCHAR2（30）） <span class="bold">喜欢'％'</span> ; XMLCAST（XMLQUERY（'$ P / PURCHASEORDER ---------------------------------- SBELL-20021009123336231PDT SBELL-20021009123336331PDT SKING -20021009123336321PDT ...选择了36行。
</pre><p>以下查询使用<code class="codeph">XMLExists</code>将<code class="codeph">SELECT</code>语句的结果限制为元素<code class="codeph">User</code>的文本节点包含值<code class="codeph">SBELL</code> 。</p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / Reference'PASSING OBJECT_VALUE AS“p”RETURNING CONTENT）AS VARCHAR2（30））“Reference”FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [User =“ <span class="bold">SBELL</span> ”]' <span class="bold">PASSING</span> OBJECT_VALUE AS“p”）;参考------------------------------ SBELL-20021009123336231PDT SBELL-20021009123336331PDT SBELL-20021009123337353PDT SBELL-20021009123338304PDT SBELL-20021009123338505PDT SBELL-20021009123335771PDT SBELL -2002009123335280PDT SBELL-2002100912333763PDT SBELL-2002100912333601PDT SBELL-20021009123336362PDT SBELL-20021009123336532PDT SBELL-20021009123338204PDT SBELL-20021009123337673PDT 13行选择。
</pre><p>以下查询使用SQL / XML函数<code class="codeph">XMLQuery</code>和<code class="codeph">XMLExists</code>查找任何<code class="codeph">PurchaseOrder</code>元素的<code class="codeph">Reference</code>元素，该元素的第一个<code class="codeph">LineItem</code>元素包含具有<code class="codeph">Id</code> <code class="codeph">715515009058</code>的项目的订单。函数<code class="codeph">XMLExists</code>在<code class="codeph">WHERE</code>子句中用于确定选择哪些行，并且在<code class="codeph">SELECT</code>列表中使用<code class="codeph">XMLQuery</code>来控制所选文档的哪一部分出现在结果中。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / Reference'PASSING OBJECT_VALUE AS“p”RETURNING CONTENT）AS VARCHAR2（30））“Reference”FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder / LineItems / LineItem [1] / Part [@ Id =“715515009058”]'PASSING OBJECT_VALUE AS“p”）;参考------------------------- SBELL-2002100912333601PDT选择1行。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__CEGIICDB">
                        <p class="titleinexample">示例3-22从XMLType表和关系表中连接数据</p><pre class="oac_no_warn" dir="ltr">SELECT XMLCAST（的XMLQuery（ '$ P / PurchaseOrder的/参考' PASSING OBJECT_VALUE为“P”回CONTENT）AS VARCHAR2（30））FROM定单P，HR.EMPLOYEES e其中XMLCAST（的XMLQuery（ '$ P / PurchaseOrder的/ <span class="bold">用户</span> ' PASSING OBJECT_VALUE为“p”返回内容）AS VARCHAR2（30））= <span class="bold">e.email</span> AND <span class="bold">e.employee_id</span> = 100; XMLCAST（XMLQUERY（'$ P / PURCHASEOREDER ----------------------------------- SKING-20021009123336321PDT SKING-20021009123337153PDT选择SKING-20021009123335560PDT SKING-20021009123336952PDT SKING-20021009123336622PDT SKING-20021009123336822PDT SKING-20021009123336131PDT SKING-20021009123336392PDT SKING-20021009123337974PDT SKING-20021009123338294PDT SKING-20021009123337703PDT SKING-20021009123337383PDT SKING-20021009123337503PDT 13行。
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4131"></a><a id="ADXDB4132"></a><a id="ADXDB4133"></a><a id="ADXDB4130"></a><div class="props_rev_3"><a id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532" name="GUID-1F02303F-041C-42BF-9AE5-CE978496A532"></a><h4 id="ADXDB-GUID-1F02303F-041C-42BF-9AE5-CE978496A532" class="sect4"><span class="enumeration_section">3.6.6</span>使用XMLTABLE对XMLType片段执行SQL操作</h4>
                  <div>
                     <p>您可以使用SQL / XML函数<code class="codeph">XMLTable</code>在与XQuery表达式匹配的一组节点上执行SQL操作。
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">示例3-19</a>演示了如何提取包含与XPath表达式匹配的节点的<code class="codeph">XMLType</code>实例。当文档包含与提供的XPath表达式匹配的<span class="italic">多个</span>节点时，此类查询将返回包含所有匹配节点的XML <span class="italic">片段</span> 。与XML文档不同，XML <strong class="term">片段</strong>没有单个元素作为<span class="italic">根</span>元素。
                        </p>
                        <p>在这些情况下，这种结果很常见：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当您检索集合中包含的元素<span class="italic">集时</span> ，在这种情况下，片段中的所有节点都具有相同的类型 - 请参阅<a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">示例3-23</a></p>
                           </li>
                           <li>
                              <p>当目标XPath表达式以<span class="italic">通配符</span>结束时，在这种情况下，片段中的节点可以是不同类型的 - 请参见<a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">示例3-25</a></p>
                           </li>
                        </ul>
                        <p>您可以使用SQL / XML函数<code class="codeph">XMLTable</code>来分解<code class="codeph">XMLType</code>实例中包含的XML片段，将集合元素数据插入到新的虚拟表中，然后可以在连接表达式中使用SQL进行查询。特别是，将XML片段转换为虚拟表可以更轻松地处理评估返回多个节点的<code class="codeph">XMLQuery</code>表达式的结果。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__GUID-AB568350-31DF-484C-BA1B-23BAC08E1BBE">
                           <p class="notep1">也可以看看：</p>
                           <p>有关SQL / XML函数<code class="codeph">XMLTable</code>更多信息，请参阅<a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="XQuery语言是您与Oracle XML DB中的XML数据交互的主要方式之一。对该语言的支持包括SQL * Plus commandXQUERY和SQL / XML函数XMLQuery，XMLTable，XMLExists和XMLCast。">XQuery和Oracle XML DB</a></p>
                        </div>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">示例3-23</a>显示了如何访问<code class="codeph">PurchaseOrder</code>文档中每个<code class="codeph">Description</code>元素的文本节点。它将<a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">示例3-19中</a>的单个XML Fragment输出分解为多个文本节点。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__BJFIDFFJ">例3-24</a>计算集合中元素的数量。它还显示了如何将SQL关键字（如<code class="codeph">ORDER BY</code>和<code class="codeph">GROUP BY</code>应用于由SQL / XML函数<code class="codeph">XMLTable</code>创建的虚拟表数据。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">例3-25</a>显示了如何使用SQL / XML函数<code class="codeph">XMLTable</code>来计算给定元素的<span class="italic">子</span>元素数。传递给<code class="codeph">XMLTable</code>的XPath表达式包含一个通配符（ <code class="codeph">*</code> ），它匹配作为<code class="codeph">PurchaseOrder</code>元素的直接后代的所有元素。<code class="codeph">XMLTable</code>创建的虚拟表的每一行都包含一个与XPath表达式匹配的节点。计算虚拟表中的行数可提供元素<code class="codeph">PurchaseOrder</code>的元素子元素数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">
                        <p class="titleinexample">示例3-23使用XMLTABLE访问描述节点</p><pre class="oac_no_warn" dir="ltr">SELECT des。COLUMN_VALUE来自purchaseorder p，XMLTable（'/ / PurchaseOrder / LineItems / LineItem / Description'PASSING p。OBJECT_VALUE）des WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; COLUMN_VALUE ------------ &lt;描述&gt;要记住的夜晚&lt;/ Description&gt; &lt;描述&gt;存在的难以忍受的亮度&lt;/ Description&gt; &lt;Description&gt; Sisters &lt;/ Description&gt; <span class="bold">选择了3行。</span>
</pre><p>要使用SQL处理文本节点的内容，该示例使用SQL / XML函数<code class="codeph">XMLTable</code>将<code class="codeph">Description</code>节点的集合转换为<span class="italic">虚拟表</span> 。虚拟表有三行，每行包含一个带有单个<code class="codeph">Description</code>元素的<code class="codeph">XMLType</code>实例。
                        </p>
                        <p>XPath表达式以<code class="codeph">Description</code>元素为目标。的<code class="codeph">PASSING</code>子句表示使用内容（ <code class="codeph">OBJECT_VALUE</code>的） <code class="codeph">XMLType</code>表<code class="codeph">purchaseorder</code>作为上下文用于评估XPath表达式。
                        </p>
                        <p>因此， <code class="codeph">XMLTable</code>表达式<span class="italic">取决于</span> <code class="codeph">purchaseorder</code>表。这是<span class="italic">左侧连接</span> 。此相关联接确保访问的<code class="codeph">purchaseorder</code>行与<code class="codeph">XMLTable</code>生成的行之间的一对多（1：N）关系。由于此相关<code class="codeph">FROM</code> ， <code class="codeph">purchaseorder</code>表<span class="italic">必须出现在</span> <code class="codeph">FROM</code>列表中的<code class="codeph">XMLTable</code>表达式<span class="italic">之前</span> 。在<code class="codeph">PASSING</code>子句引用表的列的任何情况下，这是一般要求。
                        </p>
                        <p>虚拟表中的每个<code class="codeph">XMLType</code>实例都包含一个<code class="codeph">Description</code>元素。您可以使用<code class="codeph">XMLTable</code>的<code class="codeph">COLUMNS</code>子句将XPath表达式<code class="codeph">'Description'</code>针对的数据分解为名为SQL数据类型<code class="codeph">VARCHAR2(256)</code> <code class="codeph">description</code>的列。在<code class="codeph">'Description'</code>定义此列表达式是<span class="italic">相对于</span> <span class="italic">上下文</span> XPath表达式， <code class="codeph">'/PurchaseOrder/LineItems/LineItem'</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT des。 <span class="bold">描述</span> FROM purchaseorder p，XMLTable（'/ / PurchaseOrder / LineItems / LineItem'PASSING p。OBJECT_VALUE <span class="bold">COLUMNS description VARCHAR2（256）</span> PATH'Description <span class="bold">'</span> ）des WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）;描述---------------------------------一个难忘的夜晚成为姐妹的难以忍受的轻盈3行选择。
</pre><p><code class="codeph">COLUMNS</code>子句允许您指定精确的SQL数据类型，这可以使静态类型检查更有帮助。此示例仅使用单个列（ <code class="codeph">description</code> ）。要将<code class="codeph">XMLType</code>表中多个级别包含的数据公开为关系视图中的各个行， <code class="codeph">XMLTable</code>应用于要分解并存储在关系列中的每个文档级别。有关<a href="relational-views-over-XML-data.html#GUID-E550E7D4-0D19-47CA-B86F-76825EE54CE1__CHDEEIFD">示例</a> ，请参见<a href="relational-views-over-XML-data.html#GUID-E550E7D4-0D19-47CA-B86F-76825EE54CE1__CHDEEIFD">示例9-2</a> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__BJFIDFFJ">
                        <p class="titleinexample">示例3-24使用XMLTABLE计算集合中的元素数</p><pre class="oac_no_warn" dir="ltr">SELECT引用，count（*）FROM purchaseorder，XMLTable（'/ PurchaseOrder'PASSING OBJECT_VALUE COLUMNS <span class="bold">引用</span> VARCHAR2（32）PATH'Reference'， <span class="bold">lineitem</span> XMLType PATH'RineItems / LineItem'），XMLTable（'LineItem'PASSING lineitem）WHERE XMLExists（ '$ p / PurchaseOrder [User =“SBELL”]'PASSING OBJECT_VALUE AS“p”） <span class="bold">GROUP BY</span>引用<span class="bold">ORDER BY</span>引用;参考计数（*）-------------------------- -------- SBELL-20021009123335280PDT 20 SBELL-20021009123335771PDT 21 SBELL-2002100912333601PDT 3 SBELL-20021009123336231PDT 25 SBELL-20021009123336331PDT 10 SBELL-20021009123336362PDT 15 SBELL-20021009123336532PDT选择14 SBELL-20021009123337353PDT 10 SBELL-2002100912333763PDT 21 SBELL-20021009123337673PDT 10 SBELL-20021009123338204PDT 14 SBELL-20021009123338304PDT 24 SBELL-20021009123338505PDT 20个13行。
</pre><p>此示例中的查询将与XPath表达式匹配的XML文档集定位到SQL / XML函数<code class="codeph">XMLExists</code> 。它生成一个包含两列的虚拟表：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">reference</code> ，包含所选每个文档的<code class="codeph">Reference</code>节点</p>
                           </li>
                           <li>
                              <p><code class="codeph">lineitem</code> ，包含所选每个文档的<code class="codeph">LineItem</code>节点集</p>
                           </li>
                        </ul>
                        <p>它计算每个文档的<code class="codeph">LineItem</code>节点数。相关联接确保<code class="codeph">GROUP BY</code>正确地确定哪个<code class="codeph">LineItem</code>元素属于哪个<code class="codeph">PurchaseOrder</code>元素。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">
                        <p class="titleinexample">示例3-25使用XMLTABLE计算元素中子元素的数量</p><pre class="oac_no_warn" dir="ltr">SELECT count（*）FROM purchaseorder p，XMLTable（'/ PurchaseOrder / <span class="bold">*</span> 'PASSING p。OBJECT_VALUE）WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; COUNT（*）---------- 9选择1行。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="有许多方法可以在Oracle XML DB中查询XML内容并检索它。">查询Oracle XML DB中存储的XML内容</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4143"></a><a id="ADXDB4144"></a><a id="ADXDB4147"></a><a id="ADXDB4142"></a><div class="props_rev_3"><a id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8" name="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8"></a><h3 id="ADXDB-GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8" class="sect3"><span class="enumeration_section">3.7</span>更新Oracle XML DB中存储的XML内容</h3>
               <div>
                  <p>您可以更新XML内容，替换文档的全部内容或仅替换文档的特定部分。</p>
                  <div class="section">
                     <p>对XML文档执行部分更新的能力非常强大，尤其是当您对大型文档进行少量更改时，因为它可以显着减少执行更新所需的网络流量和磁盘输入输出量。</p>
                     <p>您可以在单个操作中对文档进行多项更改。每个更改都使用XQuery表达式来标识要更新的节点，并为该节点指定新值。</p>
                     <p><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__CHDBGCBG">示例3-26</a>更新与元素<code class="codeph">User</code>关联的文本节点。
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFGFDGD">示例3-27</a>替换XML文档中的整个元素。XQuery表达式引用该元素，替换值作为<code class="codeph">XMLType</code>对象传递。
        
                     </p>
                     <p>您可以在一个语句中对文档进行多项更改。<a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFJGJAB">示例3-28</a>在单个SQL <code class="codeph">UPDATE</code>语句中更改属于<code class="codeph">CostCenter</code>和<code class="codeph">SpecialInstructions</code>元素的文本节点的值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__CHDBGCBG">
                     <p class="titleinexample">示例3-26更新文本节点</p><pre class="pre codeblock"><code>SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / User'PASSING OBJECT_VALUE AS“p”RETURNING CONTENT）AS VARCHAR2（60））FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; XMLCAST（XMLQUERY（'$ P / PURCHAS ---------------------------- SBELL 1行被选中。更新购买订单SET OBJECT_VALUE = XMLQuery（'copy $ i：= $ p1 modify（对于$ i，$ i / PurchaseOrder / User返回节点$ j的替换值，带$ p2）返回$ i'PASSING OBJECT_VALUE AS“p1”，' <span class="bold">SKING'AS</span> “p2” <span class="bold">返回</span>内容）XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; 1行更新。SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / User'PASSING OBJECT_VALUE AS“p”RETURNING CONTENT）AS VARCHAR2（60））FROM purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; XMLCAST（XMLQUERY（'$ P / PURCHAS ---------------------------- <span class="bold">SKING</span> 1行被选中。
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFGFDGD">
                     <p class="titleinexample">示例3-27使用XQuery更新替换整个元素</p><pre class="pre codeblock"><code>SELECT XMLQuery（'$ p / PurchaseOrder / LineItems / LineItem [1]'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）from purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p “）; XMLQUERY（'$ P / PURCHAS -------------------- &lt;LineItem ItemNumber =“1”&gt; &lt;Description&gt;值得纪念的夜晚&lt;/ Description&gt; &lt;Part Id = “715515009058”UnitPrice =“39.95”Quantity =“2”/&gt; &lt;/ LineItem&gt;选择了1行。更新购买订单SET OBJECT_VALUE = XMLQuery（'copy $ i：= $ p1 modify（$ i / PurchaseOrder / LineItems / LineItem [1]中的$ j返回替换节点$ j与$ p2）返回$ i'PASSING OBJECT_VALUE AS“p1 “， <span class="bold">XMLType（'&lt;LineItem ItemNumber =”1“&gt;</span> <span class="bold">&lt;Description&gt; Lady Vanishes &lt;/ Description&gt;</span> <span class="bold">&lt;Part Id =”37429122129“UnitPrice =”39.95“</span> <span class="bold">Quantity =”1“/&gt;</span> <span class="bold">&lt;/ LineItem&gt;'）</span> AS” p2“返回内容”XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; 1行更新。SELECT XMLQuery（'$ p / PurchaseOrder / LineItems / LineItem [1]'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）from purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p “）; XMLQUERY（'$ P / PURCHAS -------------------- <span class="bold">&lt;LineItem ItemNumber =“1”&gt;</span> <span class="bold">&lt;Description&gt; Lady Vanishes &lt;/ Description&gt;</span> <span class="bold">&lt;Part Id =“ 37429122129“UnitPrice =”39.95“Quantity =”1“/&gt;</span> <span class="bold">&lt;/ LineItem&gt;</span>选择了1行。
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFJGJAB">
                     <p class="titleinexample">示例3-28使用XQuery更改更改文本节点值</p><pre class="pre codeblock"><code>SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / CostCenter'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）AS VARCHAR2（4））“Cost Center”，XMLCast（XMLQuery（'$ p / PurchaseOrder / SpecialInstructions'PASSING OBJECT_VALUE AS“p “返回内容”作为VARCHAR2（2048））“指令”来自purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）;成本中心说明------------ ------------ S30 Air Mail 1行选中。UPDATE定单SET OBJECT_VALUE =的XMLQuery（'复制$ I：= $ P1修改（（用于在$ I /的PurchaseOrder / <span class="bold">CostCenter</span>返回$Ĵ <span class="bold"><span class="bold">替换</span></span> $ P2 <span class="bold">节点</span> $ j <span class="bold">的值</span> ），（对于在$ $ĴI /的PurchaseOrder / <span class="bold">SpecialInstructions</span> <span class="bold">使用</span> $ p3返回<span class="bold">节点</span> $ j的<span class="bold">替换值</span> ））返回$ i'PASSING OBJECT_VALUE AS“p1”， <span class="bold">'</span> B40'AS“p2”， <span class="bold">'优先隔夜服务'</span> AS“p3”返回内容）XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）; 1行更新。SELECT XMLCast（XMLQuery（'$ p / PurchaseOrder / CostCenter'PASSING OBJECT_VALUE as“p”RETURNING CONTENT）AS VARCHAR2（4））“Cost Center”，XMLCast（XMLQuery（'$ p / PurchaseOrder / SpecialInstructions'PASSING OBJECT_VALUE AS“p “返回内容”作为VARCHAR2（2048））“指令”来自purchaseorder WHERE XMLExists（'$ p / PurchaseOrder [Reference =“SBELL-2002100912333601PDT”]'PASSING OBJECT_VALUE AS“p”）;成本中心说明------------ -------------------------- <span class="bold">B40</span> <span class="bold">优先隔夜服务</span> 1行已选中。</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4163"></a><div class="props_rev_3"><a id="GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" name="GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B"></a><h3 id="ADXDB-GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" class="sect3"><span class="enumeration_section">3.8</span>从关系数据生成XML数据</h3>
               <div>
                  <p>您可以使用Oracle XML DB从关系数据生成XML数据。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7">使用SQL / XML函数从关系数据生成XML数据</a><br>您可以使用标准SQL / XML函数生成一个或多个XML文档。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3">使用DBURITYPE从关系数据生成XML数据</a><br>您可以使用SQL函数<code class="codeph">DBURIType</code>从关系数据生成XML数据。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="XQuery语言是您与Oracle XML DB中的XML数据交互的主要方式之一。对该语言的支持包括SQL * Plus commandXQUERY和SQL / XML函数XMLQuery，XMLTable，XMLExists和XMLCast。">XQuery和Oracle XML DB</a></li>
                        <li><a href="generation-of-XML-data-from-relational-data.html#GUID-3BEB9A88-8B44-4AA3-89F4-8CBF6F8FA686" title="Oracle XML DB提供了从数据库中的关系数据生成（构造）XML数据的功能。有SQL / XML标准函数和Oracle特定的函数和包，用于从关系内容生成XML数据。">从关系数据生成XML数据</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4164"></a><a id="ADXDB4166"></a><a id="ADXDB4167"></a><a id="ADXDB5803"></a><div class="props_rev_3"><a id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7" name="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7"></a><h4 id="ADXDB-GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7" class="sect4"><span class="enumeration_section">3.8.1</span>使用SQL / XML函数从关系数据生成XML数据</h4>
                  <div>
                     <p>您可以使用标准SQL / XML函数生成一个或多个XML文档。</p>
                     <div class="section">
                        <p>SQL / XML函数<code class="codeph">XMLQuery</code>是执行此操作的最常用方法。您可以使用的其他SQL / XML函数如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">XMLElement</code>创建一个元素</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLAttributes</code>将属性添加到元素</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLForest</code>创建元素林</p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLAgg</code>从元素集合中创建单个元素</p>
                           </li>
                        </ul>
                        <p><a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BJFJCFHF">示例3-29中</a>的查询使用这些函数生成XML文档，其中包含表<code class="codeph">departments</code> ， <code class="codeph">locations</code> ， <code class="codeph">countries</code> ， <code class="codeph">employees</code>和<code class="codeph">jobs</code> 。
                        </p>
                        <p>此查询为<code class="codeph">departments</code>表中的每一行生成元素<code class="codeph">Department</code> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每个<code class="codeph">Department</code>元素都包含属性<code class="codeph">DepartmentID</code> 。 <code class="codeph">DepartmentID</code>的值来自<code class="codeph">department_id</code>列。<code class="codeph">Department</code>元素包含子元素<code class="codeph">Name</code> ， <code class="codeph">Location</code>和<code class="codeph">EmployeeList</code> 。
                              </p>
                           </li>
                           <li>
                              <p>与<code class="codeph">Name</code>元素关联的文本节点来自<code class="codeph">departments</code>表中的<code class="codeph">name</code>列。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">Location</code>元素具有子元素<code class="codeph">Address</code> ， <code class="codeph">City</code> ， <code class="codeph">State</code> ， <code class="codeph">Zip</code>和<code class="codeph">Country</code> 。通过从<code class="codeph">locations</code>和<code class="codeph">countries</code>表中的列创建命名元素的林来构造这些元素。列中的值将成为命名元素的文本节点。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EmployeeList</code>元素包含<code class="codeph">Employee</code> Elements的聚合。<code class="codeph">EmployeeList</code>元素的内容由子查询创建，该子查询返回<code class="codeph">employees</code>表中与当前部门对应的行集。每个<code class="codeph">Employee</code>元素都包含有关该员工的信息。每个<code class="codeph">Employee</code>元素的元素和属性的内容取自表<code class="codeph">employees</code>和<code class="codeph">jobs</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>SQL / XML函数生成的输出通常<span class="italic">不是</span>很漂亮。唯一的例外是函数<code class="codeph">XMLSerialize</code> - 使用<code class="codeph">XMLSerialize</code>进行漂亮打印。这使得其他SQL / XML函数（1）避免在生成所需输出时创建完整DOM，以及（2）减小生成文档的大小。大多数SQL / XML函数缺乏漂亮打印对大多数应用程序来说无关紧要。但是，它使得手动验证生成的输出更加困难。
                        </p>
                        <p>您还可以创建和查询使用SQL / XML生成函数构建的<code class="codeph">XMLType</code>视图。<a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABGGAIA">例3-30</a>和<a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">例3-31</a>说明了这一点。这种<code class="codeph">XMLType</code>视图具有将关系数据保存为XML内容的效果。<code class="codeph">XMLType</code>视图中的行也可以作为Oracle XML DB Repository中的文档保留。
                        </p>
                        <p>在<a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">示例3-31中</a> ，传递给SQL / XML函数<code class="codeph">XMLExists</code>的XPath表达式将查询结果集限制为包含<code class="codeph">Executive</code>部门信息的节点。为清楚起见，结果显示在这里。
                        </p>
                        <div class="infoboxnote" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__GUID-C34EF579-9CFB-4ECC-AC17-C88A41DCA1AD">
                           <p class="notep1">注意：</p>
                           <p>只有当XPath表达式中引用的节点<span class="italic">不是</span>使用SQL函数<code class="codeph">XMLAgg</code>创建的元素的后代时，才支持对<code class="codeph">XMLType</code>表示操作的XML表达式的XPath重写。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BJFJCFHF">
                        <p class="titleinexample">示例3-29使用SQL / XML函数生成XML数据</p><pre class="pre codeblock"><code>SELECT XMLElement（“Department”，XMLAttributes（d。Department_id AS“DepartmentId”），XMLForest（d.department_name AS“Name”），XMLElement（“Location”，XMLForest（street_address AS“Address”，city AS“City”，state_province AS“State”，postal_code AS“Zip”， country_name AS“Country”）），XMLElement（“EmployeeList”，（SELECT XMLAgg（XMLElement（“Employee”，XMLAttributes（e.employee_id AS“employeeNumber”），XMLForest（e.first_name AS“FirstName”，e.last_name AS“ LastName“，e.email AS”EmailAddress“，e.phone_number AS”PHONE_NUMBER“，e.hire_date AS”StartDate“，j.job_title AS”JobTitle“，e.salary AS”Salary“，m.first_name ||'' || m.last_name AS“Manager”），XMLElement（“Commission”，e.commission_pct）））FROM hr.employees e，hr.employees m，hr.jobs j WHERE e.department_id = d.department_id AND j.job_id = e.job_id AND m.employee_id = e.manager_id）））AS XML FROM hr.departments d，hr.countries c，hr.locations l WHERE department_name ='Executive'AND d.location_id = l.location_id AND l.country_id = c.country_id;</code></pre><p>该查询返回以下XML：</p><pre class="pre codeblock"><code>XML ------------------------------------------------- ------------------------------- &lt;Department DepartmentId =“90”&gt; &lt;Name&gt; Executive &lt;/ Name&gt; &lt;Location&gt; &lt;地址&gt; 2004 Charade Rd &lt;/ Address&gt; &lt;City&gt; Seattle &lt;/ City&gt; &lt;State&gt; Washingto n &lt;/ State&gt; &lt;Zip&gt; 98199 &lt;/ Zip&gt; &lt;Country&gt; United States of America &lt;/ Country&gt; &lt;/ Location&gt; &lt;EmployeeList&gt; &lt;Employee employeeNumber =“101”&gt; &lt;FirstNa me&gt; Neena &lt;/ FirstName&gt; &lt;LastName&gt; Kochhar &lt;/ LastName&gt; &lt;EmailAddress&gt; NKOCHHAR &lt;/ EmailAdd ess&gt; &lt;PHONE_NUMBER&gt; 515.123.4568 &lt;/ PHONE_NUMBER&gt; &lt;开始日期&gt; 2005-09-21 &lt;/ StartDate&gt; &lt;JobTitle&gt;行政副总裁&lt;/ JobTitle&gt; &lt;薪水&gt; 17000 &lt;/薪水&gt; &lt;经理&gt;史蒂文·金&lt;/经理&gt; &lt;Com mission&gt; &lt;/ Commission&gt; &lt;/ Employee&gt; &lt;员工employeeNumber =“102”&gt; &lt;FirstName&gt; Lex &lt;/ FirstName&gt; &lt;LastName&gt; De Haan &lt;/ LastName&gt; &lt;EmailAddress&gt; L DEHAAN &lt;/ EmailAddress&gt; &lt;PHONE_NUMBER&gt; 515.123.4569 &lt;/ PHONE NUMBER&gt; &lt;StartDate&gt; 2001-01 -13 &lt;/ StartDate&gt; &lt;JobTitle&gt;管理副总裁&lt;/ JobTitle&gt; &lt;薪水&gt; 17000 &lt;/薪水&gt; &lt;经理&gt;史蒂芬金&lt;/经理&gt; &lt;佣金&gt; &lt;/佣金&gt; &lt;/员工&gt; &lt;/员工列表&gt; &lt;/系&gt;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABGGAIA">
                        <p class="titleinexample">示例3-30通过常规关系表创建XMLType视图</p><pre class="pre codeblock"><code>CREATE OR REPLACE的XMLType的VIEW department_xml <span class="bold">WITH OBJECT <span class="bold">ID（SUBSTR（XMLCAST（</span></span> <span class="bold">的XMLQuery（ '$ P /部门/名称'</span> <span class="bold">PASSING OBJECT_VALUE为“P”回<span class="bold">CONTENT）AS</span></span> <span class="bold"><span class="bold"><span class="bold">VARCHAR2（30）），1，128））AS</span></span></span> SELECT的XMLElement（ “Department”，XMLAttributes（d.department_id AS“DepartmentId”），XMLForest（d.department_name AS“Name”），XMLElement（“Location”，XMLForest（street_address AS“Address”，city AS“City”，state_province AS“State” “，postal_code AS”Zip“，country_name AS”Country“）），XMLElement（”EmployeeList“，（SELECT XMLAgg（XMLElement（”Employee“，XMLAttributes（e.employee_id AS”employeeNumber“）），XMLForest（e.first_name AS” FirstName“，e.last_name AS”LastName“，e.email AS”EmailAddress“，e.phone_number AS”PHONE_NUMBER“，e.hire_date AS”StartDate“，j.job_title AS”JobTitle“，e.salary AS”Salary“ ，m.first_name ||''|| m.last_name AS“Manager”），XMLElement（“Commission”，e.commission_pct）））FROM hr.employees e，hr.employees m，hr.jobs j WHERE e.department_id = d.department_id AND j.job_id = e.job_id AND m.employee_id = e.manager_id）））。extract（'/ *'）AS XML FROM hr.departments d，hr.countries c，hr.locations l WHERE d.location_id = l.location_id AND l.country_id = c。 COUNTRY_ID;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">
                        <p class="titleinexample">示例3-31查询XMLType视图</p><pre class="pre codeblock"><code>SELECT OBJECT_VALUE FROM department_xml WHERE XMLExists（'$ p / Department [Name =“Executive”]'PASSING OBJECT_VALUE AS“p”）; OBJECT_VALUE ------------------------------------------------ &lt; Department DepartmentId =“90”&gt; &lt;名称&gt;执行&lt;/名称&gt; &lt;位置&gt; &lt;地址&gt; 2004 Charade Rd &lt;/ Address&gt; &lt;City&gt; Seattle &lt;/ City&gt; &lt;State&gt; Washington &lt;/ State&gt; &lt;Zip&gt; 98199 &lt;/邮编&gt; &lt;国家&gt;美利坚合众国&lt;/ Country&gt; &lt;/ Location&gt; &lt;EmployeeList&gt; &lt;Employee employeeNumber =“101”&gt; &lt;FirstName&gt; Neena &lt;/ FirstName&gt; &lt;LastName&gt; Kochhar &lt;/ LastName&gt; &lt;EmailAddress&gt; NKOCHHAR &lt;/ EmailAddress&gt; &lt;PHONE_NUMBER&gt; 515.123.4568 &lt;/ PHONE_NUMBER&gt; &lt;StartDate&gt; 2005-09-21 &lt;/ StartDate&gt; &lt;JobTitle&gt;行政副总裁&lt;/ JobTitle&gt; &lt;薪水&gt; 17000 &lt;/薪水&gt; &lt;经理&gt; Steven King &lt;/ Manager &gt; &lt;佣金/&gt; &lt;/员工&gt; &lt;员工employeeNumber =“102”&gt; &lt;FirstName&gt; Lex &lt;/ FirstName&gt; &lt;LastName&gt; De Haan &lt;/ LastName&gt; &lt;EmailAddress&gt; LDEHAAN &lt;/ EmailAddress&gt; &lt;PHONE_NUMBER&gt; 515.123.4569 &lt;/ PHONE_NUMBER&gt; &lt;StartDate&gt; 2001-01-13 &lt;/ StartDate&gt; &lt;JobTitle&gt;行政副总裁&lt;/ JobTitle&gt; &lt;薪水&gt; 17000 &lt;/薪水&gt; &lt;经理&gt;史蒂芬金&lt;/经理&gt; &lt;佣金/&gt; &lt;/员工&gt; &lt; / EmployeeList&gt; &lt;/ Department&gt; 1行选择。
</code></pre><p>从以下执行计划输出中可以看出，Oracle XML DB能够将<code class="codeph">XMLExists</code>表达式中的XPath-expression参数正确地重写为底层关系表上的<code class="codeph">SELECT</code>语句。
                        </p><pre class="pre codeblock"><code>SELECT OBJECT_VALUE FROM department_xml WHERE XMLExists（'$ p / Department [Name =“Executive”]'PASSING OBJECT_VALUE AS“p”）; PLAN_TABLE_OUTPUT ------------------------------------------------- -------------------------------------------------- ---------计划哈希值：2414180351 ------------------------------------ -------------------------------------------------- ---------------------- | Id |操作|名称|行|字节|成本（％CPU）|时间| -------------------------------------------------- -------------------------------------------------- -------- | 0 |选择声明| | 1 | 80 | 3（0）| 00:00:01 | | 1 | SORT AGGREGATE | | 1 | 115 | | | | * 2 | HASH JOIN | | 10 | 1150 | 7（15）| 00:00:01 | | * 3 | HASH JOIN | | 10 | 960 | 5（20）| 00:00:01 | | 4 |通过INDEX ROWID BATCHED表的访问权限员工| 10 | 690 | 2（0）| 00:00:01 | | * 5 | INDEX RANGE SCAN | EMP_DEPARTMENT_IX | 10 | | 1（0）| 00:00:01 | | 6 |表访问完全|工作| 19 | 513 | 2（0）| 00:00:01 | | 7 |表访问完全|员工| 107 | 2033年| 2（0）| 00:00:01 | | 8 | NESTED LOOPS | | 1 | 80 | 3（0）| 00:00:01 | | 9 | NESTED LOOPS | | 1 | 68 | 3（0）| 00:00:01 | | * 10 |表访问完全|部门| 1 | 19 | 2（0）| 00:00:01 | | 11 |按INDEX ROWID表的访问权限|地点| 1 | 49 | 1（0）| 00:00:01 | | * 12 | INDEX UNIQUE SCAN | LOC_ID_PK | 1 | | 0（0）| 00:00:01 | | * 13 | INDEX UNIQUE SCAN | COUNTRY_C_ID_PK | 1 | 12 | 0（0）| 00:00:01 | -------------------------------------------------- -------------------------------------------------- --------谓词信息（由操作ID标识）：--------------------------------- ------------------ 2  -  access（“M”。“EMPLOYEE_ID”=“E”。“MANAGER_ID”）3  - 访问（“J”。“JOB_ID”= “E”。“JOB_ID”）5  - 访问（“E”。“DEPARTMENT_ID”=：B1）10  - 过滤器（“D”。“DEPARTMENT_NAME”=“执行”）12  - 访问（“D”。“LOCATION_ID” =“L”。“LOCATION_ID”）13  - 访问（“L”。“COUNTRY_ID”=“C”。“COUNTRY_ID”）选择30行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" title="您可以使用Oracle XML DB从关系数据生成XML数据。">从关系数据生成XML数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4169"></a><a id="ADXDB4170"></a><a id="ADXDB5804"></a><a id="ADXDB4168"></a><div class="props_rev_3"><a id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3" name="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3"></a><h4 id="ADXDB-GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3" class="sect4"><span class="enumeration_section">3.8.2</span>使用DBURITYPE从关系数据生成XML数据</h4>
                  <div>
                     <p>您可以使用SQL函数<code class="codeph">DBURIType</code>从关系数据生成XML数据。
                     </p>
                     <div class="section">
                        <p>函数<code class="codeph">DBURIType</code>将给定表或视图中的一个或多个行公开为单个XML文档。根元素的名称源自表或视图的名称。根元素包含一组<code class="codeph">ROW</code>元素。表或视图中的每一行都有一个<code class="codeph">ROW</code>元素。每个<code class="codeph">ROW</code>元素的子元素都是从表或视图中的列派生的。每个子元素都包含一个文本节点，其中包含给定行的列值。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BABCGFBC">示例3-32</a>显示了如何使用SQL函数<code class="codeph">DBURIType</code>访问数据库模式<code class="codeph">HR</code>的表<code class="codeph">departments</code>的内容。它使用方法<code class="codeph">getXML()</code>将结果文档作为<code class="codeph">XMLType</code>实例返回。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFIFCCF">示例3-33</a>显示了如何使用XPath谓词来限制使用<code class="codeph">DBURIType</code>生成的XML文档中包含的行。示例中的XPath表达式将XML文档限制为值为<code class="codeph">10</code> <code class="codeph">DEPARTMENT_ID</code>列。
                        </p>
                        <p>SQL函数<code class="codeph">DBURIType</code>提供了一种将关系表中的部分或全部行作为一个或多个XML文档公开的简单方法。传递给函数<code class="codeph">DBURIType</code>的URL可以扩展为从视图或表中返回单个列，但在这种情况下，URL还必须包含标识目标表或视图中单个行的谓词。
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFDCFGG">例3-34</a>说明了这一点。谓词<code class="codeph">[DEPARTMENT_ID="10"]</code>导致查询返回列的值<code class="codeph">department_name</code>为<code class="codeph">departments</code>行，其中柱<code class="codeph">department_id</code>具有值<code class="codeph">10</code> 。
                        </p>
                        <p>SQL函数<code class="codeph">DBURIType</code>不如SQL / XML函数灵活：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它无法控制生成的文档的形状。</p>
                           </li>
                           <li>
                              <p>数据只能来自单个表或视图。</p>
                           </li>
                           <li>
                              <p>生成的文档由一个或多个<code class="codeph">ROW</code>元素组成。每个<code class="codeph">ROW</code>元素包含目标表中每列的子项。
                              </p>
                           </li>
                           <li>
                              <p>子元素的名称来自列名。</p>
                           </li>
                        </ul>
                        <p>要控制XML元素的名称，包含来自多个表的列，或控制表中的哪些列出现在生成的文档中，请创建一个关系视图，将所需的列集显示为单行，然后使用函数<code class="codeph">DBURIType</code>从该视图的内容生成XML文档。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BABCGFBC">
                        <p class="titleinexample">示例3-32使用DBURIType和getXML（）从关系表生成XML数据</p><pre class="pre codeblock"><code>SELECT DBURIType（'/ HR / DEPARTMENTS'）。getXML（）FROM DUAL; DBURITYPE（ '/ HR /部门'）。GETXML（）----------------------------------------------- ------- &lt;？xml版本=“1.0”？&gt; &lt;DEPARTMENTS&gt; &lt;ROW&gt; &lt;DEPARTMENT_ID&gt; 10 &lt;/ DEPARTMENT_ID&gt; &lt;DEPARTMENT_NAME&gt;管理&lt;/ DEPARTMENT_NAME&gt; &lt;MANAGER_ID&gt; 200 &lt;/ MANAGER_ID&gt; &lt;LOCATION_ID&gt; 1700 &lt;/ LOCATION_ID&gt; &lt;/ ROW&gt; <span class="bold">...</span>&lt;ROW&gt; &lt;DEPARTMENT_ID&gt; 20 &lt;/ DEPARTMENT_ID&gt; &lt;DEPARTMENT_NAME&gt;营销&lt;/ DEPARTMENT_NAME&gt; &lt;MANAGER_ID&gt; 201 &lt;/ MANAGER_ID&gt; &lt;LOCATION_ID&gt; 1800 &lt;/ LOCATION_ID&gt; &lt;/ ROW&gt; &lt;/ DEPARTMENTS&gt;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFIFCCF">
                        <p class="titleinexample">示例3-33使用XPath谓词限制行</p><pre class="pre codeblock"><code>SELECT DBURIType（'/ HR / DEPARTMENTS / ROW [DEPARTMENT_ID =“10”]'）。getXML（）FROM DUAL; DBURITYPE（ '/ HR /部门/ ROW [DEPARTMENT_ID = “10”]'）。GETXML（）----------------------------------------------- ------------------- &lt;？xml版本=“1.0”？&gt; &lt;ROW&gt; &lt;DEPARTMENT_ID&gt; 10 &lt;/ DEPARTMENT_ID&gt; &lt;DEPARTMENT_NAME&gt;管理&lt;/ DEPARTMENT_NAME&gt; &lt;MANAGER_ID&gt; 200 &lt;/ MANAGER_ID&gt; &lt;LOCATION_ID&gt; 1700 &lt;/ LOCATION_ID&gt; &lt;/ ROW&gt;选择了1行。
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFDCFGG">
                        <p class="titleinexample">示例3-34使用XPath谓词限制行和列</p><pre class="pre codeblock"><code>SELECT DBURIType（'/ HR / DEPARTMENTS / ROW [DEPARTMENT_ID =“10”] / <span class="bold">DEPARTMENT_NAME</span> '）。getXML（）FROM DUAL; DBURITYPE（ '/ HR /部门/ ROW [DEPARTMENT_ID = “10”] / DEPARTMENT_NAME'）。GETXML（）----------------------------------------------- ------------------------------ &lt;？xml版本=“1.0”？&gt; &lt;DEPARTMENT_NAME&gt;管理&lt;/ DEPARTMENT_NAME&gt;选择了1行。
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" title="您可以使用Oracle XML DB从关系数据生成XML数据。">从关系数据生成XML数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4063"></a><div class="props_rev_3"><a id="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" name="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D"></a><h3 id="ADXDB-GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" class="sect3"><span class="enumeration_section">3.9</span> XML文档的字符集</h3>
               <div>
                  <p>Oracle XML DB有几种方法可以确定哪些字符集用于XML文档</p>
                  <div class="infoboxnote" id="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D__GUID-B9D7A6D2-33CB-459A-88D1-96CE08DEC78C">
                     <p class="notep1">警告：</p>
                     <p> <span class="italic">AL32UTF8</span>是适用于<code class="codeph">XMLType</code>数据的Oracle数据库字符集。它等同于IANA注册的标准UTF-8编码，该编码支持所有有效的XML字符。
                     </p>
                     <p>不要将Oracle数据库数据库字符集UTF8（无连字符）与数据库字符集AL32UTF8或字符<span class="italic">编码</span> UTF-8混淆。数据库字符集UTF8已被AL32UTF8 <span class="italic">取代</span> 。<span class="italic">不要</span>使用UTF8 XML数据。字符集UTF8仅支持Unicode 3.1及更早版本。它不支持所有有效的XML字符。AL32UTF8没有这样的限制。
                     </p>
                     <p>对XML数据使用数据库字符集UTF8可能会<span class="italic">阻止系统或对安全性产生负面影响</span> 。如果数据库字符集不支持的字符出现在输入文档元素名称中，则替换字符（通常为“ <code class="codeph">?</code>“）代替它。这会终止解析并引发异常。它可能导致无法恢复的错误。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-0AC0E511-7648-4B6B-A340-319D04EFD973">XML编码声明</a><br>您可以使用XML编码声明来显式指定要用于给定XML实体的字符编码。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1">将XML文档加载到数据库时的字符集确定</a><br>除了从<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code>值获取的XML数据之外，字符编码由文档加载到数据库时的编码声明确定。
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-EED59501-929C-495A-B00F-6A9794ABF840">从数据库中检索XML文档时的字符集确定</a><br>除了存储在<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code>值中的XML数据之外，您可以指定使用SQL客户端，编程API或传输协议从Oracle XML DB检索时使用的编码。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="介绍了使用Oracle XML DB的各种方法的概述。">如何使用Oracle XML DB概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4064"></a><div class="props_rev_3"><a id="GUID-0AC0E511-7648-4B6B-A340-319D04EFD973" name="GUID-0AC0E511-7648-4B6B-A340-319D04EFD973"></a><h4 id="ADXDB-GUID-0AC0E511-7648-4B6B-A340-319D04EFD973" class="sect4"><span class="enumeration_section">3.9.1</span> XML编码声明</h4>
                  <div>
                     <p>您可以使用XML编码声明来显式指定要用于给定XML实体的字符编码。</p>
                     <p>每个XML文档都由称为实体的单元组成。XML文档中的每个实体都可以对其字符使用不同的编码。以UTF-8或UTF-16以外的编码存储的实体必须以包含指示正在使用的字符编码的编码规范的XML声明开头。例如：</p><pre class="pre codeblock"><code>&lt;？xml version ='1.0'coding ='EUC-JP'？&gt;</code></pre><p>以UTF-16编码的实体必须以字节顺序标记（BOM）开头，如XML 1.0参考的附录F中所述。例如，在big-endian平台上，UTF-16数据流所需的BOM是<code class="codeph">#xFEFF</code> 。</p>
                     <p>在没有编码声明和BOM的情况下，假设XML实体以UTF-8编码。由于ASCII是UTF-8的子集，因此ASCII实体不需要编码声明。</p>
                     <p>在许多情况下，除XML数据外，还提供外部信息源，以提供正在使用的字符编码。例如，可以从HTTP（S）请求中的<code class="codeph">Content-Type</code>字段的<code class="codeph">charset</code>参数获取数据的编码，如下所示：</p><pre class="pre codeblock"><code>Content-Type：text / xml;字符集= ISO-8859-4</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="Oracle XML DB有几种方法可以确定哪些字符集用于XML文档">XML文档的字符集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4065"></a><div class="props_rev_3"><a id="GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1" name="GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1"></a><h4 id="ADXDB-GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1" class="sect4"><span class="enumeration_section">3.9.2</span>将XML文档加载到数据库时确定字符集</h4>
                  <div>
                     <p>除了从<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code>值获取的XML数据之外，字符编码由文档加载到数据库时的编码声明确定。
                     </p>
                     <p>对于从<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code>值获取的XML数据，将<span class="italic">忽略</span>任何存在的编码声明，因为这两种数据类型<span class="italic">始终在数据库字符集中进行编码</span> 。
                     </p>
                     <p>此外，通过编程API或传输协议将数据加载到Oracle XML DB中时，您可以提供外部编码来覆盖文档编码声明。如果您尝试加载包含在确定的编码中不合法的字符的基于模式的XML文档，则会引发错误。</p>
                     <p>以下示例显示了指定外部编码的不同方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.createResource</code>从<code class="codeph">BFILE</code>创建文件资源，您可以使用<span class="italic"><code class="codeph">CSID</code></span>参数指定文件编码。如果指定了零<span class="italic"><code class="codeph">CSID</code></span>则从文档编码声明中自动检测文件编码。
                           </p><pre class="pre codeblock"><code>CREATE DIRECTORY xmldir AS'/ private / xmldir'; CREATE或REPLACE PROCEDURE loadXML（filename VARCHAR2，file_csid NUMBER）IS xbfile BFILE; RET BOOLEAN; BEGIN xbfile：= bfilename（'XMLDIR'，filename）; ret：= DBMS_XDB_REPOS.createResource（'/ public / mypurchaseorder.xml'，xbfile，file_csid）;结束;/</code></pre></li>
                        <li>
                           <p>使用FTP协议将文档加载到Oracle XML DB中。使用<code class="codeph">quote set_charset</code> FTP命令指示要加载的文件的编码。
                           </p><pre class="pre codeblock"><code>ftp&gt; quote set_charset Shift_JIS ftp&gt; put mypurchaseorder.xml</code></pre></li>
                        <li>
                           <p>使用HTTP（S）协议将文档加载到Oracle XML DB中。在请求标头中指定要传输到Oracle XML DB的数据的编码。</p><pre class="pre codeblock"><code>Content-Type：text / xml; charset = EUC-JP</code></pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="Oracle XML DB有几种方法可以确定哪些字符集用于XML文档">XML文档的字符集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4066"></a><div class="props_rev_3"><a id="GUID-EED59501-929C-495A-B00F-6A9794ABF840" name="GUID-EED59501-929C-495A-B00F-6A9794ABF840"></a><h4 id="ADXDB-GUID-EED59501-929C-495A-B00F-6A9794ABF840" class="sect4"><span class="enumeration_section">3.9.3</span>从数据库中检索XML文档时的字符集确定</h4>
                  <div>
                     <p>除了存储在<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code>值中的XML数据之外，您可以指定使用SQL客户端，编程API或传输协议从Oracle XML DB检索时使用的编码。
                     </p>
                     <p>当XML数据存储为<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR2</code>值时，编码声明（如果存在）始终<span class="italic">被忽略</span>以进行检索，就像存储一样。因此，检索到的文档的编码可以与该文档中明确声明的编码不同。
                     </p>
                     <p>从数据库检索的XML文档的字符集通过以下方式确定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL客户端 - 如果使用SQL客户端（如SQL * Plus）检索XML数据，则字符集由客户端环境变量<code class="codeph">NLS_LANG</code> 。特别是，此设置将覆盖XML数据本身中的任何显式字符集声明。
                           </p>
                           <p>例如，如果将客户端<code class="codeph">NLS_LANG</code>变量设置为<code class="codeph">AMERICAN_AMERICA.AL32UTF8</code> ，然后检索带有声明<code class="codeph">&lt;?提供的编码<code class="codeph">EUC_JP</code>的XML文档<code class="codeph">&lt;?xml version =“1.0”encoding =“EUC-JP”？&gt;</code> ，检索到的文档的字符集是<code class="codeph">AL32UTF8</code> ， <span class="italic">而不是</span> <code class="codeph">EUC_JP</code> 。</p>
                        </li>
                        <li>
                           <p>PL / SQL和API  - 使用PL / SQL或编程API，您可以将XML数据检索为<code class="codeph">VARCHAR</code> ， <code class="codeph">CLOB</code>或<code class="codeph">XMLType</code>数据类型。对于SQL客户端，您可以通过设置<code class="codeph">NLS_LANG</code>来控制检索数据的编码。</p>
                           <p>您还可以使用<code class="codeph">XMLType</code>和<code class="codeph">URIType</code>方法将XML数据检索到<code class="codeph">BLOB</code>值。这些允许您指定返回的<code class="codeph">BLOB</code>值的字符集。这是一个例子：</p><pre class="pre codeblock"><code>创建或替换函数getXML（pathname VARCHAR2，charset VARCHAR2）RETURN BLOB是xblob BLOB; BEGIN SELECT XMLSERIALIZE（文件e。RES AS BLOB编码字符集）INTO xblob FROM RESOURCE_VIEW e WHERE equals_path（e。RES，pathname）= 1;返回xblob;结束; /</code></pre></li>
                        <li>
                           <p>FTP  - 您可以使用FTP <code class="codeph">quote set_nls_locale</code>命令设置字符集：</p><pre class="pre codeblock"><code>ftp&gt; quote set_nls_locale EUC-JP ftp&gt; get mypurchaseorder.xml</code></pre></li>
                        <li>
                           <p>HTTP（S） - 您可以在HTTP（S）请求中使用<code class="codeph">Accept-Charset</code>参数：</p><pre class="pre codeblock"><code>/httptest/mypurchaseorder.xml 1.1 HTTP /主机：localhost：2345接受：text / * Accept-Charset：iso-8859-1，utf-8</code></pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repository-access-using-protocols.html#GUID-79D2A8C3-3AD4-4479-847B-0F3771B322AE" title="Oracle数据库支持多种FTP引用方法，这些方法直接向Oracle XML DB提供信息。">FTP报价方法</a></li>
                           <li><a href="repository-access-using-protocols.html#GUID-3855422B-2846-40CB-9E49-298193DC333F" title="您可以控制用于使用HTTP（S）传输的数据的字符集。">HTTP（S）的字符集</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-EED59501-929C-495A-B00F-6A9794ABF840__GUID-0F0FC6BB-FDEB-49D9-80ED-17CECF2ABEE7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">NLS_LANG</code>信息，请<code class="codeph">NLS_LANG</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=NLSPG-GUID-D5C74C82-8622-46F4-8760-0F8ABA28A816" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="Oracle XML DB有几种方法可以确定哪些字符集用于XML文档">XML文档的字符集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>基于XML模式的数据的<code class="codeph">XMLType</code>存储模型是在引用的XML模式的注册期间指定的任何内容。如果在注册期间未指定存储模型，则使用对象关系存储。
            </p><br></div>
      </article>
   </body>
</html>