<html id="10337.ANALYZE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>分析</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-VIEW.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ASSOCIATE-STATISTICS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-VIEW.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ASSOCIATE-STATISTICS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL语句：ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">分析</li>
            </ol>
            <a id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E" name="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E"></a><a id="SQLRF53664"></a><a id="SQLRF53665"></a><a id="SQLRF53666"></a><a id="SQLRF53667"></a><a id="SQLRF53668"></a><a id="SQLRF53669"></a><a id="SQLRF53670"></a><a id="SQLRF53671"></a><a id="SQLRF53672"></a><a id="SQLRF53673"></a><a id="SQLRF53674"></a><a id="SQLRF53675"></a><a id="SQLRF53676"></a><a id="SQLRF53677"></a><a id="SQLRF53678"></a><a id="SQLRF53680"></a><a id="SQLRF53681"></a><a id="SQLRF53682"></a><a id="SQLRF53679"></a><a id="SQLRF53683"></a><a id="SQLRF53684"></a><a id="SQLRF53685"></a><a id="SQLRF53686"></a><a id="SQLRF53687"></a><a id="SQLRF53688"></a><a id="SQLRF53689"></a><a id="SQLRF01105"></a>
            
            <h2 id="SQLRF-GUID-535CE98E-2359-4147-839F-DCB3772C1B0E" class="sect2">分析</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-AFFF4AF5-86B5-4F04-A111-A17FDC911432">目的</p>
                  <p><a id="d289770e168" class="indexterm-anchor"></a><a id="d289770e170" class="indexterm-anchor"></a><a id="d289770e172" class="indexterm-anchor"></a><a id="d289770e174" class="indexterm-anchor"></a><a id="d289770e180" class="indexterm-anchor"></a><a id="d289770e186" class="indexterm-anchor"></a>使用<code class="codeph">ANALYZE</code>语句收集统计信息，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>收集或删除有关索引或索引分区，表或表分区，索引组织表，集群或标量对象属性的统计信息。</p>
                     </li>
                     <li>
                        <p>验证索引或索引分区，表或表分区，索引组织表，集群或对象引用（ <code class="codeph">REF</code> ）的结构。
                        </p>
                     </li>
                     <li>
                        <p>标识表或集群的已迁移和链接的行。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-9D6A89F8-7C4D-490B-A20F-8B7CD6299858">
                     <p class="notep1">注意：</p>
                     <p>对于大多数统计信息的收集，请使用<code class="codeph">DBMS_STATS</code>包，它允许您并行收集统计信息，收集分区对象的全局统计信息，以及以其他方式微调统计信息收集。有关<code class="codeph">DBMS_STATS</code>包的更多信息，请参见<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 。
                     </p>
                     <p>使用<code class="codeph">ANALYZE</code>语句（而不是<code class="codeph">DBMS_STATS</code> ）进行与基于开销的优化器无关的统计信息收集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">VALIDATE</code>或<code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code>子句</p>
                        </li>
                        <li>
                           <p>收集freelist块的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-85CDACFE-A205-4FD7-89C3-6AA297B4CBC0">先决条件</p>
                  <p>要分析的模式对象必须是本地的，并且必须位于您自己的模式中，或者您必须具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                  </p>
                  <p>如果要将表或集群的链接行列表到列表中，则列表必须位于您自己的模式中，或者您必须对列表具有<code class="codeph">INSERT</code>特权，或者您必须具有<code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。
                  </p>
                  <p>如果要验证分区表，则必须对列出已分析rowid的表具有<code class="codeph">INSERT</code>对象特权，或者必须具有<code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-41A2FED6-0395-4C5B-A154-DD5681FAFB58">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-BD519F40-C658-4E88-8742-095AA617EC08"><span class="italic">analyze</span> :: =</p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-56B44FFE-8BAE-4138-8F14-286A1E879E2E"><img src="img/analyze.gif" alt="analyze.eps的描述如下" title="analyze.eps的描述如下" longdesc="img_text/analyze.html"><br><a href="img_text/analyze.html">说明analyze.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-43AD9B53-3D27-4390-BBC2-1B05A7136183"><span class="italic">partition_extension_clause</span> :: =</p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-D7ED1804-4FF0-4A50-9C34-0076E34A7B04"><img src="img/partition_extension_clause.gif" alt="下面是partition_extension_clause.eps的描述" title="下面是partition_extension_clause.eps的描述" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">插图说明partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-F10D7C3F-57B8-47F5-9D1B-7041B396400D"><span class="italic">validation_clauses</span> :: =</p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-E589647D-8BA3-4151-90C2-258410A64368"><img src="img/validation_clauses.gif" alt="validation_clauses.eps的描述如下" title="validation_clauses.eps的描述如下" longdesc="img_text/validation_clauses.html"><br><a href="img_text/validation_clauses.html">说明validation_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-7CE6533E-3039-4308-B046-3B2A515DFE2A"><span class="italic">into_clause</span> :: =</p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-35036AA7-7EE2-4542-9B29-828DA3FF07A0"><img src="img/into_clause.gif" alt="下面是into_clause.eps的描述" title="下面是into_clause.eps的描述" longdesc="img_text/into_clause.html"><br><a href="img_text/into_clause.html">插图描述into_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-0F6407D4-6CD5-4EFF-AAAD-635FA0AEC06D">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-020C4708-5795-42C4-8E3C-04D2D4C9F37F"><span class="italic">模式</span></p>
                  <p>指定包含表，索引或集群的模式。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库假定表，索引或集群位于您自己的模式中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-4A4EFF29-5A2E-47C6-997E-90541445F20A">表格<span class="italic">表</span></p>
                  <p><a id="d289770e343" class="indexterm-anchor"></a><a id="d289770e347" class="indexterm-anchor"></a>指定要分析的表。分析表时，数据库还会收集有关任何基于函数的索引中出现的表达式的统计信息。因此，在分析表之前，请务必在表上创建基于函数的索引。有关基于函数的<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">索引</a>的更多信息，请参阅<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> 。
                  </p>
                  <p>分析表时，数据库会跳过标记为<code class="codeph">LOADING</code>或<code class="codeph">FAILED</code>所有域索引。</p>
                  <p><a id="d289770e364" class="indexterm-anchor"></a><a id="d289770e368" class="indexterm-anchor"></a>对于索引组织表，数据库还会分析任何映射表并计算其<code class="codeph">PCT_ACCESSS_DIRECT</code>统计信息。这些统计数据估计作为映射表中本地rowid的一部分存储的猜测数据块地址的准确性。
                  </p>
                  <p><a id="d289770e377" class="indexterm-anchor"></a> Oracle数据库收集表的以下统计信息。标有星号的统计数据总是精确计算。表统计信息（包括域索引的状态）显示在括号中显示的列中的数据字典视图<code class="codeph">USER_TABLES</code> ， <code class="codeph">ALL_TABLES</code>和<code class="codeph">DBA_TABLES</code>中。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>行数（ <code class="codeph">NUM_ROWS</code> ）</p>
                     </li>
                     <li>
                        <p>*高水位线以下的数据块数 - 已格式化为接收数据的数据块数，无论它们当前是否包含数据或为空（ <code class="codeph">BLOCKS</code> ）</p>
                     </li>
                     <li>
                        <p>*分配给从未使用过的表的数据块数（ <code class="codeph">EMPTY_BLOCKS</code> ）</p>
                     </li>
                     <li>
                        <p>每个数据块的平均可用空间（以字节为单位）（ <code class="codeph">AVG_SPACE</code> ）</p>
                     </li>
                     <li>
                        <p>链接行数（ <code class="codeph">CHAIN_COUNT</code> ）</p>
                     </li>
                     <li>
                        <p>平均行长度，包括行开销，以字节为单位（ <code class="codeph">AVG_ROW_LEN</code> ）</p>
                     </li>
                  </ul>
                  <p><span class="bold">分析表的限制</span></p>
                  <p>分析表受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能使用<code class="codeph">ANALYZE</code>来收集数据字典表的统计信息。
                        </p>
                     </li>
                     <li>
                        <p>您不能使用<code class="codeph">ANALYZE</code>来收集外部表的统计信息。相反，您必须使用<code class="codeph">DBMS_STATS</code>包。
                        </p>
                     </li>
                     <li>
                        <p>您不能使用<code class="codeph">ANALYZE</code>来收集临时表上的默认统计信息。但是，如果已经在临时表的一个或多个列与用户定义的统计信息类型之间创建了关联，则可以使用<code class="codeph">ANALYZE</code>在临时表上收集用户定义的统计信息。
                        </p>
                     </li>
                     <li>
                        <p>您无法计算或估计以下列类型的统计信息： <code class="codeph">REF</code>列类型，varrays，嵌套表，LOB列类型（不分析LOB列类型，跳过它们）， <code class="codeph">LONG</code>列类型或对象类型。但是，如果统计类型与此类关联，则Oracle数据库会收集用户定义的统计信息。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-014D9B87-0D01-4137-ADD3-81C76147ECB1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ASSOCIATE-STATISTICS.html#GUID-BD02BA6A-32A7-4093-A6B6-BAE860C0F834">协会统计</a></p>
                        </li>
                        <li>
                           <p>有关数据字典视图的信息，请参阅<a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-46F2BB54-F39C-41F2-9986-B9A49C59B029"><span class="italic">partition_extension_clause</span></p>
                  <p><span class="italic">partition_extension_clause</span> <a id="d289770e488" class="indexterm-anchor"></a><a id="d289770e492" class="indexterm-anchor"></a></p>
                  <p>指定要在其上收集统计信息的分区或子分区或分区或子分区值。分析集群时，不能使用此子句。</p>
                  <p>如果指定<code class="codeph">PARTITION</code>并且<span class="italic"><code class="codeph">table</code></span>是复合分区的，则Oracle数据库会分析指定分区中的所有子分区。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-33AA9816-4FAC-4ECA-8393-6CF42F6EA10A">INDEX <span class="italic">指数</span></p>
                  <p><a id="d289770e514" class="indexterm-anchor"></a><a id="d289770e518" class="indexterm-anchor"></a>指定要分析的索引。
                  </p>
                  <p>Oracle数据库收集索引的以下统计信息。标有星号的统计数据总是精确计算。对于常规索引，在计算或估计统计信息时，统计信息将显示在括号中显示的列中的数据字典视图<code class="codeph">USER_INDEXES</code> ， <code class="codeph">ALL_INDEXES</code>和<code class="codeph">DBA_INDEXES</code>中。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>*索引从其根块到其叶块的深度（ <code class="codeph">BLEVEL</code> ）</p>
                     </li>
                     <li>
                        <p>叶块数（ <code class="codeph">LEAF_BLOCKS</code> ）</p>
                     </li>
                     <li>
                        <p>不同索引值的数量（ <code class="codeph">DISTINCT_KEYS</code> ）</p>
                     </li>
                     <li>
                        <p>每个索引值的平均叶块数（ <code class="codeph">AVG_LEAF_BLOCKS_PER_KEY</code> ）</p>
                     </li>
                     <li>
                        <p>每个索引值的平均数据块数（对于表上的索引）（ <code class="codeph">AVG_DATA_BLOCKS_PER_KEY</code> ）</p>
                     </li>
                     <li>
                        <p>聚类因子（行与索引值的排序顺序）（ <code class="codeph">CLUSTERING_FACTOR</code> ）</p>
                     </li>
                  </ul>
                  <p>对于域索引，此语句将调用与索引关联的统计类型中指定的用户定义的统计信息收集函数（请参阅<a href="ASSOCIATE-STATISTICS.html#GUID-BD02BA6A-32A7-4093-A6B6-BAE860C0F834">ASSOCIATE STATISTICS</a> ）。如果没有与域索引关联的统计信息类型，则使用与其indextype关联的统计信息类型。如果索引或其索引类型不存在统计类型，则不会收集用户定义的统计信息。用户定义的索引统计信息显示在数据字典视图<code class="codeph">USER_USTATS</code> ， <code class="codeph">ALL_USTATS</code>和<code class="codeph">DBA_USTATS</code>的<code class="codeph">STATISTICS</code>列中。</p>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-FAFCAF53-62E2-46F2-9411-2034E6FAAE6E">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>分析已从中删除大量行的索引时，即使您请求<code class="codeph">ESTIMATE</code>统计操作，Oracle数据库有时也会执行<code class="codeph">COMPUTE</code>统计操作（可能需要进行全表扫描）。这样的操作可能非常耗时。
                           </p>
                        </li>
                        <li>
                           <p>在某些情况下，使用<code class="codeph">ANALYZE</code>语句分析索引需要花费过多的时间才能完成。在这些情况下，您可以使用SQL查询来验证索引。如果查询确定表与索引之间存在不一致，则可以使用<code class="codeph">ANALYZE</code>语句对索引进行全面分析。有关更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN14215" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">分析指数的限制</span></p>
                  <p>您无法分析标记为<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code>的域索引。</p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-A008D739-96E4-4C30-AE2A-4FC44E1783F7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关域索引的更多信息，请参阅<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a></p>
                        </li>
                        <li>
                           <p>有关数据字典视图的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2154661">分析索引：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-5C34A086-EB5D-431F-B9AB-71F87AEC3D8E">CLUSTER <span class="italic">集群</span></p>
                  <p>指定要分析的群集。收集集群的统计信息时，Oracle数据库还会自动收集集群中所有表及其所有索引（包括集群索引）的统计信息。</p>
                  <p>对于索引和散列集群，数据库会收集单个集群密钥（ <code class="codeph">AVG_BLOCKS_PER_KEY</code> ）占用的平均数据块数。这些统计信息显示在数据字典视图<code class="codeph">ALL_CLUSTERS</code> ， <code class="codeph">USER_CLUSTERS</code>和<code class="codeph">DBA_CLUSTERS</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-B8756108-4A6B-4581-823A-FECB4605ED6A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关数据字典视图和<span class="q">“ <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115909">分析集群：示例</a> ”的</span>信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-1BA6DF50-F714-4FF0-A71E-7EC5378F9B5D"><span class="italic">validation_clauses</span></p>
                  <p>验证子句允许您验证<code class="codeph">REF</code>值和分析对象的结构。
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-DC854467-9E3F-4F89-9DCD-1C9E2858547D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关验证表，索引，集群和物化视图的详细信息，请参见<a href="../admin/managing-schema-objects.html#ADMIN11526" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                  </div>
                  <p><span class="bold">验证REF更新条款</span> <a id="d289770e694" class="indexterm-anchor"></a><a id="d289770e698" class="indexterm-anchor"></a><a id="d289770e702" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">VALIDATE</code> <code class="codeph">REF</code> <code class="codeph">UPDATE</code>以验证指定表中的<code class="codeph">REF</code>值，检查每个<code class="codeph">REF</code>的rowid部分，将其与真正的rowid进行比较，并在必要时进行更正。只有在分析表时才能使用此子句。
                  </p>
                  <p>如果表的所有者对引用的对象没有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权，则Oracle数据库将认为它们无效并将它们设置为null。随后，这些<code class="codeph">REF</code>值在查询中将不可用，即使它是由具有对象的适当权限的用户发出的。
                  </p>
                  <p><span class="bold">将DANGLING设置为NULL</span> <a id="d289770e738" class="indexterm-anchor"></a><a id="d289770e742" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">SET</code> <code class="codeph">DANGLING</code> <code class="codeph">TO</code> <code class="codeph">NULL</code>设置为null指定表中发现指向无效或不存在的对象的任何<code class="codeph">REF</code>值（无论是否作用域）。
                  </p>
                  <p><span class="bold">验证结构</span> <a id="d289770e766" class="indexterm-anchor"></a><a id="d289770e770" class="indexterm-anchor"></a><a id="d289770e774" class="indexterm-anchor"></a><a id="d289770e778" class="indexterm-anchor"></a><a id="d289770e782" class="indexterm-anchor"></a><a id="d289770e786" class="indexterm-anchor"></a><a id="d289770e790" class="indexterm-anchor"></a><a id="d289770e794" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">VALIDATE</code> <code class="codeph">STRUCTURE</code>以验证分析对象的结构。Oracle数据库优化器不使用此子句收集的统计信息。
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-7C634D67-1FD1-4E58-9462-17E66533373E">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115898">验证表：示例</a> ”</span></p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于表，Oracle数据库会验证每个数据块和行的完整性。对于索引组织表，数据库还为表上的主键索引生成压缩统计信息（最佳前缀压缩计数）。</p>
                     </li>
                     <li>
                        <p>对于集群，Oracle数据库会自动验证集群表的结构。</p>
                     </li>
                     <li>
                        <p>对于分区表，Oracle数据库还会验证每行是否属于正确的分区。如果某行未正确整理，则其rowid将插入<code class="codeph">INVALID_ROWS</code>表中。
                        </p>
                     </li>
                     <li>
                        <p>对于临时表，Oracle数据库会在当前会话期间验证表及其索引的结构。</p>
                     </li>
                     <li>
                        <p>对于索引，Oracle数据库会验证索引中每个数据块的完整性，并检查块损坏。此子句不确认表中的每一行都有索引条目，或者每个索引条目都指向表中的一行。您可以通过使用<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2111178">CASCADE</a>子句验证表的结构来执行这些操作。
                        </p>
                        <p>Oracle数据库还计算所有正常索引的压缩统计信息（最佳前缀压缩计数）。</p>
                        <p>Oracle数据库在数据字典视图<code class="codeph">INDEX_STATS</code>和<code class="codeph">INDEX_HISTOGRAM</code>存储有关索引的统计信息。</p>
                        <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-A649356C-2703-41ED-BE9B-46271E3EBE09">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle数据库参考</span></a>有关这些视图的信息</p>
                        </div>
                     </li>
                  </ul>
                  <p>如果Oracle数据库遇到对象结构中的损坏，则会返回错误消息。在这种情况下，删除并重新创建对象。</p>
                  <p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2111178"><span class="bold">级联</span></p>
                  <p>如果希望Oracle数据库验证与表或集群关联的索引的结构，请指定<code class="codeph">CASCADE</code> 。如果在验证表时使用此子句，则数据库还会验证表上定义的索引。如果在验证集群时使用此子句，则数据库还会验证所有集群表索引，包括集群索引。
                  </p>
                  <p>默认情况下， <code class="codeph">CASCADE</code>执行<code class="codeph">COMPLETE</code>验证，这可能是资源密集型的。如果希望数据库检查是否存在损坏而不报告有关损坏的详细信息，请指定<code class="codeph">FAST</code> 。如果<code class="codeph">FAST</code>检查发现损坏，则可以使用不带<code class="codeph">FAST</code>子句的<code class="codeph">CASCADE</code>选项来查找和了解有关它的详细信息。
                  </p>
                  <p>如果使用此子句验证已启用（但先前已禁用）基于函数的索引，则可能会导致验证错误。在这种情况下，您必须重建索引。</p>
                  <p><span class="bold">在线|离线</span><a id="d289770e887" class="indexterm-anchor"></a><a id="d289770e891" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ONLINE</code>以使Oracle数据库能够在对象内进行DML操作时运行验证。数据库减少了为允许并发而执行的验证量。
                  </p>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-204BAD7D-5FD6-4A64-901E-B0CBCF8A63FD">
                     <p class="notep1">注意：</p>
                     <p>当您验证对象的结构<code class="codeph">ONLINE</code> ，Oracle数据库不会收集任何统计数据，因为这时候你验证对象的结构确实<code class="codeph">OFFLINE</code> 。</p>
                  </div>
                  <p>指定<code class="codeph">OFFLINE</code> ，以最大化执行的验证量。此设置可防止<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句在验证期间同时访问对象，但允许查询。这是默认值。
                  </p>
                  <p><span class="bold">对ONLINE的限制</span></p>
                  <p>分析群集时，无法指定<code class="codeph">ONLINE</code> 。
                  </p>
                  <p><span class="bold">INTO</span></p>
                  <p><code class="codeph">VALIDATE</code> <code class="codeph">STRUCTURE</code>的<code class="codeph">INTO</code>子句仅对分区表有效。指定一个表，Oracle数据库将列出行无法正确整理的分区的rowid。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则数据库假定列表位于您自己的模式中。如果完全省略此子句，则数据库假定该表名为<code class="codeph">INVALID_ROWS</code> 。用于创建此表的SQL脚本是<code class="codeph">UTLVALID.SQL</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-77B11873-9757-4A35-A846-2F13B7BDA25C">列出行链</p>
                  <p><a id="d289770e963" class="indexterm-anchor"></a><a id="d289770e967" class="indexterm-anchor"></a><a id="d289770e971" class="indexterm-anchor"></a><a id="d289770e975" class="indexterm-anchor"></a><a id="d289770e977" class="indexterm-anchor"></a><a id="d289770e981" class="indexterm-anchor"></a> <code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code>允许您识别分析的表或集群的已迁移和链接的行。分析索引时不能使用此子句。
                  </p>
                  <p>在<code class="codeph">INTO</code>子句中，指定Oracle数据库列出迁移和链接行的表。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则数据库假定链式行表位于您自己的模式中。如果完全省略此子句，则数据库假定该表名为<code class="codeph">CHAINED_ROWS</code> 。链式行表必须位于本地数据库中。
                  </p>
                  <p>您可以使用以下脚本之一创建<code class="codeph">CHAINED_ROWS</code>表：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">UTLCHAIN.SQL</code>使用物理rowid。因此，它可以容纳传统表中的行，但不能容纳索引组织表。（见下面的注释。）
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">UTLCHN1。SQL</code>使用通用rowid，因此它可以容纳来自传统和索引组织表的行。
                        </p>
                     </li>
                  </ul>
                  <p>如果您创建自己的链式行表，则它必须遵循这两个脚本之一规定的格式。</p>
                  <p>如果要基于主键（而不是通用rowid）分析索引组织表，则必须为每个索引组织表创建单独的链式行表以容纳其主键存储。使用SQL脚本<code class="codeph">DBMSIOTC.SQL</code>和<code class="codeph">PRVTIOTC.PLB</code>定义<code class="codeph">BUILD_CHAIN_ROWS_TABLE</code>过程，然后执行此过程为每个此类索引组织表创建<code class="codeph">IOT_CHAINED_ROWS</code>表。
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-54E7D658-2DC7-4542-9040-A1F733D351E3">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关打包的SQL脚本的信息，请参阅<a href="../arpls/DBMS_IOT.html#ARPLS018" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考中</span></a>的<code class="codeph">DBMS_IOT</code>包</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115921">列出链式行：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-66739054-68E7-4D88-8811-11D02BB1CDE0">删除统计</p>
                  <p><a id="d289770e1060" class="indexterm-anchor"></a><a id="d289770e1064" class="indexterm-anchor"></a>指定<code class="codeph">DELETE</code> <code class="codeph">STATISTICS</code>以删除当前存储在数据字典中的有关分析对象的任何统计信息。当您不再希望Oracle数据库使用统计信息时，请使用此语句。
                  </p>
                  <p>在表上使用此子句时，数据库还会自动删除表中定义的所有索引的统计信息。在群集上使用此子句时，数据库还会自动删除所有群集表及其所有索引（包括群集索引）的统计信息。</p>
                  <p>如果希望Oracle数据库仅删除系统（非用户定义的）统计信息，请指定<code class="codeph">SYSTEM</code> 。如果省略<code class="codeph">SYSTEM</code> ，并且如果为对象收集了用户定义的列或索引统计信息，则数据库还会通过调用用于收集统计信息的统计信息类型中指定的统计信息删除功能来删除用户定义的统计信息。
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-06488019-68D7-4CE0-858B-2DA23A6745AE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115827">删除统计信息：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-6B17DD37-12B7-40B9-BB23-9F5BC8433F40">例子</p>
                  <p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115827"><span class="bold">删除统计信息：示例</span></p>
                  <p>以下语句从数据字典中删除有关示例表<code class="codeph">oe.orders</code>及其所有索引的统计信息：</p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE命令DELETE STATISTICS;</pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2154661"><span class="bold">分析索引：示例</span></p>
                  <p>以下语句验证了样本索引<code class="codeph">oe.inv_product_ix</code>的结构：</p><pre class="oac_no_warn" dir="ltr">ANALYZE INDEX inv_product_ix验证结构;</pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115898"><span class="bold">验证表：示例</span></p>
                  <p>以下语句分析示例表<code class="codeph">hr.employees</code>及其所有索引：</p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE员工验证结构CASCADE;</pre><p>对于表， <code class="codeph">VALIDATE</code> <code class="codeph">REF</code> <code class="codeph">UPDATE</code>子句验证指定表中的<code class="codeph">REF</code>值，检查每个<code class="codeph">REF</code>的rowid部分，然后将其与真正的rowid进行比较。如果结果是不正确的rowid，则更新<code class="codeph">REF</code>以使rowid部分正确。
                  </p>
                  <p>以下语句验证样本表<code class="codeph">oe.customers</code>的<code class="codeph">REF</code>值：</p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE客户验证REF更新;</pre><p>以下语句验证了样本表<code class="codeph">oe.customers</code>的结构，同时允许同时使用DML：</p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE客户在线验证结构;</pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115909"><span class="bold">分析群集：示例</span></p>
                  <p>以下语句分析<code class="codeph">personnel</code>集群（在<span class="q">“ <a href="CREATE-CLUSTER.html#GUID-4DBC701F-AFC3-486D-AA32-B5CB1D6946F7__I2105033">创建集群：示例</a> ”中<a href="CREATE-CLUSTER.html#GUID-4DBC701F-AFC3-486D-AA32-B5CB1D6946F7__I2105033">创建</a></span> ），其所有表及其所有索引，包括集群索引：</p><pre class="oac_no_warn" dir="ltr">ANALYZE CLUSTER人员验证结构级联;</pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115921"><span class="bold">列出链式行：示例</span></p>
                  <p>以下语句收集有关表<code class="codeph">orders</code>所有链接行的信息：</p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE命令LIST CHAINED ROWS INTO chained_rows;</pre><p>前面的语句将信息放入表<code class="codeph">chained_rows</code> 。然后，您可以使用此查询检查行（如果表中不包含链接的行，则不会返回任何行）：</p><pre class="oac_no_warn" dir="ltr">SELECT owner_name，table_name，head_rowid，analyze_timestamp FROM chained_rows ORDER BY owner_name，table_name，head_rowid，analyze_timestamp; OWNER_NAME TABLE_NAME HEAD_ROWID ANALYZE_TIMESTAMP ---------- ---------- ------------------ -------- --------- OE ORDERS AAAAZzAABAAABrXAAA 25-SEP-2000</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04765.intro-to-navigational-and-type-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="In an object navigational paradigm, data is represented as a graph of objects connected by references."></meta>
      <meta name="description" content="In an object navigational paradigm, data is represented as a graph of objects connected by references."></meta>
      <title>导航和类型函数简介</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="In an object navigational paradigm, data is represented as a graph of objects connected by references."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-navigational-and-type-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-flush-or-refresh-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-navigational-and-type-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-flush-or-refresh-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-navigational-and-type-functions.html" property="item" typeof="WebPage"><span property="name">OCI导航和类型功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">导航和类型函数简介</li>
            </ol>
            <a id="GUID-AD03C24C-0431-4FD7-9D15-8E12BB401FC4" name="GUID-AD03C24C-0431-4FD7-9D15-8E12BB401FC4"></a><a id="LNOCI17299"></a>
            
            <h2 id="LNOCI-GUID-AD03C24C-0431-4FD7-9D15-8E12BB401FC4" class="sect2"><span class="enumeration_section">27.1</span>导航和类型功能简介</h2>
         </header>
         <div class="ind">
            <div>
               <p>在对象导航范例中，数据表示为通过引用连接的对象的图形。</p>
               <p>按照参考文献到达图表中的对象。OCI为Oracle数据库中的对象提供导航接口。本章将介绍这些调用。</p>
               <p>当应用程序在<code class="codeph">OCI_OBJECT</code>模式下调用<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>或<code class="codeph">OCIInitialize()</code> （不建议使用）时，将初始化OCI对象环境。
               </p>
               <div class="infoboxnotealso" id="GUID-AD03C24C-0431-4FD7-9D15-8E12BB401FC4__GUID-2FAAE589-C6DE-4296-83D8-BD862CF539DF">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。它还讨论了OCI的对象导航函数调用。">OCI中的OCI对象关系编程</a>和<a href="object-advanced-topics-in-oci.html#GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。">对象高级主题，</a>以获取有关在本章中使用调用的更多信息</p>
               </div>
            </div><a id="LNOCI17301"></a><a id="LNOCI17302"></a><a id="LNOCI17300"></a><div class="props_rev_3"><a id="GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F" name="GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F"></a><h3 id="LNOCI-GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F" class="sect3"><span class="enumeration_section">27.1.1</span>对象类型和生命周期</h3>
               <div>
                  <p>对象实例是Oracle数据库中定义的类型的出现。</p>
                  <p>本节介绍如何在OCI中表示对象实例。在OCI中，可以根据类型，生命周期和可引用性对对象实例进行分类：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>持久对象是对象类型的实例。持久对象驻留在服务器中的表的一行中，并且可以存在比会话（连接）的持续时间更长的时间。持久对象可以通过包含对象标识符的对象引用来标识。通过固定其对象引用来获得持久对象。</p>
                     </li>
                     <li>
                        <p>瞬态对象是对象类型的实例。瞬态对象的存在时间不能长于会话的持续时间，它用于包含临时计算结果。还可以通过包含瞬态对象标识符的引用来标识瞬态对象。</p>
                     </li>
                     <li>
                        <p>值是用户定义类型（对象类型或集合类型）或任何内置Oracle类型的实例。与对象不同，对象类型的值由内存指针标识，而不是通过引用标识。</p>
                     </li>
                  </ul>
                  <p>值可以是独立的或嵌入的。通常通过发出select语句来获得独立值。OCI还允许客户端程序通过发出SQL语句将一行对象表选择为值。数据库中的可引用对象可以表示为无法通过引用标识的值。独立值也可以是对象中的外部属性，例如<code class="codeph">VARCHAR</code>或<code class="codeph">RAW</code> ，或者是集合中的外部元素，例如<code class="codeph">VARCHAR</code> ， <code class="codeph">RAW</code>或对象。
                  </p>
                  <p>嵌入值实际包含在包含实例中。嵌入值可以是对象中的内联属性（例如数字或嵌套对象），也可以是集合中的内联元素。</p>
                  <p>OCI认为所有值都是瞬态的，这意味着OCI不支持自动将值刷新到数据库，并且客户端必须显式执行SQL语句以将值存储到数据库中。刷新包含的实例时会刷新嵌入的值。</p>
                  <p><a href="intro-to-navigational-and-type-functions.html#GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F__I454190">图27-1</a>显示了如何根据类型和生命周期对实例进行分类。类型可以是对象或对象的值。生命周期可以是持久的（可以存在的时间长于会话的持续时间）或瞬态（可以存在不长于会话的持续时间）。
                  </p>
                  <div class="figure" id="GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F__I454190">
                     <p class="titleinfigure">图27-1按类型和生命周期分类的实例</p><img src="img/lnoci032.gif" alt="下面是图27-1的描述" title="下面是图27-1的描述" longdesc="img_text/lnoci032.html"><br><a href="img_text/lnoci032.html">“图27-1按类型和寿命分类的实例”的说明</a></div>
                  <!-- class="figure" -->
                  <p><a href="intro-to-navigational-and-type-functions.html#GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F__CACJEIEF" title="该表有4列。第1列是特征，第2列是持久对象的生命周期，第3列是瞬态对象的生命周期，第4列是对象的值。">表27-1</a>进一步描述了各种实例之间的区别。
                  </p>
                  <div class="tblformal" id="GUID-55A37DFD-A1CD-43B8-A6E8-AA67F9C7933F__CACJEIEF">
                     <p class="titleintable">表27-1实例的类型和生命周期</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="实例的类型和生命周期" width="100%" border="1" summary="This table has 4 columns. Column 1 is the characteristic, column 2 is the persistent object lifetime, column 3 is the transient object lifetime, and column 4 is the value of the object." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d237061e471">特性</th>
                              <th align="left" valign="bottom" width="25%" id="d237061e474">持久对象</th>
                              <th align="left" valign="bottom" width="25%" id="d237061e477">瞬态对象</th>
                              <th align="left" valign="bottom" width="25%" id="d237061e480">值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d237061e485" headers="d237061e471 ">
                                 <p>类型</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e485 d237061e474 ">
                                 <p>对象类型</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e485 d237061e477 ">
                                 <p>对象类型</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e485 d237061e480 ">
                                 <p>对象类型，内置，集合</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d237061e498" headers="d237061e471 ">
                                 <p>最长寿命</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e498 d237061e474 ">
                                 <p>直到删除对象</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e498 d237061e477 ">
                                 <p>会议</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e498 d237061e480 ">
                                 <p>会议</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d237061e511" headers="d237061e471 ">
                                 <p>Referenceable的</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e511 d237061e474 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e511 d237061e477 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e511 d237061e480 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d237061e524" headers="d237061e471 ">
                                 <p>嵌入式</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e524 d237061e474 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e524 d237061e477 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d237061e524 d237061e480 ">
                                 <p>是</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI17303"></a><div class="props_rev_3"><a id="GUID-D6C9C05D-5CA4-429D-916B-B84FCFB3C9EA" name="GUID-D6C9C05D-5CA4-429D-916B-B84FCFB3C9EA"></a><h3 id="LNOCI-GUID-D6C9C05D-5CA4-429D-916B-B84FCFB3C9EA" class="sect3"><span class="enumeration_section">27.1.2</span>术语</h3>
               <div>
                  <p>描述使用的术语。</p>
                  <p>本章的其余部分使用以下术语：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">对象</span>通常用于表示持久对象，瞬态对象，对象类型的独立值或对象类型的嵌入值。
                        </p>
                     </li>
                     <li>
                        <p>可<span class="italic">引用对象</span>是指持久对象或瞬态对象。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">独立对象</span>是指持久对象，瞬态对象或对象类型的独立值。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">嵌入对象</span>是指对象类型的嵌入值。
                        </p>
                     </li>
                     <li>
                        <p>如果它已被创建<span class="italic">（newed），</span>标记为已更新，或标记为删除的对象是<span class="italic">脏的</span> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D6C9C05D-5CA4-429D-916B-B84FCFB3C9EA__GUID-9B77E2D8-2496-49A9-A8BF-155EB2F745C3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oci-object-relational-programming.html#GUID-8E954104-DBBB-46F7-823B-B29C1E83EFE9" title="Oracle类型的实例根据其生命周期分为持久对象和瞬态对象。">持久对象，瞬态对象和值，</a>用于进一步讨论用于引用不同类型对象的术语</p>
                        </div>
                     </li>
                  </ul>
               </div>
            </div><a id="LNOCI17304"></a><div class="props_rev_3"><a id="GUID-42178180-E0D9-4C70-9DAC-1C267CC4A4FB" name="GUID-42178180-E0D9-4C70-9DAC-1C267CC4A4FB"></a><h3 id="LNOCI-GUID-42178180-E0D9-4C70-9DAC-1C267CC4A4FB" class="sect3"><span class="enumeration_section">27.1.3</span> OCI功能的约定</h3>
               <div>
                  <p>描述OCI功能的约定。</p>
                  <p>有关用于描述每个功能的约定，请参阅<a href="introduction-to-relational-functions.html#GUID-58AD143B-A99B-4AFD-AF21-0C37D674B72F" title="介绍用于OCI功能的约定。">OCI函数</a>约定。每个功能的条目还可能包含以下信息：</p>
               </div>
            </div><a id="LNOCI72817"></a><div class="props_rev_3"><a id="GUID-80F399E8-411A-4161-BAEC-2E6FB01D5AE5" name="GUID-80F399E8-411A-4161-BAEC-2E6FB01D5AE5"></a><h3 id="LNOCI-GUID-80F399E8-411A-4161-BAEC-2E6FB01D5AE5" class="sect3"><span class="enumeration_section">27.1.4</span>返回值</h3>
               <div>
                  <p>如果函数返回标准代码之外的其他内容，则描述函数的返回值。</p>
                  <p>如果函数返回<a href="intro-to-navigational-and-type-functions.html#GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283__G503790" title="该表有2列。第1列是OCI函数名称，第2列描述了可能的Oracle ORA错误代码。">表27-3中</a>列出的标准代码以外的函数，则函数返回的值的说明。
                  </p>
               </div>
            </div><a id="LNOCI17313"></a><a id="LNOCI17312"></a><div class="props_rev_3"><a id="GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4" name="GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4"></a><h3 id="LNOCI-GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4" class="sect3"><span class="enumeration_section">27.1.5</span>导航函数返回值</h3>
               <div>
                  <p>描述导航函数返回值。</p>
                  <div class="section">
                     <p><a href="intro-to-navigational-and-type-functions.html#GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4__CACGEGID" title="该表有2列。第1列是返回值，第2列描述其含义。">表27-2</a>列出了OCI导航功能通常返回的值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4__CACGEGID">
                     <p class="titleintable">表27-2导航功能的返回值</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="导航函数的返回值" width="100%" border="1" summary="This table has 2 columns. Column 1 is the return value and column 2 describes its meaning." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d237061e1381">回报价值</th>
                              <th align="left" valign="bottom" width="69%" id="d237061e1384">含义</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d237061e1389" headers="d237061e1381 ">
                                 <p><code class="codeph">OCI_SUCCESS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d237061e1389 d237061e1384 ">
                                 <p>手术成功了。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d237061e1397" headers="d237061e1381 ">
                                 <p><code class="codeph">OCI_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d237061e1397 d237061e1384 ">
                                 <p>操作失败。可以通过调用传递给函数的错误句柄上的<code class="codeph">OCIErrorGet()</code>来检索特定错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d237061e1408" headers="d237061e1381 ">
                                 <p><code class="codeph">OCI_INVALID_HANDLE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d237061e1408 d237061e1384 ">
                                 <p>传递给函数的OCI句柄无效。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>功能特定的返回信息遵循本章中每个功能的描述。有关每个函数返回的特定错误代码的信息，请参见以下部分。</p>
                     <div class="infoboxnotealso" id="GUID-AD6B0098-C531-402E-8B1A-2B1A69CC07D4__GUID-F5EF9E82-0AFD-4DF0-9D6F-F27066CD93A7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关返回代码和错误处理的更多信息，请参阅<a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" title="OCI函数调用具有一组返回码。">OCI</a>中的错误处理</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI17314"></a><div class="props_rev_3"><a id="GUID-0D14CBBE-FBCB-4476-A520-06757A50C7E9" name="GUID-0D14CBBE-FBCB-4476-A520-06757A50C7E9"></a><h3 id="LNOCI-GUID-0D14CBBE-FBCB-4476-A520-06757A50C7E9" class="sect3"><span class="enumeration_section">27.1.6</span>缓存和对象函数的服务器循环<span class="enumeration_section">行程</span></h3>
               <div>
                  <p>描述单个OCI缓存和对象功能所需的服务器往返次数。</p>
                  <p>有关显示单个OCI缓存和对象功能所需的服务器往返次数的<a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">表</a> ，请参阅<a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-3</a> 。
                  </p>
               </div>
            </div><a id="LNOCI17316"></a><a id="LNOCI17315"></a><div class="props_rev_3"><a id="GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283" name="GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283"></a><h3 id="LNOCI-GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283" class="sect3"><span class="enumeration_section">27.1.7</span>导航功能错误代码</h3>
               <div>
                  <p>描述每个OCI导航功能可以返回的外部Oracle错误代码。</p>
                  <div class="section">
                     <p><a href="intro-to-navigational-and-type-functions.html#GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283__G503790" title="该表有2列。第1列是OCI函数名称，第2列描述了可能的Oracle ORA错误代码。">表27-3</a>列出了每个OCI导航功能可以返回的外部Oracle错误代码。表后面的列表标识了每个错误代表的内容。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283__G503790">
                     <p class="titleintable">表27-3 OCI导航功能错误代码</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OCI导航功能错误代码" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI function name and column 2 describes the possible Oracle ORA error codes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d237061e1831">功能</th>
                              <th align="left" valign="bottom" width="59%" id="d237061e1834">可能的ORA错误</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1839" headers="d237061e1831 ">
                                 <p><code class="codeph">OCICacheFlush（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1839 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1847" headers="d237061e1831 ">
                                 <p><code class="codeph">OCICacheFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1847 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1855" headers="d237061e1831 ">
                                 <p><code class="codeph">OCICacheRefresh（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1855 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1863" headers="d237061e1831 ">
                                 <p><code class="codeph">OCICacheUnmark（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1863 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1871" headers="d237061e1831 ">
                                 <p><code class="codeph">OCICacheUnpin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1871 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1879" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectArrayPin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1879 d237061e1834 ">
                                 <p>24350,21560</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1887" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectCopy（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1887 d237061e1834 ">
                                 <p>24350,21560,21705,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1895" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectExists（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1895 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1903" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectFlush（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1903 d237061e1834 ">
                                 <p>24350,21560,21701,21703,21708,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1911" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1911 d237061e1834 ">
                                 <p>24350,21560,21603,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1919" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectGetAttr（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1919 d237061e1834 ">
                                 <p>21560,21600,22305</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1928" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectGetInd（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1928 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1936" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectGetObjectRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1936 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1944" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectGetTypeRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1944 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1952" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectIsDirty（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1952 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1960" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectIsLocked（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1960 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1968" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectLock（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1968 d237061e1834 ">
                                 <p>24350,21560,21701,21708,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1976" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectLockNoWait（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1976 d237061e1834 ">
                                 <p>24350,21560,21701,21708,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1984" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectMarkDelete（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1984 d237061e1834 ">
                                 <p>24350,21560,21700,21701,21702,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e1992" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectMarkDeleteByRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e1992 d237061e1834 ">
                                 <p>24350,21560</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2000" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectMarkUpdate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2000 d237061e1834 ">
                                 <p>24350,21560,21700,21701,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2008" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectNew（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2008 d237061e1834 ">
                                 <p>24350,21560,21705,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2017" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectPin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2017 d237061e1834 ">
                                 <p>24350,21560,21700,21702</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2025" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectPinCountReset（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2025 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2033" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectPinTable（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2033 d237061e1834 ">
                                 <p>24350,21560,21705</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2041" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectRefresh（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2041 d237061e1834 ">
                                 <p>24350,21560,21709,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2049" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectSetAttr（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2049 d237061e1834 ">
                                 <p>21560,21600,22305,22279,21601</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2057" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectUnmark（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2057 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2065" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectUnmarkByRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2065 d237061e1834 ">
                                 <p>24350,21560</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d237061e2073" headers="d237061e1831 ">
                                 <p><code class="codeph">OCIObjectUnpin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d237061e2073 d237061e1834 ">
                                 <p>24350,21560,21710</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a href="intro-to-navigational-and-type-functions.html#GUID-7D2B96D4-F118-47DB-BBA9-4763779B3283__G503790" title="该表有2列。第1列是OCI函数名称，第2列描述了可能的Oracle ORA错误代码。">表27-3中</a>的ORA错误具有以下含义。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>ORA-21560  -  name参数不应为<code class="codeph">NULL</code></p>
                        </li>
                        <li>
                           <p>ORA-21600  - 路径表达式太长</p>
                        </li>
                        <li>
                           <p>ORA-21601  - 属性不是用户定义类型的实例</p>
                        </li>
                        <li>
                           <p>ORA-21603  - 无法释放脏污的持久物体</p>
                        </li>
                        <li>
                           <p>ORA-21700  - 对象不存在或已被删除</p>
                        </li>
                        <li>
                           <p>ORA-21701  - 无效对象</p>
                        </li>
                        <li>
                           <p>ORA-21702  - 对象未在缓存中实例化</p>
                        </li>
                        <li>
                           <p>ORA-21703  - 无法刷新未修改的对象</p>
                        </li>
                        <li>
                           <p>ORA-21704  - 无法刷新而无法终止缓存或连接</p>
                        </li>
                        <li>
                           <p>ORA-21705  - 服务上下文无效</p>
                        </li>
                        <li>
                           <p>ORA-21708  - 无法对瞬态对象执行操作</p>
                        </li>
                        <li>
                           <p>ORA-21709  - 只能对当前对象执行操作</p>
                        </li>
                        <li>
                           <p>ORA-21710  - 传递给函数的指针或值无效</p>
                        </li>
                        <li>
                           <p>ORA-22279  - 无法在启用LOB缓冲的情况下执行操作</p>
                        </li>
                        <li>
                           <p>ORA-22305  -  name参数无效</p>
                        </li>
                        <li>
                           <p>ORA-24350  - 外部子程序不允许此OCI调用</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03981.OM.style.Marker.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
<head>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Oracle Maps HTML5 JavaScript API参考类：标记</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css"></link>

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css"></link>


    <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
    <meta name="dcterms.created" content="2019-01-15T02:06:19+00:00"></meta>
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Component Oracle Maps HTML5 JavaScript API Reference"></meta>
    <meta name="dcterms.category" content="database"></meta>
    <meta name="dcterms.isVersionOf" content="JIMJS"></meta>
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.identifier" content="E95755-01"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>

<body dir="ltr">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Oracle Maps HTML5 JavaScript API参考</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation"></button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">命名空间<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.html">OM</a></li><li><a href="OM.control.html">OM.control</a></li><li><a href="OM.edit.html">OM.edit</a></li><li><a href="OM.event.html">OM.event</a></li><li><a href="OM.filter.html">OM.filter</a></li><li><a href="OM.geometry.html">OM.geometry</a></li><li><a href="OM.gv.html">OM.gv</a></li><li><a href="OM.layer.html">OM.layer</a></li><li><a href="OM.lbs.html">OM.lbs</a></li><li><a href="OM.proj.html">OM.proj</a></li><li><a href="OM.server.html">OM.server</a></li><li><a href="OM.style.html">OM.style</a></li><li><a href="OM.template.html">OM.template</a></li><li><a href="OM.tool.html">OM.tool</a></li><li><a href="OM.universe.html">OM.universe</a></li><li><a href="OM.visualfilter.html">OM.visualfilter</a></li><li><a href="OM.wmts.html">OM.wmts</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">类<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="-_.html"></a></li><li><a href="-_anonymous_-OM.Class.html"><anonymous>〜OM.Class</anonymous></a></li><li><a href="-_anonymous_-OM.infowindow.MVInfoWindowTab.html"><anonymous>〜OM.infowindow。MVInfoWindowTab</anonymous></a></li><li><a href="-_anonymous_-OM.layer.TileLayerConfig.html"><anonymous>〜OM.layer。TileLayerConfig</anonymous></a></li><li><a href="-_anonymous_-OM.proj.AlbersUSA.html"><anonymous>〜OM.proj。AlbersUSA</anonymous></a></li><li><a href="-_anonymous_-OM.style.Bar.html"><anonymous>〜OM.style。酒吧</anonymous></a></li><li><a href="-_anonymous_-OM.style.PieSlice.html"><anonymous>〜OM.style。PieSlice</anonymous></a></li><li><a href="-_anonymous_-OM.style.StyleStore.html"><anonymous>〜OM.style。StyleStore</anonymous></a></li><li><a href="-_anonymous_-OM.util.GeomUtil.html"><anonymous>〜OM.util。GeomUtil</anonymous></a></li><li><a href="-_anonymous_-OM.util.WorldMercatorUtil.html"><anonymous>〜OM.util。WorldMercatorUtil</anonymous></a></li><li><a href="OM.Column.html">OM.Column</a></li><li><a href="OM.control.ButtonGroup.html">OM.control。ButtonGroup中</a></li><li><a href="OM.control.CopyRight.html">OM.control。版权</a></li><li><a href="OM.control.LayerControl.html">OM.control。LayerControl</a></li><li><a href="OM.control.Magnifier.html">OM.control。放大镜</a></li><li><a href="OM.control.MapDecoration.html">OM.control。MapDecoration</a></li><li><a href="OM.control.NavigationPanelBar.html">OM.control。NavigationPanelBar</a></li><li><a href="OM.control.ScaleBar.html">OM.control。比例尺</a></li><li><a href="OM.control.ToolBar.html">OM.control。工具栏</a></li><li><a href="OM.control.ToolButton.html">OM.control。工具按钮</a></li><li><a href="OM.edit.EditChangeEvent.html">OM.edit。EditChangeEvent</a></li><li><a href="OM.edit.EditChangeManager.html">OM.edit。EditChangeManager</a></li><li><a href="OM.edit.GeometrySegment.html">OM.edit。GeometrySegment</a></li><li><a href="OM.edit.GeometrySegmentPoint.html">OM.edit。GeometrySegmentPoint</a></li><li><a href="OM.event.Event.html">OM.event。事件</a></li><li><a href="OM.event.KeyboardEvent.html">OM.event。的KeyboardEvent</a></li><li><a href="OM.event.LayerEvent.html">OM.event。LayerEvent</a></li><li><a href="OM.event.MapDecorationEvent.html">OM.event。MapDecorationEvent</a></li><li><a href="OM.event.MapEvent.html">OM.event。MapEvent</a></li><li><a href="OM.event.MouseEvent.html">OM.event。的MouseEvent</a></li><li><a href="OM.event.ToolbarEvent.html">OM.event。ToolbarEvent</a></li><li><a href="OM.event.ToolEvent.html">OM.event。ToolEvent</a></li><li><a href="OM.Feature.html">OM.Feature</a></li><li><a href="OM.filter.All.html">OM.filter。所有</a></li><li><a href="OM.filter.And.html">OM.filter。和</a></li><li><a href="OM.filter.Any.html">OM.filter。任何</a></li><li><a href="OM.filter.AnyInteract.html">OM.filter。AnyInteract</a></li><li><a href="OM.filter.Between.html">OM.filter。之间</a></li><li><a href="OM.filter.Equals.html">OM.filter。等于</a></li><li><a href="OM.filter.Filter.html">OM.filter。过滤</a></li><li><a href="OM.filter.Greater.html">OM.filter。大</a></li><li><a href="OM.filter.GreaterEquals.html">OM.filter。GreaterEquals</a></li><li><a href="OM.filter.In.html">OM.filter。在</a></li><li><a href="OM.filter.InsidePolygon.html">OM.filter。InsidePolygon</a></li><li><a href="OM.filter.IsNotNull.html">OM.filter。IsNotNull</a></li><li><a href="OM.filter.IsNull.html">OM.filter。一片空白</a></li><li><a href="OM.filter.Less.html">OM.filter。减</a></li><li><a href="OM.filter.LessEquals.html">OM.filter。LessEquals</a></li><li><a href="OM.filter.Like.html">OM.filter。喜欢</a></li><li><a href="OM.filter.Not.html">OM.filter。不</a></li><li><a href="OM.filter.NotEquals.html">OM.filter。NotEquals</a></li><li><a href="OM.filter.Or.html">OM.filter。要么</a></li><li><a href="OM.filter.Xor.html">OM.filter。异或</a></li><li><a href="OM.geometry.Circle.html">OM.geometry。圈</a></li><li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li><li><a href="OM.geometry.GeometryCollection.html">OM.geometry。的GeometryCollection</a></li><li><a href="OM.geometry.LineString.html">OM.geometry。线串</a></li><li><a href="OM.geometry.MultiLineString.html">OM.geometry。MULTILINESTRING</a></li><li><a href="OM.geometry.MultiPoint.html">OM.geometry。多点</a></li><li><a href="OM.geometry.MultiPolygon.html">OM.geometry。的MultiPolygon</a></li><li><a href="OM.geometry.Point.html">OM.geometry。点</a></li><li><a href="OM.geometry.Polygon.html">OM.geometry。多边形</a></li><li><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></li><li><a href="OM.layer.BaiduTileLayer.html">OM.layer。BaiduTileLayer</a></li><li><a href="OM.layer.BuiltinExternalTileLayer.html">OM.layer。BuiltinExternalTileLayer</a></li><li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li><li><a href="OM.layer.ElocationTileLayer.html">OM.layer。ElocationTileLayer</a></li><li><a href="OM.layer.GoogleTileLayer.html">OM.layer。GoogleTileLayer</a></li><li><a href="OM.layer.HereTileLayer.html">OM.layer。HereTileLayer</a></li><li><a href="OM.layer.Layer.html">OM.layer。层</a></li><li><a href="OM.layer.MarkerLayer.html">OM.layer。MarkerLayer</a></li><li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li><li><a href="OM.layer.VectorLayer.html">OM.layer。VectorLayer</a></li><li><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></li><li><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></li><li><a href="OM.lbs.Address.html">OM.lbs。地址</a></li><li><a href="OM.lbs.DefaultGCResult.html">OM.lbs。DefaultGCResult</a></li><li><a href="OM.lbs.GCResult.html">OM.lbs。GCResult</a></li><li><a href="OM.lbs.GdfFormAddress.html">OM.lbs。GdfFormAddress</a></li><li><a href="OM.lbs.GenFormAddress.html">OM.lbs。GenFormAddress</a></li><li><a href="OM.lbs.Geocoder.html">OM.lbs。地理编码</a></li><li><a href="OM.lbs.Match.html">OM.lbs。比赛</a></li><li><a href="OM.lbs.MetaData.html">OM.lbs。元数据</a></li><li><a href="OM.lbs.OutputAddress.html">OM.lbs。OutputAddress</a></li><li><a href="OM.lbs.UnformatedAddress.html">OM.lbs。UnformatedAddress</a></li><li><a href="OM.lbs.USForm1Address.html">OM.lbs。USForm1Address</a></li><li><a href="OM.lbs.USForm2Address.html">OM.lbs。USForm2Address</a></li><li><a href="OM.Map.html">OM.Map</a></li><li><a href="OM.MapContext.html">OM.MapContext</a></li><li><a href="OM.MapMarker.html">OM.MapMarker</a></li><li><a href="OM.server.ServerJDBCGeorasterTheme.html">OM.server。ServerJDBCGeorasterTheme</a></li><li><a href="OM.server.ServerJDBCTheme.html">OM.server。ServerJDBCTheme</a></li><li><a href="OM.server.ServerMapRequest.html">OM.server。ServerMapRequest</a></li><li><a href="OM.server.ServerPredefinedTheme.html">OM.server。ServerPredefinedTheme</a></li><li><a href="OM.server.ServerTheme.html">OM.server。ServerTheme</a></li><li><a href="OM.style.AnimationColor.html">OM.style。AnimationColor</a></li><li><a href="OM.style.Area.html">OM.style。区域</a></li><li><a href="OM.style.BarChart.html">OM.style。BARCHART</a></li><li><a href="OM.style.BasicAnimation.html">OM.style。BasicAnimation</a></li><li><a href="OM.style.Bucket.html">OM.style。桶</a></li><li><a href="OM.style.BucketStyle.html">OM.style。BucketStyle</a></li><li><a href="OM.style.CollectionBucket.html">OM.style。CollectionBucket</a></li><li><a href="OM.style.Color.html">OM.style。颜色</a></li><li><a href="OM.style.ColorFormatter.html">OM.style。ColorFormatter</a></li><li><a href="OM.style.ColorScheme.html">OM.style。到ColorScheme</a></li><li><a href="OM.style.Div.html">OM.style。DIV</a></li><li><a href="OM.style.Formatter.html">OM.style。格式化</a></li><li><a href="OM.style.GlyphMarker.html">OM.style。GlyphMarker</a></li><li><a href="OM.style.Gradient.html">OM.style。梯度</a></li><li><a href="OM.style.HeatMap.html">OM.style。热图</a></li><li><a href="OM.style.Line.html">OM.style。线</a></li><li><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></li><li><a href="OM.style.Marker.html">OM.style。标记</a></li><li><a href="OM.style.PieChart.html">OM.style。饼形图</a></li><li><a href="OM.style.PulseAnimation.html">OM.style。PulseAnimation</a></li><li><a href="OM.style.RadialGradient.html">OM.style。的RadialGradient</a></li><li><a href="OM.style.RangedBucket.html">OM.style。RangedBucket</a></li><li><a href="OM.style.SizeFormatter.html">OM.style。SizeFormatter</a></li><li><a href="OM.style.StackedMarker.html">OM.style。StackedMarker</a></li><li><a href="OM.style.Style.html">OM.style。样式</a></li><li><a href="OM.style.Text.html">OM.style。文本</a></li><li><a href="OM.style.VariableMarker.html">OM.style。VariableMarker</a></li><li><a href="OM.template.Template.html">OM.template。模板</a></li><li><a href="OM.template.TemplateConfig.html">OM.template。TemplateConfig</a></li><li><a href="OM.TextFeature.html">OM.TextFeature</a></li><li><a href="OM.tool.BreakLineTool.html">OM.tool。BreakLineTool</a></li><li><a href="OM.tool.CircleTool.html">OM.tool。CircleTool</a></li><li><a href="OM.tool.DistanceTool.html">OM.tool。DistanceTool</a></li><li><a href="OM.tool.MarqueeZoomTool.html">OM.tool。MarqueeZoomTool</a></li><li><a href="OM.tool.RectangleTool.html">OM.tool。RectangleTool</a></li><li><a href="OM.tool.RedlineTool.html">OM.tool。RedlineTool</a></li><li><a href="OM.tool.RemoveVertexesTool.html">OM.tool。RemoveVertexesTool</a></li><li><a href="OM.tool.Tool.html">OM.tool。工具</a></li><li><a href="OM.tool.WhiteBoardTool.html">OM.tool。WhiteBoardTool</a></li><li><a href="OM.universe.BaiduUniverse.html">OM.universe。BaiduUniverse</a></li><li><a href="OM.universe.ElocationUniverse.html">OM.universe。ElocationUniverse</a></li><li><a href="OM.universe.LatLonUniverse.html">OM.universe。LatLonUniverse</a></li><li><a href="OM.universe.LocationBoxUniverse.html">OM.universe。LocationBoxUniverse</a></li><li><a href="OM.universe.OSMUniverse.html">OM.universe。OSMUniverse</a></li><li><a href="OM.universe.SElocationUniverse.html">OM.universe。SElocationUniverse</a></li><li><a href="OM.universe.TomTomUniverse.html">OM.universe。TomTomUniverse</a></li><li><a href="OM.universe.Universe.html">OM.universe。宇宙</a></li><li><a href="OM.universe.WorldMercatorUniverse.html">OM.universe。WorldMercatorUniverse</a></li><li><a href="OM.universe.ZoomLevel.html">OM.universe。缩放级别</a></li><li><a href="OM.visualfilter.DropShadow.html">OM.visualfilter。阴影效果</a></li><li><a href="OM.visualfilter.Glow.html">OM.visualfilter。辉光</a></li><li><a href="OM.visualfilter.VisualFilter.html">OM.visualfilter。VisualFilter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="mixins.list.html" class="dropdown-toggle" data-toggle="dropdown">混入<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.event.EventSource.html">OM.event。EventSource的</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">全球<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#addTab">addTab</a></li><li><a href="global.html#addToBaseSelArray">addToBaseSelArray</a></li><li><a href="global.html#attachTab">attachTab</a></li><li><a href="global.html#clearBaseSelArray">clearBaseSelArray</a></li><li><a href="global.html#getAllSelectedFeatures">getAllSelectedFeatures</a></li><li><a href="global.html#getBaseSelArray">getBaseSelArray</a></li><li><a href="global.html#getID">的getID</a></li><li><a href="global.html#getPanelContent">getPanelContent</a></li><li><a href="global.html#getPanelTab">getPanelTab</a></li><li><a href="global.html#getSingleTabContainer">getSingleTabContainer</a></li><li><a href="global.html#getTabHeaderTitle">getTabHeaderTitle</a></li><li><a href="global.html#getTitle">的getTitle</a></li><li><a href="global.html#getVectorLayer">getVectorLayer</a></li><li><a href="global.html#hideDrawer">hideDrawer</a></li><li><a href="global.html#initialize">初始化</a></li><li><a href="global.html#isVisible">ISVISIBLE</a></li><li><a href="global.html#moveTabsToLeft">moveTabsToLeft</a></li><li><a href="global.html#moveTabsToRight">moveTabsToRight</a></li><li><a href="global.html#publish">发布</a></li><li><a href="global.html#removeFromBaseSelArray">removeFromBaseSelArray</a></li><li><a href="global.html#setBaseSelArray">setBaseSelArray</a></li><li><a href="global.html#setPosition">setPosition两种</a></li><li><a href="global.html#showDrawer">showDrawer</a></li><li><a href="global.html#subscribe">订阅</a></li><li><a href="global.html#switchMode">开关模式</a></li><li><a href="global.html#update">更新</a></li><li><a href="global.html#updateProgress">的UpdateProgress</a></li><li><a href="global.html#updateScrollButtons">updateScrollButtons</a></li><li><a href="global.html#updateUi">updateUi</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="搜索" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title"> <br>类：标记</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="OM.html">OM</a> 。 <a href="OM.style.html">风格</a> 。</span>标记</h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="Marker"><span class="type-signature"></span>新标记（配置）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此类表示可应用于几何要素（典型点）的标记或符号样式。</p>
<p>例如，以下代码可用于基于Oracle徽标创建简单标记样式：</p>
<pre>var myMarker = new OM.style。标记（{SRC： “http://www.oracleimg.com/us/assets/oralogo-small.gif”}）;</pre>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>配置</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>标记的配置对象。它可以具有以下属性：<br>    </p><ul><br>         <li>styleName {String}样式名称</li><br>         <li>width {float}标记宽度</li><br>         <li>height {float}标记高度</li><br>         <li>xOffset {int}水平偏移（以像素为单位）。可选的。<br>指定时，标记将水平移动。正值表示向屏幕右侧移动。</li><br>         <li>yOffset {int} v以像素为单位的垂直偏移量。可选的。<br>指定时，标记将垂直移动。正值表示向下移动，负值向上移动。</li><br>         <li>lengthUnit {String}大小单位。可选的。<br>值可以是“像素”，“米”，“公里”，“英尺”或“英里”。默认值为“pixel”。</li><br>         <li>src {String}标记图像URL。可选的。应指定src或vectorDef。</li><br>         <li>textStyle {OM.style。文本}文本样式将应用于标记功能上的文本。</li><br>         <li>textOffset {Object}文本偏移量，如{x：15，y：15}。</li><br>         <li>vectorDef {Array}定义矢量标记。它是一组矢量形状。<br>每个数组元素都可以具有以下属性：<br>         <ul><br>             <li>shape {Object}矢量标记的形状定义对象。<br>它具有以下属性：<br>                <ul><br>                <li>type {String}矢量形状的类型。有效值为“circle”，“path”或“rectangle”。</li><br>                <li>coords {Array}仅用于形状类型“path”的坐标数组（数字）。</li><br>                <li>cx {float}圆的中心X纵坐标。仅适用于“圈子”。</li><br>                <li>cy {float}圆的中心Y纵坐标。仅适用于“圈子”。</li><br>                <li>x {float}仅限形状类型“矩形”的最小X坐标。</li><br>                <li>y {float}仅限形状类型“矩形”的最小Y坐标。</li><br>                <li>width {float}宽度。仅适用于形状类型“圆”和“矩形”。</li><br>                <li>height {float}高度。仅适用于形状类型“圆”和“矩形”。</li><br>                <li>scale {float}比例。仅适用于形状类型“路径”。</li><br>                </ul><br>             </li><br>             <li><br>style {Object}样式定义。它具有以下属性：<br>                    <ul><br>                         <li>stroke {String} rgb中的笔触颜色，即格式为“#rrggbb”。</li><br>                         <li>strokeThickness（float）笔触宽度。</li><br>                         <li>strokeOpacity {float}笔触不透明度。介于0（透明）和1（不透明）之间的值。</li><br>                         <li>fill {String} rgb中的填充颜色，即格式为“#rrggbb”。</li><br>                         <li>fillOpacity {float}填充不透明度。介于0和1之间的值。</li><br>                         <li>visibility（Boolean）初始化时标记是否可见（如果为true）或不是（false）。</li><br>                         <li>过滤器{OM.visualfilter。VisualFilter}应用的视觉效果（如果有的话）。可选的。</li><br>                     </ul><br>             </li><br>          </ul><br>        </li><br>        <li><br>nullFillSrc {String}一个可选的图像源，用于在没有为标记设置填充时用作填充图案。<br>        </li><br>     </ul></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>OM.style的一个例子。标记</p>
</div>




        

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">扩展</h3>

        


    <ul>
        <li><a href="OM.style.Style.html">OM.style。样式</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">方法</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="bindData"><span class="type-signature"></span> bindData（属性，列，格式化程序）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将列数据集绑定到此样式的指定方面。这创造了<br>此样式实例上的单个绑定。检查各个子样式<br>看看他们支持多少绑定。<br>每个绑定由三个关键部分组成：样式属性为<br>bound，驱动style属性的Column数据集和解析器<br>计算并返回任何有效样式属性的函数<br>给定列中的数据值。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要绑定到数据列的style属性的名称。一个<br>属性是样式的视觉方面，例如“填充”，<br>“尺寸”等</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>柱</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>将要的数据列（通常是OM.Column的实例）<br>格式化样式的指定视觉属性。如果是String类型<br>值传入，然后假定它的名称<br>目标VectorLayer功能中的属性。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>格式化</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>OM.style的一个实例。格式化;它<br>将单个项目的值（例如销售量）映射到a<br>特定的视觉样式属性值（例如颜色）。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#bindData">OM.style。风格＃bindData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="draw"><span class="type-signature"></span> draw（feature，mapContext，options）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>使用样式绘制要素的实际逻辑在此方法中实现。<br>必须由子类覆盖。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.Feature.html">OM.Feature</a></span>



            
            </td>

            

            

            <td class="description last"><p>要使用此样式的功能</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mapContext</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.MapContext.html">OM.MapContext</a></span>



            
            </td>

            

            

            <td class="description last"><p>当前的地图上下文</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>选项</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>渲染选项，通常是图形组</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#draw">OM.style。风格＃平局</a>
			</li>
		</ul>
	</dd>
	

    
    <dt class="tag-overrides">覆盖：</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="OM.style.Style.html#draw">OM.style。风格＃平局</a>
    </li></ul></dd>
    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">未定义</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="enableNullFillPattern"><span class="type-signature"></span> enableNullFillPattern（ImageSource的）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置要在填充不填充时在标记中填充的图像模式<br>设置标记样式。如果传递null，则不会有填充模式<br>用过的。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>的ImageSource</code></td>
            

            <td class="type">
            
                
<span class="param-type">字符串</span> | <span class="param-type">空值</span>



            
            </td>

            

            

            <td class="description last"><p>填充模式的URL</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getBindables"><span class="type-signature"></span> getBindables（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回可绑定样式属性的列表。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    
    <dt class="tag-overrides">覆盖：</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="OM.style.Style.html#getBindables">OM.style。风格＃getBindables</a>
    </li></ul></dd>
    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>包含可绑定属性名称的数组</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">排列</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getConfig"><span class="type-signature"></span> getConfig（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取样式的配置。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#getConfig">OM.style。风格＃getConfig</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>配置对象</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getStyleName"><span class="type-signature"></span> getStyleName（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回样式名称</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#getStyleName">OM.style。风格＃getStyleName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>样式名称</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="hasBinding"><span class="type-signature"></span> hasBinding（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查此样式是否具有关联的数据绑定。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#hasBinding">OM.style。风格＃hasBinding</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果有一个或多个数据绑定，则为true;否则是假的</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isBindable"><span class="type-signature"></span> isBindable（ATTR）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查指定的样式属性是否可绑定。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ATTR</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要检查的属性的名称</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isBindable">OM.style。风格＃isBindable</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果参数是可绑定的，则为true;否则是假的</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isBound"><span class="type-signature"></span>一个isBound（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查指定的（可绑定）属性是否已绑定到某些属性<br>列数据集。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isBound">OM.style。风格＃一个isBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isFeatureBound"><span class="type-signature"></span> isFeatureBound（功能）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查给定功能是否绑定到任何绑定<br>这种风格。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.Feature.html">OM.Feature</a></span>



            
            </td>

            

            

            <td class="description last"><p>要检查的要素实例</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isFeatureBound">OM.style。风格＃isFeatureBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果要素具有关联的值，则返回true<br>任何样式绑定的Column实例。如果有，则返回false<br>没有与此功能关联的值，或者没有绑定<br>在这种风格。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="resolveBinding"><span class="type-signature"></span> resolveBinding（b，feature）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>解析给定功能的指定绑定。<br>当Style对象具有一个或多个可视属性（例如Size）时<br>对于标记样式或填充颜色样式）绑定到外部数据<br>列，然后必须为每个功能解析此类可视属性<br>使用要素的关联数据列值。解决了视觉效果<br>然后使用属性值将样式应用于该要素。</p>
<p>换句话说，每次针对特定功能调用此方法时，<br>始终会发生以下过程：</p>
<p></p><ul><br>  <li>获取该功能的唯一ID<br>  </li><li>然后绑定使用id来查找相应的数据<br>来自关联的Column实例的值<br>  </li><li>数据值用于确定或解析可视属性<br>这种风格，如尺寸或填充颜色。<br>  </li><li>视觉属性值在此Style实例上设置<br>渲染特征的持续时间。</li></ul>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>b</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>绑定对象</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>要解决的功能</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#resolveBinding">OM.style。风格＃resolveBinding</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>已解析的样式属性</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">宾语</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="unbindAllData"><span class="type-signature"></span> unbindAllData（属性）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>取消绑定当前绑定到指定样式属性的所有列数据集。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>style属性的名称</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#unbindAllData">OM.style。风格＃unbindAllData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="unbindData"><span class="type-signature"></span> unbindData（属性）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>取消绑定给定属性的所有列数据集。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>样式属性的名称（例如'填充'，'大小'</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#unbindData">OM.style。风格＃unbindData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-label="关" data-dismiss="modal"><span aria-hidden="true">×</span></button>
            <h4 class="modal-title">搜索结果</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">版权所有©2010,2019，Oracle和/或其附属公司。版权所有。
	</span> <span class="jsdoc-message"><a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a>在2019年1月9日星期三使用<a href="https://github.com/docstrap/docstrap">DocStrap模板生成的文档</a> 。
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html><html id="03281.SQL-translation-framework-configuration.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL转换框架配置</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Translation and Migration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Translation and Migration Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-translation-and-migration-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T06:11:48-08:00"></meta>
      <meta name="dcterms.title" content="SQL Translation and Migration Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2011, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96457-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQL-translation-framework-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SQL-translation-JDBC-ODBC-applications.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DRDAA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-translation-framework-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SQL-translation-JDBC-ODBC-applications.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL转换和迁移指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL转换框架配置</li>
            </ol>
            <a id="GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421" name="GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421"></a><a id="DRDAA132"></a>
            
            <h2 id="DRDAA-GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421" class="sect2"><span class="enumeration_chapter">3</span> SQL转换框架配置</h2>
         </header>
         <div class="ind">
            <div>
               <p>可以使用Oracle SQL Developer或命令行界面安装和配置SQL Translation Framework。在任何一种情况下，用户都必须具有安装SQL Translator所需的权限。</p>
            </div><a id="DRDAA134"></a><div class="props_rev_3"><a id="GUID-24D2E765-D761-4B52-AE61-90200497B4C2" name="GUID-24D2E765-D761-4B52-AE61-90200497B4C2"></a><h3 id="DRDAA-GUID-24D2E765-D761-4B52-AE61-90200497B4C2" class="sect3">使用Oracle SQL Developer安装和配置SQL Translation Framework</h3>
               <div>
                  <div class="section">
                     <p>您可以使用Oracle SQL Developer 3.2中的DBA Navigator来安装和管理翻译器和翻译配置文件。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAA29138"></a><div class="props_rev_3"><a id="GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD" name="GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD"></a><h4 id="DRDAA-GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD" class="sect4">Oracle SQL Developer迁移支持概述</h4>
                  <div>
                     <p>SQL Translation框架是作为Oracle Database安装的一部分安装的。但是，必须将其配置为识别应用程序的非Oracle SQL方言，并且必须至少安装一个转换程序才能充分利用该框架。</p>
                     <p>在使用SQL转换功能之前，必须迁移数据，架构，存储过程，触发器和视图。Oracle通过Oracle SQL Developer功能实现数据库模式迁移和数据迁移。Oracle SQL Developer通过使用迁移向导简化了将非Oracle数据库迁移到Oracle数据库的过程。迁移向导通过迁移数据库涉及的各个阶段提供方便，全面的指导。</p>
                     <p>Oracle SQL Developer从源非Oracle数据库中捕获信息，并将其显示在捕获的模型中，该模型表示源数据库的结构。此表示存储在迁移存储库中，该存储库是Oracle SQL Developer用于存储迁移信息的架构对象的集合。</p>
                     <p>存储库中的信息用于生成转换后的模型，该模型表示目标数据库的结构，因为它将在Oracle数据库中实现。然后，您可以使用捕获的模型和转换的模型中的信息来比较数据库对象，识别与Oracle保留字的冲突，以及管理迁移进度。准备好迁移时，生成Oracle架构对象，然后迁移数据。</p>
                     <p>本节介绍如何执行启用自动运行时迁移的后续任务。这些示例使用SQL Translator和一个针对Sybase数据库运行的JDBC应用程序;它们可以很容易地适应其他客户端/数据库配置。请注意，Oracle SQL Developer附带已安装的Sybase转换程序。</p>
                     <p>有关更多信息，请参见“ <span><cite>Oracle SQL Developer用户指南”</cite></span> 。
                     </p>
                  </div>
               </div><a id="DRDAA29139"></a><div class="props_rev_3"><a id="GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48" name="GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48"></a><h4 id="DRDAA-GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48" class="sect4">设置适用于Windows的Oracle SQL Developer 3.2</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQL Developer 3.2附带Oracle Database <span class="italic">11g</span> JDBC驱动程序，此版本中没有适用于Windows的客户端。如果您使用的是Windows系统，则必须启用Oracle SQL Developer 3.2才能使用Oracle Database 12 <span class="italic">c</span> JDBC驱动程序，以便启用当前版本的所有功能。执行以下步骤以实现此目的：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">sqldeveloper\jdbc\lib</code>文件夹重命名为<code class="codeph">sqldeveloper\jdbc\lib_11g</code> 。
                              </p>
                           </li>
                           <li>
                              <p>创建一个新的空文件夹作为<code class="codeph">sqldeveloper\jdbc\lib</code> 。
                              </p>
                           </li>
                           <li>
                              <p>将Oracle Database 12 <span class="italic">c</span> JDBC JAR文件解压缩到新的<code class="codeph">sqldeveloper\jdbc\lib</code>文件夹中。
                              </p>
                              <p>有关Oracle Database 12 <span class="italic">c</span> JDBC文件的更多信息，请参见“ <a href="../jjdbc/JDBC-getting-started.html#JJDBC28050" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南”</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DRDAA29628"></a><div class="props_rev_3"><a id="GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D" name="GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D"></a><h5 id="DRDAA-GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D" class="sect5">设置Oracle SQL Developer 3.2启动</h5>
                     <div>
                        <div class="section">
                           <p>Oracle SQL Developer自动使用任何<code class="codeph">ORACLE_HOME\client</code>目录中的JDBC驱动程序。要覆盖此行为，使Oracle SQL Developer中使用JDBC驱动程序中<code class="codeph">sqldeveloper\jdbc\lib</code>目录下，创建一个新的<code class="codeph">sqldeveloper.bat</code>在文件<code class="codeph">sqldeveloper</code>目录：</p><pre class="oac_no_warn" dir="ltr">设置ORACLE_HOME =％CD％启动sqldeveloper.exe</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DRDAA29142"></a><a id="DRDAA29629"></a><div class="props_rev_3"><a id="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3" name="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3"></a><h5 id="DRDAA-GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3" class="sect5">启动Oracle SQL Developer</h5>
                     <div>
                        <div class="section">
                           <p>运行<code class="codeph">sqldeveloper.bat</code>文件以运行Oracle SQL Developer。
                           </p>
                           <p>要检查JDBC驱动程序配置：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>从<span class="bold">帮助</span>菜单中选择<span class="bold">关于</span> 。</span></li>
                           <li class="stepexpand"><span>选择<span class="bold">属性</span> 。它必须显示<a href="SQL-translation-framework-configuration.html#GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3__CBHCGJJB">如图3-1</a>所示的配置：</span><div>
                                 <div class="figure" id="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3__CBHCGJJB">
                                    <p class="titleinfigure">图3-1检查Oracle SQL Developer的JDBC配置</p><img width="474" src="img/startsqldevwin.gif" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/startsqldevwin.html"><br><a href="img_text/startsqldevwin.html">“图3-1检查Oracle SQL Developer的JDBC配置”的说明</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="DRDAA29144"></a><a id="DRDAA29145"></a><a id="DRDAA29146"></a><a id="DRDAA29143"></a><div class="props_rev_3"><a id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44" name="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44"></a><h4 id="DRDAA-GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44" class="sect4">创建与Oracle数据库的连接</h4>
                  <div>
                     <div class="section">
                        <p>使用凭据创建与数据库的连接， <a href="SQL-translation-framework-configuration.html#GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHEBHBD">如图3-2</a>所示：</p>
                        <div class="figure" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHEBHBD">
                           <p class="titleinfigure">图3-2创建Oracle数据库连接</p><img width="421" src="img/createconorcl.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/createconorcl.html"><br><a href="img_text/createconorcl.html">“图3-2创建Oracle数据库连接”的说明</a></div>
                        <!-- class="figure" -->
                        <p>您可以使用以下命令检查所连接的数据库和正在使用的JDBC驱动程序：</p><pre class="oac_no_warn" dir="ltr">显示jdbc</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__GUID-1536A9AD-D343-4188-8103-0B292C17A5CA">设置迁移首选项</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您必须按以下方式设置迁移首选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从工具菜单中选择<span class="bold">首选项</span> 。</span></li>
                        <li><span>选择从<span class="bold">迁移</span>选项<span class="bold">生成选项</span>左侧面板上，如图<a href="SQL-translation-framework-configuration.html#GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHCCIBB">图3-3</a> 。</span></li>
                     </ol>
                     <div class="section">
                        <div class="figure" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHCCIBB">
                           <p class="titleinfigure">图3-3在Oracle SQL Developer中设置迁移首选项</p><img width="357" src="img/setuppref.gif" alt="下面是图3-3的描述" title="下面是图3-3的描述" longdesc="img_text/setuppref.html"><br><a href="img_text/setuppref.html">“图3-3在Oracle SQL Developer中设置迁移首选项”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAA29147"></a><div class="props_rev_3"><a id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116" name="GUID-377C0593-EE49-4CAA-908D-1127AD25B116"></a><h4 id="DRDAA-GUID-377C0593-EE49-4CAA-908D-1127AD25B116" class="sect4">测试SQL翻译</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以确定是否正确安装了Sybase SQL转换程序：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>打开Oracle SQL Developer。</span></li>
                        <li class="stepexpand"><span>从“ <span class="bold">工具”</span>菜单中，选择“ <span class="bold">迁移”</span> ，然后选择“ <span class="bold">Translation Scratch Editor”</span> 。</span><div>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-ECDAF6D9-4D18-4B08-B524-9A76C1B9EA05"><img width="489" src="img/sql_dev_01.gif" alt="下面是sql_dev_01.gif的描述" title="下面是sql_dev_01.gif的描述" longdesc="img_text/sql_dev_01.html"><br><a href="img_text/sql_dev_01.html">插图描述sql_dev_01.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Scratch Editor工具栏中，选择<span class="bold">Sybase T_SQL To PL / SQL</span>选项，它是Sybase转换程序。</span><div>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-513BC19D-0B8C-47E6-AE8E-D4F50E787B35"><img width="428" src="img/sql_dev_02.gif" alt="下面是sql_dev_02.gif的描述" title="下面是sql_dev_02.gif的描述" longdesc="img_text/sql_dev_02.html"><br><a href="img_text/sql_dev_02.html">插图描述sql_dev_02.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在<span class="bold">Scratch Editor</span>的左侧面板中，在Sybase SQL方言中输入以下查询：</span><div><pre class="oac_no_warn" dir="ltr">从双重中选择前10 *</pre></div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">翻译”</span>图标。</span><div>
                              <p>已翻译的查询文本显示在编辑器的右侧面板中。</p>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-7BCD62EB-D07D-47C1-BCA8-CDCC5C838F85"><img width="512" src="img/sql_dev_03.gif" alt="下面是sql_dev_03.gif的描述" title="下面是sql_dev_03.gif的描述" longdesc="img_text/sql_dev_03.html"><br><a href="img_text/sql_dev_03.html">插图描述sql_dev_03.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DRDAA29148"></a><div class="props_rev_3"><a id="GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC" name="GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC"></a><h4 id="DRDAA-GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC" class="sect4">创建翻译配置文件并安装SQL转换程序</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQL Developer随Oracle Database 12 <span class="italic">c</span>一起安装。它将Sybase Translator的Java类（大约15 MB）加载到Oracle数据库中。由于加载的Java类的大小和数量，Oracle建议您在本地安装转换器，而不是通过WAN安装。</p>
                        <p>如果转换程序安装在具有预先存在的迁移存储库的用户配置文件下，则转换程序将获取数据库的上下文，例如名称更改。因此，您必须使用以下规范创建新用户：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONNECT</code> ， <code class="codeph">RESOURCE</code>和<code class="codeph">CREATE VIEW</code>权限</p>
                           </li>
                           <li>
                              <p>访问<code class="codeph">SYSTEM</code>和/或<code class="codeph">USER</code>表空间中的存储</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DRDAA29630"></a><div class="props_rev_3"><a id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9" name="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9"></a><h5 id="DRDAA-GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9" class="sect5">安装SQL转换程序</h5>
                     <div>
                        <div class="section">
                           <p>要安装SQL Translator：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">ADMIN</code>权限登录数据库。</span></li>
                           <li class="stepexpand" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__CBHFIJDE"><span>在命令行中，输入以下命令。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CONNECT，RESOURCE，CREATE VIEW由<span class="italic">TranslUser</span>确定<span class="italic">TranslUser;</span> ALTER USER <span class="italic">TranslUser</span> QUOTA UNLIMITED ON SYSTEM;</pre></div>
                           </li>
                           <li class="stepexpand"><span>从“视图”菜单中，选择“ <span class="bold">DBA”</span> 。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-97FB592D-2D1A-4694-B929-2A722783B8E5"><img width="386" src="img/sql_dev_04.gif" alt="下面是sql_dev_04.gif的描述" title="下面是sql_dev_04.gif的描述" longdesc="img_text/sql_dev_04.html"><br><a href="img_text/sql_dev_04.html">插图说明sql_dev_04.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>在DBA Navigator中，右键单击“ <span class="bold">连接”，</span>然后选择“ <span class="bold">添加连接”。</span></span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-1E4CFCE3-E480-4CE7-9318-8F92DC0E2CE4"><img width="393" src="img/sql_dev_05.gif" alt="下面是sql_dev_05.gif的描述" title="下面是sql_dev_05.gif的描述" longdesc="img_text/sql_dev_05.html"><br><a href="img_text/sql_dev_05.html">插图说明sql_dev_05.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“ <span class="bold">选择连接”</span>框中，如果要使用现有连接，请选择连接。如果要创建新连接，请添加步骤<a href="SQL-translation-framework-configuration.html#GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__CBHFIJDE">2中</a>讨论的<code class="codeph">transluser</code>的信息。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-E43D4647-3255-4D93-AAEE-4EDC4D1D432C"><img width="396" src="img/sql_dev_06.gif" alt="下面是sql_dev_06.gif的描述" title="下面是sql_dev_06.gif的描述" longdesc="img_text/sql_dev_06.html"><br><a href="img_text/sql_dev_06.html">插图描述sql_dev_06.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">连接</span> 。</span></li>
                           <li class="stepexpand"><span>在DBA导航器中，右键单击前面步骤中创建的连接，然后选择“ <span class="bold">安装SQL转换程序”</span> 。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-5DCF6AFE-C6CE-47EF-9D87-36BA8E59463E"><img width="397" src="img/sql_dev_07.gif" alt="下面是sql_dev_07.gif的描述" title="下面是sql_dev_07.gif的描述" longdesc="img_text/sql_dev_07.html"><br><a href="img_text/sql_dev_07.html">插图描述sql_dev_07.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>将打开“安装SQL转换器”对话框。</p>
                                 <p>您必须具有特殊权限才能安装SQL转换程序并创建SQL转换配置文件。系统将提示您提供<code class="codeph">SYS</code>密码，以便授予这些权限。有关这些权限的更多信息，请参阅<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1">授予安装SQL转换程序的必要权限</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>按照<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35">创建翻译配置文件</a> ”中</span>描述的步骤创建SQL翻译配置<span class="q"><a href="SQL-translation-framework-configuration.html#GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35">文件</a></span> 。</span></li>
                           <li class="stepexpand"><span>验证用户是否具有足够的权限来运行翻译配置文件。</span><div>
                                 <p>您可能必须以<code class="codeph">SYS</code>用户身份登录才能授予其他权限。
                                 </p>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-42C0C183-784C-47D5-9734-198DDF9C2096"><img width="313" src="img/sql_dev_09.gif" alt="下面是sql_dev_09.gif的描述" title="下面是sql_dev_09.gif的描述" longdesc="img_text/sql_dev_09.html"><br><a href="img_text/sql_dev_09.html">插图描述sql_dev_09.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>安装SQL转换程序。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-3097CFFC-2BF1-44B6-98D7-8168DE99B419"><img width="273" src="img/sql_dev_10.gif" alt="下面是sql_dev_10.gif的描述" title="下面是sql_dev_10.gif的描述" longdesc="img_text/sql_dev_10.html"><br><a href="img_text/sql_dev_10.html">插图说明sql_dev_10.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>要确保正确安装Profile和Translator，请在Connections窗格中验证是否存在相应的包和Java类文件。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-54519736-3554-4336-BBDD-FE3FD42D2D01"><img width="176" src="img/sql_dev_11.gif" alt="下面是sql_dev_11.gif的描述" title="下面是sql_dev_11.gif的描述" longdesc="img_text/sql_dev_11.html"><br><a href="img_text/sql_dev_11.html">插图说明sql_dev_11.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="DRDAA29631"></a><div class="props_rev_3"><a id="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35" name="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35"></a><h5 id="DRDAA-GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35" class="sect5">创建翻译配置文件</h5>
                     <div>
                        <div class="section">
                           <p>要创建翻译配置文件：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>从SQL Translator下拉框中，选择<span class="bold">Sybase</span>或<span class="bold">SQL Translator</span> 。</span></li>
                           <li><span>选中<span class="bold">创建新配置文件</span> 。</span></li>
                           <li><span>在“配置文件名称”字段中输入<span class="italic"><span class="bold"><code class="codeph">SYBASE_PROFILE</code></span></span> 。</span></li>
                           <li><span>在“配置文件架构”中，选择<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC">创建转换配置文件和安装SQL转换器</a> ”</span>部分中<span class="q"><a href="SQL-translation-framework-configuration.html#GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC">创建</a></span>的用户的名称。</span></li>
                           <li><span>单击“ <span class="bold">应用”</span></span></li>
                        </ol>
                        <div class="section">
                           <div class="figure" id="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35__GUID-80C0FE47-0858-4D26-AB93-E5AEAC182A3F"><img width="323" src="img/sql_dev_08.gif" alt="下面是sql_dev_08.gif的描述" title="下面是sql_dev_08.gif的描述" longdesc="img_text/sql_dev_08.html"><br><a href="img_text/sql_dev_08.html">插图描述sql_dev_08.gif</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DRDAA29149"></a><div class="props_rev_3"><a id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B" name="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B"></a><h4 id="DRDAA-GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B" class="sect4">使用SQL转换程序配置文件</h4>
                  <div>
                     <div class="section">
                        <p>要测试SQL转换配置文件，请使用SQL工作表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>右键单击<code class="codeph">SYBASE_PROFILE</code>节点。</span></li>
                        <li class="stepexpand"><span>选择“ <span class="bold">打开带有配置文件的SQL工作表</span></span></li>
                        <li class="stepexpand"><span>输入要翻译的T-SQL语句。</span><div>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-FC367077-5108-4D15-96EB-55DFAFDD7E99"><img width="511" src="img/sql_dev_17.gif" alt="下面是sql_dev_17.gif的描述" title="下面是sql_dev_17.gif的描述" longdesc="img_text/sql_dev_17.html"><br><a href="img_text/sql_dev_17.html">插图描述sql_dev_17.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<code class="codeph">SYBASE_PROFILE</code>并选择SQL Translation选项卡以检查配置文件并查看已翻译的语句。</span><div>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-5EA226DB-6D34-4695-AE9B-25123D6F83E1"><img width="495" src="img/sql_dev_14.gif" alt="下面是sql_dev_14.gif的描述" title="下面是sql_dev_14.gif的描述" longdesc="img_text/sql_dev_14.html"><br><a href="img_text/sql_dev_14.html">插图描述sql_dev_14.gif</a></div>
                              <!-- class="figure" -->
                              <p>当您双击它时，以更好的方式查看配置文件SQL的另一种方法是，在Translation Scratch Editor中打开指纹和模板，如下图所示：</p>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-36FA1383-4497-40C3-99D2-851312C7EFBC"><img width="412" src="img/sql_dev_15.gif" alt="下面是sql_dev_15.gif的描述" title="下面是sql_dev_15.gif的描述" longdesc="img_text/sql_dev_15.html"><br><a href="img_text/sql_dev_15.html">插图说明sql_dev_15.gif</a></div>
                              <!-- class="figure" -->
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-1C47107D-3C3D-4318-8E47-FAD6DC6CDAC9"><img width="412" src="img/sql_dev_16.gif" alt="下面是sql_dev_16.gif的描述" title="下面是sql_dev_16.gif的描述" longdesc="img_text/sql_dev_16.html"><br><a href="img_text/sql_dev_16.html">插图说明sql_dev_16.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="DRDAA29150"></a><div class="props_rev_3"><a id="GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1" name="GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1"></a><h3 id="DRDAA-GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1" class="sect3">从命令行安装和配置SQL Translation Framework</h3>
               <div>
                  <div class="section">
                     <p>要从命令行界面成功安装和配置SQL Translation Framework，必须完成几个过程。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAA29151"></a><div class="props_rev_3"><a id="GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4" name="GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4"></a><h4 id="DRDAA-GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4" class="sect4">安装Oracle Sybase Translator</h4>
                  <div>
                     <div class="section">
                        <p>要安装Oracle Sybase Translator，请使用Oracle SQL Developer，如<span class="q">“</span>使用Oracle SQL Developer <span class="q"><a href="SQL-translation-framework-configuration.html#GUID-24D2E765-D761-4B52-AE61-90200497B4C2">安装和配置SQL Translation Framework</a> ”中所述</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAA29152"></a><div class="props_rev_3"><a id="GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC" name="GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC"></a><h4 id="DRDAA-GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC" class="sect4">设置SQL翻译配置文件</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以通过命令行界面设置SQL转换配置文件：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">system</code>用户身份登录。</span><div><pre class="oac_no_warn" dir="ltr">&gt; sqlplus system / <span class="italic">&lt;密码&gt;</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>授予标准用户创建权限。</span><div>
                              <p>这允许标准用户创建SQL翻译配置文件。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; grant create sql translation profile to <span class="italic">&lt;user&gt;</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以标准用户身份登录。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">&lt;user</span> &gt; / <span class="italic">&lt;password&gt;</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>调用<code class="codeph">DBMS_SQL_TRANSLATOR</code> PL / SQL包的方法来创建和配置转换配置文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; exec dbms_sql_translator.create_profile（'sybase_profile'）SQL&gt; exec dbms_sql_translator.set_attribute（'sybase_profile'，dbms_sql_translator.attr_translator，'migration_repo.sybase_tsql_translator'）</pre></div>
                        </li>
                        <li class="stepexpand"><span>将SQL转换配置文件的所有权限授予Oracle Sybase转换架构。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt;将所有sql转换配置文件sybase_profile授予migration_repo;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DRDAA29154"></a><a id="DRDAA29153"></a><div class="props_rev_3"><a id="GUID-7CF468AE-1017-4731-9670-4A751FBD668A" name="GUID-7CF468AE-1017-4731-9670-4A751FBD668A"></a><h4 id="DRDAA-GUID-7CF468AE-1017-4731-9670-4A751FBD668A" class="sect4">设置数据库服务以使用SQL转换配置文件</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍如何在标准环境和Oracle Real Application Clusters环境中添加数据库服务。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7CF468AE-1017-4731-9670-4A751FBD668A__GUID-8BB8F2D5-E4F1-4995-A538-0896B728DB71">在标准环境中设置数据库服务</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要在标准环境中设置数据库服务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以DBA身份登录</span></li>
                        <li class="stepexpand"><span>发出以下命令以使用<code class="codeph">DBMS_SERVICE</code> PL / SQL包创建和调用数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; declare params dbms_service.svc_parameter_array; begin params（'SQL_TRANSLATION_PROFILE'）：='user.sybase_profile'; dbms_service.create_service（'sybase_service'，'network_name'，params）; dbms_service.start_service（ 'sybase_service'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div><a id="DRDAA29632"></a><div class="props_rev_3"><a id="GUID-F285115D-CE1B-431E-980C-027EBE1376B3" name="GUID-F285115D-CE1B-431E-980C-027EBE1376B3"></a><h5 id="DRDAA-GUID-F285115D-CE1B-431E-980C-027EBE1376B3" class="sect5">在Oracle Real Application Clusters中设置数据库服务</h5>
                     <div>
                        <div class="section">
                           <p>要在Oracle Real Application Clusters中设置数据库服务：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>添加数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">srvctl add service -db db_name -service sybase_service -sql_translation_profile user.sybase_profile</pre></div>
                           </li>
                           <li class="stepexpand"><span>启动数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">srvctl启动服务-db db_name -service sybase_service</pre></div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="DRDAA29156"></a><div class="props_rev_3"><a id="GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A" name="GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A"></a><h4 id="DRDAA-GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A" class="sect4">使用SQL转换配置文件测试Sybase SQL转换</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤来测试翻译：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以标准用户身份登录：</span><div><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">用户</span> / <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>在SQL提示符下指定SQL Translation Profile：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set sql_translation_profile = sybase_profile;</pre></div>
                        </li>
                        <li class="stepexpand"><span>强制数据库将SQL * Plus视为外部SQL应用程序：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set events ='10601永远跟踪名称上下文，级别32';</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行使用Sybase SQL方言的SQL查询。例如：</span><div><pre class="oac_no_warn" dir="ltr">从emp中选择前3 *;</pre></div>
                        </li>
                        <li class="stepexpand"><span>该查询返回以下结果：</span><div><pre class="oac_no_warn" dir="ltr"><span class="bold">EMPNO ENAME JOB MGR HIREDATE SAL COMM DEPTNO</span> <span class="bold">------------------------------------------ ----------------------------</span> <span class="bold">7369 SMITH CLERK 7902 17-DEC-80 800 20</span> <span class="bold">7499 ALLEN SALESMAN 7698 20-FEB-81 1600 300 30</span> <span class="bold">7521 WARD SALESMAN 7698 22-FEB-81 1250 500 30</span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="DRDAA29457"></a><div class="props_rev_3"><a id="GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1" name="GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1"></a><h3 id="DRDAA-GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1" class="sect3">授予安装SQL转换程序的必要权限</h3>
               <div>
                  <div class="section">
                     <p>本节讨论安装SQL转换程序必须具有的权限。此处创建的<code class="codeph">SYBASE_PROFILE</code>具有以下两个用户：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MIGREP</code> ，安装了翻译器</p>
                        </li>
                        <li>
                           <p><code class="codeph">TARGET_USER</code> ，安装配置文件的位置</p>
                        </li>
                     </ul>
                     <p>授予安装SQL转换程序所需的权限：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以<code class="codeph">SYS</code>身份连接以授予所需权限：</span><div><pre class="oac_no_warn" dir="ltr">将sys / oracle连接为sysdba</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">MIGREP</code>创建视图并访问无限制配额：</span><div><pre class="oac_no_warn" dir="ltr">GRANT连接，资源，创建MIGREP视图; ALTER USER MIGREP QUOTA无限用户;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>创建视图并可以访问无限制的配额：</span><div><pre class="oac_no_warn" dir="ltr">GRANT连接，资源，创建视图到TARGET_USER;更改用户MIGREP QUOTA无限TARGET_USER;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">MIGREP</code>加载SQL转换器：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_JAVA.GRANT_PERMISSION（UPPER（'MIGREP'），'SYS：java.lang。RuntimePermission'，'getClassLoader'，''）;结束; /</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>创建配置文件：</span><div><pre class="oac_no_warn" dir="ltr">GRANT创建SQL TRANSLATION PROFILE到TARGET_USER;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>显式更改会话以使用配置文件：</span><div><pre class="oac_no_warn" dir="ltr">向TARGET_USER授予更多会话权;</pre><p>默认情况下，SQL Developer中未授予此权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>允许翻译人员参考个人资料：</span><div><pre class="oac_no_warn" dir="ltr">CONNECT TARGET_USER / TARGET_USER;将所有SQL转换配置文件SYBASE_PROFILE全部授予MIGREP;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许配置文件引用翻译者：</span><div><pre class="oac_no_warn" dir="ltr">连接MIGREP / MIGREP;在SYBASE_TSQL_TRANSLATOR上执行GRANT EXECUTE到TARGET_USER;</pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01547.rman-block-media-recovery.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>执行块介质恢复</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="rman-performing-flashback-dbpitr.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rman-recovery-advanced.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rman-performing-flashback-dbpitr.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rman-recovery-advanced.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name">诊断和应对失败</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">执行块介质恢复</li>
            </ol>
            <a id="GUID-1E226393-17D0-4AB0-A05D-91210255D8FF" name="GUID-1E226393-17D0-4AB0-A05D-91210255D8FF"></a><a id="BRADV89781"></a>
            
            <h2 id="BRADV-GUID-1E226393-17D0-4AB0-A05D-91210255D8FF" class="sect2"><span class="enumeration_chapter">19</span>执行块介质恢复</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何恢复和恢复数据文件中的各个数据块。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="rman-block-media-recovery.html#GUID-B6CFA426-5B2D-401F-B8B3-58FCD9ED3216" title="阻止介质恢复恢复通过恢复损坏的数据块提供较低的平均恢复时间（MTTR）。">块媒体恢复概述</a></p>
                  </li>
                  <li>
                     <p><a href="rman-block-media-recovery.html#GUID-C1164158-496C-4D8A-8A06-D343935FC3B9" title="在使用RECOVER执行块介质恢复之前，必须满足某些先决条件...BLOCK命令。">阻止媒体恢复的先决条件</a></p>
                  </li>
                  <li>
                     <p><a href="rman-block-media-recovery.html#GUID-21EFB177-2AC7-457C-80A0-63B11A80CD0B" title="使用RECOVER ......BLOCK命令用于恢复数据文件中的各个损坏块。">恢复单个块</a></p>
                  </li>
                  <li>
                     <p><a href="rman-block-media-recovery.html#GUID-937FA44F-1556-4750-8E07-33A4D6FD64BB" title="RMAN可以自动恢复V $ DATABASE_BLOCK_CORRUPTION视图中列出的所有块。">恢复V $ DATABASE_BLOCK_CORRUPTION中的所有块</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-1E226393-17D0-4AB0-A05D-91210255D8FF__GUID-CF62875B-819F-4CE6-B87A-5A137FA6EFB1">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>适用于<code class="codeph">RECOVER</code>语法的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF140" target="_blank"><span class="italic">Oracle数据库备份和恢复参考</span></a></p>
                     </li>
                     <li>
                        <p><a href="../refrn/V-DATABASE_BLOCK_CORRUPTION.html#REFRN30048" target="_blank"><span class="italic">Oracle数据库参考</span></a>有关的详细信息<a id="d87638e131" class="indexterm-anchor"></a> <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图</p>
                     </li>
                  </ul>
               </div>
            </div><a id="BRADV157"></a><div class="props_rev_3"><a id="GUID-B6CFA426-5B2D-401F-B8B3-58FCD9ED3216" name="GUID-B6CFA426-5B2D-401F-B8B3-58FCD9ED3216"></a><h3 id="BRADV-GUID-B6CFA426-5B2D-401F-B8B3-58FCD9ED3216" class="sect3"><span class="enumeration_section">19.1</span>块介质恢复概述</h3>
               <div>
                  <p>阻止介质恢复恢复通过恢复损坏的数据块提供较低的平均恢复时间（MTTR）。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="rman-block-media-recovery.html#GUID-83CB3821-DCA8-459E-8038-CBD4D581A225" title="使用块介质恢复来恢复数据文件中的一个或多个损坏的数据块。">阻止媒体恢复的目的</a></p>
                     </li>
                     <li>
                        <p><a href="rman-block-media-recovery.html#GUID-69B1C218-A199-4993-AC71-C87FE0376E32" title="通常，数据库将块标记为介质损坏，然后在首次遇到损坏时将其写入磁盘。在块恢复之前，块的后续读取不会成功。您只能对标记为损坏或未通过损坏检查的块执行块恢复。">块介质恢复的基本概念</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89782"></a><div class="props_rev_3"><a id="GUID-83CB3821-DCA8-459E-8038-CBD4D581A225" name="GUID-83CB3821-DCA8-459E-8038-CBD4D581A225"></a><h4 id="BRADV-GUID-83CB3821-DCA8-459E-8038-CBD4D581A225" class="sect4"><span class="enumeration_section">19.1.1</span>块媒体恢复的目的</h4>
                  <div>
                     <p>使用块介质恢复来恢复数据文件中的一个或多个损坏的数据块。</p>
                     <p>与<a href="glossary.html#GUID-01B3A956-DA97-4B47-9600-FA5549B7E868"><span class="xrefglossterm">数据文件介质恢复</span></a>相比，阻止介质恢复具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>降低<a href="glossary.html#GUID-93551250-2FC8-4C64-92EF-492C40F74D85"><span class="xrefglossterm">平均恢复时间（MTTR），</span></a>因为只恢复和恢复需要恢复的块</p>
                        </li>
                        <li>
                           <p>使受影响的数据文件在恢复期间保持联机状态</p>
                           <p>如果没有块介质恢复，即使单个块损坏，也必须使数据文件脱机并恢复数据文件的备份。您必须在创建备份后应用为数据文件生成的所有重做。在介质恢复完成之前，整个文件都不可用。使用块介质恢复时，恢复期间只有实际恢复的块不可用。</p>
                        </li>
                     </ul>
                     <p>阻止介质恢复对于涉及小的，众所周知的块数的<a href="glossary.html#GUID-6035D1EA-C660-4F45-B1AC-FE6B15810C54"><span class="xrefglossterm">物理损坏</span></a>问题最有用。块级数据丢失通常是由间歇性的随机I / O错误引起的，这些错误不会导致广泛的数据丢失，并且会导致写入磁盘的内存损坏。阻止介质恢复不适用于数据丢失或损坏程度未知且整个数据文件需要恢复的情况。在这种情况下，数据文件介质恢复是最佳解决方案。
                     </p>
                  </div>
               </div><a id="BRADV118"></a><div class="props_rev_3"><a id="GUID-69B1C218-A199-4993-AC71-C87FE0376E32" name="GUID-69B1C218-A199-4993-AC71-C87FE0376E32"></a><h4 id="BRADV-GUID-69B1C218-A199-4993-AC71-C87FE0376E32" class="sect4"><span class="enumeration_section">19.1.2</span>块媒体恢复的基本概念</h4>
                  <div>
                     <p>通常，数据库将块标记为介质损坏，然后在首次遇到损坏时将其写入磁盘。在块恢复之前，块的后续读取不会成功。您只能对标记为损坏或未通过损坏检查的块执行块恢复。</p>
                     <p>通常，在以下位置报告块损坏：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">LIST FAILURE</code> ， <code class="codeph">VALIDATE</code>或<code class="codeph">BACKUP ...VALIDATE</code>命令</p>
                        </li>
                        <li>
                           <p><code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图</p>
                        </li>
                        <li>
                           <p>标准输出中的错误消息</p>
                        </li>
                        <li>
                           <p>警报日志</p>
                        </li>
                        <li>
                           <p>用户跟踪文件</p>
                        </li>
                        <li>
                           <p>SQL命令的结果<code class="codeph">ANALYZE TABLE</code>和<code class="codeph">ANALYZE INDEX</code> 
                           </p>
                        </li>
                        <li>
                           <p>DBVERIFY实用程序的结果</p>
                        </li>
                        <li>
                           <p>第三方媒体管理输出</p>
                        </li>
                     </ul>
                     <p>例如，您可能会在用户跟踪文件中发现以下消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01578：ORACLE数据块损坏（文件＃7，块＃3）ORA-01110：数据文件7：'/ oracle /oradata / strgt / tools01.dbf'ORA-01578：ORACLE数据块损坏（文件＃2，块＃235）ORA-01110：数据文件2：'/ oracle /oradata / strgt / undotbs01.dbf'</pre><div class="infoboxnotealso" id="GUID-69B1C218-A199-4993-AC71-C87FE0376E32__GUID-C2A8F1EE-61E4-4AE9-B7EC-B353ACCAF2B8">
                        <p class="notep1">也可以看看：</p>
                        <p>适用于<code class="codeph">RECOVER ... <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF140" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a> <code class="codeph">RECOVER ...BLOCK</code>语法</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE" name="GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE"></a><h5 id="BRADV-GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE" class="sect5"><span class="enumeration_section">19.1.2.1</span>关于块恢复和备用数据库</h5>
                     <div>
                        <p>阻止恢复行为取决于是在主数据库还是物理备用数据库上发现数据块损坏。</p>
                        <p>如果发生损坏的数据库与实时查询物理备用数据库相关联，则数据库会<span class="italic">自动</span>尝试执行块介质恢复。主数据库在备用数据库上搜索块的良好副本，如果找到它们，则修复块而不会对遇到损坏块的查询产生影响。仅当数据库无法修复损坏时，才会显示Oracle数据库物理块损坏消息（ <code class="codeph">ORA-1578</code> ）。
                        </p>
                        <p>每当自动检测到块损坏时，您可以使用<code class="codeph">RECOVER ...手动执行块介质恢复<code class="codeph">RECOVER ...BLOCK</code>命令。默认情况下，RMAN首先在实时查询物理备用数据库中搜索好块，然后闪回日志，然后在完全或0级增量备份中阻塞。
                        </p>
                        <div class="infoboxnote" id="GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE__GUID-B08FB1C2-D7EF-4516-8F6B-A15DC08BB1BC">
                           <p class="notep1">注意：</p>
                           <p>要使块介质恢复自动工作，物理备用数据库必须处于实时查询模式。需要Oracle Active Data Guard许可证。</p>
                        </div>
                        <p>如果在实时查询物理备用数据库上发现损坏的数据块，则服务器会尝试通过从主数据库获取块的副本来修复损坏。修复在后台执行，如果修复成功，则后续查询成功。如果在备用数据库上配置了以下数据库初始化参数，则尝试自动块修复：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LOG_ARCHIVE_CONFIG</code>参数配置了<code class="codeph">DG_CONFIG</code>列表，并为具有<code class="codeph">DB_UNIQUE_NAME</code>属性的主数据库配置了<code class="codeph">LOG_ARCHIVE_DEST_n</code>参数</p>
                              <p><span class="bold">要么</span></p>
                           </li>
                           <li>
                              <p>已配置<code class="codeph">FAL_SERVER</code>参数，其值包含主数据库的Oracle Net服务名称</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE__GUID-8905AFFC-0DFF-4C4F-9541-2B46AFF4AA5F">
                           <p class="notep1">注意：</p>
                           <p>如果在验证期间检测到损坏的块，例如通过RMAN <code class="codeph">VALIDATE</code>命令，则<span class="italic">不会</span>自动启动恢复。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-9A704D4E-621E-4473-913F-DEA0D0D3D9AE__GUID-C12E2D4C-A61E-43B4-8CD6-B0DA08301076">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>适用于<code class="codeph">RECOVER ... <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF140" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a> <code class="codeph">RECOVER ...BLOCK</code>语法</p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=SBYDB00707" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> ，了解备用数据库的实时查询选项</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="BRADV89783"></a><div class="props_rev_3"><a id="GUID-BBD0093C-AC8D-490C-868C-FB5F83CB0870" name="GUID-BBD0093C-AC8D-490C-868C-FB5F83CB0870"></a><h5 id="BRADV-GUID-BBD0093C-AC8D-490C-868C-FB5F83CB0870" class="sect5"><span class="enumeration_section">19.1.2.2</span>关于识别损坏的块</h5>
                     <div>
                        <p><code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图显示由数据库组件（如RMAN， <code class="codeph">ANALYZE</code>和SQL查询）标记为已损坏的块。
                        </p>
                        <p>以下类型的损坏会导致向此视图添加行：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>物理腐败（有时称为媒体腐败）</p>
                              <p>数据库无法识别块： <a href="glossary.html#GUID-36837841-FB21-45C7-A99A-FFC35D04FB0B"><span class="xrefglossterm">校验和</span></a>无效，块包含全零，或块头已损坏。
                              </p>
                              <p>默认情况下启用物理损坏检查。您可以通过指定<code class="codeph">BACKUP</code>命令的<code class="codeph">NOCHECKSUM</code>选项来关闭校验和检查，但不能禁用其他物理一致性检查，例如<code class="codeph">NOCHECKSUM</code>和页脚的检查。
                              </p>
                           </li>
                           <li>
                              <p>逻辑腐败</p>
                              <p>该块具有有效的校验和，页眉和页脚匹配等，但内容在逻辑上不一致。阻止介质恢复可能无法修复所有逻辑块损坏。在这些情况下，备用恢复方法（如表空间时间点恢复）或删除和重新创建受影响的对象可能会修复损坏。</p>
                              <p>默认情况下禁用逻辑损坏检查。您可以通过指定<code class="codeph">BACKUP</code> ， <code class="codeph">RESTORE</code> ， <code class="codeph">RECOVER</code>和<code class="codeph">VALIDATE</code>命令的<code class="codeph">CHECK</code> <code class="codeph">LOGICAL</code>选项来打开它。
                              </p>
                           </li>
                        </ul>
                        <p>数据库可以通过验证块和段之间的关系来检测某些损坏，但无法通过检查单个块来检测它们。<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图不会以此粒度级别进行记录。
                        </p>
                     </div>
                  </div><a id="BRADV359"></a><a id="BRADV89784"></a><div class="props_rev_3"><a id="GUID-EE0CBA84-C782-4DF1-981B-81003B040291" name="GUID-EE0CBA84-C782-4DF1-981B-81003B040291"></a><h5 id="BRADV-GUID-EE0CBA84-C782-4DF1-981B-81003B040291" class="sect5"><span class="enumeration_section">19.1.2.3</span>关于块恢复期间缺少重做</h5>
                     <div>
                        <p>阻止介质恢复仅需要对要恢复的块进行不间断的重做更改。这与数据文件恢复不同，它需要从恢复开始到结束时不间断的一系列重做更改。</p>
                        <p>与数据文件介质恢复一样，块介质恢复通常无法在丢失或无法访问的归档日志中生存，但它在尝试查找归档重做日志文件的可用副本时尝试还原故障转移。此外，阻止介质恢复无法承受导致校验和失败的物理重做损坏。但是，如果丢失或损坏的重做记录不影响正在恢复的块，则块介质恢复可以在重做流中存在间隙。</p>
                        <div class="infoboxnote" id="GUID-EE0CBA84-C782-4DF1-981B-81003B040291__GUID-7862473B-3D50-4203-8B2B-1689604A3489">
                           <p class="notep1">注意：</p>
                           <p>在块介质恢复期间，每个块都是独立恢复的，因此对于块的子集，恢复可能是成功的。</p>
                        </div>
                        <p>当RMAN在块介质恢复期间首次检测到丢失或损坏的重做记录时，它不会立即发出错误信号，因为正在进行恢复的块可能会在重做流中创建一个。当重新创建块时，该块的所有先前重做变得无关紧要，因为重做适用于块的旧化身。例如，当用户删除或截断表，然后将该块用于其他数据时，数据库会创建一个新的块。</p>
                        <p>假设在块13上执行媒体恢复， <a href="rman-block-media-recovery.html#GUID-EE0CBA84-C782-4DF1-981B-81003B040291__CIHHCEFH">如图19-1所示</a> 。
                        </p>
                        <div class="figure" id="GUID-EE0CBA84-C782-4DF1-981B-81003B040291__CIHHCEFH">
                           <p class="titleinfigure">图19-1执行RMAN介质恢复</p><img src="img/bradv007.gif" alt="下面是图19-1的描述" title="下面是图19-1的描述" longdesc="img_text/bradv007.html"><br><a href="img_text/bradv007.html">“图19-1执行RMAN介质恢复”的说明</a></div>
                        <!-- class="figure" -->
                        <p>块恢复开始后，RMAN发现重做流中缺少更改120，因为日志块已损坏或无法找到日志。如果稍后在重做流中重新创建块13，则RMAN继续恢复。假设在改变140中，用户丢弃在块13中存储的表<code class="codeph">employees</code> ，在该块中分配新表，并将数据插入新表中。此时，数据库将块13格式化为新块。现在恢复可以继续使用此块，即使在重新创建操作之前缺少一些重做。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EE0CBA84-C782-4DF1-981B-81003B040291__GUID-3D076235-92F1-4DAB-B734-F255F302C08D">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="rman-data-repair-concepts.html#GUID-D76CD1E8-2B9E-40F6-A13F-3264D6BA2B8C" title="RMAN自动使用还原故障转移来跳过损坏或无法访问的备份并查找可用的备份。如果未找到备份或包含损坏的数据，RMAN会自动查找从中还原所需文件的另一个备份。">关于RMAN还原故障转移</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV89785"></a><div class="props_rev_3"><a id="GUID-C1164158-496C-4D8A-8A06-D343935FC3B9" name="GUID-C1164158-496C-4D8A-8A06-D343935FC3B9"></a><h3 id="BRADV-GUID-C1164158-496C-4D8A-8A06-D343935FC3B9" class="sect3"><span class="enumeration_section">19.2</span>块介质恢复的先决条件</h3>
               <div>
                  <p>在使用<code class="codeph">RECOVER ...执行块介质恢复之前，必须满足某些先决条件<code class="codeph">RECOVER ...BLOCK</code>命令。
                  </p>
                  <p>先决条件包括以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>目标数据库必须以<code class="codeph">ARCHIVELOG</code>模式运行，并使用当前控制文件打开或挂载。
                        </p>
                     </li>
                     <li>
                        <p>如果目标数据库是备用数据库，则它必须处于一致状态，恢复不能在会话中，并且备份必须早于损坏的文件。</p>
                     </li>
                     <li>
                        <p>包含损坏块的数据文件的备份必须是完整备份或0级备份。它们不能是代理副本或增量备份。</p>
                        <p>如果仅存在<a href="glossary.html#GUID-C4A7D804-0F77-4FA3-AA77-85D3C7E78E2B"><span class="xrefglossterm">代理副本</span></a>备份，则可以将它们还原到磁盘上的非默认位置，在这种情况下，RMAN会将它们视为数据文件副本，并在块介质恢复期间搜索它们以查找块。
                        </p>
                     </li>
                     <li>
                        <p>RMAN只能使用存档的重做日志进行恢复。</p>
                        <p>RMAN无法使用1级增量备份。阻止媒体恢复无法在丢失或无法访问的归档重做日志中存活，尽管它有时可以在丢失重做记录时存活。</p>
                     </li>
                     <li>
                        <p>必须在目标数据库上启用闪回数据库，以便RMAN在闪回日志中搜索损坏块的良好副本。</p>
                        <p>如果启用了闪回日志记录并且包含较旧的未损坏版本的损坏块，则RMAN可以使用这些块，从而可能加快恢复速度。</p>
                     </li>
                     <li>
                        <p>目标数据库必须与RMAN的实时查询物理备用数据库相关联，以便在数据库中搜索损坏块的良好副本。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="BRADV89786"></a><div class="props_rev_3"><a id="GUID-21EFB177-2AC7-457C-80A0-63B11A80CD0B" name="GUID-21EFB177-2AC7-457C-80A0-63B11A80CD0B"></a><h3 id="BRADV-GUID-21EFB177-2AC7-457C-80A0-63B11A80CD0B" class="sect3"><span class="enumeration_section">19.3</span>恢复单个块</h3>
               <div>
                  <p>使用<code class="codeph">RECOVER...BLOCK</code>命令用于恢复数据文件中的各个损坏块。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="rman-block-media-recovery.html#GUID-B2CB58B5-C50E-41BC-8D4E-51C0F18D7D3F" title="您确定需要恢复的块，然后使用任何可用的备份来还原和恢复这些块。">使用RECOVER恢复单个块...BLOCK命令</a></p>
                     </li>
                     <li>
                        <p><a href="rman-block-media-recovery.html#GUID-3471570C-A181-403D-A4DE-66F1E400D310" title="您可以使用Data Recovery Advisor诊断和修复数据块损坏导致的故障。在此示例中，VALIDATE DATABASE命令时发现了损坏的数据块。">示例：使用Data Recovery Advisor恢复单个块</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV360"></a><a id="BRADV856"></a><div class="props_rev_3"><a id="GUID-B2CB58B5-C50E-41BC-8D4E-51C0F18D7D3F" name="GUID-B2CB58B5-C50E-41BC-8D4E-51C0F18D7D3F"></a><h4 id="BRADV-GUID-B2CB58B5-C50E-41BC-8D4E-51C0F18D7D3F" class="sect4"><span class="enumeration_section">19.3.1</span>使用RECOVER恢复单个块...BLOCK命令</h4>
                  <div>
                     <p>您确定需要恢复的块，然后使用任何可用的备份来还原和恢复这些块。</p>
                     <div class="section">
                        <p><span class="bold">使用RECOVER恢复特定数据块...BLOCK命令：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>获取损坏块的数据文件编号和块编号。</span><div>
                              <p>查找跟踪文件和警报日志的最简单方法是将SQL * Plus连接到目标数据库并执行以下查询：</p><pre class="oac_no_warn" dir="ltr">选择名称，价值来自V $ DIAG_INFO;</pre></div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN并连接到目标数据库，该数据库必须已挂载或打开。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">SHOW ALL</code>命令以确认已预先配置了相应的通道。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">RECOVER ...RMAN提示符处的BLOCK</code>命令，指定损坏块的文件和块编号。</span><div>
                              <p>以下示例恢复了两个块。</p><pre class="oac_no_warn" dir="ltr">恢复数据文件8块13数据文件2块19;</pre><p>您还可以指定各种选项来控制RMAN行为。以下示例表示在搜索块时仅使用带有标记<code class="codeph">mondayam</code>备份。您可以使用<code class="codeph">FROM BACKUPSET</code>选项来限制RMAN搜索的备份类型，或使用<code class="codeph">EXCLUDE FLASHBACK LOG</code>选项来限制RMAN搜索闪回日志。
                              </p><pre class="oac_no_warn" dir="ltr">恢复数据文件8块13数据文件2块199从标签星期一;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="BRADV857"></a><div class="props_rev_3"><a id="GUID-3471570C-A181-403D-A4DE-66F1E400D310" name="GUID-3471570C-A181-403D-A4DE-66F1E400D310"></a><h4 id="BRADV-GUID-3471570C-A181-403D-A4DE-66F1E400D310" class="sect4"><span class="enumeration_section">19.3.2</span>示例：使用Data Recovery Advisor恢复单个块</h4>
                  <div>
                     <p>您可以使用Data Recovery Advisor诊断和修复数据块损坏导致的故障。在此示例中， <code class="codeph">VALIDATE DATABASE</code>命令时发现了损坏的数据块。
                     </p>
                     <div class="section">
                        <p><span class="bold">要使用Data Recovery Advisor生成自动修复选项并修复故障：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动RMAN并连接到目标数据库，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                        <li class="stepexpand" id="GUID-3471570C-A181-403D-A4DE-66F1E400D310__CHDFJHAD"><span>使用以下命令列出Data Recovery Advisor记录的故障：</span><div><pre class="oac_no_warn" dir="ltr">列表失败;数据库角色：主要数据库故障列表=========================故障ID优先级状态检测时间摘要---------- -------- --------- ------------- ------- 5720 HIGH OPEN 24-APR-14数据文件14：'/ home1 / oracle / dbs / tbs_32.f'包含一个或多个损坏的块</pre></div>
                        </li>
                        <li class="stepexpand"><span>为步骤<a href="rman-block-media-recovery.html#GUID-3471570C-A181-403D-A4DE-66F1E400D310__CHDFJHAD">2中</a>列出的故障生成修复选项。</span><div>
                              <p>以下命令生成修复选项并创建修复脚本以执行自动修复任务。</p><pre class="oac_no_warn" dir="ltr">建议失败;数据库角色：主要数据库故障列表=========================故障ID优先级状态检测时间摘要---------- -------- --------- ------------- ------- 5720 HIGH OPEN 24-APR-14数据文件14：'/ home1 / oracle / dbs / tbs_32.f'包含一个或多个分析自动修复选项的损坏块;这可能需要一些时间使用通道ORA_DISK_1分析自动修复选项完成强制手动操作========================没有可用的手动操作可选手动操作=== ====================没有可用的手动操作自动修复选项======================= =选项修复说明------ ------------------ 1在文件14中执行块20的块介质恢复策略：修复包括完整的介质恢复，没有数据损失修复脚本：/home1/oracle/log/diag/rdbms/db12/hm/reco_287949467.hm</pre></div>
                        </li>
                        <li class="stepexpand"><span>执行Data Recovery Advisor建议的自动修复。</span><div>
                              <p>RMAN使用<code class="codeph">ADVISE FAILURE</code>命令生成的修复脚本来执行所需的修复。
                              </p><pre class="oac_no_warn" dir="ltr">维修失败;策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/home1/oracle/log/diag/rdbms/db12/hm/reco_287949467.hm修复脚本的内容：＃block media recovery recover datafile 14 block 20;你真的想要执行上面的修复（输入是或否）？是执行修复脚本使用通道ORA_DISK_1通道在24-APR-14开始恢复ORA_DISK_1：恢复块通道ORA_DISK_1：指定要从数据文件00014通道的备份setrestoring块恢复的块ORA_DISK_1：从备份件/备份/读取DB121 /备份集/ 2014_04_24 / o1_mf_nnndf_TAG20140424T213309_9omsd7vb_.bkp通道ORA_DISK_1：部件手柄= /备份/ DB121 /备份集/ 2014_04_24 / o1_mf_nnndf_TAG20140424T213309_9omsd7vb_.bkp标签= TAG20140424T213309通道ORA_DISK_1：恢复从备份片1信道ORA_DISK_1块（多个）：块恢复完成后，经过时间：00：00：01开始媒体恢复媒体恢复完成，经过时间：00：00：03完成恢复24-APR-14修复失败完成</pre><p>当<code class="codeph">LIST FAILURE</code>命令显示多个故障时，您只能针对特定故障执行修复操作。使用<code class="codeph">ADVISE FAILURE</code>命令输出的Automated Repair Options部分中显示的选项号执行特定的修复操作。
                              </p>
                              <p>以下命令仅执行“自动修复选项”部分的选项2下列出的修复操作。</p><pre class="oac_no_warn" dir="ltr">使用建议选项2修复故障;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3471570C-A181-403D-A4DE-66F1E400D310__GUID-883EEEA6-6BB7-4607-ACA7-8367C8CFA3F3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="diagnosing-repairing-failures-dra.html#GUID-8C219B50-1F7F-4F7A-95EE-5F029AE7EB2A" title="Data Recovery Advisor是一种通过确定数据库故障的最佳自动修复选项来帮助减少数据库恢复时间的工具。Data Recovery Advisor是一个Oracle数据库工具，可自动诊断数据故障，确定并提供适当的修复选项，并根据用户的请求执行修复。在使用Data Recovery Advisor之前，您必须熟悉一些概念。Data Recovery Advisor具有命令行和GUI界面。Oracle企业管理器云控制中提供了GUI界面。检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。失败是由数据完整性检查检测到的持久性数据损坏。每个故障都有故障状态：OPEN或CLOSED。每个故障都有一个失败优先级：CRITICAL，HIGH或LOW。 Data Recovery Advisor仅为诊断出的故障分配CRITICAL或HIGH优先级。为清楚起见，Data Recovery Advisor将相关故障组合在一起。ADVISE FAILURE命令可以显示手动和自动修复选项。Data Recovery Advisor将手动操作分类为必需或可选。如果可能，Data Recovery Advisor会整合修复以将多个故障修复为单个修复。合并修复可能包含多个步骤。每当Data Recovery Advisor生成自动修复选项时，它都会创建一个脚本，说明RMAN打算使用哪些命令来修复故障。Data Recovery Advisor打印此脚本的位置，该脚本是驻留在操作系统上的文本文件。仅在某些数据库配置上支持Data Recovery Advisor。Data Recovery Advisor仅支持单实例数据库。不支持Oracle Real Application Clusters（Oracle RAC）数据库。Oracle Data Guard环境中的Data Recovery Advisor存在一些限制。Data Recovery Advisor只能用于诊断和修复非CDB中的数据损坏以及多租户容器数据库（CDB）的根目录。可插拔数据库（PDB）不支持Data Recovery Advisor。当您怀疑或发现故障时，Data Recovery Advisor工作流程就会开始。您可以通过多种方式发现故障，包括错误消息，警报，跟踪文件和失败的数据完整性检查。您可以使用Data Recovery Advisor自动诊断数据故障，确定适当的修复选项以及在CDB中执行修复。如果您怀疑或知道发生了一个或多个数据库故障，请使用LIST FAILURE获取有关它们的信息。确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。除了提供更详细的输出外，LIST FAILURE还可以限制输出。当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。如果存在一个或多个故障，则通常使用LIST FAILURE显示有关故障的信息，然后在同一个RMAN会话中显示ADVISE FAILURE以获取修复选项的报告。您还可以请求特定故障的修复选项。您可以按状态（CRITICAL，HIGH或LOW）或故障编号指定故障。您还可以使用EXCLUDE FAILURE从报告中排除一个或多个故障。您可以使用Data Recovery Advisor自动修复故障。如果ADVISE FAILURE建议手动修理，请先尝试这些。如果无法进行手动修复，或者无法修复所有故障，则可以使用REPAIR FAILURE自动修复当前RMAN会话中最新ADVISE FAILURE命令中建议的故障。默认情况下，脚本显示为标准输出。您可以使用SPOOL命令将脚本写入可编辑文件。在某些情况下，您可能希望使用CHANGE FAILURE命令来更改故障的状态或优先级。">使用Data Recovery Advisor诊断和修复故障</a></p>
                              </li>
                              <li>
                                 <p><a href="diagnosing-repairing-failures-dra.html#GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" title="当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。">通过验证数据库检查块损坏</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV361"></a><a id="BRADV200"></a><div class="props_rev_3"><a id="GUID-937FA44F-1556-4750-8E07-33A4D6FD64BB" name="GUID-937FA44F-1556-4750-8E07-33A4D6FD64BB"></a><h3 id="BRADV-GUID-937FA44F-1556-4750-8E07-33A4D6FD64BB" class="sect3"><span class="enumeration_section">19.4</span>恢复V $ DATABASE_BLOCK_CORRUPTION中的所有块</h3>
               <div>
                  <p>RMAN可以自动恢复<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图中列出的所有块。
                  </p>
                  <div class="section">
                     <p><span class="bold">要恢复以V $ DATABASE_BLOCK_CORRUPTION记录的所有块：</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                     <li class="stepexpand"><span>查询<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>以确定是否存在损坏的块。例如，执行以下语句：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM V $ DATABASE_BLOCK_CORRUPTION;</pre></div>
                     </li>
                     <li class="stepexpand"><span>启动RMAN并连接到目标数据库，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                     <li class="stepexpand"><span>恢复<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>标记为已损坏的所有块。</span><div>
                           <p>以下命令修复视图中记录的所有物理损坏的块：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;恢复腐败清单;</pre><p>恢复块后，数据库将其从<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>删除。</p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-937FA44F-1556-4750-8E07-33A4D6FD64BB__GUID-DCB86457-6A4A-4B82-BB2C-42030CE78FA0">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF140" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a>了解<code class="codeph">RECOVER ...BLOCK</code>命令</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="08922.V-DATAFILE_COPY.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="V$DATAFILE_COPY displays data file copy information from the control file."></meta>
      <meta name="description" content="V$DATAFILE_COPY displays data file copy information from the control file."></meta>
      <title>V $ DATAFILE_COPY</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="V$DATAFILE_COPY displays data file copy information from the control file."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="V-DATAFILE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="V-DATAFILE_HEADER.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-DATAFILE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="V-DATAFILE_HEADER.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name">动态性能视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-1.html" property="item" typeof="WebPage"><span property="name">动态性能（V $）视图：V $访问V $ HVMASTER_INFO</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V $ DATAFILE_COPY</li>
            </ol>
            <a id="GUID-85F3C135-B595-4816-900B-5ACF4711E3A0" name="GUID-85F3C135-B595-4816-900B-5ACF4711E3A0"></a><a id="REFRN30051"></a>
            
            <h2 id="REFRN-GUID-85F3C135-B595-4816-900B-5ACF4711E3A0" class="sect2"><span class="enumeration_section">7.161</span> V $ DATAFILE_COPY</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">V$DATAFILE_COPY</code>显示控制文件中的数据文件复制信息。
               </p>
               <div class="section"></div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-85F3C135-B595-4816-900B-5ACF4711E3A0__GUID-4870CD4F-B615-4D72-AF75-A35643CFC258">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1681608e170">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d1681608e173">数据类型</th>
                           <th align="left" valign="bottom" width="58%" id="d1681608e176">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e181" headers="d1681608e170 ">
                              <p><code class="codeph">RECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e181 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e181 d1681608e176 ">
                              <p>数据文件复制记录ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e193" headers="d1681608e170 ">
                              <p><code class="codeph">邮票</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e193 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e193 d1681608e176 ">
                              <p>数据文件复制记录戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e205" headers="d1681608e170 ">
                              <p><code class="codeph">名称</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e205 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（513）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e205 d1681608e176 ">
                              <p>数据文件副本的文件名。名称的最大长度取决于操作系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e217" headers="d1681608e170 ">
                              <p><code class="codeph">标签</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e217 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（32）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e217 d1681608e176 ">
                              <p>数据文件复制标记</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e229" headers="d1681608e170 ">
                              <p><code class="codeph">文件＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e229 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e229 d1681608e176 ">
                              <p>绝对数据文件号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e241" headers="d1681608e170 ">
                              <p><code class="codeph">的RFile＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e241 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e241 d1681608e176 ">
                              <p>表空间相对数据文件号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e253" headers="d1681608e170 ">
                              <p><code class="codeph">CREATION_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e253 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e253 d1681608e176 ">
                              <p>数据文件创建更改＃</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e265" headers="d1681608e170 ">
                              <p><code class="codeph">CREATION_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e265 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e265 d1681608e176 ">
                              <p>数据文件创建时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e277" headers="d1681608e170 ">
                              <p><code class="codeph">RESETLOGS_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e277 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e277 d1681608e176 ">
                              <p>复制日志在复制时更改数据文件的编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e289" headers="d1681608e170 ">
                              <p><code class="codeph">RESETLOGS_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e289 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e289 d1681608e176 ">
                              <p>复制时，重置日志数据文件的时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e301" headers="d1681608e170 ">
                              <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e301 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e301 d1681608e176 ">
                              <p>正常完全备份具有NULL值，0级增量备份具有值0，而1级增量备份具有值1</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e314" headers="d1681608e170 ">
                              <p><code class="codeph">CHECKPOINT_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e314 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e314 d1681608e176 ">
                              <p>复制时，检查点更改数据文件的编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e326" headers="d1681608e170 ">
                              <p><code class="codeph">CHECKPOINT_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e326 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e326 d1681608e176 ">
                              <p>复制时数据文件的检查点时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e338" headers="d1681608e170 ">
                              <p><code class="codeph">ABSOLUTE_FUZZY_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e338 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e338 d1681608e176 ">
                              <p>复制数据文件时看到的最大变化</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e350" headers="d1681608e170 ">
                              <p><code class="codeph">RECOVERY_FUZZY_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e350 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e350 d1681608e176 ">
                              <p>媒体恢复写入文件的最高更改</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e362" headers="d1681608e170 ">
                              <p><code class="codeph">RECOVERY_FUZZY_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e362 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e362 d1681608e176 ">
                              <p>通过介质恢复写入文件的最高更改的时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e374" headers="d1681608e170 ">
                              <p><code class="codeph">ONLINE_FUZZY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e374 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e374 d1681608e176 ">
                              <p>（ <code class="codeph">YES</code> | <code class="codeph">NO</code> ）如果设置为<code class="codeph">YES</code> ，则这是在崩溃或立即脱机后使用操作系统实用程序（或在数据文件联机且数据库打开时进行无效复制）时使用的副本。恢复将需要将所有重做应用到下一个崩溃恢复标记，以使文件保持一致。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e395" headers="d1681608e170 ">
                              <p><code class="codeph">BACKUP_FUZZY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e395 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e395 d1681608e176 ">
                              <p>（ <code class="codeph">YES</code> | <code class="codeph">NO</code> ）如果设置为<code class="codeph">YES</code> ，则这是使用<code class="codeph">BEGIN BACKUP/END BACKUP</code>技术拍摄的副本。恢复将需要将所有重做应用到最终备份标记，以使此副本保持一致。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e419" headers="d1681608e170 ">
                              <p><code class="codeph">MARKED_CORRUPT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e419 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e419 d1681608e176 ">
                              <p>此复制操作标记为已损坏的块数。也就是说，在源数据文件中未标记为已损坏但在复制操作期间被检测到并标记为已损坏的块。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e431" headers="d1681608e170 ">
                              <p><code class="codeph">MEDIA_CORRUPT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e431 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e431 d1681608e176 ">
                              <p>媒体损坏块的总数。例如，具有校验和错误的块被标记为媒体损坏。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e443" headers="d1681608e170 ">
                              <p><code class="codeph">LOGICALLY_CORRUPT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e443 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e443 d1681608e176 ">
                              <p>逻辑损坏块的总数。例如，对不可恢复的操作应用重做将标记受影响的块在逻辑上已损坏。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e455" headers="d1681608e170 ">
                              <p><code class="codeph">积木</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e455 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e455 d1681608e176 ">
                              <p>块中数据文件副本的大小（也是复制时数据文件的大小）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e468" headers="d1681608e170 ">
                              <p><code class="codeph">BLOCK_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e468 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e468 d1681608e176 ">
                              <p>块大小的数据文件</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e480" headers="d1681608e170 ">
                              <p><code class="codeph">OLDEST_OFFLINE_RANGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e480 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e480 d1681608e176 ">
                              <p>此控制文件副本中最旧的离线范围记录的RECID; 0表示数据文件副本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e492" headers="d1681608e170 ">
                              <p><code class="codeph">DELETED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e492 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e492 d1681608e176 ">
                              <p>（ <code class="codeph">YES</code> | <code class="codeph">NO</code> ）如果设置为<code class="codeph">YES</code> ，则删除或覆盖数据文件副本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e513" headers="d1681608e170 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e513 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e513 d1681608e176 ">
                              <p>标识此数据文件副本的状态。可能的值是：</p>
                              <p><code class="codeph">A</code> - 可用</p>
                              <p><code class="codeph">D</code> - 已删除</p>
                              <p><code class="codeph">U</code> - 不可用</p>
                              <p><code class="codeph">X</code> - 已过期</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e541" headers="d1681608e170 ">
                              <p><code class="codeph">完成时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e541 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e541 d1681608e176 ">
                              <p>复制完成的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e553" headers="d1681608e170 ">
                              <p><code class="codeph">CONTROLFILE_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e553 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e553 d1681608e176 ">
                              <p><code class="codeph">B</code>表示正常副本</p>
                              <p><code class="codeph">S</code>表示备用副本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e571" headers="d1681608e170 ">
                              <p><code class="codeph">保持</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e571 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e571 d1681608e176 ">
                              <p>（ <code class="codeph">YES</code> / <code class="codeph">NO</code> ）指示此备份集是否具有与配置保留策略的值不同的保留策略</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e589" headers="d1681608e170 ">
                              <p><code class="codeph">KEEP_UNTIL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e589 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e589 d1681608e176 ">
                              <p>如果指定了<code class="codeph">KEEP_UNTIL</code> ，则这是备份过时的日期。如果此列为null，则备份永不过期。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e604" headers="d1681608e170 ">
                              <p><code class="codeph">KEEP_OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e604 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（11）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e604 d1681608e176 ">
                              <p>列出此备份集的其他保留选项。可能的值是：</p>
                              <p><code class="codeph">LOGS</code> - 保留需要恢复此备份的日志</p>
                              <p><code class="codeph">NOLOGS</code> - 不会保留恢复此备份所需的日志</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e624" headers="d1681608e170 ">
                              <p><code class="codeph">已扫描</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e624 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e624 d1681608e176 ">
                              <p>指示RMAN是否扫描了文件（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e642" headers="d1681608e170 ">
                              <p><code class="codeph">IS_RECOVERY_DEST_FILE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e642 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e642 d1681608e176 ">
                              <p>指示文件是否在快速恢复区域中创建（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e661" headers="d1681608e170 ">
                              <p><code class="codeph">RMAN_STATUS_RECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e661 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e661 d1681608e176 ">
                              <p>拥有<code class="codeph">V$RMAN_STATUS</code>记录ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e676" headers="d1681608e170 ">
                              <p><code class="codeph">RMAN_STATUS_STAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e676 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e676 d1681608e176 ">
                              <p>拥有<code class="codeph">V$RMAN_STATUS</code>记录戳记</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e691" headers="d1681608e170 ">
                              <p><code class="codeph">CONVERTED_FILE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e691 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e691 d1681608e176 ">
                              <p>（ <code class="codeph">YES</code> / <code class="codeph">NO</code> ）指示是否使用RMAN <code class="codeph">CONVERT</code>命令创建了数据文件副本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e712" headers="d1681608e170 ">
                              <p><code class="codeph">SAME_ENDIAN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e712 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e712 d1681608e176 ">
                              <p>如果<code class="codeph">CONVERTED_FILE</code>列的值为<code class="codeph">YES</code> ，则此列指示数据文件副本是否具有与源数据文件相同的字节顺序（ <code class="codeph">YES</code> ）或不是（ <code class="codeph">NO</code> ）;否则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e736" headers="d1681608e170 ">
                              <p><code class="codeph">FOREIGN_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e736 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e736 d1681608e176 ">
                              <p>此数据文件来自的外部DBID。如果此文件不是外部数据库文件，则该值为0。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e748" headers="d1681608e170 ">
                              <p><code class="codeph">PLUGGED_READONLY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e748 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e748 d1681608e176 ">
                              <p>如果这是一个传输的只读外国文件，则为<code class="codeph">YES</code> ;否则<code class="codeph">NO</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e765" headers="d1681608e170 ">
                              <p><code class="codeph">PLUGIN_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e765 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e765 d1681608e176 ">
                              <p>将外部数据文件传输到数据库的SCN。如果此文件不是外部数据库文件，则该值为0。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e777" headers="d1681608e170 ">
                              <p><code class="codeph">PLUGIN_RESETLOGS_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e777 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e777 d1681608e176 ">
                              <p><code class="codeph">RESETLOGS</code>操作的SCN用于传输此外来文件的化身。如果此文件不是外部数据库文件，则该值为0。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e792" headers="d1681608e170 ">
                              <p><code class="codeph">PLUGIN_RESETLOGS_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e792 d1681608e173 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e792 d1681608e176 ">
                              <p><code class="codeph">RESETLOGS</code>操作的时间，用于传输此外来文件的化身。如果此文件不是外部数据库文件，则该值为0。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e807" headers="d1681608e170 ">
                              <p><code class="codeph">BACKED_BY_VSS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e807 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e807 d1681608e176 ">
                              <p>卷影复制服务（VSS）是否备份了该文件。此列保留供内部使用。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e819" headers="d1681608e170 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e819 d1681608e173 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e819 d1681608e176 ">
                              <p>数据所属容器的ID。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> ：此值用于包含与整个CDB相关的数据的行。此值还用于非CDB中的行。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code> ：此值用于包含仅与根有关的数据的行</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span> ：其中<span class="italic">n</span>是包含数据的行的适用容器ID</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e851" headers="d1681608e170 ">
                              <p><code class="codeph">BACKED_BY_PDB</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e851 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e851 d1681608e176 ">
                              <p>Recovery Manager（RMAN）允许以两种方式备份PDB。此列中的值指示PDB备份的执行方式：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">YES</code> ：连接到PDB时进行备份</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO</code> ：连接到根容器时进行备份</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e874" headers="d1681608e170 ">
                              <p><code class="codeph">SPARSE_BACKUP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e874 d1681608e173 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e874 d1681608e176 ">
                              <p>指示文件是否稀疏（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1681608e892" headers="d1681608e170 ">
                              <p><code class="codeph">GUID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1681608e892 d1681608e173 ">
                              <p><code class="codeph">RAW（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1681608e892 d1681608e176 ">
                              <p>备份所属的PDB的GUID。在删除PDB以识别备份所属的PDB之后，这很有用。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="06632.ALL_CAPTURE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="ALL_CAPTURE displays information about the capture processes that enqueue the captured changes into queues accessible to the current user."></meta>
      <meta name="description" content="ALL_CAPTURE displays information about the capture processes that enqueue the captured changes into queues accessible to the current user."></meta>
      <title>ALL_CAPTURE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="ALL_CAPTURE displays information about the capture processes that enqueue the captured changes into queues accessible to the current user."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALL_BASE_TABLE_MVIEWS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALL_CAPTURE_EXTRA_ATTRIBUTES.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALL_BASE_TABLE_MVIEWS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALL_CAPTURE_EXTRA_ATTRIBUTES.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-1.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：ALL_ALL_TABLES到ALL_OUTLINES</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALL_CAPTURE</li>
            </ol>
            <a id="GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC" name="GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC"></a><a id="REFRN20031"></a>
            
            <h2 id="REFRN-GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC" class="sect2"><span class="enumeration_section">2.66</span> ALL_CAPTURE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">ALL_CAPTURE</code>显示有关捕获进程的信息，这些捕获进程将捕获的更改排入当前用户可访问的队列中。
               </p>
               <div class="section">
                  <p class="subhead1" id="GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC__GUID-91B1BDAA-9029-4CD6-A9BC-FF413F4623B9">相关视图</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">DBA_CAPTURE</code>显示有关数据库中所有捕获进程的信息。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC__GUID-F1934F39-12CA-4F40-8DC1-9C2DC9EFE842">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d272861e178">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d272861e181">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d272861e184">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d272861e187">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e192" headers="d272861e178 ">
                              <p><code class="codeph">CAPTURE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e192 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e192 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e192 d272861e187 ">
                              <p>捕获过程的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e207" headers="d272861e178 ">
                              <p><code class="codeph">QUEUE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e207 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e207 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e207 d272861e187 ">
                              <p>用于暂存捕获的更改的队列的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e222" headers="d272861e178 ">
                              <p><code class="codeph">QUEUE_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e222 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e222 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e222 d272861e187 ">
                              <p>用于暂存捕获的更改的队列的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e237" headers="d272861e178 ">
                              <p><code class="codeph">RULE_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e237 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e237 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e237 d272861e187 ">
                              <p>捕获过程用于过滤的正规则集的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e252" headers="d272861e178 ">
                              <p><code class="codeph">RULE_SET_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e252 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e252 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e252 d272861e187 ">
                              <p>积极规则集的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e267" headers="d272861e178 ">
                              <p><code class="codeph">CAPTURE_USER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e267 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e267 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e267 d272861e187 ">
                              <p>将捕获的消息排入队列的当前用户</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e282" headers="d272861e178 ">
                              <p><code class="codeph">START_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e282 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e282 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e282 d272861e187 ">
                              <p>捕获进程将从中捕获更改的系统更改编号（SCN）。<code class="codeph">START_SCN</code>仅作为<code class="codeph">ALTER_CAPTURE</code>语句的结果或<code class="codeph">FIRST_SCN</code>超出现有<code class="codeph">START_SCN</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e309" headers="d272861e178 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e309 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e309 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e309 d272861e187 ">
                              <p>捕获过程的状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">禁用</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">启用</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ABORTED</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e337" headers="d272861e178 ">
                              <p><code class="codeph">CAPTURED_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e337 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e337 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e337 d272861e187 ">
                              <p>扫描的最后一个重做日志记录的系统更改编号（SCN）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e352" headers="d272861e178 ">
                              <p><code class="codeph">APPLIED_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e352 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e352 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e352 d272861e187 ">
                              <p>相关应用进程出列的最新消息的系统更改号（SCN）。此SCN下的所有更改都已应用于应用此捕获过程捕获的更改的所有应用进程。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e367" headers="d272861e178 ">
                              <p><code class="codeph">USE_DATABASE_LINK</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e367 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e367 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e367 d272861e187 ">
                              <p>指示源数据库名称是否用作从下游数据库连接到源数据库的数据库链接（ <code class="codeph">YES</code> ）否（ <code class="codeph">NO</code> ）。如果捕获进程是在源数据库中创建的，则此列将为NULL。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e389" headers="d272861e178 ">
                              <p><code class="codeph">FIRST_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e389 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e389 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e389 d272861e187 ">
                              <p>系统更改编号（SCN），可以从中重新启动捕获进程。<code class="codeph">FIRST_SCN</code>表示可以重新定位捕获的最低SCN。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e407" headers="d272861e178 ">
                              <p><code class="codeph">SOURCE_DATABASE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e407 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e407 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e407 d272861e187 ">
                              <p>源数据库的全局名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e422" headers="d272861e178 ">
                              <p><code class="codeph">SOURCE_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e422 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e422 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e422 d272861e187 ">
                              <p>源数据库的数据库ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e437" headers="d272861e178 ">
                              <p><code class="codeph">SOURCE_RESETLOGS_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e437 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e437 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e437 d272861e187 ">
                              <p>Resetlogs源数据库的系统更改编号（SCN）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e452" headers="d272861e178 ">
                              <p><code class="codeph">SOURCE_RESETLOGS_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e452 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e452 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e452 d272861e187 ">
                              <p>重置日志源数据库的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e467" headers="d272861e178 ">
                              <p><code class="codeph">LOGMINER_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e467 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e467 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e467 d272861e187 ">
                              <p>与捕获过程关联的Oracle LogMiner会话的会话ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e482" headers="d272861e178 ">
                              <p><code class="codeph">NEGATIVE_RULE_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e482 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e482 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e482 d272861e187 ">
                              <p>捕获过程用于过滤的否定规则集的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e497" headers="d272861e178 ">
                              <p><code class="codeph">NEGATIVE_RULE_SET_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e497 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e497 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e497 d272861e187 ">
                              <p>捕获过程用于过滤的否定规则集的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e512" headers="d272861e178 ">
                              <p><code class="codeph">MAX_CHECKPOINT_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e512 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e512 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e512 d272861e187 ">
                              <p>捕获过程获取最后一个检查点的系统更改编号（SCN）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e527" headers="d272861e178 ">
                              <p><code class="codeph">REQUIRED_CHECKPOINT_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e527 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e527 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e527 d272861e187 ">
                              <p>捕获过程需要重做信息的最低检查点SCN。</p>
                              <p><span class="bold">注意：</span>此SCN值不一定与检查点SCN值相对应。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e546" headers="d272861e178 ">
                              <p><code class="codeph">LOGFILE_ASSIGNMENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e546 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e546 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e546 d272861e187 ">
                              <p>捕获过程的日志文件分配类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">隐</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">显</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e571" headers="d272861e178 ">
                              <p><code class="codeph">STATUS_CHANGE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e571 d272861e181 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e571 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e571 d272861e187 ">
                              <p>捕获过程的<code class="codeph">STATUS</code>发生变化的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e589" headers="d272861e178 ">
                              <p><code class="codeph">ERROR_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e589 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e589 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e589 d272861e187 ">
                              <p>如果捕获过程中止，则出现错误编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e604" headers="d272861e178 ">
                              <p><code class="codeph">错误信息</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e604 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e604 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e604 d272861e187 ">
                              <p>如果捕获过程已中止，则会显示错误消息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e619" headers="d272861e178 ">
                              <p><code class="codeph">版</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e619 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e619 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e619 d272861e187 ">
                              <p>捕获过程的版本号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e634" headers="d272861e178 ">
                              <p><code class="codeph">CAPTURE_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e634 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e634 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e634 d272861e187 ">
                              <p>捕获过程的类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">下游</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">本地</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e658" headers="d272861e178 ">
                              <p><code class="codeph">LAST_ENQUEUED_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e658 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e658 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e658 d272861e187 ">
                              <p>最后排队的系统变更编号（SCN）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e673" headers="d272861e178 ">
                              <p><code class="codeph">CHECKPOINT_RETENTION_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e673 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e673 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e673 d272861e187 ">
                              <p>检查点保留时间</p>
                              <p><span class="bold">注意：</span>当捕获过程的检查点保留时间设置为<code class="codeph">INFINITE</code> ，此列中显示的值为4294967295。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e695" headers="d272861e178 ">
                              <p><code class="codeph">开始时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e695 d272861e181 ">
                              <p><code class="codeph">TIMESTAMP（6）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e695 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e695 d272861e187 ">
                              <p>捕获过程开始捕获更改的时间。<code class="codeph">START_TIME</code>与<code class="codeph">START_SCN</code>相关，只能通过<code class="codeph">ALTER_CAPTURE</code>语句进行修改。
                              </p>
                              <p>您可以修改<code class="codeph">START_SCN</code>或<code class="codeph">START_TIME</code> ，但不能同时修改两者。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e727" headers="d272861e178 ">
                              <p><code class="codeph">目的</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e727 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（19）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e727 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e727 d272861e187 ">
                              <p>捕获过程的目的：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">GoldenGate Capture</code> - 在集成捕获模式下使用Oracle GoldenGate Extract配置的捕获过程</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">XStream</code> <code class="codeph">Out</code> -  XStream Out配置中的捕获过程</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">AUDIT</code> <code class="codeph">VAULT</code> - 审计保险库配置中的捕获过程</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e764" headers="d272861e178 ">
                              <p><code class="codeph">SOURCE_ROOT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e764 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e764 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e764 d272861e187 ">
                              <p>源根数据库的全局名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e779" headers="d272861e178 ">
                              <p><code class="codeph">客户名称</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e779 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e779 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e779 d272861e187 ">
                              <p>捕获过程的客户端名称。这是XStream Out的出站名称，以及GoldenGate的提取名称。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e795" headers="d272861e178 ">
                              <p><code class="codeph">CLIENT_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e795 d272861e181 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e795 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e795 d272861e187 ">
                              <p>客户流程的状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">DISABLED</code> - 对于XStream Out，如果出站服务器未运行;如果捕获过程未运行，则为GoldenGate</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DETACHED</code> - 对于XStream Out，如果出站服务器正在运行，但XStream客户端应用程序未附加到它;对于GoldenGate，如果捕获进程正在运行，但提取过程未附加到它</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTACHED</code> - 对于XStream out，如果出站服务器正在运行并且XStream客户端应用程序连接到它;对于GoldenGate，如果捕获进程正在运行并且提取进程附加到它</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ABORTED</code> - 对于XStream out，如果出站服务器因为遇到错误而被禁用;对于GoldenGate，如果捕获进程因为遇到错误而被禁用</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e831" headers="d272861e178 ">
                              <p><code class="codeph">OLDEST_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e831 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e831 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e831 d272861e187 ">
                              <p>目前正在处理的交易的最旧SCN</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d272861e846" headers="d272861e178 ">
                              <p><code class="codeph">FILTERED_SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d272861e846 d272861e181 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d272861e846 d272861e184 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d272861e846 d272861e187 ">
                              <p>处理低水印事务的SCN</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-2B5CED0A-7CCB-479E-BFF8-028BD8BFBEFC__GUID-70DFD8E1-791E-43E9-885B-F98CB549E95D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="DBA_CAPTURE.html#GUID-5773C18A-1961-40A5-8DE6-E428F9375275" title="DBA_CAPTURE显示有关数据库中所有捕获进程的信息。它的列与ALL_CAPTURE中的列相同。">DBA_CAPTURE</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_XSTREAM_ADM.ENABLE_GG_XSTREAM_FOR_STREAMS</code>过程的详细信息，请<code class="codeph">DBMS_XSTREAM_ADM.ENABLE_GG_XSTREAM_FOR_STREAMS</code> <a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS70187" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="13474.partition-wise-joins.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Partition-wise operations significantly reduce response time and improve the use of both CPU and memory resources."></meta>
      <meta name="description" content="Partition-wise operations significantly reduce response time and improve the use of both CPU and memory resources."></meta>
      <title>分区 - 明智的操作</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="VLDB and Partitioning Guide"></meta>
      <meta property="og:description" content="Partition-wise operations significantly reduce response time and improve the use of both CPU and memory resources."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="VLDB and Partitioning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00"></meta>
      <meta name="dcterms.title" content="VLDB and Partitioning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96199-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="partition-pruning.html" title="Previous" type="text/html"></link>
      <link rel="next" href="index-partitioning.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="partition-pruning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="index-partitioning.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB和分区指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="partition-availability.html" property="item" typeof="WebPage"><span property="name">可用性，可管理性和性能的分区</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">分区 - 明智的操作</li>
            </ol>
            <a id="GUID-7C28CD29-5189-4A53-9691-380E13515015" name="GUID-7C28CD29-5189-4A53-9691-380E13515015"></a><a id="VLDBG00402"></a>
            
            <h2 id="VLDBG-GUID-7C28CD29-5189-4A53-9691-380E13515015" class="sect2">分区 - 明智的操作</h2>
         </header>
         <div class="ind">
            <div>
               <p>分区操作可显着缩短响应时间并改善CPU和内存资源的使用。</p>
               <p>分区连接可以通过最小化并行执行连接时并行执行服务器之间交换的数据量来减少查询响应时间。在Oracle Real Application Clusters（Oracle RAC）环境中，分区连接还可以避免或至少限制互连上的数据流量，这是实现大规模连接操作的良好可伸缩性的关键。并行分区连接通常用于高效且快速地处理大型连接。分区连接可以是完整的或部分的。Oracle数据库决定使用哪种类型的连接。</p>
               <p>除了并行分区连接之外，使用<code class="codeph">SELECT</code> <code class="codeph">DISTINCT</code>子句和SQL窗口函数的查询可以执行并行分区操作。
               </p>
               <p>讨论了以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="partition-wise-joins.html#GUID-673EFAFE-6D0C-4323-A086-67385B4DCA76" title="完全分区连接将大型连接划分为来自两个连接表的一对分区之间的较小连接。">完全分区 - 明智的联接</a></p>
                  </li>
                  <li>
                     <p><a href="partition-wise-joins.html#GUID-34563811-55B5-4ABF-8960-F225AB3CC240" title="对于部分分区连接，只需要在连接键上对一个表进行分区。">部分分区 - 明智的联接</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-7C28CD29-5189-4A53-9691-380E13515015__ORACLEDATABASEDATAWAREHOUSINGGUIDEF-FB66E477">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="partition-warehouse.html#GUID-6D8AC65A-04D7-40F8-B7F9-A7F094D3ACCB" title="分区连接通过最小化并行执行连接时并行执行服务器之间交换的数据量来减少查询响应时间。">Partition-Wise加入数据仓库，</a>以获取有关数据仓库环境中并行分区操作的信息</p>
                     </li>
                     <li>
                        <p><a href="../dwhsg/data-warehouse-optimizations-techniques.html#DWHSG-GUID-79C29A60-3477-448D-835D-2940D060D050" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关数据仓库和优化技术的信息</p>
                     </li>
                  </ul>
               </div>
            </div><a id="VLDBG1241"></a><div class="props_rev_3"><a id="GUID-673EFAFE-6D0C-4323-A086-67385B4DCA76" name="GUID-673EFAFE-6D0C-4323-A086-67385B4DCA76"></a><h3 id="VLDBG-GUID-673EFAFE-6D0C-4323-A086-67385B4DCA76" class="sect3">完全分区 - 明智的联接</h3>
               <div>
                  <p>完全分区连接将大型连接划分为来自两个连接表的一对分区之间的较小连接。</p>
                  <p>要使用完全分区连接，必须在连接键上均分两个表，或使用引用分区。</p>
                  <p>您可以使用各种分区方法来分配两个表。这些方法在以下主题中进行了高级描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17" title="您可以使用完全分区连接进行查询。">查询完全分区 - 明智的加入</a></p>
                     </li>
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73" title="单级到单级完全分区连接是最简单的方法：两个表都由连接列分区。">完全分区 - 明智联接：单级 - 单级</a></p>
                     </li>
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC" title="复合到单级完全分区连接是单级 - 单级方法的变体。">完全分区 - 明智联接：复合 - 单级</a></p>
                     </li>
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-508516A8-F72F-4F92-A377-6902F0EBBFDC" title="您可以使用复合来组合完整的分区连接，以获得额外的灵活性。">完全分区 - 明智联接：复合 - 复合</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG14028"></a><div class="props_rev_3"><a id="GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17" name="GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17"></a><h4 id="VLDBG-GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17" class="sect4">查询完全分区 - 明智的加入</h4>
                  <div>
                     <p>您可以使用完全分区连接进行查询。</p>
                     <p>考虑<code class="codeph">cust_id</code>列上sales表和customer表之间的大型连接，如<a href="partition-wise-joins.html#GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17__BABGCCHD">例3-4</a>所示。查询“查找在1999年第3季度购买超过100篇文章的所有客户的记录”是执行此类连接的SQL语句的典型示例。
                     </p>
                     <p>这种大型连接在数据仓库环境中是典型的。在这种情况下，整个客户表与四分之一的销售数据相结合。在大型数据仓库应用程序中，这可能意味着加入数百万行。在这种情况下使用的join方法显然是一个散列连接。如果两个表在<code class="codeph">cust_id</code>列上均分，则可以减少此散列连接的处理时间。此功能启用完全分区连接。
                     </p>
                     <p>当您并行执行完全分区连接时，并行性的粒度是一个分区。因此，并行度限于分区数。例如，您需要至少16个分区才能将查询的并行度设置为16。</p>
                     <div class="example" id="GUID-9575CBEC-9BC5-45E0-8F18-DE403AE1AA17__BABGCCHD">
                        <p class="titleinexample">示例3-4使用完全分区连接查询</p><pre class="oac_no_warn" dir="ltr">SELECT c.cust_last_name，COUNT（*）FROM sales s，customers c WHERE s.cust_id = c.cust_id AND s.time_id BETWEEN TO_DATE（'01 -JUL-1999'，'DD-MON-YYYY'）AND（TO_DATE（ '01 -OCT-1999'，'DD-MON-YYYY'））GROUP BY c.cust_last_name有COUNT（*）&gt; 100;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG1243"></a><a id="VLDBG1242"></a><div class="props_rev_3"><a id="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73" name="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73"></a><h4 id="VLDBG-GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73" class="sect4">完全分区 - 明智联接：单级 - 单级</h4>
                  <div>
                     <p>单级到单级完全分区连接是最简单的方法：两个表都由连接列分区。</p>
                     <p>在该示例中， <code class="codeph">customers</code>和<code class="codeph">sales</code>表都在<code class="codeph">cust_id</code>列上进行了分区。当表连接在<code class="codeph">cust_id</code> ，此分区方法启用完全分区连接，两者都表示相同的客户标识号。此方案适用于范围范围，列表列表和散列哈希分区。还支持间隔范围和间隔间隔完全分区连接，并且可以与范围范围进行比较。
                     </p>
                     <p>在串行中，此连接在成对的匹配散列分区之间执行，一次一个。当一个分区对已加入时，另一个分区对的连接开始。处理完所有分区对后，连接完成。为确保良好的工作负载分配，您应该拥有比请求的并行度更多的分区，或者使用与所请求的并行度一样多的分区的equisize分区。在唯一或几乎唯一的列上使用散列分区，分区数等于2的幂，是创建均衡分区的好方法。</p>
                     <div class="infoboxnote" id="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73__GUID-7284F070-1DEB-403C-8FBA-FE68EBDAA2D6">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>一对匹配的散列分区被定义为每个表具有相同分区号的一个分区。例如，通过基于散列分区的完全分区连接，数据库将<code class="codeph">sales</code>的分区0与<code class="codeph">customers</code>分区0， <code class="codeph">sales</code>的分区1与<code class="codeph">customers</code>分区1连接，依此类推。
                              </p>
                           </li>
                           <li>
                              <p>引用分区是一种对两个表进行共同分区的简单方法，这样如果表在语句中连接，优化器始终可以考虑完全分区连接。</p>
                           </li>
                        </ul>
                     </div>
                     <p>并行执行完全分区连接是串行执行的直接并行化。分区对不是一次加入一个分区对，而是由查询服务器并行连接。<a href="partition-wise-joins.html#GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73__I1006910">图3-1</a>说明了完全分区连接的并行执行。
                     </p>
                     <div class="figure" id="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73__I1006910">
                        <p class="titleinfigure">图3-1完全分区连接的并行执行</p><img src="img/vldbg017.gif" width="490" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/vldbg017.html"><br><a href="img_text/vldbg017.html">“图3-1并行执行完全分区连接”的描述</a></div>
                     <!-- class="figure" -->
                     <p>以下示例显示了<code class="codeph">sales</code>和<code class="codeph">customers</code>的执行计划，这些计划由具有相同分区数的哈希共同分区。该计划显示了完整的分区连接。
                     </p><pre class="oac_no_warn" dir="ltr">解释SELECT c.cust_last_name的计划，COUNT（*）FROM sales s，customers c WHERE s.cust_id = c.cust_id AND s.time_id BETWEEN TO_DATE（'01 -JUL-1999'，'DD-MON-YYYY'）AND （TO_DATE（'01 -OCT-1999'，'DD-MON-YYYY'））GROUP BY c.cust_last_name HAVING COUNT（*）&gt; 100; -------------------------------------------------- -------------------------------------------------- --------- | Id |操作|名称|行|字节| Pstart时| PSTOP | TQ | IN-OUT | PQ Distrib | -------------------------------------------------- -------------------------------------------------- --------- | 0 |选择声明| | 46 | 1196 | | | | | | | 1 | PX COORDINATOR | | | | | | | | | | 2 | PX SEND QC（RANDOM）| ：TQ10001 | 46 | 1196 | | | Q1,01 | P-&gt; S | QC（兰德）| | * 3 |过滤器| | | | | | Q1,01 | PCWC | | | 4 | HASH GROUP BY | | 46 | 1196 | | | Q1,01 | PCWP | | | 5 | PX RECEIVE | | 46 | 1196 | | | Q1,01 | PCWP | | | 6 | PX SEND HASH | ：TQ10000 | 46 | 1196 | | | Q1,00 | P-&gt; P |哈希| | 7 | HASH GROUP BY | | 46 | 1196 | | | Q1,00 | PCWP | | | 8 | PX PARTITION HASH ALL | | 59158 | 1502K | 1 | 16 | Q1,00 | PCWC | | | * 9 | HASH JOIN | | 59158 | 1502K | | | Q1,00 | PCWP | | | 10 |表访问完全|客户| 55500 | 704K | 1 | 16 | Q1,00 | PCWP | | | * 11 |表访问完全|销售| 59158 | 751K | 1 | 16 | Q1,00 | PCWP | | -------------------------------------------------- -------------------------------------------------- ---------谓词信息（由操作ID标识）：-------------------------------- ------------------- 3  - 过滤器（COUNT（SYS_OP_CSR（SYS_OP_MSR（COUNT（*）），0））&gt; 100）9  - 访问（“S”。“ CUST_ID“=”C“。”CUST_ID“）11  - 过滤器（”S“。”TIME_ID“&lt;= TO_DATE（'1999-10-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss '）和“S”。“TIME_ID”&gt; = TO_DATE（'1999-07-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'））</pre><div class="infoboxnote" id="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73__GUID-6130D6F1-F8DA-4DD7-9887-5BD409C849C3">
                        <p class="notep1">注意：</p>
                        <p>在此示例中，从计划表输出中删除了<code class="codeph">Cost (%CPU)</code>和<code class="codeph">Time</code>列。
                        </p>
                     </div>
                     <p>在大规模并行处理（MPP）平台上运行的Oracle RAC环境中，在节点上放置分区对于实现良好的可伸缩性至关重要。为避免远程I / O，两个匹配的分区应与同一节点具有亲缘关系。分区对应分布在所有节点上，以避免瓶颈并使用系统上可用的所有CPU资源。</p>
                     <p>当节点数量多于节点时，节点可以承载多对。例如，对于8节点系统和16个分区对，每个节点接收两对。</p>
                     <div class="infoboxnotealso" id="GUID-36B5A01D-849E-44A3-B6D7-2B82DD23DB73__GUID-680B2693-0F37-43AF-8C28-02FFD4AC15AA">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据关联的更多信息<a href="../racad/introduction-to-oracle-rac.html#RACAD1111" target="_blank"><span><cite>，请参见“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="VLDBG1245"></a><a id="VLDBG1244"></a><div class="props_rev_3"><a id="GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC" name="GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC"></a><h4 id="VLDBG-GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC" class="sect4">完全分区 - 明智联接：复合 - 单级</h4>
                  <div>
                     <p>复合到单级完全分区连接是单级 - 单级方法的变体。</p>
                     <p>在此方案中，一个表（通常是较大的表）在两个维度上进行复合分区，使用连接列作为子分区键。在该示例中， <code class="codeph">sales</code>表是存储历史数据的表的典型示例。使用范围分区是存储历史信息的表的逻辑初始分区方法。
                     </p>
                     <p>例如，假设您希望按照<code class="codeph">time_id</code>列的范围将<code class="codeph">sales</code>表分区为八个分区。还假设您有两年时间，每个分区代表四分之一。您可以使用复合分区来启用完全分区连接，同时保留<code class="codeph">time_id</code>上的分区，而不是使用范围分区。例如，在<code class="codeph">time_id</code>上按范围对<code class="codeph">sales</code>表进行分区，然后使用每个分区的16 <code class="codeph">time_id</code>分区在<code class="codeph">cust_id</code>上通过散列对每个分区进行子分区，总共128个子分区。<code class="codeph">customers</code>表可以使用具有16个分区的散列分区。
                     </p>
                     <p>当您使用刚刚描述的方法时，完全分区连接的工作方式与单级 - 单级哈希 - 哈希方法创建的连接方式类似。连接仍然分为两个表中的散列分区对之间的16个较小连接。不同之处在于，现在<code class="codeph">sales</code>表中的每个散列分区都由一组8个子分区组成，每个分区都有一个子分区。
                     </p>
                     <p><a href="partition-wise-joins.html#GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__I1006952">图3-2</a>说明了如何在<code class="codeph">sales</code>表中形成散列分区。每个单元代表一个子分区。每行对应一个范围分区，总共8个范围分区。每个范围分区有16个子分区。每列对应一个散列分区，总共16个散列分区;每个散列分区有8个子分区。仅当所有分区具有相同数量的子分区（在本例中为16）时，才能定义散列分区。
                     </p>
                     <p>散列分区隐含在组合表中。但是，Oracle不会将它们记录在数据字典中，并且您无法使用DDL命令对它们进行操作，因为您可以对范围进行排序或列出分区。</p>
                     <div class="figure" id="GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__I1006952">
                        <p class="titleinfigure">图3-2复合表的范围和哈希分区</p><img src="img/vldbg010.gif" width="496" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/vldbg010.html"><br><a href="img_text/vldbg010.html">“图3-2复合表的范围和哈希分区”的描述</a></div>
                     <!-- class="figure" -->
                     <p>以下示例显示了完整分区连接的执行计划，其中<code class="codeph">sales</code>表范围由<code class="codeph">time_id</code>分区，并在<code class="codeph">cust_id</code>上按哈希进行子分区。
                     </p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- -------------------------------------------- | Id |操作|名称| Pstart时| Pstop | IN-OUT | PQ Distrib | -------------------------------------------------- -------------------------------------------- | 0 |选择声明| | | | | | | 1 | PX COORDINATOR | | | | | | | 2 | PX SEND QC（RANDOM）| ：TQ10001 | | | P-&gt; S | QC（兰德）| | * 3 |过滤器| | | | PCWC | | | 4 | HASH GROUP BY | | | | PCWP | | | 5 | PX RECEIVE | | | | PCWP | | | 6 | PX SEND HASH | ：TQ10000 | | | P-&gt; P |哈希| | 7 | HASH GROUP BY | | | | PCWP | | | 8 | PX PARTITION HASH ALL | | 1 | 16 | PCWC | | | * 9 | HASH JOIN | | | | PCWP | | | 10 |表访问完全|客户| 1 | 16 | PCWP | | | 11 | PX PARTITION RANGE ITERATOR | | 8 | 9 | PCWC | | | * 12 |表访问完全|销售| 113 | 144 | PCWP | | -------------------------------------------------- --------------------------------------------谓词信息（由操作识别ID）：  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ---- 3  - 过滤器（COUNT（SYS_OP_CSR（SYS_OP_MSR（COUNT（*）），0））&gt; 100）9  - 访问（“S”。“CUST_ID”=“C”。“CUST_ID”）12  - 过滤器（ “S”。“TIME_ID”&lt;= TO_DATE（'1999-10-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'）和“S”。“TIME_ID”&gt; = TO_DATE（' 1999-07-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'））</pre><div class="infoboxnote" id="GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__GUID-B1BC6179-2EE1-4578-9383-9FB681564254">
                        <p class="notep1">注意：</p>
                        <p>在此示例中，从计划表输出中删除了<code class="codeph">Rows</code> ， <code class="codeph">Cost (%CPU)</code> ， <code class="codeph">Time</code>和<code class="codeph">TQ</code>列。
                        </p>
                     </div>
                     <p>复合 - 单级分区是有效的，因为它使您能够将一个维度上的修剪与另一个维度上的完全分区连接组合在一起。在前面的示例查询中，通过仅扫描对应于1999的Q3的子分区（换句话说， <a href="partition-wise-joins.html#GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__I1006952">图3-2中的</a>行号3）来实现修剪。然后，Oracle使用完整的分区连接将这些子分区与customer表连接起来。
                     </p>
                     <p>单级 - 单级分区连接的所有特征都适用于复合 - 单级分区连接。特别是，对于这个例子，这两点对于两种方法都是通用的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>此完全分区连接的并行度不能超过16。尽管<code class="codeph">sales</code>表有128个子分区，但它只有16个<span class="italic">散列</span> <span class="italic">分区</span> 。
                           </p>
                        </li>
                        <li>
                           <p>分区现在是子分区的集合。例如，在<a href="partition-wise-joins.html#GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__I1006952">图3-2中</a> ，存储由8个带圆圈的子分区显示的<code class="codeph">sales</code>表的散列分区9，与<code class="codeph">customers</code>表的散列分区9在同一节点上。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG1246"></a><div class="props_rev_3"><a id="GUID-508516A8-F72F-4F92-A377-6902F0EBBFDC" name="GUID-508516A8-F72F-4F92-A377-6902F0EBBFDC"></a><h4 id="VLDBG-GUID-508516A8-F72F-4F92-A377-6902F0EBBFDC" class="sect4">完全分区 - 明智联接：复合 - 复合</h4>
                  <div>
                     <p>您可以使用复合来组合完整的分区连接，以获得额外的灵活性。</p>
                     <p>如果需要，您还可以通过复合方法对<code class="codeph">customers</code>表进行分区。例如，您可以在邮政编码列上按范围对其进行分区，以启用基于邮政编码的修剪。然后使用相同数量的分区（16）在<code class="codeph">cust_id</code>上通过散列对其进行子分区，以在散列维度上启用分区连接。
                     </p>
                     <p>您可以在分区和子分区的所有组合上获得完全分区连接：partition  -  partition，partition  -  subpartition，subpartition  -  partition和subpartition  -  subpartition。</p>
                  </div>
               </div>
            </div><a id="VLDBG1247"></a><div class="props_rev_3"><a id="GUID-34563811-55B5-4ABF-8960-F225AB3CC240" name="GUID-34563811-55B5-4ABF-8960-F225AB3CC240"></a><h3 id="VLDBG-GUID-34563811-55B5-4ABF-8960-F225AB3CC240" class="sect3">部分分区 - 明智的联接</h3>
               <div>
                  <p>对于部分分区连接，只需要在连接键上对一个表进行分区。</p>
                  <p>Oracle数据库只能并行执行部分分区连接。与完全分区连接不同，部分分区连接要求您只对连接键上的一个表进行分区，而不是两个表。分区表称为引用表。另一个表可能已分区，也可能未分区。部分分区连接比完全分区连接更常见。</p>
                  <p>为了执行部分分区连接，数据库根据引用表的分区动态地重新分配另一个表。在重新分区另一个表之后，执行类似于完全分区连接。</p>
                  <p>部分分区连接在非分区表中的连接的性能优势是在连接操作期间不移动引用表。非分区表之间的并行连接要求在连接键上重新分配两个输入表。此重新分发操作涉及在并行执行服务器之间交换行。这是一项CPU密集型操作，可能导致Oracle RAC环境中的过多互连流量。在连接键（外键或主键）上对大表进行分区会在每次将表连接到该键时阻止此重新分发。当然，如果选择外键来对表进行分区（这是最常见的方案），则选择许多查询中涉及的外键。</p>
                  <p>要说明部分分区连接，请考虑以前的<code class="codeph">sales/customers</code>示例。假设<code class="codeph">customers</code>未分区或在<code class="codeph">cust_id</code>以外的列上进行分区。因为<code class="codeph">sales</code>通常与<code class="codeph">cust_id</code>上的<code class="codeph">customers</code>在一起，并且因为这种联接支配着我们的应用程序工作负载，所以在<code class="codeph">cust_id</code>进行分区<code class="codeph">sales</code> ，以便在每次加入<code class="codeph">customers</code>和<code class="codeph">sales</code>时启用部分分区联接。与完全分区连接一样，您有几种选择：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-8D44D783-651D-41BA-87B4-2021676C7F3F" title="单级部分分区连接是启用部分分区连接的最简单方法。">部分分区 - 明智联接：单级分区</a></p>
                     </li>
                     <li>
                        <p><a href="partition-wise-joins.html#GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA" title="您可以使用复合部分分区连接。">部分分区 - 明智联接：复合</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1249"></a><a id="VLDBG1248"></a><div class="props_rev_3"><a id="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F" name="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F"></a><h4 id="VLDBG-GUID-8D44D783-651D-41BA-87B4-2021676C7F3F" class="sect4">部分分区 - 明智联接：单级分区</h4>
                  <div>
                     <p>单级部分分区连接是启用部分分区连接的最简单方法。</p>
                     <p>例如，您可以启用单级部分分区连接，以便通过<code class="codeph">cust_id</code>上的哈希对<code class="codeph">sales</code>进行分区。分区数决定了最大并行度，因为分区是部分分区连接操作的最小并行度粒度。
                     </p>
                     <p><a href="partition-wise-joins.html#GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__I1006993">图3-3</a>说明了部分分区连接的并行执行，它假定并行度和<code class="codeph">sales</code>分区数均为16。执行涉及两组查询服务器：一组，在<a href="partition-wise-joins.html#GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__I1006993">图3-3中</a>标记为<span class="italic">set 1</span> ，并行扫描<code class="codeph">customers</code>表。扫描操作的并行性颗粒是一系列块。
                     </p>
                     <p>来自第一组选择的<code class="codeph">customers</code>行（在本例中为所有行）通过散列<code class="codeph">cust_id</code>重新分发到第二组查询服务器。例如，可以在<code class="codeph">sales</code>分区<code class="codeph">P1</code>中具有匹配行的<code class="codeph">customers</code>中的所有行被发送到第二组中的查询服务器1。第二组查询服务器接收的行与<code class="codeph">sales</code>相应分区的行连接。第二组中的查询服务器编号1加入它通过<code class="codeph">sales</code>分区<code class="codeph">P1</code>接收的所有<code class="codeph">customers</code>行。
                     </p>
                     <div class="figure" id="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__I1006993">
                        <p class="titleinfigure">图3-3部分分区 - 明智的加入</p><img src="img/vldbg011.gif" width="490" alt="下面是图3-3的描述" title="下面是图3-3的描述" longdesc="img_text/vldbg011.html"><br><a href="img_text/vldbg011.html">“图3-3部分分区 - 明智加入”的描述</a></div>
                     <!-- class="figure" -->
                     <p>下面的示例显示了<code class="codeph">sales</code>和<code class="codeph">customers</code>之间的部分分区连接的执行计划。
                     </p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- --------------------------------------------- | Id |操作|名称| Pstart时| Pstop | IN-OUT | PQ Distrib | -------------------------------------------------- --------------------------------------------- | 0 |选择声明| | | | | | | 1 | PX COORDINATOR | | | | | | | 2 | PX SEND QC（RANDOM）| ：TQ10002 | | | P-&gt; S | QC（兰德）| | * 3 |过滤器| | | | PCWC | | | 4 | HASH GROUP BY | | | | PCWP | | | 5 | PX RECEIVE | | | | PCWP | | | 6 | PX SEND HASH | ：TQ10001 | | | P-&gt; P |哈希| | 7 | HASH GROUP BY | | | | PCWP | | | * 8 | HASH JOIN | | | | PCWP | | | 9 | PART JOIN FILTER CREATE | ：BF0000 | | | PCWP | | | 10 | PX RECEIVE | | | | PCWP | | | 11 | PX SEND PARTITION（KEY）| ：TQ10000 | | | P-&gt; P | PART（KEY）| | 12 | PX BLOCK ITERATOR | | | | PCWC | | | 13 |表访问完全|客户| | | PCWP | | | 14 | PX PARTITION HASH JOIN-FILTER | |：BF0000 |：BF0000 | PCWC | | | * 15 |表访问完全|销售|：BF0000 |：BF0000 | PCWP | | -------------------------------------------------- ---------------------------------------------谓词信息（由操作ID）：---------------------------------------------- ----- 3  - 过滤器（COUNT（SYS_OP_CSR（SYS_OP_MSR（COUNT（*）），0））&gt; 100）8  - 访问（“S”。“CUST_ID”=“C”。“CUST_ID”）15  - 过滤器（“S”。“TIME_ID”&lt;= TO_DATE（'1999-10-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'）和“S”。“TIME_ID”&gt; = TO_DATE（ '1999-07-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'））</pre><p>此查询并行运行，如计划中所示，因为存在<code class="codeph">PX</code>行源。一个表是分区的，这是<code class="codeph">SALES</code>表。您可以确定这一点，因为<code class="codeph">PX PARTITION HASH</code>行源包含一个非分区表<code class="codeph">CUSTOMERS</code> ，它通过<code class="codeph">PX SEND PARTITION</code>发给执行连接的另一个从属集。
                     </p>
                     <div class="infoboxnote" id="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__GUID-A52CD2C3-EF62-45C2-9A09-D4F3F5ED0CFB">
                        <p class="notep1">注意：</p>
                        <p>在此示例中，从计划表输出中删除了<code class="codeph">Rows</code> ， <code class="codeph">Cost (%CPU)</code> ， <code class="codeph">Time</code>和<code class="codeph">TQ</code>列。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__GUID-025AA221-0018-4857-8959-FA59D6181778">
                        <p class="notep1">注意：</p>
                        <p>此讨论基于散列分区，但它也适用于范围，列表和间隔部分分区连接。</p>
                     </div>
                     <p>完全分区连接的注意事项也适用于部分分区连接：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>并行度不需要等于分区数。在<a href="partition-wise-joins.html#GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__I1006993">图3-3中</a> ，查询使用两组16个查询服务器执行。在这种情况下，Oracle为第二组的每个查询服务器分配1个分区。同样，分区的数量应始终是并行度的倍数。
                           </p>
                        </li>
                        <li>
                           <p>在MPP上的Oracle RAC环境中， <code class="codeph">sales</code>每个哈希分区最好只与一个节点具有关联性，以避免远程I / O.此外，在所有节点上分布分区以避免瓶颈并使用系统上可用的所有CPU资源。当节点多于节点时，节点可以托管多个分区。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8D44D783-651D-41BA-87B4-2021676C7F3F__GUID-697A500C-D16D-4C74-96FC-2D89CFA6E634">
                              <p class="notep1">也可以看看：</p>
                              <p>有关数据关联的更多信息<a href="../racad/introduction-to-oracle-rac.html#RACAD1111" target="_blank"><span><cite>，请参见“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG1250"></a><div class="props_rev_3"><a id="GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA" name="GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA"></a><h4 id="VLDBG-GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA" class="sect4">部分分区 - 明智联接：复合</h4>
                  <div>
                     <p>您可以使用复合部分分区连接。</p>
                     <p>与完全分区连接一样， <code class="codeph">sales</code>表的主要分区方法是在列<code class="codeph">time_id</code>上使用range方法。这是因为<code class="codeph">sales</code>是存储历史数据的表的典型示例。要在保留此范围分区的同时启用部分分区连接，请使用每个分区的16个子分区通过列<code class="codeph">cust_id</code>上的哈希进行子分区<code class="codeph">sales</code> 。如果查询加入<code class="codeph">customers</code>和<code class="codeph">sales</code>并且查询在<code class="codeph">time_id</code>上有选择谓词，则可以使用修剪和部分分区连接。
                     </p>
                     <p>当<code class="codeph">sales</code>表是复合分区时，部分分区连接的并行性粒度是散列分区而不是子分区。有关复合表中散列分区的说明，请参阅<a href="partition-wise-joins.html#GUID-704577A7-20B9-47F5-8BFB-A9CA3BA6D7DC__I1006952">图3-2</a> 。同样，散列分区的数量应该是并行度的倍数。此外，在MPP系统上，确保每个散列分区与单个节点具有亲缘关系。在前面的示例中，组成散列分区的八个子分区应该与同一节点具有亲缘关系。
                     </p>
                     <div class="infoboxnote" id="GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA__GUID-15D8F2BA-1B6F-49E1-8FE1-4A2ABA36B3AF">
                        <p class="notep1">注意：</p>
                        <p>此讨论基于范围哈希，但它也适用于复合部分分区连接的所有其他组合。</p>
                     </div>
                     <p>以下示例显示了<code class="codeph">sales</code>和<code class="codeph">customers</code>之间的查询执行计划，其中销售范围由<code class="codeph">time_id</code>分区，并通过<code class="codeph">cust_id</code>上的哈希进行子分区。
                     </p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- ------------------------------------------- | Id |操作|名称| Pstart时| Pstop | IN-OUT | PQ Distrib | -------------------------------------------------- ------------------------------------------- | 0 |选择声明| | | | | | | 1 | PX COORDINATOR | | | | | | | 2 | PX SEND QC（RANDOM）| ：TQ10002 | | | P-&gt; S | QC（兰德）| | * 3 |过滤器| | | | PCWC | | | 4 | HASH GROUP BY | | | | PCWP | | | 5 | PX RECEIVE | | | | PCWP | | | 6 | PX SEND HASH | ：TQ10001 | | | P-&gt; P |哈希| | 7 | HASH GROUP BY | | | | PCWP | | | * 8 | HASH JOIN | | | | PCWP | | | 9 | PART JOIN FILTER CREATE | ：BF0000 | | | PCWP | | | 10 | PX RECEIVE | | | | PCWP | | | 11 | PX SEND PARTITION（KEY）| ：TQ10000 | | | P-&gt; P | PART（KEY）| | 12 | PX BLOCK ITERATOR | | | | PCWC | | | 13 |表访问完全|客户| | | PCWP | | | 14 | PX PARTITION RANGE ITERATOR | | 8 | 9 | PCWC | | | 15 | PX PARTITION HASH ALL | | 1 | 16 | PCWC | | | * 16 |表访问完全|销售| 113 | 144 | PCWP | | -------------------------------------------------- -------------------------------------------谓词信息（由操作ID标识）：------------------------------------------------ --- 3  - 过滤器（COUNT（SYS_OP_CSR（SYS_OP_MSR（COUNT（*）），0））&gt; 100）8  - 访问（“S”。“CUST_ID”=“C”。“CUST_ID”）16  - 过滤器（“ S“。”TIME_ID“&lt;= TO_DATE（'1999-10-01 00:00:00'，'syyyy-mm-dd hh24：mi：ss'）和”S“。”TIME_ID“&gt; = TO_DATE（'1999 -07-01 00：00：00'，'syyyy-mm-dd hh24：mi：ss'））</pre><div class="infoboxnote" id="GUID-5B63C8B9-2CF8-4411-AA07-5979AD7104BA__GUID-6FD7A0E9-45B0-411C-8F98-7126D11E36A5">
                        <p class="notep1">注意：</p>
                        <p>在此示例中，从计划表输出中删除了<code class="codeph">Rows</code> ， <code class="codeph">Cost (%CPU)</code> ， <code class="codeph">Time</code>和<code class="codeph">TQ</code>列。
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06125.adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>在Windows系统上从节点添加和删除Oracle RAC</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00"></meta>
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95728-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html" title="Previous" type="text/html"></link>
      <link rel="next" href="design-and-deployment-techniques.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="design-and-deployment-techniques.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters管理和部署指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Windows系统上从节点添加和删除Oracle RAC</li>
            </ol>
            <a id="GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB" name="GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB"></a><a id="RACAD067"></a>
            
            <h2 id="RACAD-GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB" class="sect2"><span class="enumeration_chapter">12</span>在Windows系统上从节点添加和删除Oracle RAC</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何将现有Oracle Real Application Clusters（Oracle RAC）主目录扩展到群集中的其他节点和实例，以及如何从群集中的节点和实例中删除Oracle RAC。本章提供Windows系统的说明。</p>
               <div class="infoboxnote" id="GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB__GUID-21F62D44-92BA-495E-B617-E832D775A83D">
                  <p class="notep1">注意：</p>
                  <p>在本章中， <code class="codeph"><span class="variable" translate="no">Grid_home</span></code>的条目引用Oracle Grid Infrastructure主目录的完整路径名， <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code>的条目引用Oracle RAC的Oracle主目录的环境变量的替代。</p>
               </div>
               <p>如果您的目标是克隆现有Oracle RAC主目录以在群集中创建多个新的Oracle RAC安装，请使用<span class="q">“在新群集中克隆Oracle RAC到节点”</span>中描述的克隆过程。
               </p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE" title="您可以使用Oracle Enterprise Manager或DBCA将Oracle RAC数据库实例添加到目标节点。将实例添加到已扩展Oracle Clusterware主目录和Oracle数据库主目录的节点。">在安装了Oracle Clusterware的情况下将Oracle RAC添加到节点</a></p>
                  </li>
                  <li>
                     <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-7CCBB478-056F-4701-864F-2B18D5748E61" title="对于策略管理和管理员管理的数据库，删除实例的过程是不同的。此过程从要从群集中删除的节点中删除Oracle RAC软件，并更新其余节点上的清单。">从群集节点删除Oracle RAC</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB__GUID-643E2595-5C87-4E7E-8836-F1119767E90C">
                  <p class="notep1">注意：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在通过运行<code class="codeph">ocrconfig -showbackup</code>命令添加或删除Oracle RAC之前，请确保您具有Oracle Cluster Registry（OCR）的当前备份。
                        </p>
                     </li>
                     <li>
                        <p>对于所有添加节点和删除节点过程，临时目录（例如<code class="codeph">%TEMP%</code>或<code class="codeph">C:\Temp</code> <span class="italic">不应是</span>共享目录。如果共享临时目录，则将临时环境变量（例如<code class="codeph">%TEMP%</code> ）设置为本地节点上的某个位置。此外，使用所有节点上存在的目录路径。
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="cloning-oracle-rac-to-nodes-in-a-new-cluster.html#GUID-8444F1C2-5F67-46B4-ABDE-18D3AFF42D55" title="本章介绍如何将Linux和UNIX系统上的Oracle Real Application Clusters（Oracle RAC）数据库主目录克隆到新群集中的节点。">将Oracle RAC克隆到新群集中的节点</a></li>
                  </ul>
               </div>
            </div><a id="RACAD8196"></a><div class="sect2"><a id="GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE" name="GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE"></a><h3 id="RACAD-GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE" class="sect3">在安装了Oracle Clusterware的情况下将Oracle RAC添加到节点</h3>
               <div>
                  <p>在开始此过程之前，请确保现有节点具有<code class="codeph"><span class="variable" translate="no">Grid_home</span></code>的正确路径，并且<code class="codeph"><span class="variable" translate="no">Oracle_home</span></code>环境变量已正确设置。
                  </p>
                  <p>要将Oracle RAC数据库实例添加到已安装Oracle Clusterware的节点，必须将群集中现有节点（此过程中的<code class="codeph">node1</code> ）上的Oracle RAC主目录扩展到目标节点。
                  </p>
                  <ol>
                     <li>
                        <p>导航到<code class="codeph">node1</code>上的<code class="codeph"><span class="variable" translate="no">Oracle_home</span> \addnode</code>目录，并使用以下语法运行<code class="codeph">addnode.bat</code>脚本，其中<code class="codeph">node2</code>是要添加的节点的名称：</p><pre class="pre codeblock"><code>addnode.bat“CLUSTER_NEW_NODES = {node2}”</code></pre><p>要以静默方式运行此命令：</p><pre class="pre codeblock"><code>addNode.bat -silent“CLUSTER_NEW_NODES = {node2}”</code></pre><p>对于您使用的Oracle主目录，如果在安装Oracle数据库软件时指定了Oracle主目录用户，则OUI需要Oracle主目录用户的密码。OUI检查用户的钱包（存储在OCR中）并从那里提取密码。如果钱包中未包含用户信息，则除非在命令行上指定<code class="codeph">-promptPasswd</code>标志，否则<code class="codeph">addnode.bat</code>脚本将生成错误。
                        </p>
                     </li>
                     <li>
                        <p>如果将策略管理的数据库存储在Oracle自动存储管理（Oracle ASM）上，则会启用<a href="glossary.html#GUID-58E0F312-5CEC-4A57-AD7B-1058EFC3B213"><span class="xrefglossterm">Oracle Managed Files</span></a> ，如果<code class="codeph">node2</code>的服务器池中有空间，则<code class="codeph">crsd</code>会将Oracle RAC数据库实例添加到<code class="codeph">node2</code>并且不会执行进一步的操作有必要的。如果未启用Oracle Managed Files，则必须手动添加撤消和重做日志。
                        </p>
                        <p>如果服务器池中没有空间，则<code class="codeph">node2</code>将移动到空闲服务器池中。使用<code class="codeph">srvctl modify srvpool</code>命令增加服务器池的基数以容纳<code class="codeph">node2</code> ，之后<code class="codeph">node2</code>移出Free服务器池并进入修改后的服务器池， <code class="codeph">crsd</code>将Oracle RAC数据库实例添加到<code class="codeph">node2</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果您有管理员管理的数据库，则在<code class="codeph">node2</code>上添加新实例</p>
                     </li>
                  </ol>
                  <p>如果您具有使用Oracle自动存储管理群集文件系统（Oracle ACFS）共享的共享Oracle主目录，请执行以下操作以将Oracle数据库主目录扩展到<code class="codeph">node2</code> ：</p>
                  <ol>
                     <li>
                        <p>通过从<code class="codeph"><span class="variable" translate="no">Grid_home</span> \bin</code>目录以<code class="codeph">root</code>身份运行以下命令，在新节点上启动Oracle ACFS资源：</p><pre class="pre codeblock"><code>$ srvctl start filesystem -device <span class="variable" translate="no">volume_device_name</span> [-node <span class="variable" translate="no">node_name</span> ]</code></pre><div class="infoboxnote" id="GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE__GUID-C1C5E1B8-0C7A-480C-9387-76C85AB5CBDD">
                           <p class="notep1">注意：</p>
                           <p>确保Oracle ACFS资源（包括Oracle主服务器所在的Oracle ACFS注册表资源和Oracle ACFS文件系统资源）在新添加的节点上处于联机状态。</p>
                        </div>
                     </li>
                     <li>
                        <p>从要添加的节点上的<code class="codeph"><span class="variable" translate="no">Oracle_home</span> \oui\bin</code>目录中安装Oracle RAC的用户运行以下命令，以添加Oracle RAC数据库主目录：</p><pre class="pre codeblock"><code>setup.exe -attachHome ORACLE_HOME =“ORACLE_HOME”LOCAL_NODE =“node2”ORACLE_HOME_NAME =“ <span class="variable" translate="no">home_name</span> ”-cfs</code></pre></li>
                     <li>
                        <p>导航到<code class="codeph">node1</code>上的<code class="codeph"><span class="variable" translate="no">Oracle_home</span> \addnode</code>目录，并使用以下语法以安装Oracle RAC的用户身份运行<code class="codeph">addnode.bat</code>脚本：</p><pre class="pre codeblock"><code>addnode.bat -noCopy“CLUSTER_NEW_NODES = {node2}”</code></pre><div class="infoboxnote" id="GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE__GUID-667CB644-9F0F-43E6-8816-6DCADFB417A0">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">-noCopy</code>选项，因为目标节点上的Oracle主目录已经完全填充了软件。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <p>如果在<span class="italic">不是</span> Oracle ACFS的共享文件系统上具有共享Oracle主目录，则必须首先在目标节点上为Oracle RAC数据库主目录创建装入点，装载并附加Oracle RAC数据库主目录，然后更新Oracle库存，如下：</p>
                  <ol>
                     <li>
                        <p>在群集中的现有节点上运行<code class="codeph">srvctl config database -db <span class="variable" translate="no">db_name</span></code>命令以获取装入点信息。
                        </p>
                     </li>
                     <li>
                        <p>装载承载Oracle RAC数据库主目录的文件系统。</p>
                     </li>
                     <li>
                        <p>从要添加的节点上的<code class="codeph"><span class="variable" translate="no">Oracle_home</span> \oui\bin</code>目录中安装Oracle RAC的用户运行以下命令，以添加Oracle RAC数据库主目录：</p><pre class="pre codeblock"><code>setup.exe -attachHome ORACLE_HOME =“ORACLE_HOME”“CLUSTER_NODES = <span class="variable" translate="no">local_node_name</span> }”LOCAL_NODE =“ <span class="variable" translate="no">node_name</span> ”ORACLE_HOME_NAME =“ <span class="variable" translate="no">home_name</span> ”</code></pre></li>
                     <li>
                        <p>以安装Oracle RAC的用户身份更新Oracle Inventory，如下所示：</p><pre class="pre codeblock"><code>setup.exe -updateNodeList ORACLE_HOME = <span class="variable" translate="no">mount_point_path</span> “CLUSTER_NODES = { <span class="variable" translate="no">node_list</span> }”</code></pre><p>在上面的命令中， <code class="codeph"><span class="variable" translate="no">node_list</span></code>是指安装了Oracle RAC数据库主目录的所有节点的列表，包括要添加的节点。
                        </p>
                     </li>
                  </ol>
                  <div class="infoboxnote" id="GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE__GUID-6BEE8574-C7E7-418A-9315-4CFADE640AAE">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议您在完成节点添加过程后备份表决磁盘和Oracle Cluster Registry（OCR）文件。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../cwadd/adding-and-deleting-cluster-nodes.html#CWADD-GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                        <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-53F37237-C0D8-4EEF-B845-EDFD56B9715A" title="您可以使用Oracle Enterprise Manager或DBCA将Oracle RAC数据库实例添加到目标节点。">将管理员托管的Oracle RAC数据库实例添加到目标节点</a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8197"></a><div class="sect3"><a id="GUID-53F37237-C0D8-4EEF-B845-EDFD56B9715A" name="GUID-53F37237-C0D8-4EEF-B845-EDFD56B9715A"></a><h4 id="RACAD-GUID-53F37237-C0D8-4EEF-B845-EDFD56B9715A" class="sect4">将管理员托管的Oracle RAC数据库实例添加到目标节点</h4>
                  <div>
                     <p>您可以使用Oracle Enterprise Manager或DBCA将Oracle RAC数据库实例添加到目标节点。</p>
                     <p>本节介绍如何使用DBCA添加Oracle RAC数据库实例。</p>
                     <p>这些工具可指导您完成以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在每个目标节点上创建新的数据库实例</p>
                        </li>
                        <li>
                           <p>创建和配置高可用性组件</p>
                        </li>
                        <li>
                           <p>从Oracle主目录为非默认侦听器创建Oracle Net配置</p>
                        </li>
                        <li>
                           <p>启动新实例</p>
                        </li>
                        <li>
                           <p>如果在“服务配置”页面上输入了服务信息，则创建和启动服务</p>
                        </li>
                     </ul>
                     <p>将实例添加到目标节点后，您应该执行任何必要的服务配置过程。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="工作负载管理包括负载平衡，为Oracle Real Application Clusters（Oracle RAC），分布式事务处理和服务启用客户端。">使用动态数据库服务管理工作负载</a></li>
                        </ul>
                     </div>
                  </div><a id="RACAD8198"></a><div class="sect4"><a id="GUID-1C12BA84-EE2C-4AAC-BFB1-BF95E1DAFA89" name="GUID-1C12BA84-EE2C-4AAC-BFB1-BF95E1DAFA89"></a><h5 id="RACAD-GUID-1C12BA84-EE2C-4AAC-BFB1-BF95E1DAFA89" class="sect5">在交互模式下使用DBCA将数据库实例添加到目标节点</h5>
                     <div>
                        <p>要在交互模式下使用DBCA将数据库实例添加到目标节点，请执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>确保现有节点正确设置了Oracle主环境变量。</p>
                           </li>
                           <li>
                              <p>通过在系统提示符下从现有节点上的<code class="codeph"><span class="variable" translate="no">Oracle_home</span> \bin</code>目录输入<code class="codeph">dbca</code>启动DBCA。
                              </p>
                              <p>DBCA在运行时执行某些CVU检查。但是，您也可以从命令行运行CVU以执行各种验证。</p>
                           </li>
                           <li>
                              <p>在Database Operations页面上，选择<span class="bold">Instance Management</span> ，单击<span class="bold">Next</span> ，DBCA将显示Instance Management页面。
                              </p>
                           </li>
                           <li>
                              <p>选择<span class="bold">Add Instance</span> ，然后单击<span class="bold">Next</span> 。DBCA显示“群集数据库列表”页面，其中显示数据库及其当前状态，例如<code class="codeph">ACTIVE</code>或<code class="codeph">INACTIVE</code> 。</p>
                           </li>
                           <li>
                              <p>从“群集数据库列表”页面中，选择要向其添加实例的活动Oracle RAC数据库。单击“ <span class="bold">下一步”</span> ，DBCA将显示“群集数据库实例列表”页面，其中显示您选择的Oracle RAC数据库的现有实例的名称。
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">下一步”</span>以添加新实例，DBCA将显示“添加实例”页面。
                              </p>
                           </li>
                           <li>
                              <p>在“添加实例”页面上，如果DBCA提供的实例名称与现有实例命名方案不匹配，请在此页面顶部的字段中输入实例名称。然后从列表中选择新节点名称。</p>
                              <div class="infoboxnote" id="GUID-1C12BA84-EE2C-4AAC-BFB1-BF95E1DAFA89__GUID-0D51062E-7F92-4A2B-8CD8-F536B367542A">
                                 <p class="notep1">注意：</p>
                                 <p>如果您使用Oracle Home User选项安装了Oracle主目录，则DBCA会在此页面上提示您输入该密码。</p>
                              </div>
                           </li>
                           <li>
                              <p>查看“摘要”页面上的信息，然后单击“ <span class="bold">完成”</span>以启动实例添加操作。DBCA显示进度对话框，显示DBCA执行实例添加操作。
                              </p>
                           </li>
                        </ol>
                        <div class="section">
                           <p class="subhead3" id="GUID-1C12BA84-EE2C-4AAC-BFB1-BF95E1DAFA89__GUID-140BF194-2F16-4B17-8B6A-BC02E8AC1B7D">为Microsoft Transaction Server创建OraMTS服务</p>
                        </div>
                        <!-- class="section" -->
                        <p>Oracle Transaction for Microsoft Transaction Server（OraMTS）允许Oracle数据库用作Microsoft应用程序协调事务中的资源管理器。OraMTS充当Oracle数据库到Microsoft分布式事务处理协调器（MSDTC）的代理。因此，OraMTS提供客户端连接池，并允许利用Oracle的客户端组件参与可升级和分布式事务。此外，OraMTS可以与在任何操作系统上运行的Oracle数据库一起运行，因为服务本身是在Windows上运行的。</p>
                        <p>在早于Oracle数据库<span class="italic">12c的</span>版本中，OraMTS服务被作为一个纯软件的安装过程中创建的。从Oracle Database 12 <span class="italic">c开始</span> ，您必须使用配置工具来创建此服务。
                        </p>
                        <p>在添加节点或为Oracle RAC执行仅软件安装后创建OraMTS服务，如下所示：</p>
                        <ol>
                           <li>
                              <p>打开命令窗口。</p>
                           </li>
                           <li>
                              <p>将目录更改为<code class="codeph">%ORACLE_HOME%\bin</code> 。
                              </p>
                           </li>
                           <li>
                              <p>运行OraMTSCtl实用程序以创建OraMTS服务，其中<code class="codeph"><span class="variable" translate="no">host_name</span></code>是应在其上创建服务的节点列表：</p><pre class="pre codeblock"><code>C：\ .. bin&gt; oramtsctl.exe -new -host <span class="variable" translate="no">host_name</span></code></pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B88DC0CC-851A-4821-AB02-539D994ED524" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=NTMTS-GUID-DB70DB58-370C-4B98-A559-C5CA94415085" target="_blank"><span><cite>适用于Microsoft Windows的Microsoft Transaction Server开发人员指南的Oracle服务</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD8199"></a><div class="sect4"><a id="GUID-62FFDCB0-7F32-4C95-BBAE-C58B16CB5D13" name="GUID-62FFDCB0-7F32-4C95-BBAE-C58B16CB5D13"></a><h5 id="RACAD-GUID-62FFDCB0-7F32-4C95-BBAE-C58B16CB5D13" class="sect5">在无提示模式下使用DBCA将数据库实例添加到目标节点</h5>
                     <div>
                        <p>将实例添加到已扩展Oracle Clusterware主目录和Oracle数据库主目录的节点。</p>
                        <p>使用以下语法在静默模式下使用DBCA：</p><pre class="pre codeblock"><code>dbca -silent -addInstance -nodeList <span class="variable" translate="no">node_name</span> -gdbName <span class="variable" translate="no">gdb_name</span> [-instanceName <span class="variable" translate="no">instance_name</span> -sysDBAUserName <span class="variable" translate="no">sysdba</span> -sysDBAPassword <span class="variable" translate="no">password</span> ]</code></pre><div class="infoboxnotealso" id="GUID-62FFDCB0-7F32-4C95-BBAE-C58B16CB5D13__GUID-FD13EC83-4FE7-42AC-A3EC-FAA28AB28697">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#GUID-C331D2B4-FAAF-4916-A5A1-4577D31ADD04__CEGGDIGA" title="描述您在DBCA语法中用于静默模式的变量。无论是从群集添加还是删除节点，变量都是相同的。">表11-1列出</a>了上述语法中使用的变量的定义</p>
                        </div>
                        <p>执行任何必要的服务配置过程。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="工作负载管理包括负载平衡，为Oracle Real Application Clusters（Oracle RAC），分布式事务处理和服务启用客户端。">使用动态数据库服务管理工作负载</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8200"></a><div class="sect2"><a id="GUID-7CCBB478-056F-4701-864F-2B18D5748E61" name="GUID-7CCBB478-056F-4701-864F-2B18D5748E61"></a><h3 id="RACAD-GUID-7CCBB478-056F-4701-864F-2B18D5748E61" class="sect3">从群集节点删除Oracle RAC</h3>
               <div>
                  <p>要从群集节点中删除Oracle RAC，必须先删除数据库实例和Oracle RAC软件，然后才能从群集中删除该节点。</p>
                  <div class="infoboxnote" id="GUID-7CCBB478-056F-4701-864F-2B18D5748E61__GUID-41A6475A-1622-40EB-B774-5F6E91585C62">
                     <p class="notep1">注意：</p>
                     <p>如果要删除的节点上没有数据库实例，则删除Oracle RAC。</p>
                  </div>
                  <p>本节包括从Oracle RAC环境中的群集中删除节点的以下过程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-F21B797B-A909-46FC-9280-E782920C9A94" title="对于策略管理和管理员管理的数据库，删除实例的过程是不同的。">从Oracle RAC数据库中删除实例</a></p>
                     </li>
                     <li>
                        <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25" title="此过程从要从群集中删除的节点中删除Oracle RAC软件，并更新其余节点上的清单。">删除Oracle RAC</a></p>
                     </li>
                     <li>
                        <p><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-D1F774B6-56ED-451E-AA36-9BFF8C74D1CD">从群集中删除节点</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25" title="此过程从要从群集中删除的节点中删除Oracle RAC软件，并更新其余节点上的清单。">删除Oracle RAC</a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8202"></a><a id="RACAD8203"></a><a id="RACAD8201"></a><div class="sect3"><a id="GUID-F21B797B-A909-46FC-9280-E782920C9A94" name="GUID-F21B797B-A909-46FC-9280-E782920C9A94"></a><h4 id="RACAD-GUID-F21B797B-A909-46FC-9280-E782920C9A94" class="sect4">从Oracle RAC数据库中删除实例</h4>
                  <div>
                     <p>对于策略管理和管理员管理的数据库，删除实例的过程是不同的。</p>
                     <p>删除策略管理的数据库实例涉及减小数据库实例所在的服务器池的大小。删除管理员管理的数据库实例涉及使用DBCA删除数据库实例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F21B797B-A909-46FC-9280-E782920C9A94__GUID-F5266167-DF4B-46B7-9849-B0AFEFA97194">删除策略管理的数据库</p>
                        <p>要删除策略管理的数据库，请减小数据库实例所在的服务器池的大小。这有效地删除了实例，而无需从节点或节点中删除Oracle RAC软件。</p>
                        <p>例如，您可以通过在群集中的任何节点上运行以下命令来删除策略管理的数据库：</p><pre class="pre codeblock"><code>$ srvctl stop instance -db db_unique_name -node <span class="variable" translate="no">node_name</span> $ srvctl relocate server -servers“ <span class="variable" translate="no">server_name_list</span> ”-serverpool Free</code></pre><p>第一个命令在特定节点上的实例上停止，第二个命令将服务器列表移出其当前服务器池并进入空闲服务器池。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F21B797B-A909-46FC-9280-E782920C9A94__GUID-CFACB469-099F-4A72-8395-E30177AB464A">从管理员管理的数据库中删除实例</p>
                        <div class="infoboxnote" id="GUID-F21B797B-A909-46FC-9280-E782920C9A94__GUID-45F618F8-6F95-46C6-B004-38F3C7E9B2B1">
                           <p class="notep1">注意：</p>
                           <p>在使用SRVCTL从Oracle RAC数据库中删除实例之前，请执行以下操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果已配置服务，则重新定位服务</p>
                              </li>
                              <li>
                                 <p>修改服务，以便每个服务可以在其余一个实例上运行</p>
                              </li>
                              <li>
                                 <p>确保要从管理员管理的数据库中删除的实例既不是任何服务的首选实例，也不是可用的实例</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25" title="此过程从要从群集中删除的节点中删除Oracle RAC软件，并更新其余节点上的清单。">删除Oracle RAC</a></li>
                           <li><a href="workload-management-with-dynamic-database-services.html#GUID-CB82980F-8894-4142-8026-973895E03634" title="使用SRVCTL创建服务时，必须使用单独的SRVCTL命令启动该服务。">使用SRVCTL管理服务</a></li>
                        </ul>
                     </div>
                  </div><a id="RACAD7384"></a><div class="sect4"><a id="GUID-478D2267-281E-40F6-8CA9-6591FD516337" name="GUID-478D2267-281E-40F6-8CA9-6591FD516337"></a><h5 id="RACAD-GUID-478D2267-281E-40F6-8CA9-6591FD516337" class="sect5">在交互模式下使用DBCA从节点中删除实例</h5>
                     <div>
                        <p><a id="d41099e1784" class="indexterm-anchor"></a>要在交互模式下使用DBCA删除实例，请执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>验证是否有OCR的当前备份。</p>
                              <p>运行<code class="codeph">ocrconfig -showbackup</code>命令以确保存在有效备份。
                              </p>
                           </li>
                           <li>
                              <p>启动DBCA。</p>
                              <p>在承载要删除的实例的节点<span class="italic">以外</span>的节点上启动DBCA。在此步骤中，应继续启动并运行您计划删除的数据库和实例。
                              </p>
                           </li>
                           <li>
                              <p>在DBCA Operations页面上，选择<span class="bold">Instance Management</span> ，单击<span class="bold">Next</span> ，DBCA将显示Instance Management页面。
                              </p>
                           </li>
                           <li>
                              <p>在Instance Management页面上，选择<span class="bold">Delete Instance</span> ，单击<span class="bold">Next</span> ，DBCA将显示Cluster of Cluster Databases页面。
                              </p>
                           </li>
                           <li>
                              <p>选择要从中删除实例的Oracle RAC数据库。单击“ <span class="bold">下一步”</span> ，DBCA将显示“群集数据库实例列表”页面。“群集数据库实例列表”页面显示与您选择的Oracle RAC数据库关联的实例以及每个实例的状态。
                              </p>
                           </li>
                           <li>
                              <p>在“群集数据库列表”页面上，选择要从中删除实例的Oracle RAC数据库，如下所示：</p>
                              <ol type="a">
                                 <li>
                                    <p>在“群集数据库实例列表”页面上，DBCA显示与您选择的Oracle RAC数据库关联的实例以及每个实例的状态。选择要从中删除实例的群集数据库。单击<span class="bold">完成</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“确认”对话框中单击“ <span class="bold">确定</span> ”以继续删除实例。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在下一个“确认”对话框中单击“ <span class="bold">确定</span> ”以删除实例和相关的最佳灵活体系结构（OFA）目录结构。
                                    </p>
                                    <p>DBCA显示进度对话框，显示DBCA正在删除实例。在此操作期间，DBCA将删除实例和实例的Oracle Net配置。</p>
                                    <p>单击<span class="bold">否</span>并退出DBCA或单击<span class="bold">是以</span>执行其他操作。如果单击“ <span class="bold">是”</span> ，则DBCA将显示“操作”页面。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>使用SQL * Plus验证已删除实例的重做线程是否已从现有实例查询<code class="codeph">V$LOG</code>视图。如果未禁用重做线程，则禁用该线程。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE DISABLE THREAD 2;</pre></li>
                           <li>
                              <p>通过运行以下命令验证是否已从OCR中删除实例，其中<span class="italic"><code class="codeph">db_unique_name</code></span>是数据库的名称：</p><pre class="oac_no_warn" dir="ltr">srvctl config database -db <span class="italic">db_unique_name</span>
</pre></li>
                           <li>
                              <p>如果要删除多个节点，请重复这些步骤以从要删除的所有节点中删除实例。</p>
                           </li>
                        </ol>
                     </div>
                  </div><a id="RACAD8204"></a><div class="sect4"><a id="GUID-DF0EE0C1-8B11-420E-B96A-1B38CFBB6F82" name="GUID-DF0EE0C1-8B11-420E-B96A-1B38CFBB6F82"></a><h5 id="RACAD-GUID-DF0EE0C1-8B11-420E-B96A-1B38CFBB6F82" class="sect5">在静默模式下使用DBCA从节点中删除实例</h5>
                     <div>
                        <p><a id="d41099e2031" class="indexterm-anchor"></a>您可以在静默模式下使用DBCA从节点中删除数据库实例。
                        </p>
                        <p>运行以下命令，其中变量与<a href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#GUID-C331D2B4-FAAF-4916-A5A1-4577D31ADD04__CEGGDIGA" title="描述您在DBCA语法中用于静默模式的变量。无论是从群集添加还是删除节点，变量都是相同的。">表11-1中</a>显示的变量相同，用于添加实例的DBCA命令。仅当您从正在运行DBCA的节点以外的节点中删除实例时才提供节点名称，如以下示例中所示，其中<span class="italic"><code class="codeph">password</code></span>是SYSDBA密码：</p><pre class="oac_no_warn" dir="ltr">dbca -silent -deleteInstance [-nodeList <span class="italic">node_name</span> ] -gdbName <span class="italic">gdb_name</span> -instanceName <span class="italic">instance_name</span> [-sysDBAUserName <span class="italic">sysdba</span> ] [-sysDBAPassword <span class="italic">password</span> ]</pre><p>此时，您已完成以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从其关联的Oracle Net Services侦听器中注销所选实例</p>
                           </li>
                           <li>
                              <p>从实例的已配置节点中删除选定的数据库实例</p>
                           </li>
                           <li>
                              <p>删除了Oracle Net配置</p>
                           </li>
                           <li>
                              <p>从实例的已配置节点中删除了Oracle Flexible Architecture目录结构。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8205"></a><div class="sect3"><a id="GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25" name="GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25"></a><h4 id="RACAD-GUID-71EBEFA1-F52D-4A54-AF0C-F596A4909A25" class="sect4">删除Oracle RAC</h4>
                  <div>
                     <p>此过程从要从群集中删除的节点中删除Oracle RAC软件，并更新其余节点上的清单。</p>
                     <ol>
                        <li>
                           <p>如果要删除的节点上的Oracle RAC主目录中有侦听器，则必须先禁用并停止它，然后再删除Oracle RAC软件。在群集中的任何节点上运行以下命令，指定侦听器的名称和要删除的节点的名称：</p><pre class="pre codeblock"><code>C：\ srvctl禁用侦听器-listener <span class="variable" translate="no">listener_name</span> -node <span class="variable" translate="no">name_of_node_to_delete</span> C：\ srvctl stop listener -listener <span class="variable" translate="no">listener_name</span> -node <span class="variable" translate="no">name_of_node_to_delete</span></code></pre></li>
                        <li>
                           <p>通过从<code class="codeph"><span class="variable" translate="no">Oracle_home\</span> deinstall</code>目录运行以下命令，从要删除的节点卸载Oracle主目录：</p><pre class="pre codeblock"><code>deinstall -local</code></pre></li>
                     </ol>
                     <p>如果您有共享的Oracle RAC主目录，请在此步骤中将<code class="codeph">-cfs</code>选项附加到命令示例，并为集群文件系统提供完整的路径位置。
                     </p>
                  </div>
               </div><a id="RACAD8206"></a><div class="sect3"><a id="GUID-D1F774B6-56ED-451E-AA36-9BFF8C74D1CD" name="GUID-D1F774B6-56ED-451E-AA36-9BFF8C74D1CD"></a><h4 id="RACAD-GUID-D1F774B6-56ED-451E-AA36-9BFF8C74D1CD" class="sect4">从群集中删除节点</h4>
                  <div>
                     <p>删除实例后，您可以开始从群集中删除节点的过程。您可以通过在要删除的节点上运行脚本来删除Oracle Clusterware安装，然后在其余节点上运行脚本来更新节点列表。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../cwadd/adding-and-deleting-cluster-nodes.html#CWADD-GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01028.DBMS_HIERARCHY.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBMS_HIERARCHY contains subprograms for validating the data in tables used by hierarchies and analytic views."></meta>
      <meta name="description" content="DBMS_HIERARCHY contains subprograms for validating the data in tables used by hierarchies and analytic views."></meta>
      <title>DBMS_HIERARCHY</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="DBMS_HIERARCHY contains subprograms for validating the data in tables used by hierarchies and analytic views."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_HEAT_MAP.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_HM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_HEAT_MAP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_HM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_HIERARCHY</li>
            </ol>
            <a id="GUID-BA9CF136-9144-4880-BFF7-67B369E81D62" name="GUID-BA9CF136-9144-4880-BFF7-67B369E81D62"></a>
            
            <h2 id="ARPLS-GUID-BA9CF136-9144-4880-BFF7-67B369E81D62" class="sect2"><span class="enumeration_chapter">78</span> DBMS_HIERARCHY</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_HIERARCHY</code>包含用于验证层次结构和分析视图使用的表中的数据的子程序。
               </p>
               <div class="section">
                  <p>本章包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_HIERARCHY.html#GUID-2F0E6688-A9BD-492D-9529-062A178A7740" title="DBMS_HIERARCHY包中包含用于验证数据库表的内容是否适合分析视图或层次结构使用的函数，用于验证验证成功的函数，以及用于创建用于记录验证操作的表的过程。">DBMS_HIERARCHY概述</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_HIERARCHY.html#GUID-50B11E08-6302-4B48-AC48-C9A16B306A63" title="总结了分析视图和层次结构对象验证的安全注意事项。">DBMS_HIERARCHY安全模型</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_HIERARCHY.html#GUID-62616CF1-0FE9-43E6-B244-E68DF0AB6DCB" title="此表列出了DBMS_HIERARCHY子程序并简要描述了它们。">DBMS_HIERARCHY子程序摘要</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-2F0E6688-A9BD-492D-9529-062A178A7740" name="GUID-2F0E6688-A9BD-492D-9529-062A178A7740"></a><h3 id="ARPLS-GUID-2F0E6688-A9BD-492D-9529-062A178A7740" class="sect3"><span class="enumeration_section">78.1</span> DBMS_HIERARCHY概述</h3>
               <div>
                  <p><code class="codeph">DBMS_HIERARCHY</code>包中包含用于验证数据库表的内容是否适合分析视图或层次结构使用的函数，用于验证验证成功的函数，以及用于创建用于记录验证操作的表的过程。
                  </p>
                  <div class="infoboxnote" id="GUID-2F0E6688-A9BD-492D-9529-062A178A7740__GUID-1D0E1D3F-E6FC-4514-BB0E-64412551737F">
                     <p class="notep1">注意：</p>
                     <p>由<code class="codeph">DBMS_HIERARCHY</code>子程序的参数指定的名称区分大小写。
                     </p>
                  </div>
                  <p>有关使用分析视图的信息，请参阅“ <cite><span><cite>Oracle数据库数据仓库指南”</cite></span></cite> 。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-50B11E08-6302-4B48-AC48-C9A16B306A63" name="GUID-50B11E08-6302-4B48-AC48-C9A16B306A63"></a><h3 id="ARPLS-GUID-50B11E08-6302-4B48-AC48-C9A16B306A63" class="sect3"><span class="enumeration_section">78.2</span> DBMS_HIERARCHY安全模型</h3>
               <div>
                  <p>总结了分析视图和层次结构对象验证的安全注意事项。</p>
                  <div class="p">此程序包中的所有过程都验证当前用户是否具有指定对象的必要权限，并在未找到这些权限时返回错误。
                     <div class="infoboxnote" id="GUID-50B11E08-6302-4B48-AC48-C9A16B306A63__GUID-59880AF0-FF50-412E-A2D5-00E818201D68">
                        <p class="notep1">注意：</p>要确保用户具有足够的表空间来记录验证操作，请执行以下操作之一：<ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">GRANT</code> <code class="codeph">UNLIMITED</code> <code class="codeph">TABLESPACE</code> <code class="codeph">TO</code> <span class="italic">用户名</span> <code class="codeph">;</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">USERNAME</code> <span class="italic">用户名</span> <code class="codeph">QUOTA</code> <span class="italic">size</span> <code class="codeph">ON</code> <span class="italic">tablespace_name</span> <code class="codeph">;</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <p>使用此程序包需要以下系统特权：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-50B11E08-6302-4B48-AC48-C9A16B306A63__GUID-011BB182-A29C-4DE3-9CD6-7F1CBBC5F367">要验证用户自己的架构中的对象：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE_VALIDATE_LOG_TABLE</code> <code class="codeph">CREATE TABLE</code>权限或让<code class="codeph">VALIDATE_ANALTYIC_VIEW</code>或<code class="codeph">VALIDATE_HIERARCHY</code>自动创建表</p>
                        </li>
                        <li>
                           <p>对分析视图或层次结构使用的表或视图的<code class="codeph">SELECT</code>权限</p>
                        </li>
                        <li>
                           <p>对层次结构的属性维度或分析视图使用的事实表使用的表具有<code class="codeph">INSERT</code>特权</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50B11E08-6302-4B48-AC48-C9A16B306A63__GUID-D2AC7358-11F8-4455-9455-D287105202BB">要验证不同模式中的对象：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE_VALIDATE_LOG_TABLE</code> <code class="codeph">CREATE ANY TABLE</code>权限或让<code class="codeph">VALIDATE_ANALTYIC_VIEW</code>或<code class="codeph">VALIDATE_HIERARCHY</code>自动创建表</p>
                        </li>
                        <li>
                           <p>对层次结构的属性维度或分析视图使用的事实表使用的表<code class="codeph">INSERT ANY TABLE</code>特权</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-62616CF1-0FE9-43E6-B244-E68DF0AB6DCB" name="GUID-62616CF1-0FE9-43E6-B244-E68DF0AB6DCB"></a><h3 id="ARPLS-GUID-62616CF1-0FE9-43E6-B244-E68DF0AB6DCB" class="sect3"><span class="enumeration_section">78.3</span> DBMS_HIERARCHY子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_HIERARCHY</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-62616CF1-0FE9-43E6-B244-E68DF0AB6DCB__GUID-C1C3720F-D6B0-4731-B82D-30518CCDE138">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the DBMS_HIERARCHY subprograms and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d456910e521">子程序</th>
                              <th align="left" valign="bottom" id="d456910e524">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d456910e529" headers="d456910e521 ">
                                 <p><a href="DBMS_HIERARCHY.html#GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6" title="此过程创建一个表，您可以使用该表记录VALIDATE_ANALYTIC_VIEW或VALIDATE_HIERARCHY函数生成的消息，该消息验证分析视图或层次结构使用的数据。">CREATE_VALIDATE_LOG_TABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" headers="d456910e529 d456910e524 ">
                                 <p>创建一个表，您可以使用该表记录<code class="codeph">VALIDATE_HIERARCHY</code>和<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数生成的消息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d456910e552" headers="d456910e521 "><a href="DBMS_HIERARCHY.html#GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05" title="此函数验证表或视图中的数据是否符合分析视图定义中固有的逻辑约束。">VALIDATE_ANALYTIC_VIEW函数</a></td>
                              <td align="left" valign="top" headers="d456910e552 d456910e524 ">
                                 <p>验证表中的数据是否适合分析视图使用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d456910e562" headers="d456910e521 "><a href="DBMS_HIERARCHY.html#GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507" title="此函数指示先前对VALIDATE_HIERARCHY或VALIDATE_ANALYTIC_VIEW的调用是成功还是产生验证错误。">VALIDATE_CHECK_SUCCESS函数</a></td>
                              <td align="left" valign="top" headers="d456910e562 d456910e524 ">
                                 <p>指示先前对<code class="codeph">VALIDATE_HIERARCHY</code>或<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>调用是成功还是生成验证错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d456910e584" headers="d456910e521 ">
                                 <p><a href="DBMS_HIERARCHY.html#GUID-5D37C07A-F108-4734-9811-A57C82329EDA" title="此函数验证表或视图中的数据是否符合使用表或视图的属性维的定义中固有的逻辑约束以及使用属性维的层次结构。">VALIDATE_HIERARCHY函数</a></p>
                              </td>
                              <td align="left" valign="top" headers="d456910e584 d456910e524 ">
                                 <p>验证表中的数据是否适合层次结构使用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6" name="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6"></a><h4 id="ARPLS-GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6" class="sect4"><span class="enumeration_section">78.3.1</span> CREATE_VALIDATE_LOG_TABLE过程</h4>
                  <div>
                     <p>此过程创建一个表，您可以使用该表记录<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>或<code class="codeph">VALIDATE_HIERARCHY</code>函数生成的消息，该消息验证分析视图或层次结构使用的数据。
                     </p>
                     <div class="section">
                        <p>此过程创建的表具有以下结构。</p><pre class="pre codeblock"><code>NAME是吗？DATATYPE ------------------ -------- -------- LOG_NUMBER NOT NULL NUMBER ACTION_ORDER NOT NULL NUMBER OBJECT_OWNER NOT NULL VARCHAR2（128 BYTE ）OBJECT_NAME NOT NULL VARCHAR2（128 BYTE）ACTION NOT NULL VARCHAR2（10 BYTE）TIME NOT NULL TIMESTAMP（6）ERROR_NUMBER NUMBER ERROR_MESSAGE VARCHAR2（4000）</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6__GUID-FD1C986C-DEFE-480B-A4B8-83EC67A6BF57">句法</p><pre class="pre codeblock"><code>DBMS_HIERARCHY.CREATE_VALIDATE_LOG_TABLE（table_name IN VARCHAR2，owner_name IN VARCHAR2 DEFAULT NULL IGNORE_IF_EXISTS IN PL / SQL BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6__GUID-E302704B-FE94-4BFE-A463-9994F0B08772">参数</p>
                        <div class="tblformal" id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6__GUID-9FE8F368-2E0E-41C4-A00D-9BF0324230A1">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the parameters of the CREATE_VALIDATE_LOG_TABLE procedure and provides brief descriptions of them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d456910e719">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d456910e721">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e725" headers="d456910e719 "><code class="codeph">TABLE_NAME</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e725 d456910e721 ">要创建的表的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e731" headers="d456910e719 "><code class="codeph">OWNER_NAME</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e731 d456910e721 ">要在其中创建表的模式的名称。如果<code class="codeph">owner_name</code>为<code class="codeph">NULL</code> ，则表在当前用户的架构中创建。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e743" headers="d456910e719 "><code class="codeph">IGNORE_IF_EXISTS</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e743 d456910e721 ">一个布尔值，指示是否存在具有相同名称的表时是否创建表。如果指定表，则它必须具有与此过程创建的表相同的结构。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6__GUID-87900571-2859-4CE5-93A9-DF38B9BF2696">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F389484F-4870-43E2-B52E-BA7DF9F01CB6__GUID-55CD4CEE-6068-4F9B-BCEF-75C0264A0A61">
                        <p class="titleinexample">示例78-1创建验证日志表</p><pre class="pre codeblock"><code>BEGIN DBMS_HIERARCHY.CREATE_VALIDATE_LOG_TABLE（'VAL_AV_HIERARCHY_LOG'，'AV_USER'，FALSE）;结束; /</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05" name="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05"></a><h4 id="ARPLS-GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05" class="sect4"><span class="enumeration_section">78.3.2</span> VALIDATE_ANALYTIC_VIEW函数</h4>
                  <div>
                     <p>此函数验证表或视图中的数据是否符合分析视图定义中固有的逻辑约束。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-5ABBC3B2-F3A1-4494-8324-74B70E867DC3">句法</p><pre class="pre codeblock"><code>DBMS_HIERARCHY.VALIDATE_ANALYTIC_VIEW（analytic_view_name IN VARCHAR2 DEFAULT NULL，analytic_view_owner_name IN VARCHAR2 DEFAULT NULL，log_table_name IN VARCHAR2 DEFAULT NULL，log_table_owner_name IN VARCHAR2 DEFAULT NULL）返回数字;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-C131D68A-2411-48FB-92C0-E5C60835970A">参数</p>
                        <div class="tblformal" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-C52E2F01-3036-4CDA-B509-2EE66B34BB13">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the parameters of the VALIDATE_ANALYTIC_VIEW function and provides brief descriptions of them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d456910e867">参数</th>
                                    <th align="left" valign="bottom" id="d456910e869">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e873" headers="d456910e867 "><code class="codeph">analytic_view_name</code></td>
                                    <td align="left" valign="top" headers="d456910e873 d456910e869 ">要验证的分析视图的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e879" headers="d456910e867 "><code class="codeph">analytic_view_owner_name</code></td>
                                    <td align="left" valign="top" headers="d456910e879 d456910e869 ">包含分析视图的架构的所有者的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e885" headers="d456910e867 "><code class="codeph">log_table_name</code></td>
                                    <td align="left" valign="top" headers="d456910e885 d456910e869 ">验证日志表的名称，用于放置验证操作的结果。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e891" headers="d456910e867 "><code class="codeph">log_table_owner_name</code></td>
                                    <td align="left" valign="top" headers="d456910e891 d456910e869 ">存在验证日志表或在其中创建表的模式的所有者的名称。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-5D6D8A88-A140-4164-982D-8A6F033EB189">返回</p>
                        <p>验证日志表中验证结果的条目数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-5A81C382-CD26-404B-941A-16949C02776A">使用说明</p>
                        <p>如果<code class="codeph">log_table_name</code>参数为<code class="codeph">NULL</code> ，则<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数将创建验证日志表。它创建的表的名称是DBMS_HIERARCHY_LOG。</p>
                        <p>验证操作开始时，将使用<code class="codeph">START</code>的操作将一行插入到日志表中。操作完成后，将使用<code class="codeph">END</code>操作将一行插入到日志表中。检测到错误时，将使用<code class="codeph">ERROR</code>的操作将一行插入到日志表中，并填充关联的<code class="codeph">error_number</code>和<code class="codeph">error_message</code>列。插入验证日志表的所有行都包括日志编号和插入时间。
                        </p>
                        <p><code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数验证分析视图的每个属性维度的以下条件为真：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在属性维的事实表中找到的键值必须存在于该属性维的星型模式维度表中。</p>
                           </li>
                           <li>
                              <p>对于该维度，属性维度的引用属性值必须在星型模式维度表的所有行中都是唯一的。</p>
                           </li>
                        </ul>
                        <p>此外，对于分析视图中的每个层次结构，该函数都会验证以下条件是否为真：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>级别的主键确定级别的每个属性的唯一值。</p>
                           </li>
                           <li>
                              <p>对于层次结构的属性维度使用的表或视图的每一行， <code class="codeph">NOT</code> <code class="codeph">NULL</code>级别的每个级别键列（包括备用键）的<code class="codeph">NULL</code>都是非<code class="codeph">NULL</code> 。</p>
                           </li>
                           <li>
                              <p>对于表或视图的每一行， <code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>级别的所有级别键列和备用键列必须为<code class="codeph">NULL</code>或者它们都必须为非<code class="codeph">NULL</code> 。这将验证备用级别键是否由级别键确定。
                              </p>
                           </li>
                           <li>
                              <p>对于具有相同级别的备用键列值的每组行，键列值必须具有相同的列值。这将验证级别密钥是由备用级别密钥确定的，备用级别密钥是备用密钥所必需的。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-1DC15C59-72F7-48D3-9D21-33C429EC627C">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7BE9DCD3-2577-47BC-B8A3-710ECEB23D05__GUID-92311EC3-595D-4A02-AF1E-B90951333577">
                        <p class="titleinexample">示例78-2验证分析视图</p><pre class="pre codeblock"><code>DECLARE log_num NUMBER; obj_name VARCHAR2（8）：='SALES_AV'; BEGIN log_num：= DBMS_HIERARCHY.VALIDATE_ANALYTIC_VIEW（obj_name）;结束; /</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507" name="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507"></a><h4 id="ARPLS-GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507" class="sect4"><span class="enumeration_section">78.3.3</span> VALIDATE_CHECK_SUCCESS函数</h4>
                  <div>
                     <p>此函数指示先前对<code class="codeph">VALIDATE_HIERARCHY</code>或<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>调用是成功还是产生验证错误。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-3096336B-A404-445A-B0E0-EC731C35ABD5">句法</p><pre class="pre codeblock"><code>DBMS_HIERARCHY.VALIDATE_CHECK_SUCCESS（VARCHAR2中的TOPOBJ_NAME，VARCHAR2中的TOPOBJ_OWNER，VARCHAR2 LOG_TABLE_NAME中的LOG_NUMBER，VARCHAR2中的VARCHAR2 LOG_TABLE_OWNER_NAME）RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-31671532-EFF1-49AF-BE58-E8DAFECF6331">参数</p>
                        <div class="tblformal" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-AA5D8056-C1E7-4DD6-84F1-755782D462A7">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the parameters of this function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d456910e1111">参数</th>
                                    <th align="left" valign="bottom" id="d456910e1113">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e1117" headers="d456910e1111 "><code class="codeph">TOPOBJ_NAME</code></td>
                                    <td align="left" valign="top" headers="d456910e1117 d456910e1113 ">层次结构或分析视图的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e1123" headers="d456910e1111 "><code class="codeph">TOPOBJ_OWNDER</code></td>
                                    <td align="left" valign="top" headers="d456910e1123 d456910e1113 ">层次结构或分析视图的所有者。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e1129" headers="d456910e1111 "><code class="codeph">LOG_NUMBER</code></td>
                                    <td align="left" valign="top" headers="d456910e1129 d456910e1113 ">日志条目的编号。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e1135" headers="d456910e1111 "><code class="codeph">LOG_TABLE_NAME</code></td>
                                    <td align="left" valign="top" headers="d456910e1135 d456910e1113 ">日志表的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d456910e1141" headers="d456910e1111 "><code class="codeph">LOG_TABLE_OWNER_NAME</code></td>
                                    <td align="left" valign="top" headers="d456910e1141 d456910e1113 ">表退出的模式的名称。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-F94CB710-30C4-46A4-AA5F-9CC1AF761144">返回</p>
                        <p><code class="codeph">VARCHAR2</code> ，如果没有发生错误，则为SUCCESS;如果发生错误，则为ERROR。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-83D5ACD6-F805-4442-B456-3213D907D917">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4A926EAC-6167-4C9E-8FD0-92C29A7A8507__GUID-0ECBA806-07A2-4391-AC39-EB8A1922EEDB">
                        <p class="titleinexample">示例78-3使用VALIDATE_CHECK_SUCCESS</p>
                        <p>此示例确定先前对<code class="codeph">VALIDATE_ANALTYIC_VIEW</code>调用是否遇到错误。
                        </p><pre class="pre codeblock"><code>DECLARE log_num NUMBER; succ VARCHAR2（7）; obj_name VARCHAR2（8）：='SALES_AV'; BEGIN log_num：= dbms_hierarchy.validate_analytic_view（obj_name）; succ：= dbms_hierarchy.validate_check_success（topobj_name =&gt; obj_name，log_number =&gt; log_num）;如果（succ！='SUCCESS'）那么RAISE_APPLICATION_ERROR（num =&gt; -20000，msg =&gt;'验证失败！“）;万一;结束; /</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA" name="GUID-5D37C07A-F108-4734-9811-A57C82329EDA"></a><h4 id="ARPLS-GUID-5D37C07A-F108-4734-9811-A57C82329EDA" class="sect4"><span class="enumeration_section">78.3.4</span> VALIDATE_HIERARCHY函数</h4>
                  <div>
                     <p>此函数验证表或视图中的数据是否符合使用表或视图的属性维的定义中固有的逻辑约束以及使用属性维的层次结构。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-7AAB0A63-2BC0-4E81-A50D-D6108B1523ED">句法</p><pre class="pre codeblock"><code>DBMS_HIERARCHY.VALIDATE_HIERARCHY（hier_name IN VARCHAR2，hier_owner_name IN VARCHAR2 DEFAULT NULL，log_table_name IN VARCHAR2 DEFAULT NULL，log_table_owner_name IN VARCHAR2 DEFAULT NULL）返回数字;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-0F4FC13D-6714-47A1-ACBF-F73DB1F59F0A">参数</p>
                        <div class="tblformal" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-059A6A6F-AD86-4B91-BFC7-AA1EA7E31B0C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the parameters of the VALIDATE_HIERARCHY function and provides brief descriptions of them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d456910e1277">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d456910e1279">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e1283" headers="d456910e1277 "><code class="codeph">hier_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e1283 d456910e1279 ">要验证的层次结构的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e1289" headers="d456910e1277 "><code class="codeph">hier_owner_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e1289 d456910e1279 ">包含层次结构的架构的所有者的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e1295" headers="d456910e1277 "><code class="codeph">log_table_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e1295 d456910e1279 ">验证日志表的名称，用于放置验证操作的结果。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d456910e1301" headers="d456910e1277 "><code class="codeph">log_table_owner_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d456910e1301 d456910e1279 ">存在验证日志表或在其中创建表的模式的所有者的名称。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-8EFDF1F8-1E76-482A-BA64-95BA13C7E29C">返回</p>
                        <p>验证日志表中验证结果的条目数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-744A7245-424D-4299-ADC4-46213AD2E439">使用说明</p>
                        <p>如果<code class="codeph">log_table_name</code>参数为<code class="codeph">NULL</code> ，则<code class="codeph">VALIDATE_HIERARCHY</code>函数将创建验证日志表。它创建的表的名称是DBMS_HIERARCHY_LOG。</p>
                        <p>验证操作开始时，将使用<code class="codeph">START</code>的操作将一行插入到日志表中。操作完成后，将使用<code class="codeph">END</code>操作将一行插入到日志表中。检测到错误时，将使用<code class="codeph">ERROR</code>的操作将一行插入到日志表中，并填充关联的<code class="codeph">error_number</code>和<code class="codeph">error_message</code>列。插入验证日志表的所有行都包括日志编号和插入时间。
                        </p>
                        <p><code class="codeph">VALIDATE_HIERARCHY</code>函数验证层次结构的以下条件是否为真：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>级别的主键确定级别的每个属性的唯一值。</p>
                           </li>
                           <li>
                              <p>对于层次结构的属性维度使用的表或视图的每一行， <code class="codeph">NOT</code> <code class="codeph">NULL</code>级别的每个级别键列（包括备用键）的<code class="codeph">NULL</code>都是非<code class="codeph">NULL</code> 。</p>
                           </li>
                           <li>
                              <p>对于表或视图的每一行， <code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>级别的所有级别键列和备用键列必须为<code class="codeph">NULL</code>或者它们都必须为非<code class="codeph">NULL</code> 。这将验证备用级别键是否由级别键确定。
                              </p>
                           </li>
                           <li>
                              <p>对于具有相同级别的备用键列值的每组行，键列值必须具有相同的列值。这将验证级别密钥是由备用级别密钥确定的，备用级别密钥是备用密钥所必需的。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-11689279-F4C1-45AE-BC03-F7B68BB8F1C2">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-F8DA18EE-6B2C-4387-B612-24AE05873FD1">
                        <p class="titleinexample">示例78-4验证层次结构并指定表名称</p>
                        <p>此示例验证<code class="codeph">PRODUCT_HIER</code>层次结构，并指定将结果插入名为<code class="codeph">VAL_AV_HIERARCHY_LOG</code>的表中。层次结构的所有者和包含该表的架构的所有者是AV_USER。</p><pre class="pre codeblock"><code>- 创建日志表。BEGIN DBMS_HIERARCHY.CREATE_VALIDATE_LOG_TABLE（'VAL_AV_HIERARCHY_LOG'，'AV_USER'，FALSE）;结束; /  - 验证层次结构。DECLARE log_num NUMBER; obj_name VARCHAR2（12）：='PRODUCT_HIER'; table_name VARCHAR2（28）：='VAL_AV_HIERARCHY_LOG'; BEGIN log_num：= DBMS_HIERARCHY.VALIDATE_HIERARCHY（obj_name，'AV_USER'，table_name）;结束; /</code></pre><p>查询日志表。</p><pre class="pre codeblock"><code>从AV_USER.VAL_AV_HIERARCHY_LOG中选择LOG_NUMBER，ACTION，OBJECT_NAME，ERROR_NUMBER，ERROR_MESSAGE; WHERE OBJECT_NAME ='PRODUCT_HIER'; LOG_NUMBER ACTION OBJECT_NAME ERROR_NUMBER ERROR_MESSAGE ---------- ---------- ------------------- ------ ------ ------------- 1 START PRODUCT_HIER 1 END PRODUCT_HIER</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5D37C07A-F108-4734-9811-A57C82329EDA__GUID-B8273684-51D1-4535-8308-7E61461580C9">
                        <p class="titleinexample">示例78-5在不指定表名的情况下验证层次结构</p>
                        <p>此示例显示如果未指定验证日志表，则<code class="codeph">VALIDATE_HIERARCHY</code>函数将创建一个名为DBMS_HIERARCHY_LOG的函数。</p><pre class="pre codeblock"><code>DECLARE log_num NUMBER; obj_name VARCHAR2（12）：='PRODUCT_HIER'; BEGIN log_num：= DBMS_HIERARCHY.VALIDATE_HIERARCHY（obj_name）;结束;</code></pre><p>查询日志表。</p><pre class="pre codeblock"><code>SELECT LOG_NUMBER，ACTION，OBJECT_NAME，ERROR_NUMBER，ERROR_MESSAGE来自DBMS_HIERARCHY_LOG WHERE OBJECT_NAME ='PRODUCT_HIER'; LOG_NUMBER ACTION OBJECT_NAME ERROR_NUMBER ERROR_MESSAGE ---------- ---------- ------------------- ------ ------ ------------- 1 START PRODUCT_HIER 1 END PRODUCT_HIER</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09730.SDO_GCDR-reference.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The MDSYS.SDO_GCDR package contains subprograms for performing geocoding."></meta>
      <meta name="description" content="The MDSYS.SDO_GCDR package contains subprograms for performing geocoding."></meta>
      <title>SDO_GCDR包（地理编码）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The MDSYS.SDO_GCDR package contains subprograms for performing geocoding."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SDO_CSW_PROCESS-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_GEOM-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_CSW_PROCESS-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_GEOM-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GCDR包（地理编码）</li>
            </ol>
            <a id="GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" name="GUID-74DA21CB-D78A-40C7-88CF-65EE41310349"></a><a id="SPATL1098"></a><a id="SPATL145"></a>
            
            <h2 id="SPATL-GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" class="sect2"><span class="enumeration_chapter">25</span> SDO_GCDR包（地理编码）</h2>
         </header>
         <div class="ind">
            <div>
               <p>MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。</p>
               <p><a id="d131492e57" class="indexterm-anchor"></a><a id="d131492e61" class="indexterm-anchor"></a><a id="d131492e63" class="indexterm-anchor"></a>要使用本章中的子程序，您必须了解有关地理<a href="geocoding-address-data-concepts.html#GUID-8240D09F-D705-472C-9603-336AA362D41B" title="Geocoding is the process of associating spatial locations (longitude and latitude coordinates) with postal addresses.">编码地址数据</a>中<a href="geocoding-address-data-concepts.html#GUID-8240D09F-D705-472C-9603-336AA362D41B" title="地理编码是将空间位置（经度和纬度坐标）与邮政地址相关联的过程。">地理</a>编码的概念和用法信息。
               </p>
               <p>本章的其余部分提供了有关子程序的参考信息，按字母顺序列出。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-39F3F582-1578-463F-8906-5CFF1391C4E6">SDO_GCDR.CREATE_PROFILE_TABLES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B">SDO_GCDR.GEOCODE</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747">SDO_GCDR.GEOCODE_ADDR</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F">SDO_GCDR.GEOCODE_ADDR_ALL</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-C728E3C7-A314-41C5-9D10-77C155AFC498">SDO_GCDR.GEOCODE_ALL</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-D81719AB-9F05-440F-A66E-D40B9A34388C">SDO_GCDR.GEOCODE_AS_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GCDR-reference.html#GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F">SDO_GCDR.REVERSE_GEOCODE</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1099"></a><div class="props_rev_3"><a id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6" name="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6"></a><h3 id="SPATL-GUID-39F3F582-1578-463F-8906-5CFF1391C4E6" class="sect3"><span class="enumeration_section">25.1</span> SDO_GCDR.CREATE_PROFILE_TABLES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6__GUID-AA3AD61B-2A19-421A-9DDF-3D7BAC8E9E87">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.CREATE_PROFILE_TABLES;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6__GUID-A0D7D270-D781-436B-9064-E979FD6006F9">描述</p>
                     <p>在调用者的模式中创建CG_COUNTRY_PROFILE，GC_PARSER_PROFILES和GC_PARSER_PROFILEAFS表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6__GUID-5C0FA05D-ADF4-4803-8D1C-63E96526582E">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6__GUID-426CC492-B175-4E37-AEF6-70AFBD48A983">使用说明</p>
                     <p>仅当地理编码数据提供程序未提供GC_PARSER_PROFILES和GC_PARSER_PROFILEAFS表时，才使用此过程。有关更多信息，请参阅<a href="geocoding-address-data-concepts.html#GUID-957E7C31-1816-47C6-92DE-7C88C4C03FA5" title="Oracle Geocoder配置文件表通常由数据提供程序提供。">安装配置文件表</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39F3F582-1578-463F-8906-5CFF1391C4E6__GUID-0804F6D2-1CC3-4BA3-A55E-03BF76010B37">例子</p>
                     <p>以下示例在调用方模式中创建GC_PARSER_PROFILES和GC_PARSER_PROFILEAFS表。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GCDR.CREATE_PROFILE_TABLES;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1100"></a><div class="props_rev_3"><a id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B" name="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B"></a><h3 id="SPATL-GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B" class="sect3"><span class="enumeration_section">25.2</span> SDO_GCDR.GEOCODE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-BA74378F-0426-4CAC-A32E-96089E8A0B4C">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.GEOCODE（用户名IN VARCHAR2，addr_lines IN SDO_KEYWORDARRAY，country IN VARCHAR2，match_mode IN VARCHAR2）RETURN SDO_GEO_ADDR;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-D3A72E79-46F6-4B26-85A8-2D8840C9B9C3">描述</p>
                     <p>对未格式化的地址进行地理编码，并将结果作为SDO_GEO_ADDR对象返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-58F97E6E-BD0B-40A0-B78E-739AD66D6AB0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-BCC4F85E-85F6-4230-B1AC-C96EBDF4495C"><!-- --></a>用户名</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-2EE98F82-BEB5-41B3-B336-C6CED43F4B6F"><!-- --></a> addr_lines</dt>
                        <dd>
                           <p>一组带引号的字符串，表示要进行地理编码的未格式化地址。SDO_KEYWORDARRAY类型中描述了<a href="geocoding-address-data-concepts.html#GUID-641F72A0-17E3-4BBD-82A6-C1CA798F6EF1">SDO_KEYWORDARRAY类型</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-EB602891-BFC4-4017-AAEE-4BB053FACD96"><!-- --></a>国家/地区</dt>
                        <dd>
                           <p>国家名称或ISO国家/地区代码。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-EEBE53C7-3808-4A00-9716-ECB4638D3727"><!-- --></a> match_mode</dt>
                        <dd>
                           <p>匹配模式用于地理编码操作。匹配模式在<a href="geocoding-address-data-concepts.html#GUID-880AE016-C094-416F-A2E4-C38F21B2DCAD">匹配模式</a>中说明。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-34A19A5D-6B8B-4EFC-A1D4-7B77F2D5F329">使用说明</p>
                     <p>此函数返回SDO_GEOR_ADDR类型的对象，该对象在<a href="geocoding-address-data-concepts.html#GUID-921F7D3A-BBCB-46B9-A728-C78D2A6D05AA">SDO_GEO_ADDR类型中</a>描述。它执行与<a href="SDO_GCDR-reference.html#GUID-D81719AB-9F05-440F-A66E-D40B9A34388C">SDO_GCDR.GEOCODE_AS_GEOMETRY</a>函数相同的操作;但是，该函数返回一个SDO_GEOMETRY对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B__GUID-DFDA934B-9E8A-4D4C-9423-809661C0AD52">例子</p>
                     <p>以下示例使用<code class="codeph">RELAX_BASE_NAME</code>匹配模式对加利福尼亚州旧金山市政厅的地址进行<code class="codeph">RELAX_BASE_NAME</code> 。它返回此地址的经度和纬度坐标分别为-122.41815和37.7784183。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GCDR.GEOCODE（'SCOTT'，SDO_KEYWORDARRAY（'1 Carlton B Goodlett Pl'，'San Francisco，CA 94102'），'US'，'RELAX_BASE_NAME'）FROM DUAL; SDO_GCDR.GEOCODE（'SCOTT'，SDO_KEYWORDARRAY（'1CARLTONBGOODLETTPL'，'SANFRANCISCO ---------------------------------- ---------------------------------------------- SDO_GEO_ADDR（0， SDO_KEYWORDARRAY（），NULL，'CARLTON B GOODLETT PL'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94102'，NULL，'94102'，NULL，'1'，'CARLTON B GOODLETT'，'PL'，'F'，'F'，NULL，NULL，'L'，。01,23614360，'????#ENUT？B281CP？'，1，'RELAX_BASE_NAME'， -  122.41815,37.7784183，'????0101010 ??000？“）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1101"></a><div class="props_rev_3"><a id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747" name="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747"></a><h3 id="SPATL-GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747" class="sect3"><span class="enumeration_section">25.3</span> SDO_GCDR.GEOCODE_ADDR</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-C37B642E-EB9C-46EF-AAE1-4C4738C8B26F">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.GEOCODE_ADDR（gc_username IN VARCHAR2，地址IN SDO_GEO_ADDR）RETURN SDO_GEO_ADDR;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-94A536F4-8384-4260-8C4F-48D2344D2622">描述</p>
                     <p>使用SDO_GEO_ADDR对象中的属性对输入地址进行地理编码，并将第一个匹配的地址作为SDO_GEO_ADDR对象返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-7949C867-0518-4B7E-B6CF-644EB6CA4B84">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-C80BC3E0-5775-4A49-9CDB-073CC7BB3250"><!-- --></a> gc_username</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-F2CE6944-60B0-4C69-8A05-C62AC650E89C"><!-- --></a>地址</dt>
                        <dd>
                           <p>设置了一个或多个属性的SDO_GEO_ADDR对象。SDO_GEO_ADDR类型中描述了<a href="geocoding-address-data-concepts.html#GUID-921F7D3A-BBCB-46B9-A728-C78D2A6D05AA">SDO_GEO_ADDR类型</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-36690182-18D1-471E-85ED-0A4D8B96C2D2">使用说明</p>
                     <p>此功能使您可以在输入SDO_GEO_ADDR对象中指定尽可能多的属性，就像您可以设置或想要设置一样。它找到第一个匹配的地址，并返回一个SDO_GEO_ADDR对象，其中包含所有可能的属性集。</p>
                     <p>与<a href="SDO_GCDR-reference.html#GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B">SDO_GCDR.GEOCODE</a>函数（由无格式地址行指定的输入地址进行地理<a href="SDO_GCDR-reference.html#GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B">编码）</a>不同，SDO_GCDR.GEOCODE_ADDR函数输入由SDO_GEO_ADDR对象中定义的各个寻址字段指定的地址。当您使用未格式化的地址行时，您依靠地理编码软件来解析输入地址并将其分解为单独的地址字段。此过程通常运行良好，但如果输入地址格式不正确，则会产生不良结果。相反，当您将输入地址的某些部分指定为SDO_GEO_ADDR对象属性时，可以减少地理编码错误的可能性并产生更理想的结果。
                     </p>
                     <p>有关SDO_GCDR.GEOCODE_ADDR功能的<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE__CIHGDHHA">示例</a> ，请参阅<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE" title="如果您知道地名（兴趣点）而不知道其位置详细信息，则可以创建PL / SQL函数以根据地名和国家/地区输入参数构造SDO_GEO_ADDR对象。">地方名称地理编码中的</a> <a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE__CIHGDHHA">示例12-2</a>和<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE__CIHHFJFG">示例12-3</a> 。
                     </p>
                     <p>另请参见<a href="SDO_GCDR-reference.html#GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F">SDO_GCDR.GEOCODE_ADDR_ALL</a>函数，该函数执行与此函数相同的操作，但可以返回多个地址。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747__GUID-C4F3AB03-96FD-4750-ACC4-C1DEEFB35839">例子</p>
                     <p>以下示例返回名为<code class="codeph">CALIFORNIA PACIFIC MEDICAL CTR</code>的兴趣点的地理编码结果。该示例使用名为<code class="codeph">create_addr_from_placename</code>的用户定义函数（如<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE__CIHGDHHA">示例12-2</a>中定义<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE" title="如果您知道地名（兴趣点）而不知道其位置详细信息，则可以创建PL / SQL函数以根据地名和国家/地区输入参数构造SDO_GEO_ADDR对象。">的地名编码</a> ）来构造输入SDO_GEO_ADDR对象。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sdo_gcdr.geocode_addr（'SCOTT'，create_addr_from_placename（'CALIFORNIA PACIFIC MEDICAL CTR'，'US'））FROM DUAL; SDO_GCDR.GEOCODE_ADDR（'SCOTT'，CREATE_ADDR_FROM_PLACENAME（'CALIFORNIAPACIFICME -------------------------------------- ------------------------------------------ SDO_GEO_ADDR（0，SDO_KEYWORDARRAY（）， 'CALIFORNIA PACIFIC MEDICAL CTR-SF'，'BUCHAN AN ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94115'，NULL，'94115'，N ULL，'2333' ，NULL，NULL，'F'，'F'，NULL，NULL，'L'，0,23599031，'??????????B281 CP？'，4，'DEFAULT'， -  122.43097,37.79138，'????4141114 ??404？“）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1102"></a><div class="props_rev_3"><a id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F" name="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F"></a><h3 id="SPATL-GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F" class="sect3"><span class="enumeration_section">25.4</span> SDO_GCDR.GEOCODE_ADDR_ALL</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-745C9DB5-A9A5-46F9-AE1A-E0660470B2A2">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.GEOCODE_ADDR_ALL（gc_username IN VARCHAR2，地址IN SDO_GEO_ADDR，max_res_num IN NUMBER DEFAULT 4000）返回SDO_ADDR_ARRAY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-907B489F-6D4E-4AE2-A12F-C03ADE67D38F">描述</p>
                     <p>使用SDO_GEO_ADDR对象中的属性对输入地址进行地理编码，并将匹配的地址作为SDO_ADDR_ARRAY对象返回（在<a href="geocoding-address-data-concepts.html#GUID-344B6BE3-C4B3-4C64-A84B-8468D5E13E08">SDO_ADDR_ARRAY类型中</a>描述）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-BA73E82A-9D14-46C6-B495-EC9020E1E0E0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-8240901C-EDCF-4F07-AEE2-908332A3570C"><!-- --></a> gc_username</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-E9DF0D96-D352-4EDA-999B-91BD306226B6"><!-- --></a>地址</dt>
                        <dd>
                           <p>设置了一个或多个属性的SDO_GEO_ADDR对象。SDO_GEO_ADDR类型中描述了<a href="geocoding-address-data-concepts.html#GUID-921F7D3A-BBCB-46B9-A728-C78D2A6D05AA">SDO_GEO_ADDR类型</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-1B714B58-BBF1-40F1-8588-D5786664C949"><!-- --></a> max_res_num</dt>
                        <dd>
                           <p>SDO_ADDR_ARRAY对象中要返回的最大结果数。默认值为4000。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-4F11B24A-3134-4B4C-B28E-62F09F70D60B">使用说明</p>
                     <p>此功能使您可以在输入SDO_GEO_ADDR对象中指定尽可能多的属性，就像您可以设置或想要设置一样。它找到匹配的地址（最多4000个或<code class="codeph">max_res_num</code>参数中指定的限制），并返回一个SDO_ADDR_ARRAY对象，其中每个地理编码结果都设置了所有可能的属性。
                     </p>
                     <p>此函数执行与<a href="SDO_GCDR-reference.html#GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747">SDO_GCDR.GEOCODE_ADDR</a>函数相同的操作，但它可以返回多个地址。有关更多信息，请参阅<a href="SDO_GCDR-reference.html#GUID-4A9C4AC9-350A-4C1D-BFA4-E81879F01747">SDO_GCDR.GEOCODE_ADDR</a>函数的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A10F4965-72DB-44E4-8AB4-A5D96C90A89F__GUID-535F797F-AB08-4359-8468-8FBFB2DEAD3C">例子</p>
                     <p>以下示例为名为<code class="codeph">CALIFORNIA PACIFIC MEDICAL CTR</code>的兴趣点返回最多三个地理编码结果。 （在这种情况下，只返回一个结果，因为地理编码数据只包含一个与该兴趣点匹配的地址。）该示例使用名为<code class="codeph">create_addr_from_placename</code>的用户定义函数（如<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE__CIHGDHHA">示例12-2</a>中定义<a href="geocoding-address-data-concepts.html#GUID-6288A0AF-EB34-46DF-B8E9-6A0494E127AE" title="如果您知道地名（兴趣点）而不知道其位置详细信息，则可以创建PL / SQL函数以根据地名和国家/地区输入参数构造SDO_GEO_ADDR对象。">的地名编码</a> ）来构造输入SDO_GEO_ADDR对象。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sdo_gcdr.geocode_addr_all（'SCOTT'，create_addr_from_placename（'CALIFORNIA PACIFIC MEDICAL CTR'，'US'），3）FROM DUAL; SDO_GCDR.GEOCODE_ADDR_ALL（'SCOTT'，CREATE_ADDR_FROM_PLACENAME（'CALIFORNIAPACIF -------------------------------------- ------------------------------------------ SDO_ADDR_ARRAY（SDO_GEO_ADDR（0，SDO_KEYWORDARRAY（ ），'CALIFORNIA PACIFIC MEDICAL C TR-SF'，'BUCHANAN ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94115'，N ULL，'94115'，NULL，' 2333'，NULL，NULL，'F'，'F'，NULL，NULL，'L'，0,23599031，'??????????B281CP？'，4，'DEFAULT'， -  122.43097,37.79138，'????4141114 ??404？“））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1103"></a><div class="props_rev_3"><a id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498" name="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498"></a><h3 id="SPATL-GUID-C728E3C7-A314-41C5-9D10-77C155AFC498" class="sect3"><span class="enumeration_section">25.5</span> SDO_GCDR.GEOCODE_ALL</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-3CDF39B8-DA9A-4283-8439-4AE4E150FF43">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.GEOCODE_ALL（gc_username IN VARCHAR2，addr_lines IN SDO_KEYWORDARRAY，country IN VARCHAR2，match_mode IN VARCHAR2）RETURN SDO_ADDR_ARRAY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-9C1E8254-09C3-470D-8C2D-D3C18CF33D38">描述</p>
                     <p>对与未格式化地址关联的所有地址进行地理编码，并将结果作为SDO_ADDR_ARRAY对象返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-38B5DB03-FF89-4B9A-9F14-30F1E285C440">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-3FBADA3E-697D-4E6B-B88D-8A90069B8E1F"><!-- --></a> gc_username</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-4B257B4E-6DB7-41DF-9094-6F7B8DA9234E"><!-- --></a> addr_lines</dt>
                        <dd>
                           <p>一组带引号的字符串，表示要进行地理编码的未格式化地址。SDO_KEYWORDARRAY类型中描述了<a href="geocoding-address-data-concepts.html#GUID-641F72A0-17E3-4BBD-82A6-C1CA798F6EF1">SDO_KEYWORDARRAY类型</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-07647A21-95EC-4657-A664-C43A8A8C8AC7"><!-- --></a>国家/地区</dt>
                        <dd>
                           <p>国家名称或ISO国家/地区代码。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-4A723DE4-3E22-4857-85B6-7E8E6F44C41B"><!-- --></a> match_mode</dt>
                        <dd>
                           <p>匹配模式用于地理编码操作。匹配模式在<a href="geocoding-address-data-concepts.html#GUID-880AE016-C094-416F-A2E4-C38F21B2DCAD">匹配模式</a>中说明。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-521B0312-B22D-4F50-A635-DC708420461D">使用说明</p>
                     <p>此函数返回<a href="geocoding-address-data-concepts.html#GUID-344B6BE3-C4B3-4C64-A84B-8468D5E13E08">SDO_ADDR_ARRAY类型</a>的对象，该对象在<a href="geocoding-address-data-concepts.html#GUID-344B6BE3-C4B3-4C64-A84B-8468D5E13E08">SDO_ADDR_ARRAY类型中</a>描述。它执行与<a href="SDO_GCDR-reference.html#GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B">SDO_GCDR.GEOCODE</a>函数相同的操作;但是，它可以返回多个地址的结果，在这种情况下，返回的SDO_ADDR_ARRAY对象包含多个SDO_GEO_ADDR对象。如果您的应用程序需要为其他操作选择其中一个地址，则可以使用有关每个返回地址的信息来帮助您进行选择。
                     </p>
                     <p>返回的SDO_ADDR_ARRAY数组中的每个SDO_GEO_ADDR对象表示与<code class="codeph">addr_lines</code>参数中的条件匹配的每个街道段的<code class="codeph">addr_lines</code> 。例如，如果Main Street扩展为两个邮政编码，或者在两个单独的邮政编码中有两个单独的街道名为Main Street，并且如果您为此功能指定Main Street以及城市和州，则返回的SDO_ADDR_ARRAY数组包含两个SDO_GEO_ADDR对象，每个对象反映特定邮政编码中的主街中心点。每个SDO_GEO_ADDR对象中的房屋或建筑物编号是位于街道段中心点的房屋或建筑物编号，即使输入地址不包含房屋或建筑物编号或不存在的编号。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C728E3C7-A314-41C5-9D10-77C155AFC498__GUID-362BA353-BB5F-4055-A0CB-1BC47A63550E">例子</p>
                     <p>以下示例返回一组地理编码结果，每个结果反映了加利福尼亚州旧金山市所有邮政编码中粘土街的中心点。得到的阵列包括四个SDO_GEOR_ADDR对象，每个对象反映了Clay Street延伸到的四个邮政编码（94108,94115,94118和94109）中每一个的Clay Street段中心点的房屋。</p><pre class="oac_no_warn" dir="ltr">选择SDO_GCDR.GEOCODE_ALL（'SCOTT'，SDO_KEYWORDARRAY（'Clay St'，'San Francisco，CA'），'US'，'DEFAULT'）来自DUAL; SDO_GCDR.GEOCODE_ALL（'SCOTT'，SDO_KEYWORDARRAY（'CLAYST'，'SANFRANCISCO，CA'），'US --------------------------- -------------------------------------------------- --- SDO_ADDR_ARRAY（SDO_GEO_ADDR（1，SDO_KEYWORDARRAY（），NULL，'CLAY ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94109'，NULL，'94109'，NULL ，'1698'，'CLAY'，'ST'，'F'，'F'，NULL，NULL，'L'，0,23600700，'????#ENUT？B281CP？'，1，'DEFAULT'， -  122.42093,37.79236，'????4101010 ??004？'），SDO_GEO_ADDR（1，SDO_KEYWORDARRAY（），NULL，'CLAY ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94111'，NULL，'94111'，NULL，' 398'，'CLAY'，'ST'，'F'，'F'，NULL，NULL，'L'，0,23600678，'????#ENUT？B281CP？'，1，'DEFAULT'， -  122.40027,37.79499，'????4101010 ??004？'），SDO_ GEO_ADDR（1，SDO_KEYWORDARRAY（），NULL，'CLAY ST'，NULL，NULL，'SAN FRANCISCO'，NU LL，'CA'，'US'，'94108'，NULL，'94108'，NULL ，'978'，'CLAY'，'ST'，'F'，'F'，NUL L，NULL，'L'，0,23600689，'????#ENUT？B281CP？'，1，'DEFAULT'， -  122.40904,37.793 85，'????4101010 ??004？'），SDO_GEO_ADDR（1，SDO_KEYWORDARRAY（），NULL，'CLAY ST'，N ULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94115'，NULL，'94115'，NULL， '279 8'，'CLAY'，'ST'，'F'，'F'，NULL，NULL，'L'，0,23600709，'????#ENUT？B281CP？'，1，'DEFAULT'， -  122.43909,37.79007，'????4101010 ??004？'），SDO_GEO_ADDR（1，SDO_KEY WORDARRAY（），NULL，'CLAY ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94 118'，NULL，'94118'，NULL ，'3698'，'CLAY'，'ST'，'F'，'F'，NULL，NULL，'L'，0,2 3600718，'????#ENUT？B281CP？'，1，'DEFAULT'， -  122.45372,37.78822，'????4101010 ??004？“））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1104"></a><div class="props_rev_3"><a id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C" name="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C"></a><h3 id="SPATL-GUID-D81719AB-9F05-440F-A66E-D40B9A34388C" class="sect3"><span class="enumeration_section">25.6</span> SDO_GCDR.GEOCODE_AS_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-E2B2C305-B848-40F4-8E75-E381CA9FF802">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.GEOCODE_AS_GEOMETRY（用户名IN VARCHAR2，addr_lines IN SDO_KEYWORDARRAY，country IN VARCHAR2）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-D5EC74B2-09A2-4DEB-8B3F-271013FF8842">描述</p>
                     <p>对未格式化的地址进行地理编码，并将结果作为SDO_GEOMETRY对象返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-69D069A3-9538-4408-A2FF-8CD1562500B3">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-86DB10CF-0E47-4025-8058-2BA1A17E1FB2"><!-- --></a>用户名</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-866036C4-6781-408E-ACB9-1E9F2091DEB3"><!-- --></a> addr_lines</dt>
                        <dd>
                           <p>一组带引号的字符串，表示要进行地理编码的未格式化地址。SDO_KEYWORDARRAY类型中描述了<a href="geocoding-address-data-concepts.html#GUID-641F72A0-17E3-4BBD-82A6-C1CA798F6EF1">SDO_KEYWORDARRAY类型</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-1431988D-655E-44BD-A119-B92C682F0BE4"><!-- --></a>国家/地区</dt>
                        <dd>
                           <p>国家名称或ISO国家/地区代码。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-84AE0FB7-BF20-4BB7-9016-99F833C8F110">使用说明</p>
                     <p>此函数返回SDO_GEOMETRY类型的对象。它执行与<a href="SDO_GCDR-reference.html#GUID-5DB0CD0E-2A32-4628-B5D8-57F739F1C14B">SDO_GCDR.GEOCODE</a>函数相同的操作;但是，该函数返回一个SDO_GEOR_ADDR对象。
                     </p>
                     <p>此功能使用匹配模式<code class="codeph">'DEFAULT'</code>进行地理编码操作。匹配模式在<a href="geocoding-address-data-concepts.html#GUID-880AE016-C094-416F-A2E4-C38F21B2DCAD">匹配模式</a>中说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D81719AB-9F05-440F-A66E-D40B9A34388C__GUID-676024E5-40D9-4736-8639-F11D814B8691">例子</p>
                     <p>以下示例对加利福尼亚州旧金山市政厅的地址进行地理编码。它返回一个SDO_GEOMETRY对象，其中该地址的经纬度坐标分别为-122.41815和37.7784183。</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GCDR.GEOCODE_AS_GEOMETRY（'SCOTT'，SDO_KEYWORDARRAY（'1 Carlton B Goodlett Pl'，'San Francisco，CA 94102'），'US'）FROM DUAL; SDO_GCDR.GEOCODE_AS_GEOMETRY（'SCOTT'，SDO_KEYWORDARRAY（'1CARLTONBGOODLETTPL'，'----------------------------------- --------------------------------------------- SDO_GEOMETRY（2001,8307 ，SDO_POINT_TYPE（-122.41815,37.7784183，NULL），NULL，NUL L）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1105"></a><div class="props_rev_3"><a id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F" name="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F"></a><h3 id="SPATL-GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F" class="sect3"><span class="enumeration_section">25.7</span> SDO_GCDR.REVERSE_GEOCODE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-4E743FAC-3388-47CD-AA74-86F8DE02F072">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GCDR.REVERSE_GEOCODE（用户名IN VARCHAR2，位置IN SDO_GEOMETRY，country IN VARCHAR2）RETURN SDO_GEO_ADDR;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-58F927F9-14CC-4160-B411-172C5A50E877">描述</p>
                     <p>反向对由空间几何对象和国家/地区指定的位置进行地理编码，并将结果作为SDO_GEO_ADDR对象返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-79B1872B-D3A1-4D5C-BF2B-4719C0B95C1E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-1CA6DF5E-E8CA-4C70-BA2F-753628105DD7"><!-- --></a>用户名</dt>
                        <dd>
                           <p>拥有包含地理编码数据的表的用户的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-84645516-CCCE-4360-8177-1DB051B2CF32"><!-- --></a>位置</dt>
                        <dd>
                           <p>SDO_GEOMETRY对象，指定要进行反向地理编码的点位置。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-A6F17A8B-D6DB-46EF-AC8A-EEF888C5B9C0"><!-- --></a>国家/地区</dt>
                        <dd>
                           <p>国家名称或ISO国家/地区代码。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-C4468568-8043-4A7B-BFB1-B6151BB74997">使用说明</p>
                     <p>此函数返回SDO_GEOR_ADDR类型的对象，该对象在<a href="geocoding-address-data-concepts.html#GUID-921F7D3A-BBCB-46B9-A728-C78D2A6D05AA">SDO_GEO_ADDR类型中</a>描述。
                     </p>
                     <p>必须在表GC_ROAD_SEGMENT_ <span class="italic">&lt;table-suffix&gt;</span>上创建空间索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1265DDF2-F359-4448-9DCF-A205C3FF3B2F__GUID-0046E393-C947-4037-A758-396584FBB39C">例子</p>
                     <p>以下示例反向对具有经度和纬度值的点进行地理编码（-122.41815,37.7784183）。对于此示例，在GC_ROAD_SEGMENT_US表中的GEOMETRY列上创建了空间索引。</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GCDR.REVERSE_GEOCODE（'SCOTT'，SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（-122.41815,37.7784183，NULL），NULL，NULL），'US'）FROM DUAL; SDO_GCDR.REVERSE_GEOCODE（'SCOTT'，SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（-122.4 --------------------------------） ------------------------------------------------ SDO_GEO_ADDR（ 0，SDO_KEYWORDARRAY（），NULL，'POLK ST'，NULL，NULL，'SAN FRANCISCO'，NULL，'CA'，'US'，'94102'，NULL，'94102'，NULL，'200'，'POLK '，'ST'，'F'，'F'，NULL，NULL，'R'，。00966633,23614360，''，1，'DEFAULT'， -  122.41815,37.7784177，'????4141414 ??404？“）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR包（地理编码）</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04098.advanced-queuing.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle高级队列</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-sharding.html" title="Previous" type="text/html"></link>
      <link rel="next" href="continuos-query-notification.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-sharding.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="continuos-query-notification.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="performance-and-scalability.html" property="item" typeof="WebPage"><span property="name">性能和可伸缩性</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle高级队列</li>
            </ol>
            <a id="GUID-2031547B-6E72-4C75-A75A-AD0D3A31AE76" name="GUID-2031547B-6E72-4C75-A75A-AD0D3A31AE76"></a><a id="JJDBC28801"></a>
            
            <h2 id="JJDBC-GUID-2031547B-6E72-4C75-A75A-AD0D3A31AE76" class="sect2"><span class="enumeration_chapter">26</span> Oracle高级队列</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Advanced Queuing（AQ）提供了数据库集成的消息队列功能。它构建于Oracle Streams之上，并优化Oracle数据库的功能，以便可以持久存储消息，在不同计算机和数据库的队列之间传播，并使用Oracle Net Services，HTTP和HTTPS进行传输。由于Oracle AQ是在数据库表中实现的，因此高可用性，可伸缩性和可靠性的所有操作优势也适用于队列数据。本章提供有关Oracle AQ的Java接口的信息。</p>
               <div class="infoboxnote" id="GUID-2031547B-6E72-4C75-A75A-AD0D3A31AE76__GUID-34BB8418-B244-4E82-808D-CEBFCFEF70F9">
                  <p class="notep1">注意：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Advanced Queuing（AQ）是Oracle JDBC Thin驱动程序的一项功能，JDBC OCI驱动程序不支持该功能。</p>
                     </li>
                     <li>
                        <p>在Oracle Database <span class="italic">12c</span>第1版（12.1）中，添加了对<code class="codeph">XMLType</code>队列的支持。直到Oracle Database <span class="italic">11g</span>第1版，支持的队列类型是<code class="codeph">RAW</code> ， <code class="codeph">ADT</code>和<code class="codeph">ANYDATA</code>队列类型。
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-2031547B-6E72-4C75-A75A-AD0D3A31AE76__GUID-2305924F-E1C2-4EAA-B769-17FF66E86CD1">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../adque/aq-introduction.html#ADQUE-GUID-9714FE10-9721-4C78-93C6-0A3C4D9F5CBD" target="_blank"><span><cite>Oracle数据库高级队列用户指南</cite></span></a></p>
               </div>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="advanced-queuing.html#GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213">Oracle Advanced Queuing的功能和框架</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-F97B8E25-C394-468B-97BF-41ECE8C42AC5">对数据库进行更改</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-54F01AE4-0C8E-4A94-8C26-93F60B9C1B71">AQ异步事件通知</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-CCEF5E83-7338-4EF5-B9DE-27E468AC59B5">关于创建消息</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-CF24AC0C-FC14-4062-A9C0-CAB96F1C8D3E">排队邮件</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A">出列消息</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-queuing.html#GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429">示例：入队和出队</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28802"></a><div class="props_rev_3"><a id="GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213" name="GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213"></a><h3 id="JJDBC-GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213" class="sect3"><span class="enumeration_section">26.1</span> Oracle高级队列的功能和框架</h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC包<code class="codeph">oracle.jdbc.aq</code>为AQ提供了一个快速的Java接口。该软件包包含以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>类</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">AQDequeueOptions</code></p>
                                 <p>指定可用于出列操作的选项</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQEnqueueOptions</code></p>
                                 <p>指定可用于排队操作的选项</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQFactory</code></p>
                                 <p>是AQ的工厂类</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQNotificationEvent</code></p>
                                 <p>每当新邮件在您注册了您感兴趣的队列中排队时创建</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>接口</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">AQAgent</code></p>
                                 <p>用于表示和标识队列的用户或消息的生产者或使用者</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQMessage</code></p>
                                 <p>表示已入队或出列的消息</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQMessageProperties</code></p>
                                 <p>包含消息属性，如“关联”，“发件人”，“延迟”和“到期”，“收件人”以及“优先级和排序”</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQNotificationListener</code></p>
                                 <p>是用于接收AQ通知事件的侦听器接口</p>
                              </li>
                              <li>
                                 <p><code class="codeph">AQNotificationRegistration</code></p>
                                 <p>表示您希望在新消息在特定队列中入队时收到通知</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>通过这些类和接口，您可以访问现有队列，创建消息以及使消息入队和出列。</p>
                     <div class="infoboxnote" id="GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213__GUID-C77741C2-0650-440F-A2E6-9846C859C01C">
                        <p class="notep1">注意：</p>
                        <p>Oracle JDBC驱动程序<span class="italic">不</span>提供任何API来创建队列。必须通过<code class="codeph">DBMS_AQADM</code> PL / SQL包创建队列。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-270EF1FE-F9C1-4767-86C9-DC798B7DA213__GUID-5BEAB762-C001-4C2C-A288-DAB61E1549E1">
                        <p class="notep1">也可以看看：</p>
                        <p>有关API的更多信息，请参阅<a href="../jajdb/index.html" target="_blank"><span class="italic">Oracle Database JDBC Java API Reference</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28803"></a><div class="props_rev_3"><a id="GUID-F97B8E25-C394-468B-97BF-41ECE8C42AC5" name="GUID-F97B8E25-C394-468B-97BF-41ECE8C42AC5"></a><h3 id="JJDBC-GUID-F97B8E25-C394-468B-97BF-41ECE8C42AC5" class="sect3"><span class="enumeration_section">26.2</span>对数据库进行更改</h3>
               <div>
                  <div class="section">
                     <p>本章中使用的代码片段假定用户<code class="codeph">HR</code>正在连接到数据库。因此，在数据库中，您必须向<code class="codeph">HR</code>授予以下权限：</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ到HR的GRANT EXECUTE; DBMS_AQADM到HR的GRANT EXECUTE;向人力资源部门授予AQ_ADMINISTRATOR_ROLE; GRANT ADMINISTER DATABASE TRIGGER TO HR;</pre><p>在开始对消息进行入队和出列之前，必须在数据库中具有队列。为此，您必须执行以下操作：</p>
                     <ol>
                        <li>
                           <p>以下列方式创建队列表：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_AQADM.CREATE_QUEUE_TABLE（QUEUE_TABLE =&gt;'HR.RAW_SINGLE_QUEUE_TABLE'，QUEUE_PAYLOAD_TYPE =&gt;'RAW'，COMPATIBLE =&gt; '10 .0'）;结束;</pre></li>
                        <li>
                           <p>通过以下方式创建队列：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_AQADM.CREATE_QUEUE（QUEUE_NAME =&gt;'HR.RAW_SINGLE_QUEUE'，QUEUE_TABLE =&gt;'HR.RAW_SINGLE_QUEUE_TABLE'，END;</pre></li>
                        <li>
                           <p>以下列方式启动队列：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_AQADM.START_QUEUE（'HR.RAW_SINGLE_QUEUE'，END;</pre></li>
                     </ol>
                     <p>停止队列并从数据库中删除队列表是一种很好的做法。您可以通过以下方式执行此操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以下列方式停止队列：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_AQADM.STOP_QUEUE（HR.RAW_SINGLE_QUEUE'，END;</pre></div>
                     </li>
                     <li class="stepexpand"><span>通过以下方式从数据库中删除队列表：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_AQADM.DROP_QUEUE_TABLE（QUEUE_TABLE =&gt;'HR.RAW_SINGLE_QUEUE_TABLE'，FORCE =&gt; TRUE END;</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="JJDBC28804"></a><div class="props_rev_3"><a id="GUID-54F01AE4-0C8E-4A94-8C26-93F60B9C1B71" name="GUID-54F01AE4-0C8E-4A94-8C26-93F60B9C1B71"></a><h3 id="JJDBC-GUID-54F01AE4-0C8E-4A94-8C26-93F60B9C1B71" class="sect3"><span class="enumeration_section">26.3</span> AQ异步事件通知</h3>
               <div>
                  <p>JDBC应用程序可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>注册到AQ名称空间并在发生入队时接收通知。这可以通过以下方式执行：</p><pre class="oac_no_warn" dir="ltr">public AQNotificationRegistration registerForAQEvents（OracleConnection conn，String queueName）抛出SQLException {Properties globalOptions = new Properties（）; String [] queueNameArr = new String [1]; queueNameArr [0] = queueName;属性[] opt = new Properties [1]; opt [0] = new Properties（）;选择[0] .setProperty（的OracleConnection。NTF_AQ_PAYLOAD， “真”）; AQNotificationRegistration [] regArr = conn.registerAQNotification（queueNameArr，opt，globalOptions）; AQNotificationRegistration reg = regArr [0];返回reg; }</pre></li>
                     <li>
                        <p>注册数据库事件的订阅并在触发事件时接收通知</p>
                        <p>在触发事件时或在显式AQ队列中（或者在您注册了您感兴趣的队列中将新消息排入队列），将异步通知已注册的客户端。客户端不需要连接到数据库。</p>
                        <p>以下代码段显示了如何订阅数据库事件并在触发事件时接收通知：</p><pre class="oac_no_warn" dir="ltr">class DemoAQRawQueueListener实现AQNotificationListener {OracleConnection conn; String queueName; String typeName; int eventsCount = 0; public DemoAQRawQueueListener（String _queueName，String _typeName）抛出SQLException {queueName = _queueName; typeName = _typeName; conn =（OracleConnection）DriverManager.getConnection（DemoAQRawQueue。URL，DemoAQRawQueue。USERNAME，DemoAQRawQueue。密码）; public void onAQNotification（AQNotificationEvent e）{try {AQDequeueOptions deqopt = new AQDequeueOptions（）; deqopt.setRetrieveMessageId（真）; if（e.getConsumerName（）！= null）deqopt.setConsumerName（e.getConsumerName（））; if（（e.getMessageProperties（））。getDeliveryMode（）== AQMessageProperties。DeliveryMode。BUFFERED）{deqopt.setDeliveryMode（AQDequeueOptions。DEQUEUE_BUFFERED）; deqopt.setVisibility（AQDequeueOptions。DEQUEUE_IMMEDIATE）; } AQMessage msg = conn.dequeue（queueName，deqopt，typeName）; byte [] msgId = msg.getMessageId（）; if（msgId！= null）{String mesgIdStr = DemoAQRawQueue.byteBufferToHexString（msgId，20）; System.out.println（“dequeued的消息ID =”+ mesgIdStr）; System.out.println（msg.getMessageProperties（）。toString（））; byte [] payload = msg.getPayload（）; if（typeName.equals（“RAW”））{String payloadStr = new String（payload，0,10）; System.out.println（“payload.length =”+ payload.length +“，value =”+ payloadStr）; catch（SQLException sqlex）{System.out.println（sqlex.getMessage（））; } eventsCount ++; public int getEventsCount（）{return eventsCount; public void closeConnection（）抛出SQLException {conn.close（）; }}</pre></li>
                     <li>
                        <p>通过以下方式注册到监听器：</p><pre class="oac_no_warn" dir="ltr">AQNotificationRegistration reg = registerForAQEvents（conn，queueName +“：BLUE”）; DemoAQRawQueueListener demo_li = new DemoAQRawQueueListener（queueName，queueType）; reg.addListener（demo_li）;</pre></li>
                  </ul>
               </div>
            </div><a id="JJDBC28805"></a><div class="props_rev_3"><a id="GUID-CCEF5E83-7338-4EF5-B9DE-27E468AC59B5" name="GUID-CCEF5E83-7338-4EF5-B9DE-27E468AC59B5"></a><h3 id="JJDBC-GUID-CCEF5E83-7338-4EF5-B9DE-27E468AC59B5" class="sect3"><span class="enumeration_section">26.4</span>关于创建消息</h3>
               <div>
                  <p>本节介绍以下概念：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="advanced-queuing.html#GUID-0A322480-9372-4B14-A4C0-16883BBCAC26">创建消息</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-queuing.html#GUID-1BEFE9AF-BC7F-4A22-A1F9-1E3225B113DC">AQ消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-queuing.html#GUID-44FE0646-6E73-475C-BCD3-0DF199E1A130">AQ消息有效负载</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-0A322480-9372-4B14-A4C0-16883BBCAC26" name="GUID-0A322480-9372-4B14-A4C0-16883BBCAC26"></a><h4 id="JJDBC-GUID-0A322480-9372-4B14-A4C0-16883BBCAC26" class="sect4"><span class="enumeration_section">26.4.1</span>创建消息</h4>
                  <div>
                     <div class="section">
                        <p>在排队邮件之前，您必须创建邮件。实现<code class="codeph">AQMessage</code>接口的类的实例表示AQ消息。AQ消息包含属性（元数据）和有效负载（数据）。执行以下操作以创建AQ消息：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以下列方式创建<code class="codeph">AQMessageProperties</code>的实例：</span><div><pre class="oac_no_warn" dir="ltr">AQMessageProperties msgprop = AQFactory.createAQMessageProperties（）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>按以下方式设置属性属性：</span><div><pre class="oac_no_warn" dir="ltr">msgprop.setCorrelation（ “mycorrelation”）; msgprop.setExceptionQueue（ “MY_EXCEPTION_QUEUE”）; msgprop.setExpiration（0）; msgprop.setPriority（1）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">AQMessageProperties</code>对象以下列方式创建AQ消息：</span><div><pre class="oac_no_warn" dir="ltr">AQMessage mesg = AQFactory.createAQMessage（msgprop）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>按以下方式设置有效负载：</span><div><pre class="oac_no_warn" dir="ltr">byte [] rawPayload =“Example_Payload”.getBytes（）; mesg.setPayload（new oracle.sql。RAW（rawPayload））;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1BEFE9AF-BC7F-4A22-A1F9-1E3225B113DC" name="GUID-1BEFE9AF-BC7F-4A22-A1F9-1E3225B113DC"></a><h4 id="JJDBC-GUID-1BEFE9AF-BC7F-4A22-A1F9-1E3225B113DC" class="sect4"><span class="enumeration_section">26.4.2</span> AQ消息属性</h4>
                  <div>
                     <div class="section">
                        <p>AQ消息的属性由<code class="codeph">AQMessageProperties</code>接口的实例表示。您可以设置或获取以下消息属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Dequeue Attempts Count：指定使消息出列的尝试次数。无法设置此属性。</p>
                           </li>
                           <li>
                              <p>相关性：是在将消息排入队列时由消息的生产者提供的标识符。</p>
                           </li>
                           <li>
                              <p>延迟：消息处于<code class="codeph">WAITING</code>状态的秒数。在指定的延迟之后，消息处于<code class="codeph">READY</code>状态并可用于出列。使用消息ID（msgid）使消息出列会覆盖延迟规范。
                              </p>
                              <div class="infoboxnote" id="GUID-1BEFE9AF-BC7F-4A22-A1F9-1E3225B113DC__GUID-4FB3C6C8-6E62-4C12-99F6-8922EC59F765">
                                 <p class="notep1">注意：</p>
                                 <p>缓冲消息传递不支持延迟。</p>
                              </div>
                           </li>
                           <li>
                              <p>传递模式：指定消息是缓冲消息还是持久消息。无法设置此属性。</p>
                           </li>
                           <li>
                              <p>入队时间：指定消息入队的时间。该值由系统确定，不能由用户设置。</p>
                           </li>
                           <li>
                              <p>异常队列：指定无法成功处理消息时移动到的队列的名称。消息在两种情况下移动：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>不成功的出队尝试次数已超过<code class="codeph">max_retries</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>邮件已过期。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>到期时间：从消息达到<code class="codeph">READY</code>状态开始，消息可用于出队的秒数。如果消息在到期之前未出列，则将其移至<code class="codeph">EXPIRED</code>状态的异常队列。
                              </p>
                           </li>
                           <li>
                              <p>消息状态：指定消息出列时的消息状态。无法设置此属性。</p>
                           </li>
                           <li>
                              <p>上一个队列消息ID：是生成当前消息的最后一个队列中的消息的ID。当消息从一个队列传播到另一个队列时，此属性标识上次传播它的队列的ID。无法设置此属性。</p>
                           </li>
                           <li>
                              <p>优先级：指定消息的优先级。它可以是任何整数，包括负整数;值越小，优先级越高。</p>
                           </li>
                           <li>
                              <p>收件人列表：是表示收件人的<code class="codeph">AQAgent</code>对象列表。默认收件人是队列订户。此参数仅对多个使用者队列有效。
                              </p>
                           </li>
                           <li>
                              <p>发件人：是生成器在排队邮件时指定的标识符。它是<code class="codeph">AQAgent</code>一个实例。
                              </p>
                           </li>
                           <li>
                              <p>事务组：指定事务分组队列的消息的事务组。它是在成功调用<code class="codeph">dequeueArray</code>方法之后设置的。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-44FE0646-6E73-475C-BCD3-0DF199E1A130" name="GUID-44FE0646-6E73-475C-BCD3-0DF199E1A130"></a><h4 id="JJDBC-GUID-44FE0646-6E73-475C-BCD3-0DF199E1A130" class="sect4"><span class="enumeration_section">26.4.3</span> AQ消息有效负载</h4>
                  <div>
                     <div class="section">
                        <p>根据队列的类型，可以使用<code class="codeph">AQMessage</code>接口的<code class="codeph">setPayload</code>方法指定AQ消息的有效负载。以下代码段说明了如何设置有效内容：</p><pre class="oac_no_warn" dir="ltr">...byte [] rawPayload =“Example_Payload”.getBytes（）; mesg.setPayload（new oracle.sql。RAW（rawPayload））; ...</pre><p>您可以使用<code class="codeph">getPayload</code>方法或适当的<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">Payload</code>方法以下列方式检索AQ消息的<code class="codeph">Payload</code> ：</p><pre class="oac_no_warn" dir="ltr">byte [] payload = mesg.getPayload（）;</pre><p>这些方法在<code class="codeph">AQMessage</code>接口中定义。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28809"></a><a id="JJDBC28808"></a><div class="props_rev_3"><a id="GUID-67510B08-91FB-4132-8138-68A6ED0DD21F" name="GUID-67510B08-91FB-4132-8138-68A6ED0DD21F"></a><h3 id="JJDBC-GUID-67510B08-91FB-4132-8138-68A6ED0DD21F" class="sect3"><span class="enumeration_section">26.5</span>示例：创建消息并设置有效负载</h3>
               <div>
                  <div class="section">
                     <p>本节提供了一个示例，说明如何创建消息和设置有效负载。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-67510B08-91FB-4132-8138-68A6ED0DD21F__GUID-12D6619B-EEF5-4D4E-9330-56C91939F887">
                     <p class="titleinexample">示例26-1创建消息并设置有效负载</p>
                     <p>此示例显示如何创建<code class="codeph">AQMessageProperties</code>的实例，设置属性属性，创建AQ消息以及设置有效内容。
                     </p><pre class="oac_no_warn" dir="ltr">AQMessageProperties msgprop = AQFactory.createAQMessageProperties（）; msgprop.setCorrelation（ “mycorrelation”）; msgprop.setExceptionQueue（ “MY_EXCEPTION_QUEUE”）; AQAgent ag = AQFactory.createAQAgent（）; ag.setName（ “MY_SENDER_AGENT_NAME”）; ag.setAddress（ “MY_SENDER_AGENT_ADDRESS”）; msgprop.setSender（AG）; <span class="bold">//处理多个消费者案例：</span> if（收件人！= null）msgprop.setRecipientList（recipients）;的System.out.println（msgprop.toString（））; AQMessage mesg = AQFactory.createAQMessage（msgprop）; byte [] rawPayload =“Example_Payload”.getBytes（）; mesg.setPayload（new oracle.sql。RAW（rawPayload））;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="JJDBC28810"></a><div class="props_rev_3"><a id="GUID-CF24AC0C-FC14-4062-A9C0-CAB96F1C8D3E" name="GUID-CF24AC0C-FC14-4062-A9C0-CAB96F1C8D3E"></a><h3 id="JJDBC-GUID-CF24AC0C-FC14-4062-A9C0-CAB96F1C8D3E" class="sect3"><span class="enumeration_section">26.6</span>排队消息</h3>
               <div>
                  <div class="section">
                     <p>创建消息并设置消息属性和有效内容后，可以使用<code class="codeph">OracleConnection</code>接口的<code class="codeph">enqueue</code>方法将消息<code class="codeph">enqueue</code> <code class="codeph">OracleConnection</code> 。在排队邮件之前，您可以指定一些排队选项。使用<code class="codeph">AQEnqueueOptions</code>类可以指定以下入队选项：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>交货方式：指定交货方式。传递模式可以设置为持久（ <code class="codeph">ENQUEUE_PERSISTENT</code> ）或缓冲（ <code class="codeph">ENQUEUE_BUFFERED</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>检索消息ID：指定在消息排队时是否必须从服务器检索消息ID。默认情况下，不会检索消息ID。</p>
                        </li>
                        <li>
                           <p>转换：指定在排队消息之前应用的转换。转换函数的返回类型必须与队列的类型匹配。</p>
                           <div class="infoboxnote" id="GUID-CF24AC0C-FC14-4062-A9C0-CAB96F1C8D3E__GUID-F832569C-0F4D-4F4A-A6A0-AB6538308468">
                              <p class="notep1">注意：</p>
                              <p>必须使用<code class="codeph">DBMS_TRANSFORM.CREATE_TRANSFORMATION(...)</code>在PL / SQL中创建转换。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>可见性：指定入队请求的事务行为。此选项的默认值为<code class="codeph">ENQUEUE_ON_COMMIT</code> 。它表示排队操作是当前事务的一部分。<code class="codeph">ENQUEUE_IMMEDIATE</code>表示入队操作是自治事务，它在操作结束时提交。对于缓冲消息传递，您必须使用<code class="codeph">ENQUEUE_IMMEDIATE</code> 。</p>
                        </li>
                     </ul>
                     <p>以下代码段说明了如何设置enqueue选项并将消息排入队列：</p><pre class="oac_no_warn" dir="ltr">...AQEnqueueOptions opt = new AQEnqueueOptions（）; opt.setRetrieveMessageId（true）; conn.enqueue（queueName，opt，mesg）; ...
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28811"></a><div class="props_rev_3"><a id="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A" name="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A"></a><h3 id="JJDBC-GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A" class="sect3"><span class="enumeration_section">26.7出</span>列消息</h3>
               <div>
                  <div class="section">
                     <p>排队的消息可以使用<code class="codeph">OracleConnection</code>接口的<code class="codeph">dequeue</code>方法出列。在出列消息之前，必须设置出队选项。<code class="codeph">AQDequeueOptions</code>类使您可以指定以下出列选项：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>条件：根据消息属性，消息数据属性和PL / SQL函数指定条件表达式。使用类似于SQL查询的<code class="codeph">WHERE</code>子句的语法将出列条件指定为<code class="codeph">Boolean</code>表达式。
                           </p>
                        </li>
                        <li>
                           <p>使用者名称：如果指定，则仅访问与使用者名称匹配的消息。</p>
                           <div class="infoboxnote" id="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A__GUID-F7FD005C-5C5F-49F4-9979-6F8F5BD5C062">
                              <p class="notep1">注意：</p>
                              <p>如果队列是单用户队列，请<span class="italic">不要</span>设置此选项。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>相关性：指定出列操作的相关标准（或搜索条件）。</p>
                        </li>
                        <li>
                           <p>传递过滤器：指定要出列的邮件类型。您只将缓冲消息（ <code class="codeph">DEQUEUE_BUFFERED</code> ）或仅持久消息（ <code class="codeph">DEQUEUE_PERSISTENT</code> ）（默认值）或两者（ <code class="codeph">DEQUEUE_PERSISTENT_OR_BUFFERED</code> ）出列。
                           </p>
                        </li>
                        <li>
                           <p>出队消息ID：指定要出列的消息的消息标识符。这可用于使ID已知的唯一消息出列。</p>
                        </li>
                        <li>
                           <p>出队模式：指定与出队操作关联的锁定行为。它可以采用以下值之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DequeueMode。BROWSE</code> ：消息在没有获取任何锁定的情况下出列。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DequeueMode。LOCKED</code> ：消息通过写入锁定进行，该写入锁定持续到事务的持续时间。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DequeueMode。REMOVE</code> :(默认）消息已出列并删除。可以根据保留属性将消息保留在队列中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DequeueMode。REMOVE_NO_DATA</code> ：消息被标记为已更新或已删除。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>最大缓冲区长度：指定从<code class="codeph">RAW</code>队列中出列消息时将分配的最大字节数。默认最大值为<code class="codeph">DEFAULT_MAX_PAYLOAD_LENGTH</code>但可以更改为任何其他非零值。如果缓冲区的大小不足以包含整个消息，则将忽略超出的字节数。
                           </p>
                        </li>
                        <li>
                           <p>导航：指定要检索的消息的位置。它可以采用以下值之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">NavigationOption。FIRST_MESSAGE</code> ：匹配搜索条件的第一个可用消息已出列。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NavigationOption。NEXT_MESSAGE</code> :(默认）与搜索条件匹配的下一个可用消息已出列。如果先前的消息属于消息组，则与消息组中的搜索条件匹配的下一个可用消息将出列。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NavigationOption。NEXT_TRANSACTION</code> ：跳过当前事务组中的消息，并将下一个事务组的第一条消息出列。<span class="italic">仅</span>当为队列启用了邮件分组时，才能使用此设置。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>检索消息ID：指定是否需要检索出列消息的消息标识符。默认情况下，不会检索它。</p>
                        </li>
                        <li>
                           <p>转换：指定在将消息出列后将应用的转换。转换的源类型必须与队列的类型匹配。</p>
                           <div class="infoboxnote" id="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A__GUID-32168A0A-F921-4E2F-9D85-38BDCFAD2EC5">
                              <p class="notep1">注意：</p>
                              <p>必须使用<code class="codeph">DBMS_TRANSFORM.CREATE_TRANSFORMATION(...)</code>在PL / SQL中创建转换。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>可见性：指定消息是否作为当前事务的一部分出列。它可以采用以下值之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">VisibilityOption。ON_COMMIT</code> :(默认）dequeue操作是当前事务的一部分。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">VisibilityOption。IMMEDIATE</code> ：dequeue操作是一个在操作结束时提交的自治事务。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A__GUID-1BCB28F5-A177-4F04-9CE1-7A66F948B2F4">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">DequeueMode.忽略Visibility选项<code class="codeph">DequeueMode.BROWSE</code>出队模式。如果传递过滤器为<code class="codeph">DEQUEUE_BUFFERED</code>或<code class="codeph">DEQUEUE_PERSISTENT_OR_BUFFERED</code> ，则<span class="italic">必须</span>将此选项设置为<code class="codeph">VisibilityOption.IMMEDIATE</code> 。</p>
                           </div>
                        </li>
                        <li>
                           <p>等待：如果没有消息与搜索条件匹配，则指定出列操作的等待时间。默认值为<code class="codeph">DEQUEUE_WAIT_FOREVER</code>表示操作永远等待。如果设置为<code class="codeph">DEQUEUE_NO_WAIT</code> ，则操作不会等待。如果指定了数字，则出列操作将等待指定的秒数。
                           </p>
                           <div class="infoboxnote" id="GUID-163B54F8-B3CF-41EE-9910-47D06F3A7D7A__GUID-F1072B0E-37BD-4348-A620-5A002EFCFD93">
                              <p class="notep1">注意：</p>
                              <p>如果使用<code class="codeph">DEQUEUE_WAIT_FOREVER</code> ，则在队列中出现与搜索条件匹配的消息之前，将不会返回出列操作。但是，您可以通过调用<code class="codeph">OracleConnection</code>对象上的<code class="codeph">cancel</code>方法来中断出列操作。
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p>以下代码段说明了如何设置出队选项并使消息出列：</p><pre class="oac_no_warn" dir="ltr">...AQDequeueOptions deqopt = new AQDequeueOptions（）; deqopt.setRetrieveMessageId（真）; deqopt.setConsumerName（consumerName）; AQMessage msg = conn.dequeue（queueName，deqopt，queueType）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28813"></a><a id="JJDBC28814"></a><a id="JJDBC28812"></a><div class="props_rev_3"><a id="GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429" name="GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429"></a><h3 id="JJDBC-GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429" class="sect3"><span class="enumeration_section">26.8</span>示例：入队和出队</h3>
               <div>
                  <div class="section">
                     <p>本节提供了一些示例，说明如何使消息入队和出列。</p>
                     <p><a href="advanced-queuing.html#GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429__BABJCHGG">例26-2</a>说明了如何排队消息， <a href="advanced-queuing.html#GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429__BABGEEGE">例26-3</a>说明了如何使消息出列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429__BABJCHGG">
                     <p class="titleinexample">例26-2排队单个消息</p>
                     <p>此示例说明如何获取对队列的访问权限，创建消息并将其排入队列。</p><pre class="oac_no_warn" dir="ltr">AQMessageProperties msgprop = AQFactory.createAQMessageProperties（）; msgprop.setPriority（1）; msgprop.setExceptionQueue（ “EXCEPTION_QUEUE”）; msgprop.setExpiration（0）; AQAgent agent = AQFactory.createAQAgent（）; agent.setName（ “AGENTNAME”）; agent.setAddress（ “AGENTADDRESS”）; msgprop.setSender（剂）; AQMessage mesg = AQFactory.createAQMessage（msgprop）; mesg.setPayload（缓冲液）; //其中buffer是一个字节数组（对于RAW队列）AQEnqueueOptions options = new AQEnqueueOptions（）; conn.enqueue（“HR.MY_QUEUE”，options，mesg）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-A74A1FDD-8984-411C-9706-19A0A6FF0429__BABGEEGE">
                     <p class="titleinexample">例26-3使单个消息出列</p>
                     <p>此示例说明如何获取对队列的访问权限，设置出列选项以及使消息出列。</p><pre class="oac_no_warn" dir="ltr">AQDequeueOptions options = new AQDequeueOptions（）; options.setDeliveryFilter（AQDequeueOptions。DeliveryFilter。缓冲的）; AQMessage mesg = conn.dequeue（“HR.MY_QUEUE”，options，“RAW”）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10747.SQL-JSON-Conditions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL / JSON条件</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XML-Conditions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Compound-Conditions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-Conditions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Compound-Conditions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Conditions.html" property="item" typeof="WebPage"><span property="name">条件</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL / JSON条件</li>
            </ol>
            <a id="GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63" name="GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63"></a><a id="SQLRF57035"></a><a id="SQLRF56660"></a>
            
            <h2 id="SQLRF-GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63" class="sect2">SQL / JSON条件</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>SQL / JSON条件允许您测试JavaScript Object Notation（JSON）数据，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="SQL-JSON-Conditions.html#GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA">IS JSON Condition</a>允许您测试表达式是否在语法上是正确的JSON数据</p>
                     </li>
                     <li>
                        <p><a href="SQL-JSON-Conditions.html#GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988">JSON_EXISTS Condition</a>允许您测试JSON数据中是否存在指定的JSON值</p>
                     </li>
                     <li>
                        <p><a href="SQL-JSON-Conditions.html#GUID-DEF7941B-1267-44E7-8514-5CD448503179">JSON_TEXTCONTAINS条件</a>允许您测试JSON属性值中是否存在指定的字符串。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63__GUID-D762B6B3-E13E-488D-8145-C07A4B60FD81"><span class="italic">JSON_condition</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63__GUID-19BD5A21-0160-41BD-85C3-7C237BDC725F"><img src="img/json_condition.gif" alt="下面是json_condition.eps的描述" title="下面是json_condition.eps的描述" longdesc="img_text/json_condition.html"><br><a href="img_text/json_condition.html">说明json_condition.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF56662"></a><a id="SQLRF56663"></a><a id="SQLRF57000"></a><a id="SQLRF57001"></a><a id="SQLRF57002"></a><a id="SQLRF56661"></a><div class="props_rev_3"><a id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA" name="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA"></a><h3 id="SQLRF-GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA" class="sect3">是JSON条件</h3>
               <div>
                  <div class="section">
                     <p>使用此SQL / JSON条件来测试表达式在语法上是正确的还是格式正确的JSON数据。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定<code class="codeph">IS</code> <code class="codeph">JSON</code> ，则如果表达式是格式正确的JSON数据，则此条件返回<code class="codeph">TRUE</code>如果表达式不是格式良好的JSON数据，则此条件返回<code class="codeph">FALSE</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果指定<code class="codeph">IS</code> <code class="codeph">NOT</code> <code class="codeph">JSON</code> ，则如果表达式不是格式正确的JSON数据，则此条件返回<code class="codeph">TRUE</code>如果表达式是格式良好的JSON数据，则此条件返回<code class="codeph">FALSE</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-DDB45343-8469-4BFD-9234-F35F953901A0"><span class="italic">is_JSON_condition</span> :: =</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-87340E4C-85B0-4AF9-A7EC-62C4E0F48E50"><img src="img/is_json_condition.gif" alt="下面是is_json_condition.eps的描述" title="下面是is_json_condition.eps的描述" longdesc="img_text/is_json_condition.html"><br><a href="img_text/is_json_condition.html">插图描述is_json_condition.eps</a></div>
                     <!-- class="figure" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<span class="italic"><code class="codeph">expr</code></span>指定要评估的JSON数据。指定一个计算结果为文本文字的表达式。如果<span class="italic"><code class="codeph">expr</code></span>是列，则该列必须是数据类型<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> 。如果<span class="italic"><code class="codeph">expr</code></span>求值为null或长度为零的文本文字，则此条件返回<code class="codeph">UNKNOWN</code> 。</p>
                        </li>
                        <li>
                           <p>如果<span class="italic"><code class="codeph">expr</code></span>是数据类型为<code class="codeph">BLOB</code>的列，则必须指定<code class="codeph">FORMAT</code> <code class="codeph">JSON</code> 。</p>
                        </li>
                        <li>
                           <p>如果指定<code class="codeph">STRICT</code> ，则此条件仅将严格的JSON语法视为格式良好的JSON数据。如果指定<code class="codeph">LAX</code> ，则此条件也会将宽松的JSON语法视为格式良好的JSON数据。<code class="codeph">LAX</code>默认为。有关严格和宽松的JSON语法的更多信息，请参阅<a href="../adjsn/conditions-is-json-and-is-not-json.html#ADJSN-GUID-1B6CFFBE-85FE-41DD-BA14-DD1DE73EAB20" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>如果指定<code class="codeph">WITH</code> <code class="codeph">UNIQUE</code> <code class="codeph">KEYS</code> ，则只有当键名在每个对象中是唯一的时，此条件才会认为JSON数据格式正确。如果指定<code class="codeph">WITHOUT</code> <code class="codeph">UNIQUE</code> <code class="codeph">KEYS</code> ，则即使在对象中出现重复的键名，此条件也会认为JSON数据格式正确。<code class="codeph">WITHOUT</code> <code class="codeph">UNIQUE</code> <code class="codeph">KEYS</code>测试比<code class="codeph">WITH</code> <code class="codeph">UNIQUE</code> <code class="codeph">KEYS</code>测试执行得更快。默认值为<code class="codeph">WITHOUT</code> <code class="codeph">UNIQUE</code> <code class="codeph">KEYS</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-1F739CF9-CCB4-47D3-A0D1-B384547730DC">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-966983C1-E6D4-4C7A-9728-2AACF89A6811">测试STRICT或LAX JSON语法：示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下语句使用列<code class="codeph">col1</code>创建表<code class="codeph">t</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t（col1 VARCHAR2（100））;</pre><p>以下语句将值插入表<code class="codeph">t</code>列<code class="codeph">col1</code>中：</p><pre class="oac_no_warn" dir="ltr">插入值（'[“LIT192”，“CS141”，“HIS160”]'）;插入值（'{“Name”：“John”}'）;插入值（'{“等级值”：{A：4.0，B：3.0，C：2.0}}'）; INSERT IN TO VALUES（'{“isEnrolled”：true}'）;插入到VALUES（'{“isMatriculated”：False}'）; INSERT INTO VALUES（NULL）; INSERT INTO VALUES（'这不是格式良好的JSON数据'）;</pre><p>以下语句查询表<code class="codeph">t</code>并返回格式正确的JSON数据的<code class="codeph">col1</code>值。由于既未指定<code class="codeph">STRICT</code>也未指定<code class="codeph">LAX</code>关键字，因此本示例使用默认的<code class="codeph">LAX</code>设置。因此，此查询返回使用严格或宽松JSON语法的值。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT col1 FROM t WHERE col1 IS JSON; COL1 ------------------------------------------------- -  [“LIT192”，“CS141”，“HIS160”] {“姓名”：“John”} {“等级值”：{A：4.0，B：3.0，C：2.0}} {“isEnrolled”：true} {“isMatriculated”：False}</pre><p>以下语句查询表<code class="codeph">t</code>并返回格式正确的JSON数据的<code class="codeph">col1</code>值。此示例指定<code class="codeph">STRICT</code>设置。因此，此查询仅返回使用严格JSON语法的值。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT col1 FROM t WHERE col1 IS JSON STRICT; COL1 ------------------------------------------------- -  [“LIT192”，“CS141”，“HIS160”] {“姓名”：“John”} {“isEnrolled”：true}</pre><p>下面的语句查询表<code class="codeph">t</code>并返回<code class="codeph">col1</code>使用JSON不严语法值，但省略<code class="codeph">col1</code>使用严格JSON语法值。因此，此查询仅返回包含松散JSON语法中允许的异常的值。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT col1 FROM t WHERE col1不是JSON STRICT而col1是JSON LAX; COL1 ------------------------------------------------- -  {“成绩值”：{A：4.0，B：3.0，C：2.0}} {“isMatriculated”：False}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-9DD05BF0-37C8-4AFB-B6CB-EA13DB17DEE3">测试唯一键：示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下语句使用列<code class="codeph">col1</code>创建表<code class="codeph">t</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t（col1 VARCHAR2（100））;</pre><p>以下语句将值插入表<code class="codeph">t</code>列<code class="codeph">col1</code>中：</p><pre class="oac_no_warn" dir="ltr">插入值（'{a：100，b：200，c：300}'）;插入值（'{a：100，a：200，b：300}'）;插入值（'{a：100，b：{a：100，c：300}}'）;</pre><p>以下语句查询表t并返回<code class="codeph">col1</code>值，这些值是在每个对象中具有唯一键名的格式良好的JSON数据：</p><pre class="oac_no_warn" dir="ltr">SELECT col1 FROM t WHERE col1 IS JSON WITH UNIQUE KEYS; COL1 --------------------------- {a：100，b：200，c：300} {a：100，b：{a ：100，c：300}}</pre><p>返回第二行是因为，当键名称<code class="codeph">a</code>出现两次时，它位于两个不同的对象中。
                     </p>
                     <p>以下语句查询表<code class="codeph">t</code>并返回格式正确的JSON数据的<code class="codeph">col1</code>值，无论每个对象中是否都有唯一的键名：</p><pre class="oac_no_warn" dir="ltr">SELECT col1 FROM t WHERE col1是没有独特键的JSON; COL1 --------------------------- {a：100，b：200，c：300} {a：100，a：200， b：300} {a：100，b：{a：100，c：300}}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99B9493D-2929-4A09-BA39-A56F8E7319DA__GUID-C71211C5-1A6C-409E-8ECB-0941D7E27FA0">使用IS JSON作为检查约束：示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下语句创建表<code class="codeph">j_purchaseorder</code> ，它将JSON数据存储在<code class="codeph">po_document</code>列中。该语句使用<code class="codeph">IS</code> <code class="codeph">JSON</code>条件作为检查约束，以确保只有格式良好的JSON存储在列<code class="codeph">po_document</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE j_purchaseorder（id RAW（16）NOT NULL，date_loaded TIMESTAMP（6）WITH TIME ZONE，po_document CLOB CONSTRAINT ensure_json CHECK（po_document IS JSON））;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896" name="GUID-35C7012D-FCDB-4106-88C1-CABA78326896"></a><h3 id="SQLRF-GUID-35C7012D-FCDB-4106-88C1-CABA78326896" class="sect3">JSON_EQUAL条件</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896__GUID-86A4AA92-8F68-4751-B811-14C6B85A26EE">句法</p>
                     <div class="figure" id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896__GUID-3576748A-A3BF-4F2D-B154-CFCD2C98588D"><img src="img/json_equal_condition.gif" alt="下面是json_equal_condition.eps的描述" title="下面是json_equal_condition.eps的描述" longdesc="img_text/json_equal_condition.html"><br><a href="img_text/json_equal_condition.html">说明json_equal_condition.eps的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896__GUID-61B42718-F788-440A-A351-3A5F09A41A0A">目的</p>
                     <p>Oracle SQL条件<code class="codeph">JSON_EQUAL</code>比较两个<code class="codeph">JSON</code>值，如果它们相等则返回true。如果两个值不相等，则返回false。输入值必须是有效的<code class="codeph">JSON</code>数据。
                     </p>
                     <p>比较忽略了无关紧要的空白和无关紧要的对象成员顺序。例如， <code class="codeph">JSON</code>对象是相同的，如果它们具有相同的成员，则无论它们的顺序如何。
                     </p>
                     <p>如果两个比较输入中的任何一个具有一个或多个重复字段，则<code class="codeph">JSON_EQUAL</code>返回的值未指定。
                     </p>
                     <p><code class="codeph">JSON_EQUAL</code>支持<code class="codeph">ERROR ON ERROR</code> ， <code class="codeph">FALSE ON ERROR</code>和<code class="codeph">TRUE ON ERROR</code> 。默认值为<code class="codeph">FALSE ON ERROR</code> 。错误的典型示例是输入表达式无效<code class="codeph">JSON</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896__GUID-15BED0A1-D861-4F0E-AE16-2C2375584817">例子</p>
                     <p>以下语句返回TRUE：</p><pre class="oac_no_warn" dir="ltr">JSON_EQUAL（'{}'，'{}'）</pre><pre class="oac_no_warn" dir="ltr">JSON_EQUAL（'{a：1，b：2}'，'{b：2，a：1}'）</pre><p>以下语句返回FALSE：</p><pre class="oac_no_warn" dir="ltr">JSON_EQUAL（'{a：“1”}'，'{a：1}'） - &gt; FALSE</pre><p>以下语句导致<code class="codeph">ORA-40441</code> <code class="codeph">JSON</code>语法错误</p><pre class="oac_no_warn" dir="ltr">JSON_EQUAL（'[1]'，'[}'ERROR ON ERROR）</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-35C7012D-FCDB-4106-88C1-CABA78326896__GUID-56E4B083-0B7F-4EE5-A074-54C4EDD05F49">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关更多信息，请<a href="../adjsn/index.html" target="_blank"><span class="italic">参见Oracle Database JSON Developer's Guide</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF56665"></a><a id="SQLRF56684"></a><a id="SQLRF56685"></a><a id="SQLRF56686"></a><a id="SQLRF56778"></a><a id="SQLRF56717"></a><a id="SQLRF57036"></a><a id="SQLRF56687"></a><a id="SQLRF56689"></a><a id="SQLRF56690"></a><a id="SQLRF56694"></a><a id="SQLRF56695"></a><a id="SQLRF56664"></a><div class="props_rev_3"><a id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988" name="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988"></a><h3 id="SQLRF-GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988" class="sect3">JSON_EXISTS条件</h3>
               <div>
                  <div class="section">
                     <p>使用SQL / JSON条件<code class="codeph">JSON_EXISTS</code>来测试JSON数据中是否存在指定的JSON值。如果JSON值存在，则此条件返回<code class="codeph">TRUE</code>如果JSON值不存在，则返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-C3179CEE-9520-46AE-AFAF-251255BF9FB0"><span class="italic">JSON_exists_condition</span> :: =</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-6B046682-A349-4E93-ACAB-CA67E387EB52"><img src="img/json_exists_condition.gif" alt="下面是json_exists_condition.eps的描述" title="下面是json_exists_condition.eps的描述" longdesc="img_text/json_exists_condition.html"><br><a href="img_text/json_exists_condition.html">插图描述json_exists_condition.eps</a></div>
                     <!-- class="figure" -->
                     <p>（ <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a> ）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-C8517844-3443-49CE-BF23-C69E582A6F6A"><span class="italic">JSON_passing_clause</span> :: =</p>
                     <div class="figure" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-631C1B06-7A34-47A8-8FB5-E4A8CAC973AA"><img src="img/json_passing_clause.gif" alt="下面是json_passing_clause.eps的描述" title="下面是json_passing_clause.eps的描述" longdesc="img_text/json_passing_clause.html"><br><a href="img_text/json_passing_clause.html">说明json_passing_clause.eps的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__BABGJJFD">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-3A811CA5-6F4C-4A6D-BB92-1B73271BC7DC"><span class="italic">JSON_exists_on_error_clause</span> :: =</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-7BAD5201-39F5-4A14-AD5F-2B905C95049C"><img src="img/json_exists_on_error_clause.gif" alt="下面是json_exists_on_error_clause.eps的描述" title="下面是json_exists_on_error_clause.eps的描述" longdesc="img_text/json_exists_on_error_clause.html"><br><a href="img_text/json_exists_on_error_clause.html">插图描述json_exists_on_error_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-53E2052D-CB3E-43C5-9CC2-C9B36D083B23"><span class="italic">EXPR</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用此子句指定要评估的JSON数据。对于<span class="italic"><code class="codeph">expr</code></span> ，请指定一个计算结果为文本文字的表达式。如果<span class="italic"><code class="codeph">expr</code></span>是列，则该列必须是数据类型<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> 。如果<span class="italic"><code class="codeph">expr</code></span>求值为null或长度为零的文本文字，则条件返回<code class="codeph">UNKNOWN</code> 。</p>
                     <p>如果<span class="italic"><code class="codeph">expr</code></span>不是使用strict或lax语法的格式良好的JSON数据的文本文本，则条件默认返回<code class="codeph">FALSE</code> 。您可以使用<span class="italic"><code class="codeph">JSON_exists_on_error_clause</code></span>覆盖此默认行为。请参阅<span class="italic"><a href="SQL-JSON-Conditions.html#GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__BABHJEDF">JSON_exists_on_error_clause</a></span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-796427C4-C0AB-469F-8DD0-70C5B2E04007">格式JSON</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果<span class="italic"><code class="codeph">expr</code></span>是数据类型为<code class="codeph">BLOB</code>的列，则必须指定<code class="codeph">FORMAT</code> <code class="codeph">JSON</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-5CBF1D14-F5A1-4118-A7C4-B0D96DDCC7F4"><span class="italic">JSON_basic_path_expression</span></p>
                     <p>使用此子句指定SQL / JSON路径表达式。条件使用路径表达式来计算<span class="italic"><code class="codeph">expr</code></span>并确定是否存在匹配或满足路径表达式的JSON值。路径表达式必须是文本文字，但它可以包含其值通过<span class="italic"><code class="codeph">JSON_passing_clause</code></span>传递给路径表达式的<span class="italic"><code class="codeph">JSON_passing_clause</code></span> 。有关<span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>的完整语义，请参阅<a href="../adjsn/json-path-expressions.html#ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" target="_blank"><span><cite>Oracle Database JSON Developer's Guide</cite></span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__JSON_PASSING_CLAUSE-5DE8CC0D">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-731DEAA5-B2CF-4D06-B003-476AF8C2E365"><span class="italic">JSON_passing_clause</span></p>使用此子句将值传递给路径表达式。对于<span class="italic"><code class="codeph">expr</code></span> ，请指定数据类型<code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">BINARY_DOUBLE</code> ， <code class="codeph">DATE</code> ， <code class="codeph">TIMESTAMP</code>或<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> 。评估<span class="italic"><code class="codeph">expr</code></span>的结果绑定到<span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>的相应标识符。
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__BABHJEDF">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-207C44B9-08A0-4085-9924-FD5B6A033A8B"><span class="italic">JSON_exists_on_error_clause</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>当<span class="italic"><code class="codeph">expr</code></span>不是格式正确的JSON数据时，使用此子句指定此条件返回的值。
                     </p>
                     <p>您可以指定以下子句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ERROR</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - 当<span class="italic"><code class="codeph">expr</code></span>格式不正确的JSON数据时，返回相应的Oracle错误。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TRUE</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - 当<span class="italic"><code class="codeph">expr</code></span>不是格式正确的JSON数据时返回<code class="codeph">TRUE</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FALSE</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - 当<span class="italic"><code class="codeph">expr</code></span>不是格式正确的JSON数据时返回<code class="codeph">FALSE</code> 。这是默认值。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__GUID-DE366332-CFC6-4B3C-AD3B-CC32891042F0">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下语句创建具有列<code class="codeph">name</code>表<code class="codeph">t</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t（名称VARCHAR2（100））;</pre><p>以下语句将值插入表<code class="codeph">t</code>列<code class="codeph">name</code> ：</p><pre class="oac_no_warn" dir="ltr">INSERT IN TO VALUES（'[{first：“John”}，{middle：“Mark”}，{last：“Smith”}]'）;插入值（'[{first：“Mary”}，{last：“Jones”}]'）; INSERT IN TO VALUES（'[{first：“Jeff”}，{last：“Williams”}]'）; INSERT IN TO VALUES（'[{first：“Jean”}，{middle：“Anne”}，{last：“Brown”}]'）; INSERT INTO VALUES（NULL）; INSERT INTO VALUES（'这不是格式良好的JSON数据'）;</pre><p>以下语句查询列<code class="codeph">name</code>在表<code class="codeph">t</code>和返回一个由一个数组，其第一个元素是与属性名称的对象的JSON数据<code class="codeph">first</code> 。未指定<code class="codeph">ON</code> <code class="codeph">ERROR</code>子句。因此，对于<code class="codeph">JSON_EXISTS</code>不正确的JSON数据的值， <code class="codeph">JSON_EXISTS</code>条件返回<code class="codeph">FALSE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name FROM t WHERE JSON_EXISTS（name，'$ [0] .first'）;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - -  [{first：“John”}，{middle：“Mark”}，{last：“Smith”}] [{first：“Mary”}，{last：“Jones”}] [{first：“Jeff” }，{last：“Williams”}] [{first：“Jean”}，{middle：“Anne”}，{last：“Brown”}]</pre><p>以下语句查询表<code class="codeph">t</code>列<code class="codeph">name</code> ，并返回由数组组成的JSON数据，该数组的第二个元素是具有属性名称<code class="codeph">middle</code>的对象。未指定<code class="codeph">ON</code> <code class="codeph">ERROR</code>子句。因此，对于<code class="codeph">JSON_EXISTS</code>不正确的JSON数据的值， <code class="codeph">JSON_EXISTS</code>条件返回<code class="codeph">FALSE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name FROM t WHERE JSON_EXISTS（name，'$ [1] .middle'）;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ------------------------------- [{first：“John”}，{middle：“Mark”}，{last ：“Smith”}] [{first：“Jean”}，{middle：“Anne”}，{last：“Brown”}]</pre><p>除了指定了<code class="codeph">TRUE</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code>子句之外，以下语句与前一个语句类似。因此，对于<code class="codeph">JSON_EXISTS</code>不正确的JSON数据的值， <code class="codeph">JSON_EXISTS</code>条件返回<code class="codeph">TRUE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name FROM t WHERE JSON_EXISTS（name，'$ [1] .middle'TRUE ON ERROR）;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ------------------------------- [{first：“John”}，{middle：“Mark”}，{last ：“Smith”}] [{first：“Jean”}，{middle：“Anne”}，{last：“Brown”}]这不是格式良好的JSON数据</pre><p>以下语句查询表<code class="codeph">t</code>列<code class="codeph">name</code> ，并返回由包含元素的数组组成的JSON数据，该元素是具有属性名称<code class="codeph">last</code>的对象。为数组索引指定通配符（ <code class="codeph">*</code> ）。因此，查询返回包含此类对象的数组，而不管其在数组中的索引号。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name FROM t WHERE JSON_EXISTS（name，'$ [*] .last'）;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - -  [{first：“John”}，{middle：“Mark”}，{last：“Smith”}] [{first：“Mary”}，{last：“Jones”}] [{first：“Jeff” }，{last：“Williams”}] [{first：“Jean”}，{middle：“Anne”}，{last：“Brown”}]</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF56964"></a><a id="SQLRF56965"></a><a id="SQLRF56966"></a><a id="SQLRF56967"></a><a id="SQLRF56968"></a><a id="SQLRF56969"></a><a id="SQLRF56970"></a><a id="SQLRF56971"></a><a id="SQLRF56963"></a><div class="props_rev_3"><a id="GUID-DEF7941B-1267-44E7-8514-5CD448503179" name="GUID-DEF7941B-1267-44E7-8514-5CD448503179"></a><h3 id="SQLRF-GUID-DEF7941B-1267-44E7-8514-5CD448503179" class="sect3">JSON_TEXTCONTAINS条件</h3>
               <div>
                  <div class="section">
                     <p>使用SQL / JSON条件<code class="codeph">JSON_TEXTCONTAINS</code>来测试JSON属性值中是否存在指定的字符串。您可以使用此条件来过滤特定单词或数字上的JSON数据。
                     </p>
                     <p>此条件采用以下参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>包含JSON数据的表或视图列。必须在列上定义JSON搜索索引，该索引是专门为与JSON数据一起使用而设计的Oracle Text索引。列中的每行JSON数据称为<span class="bold">JSON</span> <span class="bold">文档</span> 。
                           </p>
                        </li>
                        <li>
                           <p>SQL / JSON路径表达式。路径表达式应用于每个JSON文档，以尝试匹配文档中的特定JSON对象。路径表达式只能包含JSON对象步骤;它不能包含JSON数组步骤。</p>
                        </li>
                        <li>
                           <p>一个字符串。条件搜索匹配的JSON对象中的所有字符串和数字属性值中的字符串，包括数组值。该字符串必须作为属性值中的单独单词存在。例如，如果您搜索“beth”，则会找到字符串属性值“beth smith”的匹配项，但不会找到“elizabeth smith”。如果搜索“10”，则会找到数字属性值10或字符串属性值“10 main street”的匹配项，但找不到数字属性值110或字符串属性值“102 main street”的匹配项。</p>
                        </li>
                     </ul>
                     <p>如果找到匹配，则此条件返回<code class="codeph">TRUE</code>如果未找到匹配，则返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-301AA595-00D6-45FB-933E-B20CF963E2B5"><span class="italic">JSON_textcontains_condition</span> :: =</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-3E954596-C48B-4B03-890E-DC1F229CD829"><img src="img/json_textcontains_condition.gif" alt="下面是json_textcontains_condition.eps的描述" title="下面是json_textcontains_condition.eps的描述" longdesc="img_text/json_textcontains_condition.html"><br><a href="img_text/json_textcontains_condition.html">说明json_textcontains_condition.eps的描述</a></div>
                     <!-- class="figure" -->
                     <p>（ <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a> ）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-687EEA6F-B377-410A-AE1E-3AD6BDAED0E6"><span class="italic">柱</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>指定包含要测试的JSON数据的表或视图列的名称。该列必须是数据类型<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> 。必须在列上定义JSON搜索索引，该索引是专门为与JSON数据一起使用而设计的Oracle Text索引。如果列值为null或长度为零的文本文字，则条件返回<code class="codeph">UNKNOWN</code> 。</p>
                     <p>如果列值不是使用strict或lax语法的格式良好的JSON数据的文本文本，则条件返回<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-0C03E327-1E8B-4F69-B106-582C3E11873E"><span class="italic">JSON_basic_path_expression</span></p>
                     <p>使用此子句指定SQL / JSON路径表达式。条件使用路径表达式来计算<span class="italic"><code class="codeph">column</code></span>并确定是否存在匹配或满足路径表达式的JSON值。路径表达式必须是文本文字。有关<span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>的完整语义，请参阅<a href="../adjsn/json-path-expressions.html#ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" target="_blank"><span><cite>Oracle Database JSON Developer's Guide</cite></span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-A8B72B7A-9623-4F87-961D-A1090AEF0BB3"><span class="italic">串</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>条件搜索string指定的<span class="italic"><code class="codeph">string</code></span> 。该字符串必须用单引号括起来。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DEF7941B-1267-44E7-8514-5CD448503179__GUID-4DB3AB41-3B33-465B-93E4-81B7870BF5E1">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下语句创建具有列<code class="codeph">family_doc</code>表<code class="codeph">families</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE系列（family_doc VARCHAR2（200））;</pre><p>以下语句在列<code class="codeph">family_doc</code>上创建JSON搜索索引：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX ix ON系列（family_doc）INDEXTYPE是CTXSYS.CONTEXT参数（'SECTION GROUP CTXSYS.JSON_SECTION_GROUP SYNC（ON COMMIT）'）;</pre><p>以下语句将描述族的JSON文档插入到列<code class="codeph">family_doc</code> ：</p><pre class="oac_no_warn" dir="ltr">插入家庭VALUES（'{family：{id：10，年龄：[40,38,12]，地址：{street：“10 Main Street”}}}'）;插入家庭VALUES（'{family：{id：11，年龄：[42,40,10,5]，地址：{street：“200 East Street”，apt：20}}}'）;插入家庭VALUES（'{family：{id：12，年龄：[25,23]，地址：{street：“300 Oak Street”，apt：10}}}'）;</pre><p>以下语句提交事务：</p><pre class="oac_no_warn" dir="ltr">承诺;</pre><p>以下查询返回文档中任何属性值中包含<code class="codeph">10</code>的JSON文档：</p><pre class="oac_no_warn" dir="ltr">SELECT family_doc FROM系列WHERE JSON_TEXTCONTAINS（family_doc，'$'，'10'）; FAMILY_DOC ------------------------------------------------- ------------------------------- {family：{id：10，年龄：[40,38,12]，地址：{street：“10 Main Street”}}}} {family：{id：11，年龄：[42,40,10,5]，地址：{street：“200 East Street”，apt：20}}} {家庭：{id：12，年龄：[25,23]，地址：{street：“300 Oak Street”，apt：10}}}</pre><p>以下查询返回<code class="codeph">id</code>属性值中包含10的JSON文档：</p><pre class="oac_no_warn" dir="ltr">SELECT family_doc来自其中json_textcontains的家族（family_doc，'$ .family.id'，'10'）; FAMILY_DOC ------------------------------------------------- ------------------------------- {family：{id：10，年龄：[40,38,12]，地址：{街道：“10大街”}}}</pre><p>下面的查询返回的值的数组中有10 JSON文件<code class="codeph">ages</code>属性：</p><pre class="oac_no_warn" dir="ltr">SELECT family_doc FROM系列WHERE JSON_TEXTCONTAINS（family_doc，'$ .family.ages'，'10'）; FAMILY_DOC ------------------------------------------------- ------------------------------- {family：{id：11，年龄：[42,40,10,5] ，地址：{street：“200 East Street”，apt：20}}}</pre><p>以下查询返回<code class="codeph">address</code>属性值中包含10的JSON文档：</p><pre class="oac_no_warn" dir="ltr">SELECT family_doc FROM系列WHERE JSON_TEXTCONTAINS（family_doc，'$ .family.address'，'10'）; FAMILY_DOC ------------------------------------------------- ------------------------------- {family：{id：10，年龄：[40,38,12]，地址：{street：“10 Main Street”}}} {family：{id：12，年龄：[25,23]，地址：{street：“300 Oak Street”，apt：10}}}</pre><p>以下查询返回<code class="codeph">apt</code>属性值中包含10的JSON文档：</p><pre class="oac_no_warn" dir="ltr">SELECT family_doc FROM系列WHERE JSON_TEXTCONTAINS（family_doc，'$ .family.address.apt'，'10'）; FAMILY_DOC ------------------------------------------------- ------------------------------- {family：{id：12，年龄：[25,23]，地址：{街：“300 Oak Street”，地址：10}}}</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09655.sql-statements-used-by-oracle-data-guard.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <meta name="description" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <title>与Oracle Data Guard相关的SQL语句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="LOG_ARCHIVE_DEST_n-parameter-attributes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-guard-in-oracle-database-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-guard-in-oracle-database-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-parameters-views.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">与Oracle Data Guard相关的SQL语句</li>
            </ol>
            <a id="GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" name="GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF"></a><a id="SBYDB01222"></a>
            
            <h2 id="SBYDB-GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" class="sect2"><span class="enumeration_chapter">18</span>与Oracle Data Guard相关的SQL语句</h2>
         </header>
         <div class="ind">
            <div>
               <p>有许多SQL和SQL * Plus语句可用于在Oracle Data Guard环境中对备用数据库执行操作。</p>
               <p>请参阅以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-F690B602-6582-465B-8E86-0B0A52838D66" title="此表描述与Oracle Data Guard相关的ALTER DATABASE语句。">ALTER DATABASE语句</a></p>
                  </li>
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" title="此表描述了与Oracle Data Guard相关的ALTER SESSION语句。">ALTER SESSION语句</a></p>
                  </li>
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" title="此表描述了与Oracle Data Guard相关的ALTER SYSTEM语句。">更改系统声明</a></p>
                  </li>
               </ul>
               <p>有关所有SQL语句的完整语法和说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF008" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
               </p>
               <p>有关可以使用<code class="codeph">ALTER SYSTEM SET</code>语句设置和动态更新的初始化参数列表，请参阅<a href="oracle-initialization-parameters-used-by-oracle-data-guard.html#GUID-A1CF9B00-F0F5-4F3B-A0E0-9D6ABF775EC9" title="这是您为Data Guard环境设置的初始化参数的字母顺序列表。它指示参数是为主角色还是备用角色设置的，还提供了设置每个参数的提示。">初始化参数</a> 。
               </p>
            </div><a id="SBYDB5080"></a><a id="SBYDB4903"></a><div class="props_rev_3"><a id="GUID-F690B602-6582-465B-8E86-0B0A52838D66" name="GUID-F690B602-6582-465B-8E86-0B0A52838D66"></a><h3 id="SBYDB-GUID-F690B602-6582-465B-8E86-0B0A52838D66" class="sect3"><span class="enumeration_section">18.1</span> ALTER DATABASE语句</h3>
               <div>
                  <p>此表描述与Oracle Data Guard相关的<code class="codeph">ALTER DATABASE</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-F690B602-6582-465B-8E86-0B0A52838D66__G1050519">
                     <p class="titleintable">表18-1 Data Guard环境中使用的ALTER DATABASE语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Data Guard环境中使用的ALTER DATABASE语句" width="100%" border="1" summary="This 2 column table lists the ALTER DATABASE statements and describes how each one is applicable to the Data Guard environment." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e211">ALTER DATABASE语句</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e214">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e219" headers="d53597e211 ">
                                 <p><code class="codeph">激活[实体|逻辑]待机数据库完成应用]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e219 d53597e214 ">
                                 <p>执行故障转移。必须先装入备用数据库，然后才能使用此语句激活备用数据库。</p>
                                 <p><span class="bold">注意：</span>不要使用<code class="codeph">ALTER DATABASE ACTIVATE STANDBY DATABASE</code>语句进行故障转移，因为它会导致数据丢失。相反，请使用以下最佳实践：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于物理备用数据库，请使用<a id="d53597e237" class="indexterm-anchor"></a><a id="d53597e243" class="indexterm-anchor"></a><a id="d53597e247" class="indexterm-anchor"></a> <code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code>使用<code class="codeph">FINISH</code>关键字<code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code>语句，以尽可能快地执行角色转换，几乎没有数据丢失，也不会使其他备用数据库无法使用。
                                       </p>
                                    </li>
                                    <li>
                                       <p>对于逻辑备用数据库，请使用<code class="codeph">ALTER DATABASE PREPARE TO SWITCHOVER</code>和<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e267" headers="d53597e211 ">
                                 <p><code class="codeph">ADD</code> <code class="codeph">[STANDBY</code> ] <code class="codeph">LOGFILE [THREAD</code> <span class="variable" translate="no">integer</span> <code class="codeph">] [GROUP</code> <span class="variable" translate="no">integer</span> <code class="codeph">]</code> <span class="italic"><code class="codeph">filespec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e267 d53597e214 ">
                                 <p><a id="d53597e294" class="indexterm-anchor"></a>将一个或多个联机重做日志文件组或备用重做日志文件组添加到指定的线程，使日志文件可用于分配了该线程的实例。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-64E46731-490D-4228-AC87-A07CDE3C75FE" title="在主数据库上添加或删除日志文件组后，应重新评估和调整物理备用数据库上的重做日志和备用重做日志的配置。">添加或删除重做日志文件组</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e309" headers="d53597e211 ">
                                 <p><code class="codeph">ADD [STANDBY</code> ] <code class="codeph">LOGFILE</code> <code class="codeph">MEMBER</code> ' <span class="variable" translate="no">filename</span> ' <code class="codeph">[REUSE]</code> <code class="codeph">TO</code> <span class="variable" translate="no">logfile-descriptor</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e309 d53597e214 ">
                                 <p><a id="d53597e334" class="indexterm-anchor"></a>将新成员添加到现有联机重做日志文件组或备用重做日志文件组。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e340" headers="d53597e211 ">
                                 <p><code class="codeph">[ADD</code> | <code class="codeph">DROP</code> ] <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA {PRIMARY KEY|UNIQUE INDEX}</code> <code class="codeph">COLUMNS</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e340 d53597e214 ">
                                 <p><a id="d53597e361" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>在创建逻辑备用数据库之前，使用它来启用完全补充日志记录。这是必要的，因为补充日志记录是逻辑备用数据库的更改源。要实现完整的补充日志记录，必须在此语句中指定<code class="codeph">PRIMARY KEY COLUMNS</code>或<code class="codeph">UNIQUE INDEX COLUMNS</code>关键字。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e375" headers="d53597e211 ">
                                 <p><code class="codeph">承诺转向</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e375 d53597e214 ">
                                 <p><a id="d53597e381" class="indexterm-anchor"></a><a id="d53597e385" class="indexterm-anchor"></a>执行切换到：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>将当前主数据库更改为备用数据库角色</p>
                                    </li>
                                    <li>
                                       <p>将一个备用数据库更改为主数据库角色。</p>
                                    </li>
                                 </ul>
                                 <p>切换到物理备用数据库时，从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">COMMIT TO SWITCHOVER</code>语句已替换为<code class="codeph">SWITCHOVER TO</code>语句。仍支持<code class="codeph">COMMIT TO SWITCHOVER</code>语句，但Oracle建议您使用新的<code class="codeph">SWITCHOVER TO</code>语句。
                                 </p>
                                 <p><span class="bold">注意：</span>在逻辑备用数据库上，在发出<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句之前，发出<code class="codeph">ALTER DATABASE PREPARE TO SWITCHOVER</code>语句以准备切换<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code> 。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="performing-oracle-data-guard-role-transitions.html#GUID-65C1BE5E-A2AC-4938-B03F-2495761DE500" title="在主数据库上启动切换，并在目标备用数据库上完成切换。">使用旧语法执行切换到物理备用数据库并使用旧语法</a> <a href="performing-oracle-data-guard-role-transitions.html#GUID-AAAA9A3B-7A1A-4044-90EC-F581D87439F4" title="这些步骤描述了如何执行到物理备用数据库的故障转移。">执行到物理备用数据库的故障转移</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e441" headers="d53597e211 ">
                                 <p><a id="d53597e443" class="indexterm-anchor"></a><code class="codeph">CONVERT TO [[PHYSICAL|SNAPSHOT] STANDBY] DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e441 d53597e214 ">
                                 <p>将物理备用数据库转换为快照备用数据库，反之亦然。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e451" headers="d53597e211 ">
                                 <p><code class="codeph">CREATE [PHYSICAL|LOGICAL] STANDBY CONTROLFILE AS '</code> <span class="variable" translate="no">filename</span> <code class="codeph">' [REUSE]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e451 d53597e214 ">
                                 <p><a id="d53597e461" class="indexterm-anchor"></a><a id="d53597e467" class="indexterm-anchor"></a>创建用于维护物理或逻辑备用数据库的控制文件。在主数据库上发出此语句。
                                 </p>
                                 <p>有关此语句的示例，请参见<a href="creating-oracle-data-guard-physical-standby.html#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" title="为备用数据库创建控制文件（主数据库不必打开，但必须至少安装它）。">为备用数据库创建控制文件</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e482" headers="d53597e211 ">
                                 <p><code class="codeph">DROP [STANDBY] LOGFILE</code> <span class="variable" translate="no">logfile_descriptor</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e482 d53597e214 ">
                                 <p> <a id="d53597e491" class="indexterm-anchor"></a><a id="d53597e495" class="indexterm-anchor"></a>删除联机重做日志文件组或备用重做日志文件组的所有成员。 <a id="d53597e500" class="indexterm-anchor"></a><a id="d53597e504" class="indexterm-anchor"></a> 
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-64E46731-490D-4228-AC87-A07CDE3C75FE" title="在主数据库上添加或删除日志文件组后，应重新评估和调整物理备用数据库上的重做日志和备用重做日志的配置。">添加或删除重做日志文件组</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e519" headers="d53597e211 ">
                                 <p><code class="codeph">DROP [STANDBY] LOGFILE MEMBER</code> <span class="variable" translate="no">'filename'</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e519 d53597e214 ">
                                 <p><a id="d53597e527" class="indexterm-anchor"></a><a id="d53597e531" class="indexterm-anchor"></a>删除一个或多个联机重做日志文件成员或备用重做日志文件成员。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e537" headers="d53597e211 ">
                                 <p><code class="codeph">FAILOVER TO</code> <span class="italic"><code class="codeph">target_db_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e537 d53597e214 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>它启动到指定主机数据库的故障转移。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e551" headers="d53597e211 ">
                                 <p><code class="codeph">[NO]强制记录</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e551 d53597e214 ">
                                 <p>控制Oracle数据库是否记录数据库中的所有更改，但临时表空间和临时段的更改除外。需要<code class="codeph">[NO]FORCE LOGGING</code>子句来防止备用数据库不一致。
                                 </p>
                                 <p>发出此语句时，必须至少挂载主数据库（并且它也可以打开）。有关此语句的示例，请参见<a href="creating-oracle-data-guard-physical-standby.html#GUID-AE2B1237-57A1-4745-A04C-4246A831A963" title="作为准备备用数据库创建的主数据库的一部分，您必须启用适合您计划使用Data Guard配置的方式的日志记录模式。">启用强制日志记录</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e572" headers="d53597e211 ">
                                 <p><code class="codeph">守护</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e572 d53597e214 ">
                                 <p>控制用户对逻辑备用数据库中的表的访问。可能的值为<code class="codeph">ALL</code> ， <code class="codeph">STANDBY</code>和<code class="codeph">NONE</code> 。有关详细信息，请参阅<a href="managing-oracle-data-guard-logical-standby-databases.html#GUID-572B9755-69F5-4BD7-9DFF-1F7EB1DE3771" title="SQL ALTER DATABASE GUARD语句控制用户对逻辑备用数据库中表的访问。">控制用户对逻辑备用数据库中的表的访问权限</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e599" headers="d53597e211 ">
                                 <p><code class="codeph">MOUNT</code> [ <code class="codeph">STANDBY DATABASE</code> ]</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e599 d53597e214 ">
                                 <p><a id="d53597e609" class="indexterm-anchor"></a><a id="d53597e613" class="indexterm-anchor"></a>安装备用数据库，允许备用实例从主实例接收重做数据。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e619" headers="d53597e211 ">
                                 <p><code class="codeph">打开</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e619 d53597e214 ">
                                 <p><a id="d53597e625" class="indexterm-anchor"></a><a id="d53597e629" class="indexterm-anchor"></a>打开以前启动并挂载的数据库：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>物理备用数据库以只读模式打开，将用户限制为只读事务并阻止生成重做数据。</p>
                                    </li>
                                    <li>
                                       <p>逻辑备用数据库以读/写模式打开。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e642" headers="d53597e211 ">
                                 <p><code class="codeph">PREPARE</code> <code class="codeph">SWITCHOVER</code> <code class="codeph">TO</code> <code class="codeph">SWITCHOVER</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e642 d53597e214 ">
                                 <p><a id="d53597e654" class="indexterm-anchor"></a><a id="d53597e658" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>它通过在切换发生<span class="italic">之前</span>构建LogMiner字典来准备主数据库和逻辑备用数据库以进行切换。字典构建完成后，发出<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句以切换主数据库和逻辑备用数据库的角色。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-role-transitions.html#GUID-42B8B448-90E0-4D7D-82A3-AAA273E6E49B" title="执行切换以更改主数据库和逻辑备用数据库之间的角色时，请始终在主数据库上启动切换并在逻辑备用数据库上完成切换。">执行切换到逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e681" headers="d53597e211 ">
                                 <p><code class="codeph">恢复管理备用数据库[{DISCONNECT [FROM SESSION] | PARALLEL n | NODELAY | UNTIL CHANGE整数} ...]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e681 d53597e214 ">
                                 <p><a id="d53597e687" class="indexterm-anchor"></a><a id="d53597e691" class="indexterm-anchor"></a>此语句启动并控制物理备用数据库上的Redo Apply <a id="d53597e696" class="indexterm-anchor"></a><a id="d53597e700" class="indexterm-anchor"></a> 。您可以在已装入，打开或关闭的物理备用数据库上使用<code class="codeph">RECOVER MANAGED STANDBY DATABASE</code>子句。有关示例，请参阅<a href="creating-oracle-data-guard-physical-standby.html#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" title="这些是启动物理备用数据库和重做应用的步骤。">启动物理备用数据库中的</a>步骤3以及<a href="oracle-data-guard-redo-apply-services.html#GUID-2B839172-947E-48A4-9FFD-33CC6907809F" title="执行重做应用时，物理备用数据库可以使用实时应用功能直接从备用重做日志文件应用重做，因为它们是由远程文件服务器（RFS）进程写入的。">将重做数据应用于物理备用数据库</a> 。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些已弃用的子句的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e732" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER</code> <code class="codeph">MANAGED</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">CANCEL</code>  
                                 </p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e732 d53597e214 ">
                                 <p><a id="d53597e753" class="indexterm-anchor"></a><a id="d53597e757" class="indexterm-anchor"></a>应用当前归档重做日志文件后， <code class="codeph">CANCEL</code>子句取消物理备用数据库上的Redo Apply。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些子句的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e775" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER</code> <code class="codeph">MANAGED</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">FINISH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e775 d53597e214 ">
                                 <p><code class="codeph">FINISH</code>子句在目标物理备用数据库上启动故障转移，并恢复当前备用重做日志文件。仅在主数据库发生故障时才使用<code class="codeph">FINISH</code>子句。该子句覆盖指定的任何延迟间隔。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些子句的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e811" headers="d53597e211 ">
                                 <p><code class="codeph">REGISTER [OR REPLACE] [PHYSICAL|LOGICAL] LOGFILE</code> <span class="italic"><code class="codeph">filespec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e811 d53597e214 ">
                                 <p>允许注册手动复制的归档重做日志文件。</p>
                                 <p><span class="bold">注意</span> ：仅在将相应的归档重做日志文件手动复制到备用数据库后才发出此命令。在日志文件处于复制过程中或日志文件不存在时发出此命令可能会导致备用数据库稍后出现错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e828" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER TO LOGICAL STANDBY</code> <span class="variable" translate="no">new_database_name</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e828 d53597e214 ">
                                 <p>指示应用服务以继续将更改应用于<span class="italic">物理</span>备用数据库，直到您发出将数据库转换为<span class="italic">逻辑</span>备用数据库的命令。有关详细信息，请参阅<a href="creating-oracle-data-guard-logical-standby.html#GUID-715EBEC1-21B9-4DA9-80A5-ED58033F94C8" title="重做日志包含将物理备用数据库转换为逻辑备用数据库所需的信息。">转换为逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e852" headers="d53597e211 ">
                                 <p><code class="codeph">RESET DATABASE TO INCARNATION</code> <span class="variable" translate="no">integer</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e852 d53597e214 ">
                                 <p>将数据库的目标恢复版本从当前版本重置为不同的版本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e862" headers="d53597e211 ">
                                 <p><code class="codeph">SET</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">TO</code> <code class="codeph">MAXIMIZE</code> { <code class="codeph">PROTECTION</code> | <code class="codeph">AVAILABILITY</code> | <code class="codeph">PERFORMANCE</code> }</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e862 d53597e214 ">
                                 <p><a id="d53597e891" class="indexterm-anchor"></a><a id="d53597e897" class="indexterm-anchor"></a><a id="d53597e901" class="indexterm-anchor"></a><a id="d53597e907" class="indexterm-anchor"></a>使用此子句指定Oracle Data Guard配置中数据的保护级别。您可以从主数据库中指定此子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e914" headers="d53597e211 ">
                                 <p><code class="codeph">START LOGICAL STANDBY APPLY INITIAL</code> [ <span class="variable" translate="no">scn-value</span> ]] [ <code class="codeph">NEW PRIMARY</code> <span class="variable" translate="no">dblink</span> ]</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e914 d53597e214 ">
                                 <p>此语句仅适用于逻辑备用数据库。</p>
                                 <p>它在逻辑备用数据库上启动SQL Apply。有关此语句的示例，请参见<a href="oracle-data-guard-redo-apply-services.html#GUID-5E640AEE-12C7-4ED8-8C42-B989F7768E91" title="使用ALTER DATABASE SQL语句启动SQL Apply。">启动SQL Apply</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e944" headers="d53597e211 ">
                                 <p><code class="codeph">{STOP | ABORT} LOGICAL STANDBY APPLY</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e944 d53597e214 ">
                                 <p>此语句仅适用于逻辑备用数据库。</p>
                                 <p>使用<code class="codeph">STOP</code>子句以有序的方式停止逻辑备用数据库上的SQL Apply。使用<code class="codeph">ABORT</code>子句突然停止SQL Apply。有关此语句的示例，请参阅<a href="managing-oracle-data-guard-role-transitions.html#GUID-EBD0C21B-6356-446E-8BF5-7B7D96554713" title="涉及逻辑备用数据库的故障转移角色转换需要对发生故障的主数据库和所有旁观者逻辑备用数据库采取纠正措施。">执行故障转移到逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e967" headers="d53597e211 ">
                                 <p><code class="codeph">SWITCHOVER TO</code> <span class="italic"><code class="codeph">target_db_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e967 d53597e214 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>它启动主数据库切换到指定的物理备用数据库。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5081"></a><a id="SBYDB4904"></a><div class="props_rev_3"><a id="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" name="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739"></a><h3 id="SBYDB-GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" class="sect3"><span class="enumeration_section">18.2</span>更改会话声明</h3>
               <div>
                  <p>此表描述了与Oracle Data Guard相关的<code class="codeph">ALTER SESSION</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739__BEIBDJAF">
                     <p class="titleintable">表18-2 Oracle Data Guard环境中使用的ALTER SESSION语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Data Guard环境中使用的ALTER SESSION语句" width="100%" border="1" summary="This 2 column table lists the ALTER SESSION statement and describes its relevance to the Data Guard environment." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e1067">ALTER SESSION声明</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e1070">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1075" headers="d53597e1067 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> [ <code class="codeph">ENABLE</code> | <code class="codeph">DISABLE</code> ] <code class="codeph">GUARD</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1075 d53597e1070 ">
                                 <p><a id="d53597e1093" class="indexterm-anchor"></a><a id="d53597e1097" class="indexterm-anchor"></a><a id="d53597e1101" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>此语句允许特权用户为当前会话打开和关闭数据库保护。</p>
                                 <p>有关更多信息，请参阅<a href="managing-oracle-data-guard-logical-standby-databases.html#GUID-43971CB9-3337-4575-B4EF-D591878982F1" title="即使在应用SQL语句时，逻辑备用数据库也可用于报告活动。">修改逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1118" headers="d53597e1067 ">
                                 <p><code class="codeph">ALTER SESSION SYNC with PRIMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1118 d53597e1070 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>此语句通过阻塞来同步物理备用数据库与主数据库，直到应用语句调用时物理备用数据库接收到的所有重做数据。</p>
                                 <p>有关详细信息，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-194B1448-84FB-4357-A6AD-72A77701F918" title="要确保从主数据库接收的所有重做数据都已应用于物理备用数据库，可以使用SQL ALTER SESSION语句。">在实时查询环境中强制重做应用同步</a> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5118"></a><a id="SBYDB5117"></a><div class="props_rev_3"><a id="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" name="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934"></a><h3 id="SBYDB-GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" class="sect3"><span class="enumeration_section">18.3</span>更改系统声明</h3>
               <div>
                  <p>此表描述了与Oracle Data Guard相关的<code class="codeph">ALTER SYSTEM</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934__CIHBAGDB">
                     <p class="titleintable">表18-3 Oracle Data Guard环境中使用的ALTER SYSTEM语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Data Guard环境中使用的ALTER SYSTEM语句" width="100%" border="1" summary="This 2 column table lists relevant ALTER SYSTEM statements for Data Guard." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e1225">ALTER SYSTEM声明</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e1228">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1233" headers="d53597e1225 ">
                                 <p><code class="codeph">ALTER SYSTEM FLUSH REDO TO target_db_name [[NO] CONFIRM APPLY]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1233 d53597e1228 ">
                                 <p>此语句将重做数据从主数据库刷新到备用数据库，并可选择等待刷新的重做数据应用于物理或逻辑备用数据库。</p>
                                 <p>必须在已安装但未打开的主数据库上发出此语句。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06036.views-acfs-advm-info.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Dynamic views display important information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM)."></meta>
      <meta name="description" content="Dynamic views display important information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM)."></meta>
      <title>使用视图显示Oracle ACFS信息</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Dynamic views display important information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="overview-advm.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administer-acfs-advm-em.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-advm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administer-acfs-advm-em.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle自动存储管理群集文件系统</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用视图显示Oracle ACFS信息</li>
            </ol>
            <a id="GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8" name="GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8"></a><a id="OSTMG95490"></a>
            
            <h2 id="OSTMG-GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8" class="sect2"><span class="enumeration_chapter">12</span>使用视图显示Oracle ACFS信息</h2>
         </header>
         <div class="ind">
            <div>
               <p>动态视图显示有关Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）的重要信息。</p>
               <p>本章包含有关使用动态视图显示Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）信息的信息。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="views-acfs-advm-info.html#GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10">包含Oracle ACFS信息的视图</a></p>
                  </li>
                  <li>
                     <p><a href="views-acfs-advm-info.html#GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157" title="Oracle ACFS支持Oracle数据库文件映射视图到Oracle ASM设备级别。">Oracle ACFS对Oracle数据库文件映射视图的支持</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8__GUID-49836A1D-3DEE-4C01-81AB-0D7166C699AD">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关所有<code class="codeph">V$ASM_ACFS*</code>动态性能视图的信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                     </li>
                     <li>
                        <p>用于显示Oracle ACFS信息的<code class="codeph">acfsutil</code> <code class="codeph">info</code>命令的<a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG94188"></a><a id="OSTMG94189"></a><a id="OSTMG94190"></a><a id="OSTMG95712"></a><a id="OSTMG95713"></a><a id="OSTMG95714"></a><a id="OSTMG94191"></a><a id="OSTMG94192"></a><a id="OSTMG94193"></a><a id="OSTMG94194"></a><a id="OSTMG94195"></a><a id="OSTMG134"></a><a id="OSTMG94187"></a><div class="props_rev_3"><a id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10" name="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10"></a><h3 id="OSTMG-GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10" class="sect3">包含Oracle ACFS信息的视图</h3>
               <div>
                  <p>您可以使用<a href="views-acfs-advm-info.html#GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDHJADF" title="第1列包含可用于查询有关自动存储管理文件系统的信息的视图名称。第2列描述了每个视图。">表12-1中</a>的视图获取有关Oracle自动存储管理群集文件系统（Oracle ACFS）的信息。可以从Oracle ASM实例访问这些视图。
                  </p>
                  <div class="infoboxnote" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__GUID-A1028DBE-7072-40AF-B3DD-A526FD2A876D">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要显示有关Oracle ACFS文件系统或位于Oracle Flex ASM配置中的节点上的卷的信息，必须连接到Oracle ASM代理实例而不是本地Oracle ASM实例。</p>
                        </li>
                        <li>
                           <p>在Windows系统上查看Oracle ACFS视图中的空间使用值时，这些值可能与Windows文件夹中的大小不同。Windows系统上的“ <span class="bold">文件夹</span> <span class="bold">属性”</span>使用的机制仅考虑文件，应视为近似值。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="tblformalwide" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDHJADF">
                     <p class="titleintable">表12-1 Oracle ACFS信息的Oracle ASM动态视图</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle ASM动态视图，用于Oracle ACFS信息" width="100%" border="1" summary="Column 1 contains names of views that can be used to query information about Automatic Storage Management File System. Column 2 describes each view." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d118733e373">视图</th>
                              <th align="left" valign="bottom" width="62%" id="d118733e376">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e381" headers="d118733e373 ">
                                 <p><a id="d118733e383" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_ENCRYPTION_INFO</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e381 d118733e376 ">
                                 <p>包含每个Oracle ACFS文件系统的加密信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e391" headers="d118733e373 ">
                                 <p><a id="d118733e393" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SECURITY_INFO</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e391 d118733e376 ">
                                 <p>包含每个Oracle ACFS文件系统的安全领域信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e401" headers="d118733e373 ">
                                 <p><a id="d118733e403" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_ADMIN</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e401 d118733e376 ">
                                 <p>包含有关群集中Oracle ACFS安全管理员的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e411" headers="d118733e373 ">
                                 <p><a id="d118733e413" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_CMDRULE</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e411 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全性命令规则的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e421" headers="d118733e373 ">
                                 <p><a id="d118733e423" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_REALM</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e421 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全领域中每个领域的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e431" headers="d118733e373 ">
                                 <p><a id="d118733e433" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_REALM_FILTER</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e431 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全领域中每个筛选器的信息。过滤器在领域中被定义为<code class="codeph">commandrule</code> <code class="codeph">ruleset</code> / <code class="codeph">ruleset</code>对。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e447" headers="d118733e373 ">
                                 <p><a id="d118733e449" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_REALM_GROUP</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e447 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全领域中每个组的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e457" headers="d118733e373 ">
                                 <p><a id="d118733e459" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_REALM_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e457 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全领域中每个用户的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e467" headers="d118733e373 ">
                                 <p><a id="d118733e469" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_RULE</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e467 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的每个Oracle ACFS安全规则的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e477" headers="d118733e373 ">
                                 <p><a id="d118733e479" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_RULESET</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e477 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的每个Oracle ACFS安全规则集的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e487" headers="d118733e373 ">
                                 <p><a id="d118733e489" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFS_SEC_RULESET_RULE</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e487 d118733e376 ">
                                 <p>包含有关每个Oracle ACFS文件系统的Oracle ACFS安全规则集中每个规则的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e498" headers="d118733e373 ">
                                 <p><a id="d118733e500" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFSREPL</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e498 d118733e376 ">
                                 <p>包含为复制而初始化的Oracle ACFS文件系统的信息。</p>
                                 <p>此视图仅包含12.2之前的Oracle ASM版本的记录。要显示Oracle ASM版本12.2或更高版本的Oracle ACFS复制信息，请使用<code class="codeph">acfsutil repl info</code>命令。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e513" headers="d118733e373 ">
                                 <p><a id="d118733e515" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFSREPLTAG</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e513 d118733e376 ">
                                 <p>包含为复制而初始化的Oracle ACFS文件系统的复制标记信息。</p>
                                 <p>此视图仅包含12.2之前的Oracle ASM版本的记录。要显示Oracle ASM版本12.2或更高版本的Oracle ACFS复制信息，请使用<code class="codeph">acfsutil repl info</code>命令。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e528" headers="d118733e373 ">
                                 <p><a id="d118733e530" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFSSNAPSHOTS</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e528 d118733e376 ">
                                 <p>包含有关每个已安装的Oracle ACFS文件系统的快照信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e538" headers="d118733e373 ">
                                 <p><a id="d118733e540" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFSTAG</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e538 d118733e376 ">
                                 <p>包含有关所有已挂载的Oracle ACFS文件系统上的文件的所有标记名称信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e548" headers="d118733e373 ">
                                 <p><a id="d118733e550" class="indexterm-anchor"></a><code class="codeph">V$ASM_ACFSVOLUMES</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e548 d118733e376 ">
                                 <p>包含与已安装的Oracle ADVM卷相关的信息，与<code class="codeph">V$ASM_FILESYSTEM</code>相关。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e561" headers="d118733e373 ">
                                 <p><a id="d118733e563" class="indexterm-anchor"></a><code class="codeph">V$ASM_FILESYSTEM</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e561 d118733e376 ">
                                 <p>包含有关每个已安装的Oracle ACFS文件系统的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e571" headers="d118733e373 ">
                                 <p><a id="d118733e573" class="indexterm-anchor"></a><code class="codeph">V$ASM_VOLUME</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e571 d118733e376 ">
                                 <p>包含有关作为Oracle ASM实例成员的每个Oracle ADVM卷的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d118733e581" headers="d118733e373 ">
                                 <p><a id="d118733e583" class="indexterm-anchor"></a><code class="codeph">V$ASM_VOLUME_STAT</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d118733e581 d118733e376 ">
                                 <p>包含有关每个Oracle ADVM卷的统计信息的信息。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BACICIFI">
                     <p class="titleinexample">示例12-1在V $ ASM_ACFS_ENCRYPTION_INFO中查看加密信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFS_ENCRYPTION_INFO</code>视图显示的信息。<code class="codeph">FS_NAME</code>列包含挂载点。<code class="codeph">VOL_DEVICE</code>包含Oracle ADVM设备的名称。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（fs_name，1,24）FILESYSTEM，SUBSTR（vol_device，1,20）DEVICE，set_status，enabled_status，algorithm，key_length，last_rekey_time FROM V $ ASM_ACFS_ENCRYPTION_INFO; FILESYSTEM DEVICE SET_STA ENABLED_ ALGORIT KEY_LEN LAST_REKE ------------ ----------- -------------------- -  ------- -------- ------- ------- --------- / acfsmounts / acfs1 / dev / asm / volume1 -228 YES ENABLED AES 192</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BACCCIHC">
                     <p class="titleinexample">示例12-2在V $ ASM_ACFS_SECURITY_INFO中查看安全信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFS_SECURITY_INFO</code>视图显示的信息。<code class="codeph">FS_NAME</code>列包含挂载点。<code class="codeph">VOL_DEVICE</code>包含Oracle ADVM设备的名称。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（fs_name，1,24）FILESYSTEM，SUBSTR（vol_device，1,20）DEVICE，prepared_status，enabled_status FROM V $ ASM_ACFS_SECURITY_INFO; FILESYSTEM DEVICE PREPARE ENABLED_ ------------------------- --------------------- -  ------- -------- / acfsmounts / acfs1 / dev / asm / volume1-228 YES ENABLED</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BABIJDCA">
                     <p class="titleinexample">示例12-3在V $ ASM_ACFS_SEC_RULE中查看安全规则信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFS_SEC_RULE</code>视图显示的信息。<code class="codeph">FS_NAME</code>列包含挂载点。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（rule_name，1,24）规则，SUBSTR（rule_type，1,12）类型，SUBSTR（rule_value，1,16）值，SUBSTR（fs_name，1,24）文件系统FROM V $ ASM_ACFS_SEC_RULE; RULE TYPE VALUE FILESYSTEM ------------------------ ------------ ---------- ------ ------------------------ medHistRule1a TIME 22:00:00 / acfsmounts / acfs1 medHistRule1c TIME 08:00:00 / acfsmounts / acfs1 medHistRule1b USERNAME medMaintenance / acfsmounts / acfs1 medHistRule1d USERNAME medBrowse / acfsmounts / acfs1 SYSTEM_RULE_Auditor GROUPNAME myaudit_mgr_grp / acfsmounts / acfs1 SYSTEM_RULE_AuditManager GROUPNAME myauditor_grp / acfsmounts / acfs1 SYSTEM_RULE_Always TIME 00:00:00 / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BABECHHC">
                     <p class="titleinexample">示例12-4在V $ ASM_ACFS_SEC_RULESET中查看安全规则集信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFS_SEC_RULESET</code>视图显示的信息。<code class="codeph">FS_NAME</code>列包含挂载点。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（ruleset_name，1,36）ruleset，ruleset_option r_option，SUBSTR（fs_name，1,24）filesystem FROM V $ ASM_ACFS_SEC_RULESET; RULESET R_OPTION FILESYSTEM ------------------------------------ -------- --- -------------- medRuleSet1 ALL_TRUE / acfsmounts / acfs1 medRuleSet2 ALL_TRUE / acfsmounts / acfs1 SYSTEM_RULESET_Auditor ALL_TRUE / acfsmounts / acfs1 SYSTEM_RULESET_AuditManager ALL_TRUE / acfsmounts / acfs1 SYSTEM_RULESET_AuditMgr_Auditor ANY_TRUE / acfsmounts / acfs1 SYSTEM_RULESET_AlwaysDeny ANY_TRUE / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BABFJAGE">
                     <p class="titleinexample">示例12-5在V $ ASM_ACFS_SEC_RULESET_RULE中查看安全规则集信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFS_SEC_RULESET_RULE</code>视图显示的信息。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（ruleset_name，1,36）ruleset，substr（rule_name，1,24）rule，SUBSTR（fs_name，1,36）filesystem FROM V $ ASM_ACFS_SEC_RULESET_RULE; RULESET RULE FILESYSTEM ------------------------------------ ----------- ------------- ------------------ medRuleSet1 medHistRule1a / acfsmounts / acfs1 medRuleSet1 medHistRule1b / acfsmounts / acfs1 medRuleSet2 medHistRule1c / acfsmounts / acfs1 medRuleSet2 medHistRule1d / acfsmounts / acfs1 SYSTEM_RULESET_Auditor SYSTEM_RULE_Auditor / acfsmounts / acfs1 SYSTEM_RULESET_AuditManager SYSTEM_RULE_AuditManager / acfsmounts / acfs1 SYSTEM_RULESET_AuditMgr_Auditor SYSTEM_RULE_Auditor / acfsmounts / acfs1 SYSTEM_RULESET_AuditMgr_Auditor SYSTEM_RULE_AuditManager / acfsmounts / acfs1 SYSTEM_RULESET_AlwaysDeny SYSTEM_RULE_Always / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDEEJHD">
                     <p class="titleinexample">示例12-6在V $ ASM_ACFSSNAPSHOTS中查看快照信息</p>
                     <p>此检查显示从<code class="codeph">V$ASM_ACFSSNAPSHOTS</code>视图显示的信息。<code class="codeph">FS_NAME</code>列包含挂载点。<code class="codeph">VOL_DEVICE</code>包含Oracle ADVM设备的名称。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（FS_NAME，1,24）FILESYSTEM，SUBSTR（VOL_DEVICE，1,22）DEVICE，SUBSTR（SNAP_NAME，1,12）SNAPSHOT，CREATE_TIME TIME，SUBSTR（PARENT，1,10）PARENT，SUBSTR（TYPE，1， 4）TYPE FROM V $ ASM_ACFSSNAPSHOTS; FILESYSTEM DEVICE SNAPSHOT TIME PARENT TY ------------------------ -------------------- -  ------------ --------- ----------  -  / acfsmounts / acfs1 / dev / asm / volume1-229 snaprw 13- MAR-12 NULL RW / acfsmounts / acfs1 / dev / asm / volume1-229 snaprw_child 13-MAR-12 snaprw RW / acfsmounts / acfs2 / dev / asm / volume2-321 snapro 13-MAR-12 NULL RO</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDFJDCA">
                     <p class="titleinexample">示例12-7使用V $ ASM_ACFSVOLUMES查看卷信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFSVOLUMES</code>视图显示的信息。如果卷是文件系统的主卷，则<code class="codeph">PRIMARY_VOL</code>列包含<code class="codeph">TRUE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT fs_name，vol_device，primary_vol，total_mb，free_mb FROM V $ ASM_ACFSVOLUMES; FS_NAME VOL_DEVICE PRIMARY_VOL TOTAL_MB FREE_MB ------------------ ---------------------- ----- ------ --------- ---------- / acfsmounts / acfs1 / dev / asm / volume1-228 TRUE 1024000 578626.522 / acfsmounts / acfs2 / dev / asm / volume2 -375 TRUE 1024000 685761.463 ......</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDGJBJI">
                     <p class="titleinexample">示例12-8使用V $ ASM_FILESYSTEM查看卷信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_FILESYSTEM</code>视图显示的信息。
                     </p>
                     <p><code class="codeph">STATE</code>列包含文件系统的状态，可以是<code class="codeph">AVAILABLE</code>或<code class="codeph">OFFLINE</code> 。只能卸载脱机文件系统;其他访问尝试导致错误。脱机意味着Oracle ASM实例已关闭，磁盘组已被强制卸载，或者不太常见，发生元数据I / O故障或检测到严重的元数据损坏。如果元数据I / O失败，文件系统也会标记为已损坏。
                     </p>
                     <p><code class="codeph">CORRUPT</code>列指示文件系统是否需要在其上运行<code class="codeph">fsck</code>或<code class="codeph">acfschkdsk</code>命令。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT fs_name，available_time，block_size，state，corrupt FROM V $ ASM_FILESYSTEM; FS_NAME可用BLOCK_SIZE STATE CORRUPT -------------------------- --------- ---------- ------------- ------- / acfsmounts / acfs1 19-JUL-09 4可用的错误/ acfsmounts / acfs2 19-JUL-09 4可用的错误</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDGDJGA">
                     <p class="titleinexample">示例12-9使用V $ ASM_VOLUME查看卷信息</p>
                     <p>此示例显示了从<code class="codeph">V$ASM_VOLUME</code>视图中显示的<code class="codeph">DATA</code>磁盘组中包含的卷的信息。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT dg.name AS diskgroup，v.volume_name，v.volume_device，v.mountpath FROM V $ ASM_DISKGROUP dg，V $ ASM_VOLUME v WHERE dg.group_number = v.group_number和dg.name ='DATA'; DISKGROUP VOLUME_NAME VOLUME_DEVICE MOUNTPATH ---------------- ----------------- ------------- ---------- ------------------ DATA VOLUME1 / dev / asm / volume1-228 / acfsmounts / acfs1 DATA VOLUME2 / dev / asm / volume2 -375 / acfsmounts / acfs2</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BABGFFJF">
                     <p class="titleinexample">示例12-10使用V $ ASM_VOLUME_STAT查看卷信息</p>
                     <p>此示例显示了从<code class="codeph">DATA</code>磁盘组中包含的卷的<code class="codeph">V$ASM_VOLUME_STAT</code>视图中显示的信息。<code class="codeph">BYTES_READ</code>列包含为卷读取的总字节数。<code class="codeph">BYTES_WRITTEN</code>列包含为卷写入的总字节数。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT dg.name AS diskgroup，v.volume_name，v.bytes_read，v.bytes_written FROM V $ ASM_DISKGROUP dg，V $ ASM_VOLUME_STAT v WHERE dg.group_number = v.group_number和dg.name ='DATA'; DISKGROUP VOLUME_NAME BYTES_READ BYTES_WRITTEN ------------------------------ ---------------- -------------- ----------- ------------- DATA VOLUME1 12370105856 43510272 DATA VOLUME2 2685728 32201504</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__BABFGGFG">
                     <p class="titleinexample">示例12-11使用V $ ASM_ACFSTAG查看标记名称信息</p>
                     <p>此示例显示从<code class="codeph">V$ASM_ACFSTAG</code>视图显示的<code class="codeph">/acfsmounts/acfs1</code>文件系统的标记名称。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR（TAG_NAME，1,8）TAG_NAME，SUBSTR（FS_NAME，1,20）FS_NAME，SUBSTR（PATH_NAME，1,42）PATH_NAME FROM V $ ASM_ACFSTAG WHERE TAG_NAME ='tag5'; TAG_NAME广告管理系统PAT_NAME“-------- --------------------- ------------------ -------------------- tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 / d2 / d3 / d4 / d5 / f6 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 / d2 / d3 / d4 / d5 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 / d2 / d3 / d4 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 / d2 / d3 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 / d2 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / d1 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1 / f1 tag5 / acfsmounts / acfs1 / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__GUID-2468BEAE-965B-4BE8-B299-F897F8195584">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle ACFS动态视图的信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95741"></a><a id="OSTMG95742"></a><a id="OSTMG95743"></a><a id="OSTMG95744"></a><a id="OSTMG95740"></a><div class="props_rev_3"><a id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157" name="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157"></a><h3 id="OSTMG-GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157" class="sect3">Oracle ACFS对Oracle数据库文件映射视图的支持</h3>
               <div>
                  <p>Oracle ACFS支持Oracle数据库文件映射视图到Oracle ASM设备级别。</p>
                  <div class="infoboxnote" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__GUID-C2F71072-DA1F-406D-93AB-5A86F61371F0">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第1版（12.1.0.2）开始提供此功能。</p>
                  </div>
                  <p>Oracle ACFS支持以下数据库映射视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">V $ MAP_FILE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">V $ MAP_FILE_EXTENT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">V $ MAP_ELEMENT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">V $ MAP_FILE_IO_STACK</code></p>
                     </li>
                  </ul>
                  <p>只有通过执行<code class="codeph">DBMS_STORAGE_MAP.MAP_ALL</code>过程才能刷新这些<code class="codeph">V$MAP</code>视图。 Oracle ACFS文件映射接口不使用外部<code class="codeph">fmputl</code>进程或其支持库。
                  </p>
                  <div class="infoboxnote" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__GUID-4037C983-DD7B-473D-85EB-3D7C8E3F8E5B">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle ACFS不支持Windows上的Oracle数据库文件映射。</p>
                        </li>
                        <li>
                           <p>Oracle ACFS不支持<code class="codeph">V$MAP_SUBELEMENT</code>视图。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>在对<code class="codeph">V$MAP</code>视图运行任何查询之前，请确保将<code class="codeph">FILE_MAPPING</code>初始化设置为<code class="codeph">TRUE</code> ，然后运行<code class="codeph">DBMS_STORAGE_MAP.MAP_ALL</code>过程以构建与数据库关联的整个I / O子系统的映射信息。例如，以<code class="codeph">SYSDBA</code>身份连接到数据库实例并运行以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET file_mapping = true; SQL&gt; EXEC DBMS_STORAGE_MAP.MAP_ALL（10000）;</pre><p><a href="views-acfs-advm-info.html#GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABIHEGI">例12-12</a>到<a href="views-acfs-advm-info.html#GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABGIDIC">例12-15</a>中的SQL语句是从Oracle数据库实例运行的。
                  </p>
                  <div class="example" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABIHEGI">
                     <p class="titleinexample">示例12-12使用V $ MAP_ELEMENT查看Oracle ASM信息</p>
                     <p>此示例显示<code class="codeph">V$MAP_ELEMENT</code>视图中的信息。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT ELEM_NAME，ELEM_IDX，ELEM_TYPE，ELEM_SIZE，ELEM_DESCR FROM V $ MAP_ELEMENT; ELEM_NAME ELEM_IDX ELEM_TYPE ELEM_SIZE ELEM_DESCR ------------ ---------- ---------- ---------- --- -------------- + / dev / xvdd1 0 ASMDISK 117184512 TEST_0001 + / dev / xvdc1 1 ASMDISK 117184512 TEST_0000</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABFBJIE">
                     <p class="titleinexample">示例12-13使用V $ MAP_FILE查看Oracle ACFS数据文件信息</p>
                     <p>此示例显示<code class="codeph">V$MAP_FILE</code>视图中的信息。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT FILE_NAME，FILE_MAP_IDX，FILE_TYPE，FILE_STRUCTURE，FILE_SIZE，FILE_NEXTS FROM V $ MAP_FILE WHERE REGEXP_LIKE（FILE_NAME，'* users01.dbf'）; FILE_NAME FILE_MAP_IDX FILE_TYPE FILE_STRU FILE_SIZE FILE_NEXTS ------------------------- ------------ ------- -  --------- --------- ---------- /dbdata1/orcl/users01.dbf 4 DATAFILE FILE 10256 41</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABHAECF">
                     <p class="titleinexample">示例12-14使用V $ MAP_FILE_EXTENT查看元素和文件偏移信息</p>
                     <p>此示例使用<code class="codeph">V$MAP_FILE_EXTENT</code>显示每个范围的元素偏移量与文件偏移量信息，指定<code class="codeph">FILE_MAP_IDX</code>等于<code class="codeph">4</code> ，这是<code class="codeph">/dbdata/orcl/users01.dbf</code>文件的文件映射索引。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT FILE_MAP_IDX，EXT_NUM，EXT_ELEM_OFF，EXT_SIZE，EXT_FILE_OFF，EXT_TYPE，ELEM_IDX FROM V $ MAP_FILE_EXTENT WHERE FILE_MAP_IDX = 4; FILE_MAP_IDX EXT_NUM EXT_ELEM_OFF EXT_SIZE EXT_FILE_OFF EXT_TY ELEM_IDX ------------ ---------- ------------ --------- -  ------------ ------ ---------- 4 0 58105664 192 0 DATA 0 4 1 58154752 256 192 DATA 1 4 2 58089472 256 448 DATA 0 ...4 39 58140928 256 9920 DATA 1 4 40 58108160 88 10176 DATA 0选择41行。
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__BABGIDIC">
                     <p class="titleinexample">示例12-15使用V $ MAP_FILE_IO_STACK查看范围信息</p>
                     <p>此示例显示来自<code class="codeph">V$MAP_FILE_IO_STACK</code>信息，指定<code class="codeph">FILE_MAP_IDX</code>等于<code class="codeph">4</code> 。<code class="codeph">V$MAP_FILE_IO_STACK</code>视图类似于<code class="codeph">V$MAP_FILE_EXTENT</code> ，但显示组是在同一设备或元素上具有相同大小的连续范围。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT FILE_MAP_IDX，ELEM_IDX，CU_SIZE，STRIDE，NUM_CU，ELEM_OFFSET，FILE_OFFSET FROM V $ MAP_FILE_IO_STACK WHERE FILE_MAP_IDX = 4; FILE_MAP_IDX ELEM_IDX CU_SIZE STRIDE NUM_CU ELEM_OFFSET FILE_OFFSET ------------ ---------- ---------- ----------- ---------- ----------- ----------- 4 0 256 1024 10 58089472 448 4 0 192 0 1 58105664 0 4 0 256 1024 9 58105856 960 4 0 88 0 1 58108160 10176 4 1 256 1024 10 58138624 704 4 1 256 1024 10 58154752 192选择了6行。
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-20D76B99-571A-4F1B-8C4D-816D3A6C6157__GUID-308EA81A-53F1-47BE-8CDA-38E635B448AB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <a href="asm-files-directories-templates.html#GUID-346E8F7D-2A29-44D2-A47A-BE5A8032284C" title="要了解I / O性能，您必须具备文件所在的存储层次结构的详细信息。">Oracle ASM文件的Oracle数据库文件映射，</a>以获取有关Oracle ASM文件的文件映射的信息</p>
                           </li>
                           <li>
                              <p>有关Oracle数据库文件映射接口的信息，请参见<a href="../admin/managing-data-files-and-temp-files.html#ADMIN11442" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$MAP</code>视图的详细信息，请参阅<a href="../refrn/dynamic-performance-v-views-2.html#REFRN-GUID-B200B2D6-08D4-49B0-9FD9-8AF6AED37202" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03355.configuring-oracle-database-vault-policies.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can use Oracle Database Vault policies to implement frequently used realm and command rule settings."></meta>
      <meta name="description" content="You can use Oracle Database Vault policies to implement frequently used realm and command rule settings."></meta>
      <title>配置Oracle Database Vault策略</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="You can use Oracle Database Vault policies to implement frequently used realm and command rule settings."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-secure-application-roles-for-oracle-database-vault.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-training-mode-to-log-realm-and-command-rule-activities.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-secure-application-roles-for-oracle-database-vault.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-training-mode-to-log-realm-and-command-rule-activities.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle Database Vault策略</li>
            </ol>
            <a id="GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" name="GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05"></a>
            
            <h2 id="DVADM-GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" class="sect2"><span class="enumeration_chapter">9</span>配置Oracle Database Vault策略</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-3541786D-5D99-4E42-B432-251475BDD6F3">什么是数据库Vault策略？</a><br>Oracle Database Vault策略将本地域和命令规则分组到命名策略中，您可以根据需要启用或禁用该策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-8BA8082F-59E1-48E8-8AF4-E791E4095397">默认Oracle Database Vault策略</a><br>Oracle Database Vault提供了两个默认策略，可用于更好地保护用户帐户和系统权限。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-60C64B36-8A6E-494E-A655-82A8040DA374">创建Oracle数据库策略</a><br>要创建Oracle Database Vault策略，请创建一个容器策略，指定包含该策略的领域和命令规则。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-78BA4B4B-F3E0-4735-B4D7-C70A56E828BA">修改Oracle Database Vault策略</a><br>您可以使用Enterprise Manager Cloud Control修改Oracle Database Vault策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-1085290C-C3AB-483D-8D37-9C1E244AB8F2">删除Oracle Database Vault策略</a><br>您可以使用Enterprise Manager Cloud Control删除Oracle Database Vault策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6">相关数据字典视图</a><br>Oracle Database Vault提供了用于分析Database Vault策略的数据字典视图。
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-3541786D-5D99-4E42-B432-251475BDD6F3" name="GUID-3541786D-5D99-4E42-B432-251475BDD6F3"></a><h3 id="DVADM-GUID-3541786D-5D99-4E42-B432-251475BDD6F3" class="sect3">什么是数据库Vault策略？</h3>
               <div>
                  <p>Oracle Database Vault策略将本地域和命令规则分组到命名策略中，您可以根据需要启用或禁用该策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-4831AD51-053C-421A-9CA0-A301E72F4C3B">关于Oracle Database Vault策略</a><br>Oracle Database Vault策略可以将域和命令规则定义分组到一个策略中，然后可以集体启用或禁用这些策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-database-vault-policies.html#GUID-07513135-CB45-4788-A596-E5A71879BB81">多租户环境中的Oracle Database Vault策略</a><br>Oracle Database Vault策略仅在创建它们的可插拔数据库（PDB）本地。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4831AD51-053C-421A-9CA0-A301E72F4C3B" name="GUID-4831AD51-053C-421A-9CA0-A301E72F4C3B"></a><h4 id="DVADM-GUID-4831AD51-053C-421A-9CA0-A301E72F4C3B" class="sect4">关于Oracle Database Vault策略</h4>
                  <div>
                     <p>Oracle Database Vault策略可以将域和命令规则定义分组到一个策略中，然后可以集体启用或禁用这些策略。</p>
                     <p>Database Vault策略使您可以将有限的域管理权限委派给数据库用户，而无需<code class="codeph">DVOWNER</code>提供<code class="codeph">DVADM</code>和<code class="codeph">DVOWNER</code>角色提供的强大权限。Oracle Database Vault提供默认策略。
                     </p>
                     <p>例如，假设您有一组与特定应用程序相关的Oracle Database Vault对象，例如领域和几个命令规则。您可以使用Database Vault策略将这些对象分组到一个策略中。然后，您可以指定策略管理员来管理将用户添加到此应用程序的领域以及启用或禁用该策略。如果只有一个主应用程序，那么它可用于可管理性，用户可以使用一个命令启用，禁用或模拟（使用模拟模式）所有相关对象，而不是为每个包含的Database Vault对象发出命令。</p>
                     <p>如何启用各个领域和命令规则取决于您如何设置策略的策略状态，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>完全启用模式（ <code class="codeph">DBMS_MACADM.G_ENABLED</code> ）将策略设置为优先于相关领域和命令规则的各个启用设置。例如，如果单独禁用策略的关联对象，则在启用策略时将启用它们。（相反，您可以设置<code class="codeph">DBMS_MACADM.G_PARTIAL</code>以允许嵌入式安全对象设置自己的启用，禁用或模拟模式。）
                           </p>
                        </li>
                        <li>
                           <p>部分启用模式（ <code class="codeph">DBMS_MACADM.G_PARTIAL</code> ）使关联的域和命令规则具有不同的状态设置（ <code class="codeph">ENABLED</code> ， <code class="codeph">DISABLED</code>和<code class="codeph">SIMULATION</code> ）。其他策略状态选择会强制所有关联控件处于策略所指示的相同状态。将策略状态设置为partial允许每个领域和命令规则根据需要更改状态。
                           </p>
                        </li>
                        <li>
                           <p>模拟模式（ <code class="codeph">DBMS_MACACM.G.SIMULATION</code> ）启用策略，但将违规写入领域或命令规则到指定的日志表，其中包含有关违规类型的信息，例如用户名或使用的SQL语句。模拟强制策略中的每个安全对象都处于模拟模式。
                           </p>
                        </li>
                        <li>
                           <p>禁用模式（ <code class="codeph">DBMS_MACADM.G_DISABLED</code> ）在创建策略后禁用该策略。
                           </p>
                        </li>
                     </ul>
                     <p>通常，要创建Database Vault策略，请执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>创建要在策略中使用的必要领域和命令规则。</p>
                        </li>
                        <li>
                           <p>创建数据库保管库策略。</p>
                           <p>您可以使用<code class="codeph">DBMS_MACADM.CREATE_POLICY</code>过程来创建策略。
                           </p>
                        </li>
                        <li>
                           <p>将一个或多个领域添加到策略中。</p>
                           <p>您可以使用<code class="codeph">DBMS_MACADM.ADD_REALM_TO_POLICY</code>过程向域中添加域。
                           </p>
                        </li>
                        <li>
                           <p>将一个或多个命令规则添加到策略。</p>
                           <p>您可以使用<code class="codeph">DBMS_MACADM.ADD_CMD_TO_POLICY</code>过程向策略添加命令规则。
                           </p>
                        </li>
                        <li>
                           <p>添加一个或多个数据库用户作为策略的所有者。</p>
                           <p>您可以使用<code class="codeph">DBMS_MACADM.ADD_OWNER_TO_POLICY</code>过程将用户添加到策略。然后，授予此用户<code class="codeph">DV_POLICY_OWNER</code>角色。该用户将能够执行一组有限的任务：更改策略状态，添加或删除领域的授权，以及拥有一组<code class="codeph">DVSYS.POLICY_OWNER</code> *数据字典视图的<code class="codeph">SELECT</code>权限。默认情况下， <code class="codeph">DVOWNER</code>用户拥有该策略。
                           </p>
                        </li>
                     </ol>
                     <p>策略创建后，可以立即使用。</p>
                     <p>本节介绍如何使用Oracle Enterprise Manager Cloud Control中的Oracle Database Vault Administrator页面配置策略。要使用Oracle Database Vault提供的PL / SQL接口和软件包配置策略，必须使用<code class="codeph">DBMS_MACADM</code> PL / SQL软件包。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-oracle-database-vault-policies.html#GUID-8BA8082F-59E1-48E8-8AF4-E791E4095397" title="Oracle Database Vault提供了两个默认策略，可用于更好地保护用户帐户和系统权限。">默认Oracle Database Vault策略</a></li>
                           <li><a href="oracle-database-vault-policy-apis.html#GUID-ED2DCC1B-8511-46CC-AB82-37F4A4B80D0C" title="您可以使用DBMS_MACADM PL / SQL包来管理Oracle Database Vault策略。">Oracle Database Vault策略API</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1" title="DV_POLICY_OWNER角色使数据库用户能够管理有限程度的Oracle Database Vault策略。">DV_POLICY_OWNER数据库保管库所有者角色</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-3541786D-5D99-4E42-B432-251475BDD6F3" title="Oracle Database Vault策略将本地域和命令规则分组到命名策略中，您可以根据需要启用或禁用该策略。">什么是Database Vault策略？</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-07513135-CB45-4788-A596-E5A71879BB81" name="GUID-07513135-CB45-4788-A596-E5A71879BB81"></a><h4 id="DVADM-GUID-07513135-CB45-4788-A596-E5A71879BB81" class="sect4">多租户环境中的Oracle Database Vault策略</h4>
                  <div>
                     <p>Oracle Database Vault策略仅在创建它们的可插拔数据库（PDB）本地。</p>
                     <p>也就是说，如果您在PDB中创建了策略，则只能向其添加本地域和命令规则。您无法创建可以具有公共领域或常用命令规则的Database Vault策略。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-3541786D-5D99-4E42-B432-251475BDD6F3" title="Oracle Database Vault策略将本地域和命令规则分组到命名策略中，您可以根据需要启用或禁用该策略。">什么是Database Vault策略？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8BA8082F-59E1-48E8-8AF4-E791E4095397" name="GUID-8BA8082F-59E1-48E8-8AF4-E791E4095397"></a><h3 id="DVADM-GUID-8BA8082F-59E1-48E8-8AF4-E791E4095397" class="sect3">默认Oracle Database Vault策略</h3>
               <div>
                  <p>Oracle Database Vault提供了两个默认策略，可用于更好地保护用户帐户和系统权限。</p>
                  <div class="section">
                     <p>您可以在自己的安全配置中使用默认策略。如果您不需要它们，则可以删除它们，因为Oracle Database Vault不需要它们供内部使用。</p>
                     <p>默认策略如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle帐户管理控制实施对Oracle Database Vault中与用户相关的操作的控制。它用于防止未经授权的特权用户创建临时用户帐户，删除用户帐户以及执行其他与用户帐户相关的操作。它包括数据库保管库帐户管理领域和用于SQL语句的用户帐户管理命令规则，例如<code class="codeph">CREATE USER</code> 。</p>
                        </li>
                        <li>
                           <p>Oracle System Protection Controls强制控制与默认Oracle数据库环境关联的重要数据库模式，特权和角色。它包括Oracle Default Schema Protection Realm等领域以及系统管理SQL语句<code class="codeph">ALTER SYSTEM</code>命令规则。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-database-vault-data-dictionary-views.html#GUID-E7BCC4DF-77C1-4D5C-A4BE-EEC7AB33939B" title="DBA_DV_POLICY_OBJECT数据字典视图列出了有关受当前数据库实例中的Oracle Database Vault策略保护的对象的信息。">DBA_DV_POLICY_OBJECT查看</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-60C64B36-8A6E-494E-A655-82A8040DA374" name="GUID-60C64B36-8A6E-494E-A655-82A8040DA374"></a><h3 id="DVADM-GUID-60C64B36-8A6E-494E-A655-82A8040DA374" class="sect3">创建Oracle数据库策略</h3>
               <div>
                  <p>要创建Oracle Database Vault策略，请创建一个容器策略，指定包含该策略的领域和命令规则。</p>
                  <div class="section">您可以在创建时启用策略，也可以稍后启用该策略。</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li class="stepexpand"><span>使用“ <a href="configuring-realms.html#GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B" title="要启用域保护，请创建域并将其配置为包括域安全对象，角色和授权。">创建领域”</a>和“ <a href="configuring-rule-sets.html#GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444" title="To create a rule set, you first create the rule set itself, and then you can edit the rule set to associate it with one or more rules.">创建规则集”</a> ， <a href="configuring-rule-sets.html#GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444" title="要创建规则集，首先要创建规则集，然后可以编辑规则集以将其与一个或多个规则相关联。">创建</a>要与策略关联的领域和命令规则。</span></li>
                     <li class="stepexpand"><span>在“管理”页面的“数据库保管库组件”下，单击“ <span class="uicontrol bold">策略”</span>以显示“策略”页面。<br><img src="img/policies_home_page.png" alt="下面是policies_home_page.png的说明" title="下面是policies_home_page.png的说明" longdesc="img_text/policies_home_page.html"><br><a href="img_text/policies_home_page.html">说明policies_home_page.png的说明</a><br></span></li>
                     <li class="stepexpand"><span>在“策略”页面中，单击“ <span class="uicontrol bold">创建”</span>以显示“创建策略”页面。<br><img src="img/create_policy122.png" alt="下面是create_policy122.png的描述" title="下面是create_policy122.png的描述" longdesc="img_text/create_policy122.html"><br><a href="img_text/create_policy122.html">插图描述create_policy122.png</a><br></span></li>
                     <li class="stepexpand"><span>在“创建策略”页面的“常规”下，输入以下设置：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">名称：</span>输入策略名称，最多128个字符。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">描述：</span>输入策略的描述，最多4000个字符。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">状态：</span>从以下选项中进行选择：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="uicontrol bold">Enabled</span>在您创建策略后<span class="uicontrol bold">启用</span>该策略。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">Disabled则</span>禁止在创建后的政策。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">Simulation</span>将策略设置为模拟模式。在模拟模式下，对策略中使用的域或命令规则的任何违规都记录在指定的日志表中，其中包含足以描述错误的信息，例如使用的用户名或SQL语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">部分</span>支持领域的强制状态或与策略关联的命令规则可以单独更改。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在“域”下，单击“ <span class="uicontrol bold">添加”</span>以选择要添加到策略的域。然后单击<span class="uicontrol bold">确定</span> 。</span></li>
                     <li class="stepexpand"><span>在“命令规则”下，单击“ <span class="uicontrol bold">添加”</span>以选择要添加到策略的命令规则。然后单击<span class="uicontrol bold">确定</span> 。</span></li>
                     <li class="stepexpand"><span>在“所有者”下，单击“ <span class="uicontrol bold">添加”</span>以将所有者<span class="uicontrol bold">添加</span>到策略。然后单击<span class="uicontrol bold">确定</span> 。</span></li>
                     <li class="stepexpand"><span>单击<span class="uicontrol bold">下一步</span> 。</span></li>
                     <li class="stepexpand"><span>在Review页面中，单击<span class="uicontrol bold">Finish</span> 。</span></li>
                     <li class="stepexpand"><span>这样，Database Vault策略所有者可以查询与策略相关的视图并执行允许的过程，为该用户授予<code class="codeph">DV_POLICY_OWNER</code>角色。</span><div>例如：<pre class="oac_no_warn" dir="ltr">GRANT DV_POLICY_OWNER到psmith;</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-78BA4B4B-F3E0-4735-B4D7-C70A56E828BA" name="GUID-78BA4B4B-F3E0-4735-B4D7-C70A56E828BA"></a><h3 id="DVADM-GUID-78BA4B4B-F3E0-4735-B4D7-C70A56E828BA" class="sect3">修改Oracle Database Vault策略</h3>
               <div>
                  <p>您可以使用Enterprise Manager Cloud Control修改Oracle Database Vault策略。</p>
                  <ol>
                     <li><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="uicontrol bold">策略”</span> 。</span></li>
                     <li><span>选择要更改的策略的行。</span></li>
                     <li><span>单击<span class="uicontrol bold">编辑</span> 。</span></li>
                     <li><span>在“编辑策略”页面中，根据需要修改设置。</span></li>
                     <li><span>单击<span class="uicontrol bold">下一步</span> ，然后单击<span class="uicontrol bold">完成</span> 。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-1085290C-C3AB-483D-8D37-9C1E244AB8F2" name="GUID-1085290C-C3AB-483D-8D37-9C1E244AB8F2"></a><h3 id="DVADM-GUID-1085290C-C3AB-483D-8D37-9C1E244AB8F2" class="sect3">删除Oracle Database Vault策略</h3>
               <div>
                  <p>您可以使用Enterprise Manager Cloud Control删除Oracle Database Vault策略。</p>
                  <div class="section">删除Oracle Database Vault策略时，将保留基础域和命令规则，并保留其各自的启用状态。</div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="uicontrol bold">策略”</span> 。</span></li>
                     <li><span>选择要删除的策略的行，单击“ <span class="uicontrol bold">删除”</span> ，然后在确认对话框中单击“ <span class="uicontrol bold">是</span> ”。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6" name="GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6"></a><h3 id="DVADM-GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6" class="sect3">相关数据字典视图</h3>
               <div>
                  <p>Oracle Database Vault提供了用于分析Database Vault策略的数据字典视图。</p>
                  <div class="section">
                     <p><a href="configuring-oracle-database-vault-policies.html#GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6__DATADICTIONARYVIEWSUSEDFORORACLEDAT-B1DA1E37" title="Oracle Database Vault数据字典视图">表9-1</a>列出了提供有关现有Oracle Database Vault策略的信息的数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2E6A0340-CA19-4EC6-8187-186499DB83D6__DATADICTIONARYVIEWSUSEDFORORACLEDAT-B1DA1E37">
                     <p class="titleintable">表9-1用于Oracle Database Vault策略的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于Oracle Database Vault策略的数据字典视图" width="100%" border="1" summary="Oracle Database Vault Data Dictionary Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d41060e1252">数据字典视图</th>
                              <th align="left" valign="bottom" width="47%" id="d41060e1255">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1260" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-4D52BE91-ABA1-4996-B274-F6C558064D85" title="DBA_DV_POLICY数据字典视图列出了在当前数据库实例中创建的Oracle Database Vault策略。">DBA_DV_POLICY查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1260 d41060e1255 ">
                                 <p>列出Database Vault策略，描述及其状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1274" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-E7BCC4DF-77C1-4D5C-A4BE-EEC7AB33939B" title="DBA_DV_POLICY_OBJECT数据字典视图列出了有关受当前数据库实例中的Oracle Database Vault策略保护的对象的信息。">DBA_DV_POLICY_OBJECT查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1274 d41060e1255 ">
                                 <p>提供有关策略的详细信息，例如关联的域和命令规则</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1288" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-91B31283-C72E-41B8-BEA3-B1C213FC324A" title="DBA_DV_POLICY_OWNER数据字典视图列出了在当前数据库实例中创建的Oracle Database Vault策略的所有者。">DBA_DV_POLICY_OWNER查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1288 d41060e1255 ">
                                 <p>列出Database Vault策略的所有者</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1302" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="DBA_DV_REALM_AUTH数据字典视图列出了可以访问领域对象的数据库用户帐户或角色授权（GRANTEE）。">DBA_DV_REALM_AUTH查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1302 d41060e1255 ">
                                 <p>允许已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户查找有关已授予与Database Vault策略关联的域的授权的信息，例如域名，被授权者和关联的规则集。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1322" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-B3442E54-18F2-4845-8307-87F0F5B8DC63" title="DVSYS.POLICY_OWNER_COMMAND_RULE数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找有关与Database Vault策略关联的命令规则的信息。">DVSYS.POLICY_OWNER_COMMAND_RULE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1322 d41060e1255 ">
                                 <p>已授予<code class="codeph">DV_POLICY_OWNER</code>角色的Enbles用户可查找与Database Vault策略关联的命令规则的相关信息，例如命令规则名称。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1342" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-309F51C1-184E-4589-9C77-6AF60E8AAA59" title="DVSYS.POLICY_OWNER_POLICY数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找当前数据库实例中现有策略的名称，描述和状态等信息，包括其他策略所有者创建的策略。">DVSYS.POLICY_OWNER_POLICY查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1342 d41060e1255 ">
                                 <p>已授予<code class="codeph">DV_POLICY_OWNER</code>角色的Enbles用户可查找当前数据库实例中现有策略的名称，描述和状态等信息，包括其他策略所有者创建的策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1362" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-309F51C1-184E-4589-9C77-6AF60E8AAA59" title="DVSYS.POLICY_OWNER_POLICY数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找当前数据库实例中现有策略的名称，描述和状态等信息，包括其他策略所有者创建的策略。">DVSYS.POLICY_OWNER_POLICY查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1362 d41060e1255 ">
                                 <p>已授予<code class="codeph">DV_POLICY_OWNER</code>角色的Eenables用户可查找当前数据库实例中现有策略的名称，描述和状态等信息，包括其他策略所有者创建的策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1382" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-EDBB8E01-A920-4ECC-8C6C-CEC761EFB38C" title="POLICY_OWNER_REALM数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找有关与Database Vault策略关联的域的信息。">DVSYS.POLICY_OWNER_REALM查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1382 d41060e1255 ">
                                 <p>已授予<code class="codeph">DV_POLICY_OWNER</code>角色的Eenables用户可查找与Database Vault策略关联的域的相关信息，例如领域名称，审计选项或类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1402" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-034D58DE-84DE-46E0-A018-14C5C5D739A6" title="DVSYS.POLICY_OWNER_REALM_OBJECT数据字典视图使用户能够查找有关已添加到与Database Vault策略关联的域的对象的信息，例如。只有已被授予DV_POLICY_OWNER角色的用户才能查询此视图。">DVSYS.POLICY_OWNER_REALM_OBJECT查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1402 d41060e1255 ">
                                 <p>允许已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户查找有关已添加到与Database Vault策略关联的域的对象的信息，例如域名，被授权者和关联的规则集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1422" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-CF661529-2664-40D4-8129-61B2881F7BC2" title="DVSYS.POLICY_OWNER_RULE数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找有关与Database Vault策略中的规则集关联的规则的信息，例如规则名称及其表达式。只有已被授予DV_POLICY_OWNER角色的用户才能查询此视图。">DVSYS.POLICY_OWNER_RULE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1422 d41060e1255 ">
                                 <p>允许已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户查找有关与Database Vault策略中的规则集关联的规则的信息，例如规则名称及其表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1445" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-328A10AF-7ED0-4F70-9FFD-7FFCA7B750A5" title="DVSYS.POLICY_OWNER_RULE_SET数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找有关与Database Vault策略关联的规则集的信息。">DVSYS.POLICY_OWNER_RULE_SET查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1445 d41060e1255 ">
                                 <p>允许已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户查找有关与Database Vault策略关联的规则集的信息，例如规则集名称，其处理程序信息以及是否已启用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d41060e1466" headers="d41060e1252 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-B198CA79-036A-4805-A084-3EDE84C1C9C7" title="DVSYS.POLICY_OWNER_RULE_SET_RULE数据字典视图使已被授予DV_POLICY_OWNER角色的用户可以查找有关包含Database Vault策略中使用的规则的规则集的信息。">DVSYS.POLICY_OWNER_RULE_SET_RULE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d41060e1466 d41060e1255 ">
                                 <p>允许已被授予<code class="codeph">DV_POLICY_OWNER</code>角色的用户查找有关包含Database Vault策略中使用的规则的规则集的信息，例如规则集名称以及是否已启用</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-database-vault-policies.html#GUID-102AA877-C0E4-4EC9-8E01-D505C1BF7F05" title="您可以使用Oracle Database Vault策略来实现常用的域和命令规则设置。">配置Oracle Database Vault策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="06796.ALL_NESTED_TABLE_COLS.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="ALL_NESTED_TABLE_COLS describes the columns of the nested tables accessible to the current user."></meta>
      <meta name="description" content="ALL_NESTED_TABLE_COLS describes the columns of the nested tables accessible to the current user."></meta>
      <title>ALL_NESTED_TABLE_COLS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="ALL_NESTED_TABLE_COLS describes the columns of the nested tables accessible to the current user."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALL_MVIEWS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALL_NESTED_TABLES.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALL_MVIEWS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALL_NESTED_TABLES.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-1.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：ALL_ALL_TABLES到ALL_OUTLINES</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALL_NESTED_TABLE_COLS</li>
            </ol>
            <a id="GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115" name="GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115"></a><a id="REFRN20399"></a>
            
            <h2 id="REFRN-GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115" class="sect2"><span class="enumeration_section">2.229</span> ALL_NESTED_TABLE_COLS</h2>
         </header>
         <div class="ind">
            <div>
               <div><span><code class="codeph">ALL_NESTED_TABLE_COLS</code>描述当前用户可访问的嵌套表的列。</span> 要收集此视图的统计信息，请使用<code class="codeph">DBMS_STATS</code>包。
               </div>
               <div class="section">
                  <p class="subhead1" id="GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115__GUID-1180A6D3-E577-4F6D-B836-7D3BE88BAA6B">相关观点</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DBA_NESTED_TABLE_COLS</code>描述数据库中所有嵌套表的列。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">USER_NESTED_TABLE_COLS</code>描述当前用户拥有的嵌套表的列。此视图不显示<code class="codeph">OWNER</code>列。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115__GUID-EBFF495A-02D8-4E58-A73A-9E00A107F49D">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d451497e195">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d451497e198">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d451497e201">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d451497e204">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e209" headers="d451497e195 ">
                              <p><code class="codeph">所有者</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e209 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e209 d451497e201 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e209 d451497e204 ">
                              <p>嵌套表的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e225" headers="d451497e195 ">
                              <p><code class="codeph">TABLE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e225 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e225 d451497e201 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e225 d451497e204 ">
                              <p>嵌套表的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e241" headers="d451497e195 ">
                              <p><code class="codeph">COLUMN_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e241 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e241 d451497e201 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e241 d451497e204 ">
                              <p>列名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e257" headers="d451497e195 ">
                              <p><code class="codeph">数据类型</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e257 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e257 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e257 d451497e204 ">
                              <p>列的数据类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e272" headers="d451497e195 ">
                              <p><code class="codeph">DATA_TYPE_MOD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e272 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e272 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e272 d451497e204 ">
                              <p>列的数据类型修饰符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e287" headers="d451497e195 ">
                              <p><code class="codeph">DATA_TYPE_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e287 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e287 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e287 d451497e204 ">
                              <p>列的数据类型的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e302" headers="d451497e195 ">
                              <p><code class="codeph">DATA_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e302 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e302 d451497e201 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e302 d451497e204 ">
                              <p>列长度（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e318" headers="d451497e195 ">
                              <p><code class="codeph">DATA_PRECISION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e318 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e318 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e318 d451497e204 ">
                              <p><code class="codeph">NUMBER</code>数据类型的十进制精度; <code class="codeph">FLOAT</code>数据类型的二进制精度;所有其他数据类型为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e339" headers="d451497e195 ">
                              <p><code class="codeph">DATA_SCALE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e339 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e339 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e339 d451497e204 ">
                              <p>数字中小数点右侧的数字</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e354" headers="d451497e195 ">
                              <p><code class="codeph">NULLABLE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e354 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e354 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e354 d451497e204 ">
                              <p>指示列是否允许NULL。如果列上存在<code class="codeph">NOT NULL</code>约束或者列是<code class="codeph">PRIMARY KEY</code>一部分，则值为<code class="codeph">N</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e378" headers="d451497e195 ">
                              <p><code class="codeph">COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e378 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e378 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e378 d451497e204 ">
                              <p>创建的列的序号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e394" headers="d451497e195 ">
                              <p><code class="codeph">DEFAULT_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e394 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e394 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e394 d451497e204 ">
                              <p>列的默认值的长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e409" headers="d451497e195 ">
                              <p><code class="codeph">DATA_DEFAULT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e409 d451497e198 ">
                              <p><code class="codeph">长</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e409 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e409 d451497e204 ">
                              <p>列的默认值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e424" headers="d451497e195 ">
                              <p><code class="codeph">NUM_DISTINCT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e424 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e424 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e424 d451497e204 ">
                              <p>列中的不同值的数量。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e444" headers="d451497e195 ">
                              <p><code class="codeph">低价值</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e444 d451497e198 ">
                              <p><code class="codeph">RAW（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e444 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e444 d451497e204 ">
                              <p>列中的值较低。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e464" headers="d451497e195 ">
                              <p><code class="codeph">高价值</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e464 d451497e198 ">
                              <p><code class="codeph">RAW（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e464 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e464 d451497e204 ">
                              <p>列中的值很高。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e484" headers="d451497e195 ">
                              <p><code class="codeph">密度</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e484 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e484 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e484 d451497e204 ">
                              <p>如果<code class="codeph">COLUMN_NAME</code>上有直方图，则此列显示直方图中跨越少于2个端点的值的选择性。它不表示跨越2个或更多端点的值的选择性。
                              </p>
                              <p>如果<code class="codeph">COLUMN_NAME</code>上没有直方图，则此列的值为<code class="codeph">1</code> / <code class="codeph">NUM_DISTINCT</code> 。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e518" headers="d451497e195 ">
                              <p><code class="codeph">NUM_NULLS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e518 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e518 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e518 d451497e204 ">
                              <p>列中的NULL数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e533" headers="d451497e195 ">
                              <p><code class="codeph">NUM_BUCKETS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e533 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e533 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e533 d451497e204 ">
                              <p>列的直方图中的桶数</p>
                              <p><span class="bold">注意：</span>直方图中的存储区数量在SQL <code class="codeph">ANALYZE</code>语句的<code class="codeph">SIZE</code>参数中指定。但是，Oracle数据库不会创建具有比样本中的行数更多的存储桶的直方图。此外，如果样本包含任何非常重复的值，Oracle数据库会创建指定数量的存储桶，但由于内部压缩算法，此列指示的值可能会更小。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e558" headers="d451497e195 ">
                              <p><code class="codeph">LAST_ANALYZED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e558 d451497e198 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e558 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e558 d451497e204 ">
                              <p>最近分析此列的日期</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e573" headers="d451497e195 ">
                              <p><code class="codeph">SAMPLE_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e573 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e573 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e573 d451497e204 ">
                              <p>分析此列时使用的样本大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e588" headers="d451497e195 ">
                              <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e588 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（44）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e588 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e588 d451497e204 ">
                              <p>字符集的名称：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR_CS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR_CS</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e613" headers="d451497e195 ">
                              <p><code class="codeph">CHAR_COL_DECL_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e613 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e613 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e613 d451497e204 ">
                              <p>声明字符类型列的长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e628" headers="d451497e195 ">
                              <p><code class="codeph">GLOBAL_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e628 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e628 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e628 d451497e204 ">
                              <p>如果收集或逐步维护统计数据，则<code class="codeph">GLOBAL_STATS</code>将为<code class="codeph">YES</code> ，否则为<code class="codeph">NO</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e650" headers="d451497e195 ">
                              <p><code class="codeph">USER_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e650 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e650 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e650 d451497e204 ">
                              <p>指示统计信息是否由用户直接输入（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e671" headers="d451497e195 ">
                              <p><code class="codeph">AVG_COL_LEN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e671 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e671 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e671 d451497e204 ">
                              <p>列的平均长度（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e686" headers="d451497e195 ">
                              <p><code class="codeph">CHAR_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e686 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e686 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e686 d451497e204 ">
                              <p>以字符显示列的长度。此值仅适用于以下数据类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e718" headers="d451497e195 ">
                              <p><code class="codeph">CHAR_USED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e718 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e718 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e718 d451497e204 ">
                              <p>表示该列使用<code class="codeph">BYTE</code>长度语义（ <code class="codeph">B</code> ）或<code class="codeph">CHAR</code>长度语义（ <code class="codeph">C</code> ），或者数据类型是否不是以下任何一种（NULL）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e762" headers="d451497e195 ">
                              <p><code class="codeph">V80_FMT_IMAGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e762 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e762 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e762 d451497e204 ">
                              <p>指示列数据是否为8.0版图像格式（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e783" headers="d451497e195 ">
                              <p><code class="codeph">DATA_UPGRADED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e783 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e783 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e783 d451497e204 ">
                              <p>指示列数据是否已升级到最新类型版本格式（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e804" headers="d451497e195 ">
                              <p><code class="codeph">HIDDEN_COLUMN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e804 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e804 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e804 d451497e204 ">
                              <p>指示列是否为隐藏列（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e825" headers="d451497e195 ">
                              <p><code class="codeph">VIRTUAL_COLUMN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e825 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e825 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e825 d451497e204 ">
                              <p>指示列是否为虚拟列（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e846" headers="d451497e195 ">
                              <p><code class="codeph">SEGMENT_COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e846 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e846 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e846 d451497e204 ">
                              <p>段中列的序号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e862" headers="d451497e195 ">
                              <p><code class="codeph">INTERNAL_COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e862 d451497e198 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e862 d451497e201 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e862 d451497e204 ">
                              <p>列的内部序列号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e878" headers="d451497e195 ">
                              <p><code class="codeph">直方图</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e878 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（15）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e878 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e878 d451497e204 ">
                              <p>表示直方图的存在/类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">频率</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">高度平衡</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d451497e906" headers="d451497e195 ">
                              <p><code class="codeph">QUALIFIED_COL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d451497e906 d451497e198 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d451497e906 d451497e201 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d451497e906 d451497e204 ">
                              <p>合格的列名称</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-22E58371-FDBE-4970-A90C-2E0A4E5C7115__GUID-9DBBD182-417D-4A42-8F5F-B9978449624B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="DBA_NESTED_TABLE_COLS.html#GUID-8094984C-2C9F-40BA-B849-73A92A56CAEE" title="DBA_NESTED_TABLE_COLS描述数据库中所有嵌套表的列。其列与ALL_NESTED_TABLE_COLS中的列相同。">DBA_NESTED_TABLE_COLS</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="USER_NESTED_TABLE_COLS.html#GUID-1C35870A-18CB-446D-8E0D-25A428851621" title="USER_NESTED_TABLE_COLS描述当前用户拥有的嵌套表的列。它的列（OWNER除外）与ALL_NESTED_TABLE_COLS中的列相同。">USER_NESTED_TABLE_COLS</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_STATS</code>包的更多信息，请<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="13441.about-parallel-queuing.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="In some situations, parallel statements are queued while waiting for resources."></meta>
      <meta name="description" content="In some situations, parallel statements are queued while waiting for resources."></meta>
      <title>并行语句队列</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="VLDB and Partitioning Guide"></meta>
      <meta property="og:description" content="In some situations, parallel statements are queued while waiting for resources."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="VLDB and Partitioning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00"></meta>
      <meta name="dcterms.title" content="VLDB and Partitioning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96199-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="inmemory-parallel-exec.html" title="Previous" type="text/html"></link>
      <link rel="next" href="types-parallelism.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="inmemory-parallel-exec.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="types-parallelism.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB和分区指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-parallel.html" property="item" typeof="WebPage"><span property="name">使用并行执行</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">并行语句队列</li>
            </ol>
            <a id="GUID-4A311C0C-8ABC-4E5A-A854-19F04DACBC36" name="GUID-4A311C0C-8ABC-4E5A-A854-19F04DACBC36"></a><a id="VLDBG1396"></a>
            
            <h2 id="VLDBG-GUID-4A311C0C-8ABC-4E5A-A854-19F04DACBC36" class="sect2">并行语句队列</h2>
         </header>
         <div class="ind">
            <div>
               <p>在某些情况下，并行语句在等待资源时排队。</p>
               <p>当参数<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> ，如果没有必要数量的并行执行服务器进程，Oracle数据库会对需要并行执行的SQL语句进行排队。在必要的资源可用后，SQL语句将出列并允许执行。默认的出列顺序是基于发出语句的时间的简单的先进先出队列。
               </p>
               <p>以下是并行语句处理的摘要。</p>
               <ol>
                  <li>
                     <p>发出SQL语句。</p>
                  </li>
                  <li>
                     <p>解析该语句并自动确定DOP。</p>
                  </li>
                  <li>
                     <p>检查可用的并行资源。</p>
                     <ol type="a">
                        <li>
                           <p>如果有足够的并行执行服务器可用且队列中没有等待资源的语句，则执行SQL语句。</p>
                        </li>
                        <li>
                           <p>如果没有足够的并行执行服务器可用，则SQL语句将根据指定的条件排队，并在满足指定条件时从队列的前面出列。</p>
                        </li>
                     </ol>
                  </li>
               </ol>
               <p>如果运行语句会将活动并行服务器的数量增加到高于<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数值的并行语句，则并行语句将排队。例如，如果<code class="codeph">PARALLEL_SERVERS_TARGET</code>设置为<code class="codeph">64</code> ，则当前活动服务器的数量为60，并且新并行语句需要16个并行服务器，它将排队，因为添加到60的16大于64，即<code class="codeph">PARALLEL_SERVERS_TARGET</code>的值。</p>
               <p>此值不是系统上允许的最大并行服务器进程数，而是在使用并行语句排队之前运行并行语句的可用数量。它设置为低于系统允许的最大并行服务器进程数（ <code class="codeph">PARALLEL_MAX_SERVERS</code> ），以确保每个并行语句获取所需的所有并行服务器资源，并防止系统使用并行服务器进程过载。请注意，即使已激活并行语句排队，所有串行（非并行）语句也会立即执行。
               </p>
               <p>如果语句已排队，则由<code class="codeph">resmgr:pq</code> <code class="codeph">queued</code> wait事件标识。
               </p>
               <p>本节讨论以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="about-parallel-queuing.html#GUID-91782768-B249-43E1-B8D5-943C68B1459F" title="默认情况下，并行语句队列作为先进先出队列运行，但您可以使用资源计划修改默认行为。">关于使用Oracle数据库资源管理器管理并行语句排队</a></p>
                  </li>
                  <li>
                     <p><a href="about-parallel-queuing.html#GUID-A50AB580-F0D7-467F-8E71-69ABE5129D09" title="通常，对包含多个并行语句的报表或批处理作业尽快完成非常重要。">使用BEGIN_SQL_BLOCK END_SQL_BLOCK对并行语句进行分组</a></p>
                  </li>
                  <li>
                     <p><a href="about-parallel-queuing.html#GUID-895A6883-D9E2-4385-8689-8BDA33EB9C50" title="您可以使用SQL语句中的NO_STATEMENT_QUEUING和STATEMENT_QUEUING提示来影响语句是否使用并行语句排队进行排队。">关于使用提示管理并行语句排队</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-4A311C0C-8ABC-4E5A-A854-19F04DACBC36__GUID-7C05DB00-99F1-494D-9950-394D99B2B20B">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关监视和分析并行语句排队的视图的信息，请<a href="monitor-parallel-performance.html#GUID-95325AA4-3E5D-4A20-BF5F-AB34B8FA0DB2" title="You can monitor parallel execution performance with the V$RSRCMGRMETRIC dynamic performance view.">参阅</a> <a href="monitor-parallel-performance.html#GUID-1FF1855F-B438-422B-BFC2-1815B47766BB" title="您可以使用V $ RSRC_SESSION_INFO动态性能视图监视并行执行性能。">V $ RSRC_SESSION_INFO</a>和<a href="monitor-parallel-performance.html#GUID-95325AA4-3E5D-4A20-BF5F-AB34B8FA0DB2" title="您可以使用V $ RSRCMGRMETRIC动态性能视图监视并行执行性能。">V $ RSRCMGRMETRIC</a></p>
                     </li>
                     <li>
                        <p>有关<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数的详细信息，请<a href="../refrn/PARALLEL_SERVERS_TARGET.html#REFRN10314" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="VLDBG14020"></a><div class="props_rev_3"><a id="GUID-91782768-B249-43E1-B8D5-943C68B1459F" name="GUID-91782768-B249-43E1-B8D5-943C68B1459F"></a><h3 id="VLDBG-GUID-91782768-B249-43E1-B8D5-943C68B1459F" class="sect3">关于使用Oracle数据库资源管理器管理并行语句排队</h3>
               <div>
                  <p>默认情况下，并行语句队列作为先进先出队列运行，但您可以使用资源计划修改默认行为。</p>
                  <p>通过配置和设置资源计划，您可以控制并行语句的出队顺序以及每个工作负载或使用者组使用的并行执行服务器的数量。</p>
                  <p>Oracle数据库资源管理器基于使用者组和资源计划的概念运行。消费者组识别具有相同资源特权和要求的用户组。资源计划由每个使用者组的指令集合组成，这些指令指定各种数据库资源（如并行服务器）的控制和分配。对于多租户容器数据库（CDB）和可插拔数据库（PDB），并行语句队列的顺序由名为<code class="codeph">shares</code>的指令管理。
                  </p>
                  <p>通过将<code class="codeph">RESOURCE_MANAGER_PLAN</code>参数设置为资源计划的名称来启用资源计划。
                  </p>
                  <p>当并行度策略设置为<code class="codeph">AUTO</code>时，您可以使用以下部分中描述的指令来管理对于使用者组的并行语句的处理。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-1E1CB1FA-529B-4087-9589-304A00711F51" title="您可以使用Oracle数据库资源管理器来管理跨多个使用者组从并行语句队列中出列并行语句的优先级。">关于管理并行语句队列的顺序</a></p>
                     </li>
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-79E5E7E2-A235-4D38-9E6B-902CB7F3F353" title="您可以使用Oracle数据库资源管理器来限制来自较低优先级使用者组的并行语句可用于并行语句处理的并行服务器数。">关于限制使用者组的并行服务器资源</a></p>
                     </li>
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-2E5BDF23-FCA0-443E-A8C9-66AAE89862E2" title="您可以使用Oracle数据库资源管理器为使用者组设置特定的最大队列超时，以便并行语句不会长时间保留在队列中。">为每个使用者组指定并行语句队列超时</a></p>
                     </li>
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-44222E39-87C7-4206-8FE3-91DAF0D3573C" title="您可以使用Oracle数据库资源管理器来限制特定使用者组的并行度。">为消费者群体指定并行度限制</a></p>
                     </li>
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-D779AB02-8638-4080-88EB-307D172A7426" title="PARALLEL_STMT_CRITICAL参数的设置会影响plan指令中与并行语句队列相关的并行语句的关键指定。">关键并行语句优先级</a></p>
                     </li>
                     <li>
                        <p><a href="about-parallel-queuing.html#GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41" title="此方案讨论如何使用Oracle Database Resource Manager设置的使用者组管理并行队列中的语句。">管理并行队列中的语句的示例方案</a></p>
                     </li>
                  </ul>
                  <p>在所有情况下，给定使用者组的并行语句队列作为Oracle RAC数据库上的单个队列进行管理。每个使用者组的限制适用于属于该使用者组的Oracle RAC数据库中的所有会话。并行语句的排队基于所有数据库实例中<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数的值的总和而发生。
                  </p>
                  <p>您还可以管理多租户容器数据库（CDB）和可插拔数据库（PDB）的并行语句队列。</p>
                  <div class="infoboxnotealso" id="GUID-91782768-B249-43E1-B8D5-943C68B1459F__GUID-4DDB813D-0971-4C3C-8734-3E60F62DFBBD">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关使用Oracle Database Resource Manager管理Oracle数据库资源的信息，请参见<a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../multi/using-oracle-resource-manager-for-pdbs-with-sql-plus.html#MULTI-GUID-1BE505F7-5D27-442D-9A9C-ACA56A7EE569" target="_blank"><span><cite>Oracle Multitenant管理员指南</cite></span></a> ，了解有关多租户容器数据库（CDB）和可插拔数据库（PDB）的并行执行（PX）服务器和利用率限制的信息</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">V$RSRC</code> *视图， <code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code>视图和并行查询等待事件的信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包的信息，请参阅<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span><cite>Oracle Database PL / SQL程序包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG14085"></a><div class="props_rev_3"><a id="GUID-1E1CB1FA-529B-4087-9589-304A00711F51" name="GUID-1E1CB1FA-529B-4087-9589-304A00711F51"></a><h4 id="VLDBG-GUID-1E1CB1FA-529B-4087-9589-304A00711F51" class="sect4">关于管理并行语句队列的顺序</h4>
                  <div>
                     <p>您可以使用Oracle数据库资源管理器来管理跨多个使用者组从并行语句队列中出列并行语句的优先级。</p>
                     <p>默认情况下，特定使用者组的并行语句以FIFO顺序出列。使用指令<code class="codeph">shares</code> ，您可以确定使用者组的并行语句出列的顺序。您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包的<code class="codeph">CREATE_PLAN_DIRECTIVE</code>或<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程配置这些指令。您还可以在CDB资源计划中设置<code class="codeph">shares</code> ，以管理PDB之间的并行语句顺序。
                     </p>
                     <p>例如，您可以创建<code class="codeph">PQ_HIGH</code> ， <code class="codeph">PQ_MEDIUM</code>和<code class="codeph">PQ_LOW</code>使用者组，并根据优先级将并行语句会话映射到这些使用者组。然后创建一个集资源计划<code class="codeph">shares=14</code>为<code class="codeph">PQ_HIGH</code> ， <code class="codeph">shares=5</code>的<code class="codeph">PQ_MEDIUM</code> ，和<code class="codeph">shares=1</code>的<code class="codeph">PQ_LOW</code> 。这表明<code class="codeph">PQ_HIGH</code>语句以<code class="codeph">70%</code> （14 /（14 + 5 + 1）=。70）的概率出列， <code class="codeph">PQ_MEDIUM</code>以<code class="codeph">25%</code>的概率出列（5 /（14 + 5 + 1）= .25）当时， <code class="codeph">PQ_LOW</code>以<code class="codeph">5%</code> （1 /（14 + 5 + 1）=。05）的概率出现。
                     </p>
                     <p>如果并行语句已排队并且您确定必须立即运行并行语句，则可以运行<code class="codeph">DBMS_RESOURCE_MANAGER.DEQUEUE_PARALLEL_STATEMENT</code> PL / SQL过程以使并行语句出列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1E1CB1FA-529B-4087-9589-304A00711F51__ORACLEDATABASEPLSQLPACKAGESANDTYPES-2D67661D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>包中的<code class="codeph">DBMS_RESOURCE_MANAGER</code>信息<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关创建资源计划指令的信息，请参见<a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN-GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="VLDBG14086"></a><div class="props_rev_3"><a id="GUID-79E5E7E2-A235-4D38-9E6B-902CB7F3F353" name="GUID-79E5E7E2-A235-4D38-9E6B-902CB7F3F353"></a><h4 id="VLDBG-GUID-79E5E7E2-A235-4D38-9E6B-902CB7F3F353" class="sect4">关于限制使用者组的并行服务器资源</h4>
                  <div>
                     <p>您可以使用Oracle数据库资源管理器来限制来自较低优先级使用者组的并行语句可用于并行语句处理的并行服务器数。</p>
                     <p>使用Oracle数据库资源管理器，您可以将并行语句会话映射到不同的使用者组，每个使用者组对可以使用的并行服务器的数量具有特定限制。每个使用者组都有自己的并行语句队列。如果指定了使用者组的这些限制，则当超过其限制时，来自使用者组的并行语句将排队。</p>
                     <p>当数据库具有高优先级和低优先级的使用者组时，此限制会很有用。没有限制，用户可以从使用所有并行服务器的低优先级使用者组发出大量并行语句。当发出来自高优先级使用者组的并行语句时，资源分配指令可以确保首先将高优先级并行语句出列。通过限制低优先级使用者组可以使用的并行服务器数量，可以确保始终有一些并行服务器可用于高优先级使用者组。</p>
                     <p>要限制使用者组使用的并行服务器，请将<code class="codeph">parallel_server_limit</code>参数与<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程一起使用，或将<code class="codeph">new_parallel_server_limit</code>参数与<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包中的<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程一起使用。<code class="codeph">parallel_server_limit</code>参数指定由<code class="codeph">PARALLEL_SERVERS_TARGET</code>指定的消费者组可以使用的Oracle RAC范围的并行服务器池的最大百分比。
                     </p>
                     <p>对于多租户容器数据库（CDB）资源计划，并行服务器限制适用于可插拔数据库（PDB）。对于PDB资源计划或非CDB资源计划，此限制适用于使用者组。</p>
                     <p>例如，在非多层配置的Oracle RAC数据库中，初始化参数<code class="codeph">PARALLEL_SERVERS_TARGET</code>在两个节点上设置为<code class="codeph">32</code> ，因此在排队开始之前总共可以使用32 x 2 = 64个并行服务器。您可以将使用者组<code class="codeph">PQ_LOW</code>为使用50％的可用并行服务器（ <code class="codeph">parallel_server_limit</code> = 50），然后可以将低优先级语句映射到<code class="codeph">PQ_LOW</code>使用者组。此方案将<code class="codeph">PQ_LOW</code>使用者组中的任何并行语句限制为64 x 50％= 32个并行服务器，即使有更多不活动或未使用的并行服务器也是如此。在此方案中，在<code class="codeph">PQ_LOW</code>使用者组的语句使用了32个并行服务器之后，来自该使用者组的语句将排队。
                     </p>
                     <p>在一个数据库中可以将一些会话的并行度学位策略设置为<code class="codeph">MANUAL</code> ，将某些会话设置为<code class="codeph">AUTO</code> 。在这种情况下，只有并行度数策略设置为<code class="codeph">AUTO</code>的会话才能排队。但是，在并行度策略设置为<code class="codeph">MANUAL</code>会话中使用的并行服务器包含在使用者组使用的所有并行服务器的总数中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-79E5E7E2-A235-4D38-9E6B-902CB7F3F353__GUID-B98363AD-4DB0-4385-94A7-4206D03D731F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="parameters-parallel-exec.html#GUID-52C07DB8-E805-44DA-8805-88CAC9187074" title="PARALLEL_DEGREE_POLICY参数指定在使用语句排队之前允许运行并行语句的并行服务器进程数。">PARALLEL_SERVERS_TARGET</a>有关限制用户并行资源的信息</p>
                     </div>
                  </div>
               </div><a id="VLDBG14087"></a><div class="props_rev_3"><a id="GUID-2E5BDF23-FCA0-443E-A8C9-66AAE89862E2" name="GUID-2E5BDF23-FCA0-443E-A8C9-66AAE89862E2"></a><h4 id="VLDBG-GUID-2E5BDF23-FCA0-443E-A8C9-66AAE89862E2" class="sect4">为每个使用者组指定并行语句队列超时</h4>
                  <div>
                     <p>您可以使用Oracle数据库资源管理器为使用者组设置特定的最大队列超时，以便并行语句不会长时间保留在队列中。</p>
                     <p>要管理队列超时， <code class="codeph">parallel_queue_timeout</code>参数与<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程一起使用，或者<code class="codeph">new_parallel_queue_timeout</code>参数与<code class="codeph">DBMS_RESOURCE_MANAGER</code>包中的<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程一起使用。<code class="codeph">parallel_queue_timeout</code>和<code class="codeph">new_parallel_queue_timeout</code>参数指定语句可以保留在使用者组并行语句队列中的时间（以秒为单位）。超时期限到期后，语句将以<code class="codeph">ORA-7454</code>错误终止或从并行语句队列中删除，并根据资源管理器计划中<code class="codeph">PQ_TIMEOUT_ACTION</code>指令的值启用运行。
                     </p>
                     <p>您可以使用<code class="codeph">PQ_TIMEOUT_ACTION</code>资源管理器指令为并行语句指定队列超时操作。将此指令设置为<code class="codeph">CANCEL</code>终止带有错误<code class="codeph">ORA-7454</code>的语句。将此伪指令设置为<code class="codeph">RUN</code>可以<code class="codeph">RUN</code>该语句。
                     </p>
                  </div>
               </div><a id="VLDBG14088"></a><div class="props_rev_3"><a id="GUID-44222E39-87C7-4206-8FE3-91DAF0D3573C" name="GUID-44222E39-87C7-4206-8FE3-91DAF0D3573C"></a><h4 id="VLDBG-GUID-44222E39-87C7-4206-8FE3-91DAF0D3573C" class="sect4">为消费者群体指定并行度限制</h4>
                  <div>
                     <p>您可以使用Oracle数据库资源管理器来限制特定使用者组的并行度。</p>
                     <p>使用Oracle数据库资源管理器，您可以将并行语句会话映射到不同的使用者组，每个使用者组都对资源计划中的并行度具有特定限制。</p>
                     <p>要管理使用者组中的并行度限制，请将<code class="codeph">parallel_degree_limit_p1</code>参数与<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包中的<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程一起使用，或将<code class="codeph">new_parallel_degree_limit_p1</code>参数与<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包中的<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程一起使用。<code class="codeph">parallel_degree_limit_p1</code>和<code class="codeph">new_parallel_degree_limit_p1</code>参数指定任何操作的并行度限制。
                     </p>
                     <p>例如，您可以创建PQ_HIGH，PQ_MEDIUM和PQ_LOW使用者组，并根据优先级将并行语句会话映射到这些使用者组。然后创建一个资源计划，指定并行度限制，以便将PQ_HIGH限制设置为16，将PQ_MEDIUM限制设置为8，并将PQ_LOW限制设置为2。</p>
                     <p>即使<code class="codeph">PARALLEL_DEGREE_POLICY</code>未设置为<code class="codeph">AUTO</code> ，也会强制执行并行度限制。</p>
                  </div>
               </div><a id="VLDBG14128"></a><div class="props_rev_3"><a id="GUID-D779AB02-8638-4080-88EB-307D172A7426" name="GUID-D779AB02-8638-4080-88EB-307D172A7426"></a><h4 id="VLDBG-GUID-D779AB02-8638-4080-88EB-307D172A7426" class="sect4">关键并行语句优先级</h4>
                  <div>
                     <p><code class="codeph">PARALLEL_STMT_CRITICAL</code>参数的设置会影响plan指令中与并行语句队列相关的并行语句的关键指定。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">PARALLEL_STMT_CRITICAL</code>参数设置为<code class="codeph">QUEUE</code> ，则将<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">MANUAL</code>并行语句排队。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">PARALLEL_STMT_CRITICAL</code>参数设置为<code class="codeph">BYPASS_QUEUE</code> ，则并行语句将绕过并行语句队列并立即执行。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">PARALLEL_STMT_CRITICAL</code>设置为<code class="codeph">FALSE</code> ，则指定默认行为，并且不将任何语句指定为critical。
                           </p>
                        </li>
                     </ul>
                     <p></p>
                     <p>由于关键并行语句绕过并行语句队列，因此系统可能会遇到比<code class="codeph">PARALLEL_SERVERS_TARGET</code>参数指定的更多活动并行服务器。并行服务器的数量达到<code class="codeph">PARALLEL_MAX_SERVERS</code>后，允许运行关键并行语句，因此某些关键并行语句可能会降级。
                     </p>
                     <p><code class="codeph">DBA_RSRC_PLAN_DIRECTIVES</code>视图中的<code class="codeph">PARALLEL_STMT_CRITICAL</code>列指示并行语句是否来自已标记为关键的使用者组。
                     </p>
                  </div>
               </div><a id="VLDBG14090"></a><a id="VLDBG14089"></a><div class="props_rev_3"><a id="GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41" name="GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41"></a><h4 id="VLDBG-GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41" class="sect4">管理并行队列中的语句的示例方案</h4>
                  <div>
                     <p>此方案讨论如何使用Oracle Database Resource Manager设置的使用者组管理并行队列中的语句。</p>
                     <p>对于此方案，请考虑由三种类型的SQL语句组成的数据仓库工作负载：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>短期运行的SQL语句</p>
                           <p>短时间运行可识别运行时间不到一分钟的语句。您希望这些语句具有非常好的响应时间。</p>
                        </li>
                        <li>
                           <p>中等运行的SQL语句</p>
                           <p>中等运行标识运行超过一分钟但不到15分钟的语句。您希望这些语句具有相当好的响应时间。</p>
                        </li>
                        <li>
                           <p>长时间运行的SQL语句</p>
                           <p>长时间运行标识语句，这些语句是运行超过15分钟的临时或复杂查询。您希望这些陈述需要很长时间。</p>
                        </li>
                     </ul>
                     <p>对于此数据仓库工作负载，您需要更短的运行语句的响应时间。要实现这一目标，您必须确保：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>长时间运行的语句不使用所有并行服务器资源，从而迫使较短的语句在并行语句队列中等待。</p>
                        </li>
                        <li>
                           <p>当短时间运行和长时间运行的语句都排队时，短时间运行的语句应该在长时间运行的语句之前出列。</p>
                        </li>
                        <li>
                           <p>用于短期运行查询的DOP是有限的，因为来自非常高的DOP的加速不足以证明使用大量并行服务器是合理的。</p>
                        </li>
                     </ul>
                     <p><a href="about-parallel-queuing.html#GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41__BEIIGBCJ">例8-3</a>显示了如何使用Oracle Database Resource Manager设置使用者组，以便为并行语句队列中的语句设置优先级。请注意以下示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>默认情况下，用户被分配到<code class="codeph">OTHER_GROUPS</code>使用者组。如果SQL语句的估计执行时间超过1分钟（60秒），则用户切换到<code class="codeph">MEDIUM_SQL_GROUP</code> 。由于<code class="codeph">switch_for_call</code>设置为<code class="codeph">TRUE</code> ，因此用户在语句完成后返回<code class="codeph">OTHER_GROUPS</code> 。如果用户在<code class="codeph">MEDIUM_SQL_GROUP</code>并且语句的估计执行时间超过15分钟（900秒），则用户切换到<code class="codeph">LONG_SQL_GROUP</code> 。同样，因为<code class="codeph">switch_for_call</code>设置为<code class="codeph">TRUE</code> ，所以用户在查询完成后返回<code class="codeph">OTHER_GROUPS</code> 。用于完成切换过程的指令是<code class="codeph">switch_time</code> ， <code class="codeph">switch_estimate</code> ， <code class="codeph">switch_for_call</code>和<code class="codeph">switch_group</code> 。
                           </p>
                        </li>
                        <li>
                           <p>在活动并行服务器的数量达到<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数的值之后，后续并行语句将排队。<code class="codeph">shares</code>指令控制并行语句在并行服务器可用时出列的顺序。因为<code class="codeph">shares</code>被设定为<code class="codeph">100%</code>为<code class="codeph">SYS_GROUP</code>在这个例子中，从平行语句<code class="codeph">SYS_GROUP</code>总是首先出队。如果没有来自<code class="codeph">SYS_GROUP</code>并行语句排队，那么来自<code class="codeph">OTHER_GROUPS</code>并行语句的概率为70％， <code class="codeph">MEDIUM_SQL_GROUP</code>概率为20％， <code class="codeph">LONG_SQL_GROUP</code>概率为10％。
                           </p>
                        </li>
                        <li>
                           <p>通过设置<code class="codeph">parallel_degree_limit_p1</code>指令， <code class="codeph">OTHER_GROUPS</code>发出的并行语句限制为DOP为4。
                           </p>
                        </li>
                        <li>
                           <p>为了防止<code class="codeph">LONG_SQL_GROUP</code>组的并行语句使用所有并行服务器（可能导致<code class="codeph">OTHER_GROUPS</code>或<code class="codeph">MEDIUM_SQL_GROUP</code>并行语句等待很长一段时间），其<code class="codeph">parallel_server_limit</code>指令设置为<code class="codeph">50%</code> 。此设置意味着在<code class="codeph">LONG_SQL_GROUP</code>使用了<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数设置的并行服务器的50％后，其并行语句将被强制在队列中等待。
                           </p>
                        </li>
                        <li>
                           <p>由于<code class="codeph">LONG_SQL_GROUP</code>组的并行语句可能会排队很长时间，因此超时配置为14400秒（4小时）。当来自<code class="codeph">LONG_SQL_GROUP</code>的并行语句在队列中等待4个小<code class="codeph">LONG_SQL_GROUP</code> ，语句将以错误ORA-7454终止。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-42B48208-FFF6-44D4-9FF8-4D2DDA575C41__BEIIGBCJ">
                        <p class="titleinexample">示例8-3使用使用者组在并行语句队列中设置优先级</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; / *创建消费者群组。*默认情况下，用户从OTHER_GROUPS开始，这是为每个数据库自动*创建的。* / DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（'MEDIUM_SQL_GROUP'，'中等运行的SQL语句，1到15分钟之间。中等优先级。“）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（'LONG_SQL_GROUP'，'长时间运行超过15分钟的SQL语句。低优先级。“）; / *创建一个计划来管理这些消费者群体* / DBMS_RESOURCE_MANAGER.CREATE_PLAN（'REPORTS_PLAN'，'规划优先处理短期查询的白天'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（'REPORTS_PLAN'，'SYS_GROUP'，'sys activity'指令'，shares =&gt; 100）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（'REPORTS_PLAN'，'OTHER_GROUPS'，'短期运行查询指令'，shares =&gt; 70，parallel_degree_limit_p1 =&gt; 4，switch_time =&gt; 60，switch_estimate =&gt; TRUE，switch_for_call =&gt; TRUE，switch_group =&gt;' MEDIUM_SQL_GROUP'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（'REPORTS_PLAN'，'MEDIUM_SQL_GROUP'，'中等运行查询指令'，shares =&gt; 20，parallel_server_limit =&gt; 80，switch_time =&gt; 900，switch_estimate =&gt; TRUE，switch_for_call =&gt; TRUE，switch_group =&gt;' LONG_SQL_GROUP'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（'REPORTS_PLAN'，'LONG_SQL_GROUP'，'中等运行查询指令'，shares =&gt; 10，parallel_server_limit =&gt; 50，parallel_queue_timeout =&gt; 14400）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; / / *允许所有用户在这些消费者群组中运行* / EXEC DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SWITCH_CONSUMER_GROUP（'public'，'MEDIUM_SQL_GROUP'，FALSE）; EXEC DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SWITCH_CONSUMER_GROUP（'public'，'LONG_SQL_GROUP'，FALSE）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="VLDBG14091"></a><div class="props_rev_3"><a id="GUID-A50AB580-F0D7-467F-8E71-69ABE5129D09" name="GUID-A50AB580-F0D7-467F-8E71-69ABE5129D09"></a><h3 id="VLDBG-GUID-A50AB580-F0D7-467F-8E71-69ABE5129D09" class="sect3">使用BEGIN_SQL_BLOCK END_SQL_BLOCK对并行语句进行分组</h3>
               <div>
                  <p>通常，对包含多个并行语句的报表或批处理作业尽快完成非常重要。</p>
                  <p>例如，当同时启动许多报告时，您可能希望尽快完成所有报告。但是，您还需要首先完成某些特定报告，而不是同时完成所有报告。</p>
                  <p>如果报告包含多个并行语句并且<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> ，则可能会强制每个并行语句在繁忙数据库的队列中等待。例如，以下步骤描述了SQL语句处理中的方案：</p><pre class="oac_no_warn" dir="ltr">串行语句并行查询 -  dop 8  - &gt;等待队列串行语句并行查询 -  dop 32  - &gt;等待队列并行查询 -  dop 4  - &gt;等待队列</pre><p>要快速完成报告，必须对并行语句进行分组以产生以下行为：</p><pre class="oac_no_warn" dir="ltr">启动SQL块串行语句并行查询 -  dop 8  - &gt;首先并行查询：ok等待队列串行语句并行查询 -  dop 32  - &gt;避免或最小化等待并行查询 -  dop 4  - &gt;避免或最小化等待结束SQL块</pre><p>要对并行语句进行分组，可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包中的<code class="codeph">BEGIN_SQL_BLOCK</code>和<code class="codeph">END_SQL_BLOCK</code>过程。对于每个使用者组，并行语句队列按与每个使用者组的并行语句关联的时间排序。通常，与并行语句关联的时间是语句入队的时间，这意味着队列看起来是FIFO。当并行语句在带有<code class="codeph">BEGIN_SQL_BLOCK</code>和<code class="codeph">END_SQL_BLOCK</code>过程的SQL块中分组时，第一个排队的并行语句也会使用它排队的时间。但是，第二个和所有后续并行语句都会受到特殊处理，并使用SQL块中第一个排队并行语句的入队时间排队。使用此功能，语句经常移动到并行语句队列的前面。这种优惠待遇确保他们的等待时间最小化。
                  </p>
                  <div class="infoboxnotealso" id="GUID-A50AB580-F0D7-467F-8E71-69ABE5129D09__GUID-F30C2423-A6A1-47C4-8C76-36DA8AD9769F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包的信息，请参阅<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span><cite>Oracle Database PL / SQL程序包和类型参考</cite></span></a></p>
                  </div>
               </div>
            </div><a id="VLDBG14092"></a><div class="props_rev_3"><a id="GUID-895A6883-D9E2-4385-8689-8BDA33EB9C50" name="GUID-895A6883-D9E2-4385-8689-8BDA33EB9C50"></a><h3 id="VLDBG-GUID-895A6883-D9E2-4385-8689-8BDA33EB9C50" class="sect3">关于使用提示管理并行语句排队</h3>
               <div>
                  <p>您可以使用SQL语句中的<code class="codeph">NO_STATEMENT_QUEUING</code>和<code class="codeph">STATEMENT_QUEUING</code>提示来影响语句是否使用并行语句排队进行排队。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">NO_STATEMENT_QUEUING</code></p>
                        <p>当<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> ，此提示使语句能够绕过并行语句队列。但是，绕过语句队列的语句可能会导致系统超出<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数值定义的并行执行服务器的最大数量，该参数确定启动并行语句排队的限制。
                        </p>
                        <p>无法保证绕过并行语句队列的语句接收所请求的并行执行服务器的数量，因为只能分配系统上可用的并行执行服务器的数量，最多可以分配<code class="codeph">PARALLEL_MAX_SERVERS</code>初始化参数的值。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + NO_STATEMENT_QUEUING * / last_name，department_name FROM employees e，departments d WHERE e.department_id = d.department_id;</pre></li>
                     <li>
                        <p><code class="codeph">STATEMENT_QUEUING</code></p>
                        <p>当<code class="codeph">PARALLEL_DEGREE_POLICY</code>未设置为<code class="codeph">AUTO</code> ，此提示允许将语句用于并行语句排队，但仅在有足够的并行进程可用于请求的DOP时运行。在启用排队之前，可用并行执行服务器的数量等于正在使用的并行执行服务器数与系统中允许的最大数量之间的差异，该最大数量由<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数定义。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + STATEMENT_QUEUING * / last_name，department_name FROM employees e，departments d WHERE e.department_id = d.department_id;</pre></li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00379.configuring-the-network-environment.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter helps you configure your client/server network."></meta>
      <meta name="description" content="This chapter helps you configure your client/server network."></meta>
      <title>配置网络环境</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="2 Day DBA"></meta>
      <meta property="og:description" content="This chapter helps you configure your client/server network."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="2 Day DBA"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="2-day-dba.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T23:13:13-07:00"></meta>
      <meta name="dcterms.title" content="2 Day DBA"></meta>
      <meta name="dcterms.dateCopyrighted" content="2004, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96197-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="getting-started-with-database-administration.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-the-oracle-instance.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADMQS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-database-administration.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-the-oracle-instance.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2天DBA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置网络环境</li>
            </ol>
            <a id="GUID-C6DD213A-D37E-4905-983D-F9DCA8AE286A" name="GUID-C6DD213A-D37E-4905-983D-F9DCA8AE286A"></a><a id="ADMQS004"></a>
            
            <h2 id="ADMQS-GUID-C6DD213A-D37E-4905-983D-F9DCA8AE286A" class="sect2"><span class="enumeration_chapter">4</span>配置网络环境</h2>
         </header>
         <div class="ind">
            <div>
               <div>安装Oracle数据库之后，您将拥有一个功能齐全的数据库，其中包含最低配置的客户端/服务器网络环境。<span>本章帮助您配置客户端/服务器网络。</span></div>
               <p>这些部分可帮助您完全配置客户端/服务器网络：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configuring-the-network-environment.html#GUID-98E0E5CB-0D6F-4BCB-960B-9B96C6A9AD9B" title="Oracle Net是一个位于客户端计算机和Oracle数据库主机上的软件层。它通过网络建立并维护客户端应用程序与数据库之间的连接，并使用行业标准协议在它们之间交换消息。">了解网络配置</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-the-network-environment.html#GUID-83323247-58C9-4CC7-9816-C3511A88A6AF" title="Oracle Net侦听器（侦听器）在数据库主机上运行并处理传入的客户端请求。您可以在命令行中查看侦听器状态。">查看侦听器配置</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-the-network-environment.html#GUID-AFAED9DB-56F5-4F49-B37A-54739790716A" title="Oracle侦听器设置为在重新启动主机时自动启动。但是，当您的系统遇到无法预料的情况，或者您手动停止侦听器时，可以在命令行重新启动它。">启动和停止监听器</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-the-network-environment.html#GUID-1A15D322-B3AC-426A-86A1-EB7590930687" title="本节介绍如何使用SQL * Plus和简单连接命名方法从客户端计算机连接到Oracle数据库。">从客户端计算机连接到Oracle数据库</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-the-network-environment.html#GUID-C1543ED3-0052-42F8-9FF0-7B21F0929DD4" title="Oracle示例（OBE）有一系列关于Oracle Database 2 Day DBA指南的系列文章。本OBE将引导您完成本章中的任务，并包含带注释的屏幕截图。">配置网络环境：Oracle示例系列</a></p>
                  </li>
               </ul>
            </div><a id="ADMQS041"></a><div class="props_rev_3"><a id="GUID-98E0E5CB-0D6F-4BCB-960B-9B96C6A9AD9B" name="GUID-98E0E5CB-0D6F-4BCB-960B-9B96C6A9AD9B"></a><h3 id="ADMQS-GUID-98E0E5CB-0D6F-4BCB-960B-9B96C6A9AD9B" class="sect3"><span class="enumeration_section">4.1</span>了解网络配置</h3>
               <div>
                  <div><span class="bold">客户端</span>是连接到Oracle数据库以发送或检索数据的任何应用程序。Oracle数据库客户端应用程序可以驻留在安装了Oracle数据库客户端软件的任何计算机上。<span>Oracle Net是一个位于客户端计算机和Oracle数据库主机上的软件层。它通过网络建立并维护客户端应用程序与数据库之间的连接，并使用行业标准协议在它们之间交换消息。</span></div>
                  <p>对于客户端应用程序和数据库进行通信，客户端应用程序必须能够识别要连接的数据库，并且数据库必须提供标识。您可以使用服务名称连接到数据库。<span class="bold">服务名称</span>是数据库的逻辑表示，这是向客户端呈现数据库的方式。单个数据库可以表示为多个服务。
                  </p>
                  <p>服务名称可以提供位置透明性，以便客户端应用程序不必知道服务器的位置。如果将数据库移动到其他位置，则必须仅重新配置Oracle Net。客户端应用程序无需进行任何更改。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-the-network-environment.html#GUID-5FED211C-ACEF-4B75-9071-E08962A47985" title="在数据库主机上，Oracle Net侦听器（侦听器）是一个侦听客户端连接请求的进程。它接收传入的客户端连接请求，并管理这些请求到数据库服务器的流量。">Oracle Net Listener配置</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-the-network-environment.html#GUID-9ED3270A-682A-42D5-A56A-90308E5C5030" title="本节介绍客户端与数据库的连接所涉及的元素。">客户连接</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-the-network-environment.html#GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C" title="Oracle数据库提供了一些工具，使您可以管理网络配置。">网络配置工具</a></p>
                     </li>
                  </ul>
               </div><a id="ADMQS0411"></a><div class="props_rev_3"><a id="GUID-5FED211C-ACEF-4B75-9071-E08962A47985" name="GUID-5FED211C-ACEF-4B75-9071-E08962A47985"></a><h4 id="ADMQS-GUID-5FED211C-ACEF-4B75-9071-E08962A47985" class="sect4"><span class="enumeration_section">4.1.1</span> Oracle Net Listener配置</h4>
                  <div>
                     <p>在数据库主机上，Oracle Net侦听器（侦听器）是一个侦听客户端连接请求的进程。它接收传入的客户端连接请求，并管理这些请求到数据库服务器的流量。</p>
                     <p>默认侦听器配置文件名为<code class="codeph">listener.ora</code> <a id="d12794e173" class="indexterm-anchor"></a><a id="d12794e175" class="indexterm-anchor"></a> ，它位于Oracle主目录的<code class="codeph">network/admin</code>子目录中。例如，如果您的Oracle主目录是<code class="codeph">/u01/app/oracle/product/11.2.0/dbhome_1</code> ，那么默认情况下会在<code class="codeph">/u01/app/oracle/product/11.2.0/dbhome_1/network/admin</code>创建<code class="codeph">listener.ora</code>文件。 <code class="codeph">/u01/app/oracle/product/11.2.0/dbhome_1/network/admin</code>目录。
                     </p>
                     <p>该文件包含标识数据库的协议地址。此地址定义侦听器正在侦听的协议以及任何其他协议特定的信息。例如，侦听器可以配置为侦听以下协议地址：</p><pre class="oac_no_warn" dir="ltr">（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = dbhost.example.com）（PORT = 1521）））</pre><p>此示例显示TCP / IP协议地址，该地址指定侦听器的主计算机和端口号。侦听器可以使用IP版本4（IPv4）或IP版本6（IPv6）地址侦听网络接口上的连接请求。</p>
                     <p><code class="codeph">listener.ora</code>文件在安装期间自动配置。
                     </p>
                     <p>由于配置参数具有默认值，因此您可以启动并使用侦听器而无需对其进行配置。此默认侦听器名为<code class="codeph">LISTENER</code> ，在启动时不支持任何服务名称，并侦听以下TCP / IP协议地址：</p><pre class="oac_no_warn" dir="ltr">（ADDRESS =（PROTOCOL = tcp）（HOST = <span class="italic">host_name</span> ）（PORT = 1521））</pre><p>Oracle数据库会在启动后一分钟左右向侦听器注册。可以在<code class="codeph">listener.ora</code>文件中配置侦听器转发客户端请求的服务名称或它们所代表的数据库。此信息也可以与侦听器动态注册。使用侦听器动态注册服务和数据库称为<span class="bold">服务注册</span> 。<a id="d12794e222" class="indexterm-anchor"></a><a id="d12794e226" class="indexterm-anchor"></a></p>
                     <p>服务注册由每个数据库实例的监听器注册（LREG）过程（实例后台进程）执行。动态服务注册不需要修改<code class="codeph">listener.ora</code>文件。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5FED211C-ACEF-4B75-9071-E08962A47985__GUID-53AED588-251F-43B4-A1B6-4421D73B2B70">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关侦听器和服务名称的更多信息，请参见<a href="../cncpt/application-and-networking-architecture.html#CNCPT1272" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关配置侦听器的详细信息，请参见<a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG010" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-the-network-environment.html#GUID-83323247-58C9-4CC7-9816-C3511A88A6AF" title="Oracle Net侦听器（侦听器）在数据库主机上运行并处理传入的客户端请求。您可以在命令行中查看侦听器状态。">查看侦听器配置</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-the-network-environment.html#GUID-AFAED9DB-56F5-4F49-B37A-54739790716A" title="Oracle侦听器设置为在重新启动主机时自动启动。但是，当您的系统遇到无法预料的情况，或者您手动停止侦听器时，可以在命令行重新启动它。">启动和停止监听器</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关数据库进程的更多信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78" title="Oracle实例的后台进程管理内存结构，异步执行I / O以将数据写入磁盘上的文件，并执行常规维护任务。">关于后台进程</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS12353"></a><a id="ADMQS12354"></a><a id="ADMQS12355"></a><a id="ADMQS12313"></a><div class="props_rev_3"><a id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030" name="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030"></a><h4 id="ADMQS-GUID-9ED3270A-682A-42D5-A56A-90308E5C5030" class="sect4"><span class="enumeration_section">4.1.2</span>客户端连接</h4>
                  <div>
                     <div><span>本节介绍客户端与数据库的连接所涉及的元素。</span> 例如：</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-the-network-environment.html#GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__CHDECBHD">连接描述符</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-the-network-environment.html#GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__CHDFJBBD">连接请求</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-the-network-environment.html#GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__BHCFIHCI">命名方法</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__CHDECBHD">
                        <p class="subhead3" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__GUID-18775E3C-1010-4BAB-89B9-F3AE34FDDD04">连接描述符</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>客户端使用连接描述符来指定要连接的数据库。此连接描述符包含协议和数据库服务名称。数据库可以定义多个服务名称，因此必须为连接描述符指定特定的服务名称。在预配置的数据库中，只有一个服务名称，默认为全局数据库名称。
                        </p>
                        <p>以下示例显示了一个连接描述符，使客户端能够连接到服务名为<code class="codeph">mydb.us.example.com</code>的数据库：</p><pre class="oac_no_warn" dir="ltr">DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = my-server）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = mydb.us.example.com））</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__CHDFJBBD">
                        <p class="subhead3" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__GUID-81CF34B7-2AD2-4405-8392-B1CD32DDB579">连接请求</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d12794e346" class="indexterm-anchor"></a>用户通过提供连接字符串来发起连接请求。连接字符串包括用户名和密码以及连接标识符。此连接标识符可以是连接描述符本身，也可以是使用存储在使用<span class="q">“ <a href="configuring-the-network-environment.html#GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__BHCFIHCI">命名方法</a> ”中</span>描述的命名方法访问的一个或多个存储库中的映射信息解析为连接描述符的名称。这个名字被称为a <a id="d12794e355" class="indexterm-anchor"></a> <span class="bold">网络服务名称</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__BHCFIHCI">
                        <p class="subhead3" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__GUID-C2F6AA24-97B1-4186-8B12-071EF4455CA9">命名方法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">命名方法</span>是客户端应用程序在尝试连接到数据库服务时用于将连接描述符解析为连接描述符的解析方法。
                        </p>
                        <p><a id="d12794e370" class="indexterm-anchor"></a> Oracle Net支持以下命名方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">轻松连接命名</span></p>
                              <p><a id="d12794e381" class="indexterm-anchor"></a>简单连接命名方法使客户端只使用由主机名和服务名组成的TCP / IP连接字符串即可连接到Oracle数据库。简易连接命名方法不需要配置。有关简单连接命名的示例，请参阅<span class="q">“ <a href="configuring-the-network-environment.html#GUID-1A15D322-B3AC-426A-86A1-EB7590930687" title="本节介绍如何使用SQL * Plus和简单连接命名方法从客户端计算机连接到Oracle数据库。">从客户端计算机连接到Oracle数据库</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">本地命名</span></p>
                              <p><a id="d12794e400" class="indexterm-anchor"></a>本地命名方法将连接描述符（由其网络服务名称标识）存储在名为<code class="codeph">tnsnames.ora</code>的客户端配置文件中。该文件位于<span class="italic"><code class="codeph"><span class="codeinlineitalic"><code class="codeph">ORACLE_HOME</code></span></code></span> <code class="codeph">/network/admin</code>目录中。使用Oracle Database Configuration Assistant（DBCA）创建数据库时，将自动配置本地命名。然后，您必须使用Net Configuration Assistant创建连接描述符及其相应的网络服务名称。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">目录命名</span></p>
                              <p><a id="d12794e423" class="indexterm-anchor"></a>目录命名将数据库服务，网络服务名称或网络服务别名解析为存储在符合LDAP的目录服务器中的连接描述符。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-9ED3270A-682A-42D5-A56A-90308E5C5030__GUID-608B7292-AC38-4093-919D-9DE19FA3A221">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../netag/configuring-naming-methods.html#NETAG008" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关数据库服务的详细信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11125" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12356"></a><a id="ADMQS12358"></a><a id="ADMQS042"></a><div class="props_rev_3"><a id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C" name="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C"></a><h4 id="ADMQS-GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C" class="sect4"><span class="enumeration_section">4.1.3</span>网络配置工具</h4>
                  <div>
                     <div><span>Oracle数据库提供了一些工具，使您可以管理网络配置。</span> 例如：</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-the-network-environment.html#GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__CHDJCHEJ">Net Configuration Assistant</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-the-network-environment.html#GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__CHDCICDH">Oracle Net Manager</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__CHDJCHEJ">
                        <p class="subhead3" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__GUID-7AFBF7CB-7701-4E32-BA17-B669AEC663E0">Net Configuration Assistant</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在典型的数据库安装过程中<a id="d12794e490" class="indexterm-anchor"></a><a id="d12794e494" class="indexterm-anchor"></a> Net Configuration Assistant自动配置一个名为<code class="codeph">LISTENER</code>的侦听<code class="codeph">LISTENER</code> ，该侦听<code class="codeph">LISTENER</code>具有数据库的TCP / IP侦听协议地址。如果进行自定义安装，则Net Configuration Assistant会提示您配置所选的侦听器名称和协议地址。
                        </p>
                        <p>数据库安装后，使用Net Configuration Assistant进行初始网络配置。此后，您可以使用Oracle Net Manager配置和管理网络。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__CHDCICDH">
                        <p class="subhead3" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__GUID-BA99214E-4814-4DA0-BBA9-E7E26F163A51">Oracle Net Manager</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle Net Manager提供各种网络配置功能，包括配置配置文件的功能。</p>
                        <div class="infoboxnote" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__GUID-71E5442E-DA7B-40D4-852E-1542407FA0F8">
                           <p class="notep1">注意：</p>
                           <p><span class="italic">仅在Microsoft Windows操作系统上</span> ，如果在数据库安装期间将非管理员，低权限Windows用户帐户指定为Oracle Home用户，则在访问Net Configuration Assistant和Oracle Net Manager时将提示您输入Oracle Home User密码。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-3537A14F-BAA4-41D4-99AE-F33926FC637C__GUID-6EB55225-F0C3-44C0-AC8A-334AF0C2E202">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="configuring-the-network-environment.html#GUID-83323247-58C9-4CC7-9816-C3511A88A6AF" title="Oracle Net侦听器（侦听器）在数据库主机上运行并处理传入的客户端请求。您可以在命令行中查看侦听器状态。">查看侦听器配置</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../netag/managing-oracle-net-services.html#NETAG005" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关Windows上的Oracle Home Users功能的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admqs&amp;id=NTQRF672" target="_blank"><span><cite>Microsoft Windows的Oracle数据库管理员参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMQS12145"></a><a id="ADMQS043"></a><div class="props_rev_3"><a id="GUID-83323247-58C9-4CC7-9816-C3511A88A6AF" name="GUID-83323247-58C9-4CC7-9816-C3511A88A6AF"></a><h3 id="ADMQS-GUID-83323247-58C9-4CC7-9816-C3511A88A6AF" class="sect3"><span class="enumeration_section">4.2</span>查看侦听器配置</h3>
               <div>
                  <p>Oracle Net侦听器（侦听器）在数据库主机上运行并处理传入的客户端请求。您可以在命令行中查看侦听器状态。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-83323247-58C9-4CC7-9816-C3511A88A6AF__GUID-E519B19C-1561-4175-93AE-4033232F2477">要在命令行查看有关侦听器的信息，请执行以下操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>打开命令窗口。</span></li>
                     <li class="stepexpand"><span>按照<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="Before using certain tools that access the Oracle database, such as SQL*Plus, you must configure environment variables for your operating system. These environment variables are used by Oracle Database to determine the database instance to which the tool should connect.">配置操作系统环境变量</a> ”中</span>列出的步骤<span class="q"><a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="在使用访问Oracle数据库的某些工具（例如SQL * Plus）之前，必须为操作系统配置环境变量。Oracle数据库使用这些环境变量来确定工具应连接的数据库实例。">进行操作</a> 。</span></span></li>
                     <li class="stepexpand"><span>输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">lsnrctl状态</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="ADMQS12148"></a><a id="ADMQS044"></a><div class="props_rev_3"><a id="GUID-AFAED9DB-56F5-4F49-B37A-54739790716A" name="GUID-AFAED9DB-56F5-4F49-B37A-54739790716A"></a><h3 id="ADMQS-GUID-AFAED9DB-56F5-4F49-B37A-54739790716A" class="sect3"><span class="enumeration_section">4.3</span>启动和停止监听器</h3>
               <div>
                  <p>Oracle侦听器设置为在重新启动主机时自动启动。但是，当您的系统遇到无法预料的情况，或者您手动停止侦听器时，可以在命令行重新启动它。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AFAED9DB-56F5-4F49-B37A-54739790716A__GUID-20FF2DEF-F649-48AC-85B5-97E57EAF3390">要在命令行启动或停止侦听器：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>打开命令窗口。</span></li>
                     <li class="stepexpand"><span>按照<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="Before using certain tools that access the Oracle database, such as SQL*Plus, you must configure environment variables for your operating system. These environment variables are used by Oracle Database to determine the database instance to which the tool should connect.">配置操作系统环境变量</a> ”中</span>列出的步骤<span class="q"><a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="在使用访问Oracle数据库的某些工具（例如SQL * Plus）之前，必须为操作系统配置环境变量。Oracle数据库使用这些环境变量来确定工具应连接的数据库实例。">进行操作</a> 。</span></span></li>
                     <li class="stepexpand"><span>输入以下任一命令，具体取决于您是要启动还是停止监听器：</span><div><pre class="oac_no_warn" dir="ltr">lsnrctl start lsnrctl stop</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="ADMQS12150"></a><a id="ADMQS045"></a><div class="props_rev_3"><a id="GUID-1A15D322-B3AC-426A-86A1-EB7590930687" name="GUID-1A15D322-B3AC-426A-86A1-EB7590930687"></a><h3 id="ADMQS-GUID-1A15D322-B3AC-426A-86A1-EB7590930687" class="sect3"><span class="enumeration_section">4.4</span>从客户端计算机连接到Oracle数据库</h3>
               <div>
                  <div><span>本节介绍如何使用SQL * Plus和简单连接命名方法从客户端计算机连接到Oracle数据库。</span> 安装Oracle数据库客户端软件时通常会安装SQL * Plus。简单连接命名方法提供与数据库的TCP / IP连接，而无需您配置Oracle Net Services。
                  </div>
                  <div class="section">
                     <p>您可以使用本节中的说明测试网络配置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1A15D322-B3AC-426A-86A1-EB7590930687__GUID-62917815-6757-435C-ACBC-3A4F71EC5CAB">使用简单连接命名从客户端计算机连接到Oracle数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>完成<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="在使用访问Oracle数据库的某些工具（例如SQL * Plus）之前，必须为操作系统配置环境变量。Oracle数据库使用这些环境变量来确定工具应连接的数据库实例。">配置操作系统环境变量</a> ”中的步骤</span> 。</span></li>
                     <li class="stepexpand"><span>执行以下操作之一以启动SQL * Plus：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>（UNIX，Linux或Windows系统）打开命令窗口并输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQLPLUS</pre></li>
                              <li>
                                 <p>（仅限Windows系统）单击“ <span class="bold">开始”</span> ，选择“ <span class="bold">程序”</span> （或“ <span class="bold">所有程序”</span> ），然后选择“ <span class="bold">Oracle  -</span> <span class="italic"><span class="bold">HOME_NAME”</span></span> ，“ <span class="bold">应用程序</span> <span class="bold">开发”</span> ，再选择“ <span class="bold">SQL * Plus”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>出现提示时，输入用户名，后跟一个at符号（@）和一个连接标识符，其中连接标识符具有以下格式：</span><div><pre class="oac_no_warn" dir="ltr">“ <span class="italic">host</span> [： <span class="italic">port</span> ] [/ <span class="italic">service_name</span> ] [： <span class="italic">server</span> ] [/ <span class="italic">instance_name</span> ]”</pre><p>连接标识符格式中使用的占位符表示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="italic"><code class="codeph">host</code></span> -  Oracle数据库主机的名称或IP地址。
                                 </p>
                                 <p>支持IPv4和IPv6地址。IPv6地址必须用方括号括起来。有关IPv6寻址的信息，请参见“ <a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">port</code></span> （可选） -  Oracle Net侦听器侦听连接的TCP端口号。
                                 </p>
                                 <p>如果排除<span class="italic"><code class="codeph">port</code></span> ，则假定标准端口号为1521。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">service_name</code></span> - 数据库服务名称。
                                 </p>
                                 <p>如果未定义数据库服务名称，则可以使用为数据库创建的默认服务的名称。此服务名称由全局数据库名称组成，该名称由<code class="codeph">DB_NAME</code>和<code class="codeph">DB_DOMAIN</code>初始化参数组成，如下所示：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">DB_NAME</span> 。 <span class="italic">DB_DOMAIN</span>
</pre><p>如果<code class="codeph">DB_DOMAIN</code>为null，则标准服务名称只是<code class="codeph">DB_NAME</code> 。</p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">server</code></span> - 服务处理程序的类型。可接受的值<code class="codeph">dedicated</code> ， <code class="codeph">shared</code> ，和<code class="codeph">pooled</code> 。如果省略，则侦听器选择默认类型的服务器：如果已配置，则为共享服务器，否则为专用服务器。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">instance_name</code></span> - 要连接的实例。仅指定实例名称时，将连接到默认数据库服务。如果<code class="codeph">listener.ora</code>文件中没有配置默认服务，则会生成错误。您可以从<code class="codeph">INSTANCE_NAME</code>初始化参数中获取实例名称。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，为用户连接<code class="codeph">NICK</code>到数据库服务<code class="codeph">orcl.example.com</code>在主机<code class="codeph">dbhost.example.com</code> ，在输入用户名提示如下：</p><pre class="oac_no_warn" dir="ltr">尼克@ “dbhost.example.com/orcl.example.com”</pre><p>以下示例将IPv4和IPv6地址替换为主机名：</p><pre class="oac_no_warn" dir="ltr">nick @“192.0.2.1/orcl.example.com”nick @“[2001：0DB8：0：0 :: 200C：417A] /orcl.example.com”</pre></div>
                     </li>
                     <li class="stepexpand"><span>出现提示时，输入用户密码。</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-1A15D322-B3AC-426A-86A1-EB7590930687__GUID-6B2A965D-4093-4016-B68D-22897F7A43E7">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database Release 19c开始，扩展了简单连接命名语法。有关详细信息，请参阅<a href="configuring-the-network-environment.html#GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342" title="从Oracle Database Release 19c开始，扩展了简单连接命名语法。">关于Easy Connect Plus</a> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1A15D322-B3AC-426A-86A1-EB7590930687__GUID-258284D0-D995-42B0-B5D4-E97557258045">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用SQL * Plus进行连接的更多示例以及有关环境变量的讨论，请参见<a href="../admin/index.html" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../netag/quick-start-oracle-net-services.html#NETAG172" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，提供有关轻松连接，连接标识符和其他命名方法的信息</p>
                           </li>
                           <li>
                              <p>有关如何在<code class="codeph">listener.ora</code>定义默认服务的信息，请参阅<a href="../netrf/index.html" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../sqpug/configuring-SQL-Plus.html#SQPUG012" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342" name="GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342"></a><h4 id="ADMQS-GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342" class="sect4"><span class="enumeration_section">4.4.1</span>关于Easy Connect Plus</h4>
                  <div>
                     <p>从Oracle Database Release 19c开始，扩展了简单连接命名语法。</p>
                     <p>连接标识符具有以下格式：</p><pre class="pre codeblock"><code>“[[protocol：] //] host1 {，host12} [：port1] {，host2：port2} [/ service_name] [：server] [/ instance_name] [？PARAMETER_NAME =值{＆PARAMETER_NAME =值}]”</code></pre><p>连接标识符格式中使用的占位符表示：</p>
                     <ul id="GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342__UL_HLZ_DFR_WFB" style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">protocol</code></span> - 必须用于连接Oracle数据库主机的传输协议。支持的值是<code class="codeph">TCP</code>和<code class="codeph">TCPS</code> 。默认值为<code class="codeph">TCP</code> 。</p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">主机1 {，} host12 [：端口1] {，主机2：端口2}</code></span></p>
                           <p>从Oracle Database Release 19c开始，您可以在连接标识符中使用多个主机或端口。这有助于负载平衡客户端连接。</p>
                           <p>例如， <code class="codeph">salesserver1:1521,salesserver2,salesserver3:1522/sales.us.example.com</code>转换为以下连接描述符：</p><pre class="pre codeblock"><code>（DESCRIPTION =（LOAD_BALANCE = ON）（ADDRESS =（PROTOCOL = tcp）（HOST = salesserver1）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp）（HOST = salesserver2）（PORT = 1522））（ADDRESS =（ PROTOCOL = tcp）（HOST = salesserver3）（PORT = 1522））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</code></pre></li>
                        <li>
                           <p><span class="italic"><code class="codeph">parameter_name=value</code></span> （可选） - 名称 - 值对及其值。问号（？）表示名称 - 值对的开始，而＆符号（＆）是名称 - 值对之间的分隔符。
                           </p>
                           <div class="p">例如， <code class="codeph">tcps://salesserver1:1521/sales?ssl_server_cert_dn="cn=sales,cn=OracleContext,dc=us,dc=example,dc=com"&amp;wallet_location="\tmp\oracle"</code>转换为以下内容：<pre class="pre codeblock"><code>（DESCRIPTION =（ADDRESS =（PROTOCOL = tcps）（HOST = salesserver1）（PORT = 1521））（SECURITY =（SSL_SERVER_DN_MATCH = TRUE）（MY_WALLET_DIRECTORY = / tmp / oracle）（SSL_SERVER_CERT_DN = cn = sales，cn = OracleContext，dc = us，dc = example，dc = com））（CONNECT_DATA =（SERVICE_NAME = sales）））</code></pre></div>
                           <p>除了<code class="codeph">wallet_location</code>和<code class="codeph">ssl_server_cert_dn</code>名称 - 值对之外，连接标识符也接受其他名称 - 值对。有关更多信息，请参见“ <a href="../netag/configuring-naming-methods.html#NETAG-GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                     </ul>
                     <p>有关<code class="codeph">server</code> ， <code class="codeph">service_name</code>和<code class="codeph">instance_name</code> ，请参阅<a href="configuring-the-network-environment.html#GUID-1A15D322-B3AC-426A-86A1-EB7590930687" title="本节介绍如何使用SQL * Plus和简单连接命名方法从客户端计算机连接到Oracle数据库。">从客户端计算机连接到Oracle数据库</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ADMQS12151"></a><div class="props_rev_3"><a id="GUID-C1543ED3-0052-42F8-9FF0-7B21F0929DD4" name="GUID-C1543ED3-0052-42F8-9FF0-7B21F0929DD4"></a><h3 id="ADMQS-GUID-C1543ED3-0052-42F8-9FF0-7B21F0929DD4" class="sect3"><span class="enumeration_section">4.5</span>配置网络环境：Oracle示例系列</h3>
               <div>
                  <p>Oracle示例（OBE）有一系列关于<span class="italic">Oracle Database 2 Day DBA</span>指南的系列文章。本OBE将引导您完成本章中的任务，并包含带注释的屏幕截图。
                  </p>
                  <div class="section">
                     <p>要查看配置网络环境OBE，请在Web浏览器中输入以下URL：</p>
                     <p><a href="https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16827" target="_blank"><code class="codeph">https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16827</code></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00103.rwp.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When you design applications for real world performance, you should consider how code for bind variables, instrumentation, and set-based processing."></meta>
      <meta name="description" content="When you design applications for real world performance, you should consider how code for bind variables, instrumentation, and set-based processing."></meta>
      <title>为Oracle真实世界性能设计应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content="When you design applications for real world performance, you should consider how code for bind variables, instrumentation, and set-based processing."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performance-and-scalability.html" title="Previous" type="text/html"></link>
      <link rel="next" href="security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-and-scalability.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="fundamentals.html" property="item" typeof="WebPage"><span property="name">数据库开发基础</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为Oracle真实世界性能设计应用程序</li>
            </ol>
            <a id="GUID-754328E1-2203-4B03-A21B-A91C3E548233" name="GUID-754328E1-2203-4B03-A21B-A91C3E548233"></a>
            
            <h2 id="ADFNS-GUID-754328E1-2203-4B03-A21B-A91C3E548233" class="sect2"><span class="enumeration_chapter">4</span>为Oracle真实世界性能设计应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>在为实际性能设计应用程序时，应考虑绑定变量，检测和基于集合的处理的代码。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="rwp.html#GUID-D95280DE-969D-4B83-825E-ECC872C111EA" title="SQL语句或PL / SQL块中的绑定变量占位符指示必须在运行时提供数据的位置。">使用绑定变量</a></p>
                  </li>
                  <li>
                     <p><a href="rwp.html#GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD">使用仪器</a></p>
                  </li>
                  <li>
                     <p><a href="rwp.html#GUID-83C28F26-45AE-492C-B42A-8F4F20770C33" title="数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。">使用基于集合的处理</a></p>
                  </li>
               </ul>
            </div><a id="ADFNS179"></a><div class="props_rev_3"><a id="GUID-D95280DE-969D-4B83-825E-ECC872C111EA" name="GUID-D95280DE-969D-4B83-825E-ECC872C111EA"></a><h3 id="ADFNS-GUID-D95280DE-969D-4B83-825E-ECC872C111EA" class="sect3">使用绑定变量</h3>
               <div>
                  <p>SQL语句或PL / SQL块中的绑定变量占位符指示必须在运行时提供数据的位置。</p>
                  <div class="section">
                     <p>假设您希望应用程序将数据插入使用此语句创建的表中：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE test（x VARCHAR2（30），y VARCHAR2（30））;</pre><p>由于直到运行时才知道数据，因此必须使用动态SQL。</p>
                     <p>以下语句在表<code class="codeph">test</code>插入一行，连接列x和y的字符串文字：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO test（x，y）VALUES（'''|| REPLACE（x，'''，'''''）||'''''，'''||替换（y，'''，'''''''|| '''）;</pre><p>以下语句使用绑定变量将一行插入表<code class="codeph">test</code> <code class="codeph">:x</code>和<code class="codeph">:y</code>用于列x和y：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO test（x，y）VALUES（：x，：y）;</pre><p>使用绑定变量占位符的语句更容易编码。</p>
                     <p>现在考虑使用上述每种方法在表<code class="codeph">test</code>中插入1,000行的动态批量加载操作。
                     </p>
                     <p>连接字符串文字的方法使用1,000个<code class="codeph">INSERT</code>语句，每个语句都必须经过硬解析，限定，检查安全性，优化和编译。因为每个语句都是硬解析的，所以锁存器的数量会大大增加。锁存器是互斥锁定机制 - 序列化设备，它会抑制并发性。
                     </p>
                     <p>使用绑定变量占位符的方法仅使用一个<code class="codeph">INSERT</code>语句。该语句经过软解析，限定，检查安全性，优化，编译和缓存在共享池中。共享池中的已编译语句用于1000个插入中的每个插入。此语句缓存是使用绑定变量的一个非常重要的好处。
                     </p>
                     <p>使用绑定变量占位符的应用程序具有更高的可伸缩性，支持更多用户，需要的资源更少，运行速度比使用字符串连接的应用程序更快 - 并且不易受SQL注入攻击。如果SQL语句使用字符串连接，则最终用户可以修改该语句并使用该应用程序执行有害的操作。</p>
                     <p>您可以在<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">SELECT</code>和<code class="codeph">UPDATE</code>语句中以及可以使用表达式或文字的PL / SQL块中的任何位置使用绑定变量占位符。在PL / SQL中，您还可以将绑定变量占位符用于输出变量。绑定用于非查询操作中的输入和输出变量。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D95280DE-969D-4B83-825E-ECC872C111EA__GUID-2E87E1B6-B4F4-420C-B711-6D32260F78E3">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用绑定变量保护应用程序免受SQL注入的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS646" target="_blank"><span class="italic">Oracle数据库PL / SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关在OCI中使用绑定变量占位符的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI16342" target="_blank"><span class="italic">“Oracle调用接口程序员指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS162"></a><div class="props_rev_3"><a id="GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD" name="GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD"></a><h3 id="ADFNS-GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD" class="sect3">使用仪器</h3>
               <div>
                  <p>使用检测意味着在整个应用程序中添加调试代码。启用后，此代码将生成跟踪文件，其中包含可帮助您识别和查找问题的信息。在调试多层应用程序时，跟踪文件特别有用;它们可以帮助您识别有问题的层。</p>
                  <div class="infoboxnotealso" id="GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD__GUID-BDBC727F-773A-4F07-9405-F8EF4CB3946C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="performance-and-scalability.html#GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2">SQL跟踪工具（SQL_TRACE）</a>以获取更多信息</p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-83C28F26-45AE-492C-B42A-8F4F20770C33" name="GUID-83C28F26-45AE-492C-B42A-8F4F20770C33"></a><h3 id="ADFNS-GUID-83C28F26-45AE-492C-B42A-8F4F20770C33" class="sect3">使用基于集合的处理</h3>
               <div>
                  <p>数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。</p>
                  <p>例如，应用程序可能会连接数千行的数据集，过滤一组条件，执行聚合，然后将结果显示给用户。或者，应用程序可能会根据指定的条件从十亿行表中过滤掉行，然后将匹配的行插入另一个表中。</p>
                  <p>应用程序开发人员面临的问题是如何在处理这些大型数据集时实现高性能。处理技术分为两类：迭代和基于集合。经过多年的测试，Oracle Real-World Performance小组发现，基于集合的处理技术可以更好地处理处理大型数据集的数据库应用程序。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="rwp.html#GUID-16CD8271-4959-41C2-9332-4FE21F54BA83" title="迭代数据处理逐行处理数据，使用数组或使用手动并行处理。">迭代数据处理</a></p>
                     </li>
                     <li>
                        <p><a href="rwp.html#GUID-83C28F26-45AE-492C-B42A-8F4F20770C33" title="数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。">使用基于集合的处理</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-16CD8271-4959-41C2-9332-4FE21F54BA83" name="GUID-16CD8271-4959-41C2-9332-4FE21F54BA83"></a><h4 id="ADFNS-GUID-16CD8271-4959-41C2-9332-4FE21F54BA83" class="sect4">迭代数据处理</h4>
                  <div>
                     <p>迭代数据处理逐行处理数据，使用数组或使用手动并行处理。</p>
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="rwp.html#GUID-587B101A-CA9D-4F9F-AC67-E128D67DEB59" title="在这种类型的处理中，应用程序使用条件逻辑来遍历一组行。">关于迭代数据处理</a></p>
                        </li>
                        <li>
                           <p><a href="rwp.html#GUID-014A1091-206B-4455-B6BF-2E010C5E4655" title="在迭代技术中，逐行处理是最常见的。">迭代数据处理：逐行</a></p>
                        </li>
                        <li>
                           <p><a href="rwp.html#GUID-5B427623-E329-4BD5-9D60-B58B0C61A7C9" title="数组处理与逐行处理相同，只是它在每次迭代中处理一组行而不是单行。">迭代数据处理：数组</a></p>
                        </li>
                        <li>
                           <p><a href="rwp.html#GUID-413B3E68-5590-4337-956B-B6CFC11FC2DD" title="手动并行使用与逐行和数组处理相同的迭代算法，但允许多个服务器进程同时处理作业。">迭代数据处理：手动并行</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="sect4"><a id="GUID-587B101A-CA9D-4F9F-AC67-E128D67DEB59" name="GUID-587B101A-CA9D-4F9F-AC67-E128D67DEB59"></a><h5 id="ADFNS-GUID-587B101A-CA9D-4F9F-AC67-E128D67DEB59" class="sect5">关于迭代数据处理</h5>
                     <div>
                        <p>在这种类型的处理中，应用程序使用条件逻辑来遍历一组行。</p>
                        <p>您可以使用PL / SQL，Java或任何其他过程或面向对象语言编写迭代应用程序。该技术是“迭代的”，因为它将行源分成包含一行或多行的子组，然后处理每个子组。单个进程可以遍历所有子组，或者多个进程可以并行遍历子组。</p>
                        <p>通常，尽管不一定，迭代处理使用客户端/服务器模型，如下所示：</p>
                        <ol>
                           <li>
                              <p>将一组行从数据库服务器传输到客户端应用程序。</p>
                           </li>
                           <li>
                              <p>在客户端应用程序中处理该组。</p>
                           </li>
                           <li>
                              <p>将已处理的组传回数据库服务器。</p>
                           </li>
                        </ol>
                        <p>您可以使用三种主要技术实现迭代算法：逐行处理，数组处理和手动并行。每种技术都获得相同的结果，但从性能的角度来看，每种技术都有其优点和缺点。</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-014A1091-206B-4455-B6BF-2E010C5E4655" name="GUID-014A1091-206B-4455-B6BF-2E010C5E4655"></a><h5 id="ADFNS-GUID-014A1091-206B-4455-B6BF-2E010C5E4655" class="sect5">迭代数据处理：逐行</h5>
                     <div>
                        <p>在迭代技术中，逐行处理是最常见的。</p>
                        <p>单个进程循环遍历数据集，并且一次在单行上运行。在典型的实现中，应用程序从数据库中检索每一行，在中间层处理它，然后将该行发送回数据库，该数据库执行DML并提交。</p>
                        <p>假设你的功能需求是查询命名为外部表<code class="codeph">ext_scan_events</code> ，然后将其行到一个堆组织的临时表命名<code class="codeph">stage1_scan_events</code> 。以下PL / SQL块使用逐行技术来满足此要求：</p><pre class="oac_no_warn" dir="ltr">声明光标c是从ext_scan_events s中选择s。*; RC％ROWTYPE;开始c;循环获取c到r; c％未发现时退出;插入stage1_scan_events d值r;承诺;结束循环;关闭c;结束;</pre><p>逐行代码使用游标循环来执行以下操作：</p>
                        <ol>
                           <li>
                              <p>从<code class="codeph">ext_scan_events</code>获取<code class="codeph">ext_scan_events</code>到客户端主机中运行的应用程序，如果不存在更多行，则退出程序。
                              </p>
                           </li>
                           <li>
                              <p>将行插入<code class="codeph">stage1_scan_events</code> 。
                              </p>
                           </li>
                           <li>
                              <p>提交前面的插入。</p>
                           </li>
                           <li>
                              <p>返回第1步。</p>
                           </li>
                        </ol>
                        <p>逐行技术具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它在小型数据集上表现良好。假设<code class="codeph">ext_scan_events</code>包含10,000条记录。如果应用程序在1毫秒内处理每一行，则总处理时间为10秒。
                              </p>
                           </li>
                           <li>
                              <p>循环算法对所有专业开发人员来说都很熟悉，易于编写，易于理解。</p>
                           </li>
                        </ul>
                        <p>逐行技术具有以下缺点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于大型数据集，处理时间可能长得令人无法接受。如果<code class="codeph">ext_scan_events</code>包含10亿行，并且如果应用程序平均处理每行1毫秒，则总处理时间为12天。处理万亿行表需要<span class="italic">32年</span> 。
                              </p>
                           </li>
                           <li>
                              <p>应用程序串行执行，因此无法利用在现代硬件上运行的Oracle数据库的本机并行处理功能。例如，逐行技术无法从多核计算机，Oracle RAC或Oracle Exadata计算机中受益。例如，如果数据库主机包含16个CPU和32个核心，则当唯一的数据库服务器进程读取或写入每一行时，31个核心将处于空闲状态。如果Oracle RAC部署中存在多个实例，则只有一个实例可以处理数据。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-5B427623-E329-4BD5-9D60-B58B0C61A7C9" name="GUID-5B427623-E329-4BD5-9D60-B58B0C61A7C9"></a><h5 id="ADFNS-GUID-5B427623-E329-4BD5-9D60-B58B0C61A7C9" class="sect5">迭代数据处理：数组</h5>
                     <div>
                        <p>数组处理与逐行处理相同，只是它在每次迭代中处理一组行而不是单行。</p>
                        <p>与逐行技术一样，数组处理是串行的，这意味着一次只有一个数据库服务器进程对一组行进行操作。在典型的数组实现中，应用程序从数据库中检索每组行，在中间层处理它，然后将组发送回数据库，该数据库为行组执行DML，然后提交。</p>
                        <p>假设你的功能需求是一样的，在<span>迭代数据处理</span>的例子<span>：行到行</span> ：查询命名为外部表<code class="codeph">ext_scan_events</code> ，然后将其行到一个堆组织的临时表命名<code class="codeph">stage1_scan_events</code> 。以下PL / SQL块（在SQL * Plus中与数据库服务器不同的主机上执行）使用数组技术来满足此要求：</p><pre class="oac_no_warn" dir="ltr">声明光标c是从ext_scan_events s中选择s。*; type t是binary_integer的c％rowtype index表;在; rows binary_integer：= 0;开始c; loop fetch c bulk collect into limit array_size;当a.count = 0时退出; foall i in 1..a.count insert into stage1_scan_events d values a（i）;承诺;结束循环;关闭c;结束;</pre><p>前面的代码与<code class="codeph">FETCH</code>语句中使用<code class="codeph">BULK COLLECT</code>运算符的等效逐行代码不同，后者受<code class="codeph">PLS_INTEGER</code>类型的array_size值的限制。例如，如果array_size设置为100，则应用程序将以100为一组获取行。
                        </p>
                        <p>游标循环执行以下操作序列：</p>
                        <ol>
                           <li>
                              <p>从ext_scan_events获取行数组到客户端主机中运行的应用程序，或者在循环计数器等于0时退出程序。</p>
                           </li>
                           <li>
                              <p>循环遍历行数组，并将每一行插入<code class="codeph">stage1_scan_events</code>表。
                              </p>
                           </li>
                           <li>
                              <p>提交前面的插入。</p>
                           </li>
                           <li>
                              <p>返回第1步。</p>
                           </li>
                        </ol>
                        <p>在PL / SQL中，数组代码与使用计数器而不是游标属性<code class="codeph">c%notfound</code>的逐行代码不同，以测试退出条件。原因是如果fetch收集表中的最后一组行，则<code class="codeph">c%notfound</code>强制循环退出，这是不希望的行为。使用计数器时，每次获取都会收集指定的行数，当集合为空时，程序将退出。
                        </p>
                        <p>与逐行技术相比，阵列技术具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该阵列使应用程序能够同时处理一组行，这意味着它可以减少网络往返， <code class="codeph">COMMIT</code>时间以及客户端和服务器中的代码路径。当组合时，这些因素可以潜在地将总处理时间减少一个数量级</p>
                           </li>
                           <li>
                              <p>数据库更有效，因为服务器进程批量插入，并在每组插入之后而不是在每次插入之后提交。减少提交次数可减少I / O负载并降低日志同步等待事件的可能性。</p>
                           </li>
                        </ul>
                        <p>该技术的缺点与逐行处理相同。处理时间对于大型数据集来说是不可接受的。对于万亿行表，将处理时间从32年减少到3年仍然是不可接受的。此外，应用程序必须在单个CPU内核上串行运行，因此无法利用Oracle数据库的本机并行性。</p>
                        <div class="infoboxnotealso" id="GUID-5B427623-E329-4BD5-9D60-B58B0C61A7C9__NOTE-1412-CBE0106F">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="rwp.html#GUID-014A1091-206B-4455-B6BF-2E010C5E4655" title="在迭代技术中，逐行处理是最常见的。">迭代数据处理：逐行</a></p>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-413B3E68-5590-4337-956B-B6CFC11FC2DD" name="GUID-413B3E68-5590-4337-956B-B6CFC11FC2DD"></a><h5 id="ADFNS-GUID-413B3E68-5590-4337-956B-B6CFC11FC2DD" class="sect5">迭代数据处理：手动并行</h5>
                     <div>
                        <p>手动并行使用与逐行和数组处理相同的迭代算法，但允许多个服务器进程同时处理作业。</p>
                        <p>在典型的实现中，应用程序多次扫描源数据，然后使用<code class="codeph">ORA_HASH</code>函数在并行插入进程之间划分数据。
                        </p>
                        <p><code class="codeph">ORA_HASH</code>函数计算给定表达式的哈希值。该函数接受三个参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph"><span class="codeinlineitalic">expr</span></code> ，通常是列名</p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="codeinlineitalic">max_bucket</span></code> ，指定散列桶的数量</p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="codeinlineitalic">seed_value</span></code> ，它允许来自相同数据的多个结果（默认值为0）</p>
                           </li>
                        </ul>
                        <p>例如，以下语句将sales表划分为10个行，编号为0到9，并返回存储桶1中的行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales WHERE ORA_HASH（cust_id，9）= 1;</pre><p>如果应用程序以这种方式使用<code class="codeph">ORA_HASH</code> ，并且如果存在n个哈希桶，则每个服务器进程对1 / <span class="italic">n</span>数据进行操作。
                        </p>
                        <p>假设功能要求与逐行和数组示例相同：从源表读取扫描事件，然后将它们插入<code class="codeph">stage1_scan_events</code>表。主要区别如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>扫描事件存储在大量平面文件中。<code class="codeph">ext_scan_events_dets</code>表描述了这些平面文件。<code class="codeph">ext_scan_events_dets.file_seq_nbr</code>列存储数字主键， <code class="codeph">ext_file_name</code>列存储文件名。
                              </p>
                           </li>
                           <li>
                              <p>32个服务器进程必须并行运行，每个服务器进程查询不同的外部表。32个外部表被命名<code class="codeph">ext_scan_events_0</code>通过ext_scan_events_31。但是，每个服务器进程都插入到同一<code class="codeph">stage1_scan_events</code>表中。
                              </p>
                           </li>
                           <li>
                              <p>您可以通过执行同一PL / SQL程序的32个线程来使用PL / SQL来实现并行性，每个线程同时作为Oracle Scheduler管理的单独作业运行。工作是计划和计划的组合。</p>
                           </li>
                        </ul>
                        <p>以下PL / SQL代码（在SQL * Plus中与数据库服务器不同的主机上执行）使用手动并行：</p><pre class="oac_no_warn" dir="ltr">声明sqlstmt varchar2（1024）：= q'[ -  BEGIN嵌入式匿名块游标c是从ext_scan_events _ $ {thr} s中选择s。*; type t是binary_integer的c％rowtype index表;在; rows binary_integer：= 0;以r开头（从ext_scan_events_dets中选择ext_file_name，其中ora_hash（file_seq_nbr，$ {thrs}）= $ {thr}）循环执行立即'alter table ext_scan_events _ $ {thr} location'|| '（'|| r.ext_file_name ||'）';打开c; loop fetch c bulk collect into limit $ {array_size};当a.count = 0时退出; foall i in 1..a.count insert into stage1_scan_events d values a（i）;承诺; -  demo instrumentation rows：= rows + a.count;如果rows&gt; 1e3则在没有sd_control.p_progress（'loading'，'userdefined'，rows）时退出; rows：= 0;万一;结束循环;关闭c;结束循环;结束; -  END嵌入匿名块]'; begin sqlstmt：= replace（sqlstmt，'$ {array_size}'，to_char（array_size））; sqlstmt：= replace（sqlstmt，'$ {thr}'，thr）; sqlstmt：= replace（sqlstmt，'$ {thrs}'，thrs）;执行立即sqlstmt;结束;</pre><p>这个程序有三个迭代结构，从外到内：</p>
                        <ol>
                           <li>
                              <p>外部<code class="codeph">FOR LOOP</code> ，用于检索平面文件的名称，并使用DDL将平面文件名指定为外部表的位置</p>
                           </li>
                           <li>
                              <p>中间<code class="codeph">LOOP</code>语句，用于从外部表的查询中提取行组。
                              </p>
                           </li>
                           <li>
                              <p>最内层的<code class="codeph">FORALL</code>语句，它遍历每个组并插入行</p>
                           </li>
                        </ol>
                        <p>在此示例程序中，您在每个作业中将<code class="codeph">$thrs</code>设置<code class="codeph">$thrs</code> 31，并在每个作业中将<code class="codeph">$thr</code>设置<code class="codeph">$thr</code> 0到31之间的其他值。例如，作业1可能将<code class="codeph">$thr</code>设置为0，作业2可能将<code class="codeph">$thr</code>设置为1，依此类推。
                        </p>
                        <p>在第一个作业执行的程序中，$ thr设置为0，外部<code class="codeph">FOR LOOP</code>迭代以下查询的结果：</p><pre class="oac_no_warn" dir="ltr">从ext_scan_events_dets中选择ext_file_name，其中ora_hash（file_seq_nbr，31）= 0</pre><p><code class="codeph">ORA_HASH</code>函数将<code class="codeph">ext_scan_events_dets</code>表划分为32个均匀分布的存储桶，然后<code class="codeph">SELECT</code>语句检索存储桶0的文件名。例如，查询结果集可能包含以下文件名：</p><pre class="oac_no_warn" dir="ltr">/ disk1 / scan_ev_101 / disk2 / scan_ev_003 / disk1 / scan_ev_077 .../磁盘4 / scan_ev_314</pre><p>中间<code class="codeph">LOOP</code>遍历文件名列表。例如，结果集中的第一个文件名可能是<code class="codeph">/disk1/scan_ev_101</code> 。对于作业1，外部表名为<code class="codeph">ext_scan_events_0</code> ，因此<code class="codeph">LOOP</code>的第一次迭代会更改此表的位置，如下所示：</p><pre class="oac_no_warn" dir="ltr">alter table ext_scan_events_0 location（/ disk1 / scan_ev_101）;</pre><p>在最里面的<code class="codeph">FORALL</code>语句中， <code class="codeph">BULK COLLECT</code>运算符将<code class="codeph">ext_scan_events_0</code>表中的行检索到数组中，将行插入<code class="codeph">stage1_scan_events</code>表，然后提交批量插入。当程序退出<code class="codeph">FORALL</code>语句时，程序将继续执行循环中的下一项，将外部表的文件位置更改为<code class="codeph">/disk2/scan_ev_003</code> ，然后像上一次迭代一样查询，插入和提交行。作业1以这种方式继续处理，直到包含在与散列桶0对应的平面文件中的所有记录已插入<code class="codeph">stage1_scan_events</code>表中。
                        </p>
                        <p>当作业1正在执行时，其他31个Oracle Scheduler作业并行执行。例如，作业2将<code class="codeph">$thr</code>设置<code class="codeph">$thr</code> 1，它将游标定义为表<code class="codeph">ext_scan_events_1</code>的查询， <code class="codeph">ext_scan_events_1</code> ，通过作业32，将<code class="codeph">$thr</code>设置<code class="codeph">$thr</code> 31并将游标定义为表<code class="codeph">ext_scan_events_31</code>的查询。通过这种方式，每个作业同时读取扫描事件文件的不同子集，并将其子集中的记录插入到同一<code class="codeph">stage1_scan_events</code>表中。
                        </p>
                        <p>与其他迭代技术相比，手动并行技术具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它在大型数据集上的表现要好得多，因为服务器进程并行工作。例如，如果32个进程正在划分工作，并且如果数据库具有足够的CPU和内存资源并且没有遇到争用，则数据库可能会在阵列技术执行单个作业所花费的时间内执行32个插入作业。大数据集的性能增益通常比串行技术大一个数量级。</p>
                           </li>
                           <li>
                              <p>当应用程序使用<code class="codeph">ORA_HASH</code>分配工作负载时，每个执行线程都可以访问相同数量的数据。如果每个线程读取和写入相同数量的数据，则并行进程可以同时完成，这意味着只要应用程序运行，数据库就会使用硬件。
                              </p>
                           </li>
                        </ul>
                        <p>手动并行技术具有以下缺点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>代码相对冗长，复杂且难以理解。该算法很复杂，因为在许多线程上分配工作负载的工作落在开发人员而不是数据库上。实际上，应用程序并行运行串行算法而不是运行并行算法。</p>
                           </li>
                           <li>
                              <p>通常，划分数据的启动成本具有固定的开销。在数据库开始主要工作之前，应用程序必须执行一定量的准备工作，主要工作是并行处理行。此启动限制不适用于不分割数据的竞争技术。</p>
                           </li>
                           <li>
                              <p>如果多个线程对一组公共数据库对象执行相同的操作，则可以进行锁定和锁存争用。例如，如果32个不同的服务器进程正在尝试更新同一组缓冲区，则缓冲区忙等待是可能的。此外，如果多个服务器进程几乎同时发出<code class="codeph">COMMIT</code>语句，则可能是日志文件同步等待。
                              </p>
                           </li>
                           <li>
                              <p>与竞争迭代技术相比，并行处理消耗大量CPU资源。如果数据库主机没有足够的内核可用于同时处理线程，则性能会受到影响。例如，如果只有4个内核可用于32个线程，那么在给定时间内具有CPU可用的线程的概率是1/8。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-49AA324B-A060-4284-9841-A6E27DB9E45C" name="GUID-49AA324B-A060-4284-9841-A6E27DB9E45C"></a><h4 id="ADFNS-GUID-49AA324B-A060-4284-9841-A6E27DB9E45C" class="sect4">基于集合的处理</h4>
                  <div>
                     <p>基于集合的处理是一种处理数据库内数据集的SQL技术。</p>
                     <p>在基于集合的模型中，SQL语句定义结果，并允许数据库确定获取它的最有效方法。相反，迭代算法使用条件逻辑将每行或每组行从数据库拉到客户端应用程序，处理客户端上的数据，然后将数据发送回数据库。基于集合的处理消除了网络往返和数据库API开销，因为数据永远不会离开数据库。它减少了COMMIT的数量。</p>
                     <p>假设与前面的例子中相同的功能要求。以下SQL语句使用基于集合的算法满足此要求：</p><pre class="oac_no_warn" dir="ltr">alter session enable parallel dml;插入/ * + APPEND * / into stage1_scan_events d从ext_scan_events s中选择s。*;承诺;</pre><p>由于<code class="codeph">INSERT</code>语句包含<code class="codeph">ext_scan_events</code>表的子查询，因此<span class="italic">单个</span> SQL语句将读取和写入所有行。此外，应用程序在数据库插入所有行后执行<span class="italic">单个</span> <code class="codeph">COMMIT</code> 。相反，迭代应用程序在插入每行或每组行之后执行<code class="codeph">COMMIT</code> 。
                     </p>
                     <p>基于集合的技术与迭代技术相比具有明显的优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>正如Oracle Real-World Performance演示和类中所示，大型数据集的性能要快几个数量级。程序的运行时间从几小时降到几秒并不罕见。大数据集性能的提高是如此深刻，以至于迭代技术变得非常难以证明。</p>
                        </li>
                        <li>
                           <p>处理速度急剧增加的副作用是DBA可以消除长时间运行且容易出错的批处理作业，并实时创新业务流程。例如，企业可以在白天根据需要运行12秒的作业，而不是每晚运行6小时的批处理作业。</p>
                        </li>
                        <li>
                           <p>代码的长度明显更短，只需要两到三行代码，因为SQL定义了结果而不是访问方法。这意味着数据库而不是应用程序决定了划分，检索和操作行的最佳方法。</p>
                        </li>
                        <li>
                           <p>与手动并行性相比，并行DML针对性能进行了优化，因为数据库而不是应用程序管理进程。因此，没有必要在客户端应用程序中手动划分工作负载，并希望每个进程同时完成。</p>
                        </li>
                        <li>
                           <p>加入数据集时，数据库会自动使用高效的散列连接，而不是相对低效的应用程序级循环。</p>
                        </li>
                        <li>
                           <p><code class="codeph">APPEND</code>提示强制直接路径加载，这意味着数据库不会创建重做和撤消，从而避免浪费I / O和CPU。在典型的ETL工作负载中，缓冲区高速缓存存在问题。修改缓冲区高速缓存中的数据，然后写回数据及其关联的撤消和重做，会消耗大量资源。因为缓冲区缓存不能足够快地管理块，并且因为操作块进入缓冲区缓存并再次退出（通常一次只有一个8 K块）的CPU成本很高，所以数据库编写器和服务器进程都必须极其努力跟上缓冲量。
                           </p>
                        </li>
                     </ul>
                     <p>基于集合的处理的缺点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>许多数据库开发人员都不熟悉这些技术，因此它们更加困难。<code class="codeph">INSERT</code>示例相对简单。但是，更复杂的算法需要更复杂的语句，可能需要多个外连接。不熟悉流水线外连接以及使用<code class="codeph">WITH</code>子句和<code class="codeph">CASE</code>语句的开发人员可能会被写入和理解基于集合的代码的前景所吓倒。
                           </p>
                        </li>
                        <li>
                           <p>因为基于集合的模型与迭代模型完全不同，所以更改它需要完全重写源代码。相反，将逐行代码更改为基于数组的代码相对简单。</p>
                        </li>
                     </ul>
                     <p>尽管基于集合的处理存在缺点，但Oracle Real-World Performance小组认为，大数据集的巨大性能提升证明了这一努力的合理性。</p>
                     <div class="infoboxnote" id="GUID-49AA324B-A060-4284-9841-A6E27DB9E45C__NOTE-1410-77B77BA1">
                        <p class="notep1">视频：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=vid_oll_rwp_set_based" target="_blank">RWP＃7基于集合的处理</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=vid_oll_rwp_set_parallel" target="_blank">RWP＃8：基于集合的并行处理</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=vid_oll_rwp_dedup" target="_blank">RWP＃9：基于集合的处理 - 数据重复数据删除</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=vid_oll_rwp_transform" target="_blank">RWP＃10：基于集合的处理 - 数据转换</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=vid_oll_rwp_agg" target="_blank">RWP＃11：基于集合的处理 - 数据聚合</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09840.book-index.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>指数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Property Graph Developer’s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Property Graph Developer’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-property-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T15:23:57-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94800-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="tinkerpop-3-apis.html" title="Previous" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Property Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPGDG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tinkerpop-3-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="#" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem">指数</li>
            </ol>
            
            <h2 class="it">指数</h2>
         </header>
         <div class="ind">
            <div><a href="#A">A</a> <a href="#C">C</a> <a href="#D">D</a> <a href="#E">E</a> <a href="#F">F</a> <a href="#G">G</a> <a href="#I">I</a> <a href="#O">O</a> <a href="#P">P</a> <a href="#R">R</a> <a href="#S">S</a> <a href="#T">T</a> <a href="#V">V.</a>  
            </div>
            <div class="index-list">
               <div class="index-group"><a id="A"></a><hr>
                  <h2>一个</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">ANALYZE_PG程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7B1D9A79-CFFA-46A1-AB96-F9E9AE1497D4" target="contentwin">5.1</a></span></li>
                     <li class="index-term">自动增量刷新<span class="index-term-targets"><a href="using-inmemory-analyst-oracle-database.html#GUID-D2C0F3CF-2B00-4712-9375-E40985C26C7C" target="contentwin">3.6</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="C"></a><hr>
                  <h2>C</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">CF_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5DCE3ADF-B40B-4483-969A-7141D37656E6" target="contentwin">5.3</a></span></li>
                     <li class="index-term">CF_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-FD4E9251-F29E-4B7B-B65E-86E794DF6B65" target="contentwin">5.4</a></span></li>
                     <li class="index-term">CF程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-94F53C56-F77A-41A2-BF2A-AAB359D88170" target="contentwin">5.2</a></span></li>
                     <li class="index-term">CLEAR_PG_INDICES程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B755803C-C44F-47F9-BC86-D6B2D49E01D8" target="contentwin">5.6</a></span></li>
                     <li class="index-term">CLEAR_PG程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2F5C016-2EC3-474A-9C90-8419B18B4E1B" target="contentwin">5.5</a></span></li>
                     <li class="index-term">CLONE_GRAPH程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B9721E0C-EA8F-48D3-A46C-81AD2E5B268F" target="contentwin">5.7</a></span></li>
                     <li class="index-term">协同过滤<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-94F53C56-F77A-41A2-BF2A-AAB359D88170" target="contentwin">5.2</a> ， <a href="OPG_APIS-reference.html#GUID-5DCE3ADF-B40B-4483-969A-7141D37656E6" target="contentwin">5.3</a> ， <a href="OPG_APIS-reference.html#GUID-FD4E9251-F29E-4B7B-B65E-86E794DF6B65" target="contentwin">5.4</a></span></li>
                     <li class="index-term">连通组件<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">找到<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-57601B68-82E3-48CC-9445-CE1C37FF6317" target="contentwin">5.26</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">COUNT_TRIANGLE_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D028A0AE-A4E9-4272-B4C8-4F701A100161" target="contentwin">5.9</a></span></li>
                     <li class="index-term">COUNT_TRIANGLE_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A61D0F42-46C4-45F8-9A7D-6B40AFC8CC58" target="contentwin">5.10</a></span></li>
                     <li class="index-term">COUNT_TRIANGLE_RENUM函数<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2A3A0E5-143E-4460-8C1D-C2AB22CE60F0" target="contentwin">5.11</a></span></li>
                     <li class="index-term">COUNT_TRIANGLE函数<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-37F05FC8-6972-4F0A-BA05-D12CAC9A8C76" target="contentwin">5.8</a></span></li>
                     <li class="index-term">CREATE_EDGES_TEXT_IDX程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5CEA8BA9-1348-4FA5-8231-EEE9E87A41C5" target="contentwin">5.12</a></span></li>
                     <li class="index-term">CREATE_PG_SNAPSHOT_TAB程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-30AEC26F-6796-4715-B410-4DD010173C22" target="contentwin">5.14</a></span></li>
                     <li class="index-term">CREATE_PG_TEXTIDX_TAB程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-36916354-E6DF-42FD-B54A-FFCDE78E74BE" target="contentwin">5.15</a></span></li>
                     <li class="index-term">CREATE_PG程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-40A654E5-FC7D-4D36-9D25-B60AD7A0DEFE" target="contentwin">5.13</a></span></li>
                     <li class="index-term">CREATE_STAT_TABLE程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5908FB5E-27D9-4223-BF6E-5796732C30BF" target="contentwin">5.16</a></span></li>
                     <li class="index-term">CREATE_SUB_GRAPH过程<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-53C57342-4A0B-4B3C-9FD2-66627AAAD36B" target="contentwin">5.17</a></span></li>
                     <li class="index-term">CREATE_VERTICES_TEXT_IDX程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-873601B7-B97E-4090-8571-0DE467351D02" target="contentwin">5.18</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="D"></a><hr>
                  <h2>d</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">DROP_EDGES_TEXT_IDX程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEA527EE-E024-46BD-91A8-53ED17A71FDF" target="contentwin">5.19</a></span></li>
                     <li class="index-term">DROP_PG_VIEW程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4AA25FC2-CF45-4213-97FE-1411DAF4C26E" target="contentwin">5.21</a></span></li>
                     <li class="index-term">DROP_PG程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D55AF064-0157-47A1-B23A-A3EF6C4AF090" target="contentwin">5.20</a></span></li>
                     <li class="index-term">DROP_VERTICES_TEXT_IDX程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-F807A064-E63F-4C5B-AD84-445C66D2EF5C" target="contentwin">5.22</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="E"></a><hr>
                  <h2>Ë</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">边缘表统计<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">出口<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-70D286D3-1A86-4AE4-AAA0-63F7BFE6241B" target="contentwin">5.24</a></span></li>
                           <li class="index-term">进口<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-08FC0959-024E-43C9-A202-04E8D952764E" target="contentwin">5.45</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">ESTIMATE_TRIANGLE_RENUM功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C2E23CFB-A068-48B8-8DCA-873EA7E4A91F" target="contentwin">5.23</a></span></li>
                     <li class="index-term">EXP_EDGE_TAB_STATS程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-70D286D3-1A86-4AE4-AAA0-63F7BFE6241B" target="contentwin">5.24</a></span></li>
                     <li class="index-term">EXP_VERTEX_TAB_STATS程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D4A6A128-C645-48F1-A54E-95E25DD3F63B" target="contentwin">5.25</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="F"></a><hr>
                  <h2>F</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">FIND_CC_MAPPING_BASED程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-57601B68-82E3-48CC-9445-CE1C37FF6317" target="contentwin">5.26</a></span></li>
                     <li class="index-term">FIND_CLUSTERS_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-425206C3-5AA3-4139-B974-97F81678C7B2" target="contentwin">5.27</a></span></li>
                     <li class="index-term">FIND_CLUSTERS_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-70636FEB-B9ED-4AA6-A6D7-496AD4D5AEA5" target="contentwin">5.28</a></span></li>
                     <li class="index-term">FIND_SP_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-1A4CD41A-C176-4A8F-9534-CCAD8DD7DE18" target="contentwin">5.30</a></span></li>
                     <li class="index-term">FIND_SP_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7F18F9CD-2496-419E-AA0B-892E9414DA29" target="contentwin">5.31</a></span></li>
                     <li class="index-term">FIND_SP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B515B0DD-6D62-43B3-8373-DFC12F0CC984" target="contentwin">5.29</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="G"></a><hr>
                  <h2>G</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">几何<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">越来越<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4B102EF0-9BAA-4C98-B483-6E7388A2AA1D" target="contentwin">5.33</a> ， <a href="OPG_APIS-reference.html#GUID-0150DE12-7AAF-4973-B204-90D73FECF157" target="contentwin">5.34</a></span></li>
                           <li class="index-term">从经度和纬度<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-3DFA2CBD-3569-4E3C-9F69-D7B63924332D" target="contentwin">5.37</a></span></li>
                           <li class="index-term">WKT <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6C1A3DDE-48F2-4A79-AD16-3CCE576D5545" target="contentwin">5.42</a> ， <a href="OPG_APIS-reference.html#GUID-B24DF56A-18BB-4D6E-B325-BBA173CC359B" target="contentwin">5.43</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">GET_BUILD_ID功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6127571F-6216-4B13-B4D4-9DBDAC967C0E" target="contentwin">5.32</a></span></li>
                     <li class="index-term">GET_GEOMETRY_FROM_V_COL功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4B102EF0-9BAA-4C98-B483-6E7388A2AA1D" target="contentwin">5.33</a></span></li>
                     <li class="index-term">GET_GEOMETRY_FROM_V_T_COLS功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-0150DE12-7AAF-4973-B204-90D73FECF157" target="contentwin">5.34</a></span></li>
                     <li class="index-term">GET_LATLONG_FROM_V_COL功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-FA4C3C01-E24A-472D-8142-D9CE69A6717E" target="contentwin">5.35</a> ， <a href="OPG_APIS-reference.html#unique_174579749" target="contentwin">5.38</a></span></li>
                     <li class="index-term">GET_LATLONG_FROM_V_T_COLS功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-230553EB-CB1E-4CD0-856B-09DF29980F65" target="contentwin">5.36</a></span></li>
                     <li class="index-term">GET_LONG_LAT_GEOMETRY功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-3DFA2CBD-3569-4E3C-9F69-D7B63924332D" target="contentwin">5.37</a></span></li>
                     <li class="index-term">GET_LONGLAT_FROM_V_T_COLS功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-F30BC20A-64C3-48FA-A7BF-056C6165A786" target="contentwin">5.39</a></span></li>
                     <li class="index-term">GET_SCN功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4F023BE3-1EDC-4BFB-81DF-753D63746699" target="contentwin">5.40</a></span></li>
                     <li class="index-term">GET_VERSION函数<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-AA076755-27C8-45EA-B181-95D3D1BEE761" target="contentwin">5.41</a></span></li>
                     <li class="index-term">GET_WKTGEOMETRY_FROM_V_COL功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6C1A3DDE-48F2-4A79-AD16-3CCE576D5545" target="contentwin">5.42</a></span></li>
                     <li class="index-term">GET_WKTGEOMETRY_FROM_V_T_COLS功能<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B24DF56A-18BB-4D6E-B325-BBA173CC359B" target="contentwin">5.43</a></span></li>
                     <li class="index-term">GRANT_ACCESS程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C1CF4953-17A5-4C2B-8E35-0C82EA69DD14" target="contentwin">5.44</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="I"></a><hr>
                  <h2>一世</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">IMP_EDGE_TAB_STATS程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-08FC0959-024E-43C9-A202-04E8D952764E" target="contentwin">5.45</a></span></li>
                     <li class="index-term">IMP_VERTEX_TAB_STATS程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7EAFC523-176F-48CE-A7A7-6FE21AD5D7A1" target="contentwin">5.46</a></span></li>
                     <li class="index-term">记忆内分析师（PGX） <span class="index-term-targets"><a href="using-inmemory-analyst-oracle-database.html#GUID-C80502F2-67B0-42B3-B80F-6DA297EA655C" target="contentwin">3</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="O"></a><hr>
                  <h2>Ø</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">OPG_APIS包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">ANALYZE_PG <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7B1D9A79-CFFA-46A1-AB96-F9E9AE1497D4" target="contentwin">5.1</a></span></li>
                           <li class="index-term">CF <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-94F53C56-F77A-41A2-BF2A-AAB359D88170" target="contentwin">5.2</a></span></li>
                           <li class="index-term">CF_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5DCE3ADF-B40B-4483-969A-7141D37656E6" target="contentwin">5.3</a></span></li>
                           <li class="index-term">CF_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-FD4E9251-F29E-4B7B-B65E-86E794DF6B65" target="contentwin">5.4</a></span></li>
                           <li class="index-term">CLEAR_PG <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2F5C016-2EC3-474A-9C90-8419B18B4E1B" target="contentwin">5.5</a></span></li>
                           <li class="index-term">CLEAR_PG_INDICES <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B755803C-C44F-47F9-BC86-D6B2D49E01D8" target="contentwin">5.6</a></span></li>
                           <li class="index-term">CLONE_GRAPH <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B9721E0C-EA8F-48D3-A46C-81AD2E5B268F" target="contentwin">5.7</a></span></li>
                           <li class="index-term">COUNT_TRIANGLE <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-37F05FC8-6972-4F0A-BA05-D12CAC9A8C76" target="contentwin">5.8</a></span></li>
                           <li class="index-term">COUNT_TRIANGLE_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D028A0AE-A4E9-4272-B4C8-4F701A100161" target="contentwin">5.9</a></span></li>
                           <li class="index-term">COUNT_TRIANGLE_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A61D0F42-46C4-45F8-9A7D-6B40AFC8CC58" target="contentwin">5.10</a></span></li>
                           <li class="index-term">COUNT_TRIANGLE_RENUM <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2A3A0E5-143E-4460-8C1D-C2AB22CE60F0" target="contentwin">5.11</a></span></li>
                           <li class="index-term">CREATE_EDGES_TEXT_IDX <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5CEA8BA9-1348-4FA5-8231-EEE9E87A41C5" target="contentwin">5.12</a></span></li>
                           <li class="index-term">CREATE_PG <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-40A654E5-FC7D-4D36-9D25-B60AD7A0DEFE" target="contentwin">5.13</a></span></li>
                           <li class="index-term">CREATE_PG_SNAPSHOT_TAB <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-30AEC26F-6796-4715-B410-4DD010173C22" target="contentwin">5.14</a></span></li>
                           <li class="index-term">CREATE_PG_TEXTIDX_TAB <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-36916354-E6DF-42FD-B54A-FFCDE78E74BE" target="contentwin">5.15</a></span></li>
                           <li class="index-term">CREATE_STAT_TABLE <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5908FB5E-27D9-4223-BF6E-5796732C30BF" target="contentwin">5.16</a></span></li>
                           <li class="index-term">CREATE_SUB_GRAPH <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-53C57342-4A0B-4B3C-9FD2-66627AAAD36B" target="contentwin">5.17</a></span></li>
                           <li class="index-term">CREATE_VERTICES_TEXT_IDX <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-873601B7-B97E-4090-8571-0DE467351D02" target="contentwin">5.18</a></span></li>
                           <li class="index-term">DROP_EDGES_TEXT_IDX <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEA527EE-E024-46BD-91A8-53ED17A71FDF" target="contentwin">5.19</a></span></li>
                           <li class="index-term">DROP_PG <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D55AF064-0157-47A1-B23A-A3EF6C4AF090" target="contentwin">5.20</a></span></li>
                           <li class="index-term">DROP_PG_VIEW <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4AA25FC2-CF45-4213-97FE-1411DAF4C26E" target="contentwin">5.21</a></span></li>
                           <li class="index-term">DROP_VERTICES_TEXT_IDX <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-F807A064-E63F-4C5B-AD84-445C66D2EF5C" target="contentwin">5.22</a></span></li>
                           <li class="index-term">ESTIMATE_TRIANGLE_RENUM <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C2E23CFB-A068-48B8-8DCA-873EA7E4A91F" target="contentwin">5.23</a></span></li>
                           <li class="index-term">EXP_EDGE_TAB_STATS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-70D286D3-1A86-4AE4-AAA0-63F7BFE6241B" target="contentwin">5.24</a></span></li>
                           <li class="index-term">EXP_VERTEX_TAB_STATS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D4A6A128-C645-48F1-A54E-95E25DD3F63B" target="contentwin">5.25</a></span></li>
                           <li class="index-term">FIND_CC_MAPPING_BASED <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-57601B68-82E3-48CC-9445-CE1C37FF6317" target="contentwin">5.26</a></span></li>
                           <li class="index-term">FIND_CLUSTERS_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-425206C3-5AA3-4139-B974-97F81678C7B2" target="contentwin">5.27</a></span></li>
                           <li class="index-term">FIND_CLUSTERS_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-70636FEB-B9ED-4AA6-A6D7-496AD4D5AEA5" target="contentwin">5.28</a></span></li>
                           <li class="index-term">FIND_SP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B515B0DD-6D62-43B3-8373-DFC12F0CC984" target="contentwin">5.29</a></span></li>
                           <li class="index-term">FIND_SP_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-1A4CD41A-C176-4A8F-9534-CCAD8DD7DE18" target="contentwin">5.30</a></span></li>
                           <li class="index-term">FIND_SP_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7F18F9CD-2496-419E-AA0B-892E9414DA29" target="contentwin">5.31</a></span></li>
                           <li class="index-term">GET_BUILD_ID <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6127571F-6216-4B13-B4D4-9DBDAC967C0E" target="contentwin">5.32</a></span></li>
                           <li class="index-term">GET_GEOMETRY_FROM_V_COL <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4B102EF0-9BAA-4C98-B483-6E7388A2AA1D" target="contentwin">5.33</a></span></li>
                           <li class="index-term">GET_GEOMETRY_FROM_V_T_COLS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-0150DE12-7AAF-4973-B204-90D73FECF157" target="contentwin">5.34</a></span></li>
                           <li class="index-term">GET_LATLONG_FROM_V_COL <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-FA4C3C01-E24A-472D-8142-D9CE69A6717E" target="contentwin">5.35</a> ， <a href="OPG_APIS-reference.html#unique_174579749" target="contentwin">5.38</a></span></li>
                           <li class="index-term">GET_LATLONG_FROM_V_T_COLS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-230553EB-CB1E-4CD0-856B-09DF29980F65" target="contentwin">5.36</a></span></li>
                           <li class="index-term">GET_LONG_LAT_GEOMETRY <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-3DFA2CBD-3569-4E3C-9F69-D7B63924332D" target="contentwin">5.37</a></span></li>
                           <li class="index-term">GET_LONGLAT_FROM_V_T_COLS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-F30BC20A-64C3-48FA-A7BF-056C6165A786" target="contentwin">5.39</a></span></li>
                           <li class="index-term">GET_SCN <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4F023BE3-1EDC-4BFB-81DF-753D63746699" target="contentwin">5.40</a></span></li>
                           <li class="index-term">GET_VERSION <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-AA076755-27C8-45EA-B181-95D3D1BEE761" target="contentwin">5.41</a></span></li>
                           <li class="index-term">GET_WKTGEOMETRY_FROM_V_COL <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6C1A3DDE-48F2-4A79-AD16-3CCE576D5545" target="contentwin">5.42</a></span></li>
                           <li class="index-term">GET_WKTGEOMETRY_FROM_V_T_COLS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B24DF56A-18BB-4D6E-B325-BBA173CC359B" target="contentwin">5.43</a></span></li>
                           <li class="index-term">GRANT_ACCESS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C1CF4953-17A5-4C2B-8E35-0C82EA69DD14" target="contentwin">5.44</a></span></li>
                           <li class="index-term">IMP_EDGE_TAB_STATS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-08FC0959-024E-43C9-A202-04E8D952764E" target="contentwin">5.45</a></span></li>
                           <li class="index-term">IMP_VERTEX_TAB_STATS <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7EAFC523-176F-48CE-A7A7-6FE21AD5D7A1" target="contentwin">5.46</a></span></li>
                           <li class="index-term">PR <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C6B7FB6D-D697-41F0-8C50-48F85420167F" target="contentwin">5.47</a></span></li>
                           <li class="index-term">PR_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E6662E41-9857-4FB7-A57A-2B0396A39057" target="contentwin">5.48</a></span></li>
                           <li class="index-term">PR_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E9B709B5-1801-49A9-88BE-6525318102C9" target="contentwin">5.49</a></span></li>
                           <li class="index-term">PREPARE_TEXT_INDEX <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-726B7DD8-471E-4A81-A9F3-BC94174B0424" target="contentwin">5.50</a></span></li>
                           <li class="index-term">参考资料<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A5F629F8-D086-4E7F-8ECF-6094982E7A05" target="contentwin">5</a></span></li>
                           <li class="index-term">RENAME_PG <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B7511FDC-AA7E-47A2-8595-D740B0CBABD2" target="contentwin">5.51</a></span></li>
                           <li class="index-term">SPARSIFY_GRAPH <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E8F47437-1B83-4352-9F49-0A719CCD381D" target="contentwin">5.52</a></span></li>
                           <li class="index-term">SPARSIFY_GRAPH_CLEANUP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-35749BBA-9C43-462A-8EF6-D1FC6EE9592B" target="contentwin">5.53</a></span></li>
                           <li class="index-term">SPARSIFY_GRAPH_PREP <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEB828AA-3E00-42A6-9C70-BA20FC13BCE4" target="contentwin">5.54</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">OPG_GRAPHOP包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">POPULATE_SKELETON_TAB <span class="index-term-targets"><a href="OPG_GRAPHOP-reference.html#GUID-A2BB34A3-D342-429C-961F-5858BBE301CD" target="contentwin">6.1</a></span></li>
                           <li class="index-term">参考资料<span class="index-term-targets"><a href="OPG_GRAPHOP-reference.html#GUID-314EE15F-DB4C-4437-8D6D-CD7BC08034DC" target="contentwin">6</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="P"></a><hr>
                  <h2>P</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">网页排名<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">计算<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C6B7FB6D-D697-41F0-8C50-48F85420167F" target="contentwin">5.47</a></span></li>
                           <li class="index-term">清理<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E6662E41-9857-4FB7-A57A-2B0396A39057" target="contentwin">5.48</a></span></li>
                           <li class="index-term">准备找到<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E9B709B5-1801-49A9-88BE-6525318102C9" target="contentwin">5.49</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">PGQL（属性图查询语言） <span class="index-term-targets"><a href="sql-based-property-graph-query-analytics.html#GUID-301FF092-1A07-43D2-91E5-0C5AFF3467CC" target="contentwin">4.7</a></span></li>
                     <li class="index-term">PGX（内存分析师） <span class="index-term-targets"><a href="using-inmemory-analyst-oracle-database.html#GUID-C80502F2-67B0-42B3-B80F-6DA297EA655C" target="contentwin">3</a></span></li>
                     <li class="index-term">POPULATE_SKELETON_TAB程序<span class="index-term-targets"><a href="OPG_GRAPHOP-reference.html#GUID-A2BB34A3-D342-429C-961F-5858BBE301CD" target="contentwin">6.1</a></span></li>
                     <li class="index-term">PR_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E6662E41-9857-4FB7-A57A-2B0396A39057" target="contentwin">5.48</a></span></li>
                     <li class="index-term">PR_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E9B709B5-1801-49A9-88BE-6525318102C9" target="contentwin">5.49</a></span></li>
                     <li class="index-term">PREPARE_TEXT_INDEX程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-726B7DD8-471E-4A81-A9F3-BC94174B0424" target="contentwin">5.50</a></span></li>
                     <li class="index-term">属性图<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">稀疏<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-35749BBA-9C43-462A-8EF6-D1FC6EE9592B" target="contentwin">5.53</a></span>后清理</li>
                           <li class="index-term">清除（删除数据） <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2F5C016-2EC3-474A-9C90-8419B18B4E1B" target="contentwin">5.5</a></span></li>
                           <li class="index-term">克隆<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B9721E0C-EA8F-48D3-A46C-81AD2E5B268F" target="contentwin">5.7</a></span></li>
                           <li class="index-term">协同过滤<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-94F53C56-F77A-41A2-BF2A-AAB359D88170" target="contentwin">5.2</a> ， <a href="OPG_APIS-reference.html#GUID-5DCE3ADF-B40B-4483-969A-7141D37656E6" target="contentwin">5.3</a> ， <a href="OPG_APIS-reference.html#GUID-FD4E9251-F29E-4B7B-B65E-86E794DF6B65" target="contentwin">5.4</a></span></li>
                           <li class="index-term">创建<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-40A654E5-FC7D-4D36-9D25-B60AD7A0DEFE" target="contentwin">5.13</a></span></li>
                           <li class="index-term">下降<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D55AF064-0157-47A1-B23A-A3EF6C4AF090" target="contentwin">5.20</a></span></li>
                           <li class="index-term">删除视图定义<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4AA25FC2-CF45-4213-97FE-1411DAF4C26E" target="contentwin">5.21</a></span></li>
                           <li class="index-term">准备稀疏<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEB828AA-3E00-42A6-9C70-BA20FC13BCE4" target="contentwin">5.54</a></span></li>
                           <li class="index-term">删除文本索引元数据<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B755803C-C44F-47F9-BC86-D6B2D49E01D8" target="contentwin">5.6</a></span></li>
                           <li class="index-term">重命名<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B7511FDC-AA7E-47A2-8595-D740B0CBABD2" target="contentwin">5.51</a></span></li>
                           <li class="index-term">稀疏<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E8F47437-1B83-4352-9F49-0A719CCD381D" target="contentwin">5.52</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">属性图访问权限<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">grantnig <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C1CF4953-17A5-4C2B-8E35-0C82EA69DD14" target="contentwin">5.44</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">属性图查询语言（PGQL） <span class="index-term-targets"><a href="sql-based-property-graph-query-analytics.html#GUID-301FF092-1A07-43D2-91E5-0C5AFF3467CC" target="contentwin">4.7</a></span></li>
                     <li class="index-term">属性图统计表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5908FB5E-27D9-4223-BF6E-5796732C30BF" target="contentwin">5.16</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">属性图支持<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">获取构建ID <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-6127571F-6216-4B13-B4D4-9DBDAC967C0E" target="contentwin">5.32</a></span></li>
                           <li class="index-term">获得SCN <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-4F023BE3-1EDC-4BFB-81DF-753D63746699" target="contentwin">5.40</a></span></li>
                           <li class="index-term">获得版本<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-AA076755-27C8-45EA-B181-95D3D1BEE761" target="contentwin">5.41</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">PR程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C6B7FB6D-D697-41F0-8C50-48F85420167F" target="contentwin">5.47</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="R"></a><hr>
                  <h2>[R</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">RENAME_PG程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B7511FDC-AA7E-47A2-8595-D740B0CBABD2" target="contentwin">5.51</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="S"></a><hr>
                  <h2>小号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">最短路径<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">清理<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-1A4CD41A-C176-4A8F-9534-CCAD8DD7DE18" target="contentwin">5.30</a></span></li>
                           <li class="index-term">找到<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-B515B0DD-6D62-43B3-8373-DFC12F0CC984" target="contentwin">5.29</a></span></li>
                           <li class="index-term">准备找到<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7F18F9CD-2496-419E-AA0B-892E9414DA29" target="contentwin">5.31</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">骨架表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">填充<span class="index-term-targets"><a href="OPG_GRAPHOP-reference.html#GUID-A2BB34A3-D342-429C-961F-5858BBE301CD" target="contentwin">6.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">快照表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-30AEC26F-6796-4715-B410-4DD010173C22" target="contentwin">5.14</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SPARSIFY_GRAPH_CLEANUP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-35749BBA-9C43-462A-8EF6-D1FC6EE9592B" target="contentwin">5.53</a></span></li>
                     <li class="index-term">SPARSIFY_GRAPH_PREP程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEB828AA-3E00-42A6-9C70-BA20FC13BCE4" target="contentwin">5.54</a></span></li>
                     <li class="index-term">SPARSIFY_GRAPH程序<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-E8F47437-1B83-4352-9F49-0A719CCD381D" target="contentwin">5.52</a></span></li>
                     <li class="index-term">属性图的统计信息<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">分析<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7B1D9A79-CFFA-46A1-AB96-F9E9AE1497D4" target="contentwin">5.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">子图<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-53C57342-4A0B-4B3C-9FD2-66627AAAD36B" target="contentwin">5.17</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="T"></a><hr>
                  <h2>Ť</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">文字索引<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">在属性图边缘表<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-5CEA8BA9-1348-4FA5-8231-EEE9E87A41C5" target="contentwin">5.12</a></span></li>
                           <li class="index-term">在属性图边缘表（丢弃） <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-CEA527EE-E024-46BD-91A8-53ED17A71FDF" target="contentwin">5.19</a></span></li>
                           <li class="index-term">在属性图顶点表<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-873601B7-B97E-4090-8571-0DE467351D02" target="contentwin">5.18</a></span></li>
                           <li class="index-term">在属性图顶点表（丢弃） <span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-F807A064-E63F-4C5B-AD84-445C66D2EF5C" target="contentwin">5.22</a></span></li>
                           <li class="index-term">准备<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-726B7DD8-471E-4A81-A9F3-BC94174B0424" target="contentwin">5.50</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">文本索引表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-36916354-E6DF-42FD-B54A-FFCDE78E74BE" target="contentwin">5.15</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">三角形<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">计数<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D028A0AE-A4E9-4272-B4C8-4F701A100161" target="contentwin">5.9</a></span>后清理</li>
                           <li class="index-term">数<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-37F05FC8-6972-4F0A-BA05-D12CAC9A8C76" target="contentwin">5.8</a></span></li>
                           <li class="index-term">计算和重新编号顶点<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A2A3A0E5-143E-4460-8C1D-C2AB22CE60F0" target="contentwin">5.11</a></span></li>
                           <li class="index-term">估计数字<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-C2E23CFB-A068-48B8-8DCA-873EA7E4A91F" target="contentwin">5.23</a></span></li>
                           <li class="index-term">准备计算<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-A61D0F42-46C4-45F8-9A7D-6B40AFC8CC58" target="contentwin">5.10</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="V"></a><hr>
                  <h2>V</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">顶点簇映射<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">准备<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-425206C3-5AA3-4139-B974-97F81678C7B2" target="contentwin">5.27</a> ， <a href="OPG_APIS-reference.html#GUID-70636FEB-B9ED-4AA6-A6D7-496AD4D5AEA5" target="contentwin">5.28</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">顶点表统计<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">出口<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-D4A6A128-C645-48F1-A54E-95E25DD3F63B" target="contentwin">5.25</a></span></li>
                           <li class="index-term">进口<span class="index-term-targets"><a href="OPG_APIS-reference.html#GUID-7EAFC523-176F-48CE-A7A7-6FE21AD5D7A1" target="contentwin">5.46</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>