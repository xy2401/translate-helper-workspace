<html id="06157.book-index.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>指数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Testing Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Testing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96279-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-workload-scale-up.html" title="Previous" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="RATUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-workload-scale-up.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="#" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem">指数</li>
            </ol>
            
            <h2 class="it">指数</h2>
         </header>
         <div class="ind">
            <div><a href="#C">C</a> <a href="#D">D</a> <a href="#M">M</a> <a href="#R">R</a> <a href="#S">S</a> <a href="#U">U</a> <a href="#W">W.</a>  
            </div>
            <div class="index-list">
               <div class="index-group"><a id="C"></a><hr>
                  <h2>C</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">捕获子集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-C4DC0795-74B2-456D-AA0A-B4F7F45C81F8" target="contentwin">15.2.1.2</a></span></li>
                           <li class="index-term">生成<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-936472E4-89E9-4FBA-8474-1E3831BFB3CC" target="contentwin">15.4.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">统一数据库重播<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">大约<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-62AAF505-1DD4-414A-9F1D-4386B59B7138" target="contentwin">15</a></span></li>
                           <li class="index-term">连接重新映射<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-A2D6CDAF-A91D-4DA4-ADCE-038595E851A9" target="contentwin">15.2.4.2</a> ， <a href="using-consolidated-database-replay.html#GUID-284D7908-40EE-4570-AE78-E75AAA294327" target="contentwin">15.4.4.2</a></span></li>
                           <li class="index-term">整合重播目录<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">设置<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-3A5F701E-6200-45C4-BDFD-D5A4740875DA" target="contentwin">15.4.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">初始化<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-7FA57ECB-BFF9-4595-AB3E-DDED8BEE3E65" target="contentwin">15.4.4.1</a></span></li>
                           <li class="index-term">准备<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-84EE2D27-04A8-4C78-8C08-4A5FF4472B68" target="contentwin">15.4.4.4</a></span></li>
                           <li class="index-term">重播选项<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-C2F6DA54-9C2C-40CE-B357-F58126C0E2EE" target="contentwin">15.2.4.4</a></span></li>
                           <li class="index-term">报告<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-D7C55F09-D604-4AD6-8B4A-C8C93D954954" target="contentwin">15.2.5</a></span></li>
                           <li class="index-term">运行<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-10610AAB-EB5C-441C-A1E3-64DEDEC6B45F" target="contentwin">15.4.4</a></span></li>
                           <li class="index-term">样本场景<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-29988B63-F974-46EF-9AAD-3D04AF774337" target="contentwin">15.6</a></span></li>
                           <li class="index-term">从<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-62E2EA2B-D34C-47A0-BDA3-83E446DCC3D1" target="contentwin">15.4.4.5</a></span>开始</li>
                           <li class="index-term">步骤<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-ED30A383-7236-44C7-9DD0-A9FC4F75F686" target="contentwin">15.2</a></span></li>
                           <li class="index-term">测试系统<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">捕获目录<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-D4B92163-DB56-403B-81B2-B3E91D3EA667" target="contentwin">15.2.2</a></span></li>
                                 <li class="index-term">设置<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-D4B92163-DB56-403B-81B2-B3E91D3EA667" target="contentwin">15.2.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">用户重新映射<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-48411BB5-E585-4783-B016-72DCD97074CE" target="contentwin">15.2.4.3</a> ， <a href="using-consolidated-database-replay.html#GUID-12BFB1A9-B0C6-4AE9-9E1B-F7237FAED915" target="contentwin">15.4.4.3</a></span></li>
                           <li class="index-term">使用API <span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-F3F44EF1-5E8E-4758-BB59-602E7E07CAE5" target="contentwin">15.4</a></span></li>
                           <li class="index-term">工作量捕获<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">支持<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-180A4527-003B-4441-8FE7-524A2206FB54" target="contentwin">15.2.1.1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="D"></a><hr>
                  <h2>d</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">数据库重播<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-35D437DB-1107-4D2E-94B3-EA5F6E5EB5D1" target="contentwin">1.2</a></span></li>
                           <li class="index-term">方法<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-5AA30327-74FB-4406-8F7C-5D442F307534" target="contentwin">9</a></span></li>
                           <li class="index-term">重播客户<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-6A7A45F0-27B2-41D8-B1DA-1CE39F49AA7C" target="contentwin">9.3</a> ， <a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" target="contentwin">12.1.8</a></span></li>
                                 <li class="index-term">校准<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" target="contentwin">12.1.8.1</a></span></li>
                                 <li class="index-term">从<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" target="contentwin">12.1.8</a></span>开始<span class="index-term-targets">， <a href="replaying-a-database-workload.html#GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" target="contentwin">12.1.8.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">重放过滤器集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" target="contentwin">12.1.7</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">报告<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-E9DA3C3B-C44D-4DBB-B75C-7F012EDD6514" target="contentwin">9.4</a> ， <a href="analyzing-captured-and-replayed-workloads.html#GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E" target="contentwin">13</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">重播比较期间报表<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D" target="contentwin">13.3</a> ， <a href="analyzing-captured-and-replayed-workloads.html#GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300" target="contentwin">13.3.1</a></span></li>
                                 <li class="index-term">SQL Performance Analyzer报告<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-91CE0855-A551-4585-B4FC-7CCDEB813882" target="contentwin">13.4</a></span></li>
                                 <li class="index-term">工作量捕获报告<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" target="contentwin">13.1.2</a></span></li>
                                 <li class="index-term">工作量重播报告<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" target="contentwin">13.2.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">使用<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-35D437DB-1107-4D2E-94B3-EA5F6E5EB5D1" target="contentwin">1.2</a> ， <a href="introduction-to-database-replay.html#GUID-5AA30327-74FB-4406-8F7C-5D442F307534" target="contentwin">9</a></span></li>
                           <li class="index-term">工作流程<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-5AA30327-74FB-4406-8F7C-5D442F307534" target="contentwin">9</a></span></li>
                           <li class="index-term">工作量捕获<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">大约<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-E774C161-98C0-43EF-8B78-DD74E2A2A219" target="contentwin">10</a></span></li>
                                 <li class="index-term">捕获目录<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-00E1BF0A-489C-4141-A21C-44E3D80EC320" target="contentwin">10.2</a></span></li>
                                 <li class="index-term">捕获文件<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-36DE5567-5A64-493B-A154-6581C678FC8A" target="contentwin">9.1</a></span></li>
                                 <li class="index-term">捕获<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-36DE5567-5A64-493B-A154-6581C678FC8A" target="contentwin">9.1</a> ， <a href="capturing-a-database-workload.html#GUID-1679DB12-B633-4021-A3B9-9CC6216D6681" target="contentwin">10.7</a> ， <a href="capturing-a-database-workload.html#GUID-7AB9889A-6F05-41D3-8EA1-F4BEEC507BDE" target="contentwin">10.13</a> ， <a href="capturing-a-database-workload.html#GUID-C85885FA-715D-48AB-80F1-9C546988E667" target="contentwin">10.13.2</a></span></li>
                                 <li class="index-term">解密<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-67E3C3B9-F074-4A4B-80C0-43DD515D5DB9" target="contentwin">10.14.2</a></span></li>
                                 <li class="index-term">加密<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-F5B503CD-6E39-4EE4-9869-060731304EED" target="contentwin">10.14.1</a></span></li>
                                 <li class="index-term">导出数据<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-9607209D-210B-4371-80F7-5536509F4FFB" target="contentwin">10.13.4</a></span></li>
                                 <li class="index-term">导入数据<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-87A99A24-F4CD-4342-9817-012322038E07" target="contentwin">10.13.5</a></span></li>
                                 <li class="index-term">管理<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-5657880C-4520-4089-A842-BC97A40461A6" target="contentwin">10.9.3</a></span></li>
                                 <li class="index-term">监控<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-509ABE02-E9DB-420B-80AA-5FF2B8CDD9A5" target="contentwin">10.9</a> ， <a href="capturing-a-database-workload.html#GUID-B9D817BE-43F0-4813-B161-14FFD7F51D40" target="contentwin">10.15</a></span></li>
                                 <li class="index-term">备选方案<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-79F20163-CE64-4C9C-9F71-C41A95460C05" target="contentwin">10.3</a></span></li>
                                 <li class="index-term">先决条件<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-372BA03D-7A24-4300-A0AE-30E0D9D9C724" target="contentwin">10.1</a></span></li>
                                 <li class="index-term">报告<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-07B165A0-695A-4E65-9BE9-CFF387A344E1" target="contentwin">13.1</a></span></li>
                                 <li class="index-term">重启数据库<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-77DFEBE7-4FF9-4CB4-97B2-8501ECB8E7E4" target="contentwin">10.3.1</a></span></li>
                                 <li class="index-term">限制<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-4A1995F1-78F9-4080-8DFC-1E3EBCB3F4B8" target="contentwin">10.4</a></span></li>
                                 <li class="index-term">停止<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-FA80B526-BD52-44CE-9E25-165FA4D9265E" target="contentwin">10.9.2</a> ， <a href="capturing-a-database-workload.html#GUID-B6EE18AF-453C-4B67-975A-67D2F8773086" target="contentwin">10.13.3</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">工作负载筛选<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-45889420-6496-4E7C-B698-A62E2580B962" target="contentwin">10.3.2</a> ， <a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" target="contentwin">12.1.7</a></span></li>
                                 <li class="index-term">定义<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-4F96F1D0-475F-49ED-A3FD-C29C773EECBE" target="contentwin">10.13.1</a></span></li>
                                 <li class="index-term">排除过滤器<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-45889420-6496-4E7C-B698-A62E2580B962" target="contentwin">10.3.2</a> ， <a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" target="contentwin">12.1.7</a></span></li>
                                 <li class="index-term">包含过滤器<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-45889420-6496-4E7C-B698-A62E2580B962" target="contentwin">10.3.2</a> ， <a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" target="contentwin">12.1.7</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">工作量预处理<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-585D38D1-C63F-420C-B4F1-5AD11A6E3DE1" target="contentwin">9.2</a> ， <a href="preprocessing-a-database-workload.html#GUID-4CEE2F79-F5A7-4EBA-9018-0CB99AB51C0A" target="contentwin">11</a></span></li>
                                 <li class="index-term">预处理<span class="index-term-targets"><a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" target="contentwin">11.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">工作量重播<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-database-replay.html#GUID-6A7A45F0-27B2-41D8-B1DA-1CE39F49AA7C" target="contentwin">9.3</a> ， <a href="replaying-a-database-workload.html#GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B" target="contentwin">12</a></span></li>
                                 <li class="index-term">取消<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" target="contentwin">12.6.10</a></span></li>
                                 <li class="index-term">导出数据<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" target="contentwin">12.6.14</a></span></li>
                                 <li class="index-term">过滤器<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" target="contentwin">12.6.5</a></span></li>
                                 <li class="index-term">导入数据<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" target="contentwin">12.6.15</a></span></li>
                                 <li class="index-term">监控<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-64593639-9102-4C30-8EB9-71F28ABED05A" target="contentwin">12.4</a> ， <a href="replaying-a-database-workload.html#GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" target="contentwin">12.7</a></span></li>
                                 <li class="index-term">选项<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" target="contentwin">12.1.6</a> ， <a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" target="contentwin">12.6.4</a></span></li>
                                 <li class="index-term">暂停<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" target="contentwin">12.6.8</a></span></li>
                                 <li class="index-term">重放<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-B97B7550-A947-45D0-A31B-636A6427DD86" target="contentwin">12.2</a> ， <a href="replaying-a-database-workload.html#GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" target="contentwin">12.6</a></span></li>
                                 <li class="index-term">报告<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-471121E3-8CC7-4947-A1AA-3F5E5805C5DD" target="contentwin">13.2</a></span></li>
                                 <li class="index-term">恢复<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" target="contentwin">12.6.9</a></span></li>
                                 <li class="index-term">从<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" target="contentwin">12.6.7</a></span>开始</li>
                                 <li class="index-term">步骤<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" target="contentwin">12.1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">数据库升级<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">测试<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-41A30909-3D5B-4A53-A757-B3497498D36B" target="contentwin">8</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">数据库版本<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">生产系统<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                           <li class="index-term">系统运行SQL性能分析器<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                           <li class="index-term">测试系统<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DBMS_SPM包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">LOAD_PLANS_FROM_SQLSET函数<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-48F67DD6-70B6-49CC-B4B3-72F2D80E6DDD" target="contentwin">6.2.6</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DBMS_SQLPA包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">CREATE_ANALYSIS_TASK功能<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA" target="contentwin">3.2</a></span></li>
                           <li class="index-term">EXECUTE_ANALYSIS_TASK过程<span class="index-term-targets"><a href="creating-a-pre-change-sql-trial.html#GUID-93D5C8A9-7E85-4467-B3E4-323B1732BA5D" target="contentwin">4.2</a> ， <a href="creating-a-post-change-sql-trial.html#GUID-0C96536D-8129-4794-8527-1AA9FD240E2C" target="contentwin">5.2</a> ， <a href="comparing-sql-trials.html#GUID-BA40A195-CB93-459E-B365-BFB2BA40BD30" target="contentwin">6.2.1</a> ， <a href="testing-a-database-upgrade.html#GUID-C0CE4A85-70A6-40F7-A6EB-83612EBA8916" target="contentwin">8.1.4.2</a> ， <a href="testing-a-database-upgrade.html#GUID-37F2F22F-2303-4CF6-BC29-74B8C5D80431" target="contentwin">8.2.1.2</a></span></li>
                           <li class="index-term">REPORT_ANALYSIS_TASK功能<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-BA40A195-CB93-459E-B365-BFB2BA40BD30" target="contentwin">6.2.1</a></span></li>
                           <li class="index-term">SET_ANALYSIS_TASK_PARAMETER程序<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1" target="contentwin">3.3.1</a> ， <a href="creating-an-analysis-task.html#GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C" target="contentwin">3.3.2</a> ， <a href="creating-an-analysis-task.html#GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D" target="contentwin">3.3.3</a> ， <a href="creating-an-analysis-task.html#GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960" target="contentwin">3.3.4</a> ， <a href="creating-an-analysis-task.html#GUID-7C742DB2-A1AB-44FC-8709-BC323336505B" target="contentwin">3.3.5</a> ， <a href="creating-an-analysis-task.html#GUID-952CD60A-6673-468E-BE87-ABC0E41D1201" target="contentwin">3.3.6</a> ， <a href="creating-an-analysis-task.html#GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F" target="contentwin">3.3.7</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DBMS_SQLTUNE包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">CREATE_TUNING_TASK功能<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-B85471DE-CC06-4E02-AFA6-AD207D94C8C8" target="contentwin">6.2.4</a></span></li>
                           <li class="index-term">SELECT_SQL_TRACE函数<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-E6298851-9BF4-4B96-8F93-D5483278F8DA" target="contentwin">8.1.3</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DBMS_WORKLOAD_CAPTURE包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">ADD_FILTER过程<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-4F96F1D0-475F-49ED-A3FD-C29C773EECBE" target="contentwin">10.13.1</a></span></li>
                           <li class="index-term">DECRYPT_CAPTURE程序<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-67E3C3B9-F074-4A4B-80C0-43DD515D5DB9" target="contentwin">10.14.2</a></span></li>
                           <li class="index-term">DELETE_FILTER过程<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-4F96F1D0-475F-49ED-A3FD-C29C773EECBE" target="contentwin">10.13.1</a></span></li>
                           <li class="index-term">ENCRYPT_CAPTURE程序<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-F5B503CD-6E39-4EE4-9869-060731304EED" target="contentwin">10.14.1</a></span></li>
                           <li class="index-term">EXPORT_AWR程序<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-9607209D-210B-4371-80F7-5536509F4FFB" target="contentwin">10.13.4</a></span></li>
                           <li class="index-term">FINISH_CAPTURE程序<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-B6EE18AF-453C-4B67-975A-67D2F8773086" target="contentwin">10.13.3</a></span></li>
                           <li class="index-term">GET_CAPTURE_INFO程序<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" target="contentwin">13.1.2</a></span></li>
                           <li class="index-term">IMPORT_AWR功能<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-87A99A24-F4CD-4342-9817-012322038E07" target="contentwin">10.13.5</a></span></li>
                           <li class="index-term">START_CAPTURE程序<span class="index-term-targets"><a href="capturing-a-database-workload.html#GUID-C85885FA-715D-48AB-80F1-9C546988E667" target="contentwin">10.13.2</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DBMS_WORKLOAD_REPLAY包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">ADD_CAPTURE功能<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-5D8972FE-DCB0-4CE4-A930-28E211387ECE" target="contentwin">15.4.3.2</a></span></li>
                           <li class="index-term">ADD_FILTER程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296" target="contentwin">12.6.5.1</a></span></li>
                           <li class="index-term">ADD_SCHEDULE_ORDERING函数<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-CB0EBAEF-AE24-4EFA-A3F1-27C2479B3A73" target="contentwin">15.4.3.3</a></span></li>
                           <li class="index-term">BEGIN_REPLAY_SCHEDULE程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-CC592BD9-1FBE-46BA-88DD-ABB191C93EAB" target="contentwin">15.4.3.1</a></span></li>
                           <li class="index-term">CANCEL_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" target="contentwin">12.6.10</a></span></li>
                           <li class="index-term">COMPARE_PERIOD_REPORT程序<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300" target="contentwin">13.3.1</a></span></li>
                           <li class="index-term">COMPARE_SQLSET_REPORT程序<span class="index-term-targets"><a href="analyzing-captured-and-replayed-workloads.html#GUID-F711BF47-3898-4A8A-A210-FD87866659F4" target="contentwin">13.4.1</a></span></li>
                           <li class="index-term">CREATE_FILTER_SET过程<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-F07AE474-DA24-4FA9-A997-5C1472873070" target="contentwin">12.6.5.3</a></span></li>
                           <li class="index-term">DELETE_FILTER过程<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96" target="contentwin">12.6.5.2</a></span></li>
                           <li class="index-term">DELETE_REPLAY_INFO函数<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-13B2F26C-2655-4900-94A2-60322707D248" target="contentwin">12.6.13</a></span></li>
                           <li class="index-term">END_REPLAY_SCHEDULE程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-40B753EE-A8E0-4C58-AF63-70B23FBF73A6" target="contentwin">15.4.3.4</a></span></li>
                           <li class="index-term">EXPORT_AWR程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" target="contentwin">12.6.14</a></span></li>
                           <li class="index-term">GENERATE_CAPTURE_SUBSET程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-936472E4-89E9-4FBA-8474-1E3831BFB3CC" target="contentwin">15.4.1</a></span></li>
                           <li class="index-term">GET_DIVERGING_STATEMENT函数<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" target="contentwin">12.7.1</a></span></li>
                           <li class="index-term">GET_REPLAY_DIRECTORY函数<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-3A5F701E-6200-45C4-BDFD-D5A4740875DA" target="contentwin">15.4.2</a></span></li>
                           <li class="index-term">GET_REPLAY_INFO功能<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" target="contentwin">11年6月12日</a> ， <a href="analyzing-captured-and-replayed-workloads.html#GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" target="contentwin">13.2.2</a></span></li>
                           <li class="index-term">IMPORT_AWR功能<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" target="contentwin">12.6.15</a></span></li>
                           <li class="index-term">INITIALIZE_CONSOLIDATED_REPLAY程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-7FA57ECB-BFF9-4595-AB3E-DDED8BEE3E65" target="contentwin">15.4.4.1</a></span></li>
                           <li class="index-term">INITIALIZE_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" target="contentwin">12.6.1</a></span></li>
                           <li class="index-term">LOAD_DIVERGENCE程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" target="contentwin">12.6.12</a></span></li>
                           <li class="index-term">PAUSE_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" target="contentwin">12.6.8</a></span></li>
                           <li class="index-term">PREPARE_CONSOLIDATED_REPLAY程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-84EE2D27-04A8-4C78-8C08-4A5FF4472B68" target="contentwin">15.4.4.4</a></span></li>
                           <li class="index-term">PREPARE_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" target="contentwin">12.6.4</a></span></li>
                           <li class="index-term">PROCESS_CAPTURE程序<span class="index-term-targets"><a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" target="contentwin">11.2</a></span></li>
                           <li class="index-term">REMAP_CONNECTION程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" target="contentwin">12.6.2</a> ， <a href="using-consolidated-database-replay.html#GUID-284D7908-40EE-4570-AE78-E75AAA294327" target="contentwin">15.4.4.2</a></span></li>
                           <li class="index-term">REMOVE_CAPTURE程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-5D8972FE-DCB0-4CE4-A930-28E211387ECE" target="contentwin">15.4.3.2</a></span></li>
                           <li class="index-term">RESUME_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" target="contentwin">12.6.9</a></span></li>
                           <li class="index-term">SET_CONSOLIDATED_DIRECTORY程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-3A5F701E-6200-45C4-BDFD-D5A4740875DA" target="contentwin">15.4.2</a></span></li>
                           <li class="index-term">SET_REPLAY_TIMEOUT程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" target="contentwin">12.6.6</a></span></li>
                           <li class="index-term">SET_USER_MAPPING程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" target="contentwin">12.6.3</a> ， <a href="using-consolidated-database-replay.html#GUID-12BFB1A9-B0C6-4AE9-9E1B-F7237FAED915" target="contentwin">15.4.4.3</a></span></li>
                           <li class="index-term">START_CONSOLIDATED_REPLAY程序<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-62E2EA2B-D34C-47A0-BDA3-83E446DCC3D1" target="contentwin">15.4.4.5</a></span></li>
                           <li class="index-term">START_REPLAY程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" target="contentwin">12.6.7</a></span></li>
                           <li class="index-term">USE_FILTER_SET程序<span class="index-term-targets"><a href="replaying-a-database-workload.html#GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E" target="contentwin">12.6.5.4</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="M"></a><hr>
                  <h2>中号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">映射表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-EB1B032E-CFF2-4057-B9BE-02AF45383316" target="contentwin">8.1.2</a></span></li>
                           <li class="index-term">创造<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-EB1B032E-CFF2-4057-B9BE-02AF45383316" target="contentwin">8.1.2</a></span></li>
                           <li class="index-term">移动<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-EB1B032E-CFF2-4057-B9BE-02AF45383316" target="contentwin">8.1.2</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="R"></a><hr>
                  <h2>[R</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">真实应用测试<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-C6C2FA1F-3474-4B5A-B814-C41415B4C248" target="contentwin">1</a></span></li>
                           <li class="index-term">组件<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-C6C2FA1F-3474-4B5A-B814-C41415B4C248" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">重播时间表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-B1AEA82F-60E5-43CE-BB12-C6D72232886A" target="contentwin">15.2.4.1</a></span></li>
                           <li class="index-term">定义<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-0C2C161B-76C7-4D14-87A1-2364EF731ECD" target="contentwin">15.4.3</a> ， <a href="using-consolidated-database-replay.html#GUID-CC592BD9-1FBE-46BA-88DD-ABB191C93EAB" target="contentwin">15.4.3.1</a></span></li>
                           <li class="index-term">节省<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-40B753EE-A8E0-4C58-AF63-70B23FBF73A6" target="contentwin">15.4.3.4</a></span></li>
                           <li class="index-term">安排订单<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">添加<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-CB0EBAEF-AE24-4EFA-A3F1-27C2479B3A73" target="contentwin">15.4.3.3</a></span></li>
                                 <li class="index-term">删除<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-CB0EBAEF-AE24-4EFA-A3F1-27C2479B3A73" target="contentwin">15.4.3.3</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">工作量捕获<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">添加<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-5D8972FE-DCB0-4CE4-A930-28E211387ECE" target="contentwin">15.4.3.2</a></span></li>
                                 <li class="index-term">删除<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-5D8972FE-DCB0-4CE4-A930-28E211387ECE" target="contentwin">15.4.3.2</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="S"></a><hr>
                  <h2>小号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">安排订单<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-03A418A1-2FB3-43FE-AC82-C9703C3224EA" target="contentwin">15.2.4.1.2</a></span></li>
                           <li class="index-term">观看<span class="index-term-targets"><a href="using-consolidated-database-replay.html#GUID-CB0EBAEF-AE24-4EFA-A3F1-27C2479B3A73" target="contentwin">15.4.3.3</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SPA快速检查<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-0486123F-00B5-49CD-BD24-0A131A231FCF" target="contentwin">7.1</a></span></li>
                           <li class="index-term">指定默认值<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-12C92B40-7A82-441C-9F06-AACDC0D1B933" target="contentwin">7.2</a></span></li>
                           <li class="index-term">使用<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-484DA245-E8E4-4356-84AD-A5D6A2F948C3" target="contentwin">7</a></span></li>
                           <li class="index-term">验证初始化参数更改<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-DA29396D-E5DD-4D93-9E2E-02D12F55DBB1" target="contentwin">7.3</a></span></li>
                           <li class="index-term">验证关键SQL配置文件<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-9BA3115B-C3AB-4FE1-BE69-2609284B031E" target="contentwin">7.5</a></span></li>
                           <li class="index-term">验证挂起的优化器统计信息<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-363B721D-F078-466E-B5F3-E0B61CF05B3C" target="contentwin">7.4</a></span></li>
                           <li class="index-term">验证统计结果<span class="index-term-targets"><a href="using-spa-quick-check.html#GUID-D52F9E39-EBCB-4DB4-BD4B-4BB16EC3C152" target="contentwin">7.6</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL性能分析器<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-F2920E05-3680-4699-B074-92DBEF682B70" target="contentwin">1.1</a></span></li>
                           <li class="index-term">比较执行计划<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1" target="contentwin">3.3.1</a></span></li>
                           <li class="index-term">比较性能<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-BA40A195-CB93-459E-B365-BFB2BA40BD30" target="contentwin">6.2.1</a> ， <a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                           <li class="index-term">配置调用返回的日期<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-7C742DB2-A1AB-44FC-8709-BC323336505B" target="contentwin">3.3.5</a></span></li>
                           <li class="index-term">配置任务<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-F8BBF7BE-382C-4EF8-B074-F39A74D011DC" target="contentwin">3.3</a></span></li>
                           <li class="index-term">配置并行度<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F" target="contentwin">3.3.7</a></span></li>
                           <li class="index-term">配置要获取的行数<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-952CD60A-6673-468E-BE87-ABC0E41D1201" target="contentwin">3.3.6</a></span></li>
                           <li class="index-term">配置触发器执行<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960" target="contentwin">3.3.4</a></span></li>
                           <li class="index-term">创建任务<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63" target="contentwin">3</a> ， <a href="creating-an-analysis-task.html#GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C" target="contentwin">3.1</a> ， <a href="creating-an-analysis-task.html#GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA" target="contentwin">3.2</a></span></li>
                           <li class="index-term">执行SQL工作量<span class="index-term-targets"><a href="creating-a-pre-change-sql-trial.html#GUID-377E9D3B-3B20-4C18-A631-C04D164891FD" target="contentwin">4.1</a> ， <a href="creating-a-pre-change-sql-trial.html#GUID-93D5C8A9-7E85-4467-B3E4-323B1732BA5D" target="contentwin">4.2</a></span></li>
                           <li class="index-term">的变化之后执行SQL工作量<span class="index-term-targets"><a href="creating-a-post-change-sql-trial.html#GUID-8848FA22-FDEB-4509-B92C-0251125741D2" target="contentwin">5.1</a> ， <a href="creating-a-post-change-sql-trial.html#GUID-0C96536D-8129-4794-8527-1AA9FD240E2C" target="contentwin">5.2</a></span></li>
                           <li class="index-term">初始环境<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">建立<span class="index-term-targets"><a href="creating-a-pre-change-sql-trial.html#GUID-34F13B73-7FFA-4E5E-862E-2D38128ED582" target="contentwin">4</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">输入源<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a></span></li>
                           <li class="index-term">做出改变<span class="index-term-targets"><a href="creating-a-post-change-sql-trial.html#GUID-CE3A1060-2BD8-4EA9-81F8-E101CD9AD9D5" target="contentwin">5</a></span></li>
                           <li class="index-term">方法<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-860FC707-B281-4D81-8B43-1E3857194A72" target="contentwin">2</a></span></li>
                           <li class="index-term">监测<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-88737A1B-A21D-437A-AA8B-8D86B2048A77" target="contentwin">6.2.7</a></span></li>
                           <li class="index-term">性能数据<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">收集更新后的第<span class="index-term-targets"><a href="creating-a-post-change-sql-trial.html#GUID-CE3A1060-2BD8-4EA9-81F8-E101CD9AD9D5" target="contentwin">5</a></span>版</li>
                                 <li class="index-term">收集更改前版本<span class="index-term-targets"><a href="creating-a-pre-change-sql-trial.html#GUID-34F13B73-7FFA-4E5E-862E-2D38128ED582" target="contentwin">4</a></span></li>
                                 <li class="index-term">比较<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-848B84A7-CB08-4728-9E3A-CBDD70E89E63" target="contentwin">6</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">远程测试执行<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-5B437942-8CF6-4F6C-864B-996BB61B4C26" target="contentwin">8.1.4</a> ， <a href="testing-a-database-upgrade.html#GUID-8C91E358-5D93-4B6C-861F-50D506B621AE" target="contentwin">8.2.1</a></span></li>
                           <li class="index-term">报告<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-F07105CA-0DFA-4102-A8FE-1C11AD201528" target="contentwin">2.7</a></span></li>
                           <li class="index-term">建立测试系统<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-15E99CE8-282C-4A7E-BD3B-B7C2B93DE0C1" target="contentwin">2.2</a></span></li>
                           <li class="index-term">SQL性能分析器报告<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">有效报告<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-9C252273-EF17-4342-A7B4-D44C03F9D697" target="contentwin">6.1.2.4</a></span></li>
                                 <li class="index-term">一般信息<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-0266EC0E-CEE1-4EF7-96F2-FFA729E6D97C" target="contentwin">6.1.2.1</a> ， <a href="comparing-sql-trials.html#GUID-3216D236-0ACD-4A6E-AE67-9990F29FCA0E" target="contentwin">6.2.2.1</a></span></li>
                                 <li class="index-term">全球统计<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-A35579C8-3065-49C7-926D-7349817B9D3B" target="contentwin">6.1.2.2</a></span></li>
                                 <li class="index-term">全球统计细节<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-50D7F38B-05D2-42C9-9C80-D5A0AC026695" target="contentwin">6.1.2.3</a></span></li>
                                 <li class="index-term">结果细节<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-42B29CF3-8A16-4025-9E27-085C5FFDF88D" target="contentwin">6.2.2.3</a></span></li>
                                 <li class="index-term">结果摘要<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-31322F60-DF07-423F-B439-1B79F84DE73B" target="contentwin">6.2.2.2</a></span></li>
                                 <li class="index-term">回顾<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-98608C0D-8BA8-4F10-94D8-3AE987087CBF" target="contentwin">6.1.2</a> ， <a href="comparing-sql-trials.html#GUID-1B56ACA0-7C76-4963-B645-E90FB1968840" target="contentwin">6.2.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">SQL结果集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">验证<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E" target="contentwin">3.3.8</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">SQL调优集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">选择<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-9EF13018-5EDB-4B60-85F8-187DF25EECFF" target="contentwin">2.3</a> ， <a href="creating-an-analysis-task.html#GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63" target="contentwin">3</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">SQL工作量<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">捕获<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4" target="contentwin">2.1</a></span></li>
                                 <li class="index-term">执行<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-310A0AA6-38C9-49A1-97C1-9BED682E654A" target="contentwin">2.4</a> ， <a href="introduction-to-sql-performance-analyzer.html#GUID-7BE65E91-0C7B-4740-8114-4DAC76CDDB28" target="contentwin">2.6</a></span></li>
                                 <li class="index-term">运输<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-15E99CE8-282C-4A7E-BD3B-B7C2B93DE0C1" target="contentwin">2.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">制度变迁<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">制作<span class="index-term-targets"><a href="creating-a-post-change-sql-trial.html#GUID-CE3A1060-2BD8-4EA9-81F8-E101CD9AD9D5" target="contentwin">5</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">任务<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">创建<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">用法<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-F2920E05-3680-4699-B074-92DBEF682B70" target="contentwin">1.1</a></span></li>
                           <li class="index-term">使用<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-860FC707-B281-4D81-8B43-1E3857194A72" target="contentwin">2</a></span></li>
                           <li class="index-term">工作流程<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-860FC707-B281-4D81-8B43-1E3857194A72" target="contentwin">2</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">Exadata仿真<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3" target="contentwin">3.1.3</a></span></li>
                                 <li class="index-term">指导<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D" target="contentwin">3.1.4</a></span></li>
                                 <li class="index-term">优化器统计<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-F28593A6-6688-4574-ACEB-DB2550813965" target="contentwin">3.1.2</a></span></li>
                                 <li class="index-term">参数变化<span class="index-term-targets"><a href="creating-an-analysis-task.html#GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD" target="contentwin">3.1.1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">SQL性能分析器快速检查<span class="index-term-targets"></span><ul class="see">
                           <li class="see"><span class="see-label">请参阅：</span> SPA快速检查</li>
                        </ul>
                     </li>
                     <li class="index-term">SQL计划基准<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-48F67DD6-70B6-49CC-B4B3-72F2D80E6DDD" target="contentwin">6.2.6</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL语句<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">倒退<span class="index-term-targets"><a href="introduction-to-oracle-database-testing.html#GUID-F2920E05-3680-4699-B074-92DBEF682B70" target="contentwin">1.1</a> ， <a href="introduction-to-sql-performance-analyzer.html#GUID-9D5A985E-0BB0-43FA-955A-599B2E6A58AA" target="contentwin">2.8</a> ， <a href="comparing-sql-trials.html#GUID-A86879DB-BB8B-4F97-91BF-12CB045932C0" target="contentwin">6.1.3</a> ， <a href="comparing-sql-trials.html#GUID-B85471DE-CC06-4E02-AFA6-AD207D94C8C8" target="contentwin">6.2.4</a> ， <a href="comparing-sql-trials.html#GUID-0B629FA1-FF45-44D0-BB2D-28FF762BC102" target="contentwin">6.2.5</a> ， <a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a> ， <a href="testing-a-database-upgrade.html#GUID-DAF2B96B-20A0-408D-BDD7-364AC1113614" target="contentwin">8.3</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL跟踪<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-216BB723-4FC6-4AD6-A641-79BE9AD9F819" target="contentwin">8.1.1</a></span></li>
                           <li class="index-term">使<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-216BB723-4FC6-4AD6-A641-79BE9AD9F819" target="contentwin">8.1.1</a></span></li>
                           <li class="index-term">跟踪级别<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-216BB723-4FC6-4AD6-A641-79BE9AD9F819" target="contentwin">8.1.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL跟踪文件<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-216BB723-4FC6-4AD6-A641-79BE9AD9F819" target="contentwin">8.1.1</a></span></li>
                           <li class="index-term">移动<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-216BB723-4FC6-4AD6-A641-79BE9AD9F819" target="contentwin">8.1.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL试验<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-9EF13018-5EDB-4B60-85F8-187DF25EECFF" target="contentwin">2.3</a> ， <a href="introduction-to-sql-performance-analyzer.html#GUID-310A0AA6-38C9-49A1-97C1-9BED682E654A" target="contentwin">2.4</a></span></li>
                           <li class="index-term">建造<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">升级后的版本<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-5B437942-8CF6-4F6C-864B-996BB61B4C26" target="contentwin">8.1.4</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                                 <li class="index-term">升级前的版本<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-C0CE4A85-70A6-40F7-A6EB-83612EBA8916" target="contentwin">8.1.4.2</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a> ， <a href="testing-a-database-upgrade.html#GUID-37F2F22F-2303-4CF6-BC29-74B8C5D80431" target="contentwin">8.2.1.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">比较<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-B9A39A45-935B-47B6-A34C-6D0D47BC91F3" target="contentwin">6.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SQL调优集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="introduction-to-sql-performance-analyzer.html#GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4" target="contentwin">2.1</a></span></li>
                           <li class="index-term">建筑<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-E6298851-9BF4-4B96-8F93-D5483278F8DA" target="contentwin">8.1.3</a></span></li>
                           <li class="index-term">比较<span class="index-term-targets"><a href="comparing-sql-trials.html#GUID-F3DC6B55-4070-4F2F-AB63-DFEE8AFEDA47" target="contentwin">6.2.3</a></span></li>
                           <li class="index-term">建设<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a></span></li>
                           <li class="index-term">转换<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="U"></a><hr>
                  <h2>ü</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">升级环境<span class="index-term-targets"><a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" target="contentwin">8.1</a> ， <a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" target="contentwin">8.2</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="W"></a><hr>
                  <h2>w ^</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">工作负载分析器<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="preprocessing-a-database-workload.html#GUID-D47738A7-4BBA-48A4-9BBB-BD104580CEB7" target="contentwin">11.2.1</a></span></li>
                           <li class="index-term">运行<span class="index-term-targets"><a href="preprocessing-a-database-workload.html#GUID-D47738A7-4BBA-48A4-9BBB-BD104580CEB7" target="contentwin">11.2.1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">工作量情报<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A" target="contentwin">14.1</a> ， <a href="using-workload-intelligence.html#GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" target="contentwin">14.1.1</a></span></li>
                           <li class="index-term">BuildModel程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">选项<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" target="contentwin">14.2.3</a></span></li>
                                 <li class="index-term">语法<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" target="contentwin">14.2.3</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">创建数据库用户<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" target="contentwin">14.2.1</a></span></li>
                           <li class="index-term">创造一份工作<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" target="contentwin">14.2.2</a></span></li>
                           <li class="index-term">创建工作负载模型<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" target="contentwin">14.2.3</a></span></li>
                           <li class="index-term">FindPatterns程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" target="contentwin">14.2.4</a></span></li>
                                 <li class="index-term">备选方案<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" target="contentwin">14.2.4</a></span></li>
                                 <li class="index-term">语法<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" target="contentwin">14.2.4</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">GenerateReport程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" target="contentwin">14.2.5</a></span></li>
                                 <li class="index-term">选项<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" target="contentwin">14.2.5</a></span></li>
                                 <li class="index-term">语法<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" target="contentwin">14.2.5</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">生成报告<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" target="contentwin">14.2.5</a></span></li>
                           <li class="index-term">识别模式<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" target="contentwin">14.2.4</a></span></li>
                           <li class="index-term">LoadInfo程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" target="contentwin">14.2.2</a></span></li>
                                 <li class="index-term">选项<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" target="contentwin">14.2.2</a></span></li>
                                 <li class="index-term">语法<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" target="contentwin">14.2.2</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">模式<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" target="contentwin">14.1.1</a></span></li>
                           <li class="index-term">样本场景<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-00E9BCAB-72F0-4B0D-A406-1E0FD85A29AE" target="contentwin">14.3</a></span></li>
                           <li class="index-term">模板<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" target="contentwin">14.1.1</a></span></li>
                           <li class="index-term">使用<span class="index-term-targets"><a href="using-workload-intelligence.html#GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95" target="contentwin">14.2</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01659.CTX_ENTITY-package.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_ENTITY包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_DOC-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_OUTPUT-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_DOC-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_OUTPUT-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_ENTITY包</li>
            </ol>
            <a id="GUID-A53157EA-2B70-465C-9C2E-D760CD2A3D5A" name="GUID-A53157EA-2B70-465C-9C2E-D760CD2A3D5A"></a><a id="CCREF9753"></a>
            
            <h2 id="CCREF-GUID-A53157EA-2B70-465C-9C2E-D760CD2A3D5A" class="sect2"><span class="enumeration_chapter">10</span> CTX_ENTITY包</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">CTX_ENTITY</code> PL / SQL <a id="d109033e65" class="indexterm-anchor"></a>包用于定位单词和短语并将其分类为类别，例如人或公司。
               </p>
               <p><code class="codeph">CTX_ENTITY</code>包含以下存储过程和函数。
               </p>
               <div class="tblformalwide" id="GUID-A53157EA-2B70-465C-9C2E-D760CD2A3D5A__GUID-73462C29-BE49-45F8-93FD-B4892B6AB998">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="CTX_ENTITY" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="38%" id="d109033e80">名称</th>
                           <th align="left" valign="bottom" width="62%" id="d109033e83">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e88" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55">ADD_EXTRACT_RULE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e88 d109033e83 ">
                              <p>将单个提取规则添加到提取策略。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e97" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293">ADD_STOP_ENTITY</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e97 d109033e83 ">
                              <p>将某些实体提及或实体类型标记为不提取。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e106" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e106 d109033e83 ">
                              <p>编译将提取规则添加到提取策略中。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e115" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488">CREATE_EXTRACT_POLICY</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e115 d109033e83 ">
                              <p>创建要使用的提取策略。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e124" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-07C91389-E683-4F64-B844-7DC59F113648">DROP_EXTRACT_POLICY</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e124 d109033e83 ">
                              <p>删除提取政策。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e133" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A">提取</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e133 d109033e83 ">
                              <p>生成描述输入文档中找到的实体的XML文档。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e142" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0">REMOVE_EXTRACT_RULE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e142 d109033e83 ">
                              <p>从提取策略中删除单个提取规则。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d109033e151" headers="d109033e80 ">
                              <p><a href="CTX_ENTITY-package.html#GUID-3F76E25B-6843-4573-8CC2-14779CBA736B">REMOVE_STOP_ENTITY</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d109033e151 d109033e83 ">
                              <p>从提取策略中删除停止实体。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnote" id="GUID-A53157EA-2B70-465C-9C2E-D760CD2A3D5A__GUID-E0E1DBE2-D5AC-4086-8FAA-AE84438730F4">
                  <p class="notep1">注意：</p>
                  <p><code class="codeph">CTX_ENTITY</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                  </p>
               </div>
            </div><a id="CCREF24048"></a><a id="CCREF24047"></a><div class="props_rev_3"><a id="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55" name="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55"></a><h3 id="CCREF-GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55" class="sect3"><span class="enumeration_section">10.1</span> ADD_EXTRACT_RULE</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">ADD_EXTRACT_RULE</code>过程添加单个提取规则以提取策略。Invokers将规则添加到他们自己的提取策略中。提取规则具有句子范围。除规则表达式中的实体类型和规则运算符外，提取规则必须区分大小写。规则添加顺序并不重要。在<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>之前， <code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>规则将<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>执行<code class="codeph"><a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">CTX_ENTITY. COMPILE</a></code> 。此过程发出提交。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-9406D983-E816-4AA3-8725-E018311B47EC">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.ADD_EXTRACT_RULE（policy_name IN VARCHAR2，rule_id IN INTEGER，extraction_rule IN VARCHAR2）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-940220E7-1F04-4A0D-981C-058F0A90624B"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定策略名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-00073533-12BD-4527-A8ED-91CB79D68F82"><!-- --></a> rule_id</dt>
                        <dd>
                           <p>在提取策略中指定唯一的规则ID。规则ID必须大于0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-EB578396-5D9A-4DE9-9844-056E098E03AE"><!-- --></a> extraction_rule</dt>
                        <dd>
                           <p>XML格式的规则文本指定要提取的语言，表达式和实体。规则文本遵循XML模式，如下所示：</p><pre class="oac_no_warn" dir="ltr">&lt;xsd：schema xmlns：xsd =“http://www.w3.org/2001/XMLSchema”&gt; &lt;xsd：element name =“rule”&gt; &lt;xsd：sequence&gt; &lt;xsd：element name =“expression”type = “xsd：string”/&gt; &lt;xsd：complexType&gt; &lt;xsd：attribute name =“refid”type =“xsd：positiveInteger”/&gt; &lt;/ xsd：complexType&gt; &lt;xsd：element name =“comments type =”xsd：string “default =”\ 0“/&gt; &lt;/ xsd：sequence&gt; &lt;/ xsd：attribute name =”language“type =”xsd：string“default =”ALL“/&gt; &lt;/ xsd：element&gt; &lt;/ xsd：schema &gt;</pre><p>哪里：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>规则标记的language属性指定规则的应用语言。该规则仅适用于具有指定语言的文档。如果规则要匹配所有文档，则可以省略language属性，或将其设置为“ALL”。</p>
                              </li>
                              <li>
                                 <p>expression标签包含将在匹配中使用的posix正则表达式。</p>
                              </li>
                              <li>
                                 <p>comments标记允许用户将任何注释与此用户规则相关联。</p>
                              </li>
                              <li>
                                 <p>type标签将提取的实体文本分配给给定的实体类型。type标签的<code class="codeph">refid</code>属性指定正则表达式中的哪个反向引用对应于实际实体。实体类型可以是Oracle提供的类型之一，如<a href="CTX_ENTITY-package.html#GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__BEHCFADH" title="提供的实体类型">表10-1中</a>所列，也可以是用户定义的类型，必须以字母“x”为前缀。
                                 </p>
                              </li>
                           </ul>
                           <div class="tblformal" id="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__BEHCFADH">
                              <p class="titleintable">表10-1提供的实体类型</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="提供的实体类型" width="90%" border="1" summary="Supplied Entity Types" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d109033e300">提供的实体类型</th>
                                       <th align="left" valign="bottom" width="33%" id="d109033e303">说明</th>
                                       <th align="left" valign="bottom" width="42%" id="d109033e306">例子</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e311" headers="d109033e300 ">
                                          <p>建造</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e311 d109033e303 ">
                                          <p>一个特定的建筑</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e311 d109033e306 ">
                                          <p>白色的房子</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e321" headers="d109033e300 ">
                                          <p>市</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e321 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e321 d109033e306 ">
                                          <p>纽约</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e330" headers="d109033e300 ">
                                          <p>公司</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e330 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e330 d109033e306 ">
                                          <p>甲骨文公司</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e339" headers="d109033e300 ">
                                          <p>国家</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e339 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e339 d109033e306 ">
                                          <p>美国</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e348" headers="d109033e300 ">
                                          <p>货币</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e348 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e348 d109033e306 ">
                                          <p>美元</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e357" headers="d109033e300 ">
                                          <p>日期</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e357 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e357 d109033e306 ">
                                          <p>7月4日</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e366" headers="d109033e300 ">
                                          <p>天</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e366 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e366 d109033e306 ">
                                          <p>星期一星期二</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e375" headers="d109033e300 ">
                                          <p>电子邮件地址</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e375 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e375 d109033e306 ">
                                          <p>person@example.com</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e384" headers="d109033e300 ">
                                          <p>geo_political</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e384 d109033e303 ">
                                          <p>政治或战略组织</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e384 d109033e306 ">
                                          <p>联合国</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e394" headers="d109033e300 ">
                                          <p>假日</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e394 d109033e303 ">
                                          <p>国家假日的名称</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e394 d109033e306 ">
                                          <p>劳动节</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e404" headers="d109033e300 ">
                                          <p>location_other</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e404 d109033e303 ">
                                          <p>其他类型的位置</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e404 d109033e306 ">
                                          <p>大西洋</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e415" headers="d109033e300 ">
                                          <p>月</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e415 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e415 d109033e306 ">
                                          <p>六月七月</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e424" headers="d109033e300 ">
                                          <p>非营利</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e424 d109033e303 ">
                                          <p>非盈利机构</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e424 d109033e306 ">
                                          <p>红十字</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e434" headers="d109033e300 ">
                                          <p>organization_other</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e434 d109033e303 ">
                                          <p>其他类型的组织</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e434 d109033e306 ">
                                          <p>最高法院</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e444" headers="d109033e300 ">
                                          <p>百分</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e444 d109033e303 ">
                                          <p>表示为数字和％</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e444 d109033e306 ">
                                          <p>10％</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e454" headers="d109033e300 ">
                                          <p>person_jobtitle</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e454 d109033e303 ">
                                          <p>标题所指的人</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e454 d109033e306 ">
                                          <p>教授，总统</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e464" headers="d109033e300 ">
                                          <p>PERSON_NAME</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e464 d109033e303 ">
                                          <p>名称所指的人</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e464 d109033e306 ">
                                          <p>约翰·多伊</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e474" headers="d109033e300 ">
                                          <p>person_other</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e474 d109033e303 ">
                                          <p>其他类型的人</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e474 d109033e306 ">
                                          <p>其他类型的人（例如，犯罪）</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e484" headers="d109033e300 ">
                                          <p>电话号码</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e484 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e484 d109033e306 ">
                                          <p>（123）-456-7890</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e493" headers="d109033e300 ">
                                          <p>邮寄地址</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e493 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e493 d109033e306 ">
                                          <p>Redwood Shores，CA</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e502" headers="d109033e300 ">
                                          <p>产品</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e502 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e502 d109033e306 ">
                                          <p>Oracle Text</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e511" headers="d109033e300 ">
                                          <p>区域</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e511 d109033e303 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e511 d109033e306 ">
                                          <p>北美</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e521" headers="d109033e300 ">
                                          <p>SSN</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e521 d109033e303 ">
                                          <p>社会安全号码</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e521 d109033e306 ">
                                          <p>123-45-6789</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e531" headers="d109033e300 ">
                                          <p>州</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e531 d109033e303 ">
                                          <p>一个州或省</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e531 d109033e306 ">
                                          <p>加州</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e541" headers="d109033e300 ">
                                          <p>TIME_DURATION</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e541 d109033e303 ">
                                          <p>一段时间</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e541 d109033e306 ">
                                          <p>10秒</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e551" headers="d109033e300 ">
                                          <p>狐</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e551 d109033e303 ">
                                          <p>一天中的时间</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e551 d109033e306 ">
                                          <p>8:00 AM</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e561" headers="d109033e300 ">
                                          <p>网址</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e561 d109033e303 ">
                                          <p>网址</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e561 d109033e306 ">
                                          <p>www.example.com</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d109033e571" headers="d109033e300 ">
                                          <p>邮政编码</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d109033e571 d109033e303 ">
                                          <p>邮政编码</p>
                                       </td>
                                       <td align="left" valign="top" width="42%" headers="d109033e571 d109033e306 ">
                                          <p>CA 94065</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-388662BC-37F9-4D8C-B9BC-7AA805442371">例1</p>
                     <p>以下示例显示如何定义提取规则并将其与实体提取策略相关联。以下规则定义了用于在文档中查找电子邮件地址的简单提取规则。</p><pre class="oac_no_warn" dir="ltr">开始ctx_entity.add_extract_rule（'pol1'，1，'&lt;rule&gt; &lt;expression&gt;电子邮件是（\ w + @ \ w + \。\ w +）&lt;/ expression&gt; &lt;type refid =“1”&gt; email_address &lt;/ type&gt; &lt;/排除&gt;'）;结束; /</pre><p>哪里：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>给出句子：“我的电子邮件地址是jdoe@company.com”，此提取规则将“jdoe@company.com”提取为<code class="codeph">email_address</code>类型的实体。
                           </p>
                        </li>
                        <li>
                           <p>该规则将添加到名为<code class="codeph">pol1</code>的提取策略中。
                           </p>
                        </li>
                        <li>
                           <p>添加规则ID为1的规则。</p>
                        </li>
                        <li>
                           <p>该规则的XML描述如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>规则标记的语言属性为空，因此该规则将应用于所有语言。</p>
                              </li>
                              <li>
                                 <p>表达式标记包含要在提取中使用的正则表达式。</p>
                              </li>
                              <li>
                                 <p>type元素的值和type标记的<code class="codeph">refid</code>属性指定第一个反向引用对应于实体的文本。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5AFA72B-D25A-4268-B2D4-5F0E6A1EFB55__GUID-3865C601-29BA-4C4B-B446-0B6E9A26C087">例2</p>
                     <p>以下规则定义了用于在文档中查找电话号码的简单提取规则：</p><pre class="oac_no_warn" dir="ltr">开始ctx_entity.add_extract_rule（'pol1'，2，'&lt;rule language =“english”&gt; &lt;expression&gt;（\（d {3} \）\ d {3}  -  \ d {3}  -  \ d {4}） &lt;/ expression&gt; &lt;comments&gt;电话号码规则&lt;/ comments&gt; &lt;type refid =“1”&gt; email_address &lt;/ type&gt; &lt;/ rule&gt;'; end; /</pre><p>哪里：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>给出句子：“我可以在（123）456-7890联系”，该提取规则将提取“（123）456-7890”作为<code class="codeph">phone_number</code>类型的实体。
                           </p>
                        </li>
                        <li>
                           <p>该规则将添加到名为<code class="codeph">pol1</code>的提取策略中。
                           </p>
                        </li>
                        <li>
                           <p>添加规则ID为2的规则。</p>
                        </li>
                        <li>
                           <p>规则的XML描述如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>规则标记的language属性设置为english，因此该规则仅适用于英文文档。</p>
                              </li>
                              <li>
                                 <p>表达式标记包含要在提取中使用的正则表达式。</p>
                              </li>
                              <li>
                                 <p>type元素的值和type标记的<code class="codeph">refid</code>属性指定第一个反向引用对应于实体的文本。
                                 </p>
                              </li>
                              <li>
                                 <p>解释性评论与此规则相关。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24049"></a><div class="sect2"><a id="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293" name="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293"></a><h3 id="CCREF-GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293" class="sect3"><span class="enumeration_section">10.2</span> ADD_STOP_ENTITY</h3>
               <div>
                  <p>此过程用于将某些实体提及或实体类型标记为不提取。Invokers将停止实体添加到他们自己的提取策略中。它在<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>之后<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>运行。<code class="codeph">entity_name</code>或<code class="codeph">entity_type</code>可以是<code class="codeph">NULL</code> ，但不能同时为两者。如果一个停止实体是另一个实体的子集，它将在<code class="codeph">CTX_ENTITY.COMPILE</code>之后被标记为子集，而不是在提取中使用。此过程发出提交。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-FC3E0C6C-6FC9-4C30-A48E-72CA8E60057A">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.ADD_STOP_ENTITY（policy_name IN VARCHAR2，entity_name IN INTEGER，entity_type IN VARCHAR2 DEFAULT NULL，注释IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-3AB03622-E66D-4A91-859C-8455B5FEFFE2"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定要添加的停止实体的策略名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-2C6AB306-D5E2-4D6A-A900-91530EABD37B"><!-- --></a> entity_name</dt>
                        <dd>
                           <p>指定要列为停止实体的实体名称。如果<code class="codeph">entity_type</code>为<code class="codeph">NULL</code> ，则使用此<code class="codeph">entity_name</code>所有提及都将列为停止实体。它区分大小写。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-6C0CCAEC-719E-4E98-953C-26BD18370A4D"><!-- --></a> entity_type</dt>
                        <dd>
                           <p>如果<code class="codeph">entity_name</code>为<code class="codeph">NULL</code> ，则将指定要作为停止实体列出的整个实体类型。如果<code class="codeph">entity_name</code>不为<code class="codeph">NULL</code> ，则仅指定提及<code class="codeph">&lt;entity_type, entity_name&gt;</code>作为停止实体。它不区分大小写。最大字节长度为4000字节。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-10C6674D-1B0A-4D78-BC8D-7119170BEDEE"><!-- --></a>评论</dt>
                        <dd>
                           <p>最大字节长度为4000字节。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-573EC5DD-2AEE-41FB-ADE7-1F1D7D9B76D6">例</p>
                     <p>以下示例添加了对应于所有人的停止实体。编译后，提取不会报告实体类型<code class="codeph">person</code>任何提及。
                     </p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.add_stop_entity（'pol1'，NULL，'person'）;</pre><p>以下示例添加了与<code class="codeph">&lt;'person', 'john doe'&gt;</code>对应的停止实体。编译后，提取不会报告对<code class="codeph">&lt;'person', 'john doe'&gt;</code>任何提及。此停止实体实际上是添加的第一个停止实体的子集。它将在<code class="codeph"><a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a></code>视图中标记为子集，并且不会在提取中使用。
                     </p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.add_stop_entity（'pol1'，'john doe'，'person'）;</pre><p>以下示例添加了一个对应于<code class="codeph">ford</code>所有提及的停止实体。编译后，无论提及的实体类型如何，提取都不会报告实体<code class="codeph">ford</code>任何提及。例如，如果一个规则匹配<code class="codeph">ford</code>的人，提取将不会报告这场比赛。如果规则与公司匹配，则提取将再次不报告此匹配。
                     </p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.add_stop_entity（'pol1'，'ford'，NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293__GUID-6D47E6CA-3192-4D16-89EB-C07B2BA3C06F">相关话题</p>
                     <p><span class="q">“ <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">编译</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24050"></a><div class="sect2"><a id="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925" name="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925"></a><h3 id="CCREF-GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925" class="sect3"><span class="enumeration_section">10.3</span>编制</h3>
               <div>
                  <p>此过程将添加的提取规则编译到提取策略中。它还可用于将添加的停止实体编译为提取策略。如果用户已在其策略中添加任何规则或停止实体，则必须调用此过程。</p>
                  <p>Invokers编译规则并将实体停止在他们自己的提取策略中。用户可以选择编译添加的规则，添加停止实体或两者。</p>
                  <p>编译后， <code class="codeph"><a href="oracle-text-views.html#GUID-27D2A587-0084-433C-B853-674E5F7BD18C">CTX_USER_EXTRACT_RULES</a></code>和<code class="codeph"><a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a></code>视图将显示实体提取中使用的规则和停止实体。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-12278EE3-7355-4A5D-83B7-E1EBE4ABBC1B">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.COMPILE（policy_name IN VARCHAR2，compile_choice IN NUMBER DEFAULT COMPILE_ALL，锁定IN NUMBER DEFAULT LOCK_NOWAIT_ERROR）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-6CCAF675-6E98-488B-AE14-998271DA5B57"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定要编译的策略名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-1AAC01CD-56B3-4784-BC8F-809130CDCDE6"><!-- --></a> compile_choice</dt>
                        <dd>
                           <p>指定要列为停止实体的实体名称。如果<code class="codeph">entity_type</code>为<code class="codeph">NULL</code> ，则使用此<code class="codeph">entity_name</code>所有提及都将列为停止实体。它区分大小写。
                           </p>
                           <p>选项包括<code class="codeph">COMPILE_ALL</code> ， <code class="codeph">COMPILE_RULES</code>和<code class="codeph">COMPILE_STOP_ENTITIES</code> 。 <code class="codeph">COMPILE_ALL</code>编译规则和停止实体。<code class="codeph">COMPILE_RULES</code>仅编译规则。<code class="codeph">COMPILE_STOP_ENTITIES</code>仅编译停止实体。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-9B8AB923-A269-4352-9CED-790984280A9D"><!-- --></a>锁定</dt>
                        <dd>
                           <p>最大字节长度为4000字节。配置<code class="codeph">COMPILE</code>如何处理另一个<code class="codeph">COMPILE</code>已在同一策略上运行的情况。
                           </p>
                           <p>锁定选项包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CTX_ENTITY.LOCK_WAIT</code></p>
                                 <p>如果另一个编译正在运行，请等待正在运行的编译完成，然后开始编译。（如果无法获得锁定，它将永远等待并忽略maxtime设置。）。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_ENTITY.LOCK_NOWAIT</code></p>
                                 <p>如果正在运行另一个编译，则立即返回而不会出错</p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_ENTITY.LOCK_NOWAIT_ERROR</code></p>
                                 <p>如果正在运行另一个同步，则会引发错误“DRG-51313：等待DML或优化锁定时超时”。</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-82674350-4ED7-49FA-8760-05527D50EB68">例</p>
                     <p>以下示例使用默认设置编译策略：</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.compile（'pol1'）;</pre><p>以下示例仅编译策略的停止实体：</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.compile（'pol1'，CTX_ENTITY.COMPILE_STOP_ENTITIES）;</pre><p>以下示例编译规则和停止实体。如果存在锁，则函数立即返回，但不会引发错误。</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.compile（'pol1'，CTX_ENTITY.COMPILE_ALL，CTX_ENTITY.LOCK_NOWAIT）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925__GUID-D5ADCD8E-E474-4C45-9555-03C011C9A263">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-views.html#GUID-27D2A587-0084-433C-B853-674E5F7BD18C">CTX_USER_EXTRACT_RULES</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24051"></a><div class="sect2"><a id="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488" name="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488"></a><h3 id="CCREF-GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488" class="sect3"><span class="enumeration_section">10.4</span> CREATE_EXTRACT_POLICY</h3>
               <div>
                  <p><code class="codeph">CREATE_EXTRACT_POLICY</code>过程创建要使用的提取策略。此策略只能由策略所有者使用。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-EE009027-2EBE-43EA-B17C-3C029F10ED33">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.CREATE_EXTRACT_POLICY（policy_name IN VARCHAR2，lexer IN VARCHAR2 DEFAULT NULL，include_supplied_rules IN BOOLEAN DEFAULT TRUE，include_supplied_dictionary IN BOOLEAN DEFAULT TRUE）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-0C05E211-7DC3-4C06-82B0-E86853A53473"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定新提取策略的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-E3C32839-99CF-4D8E-A168-79A3B76DDD96"><!-- --></a>词法分析器</dt>
                        <dd>
                           <p>指定词法分析器首选项的名称。仅支持<a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a> 。如果未指定，将使用<code class="codeph"><a href="oracle-text-indexing-elements.html#GUID-A5BDF97F-54E7-46D2-BC49-8CA9933B5E8A">CTXSYS.DEFAULT_EXTRACT_LEXER</a></code> 。不允许使用<code class="codeph">index_stems</code>和<code class="codeph">deriv_stems</code>属性。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-865B9659-1856-491B-BA68-19D9C7EA49D7"><!-- --></a> include_supplied_rules</dt>
                        <dd>
                           <p>指定Oracle提供的规则是否包含在实体提取中。如果为false，将关闭自动首字母缩略词解析。默认值为<code class="codeph">true</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-12537DB1-7B2E-416C-9806-76D306D960E0"><!-- --></a> include_supplied_dictionary</dt>
                        <dd>
                           <p>指定Oracle提供的字典是否包含在实体提取中。默认值为<code class="codeph">true</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-D4A4F271-EBD9-4FA4-B845-368BA60A6287">例子</p>
                     <p>以下示例使用默认设置创建提取策略。默认情况下，启用Oracle提供的功能，例如规则和字典。</p><pre class="oac_no_warn" dir="ltr">exec CTX_ENTITY.CREATE_EXTRACT_POLICY（'pol1'）;</pre><p>以下示例创建一个明确指定某些参数的提取策略。它指定要用作<code class="codeph">mylex</code>的词法分析器，它必须是<a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a>首选项。它还包括Oracle提供的规则，但禁用Oracle提供的字典。
                     </p><pre class="oac_no_warn" dir="ltr">exec CTX_ENTITY.CREATE_EXTRACT_POLICY（'pol2'，'mylex'，TRUE，FALSE）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C8CD4613-20FC-4383-BA76-8DCB49DBE488__GUID-536AC0D5-80D0-4FC1-8C16-2F2A088101F1">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-A5BDF97F-54E7-46D2-BC49-8CA9933B5E8A">CTXSYS.DEFAULT_EXTRACT_LEXER</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24052"></a><div class="sect2"><a id="GUID-07C91389-E683-4F64-B844-7DC59F113648" name="GUID-07C91389-E683-4F64-B844-7DC59F113648"></a><h3 id="CCREF-GUID-07C91389-E683-4F64-B844-7DC59F113648" class="sect3"><span class="enumeration_section">10.5</span> DROP_EXTRACT_POLICY</h3>
               <div>
                  <p><code class="codeph">DROP_EXTRACT_POLICY</code>过程删除提取策略。这些策略只能由策略所有者删除。此过程发出提交。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-07C91389-E683-4F64-B844-7DC59F113648__GUID-50B7B794-6E0C-4385-96DF-A9E20485EA7C">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.DROP_EXTRACT_POLICY（policy_name IN VARCHAR2）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-07C91389-E683-4F64-B844-7DC59F113648__GUID-0A55D95B-D29C-483F-8DBF-48BF2C75F45B"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定要删除的提取策略的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07C91389-E683-4F64-B844-7DC59F113648__GUID-D8A2BB74-20FB-4E4B-A63E-4C58E64B5DDB">例</p>
                     <p>以下示例删除了提取策略<code class="codeph">pol2</code> ：</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.drop_extract_policy（'pol2'）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24053"></a><div class="sect2"><a id="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A" name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A"></a><h3 id="CCREF-GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A" class="sect3"><span class="enumeration_section">10.6</span>提取</h3>
               <div>
                  <p><code class="codeph">EXTRACT</code>过程在给定文档上运行实体提取，并生成描述文档中找到的实体的XML文档。XML文档将为文档中的实体提供实体文本，类型和位置。提取将使用给定提取策略中定义的设置（规则，停止实体和字典）。
                  </p>
                  <p>结果中的实体类型名称将为大写。Invokers可以使用自己的提取策略运行提取。</p>
                  <p>在执行之前，您必须发出<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-8D4BAA55-97E4-45E7-BF1D-F6E13727BC01">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.EXTRACT（policy_name IN VARCHAR2，文档IN CLOB，语言IN VARCHAR2，结果IN OUT NOCOPY CLOB，entity_type_list IN CLOB DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-37613C04-05B5-4A6D-98E9-F543897B9333"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>使用给定策略运行提取。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-536BE404-E16C-4944-B48D-A29882E0B5EB"><!-- --></a>文件</dt>
                        <dd>
                           <p>运行提取的输入文档。</p>
                           <p>如果<code class="codeph">entity_type</code>为<code class="codeph">NULL</code> ，则使用此<code class="codeph">entity_name</code>所有提及都将列为停止实体。它区分大小写。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-30B94D87-0D10-44A7-BA7C-82E6029C8F5A"><!-- --></a>语言</dt>
                        <dd>
                           <p>仅支持英语。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-F4971E23-D2C0-418A-B219-022BEEDEE81E"><!-- --></a>结果</dt>
                        <dd>
                           <p><code class="codeph">CLOB</code>包含从文档中提取的实体的XML描述。
                           </p>
                           <p>如果<code class="codeph">entity_type</code>为<code class="codeph">NULL</code> ，则使用此<code class="codeph">entity_name</code>所有提及都将列为停止实体。它区分大小写。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-F24E90CC-9B68-4DEF-A221-8DFAE8FBA99B"><!-- --></a> entity_type_list</dt>
                        <dd>
                           <p>指定提取仅考虑实体类型的子集。<code class="codeph">entity_type_list</code>是逗号分隔的列表。如果未指定<code class="codeph">entity_type_list</code> ，则实体提取将考虑所有实体类型。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-71F22AD2-6091-4AF6-A8CA-B1ADCF7D176A__GUID-F5075D80-BC09-414C-8041-C456D355F0BA">例</p>
                     <p>以下示例显示了示例文档上的实体提取结果。假设我们已经创建了一个名为<code class="codeph">pol1</code>的提取策略，并且我们给出了输入文档：</p><pre class="oac_no_warn" dir="ltr">Sam A. Schwartz退休，担任Hupplewhite INc的执行副总裁。在纽约。
</pre><p>然后，我们调用<code class="codeph">ctx_entity.extract</code>过程来生成包含此文档中的实体的XML文档。我们将结果<code class="codeph">CLOB</code>插入到一个名为<code class="codeph">entities</code>的表中，以供将来查看。
                     </p><pre class="oac_no_warn" dir="ltr">宣布我的结果;开始从文档中选择txt到mydoc，其中id = 1; ctx_entity.extract（'p1'，mydoc，null，myresults）;插入实体值（1，myresults）;承诺;结束; /</pre><p>然后我们可以从<code class="codeph">entities</code>表中检查提取的<code class="codeph">entities</code> 。请注意，每个实体都标有其在输入文档中的位置，以及用于对实体进行分类的源。
                     </p><pre class="oac_no_warn" dir="ltr">&lt;entities&gt; &lt;entity id =“0”offset =“75”length =“8”source =“SuppliedDictionary”&gt; &lt;text&gt;纽约&lt;/ text&gt; &lt;type&gt; city &lt;/ type&gt; &lt;/ entity&gt; &lt;entity id =“1”offset =“55”length =“16”source =“SuppliedRule”&gt; &lt;text&gt; Hupplewhite Inc。&lt;/ text&gt; &lt;type&gt; company &lt;/ type&gt; &lt;/ entity&gt; &lt;entity id =“2”offset =“27”length =“24”source =“SuppliedDictionary”&gt; &lt;text&gt; Sam A. Schwartz &lt;/ text&gt; &lt;type&gt; person_name &lt;/ type&gt; &lt;/ entity&gt; &lt;entity id =“4”offset =“75” length =“8”source =“SuppliedDictionary”&gt; &lt;text&gt;纽约&lt;/ text&gt; &lt;type&gt; state &lt;/ type&gt; &lt;/ entity&gt; &lt;/ entities&gt;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24054"></a><div class="sect2"><a id="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0" name="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0"></a><h3 id="CCREF-GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0" class="sect3"><span class="enumeration_section">10.7</span> REMOVE_EXTRACT_RULE</h3>
               <div>
                  <p><code class="codeph">REMOVE_EXTRACT_RULE</code>过程在给定<code class="codeph">rule_id</code>下从指定的策略中删除提取规则。只有指定策略的所有者才能从策略中删除提取规则。删除提取规则将在运行<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>后<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0__GUID-82E93ABE-39B0-4D8A-8111-CC6863193801">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.REMOVE_EXTRACT_RULE（policy_name IN VARCHAR2，rule_id IN INTEGER）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0__GUID-8CEE18F9-E30D-4A3D-9C26-F4BF7A621C83"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>从指定的策略中删除提取规则。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0__GUID-2489484D-1FFD-4BC1-946F-C34FFDA78456"><!-- --></a> rule_id</dt>
                        <dd>
                           <p>指定要删除的提取规则的规则ID。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15C32735-3EF4-41B8-A00C-ED9B164EE3D0__GUID-83A3475F-9B7E-45CF-A1A1-10FB4CA22B88">例</p>
                     <p>以下示例从策略<code class="codeph">pol1</code>删除ID为1的提取规则：</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.remove_extract_rule（'pol1'，1）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24055"></a><div class="sect2"><a id="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B" name="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B"></a><h3 id="CCREF-GUID-3F76E25B-6843-4573-8CC2-14779CBA736B" class="sect3"><span class="enumeration_section">10.8</span> REMOVE_STOP_ENTITY</h3>
               <div>
                  <p><code class="codeph">REMOVE_STOP_ENTITY</code>过程从提取策略中删除停止实体。只有指定策略的所有者才能从策略中删除停止实体。在运行<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code>后，删除停止实体将生效<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code> 。 <code class="codeph">entity_name</code>或<code class="codeph">entity_type</code>可以为null，但不能同时为两者。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-1C5603F0-3208-435E-99BA-19D03349311F">句法</p><pre class="oac_no_warn" dir="ltr">CTX_ENTITY.REMOVE_STOP_ENTITY（policy_name IN VARCHAR2，entity_name IN INTEGER DEFAULT NULL，entity_type IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-57E634B1-9A13-4438-B7B0-04099D84D407"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>从指定的策略中删除<code class="codeph">stop_entity</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-00734BD9-E11B-46B4-AC7B-8612679927C1"><!-- --></a> entity_name</dt>
                        <dd>
                           <p>指定要从停止实体列表中删除的名称。该<code class="codeph">stop_entity</code>必须已经加入到<code class="codeph">stop_entity</code>使用列表<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293">ADD_STOP_ENTITY</a></code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-B2905239-C796-4025-8624-D1AEE71BF4ED"><!-- --></a> entity_type</dt>
                        <dd>
                           <p>指定要从停止实体列表中删除的实体类型。该<code class="codeph">stop_entity</code>必须已经使用被添加到停止实体列表<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293">ADD_STOP_ENTITY</a></code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-DAC579AD-D665-49D1-9C7B-81C99F0AB873">例</p><pre class="oac_no_warn" dir="ltr">exec ctx_entity.remove_stop_entity（'pol1'，NULL，'person_name'）;</pre><p>示例语句从策略<code class="codeph">pol1</code>删除与<code class="codeph">entity_type</code> <code class="codeph">person_name</code>所有提及相对应的stop实体。执行后，此停止实体将在<code class="codeph"><a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a></code>视图中标记为“要删除”。一旦用户运行<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code> ，删除停止实体将生效<code class="codeph">CTX_ENTITY. <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">COMPILE</a></code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F76E25B-6843-4573-8CC2-14779CBA736B__GUID-7EC45F10-94B3-4DB1-900D-96061F652AF2">相关话题</p>
                     <p><span class="q">“ <a href="CTX_ENTITY-package.html#GUID-B5E804DB-16FE-49A5-95AE-E2C07C49F925">编译</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_ENTITY-package.html#GUID-585AA5CB-6E55-4F8B-BBC0-24637A5BE293">ADD_STOP_ENTITY</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-views.html#GUID-D2429F28-A63A-42AA-B66B-187B7B62FCBE">CTX_USER_EXTRACT_STOP_ENTITIES</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01596.package-Orastream-API.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于XML C API的Orastream包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XML C API Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XML C API Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00"></meta>
      <meta name="dcterms.title" content="XML C API Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96478-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="package-Event-API.html" title="Previous" type="text/html"></link>
      <link rel="next" href="package-Range-API.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-Event-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="package-Range-API.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于XML C API的Orastream包</li>
            </ol>
            <a id="GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C" name="GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C"></a><a id="CAXML5776"></a><a id="CAXML01400"></a>
            
            <h2 id="CAXML-GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C" class="sect2"><span class="enumeration_chapter">5</span>用于XML C API的包Orastream</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">Orastream</code> API支持处理XML文档中超过64K的文本和二进制节点。
               </p>
               <p><code class="codeph">Orastream</code>使用的数据类型可在<a href="datatypes.html#GUID-B899DABC-3687-489D-964F-92A868724B8D">C</a>的数据类型中找到;它们包括<a href="datatypes.html#GUID-896B240F-F4AA-4959-A6ED-643D7629A285">oracheck</a> ， <a href="datatypes.html#GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2">oraerr</a> ， <a href="datatypes.html#GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7">oraprop_id</a> ， <a href="datatypes.html#GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619">oramemctx</a> ， <a href="datatypes.html#GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E">oraprop</a> ， <a href="datatypes.html#GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB">oraprop_t</a> ， <a href="datatypes.html#GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4">oraprop_v</a> ， <a href="datatypes.html#GUID-E165340D-045F-4909-B116-1D5D09917D5E">orastream</a>和<a href="datatypes.html#GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB">orastreamhdl</a> 。
               </p>
               <p><a href="package-Orastream-API.html#GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C__CHDJAAIJ" title="第1列列出了可能的错误代码，第2列列出了它们的描述。">表5-1</a>中描述了<code class="codeph">Orastream</code>接口的错误代码。
               </p>
               <div class="tblformal" id="GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C__CHDJAAIJ">
                  <p class="titleintable">表5-1 XML C实现的Orastream错误代码</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="XML C实现的Orastream错误代码" width="100%" border="1" summary="Column 1 lists possible error codes, and Column 2 lists their descriptions." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="52%" id="d78213e97">错误代码</th>
                           <th align="left" valign="bottom" width="48%" id="d78213e100">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e105" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_NULL_POINTER</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e105 d78213e100 ">
                              <p>遇到空指针。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e113" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_BAD_STREAM</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e113 d78213e100 ">
                              <p>无效的流对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e121" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_WRONG_DIRECTION</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e121 d78213e100 ">
                              <p>流对象是针对相反的I / O方向定义的。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e129" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_UNKNOWN_PROPERTY</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e129 d78213e100 ">
                              <p>未知的创建属性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e137" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_NO_DIRECTION</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e137 d78213e100 ">
                              <p>流的I / O方向未定义。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e145" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_BI_DIRECTION</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e145 d78213e100 ">
                              <p>流方向被错误地定义为使用两个I / O方向。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e153" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_NOT_OPEN</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e153 d78213e100 ">
                              <p>流未打开。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e161" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_WRONG_MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e161 d78213e100 ">
                              <p>为相反的字符/字节模式定义流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e169" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_CANT_OPEN</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e169 d78213e100 ">
                              <p>流无法打开。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="52%" id="d78213e177" headers="d78213e97 ">
                              <p><code class="codeph">ORASTREAM_ERR_CANT_CLOSE</code></p>
                           </td>
                           <td align="left" valign="top" width="48%" headers="d78213e177 d78213e100 ">
                              <p>流无法关闭。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p>下表中列出的<code class="codeph">Orastream</code>方法支持用于分段移动数据的单向流。流的方向和模式由在<a href="package-Orastream-API.html#GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3">OraStreamInit（）</a>方法中初始化流的参数确定。
               </p>
               <div class="tblformal" id="GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C__GUID-5B9BFD37-4266-4E29-A51B-8454E2F85C9A">
                  <p class="titleintable">表5-2 XML C实现的OraStream方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="XML C实现的OraStream方法摘要" width="100%" border="1" summary="The first column lists the function, the second column provides a brief description" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="39%" id="d78213e203">功能</th>
                           <th align="left" valign="bottom" width="61%" id="d78213e206">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e211" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D">OraStreamClose（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e211 d78213e206 ">
                              <p>关闭流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e220" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-7203477A-81E6-469C-995B-F5F1211F7B9B">OraStreamHandle（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e220 d78213e206 ">
                              <p>返回流的句柄。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e229" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3">OraStreamInit（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e229 d78213e206 ">
                              <p>初始化流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e238" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3">OraStreamIsOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e238 d78213e206 ">
                              <p>确定流是否已打开。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e247" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD">OraStreamOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e247 d78213e206 ">
                              <p>打开流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e256" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-F836B264-91F0-4B02-A77B-BB9439B026EF">OraStreamRead（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e256 d78213e206 ">
                              <p>从流中读取字节。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e265" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645">OraStreamReadable（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e265 d78213e206 ">
                              <p>确定流是否可读。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e274" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703">OraStreamReadChar（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e274 d78213e206 ">
                              <p>从流中读取字符。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e283" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F">OraStreamSid（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e283 d78213e206 ">
                              <p>设置流的SID。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e292" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5">OraStreamTerm（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e292 d78213e206 ">
                              <p>破坏流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e301" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-641D2F6E-C846-43BB-9465-5E0AA779A984">OraStreamWrite（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e301 d78213e206 ">
                              <p>将字节写入流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e311" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-90B77461-6E35-4672-8B27-149831D93A02">OraStreamWritable（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e311 d78213e206 ">
                              <p>确定流是否可写。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="39%" id="d78213e320" headers="d78213e203 ">
                              <p><a href="package-Orastream-API.html#GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F">OraStreamWriteChar（）</a></p>
                           </td>
                           <td align="left" valign="top" width="61%" headers="d78213e320 d78213e206 ">
                              <p>将字符写入流。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnotealso" id="GUID-A29A1FB7-7784-4BF6-A43F-3F879F40535C__GUID-8F90285E-0463-41EE-9B93-8C59665B679E">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../adxdk/using-XML-parser-for-C.html#ADXDK-GUID-B36E81CE-DD87-4619-B308-708175CCDD0B" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
               </div>
            </div><a id="CAXML5810"></a><a id="CAXML5809"></a><div class="props_rev_3"><a id="GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D" name="GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D"></a><h3 id="CAXML-GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D" class="sect3">OraStreamClose（）</h3>
               <div>
                  <div class="section">
                     <p>关闭<code class="codeph">orastream</code>对象。
                     </p>
                     <p>该函数用于通过调用流的“close”回调函数来关闭给定的流。</p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D__GUID-32BD9340-5BC6-4AB8-BCA4-0EB789DD19BE">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamClose（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DA56D68E-93C9-43EF-8E33-3066C32D456D__GUID-DB95BE32-8AC5-4364-B506-856FFEE55CD5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e392">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e395">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e398">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e403" headers="d78213e392 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e403 d78213e395 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e403 d78213e398 ">
                                 <p>关闭的流</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5812"></a><a id="CAXML5811"></a><div class="props_rev_3"><a id="GUID-7203477A-81E6-469C-995B-F5F1211F7B9B" name="GUID-7203477A-81E6-469C-995B-F5F1211F7B9B"></a><h3 id="CAXML-GUID-7203477A-81E6-469C-995B-F5F1211F7B9B" class="sect3">OraStreamHandle（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">orastream</code>对象的句柄。
                     </p>
                     <p>句柄包含通用指针和文件描述符。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7203477A-81E6-469C-995B-F5F1211F7B9B__GUID-23A445EE-809B-48BF-8738-DEEA51E87B62">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">orastreamhdl * OraStreamHandle（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7203477A-81E6-469C-995B-F5F1211F7B9B__GUID-7DB02B14-3121-4F96-8AB3-FA95E2F18D41">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e464">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e467">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e470">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e475" headers="d78213e464 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e475 d78213e467 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e475 d78213e470 ">
                                 <p>返回句柄的流</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5814"></a><a id="CAXML5813"></a><div class="props_rev_3"><a id="GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3" name="GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3"></a><h3 id="CAXML-GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3" class="sect3">OraStreamInit（）</h3>
               <div>
                  <div class="section">
                     <p>创建并初始化<code class="codeph">orastream</code>对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3__GUID-0B5E0F84-B7E0-4E89-A58A-DA1BAAF35E67">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">orastream * OraStreamInit（void * sctx，void * sid，oraerr * err， <span class="italic">list</span> ）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8529AD4D-D515-4BB3-B612-84D5E43784E3__GUID-149F6896-0CDE-4149-AC8B-88B6A336E5D4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e538">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e541">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e544">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e549" headers="d78213e538 "><pre class="oac_no_warn" dir="ltr">sctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e549 d78213e541 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e549 d78213e544 ">
                                 <p>输入上下文;可能是<code class="codeph">NULL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e561" headers="d78213e538 "><pre class="oac_no_warn" dir="ltr">SID</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e561 d78213e541 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e561 d78213e544 ">
                                 <p>用户定义的流上下文标识符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e571" headers="d78213e538 "><pre class="oac_no_warn" dir="ltr">呃</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e571 d78213e541 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e571 d78213e544 ">
                                 <p>错误，如果有的话。<code class="codeph">ORAERR_OK</code>表示成功，或失败的错误代码。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e584" headers="d78213e538 "><pre class="oac_no_warn" dir="ltr"><span class="italic">名单</span></pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e584 d78213e541 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e584 d78213e544 ">
                                 <p><code class="codeph">NULL</code> -terminated参数的名称 - 值对列表，用于指定新<code class="codeph">orastream</code>对象的属性。这些是：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">open</code>属性名称用于open函数，其值如下。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_OPEN_F（（*），sctx，sid，hdl，length）</pre></li>
                                    <li>
                                       <p><code class="codeph">close</code>属性名称用于close函数，其值如下。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_CLOSE_F（（*），sctx，sid，hdl）</pre></li>
                                    <li>
                                       <p><code class="codeph">read</code>属性名称用于从流中读取字节数据到缓冲区。请注意， <code class="codeph">nread</code>返回实际读取的字节数。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_READ_F（（*），sctx，sid，hdl，dest，size，start，nread，eoi）</pre></li>
                                    <li>
                                       <p><code class="codeph">write</code>属性名称用于将字节数据从缓冲区写入流。请注意， <code class="codeph">written</code>返回实际写入的字节数。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_WRITE_F（（*），sctx，sid，hdl，src，size，written）</pre></li>
                                    <li>
                                       <p><code class="codeph">read_char</code>属性名称用于从流中读取字符数据到缓冲区。请注意， <code class="codeph">nread</code>返回实际读取的字符数。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_READ_F（（*），sctx，sid，hdl，dest，size，start，nread，eoi）</pre></li>
                                    <li>
                                       <p><code class="codeph">write_char</code>属性名称用于将字符数据从缓冲区写入流。请注意， <code class="codeph">written</code>返回实际写入的字符数。
                                       </p><pre class="oac_no_warn" dir="ltr">ORASTREAM_WRITE_F（（*），sctx，sid，hdl，src，size，written）</pre></li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5816"></a><a id="CAXML5815"></a><div class="props_rev_3"><a id="GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3" name="GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3"></a><h3 id="CAXML-GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3" class="sect3">OraStreamIsOpen（）</h3>
               <div>
                  <div class="section">
                     <p>确定<code class="codeph">orastream</code>是否打开。返回<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                     <p>请注意，必须打开流才能执行读写操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3__GUID-282E1C24-6220-493B-BA6D-13A7FA6952E1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean OraStreamIsOpen（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A7B6549D-4122-4E24-9F4B-4ACBD29BE3C3__GUID-DF19623A-0AE3-45A6-B2BD-D1CCFFEF7427">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e718">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e721">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e724">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e729" headers="d78213e718 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e729 d78213e721 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e729 d78213e724 ">
                                 <p>应该为读取或写入打开的流。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5818"></a><a id="CAXML5817"></a><div class="props_rev_3"><a id="GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD" name="GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD"></a><h3 id="CAXML-GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD" class="sect3">OraStreamOpen（）</h3>
               <div>
                  <div class="section">
                     <p>打开<code class="codeph">orastream</code>对象。
                     </p>
                     <p>该函数通过调用流的“打开”回调函数来打开流。</p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD__GUID-E045B3D1-24B5-4BE6-A532-C05F13A5D5A6">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamOpen（orastream * stream，ubig_ora * length）</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4306AB63-9EBB-44D8-83A8-6C95E3DC44CD__GUID-67E2F7E3-26F6-4334-95A8-5EA9FF033312">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e795">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e798">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e801">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e806" headers="d78213e795 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e806 d78213e798 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e806 d78213e801 ">
                                 <p>打开的流</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e816" headers="d78213e795 "><pre class="oac_no_warn" dir="ltr">长度</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e816 d78213e798 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e816 d78213e801 ">
                                 <p>可选参数;不曾用过</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5820"></a><a id="CAXML5819"></a><div class="props_rev_3"><a id="GUID-F836B264-91F0-4B02-A77B-BB9439B026EF" name="GUID-F836B264-91F0-4B02-A77B-BB9439B026EF"></a><h3 id="CAXML-GUID-F836B264-91F0-4B02-A77B-BB9439B026EF" class="sect3">OraStreamRead（）</h3>
               <div>
                  <div class="section">
                     <p>从<code class="codeph">orastream</code>对象读取<code class="codeph">byte</code> s。
                     </p>
                     <p>该函数用于将数据从流中读取到指定的缓冲区中。如果到达流的末尾，它还为<code class="codeph">eoi</code>参数返回<code class="codeph">TRUE</code> 。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F836B264-91F0-4B02-A77B-BB9439B026EF__GUID-E6C4EDBC-D279-4723-AB07-193F0540D6D1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamRead（orastream * stream，oratext * dest，ubig_ora size，oratext ** start，ubig_ora * nread，ub1 * eoi）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F836B264-91F0-4B02-A77B-BB9439B026EF__GUID-4A0ECB80-F93B-41FE-A1F7-7E89F716092B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d78213e892">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e895">进出</th>
                              <th align="left" valign="bottom" width="67%" id="d78213e898">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e903" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e903 d78213e895 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e903 d78213e898 ">
                                 <p>正在读取的流</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e913" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">DEST</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e913 d78213e895 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e913 d78213e898 ">
                                 <p>目标缓冲区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e923" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">尺寸</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e923 d78213e895 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e923 d78213e898 ">
                                 <p>要读取的数据大小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e933" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">开始</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e933 d78213e895 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e933 d78213e898 ">
                                 <p>指向正在读取的数据的开始的指针</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e943" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">NREAD</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e943 d78213e895 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e943 d78213e898 ">
                                 <p>实际从流中读取的字节数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d78213e953" headers="d78213e892 "><pre class="oac_no_warn" dir="ltr">EOI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e953 d78213e895 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="67%" headers="d78213e953 d78213e898 ">
                                 <p>如果到达流的末尾，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。否则为<code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5822"></a><a id="CAXML5821"></a><div class="props_rev_3"><a id="GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645" name="GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645"></a><h3 id="CAXML-GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645" class="sect3">OraStreamReadable（）</h3>
               <div>
                  <div class="section">
                     <p>确定现有的<code class="codeph">orastream</code>对象是否可读。
                     </p>
                     <p>返回<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645__GUID-8A7EFCE7-EB76-4B4F-86FE-3F13D3FFCB77">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean OraStreamReadable（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C4A68293-8345-4B5C-BC66-3CA94CE0E645__GUID-62B3D3C2-08CF-4429-BBEC-3C6ADED5DF02">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1026">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1029">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1032">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1037" headers="d78213e1026 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1037 d78213e1029 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1037 d78213e1032 ">
                                 <p>检查流的可读性</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5824"></a><a id="CAXML5823"></a><div class="props_rev_3"><a id="GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703" name="GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703"></a><h3 id="CAXML-GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703" class="sect3">OraStreamReadChar（）</h3>
               <div>
                  <div class="section">
                     <p>从<code class="codeph">orastream</code>对象中读取<code class="codeph">char</code> 。
                     </p>
                     <p>该函数用于将数据从流中读取到指定的缓冲区中。如果到达流的末尾，它还为<code class="codeph">eoi</code>参数返回<code class="codeph">TRUE</code> 。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703__GUID-C56DF30A-3D86-4941-A3FE-2F5EF1FB70B3">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamReadChar（orastream * stream，oratext * dest，ubig_ora size，oratext ** start，ubig_ora * nread，ub1 * eoi）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7C7CE585-E9F1-4DF7-AC43-9AD38AC7C703__GUID-A932C7C3-3905-4078-96D4-17F9A3C85E74">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1112">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1115">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1118">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1123" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1123 d78213e1115 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1123 d78213e1118 ">
                                 <p>正在读取的流</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1133" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">DEST</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1133 d78213e1115 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1133 d78213e1118 ">
                                 <p>目标缓冲区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1143" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">尺寸</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1143 d78213e1115 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1143 d78213e1118 ">
                                 <p>要读取的数据大小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1153" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">开始</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1153 d78213e1115 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1153 d78213e1118 ">
                                 <p>指向正在读取的数据的开始的指针</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1163" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">NREAD</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1163 d78213e1115 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1163 d78213e1118 ">
                                 <p>实际从流中读取的字符数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1173" headers="d78213e1112 "><pre class="oac_no_warn" dir="ltr">EOI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1173 d78213e1115 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1173 d78213e1118 ">
                                 <p>如果到达流的末尾，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。否则为<code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5826"></a><a id="CAXML5825"></a><div class="props_rev_3"><a id="GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F" name="GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F"></a><h3 id="CAXML-GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F" class="sect3">OraStreamSid（）</h3>
               <div>
                  <div class="section">
                     <p>为现有的<code class="codeph">orastream</code>对象分配SID。通过<code class="codeph">OUT</code>参数<code class="codeph">osid</code>返回旧的SID。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F__GUID-06601265-0BE1-4302-94B2-8B4CAEE473C3">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamSid（orastream * stream，void * sid，void ** osid）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-818A4430-7E9C-4FA0-B5E7-1F596A13DC1F__GUID-3D6CBA76-2EEC-43BF-B7B3-EA0DB9B92656">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1250">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1253">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1256">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1261" headers="d78213e1250 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1261 d78213e1253 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1261 d78213e1256 ">
                                 <p>SID已更改的流</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1271" headers="d78213e1250 "><pre class="oac_no_warn" dir="ltr">SID</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1271 d78213e1253 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1271 d78213e1256 ">
                                 <p>新的SID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1281" headers="d78213e1250 "><pre class="oac_no_warn" dir="ltr">OSID</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1281 d78213e1253 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1281 d78213e1256 ">
                                 <p>流的先前SID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5828"></a><a id="CAXML5827"></a><div class="props_rev_3"><a id="GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5" name="GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5"></a><h3 id="CAXML-GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5" class="sect3">OraStreamTerm（）</h3>
               <div>
                  <div class="section">
                     <p>销毁<code class="codeph">orastream</code>对象并释放其相关内存。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5__GUID-04992873-1C0C-4F7B-9DF8-22BA87CB81C4">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamTerm（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-96A3C8D0-A500-48D2-83A3-46DC65B362A5__GUID-34A07889-BE7B-4C60-BE55-97504875A3F8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1345">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1348">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1351">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1356" headers="d78213e1345 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1356 d78213e1348 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1356 d78213e1351 ">
                                 <p>流被破坏</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5830"></a><a id="CAXML5829"></a><div class="props_rev_3"><a id="GUID-641D2F6E-C846-43BB-9465-5E0AA779A984" name="GUID-641D2F6E-C846-43BB-9465-5E0AA779A984"></a><h3 id="CAXML-GUID-641D2F6E-C846-43BB-9465-5E0AA779A984" class="sect3">OraStreamWrite（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">byte</code> s写入<code class="codeph">orastream</code>对象。
                     </p>
                     <p>实际读取的字节数由<code class="codeph">OUT</code>参数<code class="codeph">nwrote</code>存储。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-641D2F6E-C846-43BB-9465-5E0AA779A984__GUID-C03C23B8-C21C-4C4A-A7ED-27E44379010A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamWrite（orastream * stream，oratext * src，ubig_ora size，ubig_ora * nwrote）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-641D2F6E-C846-43BB-9465-5E0AA779A984__GUID-8A1D181E-0C53-439E-B924-00CE5C8EDAAA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1431">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1434">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1437">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1442" headers="d78213e1431 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1442 d78213e1434 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1442 d78213e1437 ">
                                 <p>流写入数据的位置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1452" headers="d78213e1431 "><pre class="oac_no_warn" dir="ltr">SRC</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1452 d78213e1434 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1452 d78213e1437 ">
                                 <p>写入数据的缓冲区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1462" headers="d78213e1431 "><pre class="oac_no_warn" dir="ltr">尺寸</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1462 d78213e1434 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1462 d78213e1437 ">
                                 <p>要写入的数据大小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1472" headers="d78213e1431 ">
                                 <p>nwrote</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d78213e1472 d78213e1434 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1472 d78213e1437 ">
                                 <p>写入流的字节数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5832"></a><a id="CAXML5831"></a><div class="props_rev_3"><a id="GUID-90B77461-6E35-4672-8B27-149831D93A02" name="GUID-90B77461-6E35-4672-8B27-149831D93A02"></a><h3 id="CAXML-GUID-90B77461-6E35-4672-8B27-149831D93A02" class="sect3">OraStreamWritable（）</h3>
               <div>
                  <div class="section">
                     <p>确定现有的<code class="codeph">orastream</code>对象是否可写。
                     </p>
                     <p>返回<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90B77461-6E35-4672-8B27-149831D93A02__GUID-3F1BBAA8-62AF-45C3-93D4-8651175A820E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean OraStreamWritable（orastream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-90B77461-6E35-4672-8B27-149831D93A02__GUID-ED29F6E0-5CD4-4E8D-9F6D-126A13444E53">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1540">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1543">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1546">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1551" headers="d78213e1540 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1551 d78213e1543 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1551 d78213e1546 ">
                                 <p>检查可写性的流。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CAXML5834"></a><a id="CAXML5833"></a><div class="props_rev_3"><a id="GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F" name="GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F"></a><h3 id="CAXML-GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F" class="sect3">OraStreamWriteChar（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">char</code>写入<code class="codeph">orastream</code>对象。
                     </p>
                     <p>实际写入的字符数由<code class="codeph">OUT</code>参数<code class="codeph">nwrote</code>存储。
                     </p>
                     <p>返回<code class="codeph">ORAERR_OK</code>表示成功，或返回失败的错误代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F__GUID-7F979BA6-35FB-460C-827D-DEE7BDF7F684">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oraerr OraStreamWriteChar（orastream * stream，oratext * src，ubig_ora size，ubig_ora * nwrote）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B45E4E8C-576D-46CF-B21A-4FE0E93BB95F__GUID-19CCE690-6362-4127-822E-B4A7DAD83318">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d78213e1626">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d78213e1629">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d78213e1632">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1637" headers="d78213e1626 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1637 d78213e1629 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1637 d78213e1632 ">
                                 <p>流写入数据的位置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1647" headers="d78213e1626 "><pre class="oac_no_warn" dir="ltr">SRC</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1647 d78213e1629 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1647 d78213e1632 ">
                                 <p>写入数据的缓冲区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1657" headers="d78213e1626 "><pre class="oac_no_warn" dir="ltr">尺寸</pre></td>
                              <td align="left" valign="top" width="12%" headers="d78213e1657 d78213e1629 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1657 d78213e1632 ">
                                 <p>要写入的数据大小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d78213e1667" headers="d78213e1626 ">
                                 <p>nwrote</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d78213e1667 d78213e1629 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d78213e1667 d78213e1632 ">
                                 <p>写入流的字符数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01696.application-and-networking-architecture.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter defines application architecture and describes how an Oracle database and database applications work in a distributed processing environment. This material applies to almost every type of Oracle Database environment."></meta>
      <meta name="description" content="This chapter defines application architecture and describes how an Oracle database and database applications work in a distributed processing environment. This material applies to almost every type of Oracle Database environment."></meta>
      <title>应用程序和Oracle Net Services体系结构</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter defines application architecture and describes how an Oracle database and database applications work in a distributed processing environment. This material applies to almost every type of Oracle Database environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="process-architecture.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-administration-and-application-development.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="process-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-administration-and-application-development.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-instance-architecture.html" property="item" typeof="WebPage"><span property="name">Oracle实例架构</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">应用程序和Oracle Net Services体系结构</li>
            </ol>
            <a id="GUID-8A4A6339-417F-4E7C-997B-68206F38A6EC" name="GUID-8A4A6339-417F-4E7C-997B-68206F38A6EC"></a>
            
            <h2 id="CNCPT-GUID-8A4A6339-417F-4E7C-997B-68206F38A6EC" class="sect2"><span class="enumeration_chapter">16</span>应用程序和Oracle Net Services体系结构</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章定义应用程序体系结构，并描述Oracle数据库和数据库应用程序如何在分布式处理环境中工作。此材料适用于几乎所有类型的Oracle数据库环境。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="application-and-networking-architecture.html#GUID-9868FA17-14C8-476E-8FB2-ABC6079C2FF4" title="在本章的上下文中，应用程序体系结构是指数据库应用程序连接到Oracle数据库的计算环境。">Oracle应用程序架构概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-and-networking-architecture.html#GUID-136C7637-89B5-4C5A-B186-E06F86CE2359" title="Oracle Net Services是一套网络组件，可在分布式异构计算环境中提供企业级连接解决方案。">Oracle Net Services体系结构概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-and-networking-architecture.html#GUID-CDA565D5-091A-4794-BA5A-F66A13941275" title="程序界面是数据库应用程序和Oracle数据库之间的软件层。">程序界面概述</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT9852"></a><div class="props_rev_3"><a id="GUID-9868FA17-14C8-476E-8FB2-ABC6079C2FF4" name="GUID-9868FA17-14C8-476E-8FB2-ABC6079C2FF4"></a><h3 id="CNCPT-GUID-9868FA17-14C8-476E-8FB2-ABC6079C2FF4" class="sect3">Oracle应用程序架构概述</h3>
               <div>
                  <p>在本章的上下文中， <span class="bold">应用程序体系结构</span>是指数据库应用程序连接到Oracle数据库的计算环境。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-C0113B6B-4377-4950-BFD4-CAC9FAB072DA" title="在Oracle数据库环境中，数据库应用程序和数据库分为客户端/服务器体系结构。">客户端/服务器体系结构概述</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006" title="在传统的多层体系结构中，应用程序服务器为客户端提供数据，并充当客户端和数据库服务器之间的接口。">多层体系结构概述</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-DD9E93CC-ED99-4998-BE3C-41C20B0995A3" title="在Oracle数据库环境中，网格计算是一种计算体系结构，可以将大量服务器和存储有效地集中到灵活的按需计算资源中。">网格体系结构概述</a></p>
                     </li>
                  </ul>
               </div><a id="CNCPT701"></a><div class="props_rev_3"><a id="GUID-C0113B6B-4377-4950-BFD4-CAC9FAB072DA" name="GUID-C0113B6B-4377-4950-BFD4-CAC9FAB072DA"></a><h4 id="CNCPT-GUID-C0113B6B-4377-4950-BFD4-CAC9FAB072DA" class="sect4">客户端/服务器体系结构概述</h4>
                  <div>
                     <p>在Oracle数据库环境中，数据库应用程序和数据库分为<span class="bold">客户端/服务器体系结构</span> 。
                     </p>
                     <p>组件如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="glossary.html#GUID-F642154F-091E-4D5A-9562-401324055F1F"><span class="xrefglossterm">客户端</span></a>运行数据库应用程序，例如，SQL * Plus或Visual Basic数据输入程序，它访问数据库信息并与用户交互。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-A3046A66-CC14-47F6-8F91-BDF097F1CA05"><span class="xrefglossterm">服务器</span></a>运行Oracle数据库软件并处理对Oracle数据库的并发共享数据访问所需的功能。
                           </p>
                        </li>
                     </ul>
                     <p>虽然客户端应用程序和数据库可以在同一台计算机上运行，但是当客户端部分和服务器部分由通过网络连接的不同计算机运行时，通常可以实现更高的效率。以下部分讨论Oracle数据库客户端/服务器体系结构的变体。</p>
                  </div><a id="CNCPT89093"></a><a id="CNCPT89094"></a><a id="CNCPT9853"></a><div class="props_rev_3"><a id="GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE" name="GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE"></a><h5 id="CNCPT-GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE" class="sect5">分布式处理</h5>
                     <div>
                        <p>使用多个主机处理单个任务称为<span class="bold">分布式处理</span> 。
                        </p>
                        <p>前端和后端处理在不同的计算机上进行。在<a href="application-and-networking-architecture.html#GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE__I7696">图16-1中</a> ，客户端和服务器位于通过Oracle Net Services连接的不同主机上。
                        </p>
                        <div class="figure" id="GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE__I7696">
                           <p class="titleinfigure">图16-1客户端/服务器体系结构和分布式处理</p><img src="img/cncpt083.gif" alt="下面是图16-1的描述" title="下面是图16-1的描述" longdesc="img_text/cncpt083.html"><br><a href="img_text/cncpt083.html">“图16-1客户端/服务器体系结构和分布式处理”的描述</a></div>
                        <!-- class="figure" -->
                        <p><a href="application-and-networking-architecture.html#GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE__CHDJDFJG">图16-2</a>是描述<a href="glossary.html#GUID-DB7296DF-74E0-45E1-9BC2-5052DD543214"><span class="xrefglossterm">分布式数据库</span></a>的变体。在此示例中，一个主机上的数据库访问位于不同主机上的单独数据库上的数据。
                        </p>
                        <div class="figure" id="GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE__CHDJDFJG">
                           <p class="titleinfigure">图16-2客户端/服务器体系结构和分布式数据库</p><img src="img/cncpt240.gif" alt="下面是图16-2的描述" title="下面是图16-2的描述" longdesc="img_text/cncpt240.html"><br><a href="img_text/cncpt240.html">“图16-2客户端/服务器体系结构和分布式数据库”的说明</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-E8724DB4-A0BC-4ED9-83A1-BDC55CA15FAE__GUID-D163949D-803C-423D-9392-F170135A1DD7">
                           <p class="notep1">注意：</p>
                           <p>本章的其余部分适用于在一台服务器上具有一个数据库的环境。</p>
                        </div>
                     </div>
                  </div><a id="CNCPT9854"></a><div class="props_rev_3"><a id="GUID-43267CAE-D1FF-4853-89AF-9681BFB3E976" name="GUID-43267CAE-D1FF-4853-89AF-9681BFB3E976"></a><h5 id="CNCPT-GUID-43267CAE-D1FF-4853-89AF-9681BFB3E976" class="sect5">客户端/服务器体系结构的优点</h5>
                     <div>
                        <p>分布式处理环境中的Oracle数据库客户端/服务器体系结构提供了许多好处。</p>
                        <p>好处包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>客户端应用程序不负责执行数据处理。相反，他们请求来自用户的输入，从服务器请求数据，然后使用客户端工作站或终端的显示功能（例如，使用图形或电子表格）分析和呈现该数据。</p>
                           </li>
                           <li>
                              <p>客户端应用程序不依赖于数据的物理位置。即使将数据移动或分发到其他数据库服务器，应用程序仍可继续运行，几乎不需要修改。</p>
                           </li>
                           <li>
                              <p>Oracle数据库利用其底层操作系统的多任务和共享内存设施。因此，它为其客户端应用程序提供了最高程度的并发性，数据完整性和性能。</p>
                           </li>
                           <li>
                              <p>客户端工作站或终端可以针对数据的呈现进行优化（例如，通过提供图形和鼠标支持），同时可以优化服务器以处理和存储数据（例如，通过具有大量内存和磁盘空间） ）。</p>
                           </li>
                           <li>
                              <p>在网络环境中，您可以使用廉价的客户端工作站有效地访问服务器的远程数据。</p>
                           </li>
                           <li>
                              <p>数据库可以随着系统的增长而扩展。您可以添加多个服务器以在整个网络中分配数据库处理负载（水平扩展），或者您可以将数据库移动到小型机或大型机以利用更大的系统性能（垂直缩放）。在任何一种情况下，数据和应用程序都可以通过很少或不需要修改来维护，因为Oracle数据库可以在系</p>
                           </li>
                           <li>
                              <p>在联网环境中，共享数据存储在服务器上而不是所有计算机上，从而使管理并发访问变得更加容易和高效。</p>
                           </li>
                           <li>
                              <p>在联网环境中，客户端应用程序使用SQL语句向服务器提交数据库请求。收到后，服务器会处理每个SQL语句，并将结果返回给客户端。网络流量最小化，因为只有请求和结果通过网络传送。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-43267CAE-D1FF-4853-89AF-9681BFB3E976__GUID-F075A37A-C24C-4A05-B9E4-D105E193F396">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../admin/distributed-database-concepts.html#ADMIN028" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解有关分布式数据库的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89095"></a><a id="CNCPT702"></a><div class="props_rev_3"><a id="GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006" name="GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006"></a><h4 id="CNCPT-GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006" class="sect4">多层体系结构概述</h4>
                  <div>
                     <p>在传统的多层体系结构中，应用程序服务器为客户端提供数据，并充当客户端和数据库服务器之间的接口。</p>
                     <p>此体系结构允许使用应用程序服务器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>验证客户端的凭据，例如Web浏览器</p>
                        </li>
                        <li>
                           <p>连接到数据库服务器</p>
                        </li>
                        <li>
                           <p>执行请求的操作</p>
                        </li>
                     </ul>
                     <p><a href="application-and-networking-architecture.html#GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006__I5360">图16-3中</a>显示了多层体系结构的示例。
                     </p>
                     <div class="figure" id="GUID-A65D8A2C-2DE0-4438-A042-54A3C07FF006__I5360">
                        <p class="titleinfigure">图16-3多层体系结构环境</p><img src="img/cncpt121.gif" alt="下面是图16-3的描述" title="下面是图16-3的描述" longdesc="img_text/cncpt121.html"><br><a href="img_text/cncpt121.html">“图16-3多层架构环境”的描述</a></div>
                     <!-- class="figure" -->
                  </div><a id="CNCPT1268"></a><div class="props_rev_3"><a id="GUID-EC720226-9D56-46DD-A78D-4B5D23CFDE9F" name="GUID-EC720226-9D56-46DD-A78D-4B5D23CFDE9F"></a><h5 id="CNCPT-GUID-EC720226-9D56-46DD-A78D-4B5D23CFDE9F" class="sect5">客户端</h5>
                     <div>
                        <p>客户端发起对要在数据库服务器上执行的操作的请求。</p>
                        <p>客户端可以是Web浏览器或其他最终用户程序。在多层体系结构中，客户端通过一个或多个应用程序服务器连接到数据库服务器。</p>
                     </div>
                  </div><a id="CNCPT1269"></a><div class="props_rev_3"><a id="GUID-E64F9651-B925-47AC-85A0-2C081B47C204" name="GUID-E64F9651-B925-47AC-85A0-2C081B47C204"></a><h5 id="CNCPT-GUID-E64F9651-B925-47AC-85A0-2C081B47C204" class="sect5">应用服务器</h5>
                     <div>
                        <p>应用程序服务器提供对客户端数据的访问。它充当客户端与一个或多个数据库服务器之间的接口，并托管应用程序。</p>
                        <p>应用程序服务器允许瘦客户端（配备有最少软件配置的客户端）访问应用程序，而无需持续维护客户端计算机。应用程序服务器还可以为客户端执行数据重新格式化，从而减少客户端工作站上的负载。</p>
                        <p>应用程序服务器在对此客户端的数据库服务器上执行操作时，假定客户端的标识。最佳做法是限制应用程序服务器的权限，以防止它在客户端操作期间执行不需要的和不需要的操作。</p>
                     </div>
                  </div><a id="CNCPT1270"></a><div class="props_rev_3"><a id="GUID-9B050693-A401-44AA-8373-CC2BCB9B5FC7" name="GUID-9B050693-A401-44AA-8373-CC2BCB9B5FC7"></a><h5 id="CNCPT-GUID-9B050693-A401-44AA-8373-CC2BCB9B5FC7" class="sect5">数据库服务器</h5>
                     <div>
                        <p>数据库服务器代表客户端提供应用程序服务器请求的数据。数据库执行查询处理。</p>
                        <p>数据库服务器可以代表客户端并代表自己审计应用程序服务器执行的操作。例如，客户端操作可以请求在客户端上显示的信息，而应用程序服务器操作可以请求与数据库服务器的连接。</p>
                        <p>在统一审计中，数据库可以将应用程序上下文（特定于应用程序的名称 - 值对）附加到统一审计跟踪中的记录。您可以配置数据库写入数据库审计记录的应用程序上下文。</p>
                        <div class="infoboxnotealso" id="GUID-9B050693-A401-44AA-8373-CC2BCB9B5FC7__GUID-93308B93-E69E-433A-8197-3D1DB41A2999">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-B4C43A8E-A9CF-42C1-947E-FA234CF49B62" title="Oracle数据库提供了多种用于监控用户活动的工具和技术。审计是监视数据访问的主要机制。">数据访问监控</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-377114CE-BCB9-4135-A8EE-44FFA43F1D6E" title="数据库审计是对所选用户数据库操作的监视和记录。">数据库审计</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1271"></a><div class="props_rev_3"><a id="GUID-127E1AC4-5AC3-4326-AA1C-399293C54FDA" name="GUID-127E1AC4-5AC3-4326-AA1C-399293C54FDA"></a><h5 id="CNCPT-GUID-127E1AC4-5AC3-4326-AA1C-399293C54FDA" class="sect5">面向服务的体系结构（SOA）</h5>
                     <div>
                        <p>该数据库可以充当传统多层或<strong class="term">面向服务的体系结构（SOA）</strong>环境中的Web服务提供者。
                        </p>
                        <p>SOA是一种多层体系结构，依赖于支持通过网络进行计算机到计算机交互的服务。在SOA的上下文中，服务是一个自给自足的功能端点，具有明确定义的功能和服务级别协议，可以进行监视和管理，并可以帮助实施策略合规性。</p>
                        <p>SOA服务通常实现为可通过HTTP协议访问的Web服务。它们基于XML标准，如WSDL和SOAP。</p>
                        <p>Oracle数据库Web服务功能（作为Oracle XML DB的一部分实现）必须由DBA专门启用。然后，应用程序可以通过数据库Web服务完成以下任</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>提交SQL或XQuery查询并以XML格式接收结果</p>
                           </li>
                           <li>
                              <p>调用独立的PL / SQL函数并接收结果</p>
                           </li>
                           <li>
                              <p>调用PL / SQL包函数并接收结果</p>
                           </li>
                        </ul>
                        <p>数据库Web服务提供了一种将Web服务添加到应用程序环境的简单方法，而无需应用程序服务器。但是，通过Oracle融合中间件等应用程序服务器调用Web服务可在SOA环境中提供安全性，可伸缩性，UDDI注册和可靠消息传递。但是，由于数据库Web服务可以轻松地与Oracle融合中间件集成，因此它们可能适合优化SOA解决方案。</p>
                        <div class="infoboxnotealso" id="GUID-127E1AC4-5AC3-4326-AA1C-399293C54FDA__GUID-07F6D464-0649-4607-BE24-DBF2D2DCBFD6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p> <span class="q">“ <a href="server-side-programming.html#GUID-7C398775-F4FB-47A2-AED5-458E00FB1E35" title="PL / SQL子程序是一个命名的PL / SQL块，允许调用者提供只能输入，仅输出或输入和输出值的参数。">PL / SQL子程序</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../adxdb/native-XML-DB-web-services.html#ADXDB3900" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a> ，了解有关启用和使用数据库Web服务的信息</p>
                              </li>
                              <li>
                                 <p>有关SOA和Web服务的更多信息，请参阅Oracle融合中间件文档</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT915"></a><div class="props_rev_3"><a id="GUID-DD9E93CC-ED99-4998-BE3C-41C20B0995A3" name="GUID-DD9E93CC-ED99-4998-BE3C-41C20B0995A3"></a><h4 id="CNCPT-GUID-DD9E93CC-ED99-4998-BE3C-41C20B0995A3" class="sect4">网格体系结构概述</h4>
                  <div>
                     <p>在Oracle数据库环境中， <span class="bold">网格计算</span>是一种计算体系结构，可以将大量服务器和存储有效地集中到灵活的按需计算资源中。
                     </p>
                     <p>可以根据需要连接和重新连接模块化硬件和软件组件，以满足不断变化的业务需求。</p>
                     <div class="infoboxnotealso" id="GUID-DD9E93CC-ED99-4998-BE3C-41C20B0995A3__GUID-B1FE6F44-28B6-43EE-B3B0-12026F8C0DC9">
                        <p class="notep1">也可以看看：</p>
                        <p>有关服务器和存储网格的更多详细信息，请参阅<span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-7223657D-9CF6-4C4D-954C-C2A1B5B46696" title="称为网格计算的计算体系结构有效地将大量服务器和存储集中到一个灵活的按需资源中，以满足所有企业计算需求。">网格计算概述</a> ”</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1272"></a><div class="props_rev_3"><a id="GUID-136C7637-89B5-4C5A-B186-E06F86CE2359" name="GUID-136C7637-89B5-4C5A-B186-E06F86CE2359"></a><h3 id="CNCPT-GUID-136C7637-89B5-4C5A-B186-E06F86CE2359" class="sect3">Oracle Net Services体系结构概述</h3>
               <div>
                  <p><span class="bold">Oracle Net Services</span>是一套网络组件，可在分布式异构计算环境中提供企业级连接解决方案。
                  </p>
                  <p>Oracle Net Services支持从应用程序到<a href="glossary.html#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">数据库实例</span></a>和数据库实例到另一个数据库实例的网络会话。
                  </p>
                  <p>Oracle Net Services提供位置透明性，集中配置和管理以及快速安装和配置。它还可以让您最大化系统资源并提高性能。<a href="glossary.html#GUID-E94CE0E3-CC86-4F46-B8EF-54945F026326"><span class="xrefglossterm">共享服务器</span></a>体系结构增加了应用程序的可伸缩性以及同时连接到数据库的客户端数量。虚拟接口（VI）协议将大部分消息传递负担放在高速网络硬件上，从而释放CPU。</p>
                  <p>Oracle Net Services使用各种网络支持的通信协议或应用程序编程接口（API）来提供分布式数据库和分布式处理。建立网络会话后，Oracle Net Services充当客户端应用程序和数据库服务器的数据信使，建立和维护连接并交换消息。Oracle Net Services可以执行这些任务，因为它存在于网络中的每台计算机上。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-3D96B45B-5C62-462C-9A2F-04F8A5098DD6" title="Oracle数据库协议接受来自Oracle应用程序接口的SQL语句，然后打包它们以便传输到Oracle数据库。">Oracle Net Services的工作原理</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" title="Oracle Net Listener（侦听器）是一个服务器端进程，它侦听传入的客户端连接请求并管理数据库的流量。当数据库实例启动时，以及在其生命周期的不同时间，实例联系侦听器并建立与此实例的通信路径。">Oracle Net Listener</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" title="在专用服务器体系结构中，代表每个客户端进程创建的服务器进程称为专用服务器进程（或影子进程）。">专用服务器架构</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="在共享服务器体系结构中，调度程序将多个传入网络会话请求定向到共享服务器进程池">共享服务器架构</a></p>
                     </li>
                     <li>
                        <p><a href="application-and-networking-architecture.html#GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797" title="数据库驻留连接池（DRCP）为典型的Web应用程序方案提供专用服务器的连接池。">数据库驻留连接池</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-136C7637-89B5-4C5A-B186-E06F86CE2359__GUID-1CBF5302-26F0-492D-8159-98DC3221BD76">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../netag/understanding-oracle-net-architecture.html#NETAG1511" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，概述了Oracle Net体系结构</p>
                  </div>
               </div><a id="CNCPT1273"></a><div class="props_rev_3"><a id="GUID-3D96B45B-5C62-462C-9A2F-04F8A5098DD6" name="GUID-3D96B45B-5C62-462C-9A2F-04F8A5098DD6"></a><h4 id="CNCPT-GUID-3D96B45B-5C62-462C-9A2F-04F8A5098DD6" class="sect4">Oracle Net Services的工作原理</h4>
                  <div>
                     <p>Oracle数据库协议接受来自Oracle应用程序接口的SQL语句，然后打包它们以便传输到Oracle数据库。</p>
                     <p>通过支持的行业标准更高级别协议或API进行传输。 Oracle数据库的回复通过相同的更高级别的通信机制打包。此工作独立于网络操作系统而发生。</p>
                     <p>根据运行Oracle数据库的操作系统，数据库服务器的Oracle Net Services软件可能包含驱动程序软件并启动其他后台进程。</p>
                     <div class="infoboxnotealso" id="GUID-3D96B45B-5C62-462C-9A2F-04F8A5098DD6__GUID-25B58F6E-D13A-4B09-A831-08A9E7ED1118">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle Net Services如何工作的详细信息，请参见<a href="../netag/understanding-oracle-net-architecture.html#NETAG1511" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="CNCPT89170"></a><a id="CNCPT1274"></a><div class="props_rev_3"><a id="GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" name="GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1"></a><h4 id="CNCPT-GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" class="sect4">Oracle Net Listener</h4>
                  <div>
                     <p><span class="bold">Oracle Net Listener</span> （侦听器）是一个服务器端进程，它侦听传入的客户端连接请求并管理数据库的流量。当数据库实例启动时，以及在其生命周期的不同时间，实例联系侦听器并建立与此实例的通信路径。
                     </p>
                     <p></p>
                     <p>服务注册使侦听器能够确定数据库服务及其服务处理程序是否可用。<a href="glossary.html#GUID-6ACAAC31-792E-45BD-94FB-9DD7A420B32D"><span class="xrefglossterm">服务处理程序</span></a>是专用<a href="glossary.html#GUID-E660AC1C-B704-4DC1-A35A-DB49EFB34F4A"><span class="xrefglossterm">服务器进程</span></a>或调度程序，充当数据库的连接点。在注册期间，LREG进程为监听器提供实例名称，数据库服务名称以及服务处理程序的类型和地址。此信息使侦听器能够在客户端请求到达时启动服务处理程序。
                     </p>
                     <p>下图显示了两个数据库，每个数据库位于单独的主机上。数据库环境由两个侦听器提供服务，每个侦听器位于单独的主机上。在每个数据库实例中运行的LREG进程与两个侦听器通信以注册数据库。</p>
                     <div class="figure" id="GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1__GUID-92E6A2FE-0330-4E6E-9297-F27A105BFBAE">
                        <p class="titleinfigure">图16-4两个监听器</p><img src="img/cncpt315.png" alt="下面是图16-4的描述" title="下面是图16-4的描述" longdesc="img_text/cncpt315.html"><br><a href="img_text/cncpt315.html">“图16-4两个听众”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="application-and-networking-architecture.html#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1__CHDIBHAD">图16-5</a>显示了建立HTTP连接的浏览器和通过侦听器建立数据库连接的客户端。侦听器不需要驻留在数据库主机上。
                     </p>
                     <div class="figure" id="GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1__CHDIBHAD">
                        <p class="titleinfigure">图16-5监听器体系结构</p><img src="img/cncpt311.gif" alt="下面是图16-5的描述" title="下面是图16-5的描述" longdesc="img_text/cncpt311.html"><br><a href="img_text/cncpt311.html">“图16-5监听器架构”的描述</a></div>
                     <!-- class="figure" -->
                     <p>客户端通过侦听器建立连接的基本步骤是：</p>
                     <ol>
                        <li>
                           <p><a href="glossary.html#GUID-6F3BBCE8-F471-41E8-8C98-F4C62A85862B"><span class="xrefglossterm">客户端进程</span></a>或其他数据库请求连接。
                           </p>
                        </li>
                        <li>
                           <p>侦听器选择适当的服务处理程序来为客户端请求提供服务，并将请求转发给处理程序。</p>
                        </li>
                        <li>
                           <p>客户端进程直接连接到服务处理程序。听众不再参与沟通。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1__GUID-5EC36DA9-7B74-4098-B95F-9B0377704060">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="process-architecture.html#GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" title="当用户运行诸如Pro * C程序或SQL * Plus之类的应用程序时，操作系统会创建一个客户端进程（有时称为用户进程）来运行用户应用程序。客户端应用程序具有链接到其中的Oracle数据库库，这些库提供与数据库通信所需的API。">客户端进程概述</a> ”</span>和<span class="q">“ <a href="process-architecture.html#GUID-310F28E9-793A-4816-87CB-FDB54AB68957" title="Oracle数据库创建服务器进程以处理连接到实例的客户端进程的请求。客户端进程始终通过单独的服务器进程与数据库通信。">服务器进程概述</a> ”</span></p>
                     </div>
                  </div><a id="CNCPT89171"></a><a id="CNCPT9855"></a><div class="props_rev_3"><a id="GUID-C931A159-E1FE-4DB3-A811-510C42516683" name="GUID-C931A159-E1FE-4DB3-A811-510C42516683"></a><h5 id="CNCPT-GUID-C931A159-E1FE-4DB3-A811-510C42516683" class="sect5">服务名称</h5>
                     <div>
                        <p><span class="bold">服务名称</span>是用于客户端连接的服务的逻辑表示。
                        </p>
                        <p>当客户端连接到侦听器时，它会请求与服务的连接。当数据库实例启动时，它会将自己注册为侦听器，以按名称提供一个或多个服务。因此，侦听器充当客户端和实例之间的中介，并将连接请求路由到正确的位置。</p>
                        <p>监听器已知的单个服务可以标识一个或多个数据库实例。此外，单个数据库实例可以使用侦听器注册一个或多个服务。连接到服务的客户端无需指定所需的实例。</p>
                        <p><a href="application-and-networking-architecture.html#GUID-C931A159-E1FE-4DB3-A811-510C42516683__CHDFGAED">图16-6</a>显示了与两个服务<code class="codeph">book.example.com</code>和<code class="codeph">soft.example.com</code>相关联的一个单实例数据库。这些服务使不同的客户端能够以不同的方式识别相同的数据库。数据库管理员可以限制或保留系统资源，允许更好地分配给请求这些服务之一的客户端。
                        </p>
                        <div class="figure" id="GUID-C931A159-E1FE-4DB3-A811-510C42516683__CHDFGAED">
                           <p class="titleinfigure">图16-6与一个数据库关联的多个服务</p><img src="img/cncpt314.gif" alt="下面是图16-6的描述" title="下面是图16-6的描述" longdesc="img_text/cncpt314.html"><br><a href="img_text/cncpt314.html">“图16-6与一个数据库关联的多个服务”的描述</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-C931A159-E1FE-4DB3-A811-510C42516683__GUID-4B4E319E-0200-4837-9E70-6CF32472C60A">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../netag/configuring-naming-methods.html#NETAG008" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a> ，了解有关命名方法的更多信息</p>
                        </div>
                     </div>
                  </div><a id="CNCPT1275"></a><div class="props_rev_3"><a id="GUID-41017762-ECA7-478F-AFCA-DEBA48357DEE" name="GUID-41017762-ECA7-478F-AFCA-DEBA48357DEE"></a><h5 id="CNCPT-GUID-41017762-ECA7-478F-AFCA-DEBA48357DEE" class="sect5">服务注册</h5>
                     <div>
                        <p>在Oracle Net中， <span class="bold">服务注册</span>是LREG进程通过其向侦听器动态注册实例信息的功能。
                        </p>
                        <p>此信息使侦听器能够将客户端连接请求转发到适当的服务处理程序。LREG为监听器提供有关以下内容的信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库提供的数据库服务的名称</p>
                           </li>
                           <li>
                              <p>与服务关联的数据库实例的名称及其当前和最大负载</p>
                           </li>
                           <li>
                              <p>可用于实例的服务处理程序（调度程序和专用服务器），包括其类型，协议地址以及当前和最大负载</p>
                           </li>
                        </ul>
                        <p>服务注册是动态的，不需要在<code class="codeph">listener.ora</code>文件中进行配置。动态注册可减少多个数据库或实例的管理开销。
                        </p>
                        <p>初始化参数<code class="codeph">SERVICE_NAMES</code>列出实例所属的服务。在启动时，每个实例都向属于同一服务的其他实例的侦听器注册。在数据库操作期间，每个服务的实例将有关CPU使用和当前连接的信息计数传递给相同服务中的所有侦听器。此通信可实现动态负载平衡和连接故障转移。
                        </p>
                        <div class="infoboxnotealso" id="GUID-41017762-ECA7-478F-AFCA-DEBA48357DEE__GUID-F09BC010-9642-44C1-AEBE-876226140FDD">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="process-architecture.html#GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" title="监听器注册过程（LREG）使用Oracle Net Listener注册有关数据库实例和调度程序进程的信息。">听众注册流程（LREG）</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../netag/understanding-oracle-net-architecture.html#NETAG1080" target="_blank"><span><cite>Oracle Database Net Services管理员指南</cite></span></a> ，了解有关服务注册的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="../racad/introduction-to-oracle-rac.html#RACAD7273" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a>了解Oracle RAC中的实例注册和客户端/服务连接</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89097"></a><a id="CNCPT905"></a><div class="props_rev_3"><a id="GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" name="GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1"></a><h4 id="CNCPT-GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" class="sect4">专用服务器架构</h4>
                  <div>
                     <p>在<span class="bold">专用服务器</span>体系结构中，代表每个客户端进程创建的服务器进程称为专用服务器进程（或<span class="italic">影子进程</span> ）。
                     </p>
                     <p>专用服务器进程与客户端进程分开，仅代表它， <a href="application-and-networking-architecture.html#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1__CHDEECGC">如图16-7</a>所示。
                     </p>
                     <div class="figure" id="GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1__CHDEECGC">
                        <p class="titleinfigure">图16-7使用专用服务器进程的Oracle数据库</p><img src="img/cncpt303.gif" alt="下面是图16-7的描述" title="下面是图16-7的描述" longdesc="img_text/cncpt303.html"><br><a href="img_text/cncpt303.html">“图16-7使用专用服务器进程的Oracle数据库”的说明</a></div>
                     <!-- class="figure" -->
                     <p>客户端进程和服务器进程之间存在一对一的比率。即使用户没有主动发出数据库请求，专用服务器进程仍然存在 - 尽管它处于非活动状态并且可以在某些操作系统上进行分页。</p>
                     <p><a href="application-and-networking-architecture.html#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1__CHDEECGC">图16-7</a>显示了在联网计算机上运行的用户和服务器进程。但是，如果同一台计算机同时运行客户端应用程序和数据库代码，也会使用专用服务器体系结构，但如果它们在单个进程中运行，则主机操作系统无法保持两个程序的分离。Linux就是这种操作系统的一个例子。
                     </p>
                     <p>在专用服务器体系结构中，用户和服务器进程使用不同的机制进行通信：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果客户端进程和专用服务器进程在同一台计算机上运行，则程序接口使用主机操作系统的进程间通信机制来执行其工作。</p>
                        </li>
                        <li>
                           <p>如果客户端进程和专用服务器进程在不同的计算机上运行，则程序接口在程序之间提供通信机制（例如网络软件和Oracle Net Services）。</p>
                        </li>
                     </ul>
                     <p>未充分利用的专用服务器有时会导致操作系统资源的低效使用。考虑具有专用服务器进程的订单输入系统。当客户将订单输入数据库时，客户下订单。对于大多数交易，职员正在与客户交谈，而专用于职员客户流程的服务器进程处于空闲状态。在大多数交易期间不需要服务器进程，并且如果系统管理太多进程，则系统对于输入订单的其他职员来说可能更慢。对于这种类型的应用程序，共享服务器体系结构可能是优选的。</p>
                     <div class="infoboxnotealso" id="GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1__GUID-AE748D73-30CB-426D-BAB0-15750D2EF337">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../netag/identifying-and-accessing-database.html#NETAG185" target="_blank"><span><cite>Oracle Database Net Services管理员指南</cite></span></a> ，了解有关专用服务器进程的更多信息</p>
                     </div>
                  </div>
               </div><a id="CNCPT904"></a><div class="props_rev_3"><a id="GUID-F3281DD9-B210-463E-B572-173816D2B161" name="GUID-F3281DD9-B210-463E-B572-173816D2B161"></a><h4 id="CNCPT-GUID-F3281DD9-B210-463E-B572-173816D2B161" class="sect4">共享服务器架构</h4>
                  <div>
                     <p>在<span class="bold">共享服务器</span>体系结构中，调度程序将多个传入网络会话请求定向到共享服务器进程池</p>
                     <p>共享池消除了对每个连接的专用服务器进程的需要。池中的空闲共享服务器进程从公共队列中获取请求。</p>
                     <p>共享服务器的潜在好处如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>减少操作系统上的进程数</p>
                           <p>少量共享服务器可以执行与许多专用服务器相同的处理量。</p>
                        </li>
                        <li>
                           <p>减少实例PGA内存</p>
                           <p>每个专用或共享服务器都有一个PGA。更少的服务器进程意味着更少的PGA和更少的流程管理。</p>
                        </li>
                        <li>
                           <p>增加应用程序可伸缩性和可以同时连接到数据库的客户端数量</p>
                        </li>
                        <li>
                           <p>当客户端连接和断开率很高时，可能比专用服务器更快</p>
                        </li>
                     </ul>
                     <p>共享服务器有几个缺点，包括在某些情况下响应时间较慢，功能支持不完整以及设置和调整的复杂性增加。作为一般准则，仅当与数据库的并发连接数多于操作系统可以处理的数据库时才使用共享服务器。</p>
                     <p>共享服务器体系结构中需要以下过程：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将客户端进程连接到调度程序或专用服务器的网络侦听器（侦听器是Oracle Net Services的一部分，而不是Oracle数据库）</p>
                           <div class="infoboxnote" id="GUID-F3281DD9-B210-463E-B572-173816D2B161__GUID-C577B4DB-3402-4B50-AF3F-7EB964125CD8">
                              <p class="notep1">注意：</p>
                              <p>要使用共享服务器，客户端进程必须通过Oracle Net Services进行连接，即使该进程与Oracle数据库实例在同一台计算机上运行也是如此。</p>
                           </div>
                        </li>
                        <li>
                           <p>一个或多个<a href="glossary.html#GUID-44794465-800D-48D2-ACB5-851066E3AF91"><span class="xrefglossterm">调度程序进程（Dnnn）</span></a></p>
                        </li>
                        <li>
                           <p>一个或多个共享服务器进程</p>
                        </li>
                     </ul>
                     <p>数据库可以同时支持共享服务器和专用服务器连接。例如，一个客户端可以使用专用服务器进行连接，而另一个客户端可以使用共享服务器连接到同一个数据库。</p>
                     <div class="infoboxnotealso" id="GUID-F3281DD9-B210-463E-B572-173816D2B161__GUID-572F54B6-2C9A-4386-AD9A-116E13BA3B6E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关共享服务器体系结构的详细信息，请参见<a href="../netag/introducing-oracle-net-services.html#NETAG154" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-processes.html#ADMIN00502" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何为共享服务器配置数据库</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT89098"></a><a id="CNCPT1261"></a><div class="props_rev_3"><a id="GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235" name="GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235"></a><h5 id="CNCPT-GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235" class="sect5">调度程序请求和响应队列</h5>
                     <div>
                        <p>来自用户的请求是单个API调用，它是用户SQL语句的一部分。</p>
                        <p>当用户拨打电话时，会发生以下操作：</p>
                        <ol>
                           <li>
                              <p>调度程序将请求放在请求队列中，由下一个可用的共享服务器进程拾取请求。</p>
                              <p>请求队列位于SGA中，并且对于实例的所有调度程序进程都是通用的。</p>
                           </li>
                           <li>
                              <p>共享服务器进程检查公共请求队列中的新请求，以先进先出的方式获取新请求。</p>
                           </li>
                           <li>
                              <p>一个共享服务器进程在队列中获取一个请求，并对数据库进行所有必要的调用以完成此请求。</p>
                              <p>不同的服务器进程可以处理每个数据库调用。因此，解析查询，获取第一行，获取下一行和关闭结果集的请求可以由不同的共享服务器处理。</p>
                           </li>
                           <li>
                              <p>当服务器进程完成请求时，它会将响应放在调用调度程序的响应队列中。每个调度程序都有自己的响应队列。</p>
                           </li>
                           <li>
                              <p>调度程序将完成的请求返回给相应的客户端进程。</p>
                           </li>
                        </ol>
                        <p>例如，在订单输入系统中，每个职员的客户端进程都连接到一个调度程序。职员发出的每个请求都被发送到该调度员，该调度员将请求放入队列中。下一个可用的共享服务器获取请求，为其提供服务，并将响应放入响应队列中。请求完成后，职员将保持与调度程序的连接，但处理该请求的共享服务器将被释放并可用于其他请求。当一名职员与客户交谈时，另一名职员可以使用相同的共享服务器进程。</p>
                        <p><a href="application-and-networking-architecture.html#GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235__BEIDDFDG">图16-8</a>显示了客户端进程如何通过API与调度程序进行通信，以及调度程序如何将用户请求传递给共享服务器进程。
                        </p>
                        <div class="figure" id="GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235__BEIDDFDG">
                           <p class="titleinfigure">图16-8共享服务器配置和进程</p><img src="img/cncpt067.gif" alt="下面是图16-8的描述" title="下面是图16-8的描述" longdesc="img_text/cncpt067.html"><br><a href="img_text/cncpt067.html">“图16-8共享服务器配置和进程”的说明</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-EC8F8778-02B7-4CF9-9E6F-A5D88C777235__GUID-5AC89B5A-F980-43C1-8D07-0404E9FDAD5A">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="memory-architecture.html#GUID-1ECB5213-AC4E-4BB4-9113-91C761676B34" title="大型池是一个可选的内存区域，用于大于适用于共享池的内存分配。">大池</a> ”</span></p>
                        </div>
                     </div><a id="CNCPT1262"></a><div class="props_rev_3"><a id="GUID-686D9748-3638-4280-A17F-DC2965441395" name="GUID-686D9748-3638-4280-A17F-DC2965441395"></a><h6 id="CNCPT-GUID-686D9748-3638-4280-A17F-DC2965441395" class="sect6">调度程序进程（D <span class="variable" translate="no">nnn</span> ）</h6>
                        <div>
                           <p><strong class="term">调度程序进程</strong>使客户端进程能够共享有限数量的服务器进程。
                           </p>
                           <p>您可以为单个数据库实例创建多个调度程序进程。调度程序进程的最佳数量取决于操作系统限制和每个进程的连接数。</p>
                           <div class="infoboxnote" id="GUID-686D9748-3638-4280-A17F-DC2965441395__GUID-7842241B-47DD-4244-9AD0-DE069CFCE03F">
                              <p class="notep1">注意：</p>
                              <p>连接到调度程序的每个客户端进程都必须使用Oracle Net Services，即使这两个进程都在同一主机上运行。</p>
                           </div>
                           <p>调度程序进程建立通信如下：</p>
                           <ol>
                              <li>
                                 <p>实例启动时，网络侦听器进程将打开并建立通信路径，用户可通过该路径连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>每个调度程序进程为侦听器进程提供调度程序侦听连接请求的地址。</p>
                                 <p>必须为数据库客户端将使用的每个网络协议配置和启动至少一个调度程序进程。</p>
                              </li>
                              <li>
                                 <p>当客户端进程发出连接请求时，侦听器确定客户端进程是否应使用共享服务器进程：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果侦听器确定需要共享服务器进程，则侦听器返回具有最轻负载的调度程序进程的地址，并且客户端进程直接连接到调度程序。</p>
                                    </li>
                                    <li>
                                       <p>如果进程无法与调度程序通信，或者客户端进程请求专用服务器，则侦听器将创建专用服务器进程并建立适当的连接。</p>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                           <div class="infoboxnotealso" id="GUID-686D9748-3638-4280-A17F-DC2965441395__GUID-F4161EF4-14A6-43A3-9DA2-307755412075">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../netag/configuring-shared-server-architecture.html#NETAG012" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a> ，了解如何配置调度程序</p>
                           </div>
                        </div>
                     </div><a id="CNCPT1263"></a><div class="props_rev_3"><a id="GUID-6FC57973-2EC6-4DF3-B643-CB310EBF0F00" name="GUID-6FC57973-2EC6-4DF3-B643-CB310EBF0F00"></a><h6 id="CNCPT-GUID-6FC57973-2EC6-4DF3-B643-CB310EBF0F00" class="sect6">共享服务器进程（S <span class="variable" translate="no">nnn</span> ）</h6>
                        <div>
                           <p>每个共享服务器进程在共享服务器配置中提供多个客户端请求。</p>
                           <p>共享和专用服务器进程提供相同的功能，但共享服务器进程与特定客户端进程无关。相反，共享服务器进程为共享服务器配置中的任何客户端请求提供服务。</p>
                           <p>共享服务器进程的PGA不包含UGA数据，所有共享服务器进程都必须可以访问这些数据。共享服务器PGA仅包含特定于进程的数据。</p>
                           <p>所有与会话相关的信息都包含在SGA中。每个共享服务器进程必须能够访问所有会话的数据空间，以便任何服务器都可以处理来自任何会话的请求。在SGA中为每个会话的数据空间分配空间。</p>
                           <div class="infoboxnotealso" id="GUID-6FC57973-2EC6-4DF3-B643-CB310EBF0F00__GUID-46C61E38-1572-49CC-99BF-EEDBFD9E55A2">
                              <p class="notep1">也可以看看：</p>
                              <p> <span class="q">“ <a href="memory-architecture.html#GUID-859795E2-87CD-442B-B36F-584A77755F59" title="PGA是特定于操作进程或线程的内存，不由系统上的其他进程或线程共享。因为PGA是特定于进程的，所以它永远不会在SGA中分配。">全球计划（PGA）概述</a> ”</span></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="CNCPT1264"></a><div class="props_rev_3"><a id="GUID-BA4D975F-0EA6-4646-BF9D-3332C24A3D16" name="GUID-BA4D975F-0EA6-4646-BF9D-3332C24A3D16"></a><h5 id="CNCPT-GUID-BA4D975F-0EA6-4646-BF9D-3332C24A3D16" class="sect5">共享服务器的受限操作</h5>
                     <div>
                        <p>连接到调度程序进程时无法执行特定的管理活动，包括关闭或启动实例和介质恢复。</p>
                        <p>通常在与管理员权限连接时执行这些活动。要在配置了共享服务器的系统中使用管理员权限进行连接，必须指定使用专用服务器进程。</p>
                        <div class="infoboxnotealso" id="GUID-BA4D975F-0EA6-4646-BF9D-3332C24A3D16__GUID-B39BB729-8DFE-4D79-8AA4-665D30006034">
                           <p class="notep1">也可以看看：</p>
                           <p>有关正确连接字符串语法的<a href="../netag/configuring-shared-server-architecture.html#NETAG327" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89172"></a><a id="CNCPT1896"></a><div class="props_rev_3"><a id="GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797" name="GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797"></a><h4 id="CNCPT-GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797" class="sect4">数据库驻留连接池</h4>
                  <div>
                     <p>数据库驻留连接池（DRCP）为典型的Web应用程序方案提供专用服务器的连接池。</p>
                     <p>Web应用程序通常建立数据库连接，简单地使用连接，然后释放它。通过DRCP，数据库可以扩展到数万个并发连接。</p>
                     <p>DRCP具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>补充在中间层进程中共享线程之间的连接的中间层连接池。</p>
                        </li>
                        <li>
                           <p>允许跨多个中间层进程共享数据库连接。这些中间层进程可能属于相同或不同的中间层主机。</p>
                        </li>
                        <li>
                           <p>可显着减少支持许多客户端连接所需的关键数据库资源。例如，DRCP减少了数据库所需的内存，并提高了数据库和中间层的可伸缩性。可用服务器池还可以降低重新创建客户端连接的成本。</p>
                        </li>
                        <li>
                           <p>为具有多进程，单线程应用程序服务器（如PHP和Apache）的体系结构提供池，这些服务器无法执行中间层连接池。</p>
                        </li>
                     </ul>
                     <p>DRCP使用<span class="bold">池化服务器</span> ，它相当于专用服务器进程（不是共享服务器进程）和数据库会话的组合。池化服务器模型避免了为需要服务器短时间的每个连接专用服务器的开销。
                     </p>
                     <p>从数据库驻留连接池获取连接的客户端连接到称为连接代理的Oracle后台进程。连接代理实现池功能，并在来自客户端进程的入站连接之间复用池化服务器。</p>
                     <p><a href="application-and-networking-architecture.html#GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797__CHDHGCAC">如图16-9</a>所示，当客户端需要数据库访问时，连接代理从池中获取服务器进程并将其交给客户端。客户端直接连接到服务器进程，直到请求被提供。服务器完成后，服务器进程将释放到池中。来自客户端的连接将恢复到代理。
                     </p>
                     <div class="figure" id="GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797__CHDHGCAC">
                        <p class="titleinfigure">图16-9 DRCP</p><img src="img/cncpt312.gif" alt="下面是图16-9的描述" title="下面是图16-9的描述" longdesc="img_text/cncpt312.html"><br><a href="img_text/cncpt312.html">“图16-9 DRCP”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在DRCP中，释放资源会使会话保持不变，但不再与连接（服务器进程）相关联。与共享服务器不同，此会话将其UGA存储在PGA中，而不是存储在SGA中。客户端可以在检测到活动时透明地重新建立连接。</p>
                     <div class="infoboxnotealso" id="GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797__GUID-FA1BB50F-5158-4F06-BD83-2EC7248AA0F2">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" title="数据库连接是客户端进程和数据库实例之间的物理通信路径。">连接和会话</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-processes.html#ADMIN12347" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a>和<a href="../lnoci/session-and-connection-pooling.html#LNOCI9110" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a> ，了解有关DRCP的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT906"></a><div class="props_rev_3"><a id="GUID-CDA565D5-091A-4794-BA5A-F66A13941275" name="GUID-CDA565D5-091A-4794-BA5A-F66A13941275"></a><h3 id="CNCPT-GUID-CDA565D5-091A-4794-BA5A-F66A13941275" class="sect3">程序界面概述</h3>
               <div>
                  <p><span class="bold">程序界面</span>是数据库应用程序和Oracle数据库之间的软件层。
                  </p>
                  <p>程序界面执行以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>提供安全屏障，防止客户端进程对SGA的破坏性访问</p>
                     </li>
                     <li>
                        <p>充当通信机制，格式化信息请求，传递数据以及捕获和返回错误</p>
                     </li>
                     <li>
                        <p>转换和转换数据，尤其是在不同类型的计算机之间或外部用户程序数据类型之间</p>
                     </li>
                  </ul>
                  <p><span class="bold">Oracle代码</span>充当服务器，代表应用程序（客户端）执行数据库任务，例如从数据块中提取行。程序界面由几个部分组成，由Oracle数据库软件和特定于操作系统的软件提供。
                  </p>
               </div><a id="CNCPT1265"></a><div class="props_rev_3"><a id="GUID-C1300873-5353-4F90-97AC-6E25869503AC" name="GUID-C1300873-5353-4F90-97AC-6E25869503AC"></a><h4 id="CNCPT-GUID-C1300873-5353-4F90-97AC-6E25869503AC" class="sect4">程序接口结构</h4>
                  <div>
                     <p>程序界面由几个不同的组件组成。</p>
                     <p>这些组件包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle调用接口（OCI）或Oracle运行时库（SQLLIB）</p>
                        </li>
                        <li>
                           <p>程序界面的客户端或用户端</p>
                        </li>
                        <li>
                           <p>各种Oracle Net Services驱动程序（特定于协议的通信软件）</p>
                        </li>
                        <li>
                           <p>操作系统通信软件</p>
                        </li>
                        <li>
                           <p>程序接口的服务器或Oracle数据库端（也称为OPI）</p>
                        </li>
                     </ul>
                     <p>程序界面的用户和Oracle数据库端运行Oracle软件，驱动程序也是如此。</p>
                  </div>
               </div><a id="CNCPT1266"></a><div class="props_rev_3"><a id="GUID-75A4D49A-87AE-49C0-A49E-2A3486E80053" name="GUID-75A4D49A-87AE-49C0-A49E-2A3486E80053"></a><h4 id="CNCPT-GUID-75A4D49A-87AE-49C0-A49E-2A3486E80053" class="sect4">程序接口驱动程序</h4>
                  <div>
                     <p>驱动程序是一种通常通过网络传输数据的软件。</p>
                     <p>驱动程序执行连接，断开连接，信号错误和错误测试等操作。驱动程序特定于通信协议。</p>
                     <p>始终存在默认驱动程序。您可以安装多个驱动程序，例如异步或DECnet驱动程序，并选择一个作为默认驱动程序，但允许用户通过在连接时指定驱动程序来使用其他驱动程序。</p>
                     <p>不同的进程可以使用不同的驱动进程可以使用不同的Oracle Net Services驱动程序同时连接到单个数据库或多个数据库。</p>
                     <div class="infoboxnotealso" id="GUID-75A4D49A-87AE-49C0-A49E-2A3486E80053__GUID-204F41E7-5FBD-4834-BE8C-7C6C00522461">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关选择，安装和添加驱动程序的详细信息，请参见系统安装和配置指南</p>
                           </li>
                           <li>
                              <p><a href="../netag/introducing-oracle-net-services.html#NETAG1013" target="_blank"><span><cite>Oracle Database Net Services管理员指南</cite></span></a> ，了解JDBC驱动程序</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1267"></a><div class="props_rev_3"><a id="GUID-17951644-ADF9-4543-8C80-520B9A1BA51F" name="GUID-17951644-ADF9-4543-8C80-520B9A1BA51F"></a><h4 id="CNCPT-GUID-17951644-ADF9-4543-8C80-520B9A1BA51F" class="sect4">操作系统的通信软件</h4>
                  <div>
                     <p>将用户端连接到程序接口的Oracle数据库端的最低级软件是主机操作系统提供的通信软件。</p>
                     <p>DECnet，TCP / IP，LU6.2和ASYNC就是例子。通信软件可由Oracle提供，但通常与硬件供应商或第三方软件供应商分开购买。</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13095.managing-sql-profiles.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When warranted, SQL Tuning Advisor recommends a SQL profile. You can use DBMS_SQLTUNE to implement, alter, drop, and transport SQL profiles."></meta>
      <meta name="description" content="When warranted, SQL Tuning Advisor recommends a SQL profile. You can use DBMS_SQLTUNE to implement, alter, drop, and transport SQL profiles."></meta>
      <title>管理SQL配置文件</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Tuning Guide"></meta>
      <meta property="og:description" content="When warranted, SQL Tuning Advisor recommends a SQL profile. You can use DBMS_SQLTUNE to implement, alter, drop, and transport SQL profiles."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T14:57:08-08:00"></meta>
      <meta name="dcterms.title" content="SQL Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2013, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96095-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="sql-controls.html" title="Previous" type="text/html"></link>
      <link rel="next" href="overview-of-sql-plan-management.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGSQL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-controls.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="overview-of-sql-plan-management.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL调优指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-controls.html" property="item" typeof="WebPage"><span property="name">SQL管理对象</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理SQL配置文件</li>
            </ol>
            <a id="GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" name="GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E"></a><a id="TGSQL596"></a>
            
            <h2 id="TGSQL-GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" class="sect2"><span class="enumeration_chapter">26</span>管理SQL配置文件</h2>
         </header>
         <div class="ind">
            <div>
               <p>如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用<code class="codeph">DBMS_SQLTUNE</code>来实现，更改，删除和传输SQL配置文件。
               </p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220">关于SQL配置文件</a><br><strong class="term">SQL配置文件</strong>是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。
                  </li>
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40">实现SQL配置文件</a><br>实现SQL配置文件意味着将其持久存储在数据库中。
                  </li>
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC">列出SQL配置文件</a><br>数据字典视图<code class="codeph">DBA_SQL_PROFILES</code>将SQL配置文件持久存储在数据库中。
                  </li>
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166">更改SQL配置文件</a><br>您可以使用<code class="codeph">ALTER_SQL_PROFILE</code>过程的<code class="codeph">attribute_name</code>参数更改现有SQL配置文件的<code class="codeph">attribute_name</code> 。
                  </li>
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C">删除SQL配置文件</a><br>您可以使用<code class="codeph">DROP_SQL_PROFILE</code>过程删除SQL配置文件。
                  </li>
                  <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D">传输SQL配置文件</a><br>您可以将SQL配置文件从一个数据库中的<code class="codeph">SYS</code>模式导出到临时表，然后将其从登台表导入另一个数据库。您可以将SQL配置文件传输到在同一版本或更高版本中创建的任何Oracle数据库。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="sql-controls.html#GUID-2889EBC8-1FAD-412F-9779-865028473607" title="SQL管理对象是一种稳定单个SQL语句的执行计划的功能。SQL配置文件和SQL计划基准是SQL管理对象。">SQL管理对象</a></p>
                  </div>
               </div>
            </div>
            <a id="TGSQL597"></a><div class="props_rev_3"><a id="GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" name="GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220"></a><h3 id="TGSQL-GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" class="sect3"><span class="enumeration_section">26.1</span>关于SQL配置文件</h3>
               <div>
                  <p><strong class="term">SQL配置文件</strong>是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。
                  </p>
                  <p>从概念上讲，SQL配置文件是SQL语句的对象级统计信息对表或索引的作用。DBA调用SQL Tuning Advisor时会创建SQL配置文件。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-1197742C-0599-46F4-AFA4-D624CCDC7997">SQL配置文件的用途</a><br>在分析SQL语句时，SQL Tuning Advisor使用一组特定的绑定值作为输入。
                     </li>
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-41377192-7E26-47E2-9D36-6BAD85ED1367">SQL配置文件的概念</a><br>SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。
                     </li>
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-280110BE-2D94-4174-BA28-8FD731DF6F20">SQL配置文件的用户界面</a><br>Oracle Enterprise Manager云控制（云控制）通常将SQL配置文件作为自动SQL调优的一部分来处理。
                     </li>
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6">SQL配置文件的基本任务</a><br>基本任务包括接受（实现）SQL配置文件，更改它，列出它并删除它。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220__GUID-F5F14D24-9291-41DD-9B3B-B1D7D67C789B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="sql-tuning-advisor.html#GUID-EF47CEF3-E31A-4A2A-8BCE-19DC5F06F458" title="SQL Tuning Advisor是Oracle Database Tuning Pack中的SQL诊断软件。">关于SQL Tuning Advisor</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL598"></a><div class="props_rev_3"><a id="GUID-1197742C-0599-46F4-AFA4-D624CCDC7997" name="GUID-1197742C-0599-46F4-AFA4-D624CCDC7997"></a><h4 id="TGSQL-GUID-1197742C-0599-46F4-AFA4-D624CCDC7997" class="sect4"><span class="enumeration_section">26.1.1</span> SQL配置文件的用途</h4>
                  <div>
                     <p>在分析SQL语句时，SQL Tuning Advisor使用一组特定的绑定值作为输入。</p>
                     <p>顾问程序将优化程序估计值与通过在数据样本上执行语句的片段获得的值进行比较。如果发现重大差异，SQL Tuning Advisor会在SQL配置文件中将纠正操作捆绑在一起，然后建议接受。</p>
                     <p>SQL配置文件中的更正统计信息可以提高优化程序<a href="glossary.html#GUID-FE541AF8-DCAB-4B00-8015-04BDCB295A85"><span class="xrefglossterm">基数</span></a>估计值，从而使优化程序可以选择更好的计划。与其他改进计划的技术相比，SQL配置文件具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>与提示和存储的大纲不同，SQL配置文件不会将优化程序与特定计划或子计划联系起来。SQL配置文件修复了错误的估计，同时为优化器提供了在不同情况下选择最佳计划的灵活性。</p>
                        </li>
                        <li>
                           <p>与提示不同，使用SQL配置文件时不需要更改应用程序源代码。数据库对SQL配置文件的使用对用户是透明的。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1197742C-0599-46F4-AFA4-D624CCDC7997__GUID-581F8665-E013-4E2D-B7F4-0A02BAF3478D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="influencing-the-optimizer.html#GUID-C558F7CF-446E-4078-B045-0B3BB026CB3C" title="优化程序提示是SQL语句中的特殊注释，它将指令传递给优化程序。">用提示影响优化器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="sql-tuning-advisor.html#GUID-8E1A39CB-A491-4254-8B31-9B1DF7B52AA1" title="使用SQL Tuning Advisor获取有关提高高负载SQL语句性能的建议，并通过仅执行最佳计划来防止回归。">使用SQL Tuning Advisor分析SQL</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" title="SQL配置文件是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。">关于SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL600"></a><a id="TGSQL599"></a><div class="props_rev_3"><a id="GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" name="GUID-41377192-7E26-47E2-9D36-6BAD85ED1367"></a><h4 id="TGSQL-GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" class="sect4"><span class="enumeration_section">26.1.2</span> SQL配置文件的概念</h4>
                  <div>
                     <p>SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。</p>
                     <p>配置文件以内部格式存储在数据字典中。用户界面是<code class="codeph">DBA_SQL_PROFILES</code>字典视图。优化程序在优化期间使用此信息来确定最佳计划。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-0DF775E3-8E88-437F-8A30-1173497EB971">SQL配置文件中的统计信息</a><br>除其他统计信息外，SQL配置文件还包含一组基数调整。
                        </li>
                        <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D">SQL配置文件和执行计划</a><br>SQL配置文件包含整个<span class="italic">语句的</span>补充统计信息，而不是单个<span class="italic">计划</span> 。配置文件本身并不确定具体计划。
                        </li>
                        <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969">SQL配置文件建议</a><br>SQL Tuning Advisor调用自动调整优化器来生成SQL配置文件建议。
                        </li>
                        <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-D930A2C3-8769-46FB-9B60-E363B98013F6">SQL配置文件和SQL计划基准</a><br>您可以使用SQL配置文件，无论是否有SQL计划管理。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-41377192-7E26-47E2-9D36-6BAD85ED1367__GUID-EF3B351A-3C80-4323-B412-50502089F458">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/DBA_SQL_PROFILES.html#REFRN-GUID-1F27F94F-B567-42E1-8AC4-C015F8327610" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">DBA_SQL_PROFILES</code>更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" title="SQL配置文件是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。">关于SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-0DF775E3-8E88-437F-8A30-1173497EB971" name="GUID-0DF775E3-8E88-437F-8A30-1173497EB971"></a><h5 id="TGSQL-GUID-0DF775E3-8E88-437F-8A30-1173497EB971" class="sect5"><span class="enumeration_section">26.1.2.1</span> SQL配置文件中的统计信息</h5>
                     <div>
                        <p>除其他统计信息外，SQL配置文件还包含一组基数调整。</p>
                        <p>基数度量基于<code class="codeph">WHERE</code>子句的抽样，而不是统计投影。配置文件使用查询的一部分来确定估计的基数是否接近实际的基数，如果存在不匹配，则使用校正的基数。例如，如果<code class="codeph">SELECT * FROM t WHERE x=5 AND y=10</code>存在SQL配置文件，则配置文件存储返回的实际行数。
                        </p>
                        <p>从<span>Oracle Database 18c开始</span> ，SQL Tuning Advisor可以推荐一个支持Exadata的SQL配置文件。<span>在Oracle数据库云服务器上，智能扫描的成本取决于系统统计信息I / O查找时间（ <code class="codeph">ioseektim</code> ），多块读取计数（ <code class="codeph">mbrc</code> ）和I / O传输速度（ <code class="codeph">iotfrspeed</code> ）。这些统计信息的值通常在Exadata上有所不同，因此可能影响计划的选择。如果系统统计信息过时，并且如果收集它们可以提高性能，则SQL Tuning Advisor建议接受可识别Exadata的SQL配置文件。</span></p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0DF775E3-8E88-437F-8A30-1173497EB971__GUID-EF3B351A-3C80-4323-B412-50502089F458">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="optimizer-statistics-concepts.html#GUID-BCFD6363-8860-41AE-9920-60EB695C7374" title="在Oracle数据库中，表统计信息包括有关行和块的信息。">永久表统计</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="gathering-optimizer-statistics.html#TGSQL-GUID-AC23D691-5C54-4EF9-BF9F-65121F2AFC31" target="_blank"><span><cite>Oracle数据库性能调优指南</cite></span></a> ，了解系统统计信息</p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=DBMSO-GUID-B978FAD1-5E8D-4518-8BAA-2A06DB3F0883" target="_blank"><span id="GUID-0DF775E3-8E88-437F-8A30-1173497EB971__DBMSO"><cite>Oracle数据库云服务器系统概述</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" title="SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。">SQL配置文件的概念</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D" name="GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D"></a><h5 id="TGSQL-GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D" class="sect5"><span class="enumeration_section">26.1.2.2</span> SQL配置文件和执行计划</h5>
                     <div>
                        <p>SQL配置文件包含整个<span class="italic">语句的</span>补充统计信息，而不是单个<span class="italic">计划</span> 。配置文件本身并不确定具体计划。
                        </p>
                        <p>在内部，SQL配置文件使用提示来解决不同类型的问题。这些提示未指定任何特定计划。相反，提示更正优化器估计算法中导致次优计划的错误。例如，当统计信息丢失或过时时，配置文件可以使用<code class="codeph">TABLE_STATS</code>提示来设置表的对象统计信息。
                        </p>
                        <p>选择计划时，优化程序具有以下信息源：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>环境，包含数据库配置，系统统计信息， <a href="glossary.html#GUID-CA223D31-C3CC-4037-9BAD-9AB69FDD4212"><span class="xrefglossterm">绑定变量</span></a>值， <a href="glossary.html#GUID-F9E13693-82F8-4FD3-8B9F-C58CA0DAEEB0"><span class="xrefglossterm">优化程序统计信息</span></a> ，数据集等</p>
                           </li>
                           <li>
                              <p>SQL配置文件中的补充统计信息</p>
                           </li>
                        </ul>
                        <p>下图显示了SQL语句与此语句的SQL配置文件之间的关系。优化程序使用SQL配置文件和环境生成执行计划。在此示例中，计划位于语句的<a href="glossary.html#GUID-A9B279E2-7088-4029-8C94-4E8DD00B7E21"><span class="xrefglossterm">SQL计划基准</span></a>中。
                        </p>
                        <div class="figure" id="GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D__BABHHGEH">
                           <p class="titleinfigure">图26-1 SQL配置文件</p><img src="img/pfgrf234.gif" alt="下面是图26-1的描述" title="下面是图26-1的描述" longdesc="img_text/pfgrf234.html"><br><a href="img_text/pfgrf234.html">“图26-1 SQL配置文件”的说明</a></div>
                        <!-- class="figure" -->
                        <p>如果优化程序环境或SQL配置文件发生更改，则优化程序可以创建新计划。随着表的增长，或者在创建或删除索引时，SQL配置文件的计划可能会发生变化。即使相应语句的数据分布或访问路径发生更改，配置文件仍然相关。</p>
                        <p>通常，您不需要刷新SQL配置文件。但是，随着时间的推移，个人资料内容可能会过时。在这种情况下，SQL语句的性能可能会降低。该语句可能显示为高负载或顶级SQL。在这种情况下，Automatic SQL Tuning任务再次将语句捕获为高负载SQL。您可以为该语句实现新的SQL配置文件。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C22DA9DF-6D9A-490F-A169-F4439F28C49D__GUID-EF3B351A-3C80-4323-B412-50502089F458">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-sql-plan-management.html#GUID-27C85EB8-C4CE-40C5-B99C-F4ADDC09A617" title="SQL配置文件和SQL计划基准都通过确保优化程序仅使用最佳计划来帮助提高SQL语句的性能。">SQL计划基准和SQL配置文件之间的差异</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="optimizer-statistics-concepts.html#GUID-AEE74FB8-98BD-416B-8EA0-32CD605DF64E" title="优化程序成本模型依赖于收集的有关查询中涉及的对象的统计信息，以及运行查询的数据库和主机。">优化器统计简介</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/Comments.html#SQLRF-GUID-D316D545-89E2-4D54-977F-FC97815CD62E" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解SQL提示</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" title="SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。">SQL配置文件的概念</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL602"></a><a id="TGSQL601"></a><div class="props_rev_3"><a id="GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969" name="GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969"></a><h5 id="TGSQL-GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969" class="sect5"><span class="enumeration_section">26.1.2.3</span> SQL配置文件建议</h5>
                     <div>
                        <p>SQL Tuning Advisor调用自动调整优化器来生成SQL配置文件建议。</p>
                        <p>实现SQL配置文件的建议发生在查找中，该查找显示在SQL Tuning Advisor报告的单独部分中。实现（或接受）SQL配置文件时，数据库会创建配置文件并将其持久存储在数据字典中。但是，SQL配置文件信息不会通过常规字典视图公开。</p>
                        <div class="example" id="GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969__GUID-650304C5-05F8-4E3E-9F2F-BB1BBB90C999">
                           <p class="titleinexample">例26-1 SQL配置文件建议</p>
                           <p>在此示例中，数据库为使用多个昂贵连接的<code class="codeph">SELECT</code>语句找到了更好的计划。数据库建议运行<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>以实现配置文件，这使该语句的运行速度提高了98.53％。
                           </p><pre class="pre codeblock"><code>-------------------------------------------------- -----------------------------调查结果（2项调查结果）--------------- -------------------------------------------------- -------------- 1- SQL配置文件查找（参见下面的解释计划部分）------------------------ --------------------------------此声明找到了一个可能更好的执行计划。选择要实现的以下SQL配置文件之一。建议（估计收益：99.45％）------------------------------------------ - 考虑接受推荐的SQL配置文件。执行dbms_sqltune.accept_sql_profile（task_name =&gt;'my_task'，object_id =&gt; 3，task_owner =&gt;'SH'，replace =&gt; TRUE）;验证结果------------------通过执行其计划和原始计划并测量其各自的执行统计信息来测试SQL配置文件。如果另一个计划可以在更短的时间内完成，那么该计划可能只是部分执行。原始计划与SQL配置文件％改进------------- ---------------- ----------完成状态：PARTIAL完成经过的时间（us）：15467783 226902 98.53％CPU时间（us）：15336668 226965 98.52％用户I / O时间（us）：0 0 Buffer获取：3375243 18227 99.45％磁盘读取：0 0直接写入：0 0行已处理：0 109获取：0 109执行：0 1注意----- 1。首先执行SQL配置文件计划以加热缓冲区缓存。2。SQL配置文件计划的统计信息在接下来的3次执行中取平均值。
</code></pre><p>有时，SQL Tuning Advisor可能会建议实现使用自动并行度（Auto DOP）功能的配置文件。仅当原始计划是串行计划并且并行执行可以显着减少长时间运行查询所用的时间时，才建议使用并行查询配置文件。</p>
                           <p>当它推荐使用Auto DOP的配置文件时，SQL Tuning Advisor会提供有关在报告中对SQL语句使用并行执行的性能开销的详细信息。对于并行执行建议，SQL Tuning Advisor可以提供两个SQL配置文件建议，一个使用串行执行，另一个使用并行。</p>
                           <p>以下示例显示了并行查询建议。在这个例子中，7的并行度显着改善了响应时间，代价是增加了近25％的资源消耗。您必须确定数据库吞吐量的减少是否值得响应时间的增加。</p><pre class="pre codeblock"><code>建议（估计收益：99.99％）------------------------------------------ - 考虑接受建议的SQL配置文件以对此语句使用并行执行。执行dbms_sqltune.accept_sql_profile（task_name =&gt;'gfk_task'，object_id =&gt; 3，task_owner =&gt;'SH'，replace =&gt; TRUE，profile_type =&gt; DBMS_SQLTUNE.PX_PROFILE）;与DOP 7并行执行此查询将比SQL配置文件计划的响应时间缩短82.22％。但是，启用并行执行需要一些成本。它会使语句的资源消耗增加24.43％，这可能会导致系统吞吐量降低。此外，由于这些资源的使用时间要小得多，因此如果没有足够的硬件容量，并发语句的响应时间可能会受到负面影响。以下数据显示了过去一周此SQL的一些采样统计信息以及启用并行执行时的预计每周值。过去一周这个SQL的采样统计数据----------------------------------------- Number of执行0总活动百分比.29 #Active Sessions&gt; 2 *样本的百分比0每周DB时间（秒）76.51并行执行的预测统计数据----------------- ---------------------------每周数据库时间（秒）95.21</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-943DA3BA-BD26-40F8-863E-B5C5AD113969__GUID-0C26CC17-0F63-4134-8FEE-B6B11BE6D9E8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="sql-tuning-advisor.html#GUID-93AEDB23-107C-4357-8D7E-2BDE3D1893DF" title="SQL分析是自动调整优化器对其自身估计的验证。">SQL分析</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../vldbg/degree-parallel.html#VLDBG0103" target="_blank"><span><cite>Oracle Database VLDB和分区指南</cite></span></a>了解有关Auto DOP的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SQLTUNE.html#ARPLS68398" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>过程</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" title="SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。">SQL配置文件的概念</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL603"></a><div class="props_rev_3"><a id="GUID-D930A2C3-8769-46FB-9B60-E363B98013F6" name="GUID-D930A2C3-8769-46FB-9B60-E363B98013F6"></a><h5 id="TGSQL-GUID-D930A2C3-8769-46FB-9B60-E363B98013F6" class="sect5"><span class="enumeration_section">26.1.2.4</span> SQL配置文件和SQL计划基准</h5>
                     <div>
                        <p>您可以使用SQL配置文件，无论是否有SQL计划管理。</p>
                        <p>SQL配置文件和SQL计划基准之间不存在严格的关系。如果语句在SQL计划基准中有多个计划，则SQL配置文件很有用，因为它使优化程序能够在基准中选择成本最低的计划。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D930A2C3-8769-46FB-9B60-E363B98013F6__GUID-23A76F4E-C141-45F5-91E4-AF6240842CD6">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="overview-of-sql-plan-management.html#GUID-F1C45056-F998-43E5-B362-83F88DA49E58" title="SQL计划管理是一种预防机制，使优化程序能够自动管理执行计划，确保数据库仅使用已知或已验证的计划。">SQL计划管理概述</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-41377192-7E26-47E2-9D36-6BAD85ED1367" title="SQL配置文件是查询的辅助统计信息的集合，包括查询中引用的所有表和列。">SQL配置文件的概念</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TGSQL604"></a><div class="props_rev_3"><a id="GUID-280110BE-2D94-4174-BA28-8FD731DF6F20" name="GUID-280110BE-2D94-4174-BA28-8FD731DF6F20"></a><h4 id="TGSQL-GUID-280110BE-2D94-4174-BA28-8FD731DF6F20" class="sect4"><span class="enumeration_section">26.1.3</span> SQL配置文件的用户界面</h4>
                  <div>
                     <p>Oracle Enterprise Manager云控制（云控制）通常将SQL配置文件作为自动SQL调优的一部分来处理。</p>
                     <div class="section">
                        <p>在命令行上，您可以使用<code class="codeph">DBMS_SQLTUNE</code>包管理SQL配置文件。要使用API，您必须具有<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-280110BE-2D94-4174-BA28-8FD731DF6F20__GUID-2FB91677-BFC0-41B3-9BD5-1A3D0D3BE0BE">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">DBMS_SQLTUNE</code>包的信息<a href="../arpls/DBMS_SQLTUNE.html#ARPLS220" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../tdppt/tuning-sql-statements.html#TDPPT163" target="_blank"><span><cite>Oracle Database 2 Day +性能调优指南</cite></span></a> ，了解如何使用Cloud Control管理SQL配置文件</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" title="SQL配置文件是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。">关于SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL606"></a><a id="TGSQL605"></a><div class="props_rev_3"><a id="GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6" name="GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6"></a><h4 id="TGSQL-GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6" class="sect4"><span class="enumeration_section">26.1.4</span> SQL配置文件的基本任务</h4>
                  <div>
                     <p>基本任务包括接受（实现）SQL配置文件，更改它，列出它并删除它。</p>
                     <p>下图显示了基本工作流程。</p>
                     <div class="figure" id="GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6__BABIJIIH">
                        <p class="titleinfigure">图26-2管理SQL配置文件</p><img src="img/tgsql_vm_027.png" alt="下面是图26-2的描述" title="下面是图26-2的描述" longdesc="img_text/tgsql_vm_027.html"><br><a href="img_text/tgsql_vm_027.html">“图26-2管理SQL配置文件”的说明</a></div>
                     <!-- class="figure" -->
                     <p>通常，您按以下顺序管理SQL配置文件：</p>
                     <ol>
                        <li>
                           <p>实现推荐的SQL配置文件。</p>
                           <p><span class="q">“ <a href="managing-sql-profiles.html#GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40" title="实现SQL配置文件意味着将其持久存储在数据库中。">实现SQL配置文件</a> ”</span>描述了此任务。
                           </p>
                        </li>
                        <li>
                           <p>获取有关存储在数据库中的SQL配置文件的信息。</p>
                           <p><span class="q">“ <a href="managing-sql-profiles.html#GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC" title="数据字典视图DBA_SQL_PROFILES将SQL配置文件持久存储在数据库中。">列出SQL配置文件</a> ”</span>描述了此任务。
                           </p>
                        </li>
                        <li>
                           <p>（可选）修改已实现的SQL配置文件。</p>
                           <p><span class="q">“ <a href="managing-sql-profiles.html#GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166" title="您可以使用ALTER_SQL_PROFILE过程的attribute_name参数更改现有SQL配置文件的属性。">更改SQL配置文件</a> ”</span>描述了此任务。
                           </p>
                        </li>
                        <li>
                           <p>在不再需要时删除已实现的SQL配置文件。</p>
                           <p><span class="q">“ <a href="managing-sql-profiles.html#GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C" title="您可以使用DROP_SQL_PROFILE过程删除SQL配置文件。">删除SQL配置文件</a> ”</span>描述了此任务。
                           </p>
                        </li>
                     </ol>
                     <p>要调整另一个数据库上的SQL语句，可以将SQL调优集和SQL配置文件传输到单独的数据库。 <span class="q">“ <a href="managing-sql-profiles.html#GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D" title="您可以将SQL配置文件从一个数据库中的SYS模式导出到临时表，然后将其从登台表导入另一个数据库。您可以将SQL配置文件传输到在同一版本或更高版本中创建的任何Oracle数据库。">传输SQL配置文件</a> ”</span>描述了此任务。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-93C2D28A-D9D8-43CB-880B-6121E2DEF9E6__GUID-AEB3CD39-84F8-47B8-8CB6-B4525BD36CC4">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DBMS_SQLTUNE</code>包的信息<a href="../arpls/DBMS_SQLTUNE.html#ARPLS220" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-1AC3C45E-331A-4016-8FE8-7FEFFD8D7220" title="SQL配置文件是一个数据库对象，其中包含特定于SQL语句的辅助统计信息。">关于SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL607"></a><div class="props_rev_3"><a id="GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40" name="GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40"></a><h3 id="TGSQL-GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40" class="sect3"><span class="enumeration_section">26.2</span>实现SQL配置文件</h3>
               <div>
                  <p>实现SQL配置文件意味着将其持久存储在数据库中。</p>
                  <p>实现配置文件与接受配置文件相同。在生成计划之前，优化程序可以将其用作输入之前必须接受配置文件。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-5EF6DC38-6118-48B4-8162-56E7C4570C1B">关于SQL配置文件实现</a><br>根据经验，实现SQL Tuning Advisor推荐的SQL配置文件。
                     </li>
                     <li class="ulchildlink"><a href="managing-sql-profiles.html#GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47">实现SQL配置文件</a><br>要实现SQL配置文件，请使用<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>过程。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL608"></a><div class="props_rev_3"><a id="GUID-5EF6DC38-6118-48B4-8162-56E7C4570C1B" name="GUID-5EF6DC38-6118-48B4-8162-56E7C4570C1B"></a><h4 id="TGSQL-GUID-5EF6DC38-6118-48B4-8162-56E7C4570C1B" class="sect4"><span class="enumeration_section">26.2.1</span>关于SQL配置文件实现</h4>
                  <div>
                     <p>根据经验，实现SQL Tuning Advisor推荐的SQL配置文件。</p>
                     <p>如果数据库同时推荐索引和SQL配置文件，则使用两者或仅使用SQL配置文件。如果创建索引，则优化程序可能需要配置文件来选择新索引。</p>
                     <p>在某些情况下，除了更好的并行计划外，SQL Tuning Advisor还可以找到改进的串行计划。在这种情况下，顾问程序建议使用标准和并行SQL配置文件，使您可以在语句的最佳串行和最佳并行计划之间进行选择。仅当响应时间的增加值得降低吞吐量时才实施并行计划。</p>
                     <p>要实现SQL配置文件，请执行<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>过程。一些重要参数如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">profile_type</code></p>
                           <p>将此参数设置为<code class="codeph">REGULAR_PROFILE</code>的SQL资料，而不需要更改并行执行，或<code class="codeph">PX_PROFLE</code>用于更改并行执行的SQL资料。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">force_match</code></p>
                           <p>此参数控制语句匹配。通常，接受的SQL配置文件通过使用哈希函数生成的<a href="glossary.html#GUID-160EB64E-536F-4313-B7B0-191C2719CF1F"><span class="xrefglossterm">SQL签名</span></a>与SQL语句相关联。此哈希函数将SQL语句更改为大写，并在生成签名之前删除所有额外的空格。因此，相同的SQL配置文件适用于所有SQL语句，其中唯一的区别是大小写和空格。
                           </p>
                           <p>通过将<code class="codeph">force_match</code>设置为<code class="codeph">true</code> ，在<code class="codeph">WHERE</code>子句中的文字值被绑定变量替换之后，SQL配置文件还会针对具有相同文本的所有SQL语句。此设置对于仅使用文字值的应用程序可能很有用，因为它允许SQL只使用文本值不同的文本来共享SQL配置文件。如果文本值和绑定变量都在SQL文本中，或者<code class="codeph">force_match</code>设置为<code class="codeph">false</code> （默认值），则<code class="codeph">WHERE</code>子句中的文字值不会被绑定变量替换。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5EF6DC38-6118-48B4-8162-56E7C4570C1B__GUID-E20C9F72-FC97-4C4E-BE01-4D4DB8082F68">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ACCEPT_SQL_PROFILE</code>过程的信息，请<code class="codeph">ACCEPT_SQL_PROFILE</code> <a href="../arpls/DBMS_SQLTUNE.html#ARPLS220" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40" title="实现SQL配置文件意味着将其持久存储在数据库中。">实现SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94966"></a><a id="TGSQL609"></a><div class="props_rev_3"><a id="GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47" name="GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47"></a><h4 id="TGSQL-GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47" class="sect4"><span class="enumeration_section">26.2.2</span>实现SQL配置文件</h4>
                  <div>
                     <p>要实现SQL配置文件，请使用<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>过程。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47__GUID-0FA549CD-9EF3-4D2F-8300-0E04DD100D90">假设</p>
                        <p>本教程假设以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL Tuning Advisor任务<code class="codeph">STA_SPECIFIC_EMP_TASK</code>包含创建SQL配置文件的建议。
                              </p>
                           </li>
                           <li>
                              <p>SQL配置文件的名称是<code class="codeph">my_sql_profile</code> 。
                              </p>
                           </li>
                           <li>
                              <p>PL / SQL块接受使用并行执行的配置文件（ <code class="codeph">profile_type</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>配置文件使用强制匹配。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47__GUID-EC9A7CE1-CCB9-45C7-B829-DB1CAFEC46C0">要实现SQL配置文件：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>执行<code class="codeph">ACCEPT_SQL_PROFILE</code>函数。
                              </p>
                              <p>例如，执行以下PL / SQL：</p><pre class="pre codeblock"><code>DECLARE my_sqlprofile_name VARCHAR2（30）; BEGIN my_sqlprofile_name：= DBMS_SQLTUNE.ACCEPT_SQL_PROFILE（task_name =&gt;'STA_SPECIFIC_EMP_TASK'，name =&gt;'my_sql_profile'，profile_type =&gt; DBMS_SQLTUNE.PX_PROFILE，force_match =&gt; true）;结束; /</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B31665FC-A81A-46EE-B04C-39A3AC6C0F47__GUID-87C727FA-76A8-48E3-AE6C-91BDFAE1663F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_SQLTUNE.html#ARPLS68398" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_SQLTUNE.ACCEPT_SQL_PROFILE</code>过程</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-350D0B3C-881D-4841-A8E8-C5EAF68AFB40" title="实现SQL配置文件意味着将其持久存储在数据库中。">实现SQL配置文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL610"></a><div class="props_rev_3"><a id="GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC" name="GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC"></a><h3 id="TGSQL-GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC" class="sect3"><span class="enumeration_section">26.3</span>列出SQL配置文件</h3>
               <div>
                  <p>数据字典视图<code class="codeph">DBA_SQL_PROFILES</code>将SQL配置文件持久存储在数据库中。
                  </p>
                  <div class="section">
                     <p>配置文件统计信息采用Oracle数据库内部格式，因此您无法直接查询配置文件。但是，您可以列出配置文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC__GUID-CA454002-646B-4325-99AB-D06EC70EE8E8">列出SQL配置文件：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">DBA_SQL_PROFILES</code>视图。
                           </p>
                           <p>例如，执行以下查询：</p><pre class="pre codeblock"><code>COLUMN category FORMAT a10 COLUMN sql_text FORMAT a20 SELECT NAME，SQL_TEXT，CATEGORY，STATUS FROM DBA_SQL_PROFILES;</code></pre><p>示例输出显示如下：</p><pre class="pre codeblock"><code>名称SQL_TEXT CATEGORY STATUS ------------------------------ ---------------- ---- ---------- -------- SYS_SQLPROF_01285f6d18eb0000选择promo_name，c DEFAULT ENABLED ount（*）c来自promo tions p，sales s whe re s.promo_id = p.pr omo_id和p.promo_c ategory ='internet'group by p.promo_na me order by c desc</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A10B0EA8-3215-4F58-9CBF-F23EFF6584EC__GUID-5E637819-C7A8-498B-A988-66EAB4F933C1">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/DBA_SQL_PROFILES.html#REFRN23477" target="_blank"><span class="italic">Oracle Database Reference</span></a>了解<code class="codeph">DBA_SQL_PROFILES</code>视图</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL611"></a><div class="props_rev_3"><a id="GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166" name="GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166"></a><h3 id="TGSQL-GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166" class="sect3"><span class="enumeration_section">26.4</span>更改SQL配置文件</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER_SQL_PROFILE</code>过程的<code class="codeph">attribute_name</code>参数更改现有SQL配置文件的<code class="codeph">attribute_name</code> 。
                  </p>
                  <div class="section">
                     <p><code class="codeph">CATEGORY</code>属性确定哪些会话可以应用配置文件。通过查询<code class="codeph">DBA_SQL_PROFILES.CATEGORY</code>查看<code class="codeph">CATEGORY</code>属性。默认情况下，所有配置文件都在<code class="codeph">DEFAULT</code>类别中，这意味着<code class="codeph">SQLTUNE_CATEGORY</code>初始化参数设置为<code class="codeph">DEFAULT</code>所有会话都可以使用该配置文件。
                     </p>
                     <p>通过更改SQL配置文件的类别，可以确定配置文件创建会影响哪些会话。例如，通过将类别设置为<code class="codeph">DEV</code> ，只有<code class="codeph">SQLTUNE_CATEGORY</code>初始化参数设置为<code class="codeph">DEV</code>会话才能使用该配置文件。其他会话无权访问SQL配置文件，SQL语句的执行计划不受SQL配置文件的影响。此技术使您可以在限制环境中测试配置文件，然后将其用于其他会话。
                     </p>
                     <p>本节中的示例假定您要更改SQL配置文件的类别，以便仅将SQL配置文件类别设置为<code class="codeph">TEST</code>的会话使用它，运行SQL语句，然后将配置文件类别更改回<code class="codeph">DEFAULT</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166__GUID-F12E76FE-0BB0-43A1-9E88-482FF7CF8653">要更改SQL配置文件：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">ALTER_SQL_PROFILE</code>过程设置<code class="codeph">attribute_name</code> 。
                           </p>
                           <p>例如，执行以下代码将属性<code class="codeph">CATEGORY</code>设置为<code class="codeph">TEST</code> ：</p><pre class="pre codeblock"><code>VARIABLE pname my_sql_profile BEGIN DBMS_SQLTUNE.ALTER_SQL_PROFILE（name =&gt;：pname，attribute_name =&gt;'CATEGORY'，value =&gt;'TEST'）;结束;</code></pre></li>
                        <li>
                           <p>更改当前数据库会话中的初始化参数设置。</p>
                           <p>例如，执行以下SQL：</p><pre class="pre codeblock"><code>ALTER SESSION SET SQLTUNE_CATEGORY ='TEST';</code></pre></li>
                        <li>
                           <p>测试配置文件的SQL语句。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">ALTER_SQL_PROFILE</code>过程设置<code class="codeph">attribute_name</code> 。
                           </p>
                           <p>例如，执行以下代码将属性<code class="codeph">CATEGORY</code>设置为<code class="codeph">DEFAULT</code> ：</p><pre class="pre codeblock"><code>VARIABLE pname my_sql_profile BEGIN DBMS_SQLTUNE.ALTER_SQL_PROFILE（name =&gt;：pname，attribute_name =&gt;'CATEGORY'，value =&gt;'DEFAULT'）;结束;</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EF674EC7-7C8B-4EDC-A94C-62A4A16BC166__GUID-D1F7E260-32C6-4490-9B61-E0A2DC0ED8E8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../refrn/SQLTUNE_CATEGORY.html#REFRN10257" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">SQLTUNE_CATEGORY</code>初始化参数</p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_SQLTUNE.html#ARPLS68402" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">ALTER_SQL_PROFILE</code>过程</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL94967"></a><a id="TGSQL612"></a><div class="props_rev_3"><a id="GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C" name="GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C"></a><h3 id="TGSQL-GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C" class="sect3"><span class="enumeration_section">26.5</span>删除SQL配置文件</h3>
               <div>
                  <p>您可以使用<code class="codeph">DROP_SQL_PROFILE</code>过程删除SQL配置文件。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C__GUID-E5CF383E-DA3C-4E2B-BD7C-0F1C517A78DB">假设</p>
                     <p>本节假设以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>你想删除<code class="codeph">my_sql_profile</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果名称不存在，您希望忽略引发的错误。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C__GUID-FEC0F32F-0625-47BD-B7FB-E3A151850DF6">要删除SQL配置文件：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_SQLTUNE.DROP_SQL_PROFILE</code>过程。
                           </p>
                           <p>以下示例删除名为<code class="codeph">my_sql_profile</code>的概要文件：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLTUNE.DROP_SQL_PROFILE（name =&gt;'my_sql_profile'）;结束; /</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EE6AA78D-A7BA-4F27-8BE4-FAE4E1C7499C__GUID-DDE86E81-C28E-45C1-9EC4-19373633AAF7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../arpls/DBMS_SQLTUNE.html#ARPLS68418" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DROP_SQL_PROFILE</code>过程</p>
                        </li>
                        <li>
                           <p><a href="../refrn/SQLTUNE_CATEGORY.html#REFRN10257" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">SQLTUNE_CATEGORY</code>初始化参数</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL614"></a><a id="TGSQL94968"></a><a id="TGSQL613"></a><div class="props_rev_3"><a id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D" name="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D"></a><h3 id="TGSQL-GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D" class="sect3"><span class="enumeration_section">26.6</span>传输SQL配置文件</h3>
               <div>
                  <p>您可以将SQL配置文件从一个数据库中的<code class="codeph">SYS</code>模式导出到临时表，然后将其从登台表导入另一个数据库。您可以将SQL配置文件传输到在同一版本或更高版本中创建的任何Oracle数据库。
                  </p>
                  <div class="section">
                     <p><a href="managing-sql-profiles.html#GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__BABHHJAF" title="SQLTUNE API">表26-1</a>显示了管理SQL配置文件的主要过程和函数。
                     </p>
                     <div class="tblformal" id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__BABHHJAF">
                        <p class="titleintable">表26-1传输SQL配置文件的API</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="用于传输SQL配置文件的API" width="100%" border="1" summary="SQLTUNE APIs" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d136610e2883">程序或功能</th>
                                 <th align="left" valign="bottom" id="d136610e2886">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d136610e2891" headers="d136610e2883 ">
                                    <p><code class="codeph">CREATE_STGTAB_SQLPROF</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d136610e2891 d136610e2886 ">
                                    <p>创建用于将SQL配置文件从一个系统复制到另一个系统的临时表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d136610e2899" headers="d136610e2883 ">
                                    <p><code class="codeph">PACK_STGTAB_SQLPROF</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d136610e2899 d136610e2886 ">
                                    <p>将配置文件数据从<code class="codeph">SYS</code>模式移动到登台表中。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d136610e2910" headers="d136610e2883 ">
                                    <p><code class="codeph">UNPACK_STGTAB_SQLPROF</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d136610e2910 d136610e2886 ">
                                    <p>使用存储在登台表中的配置文件数据在此系统上创建配置文件。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>下图显示了传输SQL配置文件的基本工作流程。</p>
                     <div class="figure" id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__GUID-834E79B6-7318-48C2-87B2-5B59BF050184">
                        <p class="titleinfigure">图26-3传输SQL配置文件</p><img src="img/tgsql_vm_066.png" alt="下面是图26-3的描述" title="下面是图26-3的描述" longdesc="img_text/tgsql_vm_066.html"><br><a href="img_text/tgsql_vm_066.html">“图26-3传输SQL配置文件”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__GUID-C6A16E15-4353-4F21-B9C8-41B8715B1918">假设</p>
                     <p>本教程假设以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您希望将<code class="codeph">my_profile</code>从生产数据库传输到测试数据库。
                           </p>
                        </li>
                        <li>
                           <p>您想在<code class="codeph">dba1</code>架构中创建临时表。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__GUID-502E9FC0-096B-4A07-B83F-D05374F773F4">要传输SQL配置文件：</p>
                     <ol>
                        <li>
                           <p>使用适当的权限将SQL * Plus连接到数据库，然后使用<code class="codeph">CREATE_STGTAB_SQLPROF</code>过程创建用于保存SQL配置文件的临时表。
                           </p>
                           <p>以下示例在<code class="codeph">dba1</code>架构中创建<code class="codeph">my_staging_table</code> ：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLTUNE.CREATE_STGTAB_SQLPROF（table_name =&gt;'my_staging_table'，schema_name =&gt;'dba1'）;结束; /</code></pre></li>
                        <li>
                           <p>使用<code class="codeph">PACK_STGTAB_SQLPROF</code>过程将SQL配置文件导出到临时表中。
                           </p>
                           <p>以下示例使用SQL配置文件<code class="codeph">my_profile</code>填充<code class="codeph">dba1.my_staging_table</code> ：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLTUNE.PACK_STGTAB_SQLPROF（profile_name =&gt;'my_profile'，staging_table_name =&gt;'my_staging_table'，staging_schema_owner =&gt;'dba1'）;结束; /</code></pre></li>
                        <li>
                           <p>将登台表移动到计划解压缩SQL配置文件的数据库。</p>
                           <p>使用您选择的实用程序移动表。例如，使用Oracle Data Pump或数据库链接。</p>
                        </li>
                        <li>
                           <p>在计划导入SQL配置文件的数据库上，使用<code class="codeph">UNPACK_STGTAB_SQLPROF</code>从登台表中解压缩SQL配置文件。
                           </p>
                           <p>以下示例说明如何在登台表中解压缩SQL配置文件：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLTUNE.UNPACK_STGTAB_SQLPROF（replace =&gt; true，staging_table_name =&gt;'my_staging_table'）;结束; /</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-147E953C-C6BD-4A4A-BAD6-A269DB72CE9D__GUID-C6966ECF-E518-4AD6-8742-79346FCCC4DA">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">DBMS_SQLTUNE</code>完整参考信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=ARPLS220" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a> ，了解如何使用Oracle Data Pump</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-sql-profiles.html#GUID-C7FE0936-63B8-46EF-A03E-7E59F704606E" title="如有必要，SQL Tuning Advisor建议使用SQL配置文件。您可以使用DBMS_SQLTUNE来实现，更改，删除和传输SQL配置文件。">管理SQL配置文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04811.oci-pin-unpin-and-free-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes the OCI pin, unpin, and free functions."></meta>
      <meta name="description" content="Lists and describes the OCI pin, unpin, and free functions."></meta>
      <title>OCI引脚，取消固定和自由功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes the OCI pin, unpin, and free functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-miscellaneous-object-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-type-information-accessor-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-miscellaneous-object-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-type-information-accessor-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-navigational-and-type-functions.html" property="item" typeof="WebPage"><span property="name">OCI导航和类型功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI引脚，取消固定和自由功能</li>
            </ol>
            <a id="GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814" name="GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814"></a><a id="LNOCI17346"></a><a id="LNOCI175"></a>
            
            <h2 id="LNOCI-GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814" class="sect2"><span class="enumeration_section">27.6</span> OCI引脚，取消固定和自由功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI引脚，取消固定和自由功能。</p>
               <div class="section">
                  <p><a href="oci-pin-unpin-and-free-functions.html#GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814__CACHCHHC" title="该表有2列。第1列是函数名称，第2列描述其用途。">表27-10</a>描述了本节中描述的OCI引脚，非引脚和自由功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814__CACHCHHC">
                  <p class="titleintable">表27-10引脚，取消固定和自由功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="固定，取消固定和自由功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="47%" id="d246667e201">功能</th>
                           <th align="left" valign="bottom" width="53%" id="d246667e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e209" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" title="释放指定连接的缓存中的所有对象和值。">OCICacheFree（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e209 d246667e204 ">
                              <p>缓存中的自由对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e221" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="取消持久对象。">OCICacheUnpin（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e221 d246667e204 ">
                              <p>取消固定缓存或连接中的持久对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e233" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="引入一系列引用。">OCIObjectArrayPin（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e233 d246667e204 ">
                              <p>固定一系列参考文献</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e245" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e245 d246667e204 ">
                              <p>释放先前分配的对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e257" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e257 d246667e204 ">
                              <p>固定一个物体</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e269" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="完全取消对象，将其引脚数设置为零。">OCIObjectPinCountReset（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e269 d246667e204 ">
                              <p>将对象取消固定为零引脚数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e281" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" title="将表对象固定指定的持续时间。">OCIObjectPinTable（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e281 d246667e204 ">
                              <p>固定具有给定持续时间的表对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="47%" id="d246667e293" headers="d246667e201 ">
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></p>
                           </td>
                           <td align="left" valign="top" width="53%" headers="d246667e293 d246667e204 ">
                              <p>取消固定对象</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17347"></a><div class="props_rev_3"><a id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" name="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB"></a><h3 id="LNOCI-GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" class="sect3"><span class="enumeration_section">27.6.1</span> OCICacheFree（）</h3>
               <div>
                  <p>释放指定连接的缓存中的所有对象和值。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-9D4A3D62-48C6-499F-A476-3F1624F9DA7E">目的</p>
                     <p>释放指定连接的缓存中的所有对象和值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-B1CFFF35-A33D-4342-94BD-5ED1D00094BA">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICacheFree（OCIEnv * env，OCIError *错误，const OCISvcCtx * svc）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-E7D8AF82-FFDA-441B-8978-412992245436">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-26EAE736-B55F-4095-AD8B-04A3A9D9E531"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-BDBEEC20-1C2F-4F3E-BFDC-8A7A2F23BB0E"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-A28CF077-9ED8-4652-88C0-6968735203D6"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-8D9112C8-8C68-490B-A992-BDD76122840E">评论</p>
                     <p>如果指定了连接，则此函数将释放为该连接分配的持久对象，临时对象和值。否则，将释放对象缓存中的所有持久对象，临时对象和值。无论引脚数如何，都可以释放对象。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-622CA05C-794E-4CAB-8528-97D4EB88B146">
                     <p class="notep1">也可以看看：</p>
                     <p>有关释放实例的更多信息，请<code class="codeph">OCIObjectFree()</code></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17348"></a><div class="props_rev_3"><a id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" name="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF"></a><h3 id="LNOCI-GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" class="sect3"><span class="enumeration_section">27.6.2</span> OCICacheUnpin（）</h3>
               <div>
                  <p>取消持久对象。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-4C7069D7-7CA7-4542-BDD9-8A8BF4252B5F">目的</p>
                     <p>取消持久对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-0F90AE35-2124-4702-B790-F9719A1BFABA">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICacheUnpin（OCIEnv * env，OCIError *错误，const OCISvcCtx * svc）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-5D3437B1-0A31-4DFD-90DC-72E9DF18E7F0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-D952DC6C-B1FE-429E-839F-63592D29FAF8"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-99B3ABF3-8985-432E-8CD2-CB90FA5B59DF"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-CED71E0A-EA02-4320-912A-DAC54A8C7352"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。取消固定指定连接上的对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-DEA46E12-CFB1-473E-8CF1-2A2142588805">评论</p>
                     <p>此函数完全取消给定连接的所有持久对象。对象的引脚数重置为零。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="oci-object-relational-programming.html#GUID-B9E5DDBD-19CD-4AE0-B1D3-3B85ADEAAAB1" title="固定对象会将对象实例加载到对象缓存中，并允许您访问和修改实例的属性，并在必要时跟踪该对象对其他对象的引用。">固定一个对象</a></li>
                        <li><a href="oci-object-relational-programming.html#GUID-86097867-CFAA-428C-AE6D-B08E45220DDD" title="对象缓存中的每个对象都有一个与之关联的引脚数。">引脚数和取消固定</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17349"></a><div class="props_rev_3"><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9"></a><h3 id="LNOCI-GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" class="sect3"><span class="enumeration_section">27.6.3</span> OCIObjectArrayPin（）</h3>
               <div>
                  <p>引入一系列引用。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-5F4F31B8-3CDC-408E-8567-4B2F0B983CCA">目的</p>
                     <p>引入一系列引用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-35C6A78F-9915-4D1E-B13B-529738FF7F8E">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectArrayPin（OCIEnv * env，OCIError * err，OCIRef ** ref_array，ub4 array_size，OCIComplexObject ** cor_array，ub4 cor_array_size，OCIPinOpt pin_option，OCIDuration pin_duration，OCILockOpt lock，void ** obj_array，ub4 * pos）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-F22B20B9-DEC0-4EAC-B0BD-2CBC04E573F9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-48905952-EF21-41E3-ACF5-2495BCBB1684"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-A60BAE11-50E9-4209-B95D-C0F351E0809E"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-E4B6E656-FC4A-46E4-B8F7-D5E0D022A55E"><!-- --></a> ref_array（IN）</dt>
                        <dd>
                           <p>要固定的引用数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D40E939B-2009-4ACA-9352-3F8398E46E19"><!-- --></a> array_size（IN）</dt>
                        <dd>
                           <p>引用数组中的元素数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D823A2FB-0198-4062-84C2-4817C2CF26A6"><!-- --></a> cor_array</dt>
                        <dd>
                           <p>与被固定对象相对应的COR句柄数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D7F61C53-713D-4D32-986E-6768D3D9F536"><!-- --></a> cor_array_size</dt>
                        <dd>
                           <p><code class="codeph">cor_array</code>的元素<code class="codeph">cor_array</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-01657E68-A7A5-4AE5-91A5-2B0A27952C93"><!-- --></a> pin_option（IN）</dt>
                        <dd>
                           <p>引脚选项。</p>
                           <div class="infoboxnotealso" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-BB590732-D44E-41E7-A8AB-1BEB67B2B9E0">
                              <p class="notep1">也可以看看：</p>
                              <p><code class="codeph">OCIObjectPin（）</code></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D00C12A7-62E4-4350-9AF9-756B7EAEA226"><!-- --></a> pin_duration（IN）</dt>
                        <dd>
                           <p>引脚持续时间请参阅<code class="codeph">OCIObjectPin()</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-7D71FCDB-4070-4BE6-AB0F-E311E3D378B7"><!-- --></a>锁定（IN）</dt>
                        <dd>
                           <p>锁定选项。请参阅<code class="codeph">OCIObjectPin()</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-AF22815D-31BF-44CB-AC2B-AEBCFD7B45C9"><!-- --></a> obj_array（OUT）</dt>
                        <dd>
                           <p>如果此参数不为<code class="codeph">NULL</code> ，则在数组中返回固定对象。用户必须使用<code class="codeph">void *</code>的元素类型分配此数组。此数组的大小与<code class="codeph">array_size</code>相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-C87758BE-410E-4D50-B9C4-7619E31A42C9"><!-- --></a> pos（OUT）</dt>
                        <dd>
                           <p>如果存在错误，则此参数指示导致错误的元素。请注意，对于<code class="codeph">ref_array</code>的第一个元素，此参数设置为1。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-1A38E7F5-4B46-4982-8709-0F1EAAE55876">评论</p>
                     <p>在一个网络往返中从数据库中检索所有固定对象。如果用户指定输出数组（ <code class="codeph">obj_array</code> ），则固定对象的地址将分配给数组中的元素。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17350"></a><div class="props_rev_3"><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744"></a><h3 id="LNOCI-GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" class="sect3"><span class="enumeration_section">27.6.4</span> OCIObjectFree（）</h3>
               <div>
                  <p>释放和取消对象实例。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-4B647E8D-2201-4A38-9B9A-3242C3C46A2D">目的</p>
                     <p>释放和取消对象实例。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-82F7543F-72A1-4494-A5E2-AC820576B54D">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectFree（OCIEnv * env，OCIError * err，void * instance，ub2 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-13D8A131-B787-4F1E-96F3-EB40F16CC69B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-7F5E0F3E-B9A8-4F96-B79F-AD8F3CA7A418"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-90041A02-C90E-49D0-9EAF-0206A21F9F48"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-F472BF5F-DD2A-49BC-A80C-3AF3C53C61C7"><!-- --></a>实例（IN）</dt>
                        <dd>
                           <p>指向独立实例的指针。如果它是一个对象，则必须固定它。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-01C110E5-E772-4A41-B6FB-5DA9A63CFE69"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>如果传递了<code class="codeph">OCI_OBJECTFREE_FORCE</code> ，即使它被固定或脏，也要释放该对象。如果传递<code class="codeph">OCI_OBJECTFREE_NONULL</code> ，则不释放<code class="codeph">NULL</code>结构。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-929C848D-FD45-4249-857E-95AF2AE579A1">评论</p>
                     <p>此函数释放为对象实例分配的所有内存，包括<code class="codeph">NULL</code>结构。以下规则适用于不同的实例类型：</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-FFD0867F-CF39-433A-8172-DB40026C6349"><!-- --></a>对于持久对象</dt>
                        <dd>
                           <p>如果客户端尝试释放尚未刷新的脏持久对象，则此函数返回错误。客户端应该刷新持久对象，取消标记它，或者将参数<code class="codeph">flags</code>设置为<code class="codeph">OCI_OBJECTFREE_FORCE</code> 。</p>
                           <p>此函数调用<code class="codeph">OCIObjectUnpin()</code>一次以检查对象是否可以完全取消固定。如果成功，则函数的其余部分继续释放对象。如果失败，则返回错误，除非参数<code class="codeph">flags</code>设置为<code class="codeph">OCI_OBJECTFREE_FORCE</code> 。</p>
                           <p>释放内存中的持久对象不会更改服务器上该对象的持久状态。例如，在释放对象后对象保持锁定状态。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-F7560342-DC7A-40B2-A7FE-F86257ED9120"><!-- --></a>对于瞬态对象</dt>
                        <dd>
                           <p>此函数调用<code class="codeph">OCIObjectUnpin()</code>一次以检查对象是否可以完全取消固定。如果成功，则函数的其余部分继续释放对象。如果失败，则返回错误，除非参数<code class="codeph">flags</code>设置为<code class="codeph">OCI_OBJECTFREE_FORCE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-5700BA50-450C-41FF-99A1-5ECAAE9FB7A5"><!-- --></a>对于值</dt>
                        <dd>
                           <p>对象的内存立即释放。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" title="释放指定连接的缓存中的所有对象和值。">OCICacheFree（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17351"></a><div class="props_rev_3"><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62"></a><h3 id="LNOCI-GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" class="sect3"><span class="enumeration_section">27.6.5</span> OCIObjectPin（）</h3>
               <div>
                  <p>引脚可引用对象。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-E4FD7247-4475-427D-BC22-29C8DCEE5083">目的</p>
                     <p>引脚可引用对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-2A2F8886-BC0C-48EB-BA2E-51A9788934F8">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectPin（OCIEnv * env，OCIError * err，OCIRef * object_ref，OCIComplexObject * corhdl，OCIPinOpt pin_option，OCIDuration pin_duration，OCILockOpt lock_option，void ** object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-16B461BB-E6EF-4A06-BBE5-CB7A7608B435">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-86EF6F94-F6ED-4517-8B27-9D058AD6B008"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-99D265E9-5606-4141-9E24-3C3254219072"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-5749E31A-06F1-4D47-ADEC-DDEACA7EE8BD"><!-- --></a> object_ref（IN）</dt>
                        <dd>
                           <p>对象的引用。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4CEDDC68-0DCB-41AC-8F6C-AED3D2A9E299"><!-- --></a> corhdl（IN）</dt>
                        <dd>
                           <p>处理复杂的对象检索。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-28C0C218-94C6-451A-A0C1-55D5D41969C2"><!-- --></a> pin_option（IN）</dt>
                        <dd>
                           <p>用于指定要检索的对象的副本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B07F5211-9D61-464B-8D79-3540D2DAE45D"><!-- --></a> pin_duration（IN）</dt>
                        <dd>
                           <p>客户端访问对象的持续时间。在引脚持续时间结束时隐含地取消固定该对象。如果传递了<code class="codeph">OCI_DURATION_NULL</code> ，则如果对象已加载到缓存中，则没有引脚提升。如果对象还没有加载，则引脚持续时间设置为<code class="codeph">OCI_DURATION_DEFAULT</code>为<code class="codeph">OCI_DURATION_NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-56CE1274-450B-4E16-82E9-682849ECAC69"><!-- --></a> lock_option（IN）</dt>
                        <dd>
                           <p>锁定选项（例如，独占）。如果指定了锁定选项，则该对象将在服务器中锁定。也可以通过调用<code class="codeph">OCIObjectIsLocked()</code>来检索对象的锁定状态。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_LOCK_NONE</code> （无锁定）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_LOCK_X</code> （独家锁定）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_LOCK_X_NOWAIT</code> （使用<code class="codeph">NOWAIT</code>选项进行独占锁定）</p>
                           <div class="infoboxnotealso" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B15FCE68-F9EB-440B-970C-05753CF0FEFC">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-05B2D3AC-0677-4C38-9350-875820048948" title="有时，应用程序会尝试锁定当前被其他用户锁定的对象。在这种情况下，应用程序被阻止。">关于使用NOWAIT选项锁定</a></p>
                           </div>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4A56A34E-13EB-4FE0-8FFD-E9EB1BCA1A19"><!-- --></a>对象（OUT）</dt>
                        <dd>
                           <p>指向固定对象的指针。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-8818D711-CB0C-4285-BD70-5245D76893A0">评论</p>
                     <p>给定对象引用时，此函数会引用可引用的对象实例。钉扎过程有两个目的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它根据参考找到一个对象。这是通过跟踪对象缓存中的对象的对象缓存来完成的。</p>
                        </li>
                        <li>
                           <p>它通知对象高速缓存正在使用持久对象，使得持久对象不能被老化。因为可以在需要时从服务器加载持久对象，所以如果即使在分配持续时间到期之前可以释放（老化）完全取消固定的持久对象，也可以增加存储器利用率。对象可以多次固定。固定对象保留在内存中，直到完全取消固定为止。</p>
                           <div class="infoboxnotealso" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-0F775C68-D791-4776-B806-DA8908B9800A">
                              <p class="notep1">也可以看看：</p>
                              <p><code class="codeph">OCIObjectUnpin（）</code></p>
                           </div>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4FEBF7B2-7502-46F1-83F1-4294309E04E4"><!-- --></a>对于持久对象</dt>
                        <dd>
                           <p>固定持久对象时，如果它不在缓存中，则从持久性存储中获取该对象。对象的分配持续时间是会话。如果对象已在缓存中，则将其返回给客户端。如果指定了锁定选项，则对象将锁定在服务器中。</p>
                           <p>此函数返回不存在的对象的错误。</p>
                           <p>pin选项用于指定要检索的对象的副本：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">pin_option</code>是<code class="codeph">OCI_PIN_ANY</code> （引脚任意），那么如果对象已经在对象缓存中，则返回此对象。否则，从数据库中检索对象。在这种情况下，它与<code class="codeph">OCI_PIN_LATEST</code>相同。当客户端知道他对会话中的数据具有独占访问权时，此选项很有用。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">pin_option</code>是<code class="codeph">OCI_PIN_LATEST</code> （最新的引脚），如果对象未锁定，则从数据库中检索它。如果对象已缓存，则使用最新版本刷新。有关刷新的更多信息，请参阅<code class="codeph">OCIObjectRefresh()</code> 。如果对象已经固定在缓存中并标记为脏，则返回指向该对象的指针。该对象未从数据库刷新。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">pin_option</code>是<code class="codeph">OCI_PIN_RECENT</code> （引脚最近），如果对象被加载到当前事务的缓存中，则返回该对象。如果在当前事务中未加载该对象，则从服务器刷新该对象。
                           </p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B91BB3A1-0DA1-43F1-A173-607FDFABD111"><!-- --></a>对于瞬态对象</dt>
                        <dd>
                           <p>如果已释放瞬态对象，则此函数返回错误。如果在锁定选项中指定了独占锁，则此函数不会返回错误。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="完全取消对象，将其引脚数设置为零。">OCIObjectPinCountReset（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17352"></a><div class="props_rev_3"><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3"></a><h3 id="LNOCI-GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" class="sect3"><span class="enumeration_section">27.6.6</span> OCIObjectPinCountReset（）</h3>
               <div>
                  <p>完全取消对象，将其引脚数设置为零。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-E4B53776-F169-4CD1-8393-D0EC36A003A1">目的</p>
                     <p>完全取消对象，将其引脚数设置为零。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-B122803B-D836-430C-871B-739DAB1FD581">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectPinCountReset（OCIEnv * env，OCIError * err，void * object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-51D74F00-702E-4345-90E7-8E55B77D7659">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-0E27A2E8-AB9F-4DFF-80E3-2FD6ED739545"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-7A2CD903-9F23-4096-B56E-A4475827012D"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-2F80061D-4400-4554-9026-955322EBA400"><!-- --></a>对象（IN）</dt>
                        <dd>
                           <p>指向对象的指针，该对象必须已固定。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-85A96AE1-9F2E-4438-8B9A-8500E211C8BA">评论</p>
                     <p>此功能完全取消对象的取消，将其引脚数设置为零。当一个对象完全取消固定时，OCI可以随时隐式释放它而不会出错。以下规则适用于特定对象类型：</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-CBC5C6F0-197C-4D0C-AE31-4604B9C2135F"><!-- --></a>对于持久对象</dt>
                        <dd>
                           <p>当一个持久对象完全取消固定时，它就成了老化的候选对象。对象的内存在老化时被释放。老化用于最大化内存利用率。除非刷新，否则脏对象不能老化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-7F4E16A1-A057-42BB-B39A-4249EB361D78"><!-- --></a>适用于瞬态对象</dt>
                        <dd>
                           <p>对象的引脚数减少。瞬态对象只能在其分配持续时间结束时或通过调用<code class="codeph">OCIObjectFree()</code>显式释放时释放。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-9D906295-5CF0-48D6-B9F9-0E7B6543828B"><!-- --></a>对于值</dt>
                        <dd>
                           <p>此函数返回值的错误。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="oci-object-relational-programming.html#GUID-86097867-CFAA-428C-AE6D-B08E45220DDD" title="对象缓存中的每个对象都有一个与之关联的引脚数。">引脚数和取消固定</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17353"></a><div class="props_rev_3"><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8"></a><h3 id="LNOCI-GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" class="sect3"><span class="enumeration_section">27.6.7</span> OCIObjectPinTable（）</h3>
               <div>
                  <p>将表对象固定指定的持续时间。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-07DF191B-3A5F-47B3-91E4-D074EAC60F30">目的</p>
                     <p>将表对象固定指定的持续时间。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-8CA1C941-9FFF-4E82-8594-18E67373628C">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectPinTable（OCIEnv * env，OCIError * err，const OCISvcCtx * svc，const OraText * schema_name，ub4 s_n_length，const OraText * object_name，ub4 o_n_length，const OCIRef * scope_obj_ref，OCIDuration pin_duration，void ** object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-E121552D-A87A-475C-87E8-8AA7A7DB4729">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-2E5B0FB1-9CF8-4A53-A7D5-4B1FB0D1AA42"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-7BFDE573-E77E-4582-8D30-5D2D9C040416"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-853BAFFD-24B2-466B-B869-39CE3C2A0742"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-3067A6FE-3399-42AC-B51B-B1F292AA4E4A"><!-- --></a> schema_name（IN）[可选]</dt>
                        <dd>
                           <p>表的模式名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-63227713-B710-480E-9620-7404D23C6158"><!-- --></a> s_n_length（IN）[可选]</dt>
                        <dd>
                           <p><code class="codeph">schema_name</code>中指示的模式名称的长度，以字节为单位。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F3CBC07C-AAAF-4D6D-849D-0C8C792EA3AB"><!-- --></a> object_name（IN）</dt>
                        <dd>
                           <p>表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-72A46449-8794-478E-AF4A-8FF5AD9F2000"><!-- --></a> o_n_length（IN）</dt>
                        <dd>
                           <p><code class="codeph">object_name</code>中指定的表名长度，以字节为单位。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F058A271-0AB4-4810-9572-FF1818677F42"><!-- --></a> scope_obj_ref（IN）[可选]</dt>
                        <dd>
                           <p>范围对象的引用。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F089FC44-EEF1-4806-BE36-FB55BDE61E1D"><!-- --></a> pin_duration（IN）</dt>
                        <dd>
                           <p>引脚持续时间。</p>
                           <div class="infoboxnotealso" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-1F4EC52C-024E-4F50-B9DF-0585A57648BE">
                              <p class="notep1">也可以看看：</p>
                              <p><code class="codeph">OCIObjectPin（）</code></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-EF5D393B-A084-459F-B847-FA6405D49950"><!-- --></a>对象（OUT）</dt>
                        <dd>
                           <p>固定表对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-90A1F6E2-1304-4B5E-BEB7-FEE1A1699AB8">评论</p>
                     <p>此函数使用指定的引脚持续时间固定表对象。客户端可以通过调用<code class="codeph">OCIObjectUnpin()</code>取消固定对象。
                     </p>
                     <p>由此调用固定的表对象可以作为参数传递给<code class="codeph">OCIObjectNew()</code>以创建独立的持久对象。
                     </p>
                     <div class="infoboxnote" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-E3E4084F-D9E0-47E2-BB48-EFE529AF8C91">
                        <p class="notep1">注意：</p>
                        <p>通过此函数获得的TDO（TDO数组或表定义）属于与传入的服务句柄（连接）对应的高速缓存的逻辑分区。如果跨逻辑分区使用TDO或表，则行为未知且可能在发布之间发生更改。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17354"></a><div class="props_rev_3"><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B" name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B"></a><h3 id="LNOCI-GUID-109DD260-8094-489C-A85C-AB27277E6D9B" class="sect3"><span class="enumeration_section">27.6.8</span> OCIObjectUnpin（）</h3>
               <div>
                  <p>取消一个对象。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-7F33CD3A-CFD8-4769-8D41-20C23933368B">目的</p>
                     <p>取消一个对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-9740C1D2-786B-4DD5-992A-135410524839">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectUnpin（OCIEnv * env，OCIError * err，void * object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-C5791B1B-726A-4EB6-A078-9074C3809197">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-9CC57F1C-DA10-42FC-A6A8-20F89314EC7A"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-149500A7-2D7C-4F8C-BE34-1ED18382A0DC"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-8BC56F13-82AA-40BE-AF70-2A16E376FF52"><!-- --></a>对象（IN）</dt>
                        <dd>
                           <p>指向对象的指针，该对象必须已固定。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-88E770AC-599F-4FA6-BFB8-8F9E4A287DDD">评论</p>
                     <p>每个对象都有一个引脚数，每当一个对象被固定时，它就会递增。当对象的引脚数为零时，该对象被称为完全取消固定。OCI可以随时隐式释放未固定的对象而不会出错。</p>
                     <p>此函数取消对象。当满足以下任何条件时，对象将完全取消固定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对象的引脚数达到零（即，它是未固定共<span class="italic">n</span>次，共<span class="italic">n</span>次正在固定之后）。
                           </p>
                        </li>
                        <li>
                           <p>它是对象引脚持续时间的结束。</p>
                        </li>
                        <li>
                           <p>在对象上调用函数<code class="codeph">OCIObjectPinCountReset()</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>当一个对象完全取消固定时，OCI可以随时隐式释放它而不会出错。</p>
                     <p>以下规则适用于取消固定不同类型的对象：</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-075FF6E9-8AEB-4B9E-81E8-D3FB4C0A5F33"><!-- --></a>对于持久对象</dt>
                        <dd>
                           <p>当一个持久对象完全取消固定时，它就成了老化的候选对象。对象的内存在老化时被释放。老化用于最大化内存利用率。除非刷新，否则脏对象不能老化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-8AAAB867-8805-4ED2-B205-1782D6144404"><!-- --></a>用于瞬态对象</dt>
                        <dd>
                           <p>对象的引脚数减少。瞬态对象只能在其分配持续时间结束时或通过调用<code class="codeph">OCIObjectFree()</code>显式删除时释放。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-CB4A2D8A-80B3-40BB-8089-CF781B3BDDBD"><!-- --></a>对于值</dt>
                        <dd>
                           <p>此函数返回值的错误。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="完全取消对象，将其引脚数设置为零。">OCIObjectPinCountReset（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="13538.monitoring-xstream-in.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can monitor an XStream In configuration by querying data dictionary views."></meta>
      <meta name="description" content="You can monitor an XStream In configuration by querying data dictionary views."></meta>
      <title>监控XStream</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="You can monitor an XStream In configuration by querying data dictionary views."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-xstream-in.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-xstream-in.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-xstream-in.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-xstream-in.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-in.html" property="item" typeof="WebPage"><span property="name">XStream In</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控XStream</li>
            </ol>
            <a id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6" name="GUID-46B54351-BA11-412B-A23F-92F44739A8F6"></a><a id="XSTRM72716"></a>
            
            <h2 id="XSTRM-GUID-46B54351-BA11-412B-A23F-92F44739A8F6" class="sect2"><span class="enumeration_chapter">11</span>监控XStream</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以通过查询数据字典视图来监视XStream In配置。</p>
               <p><a id="d55916e90" class="indexterm-anchor"></a>本章提供有关监视XStream的说明。
               </p>
               <p>使用XStream In，Oracle Apply进程可用作入站服务器。因此，您还可以使用数据字典视图来应用进程来监视入站服务器。</p>
               <div class="infoboxnote" id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6__GUID-86BD077C-2A30-4AE7-A1E5-FC98A2535752">
                  <p class="notep1">注意：</p>
                  <p>只要有可能，本章将<code class="codeph">ALL_</code>静态数据字典视图用于查询示例。在某些情况下， <code class="codeph">ALL_</code>视图中的信息比<code class="codeph">DBA_</code>视图中的信息更受限制。
                  </p>
                  <p>在SQL * Plus中，受信任的XStream管理员可以查询<code class="codeph">ALL_</code>和<code class="codeph">DBA_</code>视图。不受信任的XStream管理员只能查询<code class="codeph">ALL_</code>视图。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435">显示入站服务器的会话信息</a><br>示例说明了显示入站服务器的会话信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-86433F0C-AA89-4277-B364-7E13287725EA">显示入站服务器的常规信息</a><br>示例说明了显示有关入站服务器的常规信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-B18DAB66-8842-482C-8F8D-493892373721">监视组件中XStream的事件历史记录</a><br>示例说明了通过查询<code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code>视图来监视XStream In组件的事件历史记录。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B">显示入站服务器的状态和错误信息</a><br>示例说明了显示入站服务器的状态和错误信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-8F223E94-B47E-470E-913F-82FCAC0074EF">显示应用入站服务器的参数设置</a><br>示例说明了显示入站服务器的应用参数设置。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF">显示入站服务器的位置信息</a><br>示例说明了显示入站服务器的位置信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-BF458EA7-35E7-4608-825F-DA99466D82E6">显示有关DML冲突处理程序的信息</a><br><code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code>视图显示有关DML冲突处理程序的信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9">显示有关错误处理程序的信息</a><br><code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code>视图显示有关DML冲突处理程序的信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-43A987B4-7F6C-4BC3-A813-F6E062175207">检查应用错误</a><br>示例说明了检查应用错误。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B">显示有关应用错误的详细信息</a><br>SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6__GUID-E30081A2-33F7-4917-A48F-1BA3EAFFB6CB">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="有几种常见的XStream用例。">XStream用例</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="troubleshooting-xstream-in.html#GUID-5A6A993B-2196-4D5A-BB8A-9E5A8E2B641D" title="您可以使用XStream In配置诊断和更正问题。">排除XStream故障</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-in.html#GUID-D7F5E262-D5D6-4286-95CD-E69FFB8DAAAE" title="您可以配置和管理XStream In环境。">XStream In</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM72898"></a><div class="props_rev_3"><a id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435" name="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435"></a><h3 id="XSTRM-GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435" class="sect3"><span class="enumeration_section">11.1</span>显示入站服务器的会话信息</h3>
               <div>
                  <p>示例说明了显示入站服务器的会话信息。</p>
                  <div class="section">
                     <p>本节中的查询显示有关数据库中每个XStream组件的以下会话信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XStream组件名称</p>
                        </li>
                        <li>
                           <p>会话标识符</p>
                        </li>
                        <li>
                           <p>序列号</p>
                        </li>
                        <li>
                           <p>操作系统进程标识号</p>
                        </li>
                        <li>
                           <p>XStream进程号</p>
                        </li>
                     </ul>
                     <p>当数据库中配置了多个XStream In组件时，此查询对于确定特定XStream组件的会话信息特别有用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-14CBD4E6-A6A5-4613-B7B4-C0B9BA847F34">要为数据库中的每个XStream组件显示此信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">列操作标题'XStream组件'格式A30列标题标题'会话ID'格式99999列序列号＃标题'会话|序列号|编号'格式99999999列过程标题'操作系统|进程号'格式A17列过程'标题'HEADING'XStream |进程| Number'FORMAT A7 SELECT / * + PARAM（'_ module_action_old_length'，0）* / ACTION，SID，SERIAL＃，PROCESS，SUBSTR（PROGRAM，INSTR（PROGRAM，'（'）+ 1,4）PROCESS_NAME FROM V $ SESSION WHERE MODULE ='XStream';</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您在XStream In配置中的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">会话XStream串行操作系统进程XStream组件会话ID号进程号码------------------------------ ------ ---- --------- ----------------- ------- XIN  - 应用Reader 19 9 27304 AS01 XIN  - 应用服务器22 5 27308 AS03 XIN  - 应用服务器25 31 27313 AS05 XIN  - 应用协调器112 7 27302 AP01 XIN  - 应用服务器113 5 27306 AS02 XIN  - 传播接收器114 17 27342 TNS XIN  - 应用服务器115 39 27311 AS04</pre><p>显示XStream进程号的<code class="codeph">TNS</code>的行包含有关连接到入站服务器的XStream客户端应用程序的会话的信息。
                     </p>
                     <div class="infoboxnote" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-DB840FD3-F031-4422-8E2F-55F9C0B5076B">
                        <p class="notep1">注意：</p>
                        <p>要运行此查询，用户必须具有查询<code class="codeph">V$SESSION</code>视图所需的权限。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-7850C59E-F31A-4BE5-BB96-CFDE2384CB2A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">V$SESSION</code>视图的更多信息，请<a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1443"></a><div class="props_rev_3"><a id="GUID-86433F0C-AA89-4277-B364-7E13287725EA" name="GUID-86433F0C-AA89-4277-B364-7E13287725EA"></a><h3 id="XSTRM-GUID-86433F0C-AA89-4277-B364-7E13287725EA" class="sect3"><span class="enumeration_section">11.2</span>显示入站服务器的常规信息</h3>
               <div>
                  <p>示例说明了显示有关入站服务器的常规信息。</p>
                  <div class="section">
                     <p>您可以通过运行本节中的查询来显示入站服务器的以下信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>入站服务器名称</p>
                        </li>
                        <li>
                           <p>入站服务器使用的队列的所有者</p>
                        </li>
                        <li>
                           <p>入站服务器使用的队列名称</p>
                        </li>
                        <li>
                           <p>入站服务器的应用用户</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86433F0C-AA89-4277-B364-7E13287725EA__GUID-3F4F9B2C-8DAD-4E26-846F-BA16A341024E">要显示有关入站服务器的常规信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME HEADING'入站服务器名称'格式A20列QUEUE_OWNER标题'队列所有者'格式A15列QUEUE_NAME标题'队列名'格式A15列申请_USER标题'应用用户'格式A15 SELECT SERVER_NAME，QUEUE_OWNER，QUEUE_NAME，APPLY_USER来自ALL_XSTREAM_INBOUND;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">入站服务器名称队列所有者队列名称应用用户-------------------- --------------- ------ --------- --------------- XIN XSTRMADMIN XIN_QUEUE XSTRMADMIN</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-86433F0C-AA89-4277-B364-7E13287725EA__GUID-4DDBAA72-0659-46CC-AE7C-C41B687855D1">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/ALL_XSTREAM_INBOUND.html#REFRN20734" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B18DAB66-8842-482C-8F8D-493892373721" name="GUID-B18DAB66-8842-482C-8F8D-493892373721"></a><h3 id="XSTRM-GUID-B18DAB66-8842-482C-8F8D-493892373721" class="sect3"><span class="enumeration_section">11.3</span>监视组件中XStream的事件历史记录</h3>
               <div>
                  <p>示例说明了通过查询<code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code>视图来监视XStream In组件的事件历史记录。
                  </p>
                  <div class="section">
                     <p>例如，此视图可以在创建或启动组件时显示。它还可以在组件参数更改时显示。如果组件遇到错误，则它可以显示有关错误的信息。</p>
                     <p>本主题中的查询显示有关XStream Out组件事件的以下信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XStream组件名称</p>
                        </li>
                        <li>
                           <p>组件类型</p>
                        </li>
                        <li>
                           <p>事件名称</p>
                        </li>
                        <li>
                           <p>事件的描述</p>
                        </li>
                        <li>
                           <p>活动时间</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B18DAB66-8842-482C-8F8D-493892373721__GUID-9B42B76A-61F2-41E6-AD24-C36C601044BC">要为数据库中的每个XStream In组件显示此信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN STREAMS_NAME FORMAT A12 COLUMN PROCESS_TYPE FORMAT A17 COLUMN EVENT_NAME FORMAT A10专栏描述格式A20专栏EVENT_TIME FORMAT A15 SELECT STREAMS_NAME，PROCESS_TYPE，EVENT_NAME，DESCRIPTION，EVENT_TIME FROM DBA_REPLICATION_PROCESS_EVENTS;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您在XStream In配置中的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">STREAMS_NAME PROCESS_TYPE EVENT_NAME说明EVENT_TIME ------------ ----------------- ---------- ------ -------------- --------------- APP_JOBS APPLY COORDINATOR创造成功03-NOV-15 07.19 .27.238151 AM APP_JOBS应用协调员开始成功03- NOV-15 07.21 .50.812534 AM APP_JOBS申请读者开始成功03-NOV-15 07.21 .51.713367 AM APP_JOBS申请服务器启动成功03-NOV-15 07.21 .51.895019 AM</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/ALL_REPLICATION_PROCESS_EVENTS.html#REFRN-GUID-E994A792-BDF6-43CD-959D-F8584B51A5D3" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM1444"></a><div class="props_rev_3"><a id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B" name="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B"></a><h3 id="XSTRM-GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B" class="sect3"><span class="enumeration_section">11.4</span>显示入站服务器的状态和错误信息</h3>
               <div>
                  <p>示例说明了显示入站服务器的状态和错误信息。</p>
                  <div class="section">
                     <p><code class="codeph">DBA_APPLY</code>视图在<code class="codeph">PURPOSE</code>列中显示作为入站服务器的应用进程的<code class="codeph">XStream</code> <code class="codeph">In</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-4F48A9E2-1E86-4AB8-BA66-9D26B2DBDB16">要显示入站服务器的状态：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING'入站服务器|名称'格式A15列状态标题'状态'格式A8列ERROR_NUMBER标题'错误号'格式9999999列号错误消息标题'错误消息'格式A40 SELECT APPLY_NAME，STATUS，ERROR_NUMBER，ERROR_MESSAGE来自DBA_APPLY，其中目的= 'XStream In';</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">入站服务器名称状态错误号错误消息--------------- -------- ------------ ------- --------------------------------- XIN ENABLED</pre><p>此输出显示<code class="codeph">XIN</code>是作为入站服务器运行的应用进程。
                     </p>
                     <div class="infoboxnote" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-4F3F8219-5454-4EA3-8ABC-1143A491AA27">
                        <p class="notep1">注意：</p>
                        <p>此示例查询<code class="codeph">DBA_APPLY</code>视图。此视图使受信任的用户可以查看数据库中所有应用用户的信息。不受信任的用户必须查询<code class="codeph">ALL_APPLY</code>视图，该视图将信息限制为当前用户。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-AE34290C-06E1-4068-ACCB-21C36574BEAA">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/ALL_APPLY.html#REFRN20005" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72899"></a><div class="props_rev_3"><a id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF" name="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF"></a><h3 id="XSTRM-GUID-8F223E94-B47E-470E-913F-82FCAC0074EF" class="sect3"><span class="enumeration_section">11.5</span>显示入站服务器的应用参数设置</h3>
               <div>
                  <p>示例说明了显示入站服务器的应用参数设置。</p>
                  <div class="section">
                     <p>应用参数确定入站服务器的运行方式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-BECAA5D7-9FC1-4044-A23A-D5FB8864384E">要显示入站服务器的apply参数设置：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=ADMIN00102" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING'入站服务器|名称'格式A15列参数标题'参数'格式A30列值标题'值'格式A22列SET_BY_USER标题'设置为|用户？'FORMAT A10 SELECT APPLY_NAME，PARAMETER，VALUE，SET_BY_USER来自ALL_APPLY_PARAMETERS a，ALL_XSTREAM_INBOUND我在哪里。APPLY_NAME =我。SERVER_NAME ORDER BY a。参数;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">入站服务器按名称参数值设置用户？--------------- ------------------------------ ----- ----------------- ---------- XIN ALLOW_DUPLICATE_ROWS N NO XIN APPLY_SEQUENCE_NEXTVAL Y NO XIN COMMIT_SERIALIZATION DEPENDENT_TRANSACTIONS NO XIN COMPARE_KEY_ONLY Y NO XIN COMPUTE_LCR_DEP_ON_ARRIVAL N NO XIN DISABLE_ON_ERROR Y NO XIN DISABLE_ON_LIMIT N NO XIN EAGER_SIZE 9500 NO XIN ENABLE_XSTREAM_TABLE_STATS Y NO XIN EXCLUDETAG NO XIN EXCLUDETRANS NO XIN EXCLUDEUSER NO XIN EXCLUDEERERID NO XIN GETAPPLPS Y NO XIN GETREPLICATES N NO XIN GROUPTRANSOPS 250 NO XIN HANDLECOLLISIONS N NO XIN IGNORE_TRANSACTION NO XIN MAXIMUM_SCN INFINITE NO XIN MAX_PARALLELISM 50 NO XIN MAX_SGA_SIZE无限NO XIN OPTIMIZE_PROGRESS_TABLE Y没有XIN OPTIMIZE_SELF_UPDATES Y没有XIN PARALLELISM 4 NO XIN PRESERVE_ENCRYPTION Y没有XIN RTRIM_ON_IMPLICIT_CONVERSION Y没有XIN STARTUP_SECONDS 0 NO XIN SUPPRESSTRIGGERS Y没有XIN的时限无限NO XIN TRACE_LEVEL 0 NO XIN TRANSACTION_LIMIT无限NO XIN TXN_AGE_SPILL_THRESHOLD 900 NO XIN TXN_LCR_SPILL_THRESHOLD 1000 0 NO XIN WRITE_ALERT_LOG Y NO</pre><p>入站服务器忽略一些应用参数设置。</p>
                     <div class="infoboxnote" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-F731C25E-FD79-496A-BEB8-271F0C7DD476">
                        <p class="notep1">注意：</p>
                        <p>如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 如果参数的<code class="codeph">NO</code> ，则将参数设置为其默认值。如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 对于参数， <code class="codeph">YES</code> ，则参数由用户设置，可能会也可能不会设置为其默认值。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-4E9AA80E-0AD9-407C-BE50-5D74A659A498">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-xstream-in.html#GUID-238AFFE0-AA5A-4667-8323-0BA300821BB5" title="应用参数控制入站服务器的运行方式。您可以使用DBMS_XSTREAM_ADM程序包中的SET_PARAMETER过程为入站服务器设置apply参数。">为入站服务器设置应用参数</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关应用参数的信息<a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1634"></a><div class="props_rev_3"><a id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF" name="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF"></a><h3 id="XSTRM-GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF" class="sect3"><span class="enumeration_section">11.6</span>显示入站服务器的位置信息</h3>
               <div>
                  <p>示例说明了显示入站服务器的位置信息。</p>
                  <div class="section">
                     <p>对于入站服务器，您可以通过查询<code class="codeph">ALL_XSTREAM_INBOUND_PROGRESS</code>视图来查看位置信息。具体来说，您可以通过在此部分中运行查询来显示以下位置信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>入站服务器名称</p>
                        </li>
                        <li>
                           <p>应用入站服务器的低位置</p>
                        </li>
                        <li>
                           <p>入站服务器的溢出位置</p>
                        </li>
                        <li>
                           <p>入站服务器的应用高位</p>
                        </li>
                        <li>
                           <p>已处理的入站服务器的低位置</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF__GUID-1E91CEE8-B803-4522-91E0-ACA151B5F829">要显示入站服务器的位置信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME HEADING'Inbound | Server | Name'FORMAT A10 COLUMN APPLIED_LOW_POSITION HEADING'应用低|位置'格式A15列SPILL_POSITION标题'溢出位置'格式A15列APPLIED_HIGH_POSITION标题'应用高|位置'格式A15列处理_LOW_POSITION标题'处理低|从ALL_XSTREAM_INBOUND_PROGRESS位置'FORMAT A15 SELECT SERVER_NAME，APPLIED_LOW_POSITION，SPILL_POSITION，APPLIED_HIGH_POSITION，PROCESSED_LOW_POSITION;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">入站服务器应用低应用高处理低名称位置溢出位置位置位置---------- --------------- ----------- ---- --------------- --------------- XIN C10A C11D C10A C11D</pre><p>输出中显示的位置值由连接到入站服务器的客户端应用程序设置。但是，入站服务器确定哪些值是当前应用的低位置，溢出位置，应用的高位置和已处理的低位置。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF__GUID-1F827D79-8AE7-4C4E-BF3B-77E210FA4221">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=REFRN20770" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。">在LCR流中定位订单</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-25617A91-D3E3-4848-9B28-90F5C00743C9" title="客户端应用程序将LCR流式传输到入站服务器中的XStream。">LCR和XStream的位置</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6" name="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6"></a><h3 id="XSTRM-GUID-BF458EA7-35E7-4608-825F-DA99466D82E6" class="sect3"><span class="enumeration_section">11.7</span>显示有关DML冲突处理程序的信息</h3>
               <div>
                  <p><code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code>视图显示有关DML冲突处理程序的信息。
                  </p>
                  <div class="section">您可以使用<code class="codeph">DBMS_APPLY_ADM</code>程序包中的<code class="codeph">SET_DML_CONFLICT_HANDLER</code>过程配置DML冲突处理程序。
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>以XStream管理员身份连接到数据库。</span></li>
                     <li><span>查询<code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code>视图。</span></li>
                  </ol>
                  <div class="example" id="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6__GUID-495A004C-080C-4B32-8D29-CC346F17A4D2">
                     <p class="titleinexample">示例11-1显示有关DML冲突处理程序的信息</p><pre class="pre codeblock"><code>COLUMN APPLY_NAME FORMAT A8 COLUMN OBJECT_OWNER FORMAT A5 COLUMN OBJECT_NAME FORMAT A12 COLUMN COMMAND_TYPE FORMAT A6 COLUMN的conflict_type FORMAT A11 COLUMN METHOD_NAME FORMAT A12 COLUMN CONFLICT_HANDLER_NAME FORMAT A20 SELECT APPLY_NAME，OBJECT_OWNER，OBJECT_NAME，COMMAND_TYPE，的conflict_type，METHOD_NAME，CONFLICT_HANDLER_NAME FROM DBA_APPLY_DML_CONF_HANDLERS ORDER BY OBJECT_OWNER，OBJECT_NAME， CONFLICT_HANDLER_NAME;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>APPLY_NA OBJEC OBJECT_NAME COMMAN CONFLICT_TY METHOD_NAME CONFLICT_HANDLER_NAM -------- ----- ------------ ------ -----------  - ----------- -------------------- APP_JOBS HR JOBS DELETE ROW_MISSING IGNORE JOBS_HANDLER_DELETE APP_JOBS HR JOBS INSERT ROW_EXISTS OVERWRITE JOBS_HANDLER_INSERT APP_JOBS HR JOBS UPDATE ROW_EXISTS OVERWRITE JOBS_HANDLER_UPDATE</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="managing-xstream-in.html#GUID-D0667DF9-3E58-4C99-996A-113C9EACDC6F" title="使用DBMS_APPLY_ADM包中的SET_DML_CONFLICT_HANDLER过程设置DML冲突处理程序。">设置DML冲突处理程序</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9" name="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9"></a><h3 id="XSTRM-GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9" class="sect3"><span class="enumeration_section">11.8</span>显示有关错误处理程序的信息</h3>
               <div>
                  <p><code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code>视图显示有关DML冲突处理程序的信息。
                  </p>
                  <div class="section">您可以使用<code class="codeph">DBMS_APPLY_ADM</code>程序包中的<code class="codeph">SET_REPERROR_HANDLER</code>过程配置错误处理程序。
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>以XStream管理员身份连接到数据库。</span></li>
                     <li><span>查询<code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code>视图。</span></li>
                  </ol>
                  <div class="example" id="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9__GUID-495A004C-080C-4B32-8D29-CC346F17A4D2">
                     <p class="titleinexample">示例11-2显示有关DML冲突处理程序的信息</p><pre class="pre codeblock"><code>COLUMN APPLY_NAME FORMAT A15 COLUMN OBJECT_OWNER FORMAT A15 COLUMN OBJECT_NAME FORMAT A15 COLUMN ERROR_NUMBER 999999999 COLUMN METHOD FORMAT A15 SELECT APPLY_NAME，OBJECT_OWNER，OBJECT_NAME，ERROR_NUMBER，METHOD FROM DBA_APPLY_REPERROR_HANDLERS ORDER BY OBJECT_OWNER，OBJECT_NAME;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>APPLY_NAME OBJECT_OWNER OBJECT_NAME ERROR_NUMBER METHOD --------------- --------------- --------------- ------------ --------------- APP_OE OE ORDERS 26787 IGNORE</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="managing-xstream-in.html#GUID-170B7510-A772-4900-9267-B1C7A799CD6F" title="使用DBMS_APPLY包中的SET_REPERROR_HANDLER过程设置错误处理程序。">设置和取消设置错误处理程序</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM72900"></a><div class="props_rev_3"><a id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207" name="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207"></a><h3 id="XSTRM-GUID-43A987B4-7F6C-4BC3-A813-F6E062175207" class="sect3"><span class="enumeration_section">11.9</span>检查应用错误</h3>
               <div>
                  <p>示例说明了检查应用错误。</p>
                  <div class="section">
                     <p>受信任的用户可以通过查询<code class="codeph">DBA_APPLY_ERROR</code>数据字典视图或使用Oracle Enterprise Manager Cloud Control来检查应用错误。不受信任的用户可以通过查询<code class="codeph">ALL_APPLY_ERROR</code>数据字典视图来检查应用错误。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-6A3C371B-B740-4D56-813E-16661A1B429A">要检查应用错误：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING'入站|服务器|名称'格式A7列SOURCE_DATABASE HEADING'来源|数据库'格式A8列SOURCE_TRANSACTION_ID标题'来源|交易| ID'格式A11列MESSAGE_NUMBER标题'失败消息|错误|交易'格式99999999 COLUMN ERROR_NUMBER HEADING'Error Number'FORMAT 99999999 COLUMN ERROR_MESSAGE HEADING'错误消息'格式A10列MESSAGE_COUNT HEADING'消息|错误|交易'格式99999999选择APPLY_NAME，SOURCE_DATABASE，SOURCE_TRANSACTION_ID，MESSAGE_NUMBER，ERROR_NUMBER，ERROR_MESSAGE，MESSAGE_COUNT来自ALL_APPLY_ERROR;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-0ED52FBA-6D7B-4460-886B-53236148FA37">
                        <p class="notep1">注意：</p>
                        <p>受信任的用户应在查询中用<code class="codeph">DBA_APPLY_ERROR</code>替换<code class="codeph">ALL_APPLY_ERROR</code> 。
                        </p>
                     </div>
                     <p>如果存在任何应用错误，那么您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">服务器源事务中的入站源失败消息消息错误错误名称数据库ID事务错误号错误混乱事务------- -------- ----------- --- ----------- ------------ ---------- ----------- XIN OUTX.EXA 19.20。 215 1 1031 ORA-01031：1 MPLE.COM不正当权利XIN OUTX.EXA 11.21.158 1 1031 ORA-01031：1 MPLE.COM不足之处</pre><p>如果存在应用错误，则可以尝试重新执行遇到错误的事务，也可以删除事务。要重新执行遇到错误的事务，请首先更正导致事务引发错误的条件。</p>
                     <p>如果要删除遇到错误的事务，并且要在多个数据库之间共享数据，则可能需要手动重新同步数据。如有必要，请记住在手动重新同步数据时设置适当的会话标记。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-D9BDF9A0-2E5A-4843-A149-7C3DEF02D9A9">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" title="错误队列包含数据库的所有当前应用错误。如果数据库中有多个入站服务器，则错误队列包含每个入站服务器的应用错误。">入站服务器的错误队列</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-xstream-in.html#GUID-52AE0882-647F-4C68-89DD-E1D658569BA7" title="当入站服务器尝试应用LCR时，应用错误结果，并引发错误。">管理应用错误</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72901"></a><div class="props_rev_3"><a id="GUID-505C729C-5893-4B22-A981-33BF3084C67B" name="GUID-505C729C-5893-4B22-A981-33BF3084C67B"></a><h3 id="XSTRM-GUID-505C729C-5893-4B22-A981-33BF3084C67B" class="sect3"><span class="enumeration_section">11.10</span>显示应用错误的详细信息</h3>
               <div>
                  <p>SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87">步骤1：在ALL_APPLY_ERROR视图上授予显式SELECT权限</a><br>在用户的<code class="codeph">DBMS_XSTREAM_AUTH</code>包中运行<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程<code class="codeph">DBMS_XSTREAM_AUTH</code> <code class="codeph">ALL_APPLY_ERROR</code>视图的<code class="codeph">SELECT</code>权限授予用户。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-04D3B1E9-8AF4-4D47-9857-87056038B667">第2步：创建一个在ANYDATA对象中打印值的过程</a><br>创建一个过程，该过程在指定的<code class="codeph">ANYDATA</code>对象中打印某些选定数据类型的值。（可选）您可以向此过程添加更多数据类型。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7">步骤3：创建打印指定LCR的过程</a><br>创建一个打印指定LCR的过程。</li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007">步骤4：创建一个打印错误队列中所有LCR的过程</a><br>创建一个过程，打印所有错误队列中的所有LCR。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC">步骤5：创建一个打印事务的所有错误LCR的过程</a><br>创建一个过程，打印特定事务的错误队列中的所有LCR。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-505C729C-5893-4B22-A981-33BF3084C67B__GUID-91920954-FFDF-4A04-873A-383CE15CED77">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" title="错误队列包含数据库的所有当前应用错误。如果数据库中有多个入站服务器，则错误队列包含每个入站服务器的应用错误。">入站服务器的错误队列</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-xstream-in.html#GUID-52AE0882-647F-4C68-89DD-E1D658569BA7" title="当入站服务器尝试应用LCR时，应用错误结果，并引发错误。">管理应用错误</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="您可以通过查询数据字典视图来监视XStream In配置。">监视XStream In</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87" name="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87"></a><h4 id="XSTRM-GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87" class="sect4"><span class="enumeration_section">11.10.1</span>步骤1：在ALL_APPLY_ERROR视图上授予显式SELECT权限</h4>
                  <div>
                     <p>在用户的<code class="codeph">DBMS_XSTREAM_AUTH</code>包中运行<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程<code class="codeph">DBMS_XSTREAM_AUTH</code> <code class="codeph">ALL_APPLY_ERROR</code>视图的<code class="codeph">SELECT</code>权限授予用户。
                     </p>
                     <div class="section">
                        <p>必须为<code class="codeph">ALL_APPLY_ERROR</code>数据字典视图授予创建和运行以下部分中描述的<code class="codeph">print_errors</code>和<code class="codeph">print_transaction</code>过程的用户显式<code class="codeph">SELECT</code>权限。无法通过角色授予此权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__GUID-047DB544-CCFB-439F-A27C-991A1CEC391B">要为<code class="codeph">ALL_APPLY_ERROR</code>视图授予显式SELECT权限：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，以可授予权限的管理用户身份进行连接。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHEGIFF">
                              <p>将<code class="codeph">ALL_APPLY_ERROR</code>数据字典视图的<code class="codeph">SELECT</code>权限授予适当的用户。例如，要将此权限授予<code class="codeph">xstrmadmin</code>用户，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">GRANT SELECT ALL_APPLY_ERROR TO xstrmadmin;</pre></li>
                           <li id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHFIHID">
                              <p>授予<code class="codeph">DBMS_APPLY_ADM</code>包的<code class="codeph">EXECUTE</code>特权。例如，要将此权限授予<code class="codeph">xstrmadmin</code>用户，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">对DBMS_APPLY_ADM执行GRANT EXECUTE到xstrmadmin;</pre></li>
                           <li>
                              <p>以在步骤<a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHEGIFF">2</a>和<a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHFIHID">3中</a>向您授予权限的用户身份连接到数据库。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。">显示有关应用错误的详细信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" name="GUID-04D3B1E9-8AF4-4D47-9857-87056038B667"></a><h4 id="XSTRM-GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" class="sect4"><span class="enumeration_section">11.10.2</span>第2步：创建一个在ANYDATA对象中打印值的过程</h4>
                  <div>
                     <p>创建一个过程，该过程在指定的<code class="codeph">ANYDATA</code>对象中打印某些选定数据类型的值。（可选）您可以向此过程添加更多数据类型。
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">创建或替换过程print_any（数据IN ANYDATA）是tn VARCHAR2（61）; str VARCHAR2（4000）; chr VARCHAR2（1000）; num NUMBER; dat日期; rw RAW（4000）; res NUMBER; BEGIN如果数据为空，那么DBMS_OUTPUT.PUT_LINE（'NULL value'）;返回;万一; tn：=数据。GETTYPENAME（）;如果tn ='SYS.VARCHAR2'那么res：= data。GETVARCHAR2（STR）; DBMS_OUTPUT.PUT_LINE（SUBSTR（STR，0253））; ELSIF tn ='SYS.CHAR'然后res：= data。的getchar（CHR）; DBMS_OUTPUT.PUT_LINE（SUBSTR（CHR，0253））; ELSIF tn ='SYS.VARCHAR'那么res：= data。GETVARCHAR（CHR）; DBMS_OUTPUT.PUT_LINE（CHR）; ELSIF tn ='SYS.NUMBER'那么res：= data。GETNUMBER（NUM）; DBMS_OUTPUT.PUT_LINE（NUM）; ELSIF tn ='SYS.DATE'那么res：= data。GETDATE（DAT）; DBMS_OUTPUT.PUT_LINE（DAT）; ELSIF tn ='SYS.TIMESTAMP'那么res：= data。GETTIMESTAMP（DAT）; DBMS_OUTPUT.PUT_LINE（TO_CHAR（dat，'DD-MON-RR HH.MI.SSXFF AM'））; ELSIF tn ='SYS.TIMESTAMPTZ'那么res：= data。GETTIMESTAMPTZ（DAT）; DBMS_OUTPUT.PUT_LINE（TO_CHAR（dat，'DD-MON-RR HH.MI.SSXFF AM'））; ELSIF tn ='SYS.TIMESTAMPLTZ'那么res：= data。GETTIMESTAMPLTZ（DAT）; DBMS_OUTPUT.PUT_LINE（TO_CHAR（dat，'DD-MON-RR HH.MI.SSXFF AM'））; ELSIF tn ='SYS.RAW'THEN  -  res：= data。GETRAW（RW）; -  DBMS_OUTPUT.PUT_LINE（SUBSTR（DBMS_LOB.SUBSTR（rw），0,253））; DBMS_OUTPUT.PUT_LINE（'BLOB Value'）; ELSIF tn ='SYS.BLOB'那么DBMS_OUTPUT.PUT_LINE（'BLOB Found'）; ELSE DBMS_OUTPUT.PUT_LINE（'typename是'|| tn）;万一; END print_any; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。">显示有关应用错误的详细信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" name="GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7"></a><h4 id="XSTRM-GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" class="sect4"><span class="enumeration_section">11.10.3</span>步骤3：创建打印指定LCR的过程</h4>
                  <div>
                     <p>创建一个打印指定LCR的过程。</p>
                     <div class="section">
                        <p>该过程调用在<span class="q">“ <a href="monitoring-xstream-in.html#GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" title="创建一个过程，该过程在指定的ANYDATA对象中打印某些选定数据类型的值。（可选）您可以向此过程添加更多数据类型。">步骤2：创建在ANYDATA对象中打印值的过程</a> ”中</span>创建的<code class="codeph">print_any</code>过程。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换过程print_lcr（lcr IN ANYDATA）是typenm VARCHAR2（61）; ddllcr SYS.LCR $ _DDL_RECORD; proclcr SYS.LCR $ _PROCEDURE_RECORD; rowlcr SYS.LCR $ _ROW_RECORD; res NUMBER;新名单SYS.LCR $ _ROW_LIST; oldlist SYS.LCR $ _ROW_LIST; ddl_text CLOB; ext_attr ANYDATA; BEGIN typenm：= lcr。GETTYPENAME（）; DBMS_OUTPUT.PUT_LINE（'type name：'|| typenm）; IF（typenm ='SYS.LCR $ _DDL_RECORD'）THEN res：= lcr。GETOBJECT（ddllcr）; DBMS_OUTPUT.PUT_LINE（'source database：'|| ddllcr。GET_SOURCE_DATABASE_NAME）; DBMS_OUTPUT.PUT_LINE（'owner：'|| ddllcr。GET_OBJECT_OWNER）; DBMS_OUTPUT.PUT_LINE（'object：'|| ddllcr。GET_OBJECT_NAME）; DBMS_OUTPUT.PUT_LINE（'是标记为null：'|| ddllcr。IS_NULL_TAG）; DBMS_LOB.CREATETEMPORARY（ddl_text，TRUE）; ddllcr。GET_DDL_TEXT（ddl_text）; DBMS_OUTPUT.PUT_LINE（'ddl：'|| ddl_text）; - 在DDL LCR中打印额外属性ext_attr：= ddllcr。GET_EXTRA_ATTRIBUTE（ '串行＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'serial＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= ddllcr。GET_EXTRA_ATTRIBUTE（ '会话＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'session＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= ddllcr。GET_EXTRA_ATTRIBUTE（ '线＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'thread＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= ddllcr。GET_EXTRA_ATTRIBUTE（ 'tx_name'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'事务名称：'|| ext_attr。ACCESSVARCHAR2（））;万一; ext_attr：= ddllcr。GET_EXTRA_ATTRIBUTE（ '用户名'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'username：'|| ext_attr。ACCESSVARCHAR2（））;万一; DBMS_LOB.FREETEMPORARY（ddl_text）; ELSIF（typenm ='SYS.LCR $ _ROW_RECORD'）THEN res：= lcr。GETOBJECT（rowlcr）; DBMS_OUTPUT.PUT_LINE（'source database：'|| rowlcr。GET_SOURCE_DATABASE_NAME）; DBMS_OUTPUT.PUT_LINE（'owner：'|| rowlcr。GET_OBJECT_OWNER）; DBMS_OUTPUT.PUT_LINE（'object：'|| rowlcr。GET_OBJECT_NAME）; DBMS_OUTPUT.PUT_LINE（'是标记为null：'|| rowlcr。IS_NULL_TAG）; DBMS_OUTPUT.PUT_LINE（'command_type：'|| rowlcr。GET_COMMAND_TYPE）; oldlist：= rowlcr。GET_VALUES（ '旧'）;对于我在1..oldlist。COUNT LOOP IF oldlist（i）IS NOT NOT NULL，DBMS_OUTPUT.PUT_LINE（'old（'|| i ||'）：'|| oldlist（i）.column_name）; print_any（oldlist（ⅰ）。数据）;万一;结束循环; newlist：= rowlcr。GET_VALUES（'new'，'n'）; FOR i in 1..newlist.count LOOP IF newlist（i）IS NOT NOT NULL，DBMS_OUTPUT.PUT_LINE（'new（'|| i ||'）：'|| newlist（i）.column_name）; print_any（newlist（ⅰ）。数据）;万一;结束循环; - 在行LCR中打印额外属性ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ 'ROW_ID'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'row_id：'|| ext_attr。ACCESSUROWID（））;万一; ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ '串行＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'serial＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ '会话＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'session＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ '线＃'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'thread＃：'|| ext_attr。ACCESSNUMBER（））;万一; ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ 'tx_name'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'事务名称：'|| ext_attr。ACCESSVARCHAR2（））;万一; ext_attr：= rowlcr。GET_EXTRA_ATTRIBUTE（ '用户名'）; IF（ext_attr IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（'username：'|| ext_attr。ACCESSVARCHAR2（））;万一; ELSE DBMS_OUTPUT.PUT_LINE（'非LCR消息类型'|| typenm）;万一; END print_lcr; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。">显示有关应用错误的详细信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007" name="GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007"></a><h4 id="XSTRM-GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007" class="sect4"><span class="enumeration_section">11.10.4</span>步骤4：创建一个打印错误队列中所有LCR的过程</h4>
                  <div>
                     <p>创建一个过程，打印所有错误队列中的所有LCR。</p>
                     <div class="section">
                        <p>该过程调用在<span class="q">“ <a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" title="创建一个打印指定LCR的过程。">步骤3：创建打印指定LCR的过程</a> ”中</span>创建的<code class="codeph">print_lcr</code>过程。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换过程print_errors IS CURSOR c选择LOCAL_TRANSACTION_ID，SOURCE_DATABASE，MESSAGE_NUMBER，MESSAGE_COUNT，ERROR_NUMBER，ERROR_MESSAGE来自ALL_APPLY_ERROR ORDER BY SOURCE_DATABASE，SOURCE_COMMIT_SCN;我号码; txnid VARCHAR2（30）; source VARCHAR2（128）; msgno NUMBER; msgcnt NUMBER; errnum NUMBER：= 0;错误号码; errmsg VARCHAR2（2000）; lcr ANYDATA; r NUMBER;开始为r IN c LOOP errnum：= errnum + 1; msgcnt：= r。MESSAGE_COUNT; txnid：= r。LOCAL_TRANSACTION_ID;来源：= r。SOURCE_DATABASE; msgno：= r。MESSAGE_NUMBER;错误：= r。ERROR_NUMBER; errmsg：= r。错误信息; DBMS_OUTPUT.PUT_LINE（'********* ****'）; DBMS_OUTPUT.PUT_LINE（'----- ERROR＃'|| errnum）; DBMS_OUTPUT.PUT_LINE（'-----本地交易ID：'|| txnid）; DBMS_OUTPUT.PUT_LINE（'-----源数据库：'|| source）; DBMS_OUTPUT.PUT_LINE（'----消息错误：'|| msgno）; DBMS_OUTPUT.PUT_LINE（'----错误号：'|| errno）; DBMS_OUTPUT.PUT_LINE（'---- Message Text：'|| errmsg）; FOR i IN 1..msgcnt LOOP DBMS_OUTPUT.PUT_LINE（' -  message：'|| i）; lcr：= DBMS_APPLY_ADM.GET_ERROR_MESSAGE（i，txnid）; print_lcr（LCR）;结束循环;结束循环; END print_errors; /</pre><p>要在创建此过程后运行此过程，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 1000000 EXEC print_errors</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。">显示有关应用错误的详细信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC" name="GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC"></a><h4 id="XSTRM-GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC" class="sect4"><span class="enumeration_section">11.10.5</span>步骤5：创建一个打印事务的所有错误LCR的过程</h4>
                  <div>
                     <p>创建一个过程，打印特定事务的错误队列中的所有LCR。</p>
                     <div class="section">
                        <p>该过程调用在<span class="q">“ <a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" title="创建一个打印指定LCR的过程。">步骤3：创建打印指定LCR的过程</a> ”中</span>创建的<code class="codeph">print_lcr</code>过程。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换过程print_transaction（ltxnid IN VARCHAR2）是我的号码; txnid VARCHAR2（30）; source VARCHAR2（128）; msgno NUMBER; msgcnt NUMBER;错误号码; errmsg VARCHAR2（2000）; lcr ANYDATA; BEGIN SELECT LOCAL_TRANSACTION_ID，SOURCE_DATABASE，MESSAGE_NUMBER，MESSAGE_COUNT，ERROR_NUMBER，ERROR_MESSAGE INTO txnid，source，msgno，msgcnt，errno，errmsg FROM ALL_APPLY_ERROR WHERE LOCAL_TRANSACTION_ID = ltxnid; DBMS_OUTPUT.PUT_LINE（'-----本地交易ID：'|| txnid）; DBMS_OUTPUT.PUT_LINE（'-----源数据库：'|| source）; DBMS_OUTPUT.PUT_LINE（'----消息错误：'|| msgno）; DBMS_OUTPUT.PUT_LINE（'----错误号：'|| errno）; DBMS_OUTPUT.PUT_LINE（'---- Message Text：'|| errmsg）; FOR i IN 1..msgcnt LOOP DBMS_OUTPUT.PUT_LINE（' -  message：'|| i）; lcr：= DBMS_APPLY_ADM.GET_ERROR_MESSAGE（i，txnid）; - 获取LCR print_lcr（lcr）;结束循环; END print_transaction; /</pre><p>要在创建此过程后运行此过程，请将错误事务的本地事务标识符传递给它。例如，如果本地事务标识符为<code class="codeph">1.17.2485</code> ，则输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 1000000 EXEC print_transaction（'1.17.2485'）</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL脚本显示有关数据库中错误队列中的错误事务的详细信息。">显示有关应用错误的详细信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01079.DBMS_QOPATCH.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_QOPATCH package provides an interface to view the installed database patches."></meta>
      <meta name="description" content="The DBMS_QOPATCH package provides an interface to view the installed database patches."></meta>
      <title>DBMS_QOPATCH</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_QOPATCH package provides an interface to view the installed database patches."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_PROPAGATION_ADM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_RANDOM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_PROPAGATION_ADM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_RANDOM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_QOPATCH</li>
            </ol>
            <a id="GUID-10BC18AA-EC71-44B7-A3E7-2E4D06FA2DC4" name="GUID-10BC18AA-EC71-44B7-A3E7-2E4D06FA2DC4"></a><a id="ARPLS74834"></a><a id="ARPLS74834"></a>
            
            <h2 id="ARPLS-GUID-10BC18AA-EC71-44B7-A3E7-2E4D06FA2DC4" class="sect2"><span class="enumeration_chapter">129</span> DBMS_QOPATCH</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_QOPATCH</code>包提供了一个用于查看已安装的数据库修补程序的界面。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_QOPATCH.html#GUID-4279011D-A73C-422D-B181-FAD29B975180" title="DBMS_QOPATCH包提供了一个PLSQL / SQL接口来查看已安装的数据库补丁。该接口提供作为OPATCH LSINVENTORY -XML命令的一部分可用的所有补丁信息。该软件包实时访问OUI补丁清单以提供补丁和元信息。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_QOPATCH.html#GUID-CE35E481-9338-4C77-B784-A031FA5F5288" title="DBMS_QOPATCH包是作为SYS模式的一部分创建的，SYS是唯一可以执行这些子程序的用户。">安全模型</a> l</p>
                  </li>
                  <li>
                     <p><a href="DBMS_QOPATCH.html#GUID-64146855-36FB-4B89-AB75-83E52140AFD6" title="以下操作说明适用于DBMS_QOPATCH。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_QOPATCH.html#GUID-AC853C9A-C67F-4454-8150-82B84592914F" title="此表列出了DBMS_QOPATCH程序包引发的异常。">错误消息</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_QOPATCH.html#GUID-3979748C-A18C-48F2-877F-F6D4AD246773" title="该表列出并简要描述了DBMS_QOPATCH包子程序。">DBMS_QOPATCH子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS74836"></a><a id="ARPLS74836"></a><div class="props_rev_3"><a id="GUID-4279011D-A73C-422D-B181-FAD29B975180" name="GUID-4279011D-A73C-422D-B181-FAD29B975180"></a><h3 id="ARPLS-GUID-4279011D-A73C-422D-B181-FAD29B975180" class="sect3"><span class="enumeration_section">129.1</span> DBMS_QOPATCH概述</h3>
               <div>
                  <p><code class="codeph">DBMS_QOPATCH</code>包提供了一个PLSQL / SQL接口来查看已安装的数据库补丁。该接口提供作为<code class="codeph">OPATCH LSINVENTORY -XML</code>命令的一部分可用的所有补丁信息。该软件包实时访问OUI补丁清单以提供补丁和元信息。
                  </p>
               </div>
            </div><a id="ARPLS74837"></a><a id="ARPLS74837"></a><div class="props_rev_3"><a id="GUID-CE35E481-9338-4C77-B784-A031FA5F5288" name="GUID-CE35E481-9338-4C77-B784-A031FA5F5288"></a><h3 id="ARPLS-GUID-CE35E481-9338-4C77-B784-A031FA5F5288" class="sect3"><span class="enumeration_section">129.2</span> DBMS_QOPATCH安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_QOPATCH</code>包是作为SYS模式的一部分创建的，SYS是唯一可以执行这些子程序的用户。
                  </p>
               </div>
            </div><a id="ARPLS74912"></a><a id="ARPLS74912"></a><div class="props_rev_3"><a id="GUID-64146855-36FB-4B89-AB75-83E52140AFD6" name="GUID-64146855-36FB-4B89-AB75-83E52140AFD6"></a><h3 id="ARPLS-GUID-64146855-36FB-4B89-AB75-83E52140AFD6" class="sect3"><span class="enumeration_section">129.3</span> DBMS_QOPATCH操作说明</h3>
               <div>
                  <p>以下操作说明适用于DBMS_QOPATCH。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>只有在数据库处于<code class="codeph">OPEN</code>该程序包才有效。</p>
                        </li>
                        <li>
                           <p>在Oracle Real Application Clusters（RAC）环境中，如果子程序需要从其他RAC节点获取数据，则它会在其他节点中生成作业以获取数据。在这种情况下，程序包的<code class="codeph">JOB_QUEUE_PROCESSES</code>必须<code class="codeph">&gt;0</code>才能从其他RAC节点获取数据。
                           </p>
                        </li>
                        <li>
                           <p>如果作业执行有延迟，则程序包将返回<code class="codeph">ORA-20008</code>错误。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74913"></a><a id="ARPLS74914"></a><a id="ARPLS74914"></a><a id="ARPLS74913"></a><div class="props_rev_3"><a id="GUID-AC853C9A-C67F-4454-8150-82B84592914F" name="GUID-AC853C9A-C67F-4454-8150-82B84592914F"></a><h3 id="ARPLS-GUID-AC853C9A-C67F-4454-8150-82B84592914F" class="sect3"><span class="enumeration_section">129.4</span> DBMS_QOPATCH异常</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_QOPATCH</code>程序包引发的异常。
                  </p>
                  <div class="tblformal" id="GUID-AC853C9A-C67F-4454-8150-82B84592914F__GUID-7C9C19FF-2DAE-4ADD-A421-B7E3C33453E2">
                     <p class="titleintable">表129-1 DBMS_QOPATCH错误消息</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_QOPATCH错误消息" width="100%" border="1" summary="Exceptions Raised by DBMS_QOPATCH" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d683661e538">错误代码</th>
                              <th align="left" valign="bottom" width="81%" id="d683661e541">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e546" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20001</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e546 d683661e541 ">
                                 <p>最新的XML库存未加载到表中。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e554" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20002</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e554 d683661e541 ">
                                 <p>目录创建失败。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e562" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20003</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e562 d683661e541 ">
                                 <p>在节点上配置作业失败。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e570" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20004</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e570 d683661e541 ">
                                 <p>作业配置因节点处于非活动状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e578" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20005</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e578 d683661e541 ">
                                 <p>作业未配置给定节点，实例名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e586" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20006</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e586 d683661e541 ">
                                 <p>配置的RAC活动实例数和opatch作业数不相同。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e594" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20007</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e594 d683661e541 ">
                                 <p>由于节点或实例未处于活动状态，作业配置失败。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e602" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20008</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e602 d683661e541 ">
                                 <p>超时 - 作业执行时间超过120秒。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e610" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20009</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e610 d683661e541 ">
                                 <p>作业执行失败。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e618" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20010</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e618 d683661e541 ">
                                 <p>节点处于非活动状态，无法执行作业。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e626" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20011</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e626 d683661e541 ">
                                 <p>作业名称为<code class="codeph">NULL</code> ，无法加载库存。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e638" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20012</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e638 d683661e541 ">
                                 <p><code class="codeph">JOB_QUEUE_PROCESSES</code>设置为零，无法加载库存。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e648" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20013</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e648 d683661e541 ">
                                 <p><code class="codeph">DBMS_QOPATCH</code>主要在非安装区域运行。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e658" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20014</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e658 d683661e541 ">
                                 <p>数据库未打开。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d683661e666" headers="d683661e538 ">
                                 <p><code class="codeph">ORA-20015</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d683661e666 d683661e541 ">
                                 <p>数据库以只读方式打开。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS74838"></a><a id="ARPLS74839"></a><a id="ARPLS74839"></a><a id="ARPLS74838"></a><div class="props_rev_3"><a id="GUID-3979748C-A18C-48F2-877F-F6D4AD246773" name="GUID-3979748C-A18C-48F2-877F-F6D4AD246773"></a><h3 id="ARPLS-GUID-3979748C-A18C-48F2-877F-F6D4AD246773" class="sect3"><span class="enumeration_section">129.5</span> DBMS_QOPATCH子程序摘要</h3>
               <div>
                  <p>该表列出并简要描述了<code class="codeph">DBMS_QOPATCH</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-3979748C-A18C-48F2-877F-F6D4AD246773__GUID-F6871910-A074-4B87-8DB3-AC9C848BC51D">
                     <p class="titleintable">表129-2 DBMS_QOPATCH包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_QOPATCH包子程序" width="100%" border="1" summary="This table lists and briefly describes the DBMS_QOPATCH package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d683661e775">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d683661e778">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e783" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E" title="检查补丁是否已安装。">CHECK_PATCH_INSTALLED函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e783 d683661e778 ">
                                 <p>检查是否安装了补丁。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e794" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-5142E4F6-0020-47FA-9074-8855008B4FF0" title="如果给出了补丁号，则此函数在补丁中提供错误列表。如果未给出补丁号，则会列出指定XML格式的所有错误。">GET_OPATCH_BUGS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e794 d683661e778 ">
                                 <p>如果给出了修补程序编号，则以XML格式提供修补程序的错误列表。如果没有给出补丁，那么它会以XML格式列出所有补丁中安装的所有错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e805" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6" title="此函数以XML格式提供已安装修补程序的总数。">GET_OPATCH_COUNT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e805 d683661e778 ">
                                 <p>以XML格式提供已安装修补程序的总数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e816" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F" title="此功能为XML元素中的修补程序（例如修补程序ID，修补程序创建时间）提供顶级修补程序信息。">GET_OPATCH_DATA函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e816 d683661e778 ">
                                 <p>在XML元素中提供补丁的顶级补丁信息（例如补丁ID，补丁创建时间）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e827" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-A33D0A1E-C499-4786-9498-F2F739359E74" title="此函数提供以XML格式在给定修补程序编号中修改的文件列表。">GET_OPATCH_FILES函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e827 d683661e778 ">
                                 <p>提供以XML格式在给定修补程序编号中修改的文件列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e838" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-F7EA456F-3066-4344-9BBC-C42A011EDF49" title="此函数返回包含ORACLE_HOME详细信息的XML元素，例如补丁和库存位置。">GET_OPATCH_INSTALL_INFO函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e838 d683661e778 ">
                                 <p>返回包含<code class="codeph">ORACLE_HOME</code>详细信息的XML元素，例如修补程序和库存位置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e855" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-6C6095DF-36C8-46B8-81C8-7C08B2256423" title="此函数提供从XML清单中作为XML元素安装的修补程序列表。">GET_OPATCH_LIST函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e855 d683661e778 ">
                                 <p>提供从XML清单中作为XML元素安装的修补程序列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e866" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-5EFE6FDE-B4EE-4276-AA60-FA5ADB53B000" title="此函数将整个opatch清单作为XML实例文档返回。">GET_OPATCH_LSINVENTORY</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e866 d683661e778 ">
                                 <p>将整个opatch清单作为XML实例文档返回。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e877" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246" title="此函数为给定的修补程序提供覆盖修补程序作为XML元素。">GET_OPATCH_OLAYS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e877 d683661e778 ">
                                 <p>为给定的修补程序提供覆盖修补程序作为XML元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e888" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D" title="此函数为给定的修补程序提供XML元素的必备修补程序。">GET_OPATCH_PREQS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e888 d683661e778 ">
                                 <p>为给定的修补程序提供XML元素的必备修补程序</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e899" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-1AD774F3-256F-4F1C-A2C3-B72B2EA490B2" title="此函数返回opatch XML库存表示的样式表。您可以使用此子程序的返回类型来执行XMLTRANSFORM，并且转换后的结果与opatch文本输出具有相同的外观。">GET_OPATCH_XSLT</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e899 d683661e778 ">
                                 <p>返回opatch XML库存表示的样式表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e911" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE" title="显示opatch lsinventory中的详细补丁信息。">GET_PATCH_DETAILS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e911 d683661e778 ">
                                 <p>显示<code class="codeph">opatch lsinventory</code>的详细补丁信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e928" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D" title="此过程通过从SQL修补程序注册表查询来显示SQL修补程序状态，以生成完整的修补程序级别信息。如果给出了修补程序编号，则会显示特定于给定SQL修补程序的信息，否则将显示所有SQL修补程序的信息。">GET_SQLPATCH_STATUS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e928 d683661e778 ">
                                 <p>通过从SQL修补程序注册表查询来显示SQL修补程序状态，以生成完整的修补程序级别信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e939" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099" title="此函数通过查询XML清单在已安装的修补程序上提供XML节点的信息（例如patchID，应用程序日期和SQL修补程序信息）。">IS_PATCH_INSTALLED函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e939 d683661e778 ">
                                 <p>通过查询XML清单，在已安装的修补程序上以XML节点提供信息（例如patchID，应用程序日期和SQL修补程序信息）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e950" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-CE07C884-7731-4E28-9092-FA11F2964D94" title="将当前数据库与错误列表进行比较。">OPATCH_COMPARE_CURRENT功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e950 d683661e778 ">
                                 <p>将当前数据库与错误列表进行比较。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e961" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5" title="将给定的RAC节点与当前连接节点的实例与当前节点进行比较。返回值表示数据是否已刷新。">OPATCH_COMPARE_NODES功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e961 d683661e778 ">
                                 <p>将给定的RAC节点与当前连接节点的实例与当前节点进行比较。返回值表示数据是否已刷新。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d683661e972" headers="d683661e775 ">
                                 <p><a href="DBMS_QOPATCH.html#GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B" title="此过程设置节点名称和实例，以在Oracle Real Application Clusters（RAC）环境中获取特定于其的库存详细信息。">SET_CURRENT_OPINST过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d683661e972 d683661e778 ">
                                 <p>设置节点名称和实例以在Oracle Real Application Clusters（RAC）环境中获取特定于其的库存详细信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E" name="GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E"></a><h4 id="ARPLS-GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E" class="sect4"><span class="enumeration_section">129.5.1</span> CHECK_PATCH_INSTALLED函数</h4>
                  <div>
                     <p>检查补丁是否已安装。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E__GUID-9E3AEC1F-5C40-472D-8138-F9143E59A0CE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.CHECK_PATCH_INSTALLED（错误在QOPATCH_LIST中）; RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E__GUID-84503538-E155-440E-95F0-5A4001108691">参数</p>
                        <div class="tblformal" id="GUID-BCDCF1B4-F59A-4E38-913B-DC3045D5F50E__GUID-BE49AD88-F6BD-408E-A8BC-66EF6F15CA9E">
                           <p class="titleintable">表129-3 CHECK_PATCH_INSTALLED参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_PATCH_INSTALLED参数" border="1" summary="This table describes the parameters used by the DBMS_QOPATCH.CHECK_PATCH_INSTALLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d683661e1088">参数</th>
                                    <th align="left" valign="bottom" id="d683661e1091">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d683661e1096" headers="d683661e1088 ">
                                       <p><code class="codeph">虫子</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d683661e1096 d683661e1091 ">
                                       <p>要检查的修补程序列表。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74915"></a><a id="ARPLS74916"></a><a id="ARPLS74916"></a><a id="ARPLS74915"></a><div class="props_rev_3"><a id="GUID-5142E4F6-0020-47FA-9074-8855008B4FF0" name="GUID-5142E4F6-0020-47FA-9074-8855008B4FF0"></a><h4 id="ARPLS-GUID-5142E4F6-0020-47FA-9074-8855008B4FF0" class="sect4"><span class="enumeration_section">129.5.2</span> GET_OPATCH_BUGS函数</h4>
                  <div>
                     <p>如果给出了补丁号，则此函数在补丁中提供错误列表。如果未给出补丁号，则会列出指定XML格式的所有错误。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5142E4F6-0020-47FA-9074-8855008B4FF0__GUID-4E8FBA1F-2D80-4F83-9444-08EB66110EC1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_BUGS（patchnum IN VARCHAR2 DEFAULT NULL）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5142E4F6-0020-47FA-9074-8855008B4FF0__GUID-C4287D8A-7570-4FE5-9FFA-A8DEF0B2F078">参数</p>
                        <div class="tblformal" id="GUID-5142E4F6-0020-47FA-9074-8855008B4FF0__GUID-19422AF2-3CA1-4080-8199-34FE1436FEAE">
                           <p class="titleintable">表129-4 GET_OPATCH_BUGS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_BUGS函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_BUGS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e1214">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e1217">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e1222" headers="d683661e1214 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e1222 d683661e1217 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74917"></a><a id="ARPLS74918"></a><a id="ARPLS74918"></a><a id="ARPLS74917"></a><div class="props_rev_3"><a id="GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6" name="GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6"></a><h4 id="ARPLS-GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6" class="sect4"><span class="enumeration_section">129.5.3</span> GET_OPATCH_COUNT函数</h4>
                  <div>
                     <p>此函数以XML格式提供已安装修补程序的总数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6__GUID-92AD97F3-78FC-4A43-BC48-0DBB5FD0B75B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_COUNT（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6__GUID-4691EE2F-B8AC-4D1B-9733-A8FC2E13FCBD">参数</p>
                        <div class="tblformal" id="GUID-41CA9759-E34B-47F0-8587-1E30FF35E1C6__GUID-359F0C9D-E03B-4051-ABA7-95C9D71D5FA9">
                           <p class="titleintable">表129-5 GET_OPATCH_COUNT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_COUNT个函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_COUNT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e1339">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e1342">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e1347" headers="d683661e1339 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e1347 d683661e1342 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74919"></a><a id="ARPLS74920"></a><a id="ARPLS74920"></a><a id="ARPLS74919"></a><div class="props_rev_3"><a id="GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F" name="GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F"></a><h4 id="ARPLS-GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F" class="sect4"><span class="enumeration_section">129.5.4</span> GET_OPATCH_DATA函数</h4>
                  <div>
                     <p>此功能为XML元素中的修补程序（例如修补程序ID，修补程序创建时间）提供顶级修补程序信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F__GUID-BAAF42EB-9966-4947-8D27-2E5CD8FB673A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_DATA（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F__GUID-E664555B-2FF1-49DD-9FA9-A43B9ED01623">参数</p>
                        <div class="tblformal" id="GUID-ED25C18C-1D0F-4C49-8B63-34827E58184F__GUID-4CBE69B8-D45B-4669-BE10-C73EBD83F275">
                           <p class="titleintable">表129-6 GET_OPATCH_DATA函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_DATA函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_DATA  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e1464">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e1467">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e1472" headers="d683661e1464 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e1472 d683661e1467 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74921"></a><a id="ARPLS74922"></a><a id="ARPLS74922"></a><a id="ARPLS74921"></a><div class="props_rev_3"><a id="GUID-A33D0A1E-C499-4786-9498-F2F739359E74" name="GUID-A33D0A1E-C499-4786-9498-F2F739359E74"></a><h4 id="ARPLS-GUID-A33D0A1E-C499-4786-9498-F2F739359E74" class="sect4"><span class="enumeration_section">129.5.5</span> GET_OPATCH_FILES函数</h4>
                  <div>
                     <p>此函数提供以XML格式在给定修补程序编号中修改的文件列表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A33D0A1E-C499-4786-9498-F2F739359E74__GUID-820CAAFC-F252-40B9-9422-27725BDAF625">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_FILES（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A33D0A1E-C499-4786-9498-F2F739359E74__GUID-8EC1683A-2DAF-4A0E-83B3-7CA0B996BC42">参数</p>
                        <div class="tblformal" id="GUID-A33D0A1E-C499-4786-9498-F2F739359E74__GUID-4CC87410-DB40-4F41-91E3-1D5571A5B57A">
                           <p class="titleintable">表129-7 GET_OPATCH_FILES函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_FILES函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_FILES   subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e1590">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e1593">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e1598" headers="d683661e1590 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e1598 d683661e1593 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74840"></a><a id="ARPLS74840"></a><div class="props_rev_3"><a id="GUID-F7EA456F-3066-4344-9BBC-C42A011EDF49" name="GUID-F7EA456F-3066-4344-9BBC-C42A011EDF49"></a><h4 id="ARPLS-GUID-F7EA456F-3066-4344-9BBC-C42A011EDF49" class="sect4"><span class="enumeration_section">129.5.6</span> GET_OPATCH_INSTALL_INFO函数</h4>
                  <div>
                     <p>此函数返回包含<code class="codeph">ORACLE_HOME</code>详细信息的XML元素，例如补丁和库存位置。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F7EA456F-3066-4344-9BBC-C42A011EDF49__GUID-B30DDC5B-16FA-4B55-A291-BB104A99AF63">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_INSTALL_INFO返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74923"></a><a id="ARPLS74923"></a><div class="props_rev_3"><a id="GUID-6C6095DF-36C8-46B8-81C8-7C08B2256423" name="GUID-6C6095DF-36C8-46B8-81C8-7C08B2256423"></a><h4 id="ARPLS-GUID-6C6095DF-36C8-46B8-81C8-7C08B2256423" class="sect4"><span class="enumeration_section">129.5.7</span> GET_OPATCH_LIST函数</h4>
                  <div>
                     <p>此函数提供从XML清单中作为XML元素安装的修补程序列表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C6095DF-36C8-46B8-81C8-7C08B2256423__GUID-165D8C68-7761-42FE-B405-6EA9A053118E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_LIST返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74924"></a><a id="ARPLS74924"></a><div class="props_rev_3"><a id="GUID-5EFE6FDE-B4EE-4276-AA60-FA5ADB53B000" name="GUID-5EFE6FDE-B4EE-4276-AA60-FA5ADB53B000"></a><h4 id="ARPLS-GUID-5EFE6FDE-B4EE-4276-AA60-FA5ADB53B000" class="sect4"><span class="enumeration_section">129.5.8</span> GET_OPATCH_LSINVENTORY</h4>
                  <div>
                     <p>此函数将整个opatch清单作为XML实例文档返回。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5EFE6FDE-B4EE-4276-AA60-FA5ADB53B000__GUID-7C350E5D-F8AB-4B8B-A650-A3499BF6F38C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_LSINVENTORY返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74925"></a><a id="ARPLS74926"></a><a id="ARPLS74926"></a><a id="ARPLS74925"></a><div class="props_rev_3"><a id="GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246" name="GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246"></a><h4 id="ARPLS-GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246" class="sect4"><span class="enumeration_section">129.5.9</span> GET_OPATCH_OLAYS函数</h4>
                  <div>
                     <p>此函数为给定的修补程序提供覆盖修补程序作为XML元素。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246__GUID-C192C778-2581-476E-9DED-87178600D882">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_OLAYS（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246__GUID-72714F93-C35E-446A-8F2A-80F464DF350D">参数</p>
                        <div class="tblformal" id="GUID-B7C56F34-3E12-44A2-9FC9-EC76E8E4A246__GUID-E5CFAFE7-EED7-42B0-B20D-FC249B629284">
                           <p class="titleintable">表129-8 GET_OPATCH_OLAYS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_OLAYS函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_OLAYS  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e2004">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e2007">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2012" headers="d683661e2004 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2012 d683661e2007 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74927"></a><a id="ARPLS74928"></a><a id="ARPLS74928"></a><a id="ARPLS74927"></a><div class="props_rev_3"><a id="GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D" name="GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D"></a><h4 id="ARPLS-GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D" class="sect4"><span class="enumeration_section">129.5.10</span> GET_OPATCH_PREQS函数</h4>
                  <div>
                     <p>此函数为给定的修补程序提供XML元素的必备修补程序。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D__GUID-E3B66F66-EDB0-477A-AD03-14662B37A30A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_PREQS（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D__GUID-2F4D99B0-04A2-425B-849D-C8F65A4AA210">参数</p>
                        <div class="tblformal" id="GUID-D04F578E-9712-4E38-BD38-8DA1FF625E1D__GUID-727B4166-BCD2-4BFC-A748-066D3BE9077E">
                           <p class="titleintable">表129-9 GET_OPATCH_PREQS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_OPATCH_PREQS函数参数" width="100%" border="1" summary="This table describes the parameters used by the DBMS_QOPATCH.GET_OPATCH_PREQS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e2129">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e2132">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2137" headers="d683661e2129 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2137 d683661e2132 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74929"></a><a id="ARPLS74929"></a><div class="props_rev_3"><a id="GUID-1AD774F3-256F-4F1C-A2C3-B72B2EA490B2" name="GUID-1AD774F3-256F-4F1C-A2C3-B72B2EA490B2"></a><h4 id="ARPLS-GUID-1AD774F3-256F-4F1C-A2C3-B72B2EA490B2" class="sect4"><span class="enumeration_section">129.5.11</span> GET_OPATCH_XSLT</h4>
                  <div>
                     <p>此函数返回opatch XML库存表示的样式表。您可以使用此子程序的返回类型来执行XMLTRANSFORM，并且转换后的结果与opatch文本输出具有相同的外观。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1AD774F3-256F-4F1C-A2C3-B72B2EA490B2__GUID-BF398408-77A1-4561-A67A-D48E1E0C2E51">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_OPATCH_XSLT返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE" name="GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE"></a><h4 id="ARPLS-GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE" class="sect4"><span class="enumeration_section">129.5.12</span> GET_PATCH_DETAILS函数</h4>
                  <div>
                     <p>显示<code class="codeph">opatch lsinventory</code>的详细补丁信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE__GUID-96F089E8-BF71-470E-B385-C5CE7D698B45">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_PATCH_DETAILS（补丁IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE__GUID-A45692C6-F210-4542-A277-BF91C5CCED8E">参数</p>
                        <div class="tblformal" id="GUID-052FE1F2-9649-4656-8AA3-07D17223F2FE__GUID-8BBD3B2D-AD84-4EC4-962E-6D1553D3320C">
                           <p class="titleintable">表129-10 GET_PATCH_DETAILS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_PATCH_DETAILS函数参数" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_PATCH_DETAILS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d683661e2349">参数</th>
                                    <th align="left" valign="bottom" id="d683661e2352">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d683661e2357" headers="d683661e2349 ">
                                       <p><code class="codeph">补丁</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d683661e2357 d683661e2352 ">
                                       <p>补丁号码。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74931"></a><a id="ARPLS74932"></a><a id="ARPLS74932"></a><a id="ARPLS74931"></a><div class="props_rev_3"><a id="GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D" name="GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D"></a><h4 id="ARPLS-GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D" class="sect4"><span class="enumeration_section">129.5.13</span> GET_SQLPATCH_STATUS过程</h4>
                  <div>
                     <p>此过程通过从SQL修补程序注册表查询来显示SQL修补程序状态，以生成完整的修补程序级别信息。如果给出了修补程序编号，则会显示特定于给定SQL修补程序的信息，否则将显示所有SQL修补程序的信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D__GUID-3A882B47-9EF5-40DC-99A9-815F070354A6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.GET_SQLPATCH_STATUS（patchnum IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D__GUID-CA7A0480-A85C-4147-99CC-987D43658A6B">参数</p>
                        <div class="tblformal" id="GUID-D7CA0B58-CC1B-49B5-B803-B68CED84DC3D__GUID-AE3B5E0A-F6C9-4539-99CF-60906109811D">
                           <p class="titleintable">表129-11 GET_SQLPATCH_STATUS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_SQLPATCH_STATUS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_SQLPATCH_STATUS  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e2474">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e2477">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2482" headers="d683661e2474 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2482 d683661e2477 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74933"></a><a id="ARPLS74934"></a><a id="ARPLS74934"></a><a id="ARPLS74933"></a><div class="props_rev_3"><a id="GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099" name="GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099"></a><h4 id="ARPLS-GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099" class="sect4"><span class="enumeration_section">129.5.14</span> IS_PATCH_INSTALLED函数</h4>
                  <div>
                     <p>此函数通过查询XML清单在已安装的修补程序上提供XML节点的信息（例如patchID，应用程序日期和SQL修补程序信息）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099__GUID-C117752C-529B-47EC-AE57-815D29F17C2F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.IS_PATCH_INSTALLED（patchnum IN VARCHAR2）;返回XMLTYPE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099__GUID-6312BF76-FE95-4087-8FF5-31AC1357C651">参数</p>
                        <div class="tblformal" id="GUID-E6DC7FEC-728B-48CA-87E5-ECFDE6281099__GUID-0198A18D-AB58-40A0-A430-39FD6A95488C">
                           <p class="titleintable">表129-12 IS_PATCH_INSTALLED函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IS_PATCH_INSTALLED函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.IS_PATCH_INSTALLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e2600">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e2603">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2608" headers="d683661e2600 ">
                                       <p><code class="codeph">patchnum</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2608 d683661e2603 ">
                                       <p>补丁号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-CE07C884-7731-4E28-9092-FA11F2964D94" name="GUID-CE07C884-7731-4E28-9092-FA11F2964D94"></a><h4 id="ARPLS-GUID-CE07C884-7731-4E28-9092-FA11F2964D94" class="sect4"><span class="enumeration_section">129.5.15</span> OPATCH_COMPARE_CURRENT功能</h4>
                  <div>
                     <p>将当前数据库与错误列表进行比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE07C884-7731-4E28-9092-FA11F2964D94__GUID-4FA47B32-6D18-4D9D-9CF0-425DEBA0CC49">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.OPATCH_COMPARE_CURRENT函数（错误在QOPATCH_LIST中）; RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE07C884-7731-4E28-9092-FA11F2964D94__GUID-0AF882B8-BC0F-46DA-9091-293A3B9BF2EC">参数</p>
                        <div class="tblformal" id="GUID-CE07C884-7731-4E28-9092-FA11F2964D94__GUID-E483627C-96E5-4794-88A7-623FAB0C3F37">
                           <p class="titleintable">表129-13 OPATCH_COMPARE_CURRENT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPATCH_COMPARE_CURRENT函数参数" border="1" summary="This table describes the parameters used by the DBMS_QOPATCH.OPATCH_COMPARE_CURRENT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d683661e2721">参数</th>
                                    <th align="left" valign="bottom" id="d683661e2724">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d683661e2729" headers="d683661e2721 ">
                                       <p><code class="codeph">虫子</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d683661e2729 d683661e2724 ">
                                       <p>与当前数据库进行比较的错误列表。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5" name="GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5"></a><h4 id="ARPLS-GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5" class="sect4"><span class="enumeration_section">129.5.16</span> OPATCH_COMPARE_NODES功能</h4>
                  <div>
                     <p>将给定的RAC节点与当前连接节点的实例与当前节点进行比较。返回值表示数据是否已刷新。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5__GUID-8AC550E0-B892-4A5C-8B3E-B09EACFFC190">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.OPATCH_COMPARE_NODES（节点IN VARCHAR2 DEFAULT NULL，inst IN VARCHAR2 DEFAULT NULL）; RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5__GUID-F62E3AD3-84F4-4C75-BC1C-B258B395B188">参数</p>
                        <div class="tblformal" id="GUID-4DDB00C1-7603-4F82-BEA7-A584F5D22CB5__GUID-B1B765CE-927C-4369-9697-5205ABD25DDF">
                           <p class="titleintable">表129-14 OPATCH_COMPARE_NODES函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPATCH_COMPARE_NODES函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.OPATCH_COMPARE_NODES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d683661e2842">参数</th>
                                    <th align="left" valign="bottom" id="d683661e2845">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d683661e2850" headers="d683661e2842 ">
                                       <p><code class="codeph">节点</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d683661e2850 d683661e2845 ">
                                       <p>节点名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d683661e2858" headers="d683661e2842 ">
                                       <p><code class="codeph">研究所</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d683661e2858 d683661e2845 ">
                                       <p>实例名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74841"></a><a id="ARPLS74937"></a><a id="ARPLS74937"></a><a id="ARPLS74841"></a><div class="props_rev_3"><a id="GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B" name="GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B"></a><h4 id="ARPLS-GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B" class="sect4"><span class="enumeration_section">129.5.17</span> SET_CURRENT_OPINST过程</h4>
                  <div>
                     <p>此过程设置节点名称和实例，以在Oracle Real Application Clusters（RAC）环境中获取特定于其的库存详细信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B__GUID-2E249397-D8C3-427C-BCA8-1C865136A6B2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_QOPATCH.SET_CURRENT_OPINST（node_name IN VARCHAR2 DEFAULT NULL，inst_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B__GUID-30B40D30-4ED5-4501-B832-450DA64F6BDB">参数</p>
                        <div class="tblformal" id="GUID-D754EFEE-1AA4-4FC9-861A-82CFE709678B__GUID-B8B26B69-7C6C-4534-B939-1949659071C9">
                           <p class="titleintable">表129-15 SET_CURRENT_OPINST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_CURRENT_OPINST过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_QOPATCH.SET_CURRENT_OPINST subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d683661e2976">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d683661e2979">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2984" headers="d683661e2976 ">
                                       <p><code class="codeph">NODE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2984 d683661e2979 ">
                                       <p>节点名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d683661e2992" headers="d683661e2976 ">
                                       <p><code class="codeph">inst_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d683661e2992 d683661e2979 ">
                                       <p>实例名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10281.Format-Models.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>格式模型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Quick Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Quick Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-quick-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-11T21:35:07-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96311-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Data-Types.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SQL-Plus-Commands.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Quick Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLQR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Data-Types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SQL-Plus-Commands.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言快速参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">格式模型</li>
            </ol>
            <a id="GUID-19B927AA-5567-438C-BD06-86C4E2B5F4F6" name="GUID-19B927AA-5567-438C-BD06-86C4E2B5F4F6"></a><a id="SQLQR976"></a>
            
            <h2 id="SQLQR-GUID-19B927AA-5567-438C-BD06-86C4E2B5F4F6" class="sect2"><span class="enumeration_chapter">7</span>格式模型</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了存储在字符串中的日期时间和数字数据的格式模型。</p>
               <p>本章包括以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Format-Models.html#GUID-882E720C-1FA7-44C3-99D2-DC7FBBEA7840">格式模型概述</a></p>
                  </li>
                  <li>
                     <p><a href="Format-Models.html#GUID-291CA766-0B7D-4336-954A-B8A23036F6ED">数字格式模型</a></p>
                  </li>
                  <li>
                     <p><a href="Format-Models.html#GUID-FC63D86D-EB36-4A19-995E-C3C146747DF4">日期时间格式模型</a></p>
                  </li>
               </ul>
            </div><a id="SQLQR977"></a><div class="props_rev_3"><a id="GUID-882E720C-1FA7-44C3-99D2-DC7FBBEA7840" name="GUID-882E720C-1FA7-44C3-99D2-DC7FBBEA7840"></a><h3 id="SQLQR-GUID-882E720C-1FA7-44C3-99D2-DC7FBBEA7840" class="sect3">格式模型概述</h3>
               <div>
                  <div class="section">
                     <p>格式模型是一种字符文字，用于描述存储在字符串中的<code class="codeph">DATETIME</code>或<code class="codeph">NUMBER</code>数据的格式。将字符串转换为日期时间或数字时，格式模型会告诉Oracle如何解释字符串。
                     </p>
                     <div class="infoboxnotealso" id="GUID-882E720C-1FA7-44C3-99D2-DC7FBBEA7840__GUID-1A15D891-C5FE-41F0-B549-20EFD35777D2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关格式模型的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF00210" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQLQR978"></a><div class="props_rev_3"><a id="GUID-291CA766-0B7D-4336-954A-B8A23036F6ED" name="GUID-291CA766-0B7D-4336-954A-B8A23036F6ED"></a><h4 id="SQLQR-GUID-291CA766-0B7D-4336-954A-B8A23036F6ED" class="sect4">数字格式模型</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用数字格式模型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">TO_CHAR</code>函数中，将<code class="codeph">NUMBER</code>数据类型的值转换为<code class="codeph">VARCHAR2</code>数据类型</p>
                           </li>
                           <li>
                              <p>在<code class="codeph">TO_NUMBER</code>函数中，将<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>数据类型的值转换为<code class="codeph">NUMBER</code>数据类型</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SQLQR980"></a><a id="SQLQR979"></a><div class="props_rev_3"><a id="GUID-48089B4F-C697-411C-8254-53A7AC5BDA85" name="GUID-48089B4F-C697-411C-8254-53A7AC5BDA85"></a><h5 id="SQLQR-GUID-48089B4F-C697-411C-8254-53A7AC5BDA85" class="sect5">数字格式元素</h5>
                     <div>
                        <div class="section">
                           <p>数字格式模型由一个或多个数字格式元素组成。下表列出了数字格式模型的元素。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-48089B4F-C697-411C-8254-53A7AC5BDA85__GUID-0C9C4B95-485C-46D7-B47A-ECB4EFCF7A80">
                           <p class="titleintable">表7-1数字格式元素</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="数字格式元素" width="100%" border="1" summary="This table lists the number format elements, an example for each element, and a description of each element." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="13%" id="d18972e166">元件</th>
                                    <th align="left" valign="bottom" width="13%" id="d18972e169">例</th>
                                    <th align="left" valign="bottom" width="74%" id="d18972e172">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e177" headers="d18972e166 ">
                                       <p>，（逗号）</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e177 d18972e169 ">
                                       <p><code class="codeph">9999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e177 d18972e172 ">
                                       <p>返回指定位置的逗号。您可以在数字格式模型中指定多个逗号。</p>
                                       <p><span class="bold">限制：</span> 
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>逗号元素无法开始数字格式模型。</p>
                                          </li>
                                          <li>
                                             <p>逗号不能出现在数字格式模型中的十进制字符或句点的右侧。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e199" headers="d18972e166 ">
                                       <p>。 （期）</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e199 d18972e169 ">
                                       <p><code class="codeph">99.99</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e199 d18972e172 ">
                                       <p>返回小数点，它是指定位置的句点（。）。</p>
                                       <p><span class="bold">限制：</span>您只能在数字格式模型中指定一个句点。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e214" headers="d18972e166 ">
                                       <p>$</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e214 d18972e169 ">
                                       <p><code class="codeph">$ 9999产品</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e214 d18972e172 ">
                                       <p>返回带有前导美元符号的值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e225" headers="d18972e166 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e225 d18972e169 ">
                                       <p><code class="codeph">0999</code></p>
                                       <p><code class="codeph">9990</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e225 d18972e172 ">
                                       <p>返回前导零。</p>
                                       <p>返回尾随零。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e241" headers="d18972e166 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e241 d18972e169 ">
                                       <p><code class="codeph">9999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e241 d18972e172 ">
                                       <p>返回具有指定位数的值，前导空格为正数或前导减去负数。前导零是空白的，除了零值，它为定点数的整数部分返回零。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e252" headers="d18972e166 ">
                                       <p>乙</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e252 d18972e169 ">
                                       <p><code class="codeph">B9999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e252 d18972e172 ">
                                       <p>当整数部分为零时，返回定点数的整数部分的空白（无论格式模型中的零如何）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e263" headers="d18972e166 ">
                                       <p><a id="d18972e265" class="indexterm-anchor"></a> C</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e263 d18972e169 ">
                                       <p><code class="codeph">C999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e263 d18972e172 ">
                                       <p>在指定位置返回ISO货币符号（ <code class="codeph">NLS_ISO_CURRENCY</code>参数的当前值）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e281" headers="d18972e166 ">
                                       <p><a id="d18972e283" class="indexterm-anchor"></a> d</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e281 d18972e169 ">
                                       <p><code class="codeph">99D99</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e281 d18972e172 ">
                                       <p>在指定位置返回十进制字符，它是<code class="codeph">NLS_NUMERIC_CHARACTER</code>参数的当前值。默认值为句点（。）。
                                       </p>
                                       <p><span class="bold">限制：</span>您只能在数字格式模型中指定一个十进制字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e303" headers="d18972e166 ">
                                       <p><a id="d18972e305" class="indexterm-anchor"></a> EEEE</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e303 d18972e169 ">
                                       <p><code class="codeph">9.9EEEE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e303 d18972e172 ">
                                       <p>使用科学计数法返回值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e316" headers="d18972e166 ">
                                       <p><a id="d18972e318" class="indexterm-anchor"></a><a id="d18972e322" class="indexterm-anchor"></a> G</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e316 d18972e169 ">
                                       <p><code class="codeph">9G999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e316 d18972e172 ">
                                       <p>返回组分隔符的指定位置（ <code class="codeph">NLS_NUMERIC_CHARACTER</code>参数的当前值）。您可以在数字格式模型中指定多个组分隔符。
                                       </p>
                                       <p><span class="bold">限制：</span>组分隔符不能出现在数字格式模型中的小数字符或句点的右侧。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e342" headers="d18972e166 ">
                                       <p><a id="d18972e344" class="indexterm-anchor"></a>大号</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e342 d18972e169 ">
                                       <p><code class="codeph">L999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e342 d18972e172 ">
                                       <p>在指定位置返回本地货币符号（ <code class="codeph">NLS_CURRENCY</code>参数的当前值）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e361" headers="d18972e166 ">
                                       <p>MI</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e361 d18972e169 ">
                                       <p><code class="codeph">9999MI</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e361 d18972e172 ">
                                       <p>使用尾随减号（ - ）返回负值。</p>
                                       <p>返回带有尾随空白的正值。</p>
                                       <p><span class="bold">限制：</span> MI格式元素只能出现在数字格式模型的最后位置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e378" headers="d18972e166 ">
                                       <p>PR</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e378 d18972e169 ">
                                       <p><code class="codeph">9999PR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e378 d18972e172 ">
                                       <p>返回&lt;尖括号&gt;中的负值。</p>
                                       <p>返回带有前导和尾随空白的正值。</p>
                                       <p><span class="bold">限制：</span> PR格式元素只能出现在数字格式模型的最后位置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e395" headers="d18972e166 ">
                                       <p>RN</p>
                                       <p>RN</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e395 d18972e169 ">
                                       <p><code class="codeph">RN</code></p>
                                       <p><code class="codeph">RN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e395 d18972e172 ">
                                       <p>以大写形式返回罗马数字的值。</p>
                                       <p>以小写形式返回罗马数字的值。</p>
                                       <p>值可以是1到3999之间的整数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e415" headers="d18972e166 ">
                                       <p>小号</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e415 d18972e169 ">
                                       <p><code class="codeph">S9999</code></p>
                                       <p><code class="codeph">9999S</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e415 d18972e172 ">
                                       <p>使用前导减号（ - ）返回负值。</p>
                                       <p>使用前导加号（+）返回正值。</p>
                                       <p>使用尾随减号（ - ）返回负值。</p>
                                       <p>使用尾随加号（+）返回正值。</p>
                                       <p><span class="bold">限制：</span> S格式元素只能出现在数字格式模型的第一个或最后一个位置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e439" headers="d18972e166 ">
                                       <p>TM值</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e439 d18972e169 ">
                                       <p><code class="codeph">TM值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e439 d18972e172 ">
                                       <p>文本最小数字格式模型返回（十进制输出）可能的最小字符数。此元素不区分大小写。</p>
                                       <p>默认值为TM9，它以固定表示法返回数字，除非输出超过64个字符。如果输出超过64个字符，则Oracle数据库会自动以科学计数形式返回该数字。</p>
                                       <p><span class="bold">限制：</span></p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>您不能在此元素之前添加任何其他元素。</p>
                                          </li>
                                          <li>
                                             <p>您只能使用一个9或一个E（或e）来跟随此元素，但不能使用这些元素的任意组合。以下语句返回错误：</p>
                                             <p><code class="codeph">SELECT TO_CHAR（1234，'TM9e'）FROM DUAL;</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e465" headers="d18972e166 ">
                                       <p><a id="d18972e467" class="indexterm-anchor"></a> ü</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e465 d18972e169 ">
                                       <p><code class="codeph">U9999</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e465 d18972e172 ">
                                       <p>在指定位置返回欧元（或其他）双重货币符号，由<code class="codeph">NLS_DUAL_CURRENCY</code>参数的当前值确定。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e483" headers="d18972e166 ">
                                       <p>V</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e483 d18972e169 ">
                                       <p><code class="codeph">999V99</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e483 d18972e172 ">
                                       <p>返回一个乘以10 <sup>n</sup>的值（如果需要，将其四舍五入），其中<span class="italic"><code class="codeph">n</code></span>是<code class="codeph">V</code>之后的9的数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="13%" id="d18972e504" headers="d18972e166 ">
                                       <p><a id="d18972e506" class="indexterm-anchor"></a> X</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d18972e504 d18972e169 ">
                                       <p><code class="codeph">XXXX</code></p>
                                       <p><code class="codeph">XXXX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d18972e504 d18972e172 ">
                                       <p>返回指定位数的十六进制值。如果指定的数字不是整数，则Oracle数据库将其舍入为整数。</p>
                                       <p><span class="bold">限制：</span></p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>此元素仅接受正值或0。负值会返回错误。</p>
                                          </li>
                                          <li>
                                             <p>您可以在此元素之前仅使用0（返回前导零）或FM。任何其他元素都会返回错误。如果既未指定0也未指定带有X的FM，则返回始终具有一个前导空白。有关FM格式模型修饰符的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF30003" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-48089B4F-C697-411C-8254-53A7AC5BDA85__GUID-ADF6D8E0-5C66-4F30-B737-820108BDF9FD">
                              <p class="notep1">也可以看看：</p>
                              <p>有关数字格式模型的更多信息，请<a href="../sqlrf/Format-Models.html#SQLRF00211" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SQLQR981"></a><div class="props_rev_3"><a id="GUID-FC63D86D-EB36-4A19-995E-C3C146747DF4" name="GUID-FC63D86D-EB36-4A19-995E-C3C146747DF4"></a><h4 id="SQLQR-GUID-FC63D86D-EB36-4A19-995E-C3C146747DF4" class="sect4">日期时间格式模型</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用日期时间格式模型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">TO_CHAR</code> ， <code class="codeph">TO_DATE</code> ， <code class="codeph">TO_TIMESTAMP</code> ， <code class="codeph">TO_TIMESTAMP_TZ</code> ， <code class="codeph">TO_YMINTERVAL</code>和<code class="codeph">TO_DSINTERVAL</code>日期时间函数中，用于将格式不是默认日期时间格式的字符串转换为<code class="codeph">DATETIME</code>值</p>
                           </li>
                           <li>
                              <p>在<code class="codeph">TO_CHAR</code>函数中，将格式不是默认日期时间格式的<code class="codeph">DATETIME</code>值转换为字符串</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SQLQR983"></a><a id="SQLQR982"></a><div class="props_rev_3"><a id="GUID-D91AEB37-CE0C-4CC1-A412-020B8B7DEB38" name="GUID-D91AEB37-CE0C-4CC1-A412-020B8B7DEB38"></a><h5 id="SQLQR-GUID-D91AEB37-CE0C-4CC1-A412-020B8B7DEB38" class="sect5">日期时间格式元素</h5>
                     <div>
                        <div class="section">
                           <p>日期时间格式模型由一个或多个日期时间格式元素组成。下表列出了日期格式模型的元素。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-D91AEB37-CE0C-4CC1-A412-020B8B7DEB38__GUID-91FCCF52-C858-45BD-9EDF-0CCE4CA6F223">
                           <p class="titleintable">表7  -  2日期时间格式元素</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="日期时间格式元素" width="100%" border="1" summary="This table lists the datetime format elements, a Yes or No value indicating whether each element can be used in the format model for the TO_* datetime functions, and a description of each element." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="12%" id="d18972e641">元件</th>
                                    <th align="left" valign="bottom" width="18%" id="d18972e644">TO_ *日期时间功能？</th>
                                    <th align="left" valign="bottom" width="70%" id="d18972e647">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e652" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">-  / ,.; ：“文字”</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e652 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e652 d18972e647 ">
                                       <p>在结果中复制标点符号和引用的文本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e662" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">AD AD</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e662 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e662 d18972e647 ">
                                       <p>AD指示符有或没有句点。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e672" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">上午</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e672 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e672 d18972e647 ">
                                       <p>经络指标有无周期。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e682" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">BC BC</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e682 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e682 d18972e647 ">
                                       <p>BC指标有或没有期间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e692" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">CC SCC</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e692 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e692 d18972e647 ">
                                       <p>世纪。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果4位数年份的最后2位数字介于01和99（含）之间，则该世纪比该年份的前2位数大1。</p>
                                          </li>
                                          <li>
                                             <p>如果4位数年份的最后2位数字是00，则该世纪与该年份的前2位数字相同。</p>
                                          </li>
                                       </ul>
                                       <p>例如，2002年返回21; 2000年返回20。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e711" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">d</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e711 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e711 d18972e647 ">
                                       <p>星期几（1-7）。此元素取决于会话的NLS区域。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e721" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">天</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e721 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e721 d18972e647 ">
                                       <p>当天的名字。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e731" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">DD</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e731 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e731 d18972e647 ">
                                       <p>每月的日子（1-31）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e741" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">DDD</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e741 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e741 d18972e647 ">
                                       <p>一年中的某一天（1-366）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e751" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><a id="d18972e753" class="indexterm-anchor"></a><a id="d18972e757" class="indexterm-anchor"></a><a id="d18972e759" class="indexterm-anchor"></a> DL</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e751 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e751 d18972e647 ">
                                       <p>返回长日期格式的值，该格式是Oracle数据库的<code class="codeph">DATE</code>格式的扩展，由<code class="codeph">NLS_DATE_FORMAT</code>参数的当前值确定。使日期组件（日期名称，月份编号等）的<code class="codeph">NLS_TERRITORY</code>取决于<code class="codeph">NLS_TERRITORY</code>和<code class="codeph">NLS_LANGUAGE</code>参数。例如，在<code class="codeph">AMERICAN_AMERICA</code>语言环境中，这相当于指定格式<code class="codeph">'fmDay,</code> <code class="codeph">Month</code> <code class="codeph">dd,</code> <code class="codeph">yyyy'</code> 。在<code class="codeph">GERMAN_GERMANY</code>语言环境中，它等同于指定格式' <code class="codeph">fmDay, dd.</code> <code class="codeph">Month yyyy</code> '。
                                       </p>
                                       <p><span class="bold">限制：</span>您只能使用<code class="codeph">TS</code>元素指定此格式，用空格分隔。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e814" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><a id="d18972e816" class="indexterm-anchor"></a> DS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e814 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e814 d18972e647 ">
                                       <p>以短日期格式返回值。使日期组件（日期名称，月份编号等）的<code class="codeph">NLS_TERRITORY</code>取决于<code class="codeph">NLS_TERRITORY</code>和<code class="codeph">NLS_LANGUAGE</code>参数。例如，在<code class="codeph">AMERICAN_AMERICA</code>语言环境中，这相当于指定格式“ <code class="codeph">MM/DD/RRRR</code> ”。在<code class="codeph">ENGLISH_UNITED_KINGDOM</code>语言环境中，它等同于指定格式' <code class="codeph">DD/MM/RRRR</code> '。
                                       </p>
                                       <p><span class="bold">限制：</span>您只能使用<code class="codeph">TS</code>元素指定此格式，用空格分隔。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e855" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">DY</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e855 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e855 d18972e647 ">
                                       <p>日期的缩写名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e865" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">Ë</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e865 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e865 d18972e647 ">
                                       <p>缩写时代名称（日本帝国，ROC官方和泰国佛历）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e875" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">EE</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e875 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e875 d18972e647 ">
                                       <p>全时代的名字（日本帝国，中华民国官方和泰国佛历）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e885" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">FF [1..9]</code></pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e885 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e885 d18972e647 ">
                                       <p>分数秒;没有打印基数字符。使用X格式元素添加基数字符。在FF之后使用数字1到9指定返回的日期时间值的小数部分中的位数。如果未指定数字，则Oracle数据库将使用为datetime数据类型或数据类型的默认精度指定的精度。在时间戳和间隔格式中有效，但在<code class="codeph">DATE</code>格式中不存在。
                                       </p>
                                       <p><span class="bold">示例：</span> <code class="codeph">'HH:MI:SS.FF'</code></p>
                                       <p><code class="codeph">从双重中选择TO_CHAR（SYSTIMESTAMP，'SS.FF3'）;</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e908" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">调频</code></pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e908 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e908 d18972e647 ">
                                       <p>返回没有前导或尾随空格的值。</p>
                                       <p><span class="bold">另</span> <span class="bold">见</span> ： <a href="../sqlrf/Format-Models.html#SQLRF30003" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a>有关FM格式模型修正的更多信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e931" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">FX</code></pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e931 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e931 d18972e647 ">
                                       <p>要求字符数据和格式模型完全匹配。</p>
                                       <p><span class="bold">另</span> <span class="bold">见</span> ： <a href="../sqlrf/Format-Models.html#SQLRF30004" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a>有关FX格式模型修正的更多信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e954" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">HH HH12</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e954 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e954 d18972e647 ">
                                       <p>一天中的小时（1-12）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e964" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">HH24</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e964 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e964 d18972e647 ">
                                       <p>一天中的小时（0-23）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e974" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">IW</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e974 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e974 d18972e647 ">
                                       <p>一年中的一周（1-52或1-53）基于ISO标准。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e984" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">IYY IY I</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e984 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e984 d18972e647 ">
                                       <p>ISO年份的最后3个，2个或1个数字。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e994" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">IYYY</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e994 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e994 d18972e647 ">
                                       <p>基于ISO标准的4位数年份。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1005" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">Ĵ</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1005 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1005 d18972e647 ">
                                       <p>朱利安日;公元前4712年1月1日以来的天数。用J指定的数字必须是整数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1015" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">MI</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1015 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1015 d18972e647 ">
                                       <p>分钟（0-59）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1025" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">MM</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1025 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1025 d18972e647 ">
                                       <p>月（01-12; 1月= 01）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1035" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">MON</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1035 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1035 d18972e647 ">
                                       <p>月份的缩写名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1045" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">月</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1045 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1045 d18972e647 ">
                                       <p>月份名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1055" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">PM PM</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1055 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1055 d18972e647 ">
                                       <p>经络指标有无周期。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1065" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">Q</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1065 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1065 d18972e647 ">
                                       <p>一年中的一年（1,2,3,4; 1月 -  3月= 1）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1075" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">R M</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1075 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1075 d18972e647 ">
                                       <p>罗马数字月（I-XII; 1月= I）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1085" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">RR</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1085 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1085 d18972e647 ">
                                       <p>只需两位数，即可在21世纪存储20世纪的日期。</p>
                                       <p><span class="bold">另请参阅</span> <span class="bold">：</span> <a href="../sqlrf/Format-Models.html#SQLRF00215" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> ，以获取有关RR datetime格式元素的更多信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1107" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">RRRR</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1107 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1107 d18972e647 ">
                                       <p>一年。接受4位或2位输入。如果是2位数，则提供与RR相同的回报。如果您不想要此功能，请输入4位数年份。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1117" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">SS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1117 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1117 d18972e647 ">
                                       <p>第二（0-59）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1128" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">SSSSS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1128 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1128 d18972e647 ">
                                       <p>午夜过后（0-86399）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1138" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr"><a id="d18972e1140" class="indexterm-anchor"></a> TS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1138 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1138 d18972e647 ">
                                       <p>以短时间格式返回值。使时间组件（小时，分钟等）的<code class="codeph">NLS_TERRITORY</code>取决于<code class="codeph">NLS_TERRITORY</code>和<code class="codeph">NLS_LANGUAGE</code>初始化参数。
                                       </p>
                                       <p><span class="bold">限制：</span>您只能使用<code class="codeph">DL</code>或<code class="codeph">DS</code>元素指定此格式，用空格分隔。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1166" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">TZD<a id="d18972e1169" class="indexterm-anchor"></a></pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1166 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1166 d18972e647 ">
                                       <p>夏令时信息。TZD值是带有夏令时信息的缩写时区字符串。它必须与TZR中指定的区域相对应。在时间戳和间隔格式中有效，但在<code class="codeph">DATE</code>格式中不存在。
                                       </p>
                                       <p><span class="bold">示例：</span> <code class="codeph">PST</code> （美国/太平洋标准时间）; <code class="codeph">PDT</code> （美国/太平洋夏令时）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1191" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">TZH</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1191 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1191 d18972e647 ">
                                       <p>时区小时。（参见<code class="codeph">TZM</code>格式元素。）在时间戳和间隔格式中有效，但在<code class="codeph">DATE</code>格式中不存在。
                                       </p>
                                       <p><span class="bold">示例：</span> <code class="codeph">'HH:MI:SS.FFTZH:TZM'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1214" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">TZM</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1214 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1214 d18972e647 ">
                                       <p>时区分钟。（参见<code class="codeph">TZH</code>格式元素。）在时间戳和间隔格式中有效，但在<code class="codeph">DATE</code>格式中不存在。
                                       </p>
                                       <p><span class="bold">示例：</span> <code class="codeph">'HH:MI:SS.FFTZH:TZM'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1237" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">TZR</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1237 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1237 d18972e647 ">
                                       <p>时区地区信息。该值必须是数据库中支持的时区之一。在时间戳和间隔格式中有效，但在<code class="codeph">DATE</code>格式中不存在。
                                       </p>
                                       <p><span class="bold">示例：</span>美国/太平洋地区</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1254" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">WW</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1254 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1254 d18972e647 ">
                                       <p>一周中的一周（1-53），其中第1周从一年的第一天开始，并持续到一年的第七天。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1264" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">w ^</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1264 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1264 d18972e647 ">
                                       <p>每周的一周（1-5），其中第1周从该月的第一天开始，到第七周结束。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1274" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">X</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1274 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1274 d18972e647 ">
                                       <p>本地基数字符。</p>
                                       <p><span class="bold">示例：</span> <code class="codeph">'HH:MI:SSXFF'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1291" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">Y，YYY</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1291 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1291 d18972e647 ">
                                       <p>年份逗号在这个位置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1301" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">年度比赛</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1301 d18972e644 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1301 d18972e647 ">
                                       <p>一年，拼写出来; <code class="codeph">S</code>前缀BC的日期带有减号（ - ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1315" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">YYYY SYYYY</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1315 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1315 d18972e647 ">
                                       <p>4位数年份; <code class="codeph">S</code>前缀BC日期带有减号。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d18972e1328" headers="d18972e641 "><pre class="oac_no_warn" dir="ltr">YYY YY Y.</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d18972e1328 d18972e644 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d18972e1328 d18972e647 ">
                                       <p>一年的最后3个，2个或1个数字。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-D91AEB37-CE0C-4CC1-A412-020B8B7DEB38__GUID-1758D1A0-B6F7-48DF-B21B-CB20030350B5">
                              <p class="notep1">也可以看看：</p>
                              <p>有关datetime格式模型的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF00212" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10615.Literals.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>字面</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Data-Type-Comparison-Rules.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Format-Models.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Data-Type-Comparison-Rules.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Format-Models.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Basic-Elements-of-Oracle-SQL.html" property="item" typeof="WebPage"><span property="name">Oracle SQL的基本元素</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">字面</li>
            </ol>
            <a id="GUID-192417E8-A79D-4A1D-9879-68272D925707" name="GUID-192417E8-A79D-4A1D-9879-68272D925707"></a><a id="SQLRF00217"></a>
            
            <h2 id="SQLRF-GUID-192417E8-A79D-4A1D-9879-68272D925707" class="sect2">字面</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>术语<span class="bold">文字</span>和<span class="bold">常量值</span>是同义词，指的是固定数据值。例如，'JACK'，'BLUE ISLAND'和'101'都是字符文字; 5001是数字文字。字符文字用单引号括起来，以便Oracle可以将它们与模式对象名称区分开来。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Literals.html#GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA">文字文字</a></p>
                     </li>
                     <li>
                        <p><a href="Literals.html#GUID-F521FBA0-FFED-4079-ABC4-9052218B3FD5">数字文字</a></p>
                     </li>
                     <li>
                        <p><a href="Literals.html#GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1">日期时间文字</a></p>
                     </li>
                     <li>
                        <p><a href="Literals.html#GUID-DC8D1DAD-7D04-45EA-9546-82810CD09A1B">区间文字</a></p>
                     </li>
                  </ul>
                  <p>许多SQL语句和函数都要求您指定字符和数字文字值。您还可以将文字指定为表达式和条件的一部分。您可以使用' <span class="italic"><code class="codeph">text</code></span> '表示法指定字符文字，使用<span class="italic"><code class="codeph">N'text'</code></span>表示法指定国家字符文字，使用<span class="italic"><code class="codeph">integer</code></span>或<span class="italic"><code class="codeph">number</code></span>表示法指定数字文字，具体取决于文字的上下文。这些符号的句法形式出现在下面的部分中。
                  </p>
                  <p>要将日期时间或间隔数据类型指定为文字，必须考虑数据类型中包含的任何可选精度。在的相关部分提供指定日期时间和时间间隔的数据类型作为文字的实例<a href="Data-Types.html#GUID-A3C0D836-BADB-44E5-A5D4-265BA5968483">数据类型</a> 。
                  </p>
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF51057"></a><a id="SQLRF00218"></a><div class="props_rev_3"><a id="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA" name="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA"></a><h3 id="SQLRF-GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA" class="sect3">文字文字</h3>
               <div>
                  <div class="section">
                     <p>每当<span class="italic"><code class="codeph">string</code></span>出现在此引用的其他部分的表达式，条件，SQL函数和SQL语句的语法中时，请使用文本文字表示法指定值。此引用可互换地使用术语<span class="bold">text literal</span> ， <span class="bold">character literal</span>和<span class="bold">string</span> 。文本，字符和字符串文字始终用单引号括起来。如果语法使用术语<span class="italic"><code class="codeph">char</code></span> ，则可以指定文本文字或解析为字符数据的其他表达式 - 例如， <code class="codeph">hr.employees</code>表的<code class="codeph">last_name</code>列。当<span class="italic"><code class="codeph">char</code></span>出现在语法中时，不使用单引号。
                     </p>
                     <p><a id="d46230e342" class="indexterm-anchor"></a>文本文字或字符串的语法如下：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA__GUID-8893CB40-A3D7-4BE2-AF4D-765CCBDB23FF"><span class="italic">string</span> :: =</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA__GUID-E730F007-B2D1-49A7-A5F2-BED3B4C237FF"><img src="img/string.gif" alt="string.eps的描述如下" title="string.eps的描述如下" longdesc="img_text/string.html"><br><a href="img_text/string.html">插图描述string.eps</a></div>
                     <!-- class="figure" -->
                     <p><a id="d46230e357" class="indexterm-anchor"></a>其中<code class="codeph">N</code>或<code class="codeph">n</code>使用国家字符集（ <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR2</code>数据）指定文字。默认情况下，使用此表示法输入的文本在服务器使用时通过数据库字符集转换为国家字符集。为避免在文本文本转换为数据库字符集期间可能丢失数据，请将环境变量<code class="codeph">ORA_NCHAR_LITERAL_REPLACE</code>设置为<code class="codeph">TRUE</code> 。这样做透明地在内部替换<code class="codeph">n'</code>并保留SQL处理的文本文字。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA__GUID-F5A8E669-897A-4759-9C7D-325B91D10886">
                        <p class="notep1">也可以看看：</p>
                        <p>有关N引用文字的详细信息，请参阅<a href="../nlspg/programming-with-unicode.html#NLSPG0071" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a></p>
                     </div>
                     <p>在语法的顶部分支中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">c</code></span>是用户字符集的任何成员。文字中的单引号（'）必须以转义字符开头。要在文字中表示单个引号，请输入两个单引号。
                           </p>
                        </li>
                        <li>
                           <p>''是两个单引号，用于开始和结束文本文字。</p>
                        </li>
                     </ul>
                     <p>在语法的底部分支中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">Q</code>或<code class="codeph">q</code>表示将使用替代引用机制。此机制允许文本字符串的各种分隔符。
                           </p>
                        </li>
                        <li>
                           <p>最外面的<code class="codeph">'</code> <code class="codeph">'</code>是两个单引号，分别位于开始和结束<span class="italic"><code class="codeph">quote_delimiter</code></span>之前和<span class="italic"><code class="codeph">quote_delimiter</code></span> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">c</code></span>是用户字符集的任何成员。您可以在由<code class="codeph">c</code>字符组成的文本文字中包含引号（“）。您也可以包含<span class="italic"><code class="codeph">quote_delimiter</code></span> ，只要它不会紧跟一个引号。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">quote_delimiter</code></span>是除空格，制表符和返回之外的任何单字节或多字节字符。<span class="italic"><code class="codeph">quote_delimiter</code></span>可以是单引号。但是，如果<span class="italic"><code class="codeph">quote_delimiter</code></span>出现在文本文本本身中，请确保它不会立即后跟单引号。
                           </p>
                           <p>如果开头<span class="italic"><code class="codeph">quote_delimiter</code></span>是<code class="codeph">[</code> ， <code class="codeph">{</code> ， <code class="codeph">&lt;</code> ，或<code class="codeph">(</code> ，然后结束<span class="italic"><code class="codeph">quote_delimiter</code></span>必须是相应的<code class="codeph">]</code> ， <code class="codeph">}</code> ， <code class="codeph">&gt;</code>或<code class="codeph">)</code> 。在所有其他情况下，开始和结束<span class="italic"><code class="codeph">quote_delimiter</code></span>必须是相同的字符。
                           </p>
                        </li>
                     </ul>
                     <p><a id="d46230e495" class="indexterm-anchor"></a>文本文字具有<code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>数据类型的属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在表达式和条件中，Oracle通过使用空白填充比较语义来比较文本文字，就好像它们具有数据类型<code class="codeph">CHAR</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果初始化参数<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code> ，则文本文本的最大长度为4000字节，如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code> ，则文本文本的最大长度为32767字节。有关更多信息，请参阅<a href="Data-Types.html#GUID-8EFA29E9-E8D8-40A6-A43E-954908C954A4">扩展数据类型</a>
                           </p>
                        </li>
                     </ul>
                     <p>以下是一些有效的文本文字：</p><pre class="oac_no_warn" dir="ltr">'你好''ORACLE.dbs''Jackie'的雨衣''09 -MAR-98'N'nchar literal'</pre><p>以下是一些使用替代引用机制的有效文本文字：</p><pre class="oac_no_warn" dir="ltr">Q'！名字LIKE'％DBMS _ %%'！'q'&lt;'所以，'她说，'它已经完成。'&gt;'q'{SELECT * FROM employees WHERE last_name ='Smith';}'nq'ïŸ1234ï'q'“name like'['”'</pre><div class="infoboxnotealso" id="GUID-1824CBAA-6E16-4921-B2A6-112FB02248DA__GUID-4E222DB0-550C-4F2D-BBC4-CCEF87F0CEA0">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__BABJBDGB">空白填充和非填充比较语义</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF00220"></a><div class="props_rev_3"><a id="GUID-F521FBA0-FFED-4079-ABC4-9052218B3FD5" name="GUID-F521FBA0-FFED-4079-ABC4-9052218B3FD5"></a><h3 id="SQLRF-GUID-F521FBA0-FFED-4079-ABC4-9052218B3FD5" class="sect3">数字文字</h3>
               <div>
                  <div class="section">
                     <p>使用数字文字表示法指定固定和浮点数。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQLRF51059"></a><a id="SQLRF51058"></a><div class="props_rev_3"><a id="GUID-A0B9C440-5C3C-407B-8C8B-0553293C7983" name="GUID-A0B9C440-5C3C-407B-8C8B-0553293C7983"></a><h4 id="SQLRF-GUID-A0B9C440-5C3C-407B-8C8B-0553293C7983" class="sect4">整数文字</h4>
                  <div>
                     <div class="section">
                        <p>每当<span class="italic"><code class="codeph">integer</code></span>出现在此引用的其他部分中描述的表达式，条件，SQL函数和SQL语句中时，必须使用整数表示法来指定整数。
                        </p>
                        <p><a id="d46230e807" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">integer</code></span>的语法如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0B9C440-5C3C-407B-8C8B-0553293C7983__GUID-B785C1B8-7B85-4D69-9CF2-6B5CFE7606E4"><span class="italic">整数</span> :: =</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-A0B9C440-5C3C-407B-8C8B-0553293C7983__GUID-EBB244E1-53D0-44AD-8BD7-575C1A49E2A8"><img src="img/integer.gif" alt="integer.eps的描述如下" title="integer.eps的描述如下" longdesc="img_text/integer.html"><br><a href="img_text/integer.html">说明integer.eps的描述</a></div>
                        <!-- class="figure" -->
                        <p>其中<span class="italic"><code class="codeph">digit</code></span>是0,1,2,3,4,5,6,7,8,9中的一个。
                        </p>
                        <p><a id="d46230e832" class="indexterm-anchor"></a>整数最多可存储38位精度。
                        </p>
                        <p>这是一些有效的整数：</p><pre class="oac_no_warn" dir="ltr">7 +255</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQLRF51061"></a><a id="SQLRF51060"></a><div class="props_rev_3"><a id="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189" name="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189"></a><h4 id="SQLRF-GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189" class="sect4">NUMBER和浮点字面值</h4>
                  <div>
                     <div class="section">
                        <p>只要<span class="italic"><code class="codeph">number</code></span>或<span class="italic"><code class="codeph">n</code></span>出现在此引用的其他部分的表达式，条件，SQL函数和SQL语句中，就必须使用数字或浮点表示法来指定值。
                        </p>
                        <p><a id="d46230e970" class="indexterm-anchor"></a>语法<span class="italic"><code class="codeph">number</code></span>如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189__GUID-D0BE67C3-2CD9-41A3-8516-F7D2DF597B20"><span class="italic">number</span> :: =</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189__GUID-53A0595C-836A-47D6-AFE8-4BEE2221E0D1"><img src="img/number.gif" alt="number.eps的描述如下" title="number.eps的描述如下" longdesc="img_text/number.html"><br><a href="img_text/number.html">插图number.eps的描述</a></div>
                        <!-- class="figure" -->
                        <p>哪里</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>+或 - 表示正值或负值。如果省略该符号，则默认值为正值。</p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">digit</code></span>是0,1,2,3,4,5,6,7,8或9中的一个。
                              </p>
                           </li>
                           <li>
                              <p>e或E表示该数字以科学记数法指定。E后面的数字指定指数。指数的范围可以从-130到125。</p>
                           </li>
                           <li>
                              <p>f或F表示该数字是<code class="codeph">BINARY_FLOAT</code>的32位二进制浮点数。</p>
                           </li>
                           <li>
                              <p>d或D表示该数字是<code class="codeph">BINARY_DOUBLE</code>类型的64位二进制浮点数。</p>
                              <p>如果省略f或F和d或D，则数字的类型为<code class="codeph">NUMBER</code> 。</p>
                              <p>后缀f（F）和d（D）仅在浮点数字文字中受支持，而不在要转换为<code class="codeph">NUMBER</code>字符串中受支持。例如，如果Oracle期望<code class="codeph">NUMBER</code>并且遇到字符串<code class="codeph">'9'</code> ，那么它将字符串转换为数字9。但是，如果Oracle遇到字符串<code class="codeph">'9f'</code> ，则转换失败并返回错误。
                              </p>
                           </li>
                        </ul>
                        <p><a id="d46230e1035" class="indexterm-anchor"></a><a id="d46230e1039" class="indexterm-anchor"></a> <code class="codeph">NUMBER</code>类型可以存储最多38位精度。如果文字要求比<code class="codeph">NUMBER</code> ， <code class="codeph">BINARY_FLOAT</code>或<code class="codeph">BINARY_DOUBLE</code>提供的精度更高，则Oracle会截断该值。如果文字的范围超出<code class="codeph">NUMBER</code> ， <code class="codeph">BINARY_FLOAT</code>或<code class="codeph">BINARY_DOUBLE</code>支持的范围，则Oracle会引发错误。
                        </p>
                        <p>数字文字是SQL语法元素，对NLS设置不敏感。数字文字中的小数点分隔符始终是句点（。）。但是，如果指定了预期数值的文本文字，则文本文字将以NLS敏感的方式隐式转换为数字。文本文字中包含的小数分隔符必须是使用初始化参数<code class="codeph">NLS_NUMERIC_CHARACTERS</code>建立的小数分隔符。 Oracle建议您在SQL脚本中使用数字文字使其独立于NLS环境工作。
                        </p>
                        <p>以下示例说明了数字文字和文本文字中小数分隔符的行为。这些示例假定您已使用以下语句将逗号（，）设置为当前会话的NLS小数分隔符：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_NUMERIC_CHARACTERS ='，。“;</pre><p>前面的语句还将句点（。）建立为NLS组分隔符，但这与这些示例无关。</p>
                        <p>此示例使用数字文字<code class="codeph">1.23</code>所需的小数点分隔符（。）和文本文字“ <code class="codeph">2,34</code> ”中已建立的NLS小数点分隔符（，）。文本文字将转换为数值2.34，并使用逗号显示小数分隔符的输出。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT 2 * 1.23,3 *'2,34'FROM DUAL; 2 * 1.23 3 *'2,34'---------- ---------- 2,46 7,02</pre><p>下一个示例显示逗号不会被视为数字文字的一部分。相反，逗号被视为两个数字表达式列表中的分隔符： <code class="codeph">2*1</code>和<code class="codeph">23</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT 2 * 1,23 FROM DUAL; 2 * 1 23 ---------- ---------- 2 23</pre><p>下一个示例显示文本文字中的小数分隔符必须与NLS小数分隔符匹配，以便隐式文本到数字转换成功。以下语句失败，因为小数分隔符（。）与已建立的NLS小数分隔符（，）不匹配：</p><pre class="oac_no_warn" dir="ltr">SELECT 3 *'2.34'FROM DUAL; *第1行的错误：ORA-01722：无效的数字</pre><div class="infoboxnotealso" id="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189__GUID-3DB6DB8B-F191-4A99-8B7C-2FB4E363A701">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B">ALTER SESSION</a>和<a href="../refrn/NLS_NUMERIC_CHARACTERS.html#REFRN10126" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                        <p>以下是一些有效的<code class="codeph">NUMBER</code>字面值：</p><pre class="oac_no_warn" dir="ltr">25 +6.34 0.5 25e-03 -1</pre><p>以下是一些有效的浮点数字文字：</p><pre class="oac_no_warn" dir="ltr">25f + 6.34F 0.5d -1D</pre><p>在值无法表示为数字文字的情况下，您还可以使用以下提供的浮点文字：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-083FEFEA-B33F-436B-AEBF-9101A49EF189__GUID-37CE6326-45E7-4835-88FA-B100257E0563">
                        <p class="titleintable">表2-11浮点文字</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="浮点文字" width="100%" border="1" summary="The first column lists the floating-point literals, the second column describes the literal, and the third column provides examples." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d46230e1136">文字</th>
                                 <th align="left" valign="bottom" width="23%" id="d46230e1139">含义</th>
                                 <th align="left" valign="bottom" width="51%" id="d46230e1142">例</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d46230e1147" headers="d46230e1136 ">
                                    <p><code class="codeph">binary_float_nan</code></p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d46230e1147 d46230e1139 ">
                                    <p>条件为<code class="codeph">IS</code> <code class="codeph">NAN</code> <code class="codeph">BINARY_FLOAT</code>为<code class="codeph">BINARY_FLOAT</code>的值为true</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d46230e1147 d46230e1142 "><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM employees WHERE TO_BINARY_FLOAT（commission_pct）！= BINARY_FLOAT_NAN;</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d46230e1167" headers="d46230e1136 ">
                                    <p><code class="codeph">binary_float_infinity</code></p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d46230e1167 d46230e1139 ">
                                    <p>单精度正无穷大</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d46230e1167 d46230e1142 "><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM employees WHERE salary &lt;BINARY_FLOAT_INFINITY;</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d46230e1178" headers="d46230e1136 ">
                                    <p><code class="codeph">binary_double_nan</code></p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d46230e1178 d46230e1139 ">
                                    <p>条件为<code class="codeph">IS</code> <code class="codeph">NAN</code>的类型为<code class="codeph">BINARY_DOUBLE</code>的值为true</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d46230e1178 d46230e1142 "><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM employees WHERE TO_BINARY_FLOAT（commission_pct）！= BINARY_FLOAT_NAN;</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d46230e1198" headers="d46230e1136 ">
                                    <p><code class="codeph">binary_double_infinity</code></p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d46230e1198 d46230e1139 ">
                                    <p>双精度正无穷大</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d46230e1198 d46230e1142 "><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM employees WHERE salary &lt;BINARY_DOUBLE_INFINITY;</pre></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="SQLRF51063"></a><a id="SQLRF51064"></a><a id="SQLRF51065"></a><a id="SQLRF51066"></a><a id="SQLRF51062"></a><div class="props_rev_3"><a id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1" name="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1"></a><h3 id="SQLRF-GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1" class="sect3">日期时间文字</h3>
               <div>
                  <div class="section">
                     <p>Oracle数据库支持四种日期时间数据类型： <code class="codeph">DATE</code> ， <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>和<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-D5C52C15-74FB-4035-933C-083C130CB440">日期文字</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以将<code class="codeph">DATE</code>值指定为字符串文字，也可以使用<code class="codeph">TO_DATE</code>函数将字符或数值转换为日期值。<code class="codeph">DATE</code>文字是Oracle数据库接受<code class="codeph">TO_DATE</code>表达式代替字符串文字的唯一情况。
                     </p>
                     <p>要将<code class="codeph">DATE</code>值指定为文字，您必须使用公历。您可以指定ANSI文字，如下例所示：</p><pre class="oac_no_warn" dir="ltr">日期'1998-12-25'</pre><p>ANSI日期文字不包含时间部分，必须以“ <code class="codeph">YYYY-MM-DD</code> ”格式指定。或者，您可以指定Oracle日期值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">TO_DATE（'98 -DEC-25 17:30'，'YY-MON-DD HH24：MI'）</pre><p>Oracle <code class="codeph">DATE</code>值的默认日期格式由初始化参数<code class="codeph">NLS_DATE_FORMAT</code>指定。此示例日期格式包括一个月中的两位数字，月份名称的缩写，一年中的最后两位数字以及24小时时间指定。
                     </p>
                     <p>在日期表达式中使用时，Oracle会自动将默认日期格式的字符值转换为日期值。</p>
                     <p>如果指定没有时间组件的日期值，则默认时间为午夜（分别为24小时和12小时时间的00:00:00或12:00:00）。如果指定没有日期的日期值，则默认日期是当前月份的第一天。</p>
                     <p>Oracle <code class="codeph">DATE</code>列始终包含日期和时间字段。因此，如果查询<code class="codeph">DATE</code>列，则必须在查询中指定时间字段，或者确保<code class="codeph">DATE</code>列中的时间字段设置为午夜。否则，Oracle可能不会返回您期望的查询结果。您可以使用<code class="codeph">TRUNC</code>日期函数将时间字段设置为午夜，或者您可以在查询中包含大于或小于条件而不是相等或不等条件。
                     </p>
                     <p>下面是一些假设表<code class="codeph">my_table</code>示例，其中包含数字列<code class="codeph">row_num</code>和<code class="codeph">DATE</code>列<code class="codeph">datecol</code> ：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO my_table VALUES（1，SYSDATE）; INSERT INTO my_table VALUES（2，TRUNC（SYSDATE））; SELECT * FROM my_table; ROW_NUM DATECOL ---------- --------- 1 03-OCT-02 2 03-OCT-02 SELECT * FROM my_table WHERE datecol&gt; TO_DATE（'02 -OCT-02'， 'DD-MON-YY'）; ROW_NUM DATECOL ---------- --------- 1 03-OCT-02 2 03-OCT-02 SELECT * FROM my_table WHERE datecol = TO_DATE（'03 -OCT-02'， 'DD-MON-YY'）; ROW_NUM DATECOL ---------- --------- 2 03-OCT-02</pre><p>如果您知道<code class="codeph">DATE</code>列的时间字段设置为午夜，那么您可以查询<code class="codeph">DATE</code>列，如前面的示例所示，或者使用<code class="codeph">DATE</code>文字：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM my_table WHERE datecol = DATE'2002-10-03'; ROW_NUM DATECOL ---------- --------- 2 03-OCT-02</pre><p>但是，如果<code class="codeph">DATE</code>列包含午夜以外的值，则必须筛选出查询中的时间字段以获取正确的结果。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM my_table WHERE TRUNC（datecol）= DATE'2002-10-03'; ROW_NUM DATECOL ---------- --------- 1 03-OCT-02 2 03-OCT-02</pre><p>Oracle将<code class="codeph">TRUNC</code>函数应用于查询中的每一行，因此如果确保数据中时间字段的午夜值，性能会更好。要确保将时间字段设置为午夜，请在插入和更新期间使用以下方法之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">TO_DATE</code>函数来屏蔽时间字段：</p><pre class="oac_no_warn" dir="ltr">插入my_table VALUES（3，TO_DATE（'3-OCT-2002'，'DD-MON-YYYY'））;</pre></li>
                        <li>
                           <p>使用<code class="codeph">DATE</code>文字：</p><pre class="oac_no_warn" dir="ltr">插入my_table VALUES（4，'03 -OCT-02'）;</pre></li>
                        <li>
                           <p>使用<code class="codeph">TRUNC</code>功能：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO my_table VALUES（5，TRUNC（SYSDATE））;</pre></li>
                     </ul>
                     <p>日期函数<code class="codeph">SYSDATE</code>返回当前系统日期和时间。函数<code class="codeph">CURRENT_DATE</code>返回当前会话日期。有关<code class="codeph">SYSDATE</code> ， <code class="codeph">TO_*</code> datetime函数和默认日期格式的信息，请参阅<a href="Single-Row-Functions.html#GUID-5652DBC2-41C7-4F07-BEDD-DAF620E35F3C">日期时间函数</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-D8999522-88C6-41D7-96BA-D782CA3543DD">TIMESTAMP文字</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">TIMESTAMP</code>数据类型存储年，月，日，小时，分钟和秒，以及小数秒值。当您将<code class="codeph">TIMESTAMP</code>指定为文字时， <span class="italic"><code class="codeph">fractional_seconds_precision</code></span>值可以是最多9位的任意数字，如下所示：</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1997-01-31 09：26：50.124'</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-B1515DD0-CA51-4CE9-9230-E389C0BB811F">TIMESTAMP与时区文字</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>数据类型是<code class="codeph">TIMESTAMP</code>的变体，包括时区区域名称或时区偏移量。当您将<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>指定为文字时， <span class="italic"><code class="codeph">fractional_seconds_precision</code></span>值可以是任意数量的数字，最多为9。例如：</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1997-01-31 09：26：56.66 +02：00'</pre><p>如果两个<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>值代表UTC中的相同时刻，则它们被视为相同，无论数据中存储的<code class="codeph">TIME</code> <code class="codeph">ZONE</code>偏移如何。例如，</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1999-04-15 8:00:00 -8：00'</pre><p>是相同的</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1999-04-15 11:00:00 -5:00'</pre><p>太平洋标准时间上午8:00与东部标准时间上午11:00相同。</p>
                     <p><a id="d46230e1604" class="indexterm-anchor"></a>您可以使用<code class="codeph">TZR</code> （时区区域名称）格式元素替换UTC偏移量。例如，以下示例与前面的示例具有相同的值：</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1999-04-15 8:00:00美国/太平洋'</pre><p>为了消除夏令时切换时边界情况的模糊性，请同时使用<code class="codeph">TZR</code>和相应的<code class="codeph">TZD</code>格式元素。以下示例确保前面的示例将返回夏令时值：</p><pre class="oac_no_warn" dir="ltr">TIMESTAMP'1999-10-29 01:30:00 US / Pacific PDT'</pre><p>您还可以使用日期时间表达式表达时区偏移：</p><pre class="oac_no_warn" dir="ltr">SELECT TIMESTAMP'2009-10-29 01:30:00'时区'美国/太平洋'来自DUAL;</pre><div class="infoboxnotealso" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-6AF4B793-1CDD-4282-838A-43EEEB3535CC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="Datetime-Expressions.html#GUID-F72A753A-98A4-4EBD-84E9-C014CE058384">日期时间表达式</a>以获取更多信息</p>
                     </div>
                     <p>如果未添加<code class="codeph">TZD</code>格式元素，并且日期时间值不明确，则如果将<code class="codeph">ERROR_ON_OVERLAP_TIME</code>会话参数设置为<code class="codeph">TRUE</code> ，Oracle将返回错误。如果该参数设置为<code class="codeph">FALSE</code> ，则Oracle将模糊日期时间解释为指定区域中的标准时间。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-B35E4F01-6A93-4CA5-AB9E-05AB2BAE5C52">TIMESTAMP与当地时区文字</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>数据类型与<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>不同之处在于，数据库中存储的数据被标准化为数据库时区。时区偏移量不会存储为列数据的一部分。<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>没有文字。而是使用任何其他有效的日期时间文字表示此数据类型的值。下表显示了一些可用于将值插入<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>列的格式，以及查询返回的相应值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8F4B3F82-8821-4071-84D6-FBBA21C05AC1__GUID-DEEEE407-3DE3-45FA-A856-EA21B3EA50F8">
                     <p class="titleintable">表2-12具有本地时区文字的TIMESTAMP</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TIMESTAMP与当地时区文字" width="100%" border="1" summary="This table shows TIMESTAMP WITH TIME ZONE literals and their equivalent values returned by a query." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="66%" id="d46230e1724">INSERT语句中指定的值</th>
                              <th align="left" valign="bottom" width="34%" id="d46230e1727">查询返回的值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1732" headers="d46230e1724 ">
                                 <p><code class="codeph">'19 -FEB-2004'</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1732 d46230e1727 ">
                                 <p>19-FEB-2004.00.00.000000 AM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1741" headers="d46230e1724 ">
                                 <p><code class="codeph">SYSTIMESTAMP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1741 d46230e1727 ">
                                 <p>19-FEB-04 02.54.36.497659 PM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1750" headers="d46230e1724 ">
                                 <p><code class="codeph">TO_TIMESTAMP（'19-FEB-2004'，'DD-MON-YYYY'）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1750 d46230e1727 ">
                                 <p>19-FEB-04 12.00.00.000000 AM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1759" headers="d46230e1724 ">
                                 <p><code class="codeph">SYSDATE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1759 d46230e1727 ">
                                 <p>19-FEB-04 02.55.29.000000 PM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1768" headers="d46230e1724 ">
                                 <p><code class="codeph">TO_DATE（'19-FEB-2004'，'DD-MON-YYYY'）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1768 d46230e1727 ">
                                 <p>19-FEB-04 12.00.00.000000 AM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d46230e1777" headers="d46230e1724 ">
                                 <p><code class="codeph">TIMESTAMP'2004-02-19 8:00:00美国/太平洋'</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d46230e1777 d46230e1727 ">
                                 <p>19-FEB-04 08.00.00.000000 AM</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>请注意，如果指定的值不包含时间组件（显式或隐式），则返回的值默认为午夜。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF00221"></a><div class="props_rev_3"><a id="GUID-DC8D1DAD-7D04-45EA-9546-82810CD09A1B" name="GUID-DC8D1DAD-7D04-45EA-9546-82810CD09A1B"></a><h3 id="SQLRF-GUID-DC8D1DAD-7D04-45EA-9546-82810CD09A1B" class="sect3">区间文字</h3>
               <div>
                  <div class="section">
                     <p>区间文字指定一段时间。您可以按年份和月份或天，小时，分钟和秒来指定这些差异。Oracle数据库支持两种类型的区间文字， <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>和<code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code> 。每种类型都包含一个前导字段，可能包含一个尾随字段。前导字段定义了被测量的日期或时间的基本单位。尾随字段定义了所考虑的基本单位的最小增量。例如， <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>间隔考虑到最近月份的<code class="codeph">YEAR</code>间隔。<code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">MINUTE</code>间隔考虑到最近一分钟的天数。
                     </p>
                     <p>如果您有数字形式的日期数据，则可以使用<code class="codeph">NUMTOYMINTERVAL</code>或<code class="codeph">NUMTODSINTERVAL</code>转换函数将数值数据转换为间隔值。
                     </p>
                     <p>区间文字主要用于分析函数。</p>
                     <div class="infoboxnotealso" id="GUID-DC8D1DAD-7D04-45EA-9546-82810CD09A1B__GUID-EA3CDAFD-9067-40AC-B883-A2B9DCED4BFF">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">分析函数</a> ， <a href="NUMTODSINTERVAL.html#GUID-5A7392A8-7976-4465-8839-A65EFF1A80B6">NUMTODSINTERVAL</a>和<a href="NUMTOYMINTERVAL.html#GUID-B98B21AA-44F7-4A9D-A646-6775A1D5F46D">NUMTOYMINTERVAL</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQLRF51068"></a><a id="SQLRF51069"></a><a id="SQLRF51067"></a><div class="props_rev_3"><a id="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100" name="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100"></a><h4 id="SQLRF-GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100" class="sect4">间隔年至月</h4>
                  <div>
                     <div class="section">
                        <p>使用以下语法指定<code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>间隔文字：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100__GUID-5BF188F5-C695-4A90-A1DB-CF3D4E5B98CB"><span class="italic">interval_year_to_month</span> :: =</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100__GUID-E15906A8-4795-4654-BF80-96ED3BD95C74"><img src="img/interval_year_to_month.gif" alt="下面是interval_year_to_month.eps的描述" title="下面是interval_year_to_month.eps的描述" longdesc="img_text/interval_year_to_month.html"><br><a href="img_text/interval_year_to_month.html">插图说明interval_year_to_month.eps</a></div>
                        <!-- class="figure" -->
                        <p>哪里</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">'integer [-integer]'</code></span>指定文字的前导和可选尾随字段的整数值。如果前导字段为<code class="codeph">YEAR</code>且尾随字段为<code class="codeph">MONTH</code> ，则month字段的整数值范围为0到11。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">precision</code></span>是前导字段中的最大位数。前导字段精度的有效范围是0到9，默认值是2。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100__GUID-559AEE51-B693-43BF-BAC1-42D59A93D051">对领导领域的限制</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果指定尾随字段，则它必须不如前导字段重要。例如， <code class="codeph">INTERVAL</code> ' <code class="codeph">0-1</code> ' <code class="codeph">MONTH</code> <code class="codeph">TO</code> <code class="codeph">YEAR</code>是无效的。
                        </p>
                        <p>下面<code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>文字表示123年，1月的间隔：</p><pre class="oac_no_warn" dir="ltr">INTERVAL'123-2'年（3）至月</pre><p>文字的其他形式的示例如下，包括一些缩写版本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4C258D8F-3DF2-4D45-BE3E-14864DD77100__GUID-F2E63AB2-5E6B-453C-9476-CADCA2569351">
                        <p class="titleintable">表2-13每月间文字的形式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="每个月的文字形式" width="100%" border="1" summary="The first column shows various forms of interval literal and the second column explains how the database interprets that literal." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d46230e2183">区间文字的形式</th>
                                 <th align="left" valign="bottom" width="50%" id="d46230e2186">解释</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2191" headers="d46230e2183 ">
                                    <p><code class="codeph">INTERVAL'123-2'年（3）至月</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2191 d46230e2186 ">
                                    <p>间隔123年，2个月。如果前导字段精度大于默认的2位数，则必须指定前导字段精度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2199" headers="d46230e2183 ">
                                    <p><code class="codeph">INTERVAL'123'年（3）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2199 d46230e2186 ">
                                    <p>间隔123年0个月。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2207" headers="d46230e2183 ">
                                    <p><code class="codeph">INTERVAL'300'个月（3）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2207 d46230e2186 ">
                                    <p>间隔300个月。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2215" headers="d46230e2183 ">
                                    <p><code class="codeph">间隔'4'年</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2215 d46230e2186 ">
                                    <p>地图到<code class="codeph">INTERVAL '4-0' YEAR TO MONTH</code> ，表示4年。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2226" headers="d46230e2183 ">
                                    <p><code class="codeph">间隔'50'月</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2226 d46230e2186 ">
                                    <p>映射到<code class="codeph">INTERVAL '4-2' YEAR TO MONTH</code> ，表示50个月或4年2个月。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2237" headers="d46230e2183 ">
                                    <p><code class="codeph">INTERVAL'123'年</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2237 d46230e2186 ">
                                    <p>返回错误，因为默认精度为2，'123'有3位数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>您可以将一个<code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>文字加到或减去另一个，以产生另一个<code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>字面值。例如：</p><pre class="oac_no_warn" dir="ltr">间隔'5-3'年到月+间隔'20'月份=间隔'6-11'年到月</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQLRF51071"></a><a id="SQLRF51072"></a><a id="SQLRF51070"></a><div class="props_rev_3"><a id="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E" name="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E"></a><h4 id="SQLRF-GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E" class="sect4">间隔第二天</h4>
                  <div>
                     <div class="section">
                        <p>使用以下语法指定<code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>区间文字：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E__GUID-6CCE7934-581C-460D-88E0-69A8D079C9DF"><span class="italic">interval_day_to_second</span> :: =</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E__GUID-DD88CFAD-69AA-4947-B182-D09842C8D982"><img src="img/interval_day_to_second.gif" alt="下面是interval_day_to_second.eps的描述" title="下面是interval_day_to_second.eps的描述" longdesc="img_text/interval_day_to_second.html"><br><a href="img_text/interval_day_to_second.html">插图说明interval_day_to_second.eps</a></div>
                        <!-- class="figure" -->
                        <p>哪里</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">integer</code></span>指定天数。如果此值包含的位数多于前导精度指定的数字，则Oracle将返回错误。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">time_expr</code></span>以<span class="italic"><code class="codeph">HH</code></span>格式指定时间<code class="codeph">[</code> ： <span class="italic"><code class="codeph">MI</code></span> <code class="codeph">[</code> ： <span class="italic"><code class="codeph">SS</code></span> <code class="codeph">[</code> 。 <span class="italic"><code class="codeph">n</code></span> <code class="codeph">]]]</code>或<span class="italic"><code class="codeph">MI</code></span> <code class="codeph">[</code> ： <span class="italic"><code class="codeph">SS</code></span> <code class="codeph">[</code> 。 <span class="italic"><code class="codeph">n</code></span> <code class="codeph">]]</code>或<span class="italic"><code class="codeph">SS</code></span> <code class="codeph">[</code> 。 <span class="italic"><code class="codeph">n</code></span> <code class="codeph">]</code> ，其中<span class="italic"><code class="codeph">n</code></span>指定秒的小数部分。如果<span class="italic"><code class="codeph">n</code></span>包含的位数多于<span class="italic"><code class="codeph">fractional_seconds_precision</code></span>指定的<span class="italic"><code class="codeph">fractional_seconds_precision</code></span> ，则<span class="italic"><code class="codeph">n</code></span>将四舍五入为<span class="italic"><code class="codeph">fractional_seconds_precision</code></span>值指定的位数。只有前导字段为<code class="codeph">DAY</code>才能在整数和空格后指定<span class="italic"><code class="codeph">time_expr</code></span> 。</p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">leading_precision</code></span>是前导字段中的位数。可接受的值为0到9。默认值为2。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">fractional_seconds_precision</code></span>是<code class="codeph">SECOND</code>日期时间字段的小数部分中的位数。可接受的值为1到9。默认值为6。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E__GUID-281206FA-92CC-49F3-8655-CE54D57CF730">对领导领域的限制：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果指定尾随字段，则它必须不如前导字段重要。例如， <code class="codeph">INTERVAL</code> <code class="codeph">MINUTE</code> <code class="codeph">TO</code> <code class="codeph">DAY</code>无效。由于此限制，如果<code class="codeph">SECOND</code>是前导字段，则区间文字不能具有任何尾随字段。
                        </p>
                        <p>尾随字段的有效值范围如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">HOUR</code> ：0到23</p>
                           </li>
                           <li>
                              <p><code class="codeph">MINUTE</code> ：0到59</p>
                           </li>
                           <li>
                              <p><code class="codeph">SECOND</code> ：0到59.999999999</p>
                           </li>
                        </ul>
                        <p>下面是各种形式的<code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>文字的示例，包括一些缩写版本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E__GUID-5824FCC2-0440-4895-A1BA-87AED7B81641">
                        <p class="titleintable">表2-14第二版文字间隔日的形式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="第二种文字的间隔日形式" width="100%" border="1" summary="The first column shows various forms of interval literal and the second column explains how the database interprets that literal." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d46230e2590">区间文字的形式</th>
                                 <th align="left" valign="bottom" width="50%" id="d46230e2593">解释</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2598" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL'4 5：12：10.222'第二天（3）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2598 d46230e2593 ">
                                    <p>4天，5小时，12分钟，10秒和222千分之一秒。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2606" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL'4 5:12'要分钟</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2606 d46230e2593 ">
                                    <p>4天，5小时12分钟。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2614" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL'400 5'天（3）到小时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2614 d46230e2593 ">
                                    <p>400天5小时。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2622" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL'400'天（3）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2622 d46230e2593 ">
                                    <p>400天。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2630" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL '11：12：10.2222222'小时到第二（7）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2630 d46230e2593 ">
                                    <p>11小时12分钟和10.2222222秒。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2638" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL '11：20'小时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2638 d46230e2593 ">
                                    <p>11小时20分钟。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2646" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'10'小时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2646 d46230e2593 ">
                                    <p>10个小时。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2654" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL '10：22'分钟到第二</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2654 d46230e2593 ">
                                    <p>10分22秒。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2662" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'10'分钟</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2662 d46230e2593 ">
                                    <p>10分钟。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2670" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'4'天</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2670 d46230e2593 ">
                                    <p>4天。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2678" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'25'小时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2678 d46230e2593 ">
                                    <p>25个小时</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2687" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'40'分钟</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2687 d46230e2593 ">
                                    <p>40分钟。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2695" headers="d46230e2590 ">
                                    <p><code class="codeph">间隔'120'小时（3）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2695 d46230e2593 ">
                                    <p>120个小时</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d46230e2703" headers="d46230e2590 ">
                                    <p><code class="codeph">INTERVAL '30 .12345'第二（2,4）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d46230e2703 d46230e2593 ">
                                    <p>30.1235秒小数秒'12345'四舍五入为'1235'，因为精度为4。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>您可以从另一个<code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>文字中添加或减去一个<code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>区间文字。例如。
                        </p><pre class="oac_no_warn" dir="ltr">INTERVAL'20'DAY  -  INTERVAL'240'HOUR = INTERVAL'10-0'第二天到第二天</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06358.VALIDATE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>VALIDATE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="UPGRADE-CATALOG.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rman-subclauses.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UPGRADE-CATALOG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rman-subclauses.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN命令：RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">VALIDATE</li>
            </ol>
            <a id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E" name="GUID-ECE57997-40CE-4029-A434-320441D2AD1E"></a><a id="RCMRF90393"></a><a id="RCMRF90394"></a><a id="RCMRF90395"></a><a id="RCMRF90396"></a><a id="RCMRF90397"></a><a id="RCMRF90398"></a><a id="RCMRF90400"></a><a id="RCMRF90401"></a><a id="RCMRF90402"></a><a id="RCMRF90403"></a><a id="RCMRF90404"></a><a id="RCMRF90405"></a><a id="RCMRF90406"></a><a id="RCMRF90407"></a><a id="RCMRF90408"></a><a id="RCMRF162"></a>
            
            <h2 id="RCMRF-GUID-ECE57997-40CE-4029-A434-320441D2AD1E" class="sect2"><span class="enumeration_section">3.25确认</span></h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-A5583838-65B0-4248-B44B-9CAFB67C1C2A">目的</p>
                  <p>使用<code class="codeph">VALIDATE</code>命令检查损坏的块和丢失的文件，或确定是否可以还原备份集。
                  </p>
                  <p>如果<code class="codeph">VALIDATE</code>在验证期间检测到问题，则RMAN会显示该问题并触发执行故障评估。如果检测到故障，则RMAN将其记录到<a id="d105837e189" class="indexterm-anchor"></a>自动诊断存储库。您可以使用<code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">FAILURE</code>查看故障。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-14FCB8F7-8A23-4168-8E85-895C7DEAD1DC">先决条件</p>
                  <p>必须安装或打开目标数据库。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-486D1C46-0C59-48AB-88CC-C5321B234CB1">使用说明</p>
                  <p><code class="codeph">VALIDATE</code>命令中的选项在语义上等同于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">VALIDATE</code>命令中的选项。但是，与<code class="codeph">BACKUP VALIDATE</code>不同， <code class="codeph">VALIDATE</code>可以检查单个备份集和数据块。
                  </p>
                  <p><code class="codeph">VALIDATE</code>命令在验证期间不会跳过任何块。如果RMAN由于未使用的块压缩而未读取块，并且块已损坏，则RMAN不会检测到损坏。腐败的未使用块无害。
                  </p>
                  <p>在物理损坏中，数据库根本无法识别块。在逻辑损坏中，块的内容在逻辑上是不一致的。默认情况下， <code class="codeph">VALIDATE</code>命令仅检查物理损坏。您也可以指定<code class="codeph">CHECK LOGICAL</code>来检查逻辑损坏。RMAN填充了<a id="d105837e240" class="indexterm-anchor"></a><a id="d105837e242" class="indexterm-anchor"></a> <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图及其调查结果。
                  </p>
                  <p><a id="d105837e250" class="indexterm-anchor"></a>块损坏可分为块间损坏和块内损坏。在intrablock损坏中，损坏发生在块本身内，可能是物理或逻辑损坏。在块间损坏中，块之间发生损坏，并且只能是逻辑损坏。<code class="codeph">VALIDATE</code>命令仅检查intrablock损坏。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-5D8C1CB7-02EF-4674-B23D-60F5C6C30214">句法</p>
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDJHJEC"><a id="d105837e262" class="indexterm-anchor"></a><a id="d105837e266" class="indexterm-anchor"></a> <span class="bold"><span class="italic">validate</span> :: =</span></p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-9EFB63A4-B8D2-4292-8FDA-14CDD4FC8C8D"><img src="img/validate.gif" alt="validate.eps的描述如下" title="validate.eps的描述如下" longdesc="img_text/validate.html"><br><a href="img_text/validate.html">说明validate.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDIBEAH">validateObject :: =</a></span> ， <span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCHAFJ">validateOperand :: =</a></span> ）</p>
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDIBEAH"><span class="bold"><span class="italic">validateObject</span> :: =</span></p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-B6B0C217-CE45-4E09-8026-B5E47996D0A3"><img src="img/validateobject.gif" alt="validateobject.eps的描述如下" title="validateobject.eps的描述如下" longdesc="img_text/validateobject.html"><br><a href="img_text/validateobject.html">说明validateobject.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFEBDC">copyOfSpec :: =</a></span> ， <span class="italic"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95__CHDIDHBB">blockObject :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHEJEG">datafileCopySpec :: =</a></span> ， <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ）</p>
                  <p><span class="bold"><span class="italic">copyOfSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-2AD88725-A5FC-4E8A-9C67-2147A5FA6F43"><img src="img/copyofspec.gif" alt="copyofspec.eps的描述如下" title="copyofspec.eps的描述如下" longdesc="img_text/copyofspec.html"><br><a href="img_text/copyofspec.html">copyofspec.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ）</p>
                  <p><a id="d105837e332" class="indexterm-anchor"></a><a id="d105837e336" class="indexterm-anchor"></a> <span class="bold"><span class="italic">blockObject</span> :: =</span></p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-A3DEA957-15A7-45E5-A0AD-E81C65D79052"><img src="img/blockobject.gif" alt="下面是blockobject.eps的描述" title="下面是blockobject.eps的描述" longdesc="img_text/blockobject.html"><br><a href="img_text/blockobject.html">插图描述blockobject.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ）</p>
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCHAFJ"><a id="d105837e355" class="indexterm-anchor"></a><a id="d105837e359" class="indexterm-anchor"></a> <span class="bold"><span class="italic">validateOperand</span> :: =</span></p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-78AE355F-D573-411D-96FB-62F8D718321C"><img src="img/validateoperand.gif" alt="validateoperand.eps的描述如下" title="validateoperand.eps的描述如下" longdesc="img_text/validateoperand.html"><br><a href="img_text/validateoperand.html">说明validateoperand.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec :: =</a></span> ， <span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDDEICJ">skipSpec :: =</a></span> ）</p>
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDDEICJ"><a id="d105837e385" class="indexterm-anchor"></a><a id="d105837e389" class="indexterm-anchor"></a> <span class="italic"><span class="bold">skipSpec</span></span> :: =</p>
                  <div class="figure" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-C3A1B4FC-6ED2-436A-AA78-567CDED97A2C"><img src="img/skipspec.gif" alt="skipspec.eps的描述如下" title="skipspec.eps的描述如下" longdesc="img_text/skipspec.html"><br><a href="img_text/skipspec.html">skipspec.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-AC97568E-69E1-4265-BCC7-96CAEB02EBB6">语义</p>
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDJCGED"><span class="bold"><span class="italic">验证</span></span></p>
                  <p>本子条款指定用于验证的备份集。有关语法，请参阅<span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDJHJEC">validate :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-BE6970EF-4FF8-4175-AAAD-9EAD1D99951D">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes VALIDATE command parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d105837e421">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d105837e424">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e429" headers="d105837e421 ">
                                 <p><span class="italic"><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDEBIEJ">validateOperand</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e429 d105837e424 ">
                                 <p>指定控制验证的选项。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDEBIEJ">validateOperand</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e447" headers="d105837e421 ">
                                 <p><span class="italic"><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCBGDB">validateObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e447 d105837e424 ">
                                 <p>指定要验证的文件。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCBGDB">validateObject</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e465" headers="d105837e421 "><code class="codeph">INCLUDE CURRENT</code> <code class="codeph">CONTROLFILE</code></td>
                              <td align="left" valign="top" width="71%" headers="d105837e465 d105837e424 ">
                                 <p>创建当前控制文件的快照并验证它。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e475" headers="d105837e421 ">
                                 <p><a id="d105837e477" class="indexterm-anchor"></a><a id="d105837e479" class="indexterm-anchor"></a><a id="d105837e483" class="indexterm-anchor"></a><code class="codeph">   PLUS ARCHIVELOG</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e475 d105837e424 ">
                                 <p>包括验证中的归档重做日志文件。导致RMAN执行以下步骤：</p>
                                 <ol>
                                    <li>
                                       <p>运行<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p>运行<code class="codeph">VALIDATE ARCHIVELOG ALL</code>命令。如果启用了备份优化，则RMAN仅验证尚未备份的日志。
                                       </p>
                                    </li>
                                    <li>
                                       <p>验证<code class="codeph">VALIDATE</code>命令中指定的文件。
                                       </p>
                                    </li>
                                    <li>
                                       <p>运行<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p>验证任何剩余的归档重做日志文件。</p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCBGDB"><span class="bold"><span class="italic">validateObject</span></span></p>
                  <p>本子条款指定用于验证的数据库文件。有关语法，请参阅<span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDIBEAH">validateObject :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-E598388B-9EE0-4EFB-BE1E-813A86A52E03">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes VALIDATE command validateObject parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d105837e538">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d105837e541">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e546" headers="d105837e538 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e546 d105837e541 ">
                                 <p>验证一系列归档重做日志文件。<code class="codeph">VALIDATE ARCHIVELOG</code>等同于<code class="codeph">BACKUP VALIDATE ARCHIVELOG</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e563" headers="d105837e538 ">
                                 <p><code class="codeph">BACKUPSET</code> <span class="italic"><code class="codeph">primary_key</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e563 d105837e541 ">
                                 <p>检查<span class="italic"><code class="codeph">primary_key</code></span>指定的备份集是否存在且可以还原。
                                 </p>
                                 <p>您可以通过执行<code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code>语句获取备份集的主键，或者，如果使用恢复目录，则可以通过查询<code class="codeph">RC_BACKUP_SET</code>恢复目录视图来获取备份集的主键。
                                 </p>
                                 <p><code class="codeph">VALIDATE BACKUPSET</code>命令检查备份集中的每个块，以确保备份是可还原的。如果RMAN发现块损坏，则会发出错误并终止验证。相反， <code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code>命令检查指定文件的标头（如果它们在磁盘上）或查询介质管理目录（如果它们在磁带上）。
                                 </p>
                                 <p>当您怀疑备份集中的一个或多个备份片段丢失或已损坏时，请使用<code class="codeph">VALIDATE BACKUPSET</code> 。<code class="codeph">VALIDATE BACKUPSET</code>选择要测试的备份，而<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>命令的<code class="codeph">VALIDATE</code>选项允许RMAN选择要验证的备份。要验证映像副本，请运行<code class="codeph">RESTORE VALIDATE FROM DATAFILECOPY</code> 。</p>
                                 <p>如果您没有配置自动通道，则在执行<code class="codeph">VALIDATE BACKUPSET</code>之前手动分配至少一个通道。</p>
                                 <p><span class="bold">注意：</span>如果存在备份集的多个副本，则RMAN仅验证最新的副本。<code class="codeph">VALIDATE</code>命令不支持验证特定副本的选项。但是，如果一个副本与另一个副本位于不同的设备上，则可以使用<code class="codeph">VALIDATE DEVICE TYPE</code>来验证指定设备上的副本。如果同一设备上存在两个副本，则可以使用<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code>暂时使一个副本<code class="codeph">UNAVAILABLE</code> ，然后重新发出<code class="codeph">VALIDATE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e644" headers="d105837e538 "><code class="codeph">CONTROLFILECOPY</code> <code class="codeph">{'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">' | ALL |</code> <code class="codeph">LIKE '</code> <span class="italic"><code class="codeph">string_pattern</code></span> <code class="codeph">'}</code></td>
                              <td align="left" valign="top" width="71%" headers="d105837e644 d105837e541 ">
                                 <p>验证控制文件副本。您可以通过以下方式之一指定控制文件副本：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code>指定按文件名复制的控制文件。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALL</code>指定所有控制文件副本。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LIKE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">pattern</code></span> <code class="codeph">'</code>指定匹配一个或多个控制文件的拷贝文件名模式。百分号（ <code class="codeph">%</code> ）是匹配零个或多个字符的通配符;下划线（ <code class="codeph">_</code> ）是匹配一个字符的通配符。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>可以使用<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">AS COPY CURRENT CONTROLFILE</code>命令或SQL语句<code class="codeph">ALTER DATABASE BACKUP CONTROLFILE TO '...来创建控制文件副本<code class="codeph">ALTER DATABASE BACKUP CONTROLFILE TO '...'</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e713" headers="d105837e538 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017172">copyOfSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e713 d105837e541 ">
                                 <p>验证数据文件和控制文件的映像副本。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017172">copyOfSpec</a></code></span>以获取详细信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e731" headers="d105837e538 ">
                                 <p><code class="codeph">当前的控制文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e731 d105837e541 ">
                                 <p>验证当前控制文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e739" headers="d105837e538 ">
                                 <p><code class="codeph">数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e739 d105837e541 ">
                                 <p>验证数据库。</p>
                                 <p>在多租户容器数据库（CDB）中，验证整个CDB。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。连接到可插拔数据库（PDB）时，验证PDB。</p>
                                 <p>RMAN验证所有数据文件和控制文件。如果数据库当前正在使用服务器参数文件，则RMAN将验证服务器参数文件。</p>
                                 <p><span class="bold">注意：</span>不验证联机重做日志文件和临时文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e759" headers="d105837e538 ">
                                 <p><code class="codeph">数据库根</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e759 d105837e541 ">
                                 <p>在CDB中，仅验证根。有关数据库验证的详细信息，请参阅前面的<code class="codeph">DATABASE</code>说明。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e770" headers="d105837e538 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e770 d105837e541 ">
                                 <p>在CDB中，验证指定的PDB。使用逗号分隔的列表指定多个PDB。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                                 <p>有关数据库验证的详细信息，请参阅前面的<code class="codeph">DATABASE</code>说明。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e791" headers="d105837e538 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017077">datafileCopySpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e791 d105837e541 ">
                                 <p><a id="d105837e799" class="indexterm-anchor"></a>验证一个或多个数据文件映像副本。
                                 </p>
                                 <p>验证数据文件副本时，RMAN会检查块损坏，但如果发现损坏则不会终止验证。与<code class="codeph">VALIDATE BACKUPSET</code>不同，RMAN继续并报告已损坏的块数。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017077">datafileCopySpec</a></code></span>以获取详细信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e819" headers="d105837e538 ">
                                 <p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e819 d105837e541 ">
                                 <p>指定包含需要验证的块的一个或多个数据文件的列表。</p>
                                 <p><span class="bold">注意：</span>如果要验证数据文件，则不必使数据文件脱机。
                                 </p>
                                 <p><span class="bold">也可以看看：</span> <span class="bold"> </span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e847" headers="d105837e538 ">
                                 <p><code class="codeph">恢复区域</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e847 d105837e541 ">
                                 <p>验证在当前和所有先前快速恢复区域目标中创建的恢复文件。恢复文件是完整备份集和增量备份集，控制文件自动备份，归档重做日志文件和数据文件副本。不验证闪回日志，当前控制文件和联机重做日志。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e856" headers="d105837e538 ">
                                 <p><code class="codeph">DB_RECOVERY_FILE_DEST</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e856 d105837e541 ">
                                 <p>在语义上等同于<code class="codeph">RECOVERY AREA</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e867" headers="d105837e538 ">
                                 <p><code class="codeph">恢复文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e867 d105837e541 ">
                                 <p>验证磁盘上的<span class="italic">所有</span>恢复文件，无论它们是存储在快速恢复区还是磁盘上的其他位置。恢复文件包括完整和增量备份集，控制文件自动备份，归档重做日志文件和数据文件副本。闪回日志未经过验证。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e878" headers="d105837e538 ">
                                 <p><code class="codeph">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e878 d105837e541 ">
                                 <p>验证数据库当前使用的服务器参数文件。RMAN无法验证服务器参数文件的其他副本，并且在使用初始化参数文件启动实例时无法验证服务器参数文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e886" headers="d105837e538 "><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d105837e886 d105837e541 ">
                                 <p>验证指定的表空间。RMAN将表空间名称内部转换为数据文件列表，然后验证当前属于表空间的所有数据文件。RMAN验证当前为指定表空间成员的所有数据文件。</p>
                                 <p>连接到CDB中的根时，指的是根中的表空间。直接连接到PDB时，指PDB中的表空间。</p>
                                 <p>请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDEBIEJ"><span class="bold"><span class="italic">validateOperand</span></span></p>
                  <p>本子条款指定验证的修饰符。有关语法，请参阅<span class="italic"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDCHAFJ">validateOperand :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-AEBD089D-0F16-470F-88BE-C20338F2D0A0">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes VALIDATE command validateOperand parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d105837e922">语法元素</th>
                              <th align="left" valign="bottom" width="72%" id="d105837e925">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e930" headers="d105837e922 ">
                                 <p><code class="codeph">检查逻辑</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e930 d105837e925 ">
                                 <p>测试文件中的数据和索引块，这些文件通过物理损坏检查以查找逻辑损坏，例如，损坏行块或索引条目。如果RMAN发现逻辑损坏，则它会将该日志记录在警报日志和服务器会话跟踪文件中。RMAN命令完成， <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>填充了损坏的块范围。
                                 </p>
                                 <p><span class="bold">注意：</span> <code class="codeph">VALIDATE</code>不使用<code class="codeph">MAXCORRUPT</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e951" headers="d105837e922 ">
                                 <p><code class="codeph">DEVICE TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e951 d105837e925 ">
                                 <p>仅为指定的设备类型分配自动通道。仅当您配置了自动通道且未手动分配通道时，此选项才有效。例如，如果配置自动磁盘和磁带通道，并运行<code class="codeph">VALIDATE ...DEVICE TYPE DISK</code> ，RMAN仅分配磁盘通道。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e977" headers="d105837e922 ">
                                 <p> <code class="codeph">MIRROR</code> <code class="codeph">ALL|</code> <code class="codeph"><span class="codeinlineitalic">integer</span></code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e977 d105837e925 ">
                                 <p> </p>
                                 <p>验证指定镜像上的数据文件。</p>
                                 <p>使用<code class="codeph">MIRROR ALL</code>选项验证所有镜像上的指定数据文件。镜像数取决于存储系统支持的最大镜像数。
                                 </p>
                                 <p>使用<code class="codeph">MIRROR</code> <code class="codeph"><span class="codeinlineitalic">integer</span></code>来验证指定镜像上的数据文件。以下示例仅验证镜像2中的所有数据文件块1：</p><pre class="pre codeblock"><code>验证数据文件1 MIRROR 2;</code></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e1010" headers="d105837e922 ">
                                 <p><code class="codeph">NOEXCLUDE</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e1010 d105837e925 ">
                                 <p>在<code class="codeph">VALIDATE DATABASE</code>或<code class="codeph">VALIDATE COPY OF DATABASE</code>命令上指定时，RMAN将验证所有表空间，包括已输入<code class="codeph">CONFIGURE EXCLUDE</code>命令的任何表空间。此选项不会覆盖<code class="codeph">SKIP OFFLINE</code>或<code class="codeph">SKIP READONLY</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e1033" headers="d105837e922 ">
                                 <p><code class="codeph">非封闭的块</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e1033 d105837e925 ">
                                 <p>检查<code class="codeph">V$NONLOGGED_BLOCK</code>的条目是否与它们所属的文件的当前版本相对应。如果不这样做，则删除范围并扫描整个文件以识别实际范围。否则，RMAN只扫描现有<code class="codeph">V$NONLOGGED_BLOCK</code>条目标识的块，以确认它们是否仍然无效并进行必要的调整。
                                 </p>
                                 <p>此子句仅可用于已装入的主数据库或以只读方式装入或打开的物理备用数据库。由于验证不会更正与<code class="codeph">V$NONLOGGED_BLOCK</code>的条目关联的对象编号，因此备用数据库可能会报告即使在运行<code class="codeph">VALIDATE</code>命令后已丢弃的对象的非<code class="codeph">V$NONLOGGED_BLOCK</code>块。
                                 </p>
                                 <p>验证结果显示在RMAN输出中，并存储在<code class="codeph">V$NONLOGGED_BLOCK</code>视图中。详细信息包括验证的数据文件编号，验证后剩余的非记录块数，跳过的块数以及验证操作的状态。跟踪文件包含有关任何验证失败的其他信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e1060" headers="d105837e922 ">
                                 <p><span class="italic"><code class="codeph"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></code></span> <code class="codeph">SECTION SIZE</code> <span class="italic"><code class="codeph"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e1060 d105837e925 ">
                                 <p>通过将每个文件划分为指定的节大小来并行化验证。</p>
                                 <p>仅在配置或分配多个通道时指定此参数，并且您希望通道并行验证，以便多个通道可以验证单个数据文件。此参数仅在验证数据文件时适用。</p>
                                 <p>如果指定的段大小大于文件大小，则RMAN不会并行化文件的验证。如果指定的小部分大小将产生超过256个部分，则RMAN会将部分大小增加到一个导致恰好256个部分的值。</p>
                                 <p><span class="bold">另请参阅：</span> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">SECTION SIZE</code>以了解如何进行多节备份</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e1089" headers="d105837e922 ">
                                 <p><span class="italic"><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDHEHAJ">skipSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e1089 d105837e925 ">
                                 <p>从验证中排除指定的文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d105837e1099" headers="d105837e922 ">
                                 <p><code class="codeph">FROM COPY NUMBER <span class="codeinlineitalic">整数</span></code> <span class="italic"></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d105837e1099 d105837e925 ">指定要验证的备份片的副本号。如果备份是双工的，则拷贝数值的范围是<code class="codeph">2</code>到<code class="codeph">4</code> 。如果未执行双面打印，则副本编号为<code class="codeph">1</code> 。
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__CHDHEHAJ"><span class="bold"><span class="italic">skipSpec</span></span></p>
                  <p>本子条款指定要从验证中排除的文件。</p>
                  <div class="tblformalwide" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-067A2FED-7DA8-49F8-9FFF-37FFD8723252">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes VALIDATE command skipSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d105837e1133">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d105837e1136">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e1141" headers="d105837e1133 ">
                                 <p><code class="codeph">跳跃</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e1141 d105837e1136 ">
                                 <p>如果数据文件或归档重做日志文件不可访问，脱机或只读，则将其排除。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e1149" headers="d105837e1133 ">
                                 <p><code class="codeph">INACCESSIBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e1149 d105837e1136 ">
                                 <p>排除由于I / O错误而无法读取的数据文件和归档重做日志文件。</p>
                                 <p>如果无法读取数据文件，则该文件仅被视为无法访问。仍然可以读取某些脱机数据文件，因为它们仍存在于磁盘上。其他人已被删除或移动，因此无法阅读，使其无法访问。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e1159" headers="d105837e1133 ">
                                 <p><code class="codeph">离线</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e1159 d105837e1136 ">
                                 <p>排除脱机数据文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d105837e1167" headers="d105837e1133 ">
                                 <p><code class="codeph">只读</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d105837e1167 d105837e1136 ">
                                 <p>排除只读数据文件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-DF249223-FA17-4C91-8922-8F4BCDB63BED">VALIDATE命令输出</p>
                  <div class="tblformal" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-EE82F9BE-3DBD-404B-AE00-FD7234BDCF61">
                     <p class="titleintable">表3-11数据文件列表</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="数据文件列表" width="100%" border="1" summary="Describes VALIDATE output for datafiles" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d105837e1187">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d105837e1190">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1195" headers="d105837e1187 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1195 d105837e1190 ">
                                 <p>正在验证的数据文件的绝对编号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1203" headers="d105837e1187 ">
                                 <p><code class="codeph">状态</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1203 d105837e1190 ">
                                 <p>如果没有损坏则<code class="codeph">OK</code>如果找到块损坏则为<code class="codeph">FAILED</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1216" headers="d105837e1187 ">
                                 <p><code class="codeph">标记腐败</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1216 d105837e1190 ">
                                 <p>标记为损坏的块数。这些块以前被数据库标记为已损坏。例如，数据库可以在涉及<code class="codeph">NOLOGGING</code>操作的恢复期间故意标记损坏的块。此外，RMAN备份可能包含<code class="codeph">SET MAXCORRUPT</code>命令允许的损坏块。还原此备份时，该文件包含标记为已损坏的块。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1230" headers="d105837e1187 ">
                                 <p><code class="codeph">空块</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1230 d105837e1190 ">
                                 <p>从未使用过的块数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1238" headers="d105837e1187 ">
                                 <p><code class="codeph">块被检查</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1238 d105837e1190 ">
                                 <p>文件中的块总数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1246" headers="d105837e1187 ">
                                 <p><code class="codeph">高SCN</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1246 d105837e1190 ">
                                 <p>文件中记录的最高SCN。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1254" headers="d105837e1187 ">
                                 <p><code class="codeph">文件名</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1254 d105837e1190 ">
                                 <p>要验证的文件的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1262" headers="d105837e1187 ">
                                 <p><code class="codeph">块类型</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1262 d105837e1190 ">
                                 <p>验证的块类型： <code class="codeph">Data</code> ， <code class="codeph">Index</code>或<code class="codeph">Other</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1279" headers="d105837e1187 ">
                                 <p><code class="codeph">块失败</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1279 d105837e1190 ">
                                 <p>损坏检查失败的块数。这些块是新腐败的。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1287" headers="d105837e1187 ">
                                 <p><code class="codeph">已处理的块</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1287 d105837e1190 ">
                                 <p>检查是否存在损坏的块数。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-3170FCBE-082C-4D5D-AFBC-FC37BCF36FD4">
                     <p class="titleintable">表3-12控制文件和SPFILE列表</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="控制文件和SPFILE列表" width="100%" border="1" summary="Describes VALIDATE output for control files and SPFILEs" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d105837e1304">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d105837e1307">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1312" headers="d105837e1304 ">
                                 <p><code class="codeph">文件类型</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1312 d105837e1307 ">
                                 <p>文件类型： <code class="codeph">SPFILE</code>或<code class="codeph">Control File</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1326" headers="d105837e1304 ">
                                 <p><code class="codeph">状态</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1326 d105837e1307 ">
                                 <p>如果没有损坏则<code class="codeph">OK</code>如果找到块损坏则为<code class="codeph">FAILED</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1339" headers="d105837e1304 ">
                                 <p><code class="codeph">块失败</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1339 d105837e1307 ">
                                 <p>损坏检查失败的块数。这些块是新腐败的。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1347" headers="d105837e1304 ">
                                 <p><code class="codeph">块被检查</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1347 d105837e1307 ">
                                 <p>文件中的块总数。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-0A9D22D2-7FB8-4457-9872-EDA1139E6501">
                     <p class="titleintable">表3-13存档日志列表</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="存档日志列表" width="100%" border="1" summary="Describes VALIDATE output for archived redo logs" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d105837e1364">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d105837e1367">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1372" headers="d105837e1364 ">
                                 <p><code class="codeph">THRD</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1372 d105837e1367 ">
                                 <p>重做线程号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1380" headers="d105837e1364 ">
                                 <p><code class="codeph">SEQ</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1380 d105837e1367 ">
                                 <p>日志序列号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1388" headers="d105837e1364 ">
                                 <p><code class="codeph">状态</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1388 d105837e1367 ">
                                 <p>如果没有损坏则<code class="codeph">OK</code>如果找到块损坏则为<code class="codeph">FAILED</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1401" headers="d105837e1364 ">
                                 <p><code class="codeph">块失败</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1401 d105837e1367 ">
                                 <p>损坏检查失败的块数。这些块是新腐败的。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1409" headers="d105837e1364 ">
                                 <p><code class="codeph">块被检查</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1409 d105837e1367 ">
                                 <p>文件中的块总数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d105837e1417" headers="d105837e1364 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d105837e1417 d105837e1367 ">
                                 <p>归档重做日志文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-5C78C01D-BC17-4D83-95C7-2299B9FA1875">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-0EC290C3-A6D5-4046-B6BB-D9CE575DC67D">
                  <p class="titleinexample">示例3-84验证备份集</p>
                  <p>此示例列出了所有可用的备份集，然后验证它们。如示例输出所示，RMAN确认可以还原备份。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;列表备份摘要;备份列表===============键TY LV S设备类型完成时间#Pieces #Copies压缩标签-------  -   -   -  ------ ----- --------------- ------- ------- ---------- --- 3871 BFA DISK 08-MAR-13 1 1 NO TAG20130308T092426 3890 BFA DISK 08-MAR-13 1 1 NO TAG20130308T092534</pre><pre class="oac_no_warn" dir="ltr">RMAN&gt; VALIDATE BACKUPSET 3871,3890;</pre><pre class="oac_no_warn" dir="ltr">使用ORA_DISK_1频道ORA_DISK_1在08-MAR-13开始验证：开始验证数据文件备份集通道ORA_DISK_1：从备份片/ disk2 / PROD / backupset / 2013_03_08 / o1_mf_nnndf_TAG20130308T092读取426_2z0kpc72_.bkp频道ORA_DISK_1：piece handle = / disk2 / PROD /backupset/2013_03_08/o1_mf_nnndf_TAG20130308T092426_2z0kpc72_.bkp ta g = TAG20130308T092426频道ORA_DISK_1：恢复备份1频道ORA_DISK_1：验证完成，已用时间：00：00：18频道ORA_DISK_1：开始验证数据文件备份集频道ORA_DISK_1：从备份片段读取/ disk2 / PROD / autobackup / 2013_03_08 / o1_mf_s_616670734_2z0krhjv_.bkp频道ORA_DISK_1：piece handle = / disk2 / PROD / autobackup / 2013_03_08 / o1_mf_s_616670734_2z0krhjv_.bkp tag = TAG20130308T092534频道ORA_DISK_1：恢复备份1频道ORA_DISK_1：验证完成，已用时间：00： 00:00在08-MAR-13完成验证</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-ECE57997-40CE-4029-A434-320441D2AD1E__GUID-1576CC57-13CD-4023-9798-E88FBE8680BE">
                  <p class="titleinexample">示例3-85验证数据库</p>
                  <p>此示例验证数据库并包括示例输出。验证在数据文件<code class="codeph">1</code>找到一个损坏的块。<code class="codeph">VALIDATE</code>输出表示可以在指定的跟踪文件中找到有关损坏的更多信息。
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt;验证数据库;使用通道ORA_DISK_1通道ORA_DISK_1在26-FEB-13开始验证：开始验证数据文件通道ORA_DISK_1：指定验证输入数据文件的数据文件文件号= 00001 name = / disk1 / oradata / prod / system01.dbf输入数据文件文件号= 00002 name = / disk1 / oradata / prod / sysaux01.dbf input datafile file number = 00003 name = / disk1 / oradata / prod / undotbs01.dbf input datafile file number = 00004 name = / disk1 / oradata / prod / cwmlite01.dbf input datafile file number = 00005 name = / disk1 / oradata / prod / drsys01.dbf input datafile file number = 00006 name = / disk1 / oradata / prod / example01.dbf input datafile file number = 00007 name = / disk1 / oradata / prod /indx01.dbf输入数据文件文件号= 00008名称= / disk1 / oradata / prod / tools01.dbf输入数据文件文件号= 00009名称= / disk1 / oradata / prod / users01.dbf通道ORA_DISK_1：验证完成，已用时间：00 ：01：25数据文件列表=================文件状态标记损坏空块阻止检查高SCN ---- ------ ------ -------- ----- ------- --------------- ---------- 1 FAILED 0 4140 57600 498288文件名：/ disk1 / oradata / prod / system01。 dbf块类型阻止处理的失败块---------- -------------- ----------------数据1 41508索引0 7653其他0 4299文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ---------- -  --------------- ---------- 2 OK 0 8918 20040 498237文件名：/disk1/oradata/prod/sysaux01.dbf块类型块失败已处理的块---------- -------------- ----------------数据0 2473索引0 2178其他0 6471文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ------------ --- ------------ ---------- 3 OK 0 36 2560 498293文件名：/disk1/oradata/prod/undotbs01.dbf块类型块处理失败块--- ------- -------------- ----------------数据0 0索引0 0其他0 2524文件状态标记为损坏空块被检查高SCN ---- ------ -------------- ------------ -------- ------- ---- ------ 4 OK 0 1 1280 393585文件名：/disk1/oradata/prod/cwmlite01.dbf块类型块处理失败块---------- --------- ----- ----------------数据0 0索引0 0其他0 1279文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ------------ --------------- --------- -  5 OK 0 1 1280 393644文件名：/disk1/oradata/prod/drsys01.dbf块类型块处理失败块---------- -------------- ----------------数据0 0索引0 0其他0 1279文件状态标记损坏空块阻止检查高SCN ---- ------ ----- --------- ------------ --------------- ---------- 6 OK 0 1 1280 393690文件名：/disk1/oradata/prod/example01.dbf块类型块处理失败块---------- -------------- ----- -----------数据0 0索引0 0其他0 1279文件状态标记损坏空块阻止检查高SCN ---- ------ ---------- ---- ------------ --------------- ---------- 7 OK 0 1 1280 393722文件名： /磁盘1 / ORADATA / prod / indx01.dbf块类型块处理失败块---------- -------------- --------------- - 数据0 0索引0 0其他0 1279文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ------ ------ --------------- ---------- 8 OK 0 1 1280 393754文件名：/disk1/oradata/prod/tools01.dbf块类型块处理失败块---------- -------------- ----------------数据0 0索引0 0其他0 1279文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ----------- -  --------------- ---------- 9 OK 0 1272 1280 393785文件名：/disk1/oradata/prod/users01.dbf块类型块失败块已处理---------- -------------- ----------------数据0 0索引0 0其他0 8验证发现一个或多个损坏的块请参见跟踪文件/disk2/oracle/log/diag/rdbms/prod/prod/trace/prod_ora_10609.trc以获取详细信息通道ORA_DISK_1：开始验证数据文件通道ORA_DISK_1：指定有效的数据文件包括用于验证的当前控制文件，包括备份集通道中的当前SPFILE ORA_DISK_1：验证完成，已用时间：00：00：01控制文件列表和SPFILE ================= ==============文件类型状态块检查失败块------------ ------ ----------- --- --------------- SPFILE OK 0 2控制文件OK 0 506在26-FEB-13完成验证</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="00622.C-API-for-XMLType.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The C DOM API for XMLType lets you operate on XMLType instances using a DOM in C."></meta>
      <meta name="description" content="The C DOM API for XMLType lets you operate on XMLType instances using a DOM in C."></meta>
      <title>用于XMLType的C DOM API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The C DOM API for XMLType lets you operate on XMLType instances using a DOM in C."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Java-DOM-API-for-XMLType.html" title="Previous" type="text/html"></link>
      <link rel="next" href="XML-DB-and-ODP-for-dot-NET.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Java-DOM-API-for-XMLType.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="XML-DB-and-ODP-for-dot-NET.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XMLType-APIs.html" property="item" typeof="WebPage"><span property="name">XMLType API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于XMLType的C DOM API</li>
            </ol>
            <a id="GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" name="GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9"></a><a id="ADXDB1400"></a>
            
            <h2 id="ADXDB-GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" class="sect2"><span class="enumeration_chapter">14</span> C XML API for XMLType</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">XMLType</code>的C DOM API允许您使用C中的DOM操作<code class="codeph">XMLType</code>实例。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659">XMLType的C DOM API概述</a><br><code class="codeph">XMLType</code>的C DOM API是一个DOM API，用于Oracle XML Developer's Kit（XDK）和Oracle XML DB。您可以将它用于数据库内部或外部的XML数据。
                  </li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-DF6B7D2F-95D9-4B1A-827E-DD456E275E7B">使用OCI访问数据库中存储的XMLType数据</a><br>Oracle XML DB支持使用抽象数据类型<code class="codeph">XMLType</code>存储和操作XML实例。可以使用Oracle调用接口（OCI）和C DOM API for XML在客户端访问和操作这些XML实例。</li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-5E94BF15-CCE2-48BC-A692-6BEE4FC106A9">在客户端上创建XMLType实例</a><br>您可以使用C DOM API方法<code class="codeph">XMLCreateDocument()</code>和<code class="codeph">XmlLoadDom()</code>在客户端构造新的<code class="codeph">XMLType</code>实例。
                  </li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-10FA0209-10E6-49CC-B783-4340B221CB35">C DOM API函数的XML上下文参数</a><br><span class="italic">XML上下文</span>是所有C DOM API函数的必需参数。此不透明上下文封装有关数据编码，错误消息语言等的信息。对于Oracle XML Developer的Kit应用程序和Oracle XML DB，上下文的内容是不同的。</li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D">初始化和终止XML上下文</a><br>一个示例说明了一个C程序，它使用C DOM API构造XML文档并将其保存到Oracle数据库。
                  </li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-556A53A1-7522-4786-AAB8-157326B7DFEA">使用带有二进制XML的C API for XML</a><br>您可以使用C API for XML来读取或写入从Oracle XML DB编码为二进制XML的XML数据。这样做涉及通常的读写程序。
                  </li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3">使用Oracle XML Developer的Kit Pull Parser和Oracle XML DB</a><br>您可以将Oracle XML Developer's Kit pull解析器与Oracle XML DB中的<code class="codeph">XMLType</code>实例一起使用。使用此解析器时，解析是按需完成的，因此您的应用程序将驱动解析过程。
                  </li>
                  <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-687495C3-551B-4786-8A5F-F594985553E2">C中常见的XMLType操作</a><br>通用XML操作由C API for XML提供。</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XMLType-APIs.html#GUID-6209297F-DBE4-4F31-85F1-4083BF5BDE01" title="您可以使用Oracle XML DB XMLType PL / SQL，Java，C API和Oracle Data Provider for .NET（ODP.NET）来访问和操作XML数据。">XMLType API</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB4962"></a><div class="props_rev_3"><a id="GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659" name="GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659"></a><h3 id="ADXDB-GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659" class="sect3"><span class="enumeration_section">14.1</span> XMLType的C DOM API概述</h3>
               <div>
                  <p><code class="codeph">XMLType</code>的C DOM API是一个DOM API，用于Oracle XML Developer's Kit（XDK）和Oracle XML DB。您可以将它用于数据库内部或外部的XML数据。
                  </p>
                  <p>DOM指的是符合万维网联盟（W3C）DOM 2.0建议书。</p>
                  <p><code class="codeph">XMLType</code>的C DOM API还包括可在XDK中用于传统存储XML数据的性能改进扩展，或者在Oracle XML DB中用作存储为表中的<code class="codeph">XMLType</code>列的扩展。
                  </p>
                  <div class="infoboxnote" id="GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659__GUID-E7791695-608B-422C-A5B0-19D1A7FBD346">
                     <p class="notep1">注意：</p>
                     <p>支持Oracle Database 10g第1版之前版本的C DOM函数仅用于向后兼容。</p>
                  </div>
                  <p>对于C DOM API <code class="codeph">XMLType</code>上实现<code class="codeph">XMLType</code>在Oracle XML DB。在W3C DOM建议书中，术语“文档”用于广义上（URI，文件系统，内存缓冲区，标准输入和输出）。<code class="codeph">XMLType</code>的C DOM API是一个组合编程接口，包含Oracle XML Developer Kit和Oracle XML DB应用程序所需的所有功能。它提供了XSLT和XML Schema实现。虽然严格遵循DOM 2.0建议书，但从面向对象的DOM 2.0建议书到平面C命名空间的映射需要进行一些命名更改。例如，方法<code class="codeph">getName()</code>被重命名为<code class="codeph">getAttrName()</code> 。
                  </p>
                  <p><code class="codeph">XMLType</code>的C DOM API取代了旧的Oracle API。特别是， <code class="codeph">oraxml</code>接口（顶级，DOM，SAX和XSLT）和<code class="codeph">oraxsd.h</code> （Schema）接口将在以后的版本中弃用。
                  </p>
                  <p>可用于操作XML数据的C和C ++应用程序编程接口（API）的参考文档是<a href="../caxml/index.html" target="_blank"><span><cite>Oracle Database XML C API Reference</cite></span></a>和<a href="../cpxml/index.html" target="_blank"><span><cite>Oracle Database XML C ++ API Reference</cite></span></a> 。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C5C310E6-7CDD-45B7-9CD0-CC3FE74B6659__GUID-BD28138B-325E-4844-B502-5D74CE997DDB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关XML的PL / SQL API的信息，请参阅<span class="italic">Oracle Database PL / SQL包和类型参考</span></p>
                        </li>
                        <li>
                           <p>有关适用于<a href="../jaxml/index.html" target="_blank"><span><cite>XML的Java API</cite></span></a>的信息，请参阅<a href="../jaxml/index.html" target="_blank"><span><cite>Oracle数据库XML Java API参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4964"></a><div class="props_rev_3"><a id="GUID-DF6B7D2F-95D9-4B1A-827E-DD456E275E7B" name="GUID-DF6B7D2F-95D9-4B1A-827E-DD456E275E7B"></a><h3 id="ADXDB-GUID-DF6B7D2F-95D9-4B1A-827E-DD456E275E7B" class="sect3"><span class="enumeration_section">14.2</span>使用OCI访问数据库中存储的XMLType数据</h3>
               <div>
                  <p>Oracle XML DB支持使用抽象数据类型<code class="codeph">XMLType</code>存储和操作XML实例。可以使用Oracle调用接口（OCI）和C DOM API for XML在客户端访问和操作这些XML实例。</p>
                  <p>您可以使用C DOM结构<code class="codeph">xmldocnode</code>绑定和定义<code class="codeph">XMLType</code>值。此结构可用于在OCI语句中绑定，定义和操作XML值。您可以使用OCI语句从服务器中选择XML数据，然后可以将其与C DOM API函数一起使用。同样，值可以直接绑定回SQL语句。
                  </p>
                  <p>应用程序的主要流程包括初始化常用的OCI句柄，例如服务器句柄和语句句柄，然后初始化XML上下文参数。然后，您可以对数据库中的XML实例进行操作，也可以在客户端创建新实例。初始化的XML上下文可以与所有C DOM函数一起使用。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="C-API-for-XMLType.html#GUID-10FA0209-10E6-49CC-B783-4340B221CB35" title="XML上下文是所有C DOM API函数的必需参数。此不透明上下文封装有关数据编码，错误消息语言等的信息。对于Oracle XML Developer的Kit应用程序和Oracle XML DB，上下文的内容是不同的。">C DOM API函数的XML上下文参数</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4965"></a><div class="props_rev_3"><a id="GUID-5E94BF15-CCE2-48BC-A692-6BEE4FC106A9" name="GUID-5E94BF15-CCE2-48BC-A692-6BEE4FC106A9"></a><h3 id="ADXDB-GUID-5E94BF15-CCE2-48BC-A692-6BEE4FC106A9" class="sect3"><span class="enumeration_section">14.3</span>在客户端上创建XMLType实例</h3>
               <div>
                  <p>您可以使用C DOM API方法<code class="codeph">XMLCreateDocument()</code>和<code class="codeph">XmlLoadDom()</code>在客户端构造新的<code class="codeph">XMLType</code>实例。
                  </p>
                  <div class="section">
                     <p>您可以使用<code class="codeph">XMLCreateDocument()</code>构造空的<code class="codeph">XMLType</code>实例。这类似于将<code class="codeph">OCIObjectNew()</code>用于其他类型。
                     </p>
                     <p>您使用<code class="codeph">XmlLoadDom()</code>构造一个非空的<code class="codeph">XMLType</code>实例，如下所示：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>像<a href="C-API-for-XMLType.html#GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D__CHDGCGGE">例14-1中</a>那样初始化<code class="codeph">xmlctx</code> 。</span></li>
                     <li><span>从用户缓冲区，本地文件或URI构造XML数据。返回值a（ <code class="codeph">xmldocnode*</code> ）可以在其他常见C API中使用。</span></li>
                     <li><span>如果需要，可以将（ <code class="codeph">xmldocnode *</code> ）转换为（ <code class="codeph">void*</code> ）并直接将其作为绑定值提供。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4966"></a><div class="props_rev_3"><a id="GUID-10FA0209-10E6-49CC-B783-4340B221CB35" name="GUID-10FA0209-10E6-49CC-B783-4340B221CB35"></a><h3 id="ADXDB-GUID-10FA0209-10E6-49CC-B783-4340B221CB35" class="sect3"><span class="enumeration_section">14.4</span> C DOM API函数的XML上下文参数</h3>
               <div>
                  <p><span class="italic">XML上下文</span>是所有C DOM API函数的必需参数。此不透明上下文封装有关数据编码，错误消息语言等的信息。对于Oracle XML Developer的Kit应用程序和Oracle XML DB，上下文的内容是不同的。</p>
                  <div class="section">
                     <p>对于Oracle XML DB，OCI分别用于<code class="codeph">OCIXmlDbInitXmlCtx()</code>和<code class="codeph">OCIXmlDbFreeXmlCtx()</code> ，初始化和终止XML上下文。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30">OCIXmlDbInitXmlCtx（）语法</a><br>OCI函数<code class="codeph">OCIXmlDbInitXmlCtx()</code>初始化XML上下文。
                     </li>
                     <li class="ulchildlink"><a href="C-API-for-XMLType.html#GUID-22790786-C29D-4D86-8108-46586E41CF1C">OCIXmlDbFreeXmlCtx（）语法</a><br>OCI函数<code class="codeph">OCIXmlDbFreeXmlCtx()</code>终止XML上下文。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4968"></a><a id="ADXDB4967"></a><div class="props_rev_3"><a id="GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30" name="GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30"></a><h4 id="ADXDB-GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30" class="sect4"><span class="enumeration_section">14.4.1</span> OCIXmlDbInitXmlCtx（）语法</h4>
                  <div>
                     <p>OCI函数<code class="codeph">OCIXmlDbInitXmlCtx()</code>初始化XML上下文。
                     </p>
                     <div class="section">
                        <p><code class="codeph">OCIXmlDbInitXmlCtx()</code>的语法如下：</p><pre class="pre codeblock"><code>xmlctx * OCIXmlDbInitXMlCtx（OCIEnv * envhp，OCISvcHp * svchp，OCIError * errhp，ocixmldbparam * params，ub4 num_params）;</code></pre><p>参数说明如<a href="C-API-for-XMLType.html#GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30__BGGHEDDH" title="该表描述了OCIXmlDBlInitXmlCtx参数。">表14-1所示</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-71C33EF4-ED8C-4C61-8BDA-C1177F2CAA30__BGGHEDDH">
                        <p class="titleintable">表14-1 OCIXmlDbInitXMlCtx（）参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="OCIXmlDbInitXMlCtx（）参数" width="100%" border="1" summary="This table describes the OCIXmlDBlInitXmlCtx parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d76905e526">参数</th>
                                 <th align="left" valign="bottom" width="77%" id="d76905e529">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d76905e534" headers="d76905e526 ">
                                    <p><code class="codeph">envhp（IN）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d76905e534 d76905e529 ">
                                    <p>OCI环境处理。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d76905e542" headers="d76905e526 ">
                                    <p><code class="codeph">svchp（IN）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d76905e542 d76905e529 ">
                                    <p>OCI服务处理。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d76905e550" headers="d76905e526 ">
                                    <p><code class="codeph">errhp（IN）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d76905e550 d76905e529 ">
                                    <p>OCI错误句柄。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d76905e558" headers="d76905e526 ">
                                    <p><code class="codeph">参数（IN）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d76905e558 d76905e529 ">
                                    <p>一组可选值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>OCI持续时间。默认值为<code class="codeph">OCI_DURATION_SESSION</code> 。</p>
                                       </li>
                                       <li>
                                          <p>错误处理程序，这是一个用户注册的回调：</p><pre class="pre codeblock"><code>void（* err_handler）（sword errcode，（CONST OraText *）errmsg）;</code></pre></li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d76905e578" headers="d76905e526 ">
                                    <p><code class="codeph">num_params（IN）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d76905e578 d76905e529 ">
                                    <p>从<code class="codeph">params</code>读取的参数数量。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-10FA0209-10E6-49CC-B783-4340B221CB35" title="XML上下文是所有C DOM API函数的必需参数。此不透明上下文封装有关数据编码，错误消息语言等的信息。对于Oracle XML Developer的Kit应用程序和Oracle XML DB，上下文的内容是不同的。">C DOM API函数的XML上下文参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4969"></a><div class="props_rev_3"><a id="GUID-22790786-C29D-4D86-8108-46586E41CF1C" name="GUID-22790786-C29D-4D86-8108-46586E41CF1C"></a><h4 id="ADXDB-GUID-22790786-C29D-4D86-8108-46586E41CF1C" class="sect4"><span class="enumeration_section">14.4.2</span> OCIXmlDbFreeXmlCtx（）语法</h4>
                  <div>
                     <p>OCI函数<code class="codeph">OCIXmlDbFreeXmlCtx()</code>终止XML上下文。
                     </p>
                     <div class="section">
                        <p><code class="codeph">OCIXmlDbFreeXmlCtx()</code>的语法如下，其中参数<code class="codeph">xctx (IN)</code>是要终止的XML上下文：</p><pre class="pre codeblock"><code>void OCIXmlDbFreeXmlCtx（xmlctx * xctx）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-10FA0209-10E6-49CC-B783-4340B221CB35" title="XML上下文是所有C DOM API函数的必需参数。此不透明上下文封装有关数据编码，错误消息语言等的信息。对于Oracle XML Developer的Kit应用程序和Oracle XML DB，上下文的内容是不同的。">C DOM API函数的XML上下文参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4971"></a><a id="ADXDB4970"></a><div class="props_rev_3"><a id="GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D" name="GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D"></a><h3 id="ADXDB-GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D" class="sect3"><span class="enumeration_section">14.5</span>初始化和终止XML上下文</h3>
               <div>
                  <p>一个示例说明了一个C程序，它使用C DOM API构造XML文档并将其保存到Oracle数据库。</p>
                  <div class="section">
                     <p><a href="C-API-for-XMLType.html#GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D__CHDGCGGE">例14-1</a>显示了这一点。构造的文档存储在表<code class="codeph">my_table</code> 。OCI函数<code class="codeph">OCIXmlDbInitXmlCtx()</code>和<code class="codeph">OCIXmlDbFreeXmlCtx()</code>分别用于初始化和终止XML上下文。这些函数在头文件<code class="codeph">ocixmldb.h</code>中定义。
                     </p>
                     <p>该代码使用辅助函数<code class="codeph">exec_bind_xml</code> ， <code class="codeph">init_oci_handles</code>和<code class="codeph">free_oci_handles</code> ，这些函数未在此处列出。此示例的完整列表（包括帮助程序函数）可在<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-8FCAD86A-3BF9-4B20-A9EE-8FC46C95C3CE" title="此处提供了完整列表，包括Oracle XML DB提供的XML模式，采购订单XML模式和各种示例中使用的XSLT样式表，以及用于将XML内容加载到Oracle XML DB并初始化和终止的XML语言（OCI）示例。 XML上下文。">Oracle提供的XML架构和示例</a> ， <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-8CA90A5B-999C-49B6-A2FD-41427C332F17" title="示例显示如何使用OCI函数OCIXmlDbInitXmlCtx（）和OCIXmlDbFreeXmlCtx（）来初始化和终止XML上下文。它使用C DOM API构造XML文档并将其保存到数据库中。">初始化和终止XML上下文（OCI）中找到</a> 。
                     </p>
                     <p><a href="C-API-for-XMLType.html#GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D__CHDGCGGE">例14-1中</a>的C代码假定首先执行了以下SQL代码以在数据库模式<code class="codeph">capiuser</code>创建表<code class="codeph">my_table</code> ：</p><pre class="pre codeblock"><code>CONNECT CAPIUSER输入密码： <span class="italic">密码</span>已连接。CREATE TABLE my_table OF XMLType;</code></pre><p><a href="C-API-for-XMLType.html#GUID-687495C3-551B-4786-8A5F-F594985553E2__CHDBIHJI">示例14-4</a>查询表<code class="codeph">my_table</code>以显示<a href="C-API-for-XMLType.html#GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D__CHDGCGGE">示例14-1</a>插入的数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8B2A5513-A30A-4F2E-ACA0-90BB9E533E8D__CHDGCGGE">
                     <p class="titleinexample">例14-1使用OCIXMLDBINITXMLCTX（）和OCIXMLDBFREEXMLCTX（）</p><pre class="pre codeblock"><code>#ifndef S_ORACLE #endif #ifndef ORATYPES_ORACLE #include &lt;oratypes.h&gt; #endif #ifndef XML_ORACLE #include &lt;xml.h&gt; #endif #ifndef OCIXML_ORACLE #include &lt;ocixml.h&gt; #endif #ifndef OCI_ORACLE #include &lt;oci.h &gt; #endif #include &lt;string.h&gt; typedef struct test_ctx {OCIEnv * envhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIServer * srvhp; OCIDuration dur; OCISession * sesshp; oratext * username; oratext *密码; } test_ctx; / * Helper函数1：执行绑定xml数据的sql语句* / static sword <span class="bold">exec_bind_xml</span> （OCISvcCtx * svchp，OCIError * errhp，OCIStmt * stmthp，void * xml，OCIType * xmltdo，OraText * sqlstmt）; / * Helper函数2：初始化OCI句柄并连接* / static sword <span class="bold">init_oci_handles</span> （test_ctx * ctx）; / *助手功能3：免费OCI句柄和断开* /静态<span class="bold">剑free_oci_handles</span> （test_ctx * ctx）; void <span class="bold">main</span> （）{test_ctx temp_ctx; test_ctx * ctx =＆temp_ctx; OCIType * xmltdo =（OCIType *）0; xmldocnode * doc =（xmldocnode *）0; ocixmldbparam params [1]; xmlnode * quux，* foo，* foo_data，* top; xmlerr错误;剑状态= 0; xmlctx * xctx; oratext ins_stmt [] =“插入my_table值（：1）”; oratext tlpxml_test_sch [] =“ <span class="bold">&lt;TOP /&gt;</span> ”; ctx-&gt; username =（oratext *）“capiuser”; ctx-&gt; password =（oratext *）“***********”; / *替换为真实密码* / / *初始化envhp，svchp，errhp，dur，stmthp * / init_oci_handles（ctx）; / *获取xml上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆ctx-&gt; dur; xctx = <span class="bold">OCIXmlDbInitXmlCtx</span> （ctx-&gt; envhp，ctx-&gt; svchp，ctx-&gt; errhp，params，1）; / *开始处理 - 首先，检查这个DOM是否支持XML 1.0 * / printf（“\ n \ n支持XML 1.0？：％s \ n”， <span class="bold">XmlHasFeature</span> （xctx，（oratext *）“xml”，（oratext *）“ 1.0“）？“是”：“否”）; / *解析文档* / if（！（doc = <span class="bold">XmlLoadDom</span> （xctx，＆err，“buffer”，tlpxml_test_sch，“buffer_length”，sizeof（tlpxml_test_sch）-1，“validate”，TRUE，NULL）））{printf（“Parse failed，code％d \ n”，err ）; } else {/ *获取文档元素* / top =（xmlnode *） <span class="bold">XmlDomGetDocElem</span> （xctx，doc）; / *打印出顶部元素* / printf（“\ n \ nOriginal top element is：\ n”）; <span class="bold">XmlSaveDom</span> （xctx，＆err，top，“stdio”，stdout，NULL）; / *打印出文件。这些变化反映在这里* / printf（“\ n \ nOriginal document is：\ n”）; <span class="bold">XmlSaveDom</span> （xctx，＆err，（xmlnode *）doc，“stdio”，stdout，NULL）; / *创建一些元素并将它们添加到文档中* / quux =（xmlnode *） <span class="bold">XmlDomCreateElem</span> （xctx，doc，（oratext *）“ <span class="bold">QUUX</span> ”）; foo =（xmlnode *） <span class="bold">XmlDomCreateElem</span> （xctx，doc，（oratext *）“ <span class="bold">FOO</span> ”）; foo_data =（xmlnode *） <span class="bold">XmlDomCreateText</span> （xctx，doc，（oratext *）“ <span class="bold">data</span> ”）; foo_data = <span class="bold">XmlDomAppendChild</span> （xctx，（xmlnode *）foo，（xmlnode *）foo_data）; foo = <span class="bold">XmlDomAppendChild</span> （xctx，quux，foo）; quux = <span class="bold">XmlDomAppendChild</span> （xctx，top，quux）; / *打印出顶部元素* / printf（“\ n \ n现在顶部元素是：\ n”）; <span class="bold">XmlSaveDom</span> （xctx，＆err，top，“stdio”，stdout，NULL）; / *打印出文件。这些变化反映在这里* / printf（“\ n \ n现在文件是：\ n”）; <span class="bold">XmlSaveDom</span> （xctx，＆err，（xmlnode *）doc，“stdio”，stdout，NULL）; / *将文档插入my_table * / status = OCITypeByName（ctx-&gt; envhp，ctx-&gt; errhp，ctx-&gt; svchp，（const text *）“SYS”，（ub4）strlen（（char *）“SYS”） ，（const text *）“XMLTYPE”，（ub4）strlen（（char *）“XMLTYPE”），（CONST text *）0，（ub4）0，OCI_DURATION_SESSION，OCI_TYPEGET_HEADER，（OCIType **）＆xmltdo）; if（status == OCI_SUCCESS）{exec_bind_xml（ctx-&gt; svchp，ctx-&gt; errhp，ctx-&gt; stmthp，（void *）doc，xmltdo，ins_stmt）; / * Free xml ctx * / <span class="bold">OCIXmlDbFreeXmlCtx</span> （xctx）; / *免费envhp，svchp，errhp，stmthp * / free_oci_handles（ctx）; }</code></pre><p>编译和运行此C程序的输出如下：</p><pre class="oac_no_warn" dir="ltr">支持XML 1.0？ ：YES原始顶部元素是：&lt;TOP /&gt;原始文档是：&lt;TOP /&gt;现在顶部元素是：&lt;TOP&gt; &lt;QUUX&gt; &lt;FOO&gt;数据&lt;/ FOO&gt; &lt;/ QUUX&gt; &lt;/ TOP&gt;现在文档是：&lt;TOP&gt; &lt;QUUX&gt; &lt;FOO&gt;数据&lt;/ FOO&gt; &lt;/ QUUX&gt; &lt;/ TOP&gt;</pre><p>这是在<code class="codeph">my_table</code>中查询构造文档的结果：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM my_table; SYS_NC_ROWINFO $ --------------- &lt;TOP&gt; &lt;QUUX&gt; &lt;FOO&gt;数据&lt;/ FOO&gt; &lt;/ QUUX&gt; &lt;/ TOP&gt;选择1行。
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4977"></a><a id="ADXDB4976"></a><div class="props_rev_3"><a id="GUID-556A53A1-7522-4786-AAB8-157326B7DFEA" name="GUID-556A53A1-7522-4786-AAB8-157326B7DFEA"></a><h3 id="ADXDB-GUID-556A53A1-7522-4786-AAB8-157326B7DFEA" class="sect3"><span class="enumeration_section">14.6</span>使用带有二进制XML的C API for XML</h3>
               <div>
                  <p>您可以使用C API for XML来读取或写入从Oracle XML DB编码为二进制XML的XML数据。这样做涉及通常的读写程序。</p>
                  <div class="section">
                     <p>二进制XML是一种紧凑的XML Schema感知XML数据编码。您可以将二进制XML用作数据库中<code class="codeph">XMLType</code>数据的存储模型，但也可以将其用于位于数据库外部的XML数据。
                     </p>
                     <p>二进制XML数据是XML Schema感知的，它可以根据您的需要使用各种编码方案。为了操作二进制XML数据，您必须同时拥有关于相关XML模式和编码的数据和元数据。</p>
                     <p>对于存储在数据库中的<code class="codeph">XMLType</code>数据，此元数据也存储在数据库中。但是，根据数据库和数据的设置方式，元数据可能与应用的数据不在同一服务器上。如果是这种情况，那么，在您从数据库读取或写入二进制XML数据之前，必须执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>为元数据创建上下文实例。</p>
                        </li>
                        <li>
                           <p>将此上下文与用于访问数据库中的二进制XML数据的数据连接相关联。数据连接可以是专用连接（ <code class="codeph">OCISvcCtx</code> ）或连接池（ <code class="codeph">OCICPool</code> ）。
                           </p>
                        </li>
                     </ol>
                     <p>然后，当您的应用程序需要对数据连接上的二进制XML数据进行编码或解码时，它会自动获取所需的元数据。如<a href="C-API-for-XMLType.html#GUID-556A53A1-7522-4786-AAB8-157326B7DFEA__CHDEHEHF">例14-2所示</a> ，整个行动顺序如下：</p>
                     <ol>
                        <li>
                           <p>为环境（ <code class="codeph">OCIEnv</code> ），连接（ <code class="codeph">OCISvcCtx</code> ）和错误上下文（ <code class="codeph">OCIError</code> ）创建通常的OCI句柄。
                           </p>
                        </li>
                        <li>
                           <p>根据需要创建一个或多个元数据上下文。元数据上下文有时被称为元数据存储库， <code class="codeph">OCIBinXMLReposCtx</code>是OCI上下文数据结构。您可以使用<code class="codeph">OCIBinXMLCreateReposCtxFromConn</code>从专用连接和<code class="codeph">OCIBinXMLCreateReposCtxFromCPool</code>创建元数据上下文，以从连接池创建上下文。
                           </p>
                        </li>
                        <li>
                           <p>将元数据上下文与二进制XML数据连接相关联。您可以使用<code class="codeph">OCIBinXmlSetReposCtxForConn</code>执行此操作。
                           </p>
                        </li>
                        <li>
                           <p>（可选）如果XML数据源自数据库之外，请使用<code class="codeph">setPicklePreference</code>指定从现在开始要以二进制XML格式发送到数据库的XML数据。这适用于DOM文档（ <code class="codeph">xmldomdoc</code> ）。如果未指定二进制XML，则数据将存储为文本（ <code class="codeph">CLOB</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>使用OCI库从数据库读取和写入XML数据。只要需要对二进制XML文档进行编码或解码，就会使用元数据上下文自动获取必要的元数据。使用C DOM API for XML在客户端级别对XML数据进行操作。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-556A53A1-7522-4786-AAB8-157326B7DFEA__GUID-485AD655-204D-4965-8517-F4D163801F48">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adxdk/using-binary-XML-with-C.html#ADXDK1810" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-556A53A1-7522-4786-AAB8-157326B7DFEA__CHDEHEHF">
                     <p class="titleinexample">示例14-2使用带有二进制XML的XML的C API</p><pre class="oac_no_warn" dir="ltr"><span class="bold">。 。 。</span>/ *私有类型和常量* / #define SCHEMA（OraText *）“SYS”#define TYPE（OraText *）“XMLTYPE”#define USER（OraText *）“oe”#define USER_LEN（ub2）（strlen（（char *） ）USER））＃define PWD（OraText *）“oe”#define PWD_LEN（ub2）（strlen（（char *）PWD））＃define NUM_PARAMS 1 static void checkerr（OCIError * errhp，sword status）; static sword create_env（OraText * user，ub2 user_len，OraText * pwd，ub2 pwd_len，OCIEnv ** envhp，OCISvcCtx ** svchp，OCIError ** errhp）; static sword run_example（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，OCIDuration dur）; static void cleanup（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp）; int <span class="bold">main</span> （int argc，char * argv []）{OCIEnv * envhp; <span class="bold">OCISvcCtx</span> * svchp; OCIError * errhp; printf（“***启动二进制XML示例程序\ n”）; if（create_env（USER，USER_LEN，PWD，PWD_LEN，＆envhp，＆svchp，＆errhp））{printf（“FAILED：create_env（）\ n”）;清理（envhp，svchp，errhp）;返回OCI_ERROR; } if（run_example（envhp，svchp，errhp，OCI_DURATION_SESSION））{printf（“FAILED：run_example（）\ n”）;清理（envhp，svchp，errhp）;返回OCI_ERROR;清理（envhp，svchp，errhp）; printf（“***完成二进制XML示例\ n”）;返回OCI_SUCCESS; } static sword <span class="bold">create_env</span> （OraText * user，ub2 user_len，OraText * pwd，ub2 pwd_len，OCIEnv ** envhp，OCISvcCtx ** svchp，OCIError ** errhp）{sword status; OCIServer * srvhp; OCISession * usrp; OCICPool * poolhp; OraText * poolname; ub4 poolnamelen; OraText * database =（OraText *）“”; <span class="bold">OCIBinXmlReposCtx</span> * rctx; / *创建并初始化环境。分配错误句柄。* / <span class="bold">。 。 。</span>if（（status = OCIConnectionPoolCreate（（dvoid *）* envhp，（dvoid *）* errhp，（dvoid *）poolhp，＆poolname，（sb4 *）＆poolnamelen，（OraText *）0，（sb4）0,1,10， 1，（OraText *）USER，（sb4）USER_LEN，（OraText *）PWD，（sb4）PWD_LEN，OCI_DEFAULT））！= OCI_SUCCESS）{printf（“OCIConnectionPoolCreate  -  Fail％d \ n”，status）;返回OCI_ERROR; } status = OCILogon2（（OCIEnv *）* envhp，* errhp，svchp，（OraText *）USER，（ub4）USER_LEN，（const oratext *）PWD，（ub4）PWD_LEN，（const oratext *）poolname，poolnamelen，OCI_CPOOL ）; if（status）{printf（“OCILogon2  -  Fail％d \ n”，status）;返回OCI_ERROR; } <span class="bold">OCIBinXmlCreateReposCtxFromCPool</span> （* envhp，poolhp，* errhp，＆rctx）; <span class="bold">OCIBinXmlSetReposCtxForConn</span> （* svchp，rctx）;返回OCI_SUCCESS; } static sword <span class="bold">run_example</span> （OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，OCIDuration dur）{OCIType * xmltdo =（OCIType *）0; OCIStmt * stmthp; OCIDefine * defnp; xmldocnode * xmldoc =（xmldocnode *）0; ub4 xmlsize = 0; text * selstmt =（text *）“SELECT doc FROM po_binxmltab”;剑的地位; struct xmlctx * xctx =（xmlctx *）0; ocixmldbparam params [NUM_PARAMS]; xmlerr xerr =（xmlerr）0; / *获取XMLType的类型定义。分配语句句柄。准备SELECT语句。为XMLType定义变量。执行语句。* / <span class="bold">。 。 。</span>/ *构造xmlctx以使用XML C API * / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆dur; xctx = OCIXmlDbInitXmlCtx（envhp，svchp，errhp，params，NUM_PARAMS）; / *将结果打印到本地字符串* / XmlSaveDom（xctx，＆xerr，（xmlnode *）xmldoc，“stdio”，stdout，NULL）; / *免费实例* / <span class="bold">。 。 。</span>}</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="intro-to-XML-DB.html#GUID-B8507F44-B010-4384-94E6-101131DD7D88" title="XMLType是一种抽象数据类型，它提供了不同的存储模型，以最好地适应您的数据及其使用。作为抽象数据类型，您的应用程序和数据库查询可以获得灵活性：所有XMLType操作都可以使用相同的接口。">XMLType存储模型</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4979"></a><a id="ADXDB4978"></a><div class="props_rev_3"><a id="GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3" name="GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3"></a><h3 id="ADXDB-GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3" class="sect3"><span class="enumeration_section">14.7</span>使用Oracle XML Developer's Kit将Parser与Oracle XML DB一起使用</h3>
               <div>
                  <p>您可以将Oracle XML Developer's Kit pull解析器与Oracle XML DB中的<code class="codeph">XMLType</code>实例一起使用。使用此解析器时，解析是按需完成的，因此您的应用程序将驱动解析过程。
                  </p>
                  <div class="section">
                     <p>您的应用程序通过一系列事件访问XML文档，包括开始标记，结束标记和注释，就像在Simple API for XML（SAX）解析中一样。但是，与SAX解析的情况不同，解析事件由回调处理，在解析中，应用程序调用方法仅在需要时请求（拉）事件。这使应用程序可以更好地控制XML处理。特别是，使用pull解析器的过滤比使用SAX解析器更灵活。</p>
                     <p>您还可以使用Oracle XML Developer的Kit pull解析器来执行基于流的XML Schema验证。</p>
                     <p><a href="C-API-for-XMLType.html#GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3__CHDIFDBE">例14-3</a>显示了如何将Oracle XML DB pull解析器与<code class="codeph">XMLType</code>实例一起使用。要使用pull解析器，还需要UNIX和Linux系统上的静态库<code class="codeph">libxml10.a</code>或Microsoft Windows系统上的<code class="codeph">oraxml10.dll</code> 。您还需要头文件<code class="codeph">xmlev.h</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3__GUID-D9D74E5C-F57E-4528-9592-2731705A0CAB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adxdk/using-XML-parser-for-C.html#ADXDK1410" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a> ，了解有关Oracle XML Developer's Kit pull解析器的信息</p>
                           </li>
                           <li>
                              <p><a href="../adxdk/using-XML-schema-processor-for-C.html#ADXDK1600" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a> ，了解有关使用pull解析器进行基于流的验证的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-060FFEF3-A3C5-48EB-B008-D6496B5749A3__CHDIFDBE">
                     <p class="titleinexample">示例14-3使用Oracle XML DB Pull Parser</p><pre class="oac_no_warn" dir="ltr">#define MAXBUFLEN 64 * 1024 void main（）{test_ctx temp_ctx; test_ctx * ctx =＆temp_ctx; OCIType * xmltdo =（OCIType *）0; ocixmldbparam params [1];剑状态= 0; xmlctx * xctx; OCIDefine * defnp =（OCIDefine *）0; oratext sel_stmt [] =“ <span class="bold">SELECT XMLSerialize（DOCUMENT x。OBURECT_VALUE AS CLOB）来自PURCHASEORDER x其中rownum = 1</span> “; OCILobLocator * cob; ub4 amtp，nbytes; ub1 bufp [MAXBUFLEN]; ctx-&gt; username =（oratext *）”oe“; ctx-&gt; password =（oratext *） “*************”; / *替换为真实密码* / <span class="bold">/ *初始化envhp，svchp，errhp，dur，stmthp * /</span> init_oci_handles（ctx）; <span class="bold">/ *获取xml上下文* /</span> params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆ctx-&gt; dur; xctx = OCIXmlDbInitXmlCtx（ctx-&gt; envhp，ctx-&gt; svchp，ctx-&gt; errhp，params，1）; <span class="bold">/ *开始处理* /</span> printf（“\ n \ n <span class="bold">支持XML 1.0？：</span> ％s \ n”，XmlHasFeature（xctx，（oratext *）“xml”，（oratext *）“1.0”）？“是”：“否”）; <span class="bold">/ *分配lob描述符* /</span> status = OCIDescriptorAlloc（（dvoid *）ctx-&gt; envhp，（dvoid **）＆clob，（ub4）OCI_DTYPE_LOB，（size_t）0，（dvoid **）0）; if（status）{printf（“OCIDescriptorAlloc Failed \ n”）;转到错误; } status = OCIStmtPrepare（ctx-&gt; stmthp，ctx-&gt; errhp，（CONST OraText *）sel_stmt，（ub4）strlen（（char *）sel_stmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT）; if（status）{printf（“OCIStmtPrepare Failed \ n”）;转到错误; } status = OCIDefineByPos（ctx-&gt; stmthp，＆defnp，ctx-&gt; errhp，（ub4）1，（dvoid *）＆clob，（sb4）-1，（ub2）SQLT_CLOB，（dvoid *）0，（ub2 *）0 ，（ub2 *）0，（ub4）OCI_DEFAULT）; if（status）{printf（“OCIDefineByPos Failed \ n”）;转到错误; } status = OCIStmtExecute（ctx-&gt; svchp，ctx-&gt; stmthp，ctx-&gt; errhp，（ub4）1，（ub4）0，（CONST OCISnapshot *）0，（OCISnapshot *）0，（ub4）OCI_DEFAULT）; if（status）{printf（“OCIStmtExecute Failed \ n”）;转到错误; } / *将读取的值读入缓冲区* / amtp = nbytes = MAXBUFLEN-1; status = OCILobRead（ctx-&gt; svchp，ctx-&gt; errhp，clob，＆amtp，（ub4）1，（dvoid *）bufp，（ub4）nbytes，（dvoid *）0，（sb4（*）（dvoid *，CONST） dvoid *，ub4，ub1））0，（ub2）0，（ub1）SQLCS_IMPLICIT）; if（status）{printf（“OCILobRead Failed \ n”）;转到错误; } bufp [amtp] ='\ 0'; if（amtp&gt; 0）{printf（“\ n <span class="bold">=&gt;</span> ％s的<span class="bold">查询结果</span> ：\ n％s \ n”，sel_stmt，bufp）; <span class="bold">/ ********** PULL PARSING ****************** /</span> status = pp_parse（xctx，bufp，amtp）; if（status）printf（“Pull Parsing failed \ n”）; } error： <span class="bold">/ * Free XML</span> Ctx <span class="bold">* /</span> OCIXmlDbFreeXmlCtx（xctx）; <span class="bold">/ *免费envhp，svchp，errhp，stmthp * /</span> free_oci_handles（ctx）; } #define ERRBUFLEN 256 sb4 pp_parse（xctx，buf，amt）xmlctx * xctx; oratext * buf; ub4 amt; {xmlevctx * evctx; xmlerr xerr = XMLERR_OK; oratext消息[ERRBUFLEN]; oratext * emsg = message; xmlerr ecode; boolean done，inattr = FALSE; xmlevtype事件; <span class="bold">/ *创建XML事件上下文 - 拉解析器上下文* /</span> evctx = XmlEvCreatePPCtx（xctx，＆xerr，“expand_entities”，FALSE，“validate”，TRUE，“attr_events”，TRUE，“raw_buffer_len”，1024，NULL）;如果（！evctx）{printf（“FAILED：XmlEvCreatePPCtx：％d \ n”，xerr）;返回OCI_ERROR; <span class="bold">/ *从输入缓冲区加载文档* /</span> xerr = XmlEvLoadPPDoc（xctx，evctx，“buffer”，buf，amt，“utf-8”）; if（xerr）{printf（“FAILED：XmlEvLoadPPDoc：％d \ n”，xerr）;返回OCI_ERROR; <span class="bold">/ *处理事件直到END_DOCUMENT事件或错误* /</span> done = FALSE;而（！完成）{event = XmlEvNext（evctx）; switch（event）{case XML_EVENT_START_ELEMENT：printf（“ <span class="bold">START ELEMENT：</span> ％s \ n”，XmlEvGetName0（evctx））;打破; case XML_EVENT_END_ELEMENT：printf（“ <span class="bold">END ELEMENT：</span> ％s \ n”，XmlEvGetName0（evctx））;打破; case XML_EVENT_START_DOCUMENT：printf（“ <span class="bold">START DOCUMENT</span> \ n”）;打破; case XML_EVENT_END_DOCUMENT：printf（“ <span class="bold">END DOCUMENT</span> \ n”）; done = TRUE;打破; case XML_EVENT_START_ATTR：printf（“ <span class="bold">START ATTRIBUTE：</span> ％s \ n”，XmlEvGetAttrName0（evctx，0））; inattr = TRUE;打破; case XML_EVENT_END_ATTR：printf（“ <span class="bold">END</span> ATTRTRUTE：％s \ n”，XmlEvGetAttrName0（evctx，0））; inattr = FALSE;打破; case XML_EVENT_CHARACTERS：if（inattr）printf（“ <span class="bold">ATTR VALUE：</span> ％s \ n”，XmlEvGetText0（evctx））; else printf（“ <span class="bold">TEXT：</span> ％s \ n”，XmlEvGetText0（evctx））;打破; case XML_EVENT_ERROR：case XML_EVENT_FATAL_ERROR：done = TRUE; ecode = XmlEvGetError（evctx，＆emsg）; printf（“ERROR：％d：％s \ n”，ecode，emsg）;打破; <span class="bold">/ *销毁事件上下文* /</span> XmlEvDestroyPPCtx（xctx，evctx）;返回OCI_SUCCESS; }</pre><p>编译和运行此C程序的输出如下：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">=&gt;</span> XMLSerialize的<span class="bold">查询结果</span> （文档x。OBURECT_VALUE as CLOB）来自PURCHASEORDER x，其中rownum = 1：</pre><pre class="oac_no_warn" dir="ltr">&lt;PurchaseOrder xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi：noNamespaceSchemaLocation =“http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd”&gt; &lt;参考&gt; AMCEWEN-20021009123336171PDT &lt;/ Reference&gt; &lt;Actions&gt; &lt;Action&gt; &lt;User&gt; KPARTNER &lt;/ User&gt; &lt;/ Action&gt; &lt;/ Actions&gt; &lt;Reject /&gt; &lt;Requestor&gt; Allan D. McEwen &lt;/ Requestor&gt; &lt;User&gt; AMCEWEN &lt;/ User&gt; &lt;CostCenter&gt; S30 &lt;/ CostCenter&gt; &lt;ShippingInstructions&gt; &lt;name&gt; Allan D. McEwen &lt;/ name&gt; &lt;地址&gt; Oracle Plaza Twin Dolphin Drive Redwood Shores CA 94065 USA &lt;/ address&gt; &lt;telephone&gt; 650 506 7700 &lt; / telephone&gt; &lt;/ ShippingInstructions&gt; &lt;SpecialInstructions&gt; Ground &lt;/ SpecialInstructions&gt; &lt;LineItems&gt; &lt;LineItem ItemNumber =“1”&gt; &lt;Description&gt; Salesman &lt;/ Description&gt; &lt;Part Id =“37429158920”UnitPrice =“39.95”Quantity =“2 “/&gt; &lt;/ LineItem&gt; <span class="bold">。 。 。</span>&lt;/ LineItems&gt; &lt;/ PurchaseOrder&gt; START DOCUMENT START ELEMENT：PurchaseOrder START ATTRIBUTE：xmlns：xsi ATTR VALUE：http：//www.w3.org/2001/XMLSchema-instance END ATTRIBUTE：xmlns：xsi START ATTRIBUTE：xsi：noNamespaceSchemaLocation ATTR VALUE：http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd END ATTRIBUTE：xsi：noNamespaceSchemaLocation START ELEMENT：参考文本：AMCEWEN-20021009123336171PDT END ELEMENT：参考START ELEMENT：Actions START ELEMENT：Action START元素：用户文本：KPARTNER结束元素：用户结束元素：操作结束元素：操作开始元素：拒绝结束元素：拒绝开始元素：请求者文本：Allan D. McEwen结束元素：请求者开始元素：用户文本：AMCEWEN END ELEMENT：用户启动元素：成本中心文本：S30结束元素：成本中心开始元素：ShippingInstructions开始元素：名称文字：Allan D. McEwen END ELEMENT：名称START ELEMENT：地址文本：Oracle Plaza Twin Dolphin Drive Redwood Shores CA 94065 USA END ELEMENT：addr ess START ELEMENT：电话文字：650 506 7700 END ELEMENT：电话END ELEMENT：ShippingInstructions START ELEMENT：SpecialInstructions文字：地面结束元素：SpecialInstructions START ELEMENT：LineItems START ELEMENT：LineItem START ATTRIBUTE：ItemNumber ATTR VALUE：1 END ATTRIBUTE：ItemNumber START元素：描述文本：推销员END ELEMENT：描述START元素：部分开始属性：Id ATTR VALUE：37429158920 END属性：Id开始属性：UnitPrice ATTR VALUE：39.95 END属性：UnitPrice START属性：数量ATTR值：2结束属性：数量结束元素：部分结束元素：LineItem <span class="bold">。 。 。</span>END ELEMENT：LineItems END ELEMENT：PurchaseOrder END DOCUMENT</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4981"></a><a id="ADXDB4982"></a><a id="ADXDB4980"></a><div class="props_rev_3"><a id="GUID-687495C3-551B-4786-8A5F-F594985553E2" name="GUID-687495C3-551B-4786-8A5F-F594985553E2"></a><h3 id="ADXDB-GUID-687495C3-551B-4786-8A5F-F594985553E2" class="sect3"><span class="enumeration_section">14.8</span> C中的常见XMLType操作</h3>
               <div>
                  <p>通用XML操作由C API for XML提供。</p>
                  <p><a href="C-API-for-XMLType.html#GUID-687495C3-551B-4786-8A5F-F594985553E2__BABGGACF" title="该表描述了XML的XMLType函数的C API。">表14-2</a>提供了与常见XML操作等效的<code class="codeph">XMLType</code>功能。
                  </p>
                  <div class="tblformal" id="GUID-687495C3-551B-4786-8A5F-F594985553E2__BABGGACF">
                     <p class="titleintable">表14-2 C中的常见XMLType操作</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="C中常见的XMLType操作" width="100%" border="1" summary="This table describes the C API for XML’s XMLType functions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d76905e1245">描述</th>
                              <th align="left" valign="bottom" width="56%" id="d76905e1248">C API XMLType函数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1253" headers="d76905e1245 ">
                                 <p>创建空<code class="codeph">XMLType</code>实例</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1253 d76905e1248 ">
                                 <p><code class="codeph">XmlCreateDocument（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1264" headers="d76905e1245 ">
                                 <p>从源缓冲区创建</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1264 d76905e1248 ">
                                 <p><code class="codeph">XmlLoadDom（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1272" headers="d76905e1245 ">
                                 <p>提取XPath表达式</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1272 d76905e1248 ">
                                 <p><code class="codeph">XmlXPathEvalexpr()</code>和系列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1281" headers="d76905e1245 ">
                                 <p>使用XSLT样式表进行转换</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1281 d76905e1248 ">
                                 <p><code class="codeph">XmlXslProcess()</code>和系列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1290" headers="d76905e1245 ">
                                 <p>检查是否存在XPath</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1290 d76905e1248 ">
                                 <p><code class="codeph">XmlXPathEvalexpr()</code>和系列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1299" headers="d76905e1245 ">
                                 <p>是基于文档架构吗？</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1299 d76905e1248 ">
                                 <p><code class="codeph">XmlDomIsSchemaBased（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1307" headers="d76905e1245 ">
                                 <p>获取架构信息</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1307 d76905e1248 ">
                                 <p><code class="codeph">XmlDomGetSchema（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1315" headers="d76905e1245 ">
                                 <p>获取文档命名空间</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1315 d76905e1248 ">
                                 <p><code class="codeph">XmlDomGetNodeURI（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1323" headers="d76905e1245 ">
                                 <p>使用架构验证</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1323 d76905e1248 ">
                                 <p><code class="codeph">XmlSchemaValidate（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1331" headers="d76905e1245 ">
                                 <p>从<code class="codeph">XMLType</code>获取DOM</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1331 d76905e1248 ">
                                 <p>Cast <code class="codeph">(void *)</code> to <code class="codeph">(xmldocnode *)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d76905e1345" headers="d76905e1245 ">
                                 <p>从DOM获取XMLType</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d76905e1345 d76905e1248 ">
                                 <p>将<code class="codeph">(xmldocnode *)</code>为<code class="codeph">(void *)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-687495C3-551B-4786-8A5F-F594985553E2__GUID-4CBD907D-4B95-4991-825E-B520D0F83A24">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adxdk/using-XML-parser-for-C.html#ADXDK1400" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a> “用于C的XML解析器”</p>
                  </div>
                  <p><a href="C-API-for-XMLType.html#GUID-687495C3-551B-4786-8A5F-F594985553E2__CHDBIHJI">示例14-4</a>显示了如何使用DOM来确定已订购特定部件的实例数。有问题的部分有<code class="codeph">Id</code> <code class="codeph">37429158722</code> 。有关辅助函数<code class="codeph">exec_bind_xml</code> ， <code class="codeph">free_oci_handles</code>和<code class="codeph">init_oci_handles</code>的定义，请参阅<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-8FCAD86A-3BF9-4B20-A9EE-8FC46C95C3CE" title="此处提供了完整列表，包括Oracle XML DB提供的XML模式，采购订单XML模式和各种示例中使用的XSLT样式表，以及用于将XML内容加载到Oracle XML DB并初始化和终止的XML语言（OCI）示例。 XML上下文。">Oracle提供的XML模式和示例</a> ， <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-8CA90A5B-999C-49B6-A2FD-41427C332F17__BABGHJFA">示例A-6</a> 。
                  </p>
                  <div class="example" id="GUID-687495C3-551B-4786-8A5F-F594985553E2__CHDBIHJI">
                     <p class="titleinexample">示例14-4使用DOM计算有序零件</p><pre class="oac_no_warn" dir="ltr">#ifndef S_ORACLE #endif #ifndef ORATYPES_ORACLE #include &lt;oratypes.h&gt; #endif #ifndef XML_ORACLE #include &lt;xml.h&gt; #endif #ifndef OCIXML_ORACLE #include &lt;ocixml.h&gt; #endif #ifndef OCI_ORACLE #include &lt;oci.h &gt; #endif #include &lt;string.h&gt; typedef struct test_ctx {OCIEnv * envhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIServer * srvhp; OCIDuration dur; OCISession * sesshp; oratext * username; oratext *密码; } test_ctx; / * Helper函数1：执行绑定xml数据的sql语句* / static sword <span class="bold">exec_bind_xml</span> （OCISvcCtx * svchp，OCIError * errhp，OCIStmt * stmthp，void * xml，OCIType * xmltdo，OraText * sqlstmt）; / * Helper函数2：初始化OCI句柄并连接* / static sword <span class="bold">init_oci_handles</span> （test_ctx * ctx）; / *助手功能3：免费OCI句柄和断开* /静态剑<span class="bold">free_oci_handles</span> （test_ctx * ctx）; void <span class="bold">main</span> （）{test_ctx temp_ctx; test_ctx * ctx =＆temp_ctx; OCIType * xmltdo =（OCIType *）0; xmldocnode * doc =（xmldocnode *）0; ocixmldbparam params [1]; xmlnode * quux，* foo，* foo_data，* top; xmlerr错误;剑状态= 0; xmlctx * xctx; ub4 xmlsize = 0; OCIDefine * defnp =（OCIDefine *）0; oratext sel_stmt [] =“SELECT SYS_NC_ROWINFO $ FROM PURCHASEORDER”; xmlnodelist * litems =（xmlnodelist *）0; xmlnode * item =（xmlnode *）item; xmlnode * part; xmlnamedmap * attrs; xmlnode * id; xmlnode * qty; oratext * idval; oratext * qtyval; ub4 total_qty; int i; int numdocs; ctx-&gt; username =（oratext *）“oe”; ctx-&gt; password =（oratext *）“***********”; / *替换为真实密码* / / *初始化envhp，svchp，errhp，dur，stmthp * / init_oci_handles（ctx）; / *获取xml上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆ctx-&gt; dur; xctx = OCIXmlDbInitXmlCtx（ctx-&gt; envhp，ctx-&gt; svchp，ctx-&gt; errhp，params，1）; / *开始处理* / printf（“\ n \ n <span class="bold">支持XML 1.0？：</span> ％s \ n”，XmlHasFeature（xctx，（oratext *）“xml”，（oratext *）“1.0”）？“是”：“否”）; / *使用select语句从数据库中获取文件* / status = OCITypeByName（ctx-&gt; envhp，ctx-&gt; errhp，ctx-&gt; svchp，（const text *）“SYS”，（ub4）strlen（（char *） ）“SYS”），（const text *）“XMLTYPE”，（ub4）strlen（（char *）“XMLTYPE”），（CONST text *）0，（ub4）0，OCI_DURATION_SESSION，OCI_TYPEGET_HEADER，（OCIType **） ＆xmltdo）; status = OCIStmtPrepare（ctx-&gt; stmthp，ctx-&gt; errhp，（CONST OraText *）sel_stmt，（ub4）strlen（（char *）sel_stmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT）; status = OCIDefineByPos（ctx-&gt; stmthp，＆defnp，ctx-&gt; errhp，（ub4）1，（dvoid *）0，（sb4）0，SQLT_NTY，（dvoid *）0，（ub2 *）0，（ub2 *） 0，（ub4）OCI_DEFAULT）; status = OCIDefineObject（defnp，ctx-&gt; errhp，（OCIType *）xmltdo，（dvoid **）＆doc，＆xmlsize，（dvoid **）0，（ub4 *）0）; status = OCIStmtExecute（ctx-&gt; svchp，ctx-&gt; stmthp，ctx-&gt; errhp，（ub4）0，（ub4）0，（CONST OCISnapshot *）0，（OCISnapshot *）0，（ub4）OCI_DEFAULT）; / *初始化变量* / total_qty = 0; numdocs = 0; / *遍历所有文档* / while（（status = OCIStmtFetch2（ctx-&gt; stmthp，ctx-&gt; errhp，（ub4）1，（ub4）OCI_FETCH_NEXT，（ub4）1，（ub4）OCI_DEFAULT））== 0 ）{numdocs ++; / *获取所有LineItem元素* / litems = XmlDomGetDocElemsByTag（xctx，doc，（oratext *）“LineItem”）; i = 0; / *遍历所有LineItems * / while（item = XmlDomGetNodeListItem（xctx，litems，i））{/ *获取部分* / part = XmlDomGetLastChild（xctx，item）; / *获取属性* / attrs = XmlDomGetAttrs（xctx，（xmlelemnode *）part）; / *获取id属性及其值* / id = XmlDomGetNamedItem（xctx，attrs，（oratext *）“Id”）; idval = XmlDomGetNodeValue（xctx，id）; / *只保留部分ID为37429158722 * / if（idval &amp;&amp;（strlen（（char *）idval）== 11）&amp;&amp;！strncmp（（char *）idval，（char *）“37429158722”，11））{/ *获取数量属性及其值。* / qty = XmlDomGetNamedItem（xctx，attrs，（oratext *）“Quantity”）; qtyval = XmlDomGetNodeValue（xctx，qty）; / *将数量添加到total_qty * / total_qty + = atoi（（char *）qtyval）; } i ++; XmlFreeDocument（xctx，doc）; doc =（xmldocnode *）0; } printf（“ <span class="bold">部件37429158722 =</span> ％d \ n” <span class="bold">所需的总数量</span> ，total_qty）; printf（“ <span class="bold">表PURCHASEORDER =</span> ％d \ n”中<span class="bold">的文档数</span> ，numdocs）; / * Free Xml Ctx * / OCIXmlDbFreeXmlCtx（xctx）; / *免费envhp，svchp，errhp，stmthp * / free_oci_handles（ctx）; }</pre><p>编译和运行此C程序的输出如下：</p><pre class="oac_no_warn" dir="ltr">支持XML 1.0？ ：是零件37429158722所需的总数量= 42表格中的文件数量PURCHASEORDER = 132</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="C-API-for-XMLType.html#GUID-3530DFDE-0125-4A95-9DCA-29BA804F1BA9" title="XMLType的C DOM API允许您使用C中的DOM操作XMLType实例。">XMLType的C DOM API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="00213.creating-your-own-DBFS-store.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建自己的DBFS存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBFS-content-API.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-DBFS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBFS-content-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-DBFS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-file-system.html" property="item" typeof="WebPage"><span property="name">数据库文件系统（DBFS）</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建自己的DBFS存储</li>
            </ol>
            <a id="GUID-01819696-9FE0-41AB-9388-A0ECA1F72E52" name="GUID-01819696-9FE0-41AB-9388-A0ECA1F72E52"></a><a id="ADLOB0079"></a>
            
            <h2 id="ADLOB-GUID-01819696-9FE0-41AB-9388-A0ECA1F72E52" class="sect2"><span class="enumeration_chapter">24</span>创建自己的DBFS存储</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用DBFS内容SPI（ <code class="codeph">DBMS_DBFS_CONTENT_SPI)</code>创建自己的DBFS存储。
               </p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="creating-your-own-DBFS-store.html#GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554" title="要自定义DBFS存储，必须实现DBFS内容SPI（DBMS_DBFS_CONTENT_SPI）。它是现有存储（如DBFS SecureFiles存储和DFFS分层存储）以及您创建的任何用户定义的DBFS存储的基础。">DBFS存储库创建和使用概述</a></p>
                  </li>
                  <li>
                     <p> <a href="creating-your-own-DBFS-store.html#GUID-5EA68AD7-404E-47CC-86DE-EDB2EBA68119" title="DBFS内容SPI（存储提供程序接口）仅是规范，没有包体。">DBFS内容存储提供程序接口（DBFS内容SPI）</a></p>
                  </li>
                  <li>
                     <p><a href="creating-your-own-DBFS-store.html#GUID-FC7FD421-751A-4D8C-927C-A046AFDFD492" title="您可以将此示例存储提供程序用于DBFS，TaBleFileSystem存储提供程序（" tbf="),=" ="">创建自定义提供程序</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB46227"></a><a id="ADLOB46210"></a><div class="props_rev_3"><a id="GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554" name="GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554"></a><h3 id="ADLOB-GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554" class="sect3">DBFS存储库创建和使用概述</h3>
               <div>
                  <p>要自定义DBFS存储，必须实现DBFS内容SPI（ <code class="codeph">DBMS_DBFS_CONTENT_SPI)</code> 。它是现有存储（如DBFS SecureFiles存储和DFFS分层存储）以及您创建的任何用户定义的DBFS存储的基础。
                  </p>
                  <p>客户端应用程序（如PL / SQL接口）调用DBFS Content API中的函数和过程。然后，DBFS Content API调用DBFS内容SPI中的相应子程序来创建存储并执行其他相关功能。</p>
                  <p>创建DBFS存储后，您将以与SecureFiles存储相同的方式运行它。</p>
                  <div class="infoboxnotealso" id="GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554__DBFSCONTENTAPI.DBFSSECUREFILESSTORE-DFF8111B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBFS-content-API.html#GUID-630BE6DB-0178-4EE4-8D7D-824BA886F68E" title="您可以使应用程序在多个不同的编程环境中使用数据库文件系统（DBFS）。">DBFS内容API</a></p>
                        </li>
                        <li>
                           <p><a href="DBFS-securefiles-store.html#GUID-F71C0B85-F08D-4CD0-9EB3-AB84C9B355AE" title="有一些设置和使用DBFS SecureFiles Store的过程。">DBFS SecureFiles商店</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="figure" id="GUID-15A25729-A83D-4B0B-8858-E9DEDA9C4554__GUID-EAF65659-C9F9-4198-B8A1-D1AD3748F171">
                     <p class="titleinfigure">图24-1数据库文件系统（DBFS）</p><img src="img/adlob201.gif" width="496" alt="下面是图24-1的描述" title="下面是图24-1的描述" longdesc="img_text/adlob201.html"><br><a href="img_text/adlob201.html">“图24-1数据库文件系统（DBFS）”的说明</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="ADLOB46102"></a><div class="props_rev_3"><a id="GUID-5EA68AD7-404E-47CC-86DE-EDB2EBA68119" name="GUID-5EA68AD7-404E-47CC-86DE-EDB2EBA68119"></a><h3 id="ADLOB-GUID-5EA68AD7-404E-47CC-86DE-EDB2EBA68119" class="sect3">DBFS内容存储提供程序接口（DBFS内容SPI）</h3>
               <div>
                  <p>DBFS内容SPI（存储提供程序接口）仅是规范，没有包体。</p>
                  <p>您必须实现包体才能响应来自DBFS Content API的调用。换句话说，DBFS内容SPI是必需程序规范的集合，您必须使用指示的方法签名和语义来实现这些规范。</p>
                  <p>您可以根据需要向DBFS Content SPI包体添加其他功能和过程。您的实现可能实现其他方法并公开其他接口，但DBFS Content API将不使用这些接口。</p>
                  <p>DBFS内容SPI引用DBFS内容API（包<code class="codeph">DBMS_DBFS_CONTENT</code> ）定义的各种元素，例如常量，类型和异常。
                  </p>
                  <p>请注意，所有路径名引用都必须是存储限定的，即，在调用任何Provider SPI方法之前，DBFS Content API已将规范化并将安装点和完整绝对路径名的概念规范化并转换为存储限定路径名。 。</p>
                  <p>由于DBFS Content API和Provider SPI是一对多可插拔体系结构，因此DBFS Content API使用动态SQL来调用Provider SPI中的方法;如果您的Provider SPI实现不遵循本文档中的Provider SPI规范，这可能会导致运行时错误。</p>
                  <p>没有明确的初始或最终方法来指示DBFS Content API何时插入并拔出特定的提供者SPI。提供者SPI必须能够在任何SPI入口点自动初始化自己。</p>
                  <div class="infoboxnotealso" id="GUID-5EA68AD7-404E-47CC-86DE-EDB2EBA68119__GUID-A8FF224C-9DCD-4126-8B7D-2C448D560D61">
                     <p class="notep1">也可以看看：</p>
                     <p> </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../arpls/DBMS_DBFS_CONTENT_SPI.html#ARPLS72231" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> ，了解<code class="codeph">DBMS_DBFS_CONTENT_SPI</code>包的语法</p>
                        </li>
                        <li>
                           <p>有关更多信息，请参阅文件<code class="codeph">$ORACLE_HOME/rdbms/admin/dbmscapi.sql</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADLOB46211"></a><div class="sect2"><a id="GUID-FC7FD421-751A-4D8C-927C-A046AFDFD492" name="GUID-FC7FD421-751A-4D8C-927C-A046AFDFD492"></a><h3 id="ADLOB-GUID-FC7FD421-751A-4D8C-927C-A046AFDFD492" class="sect3">创建自定义提供程序</h3>
               <div>
                  <p>您可以将此示例存储提供程序用于DBFS，TaBleFileSystem存储提供程序（“tbfs”），作为自定义提供程序的框架或作为学习工具，以熟悉DBFS及其SPI。</p>
                  <p>此DBFS示例存储提供程序将包含<code class="codeph">BLOB</code>列的关系表公开为平面非分层文件系统，即命名文件的集合。
                  </p>
                  <p>要使用此示例，假定您已安装Oracle Database 12 <span class="italic">c</span>并熟悉DBFS概念，并已安装并使用<code class="codeph">dbfs_client</code>和<code class="codeph">FUSE</code>来装入和访问由标准SFS存储提供程序支持的文件系统。
                  </p>
                  <p>TaBleFileSystem存储提供程序（“tbfs”）并非旨在功能丰富甚至完整，但它确实提供了足够的演示，说明DBFS用户可以编写自己的自定义提供程序，通过它们公开其表格。 <code class="codeph">dbfs_client</code>到传统的文件系统程序。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-FC31EEE0-061F-49CC-A02B-687086E5D10C" title="这些是DBFS，TaBleFileSystem Store Provider的示例商店提供程序的机制（" tbf=")." ="">机械学</a></p>
                     </li>
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-E2E72747-14A0-4334-A3AE-AC4EEDE9FD45" title="TBFS.SQL脚本是顶级驱动程序脚本。">TBFS.SQL</a></p>
                     </li>
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-2ADF05F4-1FB5-4B18-9B4B-06B344B806E9" title="TBL.SQL脚本创建测试用户，表空间，支持文件系统的表等等。">TBL.SQL</a></p>
                     </li>
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-6EBE7625-C688-4346-A4C6-891772A8D821" title="spec.sql脚本提供tbfs的SPI规范。">spec.sql</a></p>
                     </li>
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-BEE83BB9-C2FE-448B-AF91-5AC9392E13C8" title="body.sql脚本提供了tbfs的SPI实现。">body.sql</a></p>
                     </li>
                     <li>
                        <p><a href="creating-your-own-DBFS-store.html#GUID-33C05C50-B474-47F8-AE49-242837A24D3F" title="capi.sql脚本注册并安装DBFS。">capi.sql</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46228"></a><div class="props_rev_3"><a id="GUID-FC31EEE0-061F-49CC-A02B-687086E5D10C" name="GUID-FC31EEE0-061F-49CC-A02B-687086E5D10C"></a><h4 id="ADLOB-GUID-FC31EEE0-061F-49CC-A02B-687086E5D10C" class="sect4">机械学</h4>
                  <div>
                     <p>这些是DBFS，TaBleFileSystem存储提供程序（“tbfs”）的示例存储提供程序的机制。</p>
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="creating-your-own-DBFS-store.html#GUID-B9323C55-9154-4519-B925-A8B7A6DC2D8B" title="您将需要某些文件来安装和设置DBFS TaBleFileSystem Store Provider（" tbf=")." ="">安装和设置</a></p>
                        </li>
                        <li>
                           <p><a href="creating-your-own-DBFS-store.html#GUID-99EBB22D-9D7A-419E-9C97-5A53A3079308" title="一旦DBFS的示例商店提供商，TaBleFileSystem商店提供商（" tbf=")=" ="">TBFS使用</a></p>
                        </li>
                        <li>
                           <p><a href="creating-your-own-DBFS-store.html#GUID-034FE169-7B56-452F-92E7-2A7CC9236E7B" title="TBFS很简单，因为它的主要目的是作为教学和学习的例子。">TBFS内部</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB46229"></a><div class="props_rev_3"><a id="GUID-B9323C55-9154-4519-B925-A8B7A6DC2D8B" name="GUID-B9323C55-9154-4519-B925-A8B7A6DC2D8B"></a><h5 id="ADLOB-GUID-B9323C55-9154-4519-B925-A8B7A6DC2D8B" class="sect5">安装和设置</h5>
                     <div>
                        <p>您将需要某些文件来安装和设置DBFS TaBleFileSystem Store Provider（“tbfs”）。</p>
                        <p>TBFS由以下SQL文件组成：</p>
                        <p><code class="codeph">tbfs.sql</code>顶级驱动程序脚本</p>
                        <p><code class="codeph">tbl.sql</code>脚本创建测试用户，表空间，支持文件系统的表，等等。
                        </p>
                        <p><code class="codeph">spec.sql</code>是<code class="codeph">spec.sql</code>的SPI规范</p>
                        <p><code class="codeph">body.sql</code>是<code class="codeph">body.sql</code>的SPI实现</p>
                        <p><code class="codeph">capi.sql</code> DBFS寄存器/挂载脚本</p>
                        <p>要安装TBFS，只需在包含所有上述文件的目录中以<code class="codeph">SYSDBA</code>身份运行<code class="codeph">tbfs.sql</code> 。 <code class="codeph">tbfs.sql</code>将以正确的顺序加载其他SQL文件。
                        </p>
                        <p>忽略任何名称冲突，应加载所有SQL文件而不会出现任何编译错误。所有SQL文件也应加载而不会出现任何运行时错误，具体取决于“plsql_warnings”init.ora参数的值，您可能会看到各种无害的警告。</p>
                        <p>如果存在任何名称冲突（表空间名称TBFS，数据文件名称“tbfs.f”，用户名TBFS，包名称TBFS），则必须一致地更改各种SQL文件中的相应引用。</p>
                     </div>
                  </div><a id="ADLOB46230"></a><div class="props_rev_3"><a id="GUID-99EBB22D-9D7A-419E-9C97-5A53A3079308" name="GUID-99EBB22D-9D7A-419E-9C97-5A53A3079308"></a><h5 id="ADLOB-GUID-99EBB22D-9D7A-419E-9C97-5A53A3079308" class="sect5">TBFS使用</h5>
                     <div>
                        <p>一旦安装了DBFS的示例存储提供程序，即TaBleFileSystem存储提供程序（“tbfs”），就可以通过几种不同的方式添加或删除文件，并可以对TBFS进行其他更改。</p>
                        <p>作为用户<code class="codeph">dbfs_client</code>连接的dbfs_client将看到由RDBMS表（TBFS.TBFST）支持的简单，非分层的文件系统。
                        </p>
                        <p>可以通过SQL（即通过基础表上的DML），Unix实用程序（由<code class="codeph">dbfs_client</code> ）或通过PL / SQL（使用DBFS API）在此文件系统中添加或删除文件。
                        </p>
                        <p>通过任何访问方法对文件系统所做的更改将以事务一致的方式（即在提交/回滚边界）对所有其他访问方法可见。</p>
                     </div>
                  </div><a id="ADLOB46231"></a><div class="props_rev_3"><a id="GUID-034FE169-7B56-452F-92E7-2A7CC9236E7B" name="GUID-034FE169-7B56-452F-92E7-2A7CC9236E7B"></a><h5 id="ADLOB-GUID-034FE169-7B56-452F-92E7-2A7CC9236E7B" class="sect5">TBFS内部</h5>
                     <div>
                        <p>TBFS很简单，因为它的主要目的是作为教学和学习的例子。</p>
                        <p>但是，该实现显示了一条强大的，生产质量的自定义SPI的路径，可以插入到DBFS中，并将现有的关系数据公开为Unix文件系统。</p>
                        <p>TBFS进行了各种简化以保持简洁（但是，这些不应被视为DBFS或SPI的不可侵犯的限制）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>TBFS SPI包仅处理具有硬编码名称的单个表（TBFS.TBFST）。可以使用动态SQL和其他配置信息使单个SPI包支持多个表，每个表作为单独的文件系统（甚至将多个表中的数据统一到单个文件系统中）。</p>
                           </li>
                           <li>
                              <p>TBFS不支持文件系统层次结构;它强加了一个平面命名空间：一个由虚拟“/”根目录下的简单项名称标识的文件集合。实现目录层次结构要复杂得多，因为它要求商店提供商以一致的方式管理父/子关系。</p>
                              <p>此外，现有的关系数据（TBFS试图作为文件系统公开的数据类型）通常不具有形成自然目录/文件层次结构的行间关系。</p>
                           </li>
                           <li>
                              <p>由于TBFS仅支持平面命名空间，因此SPI中的大多数方法<code class="codeph">dbms_dbfs_content.unsupported_operation</code>实现，并且方法体引发了<code class="codeph">dbms_dbfs_content.unsupported_operation</code>异常。此异常也是您编写自定义SPI的良好起点。您可以从<code class="codeph">DBMS_DBFS_CONTENT_SPI</code>包中克隆的简单SPI骨架开始，将所有方法体默认为引发此异常的体，然后逐步填充更实际的实现。
                              </p>
                           </li>
                           <li>
                              <p>TBFS底层的表接近于最简单的结构（键/名称列和LOB列）。这意味着必须动态生成DBFS和<code class="codeph">dbfs_client</code>使用或期望的各种属性（TBFS实现显示了如何对<code class="codeph">std:guid</code>属性执行此操作）。
                              </p>
                              <p>其他属性（例如Unix风格的时间戳）根本没有实现。这仍然允许实现令人惊讶的功能文件系统，但是当您编写自己的自定义SPI时，您可以通过扩展其基础表的结构以根据需要包含其他列，或者通过使用来轻松地合并对其他DBFS属性的支持。现有表中的现有列，以提供这些DBFS属性的值。</p>
                           </li>
                           <li>
                              <p>TBFS没有实现重命名/移动方法;添加对此的支持（ <code class="codeph">renamePath</code>方法中的合适的<code class="codeph">UPDATE</code>语句）留给用户练习。
                              </p>
                           </li>
                           <li>
                              <p>TBFS示例在多个位置使用字符串“tbfs”（表空间，数据文件，用户，包甚至文件系统名称）。“tbfs”的所有这些用法属于不同的名称空间 - 标识哪个名称空间对应于字符串的特定出现。这些示例中的“tbfs”也是一个很好的学习练习，可以确保DBFS概念在您的脑海中清晰可见。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB46232"></a><div class="props_rev_3"><a id="GUID-E2E72747-14A0-4334-A3AE-AC4EEDE9FD45" name="GUID-E2E72747-14A0-4334-A3AE-AC4EEDE9FD45"></a><h4 id="ADLOB-GUID-E2E72747-14A0-4334-A3AE-AC4EEDE9FD45" class="sect4">TBFS.SQL</h4>
                  <div>
                     <p>TBFS.SQL脚本是顶级驱动程序脚本。</p>
                     <p>TBFS.SQL脚本：</p><pre class="oac_no_warn" dir="ltr">设置回声; @tbl @spec @body @capi quit;</pre></div>
               </div><a id="ADLOB46233"></a><div class="props_rev_3"><a id="GUID-2ADF05F4-1FB5-4B18-9B4B-06B344B806E9" name="GUID-2ADF05F4-1FB5-4B18-9B4B-06B344B806E9"></a><h4 id="ADLOB-GUID-2ADF05F4-1FB5-4B18-9B4B-06B344B806E9" class="sect4">TBL.SQL</h4>
                  <div>
                     <p>TBL.SQL脚本创建测试用户，表空间，支持文件系统的表等等。</p>
                     <p>TBL.SQL脚本：</p><pre class="oac_no_warn" dir="ltr">connect / as sysdba create tablespace tbfs datafile'tbfs.f'size 100m在extent管理本地段空间管理auto上重用autoextend;创建由tbfs标识的用户tbfs; alter user tbfs default tablespace tbfs; grant connect，resource，dbfs_role to tbfs; connect tbfs / tbfs; drop table tbfst;清洗回收箱; create table tbfst（key varchar2（256）primary key check（instr（key，'/'）= 0），data blob）tablespace tbfs lob（data）store as securefile（tablespace tbfs）;将tbfst上的select赋予dbfs_role;将tbfst上的insert插入dbfs_role;将tbfst上的delete授予dbfs_role;将tbfst上的更新授予dbfs_role;</pre></div>
               </div><a id="ADLOB46234"></a><div class="props_rev_3"><a id="GUID-6EBE7625-C688-4346-A4C6-891772A8D821" name="GUID-6EBE7625-C688-4346-A4C6-891772A8D821"></a><h4 id="ADLOB-GUID-6EBE7625-C688-4346-A4C6-891772A8D821" class="sect4">spec.sql</h4>
                  <div>
                     <p><code class="codeph">spec.sql</code>脚本提供<code class="codeph">spec.sql</code>的SPI规范。
                     </p>
                     <p><code class="codeph">spec.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">connect / as sysdba;创建或替换包tbfs authid current_user为/ * *查找存储功能（请参阅dbms_dbfs_content.feature_XXX）。查找*商店ID。* *商店ID标识特定于提供商的商店，跨*注册和安装，但独立于商店*内容的更改。* *即对商店表的更改应反映在*商店ID中，但重新初始化相同的商店表应该*保留商店ID。 * *提供商还应根据标准* &lt;abc&gt;命名约定（对于&lt;major&gt;，&lt;minor&gt;和&lt;patch&gt; *）返回“版本”（特定于*提供程序包或单个存储）组件）。* * / function getFeatures（varchar2中的store_name）返回整数;函数getStoreId（varchar2中的store_name）返回数字; function getVersion（varchar2中的store_name）返回varchar2; / * *查找路径名（store_name，std_guid）或（store_mount，* std_guid）元组。* *如果在底层商店中找到基础“std_guid”，则*此函数返回商店限定的路径名。* *如果“std_guid”未知，则返回“null”值。客户*应该在适当的时候处理这个问题。* * / function getPathByStoreId（varchar2中的store_name，整数中的guid）return varchar2; / * * DBFS SPI：空间使用情况。* *客户端可以通过*“spaceUsage（）”方法查询文件系统空间使用情况统计信息。提供商应该为他们的商店支持这种*方法（并尽最大努力确定空间使用量 - 尤其是如果商店包含多个*表/索引/ lobs等）。* *“blksize”是保存*存储的自然表空间块大小 - 如果使用具有不同块大小的多个表空间，则任何有效的块大小都是可接受的。* *“tbytes”是存储的总大小（以字节为单位），“fbytes”是*存储的空闲/未使用大小（以字节为单位）。这些值是在构成商店的所有段上计算的。* *“nfile”，“ndir”，“nlink”和“nref”计算*商店中*当前可用文件，目录，链接和引用的数量。* *由于数据库对象是可动态增长的，因此估算“自由”空间和“已用”空间之间的划分并不容易。* * / procedure spaceUsage（varchar2中的store_name，整数的blksize，整数的整数输出，整数的整数输出，整数的nfile输出，整数的nlink输出，整数的nlink输出，nref输出整数）; / * * DBFS SPI：关于路径名的说明。* * SPI中使用的所有路径名都是存储限定的，即表单的2元组*（store_name，pathname）（其中路径名在商店名称空间内以*为根）。* * *支持基于contentID的访问的商店/提供商（请参阅*“feature_content_id”）也支持*不基于路径名的寻址形式。项目由显式商店*名称，“空”路径名以及可能指定为*参数的contentID或通过“opt_content_id”属性标识。* *并非所有操作都支持基于contentID的访问，*应用程序应仅依赖于最简单的创建/删除*功能。* * / / * * DBFS SPI：创建操作* * SPI必须允许DBFS API创建目录，文件，链接，*和引用元素（受商店功能支持）。* * *所有创建方法都需要有效的路径名（请参阅下面的基于contentID的访问的特殊豁免），并且可以*可选地指定在创建时与路径名*相关联的属性。客户端也可以在创建完成后获取* item属性（以便*自动生成的属性（例如“std_creation_time”）*可立即供客户端使用（获取的确切属性集*由各种控制） *“prop_flags”中的“prop_xxx”位掩码。* * *链接和引用需要一个额外的路径名来将*与主路径名相关联。* *文件路径名可以选择指定用于*最初填充基础文件内容的BLOB值（提供的BLOB *可以是任何有效的lob：临时或永久）。在创建时，*底层lob返回给客户端（如果在“prop_flags”中指定了“prop_data”）。* *非目录路径名要求首先创建其父目录。可以递归地*创建目录路径名本身（即，可以在一次调用中创建通向目录*的路径名层次结构）。* * *尝试创建已存在的路径是一个错误;一个*异常是“软删除”的路径名（请参阅下面的*删除操作）---在这些情况下，*隐式清除软删除的项目，并尝试创建新项目。* * *支持基于contentID的访问的商店/提供商接受*显式商店名称和“空”路径来创建新元素。*为此元素生成的contentID可通过*“opt_content_id”属性获得（基于contentID的创建自动*暗示“prop_flags”中的“prop_opt”）。* *新创建的元素也可能具有内部生成的* pathname（如果不支持“feature_lazy_path”），并且此路径*可通过“std_canonical_path”属性获得。* *只有文件元素是基于contentID的访问的候选者。* * / procedure createFile（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob中的内容，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; procedure createLink（varchar2中的store_name，varchar2中的srcPath，varchar2中的dstPath，nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; procedure createReference（varchar2中的store_name，varchar2中的srcPath，varchar2中的dstPath，nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; procedure createDirectory（varchar2中的store_name，varchar2中的路径，out nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，整数中的recurse，dbms_dbfs_content_context_t中的ctx）; / * * DBFS SPI：删除操作* * SPI必须允许DBFS API删除目录，文件，链接，*和引用元素（受商店功能支持）。* * *默认情况下，删除是“永久性的”（在事务提交时删除*成功删除的项目），但商店可能*也支持“软删除”功能。如果客户请求，商店会保留*软删除的商品（但通常不会在正常商品或搜索中显示）。* *软删除的项目可以“恢复”或明确清除。* * *可以递归删除目录路径名（即，可以在一次调用中删除目录下的路径名*层次结构）。*非递归删除只能在空*目录上执行。递归软删除将软删除应用于*所有要删除的项目。* * *可以通过restore和purge *方法恢复或清除单个路径名（或*目录下的所有软删除路径名）。* * *支持过滤的提供商可以使用提供商“过滤器”来识别要删除的项目的子集---这对于*批量操作（deleteDirectory，restoreAll，purgeAll）最有意义，但是所有*与删除相关的操作接受“过滤器”参数。* * *支持基于contentID的访问的商店/提供商也可以*允许通过指定其contentID来删除文件项。 * * / procedure deleteFile（varchar2中的store_name，varchar2中的路径，varchar2中的filter，整数中的soft_delete，dbms_dbfs_content_context_t中的ctx）; procedure deleteContent（varchar2中的store_name，raw中的contentID，varchar2中的filter，整数中的soft_delete，dbms_dbfs_content_context_t中的ctx）; procedure deleteDirectory（varchar2中的store_name，varchar2中的路径，varchar2中的filter，整数中的soft_delete，整数中的recurse，dbms_dbfs_content_context_t中的ctx）; procedure restorePath（varchar2中的store_name，varchar2中的路径，varchar2中的filter，dbms_dbfs_content_context_t中的ctx）; procedure purgePath（varchar2中的store_name，varchar2中的路径，varchar2中的filter，dbms_dbfs_content_context_t中的ctx）; procedure restoreAll（varchar2中的store_name，varchar2中的路径，varchar2中的filter，dbms_dbfs_content_context_t中的ctx）; procedure purgeAll（varchar2中的store_name，varchar2中的路径，varchar2中的filter，dbms_dbfs_content_context_t中的ctx）; / * * DBFS SPI：路径获取/放置操作。* *可以访问现有路径项（用于查询或更新），并通过简单的get / put方法进行修改。* *所有路径名允许*读取/修改其元数据（即属性）。完成调用后，客户端也可以请求*（通过“prop_flags”）获取特定属性。* *文件路径名允许*读取/修改其数据（即内容）。在完成调用后，客户端可以请求*（通过“prop_flags”中的“prop_data”位标记）可用于继续数据访问的新BLOB定位符*。* *文件也可以在不使用BLOB定位器的情况下读取/写入，*显式指定逻辑偏移量/缓冲量和*适当大小的缓冲区。* * *更新访问必须指定“forUpdate”标志。如果指定“deref”标志，则可以通过商店*（取决于功能支持）隐式地和内部地引用对链接*路径名的访问 - 但是，这是危险的，因为符号链接*不总是可解析的。* * *读取方法（即“getPath”，其中“forUpdate”为“false”*也接受有效的“asof”时间戳参数，该参数可由商店用于实现“截至”样式闪回查询。变异*版本的“getPath”和“putPath”方法不支持as-of操作模式。* * *“getPathNowait”表示“forUpdate”，如果实现（请参阅*“feature_nowait”），则允许提供程序返回异常*（ORA-54）而不是等待行锁。* * / procedure getPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob，item_type out整数，prop_flags整数，forUpdate整数，deref整数，ctx，dbms_dbfs_content_context_t）;过程getPathNowait（varchar2中的store_name，varchar2中的路径，out nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob的内容，item_type out整数，整数的prop_flags，整数的deref，dbms_dbfs_content_context_t中的ctx）; procedure getPath（varchar2中的store_name，varchar2中的路径，out nocopy中的属性dbms_dbfs_content_properties_t，输出数量，偏移量，缓冲输出nocopy raw，prop_flags输入整数，ctx输入dbms_dbfs_content_context_t）;过程getPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，输出数量，数量偏移量，缓冲输出nocopy dbms_dbfs_content_raw_t，prop_flags输入整数，ctx输入dbms_dbfs_content_context_t）; procedure putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob中的内容，item_type out整数，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; procedure putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，数量的数量，数量的偏移量，raw中的缓冲区，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; procedure putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，写出的数字，数量的偏移量，dbms_dbfs_content_raw_t中的缓冲区，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）; / * * DBFS SPI：重命名/移动操作。* *可以重命名或移动路径名，可能跨目录*层次结构和挂载点，但在同一存储中。* * *以前可通过“oldPath”访问的非目录路径名*被重命名为随后可通过“newPath”访问的单个项目; *假设“newPath”尚不存在。* *如果“newPath”存在且不是目录，则重命名隐式*会在重命名“oldPath”之前删除现有项目。如果“newPath”*存在且是目录，则“oldPath”将移动到target *目录中。* * *以前可通过“oldPath”访问的目录路径名*通过将目录及其所有子项移动到*“newPath”（如果它尚不存在）或作为*“newPath”的子项（如果它存在且是一个目录）。* * *支持基于contentID的访问和lazy * pathname绑定的商店/提供商也支持*将现有“contentID”与新“路径”相关联的“setPath”方法。* * / procedure renamePath（varchar2中的store_name，varchar2中的oldPath，varchar2中的newPath，nocopy中的属性dbms_dbfs_content_properties_t，dbms_dbfs_content_context_t中的ctx）; procedure setPath（varchar2中的store_name，raw中的contentID，varchar2中的path，out nocopy中的属性dbms_dbfs_content_properties_t，dbms_dbfs_content_context_t中的ctx）; / * * DBFS SPI：目录导航和搜索。* * DBFS API可以列出或搜索目录*路径名的内容，可选地递归到子目录中，可选*查看软删除的项目，可选地使用闪回“截至”a *提供的时间戳，并可选择过滤项目进/出在*商店内基于列表/搜索谓词。* * /函数列表（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的recurse，dbms_dbfs_content_context_t中的ctx）返回dbms_dbfs_content_list_items_t pipelined;函数搜索（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的recurse，dbms_dbfs_content_context_t中的ctx）返回dbms_dbfs_content_list_items_t pipelined; / * * DBFS SPI：锁定操作。* * DBFS API的客户端可以将用户级锁应用于任何有效的*路径名（受商店功能支持），将lock *与用户数据相关联，然后解锁这些路径名。* *锁定项目的状态可通过各种可选*属性获得（请参阅上面的“opt_lock *”）。* * *商店负责（假设它支持*用户定义的锁定检查）以确保以一致的方式执行锁定/解锁操作*。* * / procedure lockPath（varchar2中的store_name，varchar2中的路径，整数中的lock_type，varchar2中的lock_data，dbms_dbfs_content_context_t中的ctx）; procedure unlockPath（varchar2中的store_name，varchar2中的路径，dbms_dbfs_content_context_t中的ctx）; / * * DBFS SPI：访问检查。* *检查给定的路径名（store_name，path，pathtype）是否可以通过“principal”操作（参见各种*“dbms_dbfs_content.op_xxx”操作码）。* *这是DBFS API的便利功能; *支持访问控制的商店仍在内部执行这些检查以确保安全性。* * / function checkAccess（varchar2中的store_name，varchar2中的路径，整数中的pathtype，varchar2中的操作，varchar2中的principal）返回整数;结束; /显示错误;为sys.tbfs创建或替换公共同义词tbfs;将tbfs上的执行权限授予dbfs_role;</pre></div>
               </div><a id="ADLOB46235"></a><div class="props_rev_3"><a id="GUID-BEE83BB9-C2FE-448B-AF91-5AC9392E13C8" name="GUID-BEE83BB9-C2FE-448B-AF91-5AC9392E13C8"></a><h4 id="ADLOB-GUID-BEE83BB9-C2FE-448B-AF91-5AC9392E13C8" class="sect4">body.sql</h4>
                  <div>
                     <p><code class="codeph">body.sql</code>脚本提供了<code class="codeph">body.sql</code>的SPI实现。
                     </p>
                     <p><code class="codeph">body.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">connect / as sysdba;将包体tbfs创建或替换为/ * * Lookup存储功能（请参阅dbms_dbfs_content.feature_XXX）。查找*商店ID。* *商店ID标识特定于提供商的商店，跨*注册和安装，但独立于商店*内容的更改。* *即对商店表的更改应反映在*商店ID中，但重新初始化相同的商店表应该*保留商店ID。 * *提供商还应根据标准* &lt;abc&gt;命名约定（对于&lt;major&gt;，&lt;minor&gt;和&lt;patch&gt; *）返回“版本”（特定于*提供程序包或单个存储）组件）。* * / function getFeatures（varchar2中的store_name）返回整数是start return dbms_dbfs_content.feature_locator;结束;函数getStoreId（varchar2中的store_name）返回的数字是start return 1;结束;函数getVersion（varchar2中的store_name）返回varchar2开始返回'1.0.0';结束; / * *查找路径名（store_name，std_guid）或（store_mount，* std_guid）元组。* *如果在底层商店中找到基础“std_guid”，则*此函数返回商店限定的路径名。* *如果“std_guid”未知，则返回“null”值。客户*应该在适当的时候处理这个问题。* * / function getPathByStoreId（store_name在varchar2中，guid在整数中）return varchar2 is begin raise dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：空间使用情况。* *客户端可以通过*“spaceUsage（）”方法查询文件系统空间使用情况统计信息。提供商应该为他们的商店支持这种*方法（并尽最大努力确定空间使用量 - 尤其是如果商店包含多个*表/索引/ lobs等）。* *“blksize”是保存*存储的自然表空间块大小 - 如果使用具有不同块大小的多个表空间，则任何有效的块大小都是可接受的。* *“tbytes”是存储的总大小（以字节为单位），“fbytes”是*存储的空闲/未使用大小（以字节为单位）。这些值是在构成商店的所有段上计算的。* *“nfile”，“ndir”，“nlink”和“nref”计算*商店中*当前可用文件，目录，链接和引用的数量。* *由于数据库对象是可动态增长的，因此估算“自由”空间和“已用”空间之间的划分并不容易。* * / procedure spaceUsage（varchar2中的store_name，整数输出，整数输出，整数输出，整数输出nfile，nd输出整数，nlink输出整数，nref输出整数）是nblks数;从tbfs.tbfst开始从nfile中选择count（*）; ndir：= 0; nlink：= 0; nref：= 0;从user_segments中选择sum（bytes）到tbytes;从user_segments中选择sum（blocks）到nblks; blksize：= tbytes / nblks; fbytes：= 0; / *根据需要改变* / end; / * * DBFS SPI：关于路径名的说明。* * SPI中使用的所有路径名都是存储限定的，即表单的2元组*（store_name，pathname）（其中路径名在商店名称空间内以*为根）。* * *支持基于contentID的访问的商店/提供商（请参阅*“feature_content_id”）也支持*不基于路径名的寻址形式。项目由显式商店*名称，“空”路径名以及可能指定为*参数的contentID或通过“opt_content_id”属性标识。* *并非所有操作都支持基于contentID的访问，*应用程序应仅依赖于最简单的创建/删除*功能。* * / / * * DBFS SPI：创建操作* * SPI必须允许DBFS API创建目录，文件，链接，*和引用元素（受商店功能支持）。* * *所有创建方法都需要有效的路径名（请参阅下面的基于contentID的访问的特殊豁免），并且可以*可选地指定在创建时与路径名*相关联的属性。客户端也可以在创建完成后获取* item属性（以便*自动生成的属性（例如“std_creation_time”）*可立即供客户端使用（获取的确切属性集*由各种控制） *“prop_flags”中的“prop_xxx”位掩码。* * *链接和引用需要一个额外的路径名来将*与主路径名相关联。* *文件路径名可以选择指定用于*最初填充基础文件内容的BLOB值（提供的BLOB *可以是任何有效的lob：临时或永久）。在创建时，*底层lob返回给客户端（如果在“prop_flags”中指定了“prop_data”）。* *非目录路径名要求首先创建其父目录。可以递归地*创建目录路径名本身（即，可以在一次调用中创建通向目录*的路径名层次结构）。* * *尝试创建已存在的路径是一个错误;一个*异常是“软删除”的路径名（请参阅下面的*删除操作）---在这些情况下，*隐式清除软删除的项目，并尝试创建新项目。* * *支持基于contentID的访问的商店/提供商接受*显式商店名称和“空”路径来创建新元素。*为此元素生成的contentID可通过*“opt_content_id”属性获得（基于contentID的创建自动*暗示“prop_flags”中的“prop_opt”）。* *新创建的元素也可能具有内部生成的* pathname（如果不支持“feature_lazy_path”），并且此路径*可通过“std_canonical_path”属性获得。* *只有文件元素是基于contentID的访问的候选者。* * / procedure createFile（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob中的内容，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）是guid编号; start if（path ='/'）然后引发dbms_dbfs_content.invalid_path;万一;如果content为null则则content：= empty_blob（）;万一;开始插入tbfs.tbfst值（substr（path，2），content）将数据返回到内容中; dup_val_on_index然后引发dbms_dbfs_content.path_exists;结束;从双重选择ora_hash（path）到guid; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：length'，to_char（dbms_lob.getlength（content）），dbms_types。TYPECODE_NUMBER），dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;结束;过程createLink（varchar2中的store_name，varchar2中的srcPath，varchar2中的dstPath，nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）start raise dbms_dbfs_content.unsupported_operation;结束;过程createReference（varchar2中的store_name，varchar2中的srcPath，varchar2中的dstPath，out nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）start raise dbms_dbfs_content.unsupported_operation;结束;过程createDirectory（varchar2中的store_name，varchar2中的路径，out nocopy中的属性dbms_dbfs_content_properties_t，整数中的prop_flags，整数中的递归，dbms_dbfs_content_context_t中的ctx）start raise dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：删除操作* * SPI必须允许DBFS API删除目录，文件，链接，*和引用元素（受商店功能支持）。* * *默认情况下，删除是“永久性的”（在事务提交时删除*成功删除的项目），但商店可能*也支持“软删除”功能。如果客户请求，商店会保留*软删除的商品（但通常不会在正常商品或搜索中显示）。* *软删除的项目可以“恢复”或明确清除。* * *可以递归删除目录路径名（即，可以在一次调用中删除目录下的路径名*层次结构）。*非递归删除只能在空*目录上执行。递归软删除将软删除应用于*所有要删除的项目。* * *可以通过restore和purge *方法恢复或清除单个路径名（或*目录下的所有软删除路径名）。* * *支持过滤的提供商可以使用提供商“过滤器”来识别要删除的项目的子集---这对于*批量操作（deleteDirectory，restoreAll，purgeAll）最有意义，但是所有*与删除相关的操作接受“过滤器”参数。* * *支持基于contentID的访问的商店/提供商也可以*允许通过指定其contentID来删除文件项。 * * / procedure deleteFile（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的soft_delete，dbms_dbfs_content_context_t中的ctx）是if（path ='/'）然后引发dbms_dbfs_content.invalid_path;万一; if（（soft_delete &lt;&gt; 0）或（filter不为null））然后引发dbms_dbfs_content.unsupported_operation;万一;从tbfs.tbfst中删除其中（'/'|| t.key）= path;如果sql％rowcount &lt;&gt; 1则引发dbms_dbfs_content.invalid_path;万一;结束;过程deleteContent（varchar2中的store_name，raw中的contentID，varchar2中的filter，整数中的soft_delete，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程deleteDirectory（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的soft_delete，整数中的recurse，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程restorePath（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程purgePath（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程restoreAll（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程purgeAll（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：路径获取/放置操作。* *可以访问现有路径项（用于查询或更新），并通过简单的get / put方法进行修改。* *所有路径名允许*读取/修改其元数据（即属性）。完成调用后，客户端也可以请求*（通过“prop_flags”）获取特定属性。* *文件路径名允许*读取/修改其数据（即内容）。在完成调用后，客户端可以请求*（通过“prop_flags”中的“prop_data”位标记）可用于继续数据访问的新BLOB定位符*。* *文件也可以在不使用BLOB定位器的情况下读取/写入，*显式指定逻辑偏移量/缓冲量和*适当大小的缓冲区。* * *更新访问必须指定“forUpdate”标志。如果指定“deref”标志，则可以通过商店*（取决于功能支持）隐式地和内部地引用对链接*路径名的访问 - 但是，这是危险的，因为符号链接*不总是可解析的。* * *读取方法（即“getPath”，其中“forUpdate”为“false”*也接受有效的“asof”时间戳参数，该参数可由商店用于实现“截至”样式闪回查询。变异*版本的“getPath”和“putPath”方法不支持as-of操作模式。* * *“getPathNowait”表示“forUpdate”，如果实现（请参阅*“feature_nowait”），则允许提供程序返回异常*（ORA-54）而不是等待行锁。* * / procedure getPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，内容输出nocopy blob，item_type输出整数，prop_flags输入整数，forUpdate输入整数，deref输入整数，ctx输入dbms_dbfs_content_context_t）是guid数字; start if（deref &lt;&gt; 0）然后引发dbms_dbfs_content.unsupported_operation;万一;从双重选择ora_hash（path）到guid; if（path ='/'）然后if（forUpdate &lt;&gt; 0）然后引发dbms_dbfs_content.unsupported_operation;万一; content：= null; item_type：= dbms_dbfs_content.type_directory; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;返回;万一; start if（forUpdate &lt;&gt; 0）然后从tbfs.tbfst中选择t.data到其中的内容，其中（'/'|| t.key）=更新路径;否则从tbfs.tbfst中选择t.data到其中的内容（'/'|| t.key）= path;万一;当no_data_found然后引发dbms_dbfs_content.invalid_path;结束; item_type：= dbms_dbfs_content.type_file; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：length'，to_char（dbms_lob.getlength（content）），dbms_types。TYPECODE_NUMBER），dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;结束;过程getPathNowait（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，内容输出nocopy blob，item_type out整数，prop_flags整数，deref整数，ctx in dbms_dbfs_content_context_t）start raise dbms_dbfs_content.unsupported_operation;结束;过程getPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，输出数量，数量偏移量，nocopy raw缓冲区，整数中prop_flags，dbms_dbfs_content_context_t中为ctx）是内容blob;导号; start if（path ='/'）然后引发dbms_dbfs_content.unsupported_operation;万一;开始从tbfs.tbfst中选择t.data为内容，其中（'/'|| t.key）= path;当no_data_found然后引发dbms_dbfs_content.invalid_path;结束;从双重选择ora_hash（path）到guid; dbms_lob.read（content，amount，offset，buffer）; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：length'，to_char（dbms_lob.getlength（content）），dbms_types。TYPECODE_NUMBER），dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;结束;过程getPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，输出数量的数量，数量的偏移量，缓冲区nocopy dbms_dbfs_content_raw_t，整数的prop_flags，dbms_dbfs_content_context_t中的ctx）start raise dbms_dbfs_content.unsupported_operation;结束;过程putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，nocopy blob中的内容，item_type out整数，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）是guid编号; start if（path ='/'）然后引发dbms_dbfs_content.unsupported_operation;万一;如果content为null则则content：= empty_blob（）;万一; update tbfs.tbfst t set t.data = content where（'/'|| t.key）=将t.data返回到内容的路径;如果sql％rowcount &lt;&gt; 1则引发dbms_dbfs_content.invalid_path;万一;从双重选择ora_hash（path）到guid; item_type：= dbms_dbfs_content.type_file; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：length'，to_char（dbms_lob.getlength（content）），dbms_types。TYPECODE_NUMBER），dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;结束; procedure putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，数量的数量，数量的偏移量，raw中的缓冲区，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）是内容blob;导号; start if（path ='/'）然后引发dbms_dbfs_content.unsupported_operation;万一;开始从tbfs.tbfst中选择t.data为内容，其中（'/'|| t.key）=更新路径;当no_data_found然后引发dbms_dbfs_content.invalid_path;结束;从双重选择ora_hash（path）到guid; dbms_lob.write（content，amount，offset，buffer）; properties：= dbms_dbfs_content_properties_t（dbms_dbfs_content_property_t（'std：length'，to_char（dbms_lob.getlength（content）），dbms_types。TYPECODE_NUMBER），dbms_dbfs_content_property_t（'std：guid'，to_char（guid），dbms_types。TYPECODE_NUMBER））;结束;过程putPath（varchar2中的store_name，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，写出的数字，数量上的偏移量，dbms_dbfs_content_raw_t中的缓冲区，整数中的prop_flags，dbms_dbfs_content_context_t中的ctx）start raise dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：重命名/移动操作。* *可以重命名或移动路径名，可能跨目录*层次结构和挂载点，但在同一存储中。* * *以前可通过“oldPath”访问的非目录路径名*被重命名为随后可通过“newPath”访问的单个项目; *假设“newPath”尚不存在。* *如果“newPath”存在且不是目录，则重命名隐式*会在重命名“oldPath”之前删除现有项目。如果“newPath”*存在且是目录，则“oldPath”将移动到target *目录中。* * *以前可通过“oldPath”访问的目录路径名*通过将目录及其所有子项移动到*“newPath”（如果它尚不存在）或作为*“newPath”的子项（如果它存在且是一个目录）。* * *支持基于contentID的访问和lazy * pathname绑定的商店/提供商也支持*将现有“contentID”与新“路径”相关联的“setPath”方法。* * / procedure renamePath（varchar2中的store_name，varchar2中的oldPath，varchar2中的newPath，nocopy中的属性dbms_dbfs_content_properties_t，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程setPath（varchar2中的store_name，raw中的contentID，varchar2中的路径，nocopy中的属性dbms_dbfs_content_properties_t，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：目录导航和搜索。* * DBFS API可以列出或搜索目录*路径名的内容，可选地递归到子目录中，可选*查看软删除的项目，可选地使用闪回“截至”a *提供的时间戳，并可选择过滤项目进/出在*商店内基于列表/搜索谓词。* * /函数列表（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的递归，dbms_dbfs_content_context_t中的ctx）返回dbms_dbfs_content_list_items_t pipelined是为rws in（select * from tbfs.tbfst）循环管道行开始的（dbms_dbfs_content_list_item_t（'/ '|| rws.key，rws.key，dbms_dbfs_content.type_file））;结束循环;结束;函数搜索（varchar2中的store_name，varchar2中的路径，varchar2中的过滤器，整数中的递归，dbms_dbfs_content_context_t中的ctx）返回dbms_dbfs_content_list_items_t pipelined is begin raise dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：锁定操作。* * DBFS API的客户端可以将用户级锁应用于任何有效的*路径名（受商店功能支持），将lock *与用户数据相关联，然后解锁这些路径名。* *锁定项目的状态可通过各种可选*属性获得（请参阅上面的“opt_lock *”）。* * *商店负责（假设它支持*用户定义的锁定检查）以确保以一致的方式执行锁定/解锁操作*。* * / procedure lockPath（varchar2中的store_name，varchar2中的path，整数中的lock_type，varchar2中的lock_data，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束;过程unlockPath（varchar2中的store_name，varchar2中的路径，dbms_dbfs_content_context_t中的ctx）开始引发dbms_dbfs_content.unsupported_operation;结束; / * * DBFS SPI：访问检查。* *检查给定的路径名（store_name，path，pathtype）是否可以通过“principal”操作（参见各种*“dbms_dbfs_content.op_xxx”操作码）。* *这是DBFS API的便利功能; *支持访问控制的商店仍在内部执行这些检查以确保安全性。* * / function checkAccess（varchar2中的store_name，varchar2中的路径，整数中的pathtype，varchar2中的操作，varchar2中的principal）返回整数，start return 1;结束;结束; /显示错误;</pre></div>
               </div><a id="ADLOB46236"></a><div class="props_rev_3"><a id="GUID-33C05C50-B474-47F8-AE49-242837A24D3F" name="GUID-33C05C50-B474-47F8-AE49-242837A24D3F"></a><h4 id="ADLOB-GUID-33C05C50-B474-47F8-AE49-242837A24D3F" class="sect4">capi.sql</h4>
                  <div>
                     <p><code class="codeph">capi.sql</code>脚本注册并安装DBFS。</p>
                     <p><code class="codeph">capi.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">connect tbfs / tbfs; exec dbms_dbfs_content.registerStore（'MY_TBFS'，'table'，'TBFS'）; exec dbms_dbfs_content.mountStore（'MY_TBFS'，singleton =&gt; true）;承诺;</pre></div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>