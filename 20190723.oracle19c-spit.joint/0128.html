<html id="09634.getting-started-with-oracle-data-guard.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The information in this section describes how to get started using Oracle Data Guard."></meta>
      <meta name="description" content="The information in this section describes how to get started using Oracle Data Guard."></meta>
      <title>Oracle Data Guard入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="The information in this section describes how to get started using Oracle Data Guard."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-to-oracle-data-guard-concepts.html" title="Previous" type="text/html"></link>
      <link rel="next" href="creating-oracle-data-guard-physical-standby.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-oracle-data-guard-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="creating-oracle-data-guard-physical-standby.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Data Guard入门</li>
            </ol>
            <a id="GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84" name="GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84"></a><a id="SBYDB00100"></a>
            
            <h2 id="SBYDB-GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84" class="sect2"><span class="enumeration_chapter">2</span> Oracle Data Guard入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节中的信息介绍了如何开始使用Oracle Data Guard。</p>
               <p>请参阅以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" title="备用数据库是Oracle生产数据库的事务一致性副本，最初是从主数据库的备份副本创建的。">备用数据库类型</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" title="Oracle Data Guard提供了几个可用于配置，实施和管理Oracle Data Guard配置的接口。">用于管理Oracle Data Guard配置的用户界面</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" title="使用Oracle Data Guard需要某些硬件和软件先决条件。">Oracle Data Guard操作先决条件</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" title="各种备用数据库的目录结构很重要，因为它确定备用数据文件，归档重做日志文件和备用重做日志文件的路径名。">备用数据库目录结构注意事项</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" title="在数据库主动访问文件时，您可以将在线数据文件的位置从一个物理文件移动到另一个物理文件。">移动在线数据文件的位置</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB00110"></a><div class="props_rev_3"><a id="GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" name="GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00"></a><h3 id="SBYDB-GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" class="sect3"><span class="enumeration_section">2.1</span>备用数据库类型</h3>
               <div>
                  <p><span class="bold">备用数据库</span>是Oracle生产数据库的事务一致性副本，最初是从主数据库的备份副本创建的。
                  </p>
                  <p>创建并配置备用数据库后，Oracle Data Guard会通过将主数据库重做数据传输到备用系统来自动维护备用数据库，备用系统将重做数据应用于备用数据库。</p>
                  <p>备用数据库可以是以下类型之一：物理备用数据库，逻辑备用数据库或快照备用数据库。如果需要，物理或逻辑备用数据库可以承担主数据库的角色并接管生产处理。Oracle Data Guard配置可以包括这些类型的备用数据库的任意组合。</p>
               </div><a id="SBYDB5010"></a><a id="SBYDB00101"></a><div class="props_rev_3"><a id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E" name="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E"></a><h4 id="SBYDB-GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E" class="sect4"><span class="enumeration_section">2.1.1</span>物理备用数据库</h4>
                  <div>
                     <p>物理备用数据库是主数据库的精确的块到块副本。</p>
                     <p>通过名为Redo Apply的进程将物理备用数据库维护为精确副本，其中使用数据库恢复机制将从主数据库接收的重做数据连续应用于物理备用数据库。</p>
                     <p>可以打开物理备用数据库以进行只读访问，并用于从主数据库卸载查询。 <a id="d5764e300" class="indexterm-anchor"></a><a id="d5764e304" class="indexterm-anchor"></a> 如果已购买Oracle Active Data Guard选项的许可证，则在物理备用数据库打开时，Redo Apply可以处于活动状态，从而允许查询返回与从主数据库返回的结果相同的结果。此功能称为实时查询功能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E__GUID-F8AFEB70-E11F-4136-A65D-B527B9034E87">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-D5FB88EC-799D-40E7-80E1-19474E3167E4" title="可以打开物理备用数据库以进行只读访问，并用于从主数据库卸载查询。">打开物理备用数据库</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关Oracle Active Data Guard的更多信息，请参见<a href="../dblic/Licensing-Information.html#DBLIC-GUID-AB56CEE3-955E-4E56-8B44-6075E889C283" target="_blank"><span class="italic">Oracle数据库许可信息</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E__GUID-90F6868D-BC71-481F-B261-E6F527AC3E4B">物理备用数据库的好处</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>物理备用数据库具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>灾难恢复和高可用性</p>
                              <p>物理备用数据库是一种强大而高效的灾难恢复和高可用性解决方案。易于管理的切换和故障切换功能可以轻松地在主数据库和物理备用数据库之间进行角色转换，从而最大限度地减少主数据库因计划内和计划外中断而停机的时间。</p>
                           </li>
                           <li>
                              <p>数据保护</p>
                              <p>即使面对无法预料的灾难，物理备用数据库也可以防止数据丢失。物理备用数据库支持所有数据类型，以及主数据库可以支持的所有DDL和DML操作。它还提供了防止数据损坏和用户错误的安全措施。主数据库上的存储级别物理损坏不会传播到备用数据库。同样，可以轻松解决原本会导致数据丢失的逻辑损坏或用户错误。</p>
                           </li>
                           <li>
                              <p>减少主数据库工作量</p>
                              <p>Oracle Recovery Manager（RMAN）可以使用物理备用数据库从主数据库卸载备份，从而节省宝贵的CPU和I / O周期。</p>
                              <p>在Redo Apply处于活动状态时，也可以查询物理备用数据库，从而允许将查询从主服务器卸载到物理备用数据库，从而进一步减少主要工作负载。</p>
                           </li>
                           <li>
                              <p>性能</p>
                              <p>物理备用数据库使用的重做应用技术是通过在主数据库上进行更改来保持备用数据库更新的最有效机制，因为它使用绕过所有SQL级代码层的低级恢复机制来应用更改。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5011"></a><a id="SBYDB00102"></a><div class="props_rev_3"><a id="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A" name="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A"></a><h4 id="SBYDB-GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A" class="sect4"><span class="enumeration_section">2.1.2</span>逻辑备用数据库</h4>
                  <div>
                     <p>逻辑备用数据库最初创建为主数据库的相同副本，但稍后可以更改为具有不同的结构。</p>
                     <p>通过执行SQL语句来更新逻辑备用数据库。逻辑备用数据库的灵活性使您可以升级Oracle数据库软件（补丁集和新的Oracle数据库版本）并以滚动方式执行其他数据库维护，几乎不会出现停机。从Oracle Database <span class="italic">11g</span>开始，瞬态逻辑数据库滚动升级过程也可以与现有物理备用数据库一起使用。
                     </p>
                     <p>Oracle Data Guard通过将日志文件中的数据转换为SQL语句，然后在逻辑备用数据库上执行SQL语句，自动将归档重做日志文件或备用重做日志文件中的信息应用于逻辑备用数据库。由于逻辑备用数据库使用SQL语句更新，因此必须保持打开状态。尽管逻辑备用数据库以读/写模式打开，但其重新生成的SQL的目标表仅适用于只读操作。在更新这些表时，它们可以同时用于其他任务，例如报告，汇总和查询。</p>
                     <p>逻辑备用数据库对数据类型，表类型以及DDL和DML操作类型有一些限制。有关<a href="data-type-ddl-support-on-logical-standby-databases.html#GUID-340BA6D6-74D5-4684-AF39-08890D5CD9D4" title="When setting up a logical standby database, you must ensure the logical standby database can maintain the datatypes and tables in your primary database.">逻辑备用数据库</a>上的数据类型和DDL支持的信息，请参阅<a href="data-type-ddl-support-on-logical-standby-databases.html#GUID-340BA6D6-74D5-4684-AF39-08890D5CD9D4" title="设置逻辑备用数据库时，必须确保逻辑备用数据库可以维护主数据库中的数据类型和表。">逻辑备用数据库</a>上的数据类型和DDL支持。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A__GUID-572902B4-B91C-4C4F-84A4-F8FF93AA4B51">逻辑备用数据库的好处</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>逻辑备用数据库是高可用性（HA）的理想选择，同时仍提供数据恢复（DR）优势。与物理备用数据库相比，逻辑备用数据库提供了显着的额外HA优势：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>最大限度地减少软件升级的停机时间</p>
                              <p>逻辑备用数据库非常适合以滚动方式升级Oracle Data Guard配置。逻辑备用可用于大大减少与应用补丁集和新软件版本相关的停机时间。逻辑备用数据库可以升级到新版本，然后切换为活动主数据库。这样可以在将旧主数据库转换为逻辑备用数据库并应用补丁集时实现完全可用性。逻辑备用数据库为<code class="codeph">DBMS_ROLLING</code> PL / SQL程序包提供了底层平台，该程序包提供的功能允许您在滚动升级和其他存储重组的上下文中使Oracle Data Guard配置高度可用。
                              </p>
                           </li>
                           <li>
                              <p>支持报告和决策支持要求</p>
                              <p>逻辑备用的一个主要好处是可以创建重要的辅助结构来优化报告工作量;可能对主要交易响应时间产生过大影响的结构。逻辑备用数据库可以将其数据物理重组为具有不同分区的不同存储类型，具有许多不同的索引，具有创建和维护的按需刷新物化视图，并且可用于驱动数据立方体和其他OLAP数据视图的创建。但是，逻辑备用数据库不允许对数据进行任何转换（例如仅复制列的子集或允许在用户表上添加其他列）。对于这些类型的报告活动，Oracle GoldenGate是Oracle的首选解决方案。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5012"></a><a id="SBYDB00103"></a><div class="props_rev_3"><a id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1" name="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1"></a><h4 id="SBYDB-GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1" class="sect4"><span class="enumeration_section">2.1.3</span>快照备用数据库</h4>
                  <div>
                     <p>快照备用数据库是一种可更新的备用数据库，可为主数据库提供完全数据保护。</p>
                     <p>快照备用数据库从其主数据库接收并归档（但不应用）重做数据。在丢弃对快照备用数据库的所有本地更新之后，将快照备用数据库转换回物理备用数据库时，将应用从主数据库接收的重做数据。</p>
                     <p>快照备用数据库随着时间的推移而与主数据库不同，因为主数据库中的重做数据在接收时未应用。快照备用数据库的本地更新会导致其他分歧。但是，主数据库中的数据受到完全保护，因为可以随时将快照备用数据库转换回物理备用数据库，然后应用从主数据库接收的重做数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1__GUID-D2503180-6156-40CF-8A60-710B1794E626">快照备用数据库的好处</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>快照备用数据库是完全可更新的备用数据库，可提供与物理备用数据库类似的灾难恢复和数据保护优势。快照备用数据库最适用于具有主数据库的临时可更新快照的好处证明从主数据库故障中恢复的时间增加的情况。</p>
                        <p>使用快照备用数据库的好处包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它提供了生产数据库的精确副本，用于开发和测试目的，同时始终保持数据保护。您可以使用Oracle Real Application Testing选项捕获主数据库工作负载，然后在快照备用数据库上重放它以进行测试。</p>
                           </li>
                           <li>
                              <p>通过转换为物理备用数据库并重新同步，可以轻松刷新它以包含当前生产数据。</p>
                           </li>
                        </ul>
                        <p>能够创建快照备用，测试，与生产重新同步，然后再次创建快照备用和测试，是一个可以根据需要重复的循环。可以使用相同的过程轻松创建和定期更新快照备用数据库，以用于需要对数据进行读/写访问的报告目的。</p>
                        <div class="infoboxnotealso" id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1__GUID-B90689C1-C6F0-4D63-871C-594F43D524A3">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../ratug/introduction-to-oracle-database-testing.html#RATUG101" target="_blank"><span class="italic">Oracle数据库测试指南</span></a> ，了解有关Oracle Real Application Testing的更多信息以及使用它所需的许可证</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB00065"></a><div class="props_rev_3"><a id="GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" name="GUID-AC2A6894-9805-4969-9746-0D43EE7F8767"></a><h3 id="SBYDB-GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" class="sect3"><span class="enumeration_section">2.2</span>管理Oracle Data Guard配置的用户界面</h3>
               <div>
                  <p>Oracle Data Guard提供了几个可用于配置，实施和管理Oracle Data Guard配置的接口。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle企业管理器云控制</p>
                        <p>Oracle Enterprise Manager Cloud Control为Oracle Data Guard代理提供GUI界面，可自动执行创建，配置和监视Oracle Data Guard环境所涉及的许多任务。有关GUI及其向导的信息，请参阅Oracle Enterprise Manager Cloud Control联机帮助。</p>
                     </li>
                     <li>
                        <p>SQL * Plus命令行界面</p>
                        <p>一些SQL * Plus语句使用<code class="codeph">STANDBY</code>关键字指定备用数据库上的操作。其他SQL语句不包含特定于备用数据库的语法，但它们对于在备用数据库上执行操作很有用。有关相关语句的列表，请参阅<a href="sql-statements-used-by-oracle-data-guard.html#GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" title="有许多SQL和SQL * Plus语句可用于在Oracle Data Guard环境中对备用数据库执行操作。">与Oracle Data Guard相关的SQL</a>语句。
                        </p>
                     </li>
                     <li>
                        <p>初始化参数</p>
                        <p>几个初始化参数用于定义Oracle Data Guard环境。请参阅<a href="oracle-initialization-parameters-used-by-oracle-data-guard.html#GUID-A1CF9B00-F0F5-4F3B-A0E0-9D6ABF775EC9" title="这是您为Data Guard环境设置的初始化参数的字母顺序列表。它指示参数是为主角色还是备用角色设置的，还提供了设置每个参数的提示。">初始化参数</a>以获取相关初始化参数的列表。
                        </p>
                     </li>
                  </ul>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Data Guard代理命令行界面（DGMGRL）</p>
                        <p>DGMGRL命令行界面是使用Oracle Enterprise Manager云控制的替代方法。如果要使用代理从批处理程序或脚本管理Oracle Data Guard配置，则DGMGRL命令行界面非常有用。有关完整信息，请参阅<a href="../dgbkr/oracle-data-guard-broker-commands.html#DGBKR585" target="_blank"><span class="italic">Oracle Data Guard Broker</span></a> 。
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB00067"></a><div class="props_rev_3"><a id="GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" name="GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7"></a><h3 id="SBYDB-GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" class="sect3"><span class="enumeration_section">2.3</span> Oracle Data Guard操作先决条件</h3>
               <div>
                  <p>使用Oracle Data Guard需要某些硬件和软件先决条件。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started-with-oracle-data-guard.html#GUID-31B64063-7051-48E4-9BE9-E73266317C9F" title="必须在主数据库和所有备用数据库上安装相同版本的Oracle数据库企业版，除非在使用逻辑或临时逻辑备用数据库进行滚动数据库升级期间。">硬件和操作系统要求</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-oracle-data-guard.html#GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" title="要使用Oracle Data Guard，您必须满足某些Oracle软件要求。">Oracle软件要求</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4715"></a><div class="props_rev_3"><a id="GUID-31B64063-7051-48E4-9BE9-E73266317C9F" name="GUID-31B64063-7051-48E4-9BE9-E73266317C9F"></a><h4 id="SBYDB-GUID-31B64063-7051-48E4-9BE9-E73266317C9F" class="sect4"><span class="enumeration_section">2.3.1</span>硬件和操作系统要求</h4>
                  <div>
                     <p>必须在主数据库和所有备用数据库上安装相同版本的Oracle数据库企业版，除非在使用逻辑或临时逻辑备用数据库进行滚动数据库升级期间。</p>
                     <p>从Oracle Database <span class="italic">11g开始</span> ，Oracle Data Guard为Oracle Data Guard配置提供了更高的灵活性，其中主系统和备用系统可能具有不同的CPU架构，操作系统（例如，Windows和Linux），操作系统二进制文件（32位/ 64位），或Oracle数据库二进制文件（32位/ 64位）。
                     </p>
                     <p>这种增加的混合平台灵活性受到MySupport支持说明413484.1和1085687.1（ <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>记录的当前限制的约束。</p>
                     <p>注释413484.1讨论了对物理备用数据库的混合平台支持和限制。</p>
                     <p>注释1085687.1讨论了逻辑备用数据库的混合平台支持和限制。</p>
                     <div class="infoboxnotealso" id="GUID-31B64063-7051-48E4-9BE9-E73266317C9F__GUID-9C0F678D-703D-4ADA-9FCB-5BAD2487BA58">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-sql-apply-to-perform-rolling-upgrade.html#GUID-290F632F-5295-47F3-AEF1-2D37C69C00D7" title="您可以使用逻辑备用数据库执行Oracle数据库软件的滚动升级。">使用SQL Apply升级Oracle数据库</a>以获取有关滚动数据库升级的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="SBYDB4716"></a><div class="props_rev_3"><a id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" name="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB"></a><h4 id="SBYDB-GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" class="sect4"><span class="enumeration_section">2.3.2</span> Oracle软件要求</h4>
                  <div>
                     <p>要使用Oracle Data Guard，您必须满足某些Oracle软件要求。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Data Guard仅作为Oracle数据库企业版的一项功能提供。它不适用于Oracle数据库标准版。</p>
                              <div class="infoboxnote" id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB__GUID-97254E1A-9428-4D7B-8EB6-C9E36F4CA421">
                                 <p class="notep1">注意：</p>
                                 <p>可以使用运行Oracle Database S标准版的数据库来构建备用数据库环境。您可以通过使用操作系统复制实用程序手动传输归档重做日志文件，或使用自定义脚本定期将归档重做日志文件从一个数据库发送到另一个数据库，注册它们，并使用介质恢复来前滚数据库副本来执行此操作在灾难恢复站点。此类配置不提供Oracle Data Guard提供的易用性，可管理性，性能和灾难恢复功能。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>通常，物理备用数据库必须与主数据库具有相同的数据库主目录版本，包括修补程序集异常（PSE），重要补丁更新（CPU）和修补程序集更新（PSU），除非Oracle Data Guard备用优先补丁正在进行申请流程（如<a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> My Oracle Support说明1265700.1中所述。</p>
                              <p>此外，从Oracle Database <span class="italic">11g</span>第2版（11.2.0.1）开始，可以使用物理备用数据库以滚动方式安装符合条件的一次性修补程序，修补程序集更新（PSU）和关键修补程序更新（CPU）。有关此功能的更多信息，请参阅<a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>的My Oracle Support说明1265700.1。</p>
                           </li>
                           <li>
                              <p>使用Oracle Data Guard SQL Apply，您可以执行<a id="d5764e1032" class="indexterm-anchor"></a><a id="d5764e1036" class="indexterm-anchor"></a>滚动升级Oracle数据库软件<a id="d5764e1041" class="indexterm-anchor"></a><a id="d5764e1045" class="indexterm-anchor"></a><a id="d5764e1049" class="indexterm-anchor"></a><a id="d5764e1053" class="indexterm-anchor"></a>补丁集发行版<span class="italic">n</span> （最低限度，必须是版本10.1.0.3）到任何更高版本的补丁集或主要版本发行版。在滚动升级期间，您可以在升级它们的同时在主数据库和逻辑备用数据库上运行不同版本的Oracle数据库，一次一个。有关完整信息，请参阅<a href="using-sql-apply-to-perform-rolling-upgrade.html#GUID-290F632F-5295-47F3-AEF1-2D37C69C00D7" title="You can use a logical standby database to perform a rolling upgrade of Oracle Database software.">使用SQL Apply升级</a>适用的Oracle Database <span class="italic">10g</span>修补程序集版本<a href="using-sql-apply-to-perform-rolling-upgrade.html#GUID-290F632F-5295-47F3-AEF1-2D37C69C00D7" title="您可以使用逻辑备用数据库执行Oracle数据库软件的滚动升级。">的Oracle数据库</a>和自述文件。
                              </p>
                           </li>
                           <li>
                              <p>必须在Oracle Data Guard配置中的所有数据库上将<code class="codeph">COMPATIBLE</code>数据库初始化参数设置为相同的值，除非使用逻辑备用数据库，该数据库可以具有比主数据库更高的<code class="codeph">COMPATIBLE</code>设置。
                              </p>
                           </li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>主数据库必须运行<a id="d5764e1103" class="indexterm-anchor"></a><a id="d5764e1107" class="indexterm-anchor"></a> <code class="codeph">ARCHIVELOG</code>模式。有关更多信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN008" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>主数据库可以是单实例数据库或Oracle Real Application Clusters（Oracle RAC）数据库。备用数据库可以是单实例数据库或Oracle RAC数据库，这些备用数据库可以是物理，逻辑和快照类型的混合。</p>
                           </li>
                           <li>
                              <p>每个主数据库和备用数据库都必须有自己的控制文件。</p>
                           </li>
                           <li>
                              <p>如果备用数据库与主数据库位于同一系统上，则备用数据库的归档目录<span class="italic">必须</span>使用与主数据库不同的目录结构。否则，备用数据库可能会覆盖主数据库文件。
                              </p>
                           </li>
                           <li>
                              <p>要防止无法传播到备用数据库的主数据库中未记录的直接写入，请在执行备份创建的数据文件备份之前在主数据库上启用<code class="codeph">FORCE LOGGING</code> 。只要需要备用数据库，就要将数据库保持在<code class="codeph">FORCE LOGGING</code>模式。
                              </p>
                           </li>
                           <li>
                              <p>用于管理主数据库实例和备用数据库实例的用户帐户必须具有<code class="codeph">SYSDG</code>或<code class="codeph">SYSDBA</code>管理权限。
                              </p>
                           </li>
                           <li>
                              <p>为简化操作，Oracle建议您在Oracle Data Guard配置中设置Oracle自动存储管理（Oracle ASM）和Oracle管理文件（OMF），并在主数据库和备用数据库上对称地进行设置。如果Oracle Data Guard配置中的任何数据库使用Oracle ASM，OMF或两者，则配置中的每个数据库应分别使用Oracle ASM，OMF或两者，除非您有意为迁移或维护目的实施混合配置。有关更多信息，请参阅<a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="创建备用数据库时，如果主数据库使用Oracle托管文件（OMF）或Oracle自动存储管理（Oracle ASM），则必须执行其他步骤。">创建使用OMF或Oracle ASM的备用数据库中</a>的方案。
                              </p>
                              <div class="infoboxnote" id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB__GUID-385E2A95-EFB8-4195-AA2E-F43A6B7A808F">
                                 <p class="notep1">注意：</p>
                                 <p>由于某些执行涉及基于时间的数据的更新的应用程序无法处理从多个时区输入的数据，因此请考虑将主要和远程备用系统的时区设置为相同，以确保在角色转换后保持记录的时间顺序。</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB5013"></a><a id="SBYDB5014"></a><a id="SBYDB4717"></a><div class="props_rev_3"><a id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" name="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699"></a><h3 id="SBYDB-GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" class="sect3"><span class="enumeration_section">2.4</span>备用数据库目录结构注意事项</h3>
               <div>
                  <p>各种备用数据库的目录结构很重要，因为它确定备用数据文件，归档重做日志文件和备用重做日志文件的路径名。</p>
                  <p>如果可能，主系统和备用系统上的数据文件，日志文件和控制文件应具有相同的名称和路径名称并使用<a id="d5764e1256" class="indexterm-anchor"></a><a id="d5764e1260" class="indexterm-anchor"></a>最佳灵活体系结构（OFA）命名约定。备用数据库上的归档目录在站点之间也应该相同，包括大小和结构。此策略允许其他操作（如备份，切换和故障转移）执行同一组步骤，从而降低维护复杂性。
                  </p>
                  <div class="infoboxnotealso" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__GUID-13DD87AC-95AA-480E-B217-F94F75A16764">
                     <p class="notep1">也可以看看：</p>
                     <p>有关最佳灵活体系结构（OFA）的更多信息，请参见特定于操作系统的Oracle文档</p>
                  </div>
                  <p>否则，必须设置文件名转换参数（如<a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804" title="这3个列表描述了设置Data Guard配置的后果，其中主数据库和备用数据库位于不同的系统上，或者位于同一系统上的主数据库和备用数据库。第1列是备用系统。第2列是目录结构。第3列列出了后果。">表2-1</a>所示）或重命名数据文件。但是，如果您需要使用具有不同目录结构的系统或将备用数据库和主数据库放在同一系统上，则可以通过最少的额外管理来实现。
                  </p>
                  <p>三个基本<a id="d5764e1277" class="indexterm-anchor"></a><a id="d5764e1283" class="indexterm-anchor"></a><a id="d5764e1287" class="indexterm-anchor"></a>配置选项<a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">如图2-1所示</a> 。这些包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>与主数据库位于同一系统上的备用数据库，它使用与主系统不同的目录结构。这在<a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">图2-1中显示</a>为<code class="codeph">Standby1</code> 。
                        </p>
                        <p>如果在与主数据库相同的系统上具有备用数据库，则<span class="italic">必须</span>使用其他目录结构。否则，备用数据库会尝试覆盖主数据库文件。
                        </p>
                     </li>
                     <li>
                        <p>单独系统上的备用数据库，它使用与主系统相同的目录结构。这在<a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">图2-1中显示</a>为<code class="codeph">Standby2</code> 。这是推荐的方法。
                        </p>
                     </li>
                     <li>
                        <p>单独系统上的备用数据库，它使用与主系统不同的目录结构。这在<a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">图2-1中显示</a>为<code class="codeph">Standby3</code> 。
                        </p>
                        <div class="infoboxnote" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__GUID-E5463DF3-F1DE-4BC0-A737-762733184EA7">
                           <p class="notep1">注意：</p>
                           <p>为简化操作，Oracle建议您在Oracle Data Guard配置中设置Oracle自动存储管理（Oracle ASM）和Oracle管理文件（OMF），并在主数据库和备用数据库上对称地进行设置。如果Oracle Data Guard配置中的任何数据库使用Oracle ASM，OMF或两者，则配置中的每个数据库应分别使用Oracle ASM，OMF或两者，除非您有意为迁移或维护目的实施混合配置。有关更多信息，请参阅<a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="创建备用数据库时，如果主数据库使用Oracle托管文件（OMF）或Oracle自动存储管理（Oracle ASM），则必须执行其他步骤。">创建使用OMF或Oracle ASM的备用数据库中</a>的方案。
                           </p>
                        </div>
                     </li>
                  </ul>
                  <div class="figure" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">
                     <p class="titleinfigure">图2-1可能的待机配置</p><img src="img/sbydb058.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/sbydb058.html"><br><a href="img_text/sbydb058.html">“图2-1可能的待机配置”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804" title="这3个列表描述了设置Data Guard配置的后果，其中主数据库和备用数据库位于不同的系统上，或者位于同一系统上的主数据库和备用数据库。第1列是备用系统。第2列是目录结构。第3列列出了后果。">表2-1</a>描述了主数据库和备用数据库的可能配置以及每种数据库的后果。
                  </p>
                  <div class="tblformal" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804">
                     <p class="titleintable">表2-1备用数据库位置和目录选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="备用数据库位置和目录选项" width="100%" border="1" summary="This 3 column tables describes the consequences of setting up a Data Guard configuration with the primary and standby databases located on separate systems, or with the primary and standby databases located on the same system. Column 1 is the standby system. Column 2 is the directory structure. Column 3 lists the consequences. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="12%" id="d5764e1356">待机系统</th>
                              <th align="left" valign="bottom" width="15%" id="d5764e1359">目录结构</th>
                              <th align="left" valign="bottom" width="73%" id="d5764e1362">后果</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1367" headers="d5764e1356 ">
                                 <p>与主系统相同</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1367 d5764e1359 ">
                                 <p>与主系统不同（必填）</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1367 d5764e1362 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您可以手动重命名文件或进行设置<a id="d5764e1378" class="indexterm-anchor"></a><a id="d5764e1382" class="indexterm-anchor"></a>备用数据库上的<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>初始化参数可自动更新备用数据库控制文件中主数据库数据文件和归档重做日志文件以及备用重做日志文件的路径名。（请参阅<a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="在主数据库上，您可以定义在数据库处于主要角色时控制重做传输服务的初始化参数。">设置主数据库初始化参数</a> 。）
                                       </p>
                                    </li>
                                    <li>
                                       <p>备用数据库不能防止破坏主数据库和备用数据库所在系统的灾难，但它确实为计划维护提供了切换功能。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1404" headers="d5764e1356 ">
                                 <p>独立的系统</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1404 d5764e1359 ">
                                 <p>与主系统相同</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1404 d5764e1362 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您不需要在备用数据库控制文件中重命名主数据库文件，归档重做日志文件和备用重做日志文件，但如果您需要新的命名方案（例如，在不同的文件之间传播文件），您仍然可以这样做磁盘）。</p>
                                    </li>
                                    <li>
                                       <p>通过将备用数据库定位在单独的物理介质上，可以保护主数据库上的数据免受破坏主系统的灾难的影响。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1419" headers="d5764e1356 ">
                                 <p>独立的系统</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1419 d5764e1359 ">
                                 <p>与主要系统不同</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1419 d5764e1362 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您可以手动重命名文件，也可以在备用数据库上设置<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>初始化参数，以自动重命名数据文件（请参阅<a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="在主数据库上，您可以定义在数据库处于主要角色时控制重做传输服务的初始化参数。">设置主数据库初始化参数</a> ）。
                                       </p>
                                    </li>
                                    <li>
                                       <p>通过将备用数据库定位在单独的物理介质上，可以保护主数据库上的数据免受破坏主系统的灾难的影响。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5158"></a><div class="props_rev_3"><a id="GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" name="GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265"></a><h3 id="SBYDB-GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" class="sect3"><span class="enumeration_section">2.5</span>移动在线数据文件的位置</h3>
               <div>
                  <p>在数据库主动访问文件时，您可以将在线数据文件的位置从一个物理文件移动到另一个物理文件。</p>
                  <p>要移动文件的位置，请使用SQL语句<code class="codeph">ALTER DATABASE MOVE DATAFILE</code> 。</p>
                  <p>使用<code class="codeph">ALTER DATABASE MOVE DATAFILE</code>语句执行的操作会增加数据库的可用性，因为它不需要关闭数据库来移动在线数据文件的位置。
                  </p>
                  <p>您可以在主服务器和备用服务器上独立执行联机移动数据文件操作（物理或逻辑）。在主数据库上移动数据文件时，备用数据库不受影响，反之亦然。</p>
                  <p>在物理备用数据库上，如果打开数据库的实例处于只读模式，则可以在备用恢复运行时执行联机移动数据文件操作。此功能需要Oracle Active Data Guard许可证。</p>
               </div><a id="SBYDB5159"></a><div class="props_rev_3"><a id="GUID-312871DC-0881-444A-8DAB-0BC484638C76" name="GUID-312871DC-0881-444A-8DAB-0BC484638C76"></a><h4 id="SBYDB-GUID-312871DC-0881-444A-8DAB-0BC484638C76" class="sect4"><span class="enumeration_section">2.5.1</span>移动在线数据文件的位置时的限制</h4>
                  <div>
                     <p>移动在线数据文件的位置时存在限制。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果备用数据库已挂载但未打开，则无法使用SQL <code class="codeph">ALTER DATABASE MOVE DATAFILE</code>命令重命名或重定位物理备用数据库上的联机数据文件，该物理备用数据库是快速启动故障转移目标。
                           </p>
                        </li>
                        <li>
                           <p>在挂起恢复在已挂载但未打开的实例中运行时，无法在物理备用上执行联机移动数据文件操作。</p>
                        </li>
                        <li>
                           <p>如果备用恢复过程使数据文件脱机，缩小文件或删除表空间，则联机移动数据文件操作可能会中止。</p>
                        </li>
                        <li>
                           <p>在主数据库上，无法在属于在主数据库的所有实例上已关闭的可插拔数据库（PDB）的文件上执行联机移动数据文件操作。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-312871DC-0881-444A-8DAB-0BC484638C76__GUID-CBCEC1FD-C3E4-4037-A94A-8F26B02468AB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关重命名和重定位在线数据文件的详细信息，请参见<a href="../admin/managing-data-files-and-temp-files.html#ADMIN13837" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER DATABASE MOVE DATAFILE</code>语句的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF55823" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10416.CREATE-AUDIT-POLICY-Unified-Auditing.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建审计政策（统一审计）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-ATTRIBUTE-DIMENSION.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-CLUSTER.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-ATTRIBUTE-DIMENSION.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-CLUSTER.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-COMMIT-to-CREATE-JAVA.html" property="item" typeof="WebPage"><span property="name">SQL语句：COMMIT到CREATE JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建审计政策（统一审计）</li>
            </ol>
            <a id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693" name="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693"></a><a id="SQLRF56056"></a><a id="SQLRF56057"></a><a id="SQLRF56058"></a><a id="SQLRF56059"></a><a id="SQLRF56060"></a><a id="SQLRF56061"></a><a id="SQLRF56076"></a><a id="SQLRF56077"></a><a id="SQLRF56353"></a><a id="SQLRF56078"></a><a id="SQLRF56079"></a><a id="SQLRF56354"></a><a id="SQLRF56355"></a><a id="SQLRF56356"></a><a id="SQLRF56357"></a><a id="SQLRF56358"></a><a id="SQLRF56359"></a><a id="SQLRF56081"></a><a id="SQLRF56360"></a><a id="SQLRF56361"></a><a id="SQLRF56362"></a><a id="SQLRF56363"></a><a id="SQLRF56364"></a><a id="SQLRF56083"></a><a id="SQLRF56084"></a><a id="SQLRF56085"></a><a id="SQLRF56231"></a><a id="SQLRF56232"></a><a id="SQLRF56233"></a><a id="SQLRF56086"></a><a id="SQLRF56365"></a><a id="SQLRF56366"></a><a id="SQLRF56367"></a><a id="SQLRF56368"></a><a id="SQLRF56369"></a><a id="SQLRF56370"></a><a id="SQLRF56371"></a><a id="SQLRF56372"></a><a id="SQLRF56373"></a><a id="SQLRF56055"></a>
            
            <h2 id="SQLRF-GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693" class="sect2">创建审计政策（统一审计）</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>本节介绍<span class="bold">统一</span> <span class="bold">审计</span>的<code class="codeph">CREATE</code> <code class="codeph">AUDIT</code> <code class="codeph">POLICY</code>语句。这种类型的审计是Oracle Database 12 <span class="italic">c的</span>新开始，它提供了一整套增强的审计功能。有关统一审计的更多信息，请参阅“ <a href="../dbseg/introduction-to-auditing.html#DBSEG630" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-13A12AD7-8CC4-4618-9E0D-A52BE5F667B8">目的</p>
                  <p>使用<code class="codeph">CREATE</code> <code class="codeph">AUDIT</code> <code class="codeph">POLICY</code>语句创建统一的审核策略。
                  </p>
                  <div class="infoboxnotealso" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-240AAE42-4FA3-4F77-97D0-20618EAE455D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ALTER-AUDIT-POLICY-Unified-Auditing.html#GUID-CC41B5C2-09F4-40BC-B7FD-3B4C0A3F5437">更改审计政策（统一审计）</a></p>
                        </li>
                        <li>
                           <p><a href="DROP-AUDIT-POLICY-Unified-Auditing.html#GUID-811D3F84-744E-47A1-B69D-C9D2FA4A0844">DROP审计政策（统一审计）</a></p>
                        </li>
                        <li>
                           <p><a href="AUDIT-Unified-Auditing.html#GUID-B24D6874-4053-4E66-8238-6CD0C87E9DCA">审计（统一审计）</a></p>
                        </li>
                        <li>
                           <p><a href="NOAUDIT-Unified-Auditing.html#GUID-EB92BE04-B09C-493F-952E-9629E739900E">NOAUDIT（统一审计）</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-29C0812B-DB72-4298-821B-A0F32D1908CB">先决条件</p>
                  <p>您必须具有<code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code>系统特权或<code class="codeph">AUDIT_ADMIN</code>角色。
                  </p>
                  <p>要指定<code class="codeph">CONTAINER</code>子句，必须连接到多租户容器数据库（CDB）。要创建通用的统一审核策略，您必须具有通常授予的<code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code>权限或<code class="codeph">AUDIT_ADMIN</code>公共角色。要创建本地统一审核策略，您必须具有通常授予的<code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code>权限或<code class="codeph">AUDIT_ADMIN</code>公共角色，或者您必须在所连接的容器中具有本地授予的<code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code>权限或<code class="codeph">AUDIT_ADMIN</code>本地角色。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-8FF10155-FF4C-4D68-B526-6079B54F2687">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-73A68E00-3B18-4CEC-BCC9-DED069863EB1"><span class="italic">create_audit_policy</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-67D5FC69-C3CC-46BB-8FAA-BBEF30DC9518"><img src="img/create_audit_policy.gif" alt="下面是create_audit_policy.eps的描述" title="下面是create_audit_policy.eps的描述" longdesc="img_text/create_audit_policy.html"><br><a href="img_text/create_audit_policy.html">说明create_audit_policy.eps的说明</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-508C786E-EF41-482C-8FED-317BB9724DA8">
                     <p class="notep1">注意：</p>
                     <p>您必须指定条款中的至少一个<span class="italic"><code class="codeph">privilege_audit_clause</code></span> ， <span class="italic"><code class="codeph">action_audit_clause</code></span> ，或<span class="italic"><code class="codeph">role_audit_clause</code></span> 。
                     </p>
                  </div>
                  <p>（ <span class="italic"><a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEDDIIC">privilege_audit_clause :: =</a></span> ， <span class="italic"><a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEFFEGE">action_audit_clause :: =</a></span> ， <span class="italic"><a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEEIAEG">role_audit_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEDDIIC">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-2EDEE513-6C3E-44DD-994D-5478E4141B52"><span class="italic">privilege_audit_clause</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-0D576648-E78E-48F1-B1A2-F8F6D8413C9B"><img src="img/privilege_audit_clause.gif" alt="以下是privilege_audit_clause.eps的说明" title="以下是privilege_audit_clause.eps的说明" longdesc="img_text/privilege_audit_clause.html"><br><a href="img_text/privilege_audit_clause.html">插图描述privilege_audit_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEFFEGE">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-74A8B05C-C5CD-4F0C-8E03-AABDE1BC6E67"><span class="italic">action_audit_clause</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-3D5C960C-9EFE-49E5-B24E-B44603A33C20"><img src="img/action_audit_clause.gif" alt="action_audit_clause.eps的描述如下" title="action_audit_clause.eps的描述如下" longdesc="img_text/action_audit_clause.html"><br><a href="img_text/action_audit_clause.html">插图描述action_audit_clause.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-3523E2C9-17D9-434B-8751-81DAD1AD0E0E">
                     <p class="notep1">注意：</p>
                     <p>您可以在任一顺序中仅指定<span class="italic"><code class="codeph">standard_actions</code></span>子句，仅指定<span class="italic"><code class="codeph">component_actions</code></span>子句或两个子句，但您最多只能指定一个子句一次。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-B23916D9-5E32-4FF3-A293-153C74056C0B"><span class="italic">standard_actions</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-6860A990-FA26-4D51-A19F-37D435BBAD9D"><img src="img/standard_actions.gif" alt="下面是standard_actions.eps的描述" title="下面是standard_actions.eps的描述" longdesc="img_text/standard_actions.html"><br><a href="img_text/standard_actions.html">标准描述standard_actions.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-D34F88DA-DA80-4039-8AFD-CDA0DEF9DD8C"><span class="italic">component_actions</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-F14B6FAB-B1FE-4BD4-93E8-F187887FE4E3"><img src="img/component_actions.gif" alt="component_actions.eps的描述如下" title="component_actions.eps的描述如下" longdesc="img_text/component_actions.html"><br><a href="img_text/component_actions.html">插图描述component_actions.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEEIAEG">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-CEA5F04B-C10D-4FD1-8D36-459C7058C161"><span class="italic">role_audit_clause</span> :: =</p>
                  <div class="figure" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-16C105D8-8DEB-46B7-800F-04760AA08C29"><img src="img/role_audit_clause.gif" alt="下面是role_audit_clause.eps的说明" title="下面是role_audit_clause.eps的说明" longdesc="img_text/role_audit_clause.html"><br><a href="img_text/role_audit_clause.html">插图描述role_audit_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-45A30CC8-2144-40D1-AB2E-15B7E3BCB52C">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-19DC26BE-5727-4596-87F0-B2AC25372AC8"><span class="italic">政策</span></p>
                  <p>指定要创建的统一审核策略的名称。该名称必须满足<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”中</span>列出的要求。
                  </p>
                  <p>您可以通过查询<code class="codeph">AUDIT_UNIFIED_POLICIES</code>视图找到所有统一审核策略的名称。
                  </p>
                  <div class="infoboxnotealso" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-BE5DFB7B-B5E2-4C6E-BD54-50A3435C5EC9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">AUDIT_UNIFIED_POLICIES</code>视图的更多信息，请<code class="codeph">AUDIT_UNIFIED_POLICIES</code> <a href="../refrn/AUDIT_UNIFIED_POLICIES.html#REFRN29157" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGECCGCH">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-2F01538F-9B75-4727-83F9-10D7835948F3"><span class="italic">privilege_audit_clause</span></p>
                  <p>使用此子句可以审核一个或多个系统特权。审核需要系统特权才能成功的SQL语句。对于<span class="italic"><code class="codeph">system_privilege</code></span> ，请指定有效的系统特权。要查看所有有效的系统特权，请查询<code class="codeph">SYSTEM_PRIVILEGE_MAP</code>视图的<code class="codeph">NAME</code>列。
                  </p>
                  <p><span class="bold">审计系统权限的限制</span></p>
                  <p>您无法审核以下系统权限： <code class="codeph">INHERIT</code> <code class="codeph">ANY</code> <code class="codeph">PRIVILEGES</code> ， <code class="codeph">SYSASM</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSDG</code> ， <code class="codeph">SYSKM</code>和<code class="codeph">SYSOPER</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGECCJ">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-A008DCEC-243C-429E-8467-B0D197E321C9"><span class="italic">action_audit_clause</span></p>
                  <p>使用此子句指定要审核的一个或多个操作。使用<span class="italic"><code class="codeph">standard_actions</code></span>子句审计标准RDBMS对象上的操作，并审核数据库的标准RDBMS系统操作。使用<span class="italic"><code class="codeph">component_actions</code></span>子句可以审核组件的操作。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-CCA862F7-2222-4B63-BE4A-D13A8CF8394E"><span class="italic">standard_actions</span></p>
                  <p>使用此子句可以审核对标准RDBMS对象的操作，并审核数据库的标准RDBMS系统操作。</p>
                  <p><span class="bold"><span class="italic">object_action</span></span> <span class="bold">ON</span></p>
                  <p>使用此子句可以审核对指定对象的操作。对于<span class="italic"><code class="codeph">object_action</code></span> ，指定要审核的操作。<a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGGCBI" title="第1列列出了对象类型。第2列列出了每种对象的有效操作。">表13-1</a>列出了可以对每种类型的对象进行审计的操作。
                  </p>
                  <p><span class="bold">全部开启</span></p>
                  <p>使用此子句可以审核指定对象上的所有操作。将审核<a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGGCBI" title="第1列列出了对象类型。第2列列出了每种对象的有效操作。">表13-1中</a>列出的所有在<code class="codeph">ON</code>子句中指定的对象类型的操作。
                  </p>
                  <p><span class="bold">关于条款</span></p>
                  <p>使用<code class="codeph">ON</code>子句指定要审计的对象。目录和数据挖掘模型是分开标识的，因为它们位于不同的名称空间中。要审核目录上的操作，请指定<code class="codeph">ON</code> <code class="codeph">DIRECTORY</code> <span class="italic"><code class="codeph">directory_name</code></span> 。要审核数据挖掘模型上的操作，请指定<code class="codeph">ON</code> <code class="codeph">MINING</code> <code class="codeph">MODEL</code> <span class="italic"><code class="codeph">object_name</code></span> 。要审核<a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGGCBI" title="第1列列出了对象类型。第2列列出了每种对象的有效操作。">表13-1中</a>列出的其他类型对象的操作，请指定<code class="codeph">ON</code> <span class="italic"><code class="codeph">object_name</code></span> 。如果不使用<span class="italic"><code class="codeph">schema</code></span>限定<span class="italic"><code class="codeph">object_name</code></span> ，则数据库假定该对象位于您自己的模式中。
                  </p>
                  <div class="tblformal" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGGCBI">
                     <p class="titleintable">表13-1统一审计对象和操作</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="统一审计对象和操作" width="100%" border="1" summary="Column 1 lists types of objects. Column 2 lists the valid actions for each type of object." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d302398e562">对象类型</th>
                              <th align="left" valign="bottom" width="69%" id="d302398e565">操作</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e570" headers="d302398e562 ">
                                 <p>目录</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e570 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">READ</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e584" headers="d302398e562 ">
                                 <p>功能</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e584 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">EXECUTE</code> （注释1和2）， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e598" headers="d302398e562 ">
                                 <p>Java模式对象（源，类，资源）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e598 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">EXECUTE</code> ， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e612" headers="d302398e562 ">
                                 <p>图书馆</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e612 d302398e565 ">
                                 <p><code class="codeph">EXECUTE</code> ， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e623" headers="d302398e562 ">
                                 <p>物化观点</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e623 d302398e565 ">
                                 <p><code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">COMMENT</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">LOCK</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e656" headers="d302398e562 ">
                                 <p>挖掘模型</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e656 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">COMMENT</code> ， <code class="codeph">GRANT</code> ，重<code class="codeph">RENAME</code> ， <code class="codeph">SELECT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e676" headers="d302398e562 ">
                                 <p>对象类型</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e676 d302398e565 ">
                                 <p><code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e690" headers="d302398e562 ">
                                 <p>包</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e690 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">EXECUTE</code> ， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e704" headers="d302398e562 ">
                                 <p>程序</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e704 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">EXECUTE</code> （注释1和2）， <code class="codeph">GRANT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e718" headers="d302398e562 ">
                                 <p>序列</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e718 d302398e565 ">
                                 <p><code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">SELECT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e735" headers="d302398e562 ">
                                 <p>表</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e735 d302398e565 ">
                                 <p><code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">COMMENT</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">FLASHBACK</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">LOCK</code> ， <code class="codeph">RENAME</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d302398e778" headers="d302398e562 ">
                                 <p>视图</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d302398e778 d302398e565 ">
                                 <p><code class="codeph">AUDIT</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">FLASHBACK</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">LOCK</code> ， <code class="codeph">RENAME</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>注1：当您在PL / SQL存储过程或存储函数上审计<code class="codeph">EXECUTE</code>操作时，数据库仅考虑其在确定操作成功或失败时查找过程或函数并授权其执行的能力，以便进行审计。因此，如果指定<code class="codeph">WHENEVER</code> <code class="codeph">NOT</code> <code class="codeph">SUCCESSFUL</code>子句，则仅审计无效对象错误，不存在的对象错误和授权失败;执行过程或函数期间遇到的错误不会被审计。如果指定<code class="codeph">WHENEVER</code> <code class="codeph">SUCCESSFUL</code>子句，则无论是否在执行期间遇到错误，都会审计未被无效对象错误，不存在的对象错误或授权失败阻止的所有执行。
                  </p>
                  <p>注意2：要审计PL / SQL存储过程或存储函数内的递归SQL操作失败，请为SQL操作配置审计。</p>
                  <p><span class="bold"><span class="italic">system_action</span></span></p>
                  <p>使用此子句可以审核数据库的系统操作。要查看的有效值<span class="italic"><code class="codeph">system_action</code></span> ，查询<code class="codeph">NAME</code>的列<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>视图，其中<code class="codeph">COMPONENT</code>是“ <code class="codeph">Standard</code> ”。
                  </p>
                  <p><span class="bold">所有</span></p>
                  <p>使用此子句可以审核数据库的所有系统操作。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-B6B678A5-9C20-4758-BDC4-4FC8F16DE099"><span class="italic">component_actions</span></p>
                  <p>使用此子句审核以下组件的操作：Oracle Data Pump，Oracle SQL * Loader直接路径加载，Oracle Label Security，Oracle Database Real Application Security和Oracle Database Vault。</p>
                  <p><span class="bold">数据泵</span></p>
                  <p>使用此子句可以审核Oracle Data Pump的操作。对于<span class="italic"><code class="codeph">component_action</code></span> ，指定要审核的操作。要查看Oracle数据泵的有效操作，查询该<code class="codeph">NAME</code>的列<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>图，其中<code class="codeph">COMPONENT</code>是<code class="codeph">Datapump</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Datapump';</pre><p>有关审核Oracle Data Pump的完整信息，请参阅“ <a href="../dbseg/configuring-audit-policies.html#DBSEG928" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
                  <p><span class="bold">DIRECT_LOAD</span></p>
                  <p>使用此子句可以审核Oracle SQL * Loader直接路径加载的操作。对于<span class="italic"><code class="codeph">component_action</code></span> ，指定要审核的操作。要查看Oracle SQL * Loader直接路径加载的有效操作，请查询<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>视图的<code class="codeph">NAME</code>列，其中<code class="codeph">COMPONENT</code>是<code class="codeph">Direct</code> <code class="codeph">path</code> <code class="codeph">API</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Direct path API';</pre><p>有关审核Oracle SQL * Loader直接路径加载的完整信息，请参阅“ <a href="../dbseg/configuring-audit-policies.html#DBSEG120" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
                  <p><span class="bold">OLS</span></p>
                  <p>使用此子句可以审核Oracle Label Security的操作。对于<span class="italic"><code class="codeph">component_action</code></span> ，指定要审核的操作。要查看Oracle Label Security的有效操作，请查询<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>视图的<code class="codeph">NAME</code>列，其中<code class="codeph">COMPONENT</code>是<code class="codeph">Label</code> <code class="codeph">Security</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Label Security';</pre><p>有关审核Oracle Label Security的完整信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DBSEG454" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
                  <p><span class="bold">XS</span></p>
                  <p>使用此子句可以审核Oracle Database Real Application Security的操作。对于<span class="italic"><code class="codeph">component_action</code></span> ，指定要审核的操作。要查看Oracle Database Real Application Security的有效操作，请查询<code class="codeph">COMPONENT</code>为<code class="codeph">XS</code>的<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>视图的<code class="codeph">NAME</code>列。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='XS';</pre><p>有关审核Oracle数据库Real Application Security的完整信息，请参阅<a href="../dbseg/configuring-audit-policies.html#DBSEG367" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> 。
                  </p>
                  <p><span class="bold">DV</span></p>
                  <p>使用此子句可以审核Oracle Database Vault的操作。对于<span class="italic"><code class="codeph">component_action</code></span> ，指定要审核的操作。要查看Oracle Database Vault的有效操作，请查询<code class="codeph">AUDITABLE_SYSTEM_ACTIONS</code>视图的<code class="codeph">NAME</code>列，其中<code class="codeph">COMPONENT</code>是<code class="codeph">Database</code> <code class="codeph">Vault</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Database Vault';</pre><p>对于<span class="italic"><code class="codeph">object_name</code></span> ，请指定要审核的Database Vault对象的名称。
                  </p>
                  <p>有关审核Oracle Database Vault的完整信息，请参阅<a href="../dbseg/configuring-audit-policies.html#DBSEG419" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEDDDBI">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-8A8CEBF2-C690-4572-B049-499482DB58F5"><span class="italic">role_audit_clause</span></p>
                  <p>使用此子句指定要审核的一个或多个角色。审核角色时，Oracle数据库会审核直接授予该角色的所有系统特权。审核需要系统特权才能成功的SQL语句。对于<span class="italic"><code class="codeph">role</code></span> ，请指定用户定义的（本地或外部）角色或预定义角色。有关预定义角色的列表，请参阅“ <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG4414" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-AD9C7FCD-98E5-4F9C-B585-B871FA6FF3A5">当条款</p>
                  <p>使用此子句可控制何时强制执行统一审核策略。</p>
                  <p id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEBAIJA"><span class="bold"><span class="italic">audit_condition</span></span></p>
                  <p>指定确定是否强制执行统一审核策略的条件。如果<span class="italic"><code class="codeph">audit_condition</code></span>计算结果为<code class="codeph">TRUE</code> ，则强制执行该策略。如果为<code class="codeph">FALSE</code> ，则不会强制执行该策略。
                  </p>
                  <p><span class="italic"><code class="codeph">audit_condition</code></span>的最大长度为4000个字符。它可以包含表达式，以及以下函数和条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数字功能： <code class="codeph">BITAND</code> ， <code class="codeph">CEIL</code> ， <code class="codeph">FLOOR</code> ， <code class="codeph">POWER</code></p>
                     </li>
                     <li>
                        <p>返回字符值的字符函数： <code class="codeph">CONCAT</code> ， <code class="codeph">LOWER</code> ， <code class="codeph">UPPER</code></p>
                     </li>
                     <li>
                        <p>返回数字值的字符函数： <code class="codeph">INSTR</code> ， <code class="codeph">LENGTH</code></p>
                     </li>
                     <li>
                        <p>环境和标识符功能： <code class="codeph">SYS_CONTEXT</code> ， <code class="codeph">UID</code></p>
                     </li>
                     <li>
                        <p>比较条件： <code class="codeph">=</code> , <code class="codeph">!=</code> ， <code class="codeph">&lt;&gt;</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">&gt;=</code></p>
                     </li>
                     <li>
                        <p>逻辑条件： <code class="codeph">AND</code> ， <code class="codeph">OR</code></p>
                     </li>
                     <li>
                        <p>空条件： <code class="codeph">IS</code> <code class="codeph">[NOT]</code> <code class="codeph">NULL</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">[NOT]</code> <code class="codeph">BETWEEN</code>条件</p>
                     </li>
                     <li>
                        <p><code class="codeph">[NOT]</code> <code class="codeph">IN</code>条件</p>
                     </li>
                  </ul>
                  <p><span class="italic"><code class="codeph">audit_condition</code></span>必须用单引号括起来。如果<span class="italic"><code class="codeph">audit_condition</code></span>包含单引号，则请指定两个单引号。例如，要指定以下条件：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CLIENT_IDENTIFIER'）='myclient'</pre><p>为<code class="codeph">'</code> <span class="italic"><code class="codeph">audit_condition</code></span> <code class="codeph">'</code>指定以下内容：</p><pre class="oac_no_warn" dir="ltr">'SYS_CONTEXT（''USERENV''，''CLIENT_IDENTIFIER''）='''myclient'''</pre><p id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEJBBDB"><span class="bold">评估每个声明</span></p>
                  <p>指定此子句以评估每个可审计语句的<span class="italic"><code class="codeph">audit_condition</code></span> 。如果<span class="italic"><code class="codeph">audit_condition</code></span>计算结果为<code class="codeph">TRUE</code> ，则会对该语句强制执行统一审计策略。如果为<code class="codeph">FALSE</code> ，则不对该语句强制执行统一审计策略。
                  </p>
                  <p id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGECIFGJ"><span class="bold">评估每个会话</span></p>
                  <p>指定此子句以在会话期间评估<span class="italic"><code class="codeph">audit_condition</code></span> 。将针对会话期间执行的第一个可审计语句评估<span class="italic"><code class="codeph">audit_condition</code></span> 。如果<span class="italic"><code class="codeph">audit_condition</code></span>计算结果为<code class="codeph">TRUE</code> ，则会对会话其余部分的所有适用语句强制执行统一审计策略。如果为<code class="codeph">FALSE</code> ，则不会对会话的其余部分的所有适用语句强制执行统一审计策略。
                  </p>
                  <p id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEJIBAE"><span class="bold">评估每个实例</span></p>
                  <p>指定此子句以在实例的生存期内评估<span class="italic"><code class="codeph">audit_condition</code></span> 。将审计<span class="italic"><code class="codeph">audit_condition</code></span>以查找在实例生存期内执行的第一个可审计语句。如果<span class="italic"><code class="codeph">audit_condition</code></span>计算结果为<code class="codeph">TRUE</code> ，则对实例的其余生命周期内的所有适用语句强制执行统一审计策略。如果为<code class="codeph">FALSE</code> ，则不会对实例的其余生命周期内的所有适用语句强制执行统一审核策略。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-E2597B7B-44B2-49E0-9B34-D9506D5D086E">只有TOPLEVEL</p>
                  <p>如果要审核用户直接发出的SQL语句，请指定<code class="codeph">ONLY TOPLEVEL</code>子句。
                  </p>
                  <p>从PL / SQL过程中运行的SQL语句不被视为顶级语句。您可以审核来自所有用户的顶级语句，包括用户<code class="codeph">SYS</code> 。</p>
                  <p>有关更多信息，请参阅<a href="../dbseg/configuring-audit-policies.html#DBSEG-GUID-D9A133FD-728C-4231-8870-A91280563D28" target="_blank"><span class="italic">数据库安</span></a>
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-15F5876F-D33A-4970-8EF5-DB82E251951B">集装箱条款</p>
                  <p>使用<code class="codeph">CONTAINER</code>子句指定统一审核策略的范围。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以创建<span class="bold">通用的</span> <span class="bold">统一</span> <span class="bold">审核</span> <span class="bold">策略</span> 。CDB中的所有可插拔数据库（PDB）都可以使用此类策略。当前容器必须是根。如果指定了<code class="codeph">ACTIONS</code> <span class="italic"><code class="codeph">object_action</code></span> <code class="codeph">ON</code>或<code class="codeph">ACTIONS</code> <code class="codeph">ALL</code> <code class="codeph">ON</code>子句，则必须指定一个共同的对象或应用程序通用对象。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在当前容器中创建<span class="bold">本地</span> <span class="bold">统一</span> <span class="bold">审核</span> <span class="bold">策略</span> 。当前容器可以是根或PDB。</p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-E1DB37BC-1945-437C-B4BE-73C0B3E82A2E">
                     <p class="notep1">注意：</p>
                     <p>创建统一审核策略后，您无法更改其范围。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGDCFA">
                  <p class="subhead1" id="GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__GUID-58013E01-AFF7-41D4-8E0E-4DB096112C64">例子</p>
                  <p><span class="bold">审核系统权限：示例</span></p>
                  <p>以下语句创建统一审计策略<code class="codeph">table_pol</code> ，它审计系统特权<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>和<code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE AUDIT POLICY table_pol PRIVILEGES CREATE ANY TABLE，DROP ANY TABLE;</pre><p>以下语句验证<code class="codeph">table_pol</code>现在出现在<code class="codeph">AUDIT_UNIFIED_POLICIES</code>视图中：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM audit_unified_policies WHERE policy_name ='TABLE_POL';</pre><p><span class="bold">对对象的审计操作：示例</span></p>
                  <p>以下语句创建统一审计策略<code class="codeph">dml_pol</code> ，该策略审计表<code class="codeph">hr</code>上的<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作。 <code class="codeph">employees</code>以及表<code class="codeph">hr</code>上的所有可审计操作。 <code class="codeph">departments</code> ：</p><pre class="oac_no_warn" dir="ltr">创建审计策略dml_pol在hr.employees上执行DELETE，在hr.employees上执行INSERT，在hr.employees上更新，在hr.departments上执行ALL;</pre><p>以下语句创建统一审计策略<code class="codeph">read_dir_pol</code> ，该策略审核目录<code class="codeph">bfile_dir</code>上的<code class="codeph">READ</code>操作（在<span class="q">“ <a href="CREATE-DIRECTORY.html#GUID-8E9C569A-1B06-42C4-9586-0EF83437001A__I2092417">创建目录：示例</a> ”中<a href="CREATE-DIRECTORY.html#GUID-8E9C569A-1B06-42C4-9586-0EF83437001A__I2092417">创建</a></span> ）：</p><pre class="oac_no_warn" dir="ltr">CREATE AUDIT POLICY read_dir_pol ACTIONS READ ON DIRECTORY bfile_dir;</pre><p><span class="bold">审计系统操作：示例</span></p>
                  <p>以下查询显示可以为数据库审核的标准RDBMS系统操作：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Standard'ORDER BY名称;名称----管理员密钥管理所有更改组件更改审核策略更改集群...
</pre><p>以下语句创建统一审计策略<code class="codeph">security_pol</code> ，用于审计系统操作<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE AUDIT POLICY security_pol ACTIONS ADMINISTER KEY MANAGEMENT;</pre><p>以下语句创建统一审计策略<code class="codeph">dir_pol</code> ，它审计任何目录上的所有读取，写入和执行操作：</p><pre class="oac_no_warn" dir="ltr">创建审计政策dir_pol行动阅读目录，写目录，执行目录;</pre><p>以下语句创建统一审计策略<code class="codeph">all_actions_pol</code> ，它审计数据库的所有标准RDBMS系统操作：</p><pre class="oac_no_warn" dir="ltr">创建审计政策all_actions_pol行动全部;</pre><p><span class="bold">审核组件操作：示例</span></p>
                  <p>以下查询显示可以为Oracle Data Pump审核的操作：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM auditable_system_actions WHERE component ='Datapump'; NAME ---- EXPORT IMPORT ALL</pre><p>以下语句创建统一审计策略<code class="codeph">dp_actions_pol</code> ，该策略审核Oracle Data Pump的<code class="codeph">IMPORT</code>操作：</p><pre class="oac_no_warn" dir="ltr">创建审计政策dp_actions_pol ACTIONS COMPONENT = datapump IMPORT;</pre><p><span class="bold">审核角色：示例</span></p>
                  <p>以下语句创建统一审计策略<code class="codeph">java_pol</code> ，它审计预定义角色<code class="codeph">java_admin</code>和<code class="codeph">java_deploy</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE AUDIT POLICY java_pol ROLES java_admin，java_deploy;</pre><p><span class="bold">审核系统权限，操作和角色：示例</span></p>
                  <p>以下语句创建统一审计策略<code class="codeph">hr_admin_pol</code> ，该策略审计多个系统特权，操作和角色：</p><pre class="oac_no_warn" dir="ltr">创建审计策略hr_admin_pol特权创建任何表，删除任何表操作删除hr.employees，INSERT on hr.employees，UPDATE on hr.employees，ALL on hr.departments，LOCK TABLE ROLES audit_admin，audit_viewer;</pre><p><span class="bold">控制执行统一审核策略时：示例</span></p>
                  <p>以下语句创建统一审计策略<code class="codeph">order_updates_pol</code> ，该策略审计表<code class="codeph">oe</code>上的<code class="codeph">UPDATE</code>操作。 <code class="codeph">orders</code> 。仅当外部用户发出可审计语句时，才会强制实施此策略。每个会话检查一次审计条件。
                  </p><pre class="oac_no_warn" dir="ltr">创建审计政策order_updates_pol操作更新oe.orders当'SYS_CONTEXT（''USERENV''，''IDENTIFICATION_TYPE''）='''外部'''评估每个会话;</pre><p>以下语句创建统一审计策略<code class="codeph">emp_updates_pol</code> ，该策略审计表<code class="codeph">hr</code>上的<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作。 <code class="codeph">employees</code> 。仅当可审计语句由UID为100,105或107的用户发出时，才会强制实施此策略。检查每个可审计语句的审核条件。
                  </p><pre class="oac_no_warn" dir="ltr">创建审计策略emp_updates_pol对hr.employees执行删除操作，对hr.employees执行INSERT，对hr.employees执行更新操作当“不执行（100,105,107）”时评估每个语句;</pre><p><span class="bold">创建本地统一审核策略：示例</span></p>
                  <p>以下语句创建本地统一审计策略<code class="codeph">local_table_pol</code> ，该策略审计当前容器中的<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>和<code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>的系统特权::</p><pre class="oac_no_warn" dir="ltr">创建审计策略local_table_pol特权创建任何表，丢弃任何表容器=当前;</pre><p><span class="bold">创建通用统一审核策略：示例</span></p>
                  <p>以下语句创建了通用的统一审计策略<code class="codeph">common_role1_pol</code> ，它审计整个CDB中的共同角色<code class="codeph">c##role1</code> （在<code class="codeph">CREATE</code> <code class="codeph">ROLE</code>中<code class="codeph">CREATE</code> <span class="q">“ <a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450__I2066883">示例</a> ”</span> ）：</p><pre class="oac_no_warn" dir="ltr">创建审计政策common_role1_pol ROLES c ## role1 CONTAINER = ALL;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="13515.database-gateway-webspheremq-running-environment.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于WebSphere MQ运行环境的Oracle数据库网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-websphere-mq-installation-and-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:05:45-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96225-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-database-gateway-webspheremq.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-gateway-webspheremq-pgm-packages.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for WebSphere MQ Installation and User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="WSMQG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-database-gateway-webspheremq.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-gateway-webspheremq-pgm-packages.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于WebSphere MQ运行环境的Oracle数据库网关</li>
            </ol>
            <a id="GUID-85997913-2ED0-463F-9137-89324478D58A" name="GUID-85997913-2ED0-463F-9137-89324478D58A"></a><a id="WSMQG209"></a>
            
            <h2 id="WSMQG-GUID-85997913-2ED0-463F-9137-89324478D58A" class="sect2"><span class="enumeration_chapter">8</span> Oracle Database Gateway for WebSphere MQ运行环境</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述了<a id="d13746e20" class="indexterm-anchor"></a>用于WebSphere MQ运行环境的Oracle Database Gateway：</p>
            </div><a id="WSMQG210"></a><div class="props_rev_3"><a id="GUID-147324B7-6FF4-418E-B9C4-705D1877C55B" name="GUID-147324B7-6FF4-418E-B9C4-705D1877C55B"></a><h3 id="WSMQG-GUID-147324B7-6FF4-418E-B9C4-705D1877C55B" class="sect3">安全模型</h3>
               <div>
                  <p>WebSphere MQ具有自己的授权机制。仅当应用程序的有效用户ID具有每个操作的授权时，才允许应用程序对队列或队列管理器执行某些操作。</p>
                  <p>有效用户ID（通常是操作系统用户）取决于WebSphere MQ环境及其运行的平台。</p>
                  <p>Oracle环境中的有效用户ID不依赖于操作系统帐户或平台。由于存在这种差异，网关为Oracle应用程序提供了两种授权模型，以便与WebSphere MQ一起使用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>轻松</p>
                     </li>
                     <li>
                        <p>严格</p>
                     </li>
                  </ul>
                  <p>虽然Oracle和操作系统用户ID可能超过12个字符，但用于任一模型的用户ID长度不能超过12个字符。Oracle用户帐户没有密码所需的最小字符数，但某些平台和操作系统可以。在决定使用密码或用户ID时，请考虑他们的要求。</p>
                  <p>授权模型使用网关中的<code class="codeph">AUTHORIZATION_MODEL</code>参数进行配置<a id="d13746e71" class="indexterm-anchor"></a><a id="d13746e77" class="indexterm-anchor"></a>初始化文件。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="database-gateway-webspheremq-initialization-parameters.html#GUID-A037975F-8CED-4A9F-97A1-59CBAD688F62">用于WebSphere MQ初始化参数的Oracle数据库网关</a></li>
                     </ul>
                  </div>
               </div>
               <a id="WSMQG211"></a><div class="props_rev_3"><a id="GUID-D6D83632-02A5-498A-AB45-DE173FF1C6AD" name="GUID-D6D83632-02A5-498A-AB45-DE173FF1C6AD"></a><h4 id="WSMQG-GUID-D6D83632-02A5-498A-AB45-DE173FF1C6AD" class="sect4">轻松的模特</h4>
                  <div>
                     <p>此模型会丢弃Oracle用户名和密码。</p>
                     <p>由队列管理器授予网关的有效用户ID的授权是Oracle应用程序具有的唯一关联。例如，如果网关用户标识被授予打开或读取消息或将消息放入队列的权限，则访问网关的所有Oracle应用程序都可以请求这些操作。</p>
                     <p>有效用户ID由网关运行方式决定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果网关作为MQI客户端应用程序运行，则用户ID由MQI通道定义确定。</p>
                           <div class="infoboxnotealso" id="GUID-D6D83632-02A5-498A-AB45-DE173FF1C6AD__GUID-51CAD550-0E86-4E99-B166-1AE98969E90B">
                              <p class="notep1">也可以看看：</p>
                              <p>有关通道定义的更多信息，请参阅IBM出版物</p>
                           </div>
                        </li>
                        <li>
                           <p>如果网关作为MQI服务器应用程序运行，则网关的有效用户ID是启动Oracle Net侦听器的用户帐户，并且具有Oracle应用程序要访问的所有WebSphere MQ对象的权限。</p>
                        </li>
                     </ul>
                     <p>Oracle建议仅在应用程序具有最低安全要求时才使用宽松模型。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-gateway-webspheremq-running-environment.html#GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77" title="本主题描述WebSphere MQ对象的访问权限。">WebSphere MQ对象的授权</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="WSMQG212"></a><div class="props_rev_3"><a id="GUID-2974BD2E-F059-4212-A395-4C260E303645" name="GUID-2974BD2E-F059-4212-A395-4C260E303645"></a><h4 id="WSMQG-GUID-2974BD2E-F059-4212-A395-4C260E303645" class="sect4">严格的模型</h4>
                  <div>
                     <p><code class="codeph">CREATE DATABASE LINK</code>时，此模型使用<code class="codeph">CREATE DATABASE LINK</code>语句中提供的Oracle用户标识和密码;如果<code class="codeph">CREATE DATABASE LINK</code>未提供，则使用当前的Oracle用户标识和密码。</p>
                     <p>该<a id="d13746e183" class="indexterm-anchor"></a><a id="d13746e187" class="indexterm-anchor"></a> Oracle用户ID：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须与运行网关的系统的用户帐户以及运行WebSphere MQ队列管理器的系统匹配</p>
                        </li>
                        <li>
                           <p>必须具有所有访问的WebSphere MQ对象的授权。</p>
                        </li>
                     </ul>
                     <p>验证Oracle用户标识和密码的授权过程会有所不同，具体取决于网关的运行方式。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-gateway-webspheremq-running-environment.html#GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77" title="本主题描述WebSphere MQ对象的访问权限。">WebSphere MQ对象的授权</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="WSMQG213"></a><div class="props_rev_3"><a id="GUID-E78532F3-25E0-4EDB-B6C3-82AC317460B9" name="GUID-E78532F3-25E0-4EDB-B6C3-82AC317460B9"></a><h5 id="WSMQG-GUID-E78532F3-25E0-4EDB-B6C3-82AC317460B9" class="sect5">WebSphere MQ Server应用程序的授权过程</h5>
                     <div>
                        <p>如果网关作为WebSphere MQ服务器应用程序运行，则授权过程将根据本地或网络密码文件检查用户标识和密码。</p>
                        <p>如果它们匹配，则网关为用户ID执行SET-UID并继续在此用户ID下运行。对此用户标识进行进一步的WebSphere MQ授权检查。</p>
                     </div>
                  </div><a id="WSMQG214"></a><div class="props_rev_3"><a id="GUID-1D7787E0-2803-49FB-813E-62C98DAF3C6F" name="GUID-1D7787E0-2803-49FB-813E-62C98DAF3C6F"></a><h5 id="WSMQG-GUID-1D7787E0-2803-49FB-813E-62C98DAF3C6F" class="sect5">WebSphere MQ客户端应用程序的授权过程</h5>
                     <div>
                        <p>如果网关作为WebSphere MQ客户端应用程序运行，则授权过程将根据本地或网络密码文件检查用户标识和密码。</p>
                        <p>如果他们匹配，那么<a id="d13746e263" class="indexterm-anchor"></a><a id="d13746e265" class="indexterm-anchor"></a><a id="d13746e269" class="indexterm-anchor"></a> <code class="codeph">MQ_USER_ID</code>和<a id="d13746e278" class="indexterm-anchor"></a><a id="d13746e280" class="indexterm-anchor"></a><a id="d13746e284" class="indexterm-anchor"></a> <code class="codeph">MQ_PASSWORD</code> WebSphere MQ环境变量设置为用户标识和密码的值。如果通道定义指定<code class="codeph">MCAUSER</code> WebSphere MQ环境变量<a id="d13746e297" class="indexterm-anchor"></a><a id="d13746e299" class="indexterm-anchor"></a><a id="d13746e303" class="indexterm-anchor"></a>作为空白字符，然后对用户标识执行WebSphere MQ授权检查。</p>
                        <p>如果设置了MCAUSER，未设置MCAUSER，或者为MQI通道定义了安全出口，则会覆盖网关工作。</p>
                        <div class="infoboxnotealso" id="GUID-1D7787E0-2803-49FB-813E-62C98DAF3C6F__GUID-8E9EA032-EEAE-415E-952F-F93130A9BB8D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关WebSphere MQ环境变量的更多信息，请参阅IBM出版物。</p>
                        </div>
                     </div>
                  </div>
               </div><a id="WSMQG340"></a><a id="WSMQG215"></a><div class="props_rev_3"><a id="GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77" name="GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77"></a><h4 id="WSMQG-GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77" class="sect4">WebSphere MQ对象的授权</h4>
                  <div>
                     <p>本主题描述WebSphere MQ对象的访问权限。</p>
                     <p><a id="d13746e339" class="indexterm-anchor"></a>宽松模型的有效用户ID和严格模型的Oracle用户ID需要<a id="d13746e344" class="indexterm-anchor"></a> <a href="database-gateway-webspheremq-running-environment.html#GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77__CEGGCCJD" title="该表描述了访问授权。">表8-1中</a>描述了WebSphere MQ授权。
                     </p>
                     <div class="tblformal" id="GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77__CEGGCCJD">
                        <p class="titleintable">表8-1 WebSphere MQ访问授权</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="WebSphere MQ访问授权" width="100%" border="1" summary="This table describes access authorization." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d13746e363">访问类型</th>
                                 <th align="left" valign="bottom" width="32%" id="d13746e366">WebSphere MQ授权关键字</th>
                                 <th align="left" valign="bottom" width="36%" id="d13746e369">备用WebSphere MQ授权关键字</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d13746e374" headers="d13746e363 ">
                                    <p>访问WebSphere MQ队列管理器的权限</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d13746e374 d13746e366 ">
                                    <p><code class="codeph">all</code>或<code class="codeph">allmqi</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d13746e374 d13746e369 ">
                                    <p><code class="codeph">连</code></p>
                                    <p><code class="codeph">设置名称</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d13746e392" headers="d13746e363 ">
                                    <p>将消息发送到WebSphere MQ队列的权限</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d13746e392 d13746e366 ">
                                    <p><code class="codeph">all</code>或<code class="codeph">allmqi</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d13746e392 d13746e369 ">
                                    <p><code class="codeph">PASSALL</code></p>
                                    <p><code class="codeph">passid</code></p>
                                    <p><code class="codeph">放</code></p>
                                    <p><code class="codeph">设置名称</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d13746e416" headers="d13746e363 ">
                                    <p>从WebSphere MQ队列接收消息的权限</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d13746e416 d13746e366 ">
                                    <p><code class="codeph">all</code>或<code class="codeph">allmqi</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d13746e416 d13746e369 ">
                                    <p><code class="codeph">浏览</code></p>
                                    <p><code class="codeph">得到</code></p>
                                    <p><code class="codeph">PASSALL</code></p>
                                    <p><code class="codeph">passid</code></p>
                                    <p><code class="codeph">设置名称</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77__GUID-E859FE6C-9430-472F-BBBD-10FA59E34A5B">
                        <p class="notep1">也可以看看：</p>
                        <p>有关WebSphere MQ授权的更多信息，请参阅IBM出版物。</p>
                     </div>
                  </div>
               </div>
            </div><a id="WSMQG216"></a><div class="props_rev_3"><a id="GUID-EE664BD2-F673-4E30-B5D4-F82E44A72EBC" name="GUID-EE664BD2-F673-4E30-B5D4-F82E44A72EBC"></a><h3 id="WSMQG-GUID-EE664BD2-F673-4E30-B5D4-F82E44A72EBC" class="sect3">交易支持</h3>
               <div>
                  <p>来自使用网关并调用WebSphere MQ消息队列操作的Oracle应用程序的事务由事务发起的Oracle数据库中的事务协调器管理。</p>
               </div><a id="WSMQG217"></a><div class="props_rev_3"><a id="GUID-E7C554A5-8A4D-4B3C-A33D-1AA8D6C1A00B" name="GUID-E7C554A5-8A4D-4B3C-A33D-1AA8D6C1A00B"></a><h4 id="WSMQG-GUID-E7C554A5-8A4D-4B3C-A33D-1AA8D6C1A00B" class="sect4">非Oracle数据源和分布式事务</h4>
                  <div>
                     <p>当Oracle分布式数据库包含网关时，必须正确配置网关以参与分布式事务。</p>
                     <p>涉及网关的分布式事务的结果应该是所有参与的站点回滚或提交它们的分布式事务的部分。必须保护在分布式事务期间更新的所有参与站点（包括网关站点）免于失败，并且必须能够参与两阶段提交机制。</p>
                     <p>作为分布式事务的一部分更新目标系统的网关必须能够参与自动恢复机制，这可能需要将恢复信息记录在目标系统的事务存储器中。</p>
                     <p>如果分布式事务中涉及基于SQL的网关，则在提交分布式事务后，分布式数据库必须处于一致状态。</p>
                     <p>具有procedural选项的数据库网关或基于SQL的网关将远程过程调用转换为目标系统调用。从Oracle事务模型的角度来看，网关就像一个Oracle数据库，执行包含用于访问Oracle数据库的SQL语句的PL / SQL块。</p>
                     <p>对于数据库网关，目标系统调用是否会改变数据是未知的。为确保分布式数据库的一致性，必须假定数据库网关更新目标系统。因此，发送到数据库网关的所有远程过程调用都参与分布式事务，并且必须受两阶段提交协议的保护。例如，您可以发出以下SQL * Plus语句：</p><pre class="oac_no_warn" dir="ltr">EXECUTE REMOTE_PROC @ FACTORY; INSERT INTO DEBIT @ FINANCE ROLLBACK;</pre><p>在此示例中， <code class="codeph">REMOTE_PROC</code>是访问数据库网关的远程过程调用， <code class="codeph">DEBIT</code>是驻留在Oracle数据库中的Oracle表，而<code class="codeph">FACTORY</code>和<code class="codeph">FINANCE</code>是用于访问远程站点的数据库链接。
                     </p>
                  </div>
               </div><a id="WSMQG218"></a><div class="props_rev_3"><a id="GUID-4D7BDADF-909F-4292-B658-F4B3D9767C32" name="GUID-4D7BDADF-909F-4292-B658-F4B3D9767C32"></a><h4 id="WSMQG-GUID-4D7BDADF-909F-4292-B658-F4B3D9767C32" class="sect4">交易能力类型</h4>
                  <div>
                     <p>当网关涉及分布式事务时，非Oracle数据源的事务功能确定数据源是否可以参与两阶段提交操作或分布式事务。</p>
                     <p>根据非Oracle数据源的功能，可以将事务分类为以下类型之一：</p>
                     <div class="tblformal" id="GUID-4D7BDADF-909F-4292-B658-F4B3D9767C32__GUID-8672E209-C5F1-45D2-81D9-E748B53006FA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes transaction capability types." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d13746e554">类型</th>
                                 <th align="left" valign="bottom" width="73%" id="d13746e557">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d13746e562" headers="d13746e554 ">
                                    <p>只读</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d13746e562 d13746e557 ">
                                    <p>在分布式事务期间，网关提供对数据源的只读访问，因此只能查询网关。只读用于使用推定提交模型或不支持回滚机制的目标系统。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d13746e569" headers="d13746e554 ">
                                    <p>单站点</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d13746e569 d13746e557 ">
                                    <p>在分布式事务期间，目标系统是只读的（其他站点可以更新）或唯一站点更新（可以参与远程事务）。单站点用于支持回滚，提交和假定中止的目标系统，但不能准备或提交确认，因为它们没有分布式事务内存，能够记住分布式事务期间和之后发生的事情。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d13746e576" headers="d13746e554 ">
                                    <p>提交 - 确认</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d13746e576 d13746e557 ">
                                    <p>网关是Oracle事务模式的部分合作伙伴。在更新它的分布式事务期间，网关必须是提交点站点。Commit-confirm用于支持回滚，提交，推测中止和提交确认的目标系统，但不支持准备。提交确认功能需要分布式事务内存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d13746e583" headers="d13746e554 ">
                                    <p>两阶段提交</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d13746e583 d13746e557 ">
                                    <p>网关是Oracle事务模型中的部分合作伙伴。在分布式事务期间，网关不能是提交点站点。两阶段提交用于支持回滚，提交，推测 - 中止和准备的目标系统，但不支持commit-confirm，因为它们没有分布式事务内存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d13746e590" headers="d13746e554 ">
                                    <p>两阶段提交提交确认</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d13746e590 d13746e557 ">
                                    <p>网关是Oracle事务模型中的完整合作伙伴。在分布式事务期间，网关可以是提交点站点，具体取决于网关初始化文件中定义的提交点强度。此事务类型用于支持完整的两阶段提交事务模型的目标系统。也就是说，目标系统支持回滚，提交，推测 - 中止，准备和提交 - 确认。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="WSMQG219"></a><div class="props_rev_3"><a id="GUID-7229937F-7266-4ABF-8FAD-833F32E4363E" name="GUID-7229937F-7266-4ABF-8FAD-833F32E4363E"></a><h4 id="WSMQG-GUID-7229937F-7266-4ABF-8FAD-833F32E4363E" class="sect4">用于WebSphere MQ的Oracle Database Gateway的事务功能类型</h4>
                  <div>
                     <p>来自Oracle应用程序（调用WebSphere MQ消息队列操作和使用网关）的事务由Oracle事务发起的Oracle数据库中的Oracle事务协调器管理。</p>
                     <p>Oracle Database Gateway for WebSphere MQ提供以下事务类型：</p>
                  </div><a id="WSMQG220"></a><div class="props_rev_3"><a id="GUID-1003BF8E-18E7-4357-AE74-63AAA7ED2458" name="GUID-1003BF8E-18E7-4357-AE74-63AAA7ED2458"></a><h5 id="WSMQG-GUID-1003BF8E-18E7-4357-AE74-63AAA7ED2458" class="sect5">单站点事务</h5>
                     <div>
                        <p>所有WebSphere MQ环境和平台都支持单站点事务。</p>
                        <p><a id="d13746e649" class="indexterm-anchor"></a>单站点意味着仅当属于同一WebSphere MQ队列管理器的队列更新时，网关才能参与事务。Oracle应用程序可以选择但不更新发送到WebSphere MQ队列或从WebSphere MQ队列接收消息的同一事务中的任何Oracle数据库上的数据。要更新Oracle数据库中的对象，应首先提交或回滚涉及WebSphere MQ队列的事务。
                        </p>
                        <p>网关的默认模式使用WebSphere MQ单阶段实现，其中队列管理器充当同步点协调器。</p>
                     </div>
                  </div><a id="WSMQG221"></a><div class="props_rev_3"><a id="GUID-00A75967-A3C8-498C-8BC7-560E3FBA431E" name="GUID-00A75967-A3C8-498C-8BC7-560E3FBA431E"></a><h5 id="WSMQG-GUID-00A75967-A3C8-498C-8BC7-560E3FBA431E" class="sect5">提交确认事务</h5>
                     <div>
                        <p>Commit-Confirm事务是单站点事务的增强形式，并且支持所有WebSphere MQ环境和平台。</p>
                        <p><a id="d13746e684" class="indexterm-anchor"></a><a id="d13746e688" class="indexterm-anchor"></a>提交确认意味着当更新属于同一WebSphere MQ队列管理器的队列时，网关可以参与事务，同时更新任意数量的Oracle数据库。只有一个具有commit-confirm模型的网关才能加入分布式事务，因为网关作为事务的焦点。要将更改应用于多个队列管理器的队列，需要在为下一个队列管理器启动新事务之前提交应用于一个队列管理器的更新。
                        </p>
                        <p>与单站点事务一样，commit-confirm事务是使用WebSphere MQ单阶段实现的，但它需要队列管理器上的专用恢复队列来记录事务ID。在提交时，网关将消息放入此队列，并将消息ID设置为Oracle事务ID。在网关调用队列管理器提交事务之后，事务日志队列上的额外消息将成为整个事务的一部分。这使得可以在系统故障的情况下确定事务的结果，允许网关恢复失败的事务。当事务成功完成时，网关将从队列中删除关联的消息。</p>
                        <p>WebSphere MQ管理员必须在队列管理器中创建保留队列。此队列的名称在网关中指定<a id="d13746e695" class="indexterm-anchor"></a><a id="d13746e701" class="indexterm-anchor"></a>初始化文件用<a id="d13746e708" class="indexterm-anchor"></a><a id="d13746e710" class="indexterm-anchor"></a> <code class="codeph">TRANSACTION_LOG_QUEUE</code>参数。通过网关访问WebSphere MQ的所有Oracle用户都应具有此队列的完全授权。事务日志队列仅保留用于事务日志记录，不得由网关使用，访问或更新。发生系统故障时，Oracle恢复过程会检查事务日志队列以确定恢复策略。
                        </p>
                        <p>两个网关初始化参数， <a id="d13746e719" class="indexterm-anchor"></a><a id="d13746e721" class="indexterm-anchor"></a> <code class="codeph">TRANSACTION_RECOVERY_USER</code>和<a id="d13746e728" class="indexterm-anchor"></a><a id="d13746e730" class="indexterm-anchor"></a> <code class="codeph">TRANSACTION_RECOVERY_PASSWORD</code>在网关初始化文件中设置，以指定用于恢复目的的用户ID和密码。设置后，网关将使用此用户ID和密码组合进行恢复工作。恢复用户标识应具有事务日志队列的完全授权。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="database-gateway-webspheremq-initialization-parameters.html#GUID-A037975F-8CED-4A9F-97A1-59CBAD688F62">用于WebSphere MQ初始化参数的Oracle数据库网关</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="WSMQG222"></a><div class="props_rev_3"><a id="GUID-4FD2B66E-D207-46AF-A365-B6717E73A0F7" name="GUID-4FD2B66E-D207-46AF-A365-B6717E73A0F7"></a><h3 id="WSMQG-GUID-4FD2B66E-D207-46AF-A365-B6717E73A0F7" class="sect3">故障排除</h3>
               <div>
                  <p>本节包括有关消息，错误代码，网关跟踪和网关操作的信息。</p>
               </div><a id="WSMQG223"></a><div class="props_rev_3"><a id="GUID-53AE79F7-382B-4369-A670-E9390A5C6050" name="GUID-53AE79F7-382B-4369-A670-E9390A5C6050"></a><h4 id="WSMQG-GUID-53AE79F7-382B-4369-A670-E9390A5C6050" class="sect4">消息和错误代码处理</h4>
                  <div>
                     <p>网关架构包括许多组件。在处理PL / SQL代码时，这些组件中的任何一个都可以检测并报告错误情况。</p>
                     <p>错误条件可能很复杂，涉及错误代码和来自多个组件的支持数据。在所有情况下，Oracle应用程序都会收到一个要执行操作的Oracle错误代码。</p>
                     <p>错误条件以下列方式表示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d13746e798" class="indexterm-anchor"></a>来自的错误<a id="d13746e803" class="indexterm-anchor"></a> Oracle数据库</p>
                           <p>来自Oracle数据库的消息的格式为ORA- <span class="italic">xxxxx</span>或PLS- <span class="italic">xxxxx，</span>其中<span class="italic">xxxxx</span>是代码编号。ORA- <span class="italic">xxxxx</span>之后是解释错误代码的文本。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">PLS-00306：调用'MQOPEN'ORA-06550时错误的参数数量或类型：第7行，第3列：PL / SQL：语句被忽略</pre></li>
                        <li>
                           <p>网关和<a id="d13746e829" class="indexterm-anchor"></a> WebSphere MQ <a id="d13746e834" class="indexterm-anchor"></a>错误<a id="d13746e839" class="indexterm-anchor"></a> 
                           </p>
                           <p>如果可能，WebSphere MQ错误代码将转换为Oracle错误代码。如果那是不可能的，那么Oracle <a id="d13746e846" class="indexterm-anchor"></a>错误<a id="d13746e851" class="indexterm-anchor"></a>返回带有相应WebSphere MQ错误代码的ORA-29400。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">ORA-29400：数据盒式磁带错误MQI MQCONNX失败。完成代码= 2，原因代码= 2058</pre><div class="infoboxnote" id="GUID-53AE79F7-382B-4369-A670-E9390A5C6050__GUID-C6A6FC0D-8392-4535-9BAD-D5D2B846A9D3">
                              <p class="notep1">注意：</p>
                              <p>由于Oracle数据库仅区分所有用户操作的成功或失败结果，因此返回警告的MQI调用将报告为成功操作。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-gateway-webspheremq-running-environment.html#GUID-C2FB7109-1E21-4341-998E-231883127A18" title="本节中描述的错误条件是应用程序在使用网关时可能会收到的常见错误情况。">常见错误代码</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-53AE79F7-382B-4369-A670-E9390A5C6050__NOTE-134-E248FC9B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/wsmqg&amp;id=ERRMG" target="_blank"><span class="italic">Oracle数据库错误消息</span></a></p>
                     </div>
                  </div>
                  <a id="WSMQG224"></a><div class="props_rev_3"><a id="GUID-4A0A51D3-B84E-4EF4-B481-7568A8F23CBD" name="GUID-4A0A51D3-B84E-4EF4-B481-7568A8F23CBD"></a><h5 id="WSMQG-GUID-4A0A51D3-B84E-4EF4-B481-7568A8F23CBD" class="sect5">解释网关消息</h5>
                     <div>
                        <p>除了与Oracle消息号关联的文本之外，错误代码通常还附带有其他消息文本。</p>
                        <p><a id="d13746e901" class="indexterm-anchor"></a><a id="d13746e905" class="indexterm-anchor"></a>附加文本包含有关错误的详细信息。
                        </p>
                        <p>网关消息具有以下格式：</p><pre class="oac_no_warn" dir="ltr">ORA-nnnnn： <span class="italic">error_message_text</span> <span class="italic">gateway_message_line</span>
</pre><p>哪里：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>nnnn是Oracle错误号。</p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">error_message_text</code></span>是与错误关联的消息的文本。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">gateway_message_line</code></span>是网关生成的附加消息文本。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="WSMQG225"></a><div class="props_rev_3"><a id="GUID-C2FB7109-1E21-4341-998E-231883127A18" name="GUID-C2FB7109-1E21-4341-998E-231883127A18"></a><h4 id="WSMQG-GUID-C2FB7109-1E21-4341-998E-231883127A18" class="sect4">常见错误代码</h4>
                  <div>
                     <p>本节中描述的错误条件是应用程序在使用网关时可能会收到的常见错误情况。</p>
                     <div class="section">
                        <p>但是，它并未涵盖所有错误情况。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-C2FB7109-1E21-4341-998E-231883127A18__GUID-C838B9C7-1EEA-4230-9182-800394B1E580"><!-- --></a> ORA-01017：用户名/密码无效;登录被拒绝</dt>
                           <dd>
                              <p>原因：用户名或密码无效</p>
                           </dd>
                           <dd class="ddexpand">
                              <p>行动：登录被拒绝</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-C2FB7109-1E21-4341-998E-231883127A18__GUID-215A1FE7-2DB3-4A99-88A4-7371C24A8089"><!-- --></a> ORA-29400：MQSeries MQI调用“call_name”失败，原因码为mqi_code</dt>
                           <dd>
                              <p>原因：对WebSphere MQ队列管理器的MQI调用失败。网关无法完成当前操作。</p>
                           </dd>
                           <dd class="ddexpand">
                              <p>操作：如果是<span class="italic"><code class="codeph">call_name</code></span> <a id="d13746e1001" class="indexterm-anchor"></a><a id="d13746e1005" class="indexterm-anchor"></a> <code class="codeph">MQOPEN</code>和<span class="italic"><code class="codeph">mqi_code</code></span>是2035，然后执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果为宽松的安全模型配置了网关，则使用WebSphere MQ管理命令界面为启动Oracle Net侦听器的用户帐户授予足够的消息权限。这些特权允许用户发送和接收指定WebSphere MQ队列的消息。有关更多信息，请参阅IBM出版物。</p>
                                 </li>
                                 <li>
                                    <p>如果为严格安全模型配置了网关，请使用WebSphere MQ管理命令接口将消息特权授予在中指定的用户名<a id="d13746e1023" class="indexterm-anchor"></a> <code class="codeph">CREATE DATABASE LINK</code> <a id="d13746e1030" class="indexterm-anchor"></a>声明。如果在<code class="codeph">CREATE DATABASE LINK</code>语句中未指定用户名，则授予当前Oracle用户标识的权限。这些特权使用户能够发送和接收指定WebSphere MQ队列的消息。有关更多信息，请参阅IBM出版物。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果<span class="italic"><code class="codeph">call_name</code></span>是<a id="d13746e1046" class="indexterm-anchor"></a> <code class="codeph">MQOPEN</code> <a id="d13746e1052" class="indexterm-anchor"></a> ，如果<span class="italic"><code class="codeph">mqi_code</code></span>为2085，则验证WebSphere MQ概要文件中指定的队列是否存在于您尝试访问的WebSphere MQ队列管理器中，并且队列名称是否正确拼写并且位于正确的字母大小写中。
                              </p>
                              <div class="infoboxnotealso" id="GUID-C2FB7109-1E21-4341-998E-231883127A18__GUID-2E3CBA3D-CED0-48C1-A5B7-11C99383C61F">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关除2035和2085之外的<code class="codeph">mqi_codes</code>更多信息，请参阅IBM出版物。
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG226"></a><div class="props_rev_3"><a id="GUID-19235502-FCE9-4F57-AAFD-E46338A410DF" name="GUID-19235502-FCE9-4F57-AAFD-E46338A410DF"></a><h4 id="WSMQG-GUID-19235502-FCE9-4F57-AAFD-E46338A410DF" class="sect4">网关追踪</h4>
                  <div>
                     <p>网关具有用于测试和调试目的的跟踪功能。</p>
                     <p><a id="d13746e1090" class="indexterm-anchor"></a><a id="d13746e1094" class="indexterm-anchor"></a>跟踪功能收集有关网关运行环境，MQI调用和MQI调用的参数值的信息。要收集的跟踪数据量基于使用选择的跟踪级别<a id="d13746e1097" class="indexterm-anchor"></a><a id="d13746e1099" class="indexterm-anchor"></a> <code class="codeph">TRACE_LEVEL</code>参数。
                     </p>
                     <div class="infoboxnote" id="GUID-19235502-FCE9-4F57-AAFD-E46338A410DF__GUID-87F03078-B44B-4E90-BA2E-8D929D54B926">
                        <p class="notep1">注意：</p>
                        <p>当您的应用程序在生产环境中运行时，请勿启用跟踪，因为它会降低网关性能。</p>
                     </div>
                     <p>跟踪数据将写入由指定的目录和文件<a id="d13746e1111" class="indexterm-anchor"></a><a id="d13746e1113" class="indexterm-anchor"></a> <code class="codeph">LOG_DESTINATION</code>参数。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-gateway-webspheremq-initialization-parameters.html#GUID-A037975F-8CED-4A9F-97A1-59CBAD688F62">用于WebSphere MQ初始化参数的Oracle数据库网关</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="WSMQG227"></a><div class="props_rev_3"><a id="GUID-38CAFD20-929C-4089-B4CD-15B8D8A58832" name="GUID-38CAFD20-929C-4089-B4CD-15B8D8A58832"></a><h5 id="WSMQG-GUID-38CAFD20-929C-4089-B4CD-15B8D8A58832" class="sect5">LOG_DESTINATION参数</h5>
                     <div>
                        <p>这是网关初始化参数。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div><a id="WSMQG228"></a><div class="props_rev_3"><a id="GUID-A6682AE6-7038-4E8D-9DD1-811B3520FCDE" name="GUID-A6682AE6-7038-4E8D-9DD1-811B3520FCDE"></a><h6 id="WSMQG-GUID-A6682AE6-7038-4E8D-9DD1-811B3520FCDE" class="sect6">网关</h6>
                        <div>
                           <div class="section">
                              <p>基于SQL和程序</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="WSMQG229"></a><div class="props_rev_3"><a id="GUID-37EF9E08-FD63-4B74-9858-B5D552D927E2" name="GUID-37EF9E08-FD63-4B74-9858-B5D552D927E2"></a><h6 id="WSMQG-GUID-37EF9E08-FD63-4B74-9858-B5D552D927E2" class="sect6">默认值</h6>
                        <div>
                           <div class="section">
                              <p>默认值为<code class="codeph">SID_agt_PID.trc</code> 。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="WSMQG230"></a><div class="props_rev_3"><a id="GUID-F42E55A0-0A7D-4354-9C60-DA202F49B327" name="GUID-F42E55A0-0A7D-4354-9C60-DA202F49B327"></a><h6 id="WSMQG-GUID-F42E55A0-0A7D-4354-9C60-DA202F49B327" class="sect6">价值范围</h6>
                        <div>
                           <div class="section">
                              <p>没有</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="WSMQG341"></a><a id="WSMQG231"></a><div class="props_rev_3"><a id="GUID-C1CD1E44-DFEE-434D-9FC8-941BF279DBE2" name="GUID-C1CD1E44-DFEE-434D-9FC8-941BF279DBE2"></a><h6 id="WSMQG-GUID-C1CD1E44-DFEE-434D-9FC8-941BF279DBE2" class="sect6">句法</h6>
                        <div>
                           <div class="section">
                              <p> <code class="codeph">LOG_DESTINATION =</code> <span class="italic"><code class="codeph">log_file</code></span></p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-C1CD1E44-DFEE-434D-9FC8-941BF279DBE2__GUID-57F8C676-4382-4B0F-843C-6ECA50A4D81E">参数说明</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section"><pre class="oac_no_warn" dir="ltr">LOG_DESTINATION = <span class="italic">log_file</span>
</pre><p><code class="codeph">LOG_DESTINATION</code>指定网关写入日志记录信息的文件名或目录。当<code class="codeph">log_file</code>已存在时，日志信息将写入文件末尾。
                              </p>
                              <p>如果未指定<code class="codeph">LOG_DESTINATION</code> ，则每次网关启动时都会创建默认日志文件。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="WSMQG232"></a><div class="props_rev_3"><a id="GUID-25B2E31D-6969-4EC6-BE24-C406358D6832" name="GUID-25B2E31D-6969-4EC6-BE24-C406358D6832"></a><h4 id="WSMQG-GUID-25B2E31D-6969-4EC6-BE24-C406358D6832" class="sect4">验证网关操作</h4>
                  <div>
                     <p>如果您的应用程序无法连接到网关，请在启用网关跟踪功能的情况下重新运行应用程序。</p>
                     <p>如果没有将跟踪信息写入<code class="codeph">LOG_DESTINATION</code>指定的日志文件，或者根本没有创建日志文件，则验证：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网关和Oracle数据库的Oracle Net配置已正确设置。</p>
                        </li>
                        <li>
                           <p>Oracle数据库与网关之间存在数据库链接。</p>
                        </li>
                     </ul>
                     <p>如果正确设置了Oracle Net配置和数据库链接，请使用<code class="codeph">test.sql</code>脚本检查网关的操作：</p>
                     <ol>
                        <li>
                           <p>输入以下命令将目录更改为网关示例目录：</p>
                           <p>对于Microsoft Windows：</p><pre class="oac_no_warn" dir="ltr">&gt; cd％ORACLE_HOME％\ dg4mq \ sample</pre><p>对于基于UNIX的系统：</p><pre class="oac_no_warn" dir="ltr">$ cd $ ORACLE_HOME / dg4mq / sample</pre></li>
                        <li>
                           <p>使用编辑器修改<a id="d13746e1335" class="indexterm-anchor"></a><a id="d13746e1337" class="indexterm-anchor"></a> <code class="codeph">test.sql</code>脚本如下：</p>
                           <ol type="a">
                              <li>
                                 <p>指定为网关创建的数据库链接名称。要执行此操作，请将字符<code class="codeph">@dg4mq</code>替换为<code class="codeph">@</code> <span class="italic"><code class="codeph">dblink</code></span> ，其中<span class="italic"><code class="codeph">dblink</code></span>是您在创建数据库链接时选择的名称。
                                 </p>
                              </li>
                              <li>
                                 <p>将字符<span class="italic"><code class="codeph">YOUR_QUEUE_NAME</code></span>替换为有效的WebSphere MQ队列名称。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>使用SQL * Plus，以有效用户身份连接到Oracle数据库。</p>
                        </li>
                        <li>
                           <p>运行<code class="codeph">test.sql</code> ，这是一个从WebSphere MQ队列发送和检索消息的脚本。成功完成将显示以下输出：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ test.sql消息放在队列中= 10203040506070809000 MQPUT：CorrelId length = 24 MQPUT：MsgId length = 24返回MQPUT，原因码为0 MQGET返回原因码0消息回读= 10203040506070809000</pre><p>不成功的测试显示以下输出：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ test.sql消息放在队列中= 10203040506070809000错误：Oracle Database Gateway for WebSphere MQ验证脚本失败。ORA-29400：数据盒式磁带错误MQI MQOPEN失败。完成代码= 2，原因代码= 2085</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-database-gateway-webspheremq.html#GUID-B7316A3E-DC89-44AC-984D-EE262D09AB3F" title="网关要求Oracle Net提供与Oracle数据库之间的透明数据访问。">为网关配置Oracle Net</a></li>
                           <li><a href="configuring-database-gateway-webspheremq.html#GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C" title="首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。">管理数据库链接别名库</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02964.managing-oracle-data-guard-broker-configurations.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Use Oracle Data Guard broker to manage and monitor the configuration. Oracle Enterprise Manager uses the broker to report health and other operational characteristics."></meta>
      <meta name="description" content="Use Oracle Data Guard broker to manage and monitor the configuration. Oracle Enterprise Manager uses the broker to report health and other operational characteristics."></meta>
      <title>管理代理配置</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Broker "></meta>
      <meta property="og:description" content="Use Oracle Data Guard broker to manage and monitor the configuration. Oracle Enterprise Manager uses the broker to report health and other operational characteristics."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Broker"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-broker.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-29T04:14:25-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96245-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-guard-broker-installation-requirements.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-oracle-data-guard-broker-configuration-members.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Broker"></meta>
    <meta name="dcterms.isVersionOf" content="DGBKR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-guard-broker-installation-requirements.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-oracle-data-guard-broker-configuration-members.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">经纪人</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理代理配置</li>
            </ol>
            <a id="GUID-FCCDC53A-C6F4-4AFB-A220-9D6622474027" name="GUID-FCCDC53A-C6F4-4AFB-A220-9D6622474027"></a><a id="DGBKR095"></a>
            
            <h2 id="DGBKR-GUID-FCCDC53A-C6F4-4AFB-A220-9D6622474027" class="sect2"><span class="enumeration_chapter">3</span>管理代理配置</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用Oracle Data Guard代理来管理和监视配置。Oracle Enterprise Manager使用代理报告运行状况和其他操作特征。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696" title="Oracle Data Guard代理允许您创建包含多达253个成员的代理配置，包括一个主数据库以及备用数据库，远程同步实例和零数据丢失恢复设备的组合。">配置支持</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-BF708883-519A-428D-A1A1-BDCDCE272D64" title="配置属性控制代理配置的行为。">配置属性</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-E4EE9680-63B7-4483-843B-47E33FC41B20" title="当代理首次启动时，将自动创建配置文件，并使用特定于操作系统的默认路径名和文件名进行命名。">设置代理配置文件</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2" title="设置配置文件后，必须将每个数据库的DG_BROKER_START初始化参数设置为TRUE才能启动DMON进程。">启动Data Guard Broker</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE" title="该图显示了代理配置的生命周期，随附的文本说明了该周期的每个阶段。">经纪人配置的管理周期</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931" title="在代理配置中启用或禁用数据库时，您实际上是启用或禁用代理管理和监视指定数据库的功能。">启用和禁用操作</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-92632C7B-BFF3-4678-9F4F-CC0B72ED6A35" title="配置状态显示配置的整体运行状况。">配置状态</a></p>
                  </li>
               </ul>
            </div><a id="DGBKR3518"></a><a id="DGBKR100"></a><div class="props_rev_3"><a id="GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696" name="GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696"></a><h3 id="DGBKR-GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696" class="sect3"><span class="enumeration_section">3.1</span>配置支持</h3>
               <div>
                  <p>Oracle Data Guard代理允许您创建包含多达253个成员的代理配置，包括一个主数据库以及备用数据库，远程同步实例和零数据丢失恢复设备的组合。</p>
                  <p>代理控制配置成员，监视配置的运行状况，如果使用Oracle Enterprise Manager云控制，则通过Oracle企业管理通知机制报告运行状况和其他操作特征，如果使用DGMGRL，则通过<code class="codeph">SHOW</code>命令报告。</p>
                  <p>受支持的Oracle Data Guard配置包含以下组件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>主数据库（Oracle RAC或非Oracle RAC）</p>
                     </li>
                     <li>
                        <p>备用数据库，远程同步实例和从主数据库接收重做的恢复设备的组合。</p>
                     </li>
                     <li>
                        <p>Oracle Net Services网络配置，用于定义数据库之间的连接</p>
                     </li>
                     <li>
                        <p>待机（归档重做日志文件）目标参数和配置属性</p>
                     </li>
                     <li>
                        <p>重做传输服务，将重做数据从主数据库传输到备用数据库和远程同步实例</p>
                     </li>
                     <li>
                        <p>日志应用服务，将重做数据从存档的重做日志文件或备用重做日志文件应用于备用数据库</p>
                     </li>
                  </ul>
                  <p>Oracle Data Guard日志将服务更新备用数据库应用于重做数据，该重做数据由重做传输服务从主数据库自动传输。归档的重做日志文件和备用重做日志文件包含除<span class="italic">不可恢复</span>或未<span class="italic">记录的</span>更改之外的所有数据库更改。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在物理备用数据库上，Redo Apply应用重做数据以使备用数据库与主数据库保持一致。</p>
                     </li>
                     <li>
                        <p>在逻辑备用数据库上，SQL Apply应用重做数据以使备用数据库与主数据库保持一致。</p>
                     </li>
                     <li>
                        <p>在快照备用数据库上，接收重做数据，但在将快照备用数据库转换回物理备用数据库之前不会应用。</p>
                     </li>
                     <li>
                        <p>在远程同步实例上，接收重做数据，然后将其转发到物理备用数据库。远程同步实例没有数据文件，也不应用它收到的任何重做数据。</p>
                     </li>
                  </ul>
                  <p>代理的Oracle Data Guard监视器（DMON）进程将代理配置配置为一组对象，您可以将其作为一个单元进行管理和监视。因此，当您输入影响多个数据库的命令时，DMON进程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在主数据库上执行您的请求</p>
                     </li>
                     <li>
                        <p>根据您的请求，协调每个其他数据库的DMON流程</p>
                     </li>
                     <li>
                        <p>更新本地系统上的配置文件</p>
                     </li>
                     <li>
                        <p>与每个其他数据库的DMON进程通信，以更新其配置文件的副本</p>
                     </li>
                  </ul>
                  <p>通过DMON过程，您可以将数据库和配置作为一个整体进行配置，监视和控制。如果禁用配置，则还会禁用配置中所有数据库的代理管理。如果稍后启用配置，则会为配置中的每个数据库启用代理管理。</p>
                  <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696__I1016374">图3-1</a>显示了具有主数据库和物理备用数据库的代理配置。
                  </p>
                  <p>在主数据库中，该图显示了除以下主要组件之外的重做传输服务：主数据库，DMON，联机重做日志文件和归档重做日志文件。该图还显示了主要端的大纲形式的备用重做日志文件;概述备用重做日志以指示它们当前处于非活动状态但已配置为准备切换或故障转移到备用角色。物理备用数据库包括以下组件：备用数据库，日志应用服务，DMON，归档重做日志文件和备用重做日志文件。概述物理备用数据库上的联机重做日志文件，以指示它们当前处于非活动状态但已配置为准备切换或故障转移到主要角色。</p>
                  <div class="infoboxnotealso" id="GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696__GUID-337C8B0D-FF7C-44EB-B9B1-256571504A47">
                     <p class="notep1">也可以看看：</p>
                     <p>有关备用数据库的详细信息，请参阅<a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#SBYDB4703" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                  </div>
                  <div class="figure" id="GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696__I1016374">
                     <p class="titleinfigure">图3-1 Oracle Data Guard Broker配置</p><img src="img/dgbkr009.gif" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/dgbkr009.html"><br><a href="img_text/dgbkr009.html">“图3-1 Oracle Data Guard Broker配置”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7E2D5B71-4052-4EC9-AA18-3BB4645B1696__GUID-3A836008-B8CF-469A-B27F-983046E47E36">配置范围的服务名称</p>
                     <p>代理在每个配置成员上使用相同的名称发布服务。这种配置范围的服务的默认名称是<code class="codeph"><span class="variable" translate="no">primarydbname</span> _CFG</code> ，其中的一个后缀<code class="codeph">_CFG</code>被附加到的值<code class="codeph">DB_UNIQUE_NAME</code>在创建配置时，主数据库的初始化参数。要更改配置范围服务的名称，请使用<code class="codeph">ConfigurationWideServiceName</code>属性。请参见<a href="oracle-data-guard-broker-properties.html#GUID-EA9AA7B3-36F4-4D45-BD55-30D6A71210DC" title="ConfigurationWideServiceName配置属性用于更改配置范围服务的名称。">ConfigurationWideServiceName</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DGBKR3659"></a><div class="props_rev_3"><a id="GUID-BF708883-519A-428D-A1A1-BDCDCE272D64" name="GUID-BF708883-519A-428D-A1A1-BDCDCE272D64"></a><h3 id="DGBKR-GUID-BF708883-519A-428D-A1A1-BDCDCE272D64" class="sect3"><span class="enumeration_section">3.2</span>配置属性</h3>
               <div>
                  <p>配置属性控制代理配置的行为。</p>
                  <p>您可以使用DGMGRL或Cloud Control查看和动态更新这些属性的值。但是，某些属性只能通过DGMGRL更新。</p>
                  <p>配置属性具有配置范围;意味着您为属性设置的值统一应用于配置中的每个数据库。</p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-BF708883-519A-428D-A1A1-BDCDCE272D64__GUID-9CFA7415-4D70-427A-83C7-D11F03D837F9">
                     <p class="notep1">注意：</p>
                     <p>与Oracle数据库版本19C，与数据库的初始化参数的性能，除了开始<code class="codeph">log_archive_dest_</code> <code class="codeph"><span class="codeinlineitalic">n</span></code>和<code class="codeph">log_archive_dest_state_</code> <code class="codeph"><span class="codeinlineitalic">n</span></code> ，不再存储在代理配置文件中
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BF708883-519A-428D-A1A1-BDCDCE272D64__GUID-AD8C6BA7-0B37-4AEA-9F6A-FCEBA2E1F2CA">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="使用Oracle Data Guard代理属性来管理实例或整个配置。">Oracle Data Guard Broker属性，</a>用于完整描述所有代理配置属性</p>
                  </div>
               </div>
            </div><a id="DGBKR105"></a><div class="props_rev_3"><a id="GUID-E4EE9680-63B7-4483-843B-47E33FC41B20" name="GUID-E4EE9680-63B7-4483-843B-47E33FC41B20"></a><h3 id="DGBKR-GUID-E4EE9680-63B7-4483-843B-47E33FC41B20" class="sect3"><span class="enumeration_section">3.3</span>设置代理配置文件</h3>
               <div>
                  <p>当代理首次启动时，将自动创建配置文件，并使用特定于操作系统的默认路径名和文件名进行命名。</p>
                  <div class="section">
                     <p>二<a id="d6115e355" class="indexterm-anchor"></a>为每个数据库维护配置文件的副本，以便始终记录上次配置的<span class="italic">有效</span>状态。您可以通过为该数据库设置以下初始化参数来覆盖默认路径名和文件名：</p><pre class="oac_no_warn" dir="ltr">DG_BROKER_CONFIG_FILE1 DG_BROKER_CONFIG_FILE2</pre><p>设置<code class="codeph">DG_BROKER_CONFIG_FILE1</code>和<code class="codeph">DG_BROKER_CONFIG_FILE2</code>初始化参数时，请注意以下限制：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>只有在Oracle Data Guard代理未运行时才能设置或更改这些参数（ <code class="codeph">DG_BROKER_START=FALSE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>这些参数必须指定为所有Oracle RAC实例共享的Oracle ASM，Oracle OCFS或NFS。</p>
                        </li>
                        <li>
                           <p>使用PL / SQL程序包<code class="codeph">DBMS_ROLLING</code>执行升级时， <code class="codeph">DG_BROKER_CONFIG_FILE <span class="codeinlineitalic">n</span></code>参数必须指定Oracle主目录之外的位置。（默认位置是Oracle主目录中的<code class="codeph">dbs</code>目录。）
                           </p>
                        </li>
                     </ul>
                     <p>Oracle Data Guard代理适用于使用Oracle托管或用户托管数据文件的数据库。这些数据文件可以驻留在文件系统或Oracle ASM磁盘组中。以下部分包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-73036514-7061-4B0D-83E5-C257EE59D791" title="您可以通过发出ALTER SYSTEM SQL语句来更改代理配置文件的名称。">重命名代理配置文件</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-DFCBAD5E-221E-45E8-8D05-3B782E99B74F" title="在Oracle RAC环境中，数据库的所有实例都必须引用同一组配置文件。">在Oracle RAC环境中管理代理配置文件</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DGBKR3391"></a><div class="props_rev_3"><a id="GUID-73036514-7061-4B0D-83E5-C257EE59D791" name="GUID-73036514-7061-4B0D-83E5-C257EE59D791"></a><h4 id="DGBKR-GUID-73036514-7061-4B0D-83E5-C257EE59D791" class="sect4"><span class="enumeration_section">3.3.1</span>重命名代理配置文件</h4>
                  <div>
                     <p>您可以通过发出<code class="codeph">ALTER SYSTEM</code> SQL语句来更改代理配置文件的名称。
                     </p>
                     <div class="section">
                        <p>但是，当代理的DMON进程正在运行时，您无法更改这些参数。要更改给定数据库的配置文件的名称，请执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用DGMGRL <code class="codeph">DISABLE</code>命令禁用代理配置。请参阅<a href="managing-oracle-data-guard-broker-configurations.html#GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931" title="在代理配置中启用或禁用数据库时，您实际上是启用或禁用代理管理和监视指定数据库的功能。">启用和禁用操作</a> 。</span></li>
                        <li class="stepexpand"><span>使用以下SQL语句停止Oracle Data Guard代理DMON进程：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DG_BROKER_START = FALSE;</pre></div>
                        </li>
                        <li class="stepexpand"><span>更改数据库的配置文件名：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DG_BROKER_CONFIG_FILE1 = <span class="italic">filespec1</span> ; SQL&gt; ALTER SYSTEM SET DG_BROKER_CONFIG_FILE2 = <span class="italic">filespec2</span> ;</pre><div class="infoboxnote" id="GUID-73036514-7061-4B0D-83E5-C257EE59D791__GUID-9CBF1377-2E1D-44F6-8F98-8C52F072C449">
                                 <p class="notep1">注意：</p>
                                 <p>如果代理管理Oracle RAC数据库的价值<code class="codeph">DG_BROKER_CONFIG_FILE1</code>和价值<code class="codeph">DG_BROKER_CONFIG_FILE2</code>为每个实例必须指向同一组的物理文件。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>移动文件的方法取决于它们当前所在的位置以及要将它们移动到的位置：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果文件驻留在操作系统文件系统上，请使用操作系统命令将文件移动到新位置。</p>
                                 </li>
                                 <li>
                                    <p>如果旧位置或新位置是Oracle ASM磁盘组，请使用<code class="codeph">DBMS_FILE_TRANSFER.COPY_FILE</code>函数将文件传输到新位置。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>重新启动Oracle Data Guard代理DMON进程，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DG_BROKER_START = TRUE;</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用DGMGRL <code class="codeph">ENABLE</code>命令或Cloud Control的Oracle Data Guard管理页面中的启用操作启用代理配置。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-73036514-7061-4B0D-83E5-C257EE59D791__GUID-73AFF704-60F5-48BA-A7EA-C0817E4E8C1A">
                           <p class="notep1">注意：</p>
                           <p>从版本11.2开始，文件可以驻留在具有任何支持的扇区大小（物理块大小）的磁盘上，最多包括4KB扇区。由11.2之前的版本生成的配置文件仅限于驻留在与首次创建文件时使用的扇区大小相同的磁盘上。必须首先将这些文件升级到版本11.2，然后才能将它们移动到具有不同扇区大小的位置，否则预期它们将驻留在给定代理配置中的扇区大小的混合中。有关详细信息，请参阅<a href="upgrading-downgrading-in-data-guard-broker-configuration.html#GUID-9B424C49-A005-4106-9EF8-CB7479F9ACB8" title="如果您当前正在Oracle Database 10g或Oracle Database 11g上运行Oracle Data Guard，则可以使用Oracle数据库安装文档将数据库软件升级到Oracle Database 12c第1版（12.1）或Oracle Database 12c第2版（12.2）。适合您的操作系统。">从Oracle数据库10g和Oracle Database 11g升级到Oracle Database 12c</a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3392"></a><div class="props_rev_3"><a id="GUID-DFCBAD5E-221E-45E8-8D05-3B782E99B74F" name="GUID-DFCBAD5E-221E-45E8-8D05-3B782E99B74F"></a><h4 id="DGBKR-GUID-DFCBAD5E-221E-45E8-8D05-3B782E99B74F" class="sect4"><span class="enumeration_section">3.3.2</span>在Oracle RAC环境中管理代理配置文件</h4>
                  <div>
                     <p>在Oracle RAC环境中，数据库的所有实例都必须引用同一组配置文件。</p>
                     <p>这意味着如果经纪人正在管理<a id="d6115e562" class="indexterm-anchor"></a>然后是Oracle RAC数据库的值<a id="d6115e567" class="indexterm-anchor"></a><a id="d6115e569" class="indexterm-anchor"></a> <code class="codeph">DG_BROKER_CONFIG_FILE1</code>和每个实例的<code class="codeph">DG_BROKER_CONFIG_FILE2</code>值必须指向同一组物理文件。可以使用以下方法之一部署配置文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD" title="代理配置文件可以驻留在群集文件系统（CFS）上。">使用群集文件系统（CFS）配置文件</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-72586D45-4E5D-409B-B594-8B00FBF91507" title="代理的配置文件也可以驻留在Oracle ASM磁盘组上。">将Oracle ASM磁盘组用于配置文件</a></p>
                        </li>
                     </ul>
                  </div><a id="DGBKR3519"></a><a id="DGBKR3393"></a><div class="props_rev_3"><a id="GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD" name="GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD"></a><h5 id="DGBKR-GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD" class="sect5"><span class="enumeration_section">3.3.2.1</span>使用群集文件系统（CFS）配置文件</h5>
                     <div>
                        <p>代理配置文件可以驻留在群集文件系统（CFS）上。</p>
                        <p>如果他们这样做的话<a id="d6115e621" class="indexterm-anchor"></a> ，必须将所有实例上的<code class="codeph">DG_BROKER_CONFIG_FILE</code> <span class="variable" translate="no">n</span>参数设置为这些文件，包括CFS区域的路径。<a href="managing-oracle-data-guard-broker-configurations.html#GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD__CFHBJHIG">图3-2</a>显示了代理配置文件的设置<a id="d6115e633" class="indexterm-anchor"></a><a id="d6115e637" class="indexterm-anchor"></a><a id="d6115e641" class="indexterm-anchor"></a> CFS。在这种情况下，所有实例的参数和值将是：</p><pre class="oac_no_warn" dir="ltr">DG_BROKER_CONFIG_FILE1 = $ ORACLE_BASE / admin / <span class="italic">db_unique_name</span> / dr1 <span class="italic">db_unique_name</span> .dat DG_BROKER_CONFIG_FILE2 = $ ORACLE_BASE / admin / <span class="italic">db_unique_name</span> / dr2 <span class="italic">db_unique_name</span> .dat</pre><div class="figure" id="GUID-DA58B12D-65A3-439E-8919-AF56F28DD2FD__CFHBJHIG">
                           <p class="titleinfigure">图3-2 CFS区域中的代理配置设置</p><img src="img/dgbkr002.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/dgbkr002.html"><br><a href="img_text/dgbkr002.html">“图3-2 CFS区域中的代理配置设置”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="DGBKR3520"></a><a id="DGBKR3394"></a><div class="props_rev_3"><a id="GUID-72586D45-4E5D-409B-B594-8B00FBF91507" name="GUID-72586D45-4E5D-409B-B594-8B00FBF91507"></a><h5 id="DGBKR-GUID-72586D45-4E5D-409B-B594-8B00FBF91507" class="sect5"><span class="enumeration_section">3.3.2.2</span>将Oracle ASM磁盘组用于配置文件</h5>
                     <div>
                        <p>代理的配置文件也可以驻留在Oracle ASM磁盘组上。</p>
                        <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-72586D45-4E5D-409B-B594-8B00FBF91507__CFHBJBDE">图3-3</a>显示了Oracle ASM设备上代理配置文件的设置。在这种情况下，将指定参数和值，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DG_BROKER_CONFIG_FILE1 ='+ DG / DIRECTORY / DR1。DAT'SCOPE =两个; ALTER SYSTEM SET DG_BROKER_CONFIG_FILE2 ='+ DG / DIRECTORY / DR2。DAT'SCOPE =两个;</pre><div class="figure" id="GUID-72586D45-4E5D-409B-B594-8B00FBF91507__CFHBJBDE">
                           <p class="titleinfigure">图3-3使用Oracle ASM进行代理配置设置</p><img src="img/dgbkr001.gif" alt="下面是图3-3的描述" title="下面是图3-3的描述" longdesc="img_text/dgbkr001.html"><br><a href="img_text/dgbkr001.html">“图3-3使用Oracle ASM进行代理配置设置”的说明</a></div>
                        <!-- class="figure" -->
                        <p>由于配置文件必须由用户显式命名，因此这些配置文件不是Oracle Managed Files（OMF）。要在Oracle ASM磁盘组上创建代理的配置文件，请将<code class="codeph">DG_BROKER_CONFIG_FILE1</code>和<code class="codeph">DG_BROKER_CONFIG_FILE2</code>初始化参数设置为字符串值，该字符串值包括现有Oracle ASM磁盘组的名称，该磁盘组中的现有目录以及配置的名称文件本身。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DGBKR115"></a><div class="props_rev_3"><a id="GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2" name="GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2"></a><h3 id="DGBKR-GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2" class="sect3"><span class="enumeration_section">3.4</span>启动Data Guard Broker</h3>
               <div>
                  <p>设置配置文件后，必须将每个数据库的<code class="codeph">DG_BROKER_START</code>初始化参数设置为<code class="codeph">TRUE</code>才能启动DMON进程。
                  </p>
                  <div class="section">
                     <p>默认情况下， <code class="codeph">DG_BROKER_START</code>初始化参数设置为<code class="codeph">FALSE</code> 。但是，您可以通过以下方式设置值：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您使用的是Cloud Control，它会自动将<code class="codeph">DG_BROKER_START</code>初始化参数设置为<code class="codeph">TRUE</code> ，以用于它创建的新备用数据库。
                           </p>
                        </li>
                        <li>
                           <p>如果使用DGMGRL，则必须将<code class="codeph">DG_BROKER_START</code>初始化参数明确设置为<code class="codeph">TRUE</code> ;否则，经纪人将无法启动。您可以使用以下SQL语句设置<code class="codeph">DG_BROKER_START</code>初始化参数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DG_BROKER_START = TRUE;系统改变了。SQL&gt; SHOW PARAMETER DG_BROKER_START NAME TYPE VALUE ------------------------------------ dg_broker_start boolean TRUE</pre></li>
                     </ul>
                     <p>无论您使用Cloud Control还是DGMGRL，请在每个主数据库和备用数据库的服务器参数文件中将<code class="codeph">DG_BROKER_START</code>初始化参数的值设置为<code class="codeph">TRUE</code> 。这样做可确保Oracle Data Guard代理在下次启动数据库实例时自动启动。
                     </p>
                     <div class="infoboxnote" id="GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2__GUID-79299331-689C-4BC6-819D-E12D8256FC45">
                        <p class="notep1">注意：</p>如果初始化参数<code class="codeph">DG_BROKER_START=TRUE</code> ，则如果对主数据库执行SQL <code class="codeph">STARTUP MOUNT</code>或<code class="codeph">ALTER DATABASE MOUNT</code>语句，则会在数据库级别自动启用存档日志模式。
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DGBKR3522"></a><a id="DGBKR3523"></a><a id="DGBKR3524"></a><a id="DGBKR3525"></a><a id="DGBKR3634"></a><a id="DGBKR3526"></a><a id="DGBKR3527"></a><a id="DGBKR3528"></a><a id="DGBKR3529"></a><a id="DGBKR120"></a><div class="props_rev_3"><a id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE" name="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE"></a><h3 id="DGBKR-GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE" class="sect3"><span class="enumeration_section">3.5</span>代理配置的管理周期</h3>
               <div>
                  <p>该图显示了代理配置的生命周期，随附的文本说明了该周期的每个阶段。</p>
                  <div class="figure" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__I1019110">
                     <p class="titleinfigure">图3-4代理配置及其数据库的生命周期</p><img src="img/dgbkr005.gif" alt="下面是图3-4的描述" title="下面是图3-4的描述" longdesc="img_text/dgbkr005.html"><br><a href="img_text/dgbkr005.html">“图3-4代理配置及其数据库的生命周期”的描述</a></div>
                  <!-- class="figure" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-D3806B42-A34A-4E67-BD24-EA3BAE22EFDE">创建代理配置</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用Cloud Control时，“添加备用数据库”向导可以将现有（Oracle RAC或非Oracle RAC）备用数据库添加到配置中，也可以创建新的（Oracle RAC或非Oracle RAC）备用数据库并将其添加到配置中。备用数据库可以是物理，逻辑或快照数据库。</p>
                     <p>使用DGMGRL时，主数据库和备用数据库必须已存在。您可以从主数据库控制文件和数据文件的备份构造备用数据库，然后准备进行恢复。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-2A5EA4D1-EA60-4F34-A395-B69F90B37086">启用代理配置</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>必须启用Oracle Data Guard配置才能由代理管理或监视。相反，如果您不想再使用代理管理配置，则禁用配置。禁用配置时，还会禁用其所有数据库的代理管理。</p>
                     <div class="infoboxnote" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-5DAAC317-7C65-43A5-88AA-9BE073906F4B">
                        <p class="notep1">注意：</p>
                        <p>您可以使用DGMGRL启用或禁用配置。您无法使用Cloud Control禁用配置。如果以前使用DGMGRL禁用了Cloud Control，则可以使用Cloud Control启用配置。</p>
                     </div>
                     <p>首次使用Cloud Control创建时，代理配置会在“添加备用数据库”向导完成后立即自动启用。</p>
                     <p>首次使用DGMGRL创建时，代理配置处于禁用状态。这意味着其组成数据库尚未受到经纪人的主动控制。使用DGMGRL将数据库配置为代理配置后，必须启用配置以允许代理管理配置。</p>
                     <p>您可以启用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>整个配置，包括其所有数据库</p>
                        </li>
                        <li>
                           <p>单个备用数据库</p>
                        </li>
                     </ul>
                     <p>如果出现问题，您可以轻松地禁用数据库，使其无法在代理配置中正常运行。请注意，您无法禁用主数据库。您必须禁用整个配置才能禁用主数据库。</p>
                     <p>您可能还希望暂时禁用配置，然后更改代理配置中的某些属性，而不会影响实际的数据库属性。更改的属性将在再次启用配置以供代理管理时生效。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-2A1D40D5-DB5C-497F-BE53-A5FE7B93D81A">根据需要在代理配置中进行角色更改</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以随时发出单个命令来更改配置中数据库的角色。如果某个事件使主数据库不可用，则可以将其中一个备用数据库故障转移为新的主数据库。</p>
                     <p>如果在以前的主数据库上启用了闪回数据库，则在故障转移完成后，您可以将以前的主数据库恢复为新主数据库的备用数据库。</p>
                     <p>此外，可以减少计划的维护停机时间，因为您可以快速将生产处理从当前主数据库切换到备用数据库，然后在计划维护后再次切换回来。</p>
                     <div class="infoboxnotealso" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-C45B43F6-BAEC-49F0-815E-2A45BC0B11D7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关角色更改的详细信息，请<a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-44E7A982-7CD4-4A51-B00E-62C0698C5CD6" title="了解如何使用Oracle Data Guard代理在切换和故障转移期间管理数据库。">参见切换和故障转移操作</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-8C76DCBA-6488-48A4-A07B-B42A7A40E75B">转换为快照备用数据库</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以随时发出单个命令将物理备用数据库转换为快照备用数据库。快照备用数据库是完全可更新的数据库，它接收从主数据库生成的重做数据，但不应用它。</p>
                     <p>使用完快照备用数据库后，可以再次发出一个命令将其转换为物理备用数据库。转换为物理备用数据库完成后，将启动重做应用服务（假设状态为<code class="codeph">APPLY-ON</code> ）并应用所有累积的重做数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-B2B77522-99DE-4882-82BD-724157B93905">根据需要对数据库进行状态更改</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>第一次启用配置时，默认情况下，代理会在主服务器上启动重做传输服务，并在备用服务器上启动日志应用服务（快照备用数据库除外）。</p>
                     <p>您可以随时通过Cloud Control或DGMGRL发出单个命令来更改数据库的状态。例如，您可以将主数据库置于<code class="codeph">TRANSPORT-OFF</code>状态，以暂时停止将重做数据发送到备用数据库。然后，要继续将重做数据发送到备用数据库，可以将主数据库置于<code class="codeph">TRANSPORT-ON</code>状态。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-14FF7D1D-3856-4DD9-8A3A-F56D27BDE0B2">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7" title="了解如何管理代理配置成员，以及监视配置的每个成员的状态。">管理代理配置的成员以</a>获取有关数据库状态更改的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-C1DEB861-D0CF-4817-B02E-FB7B2A529D1D">根据需要更新数据库属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>代理允许您设置数据库属性，其中一些属性对应于数据库初始化参数。您可以更改这些属性以动态控制重做传输，备用文件管理，日志应用等操作，并支持整体配置保护模式。代理在Oracle Data Guard配置中记录每个数据库的代理配置文件中的更改，并根据需要将更改传播到服务器参数文件中的相关初始化参数。</p>
                     <div class="infoboxnotealso" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-907D046A-BFBA-4137-9407-0F667DB953A4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7" title="Learn how to manage broker configuration members, and monitor the state of each member of the configuration.">管理Broker配置</a>和<a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="使用Oracle Data Guard代理属性来管理实例或整个配置。">Oracle Data Guard Broker属性</a> <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-0CD70A29-4F51-4CC1-88EB-2D8AA29F75D7" title="了解如何管理代理配置成员，以及监视配置的每个成员的状态。">的成员，以</a>获取有关数据库属性的完整信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-56CD3D92-B16C-477E-ABC8-3D41C95B3617">根据需要设置数据保护模式</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>代理使您可以为配置设置数据保护模式。您可以配置保护模式以最大化数据保护，最大化可用性或最大化性能。</p>
                     <div class="infoboxnotealso" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-7CBFAA08-843F-43E7-9693-F95397CA7669">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-994BE350-859F-41DC-A1D3-B6E8D5EEF2C8" title="您可以使用代理设置具有任何不同数据保护模式的配置。">管理数据保护模式</a>以获取有关管理数据保护模式的信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CB8734A-B5D9-4B65-A950-72ADDF632DCE__GUID-1CB5227C-8181-4FCC-882B-9A70355A5070">监控配置</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以检查配置的运行状况，显示和更新数据库的属性，以及设置Cloud Control事件。</p>
                     <p>Cloud Control还提供动态性能页面，可以按指定的时间间隔自动动态刷新图表数据和状态。性能图表显示了生成和应用多少重做数据的图形摘要。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DGBKR125"></a><div class="props_rev_3"><a id="GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931" name="GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931"></a><h3 id="DGBKR-GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931" class="sect3"><span class="enumeration_section">3.6</span>启用和禁用操作</h3>
               <div>
                  <p>在代理配置中启用或禁用数据库时，您实际上是启用或禁用代理管理和监视指定数据库的功能。</p>
                  <p>仅为代理配置中的数据库定义启用和禁用操作;您不能对不属于代理配置的数据库执行这些代理操作。<a id="d6115e1063" class="indexterm-anchor"></a><a id="d6115e1067" class="indexterm-anchor"></a></p>
                  <p>但是，禁用代理配置不会影响实际Oracle Data Guard配置中的当前服务和操作。例如，禁用代理配置时，Oracle Data Guard配置中的重做传输服务和日志应用服务将继续保持不变，但您无法再通过代理接口对其进行管理。</p>
                  <p>此外，禁用数据库<span class="italic">不会</span>从代理配置文件中删除或删除它。您仍然可以更改已禁用数据库的属性，然后使用DGMGRL <code class="codeph">ENABLE CONFIGURATION</code>或<code class="codeph">ENABLE DATABASE</code>命令或Cloud Control的Oracle Data Guard管理页面中的Enable选项重新启用使用代理进行管理的功能。
                  </p>
                  <div class="infoboxnote" id="GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931__GUID-2A215DA6-F271-449D-9833-747D0285658E">
                     <p class="notep1">注意：</p>
                     <p>如果在代理配置中禁用备用数据库的代理管理，则在丢失主数据库时，代理不能将该备用数据库用作故障转移目标。</p>
                  </div>
                  <p>即使您要删除代理监视和控制数据库的能力，禁用代理管理配置也可能很有用。例如，暂时禁用配置以便同时更改代理配置中的一个或多个属性可能是有利的。在禁用配置中更改属性时，它不会影响下面的实际数据库属性，因为在重新启用配置之前，更改不会应用于正在运行的数据库。例如，您可能希望更改已禁用配置的整体配置保护模式和重做传输服务属性，以便在下一次启用操作时同时将所有更改应用于配置。</p>
                  <div class="infoboxnotealso" id="GUID-C2D3075F-FEA6-4C38-93F5-36E945D6C931__GUID-BF131332-12FD-4F4E-81BC-246C9CD448D6">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-4F9446D8-AB6E-4917-BED2-058126654DA0" title="这些主题描述了Oracle Data Guard配置的保护模式和重做传输服务如何影响切换，故障转移以及禁用或启用配置等操作。">保护模式如何影响经纪人的运作</a></p>
                  </div>
               </div>
            </div><a id="DGBKR130"></a><div class="props_rev_3"><a id="GUID-92632C7B-BFF3-4678-9F4F-CC0B72ED6A35" name="GUID-92632C7B-BFF3-4678-9F4F-CC0B72ED6A35"></a><h3 id="DGBKR-GUID-92632C7B-BFF3-4678-9F4F-CC0B72ED6A35" class="sect3"><span class="enumeration_section">3.7</span>配置状态</h3>
               <div>
                  <p>配置状态显示配置的整体运行状况。</p>
                  <p>从其所有数据库的状态获取配置的状态。 <a id="d6115e1131" class="indexterm-anchor"></a><a id="d6115e1135" class="indexterm-anchor"></a><a id="d6115e1139" class="indexterm-anchor"></a> 
                  </p>
                  <p>以下列表描述了配置的可能状态模式：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d6115e1149" class="indexterm-anchor"></a>成功</p>
                        <p>配置（包括其中配置的所有数据库）按用户指定的方式运行，没有任何警告或错误。</p>
                     </li>
                     <li>
                        <p><a id="d6115e1156" class="indexterm-anchor"></a>警告</p>
                        <p>配置中的一个或多个数据库未按用户指定的方式运行。要获取更多信息，请使用DGMGRL <code class="codeph">SHOW DATABASE &lt;db-unique-name&gt;</code>命令或Cloud Control显示来查找每个数据库并检查其状态以显示问题的根源。
                        </p>
                     </li>
                     <li>
                        <p><a id="d6115e1166" class="indexterm-anchor"></a><a id="d6115e1168" class="indexterm-anchor"></a>错误</p>
                        <p>配置中的一个或多个数据库失败或可能不再按用户指定的方式运行。要获取更多信息，请使用DGMGRL <code class="codeph">SHOW DATABASE &lt;db-unique-name&gt;</code>命令或Cloud Control显示来查找每个数据库并检查其状态以显示问题的根源。
                        </p>
                     </li>
                     <li>
                        <p>未知/禁用</p>
                        <p>已禁用配置的代理管理，并且代理不监视配置中数据库的状态。</p>
                     </li>
                     <li>
                        <p>滚动数据库维护正在进行中</p>
                        <p>使用PL / SQL <code class="codeph">DBMS_ROLLING</code>包执行的操作正在进行中。
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10721.REVOKE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>撤消</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="RENAME.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ROLLBACK.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="RENAME.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ROLLBACK.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL语句：MERGE更新</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">撤消</li>
            </ol>
            <a id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866" name="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866"></a><a id="SQLRF55179"></a><a id="SQLRF55180"></a><a id="SQLRF55181"></a><a id="SQLRF55182"></a><a id="SQLRF55183"></a><a id="SQLRF55184"></a><a id="SQLRF55185"></a><a id="SQLRF56653"></a><a id="SQLRF56654"></a><a id="SQLRF55186"></a><a id="SQLRF55187"></a><a id="SQLRF55188"></a><a id="SQLRF55189"></a><a id="SQLRF55190"></a><a id="SQLRF55191"></a><a id="SQLRF55192"></a><a id="SQLRF55193"></a><a id="SQLRF55194"></a><a id="SQLRF55195"></a><a id="SQLRF55196"></a><a id="SQLRF55197"></a><a id="SQLRF55198"></a><a id="SQLRF55199"></a><a id="SQLRF55200"></a><a id="SQLRF56200"></a><a id="SQLRF55201"></a><a id="SQLRF55202"></a><a id="SQLRF56201"></a><a id="SQLRF55203"></a><a id="SQLRF55811"></a><a id="SQLRF56655"></a><a id="SQLRF56656"></a><a id="SQLRF56657"></a><a id="SQLRF56658"></a><a id="SQLRF55702"></a><a id="SQLRF55204"></a><a id="SQLRF55205"></a><a id="SQLRF55206"></a><a id="SQLRF55207"></a><a id="SQLRF55208"></a><a id="SQLRF55209"></a><a id="SQLRF55210"></a><a id="SQLRF56202"></a><a id="SQLRF55211"></a><a id="SQLRF55212"></a><a id="SQLRF55213"></a><a id="SQLRF55214"></a><a id="SQLRF01609"></a>
            
            <h2 id="SQLRF-GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866" class="sect2">撤消</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-C9F874EA-9A4F-4A26-A36D-F0D3B94DE9D9">目的</p>
                  <p><a id="d422981e183" class="indexterm-anchor"></a><a id="d422981e189" class="indexterm-anchor"></a><a id="d422981e195" class="indexterm-anchor"></a><a id="d422981e199" class="indexterm-anchor"></a>使用<code class="codeph">REVOKE</code>语句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>撤消用户和角色的系统权限</p>
                     </li>
                     <li>
                        <p>从用户，角色和程序单元撤消角色。</p>
                     </li>
                     <li>
                        <p>从用户和角色撤消特定对象的对象权限</p>
                     </li>
                  </ul>
                  <p>有关Oracle自动存储管理的说明</p>
                  <p>经过身份验证的<code class="codeph">AS</code> <code class="codeph">SYSASM</code>用户可以使用此语句从当前节点的Oracle ASM密码文件中的用户撤消系统特权<code class="codeph">SYSASM</code> ， <code class="codeph">SYSOPER</code>和<code class="codeph">SYSDBA</code> 。
                  </p>
                  <p>关于可编辑对象的注释</p>
                  <p>撤消可编辑对象上的对象权限的<code class="codeph">REVOKE</code>操作实现当前版本中的对象。有关版本和可编辑对象的更多信息，请参见“ <a href="../adfns/editions.html#ADFNS99922" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-EE712549-F880-42A6-BD2D-B1A7F323AEE7">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3">GRANT</a>有关授予系统特权和角色的信息</p>
                        </li>
                        <li>
                           <p><a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3__BGBCIIEG" title="第1列包含命名数据库对象的跨区行，提供一些使用说明。第1列中跨区行下的单元格包含每个数据库对象的对象权限。第2列描述了每个对象权限授权的操作。">表18-2</a>列出了每种对象的对象权限</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-80142FB5-B951-455D-9EF8-B77BC5380D5E">先决条件</p>
                  <p>要撤消<span class="bold">系统特权，</span>您必须已使用<code class="codeph">ADMIN</code> <code class="codeph">OPTION</code>授予该特权。如果您具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">PRIVILEGE</code>系统特权，则可以撤消任何特权。
                  </p>
                  <p>要从<span class="bold">用户或其他角色</span>撤消<span class="bold">角色</span> ，您必须直接使用<code class="codeph">ADMIN</code> <code class="codeph">OPTION</code>授予角色，或者您必须已创建角色。如果您具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">ROLE</code>系统特权，则可以撤消任何角色。
                  </p>
                  <p>要从<span class="bold">程序单元</span>撤消<span class="bold">角色</span> ，您必须是用户<code class="codeph">SYS</code>或者您必须是程序单元的架构所有者。
                  </p>
                  <p>要撤消<span class="bold">对象权限</span> ，必须满足以下条件之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须先将对象权限授予用户或角色。</p>
                     </li>
                     <li>
                        <p>您必须具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code>系统特权。在这种情况下，您可以撤消由对象所有者或代表所有者授予的具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code> 。但是，您无法撤消通过<code class="codeph">WITH</code> <code class="codeph">GRANT</code> <code class="codeph">OPTION</code>授予授予的对象权限。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-74618F11-16E0-4CBA-ABE9-6F7E636C88D8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2133838">撤销使用GRANT ANY OBJECT PRIVILEGE的操作：示例</a> ”</span></p>
                  </div>
                  <p><code class="codeph">REVOKE</code>语句只能撤消以前直接使用<code class="codeph">GRANT</code>语句授予的特权和角色。您不能使用此语句撤消：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>未授予撤销者的特权或角色</p>
                     </li>
                     <li>
                        <p>通过操作系统授予的角色或对象权限</p>
                     </li>
                     <li>
                        <p>通过角色授予revokee的权限或角色</p>
                     </li>
                  </ul>
                  <p>要指定<code class="codeph">CONTAINER</code>子句，必须连接到多租户容器数据库（CDB）。要指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> ，当前容器必须是根。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-24A9BC4F-4FE6-4735-ABF0-18194CAEAF09">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-2A071756-35F7-4870-97B6-76CFB4259F39"><span class="italic">revoke</span> :: =</p>
                  <div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-1D3E743B-B030-4F66-9228-15ED26A2D38B"><img src="img/revoke.gif" alt="revoke.eps的描述如下" title="revoke.eps的描述如下" longdesc="img_text/revoke.html"><br><a href="img_text/revoke.html">说明revoke.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123663">revoke_system_privileges :: =</a></span> ， <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123674">revoke_object_privileges :: =</a></span> ， <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEFHDAG">revoke_roles_from_programs :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123663">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-6AF13D81-0115-4F73-89DD-F787085A7995"><span class="italic">revoke_system_privileges</span> :: =</p>
                  <div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-D58F5093-B14E-49A2-A8BB-1146AFF22D45"><img src="img/revoke_system_privileges.gif" alt="下面是revoke_system_privileges.eps的描述" title="下面是revoke_system_privileges.eps的描述" longdesc="img_text/revoke_system_privileges.html"><br><a href="img_text/revoke_system_privileges.html">说明revoke_system_privileges.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123686">revokee_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123674">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-EDF881B1-224F-4FFE-B6D1-C392F283958D"><span class="italic">revoke_object_privileges</span> :: =</p>
                  <div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-C4FB162F-EC99-4F90-9BA7-1DAD9E40E530"><img src="img/revoke_object_privileges.gif" alt="下面是revoke_object_privileges.eps的描述" title="下面是revoke_object_privileges.eps的描述" longdesc="img_text/revoke_object_privileges.html"><br><a href="img_text/revoke_object_privileges.html">说明revoke_object_privileges.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123698">on_object_clause :: =</a></span> ， <span class="italic"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123686">revokee_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123686">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-A43D548B-174D-440C-A088-568D0AA54E42"><span class="italic">revokee_clause</span> :: =</p><a id="d422981e461" class="indexterm-anchor"></a><div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-8C86602E-FE8F-444D-8DC6-EDDC6946C773"><img src="img/revokee_clause.gif" alt="revokee_clause.eps的描述如下" title="revokee_clause.eps的描述如下" longdesc="img_text/revokee_clause.html"><br><a href="img_text/revokee_clause.html">说明revokee_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2123698">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-AC67D970-21DA-4F4E-8E35-40D2696C6F5C"><span class="italic">on_object_clause</span> :: =</p><a id="d422981e473" class="indexterm-anchor"></a><div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-DCFF581F-417A-44DB-8030-435CE4E4C30A"><img src="img/on_object_clause.gif" alt="on_object_clause.eps的描述如下" title="on_object_clause.eps的描述如下" longdesc="img_text/on_object_clause.html"><br><a href="img_text/on_object_clause.html">插图描述on_object_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEFHDAG">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-269766E9-6317-4B22-85A2-4587ED12BA96"><span class="italic">revoke_roles_from_programs</span> :: =</p>
                  <div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-760516EE-4CAD-4384-884D-1D24966A2BD5"><img src="img/revoke_roles_from_programs.gif" alt="下面是revoke_roles_from_programs.eps的说明" title="下面是revoke_roles_from_programs.eps的说明" longdesc="img_text/revoke_roles_from_programs.html"><br><a href="img_text/revoke_roles_from_programs.html">说明revoke_roles_from_programs.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-AAA39E64-2A9D-49AF-B11F-3EDFD488070D"><span class="italic">program_unit</span> :: =</p>
                  <div class="figure" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-567B296E-7A26-4A07-9928-0943DB83B3F0"><img src="img/program_unit.gif" alt="下面是program_unit.eps的描述" title="下面是program_unit.eps的描述" longdesc="img_text/program_unit.html"><br><a href="img_text/program_unit.html">插图描述program_unit.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-93E54CB9-D45F-4686-93E5-4DA5D10931CD">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-2E9CFC94-1486-4294-9F74-526A992BD9DB"><span class="italic">revoke_system_privileges</span></p>
                  <p>使用这些子句撤消系统权限。</p>
                  <p><span class="bold"><span class="italic">system_privilege</span></span></p>
                  <p>指定要撤消的系统特权。有关系统权限的列表，请参阅<a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3__BABEFFEE" title="第1列包含命名数据库对象的粗体子标题行。第1列中子标题下的单元格逐项列出与该数据库对象相关的系统特权。第2列描述了系统特权授权的操作。">表18-1</a> 。
                  </p>
                  <p><a id="d422981e518" class="indexterm-anchor"></a>如果从<span class="bold">用户</span>撤消系统特权，则数据库将从用户的特权域中删除该特权。立即生效，用户无法行使特权。
                  </p>
                  <p><a id="d422981e529" class="indexterm-anchor"></a>如果从<span class="bold">角色</span>撤消系统特权，则数据库将从<span class="bold">角色</span>的特权域中删除特权。立即生效，启用角色的用户无法行使权限。此外，已被授予角色并随后启用该角色的其他用户无法行使该权限。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-56AE4FC6-E348-46BA-A59D-39183050BAC5">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126289">撤消用户的系统权限：示例</a> ”</span>和<span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126321">从角色撤消系统权限：示例</a> ”</span></p>
                  </div>
                  <p><a id="d422981e549" class="indexterm-anchor"></a>如果从<span class="bold"><code class="codeph">PUBLIC</code></span>撤消系统特权，则数据库将从已通过<code class="codeph">PUBLIC</code>授予该特权的每个用户的特权域中删除该特权。立即生效，此类用户无法再行使特权。但是，直接或通过角色授予权限的用户不会撤消该权限。
                  </p>
                  <p>Oracle数据库提供了一次指定所有系统权限的快捷方式：指定<code class="codeph">ALL</code> <code class="codeph">PRIVILEGES</code>以撤消<a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3__BABEFFEE" title="第1列包含命名数据库对象的粗体子标题行。第1列中子标题下的单元格逐项列出与该数据库对象相关的系统特权。第2列描述了系统特权授权的操作。">表18-1中</a>列出的所有系统权限。
                  </p>
                  <p><span class="bold">撤销系统权限的限制</span></p>
                  <p>系统权限在要撤消的权限列表中不能出现多次。</p>
                  <p><span class="bold"><span class="italic">角色</span></span></p>
                  <p>指定要撤消的角色。</p>
                  <p><a id="d422981e589" class="indexterm-anchor"></a>如果从<span class="bold">用户</span>撤消角色，则数据库会使该角色对用户不可用。如果当前为该用户启用了该角色，则只要该用户保持启用状态，该用户就可以继续在角色的权限域中行使权限。但是，用户随后无法启用该角色。
                  </p>
                  <p><a id="d422981e600" class="indexterm-anchor"></a>如果从其他<span class="bold">角色</span>撤消<span class="bold">角色</span> ，则数据库将从revokee角色的权限域中删除已撤销角色的权限域。只要revokee角色保持启用状态，已被授予并已启用revokee角色的用户可以继续在已撤销角色的权限域中行使权限。但是，已被授予revokee角色并随后启用它的其他用户无法在已撤销角色的权限域中行使权限。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-C7AFAA15-5788-4F01-88DB-FDF84CF98DBB">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126305">撤消用户的角色：示例</a> ”</span>和<span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126337">从角色撤消角色：示例</a> ”</span></p>
                  </div>
                  <p><a id="d422981e620" class="indexterm-anchor"></a>如果从<span class="bold"><code class="codeph">PUBLIC</code></span>撤消角色，则数据库使该角色对通过<code class="codeph">PUBLIC</code>授予该角色的所有用户不可用。任何已启用该角色的用户都可以继续在其权限域中行使权限，只要它保持启用状态即可。但是，用户随后无法启用该角色。直接或通过其他角色授予角色的用户不会撤消该角色。
                  </p>
                  <p><span class="bold">撤销系统角色的限制</span></p>
                  <p>系统角色在要撤消的角色列表中不能出现多次。有关预定义角色的信息，请参阅“ <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG4414" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
                  <p><span class="bold"><span class="italic">revokee_clause</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">revokee_clause</code></span>指定要从中撤消系统特权，角色或对象特权的用户或角色。
                  </p>
                  <p><span class="bold">上市</span></p>
                  <p>指定<code class="codeph">PUBLIC</code>以撤消所有用户的权限或角色。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-A08F97A5-2EC3-4E1C-871B-EF81DEDB6336"><span class="italic">revoke_object_privileges</span></p>
                  <p>使用这些子句撤消对象权限。</p>
                  <p><span class="bold"><span class="italic">object_privilege</span></span></p>
                  <p>指定要撤消的对象权限。<a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3__BGBCIIEG" title="第1列包含命名数据库对象的跨区行，提供一些使用说明。第1列中跨区行下的单元格包含每个数据库对象的对象权限。第2列描述了每个对象权限授权的操作。">表18-2</a>中描述了对象权限，这些权限按其应用的对象类型进行分类。
                  </p>
                  <div class="infoboxnote" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-43A63E64-84D1-43CE-967E-DAF11A76D007">
                     <p class="notep1">注意：</p>
                     <p>每个权限都授权一些操作。通过撤消权限，可以阻止撤销者执行该操作。但是，多个用户可以向同一用户，角色或<code class="codeph">PUBLIC</code>授予相同的权限。要从被授权者的权限域中删除权限，所有授权者必须撤销该权限。如果即使是一个设保人也没有撤销该特权，那么受让人仍然可以凭借该授权行使特权。
                     </p>
                  </div>
                  <p><a id="d422981e687" class="indexterm-anchor"></a>如果从<span class="bold">用户</span>撤消对象权限，则数据库将从用户的权限域中删除该权限。立即生效，用户无法行使特权。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果该用户已将该权限授予其他用户或角色，则该数据库还会撤消其他用户或角色的权限。</p>
                     </li>
                     <li>
                        <p>如果该用户的架构包含包含执行权限的SQL语句的过程，函数或包，则无法再执行过程，函数或包。</p>
                     </li>
                     <li>
                        <p>如果该用户的架构包含该对象的视图，则数据库使视图无效。</p>
                     </li>
                     <li>
                        <p><a id="d422981e709" class="indexterm-anchor"></a>如果从已执行权限的用户撤消<code class="codeph">REFERENCES</code>对象权限以定义参照完整性约束，则必须指定<code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code>子句。
                        </p>
                     </li>
                  </ul>
                  <p>如果从<span class="bold">角色</span>撤消对象权限，则数据库将从该角色的权限域中删除该权限。立即生效，启用角色的用户无法行使权限。已授予该角色的其他用户在启用该角色后无法行使该权限。
                  </p>
                  <p><a id="d422981e731" class="indexterm-anchor"></a>如果从<code class="codeph">PUBLIC</code>撤消对象权限，则数据库将从已通过<code class="codeph">PUBLIC</code>授予权限的每个用户的权限域中删除该权限。立即生效，所有这些用户都被限制行使特权。但是，直接或通过角色授予权限的用户不会撤消该权限。
                  </p>
                  <p><span class="bold">所有[特权]</span><a id="d422981e747" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ALL</code>以撤消已授予revokee的所有对象权限。（关键字<code class="codeph">PRIVILEGES</code>是为了语义清晰度而提供的，是可选的。）
                  </p>
                  <p>如果未对该对象授予任何权限，则数据库不执行任何操作，也不会返回错误。</p>
                  <p><span class="bold">撤销对象权限的限制</span></p>
                  <p>在要撤消的权限列表中，权限不能出现多次。用户，角色或<code class="codeph">PUBLIC</code>在<code class="codeph">FROM</code>子句中不能出现多次。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-5A1FDCB0-DDC6-45F2-90AA-8855EC37F6F5">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126353">撤消用户的对象权限：示例</a> ”</span> ， <span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126385">从PUBLIC撤消对象权限：示例</a> ”</span>和<span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEGFBEJ">撤消用户的所有对象权限：示例</a> ”</span></p>
                  </div>
                  <p><a id="d422981e787" class="indexterm-anchor"></a> <span class="bold">级联约束</span><a id="d422981e793" class="indexterm-anchor"></a></p>
                  <p>仅当您撤消<code class="codeph">REFERENCES</code>权限或<code class="codeph">ALL</code> [ <code class="codeph">PRIVILEGES</code> ]时，此子句才有意义。它删除了revokee使用<code class="codeph">REFERENCES</code>权限定义的任何引用完整性约束，这些权限可能是通过授予<code class="codeph">ALL</code> [ <code class="codeph">PRIVILEGES</code> ]显式或隐式授予的。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-A6502F91-35D3-431F-9D12-216970966E63">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126427">使用CASCADE CONSTRAINTS撤消对象权限：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">力</span> <a id="d422981e827" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">FORCE</code>以撤消具有表或类型依赖关系的用户定义类型对象的<code class="codeph">EXECUTE</code>对象特权。必须使用<code class="codeph">FORCE</code>撤消具有表依赖性的用户定义类型对象的<code class="codeph">EXECUTE</code>对象特权。
                  </p>
                  <p>如果指定<code class="codeph">FORCE</code> ，则撤消所有特权，所有依赖对象都标记为<code class="codeph">INVALID</code> ，依赖表中的数据变得不可访问，并且所有依赖于函数的索引都标记为<code class="codeph">UNUSABLE</code> 。重新授予必要的类型权限将重新验证表。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-EE951185-C201-4A2E-BDB4-AB01E8548E38">
                     <p class="notep1">也可以看看：</p>
                     <p>有关类型依赖性和用户定义的对象特权的详细信息，请参阅<a href="../cncpt/tables-and-table-clusters.html#CNCPT1859" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                  </div>
                  <p><span class="bold"><span class="italic">on_object_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">on_object_clause</code></span>标识要撤销权限的对象。
                  </p>
                  <p><span class="bold"><span class="italic">宾语</span></span></p>
                  <p>指定要撤消对象权限的对象。这个对象可以是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>表，视图，序列，过程，存储函数，包或物化视图</p>
                     </li>
                     <li>
                        <p>表，视图，序列，过程，存储函数，包，物化视图或用户定义类型的同义词</p>
                     </li>
                     <li>
                        <p>库，索引类型或用户定义的运算符</p>
                     </li>
                  </ul>
                  <p>如果不使用<span class="italic"><code class="codeph">schema</code></span>限定对象，则数据库假定该对象位于您自己的模式中。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-B90B2F1F-8FD4-464B-BFE1-D178C670765F">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126411">从用户撤消序列上的对象权限：示例</a> ”</span></p>
                  </div>
                  <p>如果撤消对包含表或物化视图的物化视图的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，无论是否使用<code class="codeph">GRANT</code> <code class="codeph">OPTION</code>授予该权限，数据库都会使实例化视图无效。
                  </p>
                  <p>如果撤消实例化视图的任何主表上的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权，无论是否使用<code class="codeph">GRANT</code> <code class="codeph">OPTION</code>授予该特权，数据库都会使实例化视图及其包含的表或实例化视图无效。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGECHJHI"><span class="bold">在用户</span></p>
                  <p>指定要撤消其权限的一个或多个数据库用户。</p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-9FFFBD49-FBEA-4619-B5F3-2AAF97BA12FB">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEGHAEG">从用户撤消用户的对象权限：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">在目录上</span></p>
                  <p>指定要撤消其权限的目录对象的名称。您无法使用模式名称限定<span class="italic"><code class="codeph">directory_name</code></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-F82D05C8-7E40-4E24-88EC-229C8089173C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-DIRECTORY.html#GUID-8E9C569A-1B06-42C4-9586-0EF83437001A">CREATE DIRECTORY</a>和<span class="q">“ <a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126438">从用户撤消</a></span> <a href="CREATE-DIRECTORY.html#GUID-8E9C569A-1B06-42C4-9586-0EF83437001A">目录上</a> <span class="q"><a href="REVOKE.html#GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126438">的对象权限：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">ON EDITION</span></p>
                  <p>指定要撤消<code class="codeph">USE</code>对象特权的版本的名称。您无法使用架构名称限定<span class="italic"><code class="codeph">edition_name</code></span> 。
                  </p>
                  <p><span class="bold">采矿模型</span></p>
                  <p>指定要撤消权限的挖掘模型的名称。如果不使用<span class="italic"><code class="codeph">schema</code></span>限定<span class="italic"><code class="codeph">mining_model_name</code></span> ，则数据库假定挖掘模型位于您自己的模式中。
                  </p>
                  <p><span class="bold">在JAVA来源| RESOURCE</span></p>
                  <p>指定要撤消其特权的Java源或资源架构对象的名称。如果不使用<span class="italic"><code class="codeph">schema</code></span>限定<span class="italic"><code class="codeph">object</code></span> ，则数据库假定该对象位于您自己的模式中。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEEBGJC"><span class="bold">ON SQL翻译简档</span></p>
                  <p>指定要撤消权限的SQL转换配置文件的名称。如果不使用<span class="italic"><code class="codeph">schema</code></span>限定<span class="italic"><code class="codeph">profile</code></span> ，则数据库假定配置文件位于您自己的模式中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEDHJBG">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-F7588F28-8BE5-4A1C-AE57-F48E217BAAD0"><span class="italic">revoke_roles_from_programs</span></p>
                  <p>使用此子句从程序单元撤消基于代码的访问控制（CBAC）角色。</p>
                  <p><span class="bold"><span class="italic">角色</span></span></p>
                  <p>指定要撤消的角色。</p>
                  <p><span class="bold">所有</span></p>
                  <p>指定<code class="codeph">ALL</code>以撤消授予程序单元的所有角色。
                  </p>
                  <p><span class="bold"><span class="italic">program_unit</span></span></p>
                  <p>指定要从中撤消角色的程序单元。您可以指定PL / SQL函数，过程或包。如果未指定<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库假定函数，过程或包位于您自己的模式中。
                  </p>
                  <div class="infoboxnotealso" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-A976CA17-0CD0-4E0B-8581-772061D97E40">
                     <p class="notep1">也可以看看：</p>
                     <p>有关从程序单元撤消CBAC角色的详细信息，请参见<a href="../dbseg/managing-security-for-definers-rights-and-invokers-rights.html#DBSEG977" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEDBIHI">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-3BD01790-F8E6-4B26-B038-87179CE54D0F">集装箱条款</p>
                  <p>如果当前容器是可插拔数据库（PDB）：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以从本地用户，公共用户，本地角色或公共角色撤消本地授予的系统特权，对象特权或角色。仅在当前PDB中从用户或角色撤消权限或角色。此子句不会撤消使用<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>授予的权限。</p>
                     </li>
                  </ul>
                  <p>如果当前容器是根：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以从公共用户或公共角色撤消本地授予的系统特权，对象特权或角色。仅从root用户或角色撤消权限或角色。此子句不会撤消使用<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>授予的权限。</p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以撤消共同授予的系统特权，公共对象的对象特权或公共用户或公共角色的角色。从整个CDB中的用户或角色撤消权限或角色。此子句只能撤消从指定的公共用户或公共角色使用<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>授予的权限或角色。此子句不会撤消使用<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>在本地授予的权限。但是，任何依赖于被撤销的共同授予权限的本地授予权限也将被撤销。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__GUID-3DDA86CE-B4A3-4071-A443-F68A62EA0400">例子</p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126289"><span class="bold">撤消用户的系统权限：示例</span></p>
                  <p>以下语句从用户<code class="codeph">hr</code>和<code class="codeph">oe</code>撤消<code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权：</p><pre class="oac_no_warn" dir="ltr">从hr，oe撤回任何桌子;</pre><p>用户<code class="codeph">hr</code>和<code class="codeph">oe</code>不能再删除自己以外的模式中的表。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126305"><span class="bold">撤消用户的角色：示例</span></p>
                  <p>以下语句撤消用户<code class="codeph">sh</code>的角色<code class="codeph">dw_manager</code> ：</p><pre class="oac_no_warn" dir="ltr">REVOKE dw_manager FROM sh;</pre><p>用户<code class="codeph">sh</code>无法再启用<code class="codeph">dw_manager</code>角色。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126321"><span class="bold">从角色撤消系统权限：示例</span></p>
                  <p>以下语句从<code class="codeph">dw_manager</code>角色撤消<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>系统特权：</p><pre class="oac_no_warn" dir="ltr">REVOKE从dw_manager创建TABLESPACE;</pre><p>启用<code class="codeph">dw_manager</code>角色不再允许用户创建表空间。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126337"><span class="bold">从角色撤消角色：示例</span></p>
                  <p>要从角色<code class="codeph">dw_user</code>撤消角色<code class="codeph">dw_manager</code> ，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">REVOKE dw_user FROM dw_manager;</pre><p>该<code class="codeph">dw_user</code>角色权限不再授予<code class="codeph">dw_manager</code> 。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126353"><span class="bold">撤消用户的对象权限：示例</span></p>
                  <p>您可以使用以下语句将表<code class="codeph">orders</code> <code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">READ</code> ， <code class="codeph">SELECT</code>和<code class="codeph">UPDATE</code>权限授予用户<code class="codeph">hr</code> ：</p><pre class="oac_no_warn" dir="ltr">授予所有订单至小时;</pre><p>要从<code class="codeph">hr</code>撤消对<code class="codeph">orders</code>的<code class="codeph">DELETE</code>权限，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">REVOKE DELETE ON订单来自hr;</pre><p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEGFBEJ"><span class="bold">撤消用户的所有对象权限：示例</span></p>
                  <p>要撤消授予<code class="codeph">hr</code> <code class="codeph">orders</code>的剩余权限，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">从小时开始全部撤销订单;</pre><p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126385"><span class="bold">从PUBLIC撤消对象权限：示例</span></p>
                  <p>您可以通过向角色<code class="codeph">PUBLIC</code>授予权限，将视图<code class="codeph">emp_details_view</code> <code class="codeph">SELECT</code>和<code class="codeph">UPDATE</code>权限授予所有用户：</p><pre class="oac_no_warn" dir="ltr">GRANT SELECT，UPDATE ON emp_details_view to public;</pre><p>以下语句撤消所有用户对<code class="codeph">emp_details_view</code> <code class="codeph">UPDATE</code>特权：</p><pre class="oac_no_warn" dir="ltr">在emp_details_view上公开REVOKE UPDATE;</pre><p>用户无法再更新<code class="codeph">emp_details_view</code>视图，但用户仍可以查询它。但是，如果您还将<code class="codeph">emp_details_view</code>的<code class="codeph">UPDATE</code>权限直接或通过角色授予任何用户，则这些用户将保留该权限。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__BGEGHAEG"><span class="bold">从用户撤消用户的对象权限：示例</span></p>
                  <p>您可以使用以下语句向用户<code class="codeph">hr</code>授予用户<code class="codeph">sh</code>的<code class="codeph">INHERIT</code> <code class="codeph">PRIVILEGES</code>权限：</p><pre class="oac_no_warn" dir="ltr">授予用户权限至小时;</pre><p>要从用户<code class="codeph">hr</code>撤消用户<code class="codeph">sh</code>的<code class="codeph">INHERIT</code> <code class="codeph">PRIVILEGES</code>权限，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">在用户shwe hr上改进INHERIT PRIVILEGES;</pre><p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126411"><span class="bold">从用户撤消序列上的对象权限：示例</span></p>
                  <p>您可以授予用户<code class="codeph">oe</code>的<code class="codeph">SELECT</code>上的特权<code class="codeph">departments_seq</code>在架构序列<code class="codeph">hr</code>使用以下语句：</p><pre class="oac_no_warn" dir="ltr">在hr.departments_seq上授予选择权限;</pre><p>要从<code class="codeph">oe</code>撤消<code class="codeph">departments_seq</code>的<code class="codeph">SELECT</code>权限，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">REVOKE SELECT on hr.departments_seq FROM oe;</pre><p>但是，如果用户<code class="codeph">hr</code>也已将<code class="codeph">departments</code> <code class="codeph">SELECT</code>权限授予<code class="codeph">sh</code> ，那么<code class="codeph">sh</code>仍然可以通过<code class="codeph">hr</code>的授权来使用<code class="codeph">departments</code> 。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126427"><span class="bold">使用CASCADE约束修改对象权限：示例</span></p>
                  <p>您可以授予<code class="codeph">oe</code>权限<code class="codeph">REFERENCES</code>和<code class="codeph">UPDATE</code>的<code class="codeph">employees</code>在架构表<code class="codeph">hr</code>使用以下语句：</p><pre class="oac_no_warn" dir="ltr">授予参考资料，对员工的最新消息;</pre><p>用户<code class="codeph">oe</code>可以行使<code class="codeph">REFERENCES</code>特权来定义自己的约束<code class="codeph">dependent</code>表是指<code class="codeph">employees</code>在架构表<code class="codeph">hr</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dependent（dependno NUMBER，dependname VARCHAR2（10），employee NUMBER CONSTRAINT in_emp REFERENCES hr.employees（employee_id））;</pre><p>您可以通过发出包含<code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code>子句的以下语句来撤消来自<code class="codeph">oe</code>的<code class="codeph">hr.employees</code>的<code class="codeph">REFERENCES</code>特权：</p><pre class="oac_no_warn" dir="ltr">从课程约束条件中引用hr雇员的参考资料;</pre><p>撤销对<code class="codeph">hr.employees</code> <code class="codeph">oe</code>的<code class="codeph">REFERENCES</code>特权会导致Oracle数据库删除<code class="codeph">in_emp</code>约束，因为<code class="codeph">oe</code>需要特权来定义约束。
                  </p>
                  <p>但是，如果<code class="codeph">oe</code>还被您以外的用户授予<code class="codeph">hr.employees</code>的<code class="codeph">REFERENCES</code>权限，则数据库不会删除约束。由于其他用户的授权， <code class="codeph">oe</code>仍具有约束所需的特权。
                  </p>
                  <p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2126438"><span class="bold">从用户撤消目录上的对象权限：示例</span></p>
                  <p>您可以通过发出以下语句从<code class="codeph">hr</code>撤消目录<code class="codeph">bfile_dir</code>上的<code class="codeph">READ</code>对象权限：</p><pre class="oac_no_warn" dir="ltr">REVOKE READ ON DIRECTORY bfile_dir FROM hr;</pre><p id="GUID-BAAD2331-40A5-4366-86CA-BAA6B957E866__I2133838"><span class="bold">撤消使用GRANT ANY OBJECT PRIVILEGE的操作：示例</span></p>
                  <p>假设数据库管理员已向用户<code class="codeph">sh</code>授予<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code> 。现在假设用户<code class="codeph">hr</code>将<code class="codeph">employees</code>表的更新权限授予<code class="codeph">oe</code> ：</p><pre class="oac_no_warn" dir="ltr">连接员工授予更新员工以及授予选择权;</pre><p>此授权授予用户<code class="codeph">oe</code>将对象权限传递给另一个用户的权限：</p><pre class="oac_no_warn" dir="ltr">连接o hr雇员的授权更新到下午;</pre><p>具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code>用户<code class="codeph">sh</code>现在可以代表用户<code class="codeph">hr</code>并撤消用户<code class="codeph">oe</code>的更新权限，因为<code class="codeph">oe</code>被<code class="codeph">hr</code>授予了权限：</p><pre class="oac_no_warn" dir="ltr">在hr.employees FROM oe上连接sh REVOKE UPDATE;</pre><p>用户<code class="codeph">sh</code>无法明确地从用户<code class="codeph">pm</code>撤消更新权限，因为<code class="codeph">pm</code>既没有从对象所有者（ <code class="codeph">hr</code> ）接收授权，也没有从<code class="codeph">sh</code>接收授权，也没有从具有<code class="codeph">GRANT</code> <code class="codeph">ANY</code> <code class="codeph">OBJECT</code> <code class="codeph">PRIVILEGE</code>其他用户接收授权，而是从用户<code class="codeph">oe</code> 。但是，前面的语句级联，删除所有依赖于已撤销的权限的权限。因此，对象特权也从<code class="codeph">pm</code>隐式撤销。
                  </p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04088.JDBC-troubleshooting.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>故障排除</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JDBC-error-messages.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-error-messages.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">故障排除</li>
            </ol>
            <a id="GUID-F8CC9C5E-B043-4D84-A86E-ACED8F40E2E9" name="GUID-F8CC9C5E-B043-4D84-A86E-ACED8F40E2E9"></a><a id="JJDBC28976"></a>
            
            <h2 id="JJDBC-GUID-F8CC9C5E-B043-4D84-A86E-ACED8F40E2E9" class="sect2"><span class="enumeration_chapter">E</span>故障排除</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>本附录介绍了如何在以下主题中对Java数据库连接（JDBC）应用程序进行故障排除：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="JDBC-troubleshooting.html#GUID-E0615FF5-D311-4F35-9337-08F46CAB6857">常见问题</a></p>
                     </li>
                     <li>
                        <p><a href="JDBC-troubleshooting.html#GUID-BEF28F31-0A7F-47F7-9CB4-A9635768B983">基本调试程序</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDBC28977"></a><div class="props_rev_3"><a id="GUID-E0615FF5-D311-4F35-9337-08F46CAB6857" name="GUID-E0615FF5-D311-4F35-9337-08F46CAB6857"></a><h3 id="JJDBC-GUID-E0615FF5-D311-4F35-9337-08F46CAB6857" class="sect3"><span class="enumeration_section">E.1</span>常见问题</h3>
               <div>
                  <div class="section">
                     <p>本节介绍使用Oracle时可能遇到的一些常见问题<a id="d116827e59" class="indexterm-anchor"></a> JDBC驱动程序。这些问题包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-88104995-B9C8-49D2-9C8E-C5ED356674F8">CHAR列的内存消耗定义为OUT或IN / OUT变量</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-9E933DA0-5D61-4C5C-9D1D-E61AD0AD0F04">内存泄漏和游标耗尽</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-2776500F-19DA-4D06-A86F-805B1BC92703">为流程打开超过16个OCI连接</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-E846B7AB-4032-473B-8E2F-E741FDD97012">使用statement.cancel</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92">将JDBC与防火墙结合使用</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-D4FEB9D7-D7F2-4AF8-858C-89E3988CD00D">频繁突然断开与服务器的连接</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-80F0D16E-0513-4F74-B22B-32F35AB172E6">网络适配器无法建立连接</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28979"></a><div class="props_rev_3"><a id="GUID-88104995-B9C8-49D2-9C8E-C5ED356674F8" name="GUID-88104995-B9C8-49D2-9C8E-C5ED356674F8"></a><h4 id="JJDBC-GUID-88104995-B9C8-49D2-9C8E-C5ED356674F8" class="sect4"><span class="enumeration_section">E.1.1</span> CHAR列的内存消耗定义为OUT或IN / OUT变量</h4>
                  <div>
                     <div class="section">
                        <p>在PL / SQL中，当<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>列定义为<code class="codeph">OUT</code>或<code class="codeph">IN/OUT</code>变量时，驱动程序将分配一个32512个字符的<code class="codeph">CHAR</code>数组。这可能会导致内存消耗问题。使用<code class="codeph">VARCHAR2</code>输出类型时，JDBC Thin驱动程序不分配内存。但JDBC OCI驱动程序为<code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>类型分配内存。因此，OCI驱动程序中的CPU负载高于Thin驱动程序。
                        </p>
                        <p>在以前的版本中，问题的解决方案是调用<code class="codeph">Statement.setMaxFieldSize</code>方法。更好的解决方案是使用<code class="codeph">OracleCallableStatement.registerOutParameter</code> 。Oracle鼓励您始终在每个<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>列上调用<code class="codeph">registerOutParameter (int paramIndex, int sqlType, int scale, int maxLength)</code> 。此方法在<code class="codeph">oracle.jdbc.定义<code class="codeph">oracle.jdbc.OracleCallableStatement</code> 。使用第四个参数<code class="codeph">maxLength</code>来限制内存消耗。此参数告诉驱动程序存储此列需要多少个字符。如果字符数组不能保存列数据，则会截断该列。第三个参数<code class="codeph">scale</code> ，被驱动程序忽略。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28980"></a><div class="props_rev_3"><a id="GUID-9E933DA0-5D61-4C5C-9D1D-E61AD0AD0F04" name="GUID-9E933DA0-5D61-4C5C-9D1D-E61AD0AD0F04"></a><h4 id="JJDBC-GUID-9E933DA0-5D61-4C5C-9D1D-E61AD0AD0F04" class="sect4"><span class="enumeration_section">E.1.2</span>内存泄漏和游标耗尽</h4>
                  <div>
                     <div class="section">
                        <p>如果你收到<a id="d116827e202" class="indexterm-anchor"></a><a id="d116827e204" class="indexterm-anchor"></a><a id="d116827e206" class="indexterm-anchor"></a><a id="d116827e208" class="indexterm-anchor"></a>如果游标用完游标或内存不足，请确保明确关闭所有<code class="codeph">Statement</code>和<code class="codeph">ResultSet</code>对象。Oracle JDBC驱动程序没有终结器方法。它们通过使用<code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>类的<code class="codeph">close</code>方法执行清理例程。如果未显式关闭结果集和语句对象，则可能发生严重的内存泄漏。您也可能在数据库中用完游标。关闭语句会释放数据库中的相应游标。
                        </p>
                        <p>同样，您必须显式关闭<code class="codeph">Connection</code>对象，以避免服务器端的游标泄漏和用完。关闭连接时，JDBC驱动程序将关闭与其关联的所有打开的语句对象，从而在服务器端释放游标。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28982"></a><div class="props_rev_3"><a id="GUID-2776500F-19DA-4D06-A86F-805B1BC92703" name="GUID-2776500F-19DA-4D06-A86F-805B1BC92703"></a><h4 id="JJDBC-GUID-2776500F-19DA-4D06-A86F-805B1BC92703" class="sect4"><span class="enumeration_section">E.1.3</span>为进程打开16个以上的OCI连接</h4>
                  <div>
                     <div class="section">
                        <p>您可能会发现在任何给定时间都无法为进程打开超过大约16个JDBC-OCI连接。最可能的原因可能是服务器上的进程数超过了初始化文件中指定的限制，或者超出了每进程文件描述符限制。值得注意的是，一个JDBC-OCI连接可以使用多个文件描述符（它可能使用3到4个文件描述符之间的任何地方）。</p>
                        <p>如果服务器允许超过16个进程，则问题可能在于每进程文件描述符限制。可能的解决方案是增加此限制。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28983"></a><div class="props_rev_3"><a id="GUID-E846B7AB-4032-473B-8E2F-E741FDD97012" name="GUID-E846B7AB-4032-473B-8E2F-E741FDD97012"></a><h4 id="JJDBC-GUID-E846B7AB-4032-473B-8E2F-E741FDD97012" class="sect4"><span class="enumeration_section">E.1.4</span>使用statement.cancel</h4>
                  <div>
                     <div class="section">
                        <p><a id="d116827e284" class="indexterm-anchor"></a><a id="d116827e286" class="indexterm-anchor"></a><a id="d116827e290" class="indexterm-anchor"></a> JDBC标准方法<code class="codeph">Statement.cancel</code>尝试通过向数据库发送消息来干净地停止执行SQL语句。作为响应，数据库停止执行并回复错误消息。调用<code class="codeph">Statement.execute</code>的Java线程在服务器上等待，并且只有在收到通过调用其他线程调用<code class="codeph">Statement.cancel</code>方法调用的错误回复消息时才继续执行。
                        </p>
                        <p>因此， <code class="codeph">Statement.cancel</code>方法依赖于网络和数据库的正确运行。如果网络连接中断或数据库服务器挂起，则客户端不会收到对取消消息的错误答复。通常，当服务器进程终止时，JDBC会收到一个<code class="codeph">IOException</code> ，它释放调用<code class="codeph">Statement.execute</code>的线程。在某些情况下，服务器挂起，但JDBC不会收到<code class="codeph">IOException</code> 。<code class="codeph">Statement.cancel</code>方法不释放启动<code class="codeph">Statement.execute</code>方法的线程。
                        </p>
                        <div class="infoboxnote" id="GUID-E846B7AB-4032-473B-8E2F-E741FDD97012__GUID-27A4C0CC-782E-4BC7-B9F8-80882A043727">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">Statement.cancel</code>方法时，请记住以下几点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>区分连接级别和语句级别取消。如果通过<code class="codeph">statement.cancel</code>方法取消了非句句执行（例如， <code class="codeph">ROLLBACK</code> ），则我们重放该命令（仅当它是<code class="codeph">ROLLBACK</code> ， <code class="codeph">COMMIT</code> ， <code class="codeph">autoCommit ON</code> ， <code class="codeph">autoCommit OFF</code> ， <code class="codeph">VERSION</code> ）时。为了保证数据的完整性，我们不重放语句执行。
                                 </p>
                              </li>
                              <li>
                                 <p>同步语句执行和语句取消，以便在将取消调用发送到数据库之前不会返回执行。这为执行语句提供了更好的取消机会。</p>
                              </li>
                              <li>
                                 <p>同步取消调用，以便忽略任何新的取消请求，直到取消正在完成整个协议，即在数据库收到中断后，对其执行操作并通知JDBC。</p>
                              </li>
                           </ul>
                        </div>
                        <p>当JDBC没有收到<code class="codeph">IOException</code> ，Oracle Net最终可能会超时并关闭连接。这会导致<code class="codeph">IOException</code>并释放线程。此过程可能需要很长时间。有关如何控制此超时的信息，请参阅<code class="codeph">OracleDatasource.setConnectionProperties</code>的<code class="codeph">readTimeout</code>属性的说明。您还可以使用某些Oracle Net设置调整此超时。
                        </p>
                        <p>JDBC标准方法<code class="codeph">Statement.setQueryTimeout</code>依赖于<code class="codeph">Statement.cancel</code>方法。如果执行持续的时间超过指定的超时间隔，则监视器线程将调用<code class="codeph">Statement.cancel</code>方法。这受到前面描述的所有相同限制的约束。因此，有些情况下超时不会释放调用<code class="codeph">Statement.execute</code>方法的线程。
                        </p>
                        <p>执行和取消之间的时间长度不准确。此间隔不小于指定的超时间隔，但可以延长几秒。如果应用程序具有以高优先级运行的活动线程，则该间隔可以任意更长。监视器线程以高优先级运行，但其他高优先级线程可能使其无限期运行。请注意，只有在执行非零超时的语句时才会启动监视器线程。只有一个监视器线程监视所有Oracle JDBC语句执行。</p>
                        <div class="infoboxnote" id="GUID-E846B7AB-4032-473B-8E2F-E741FDD97012__GUID-075FCA6C-B968-4F4F-B83E-452CF0B6F9C4">
                           <p class="notep1">注意：</p>
                           <p>服务器端内部驱动程序不支持<code class="codeph">Statement.cancel</code>方法和<code class="codeph">Statement.setQueryTimeout</code>方法。服务器端内部驱动程序在单线程服务器进程中运行，Oracle JVM在此单线程进程中实现Java线程。如果服务器端内部驱动程序正在执行SQL语句，则没有Java线程可以调用<code class="codeph">Statement.cancel</code>方法。这也适用于Oracle JDBC监视器线程。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28984"></a><div class="props_rev_3"><a id="GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92" name="GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92"></a><h4 id="JJDBC-GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92" class="sect4"><span class="enumeration_section">E.1.5</span>将JDBC与防火墙一起使用</h4>
                  <div>
                     <div class="section">
                        <p>空闲连接的防火墙超时可能会切断连接。这可能导致JDBC应用程序在等待连接时挂起。您可以执行以下一个或多个操作，以避免因防火墙超时而导致连接被切断：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果使用连接缓存或连接池，则始终将连接缓存上的非活动超时值设置为短于防火墙空闲超时值。</p>
                           </li>
                           <li>
                              <p>传递<code class="codeph">oracle.jdbc.ReadTimeout</code>作为连接属性以在套接字上启用读取超时。超时值以毫秒为单位。
                              </p>
                           </li>
                           <li>
                              <p>对于JDBC OCI和JDBC Thin驱动程序，使用net描述符连接到数据库，并在连接描述符的<code class="codeph">DESCRIPTION</code>子句中指定<code class="codeph">ENABLE=BROKEN</code>参数。另外，为<code class="codeph">TCP_KEEPALIVE_INTERVAL</code>设置较低的值。</p>
                           </li>
                           <li>
                              <p>通过在服务器端的<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">SQLNET.EXPIRE_TIME=1</code>来启用Oracle Net DCD。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28985"></a><div class="props_rev_3"><a id="GUID-D4FEB9D7-D7F2-4AF8-858C-89E3988CD00D" name="GUID-D4FEB9D7-D7F2-4AF8-858C-89E3988CD00D"></a><h4 id="JJDBC-GUID-D4FEB9D7-D7F2-4AF8-858C-89E3988CD00D" class="sect4"><span class="enumeration_section">E.1.6</span>频繁突然断开与服务器的连接</h4>
                  <div>
                     <div class="section">
                        <p>如果网络不可靠，则当服务器突然断开时，客户端很难检测到频繁的断开连接。默认情况下，在Linux上运行的客户端需要7200秒（2小时）才能检测到突然断开连接。此值等于<code class="codeph">tcp_keepalive_time</code>属性的值。如果希望应用程序更快地检测断开连接，则必须将<code class="codeph">tcp_keepalive_time</code> ， <code class="codeph">tcp_keepalive_interval</code>和<code class="codeph">tcp_keepalive_probes</code>属性的值设置为操作系统级别的较低值。
                        </p>
                        <div class="infoboxnote" id="GUID-D4FEB9D7-D7F2-4AF8-858C-89E3988CD00D__GUID-3444A412-199D-4FC7-96DC-2C56B73E2DC9">
                           <p class="notep1">注意：</p>
                           <p>为<code class="codeph">tcp_keepalive_interval</code>属性设置较低的值会导致网络上的频繁探测数据包，从而导致系统速度变慢。因此，应根据系统要求适当设置此属性的值。
                           </p>
                        </div>
                        <p>此外，您必须在连接描述符的<code class="codeph">DESCRIPTION</code>子句中指定<code class="codeph">ENABLE=BROKEN</code>参数。例如：</p><pre class="oac_no_warn" dir="ltr">JDBC：预言：瘦：@（DESCRIPTION =（ENABLE = BROKEN）（ADDRESS =（PROTOCOL = TCP）（PORT = 5221）（HOST =为myhost））（CONNECT_DATA =（SERVICE_NAME = ORCL）））</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC29175"></a><div class="props_rev_3"><a id="GUID-80F0D16E-0513-4F74-B22B-32F35AB172E6" name="GUID-80F0D16E-0513-4F74-B22B-32F35AB172E6"></a><h4 id="JJDBC-GUID-80F0D16E-0513-4F74-B22B-32F35AB172E6" class="sect4"><span class="enumeration_section">E.1.7</span>网络适配器无法建立连接</h4>
                  <div>
                     <div class="section">
                        <p>尝试建立从JDBC应用程序到Oracle实例的连接时，您可能会收到以下错误：</p><pre class="oac_no_warn" dir="ltr">java.sql中。SQLException：Io异常：网络适配器无法建立连接SQLException：SQLState（null）供应商代码（17002）</pre><p>即使满足以下所有或任何条件，也可能发生此错误：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以从同一客户端到同一Oracle实例建立SQL * Plus连接。</p>
                           </li>
                           <li>
                              <p>您可以建立JDBC OCI连接，但不能建立从同一客户端到同一Oracle实例的JDBC Thin连接。</p>
                           </li>
                           <li>
                              <p>相同的JDBC应用程序能够从不同的客户端连接到同一个Oracle实例。</p>
                           </li>
                           <li>
                              <p>无论初始JDBC连接字符串是指定主机名还是IP地址，都会应用相同的行为。</p>
                           </li>
                        </ul>
                        <p>以下一个或多个原因可能导致此错误：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您尝试建立连接的主机名不正确。</p>
                           </li>
                           <li>
                              <p>用于建立连接的端口号是错误的。</p>
                           </li>
                           <li>
                              <p>NIC卡支持IPv4和IPv6。</p>
                           </li>
                           <li>
                              <p>Oracle实例是为MTS配置的，但JDBC连接使用共享服务器而不是专用服务器。</p>
                           </li>
                        </ul>
                        <p>除了NIC卡的问题之外，您可以使用SQL * Plus快速诊断上述这些原因。以下部分指定了如何解决此错误，还包含一个示例应用程序：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="JDBC-troubleshooting.html#GUID-8E036A1B-6698-45F9-AF79-05685F3331F8">配置MTS服务器的Oracle实例使用共享服务器</a></p>
                           </li>
                           <li>
                              <p><a href="JDBC-troubleshooting.html#GUID-5BC8E69F-F199-468C-8AB8-72D489F33029">带有NIC卡的JDBC瘦驱动程序，支持IPv4和IPv6</a></p>
                           </li>
                           <li>
                              <p><a href="JDBC-troubleshooting.html#GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3">样品申请</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC29177"></a><a id="JJDBC29178"></a><a id="JJDBC29176"></a><div class="props_rev_3"><a id="GUID-8E036A1B-6698-45F9-AF79-05685F3331F8" name="GUID-8E036A1B-6698-45F9-AF79-05685F3331F8"></a><h5 id="JJDBC-GUID-8E036A1B-6698-45F9-AF79-05685F3331F8" class="sect5"><span class="enumeration_section">E.1.7.1</span>使用MTS服务器配置的Oracle实例使用共享服务器</h5>
                     <div>
                        <div class="section">
                           <p>要解决此错误，您必须验证是否为多线程服务器（MTS）配置了Oracle实例。如果没有为MTS配置Oracle实例，则必须对其进行配置。</p>
                           <p>如果为MTS配置了Oracle实例，则必须强制JDBC连接使用专用服务器而不是共享服务器。您可以通过将服务器重新配置为仅使用专用连接来实现此目的。如果将服务器配置为仅使用专用连接是不可行的，则执行以下步骤从客户端进行设置：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8E036A1B-6698-45F9-AF79-05685F3331F8__GUID-C833FE23-6FDD-4F56-BC3A-DCF3609FDC35">对于JDBC OCI客户端</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>将<code class="codeph">(SERVER=DEDICATED)</code>属性添加到存储在客户端上的<code class="codeph">tnsnames.ora</code>文件中的TNS连接字符串。
                                 </p>
                              </li>
                              <li>
                                 <p>在客户端的<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">USER_DEDICATED_SERVER=ON</code> 。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8E036A1B-6698-45F9-AF79-05685F3331F8__GUID-E6322168-3D34-47EC-AABC-2778F6452F48">对于JDBC Thin：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>您必须指定一个完整的名称 - 值对连接字符串（与<code class="codeph">tnsnames.ora</code>文件中显示的相同），而不是简短的JDBC Thin语法。例如，您必须使用以下形式的连接字符串，而不是“ <code class="codeph">jdbc:oracle:thin:@host:port:sid</code> ”连接字符串：</p><pre class="oac_no_warn" dir="ltr">“jdbc：oracle：thin：@（DESCRIPTION =”+“（ADDRESS_LIST =”+“（ADDRESS =（PROTOCOL = TCP）”+“（HOST = host）”+“（PORT = port）”+“）”+ “）”+“（CONNECT_DATA =”+“（SERVICE_NAME = sid）”+“（SERVER = DEDICATED）”+“）”+“）”</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC29179"></a><div class="props_rev_3"><a id="GUID-5BC8E69F-F199-468C-8AB8-72D489F33029" name="GUID-5BC8E69F-F199-468C-8AB8-72D489F33029"></a><h5 id="JJDBC-GUID-5BC8E69F-F199-468C-8AB8-72D489F33029" class="sect5"><span class="enumeration_section">E.1.7.2</span>带有NIC卡的JDBC瘦驱动程序，支持IPv4和IPv6</h5>
                     <div>
                        <div class="section">
                           <p>如果服务器的网络接口控制器（NIC）卡配置为支持IPv4和IPv6，则某些服务可能从IPv6开始。尝试使用IPv4连接到使用IPv6运行的服务（或反过来）的任何客户端应用程序都会收到连接拒绝错误。如果JDBC瘦客户端应用程序尝试连接到数据库服务器，则应用程序可能会停止响应或失败，并显示以下错误：</p><pre class="oac_no_warn" dir="ltr">java.sql中。SQLException：Io异常：网络适配器无法建立连接错误代码：17002</pre><p>使用以下任一解决方案来解决此错误：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>指示Java虚拟机（JVM）使用IP协议版本4。启动运行JDBC应用程序的JVM，并将<code class="codeph">-Djava.net.preferIPv4Stack</code>参数设置为<code class="codeph">true</code> 。例如，假设您正在运行名为<code class="codeph">jdbcTest</code>的JDBC应用程序。然后按以下方式执行应用程序：</p><pre class="oac_no_warn" dir="ltr">java -Djava.net.preferIPv4Stack = true jdbcTest</pre></li>
                              <li>
                                 <p>使用OCI JDBC驱动程序。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC29181"></a><a id="JJDBC29180"></a><div class="props_rev_3"><a id="GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3" name="GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3"></a><h5 id="JJDBC-GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3" class="sect5"><span class="enumeration_section">E.1.7.3</span>样本申请</h5>
                     <div>
                        <div class="section">
                           <p><a href="JDBC-troubleshooting.html#GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3__CHDHJBCE">示例E-1</a>显示了连接到数据库的基本JDBC程序，可用于测试连接。它允许使用Oracle JDBC驱动程序尝试所有形式的连接。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-0794BD02-81FC-480F-9DB5-50AAA6BBDFA3__CHDHJBCE">
                           <p class="titleinexample">示例E-1以五种不同方式连接到数据库的基本JDBC程序</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; public class Jdbctest {public static void main（String args []）{try {/ *取消注释下一行以获取更多连接信息* / // DriverManager.setLogStream（System.out）; / *设置下面的host，port和sid以匹配listener.ora * / String host =“myhost.oracle.com”中的条目; String port =“5221”; String sid =“orcl”; //或传递所有三个项的命令行参数if（args.length&gt; = 3）{host = args [0]; port = args [1]; sid = args [2]; } String s1 =“jdbc：oracle：thin：@”+ host +“：”+ port +“：”+ sid; if（args.length == 1）{s1 =“jdbc：oracle：oci8：@”+ args [0]; } if（args.length == 4）{s1 =“jdbc：oracle：”+ args [3] +“：@”+“（description =（address =（host =”+ host +“）（protocol = tcp） （port =“+ port +”））（connect_data =（sid =“+ sid +”）））“; System.out.println（“Connecting with：”）; System.out.println（s1）; DriverManager.registerDriver（new oracle.jdbc.driver。一个OracleDriver（））; Connection conn = DriverManager.getConnection（s1，“hr”，“hr”）; DatabaseMetaData dmd = conn.getMetaData（）;的System.out.println（ “DriverVersion：[” + dmd.getDriverVersion（）+ “]”）; System.out.println（“DriverMajorVersion：[”+ dmd.getDriverMajorVersion（）+“]”）; System.out.println（“DriverMinorVersion：[”+ dmd.getDriverMinorVersion（）+“]”）;的System.out.println（ “的DriverName：[” + dmd.getDriverName（）+ “]”）;如果（连环！= null）conn.close（）;的System.out.println（ “完成”。）; } catch（SQLException e）{System.out.println（“\ n *** Java Stack Trace *** \ n”）; e.printStackTrace（）; System.out.println（“\ n *** SQLException捕获*** \ n”）;而（e！= null）{System.out.println（“SQLState：”+ e.getSQLState（））; System.out.println（“Message：”+ e.getMessage（））; System.out.println（“错误代码：”+ e.getErrorCode（））; e = e.getNextException（）; System.out.println（“”）; }}}}</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="JJDBC28986"></a><div class="props_rev_3"><a id="GUID-BEF28F31-0A7F-47F7-9CB4-A9635768B983" name="GUID-BEF28F31-0A7F-47F7-9CB4-A9635768B983"></a><h3 id="JJDBC-GUID-BEF28F31-0A7F-47F7-9CB4-A9635768B983" class="sect3"><span class="enumeration_section">E.2</span>基本调试程序</h3>
               <div>
                  <div class="section">
                     <p>本节介绍了策略<a id="d116827e765" class="indexterm-anchor"></a>调试JDBC程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-E51079F5-28FC-4C76-9FAE-85D8E9B4E6F9">Oracle Net Tracing to Trap网络事件</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-troubleshooting.html#GUID-0B05B4E3-F132-4725-A5AE-539BB402ABB8">第三方调试工具</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="JDBC-getting-started.html#GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD">关于处理SQL异常</a></li>
                     </ul>
                  </div>
               </div>
               <a id="JJDBC28987"></a><div class="props_rev_3"><a id="GUID-E51079F5-28FC-4C76-9FAE-85D8E9B4E6F9" name="GUID-E51079F5-28FC-4C76-9FAE-85D8E9B4E6F9"></a><h4 id="JJDBC-GUID-E51079F5-28FC-4C76-9FAE-85D8E9B4E6F9" class="sect4"><span class="enumeration_section">E.2.1</span> Oracle网络跟踪以捕获网络事件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d116827e812" class="indexterm-anchor"></a>您可以启用客户端和服务器Oracle-Net跟踪来捕获通过Oracle Net发送的数据包。您只能对JDBC OCI驱动程序使用客户端跟踪; JDBC Thin驱动程序不支持它。
                        </p>
                        <p>该<a id="d116827e817" class="indexterm-anchor"></a>跟踪工具生成详细的语句序列，用于描述执行时的网络事件。 “跟踪”操作可让您获取有关事件内部操作的更多信息。此信息将打印到可读文件中，以识别导致错误的事件。<code class="codeph">SQLNET.ORA</code>文件中的几个Oracle Net参数控制着跟踪信息的收集。在<code class="codeph">SQLNET.ORA</code>设置参数后，必须建立新连接才能执行跟踪。
                        </p>
                        <p>跟踪级别越高，跟踪文件中捕获的细节越多。由于跟踪文件很难理解，因此在启用跟踪时以跟踪级别4开始。跟踪文件的第一部分包含连接握手信息，因此请查看与JDBC程序相关的SQL语句和错误消息。</p>
                        <div class="infoboxnote" id="GUID-E51079F5-28FC-4C76-9FAE-85D8E9B4E6F9__GUID-1296CE44-9B23-41B6-A7A6-10C8718691F1">
                           <p class="notep1">注意：</p>
                           <p>跟踪工具使用大量磁盘空间，可能会对系统性能产生重大影响。因此，仅在必要时启用跟踪。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../lnoci/build-and-configure-oci-applications.html#LNOCI-GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></li>
                        </ul>
                     </div>
                  </div><a id="JJDBC28988"></a><div class="props_rev_3"><a id="GUID-1897E108-9DCA-47D2-9248-51FC4050C2F4" name="GUID-1897E108-9DCA-47D2-9248-51FC4050C2F4"></a><h5 id="JJDBC-GUID-1897E108-9DCA-47D2-9248-51FC4050C2F4" class="sect5"><span class="enumeration_section">E.2.1.1</span>客户端跟踪</h5>
                     <div>
                        <div class="section">
                           <p><a id="d116827e861" class="indexterm-anchor"></a>在客户端系统上的<code class="codeph">SQLNET.ORA</code>文件中设置以下参数。
                           </p>
                           <div class="infoboxnote" id="GUID-1897E108-9DCA-47D2-9248-51FC4050C2F4__GUID-E08178E8-1A9E-4D59-B080-D0F6EBA214B4">
                              <p class="notep1">注意：</p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，Oracle建议您使用新XML配置文件<code class="codeph">oraaccess.xml</code>中的配置参数，而不是<code class="codeph">sqlnet.ora</code>文件中存在的OCI特定配置参数。但是，仍支持<code class="codeph">sqlnet.ora</code>文件中存在的配置参数。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="JJDBC28989"></a><div class="props_rev_3"><a id="GUID-76ADC54B-9B43-4E87-BC14-7DCB7971815D" name="GUID-76ADC54B-9B43-4E87-BC14-7DCB7971815D"></a><h6 id="JJDBC-GUID-76ADC54B-9B43-4E87-BC14-7DCB7971815D" class="sect6"><span class="enumeration_section">E.2.1.1.1</span> TRACE_LEVEL_CLIENT</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>将跟踪<code class="codeph">on</code>或<code class="codeph">off</code>到某个指定的级别。
                              </p>
                              <p><span class="bold">默认值：</span></p>
                              <p>0或OFF</p>
                              <p><span class="bold">可用值：</span></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>0或<code class="codeph">OFF</code> - 无跟踪输出</p>
                                 </li>
                                 <li>
                                    <p>4或<code class="codeph">USER</code> - 用户跟踪信息</p>
                                 </li>
                                 <li>
                                    <p>10或<code class="codeph">ADMIN</code> - 管理跟踪信息</p>
                                 </li>
                                 <li>
                                    <p>16或<code class="codeph">SUPPORT</code> -  WorldWide客户支持跟踪信息</p>
                                 </li>
                              </ul>
                              <p><span class="bold">例：</span></p><pre class="oac_no_warn" dir="ltr">TRACE_LEVEL_CLIENT = 10</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="JJDBC28990"></a><div class="props_rev_3"><a id="GUID-1D4FEE6F-6CE8-4DAC-9551-C8A8086382B5" name="GUID-1D4FEE6F-6CE8-4DAC-9551-C8A8086382B5"></a><h6 id="JJDBC-GUID-1D4FEE6F-6CE8-4DAC-9551-C8A8086382B5" class="sect6"><span class="enumeration_section">E.2.1.1.2</span> TRACE_DIRECTORY_CLIENT</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>指定跟踪文件的目标目录。</p>
                              <p><span class="bold">默认值：</span></p>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/network/trace</code></p>
                              <p><span class="bold">例：</span></p>
                              <p>UNIX： <code class="codeph">TRACE_DIRECTORY_CLIENT=/oracle/traces</code></p>
                              <p>Windows： <code class="codeph">TRACE_DIRECTORY_CLIENT=C:\ORACLE\TRACES</code></p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="JJDBC28991"></a><div class="props_rev_3"><a id="GUID-8E648E37-F094-49EB-8336-DE812D1175A9" name="GUID-8E648E37-F094-49EB-8336-DE812D1175A9"></a><h6 id="JJDBC-GUID-8E648E37-F094-49EB-8336-DE812D1175A9" class="sect6"><span class="enumeration_section">E.2.1.1.3</span> TRACE_FILE_CLIENT</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>指定客户端跟踪文件的名称。</p>
                              <p><span class="bold">默认值：</span></p>
                              <p><code class="codeph">SQLNET.TRC</code> 
                              </p>
                              <p><span class="bold">例：</span></p>
                              <p><code class="codeph">TRACE_FILE_CLIENT = cli_Connection1.trc</code></p>
                              <div class="infoboxnote" id="GUID-8E648E37-F094-49EB-8336-DE812D1175A9__GUID-0C10AFAC-07F2-40F6-BBC7-E6B788F56908">
                                 <p class="notep1">注意：</p>
                                 <p>确保为<code class="codeph">TRACE_FILE_CLIENT</code>文件选择的名称与为<code class="codeph">TRACE_FILE_SERVER</code>文件选择的名称不同。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="JJDBC28992"></a><div class="props_rev_3"><a id="GUID-B36DEDF2-80D2-4CD0-967B-E630B5ED3FF2" name="GUID-B36DEDF2-80D2-4CD0-967B-E630B5ED3FF2"></a><h6 id="JJDBC-GUID-B36DEDF2-80D2-4CD0-967B-E630B5ED3FF2" class="sect6"><span class="enumeration_section">E.2.1.1.4</span> TRACE_UNIQUE_CLIENT</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>为每个客户端跟踪提供唯一名称，以防止每次跟踪文件被下一次出现的客户端跟踪覆盖。<code class="codeph">PID</code>附加到文件名的末尾。
                              </p>
                              <p><span class="bold">默认值：</span></p>
                              <p><code class="codeph">关闭</code> 
                              </p>
                              <p><span class="bold">例：</span></p>
                              <p><code class="codeph">TRACE_UNIQUE_CLIENT = ON</code></p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="JJDBC28993"></a><div class="props_rev_3"><a id="GUID-EC7C9DD4-E4DE-4D55-A327-CBE4B3CD495F" name="GUID-EC7C9DD4-E4DE-4D55-A327-CBE4B3CD495F"></a><h5 id="JJDBC-GUID-EC7C9DD4-E4DE-4D55-A327-CBE4B3CD495F" class="sect5"><span class="enumeration_section">E.2.1.2</span>服务器端跟踪</h5>
                     <div>
                        <div class="section">
                           <p><a id="d116827e1124" class="indexterm-anchor"></a>在服务器系统上的<code class="codeph">SQLNET.ORA</code>文件中设置以下参数。每个连接都将生成一个具有唯一文件名的单独文件。
                           </p>
                           <div class="infoboxnote" id="GUID-EC7C9DD4-E4DE-4D55-A327-CBE4B3CD495F__GUID-7624DF7D-C47D-4F07-800F-F6014061A6C1">
                              <p class="notep1">注意：</p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，Oracle建议您使用新XML配置文件<code class="codeph">oraaccess.xml</code>中的配置参数，而不是<code class="codeph">sqlnet.ora</code>文件中存在的OCI特定配置参数。但是，仍支持<code class="codeph">sqlnet.ora</code>文件中存在的配置参数。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="JJDBC28994"></a><div class="props_rev_3"><a id="GUID-64C4ABAF-0C8C-4DC2-AA6F-053911E457F0" name="GUID-64C4ABAF-0C8C-4DC2-AA6F-053911E457F0"></a><h6 id="JJDBC-GUID-64C4ABAF-0C8C-4DC2-AA6F-053911E457F0" class="sect6"><span class="enumeration_section">E.2.1.2.1</span> TRACE_LEVEL_SERVER</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>将跟踪<code class="codeph">on</code>或<code class="codeph">off</code>到某个指定的级别。
                              </p>
                              <p><span class="bold">默认值：</span></p>
                              <p>0或<code class="codeph">OFF</code></p>
                              <p><span class="bold">可用值：</span></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>0或<code class="codeph">OFF</code> - 无跟踪输出</p>
                                 </li>
                                 <li>
                                    <p>4或<code class="codeph">USER</code> - 用户跟踪信息</p>
                                 </li>
                                 <li>
                                    <p>10或<code class="codeph">ADMIN</code> - 管理跟踪信息</p>
                                 </li>
                                 <li>
                                    <p>16或<code class="codeph">SUPPORT</code> -  WorldWide客户支持跟踪信息</p>
                                 </li>
                              </ul>
                              <p><span class="bold">例：</span></p><pre class="oac_no_warn" dir="ltr">TRACE_LEVEL_SERVER = 10</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="JJDBC28995"></a><div class="props_rev_3"><a id="GUID-7438E1EC-8FFA-4472-BA10-7457125F0E5E" name="GUID-7438E1EC-8FFA-4472-BA10-7457125F0E5E"></a><h6 id="JJDBC-GUID-7438E1EC-8FFA-4472-BA10-7457125F0E5E" class="sect6"><span class="enumeration_section">E.2.1.2.2</span> TRACE_DIRECTORY_SERVER</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>指定跟踪文件的目标目录。</p>
                              <p><span class="bold">默认值：</span></p>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/network/trace</code> 
                              </p>
                              <p><span class="bold">例：</span></p>
                              <p><code class="codeph">TRACE_DIRECTORY_SERVER = / ORACLE /迹线</code> 
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="JJDBC28996"></a><div class="props_rev_3"><a id="GUID-FF07DC7F-7E32-43E6-BAFC-E96A09EB8F7E" name="GUID-FF07DC7F-7E32-43E6-BAFC-E96A09EB8F7E"></a><h6 id="JJDBC-GUID-FF07DC7F-7E32-43E6-BAFC-E96A09EB8F7E" class="sect6"><span class="enumeration_section">E.2.1.2.3</span> TRACE_FILE_SERVER</h6>
                        <div>
                           <div class="section">
                              <p><span class="bold">目的：</span></p>
                              <p>指定服务器跟踪文件的名称。</p>
                              <p><span class="bold">默认值：</span></p>
                              <p><code class="codeph">SERVER.TRC</code> 
                              </p>
                              <p><span class="bold">例：</span></p>
                              <p><code class="codeph">TRACE_FILE_SERVER = svr_Connection1.trc</code> 
                              </p>
                              <div class="infoboxnote" id="GUID-FF07DC7F-7E32-43E6-BAFC-E96A09EB8F7E__GUID-695EAA99-E658-4337-B353-8209823E6F31">
                                 <p class="notep1">注意：</p>
                                 <p>确保为<code class="codeph">TRACE_FILE_SERVER</code>文件选择的名称与为<code class="codeph">TRACE_FILE_CLIENT</code>文件选择的名称不同。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="JJDBC28997"></a><div class="props_rev_3"><a id="GUID-0B05B4E3-F132-4725-A5AE-539BB402ABB8" name="GUID-0B05B4E3-F132-4725-A5AE-539BB402ABB8"></a><h4 id="JJDBC-GUID-0B05B4E3-F132-4725-A5AE-539BB402ABB8" class="sect4"><span class="enumeration_section">E.2.2</span>第三方调试工具</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用诸如此类的工具<a id="d116827e1344" class="indexterm-anchor"></a> JDBCSpy和<a id="d116827e1347" class="indexterm-anchor"></a> Intersolv的JDBCTest在JDBC API级别进行故障排除。这些工具类似于<a id="d116827e1350" class="indexterm-anchor"></a> ODBC间谍和<a id="d116827e1353" class="indexterm-anchor"></a> ODBC测试工具。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04089.Java-streams-in-JDBC.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>JDBC中的Java Streams</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="accessing-and-manipulating-Oracle-data.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Oracle-object-types.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="accessing-and-manipulating-Oracle-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Oracle-object-types.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name">数据访问和操作</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JDBC中的Java Streams</li>
            </ol>
            <a id="GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC" name="GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC"></a><a id="JJDBC28409"></a>
            
            <h2 id="JJDBC-GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC" class="sect2"><span class="enumeration_chapter">12</span> JDBC中的Java Streams</h2>
         </header>
         <div class="ind">
            <div>
               <p>这个<a id="d49423e22" class="indexterm-anchor"></a><a id="d49423e26" class="indexterm-anchor"></a>本章介绍了Oracle Java数据库连接（JDBC）驱动程序如何处理多种数据类型的Java流。通过数据流，您可以读取最多2千兆字节（GB）的<code class="codeph">LONG</code>列数据。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10">Java Streams概述</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB">关于Streaming LONG或LONG RAW Columns</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA">关于Streaming CHAR_ VARCHAR_或RAW列</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5">关于流式传输LOB和外部文件</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">数据流和多列之间的关系</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D">流和行预取之间的关系</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D">关闭流</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD">关于流的注意事项和注意事项</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28410"></a><div class="props_rev_3"><a id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10" name="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10"></a><h3 id="JJDBC-GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10" class="sect3"><span class="enumeration_section">12.1</span> Java Streams概述</h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC驱动程序支持在服务器和客户端之间以任一方向操纵数据流。驱动程序支持所有流转换：二进制，ASCII和Unicode。以下是每种类型的流的简要说明：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>二进制</p>
                           <p>用于<code class="codeph">RAW</code>字节数据，对应于<code class="codeph">getBinaryStream</code>方法</p>
                        </li>
                        <li>
                           <p>ASCII</p>
                           <p>用于ISO-Latin-1编码中的ASCII字节，对应于<code class="codeph">getAsciiStream</code>方法</p>
                        </li>
                        <li>
                           <p>统一</p>
                           <p>用于<code class="codeph">UTF-16</code>编码的Unicode字节，对应于<code class="codeph">getUnicodeStream</code>方法</p>
                        </li>
                     </ul>
                     <p><code class="codeph">getBinaryStream</code> ， <code class="codeph">getAsciiStream</code>和<code class="codeph">getUnicodeStream</code>方法返回<code class="codeph">InputStream</code>对象中的数据字节。
                     </p>
                     <div class="infoboxnote" id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10__GUID-92D97B1B-7B5B-4422-ACD5-2A32D99066DD">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，不推荐使用<code class="codeph">CONNECTION_PROPERTY_STREAM_CHUNK_SIZE</code> ，驱动程序不会在内部使用它来设置流块大小。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10__GUID-83DE62F8-6226-41D0-A8E8-5CB4EA32A9C1">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="LOBs-and-BFiles.html#GUID-401E10DB-16B5-41C9-965E-E5F286F01E4C">使用LOB和BFILE</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28411"></a><div class="props_rev_3"><a id="GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB" name="GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB"></a><h3 id="JJDBC-GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB" class="sect3"><span class="enumeration_section">12.2</span>关于Streaming Long或LONG RAW Columns</h3>
               <div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65">Streaming LONG或LONG RAW Columns概述</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A">长期数据转换</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E">长期数据转换</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A">示例：Streaming LONG RAW Data</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4">关于避免长期或长期流媒体播放</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65" name="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65"></a><h4 id="JJDBC-GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65" class="sect4"><span class="enumeration_section">12.2.1</span>流式传输长或长列的概述</h4>
                  <div>
                     <p><a id="d49423e231" class="indexterm-anchor"></a><a id="d49423e235" class="indexterm-anchor"></a>当查询选择一个或多个<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列时，JDBC驱动程序会以流模式将这些列传输到客户端。在流模式下，JDBC驱动程序不会从<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>列的网络中读取列数据，直到需要时为止。列数据保留在网络通信通道中，直到您的代码调用<code class="codeph">getXXX</code>方法读取列数据。即使在调用之后，也只是根据需要读取列数据以填充getXXX调用的返回值。由于列数据保留在通信信道中，因此流模式会干扰连接的所有其他使用。除读取列数据外，对连接的任何使用都将丢弃通道中的列数据。虽然流模式可以有效利用内存并最大限度地减少网络往返，但它会干扰许多其他数据库操作。
                     </p>
                     <div class="infoboxnote" id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65__GUID-29DD9AE0-D790-436E-AA1F-2F4901D93214">
                        <p class="notep1">注意：</p>
                        <p>Oracle建议避免使用<code class="codeph">LONG</code>和<code class="codeph">LONG RAW</code>列。请改用<code class="codeph">LOB</code> 。
                        </p>
                     </div>
                     <p>要访问的数据<code class="codeph">LONG</code>列，就可以得到该列作为Java <code class="codeph">InputStream</code>对象，并使用<code class="codeph">read</code>的方法<code class="codeph">InputStream</code>对象。或者，您可以将数据作为<code class="codeph">String</code>或<code class="codeph">byte</code>数组获取。在这种情况下，驱动程序将为您执行流式处理。
                     </p>
                     <p>您可以使用三种流类型中的任何一种获得<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据。驱动程序会根据数据库和驱动程序的字符集为您执行转换。
                     </p>
                     <div class="infoboxnote" id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65__GUID-BBB9E177-8D43-4B67-B7D3-E09667CF3486">
                        <p class="notep1">注意：</p>
                        <p>不要创建包含<code class="codeph">LONG</code>列的表。请改用大对象（LOB）列， <code class="codeph">CLOB</code> ， <code class="codeph">NCLOB</code>和<code class="codeph">BLOB</code> 。仅支持<code class="codeph">LONG</code>列以实现向后兼容性。Oracle建议您将现有的<code class="codeph">LONG</code>列转换为<code class="codeph">LOB</code>列。与<code class="codeph">LONG</code>列相比， <code class="codeph">LOB</code>列的限制要少得多。
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28412"></a><div class="props_rev_3"><a id="GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A" name="GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A"></a><h4 id="JJDBC-GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A" class="sect4"><span class="enumeration_section">12.2.2</span>长期数据转换</h4>
                  <div>
                     <div class="section">
                        <p><a id="d49423e358" class="indexterm-anchor"></a><a id="d49423e362" class="indexterm-anchor"></a>对<code class="codeph">getBinaryStream</code>的调用返回<code class="codeph">RAW</code>数据。对<code class="codeph">getAsciiStream</code>的调用将<code class="codeph">RAW</code>数据转换为十六进制并返回ASCII表示。对<code class="codeph">getUnicodeStream</code>的调用将<code class="codeph">RAW</code>数据转换为十六进制并返回Unicode字符。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28414"></a><a id="JJDBC28413"></a><div class="props_rev_3"><a id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E" name="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E"></a><h4 id="JJDBC-GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E" class="sect4"><span class="enumeration_section">12.2.3</span>长数据转换</h4>
                  <div>
                     <div class="section">
                        <p><a id="d49423e412" class="indexterm-anchor"></a><a id="d49423e416" class="indexterm-anchor"></a>当您使用<code class="codeph">getAsciiStream</code>获取<code class="codeph">LONG</code>数据时，驱动程序会假定数据库中的基础数据使用<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code>字符集。如果假设为真，则驱动程序返回与ASCII字符对应的字节。如果数据库未使用<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code>字符集，则对<code class="codeph">getAsciiStream</code>的调用将返回无意义的信息。
                        </p>
                        <p>当您使用<code class="codeph">getUnicodeStream</code>获取<code class="codeph">LONG</code>数据时，您将获得<code class="codeph">UTF-16</code>编码的Unicode字符流。这适用于Oracle支持的所有基础数据库字符集。
                        </p>
                        <p>当您使用<code class="codeph">getBinaryStream</code>获取<code class="codeph">LONG</code>数据时，有两种可能的情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果驱动程序是JDBC OCI且<span class="italic">客户端</span>字符集<span class="italic">不是</span> <code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code> ，则对<code class="codeph">getBinaryStream</code>的调用将返回<code class="codeph">UTF-8</code> 。如果<span class="italic">客户端</span>字符集是<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code> ，则该调用返回<code class="codeph">US7ASCII</code>字节流。
                              </p>
                           </li>
                           <li>
                              <p>如果驱动程序是JDBC Thin且<span class="italic">数据库</span>字符集<span class="italic">不是</span> <code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code> ，则对<code class="codeph">getBinaryStream</code>的调用将返回<code class="codeph">UTF-8</code> 。如果服务器端字符集是<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code> ，则该调用返回<code class="codeph">US7ASCII</code>字节流。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E__GUID-77B2A5F6-8634-422C-89E1-2708D1202504">
                           <p class="notep1">注意：</p>
                           <p>接收<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列作为流要求您特别注意从数据库中检索列的顺序。
                           </p>
                        </div>
                        <p>下表总结了每种流类型的<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据转换。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E__G1028088">
                        <p class="titleintable">表12-1长期和长期原始数据转换</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="长期和长期数据转换" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="11%" id="d49423e563">数据类型</th>
                                 <th align="left" valign="bottom" width="38%" id="d49423e566">BinaryStream</th>
                                 <th align="left" valign="bottom" width="32%" id="d49423e569">AsciiStream</th>
                                 <th align="left" valign="bottom" width="18%" id="d49423e572">UnicodeStream</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d49423e577" headers="d49423e563 ">
                                    <p><span class="bold">长</span></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d49423e577 d49423e566 ">
                                    <p>表示Unicode <code class="codeph">UTF-8</code>中字符的字节。如果数据库字符集是<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code> ，则字节可以表示<code class="codeph">US7ASCII</code>或<code class="codeph">WE8ISO8859P1</code>的字符。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d49423e577 d49423e569 ">
                                    <p>表示ISO-Latin-1（ <code class="codeph">WE8ISO8859P1</code> ）编码中字符的字节</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d49423e577 d49423e572 ">
                                    <p>表示Unicode <code class="codeph">UTF-16</code>编码字符的字节</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d49423e612" headers="d49423e563 ">
                                    <p><span class="bold">LONG RAW</span></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d49423e612 d49423e566 ">
                                    <p>数据不变</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d49423e612 d49423e569 ">
                                    <p>十六进制字节的ASCII表示</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d49423e612 d49423e572 ">
                                    <p>十六进制字节的Unicode表示</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="globalization-support.html#GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97">全球化支持</a></li>
                           <li><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">数据流和多列之间的关系</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28416"></a><a id="JJDBC28417"></a><a id="JJDBC28415"></a><div class="props_rev_3"><a id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A" name="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A"></a><h4 id="JJDBC-GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A" class="sect4"><span class="enumeration_section">12.2.4</span>示例：流式传输长期数据</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">Stream</code>方法的一个特性是它使您能够以递增方式获取数据。相反， <code class="codeph">getBytes</code>在一次调用中获取所有数据。<a id="d49423e678" class="indexterm-anchor"></a>本节包含两个获取二进制数据流的示例。第一个版本使用<code class="codeph">getBinaryStream</code>方法获取<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据，第二个版本使用<code class="codeph">getBytes</code>方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A__GUID-5C17073E-929D-4547-9F9F-57BE1F661D96">使用getBinaryStream获取LONG RAW数据列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这个<a id="d49423e702" class="indexterm-anchor"></a>示例将<code class="codeph">LONG</code> <code class="codeph">RAW</code>列的内容写入本地文件系统上的文件。在这种情况下，驱动程序以递增方式获取数据。
                        </p>
                        <p>以下代码创建表，该表存储与名称LESLIE关联的<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据列：</p><pre class="oac_no_warn" dir="ltr">-  SQL代码：create table streamexample（NAME varchar2（256），GIFDATA long raw）;插入到streamexample值（'LESLIE'，'00010203040506070809'）;</pre><p>以下Java代码段将<code class="codeph">LONG</code> <code class="codeph">RAW</code>列中的数据写入名为<code class="codeph">leslie.gif:</code>的文件中<code class="codeph">leslie.gif:</code></p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从streamexample中选择GIFDATA，其中NAME ='LESLIE'”）; //获取第一行if（rset.next（））{//将GIF数据作为从Oracle传输到客户端的流InputStream gif_data = rset.getBinaryStream（1）;尝试{FileOutputStream file = null; file = new FileOutputStream（“leslie.gif”）; int chunk; while（（chunk = gif_data.read（））！= -1）file.write（chunk）; } catch（Exception e）{String err = e.toString（）;的System.out.println（ERR）; } finally {if file！= null（）file.close（）; }}</pre><p>在此示例中，对<code class="codeph">getBinaryStream</code>的调用返回的<code class="codeph">InputStream</code>对象直接从数据库连接读取数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A__GUID-20DE26E4-F3D7-43BA-978E-D8739BA83085">使用getBytes获取LONG RAW数据列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这个<a id="d49423e747" class="indexterm-anchor"></a>示例使用<code class="codeph">getBytes</code>而不是<code class="codeph">getBinaryStream</code>获取<code class="codeph">GIFDATA</code>列的内容。在这种情况下，驱动程序在一次调用中获取所有数据并将其存储在字节数组中。代码段如下：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset2 = stmt.executeQuery（“从streamexample中选择GIFDATA，其中NAME ='LESLIE'”）; //获取第一行if（rset2.next（））{//将GIF数据作为从Oracle传输到客户端字节的流[] bytes = rset2.getBytes（1）;尝试{FileOutputStream file = null; file = new FileOutputStream（“leslie2.gif”）; file.write（字节）; } catch（Exception e）{String err = e.toString（）;的System.out.println（ERR）; } finally {if file！= null（）file.close（）; }}</pre><p>由于<code class="codeph">LONG RAW</code>列最多可包含2千兆字节的数据，因此<code class="codeph">getBytes</code>示例可以使用比<code class="codeph">getBinaryStream</code>示例更多的内存。如果您不知道<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>列中数据的最大大小，请使用流。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28418"></a><div class="props_rev_3"><a id="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4" name="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4"></a><h4 id="JJDBC-GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4" class="sect4"><span class="enumeration_section">12.2.5</span>关于避免长时间或长时间的流式传输</h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4__GUID-59920A95-6CAC-48A2-9F70-22A52174EEA6">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，不推荐使用此方法。
                           </p>
                        </div>
                        <p><a id="d49423e808" class="indexterm-anchor"></a> JDBC驱动程序自动流式传输任何<code class="codeph">LONG</code>和<code class="codeph">LONG RAW</code>列。但是，您可能希望避免数据流。例如，如果您有一个非常小的<code class="codeph">LONG</code>列，那么您可能希望避免以递增方式返回数据，而是在一次调用中返回数据。
                        </p>
                        <p>要避免流式传输，请使用<code class="codeph">defineColumnType</code>方法重新定义<code class="codeph">LONG</code>列的类型。例如，如果将<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>列重新定义为<code class="codeph">VARCHAR</code>或<code class="codeph">VARBINARY</code>类型，则驱动程序将不会自动流式传输数据。
                        </p>
                        <p>如果使用<code class="codeph">defineColumnType</code>重新定义列类型，则必须在查询中声明列的类型。如果您没有声明列的类型，那么<code class="codeph">executeQuery</code>将失败。此外，您必须将<code class="codeph">Statement</code>对象<code class="codeph">oracle.jdbc.为<code class="codeph">oracle.jdbc.OracleStatement</code> 。
                        </p>
                        <p>另外一个好处是，使用<code class="codeph">defineColumnType</code>可以在运行查询时为OCI驱动程序保存数据库往返。如果没有<code class="codeph">defineColumnType</code> ，这些JDBC驱动程序必须请求列类型的数据类型。JDBC Thin驱动程序不会从<code class="codeph">defineColumnType</code> ，因为它始终使用最少的往返次数。
                        </p>
                        <p>使用上一节中的示例，将<code class="codeph">Statement</code>对象<code class="codeph">stmt</code>为<code class="codeph">OracleStatement</code> ，并将包含<code class="codeph">LONG RAW</code>数据的列重新定义为<code class="codeph">VARBINARAY</code>类型。数据未流式传输。相反，它以字节数组的形式返回。代码段如下：</p><pre class="oac_no_warn" dir="ltr">//将语句stmt强制转换为OracleStatement oracle.jdbc。OracleStatement ostmt =（oracle.jdbc。OracleStatement）语句; //将索引位置1处的LONG列重新定义为VARBINARY ostmt.defineColumnType（1，Types。VARBINARY）; //执行查询以获取名为“LESLIE”的图像ResultSet rset = ostmt.executeQuery（“从streamexample中选择GIFDATA，其中NAME ='LESLIE'”）; //这里没有流式传输数据rset.next（）; byte [] bytes = rset.getBytes（1）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="release-changes.html#GUID-AC113DA4-DA08-4FB8-A447-7C3A6CDD8F22">不推荐的功能</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JJDBC28419"></a><div class="props_rev_3"><a id="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA" name="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA"></a><h3 id="JJDBC-GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA" class="sect3"><span class="enumeration_section">12.3</span>关于Streaming CHAR，VARCHAR或RAW列</h3>
               <div>
                  <div class="infoboxnote" id="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA__GUID-ADAB68FA-6F1C-4072-A91C-CEAC916E2A6C">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，不推荐使用此方法。
                     </p>
                  </div>
                  <p><a id="d49423e927" class="indexterm-anchor"></a><a id="d49423e931" class="indexterm-anchor"></a><a id="d49423e935" class="indexterm-anchor"></a>如果使用<code class="codeph">defineColumnType</code> Oracle扩展将<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>或<code class="codeph">RAW</code>列重新定义为<code class="codeph">LONGVARCHAR</code>或<code class="codeph">LONGVARBINARY</code> ，则可以将该列作为流获取。程序的行为就像列实际上是<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>类型一样。请注意，没有太多意义，因为这些列通常很短。
                  </p>
                  <p>如果尝试将<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>或<code class="codeph">RAW</code>列作为数据流而不重新定义列类型，则JDBC驱动程序将返回Java <code class="codeph">InputStream</code> ，但不会发生实际流。对于这些数据类型，JDBC驱动程序在调用<code class="codeph">executeQuery</code>方法或<code class="codeph">next</code>方法期间将数据完全提取到内存缓冲区中。<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">Stream</code>入口点返回从此缓冲区读取数据的流。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="release-changes.html#GUID-AC113DA4-DA08-4FB8-A447-7C3A6CDD8F22">不推荐的功能</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28421"></a><a id="JJDBC28422"></a><a id="JJDBC28420"></a><div class="props_rev_3"><a id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5" name="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5"></a><h3 id="JJDBC-GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5" class="sect3"><span class="enumeration_section">12.4</span>关于流式传输LOB和外部文件</h3>
               <div>
                  <p><a id="d49423e1029" class="indexterm-anchor"></a>术语大对象（LOB）是指数据项太大而无法直接存储在数据库表中。相反，定位器存储在数据库表中，该表指向实际数据的位置。外部文件的管理方式类似。JDBC驱动程序可以通过使用strea ms支持以下类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>二进制大对象（BLOB）</p>
                        <p>对于非结构化二进制数据</p>
                     </li>
                     <li>
                        <p>字符大对象（CLOB）</p>
                        <p>对于角色数据</p>
                     </li>
                     <li>
                        <p>国家大字体（NCLOB）</p>
                        <p>对于国家字符数据</p>
                     </li>
                     <li>
                        <p>二进制文件（BFILE）</p>
                        <p>对于外部文件</p>
                     </li>
                  </ul>
                  <p>LOB和BFILE的行为与本章中描述的其他类型的流数据不同。而不是将实际数据存储在表中，而是存储定位器。可以使用此定位器操作实际数据，包括以流的形式读取和写入数据。即使在流式传输时，也只有大量数据（由大小定义）通过网络流式传输。相比之下，当流式传输<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code> ，整个数据将通过网络流式传输。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-7F090CF3-C1FD-424D-96CE-5DD6D5964B9D">流BLOB，CLOB和NCLOB</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>当查询获取一个或多个<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>列时，JDBC驱动程序将数据传输到客户端。该数据可以作为流来访问。要从JDBC操作<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>数据，请使用Oracle扩展类<code class="codeph">oracle.sql.BLOB</code> ， <code class="codeph">oracle.sql.CLOB</code>和<code class="codeph">oracle.sql.NCLOB</code> 。这些类提供特定的功能，诸如从读取<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code> ，或<code class="codeph">NCLOB</code>为输入流，从输出流写入一个<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code> ，或<code class="codeph">NCLOB</code> ，确定的长度<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code> ，或<code class="codeph">NCLOB</code> ，闭<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> 。</p>
                     <div class="infoboxnote" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-5C2C2856-AC88-4337-BE65-FAE8258CD6E3">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，不推荐使用<code class="codeph">oracle.sql</code>包中的具体类，并将其替换为<code class="codeph">oracle.jdbc</code>包中的接口。Oracle建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以<code class="codeph">java.sql</code> Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关这些接口的更多信息，请参阅MoS Note 1364193.1。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-2A04F6A3-4508-470F-B0F1-0B9B46FB0415">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="LOBs-and-BFiles.html#GUID-B88A9B7F-FFDD-4B9F-9B6D-ED9C70B7545F">LOB的数据接口</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-F433F7C8-81C4-4661-A5E9-47AB633F2BCF">流式BFILE</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d49423e1176" class="indexterm-anchor"></a><a id="d49423e1180" class="indexterm-anchor"></a>外部文件或BFILE用于将定位器存储到数据库外部的文件中。该文件可以存储在数据服务器的文件系统上的某个位置。定位器指向文件的实际位置。
                     </p>
                     <p>当查询获取一个或多个<code class="codeph">BFILE</code>列时，JDBC驱动程序会根据需要将文件传输到客户端。可以作为流访问数据要从JDBC操作BFILE数据，请使用Oracle扩展类<code class="codeph">oracle.sql.BFILE</code> 。此类提供特定功能，例如从BFILE读取到输入流，从输出流写入BFILE，确定BFILE的长度以及关闭BFILE。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28424"></a><a id="JJDBC28425"></a><a id="JJDBC28423"></a><div class="props_rev_3"><a id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B" name="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B"></a><h3 id="JJDBC-GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B" class="sect3"><span class="enumeration_section">12.5</span>数据流和多列之间的关系</h3>
               <div>
                  <p><a id="d49423e1218" class="indexterm-anchor"></a>如果查询获取多个列并且其中一列包含数据流，则在读取流之前，流列之后的列的内容不可用，并且一旦读取任何后续列，则流列不再可用。任何读取流列之外的列的尝试都会关闭流列。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__GUID-F5E60400-216A-4DDD-AC2C-BC20F66B127F">具有多列的流示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请考虑以下代码：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从TABLE中选择DATECOL，LONGCOL，NUMBERCOL”）;而rset.next（）{//获取日期数据java.sql。日期日期= rset.getDate（1）; //获取流数据InputStream is = rset.getAsciiStream（2）; //打开一个文件来存储gif数据FileOutputStream file = new FileOutputStream（“ascii.dat”）; //循环，从ascii流读取和//写入文件int chunk; while（（chunk = is.read（））！= -1）file.write（chunk）; //关闭文件file.close（）; //获取数字列数据int n = rset.getInt（3）; }</pre><p>每行的传入数据具有以下形状：</p><pre class="oac_no_warn" dir="ltr">&lt;a date&gt; &lt;长列的字符&gt; &lt;a number&gt;</pre><p>在处理结果集的每一行时，必须在读取数字列之前完成流列的任何处理。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__I1014850">
                     <p class="subhead2" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__GUID-C1F13488-2710-4397-BE86-2901CC5E691E">绕过流数据列</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在某些情况下，您可能希望避免读取包含流数据的列。如果你<a id="d49423e1243" class="indexterm-anchor"></a>不想读取这样的数据，然后调用stream对象的<code class="codeph">close</code>方法。此方法丢弃流数据并使驱动程序能够继续从包含非流数据的所有列读取数据，并按照包含流数据的列进行操作。即使您有意丢弃流，但以与<code class="codeph">SELECT</code>语句中相同的顺序检索列是一种很好的编程习惯。
                     </p>
                     <p>在以下示例中，将丢弃<code class="codeph">LONG</code>列中的流数据，并且仅恢复来自<code class="codeph">DATE</code>和<code class="codeph">NUMBER</code>列的数据：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从TABLE中选择DATECOL，LONGCOL，NUMBERCOL”）;而rset.next（）{//获取日期java.sql。日期日期= rset.getDate（1）; //访问流数据并使用close（）将其丢弃InputStream is = rset.getAsciiStream（2）; is.close（）; //获取数字列数据int n = rset.getInt（3）; }</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">关于流数据注意事项</a></li>
                        <li><a href="Java-streams-in-JDBC.html#GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5">关于流式传输LOB和外部文件</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28426"></a><div class="props_rev_3"><a id="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D" name="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D"></a><h3 id="JJDBC-GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D" class="sect3"><span class="enumeration_section">12.6</span>关闭流</h3>
               <div>
                  <div class="section">
                     <p><a id="d49423e1307" class="indexterm-anchor"></a>您可以通过调用<code class="codeph">close</code>方法随时丢弃流中的数据。当您不再需要它时关闭流是一种很好的编程习惯。例如：</p><pre class="oac_no_warn" dir="ltr">...InputStream是= rset.getAsciiStream（2）; is.close（）;</pre><div class="infoboxnote" id="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D__GUID-461DE5C3-65AD-45A7-91CC-96ADB13587F9">
                        <p class="notep1">注意：</p>
                        <p>关闭流对LONG或LONG RAW列的性能影响很小。所有数据仍然在网络中传输，驱动程序必须从网络中读取这些位。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">数据流和多列之间的关系</a></li>
                        <li><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">关于流数据注意事项</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28427"></a><div class="props_rev_3"><a id="GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD" name="GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD"></a><h3 id="JJDBC-GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD" class="sect3"><span class="enumeration_section">12.7</span>流的注意事项和注意事项</h3>
               <div>
                  <div class="section">
                     <p>本节讨论有关使用流的几个警示问题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">关于流数据注意事项</a></p>
                        </li>
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE">关于使用Streams来避免对setBytes和setString的限制</a></p>
                        </li>
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D">流和行预取之间的关系</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28428"></a><div class="props_rev_3"><a id="GUID-6A449885-5082-44B2-93B6-36060EEA7C15" name="GUID-6A449885-5082-44B2-93B6-36060EEA7C15"></a><h4 id="JJDBC-GUID-6A449885-5082-44B2-93B6-36060EEA7C15" class="sect4"><span class="enumeration_section">12.7.1</span>关于流数据注意事项</h4>
                  <div>
                     <p>本节介绍了必须采取的一些预防措施，以确保您不会意外丢弃或丢失流数据。如果执行与数据库通信的任何JDBC操作（除了读取当前流），驱动程序将自动丢弃流数据。两个常见的预防措施是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>访问后使用流数据。</p>
                           <p>要从包含数据流的列恢复数据，仅提取列是不够的。您必须立即处理该列的内容。否则，当您获取下一列时，将丢弃内容。</p>
                        </li>
                        <li>
                           <p>以与<code class="codeph">SELECT</code>语句中相同的顺序调用流列。
                           </p>
                           <p>如果查询提取多个列，则数据库将每行作为一组字节发送，表示<code class="codeph">SELECT</code>顺序中的列。如果其中一列包含流数据，则数据库会在继续下一列之前发送整个数据流。
                           </p>
                           <p>如果不使用<code class="codeph">SELECT</code>语句中的顺序来访问数据，则可能会丢失流数据。也就是说，如果绕过流数据列并访问其后面的列中的数据，则流数据将丢失。例如，如果<span class="italic">在</span>从流数据列读取数据<span class="italic">之前</span>尝试访问<code class="codeph">NUMBER</code>列的数据，则JDBC驱动程序首先读取然后自动丢弃流数据。如果<code class="codeph">LONG</code>列包含大量数据，则效率非常低。
                           </p>
                           <p>如果您稍后尝试在程序中访问<code class="codeph">LONG</code>列，则数据将不可用，并且驱动程序将返回“ <code class="codeph">Stream Closed</code> ”错误。
                           </p>
                        </li>
                     </ul>
                     <p>后面的例子如下例所示：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从TABLE中选择DATECOL，LONGCOL，NUMBERCOL”）;而rset.next（）{int n = rset.getInt（3）; //这会丢弃流数据InputStream is = rset.getAsciiStream（2）; //引发错误：流已关闭。}</pre><p>如果您获得了流但<span class="italic">在</span>获取<code class="codeph">NUMBER</code>列<span class="italic">之前</span>未使用它，则流仍会自动关闭：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“从TABLE中选择DATECOL，LONGCOL，NUMBERCOL”）;而rset.next（）{InputStream is = rset.getAsciiStream（2）; //获取流int n = rset.getInt（3）; //丢弃流数据并关闭流} int c = is.read（）; // c为-1：不再有读取流的字符</pre></div>
               </div><a id="JJDBC28429"></a><div class="props_rev_3"><a id="GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE" name="GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE"></a><h4 id="JJDBC-GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE" class="sect4"><span class="enumeration_section">12.7.2</span>关于使用流来避免对setBytes和setString的限制</h4>
                  <div>
                     <div class="section">
                        <p>从Oracle数据库<span class="italic">12c</span>中开始，其用于与所述数据的大小限制<code class="codeph">setBytes</code>和<code class="codeph">setString</code>方法，已显著增加。任何Java <code class="codeph">byte</code>数组都可以传递给<code class="codeph">setBytes</code> ，任何Java <code class="codeph">String</code>都可以传递给<code class="codeph">setString</code> 。JDBC驱动程序自动切换到使用<code class="codeph">setBinaryStream</code>或<code class="codeph">setCharacterStream</code>或使用<code class="codeph">setBytesForBlob</code>或<code class="codeph">setStringForClob</code> ，具体取决于数据的大小，语句是SQL还是PL / SQL，以及使用的驱动程序。
                        </p>
                        <p>早期版本的Oracle数据库和服务器端内部驱动程序存在一些限制。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="LOBs-and-BFiles.html#GUID-B88A9B7F-FFDD-4B9F-9B6D-ED9C70B7545F">LOB的数据接口</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28430"></a><div class="props_rev_3"><a id="GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D" name="GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D"></a><h4 id="JJDBC-GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D" class="sect4"><span class="enumeration_section">12.7.3</span>流和行预取之间的关系</h4>
                  <div>
                     <div class="section">
                        <p>如果JDBC驱动程序遇到<a id="d49423e1567" class="indexterm-anchor"></a><a id="d49423e1571" class="indexterm-anchor"></a>包含数据流的列，然后将行提取大小设置回一。行提取大小是Oracle性能增强，可以在每次访问数据库时检索多行数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03423.dimensions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>外形尺寸</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Warehousing Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Warehousing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="monitoring-materialized-view-refresh.html" title="Previous" type="text/html"></link>
      <link rel="next" href="basic-query-rewrite-materialized-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DWHSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-materialized-view-refresh.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="basic-query-rewrite-materialized-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据仓库指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-optimizing-dw.html" property="item" typeof="WebPage"><span property="name">优化数据仓库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">外形尺寸</li>
            </ol>
            <a id="GUID-106BE703-0D67-41F1-8CAC-6432B95FBF82" name="GUID-106BE703-0D67-41F1-8CAC-6432B95FBF82"></a>
            
            <h2 id="DWHSG-GUID-106BE703-0D67-41F1-8CAC-6432B95FBF82" class="sect2"><span class="enumeration_chapter">10个</span>尺寸</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论在数据仓库中使用维度：它包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="dimensions.html#GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926">什么是尺寸？</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-C924590B-C481-4202-9243-1EEB66560C6D">创建尺寸</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-9B154667-0693-4944-811A-FD6AB58BB5D5">查看尺寸</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-B2717E17-E229-4DFF-AA8E-B65FB97B74AE">使用具有约束的维度</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-8915EF18-9DF7-43FF-B867-2B91E2606592">验证尺寸</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-3B85B959-5404-4FFD-92CA-1959A99EE10D">改变尺寸</a></p>
                  </li>
                  <li>
                     <p><a href="dimensions.html#GUID-D64EFB47-545A-4406-BF0B-DB74154F5210">删除维度</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG8257"></a><a id="DWHSG8256"></a><div class="props_rev_3"><a id="GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926" name="GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926"></a><h3 id="DWHSG-GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926" class="sect3"><span class="enumeration_section">10.1</span>什么是尺寸？
               </h3>
               <div>
                  <p><a id="d41973e77" class="indexterm-anchor"></a> <a href="glossary.html#GUID-51168741-F40B-41B8-83DE-F159BEB2DE75"><span class="xrefglossterm">维度</span></a>是对数据进行分类以使用户能够回答业务问题的结构。常用的尺寸是客户，产品和时间。例如，服装零售商的每个销售渠道可能收集和存储有关其布料分类的销售和回收的数据。零售连锁管理可以建立一个数据仓库，分析其产品在所有商店的销售情况，并帮助回答以下问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>推广一种产品对销售未推广的相关产品有何影响？</p>
                     </li>
                     <li>
                        <p>促销前后产品的销售情况如何？</p>
                     </li>
                     <li>
                        <p>促销如何影响各种分销渠道？</p>
                     </li>
                  </ul>
                  <p>零售商数据仓库系统中的数据有两个重要组成部分： <a id="d41973e98" class="indexterm-anchor"></a>尺寸和<a id="d41973e101" class="indexterm-anchor"></a>事实。尺寸是产品，客户，促销，渠道和时间。确定维度的一种方法是查看参考表，例如包含产品所有内容的产品表，或包含有关促销的所有信息的促销表。事实是销售（销售单位）和利润。数据仓库包含每天每种产品的销售情况。
                  </p>
                  <p>这种数据仓库的典型关系实现是星型模式。事实信息存储在所谓的事实表中，而维度信息存储在维度表中。在我们的示例中，每个销售交易记录都是针对每个客户，每个产品，每个销售渠道，每个促销以及每天（时间）唯一定义的。</p>
                  <p>在Oracle数据库中，维度信息本身存储在维度表中。此外，数据库对象维度有助于将维度信息组织和分组到层次结构中。这表示无法用约束条件表示的列或列组（层次结构的级别）之间的自然<code class="codeph">1:n</code>关系。 <a id="d41973e111" class="indexterm-anchor"></a><a id="d41973e115" class="indexterm-anchor"></a><a id="d41973e117" class="indexterm-anchor"></a><a id="d41973e119" class="indexterm-anchor"></a> 在层次结构中上升级别称为汇总数据并调用层次结构中的级别<a id="d41973e124" class="indexterm-anchor"></a>深入挖掘数据。在零售商示例中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在<code class="codeph">time</code>维度内，几个月累积到四分之一，几个季度累积到几年，几年累积到所有年份。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">product</code>维度中，产品汇总到子类别，子类别汇总到类别，类别汇总到所有产品。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">customer</code>层面，客户可以到达<code class="codeph">city</code> 。然后城市汇总到<code class="codeph">state</code> 。然后各州汇总到<code class="codeph">country</code> 。然后各国汇总到<code class="codeph">subregion</code> 。最后，子区域汇总到<code class="codeph">region</code> ， <a href="dimensions.html#GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926__BABFBBEB">如图10-1</a>所示。
                        </p>
                     </li>
                  </ul>
                  <div class="figure" id="GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926__BABFBBEB">
                     <p class="titleinfigure">图10-1客户维度的示例汇总</p><img src="img/dwhsg072.gif" alt="下面是图10-1的描述" title="下面是图10-1的描述" longdesc="img_text/dwhsg072.html"><br><a href="img_text/dwhsg072.html">“图10-1客户维度的样本汇总”的描述</a></div>
                  <!-- class="figure" -->
                  <p>数据分析通常从维度层次结构中的较高级别开始，如果情况需要进行此类分析，则逐渐向下钻取。</p>
                  <p>不必定义维度模式对象（维度）。但是，如果您的应用程序使用维度建模，则值得花时间创建它们，因为它可以产生显着的好处，因为它们有助于查询重写执行更复杂的重写类型。维度也有益于某些类型的物化视图刷新操作和SQL Access Advisor。只有在使用SQL Access Advisor（用于物化视图和索引管理的GUI工具）而没有工作负载来推荐创建，删除或保留哪些物化视图和索引时，它们才是必需的。</p>
                  <p>尽管维度具有优势，但您不得在任何不完全满足本章所述维度关系的架构中创建维度。否则，可以从查询返回不正确的结果。</p>
                  <div class="infoboxnotealso" id="GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926__GUID-3396D142-2FB4-476A-97B5-B589F4EDAE25">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p> 有关模式的更多详细信息的<a href="data-warehouse-optimizations-techniques.html#GUID-79C29A60-3477-448D-835D-2940D060D050" title="近似查询处理使用SQL函数为可接受近似值的探索性查询提供实时响应。包含返回近似结果的SQL函数的查询称为近似查询。可以使用返回近似结果的相应SQL函数运行包含精确函数的查询，而无需修改查询。这使您可以通过使用返回近似结果的相应SQL函数来运行现有应用程序而无需修改。">数据仓库优化和技术</a></p>
                        </li>
                        <li>
                           <p><a href="basic-query-rewrite-materialized-views.html#GUID-DB76286B-8557-446B-A6CC-BC987C378076" title="查询经过多次检查以确定它是否是查询重写的候选者。如果查询未通过任何检查，则查询将应用于详细信息表而不是物化视图。在响应时间和处理能力方面，无法重写可能代价高昂。查询重写行为由某些数据库初始化参数控制。查询重写提供了三个级别的重写完整性，这些级别由初始化参数QUERY_REWRITE_INTEGRITY控制。此示例说明了使用实例化视图重写查询的强大功能。">物化视图的基本查询重写</a>有关查询重写的更多详细信息</p>
                        </li>
                        <li>
                           <p>有关SQL Access Advisor的更多详细信息，请参见<a href="../tgsql/introduction-to-sql-tuning.html#TGSQL591" target="_blank"><span><cite>“Oracle数据库SQL调优指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D" name="GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D"></a><h4 id="DWHSG-GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D" class="sect4"><span class="enumeration_section">10.1.1</span>数据仓库中的维度要求</h4>
                  <div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>父母与子女之间必须存在<code class="codeph">1:n</code>关系。父母可以有一个或多个孩子，但孩子只能有一个孩子。
                           </p>
                        </li>
                        <li>
                           <p>层次结构级别与其依赖维度属性之间必须存在<code class="codeph">1:1</code>属性关系。例如，如果存在列<code class="codeph">fiscal_month_desc</code> ，则可能的属性关系是<code class="codeph">fiscal_month_desc</code>到<code class="codeph">fiscal_month_name</code> 。对于跳过<code class="codeph">NULL</code>级别，如果跳过级别的关系的行具有级别列的<code class="codeph">NULL</code>值，则该行也必须具有属性关系列的<code class="codeph">NULL</code>值。
                           </p>
                        </li>
                        <li>
                           <p>如果父级别和子级别的列处于不同的关系中，则它们之间的连接也需要<code class="codeph">1:n</code>连接关系。除非使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句，否则子表的每一行必须与父表的一行连接。此关系仅比引用完整性更强，因为它要求子连接键必须为非null，必须保持从子连接键到父连接键的引用完整性，并且父连接键必须是唯一的。
                           </p>
                        </li>
                        <li>
                           <p>必须确保（必要时使用数据库约束）每个层次结构级别的列都不为空，除非您使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句并保持层次结构完整性。
                           </p>
                        </li>
                        <li>
                           <p>可选的连接键是一个连接键，它将直接非跳过子<code class="codeph">CHILDLEV</code> （如果存在这样的级别） <code class="codeph">CHILDLEV</code>连接到最近的非跳过祖先（再次，如果存在这样的级别）， <code class="codeph">ANCLEV</code> ，层次结构中的跳过级别。此外，仅当<code class="codeph">CHILDLEV</code>和<code class="codeph">ANCLEV</code>在不同关系上定义时， <code class="codeph">CHILDLEV</code>允许使用此joinkey。
                           </p>
                        </li>
                        <li>
                           <p>维度的层次结构可以重叠或彼此断开。但是，层次结构级别的列不能与多个维度相关联。</p>
                        </li>
                        <li>
                           <p>不支持在维度图中形成循环的连接关系。例如，层次结构级别不能直接或间接地连接到自身。</p>
                           <div class="infoboxnote" id="GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D__GUID-CF10ABBC-0835-4841-A38A-2DA65F90F2D3">
                              <p class="notep1">注意：</p>
                              <p>与维度对象一起存储的信息仅是声明性的。之前讨论的关系不会通过创建维对象来实施。您应该使用<code class="codeph">DBMS_DIMENSION.VALIDATE_DIMENSION</code>过程验证任何维度定义，如<span class="q">“ <a href="dimensions.html#GUID-8915EF18-9DF7-43FF-B867-2B91E2606592">验证维度</a> ”中所述</span> 。
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DWHSG8258"></a><div class="props_rev_3"><a id="GUID-C924590B-C481-4202-9243-1EEB66560C6D" name="GUID-C924590B-C481-4202-9243-1EEB66560C6D"></a><h3 id="DWHSG-GUID-C924590B-C481-4202-9243-1EEB66560C6D" class="sect3"><span class="enumeration_section">10.2</span>创建尺寸</h3>
               <div>
                  <div class="section">
                     <p><a id="d41973e339" class="indexterm-anchor"></a>在创建维对象之前，维表必须存在于可能包含维度数据的数据库中。例如，如果创建客户维度，则必须存在一个或多个包含城市，州和国家/地区信息的表。在星型模式数据仓库中，这些维度表已存在。因此，确定将使用哪些是一项简单的任务。
                     </p>
                     <p>现在您可以绘制维度的层次结构， <a href="dimensions.html#GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926__BABFBBEB">如图10-1</a>所示。例如， <code class="codeph">city</code>是<code class="codeph">state</code>的子女（因为您可以将城市级数据汇总到州）和<code class="codeph">country</code> 。此分层信息将存储在数据库对象维度中。
                     </p>
                     <p>在标准化或部分标准化的维度表示（存储在多个表中的维度）的情况下，标识这些表的连接方式。请注意维度表之间的连接是否可以保证每个子端行与一个且只有一个父端行连接。在非规范化维度的情况下，确定子端列是否唯一地确定父端（或属性）列。如果使用约束来表示这些关系，则可以使用<code class="codeph">NOVALIDATE</code>和<code class="codeph">RELY</code>子句启用它们， <code class="codeph">RELY</code>是约束表示的关系可通过其他方式保证。
                     </p>
                     <p>您<a id="d41973e367" class="indexterm-anchor"></a><a id="d41973e371" class="indexterm-anchor"></a>可以<a id="d41973e374" class="indexterm-anchor"></a>希望能够跳过维度中的<code class="codeph">NULL</code>级别。波多黎各就是一个例子。您可能希望将波多黎各纳入北美地区，但不包括在州类别内。如果需要此功能，请使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句。有关语法和限制，请参阅本节后面的示例维度以获取更多信息和<a href="../sqlrf/CREATE-DIMENSION.html#SQLRF53901" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                     </p>
                     <p>您可以使用以下任一方式创建维度<a id="d41973e400" class="indexterm-anchor"></a> Oracle Enterprise Manager中的<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句或维度向导。在<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句中，使用<code class="codeph">LEVEL</code>子句标识维度级别的名称。
                     </p>
                     <p>此客户维度包含具有地理汇总的单个层次结构，其中包含从子级别到父级别的箭头， <a href="dimensions.html#GUID-73AC5D1C-F734-4F38-9DBE-4726BC726926__BABFBBEB">如图10-1</a>所示。
                     </p>
                     <p>此图中的每个箭头表示对于任何孩子，只有一个父母。例如，每个城市必须只包含一个州，每个州必须只包含在一个国家/地区。属于一个以上国家的国家违反了等级完整性。此外，如果要包含不属于某个州的城市，则必须使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句，例如华盛顿特区。对于包含聚合的物化视图，管理功能的正确操作需要分层完整性。
                     </p>
                     <p>例如，您可以声明一个维度<code class="codeph">products_dim</code> ，其中包含级别<code class="codeph">product</code> ， <code class="codeph">subcategory</code>和<code class="codeph">category</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION products_dim LEVEL产品IS（products.prod_id）LEVEL子类别IS（products.prod_subcategory）LEVEL类别IS（products.prod_category）...
</pre><p>维度中的每个级别必须对应于数据库中表格中的一个或多个列。因此，level <code class="codeph">product</code>由products表中的<code class="codeph">prod_id</code>列标识，level <code class="codeph">subcategory</code>由同一个表中名为<code class="codeph">prod_subcategory</code>的列标识。
                     </p>
                     <p>在此示例中，数据库表是非规范化的，并且所有列都存在于同一个表中。但是，这不是创建维度的先决条件。 <span class="q">“ <a href="dimensions.html#GUID-38896ACC-DDCD-4A36-BBBF-1E485742B0B9">使用规范化维度表创建维度</a> ”</span>显示了如何使用<code class="codeph">JOIN</code> <code class="codeph">KEY</code>子句创建具有规范化架构设计的维度<code class="codeph">customers_dim</code> 。
                     </p>
                     <p>下一步是使用<code class="codeph">HIERARCHY</code>语句声明级别之间的关系，并为该层次结构命名。层次关系是从层次结构的一个级别到层次结构中的下一个级别的功能依赖性。使用先前定义的级别名称， <code class="codeph">CHILD</code> <code class="codeph">OF</code>关系表示每个子级别的值与一个且仅一个父级别值相关联。以下语句声明了层次结构<code class="codeph">prod_rollup</code>并定义了产品，子类别和类别之间的关系：</p><pre class="oac_no_warn" dir="ltr">HIERARCHY prod_rollup（产品子类别子类别）</pre><p>除了<code class="codeph">1:n</code>层次关系之外，维度还包括层次结构级别与其依赖的，确定的维度属性之间的<code class="codeph">1:1</code>属性关系。例如， <a href="../comsc/SH-sample-schema-scripts-and-objects.html#COMSC00031" target="_blank"><span><cite>Oracle数据库示例模式中</cite></span></a>定义的维度<code class="codeph">times_dim</code>具有列<code class="codeph">fiscal_month_desc</code> ， <code class="codeph">fiscal_month_name</code>和<code class="codeph">days_in_fiscal_month</code> 。他们的关系定义如下：</p><pre class="oac_no_warn" dir="ltr">LEVEL fis_month是TIMES.FISCAL_MONTH_DESC ......ATTRIBUTE fis_month确定（fiscal_month_name，days_in_fiscal_month）</pre><p><code class="codeph">ATTRIBUTE</code> ......<code class="codeph">DETERMINES</code>子句将<code class="codeph">fis_month</code>与<code class="codeph">fiscal_month_name and days_in_fiscal_month</code> 。请注意，这是一个单向的决定。它只能保证，对特定的<code class="codeph">fiscal_month</code> ，例如， <code class="codeph">1999-11</code> ，你会发现只有一个匹配值<code class="codeph">fiscal_month_name</code> ，例如， <code class="codeph">November</code>和<code class="codeph">days_in_fiscal_month</code> ，例如，28。您无法根据<code class="codeph">fiscal_month_desc</code>确定特定的<code class="codeph">fiscal_month_name</code> ，该值为每个会计年度的<code class="codeph">November</code> 。
                     </p>
                     <p>在此示例中，假设发出了一个查询，该查询由<code class="codeph">fiscal_month_name</code>而不是<code class="codeph">fiscal_month_desc</code>查询。由于属性和级别之间存在此<code class="codeph">1:1</code>关系， <code class="codeph">fiscal_month_desc</code>可以将包含<code class="codeph">fiscal_month_desc</code>的已聚合的<code class="codeph">fiscal_month_desc</code>化视图连接回维度信息，并用于标识数据。
                     </p>
                     <p>示例维度定义如下：</p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION产品_dim LEVEL产品IS（products.prod_id）LEVEL子类别IS（products.prod_subcategory）[SKIP WHEN NULL] LEVEL类别IS（products.prod_category）HIERARCHY prod_rollup（产品子类别子类别）ATTRIBUTE产品DETERMINES（products.prod_name ，products.prod_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，prod_status，prod_list_price，prod_min_price）ATTRIBUTE子类别确定（prod_subcategory，prod_subcategory_desc）属性类别确定（prod_category，prod_category_desc）;</pre><p>或者，可以使用<span class="italic"><code class="codeph">extended_attribute_clause</code></span>而不是<span class="italic"><code class="codeph">attribute_clause</code></span> ，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION products_dim LEVEL产品IS（products.prod_id）LEVEL子类别IS（products.prod_subcategory）LEVEL类别IS（products.prod_category）HIERARCHY prod_rollup（产品子类别子类别）ATTRIBUTE product_info LEVEL product DETERMINES（products.prod_name，products。 prod_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，prod_status，prod_list_price，prod_min_price）ATTRIBUTE子类别确定（prod_subcategory，prod_subcategory_desc）属性类别确定（prod_category，prod_category_desc）;</pre><p>维度的设计，创建和维护是数据仓库模式的设计，创建和维护的一部分。创建维度后，请验证其是否满足“ <a href="dimensions.html#GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D">数据仓库中的维度</a>要求”中所述的<a href="dimensions.html#GUID-8E8F2F6E-24D2-4FBE-9A47-41DD71D2300D">要求</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-C924590B-C481-4202-9243-1EEB66560C6D__GUID-FF7B3CAE-D68B-406D-A7C5-50ABC32C3D13">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="basic-query-rewrite-materialized-views.html#GUID-DB76286B-8557-446B-A6CC-BC987C378076" title="查询经过多次检查以确定它是否是查询重写的候选者。如果查询未通过任何检查，则查询将应用于详细信息表而不是物化视图。在响应时间和处理能力方面，无法重写可能代价高昂。查询重写行为由某些数据库初始化参数控制。查询重写提供了三个级别的重写完整性，这些级别由初始化参数QUERY_REWRITE_INTEGRITY控制。此示例说明了使用实例化视图重写查询的强大功能。">物化视图的基本查询重写，以</a>获取使用维度信息的更多详细信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句的完整说明，请<a href="../sqlrf/CREATE-DIMENSION.html#SQLRF01206" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG8259"></a><div class="props_rev_3"><a id="GUID-58BFF993-7512-41FD-A55B-8FEC0CE883E9" name="GUID-58BFF993-7512-41FD-A55B-8FEC0CE883E9"></a><h4 id="DWHSG-GUID-58BFF993-7512-41FD-A55B-8FEC0CE883E9" class="sect4"><span class="enumeration_section">10.2.1</span>使用列删除和创建属性</h4>
                  <div>
                     <div class="section">
                        <p>您可以在<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句中使用attribute子句指定由层次结构级别唯一确定的一个或多个列。
                        </p>
                        <p>如果使用<span class="italic"><code class="codeph">extended_attribute_clause</code></span>创建由层次结构级别确定的多个列，则可以删除一个属性列而不将其全部删除。或者，您可以为每个属性子句<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> <code class="codeph">DIMENSION</code>语句指定属性名称，以便为每个属性子句指定属性名称，其中可以单独指定多个级别到列的关系。
                        </p>
                        <p>以下语句说明了如何在不删除所有列的情况下删除单个列：</p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION产品_dim LEVEL产品IS（products.prod_id）LEVEL子类别IS（products.prod_subcategory）LEVEL类别IS（products.prod_category）HIERARCHY prod_rollup（子类别CHILD OF产品类别）ATTRIBUTE产品DETERMINES（products.prod_name，products.prod_desc， prod_weight_class，prod_unit_of_measure，prod_pack_size，prod_status，prod_list_price，prod_min_price）ATTRIBUTE subcategory_att DETERMINES（prod_subcategory，prod_subcategory_desc）ATTRIBUTE类别决定因素（prod_category，prod_category_desc）; ALTER DIMENSION products_dim DROP ATTRIBUTE subcategory_att LEVEL subcategory COLUMN prod_subcategory;</pre><div class="infoboxnotealso" id="GUID-58BFF993-7512-41FD-A55B-8FEC0CE883E9__GUID-763A9A01-EC0E-4175-B843-78611F264E25">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句的完整说明，请<a href="../sqlrf/CREATE-DIMENSION.html#SQLRF01206" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8261"></a><a id="DWHSG8260"></a><div class="props_rev_3"><a id="GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774" name="GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774"></a><h4 id="DWHSG-GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774" class="sect4"><span class="enumeration_section">10.2.2</span>创建联接时使用多个层次结构</h4>
                  <div>
                     <div class="section">
                        <p><a id="d41973e721" class="indexterm-anchor"></a><a id="d41973e723" class="indexterm-anchor"></a>单个维度定义可以包含多个层次结构。假设我们的零售商希望跟踪某些商品的销售情况。第一步是定义跟踪销售的时间维度。<a href="dimensions.html#GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774__I1006380">图10-2</a>说明了具有两个时间层次结构的维度<code class="codeph">times_dim</code> 。
                        </p>
                        <div class="figure" id="GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774__I1006380">
                           <p class="titleinfigure">图10-2具有两个时间层次结构的times_dim维度</p><img src="img/dwhsg075.gif" alt="下面是图10-2的描述" title="下面是图10-2的描述" longdesc="img_text/dwhsg075.html"><br><a href="img_text/dwhsg075.html">“图10-2具有两个时间层次结构的times_dim维度”的描述</a></div>
                        <!-- class="figure" -->
                        <p>从图示中，您可以构建非规范化<code class="codeph">time_dim</code>维度的<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>语句的层次结构，如下所示。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION times_dim LEVEL day IS times.time_id LEVEL month IS times.calendar_month_desc LEVEL quarter IS times.calendar_quarter_desc LEVEL year IS times.calendar_year LEVEL fis_week IS times.week_ending_day LEVEL fis_month IS times.fiscal_month_desc LEVEL fis_quarter IS times.fiscal_quarter_desc LEVEL fis_year IS times。 fiscal_year HIERARCHY cal_rollup（一年四季儿童的儿童日）HIERARCHY fis_rollup（fis_week儿童fis_week儿童fis_week儿童的fis_week儿童的日子）&lt;属性决定条款&gt;;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8262"></a><div class="props_rev_3"><a id="GUID-38896ACC-DDCD-4A36-BBBF-1E485742B0B9" name="GUID-38896ACC-DDCD-4A36-BBBF-1E485742B0B9"></a><h4 id="DWHSG-GUID-38896ACC-DDCD-4A36-BBBF-1E485742B0B9" class="sect4"><span class="enumeration_section">10.2.3</span>使用规范化维度表创建维度</h4>
                  <div>
                     <div class="section">
                        <p><a id="d41973e774" class="indexterm-anchor"></a>用于定义维度的表可以被标准化或非标准化，并且各个层次结构可以被标准化或非标准化。如果层次结构的级别来自同一个表，则称为完全非规范化层次结构。例如， <code class="codeph">cal_rollup</code>维度中的<code class="codeph">times_dim</code>是非规范化层次结构。如果层次结构的级别来自不同的表，则此类层次结构是完全或部分规范化的层次结构。本节介绍如何定义规范化层次结构。
                        </p>
                        <p>假设跟踪客户的位置是由城市，州和国家完成的。此数据存储在客户和国家/地区的表中。客户维度<code class="codeph">customers_dim</code>已部分规范化，因为数据实体<code class="codeph">cust_id</code>和<code class="codeph">country_id</code>取自不同的表。维度定义中的<code class="codeph">JOIN</code> <code class="codeph">KEY</code>子句指定如何将层次结构中的级别连接在一起。维度声明部分显示在下面。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION customers_dim LEVEL客户IS（customers.cust_id）LEVEL city IS（customers.cust_city）LEVEL状态IS（customers.cust_state_province）LEVEL国家IS（countries.country_id）LEVEL子区域IS（countries.country_subregion）LEVEL区域IS（countries.country_region） ）HIERARCHY geog_rollup（分区域CHILD OF region JOIN KEY（customers.country_id）REFERENCES country）的国家儿童城市儿童的顾客儿童。</pre><p>如果使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句，则可以使用<code class="codeph">JOIN</code> <code class="codeph">KEY</code>子句链接其层次结构中缺少级别的级别。例如，以下语句启用已声明为<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>的状态级别以加入城市和国家/地区：</p><pre class="oac_no_warn" dir="ltr">JOIN KEY（city.country_id）REFERENCES country;</pre><p>这可确保客户和城市级别的行仍可与国家/地区，子区域和区域级别的行相关联。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DWHSG8263"></a><div class="props_rev_3"><a id="GUID-9B154667-0693-4944-811A-FD6AB58BB5D5" name="GUID-9B154667-0693-4944-811A-FD6AB58BB5D5"></a><h3 id="DWHSG-GUID-9B154667-0693-4944-811A-FD6AB58BB5D5" class="sect3"><span class="enumeration_section">10.3</span>查看尺寸</h3>
               <div>
                  <div class="section">
                     <p>可以通过以下两种方法之一查看尺寸：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="dimensions.html#GUID-8FA0272B-3B63-42DE-AC02-BAB8B57E0D3A">使用Oracle Enterprise Manager查看维度</a></p>
                        </li>
                        <li>
                           <p><a href="dimensions.html#GUID-DD78923A-299C-4A51-86A1-C44E78AFDC0E">使用DESCRIBE_DIMENSION过程查看尺寸</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG8264"></a><div class="props_rev_3"><a id="GUID-8FA0272B-3B63-42DE-AC02-BAB8B57E0D3A" name="GUID-8FA0272B-3B63-42DE-AC02-BAB8B57E0D3A"></a><h4 id="DWHSG-GUID-8FA0272B-3B63-42DE-AC02-BAB8B57E0D3A" class="sect4"><span class="enumeration_section">10.3.1</span>使用Oracle Enterprise Manager查看维度</h4>
                  <div>
                     <div class="section">
                        <p>可以使用Oracle Enterprise Manager查看数据仓库中存在的所有维度。从<span class="bold">Schema</span>图标中选择<span class="bold">Dimension</span>对象以显示所有尺寸。选择特定维度以图形方式显示其层次结构，级别和已定义的任何属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8265"></a><div class="props_rev_3"><a id="GUID-DD78923A-299C-4A51-86A1-C44E78AFDC0E" name="GUID-DD78923A-299C-4A51-86A1-C44E78AFDC0E"></a><h4 id="DWHSG-GUID-DD78923A-299C-4A51-86A1-C44E78AFDC0E" class="sect4"><span class="enumeration_section">10.3.2</span>使用DESCRIBE_DIMENSION过程查看尺寸</h4>
                  <div>
                     <div class="section">
                        <p>要查看维度的定义，请使用<code class="codeph">DBMS_DIMENSION</code>包中的<code class="codeph">DESCRIBE_DIMENSION</code>过程。<a id="d41973e928" class="indexterm-anchor"></a>例如，如果使用以下语句在<code class="codeph">sh</code>示例模式中创建维度：</p><pre class="oac_no_warn" dir="ltr">CREATE DIMENSION channels_dim LEVEL channel IS（channels.channel_id）LEVEL channel_class IS（channels.channel_class）HIERARCHY channel_rollup（channel_class of channel_class）ATTRIBUTE channel DETERMINES（channel_desc）ATTRIBUTE channel_class DETERMINES（channel_class）;</pre><p>执行<code class="codeph">DESCRIBE_DIMENSION</code>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">将SERVEROUTPUT设置为FORMAT WRAPPED; - 改进信息EXECUTE DBMS_DIMENSION.DESCRIBE_DIMENSION（'SH.CHANNELS_DIM'）的显示;</pre><p>然后，您会看到以下输出结果：</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_DIMENSION.DESCRIBE_DIMENSION（'SH.CHANNELS_DIM'）; DIMENSION SH.CHANNELS_DIM LEVEL CHANNEL是SH.CHANNELS.CHANNEL_ID LEVEL CHANNEL_CLASS是SH.CHANNELS.CHANNEL_CLASS HIERARCHY CHANNEL_ROLLUP（CHANNEL_CLASS的频道儿童）ATTRIBUTE CHANNEL LEVEL CHANNEL确定SH.CHANNELS.CHANNEL_DESC ATTRIBUTE CHANNEL_CLASS LEVEL CHANNEL_CLASS确定SH.CHANNELS.CHANNEL_CLASS</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DWHSG8266"></a><div class="props_rev_3"><a id="GUID-B2717E17-E229-4DFF-AA8E-B65FB97B74AE" name="GUID-B2717E17-E229-4DFF-AA8E-B65FB97B74AE"></a><h3 id="DWHSG-GUID-B2717E17-E229-4DFF-AA8E-B65FB97B74AE" class="sect3"><span class="enumeration_section">10.4</span>使用具有约束的维度</h3>
               <div>
                  <div class="section">
                     <p><a id="d41973e971" class="indexterm-anchor"></a>约束<a id="d41973e974" class="indexterm-anchor"></a>在维度方面发挥着重要作用。有时在数据仓库中启用完全引用完整性，但并非总是如此。这是因为操作数据库通常具有完全的参照完整性，您可以确保流入数据仓库的数据永远不会违反已建立的完整性规则。
                     </p>
                     <p>建议启用约束，如果需要考虑验证时间，则应使用<code class="codeph">NOVALIDATE</code>子句，如下所示：</p><pre class="oac_no_warn" dir="ltr">启用NOVALIDATE CONSTRAINT pk_time;</pre><p>还应实现主键和外键。事实表上的参照完整性约束和<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束提供了查询重写可用于扩展实例化视图的有用性的信息。
                     </p>
                     <p>此外，您应该使用<code class="codeph">RELY</code>子句来通知查询重写，它可以依赖于正确的约束，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE时间MODIFY CONSTRAINT pk_time RELY;</pre><p>此信息也用于查询重写。有关更多信息，请参阅<a href="basic-query-rewrite-materialized-views.html#GUID-DB76286B-8557-446B-A6CC-BC987C378076" title="查询经过多次检查以确定它是否是查询重写的候选者。如果查询未通过任何检查，则查询将应用于详细信息表而不是物化视图。在响应时间和处理能力方面，无法重写可能代价高昂。查询重写行为由某些数据库初始化参数控制。查询重写提供了三个级别的重写完整性，这些级别由初始化参数QUERY_REWRITE_INTEGRITY控制。此示例说明了使用实例化视图重写查询的强大功能。">物化视图的基本查询重写</a> 。
                     </p>
                     <p>如果使用<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句，则至少有一个引用的级别列不应具有<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DWHSG8267"></a><div class="props_rev_3"><a id="GUID-8915EF18-9DF7-43FF-B867-2B91E2606592" name="GUID-8915EF18-9DF7-43FF-B867-2B91E2606592"></a><h3 id="DWHSG-GUID-8915EF18-9DF7-43FF-B867-2B91E2606592" class="sect3"><span class="enumeration_section">10.5</span>验证尺寸</h3>
               <div>
                  <div class="section">
                     <p><a id="d41973e1050" class="indexterm-anchor"></a><a id="d41973e1054" class="indexterm-anchor"></a>维对象的信息仅是声明性的，不由数据库强制执行。如果尺寸描述的关系不正确，则可能会出现不正确的结果。因此，您应该定期使用<code class="codeph">DBMS_DIMENSION.VALIDATE_DIMENSION</code>过程验证<code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code>指定的关系。
                     </p>
                     <p>此过程易于使用，只有四个参数：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">dimension</code> ：所有者和名称。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">incremental</code> ：设置为<code class="codeph">TRUE</code>以仅检查此维度的表的新行。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">check_nulls</code> ：设置为<code class="codeph">TRUE</code>以验证不在包含<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句的级别中的所有列都不为空。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">statement_id</code> ：用户提供的唯一标识符，用于标识每次运行过程的结果。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例验证<code class="codeph">sh</code>架构中的维度<code class="codeph">TIME_FN</code> ：</p><pre class="oac_no_warn" dir="ltr">@ utldim.sql EXECUTE DBMS_DIMENSION.VALIDATE_DIMENSION（'SH.TIME_FN'，FALSE，TRUE，'我的第一个例子'）;</pre><p>在运行<code class="codeph">VALIDATE_DIMENSION</code>过程之前，需要通过运行提供的脚本<code class="codeph">utldim.sql</code>来创建本地表<code class="codeph">DIMENSION_EXCEPTIONS</code> 。如果<code class="codeph">VALIDATE_DIMENSION</code>过程遇到任何错误，则将它们放在此表中。查询此表将标识找到的异常。以下说明了一个示例：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM dimension_exceptions WHERE statement_id ='我的第一个例子';</pre><pre class="oac_no_warn" dir="ltr">STATEMENT_ID所有者TABLE_NAME DIMENSION_NAME关系BAD_ROWID ------------ ----- ---------- -------------- --- --------- ---------我的第一个例子SH MONTH TIME_FN FOREIGN KEY AAAAuwAAJAAAARAWAAA</pre><p>但是，不是查询此表，而是查询无效行的rowid以检索违反约束的实际行可能更好。在此示例中，维度<code class="codeph">TIME_FN</code>正在检查名为<code class="codeph">month</code>的表。它发现了一行违反约束的行。使用rowid，您可以确切地看到月表中的哪一行导致了问题，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM month WHERE rowid IN（SELECT bad_rowid FROM dimension_exceptions WHERE statement_id ='my first example'）;月度季度FISCAL_QTR年度FULL_MONTH_NAME MONTH_NUMB ------ ------- ---------- ---- ---------------  - -------- 199903 19981 19981 1998年3月3日</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DWHSG8268"></a><div class="props_rev_3"><a id="GUID-3B85B959-5404-4FFD-92CA-1959A99EE10D" name="GUID-3B85B959-5404-4FFD-92CA-1959A99EE10D"></a><h3 id="DWHSG-GUID-3B85B959-5404-4FFD-92CA-1959A99EE10D" class="sect3"><span class="enumeration_section">10.6</span>改变尺寸</h3>
               <div>
                  <div class="section">
                     <p><a id="d41973e1166" class="indexterm-anchor"></a><a id="d41973e1170" class="indexterm-anchor"></a>您可以使用<code class="codeph">ALTER</code> <code class="codeph">DIMENSION</code>语句<code class="codeph">ALTER</code> <code class="codeph">DIMENSION</code> 。您可以使用此命令从维度添加或删除级别，层次结构或属性。
                     </p>
                     <p>参考<a href="dimensions.html#GUID-7F8BAEC8-850E-4825-8C2A-262BE5C24774__I1006380">图10-2中</a>的时间维度，您可以删除属性<code class="codeph">fis_year</code> ，删除层次结构<code class="codeph">fis_rollup</code> ，或删除级别<code class="codeph">fiscal_year</code> 。此外，您可以添加名为<code class="codeph">f_year</code>的新级别，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER DIMENSION times_dim DROP ATTRIBUTE fis_year; ALTER DIMENSION times_dim DROP HIERARCHY fis_rollup; ALTER DIMENSION times_dim DROP LEVEL fis_year; ALTER DIMENSION times_dim ADD LEVEL f_year IS times.fiscal_year;</pre><p>如果在创建维度时使用了<span class="italic"><code class="codeph">extended_attribute_clause</code></span> ，则可以删除一个属性列而不删除所有属性列。这在“ <a href="dimensions.html#GUID-58BFF993-7512-41FD-A55B-8FEC0CE883E9">使用列删除和创建属性”中进行了</a>说明，其中显示了以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER DIMENSION product_dim DROP ATTRIBUTE size LEVEL prod_type COLUMN Prod_TypeSize;</pre><p>如果您尝试删除维度中具有更多依赖项的任何内容，Oracle数据库将拒绝更改维度。如果更改维度引用的任何架构对象，则维度将变为无效。例如，如果更改了定义维度的表，则维度将变为无效。</p>
                     <p>您可以通过添加包含<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句的级别来修改维度，如以下语句中所示：</p><pre class="oac_no_warn" dir="ltr">ALTER DIMENSION times_dim ADD LEVEL f_year IS times.fiscal_year SKIP WHEN NULL;</pre><p>但是，您不能修改包含<code class="codeph">SKIP</code> <code class="codeph">WHEN</code> <code class="codeph">NULL</code>子句的级别。相反，您需要删除级别并重新创建它。
                     </p>
                     <p>要检查维度的状态，请在<code class="codeph">ALL_DIMENSIONS</code>数据字典视图中查看列<code class="codeph">invalid</code>的内容。要重新验证维度，请使用<code class="codeph">COMPILE</code>选项，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER DIMENSION times_dim COMPILE;</pre><p>还可以使用Oracle Enterprise Manager修改或删除维度。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DWHSG8269"></a><div class="props_rev_3"><a id="GUID-D64EFB47-545A-4406-BF0B-DB74154F5210" name="GUID-D64EFB47-545A-4406-BF0B-DB74154F5210"></a><h3 id="DWHSG-GUID-D64EFB47-545A-4406-BF0B-DB74154F5210" class="sect3"><span class="enumeration_section">10.7</span>删除尺寸</h3>
               <div>
                  <div class="section">
                     <p><a id="d41973e1272" class="indexterm-anchor"></a><a id="d41973e1276" class="indexterm-anchor"></a>使用<code class="codeph">DROP</code> <code class="codeph">DIMENSION</code>语句删除维度。例如，您可以发出以下声明：</p><pre class="oac_no_warn" dir="ltr">DROP DIMENSION times_dim;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03379.oracle-database-vault-secure-application-role-apis.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_MACADM and DBMS_MACSEC_ROLES PL/SQL packages manage Database Vault secure application roles."></meta>
      <meta name="description" content="The DBMS_MACADM and DBMS_MACSEC_ROLES PL/SQL packages manage Database Vault secure application roles."></meta>
      <title>Oracle Database Vault安全应用程序角色API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="The DBMS_MACADM and DBMS_MACSEC_ROLES PL/SQL packages manage Database Vault secure application roles."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-vault-factor-apis.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-vault-oracle-label-security-apis.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-factor-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-vault-oracle-label-security-apis.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault安全应用程序角色API</li>
            </ol>
            <a id="GUID-B0538C84-E2D3-4748-8B13-06CC606D7799" name="GUID-B0538C84-E2D3-4748-8B13-06CC606D7799"></a><a id="DVADM71192"></a>
            
            <h2 id="DVADM-GUID-B0538C84-E2D3-4748-8B13-06CC606D7799" class="sect2"><span class="enumeration_chapter">18</span> Oracle Database Vault安全应用程序角色API</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_MACADM</code>和<code class="codeph">DBMS_MACSEC_ROLES</code> PL / SQL包管理Database Vault安全应用程序角色。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856">DBMS_MACADM安全应用程序角色过程</a><br><code class="codeph">DBMS_MACADM</code>包创建，重命名，分配， <code class="codeph">DBMS_MACADM</code>分配，更新和删除Oracle Database Vault安全应用程序角色。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C">DBMS_MACSEC_ROLES安全应用程序角色过程和函数</a><br><code class="codeph">DBMS_MACSEC_ROLES</code>包检查用户的授权并设置Oracle Database Vault安全应用程序角色。
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="configuring-secure-application-roles-for-oracle-database-vault.html#GUID-0437CB04-FC81-493C-A7ED-5CD491FFC024" title="通过安全应用程序角色，您可以控制用户对应用程序的访问权限。">为Oracle Database Vault配置安全应用程序角色</a></li>
                     <li><a href="oracle-database-vault-utility-apis.html#GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" title="Oracle Database Vault在DBMS_MACUTL PL / SQL包中提供了一组实用程序API。">Oracle Database Vault Utility API</a></li>
                  </ul>
               </div>
            </div><a id="DVADM70655"></a><div class="props_rev_3"><a id="GUID-E73162E7-386A-45B9-9308-C2E0DF582856" name="GUID-E73162E7-386A-45B9-9308-C2E0DF582856"></a><h3 id="DVADM-GUID-E73162E7-386A-45B9-9308-C2E0DF582856" class="sect3">DBMS_MACADM安全应用程序角色过程</h3>
               <div>
                  <p><code class="codeph">DBMS_MACADM</code>包创建，重命名，分配， <code class="codeph">DBMS_MACADM</code>分配，更新和删除Oracle Database Vault安全应用程序角色。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A">ASSIGN_ROLE程序</a><br><code class="codeph">ASSIGN_ROLE</code>过程为用户分配Oracle Database Vault安全应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68">CREATE_ROLE过程</a><br><code class="codeph">CREATE_ROLE</code>过程创建Oracle Database Vault安全应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C">DELETE_ROLE过程</a><br><code class="codeph">DELETE_ROLE</code>过程删除Oracle Database Vault安全应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-A9ACF025-28B9-417A-B976-1B9510EF1188">RENAME_ROLE程序</a><br><code class="codeph">RENAME_ROLE</code>过程重命名Oracle Database Vault安全应用程序角色。名称更改将在使用角色的任何位置生效。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A">UPDATE_ROLE过程</a><br><code class="codeph">UPDATE_ROLE</code>过程更新Oracle Database Vault安全应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E">UNASSIGN_ROLE程序</a><br><code class="codeph">ASSIGN_ROLE</code>过程从用户<code class="codeph">ASSIGN_ROLE</code>分配Oracle Database Vault安全应用程序角色。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-B0538C84-E2D3-4748-8B13-06CC606D7799" title="DBMS_MACADM和DBMS_MACSEC_ROLES PL / SQL包管理Database Vault安全应用程序角色。">Oracle Database Vault安全应用程序角色API</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A" name="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A"></a><h4 id="DVADM-GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A" class="sect4">ASSIGN_ROLE程序</h4>
                  <div>
                     <p><code class="codeph">ASSIGN_ROLE</code>过程为用户分配Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A__GUID-7F1FDC8B-E29E-4B22-A57D-C180360CBC69">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ASSIGN_ROLE（role_name IN VARCHAR2，受理人IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A__GUID-CA34E61C-8E5F-4CAD-A5B1-D51AD8F4D4FE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A__CREATE_ROLEPARAMETERS-091025A5">
                        <p class="titleintable">表18-1 ASSIGN_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ASSIGN_ROLE参数" width="100%" border="1" summary="ASSIGN_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e404">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e407">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e412" headers="d89287e404 ">
                                    <p><code class="codeph">ROLE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e412 d89287e407 ">
                                    <p>角色名称，最多128个字符，不含空格。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e434" headers="d89287e404 ">
                                    <p><code class="codeph">代理人</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e434 d89287e407 ">
                                    <p>为用户分配安全应用程序角色</p>
                                    <p>要查找当前实例中的现有数据库用户，请查询<a href="../refrn/DBA_USERS.html#REFRN23302" target="_blank"><span><cite>Oracle Database Reference中</cite></span></a>描述的<code class="codeph">DBA_USERS</code>视图。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-18C3CD36-F8EE-441C-A794-E0FFCF5DA67A__GUID-2EDED716-57B7-4388-9E13-2C61F13F93CE">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ASSIGN_ROLE（role_name =&gt;'Sector2_APP_MGR'，受理人=&gt;'PSMITH'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70658"></a><a id="DVADM70659"></a><a id="DVADM70660"></a><a id="DVADM70661"></a><a id="DVADM70657"></a><div class="props_rev_3"><a id="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68" name="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68"></a><h4 id="DVADM-GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68" class="sect4">CREATE_ROLE过程</h4>
                  <div>
                     <p><code class="codeph">CREATE_ROLE</code>过程创建Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68__GUID-7F1FDC8B-E29E-4B22-A57D-C180360CBC69">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.CREATE_ROLE（role_name IN VARCHAR2，启用IN VARCHAR2，rule_set_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68__GUID-CA34E61C-8E5F-4CAD-A5B1-D51AD8F4D4FE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68__CREATE_ROLEPARAMETERS-091025A5-1">
                        <p class="titleintable">表18-2 CREATE_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_ROLE参数" width="100%" border="1" summary="CREATE_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e579">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e582">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e587" headers="d89287e579 ">
                                    <p><code class="codeph">ROLE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e587 d89287e582 ">
                                    <p>角色名称，最多128个字符，不含空格。在多租户环境中，使用<code class="codeph">c##</code>或<code class="codeph">C##</code>角色名称。
                                    </p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e615" headers="d89287e579 ">
                                    <p><code class="codeph">启用</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e615 d89287e582 ">
                                    <p><code class="codeph">DBMS_MACUTL.G_YES</code> （是）使角色可用于启用; <code class="codeph">DBMS_MACUTL.G_NO</code> （否）阻止启用角色。默认值为<code class="codeph">DBMS_MACUTL.G_YES</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e632" headers="d89287e579 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e632 d89287e582 ">
                                    <p>规则集的名称，用于确定是否可以启用此安全应用程序。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B7AA7DB-8EAE-4FC1-88DC-41CB8EE17B68__GUID-2EDED716-57B7-4388-9E13-2C61F13F93CE">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_ROLE（role_name =&gt;'Sector2_APP_MGR'，enabled =&gt; DBMS_MACUTL.G_YES，rule_set_name =&gt;'Check App2 Access'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70663"></a><a id="DVADM70664"></a><a id="DVADM70665"></a><a id="DVADM70666"></a><a id="DVADM70662"></a><div class="props_rev_3"><a id="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C" name="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C"></a><h4 id="DVADM-GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C" class="sect4">DELETE_ROLE过程</h4>
                  <div>
                     <p><code class="codeph">DELETE_ROLE</code>过程删除Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C__GUID-A457082B-DAB4-462B-A2C7-24714B2769DE">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DELETE_ROLE（role_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C__GUID-03675092-B4BE-4B74-A2FF-BD96714D803E">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C__DELETE_ROLEPARAMETER-0910290C">
                        <p class="titleintable">表18-3 DELETE_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_ROLE参数" width="100%" border="1" summary="DELETE_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e779">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e782">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e787" headers="d89287e779 ">
                                    <p><code class="codeph">ROLE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e787 d89287e782 ">
                                    <p>角色名称。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A09ABCF1-C3D6-4CE2-AD33-CD5A7E54254C__GUID-91A1DC98-1605-4380-B56E-924791467AB7">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_ROLE（'SECT2_APP_MGR'）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70668"></a><a id="DVADM70669"></a><a id="DVADM70670"></a><a id="DVADM70671"></a><a id="DVADM70667"></a><div class="props_rev_3"><a id="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188" name="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188"></a><h4 id="DVADM-GUID-A9ACF025-28B9-417A-B976-1B9510EF1188" class="sect4">RENAME_ROLE程序</h4>
                  <div>
                     <p><code class="codeph">RENAME_ROLE</code>过程重命名Oracle Database Vault安全应用程序角色。名称更改将在使用角色的任何位置生效。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188__GUID-DF0CCB21-BE9C-4825-AFDF-E6650688021A">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.RENAME_ROLE（role_name IN VARCHAR2，new_role_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188__GUID-D9F92AB7-7397-4930-8C9C-8D89D37A50DE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188__RENAME_ROLEPARAMETERS-09102BD0">
                        <p class="titleintable">表18-4 RENAME_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="RENAME_ROLE参数" width="100%" border="1" summary="RENAME_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e934">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e937">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e942" headers="d89287e934 ">
                                    <p><code class="codeph">ROLE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e942 d89287e937 ">
                                    <p>当前角色名称。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e965" headers="d89287e934 ">
                                    <p><code class="codeph">new_role_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e965 d89287e937 ">
                                    <p>角色名称，最多128个字符，不含空格。确保此名称遵循<a href="../sqlrf/Database-Object-Names-and-Qualifiers.html#SQLRF51129" target="_blank"><span><cite>Oracle数据库SQL语言参考中</cite></span></a>描述的角色创建的标准Oracle命名约定。在多租户环境中，使用<code class="codeph">c##</code>或<code class="codeph">C##</code>角色名称。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A9ACF025-28B9-417A-B976-1B9510EF1188__GUID-9A4BEB2A-7576-4EB5-ACCC-068853AE58BF">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.RENAME_ROLE（role_name =&gt;'SECT2_APP_MGR'，new_role_name =&gt;'SECT2_SYSADMIN'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70673"></a><a id="DVADM70674"></a><a id="DVADM70675"></a><a id="DVADM70676"></a><a id="DVADM70672"></a><div class="props_rev_3"><a id="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A" name="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A"></a><h4 id="DVADM-GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A" class="sect4">UPDATE_ROLE过程</h4>
                  <div>
                     <p><code class="codeph">UPDATE_ROLE</code>过程更新Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A__GUID-4B49E17D-AFAD-4F78-904C-70FB4318C03F">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UPDATE_ROLE（role_name IN VARCHAR2，启用IN VARCHAR2，rule_set_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A__GUID-F86377FC-08F9-4B2F-9C53-6724F5528609">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A__UPDATE_ROLEPARAMETERS-09102F6D">
                        <p class="titleintable">表18-5 UPDATE_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATE_ROLE参数" width="100%" border="1" summary="UPDATE_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e1111">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e1114">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e1119" headers="d89287e1111 ">
                                    <p><code class="codeph">ROLE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e1119 d89287e1114 ">
                                    <p>角色名称。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e1142" headers="d89287e1111 ">
                                    <p><code class="codeph">启用</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e1142 d89287e1114 ">
                                    <p><code class="codeph">DBMS_MACUTL.G_YES</code> （是）使角色可用于启用; <code class="codeph">DBMS_MACUTL.G_NO</code> （否）阻止启用角色。
                                    </p>
                                    <p><code class="codeph">enabled</code>的默认值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_ROLE</code>数据字典视图找到该<code class="codeph">DBA_DV_ROLE</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e1164" headers="d89287e1111 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e1164 d89287e1114 ">
                                    <p>规则集的名称，用于确定是否可以启用此安全应用程序。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B2F6E5C-89E1-4EBB-A94A-29E43EAFC68A__GUID-429D0ECC-D781-4DFE-B71F-502918627834">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.UPDATE_ROLE（role_name =&gt;'SECT2_SYSADMIN'，enabled =&gt; DBMS_MACUTL.G_YES，rule_set_name =&gt;'System Access Controls'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E" name="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E"></a><h4 id="DVADM-GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E" class="sect4">UNASSIGN_ROLE程序</h4>
                  <div>
                     <p><code class="codeph">ASSIGN_ROLE</code>过程从用户<code class="codeph">ASSIGN_ROLE</code>分配Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E__GUID-7F1FDC8B-E29E-4B22-A57D-C180360CBC69">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UNASSIGN_ROLE（role_name IN VARCHAR2，受理人IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E__GUID-CA34E61C-8E5F-4CAD-A5B1-D51AD8F4D4FE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E__CREATE_ROLEPARAMETERS-091025A5-2">
                        <p class="titleintable">表18-6 UNASSIGN_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UNASSIGN_ROLE参数" width="100%" border="1" summary="UNASSIGN_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d89287e1305">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d89287e1308">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e1313" headers="d89287e1305 ">
                                    <p><code class="codeph">ROLE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e1313 d89287e1308 ">
                                    <p>角色名称。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d89287e1335" headers="d89287e1305 ">
                                    <p><code class="codeph">代理人</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d89287e1335 d89287e1308 ">
                                    <p>已分配安全应用程序角色的用户</p>
                                    <p>要查找当前实例中的现有数据库用户，请查询<a href="../refrn/DBA_USERS.html#REFRN23302" target="_blank"><span><cite>Oracle Database Reference中</cite></span></a>描述的<code class="codeph">DBA_USERS</code>视图。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB7A42FE-FA3F-44A3-9BB0-F883A1C77B7E__GUID-2EDED716-57B7-4388-9E13-2C61F13F93CE">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.UNASSIGN_ROLE（role_name =&gt;'Sector2_APP_MGR'，受理人=&gt;'PSMITH'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-E73162E7-386A-45B9-9308-C2E0DF582856" title="DBMS_MACADM包创建，重命名，分配，取消分配，更新和删除Oracle Database Vault安全应用程序角色。">DBMS_MACADM安全应用程序角色过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71193"></a><div class="props_rev_3"><a id="GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C" name="GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C"></a><h3 id="DVADM-GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C" class="sect3">DBMS_MACSEC_ROLES安全应用程序角色过程和函数</h3>
               <div>
                  <p><code class="codeph">DBMS_MACSEC_ROLES</code>包检查用户的授权并设置Oracle Database Vault安全应用程序角色。
                  </p>
                  <p><code class="codeph">DBMS_MACSEC_ROLES</code>包可供所有用户使用。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA">CAN_SET_ROLE功能</a><br><code class="codeph">CAN_SET_ROLE</code>函数检查调用该方法的用户是否有权使用Oracle Database Vault安全应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-secure-application-role-apis.html#GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885">SET_ROLE过程</a><br><code class="codeph">SET_ROLE</code>过程为指定的角色发出<code class="codeph">SET ROLE</code> PL / SQL语句。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-B0538C84-E2D3-4748-8B13-06CC606D7799" title="DBMS_MACADM和DBMS_MACSEC_ROLES PL / SQL包管理Database Vault安全应用程序角色。">Oracle Database Vault安全应用程序角色API</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70743"></a><a id="DVADM70744"></a><a id="DVADM70745"></a><a id="DVADM70746"></a><a id="DVADM70742"></a><div class="props_rev_3"><a id="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA" name="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA"></a><h4 id="DVADM-GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA" class="sect4">CAN_SET_ROLE功能</h4>
                  <div>
                     <p><code class="codeph">CAN_SET_ROLE</code>函数检查调用该方法的用户是否有权使用Oracle Database Vault安全应用程序角色。
                     </p>
                     <div class="section">
                        <p>通过检查与角色关联的规则集来确定授权。返回类型是<code class="codeph">BOOLEAN</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA__GUID-A6FA2D62-0E88-435A-8633-A004B27B9136">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACSEC_ROLES.CAN_SET_ROLE（p_role IN VARCHAR2）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA__GUID-A7B7A9EC-4654-4557-BEF9-AAFBA4101EAB">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA__CAN_SET_ROLEPARAMETER-091034F9">
                        <p class="titleintable">表18-7 CAN_SET_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CAN_SET_ROLE参数" width="100%" border="1" summary="CAN_SET_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d89287e1639">参数</th>
                                 <th align="left" valign="bottom" width="83%" id="d89287e1642">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d89287e1647" headers="d89287e1639 ">
                                    <p><code class="codeph">p_role</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d89287e1647 d89287e1642 ">
                                    <p>角色名称。</p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-712B26F2-8F76-4A03-BDC1-B1194E2831AA__GUID-3DAC1E97-1E5B-48F0-B83F-B5938923116F">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT开启如果DBMS_MACSEC_ROLES.CAN_SET_ROLE（'SECTOR2_APP_MGR'）那么DBMS_OUTPUT.PUT_LINE（'''SECTOR2_APP_MGR''可以启用。“）;万一;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C" title="DBMS_MACSEC_ROLES包检查用户的授权并设置Oracle Database Vault安全应用程序角色。">DBMS_MACSEC_ROLES安全应用程序角色过程和函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70748"></a><a id="DVADM70749"></a><a id="DVADM70750"></a><a id="DVADM70751"></a><a id="DVADM70747"></a><div class="props_rev_3"><a id="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885" name="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885"></a><h4 id="DVADM-GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885" class="sect4">SET_ROLE过程</h4>
                  <div>
                     <p><code class="codeph">SET_ROLE</code>过程为指定的角色发出<code class="codeph">SET ROLE</code> PL / SQL语句。
                     </p>
                     <div class="section">
                        <p>此过程在其检查过程中包括Oracle Database Vault安全应用程序角色和常规Oracle数据库角色。</p>
                        <p>仅当与角色关联的规则集的计算结果为true时，此过程才会设置Oracle Database Vault安全应用程序角色。在发出<code class="codeph">SET ROLE</code>之前，调用<code class="codeph">CAN_SET_ROLE</code>方法以检查与该角色关联的规则集。在此过程中会发生运行时规则集行为，例如审计，故障处理和事件处理。
                        </p>
                        <p><code class="codeph">SET_ROLE</code>过程可用于常规数据库帐户群。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885__GUID-10E7AE46-9948-4FFF-84A5-4DF516BC0E10">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACSEC_ROLES.SET_ROLE（p_role IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885__GUID-0D2BFBFE-D914-4E59-BB6B-3C408BEF3EAE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885__SET_ROLEPARAMETER-091056EC">
                        <p class="titleintable">表18-8 SET_ROLE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ROLE参数" width="100%" border="1" summary="SET_ROLE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d89287e1814">参数</th>
                                 <th align="left" valign="bottom" width="83%" id="d89287e1817">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d89287e1822" headers="d89287e1814 ">
                                    <p><code class="codeph">p_role</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d89287e1822 d89287e1817 ">
                                    <p>角色名称。您可以输入多个角色，以逗号（ <code class="codeph">,</code> ）分隔，包括安全应用程序角色和常规角色。
                                    </p>
                                    <p>要在当前数据库实例中查找现有安全应用程序角色，请查询<code class="codeph">DBA_DV_ROLE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="DBA_DV_ROLE数据字典视图列出了权限管理中使用的Oracle Database Vault安全应用程序角色。">DBA_DV_ROLE视图</a> 。
                                    </p>
                                    <p>要查找数据库中的所有现有角色，请查询<a href="../refrn/DBA_ROLES.html#REFRN23231" target="_blank"><span><cite>Oracle Database Reference中</cite></span></a>描述的<code class="codeph">DBA_ROLES</code>数据字典视图。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2AE589A-8CDF-4F58-9464-7FC193AEE885__GUID-1230A1A6-DC9C-400E-B6FE-5FC79A0EBDA9">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACSEC_ROLES.SET_ROLE（'SECTOR2_APP_MGR，APPS_MGR'）;</pre><p>您可以在任何情况下输入角色的名称（例如， <code class="codeph">Sector2_APP_MGR</code> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-secure-application-role-apis.html#GUID-BFC9379C-7348-4453-8A32-70B9A32B4C8C" title="DBMS_MACSEC_ROLES包检查用户的授权并设置Oracle Database Vault安全应用程序角色。">DBMS_MACSEC_ROLES安全应用程序角色过程和函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03648.PROCL-00001.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>PROCL-00001至PROCL-00110</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Error Messages"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Error Messages"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00"></meta>
      <meta name="dcterms.title" content="Database Error Messages"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95938-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="PRKZ-01029.html" title="Previous" type="text/html"></link>
      <link rel="next" href="PROC-00001.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PRKZ-01029.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="PROC-00001.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库错误消息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PROCL-00001至PROCL-00110</li>
            </ol>
            <a id="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B" name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B"></a>
            
            <h2 id="ERRMG-GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B" class="sect2"><span class="enumeration_chapter">138</span> PROCL-00001至PROCL-00110</h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-9BB58712-407A-48CC-ACD6-AC9304ECA453"><!-- --></a> PROCL-00001：无法初始化Oracle Local Registry。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>传递了无效的初始化级别以初始化Oracle Local Registry。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用有效的init级别初始化Oracle Local Registry。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5AE3342A-85C6-4070-B489-146EF5F4599C"><!-- --></a> PROCL-00002：无法在当前初始化级别执行本地注册表操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试了本地注册表操作，这在init级别是不允许的。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用适当的init级别初始化Oracle Local Registry。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-3A696F21-A52D-4F3C-9056-F54798B31AAF"><!-- --></a> PROCL-00003：无法执行本地注册表操作，因为上下文无效。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>传递的Oracle本地注册表上下文无效。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-577F2CC4-F694-4BDE-A69B-24A617BCE63A"><!-- --></a> PROCL-00004：不存在要操作的本地注册表项。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试对不存在的密钥执行本地注册表操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查密钥是否存在并再次尝试操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-C9C19D53-E367-4900-9C85-E7DE3C775ACB"><!-- --></a> PROCL-00005：用户无权对此密钥执行本地注册表操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试对其没有权限的本地注册表项执行操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查程序是否以正确的用户身份运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-0825E2BA-9959-4773-AE22-B29A3BB75CEA"><!-- --></a> PROCL-00006：用户无权对此密钥执行本地注册表操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试对其没有权限的密钥执行本地注册表操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查程序是否以正确的用户身份运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-28759A2F-E306-45B4-8D9F-F317E20EA57E"><!-- --></a> PROCL-00007：无法执行本地注册表操作，因为密钥或批处理句柄无效。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>传递的本地注册表项或批处理句柄无效。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-41462C4F-2BF8-4CC3-872E-3B5A30138F57"><!-- --></a> PROCL-00008：无法执行本地注册表操作，因为其中一个参数无效。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试使用无效参数进行本地注册表操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-77FEB204-A841-4864-AFEB-7D3467311076"><!-- --></a> PROCL-00009：无法执行本地注册表操作，因为传递的缓冲区太小。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为缓冲区分配的内存量不足。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-C76A708B-F64C-451A-AB3D-10ECB1F649D1"><!-- --></a> PROCL-00010：当子键存在时，无法删除本地注册表项。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序试图删除存在子键的键。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-9627FCBA-5C3B-4EE6-BDD7-FA6AC491614A"><!-- --></a> PROCL-00011：无法执行本地注册表操作，因为键为NULL。</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>传递的本地注册表项为NULL。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-270E3F9D-CFD7-4A81-9E07-78959C0B30F0"><!-- --></a> PROCL-00012：堆内存不足。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序耗尽了堆内存。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-BBFBF8B7-8846-42E3-8B85-CE75E4605896"><!-- --></a> PROCL-00013：无法执行本地注册表操作，因为其中一个参数为NULL。</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试使用NULL参数进行本地注册表操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-508846C6-0E7A-4805-AA97-7D1A683E50BB"><!-- --></a> PROCL-00014：发生未知错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>这是Oracle Local Registry的一般内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-E35448DA-73B2-4143-8CE1-9550201D3889"><!-- --></a> PROCL-00015：无法初始化本地注册表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法访问Oracle本地注册表。可能的原因是：1。本地注册表尚未格式化。2。无法访问本地注册表文件。3。本地注册表文件具有不正确的权限。4。Oracle Clusterware未运行。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span> 1。运行'ocrcheck -local'命令以确认OLR已格式化且可用。2。运行'ocrcheck -local -config'命令以检索配置的文件，并通过本机平台或OS方法验证该文件是否可访问并具有正确的权限3。运行'crsctl check crs'命令以验证Oracle Clusterware是否正在运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5F6663BE-0E61-4946-A705-9B325E065BB8"><!-- --></a> PROCL-00016：无法检索给定键句柄的任何其他子键</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>该键没有更多枚举的子键。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-CDB9BDD8-A85F-4968-AE50-FEF1DB8D367C"><!-- --></a> PROCL-00017：未实现的功能</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>当前版本中尚未实现请求的功能。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>在即将发布的Oracle版本中再次尝试该功能。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-6677283A-839C-4796-B595-218F201237DD"><!-- --></a> PROCL-00018：传递的值大小太大</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法设置给定大小的值。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-47CC16EC-B0A8-4EC6-8725-8FB505215B1E"><!-- --></a> PROCL-00019：无法为密钥创建更多子密钥</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试在本地注册表不允许的密钥下创建更多子密钥。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-B2260911-7214-47B9-A1D4-72491A9E0C2D"><!-- --></a> PROCL-00020：未设置ORACLE_HOME环境</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未设置ORACLE_HOME环境。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保已正确设置和导出ORACLE_HOME环境变量。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5A12B0A8-4696-4415-959D-F23CFF05BDAC"><!-- --></a> PROCL-00021：达到OLR树的最大允许深度</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试在已经深入PROCR_MAX_KEY_DEPTH的密钥下创建子密钥</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-E9B68D84-55E9-49EA-B0DB-D268A3ADFB21"><!-- --></a> PROCL-00022：OLR后端格式无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试在初始化之前使用OLR。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用root.sh脚本。'ocrconfig -local -upgrade'命令将初始化OLR。</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-CBA2F51F-95D3-4F75-B247-F275A8849A01"><!-- --></a> PROCL-00023：检索主机名时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>检索主机名时发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-B7F5C82F-0E51-4713-A422-E3A599F79C9D"><!-- --></a> PROCL-00024：消息传递层出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，消息传递层中发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-EA78C319-6461-4992-9D32-40F0FD010DEB"><!-- --></a> PROCL-00025：NLS服务出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时NLS服务发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-CB0FC986-3362-4A2A-A437-CD0B7E8B5AFD"><!-- --></a> PROCL-00026：访问物理存储时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法访问Oracle本地注册表。可能的原因是：1。本地注册表尚未格式化。2。无法访问本地注册表文件。3。本地注册表文件具有不正确的权限。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span> 1。运行'ocrcheck -local'命令以确认OLR已格式化且可用。2。运行'ocrcheck -local -config'命令以检索配置的文件，并通过本机平台或操作系统方法验证该文件是否可访问并具有正确的权限</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-14593D67-EFB0-4645-B53D-802CFB8712B2"><!-- --></a> PROCL-00027：身份验证层出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时身份验证层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-B1C2057D-07D6-42CE-95CE-81DCCDD17ADD"><!-- --></a> PROCL-00028：Oracle本地注册表已在当前版本中</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试升级已升级的本地注册表。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>无需采取任何行动。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-BB6C0EFB-F918-4DF3-8DD1-9A267505EEAB"><!-- --></a> PROCL-00029：记录层错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时日志记录层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-E7F364F3-DAD1-4D78-9CBE-63ED03C57BAC"><!-- --></a> PROCL-00031：本地注册表的存储设备太小</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为本地注册表配置的存储设备太小。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请参阅文档并配置足够大的存储设备以供本地注册表使用。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-97C7768A-C808-4EA6-8CE0-1EEAC5F4540B"><!-- --></a> PROCL-00032：本地节点上的Oracle高可用性服务未运行</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>本地节点上的Oracle高可用性服务未运行</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>运行'crsctl start crs'命令以在本地节点上启动Oracle高可用性服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-3FEDD54C-BFD2-4F7E-8E26-EC9C5DBEEFFF"><!-- --></a> PROCL-00033：未配置Oracle本地注册表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>节点上不存在Oracle Local Registry配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>安装和配置Oracle Clusterware。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-F6BBCC3F-48C4-4000-9112-2F1C598BA4A3"><!-- --></a> PROCL-00035：由于版本无效，无法执行本地注册表操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法对此本地活动版本执行操作</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>在重试操作之前完成升级</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-C54B8286-E8EF-41F7-9C72-8FBD980C72C9"><!-- --></a> PROCL-00036：没有可用空间来执行此操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>没有剩余空间来执行请求的操作</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>释放空间并重试操作</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-628A6630-DE3D-4DAB-9FF9-E495916831B5"><!-- --></a> PROCL-00037：Oracle Local Registry不支持配置的存储类型</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>不支持为本地注册表配置的存储类型</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>将本地注册表的配置更改为支持的存储类型。有关每个平台的详尽列表，请参阅Oracle文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-FF474377-95A9-4CDC-9E5A-AD0DE18897CA"><!-- --></a> PROCL-00038：未从Oracle Local Registry分配请求的块编号</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未从Oracle Local Registry分配请求的块编号</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用另一个块编号重试该操作</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-8BBCDAF1-ECFE-4596-AF31-E3C84DAF8F51"><!-- --></a> PROCL-00039：请求的块具有无效的标头</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的块具有无效的标头</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用另一个块编号重试该操作</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-464C29EC-927D-4476-83D8-DA72D4AEB2DF"><!-- --></a> PROCL-00040：无法向批次添加更多操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试将操作添加到已具有最大允许操作的批处理中。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-16D7E4E4-86DB-4F3F-AC3A-B1CCE5843E2D"><!-- --></a> PROCL-00041：Oracle本地注册表配置不正确</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>本地注册表配置不正确。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>更正本地注册表配置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-859E3E28-DA12-4C39-AE7C-C45BAFD4D53A"><!-- --></a> PROCL-00042：用户无法访问Oracle Local Registry配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序在访问本地注册表配置时遇到错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查程序是否以正确的用户身份运行。检查本地注册表配置是否具有正确的权限。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5CAF0D6B-3062-470D-B9BD-3D031377701C"><!-- --></a> PROCL-00044：网络地址和接口操作出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时网络地址和接口操作层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-507C991D-7D38-4E19-86D3-1792B779660A"><!-- --></a> PROCL-00046：无法执行本地注册表操作，因为批处理为空。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试执行批处理而不执行任何操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-3BE3B0CF-2E16-4FC5-A884-C62555017EC3"><!-- --></a> PROCL-00048：由于瞬态错误，无法执行Oracle Local Registry操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行请求的Oracle本地注册表操作时发生暂时性错误。根据客户的要求，操作中止而不重试。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-FCC2F1DC-1C4C-40FB-8F02-EE1FB71559C7"><!-- --></a> PROCL-00049：本地节点上无法访问指定的Oracle本地注册表备份位置。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>备份位置不存在或未授予所需权限。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保该位置存在并授予所需的文件创建权限。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-BCEB0D48-646D-4D3D-B9CA-85B97A861D83"><!-- --></a> PROCL-00051：补丁管理层出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，修补程序管理层出错。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5A5662AB-56A0-4D79-8AEA-7919F7D3DE41"><!-- --></a> PROCL-00053：配置的补丁级别与版本补丁级别不匹配</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>可能的原因是：1。在修补程序应用程序完成之前启动了Oracle Clusterware。2。Oracle Clusterware是从最近修补的Grid Infrastructure主目录之外的位置启动的。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查Oracle高可用性服务（OHASD）日志文件以获取详细信息。1。完成在此节点上应用修补程序。2。确保从最近修补的Grid Infrastructure主目录启动Oracle Clusterware。使用'crsctl query crs releasepatch'和'crsctl query crs softwarepatch'命令验证补丁级别是否匹配。如果问题仍然存在，请与Oracle支持服务联系。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-6AC86219-F4C0-41FD-83B2-681EFCBF84A6"><!-- --></a> PROCL-00054：不支持请求的OLR操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试使用不受支持的操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>在重新提交之前验证操作是否有效。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-D938092F-C5C4-4D9D-9F9D-3B5B6A6B04B7"><!-- --></a> PROCL-00055：无法创建和设置本地注册表项，因为该项已存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>程序尝试在密钥已存在时创建并设置本地注册表项。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个内部错误。联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-CAC602E8-F1D7-430A-9CC2-81BF19DE8849"><!-- --></a> PROCL-00056：用户无权访问Oracle本地注册表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>权限不足的用户请求访问Oracle本地注册表的操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>以root用户身份或管理员用户身份运行命令。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-0D0F2557-99C0-4EDB-8C05-0CF6C9A07C9D"><!-- --></a> PROCL-00057：Oracle Local Registry包含不一致的数据。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在Oracle Local Registry中检测到不一致的数据。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用“ocrconfig -local -showbackup”命令检查Oracle Local Registry备份的可用性，并还原兼容的备份。如果无法解决问题，请与Oracle支持服务联系。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-7B6BE052-9E38-43D5-B906-67F2FD78818D"><!-- --></a> PROCL-00058：指定用于备份Oracle本地注册表的文件已存在。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求使用不正确的文件名备份Oracle本地注册表的操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用提供的其他文件名作为参数运行命令。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-8025251F-AAD1-466A-BFF0-B861716747A9"><!-- --></a> PROCL-00059：无法访问指定的Oracle本地注册表导出/导入文件位置。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>指定的Oracle本地注册表导出/导入文件位置不存在，没有所需的权限，或者没有足够的磁盘空间。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保导出/导入文件位置存在，其权限正确，并且磁盘空间足够。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-41B0A8DF-46E0-4B9A-8A61-22395FD992ED"><!-- --></a> PROCL-00060：Oracle本地注册表备份文件“ <span class="variable" translate="no">string</span> ”已损坏。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Oracle本地注册表备份文件未通过备份后损坏检查。Oracle本地注册表已损坏或备份引入了错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>通过执行'ocrconfig -local -manualbackup'命令再次尝试Oracle Local Registry备份。如果问题仍然存在，请与Oracle支持服务联系。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-2790D685-0C05-4A00-BE1E-03A859875487"><!-- --></a> PROCL-00101：操作系统错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时操作系统层发生错误</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-9FF34BDF-C7A4-4FEC-A64F-1102EE8DBCB3"><!-- --></a> PROCL-00102：群集服务错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，群集服务层中发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-327AC201-C1DE-4582-87BE-4B491E8EE444"><!-- --></a> PROCL-00103：消息错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，消息传递层中发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-5C209C42-1F4F-4DFB-8301-5F31588B833D"><!-- --></a> PROCL-00104：身份验证错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时身份验证层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-6501FD4C-FFED-49FA-913E-07CA04EE1F99"><!-- --></a> PROCL-00105：记录错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，日志记录层中发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-255E9BE6-7540-4525-802C-1B7F929FDD26"><!-- --></a> PROCL-00106：未识别的组件错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，未识别的层中发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-0D57BC88-6D8E-4195-8918-9D746A45897F"><!-- --></a> PROCL-00107：存储层错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，存储层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-4BF65D9C-0DD1-4C8F-A794-2BA6FDA0D6E2"><!-- --></a> PROCL-00109：网络地址和接口操作错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时网络地址和接口操作层发生错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-8EB0E2E0-C9F5-4C58-9356-171E00D6EF9B__GUID-8179CA2D-72B2-43BE-8D29-E831E20DE5DA"><!-- --></a> PROCL-00110：补丁和升级错误[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>执行本地注册表操作时，修补程序和升级管理层出错。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle支持服务。

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id="10595.JSON_TABLE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>JSON_TABLE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JSON_SERIALIZE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="JSON_VALUE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JSON_SERIALIZE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="JSON_VALUE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JSON_TABLE</li>
            </ol>
            <a id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62" name="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62"></a><a id="SQLRF56974"></a><a id="SQLRF56975"></a><a id="SQLRF56976"></a><a id="SQLRF56977"></a><a id="SQLRF56978"></a><a id="SQLRF56979"></a><a id="SQLRF56980"></a><a id="SQLRF56982"></a><a id="SQLRF56983"></a><a id="SQLRF56984"></a><a id="SQLRF56985"></a><a id="SQLRF56981"></a><a id="SQLRF56986"></a><a id="SQLRF56987"></a><a id="SQLRF57038"></a><a id="SQLRF56988"></a><a id="SQLRF56989"></a><a id="SQLRF56990"></a><a id="SQLRF57003"></a><a id="SQLRF57004"></a><a id="SQLRF57005"></a><a id="SQLRF57006"></a><a id="SQLRF57007"></a><a id="SQLRF56991"></a><a id="SQLRF57008"></a><a id="SQLRF57009"></a><a id="SQLRF57010"></a><a id="SQLRF57011"></a><a id="SQLRF57012"></a><a id="SQLRF56973"></a>
            
            <h2 id="SQLRF-GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62" class="sect2">JSON_TABLE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-9C73F756-F171-4F42-A284-46EC63FA5590">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-75375237-6988-4A2C-A9FC-BC8878A788D7"><img src="img/json_table.gif" alt="下面是json_table.eps的描述" title="下面是json_table.eps的描述" longdesc="img_text/json_table.html"><br><a href="img_text/json_table.html">插图描述json_table.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a> ， <span class="italic"><a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAGFDBA">JSON_table_on_error_clause :: =</a></span> ， <span class="italic"><a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAHEFGD">JSON_columns_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAGFDBA">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-34D11972-60FB-4E25-A563-6210B81120E1"><span class="italic">JSON_table_on_error_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-05394653-E45F-4D57-AC43-E91DAE77C958"><img src="img/json_table_on_error_clause.gif" alt="下面是json_table_on_error_clause.eps的说明" title="下面是json_table_on_error_clause.eps的说明" longdesc="img_text/json_table_on_error_clause.html"><br><a href="img_text/json_table_on_error_clause.html">说明json_table_on_error_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAHEFGD">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-D8F23FBB-73EA-490D-B672-868356D8059E"><span class="italic">JSON_columns_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-55EDF5D8-DF7E-447B-A138-08F5B239B64D"><img src="img/json_columns_clause.gif" alt="下面是json_columns_clause.eps的描述" title="下面是json_columns_clause.eps的描述" longdesc="img_text/json_columns_clause.html"><br><a href="img_text/json_columns_clause.html">插图说明json_columns_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-2D611616-5671-4588-B627-170D1600181F"><span class="italic">JSON_column_definition</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-A37F992D-B575-47ED-B701-DF5293447D98"><img src="img/json_column_definition.gif" alt="下面是json_column_definition.eps的描述" title="下面是json_column_definition.eps的描述" longdesc="img_text/json_column_definition.html"><br><a href="img_text/json_column_definition.html">说明json_column_definition.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-D9B31456-6C50-4461-A53F-7CA7C14C7714"><span class="italic">JSON_exists_column</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-AE750312-7E79-47D0-9BF5-01EA82B3A50F"><img src="img/json_exists_column.gif" alt="下面是json_exists_column.eps的描述" title="下面是json_exists_column.eps的描述" longdesc="img_text/json_exists_column.html"><br><a href="img_text/json_exists_column.html">插图描述json_exists_column.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="JSON_VALUE.html#GUID-C7F19D36-1E75-4CB2-AE67-ADFBAD23CBC2__CJABCIJE">JSON_value_return_type :: =</a></span> -part of <code class="codeph">JSON_VALUE</code> ， <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a> ， <span class="italic"><a href="SQL-JSON-Conditions.html#GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988__BABGJJFD">JSON_exists_on_error_clause :: =</a></span> -part of <code class="codeph">JSON_EXISTS</code> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-664BE57E-A00C-4845-97EC-642E18B7A837"><span class="italic">JSON_query_column</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-4DC1B133-0AA7-41FA-8C41-6A5C6FF7B596"><img src="img/json_query_column.gif" alt="下面是json_query_column.eps的描述" title="下面是json_query_column.eps的描述" longdesc="img_text/json_query_column.html"><br><a href="img_text/json_query_column.html">说明json_query_column.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJADJIIJ">JSON_query_return_type :: =</a></span> ， <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAGGHHG">JSON_query_wrapper_clause :: =</a></span> ， <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJACIDGJ">JSON_query_on_error_clause :: =</a></span> -part of <code class="codeph">JSON_QUERY</code> ， <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-291AE583-D115-4AEA-BC73-12AF6BFA3FE3"><span class="italic">JSON_value_column</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-5738B11C-CDF8-41B2-AD67-CDE3FBB46D26"><img src="img/json_value_column.gif" alt="下面是json_value_column.eps的描述" title="下面是json_value_column.eps的描述" longdesc="img_text/json_value_column.html"><br><a href="img_text/json_value_column.html">插图描述json_value_column.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="JSON_VALUE.html#GUID-C7F19D36-1E75-4CB2-AE67-ADFBAD23CBC2__CJABCIJE">JSON_value_return_type :: =</a></span>和<span class="italic"><a href="JSON_VALUE.html#GUID-C7F19D36-1E75-4CB2-AE67-ADFBAD23CBC2__CJAHCAIE">JSON_value_on_error_clause :: =</a></span> -part of <code class="codeph">JSON_VALUE</code> ， <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-6C19C26B-7293-4E0D-AC84-B4983EE71785"><span class="italic">JSON_nested_path</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-A55B53F3-D840-427E-9C82-81AA238A7390"><img src="img/json_nested_path.gif" alt="下面是json_nested_path.eps的描述" title="下面是json_nested_path.eps的描述" longdesc="img_text/json_nested_path.html"><br><a href="img_text/json_nested_path.html">说明json_nested_path.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span> ：请参阅<a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a> ， <span class="italic"><a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAHEFGD">JSON_columns_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-C371E081-929F-4B2A-B5D5-F1960206A297"><span class="italic">ordinality_column</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-D6DD97AD-B52B-478A-B921-7C2844398CD7"><img src="img/ordinality_column.gif" alt="下面是ordinality_column.eps的描述" title="下面是ordinality_column.eps的描述" longdesc="img_text/ordinality_column.html"><br><a href="img_text/ordinality_column.html">说明adjality_column.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-17E42EC5-9B06-4587-92DA-0EBE907848AD"><span class="italic">JSON_path</span> :: =</p>
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-B6C4C678-52CD-4B40-B4FE-B69E444FCD98"><img src="img/json_path.gif" alt="下面是json_path.eps的描述" title="下面是json_path.eps的描述" longdesc="img_text/json_path.html"><br><a href="img_text/json_path.html">说明json_path.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-D00CE8E5-8D2F-4813-B5B6-0C6EC55490E1"><span class="italic">JSON_relative_object_access</span> :: =</p>
                  <div class="figure" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-2463E431-E0B5-411F-8FFA-7E1C6A45A4DE"><img src="img/json_relative_object_access.gif" alt="下面是json_relative_object_access.eps的描述" title="下面是json_relative_object_access.eps的描述" longdesc="img_text/json_relative_object_access.html"><br><a href="img_text/json_relative_object_access.html">插图描述json_relative_object_access.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-84DE3706-54CA-478C-9063-7E97B81A10C8"><span class="italic">嵌套子句</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__IMAGE_FX4_FD3_2GB" src="img/nested_clause.gif" alt="下面是nested_clause.eps的描述" title="下面是nested_clause.eps的描述" longdesc="img_text/nested_clause.html"><br><a href="img_text/nested_clause.html">说明nested_clause.eps的描述</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-E5F427DA-80C2-42D1-A11C-F105ACFD8D28">目的</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>SQL / JSON函数<code class="codeph">JSON_TABLE</code>创建JSON数据的关系视图。它将JSON数据评估的结果映射到关系行和列。您可以使用SQL将函数返回的结果作为虚拟关系表进行查询。 <code class="codeph">JSON_TABLE</code>的主要目的是为JSON数组中的每个对象创建一行关系数据，并将该对象中的JSON值作为单独的SQL列值输出。
                  </p>
                  <p>您必须仅在<code class="codeph">SELECT</code>语句的<code class="codeph">FROM</code>子句中指定<code class="codeph">JSON_TABLE</code> 。该函数首先将路径表达式（称为<span class="bold">SQL / JSON</span> <span class="bold">行</span> <span class="bold">路径</span> <span class="bold">表达式</span> ）应用于提供的JSON数据。与行路径表达式匹配的JSON值称为<span class="bold">行</span> <span class="bold">源</span> ，因为它生成一行关系数据。<code class="codeph">COLUMNS</code>子句计算行源，在行源中查找特定的JSON值，并将这些JSON值作为SQL值返回到一行关系数据的各个列中。
                  </p>
                  <p><code class="codeph">COLUMNS</code>子句使您可以使用以下子句以不同方式搜索JSON值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">JSON_exists_column</code></span> - 以与<code class="codeph">JSON_EXISTS</code>条件相同的方式计算JSON数据，即确定是否存在指定的JSON值，并返回值为“ <code class="codeph">true</code> ”或“ <code class="codeph">false</code> ”的<code class="codeph">VARCHAR2</code>列，或者返回值为1或0的<code class="codeph">NUMBER</code>列。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">JSON_query_column</code></span> - 以与<code class="codeph">JSON_QUERY</code>函数相同的方式计算JSON数据，即查找一个或多个指定的JSON值，并返回包含这些JSON值的字符串列。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">JSON_value_column</code></span> - 以与<code class="codeph">JSON_VALUE</code>函数相同的方式计算JSON数据，即查找指定的标量JSON值，并将这些JSON值的列作为SQL值返回。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">JSON_nested_path</code></span> - 允许您将嵌套JSON对象或JSON数组中的JSON值展平为单行中的各个列以及父对象或数组中的JSON值。您可以递归地使用此子句将来自多层嵌套对象或数组的数据投影到单个行中。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">ordinality_column</code></span> - 返回生成的行号列。
                        </p>
                     </li>
                  </ul>
                  <p>列定义子句允许您为它们返回的每列数据指定名称。您可以在<code class="codeph">SELECT</code>语句的其他位置引用这些列名，例如<code class="codeph">SELECT</code>列表和<code class="codeph">WHERE</code>子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-2219B947-DA77-46E9-BAFB-E29F0911260F">
                     <p class="notep1">也可以看看：</p>
                     <p>排序规则派生规则的<a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a>中的附录C，它定义了由<code class="codeph">JSON_TABLE</code>生成的表中为每个字符数据类型列分配的排序规则</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-33A15367-8762-410C-AE11-4976B19A9034"><span class="italic">EXPR</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用此子句指定要评估的JSON数据。对于<span class="italic"><code class="codeph">expr</code></span> ，请指定一个计算结果为文本文字的表达式。如果<span class="italic"><code class="codeph">expr</code></span>是列，则该列必须是数据类型<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> 。如果<span class="italic"><code class="codeph">expr</code></span>为null，则该函数返回null。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">expr</code></span>不是使用strict或lax语法的格式良好的JSON数据的文本文本，则该函数默认返回null。您可以使用<span class="italic"><code class="codeph">JSON_table_on_error_clause</code></span>覆盖此默认行为。请参阅<span class="italic"><a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJABIHAJ">JSON_table_on_error_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-A903D016-F059-4AAA-AA36-235A27DD79CC">格式JSON</p>
                  <p>如果<span class="italic"><code class="codeph">expr</code></span>是数据类型为<code class="codeph">BLOB</code>的列，则必须指定<code class="codeph">FORMAT</code> <code class="codeph">JSON</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-364D30D8-CD55-427D-9446-BCA550522608">路径</p>
                  <p>使用<code class="codeph">PATH</code>子句描述要用作列内容的行的一部分。缺少<code class="codeph">PATH</code>子句不会更改路径为<code class="codeph"><span class="codeinlineitalic">'$.&lt;column-name&gt;'</span></code> ，其中<code class="codeph"><span class="codeinlineitalic">&lt;column-name&gt;</span></code>是列名。目标对象字段的名称隐式作为列名称。有关<code class="codeph">PATH</code>的完整语义，请参阅<a href="../adjsn/function-JSON_TABLE.html#ADJSN-GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-62A08C9B-DF62-44B9-8832-09A56EDB3ECC"><span class="italic">JSON_basic_path_expression</span></p>
                  <p><span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>是一个文本文字。有关此子句的完整语义，请参阅<a href="../adjsn/function-JSON_TABLE.html#ADJSN-GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-69D37104-3771-41F1-9D05-90C1D57DF322"><span class="italic">JSON_relative_object_access</span></p>
                  <p>指定此行路径表达式以启用简单的点表示法。<code class="codeph">JSON_relative_object_access</code>的值被评估为相对于当前行项的JSON / Path表达式。
                  </p>
                  <p>有关<span class="italic"><code class="codeph">JSON_object_key clause</code></span>更多信息，请参阅<a href="JSON-Object-Access-Expressions.html#GUID-09D1A154-335D-484E-A7A2-DA1983CD511C">JSON对象访问表达式</a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJABIHAJ">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-8BDB0775-6D92-47A6-A2FE-53734A9F6B80"><span class="italic">JSON_table_on_error_clause</span></p>
                  <p>使用此子句指定发生错误时函数返回的值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">NULL ON ERROR</code></span> 
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果输入不是格式良好的<span class="italic"><code class="codeph">JSON</code></span>文本，则一旦检测到错误，就不会再返回任何行。请注意，由于<span class="italic"><code class="codeph">JSON_TABLE</code></span>支持流式评估，因此可能会在遇到包含错误的输入部分之前返回行。
                              </p>
                           </li>
                           <li>
                              <p>如果在计算行路径表达式时未找到匹配项，则不返回任何行。</p>
                           </li>
                           <li>
                              <p>将所有列表达式的默认错误行为设置为<span class="italic"><code class="codeph">NULL ON ERROR</code></span></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">错误的错误</code></span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果输入不是格式良好的<span class="italic"><code class="codeph">JSON</code></span>文本，则会引发错误。
                              </p>
                           </li>
                           <li>
                              <p>如果在计算行路径表达式时未找到匹配项，则会引发错误</p>
                           </li>
                           <li>
                              <p>将所有列表达式的默认错误行为设置为<span class="italic"><code class="codeph">ERROR ON ERROR</code></span></p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-846E1884-3BE9-4902-AC55-586BC2C41591"><span class="italic">JSON_columns_clause</span></p>
                  <p>使用<code class="codeph">COLUMNS</code>子句定义<code class="codeph">JSON_TABLE</code>函数返回的虚拟关系表中的列。
                  </p>
                  <p>如果列具有<code class="codeph">JSON_VALUE</code>语义，请指定<code class="codeph">TRUNCATE</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-17902FAC-2AA1-4F07-8584-77E43F030875"><span class="italic">JSON_exists_column</span></p>
                  <p>此子句以与<code class="codeph">JSON_EXISTS</code>条件相同的方式评估JSON数据，也就是说，它确定是否存在指定的JSON值。它返回值为“ <code class="codeph">true</code> ”或“ <code class="codeph">false</code> ”的<code class="codeph">VARCHAR2</code>列，或值为1或0的<code class="codeph">NUMBER</code>列。
                  </p>
                  <p>值' <code class="codeph">true</code> '或1表示JSON值存在且值' <code class="codeph">false</code> '或0表示JSON值不存在。
                  </p>
                  <p>您可以使用<span class="italic"><code class="codeph">JSON_value_return_type</code></span>子句来控制返回列的数据类型。如果省略此子句，则数据类型为<code class="codeph">VARCHAR2(4000)</code> 。使用<span class="italic"><code class="codeph">column_name</code></span>指定返回列的名称。<span class="italic"><code class="codeph">JSON_exists_column</code></span>的其余子句在此处具有与<code class="codeph">JSON_EXISTS</code>条件相同的语义。有关这些子句的完整信息，请参阅<span class="q">“ <a href="SQL-JSON-Conditions.html#GUID-57762C80-0C8A-4B18-9BA7-9B3F5ABDC988">JSON_EXISTS条件</a> ”</span> 。另请参阅<span class="q">“ <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAJGGJC">使用JSON_exists_column：示例</a> ”</span>作为示例。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-82DF8ED9-742F-4FDA-9F2F-786D4F526000"><span class="italic">JSON_query_column</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此子句以与<code class="codeph">JSON_QUERY</code>函数相同的方式计算JSON数据，即，它找到一个或多个指定的JSON值，并返回包含这些JSON值的字符串列。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">column_name</code></span>指定返回列的名称。<span class="italic"><code class="codeph">JSON_query_column</code></span>的其余子句在此处具有与<code class="codeph">JSON_QUERY</code>函数相同的语义。有关这些子句的完整信息，请参阅<a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9">JSON_QUERY</a> 。另请参阅<span class="q">“ <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAEJCEF">使用JSON_query_column：Example</a> ”</span>作为示例。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-BB020909-19F2-496A-93AD-B16845782116"><span class="italic">JSON_value_column</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此子句以与<code class="codeph">JSON_VALUE</code>函数相同的方式评估JSON数据，也就是说，它查找指定的标量JSON值，并将这些JSON值的列作为SQL值返回。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">column_name</code></span>指定返回列的名称。<span class="italic"><code class="codeph">JSON_value_column</code></span>的其余子句在此处具有与<code class="codeph">JSON_VALUE</code>函数相同的语义。有关这些子句的完整信息，请参阅<a href="JSON_VALUE.html#GUID-C7F19D36-1E75-4CB2-AE67-ADFBAD23CBC2">JSON_VALUE</a> 。另请参阅<span class="q">“ <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAFACBH">使用JSON_value_column：Example</a> ”</span>作为示例。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-D2AE5EFA-02A5-4859-BD43-8F0F9120795B"><span class="italic">JSON_nested_path</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用此子句将嵌套JSON对象或JSON数组中的JSON值展平为单行中的各个列以及父对象或数组中的JSON值。您可以递归地使用此子句将来自多层嵌套对象或数组的数据投影到单个行中。</p>
                  <p>指定<span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>子句以匹配嵌套对象或数组。此路径表达式与<code class="codeph">JSON_TABLE</code>函数中指定的SQL / JSON行路径表达式相关。
                  </p>
                  <p>使用<code class="codeph">COLUMNS</code>子句定义要返回的嵌套对象或数组的列。这一条款是递归的，你可以指定<span class="italic"><code class="codeph">JSON_nested_path</code></span>另一内子句<span class="italic"><code class="codeph">JSON_nested_path</code></span>条款。另请参阅<span class="q">“ <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAJAEJD">使用JSON_nested_path：示例</a> ”</span>作为示例。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-7208CD10-3111-4591-99E4-4031F9CD5094"><span class="italic">ordinality_column</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此子句返回一列生成的数据类型为<code class="codeph">NUMBER</code>行号。您最多可以指定一个<span class="italic"><code class="codeph">ordinality_column</code></span> 。有关使用<span class="italic"><code class="codeph">ordinality_column</code></span>子句的示例，另请参阅<span class="q">“ <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAFACBH">使用JSON_value_column：Example</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-3A8A9EEF-0B14-47A0-A96A-AA79DEF35AC5">例子</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAHAAJE">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-5892AE73-23B7-42BC-82C7-FB6C39A90BEF">创建包含JSON文档的表：示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此示例显示如何创建和填充表<code class="codeph">j_purchaseorder</code> ，该表在本节的其余<code class="codeph">JSON_TABLE</code>示例中使用。
                  </p>
                  <p>以下语句创建表<code class="codeph">j_purchaseorder</code> 。列<code class="codeph">po_document</code>用于存储JSON数据，因此具有<code class="codeph">IS</code> <code class="codeph">JSON</code>检查约束，以确保只有格式良好的JSON存储在列中。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE j_purchaseorder（id RAW（16）NOT NULL，date_loaded TIMESTAMP（6）WITH TIME ZONE，po_document CLOB CONSTRAINT ensure_json CHECK（po_document IS JSON））;</pre><p>以下语句将一行或一个JSON文档插入到表<code class="codeph">j_purchaseorder</code> ：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO j_purchaseorder VALUES（SYS_GUID（），SYSTIMESTAMP，'{“PONumber”：1600，“Reference”：“ABULL-20140421”，“Requestor”：“Alexis Bull”，“User”：“ABULL”，“CostCenter”： “A50”，“ShippingInstructions”：{“name”：“Alexis Bull”，“Address”：{“street”：“200 Sporting Green”，“city”：“South San Francisco”，“state”：“CA” ，“zipCode”：99236，“country”：“United States of America”}，“Phone”：[{“type”：“Office”，“number”：“909-555-7307”}，{“type” ：“Mobile”，“number”：“415-555-1234”}]}，“Special Instructions”：null，“AllowPartialShipment”：true，“LineItems”：[{“ItemNumber”：1，“Part”：{ “描述”：“One Magic Christmas”，“UnitPrice”：19.95，“UPCCode”：13131092899}，“Quantity”：9.0}，{“ItemNumber”：2，“Part”：{“Description”：“致命武器” ，“UnitPrice”：19.95，“UPCCode”：85391628927}，“数量”：5.0}]}'）;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAEJCEF">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-DC2F9150-52A5-4AB0-867B-468E4A345725">使用<span class="italic">JSON_query_column</span> ：示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此示例中的语句使用<span class="italic"><code class="codeph">JSON_query_column</code></span>子句查询特定JSON属性的JSON数据，并在列中返回属性值。
                  </p>
                  <p>该语句首先将SQL / JSON行路径表达式应用于列<code class="codeph">po_document</code> ，这将导致与<code class="codeph">ShippingInstructions</code>属性匹配。然后， <code class="codeph">COLUMNS</code>子句使用<span class="italic"><code class="codeph">JSON_query_column</code></span>子句在<code class="codeph">VARCHAR2(100)</code>列中返回<code class="codeph">Phone</code>属性值。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT jt.phones FROM j_purchaseorder，JSON_TABLE（po_document，'$。ShippingInstructions'COLUMNS（手机VARCHAR2（100）FORMAT JSON PATH'$。电话'））AS jt;</pre><pre class="oac_no_warn" dir="ltr">PHONES ------------------------------------------------- ------------------------------------ [{“type”：“Office”，“number”： “909-555-7307”}，{ “类型”： “移动设备”， “号码”： “415-555-1234”}]</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAFACBH">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-4CAB74EC-94D0-4472-BEA2-00636F1590CD">使用<span class="italic">JSON_value_column</span> ：示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此示例中的语句通过使用<span class="italic"><code class="codeph">JSON_value_column</code></span>子句查询特定JSON值的JSON数据来优化上一示例中的语句，并将JSON值作为关系行和列中的SQL值返回。
                  </p>
                  <p>该语句首先将SQL / JSON行路径表达式应用于列<code class="codeph">po_document</code> ，这导致与JSON数组<code class="codeph">Phone</code>的元素匹配。这些元素是JSON对象，包含两个名为<code class="codeph">type</code>和<code class="codeph">number</code>成员。该语句使用<code class="codeph">COLUMNS</code>子句返回<code class="codeph">type</code>用于在每个对象值<code class="codeph">VARCHAR2(10)</code>的列称为<code class="codeph">phone_type</code>和<code class="codeph">number</code>用于在每个对象值<code class="codeph">VARCHAR2(20)</code>的列称为<code class="codeph">phone_num</code> 。该语句还返回名为<code class="codeph">row_number</code>的序数列。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT jt。* FROM j_purchaseorder，JSON_TABLE（po_document，'$。ShippingInstructions。电话[*]'COLUMNS（row_number FOR ORDINALITY，phone_type VARCHAR2（10）PATH'$ .type'，phone_num VARCHAR2（20）PATH'$ .number'））AS jt; ROW_NUMBER PHONE_TYPE PHONE_NUM ---------- ---------- -------------------- 1 Office 909-555-7307 2手机415-555-1234</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAJGGJC">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-09C24413-C902-4941-AF7F-7B1EBC3109A1">使用<span class="italic">JSON_exists_column</span> ：示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此示例中的语句使用<span class="italic"><code class="codeph">JSON_exists_column</code></span>子句测试JSON数据中是否存在JSON值。第一个示例将测试结果作为列中的“ <code class="codeph">true</code> ”或“ <code class="codeph">false</code> ”值返回。第二个示例使用<code class="codeph">WHERE</code>子句中的测试结果。
                  </p>
                  <p>以下语句首先将SQL / JSON行路径表达式应用于列<code class="codeph">po_document</code> ，这会导致与整个上下文项或JSON文档匹配。然后，它使用<code class="codeph">COLUMNS</code>子句返回请求者的名称和字符串值“ <code class="codeph">true</code> ”或“ <code class="codeph">false</code> ”，指示该请求者的JSON数据是否包含邮政编码。所述<code class="codeph">COLUMNS</code>子句首先使用<span class="italic"><code class="codeph">JSON_value_column</code></span>子句返回<code class="codeph">Requestor</code>中的值<code class="codeph">VARCHAR2(32)</code>的列称为<code class="codeph">requestor</code> 。然后，它使用<span class="italic"><code class="codeph">JSON_exists_column</code></span>子句确定<code class="codeph">zipCode</code>对象是否存在，并将结果返回到名为<code class="codeph">has_zip</code>的<code class="codeph">VARCHAR2(5)</code>列中。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT请求者，has_zip FROM j_purchaseorder，JSON_TABLE（po_document，'$'COLUMNS（请求者VARCHAR2（32）PATH'$。请求者'，has_zip VARCHAR2（5）EXISTS PATH'$。ShippingInstructions。Address.zipCode'））;请求者HAS_ZIP -------------------------------- -------亚历克西斯公牛是真的</pre><p>下面的语句是类似于之前的说法，只是它使用的值<code class="codeph">has_zip</code>的在<code class="codeph">WHERE</code>子句确定是否返回<code class="codeph">Requestor</code>值：</p><pre class="oac_no_warn" dir="ltr">SELECT请求者FROM j_purchaseorder，JSON_TABLE（po_document，'$'COLUMNS（请求者VARCHAR2（32）PATH'$。请求者'，has_zip VARCHAR2（5）EXISTS PATH'$。ShippingInstructions。Address.zipCode'））WHERE（has_zip ='true'）;请求者-------------------------------- Alexis Bull</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAJAEJD">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-8EB18E29-2D0C-492B-873D-6F81D7EAD82E">使用<span class="italic">JSON_nested_path</span> ：示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下两个简单语句演示了<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句的功能。它们在包含三个元素的简单JSON数组上运行。前两个元素是数字。第三个元素是嵌套的JSON数组，它包含两个字符串值元素。
                  </p>
                  <p>以下语句不使用<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句。它将数组中的三个元素返回一行。嵌套数组完整返回。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM JSON_TABLE（'[1,2，[“a”，“b”]]'，'$'COLUMNS（outer_value_0 NUMBER PATH'$ [0]'，outer_value_1 NUMBER PATH'$ [1]'，outer_value_2 VARCHAR2 （20）FORMAT JSON PATH'$ [2]'））; OUTER_VALUE_0 OUTER_VALUE_1 OUTER_VALUE_2 ------------- ------------- -------------------- 1 2 [“a”，“b”]</pre><p>以下语句与前一个语句不同，因为它使用<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句在单行中的单个列中返回嵌套数组的各个元素以及父数组元素。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM JSON_TABLE（'[1,2，[“a”，“b”]]'，'$'COLUMNS（outer_value_0 NUMBER PATH'$ [0]'，outer_value_1 NUMBER PATH'$ [1]'，NESTED PATH '$ [2]'COLUMNS（nested_value_0 VARCHAR2（1）PATH'$ [0]'，nested_value_1 VARCHAR2（1）PATH'$ [1]'）））; OUTER_VALUE_0 OUTER_VALUE_1 NESTED_VALUE_0 NESTED_VALUE_1 ------------- ------------- -------------- ------ -------- 1 2 ab</pre><p>上一个示例显示了如何将<span class="italic"><code class="codeph">JSON_nested_path</code></span>与嵌套的JSON数组一起使用。以下示例说明如何将<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句与嵌套的JSON对象一起使用， <span class="italic"><code class="codeph">JSON_nested_path</code></span>是将嵌套对象的各个元素与父对象元素一起返回到单行中的各个列中。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM JSON_TABLE（'{a：100，b：200，c：{d：300，e：400}}'，'$'COLUMNS（outer_value_0 NUMBER PATH'$ .a'，outer_value_1 NUMBER PATH'$ .b '，NESTED PATH'$ .c'COLUMNS（nested_value_0 NUMBER PATH'$ .d'，nested_value_1 NUMBER PATH'$ .e'）））; OUTER_VALUE_0 OUTER_VALUE_1 NESTED_VALUE_0 NESTED_VALUE_1 ------------- ------------- -------------- ------ -------- 100 200 300 400</pre><p>查询<code class="codeph">j_purchaseorder</code>表时，以下语句使用<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句。它首先将行路径表达式应用于列<code class="codeph">po_document</code> ，这会导致与整个上下文项或JSON文档匹配。然后，它使用<code class="codeph">COLUMNS</code>子句在名为<code class="codeph">requestor</code>的<code class="codeph">VARCHAR2(32)</code>列中返回<code class="codeph">Requestor</code>值。然后，它使用<span class="italic"><code class="codeph">JSON_nested_path</code></span>子句返回嵌套<code class="codeph">Phone</code>数组的每个成员中各个对象的属性值。请注意，为嵌套数组的每个成员生成一行，每行包含相应的<code class="codeph">Requestor</code>值。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT jt。* FROM j_purchaseorder，JSON_TABLE（po_document，'$'COLUMNS（requestor VARCHAR2（32）PATH'$。请求者'，NESTED PATH'$。ShippingInstructions。电话[*]'COLUMNS（phone_type VARCHAR2（32）PATH'$ .type'，phone_num VARCHAR2（20）PATH'$ .number'）））AS jt;请求者PHONE_TYPE PHONE_NUM -------------------- -------------------- ------- -------- Alexis Bull Office 909-555-7307 Alexis Bull Mobile 415-555-1234</pre><p>以下示例显示了在<code class="codeph">JSON_nested_path</code>使用简单的点符号及其等效的无点表示法。
                  </p><pre class="oac_no_warn" dir="ltr">选择c。* FROM customer t，JSON_TABLE（t.json COLUMNS（id，姓名，电话，地址，NESTED订单[*] COLUMNS（更新，状态，NESTED lineitems [*] COLUMNS（描述，数量NUMBER，价格NUMBER））））c ;</pre><p>以点表示法的上述语句相当于没有点表示法的以下语句：</p><pre class="oac_no_warn" dir="ltr">选择c。* FROM customer t，JSON_TABLE（t.json，'$'COLUMNS（id PATH'$ .id'，名称PATH'$。name'，电话路径'$ .phone'，地址PATH'$ .address'，NESTED PATH '$ .orders [*]'COLUMNS（已更新PATH'$ .updated'，状态路径'$ .status'，NESTED PATH'$ .lineitems [*]'COLUMNS（描述路径'$ .description'，数量NUMBER PATH' $ .quantity'，价格NUMBER PATH'$ .price'））））c;</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__GUID-B237368A-7579-4B49-B193-9D56DAD4B58A"><span class="italic">nested_clause</span></p>
                  <p>使用<code class="codeph">nested_clause</code>作为将JSON值映射到关<code class="codeph">nested_clause</code>的简写语法。它重用了<code class="codeph">JSON_TABLE</code>列子句的语法，基本上等同于带有<code class="codeph">JSON_TABLE</code>的左外ANSI连接。</p>
                  <p>使用nested_clause的示例1使用带有<code class="codeph">JSON_TABLE</code>的左外连接等效于示例2。
                  </p>
                  <p><span class="bold">示例1 Nested_Clause</span></p><pre class="pre codeblock"><code>选择t。* FROM j_purchaseOrder NESTED po_document COLUMNS（PONumber，Reference，Requestor）t; PONUMBER REFERENCE REQUESTOR --------------- ------------------------------  - --------------------------- 1600 ABULL-20140421 Alexis Bull</code></pre><p><span class="bold">示例2使用JSON_TABLE进行左外连接</span></p><pre class="pre codeblock"><code>选择t。* FROM j_purchaseOrder LEFT OUTER JOIN JSON_TABLE（po_document COLUMNS（PONumber，Reference，Requestor））t ON 1 = 1;</code></pre><p>使用<code class="codeph">nested_clause</code> ， <code class="codeph">NESTED</code>关键字后面的JSON列名称将不包含在<code class="codeph">SELECT *</code>扩展中。例如：</p><pre class="pre codeblock"><code>SELECT * FROM j_purchaseOrder NESTED po_document。LineItems [*] COLUMNS（ItemNumber，Quantity NUMBER）; ID DATE_LOADED ITEMN QUANTITY ------------------------ ---------------------- ------------------ ------- ----------- 6C5589E9A9156 ... 16-MAY-18 08.40.30.397688 AM -07： 00 1 9 6C5589E9A9156 ... 16-MAY-18 08.40.30.397688 AM -07：00 2 5</code></pre><p>结果不包括JSON列名称<code class="codeph">po_document</code>作为结果中的一列。
                  </p>
                  <p>当取消JSON列数据时，建议使用<code class="codeph">LEFT OUTER JOIN</code>语义，以便不生成行的JSON列不会从结果中过滤其他非JSON数据。例如，具有NULL <code class="codeph">po_document</code>列的<code class="codeph">j_purchaseOrder</code>行不会从结果中过滤可能非空的关系列<code class="codeph">columns id</code>和<code class="codeph">date_loaded</code> 。
                  </p>
                  <p>columns子句支持为<code class="codeph">JSON_TABLE</code>定义的所有相同功能，包括嵌套列。例如：</p><pre class="pre codeblock"><code>选择t。* FROM j_purchaseorder NESTED po_document COLUMNS（PONumber，Reference，NESTED LineItems [*] COLUMNS（ItemNumber，Quantity））t PONUMBER REFERENCE ITEMN QUANTITY --------------- ------- ----------------------- ----- ------------ 1600 ABULL-20140421 1 9 1600 ABULL-20140421 2 5</code></pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="06742.ALL_IND_PARTITIONS.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="ALL_IND_PARTITIONS displays, for each index partition accessible to the current user, the partition-level partitioning information, the storage parameters for the partition, and various partition statistics generated by the DBMS_STATS package."></meta>
      <meta name="description" content="ALL_IND_PARTITIONS displays, for each index partition accessible to the current user, the partition-level partitioning information, the storage parameters for the partition, and various partition statistics generated by the DBMS_STATS package."></meta>
      <title>ALL_IND_PARTITIONS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="ALL_IND_PARTITIONS displays, for each index partition accessible to the current user, the partition-level partitioning information, the storage parameters for the partition, and various partition statistics generated by the DBMS_STATS package."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALL_IND_EXPRESSIONS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALL_IND_PENDING_STATS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALL_IND_EXPRESSIONS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALL_IND_PENDING_STATS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-1.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：ALL_ALL_TABLES到ALL_OUTLINES</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALL_IND_PARTITIONS</li>
            </ol>
            <a id="GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5" name="GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5"></a><a id="REFRN20086"></a>
            
            <h2 id="REFRN-GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5" class="sect2"><span class="enumeration_section">2.171</span> ALL_IND_PARTITIONS</h2>
         </header>
         <div class="ind">
            <div>
               <p>对于当前用户可访问的每个索引分区， <code class="codeph">ALL_IND_PARTITIONS</code>显示分区级分区信息，分区的存储参数以及<code class="codeph">DBMS_STATS</code>包生成的各种分区统计信息。
               </p>
               <div class="section">
                  <p class="subhead1" id="GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5__GUID-9B86AF4C-45AE-4308-81B4-434B945B4DEE">相关观点</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DBA_IND_PARTITIONS</code>描述数据库中的所有索引分区。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">USER_IND_PARTITIONS</code>描述当前用户拥有的索引分区。此视图不显示<code class="codeph">INDEX_OWNER</code>列。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5__GUID-069FAC2F-77E3-4277-A3EA-8C348A836EAE">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d373090e191">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d373090e194">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d373090e197">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d373090e200">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e205" headers="d373090e191 ">
                              <p><code class="codeph">INDEX_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e205 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e205 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e205 d373090e200 ">
                              <p>索引的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e220" headers="d373090e191 ">
                              <p><code class="codeph">INDEX_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e220 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e220 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e220 d373090e200 ">
                              <p>索引的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e235" headers="d373090e191 ">
                              <p><code class="codeph">综合</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e235 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e235 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e235 d373090e200 ">
                              <p>指示分区是否属于复合分区表上的本地索引（ <code class="codeph">YES</code> ）或不（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e256" headers="d373090e191 ">
                              <p><code class="codeph">PARTITION_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e256 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e256 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e256 d373090e200 ">
                              <p>分区的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e271" headers="d373090e191 ">
                              <p><code class="codeph">SUBPARTITION_COUNT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e271 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e271 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e271 d373090e200 ">
                              <p>如果是复合分区表上的本地索引，则分区中的子分区数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e286" headers="d373090e191 ">
                              <p><code class="codeph">高价值</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e286 d373090e194 ">
                              <p><code class="codeph">长</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e286 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e286 d373090e200 ">
                              <p>分区绑定值表达式</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e301" headers="d373090e191 ">
                              <p><code class="codeph">HIGH_VALUE_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e301 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e301 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e301 d373090e200 ">
                              <p>分区绑定值表达式的长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e316" headers="d373090e191 ">
                              <p><code class="codeph">PARTITION_POSITION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e316 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e316 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e316 d373090e200 ">
                              <p>分区在索引中的位置</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e331" headers="d373090e191 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e331 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e331 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e331 d373090e200 ">
                              <p>指示索引分区是否可用（ <code class="codeph">USABLE</code> ）（ <code class="codeph">UNUSABLE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e352" headers="d373090e191 ">
                              <p><code class="codeph">TABLESPACE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e352 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（30）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e352 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e352 d373090e200 ">
                              <p>包含分区的表空间的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e367" headers="d373090e191 ">
                              <p><code class="codeph">PCT_FREE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e367 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e367 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e367 d373090e200 ">
                              <p>块中可用空间的最小百分比</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e383" headers="d373090e191 ">
                              <p><code class="codeph">INI_TRANS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e383 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e383 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e383 d373090e200 ">
                              <p>初始交易数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e398" headers="d373090e191 ">
                              <p><code class="codeph">MAX_TRANS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e398 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e398 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e398 d373090e200 ">
                              <p>最大交易次数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e413" headers="d373090e191 ">
                              <p><code class="codeph">INITIAL_EXTENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e413 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e413 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e413 d373090e200 ">
                              <p>初始范围的大小（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e428" headers="d373090e191 ">
                              <p><code class="codeph">NEXT_EXTENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e428 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e428 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e428 d373090e200 ">
                              <p>辅助扩展区的大小（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e443" headers="d373090e191 ">
                              <p><code class="codeph">MIN_EXTENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e443 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e443 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e443 d373090e200 ">
                              <p>段中允许的最小区数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e458" headers="d373090e191 ">
                              <p><code class="codeph">MAX_EXTENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e458 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e458 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e458 d373090e200 ">
                              <p>段中允许的最大区数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e473" headers="d373090e191 ">
                              <p><code class="codeph">MAX_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e473 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e473 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e473 d373090e200 ">
                              <p>段中允许的最大块数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e488" headers="d373090e191 ">
                              <p><code class="codeph">PCT_INCREASE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e488 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e488 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e488 d373090e200 ">
                              <p>范围大小的百分比增加</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e503" headers="d373090e191 ">
                              <p><code class="codeph">FREELISTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e503 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e503 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e503 d373090e200 ">
                              <p>在此段中分配的进程空闲列表的数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e518" headers="d373090e191 ">
                              <p><code class="codeph">FREELIST_GROUPS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e518 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e518 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e518 d373090e200 ">
                              <p>在此段中分配的进程空闲列表组的数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e533" headers="d373090e191 ">
                              <p><code class="codeph">测井</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e533 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（7）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e533 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e533 d373090e200 ">
                              <p>指示是否记录对索引的更改：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">NONE</code> - 未指定</p>
                                    <p><span class="bold">另请参见：</span> <code class="codeph">*_IND_SUBPARTITIONS</code>视图</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">是</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e570" headers="d373090e191 ">
                              <p><code class="codeph">压缩</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e570 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e570 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e570 d373090e200 ">
                              <p>指示是否为分区索引启用或禁用索引压缩;非分区索引为NULL：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">NONE</code> - 未指定</p>
                                    <p><span class="bold">另请参见：</span> <code class="codeph">*_IND_SUBPARTITIONS</code>视图</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">启用</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">禁用</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e606" headers="d373090e191 ">
                              <p><code class="codeph">BLEVEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e606 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e606 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e606 d373090e200 ">
                              <p>B *  - 树级（从其根块到其叶块的索引深度）。深度为<code class="codeph">0</code>表示根块和叶块是相同的。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e624" headers="d373090e191 ">
                              <p><code class="codeph">LEAF_BLOCKS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e624 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e624 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e624 d373090e200 ">
                              <p>索引分区中的叶块数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e639" headers="d373090e191 ">
                              <p><code class="codeph">DISTINCT_KEYS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e639 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e639 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e639 d373090e200 ">
                              <p>索引分区中不同键的数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e654" headers="d373090e191 ">
                              <p><code class="codeph">AVG_LEAF_BLOCKS_PER_KEY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e654 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e654 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e654 d373090e200 ">
                              <p>索引中每个不同值出现的平均叶块数，舍入为最接近的整数。对于强制执行<code class="codeph">UNIQUE</code>和<code class="codeph">PRIMARY KEY</code>约束的索引，此值始终为<code class="codeph">1</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e678" headers="d373090e191 ">
                              <p><code class="codeph">AVG_DATA_BLOCKS_PER_KEY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e678 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e678 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e678 d373090e200 ">
                              <p>表中由索引中的不同值指向的平均数据块数舍入为最接近的整数。此统计信息是包含包含索引列的给定值的行的数据块的平均数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e693" headers="d373090e191 ">
                              <p><code class="codeph">clustering_factor的</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e693 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e693 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e693 d373090e200 ">
                              <p>表示基于索引值的表中行的顺序数。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果该值接近块数，那么表的排序非常好。在这种情况下，单个叶块中的索引条目倾向于指向相同数据块中的行。</p>
                                 </li>
                                 <li>
                                    <p>如果该值接近行数，则该表是非常随机排序的。在这种情况下，同一叶块中的索引条目不太可能指向相同数据块中的行。</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e715" headers="d373090e191 ">
                              <p><code class="codeph">NUM_ROWS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e715 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e715 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e715 d373090e200 ">
                              <p>返回的行数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e730" headers="d373090e191 ">
                              <p><code class="codeph">SAMPLE_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e730 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e730 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e730 d373090e200 ">
                              <p>用于分析此分区的样本大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e745" headers="d373090e191 ">
                              <p><code class="codeph">LAST_ANALYZED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e745 d373090e194 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e745 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e745 d373090e200 ">
                              <p>最近分析此分区的日期</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e760" headers="d373090e191 ">
                              <p><code class="codeph">BUFFER_POOL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e760 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（7）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e760 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e760 d373090e200 ">
                              <p>分区的实际缓冲池：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">默认</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">保持</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">回收</code></p>
                                 </li>
                                 <li>
                                    <p>空值</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e792" headers="d373090e191 ">
                              <p><code class="codeph">FLASH_CACHE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e792 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（7）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e792 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e792 d373090e200 ">
                              <p>数据库智能闪存缓存提示用于分区块：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">默认</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">保持</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                              </ul>
                              <p>仅限Solaris和Oracle Linux功能。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e822" headers="d373090e191 ">
                              <p><code class="codeph">CELL_FLASH_CACHE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e822 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（7）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e822 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e822 d373090e200 ">
                              <p>要用于分区块的单元刷新缓存提示：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">默认</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">保持</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                              </ul>
                              <p><span class="bold">另请参阅：</span> Oracle Exadata Storage Server软件文档以获取更多信息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e854" headers="d373090e191 ">
                              <p><code class="codeph">USER_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e854 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e854 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e854 d373090e200 ">
                              <p>指示统计信息是否由用户直接输入（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e875" headers="d373090e191 ">
                              <p><code class="codeph">PCT_DIRECT_ACCESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e875 d373090e194 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e875 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e875 d373090e200 ">
                              <p>如果索引组织表上的二级索引，则具有<code class="codeph">VALID</code>猜测的行的百分比</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e893" headers="d373090e191 ">
                              <p><code class="codeph">GLOBAL_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e893 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e893 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e893 d373090e200 ">
                              <p>如果统计数据已收集，则<code class="codeph">GLOBAL_STATS</code>为<code class="codeph">YES</code>如果已从子分区汇总统计数据或尚未收集统计数据，则为<code class="codeph">NO</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e916" headers="d373090e191 ">
                              <p><code class="codeph">DOMIDX_OPSTATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e916 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（6）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e916 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e916 d373090e200 ">
                              <p>域索引上的操作状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>NULL  - 索引不是域索引</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VALID</code> - 执行操作没有错误</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FAILED</code> - 操作因错误而失败</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e945" headers="d373090e191 ">
                              <p><code class="codeph">参数</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e945 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e945 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e945 d373090e200 ">
                              <p>对于域索引，参数字符串</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e960" headers="d373090e191 ">
                              <p><code class="codeph">间隔</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e960 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e960 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e960 d373090e200 ">
                              <p>指示分区是否位于间隔分区表的区间部分（ <code class="codeph">YES</code> ）或分区是否在范围部分中（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e981" headers="d373090e191 ">
                              <p><code class="codeph">SEGMENT_CREATED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e981 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e981 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e981 d373090e200 ">
                              <p>指示是否已创建索引分区段（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）; <code class="codeph">N/A</code>表示此索引已进行子分区，并且分区级别不存在任何段</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d373090e1005" headers="d373090e191 ">
                              <p><code class="codeph">ORPHANED_ENTRIES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d373090e1005 d373090e194 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d373090e1005 d373090e197 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d373090e1005 d373090e200 ">
                              <p>指示全局索引分区是否包含陈旧条目，因为<code class="codeph">DROP</code> / <code class="codeph">TRUNCATE PARTITION</code>期间的延迟索引维护或<code class="codeph">MODIFY PARTITION INDEXING OFF</code>操作。
                              </p>
                              <p>可能的值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">YES</code> - 索引分区包含孤立条目</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO</code> - 索引分区不包含孤立条目</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-9E62A85C-CEE9-4DDE-9FDF-C3FA47F51EE5__GUID-CA63FDA5-8DC3-4733-A336-1F01F4BA3757">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="DBA_IND_PARTITIONS.html#GUID-D97F7326-5FAC-4660-9AE2-AE120D31B3E7" title="对于数据库中的每个索引分区，DBA_IND_PARTITIONS显示分区级分区信息，分区的存储参数以及DBMS_STATS程序包生成的各种分区统计信息。它的列与ALL_IND_PARTITIONS中的列相同。">DBA_IND_PARTITIONS</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="USER_IND_PARTITIONS.html#GUID-A16513AA-6314-45F5-92BB-2760FA55B15D" title="对于当前用户拥有的每个索引分区，USER_IND_PARTITIONS显示分区级分区信息，分区的存储参数以及DBMS_STATS包生成的各种分区统计信息。它的列与ALL_IND_PARTITIONS中的列相同。">USER_IND_PARTITIONS</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_STATS</code>包的更多信息，请<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="10335.ALTER-USER.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>更改用户</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-TYPE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-VIEW.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-TYPE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALTER-VIEW.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL语句：ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">更改用户</li>
            </ol>
            <a id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44" name="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44"></a><a id="SQLRF53629"></a><a id="SQLRF53630"></a><a id="SQLRF53631"></a><a id="SQLRF55681"></a><a id="SQLRF53632"></a><a id="SQLRF53633"></a><a id="SQLRF53634"></a><a id="SQLRF53635"></a><a id="SQLRF53636"></a><a id="SQLRF53637"></a><a id="SQLRF53638"></a><a id="SQLRF53639"></a><a id="SQLRF30055"></a><a id="SQLRF55887"></a><a id="SQLRF53640"></a><a id="SQLRF55682"></a><a id="SQLRF55888"></a><a id="SQLRF55775"></a><a id="SQLRF55776"></a><a id="SQLRF55777"></a><a id="SQLRF55778"></a><a id="SQLRF55779"></a><a id="SQLRF53641"></a><a id="SQLRF53642"></a><a id="SQLRF53643"></a><a id="SQLRF55609"></a><a id="SQLRF53644"></a><a id="SQLRF53645"></a><a id="SQLRF53646"></a><a id="SQLRF53647"></a><a id="SQLRF53648"></a><a id="SQLRF53649"></a><a id="SQLRF53650"></a><a id="SQLRF53651"></a><a id="SQLRF53652"></a><a id="SQLRF01103"></a>
            
            <h2 id="SQLRF-GUID-9FCD038D-8193-4241-85CD-2F4723B27D44" class="sect2">更改用户</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-304B8AE4-9849-4B00-9EFE-932F0C6A08A7">目的</p>
                  <p>使用<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>更改数据库用户的身份验证或数据库资源特征</p>
                     </li>
                     <li>
                        <p>允许代理服务器作为客户端连接而无需身份验证</p>
                     </li>
                     <li>
                        <p>在Oracle自动存储管理（Oracle ASM）群集中，更改当前节点的Oracle ASM实例的本地密码文件中的用户密码</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-70967BF8-4637-429D-9895-0E4FE7D4C87B">
                     <p class="notep1">也可以看看：</p>
                     <p>有关用户身份验证方法的详细信息，请参见<a href="../dbseg/configuring-authentication.html#DBSEG003" target="_blank"><span class="italic">Oracle数据库安</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-4DE04F9A-894E-4017-9D5E-5ED640773E19">先决条件</p>
                  <p>通常，您必须具有<code class="codeph">ALTER</code> <code class="codeph">USER</code>系统特权。但是，当前用户可以在没有此权限的情况下更改自己的密码。
                  </p>
                  <p>要更改<code class="codeph">SYS</code>用户的密码，密码文件必须存在。
                  </p>
                  <p>必须通过<code class="codeph">AS</code> <code class="codeph">SYSASM</code>进行身份验证才能在Oracle ASM实例密码文件中更改除您自己以外的用户的密码。
                  </p>
                  <p>要指定<code class="codeph">CONTAINER</code>子句，必须连接到多租户容器数据库（CDB）。如果当前容器是根，则可以指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>或<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。如果当前容器是可插拔数据库（PDB），则只能指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。</p>
                  <p>要使用<span class="italic"><code class="codeph">container_data_clause</code></span>设置和修改<code class="codeph">CONTAINER_DATA</code>属性，必须连接到CDB，并且当前容器必须是根。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-D85D9406-9FB2-4BC9-A149-83D294576500">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-FF79F9BD-8DF3-403B-920E-982C1563181D"><span class="italic">alter_user</span> :: =</p>
                  <div class="figure" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-E826AB8A-42B9-4D30-8C64-6AA10FCA3ED0"><img src="img/alter_user.gif" alt="alter_user.eps的描述如下" title="alter_user.eps的描述如下" longdesc="img_text/alter_user.html"><br><a href="img_text/alter_user.html">说明alter_user.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-D376C87A-C46E-468C-9FFF-6987BE7891DA"><span class="italic">container_data_clause</span> :: =</p>
                  <div class="figure" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-2BA25631-FDB2-40DD-974F-47A5E7663733"><img src="img/container_data_clause.gif" alt="随后是container_data_clause.eps的描述" title="随后是container_data_clause.eps的描述" longdesc="img_text/container_data_clause.html"><br><a href="img_text/container_data_clause.html">container_data_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-5C72FF48-2F85-4FD1-BC06-D4445B3F8205"><span class="italic">proxy_clause</span> :: =</p><a id="d287385e304" class="indexterm-anchor"></a><a id="d287385e308" class="indexterm-anchor"></a><a id="d287385e312" class="indexterm-anchor"></a><div class="figure" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-544BE083-93A4-4C10-AC7B-EE2F5F12968E"><img src="img/proxy_clause.gif" alt="proxy_clause.eps的描述如下" title="proxy_clause.eps的描述如下" longdesc="img_text/proxy_clause.html"><br><a href="img_text/proxy_clause.html">插图说明proxy_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-BE319C3B-9C85-4AF4-8CBF-CFE05A19F5AD"><span class="italic">db_user_proxy_clauses</span> :: =</p>
                  <div class="figure" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-667B16F2-9590-4914-A970-A1362087AF2B"><img src="img/db_user_proxy_clauses.gif" alt="下面是db_user_proxy_clauses.eps的描述" title="下面是db_user_proxy_clauses.eps的描述" longdesc="img_text/db_user_proxy_clauses.html"><br><a href="img_text/db_user_proxy_clauses.html">说明db_user_proxy_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-F5616E97-01DC-4E1E-9BB7-5B3DB16897CE">语义</p>
                  <p><a id="d287385e331" class="indexterm-anchor"></a>该<a id="d287385e339" class="indexterm-anchor"></a><a id="d287385e346" class="indexterm-anchor"></a>本节中描述的ke ywo rds，参数和子句对于<code class="codeph">ALTER</code> <code class="codeph">USER</code>是唯一的，或者具有与<code class="codeph">CREATE</code> <code class="codeph">USER</code>不同的语义。此处未显示的关键字，参数和子句与<code class="codeph">CREATE</code> <code class="codeph">USER</code>语句中的含义相同。
                  </p>
                  <div class="infoboxnote" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-CE9886AE-34C6-403D-8769-51417F7F0FF9">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议用户名和密码仅以ASCII或EBCDIC字符编码，具体取决于您的平台。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-BDD6EC0C-ACFE-4AAB-B0EF-321EE49CF274">
                     <p class="notep1">也可以看看：</p>
                     <p>有关关键字和参数的信息，请<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C">参见CREATE USER</a> ，有关向用户分配数据库资源限制的信息，请参阅<a href="CREATE-PROFILE.html#GUID-ABC7AE4D-64A8-4EA9-857D-BEF7300B64C3">CREATE PROFILE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-75DF3819-735E-43A8-A6C6-23EAD42BBC40">身份证明条款</p>
                  <p><span class="bold">通过</span> <span class="bold"><span class="italic">密码</span></span> 
                  </p>
                  <p>指定<code class="codeph">BY</code> <span class="italic"><code class="codeph">password</code></span>以指定用户的新密码。密码区分大小写。用于将此用户连接到数据库的任何后续<code class="codeph">CONNECT</code>字符串必须使用此<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句中使用的相同大小写（上限，下限或混合）来指定密码。密码可以包含单字节或多字节字符，也可以包含数据库字符集中的两种字符。
                  </p>
                  <div class="infoboxnote" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-9B0C0FD2-C395-44FB-A504-2A33D4C85153">
                     <p class="notep1">注意：</p>
                     <p>Oracle数据库需要为每次重置特定密码设置不同的时间戳。如果在一秒钟内多次重置一个密码（例如，通过使用脚本循环访问一组密码），则数据库可能会返回一条错误消息，指出密码无法重复使用。因此，Oracle建议您避免使用脚本重置密码。</p>
                  </div>
                  <p>如果您要设置自己的密码，或者您具有<code class="codeph">ALTER</code> <code class="codeph">USER</code>系统权限并且您要更改其他用户的密码，则可以省略<code class="codeph">REPLACE</code>子句。但是，除非您具有<code class="codeph">ALTER</code> <code class="codeph">USER</code>系统特权，否则必须始终在启用密码复杂性验证功能时指定<code class="codeph">REPLACE</code>子句，方法是运行<code class="codeph">UTLPWDMG.SQL</code>脚本或在配置文件的<code class="codeph">PASSWORD_VERIFY_FUNCTION</code>参数中指定此类函数。已分配给用户。
                  </p>
                  <p>在Oracle ASM集群中，您可以使用此子句更改当前节点的Oracle ASM实例本地密码文件中用户的密码。您必须通过<code class="codeph">AS</code> <code class="codeph">SYSASM</code>进行身份验证才能指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">password</code></span>而不使用<code class="codeph">REPLACE</code> <span class="italic"><code class="codeph">old_password</code></span>子句。如果未通过<code class="codeph">AS</code> <code class="codeph">SYSASM</code>进行身份验证，则只能通过指定<code class="codeph">REPLACE</code> <span class="italic"><code class="codeph">old_password</code></span>来更改自己的密码。
                  </p>
                  <p>即使您在<code class="codeph">REPLACE</code>子句中提供旧密码，Oracle数据库也不会检查旧密码，除非您要更改自己的现有密码。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-28116AC6-95C9-4665-A67E-05AF0CE4275F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建密码的<a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span class="italic">指南</span></a> ，请参见“ <a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span class="italic">Oracle数据库安</span></a></p>
                  </div>
                  <p><span class="bold">GLOBALLY</span></p>
                  <p>有关此子句的更多信息，请参阅<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C">CREATE USER</a> 。
                  </p>
                  <p>您可以将用户的访问验证方法<span class="italic">从</span> <code class="codeph">IDENTIFIED</code> <code class="codeph">GLOBALLY</code>更改为<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">password</code></span>或<code class="codeph">IDENTIFIED</code> <code class="codeph">EXTERNALLY</code> 。只有在撤消向用户明确授予的所有外部角色时，才能将用户的访问验证方法从其他方法之一更改<span class="italic">为</span> <code class="codeph">IDENTIFIED</code> <code class="codeph">GLOBALLY</code> 。
                  </p>
                  <p><span class="bold">EXTERNALLY</span></p>
                  <p>有关此子句的更多信息，请参阅<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C">CREATE USER</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-94477A02-5CE2-4A6F-989F-AD47159C3422">
                     <p class="notep1">也可以看看：</p>
                     <p>有关全局和外部标识用户的详细信息，请参阅<a href="../dbimi/introducing-enterprise-user-security.html#DBIMI152" target="_blank"><span class="italic">“Oracle数据库企业用户安全性管理员指南</span></a> <span class="q">”</span> ， <span class="q">“ <a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115766">更改用户标识：示例</a> ”</span>和<span class="q">“ <a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115777">更改用户身份验证：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-8B978CDC-4D21-4CD9-B7C7-A9770DE0F0F1">没有认证条款</p>
                  <p>使用此子句将具有身份验证的现有用户帐户更改为架构帐户，而不进行身份验证，以防止登录该帐户。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-444B750F-4E2F-4C16-B2A5-357E5548C94F">默认收集条款</p>
                  <p>使用此子句可更改用户拥有的架构的默认排序规则。新的默认排序规则将分配给随后在架构中创建的表，视图和物化视图。它不会影响现有表视图和物化视图的默认排序规则。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">USER</code>的<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__DEFAULTCOLLATIONCLAUSE-39EC6E26">DEFAULT COLLATION</a>子句子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-A80B7BFF-671D-4888-8FDB-835516C1A5C5">DEFAULT TABLESPACE条款</p>
                  <p><a id="d287385e633" class="indexterm-anchor"></a><a id="d287385e637" class="indexterm-anchor"></a><a id="d287385e643" class="indexterm-anchor"></a><a id="d287385e647" class="indexterm-anchor"></a>使用此子句为用户的永久段分配或重新分配表空间。此子句将覆盖为数据库指定的任何缺省表空间。
                  </p>
                  <p><span class="bold">对默认表空间的限制</span></p>
                  <p>您不能将本地管理的临时表空间（包括撤消表空间或字典管理的临时表空间）指定为用户的默认表空间。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__LOCALTEMPORARYTABLESPACECLAUSE-593CBE90">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-4B8BA74F-1356-47F6-9E63-A705C18D0F5E">[LOCAL] TEMPORARY TABLESPACE条款</p>
                  <p><a id="d287385e661" class="indexterm-anchor"></a><a id="d287385e665" class="indexterm-anchor"></a><a id="d287385e671" class="indexterm-anchor"></a><a id="d287385e675" class="indexterm-anchor"></a><a id="d287385e679" class="indexterm-anchor"></a>使用此子句为用户的临时段分配或重新分配临时表空间或表空间组。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<span class="italic"><code class="codeph">tablespace</code></span>以指示用户的临时表空间。指定<code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>以指示共享临时表空间。指定<code class="codeph">LOCAL</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>以指示本地临时表空间。如果您连接到CDB，则可以指定<code class="codeph">CDB$DEFAULT</code>以使用CDB范围的默认临时表空间。
                        </p>
                     </li>
                     <li>
                        <p>指定<span class="italic"><code class="codeph">tablespace_group_name</code></span>以指示用户可以在tablespace_group_name指定的<span class="italic"><code class="codeph">tablespace_group_name</code></span>空间组中的任何表空间中保存临时段。本地临时表空间不能是表空间组的一部分。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">用户临时表空间的限制</span></p>
                  <p>您为用户的临时表空间分配或重新分配的任何单个表空间都必须是临时表空间，并且必须具有标准块大小。</p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-DA4E3FBC-C7EF-4635-B531-512C9BB1979C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2147599">分配表空间组：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-D39010A1-7BF2-42F6-8FF0-9A5E7B14CF86">默认角色条款</p>
                  <p><a id="d287385e736" class="indexterm-anchor"></a><a id="d287385e740" class="indexterm-anchor"></a>指定登录时用户默认启用的角色。此子句只能包含已使用<code class="codeph">GRANT</code>语句直接授予用户的角色，或者由具有<code class="codeph">CREATE</code> <code class="codeph">ROLE</code>权限的用户创建的角色。您不能使用<code class="codeph">DEFAULT</code> <code class="codeph">ROLE</code>子句指定：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>未授予用户的角色</p>
                     </li>
                     <li>
                        <p>通过其他角色授予的角色</p>
                     </li>
                     <li>
                        <p>角色由外部服务（例如操作系统）或Oracle Internet Directory管理</p>
                     </li>
                     <li>
                        <p>由<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句启用的角色，例如经过密码验证的角色和安全应用程序角色</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-4C02D220-D6F6-4690-B809-FC7ACB3FF5E7">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450">创造角色</a></p>
                  </div>
                  <p><span class="bold">为CDB中的公共用户分配默认角色</span></p>
                  <p>您可以修改分配给当前容器中的公共用户以及CDB中所有容器的默认角色。</p>
                  <p>在为所有容器的公共用户分配默认角色时， <code class="codeph">role</code>必须是通常授予普通用户的公共角色。
                  </p>
                  <p>在为当前容器中的公共用户分配默认角色时， <code class="codeph">role</code>必须是以下之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>授予当前容器中的公共用户的本地角色</p>
                     </li>
                     <li>
                        <p>授予普通用户的常见角色，通常或当前容器中的本地用户</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__BABDHGJC">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-7A6380A4-93E7-4DE0-A60E-2199B42A64C0">启用版本</p>
                  <p>该条款不可逆转。指定<code class="codeph">ENABLE</code> <code class="codeph">EDITIONS</code>以允许用户使用版本在此架构中创建多个版本的可编辑对象。启用非版本的模式中的可编辑对象无法编辑。
                  </p>
                  <p>使用<code class="codeph">FOR</code>子句指定用户可以为其创建可编辑对象的一个或多个对象类型。有关<span class="italic"><code class="codeph">object_type</code></span>的有效值列表，请查询<code class="codeph">V$EDITIONABLE_TYPES</code>动态性能视图。如果省略<code class="codeph">FOR</code>子句，则用户可以为所有可编辑对象类型创建可编辑对象。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-FD1CBD0B-43A2-4E7B-9B2E-B7B4088872F6">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">V$EDITIONABLE_TYPES</code>动态性能视图的更多信息，请<a href="../refrn/V-EDITIONABLE_TYPES.html#REFRN30660" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                  </div>
                  <p>如果要启用版本的架构包含任何不可编辑且依赖于架构中可编辑类型对象的对象，则必须指定<code class="codeph">FORCE</code>以启用此架构的版本。在这种情况下，所有不可编辑且依赖于启用版本的模式中的可编辑类型对象的对象将变为无效。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-4E8BFDC8-A127-4C9C-8E5E-5CE08217CEDD">[HTTP] DIGEST条款</p>
                  <p>此子句允许您为用户启用或禁用HTTP摘要访问身份验证。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">ENABLE</code>以启用HTTP摘要访问身份验证。指定此子句后，必须更改用户的密码。这会导致数据库为新密码生成HTTP摘要验证程序。只有这样，HTTP摘要访问验证才会生效。发出此子句后，确保更改用户密码的一种方法是使用<code class="codeph">HTTP</code> <code class="codeph">DIGEST</code> <code class="codeph">ENABLE</code>子句在同一语句中指定<code class="codeph">PASSWORD</code> <code class="codeph">EXPIRE</code>子句，如下所示：</p><pre class="pre codeblock"><code>ALTER USER <span class="italic">用户</span> PASSWORD EXPIRE HTTP DIGEST ENABLE;</code></pre><p>这会导致数据库在下次尝试登录数据库时提示用户输入新密码。之后，HTTP摘要访问身份验证将对用户生效。</p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">DISABLE</code>以禁用用户的HTTP摘要访问身份验证。您无需更改用户密码即可使此子句生效。
                        </p>
                     </li>
                  </ul>
                  <p>有关此子句的更多信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">USER</code>文档中的<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__HTTPDIGESTCLAUSE-3743BE20">[HTTP] DIGEST</a>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-F815CF91-1699-4281-A5DD-BAA9C6AD3F9F">集装箱条款</p>
                  <p>如果当前容器是PDB，则可以指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以更改本地用户的属性，或更改当前容器中公共用户的特定于容器的属性（例如默认表空间）。如果当前容器是根，则可以指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以在整个CDB中更改公共用户的属性。如果省略此子句并且当前容器是PDB，则<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>是默认值。如果省略此子句并且当前容器是根，则<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>是默认值。
                  </p>
                  <p><span class="bold">修改CDB中的公共用户的限制</span></p>
                  <p>必须为CDB中的所有容器修改普通用户的某些属性，而不是仅针对某些容器。因此，当您使用以下任何子句修改公共用户时，请确保通过连接到root并指定<code class="codeph">CONTAINER=ALL</code>来修改所有容器：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">IDENTIFIED</code>子句</p>
                     </li>
                     <li>
                        <p><code class="codeph">PASSWORD</code>条款</p>
                     </li>
                     <li>
                        <p><code class="codeph">[HTTP]</code> <code class="codeph">DIGEST</code>子句</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-2845F97D-26A4-48BB-9F04-026E67AD1E80"><span class="italic">container_data_clause</span></p>
                  <p><span class="italic"><code class="codeph">container_data_clause</code></span>允许您为普通用户设置和修改<code class="codeph">CONTAINER_DATA</code>属性。使用<code class="codeph">FOR</code>子句指示是设置还是修改默认的<code class="codeph">CONTAINER_DATA</code>属性或特定于对象的<code class="codeph">CONTAINER_DATA</code>属性。这些属性确定容器集（永远不能排除根），当当前会话是根时，其数据将通过<code class="codeph">CONTAINER_DATA</code>对象显示给指定的公共用户。
                  </p>
                  <p>要指定<span class="italic"><code class="codeph">container_data_clause</code></span> ，当前会话必须是root，并且必须指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。</p>
                  <p><span class="bold">SET CONTAINER_DATA</span></p>
                  <p>使用此子句为普通用户设置默认的<code class="codeph">CONTAINER_DATA</code>属性或特定于对象的<code class="codeph">CONTAINER_DATA</code>属性。指定此子句时，将替换<code class="codeph">CONTAINER_DATA</code>属性的现有值（如果有）。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">container_name</code></span>指定一个或多个可供用户访问的容器。
                  </p>
                  <p>使用<code class="codeph">ALL</code>指定用户可以访问CDB中的所有当前和未来容器。
                  </p>
                  <p>使用<code class="codeph">DEFAULT</code>指定默认行为，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于默认的<code class="codeph">CONTAINER_DATA</code>属性，用户可以访问当前容器（即根）和CDB作为整体。
                        </p>
                     </li>
                     <li>
                        <p>对于特定于对象的<code class="codeph">CONTAINER_DATA</code>属性，数据库将使用用户的默认<code class="codeph">CONTAINER_DATA</code>属性。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-752C0E6C-EF5F-4934-975B-DD2DA2DD531C">
                     <p class="notep1">注意：</p>
                     <p>在<code class="codeph">DBA_CONTAINER_DATA</code>视图<code class="codeph">DBA_CONTAINER_DATA</code>不到设置为<code class="codeph">DEFAULT</code> <code class="codeph">CONTAINER_DATA</code>属性。
                     </p>
                  </div>
                  <p><span class="bold">添加CONTAINER_DATA</span></p>
                  <p>使用此子句将容器添加到默认<code class="codeph">CONTAINER_DATA</code>属性或公共用户的特定于对象的<code class="codeph">CONTAINER_DATA</code>属性。使用<span class="italic"><code class="codeph">container_name</code></span>指定要添加的一个或多个容器。
                  </p>
                  <p>如果默认<code class="codeph">CONTAINER_DATA</code>属性设置为<code class="codeph">ALL</code>则不能使用此子句。如果在默认<code class="codeph">CONTAINER_DATA</code>属性设置为<code class="codeph">DEFAULT</code>时使用此子句，则<code class="codeph">CDB$ROOT</code>将自动添加到容器集中，除非该集已包含<code class="codeph">CDB$ROOT</code> 。</p>
                  <p>如果特定于对象的<code class="codeph">CONTAINER_DATA</code>属性设置为<code class="codeph">ALL</code>或<code class="codeph">DEFAULT</code>则不能使用此子句。</p>
                  <p><span class="bold">删除CONTAINER_DATA</span></p>
                  <p>使用此子句从公共用户的默认<code class="codeph">CONTAINER_DATA</code>属性或特定于对象的<code class="codeph">CONTAINER_DATA</code>属性中删除容器。使用<span class="italic"><code class="codeph">container_name</code></span>指定要删除的一个或多个容器。
                  </p>
                  <p>如果默认的<code class="codeph">CONTAINER_DATA</code>属性或特定于对象的<code class="codeph">CONTAINER_DATA</code>属性设置为<code class="codeph">ALL</code>或<code class="codeph">DEFAULT</code>则不能使用此子句。</p>
                  <p><span class="bold">FOR</span> <span class="bold"><span class="italic">container_data_object</span></span></p>
                  <p>如果指定<code class="codeph">FOR</code>子句，则可以为普通用户设置和修改<span class="italic"><code class="codeph">container_data_object</code></span>的特定于对象的<code class="codeph">CONTAINER_DATA</code>属性。 <span class="italic"><code class="codeph">container_data_object</code></span>必须是<code class="codeph">CONTAINER_DATA</code>表或视图。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库假定<span class="italic"><code class="codeph">container_data_object</code></span>位于您自己的模式中。
                  </p>
                  <p>如果省略<code class="codeph">FOR</code>子句，则可以为普通用户设置和修改默认的<code class="codeph">CONTAINER_DATA</code>属性。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-AC0B9A65-9342-435A-BAA0-9EF28490A8C7">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使普通用户能够查看有关PDB对象的信息的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DBSEG803" target="_blank"><span class="italic">“Oracle数据库安全指南</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-CAE46A38-3AF3-44A8-A6DE-AD4EA32C47D8"><span class="italic">proxy_clause</span></p>
                  <p><span class="italic"><code class="codeph">proxy_clause</code></span>允许您控制企业用户（数据库外的用户）或数据库代理（另一个数据库用户）作为要更改的数据库用户进行连接的能力。
                  </p>
                  <p><span class="bold">通过GRANT连接</span> 
                  </p>
                  <p>指定<code class="codeph">GRANT</code> <code class="codeph">CONNECT</code> <code class="codeph">THROUGH</code>以允许连接。
                  </p>
                  <p><span class="bold">通过连接重新连接</span> 
                  </p>
                  <p>指定<code class="codeph">REVOKE</code> <code class="codeph">CONNECT</code> <code class="codeph">THROUGH</code>以禁止连接。
                  </p>
                  <p><span class="bold">企业用户</span> 
                  </p>
                  <p>此子句允许您将<span class="italic"><code class="codeph">user</code></span>公开给企业用户使用。然后，在Oracle Internet Directory中工作的管理员必须为适当的企业用户授予代表<span class="italic"><code class="codeph">user</code></span>行事的<span class="italic"><code class="codeph">user</code></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">db_user_proxy</span></span></p>
                  <p>该条款可以让你暴露<span class="italic"><code class="codeph">user</code></span>的数据库用户代理使用<span class="italic"><code class="codeph">db_user_proxy</code></span> （代理）。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>代理将具有直接授予用户的所有权限。</p>
                     </li>
                     <li>
                        <p>代理将具有与用户关联的所有角色，除非您指定<span class="italic"><code class="codeph">db_user_proxy_clauses</code></span>的<code class="codeph">WITH</code>子句以将代理限制为用户的某些角色或没有角色。对于与代理关联的每个角色，如果默认情况下为登录时的<span class="italic"><code class="codeph">user</code></span>启用了角色，则默认情况下也会为登录时的代理启用该角色。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-24337064-5DF9-4837-BD7E-479C307EA94D"><span class="italic">db_user_proxy_clauses</span></p>
                  <p>您可以在代理会话中启用受密码保护的角色。安全应用程序角色和受密码保护的角色都提供了在会话中启用角色的安全方法。Oracle建议在必须通过不安全的通道维护和传输密码的情况下，或者如果有多个人需要知道密码，则使用安全密码角色而不是密码保护角色。代理会话中受密码保护的角色适用于使用自动化设置角色的情况。</p>
                  <p>代理用户可以访问受密码保护的角色。指定<code class="codeph">WITH</code>子句以将代理限制为与<span class="italic"><code class="codeph">user</code></span>关联的一些角色或没有角色，并指定<code class="codeph">AUTHENTICATION</code> <code class="codeph">REQUIRED</code>子句以指定是否需要身份验证。
                  </p>
                  <p><span class="bold">有角色</span></p>
                  <p><code class="codeph">WITH</code> <code class="codeph">ROLE</code> <span class="italic"><code class="codeph">role_name</code></span>允许代理以指定用户身份进行连接，并仅激活<span class="italic"><code class="codeph">role_name</code></span>指定的角色。此子句只能包含与<span class="italic"><code class="codeph">user</code></span>关联的角色。如果Proxy用户需要使用这些安全角色，则还需要在<code class="codeph">WITH</code> <code class="codeph">ROLE</code>子句中列出受密码保护的角色和安全应用程序角色。这些安全角色将包含在<code class="codeph">WITH ROLE ALL</code>子句中（如果未指定<code class="codeph">WITH ROLE</code>则为默认值）。如果<code class="codeph">WITH ROLE</code>未指定安全角色，则即使使用正确的密码也无法启用这些角色。
                  </p>
                  <p><span class="bold">除了角色以外</span></p>
                  <p><code class="codeph">WITH</code> <code class="codeph">ROLE</code> <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> <span class="italic"><code class="codeph">role_name</code></span>允许代理以指定用户身份进行连接，并激活与该用户关联的所有角色，但为<span class="italic"><code class="codeph">role_name</code></span>指定的角色除外。此子句只能包含与<span class="italic"><code class="codeph">user</code></span>关联的角色。
                  </p>
                  <p><span class="bold">没有任何作用</span></p>
                  <p><code class="codeph">WITH</code> <code class="codeph">NO</code> <code class="codeph">ROLES</code>允许代理以指定用户身份进行连接，但禁止代理在连接后激活该用户的任何角色，甚至禁用密码保护角色和安全应用程序角色等安全角色。
                  </p>
                  <p><span class="bold">需要认证</span><a id="d287385e1386" class="indexterm-anchor"></a><a id="d287385e1390" class="indexterm-anchor"></a></p>
                  <p>除非您指定<code class="codeph">AUTHENTICATION</code> <code class="codeph">REQUIRED</code>子句，否则Oracle数据库不希望代理对用户进行身份验证。此子句确保在通过指定代理对用户进行身份验证时，必须显示用户的身份验证凭据。凭证是密码。
                  </p>
                  <p><span class="bold">认证使用</span> <a id="d287385e1407" class="indexterm-anchor"></a><a id="d287385e1411" class="indexterm-anchor"></a></p>
                  <p>出现在早期版本语法中的<code class="codeph">AUTHENTICATED</code> <code class="codeph">USING</code>子句已被弃用，不再需要。如果指定<code class="codeph">AUTHENTICATED</code> <code class="codeph">USING</code> <code class="codeph">PASSWORD</code>子句，则Oracle数据库会将其转换为<code class="codeph">AUTHENTICATION</code> <code class="codeph">REQUIRED</code>子句。指定<code class="codeph">AUTHENTICATED</code> <code class="codeph">USING</code> <code class="codeph">CERTIFICATE</code>子句或<code class="codeph">AUTHENTICATED</code> <code class="codeph">USING</code> <code class="codeph">DISTINGUISHED</code> <code class="codeph">NAME</code>子句相当于省略<code class="codeph">AUTHENTICATION</code> <code class="codeph">REQUIRED</code>子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-6B03E056-476F-4497-8E83-5FE478F16FD8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">Oracle安全概述</span> ，概述了<a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002" target="_blank">数据库安全性</a>以及有关<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DBSEG003" target="_blank">中间层系统和代理身份验证的信息</a></p>
                        </li>
                        <li>
                           <p>有关代理及其使用数据库和<span class="q">“ <a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115788">代理用户：示例</a> ”的</span>更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DBSEG003" target="_blank"><span class="italic">“Oracle数据库安全指南</span></a> <span class="q">”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-A28037BD-A321-4A63-A873-5FCC0BF5867F">例子</p>
                  <p id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115766"><span class="bold">更改用户标识：示例</span></p>
                  <p>以下语句将用户<code class="codeph">sidney</code> （在<span class="q">“ <a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__I2103003">创建数据库用户：示例</a> ”中<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__I2103003">创建</a></span> ） <code class="codeph">second_2nd_pwd</code>和默认表空间的密码更改为表空间<code class="codeph">example</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sidney IDENTIFIED by second_2nd_pwd DEFAULT TABLESPACE示例;</pre><p>以下语句将<code class="codeph">new_profile</code>配置文件（在<span class="q">“ <a href="CREATE-PROFILE.html#GUID-ABC7AE4D-64A8-4EA9-857D-BEF7300B64C3__I2092094">创建配置文件：示例</a> ”中<a href="CREATE-PROFILE.html#GUID-ABC7AE4D-64A8-4EA9-857D-BEF7300B64C3__I2092094">创建</a></span> ）分配给示例用户<code class="codeph">sh</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sh PROFILE new_profile;</pre><p>在后续会话中， <code class="codeph">sh</code>受<code class="codeph">new_profile</code>配置文件中的限制的限制。
                  </p>
                  <p>以下语句使所有角色直接授予<code class="codeph">sh</code>默认角色，但<code class="codeph">dw_manager</code>角色除外：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sh DEFAULT ROLE ALL除了dw_manager;</pre><p>在<code class="codeph">sh</code>的下一个会话开始时，除了<code class="codeph">dw_manager</code>角色之外，Oracle数据库还允许直接授予<code class="codeph">sh</code>的<code class="codeph">dw_manager</code>角色。
                  </p>
                  <p id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115777"><span class="bold">更改用户身份验证：示例</span></p>
                  <p>以下语句更改用户<code class="codeph">app_user1</code>的身份验证机制（在<span class="q">“ <a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__I2103003">创建数据库用户：示例</a> ”中<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__I2103003">创建</a></span> <code class="codeph">)</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER USER app_user1全局识别为'CN = tom，O = oracle，C = US';</pre><p>以下语句导致用户<code class="codeph">sidney</code>的密码过期：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sidney PASSWORD EXPIRE;</pre><p>如果使用<code class="codeph">PASSWORD</code> <code class="codeph">EXPIRE</code>导致数据库用户的密码到期，则用户（或DBA）必须在尝试登录到期后登录数据库之前更改密码。但是，SQL * Plus等工具允许用户在到期后首次尝试登录时更改密码。
                  </p>
                  <p id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2147599"><span class="bold">分配表空间组：示例</span></p>
                  <p>以下语句将<code class="codeph">tbs_grp_01</code> （在<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204334">将临时表空间添加到表空间组：示例</a> ”中创建</span> ）指定为用户<code class="codeph">sh</code>的表空间组：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sh TEMPORARY TABLESPACE tbs_grp_01;</pre><p id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2115788"><span class="bold">代理用户：示例</span></p>
                  <p>以下语句更改用户<code class="codeph">app_user1</code> 。该示例允许<code class="codeph">app_user1</code>通过代理用户<code class="codeph">sh</code>进行连接。该示例还允许<code class="codeph">app_user1</code>在通过代理服务器<code class="codeph">sh</code>连接时启用其<code class="codeph">warehouse_user</code>角色（在<span class="q">“ <a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450__I2082342">创建角色：示例</a> ”中<a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450__I2082342">创建</a></span> ）：</p><pre class="oac_no_warn" dir="ltr">ALTER USER app_user1 GRANT CONNECT通过sh WITH CONNOLE_user;</pre><p>为了显示基本语法，此示例使用示例数据库Sales History用户（ <code class="codeph">sh</code> ）作为代理。通常，代理用户将是应用程序服务器或中间层实体。有关通过应用程序服务器在应用程序用户和数据库之间创建接口的信息，请参阅<a href="../lnoci/managing-scalable-platforms.html#LNOCI16559" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide。</span></a></p>
                  <div class="infoboxnotealso" id="GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__GUID-27BC82F0-1F1A-4CD7-86C6-B5AC46B42575">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__I2094003">创建外部数据库用户：示例</a> ”</span>以了解如何创建<code class="codeph">app_user</code>用户</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450__I2082342">创建角色：示例</a> ”</span>以了解如何创建<code class="codeph">dw_user</code>角色</p>
                        </li>
                     </ul>
                  </div>
                  <p>以下语句剥夺了用户<code class="codeph">app_user1</code>通过代理用户<code class="codeph">sh</code>连接的权利：</p><pre class="oac_no_warn" dir="ltr">ALTER USER app_user1 REVOKE CONNECT THROUGH sh;</pre><p>以下假设示例显示了另一种代理身份验证方法：</p><pre class="oac_no_warn" dir="ltr">更改用户通过OAS1通过密码认证连接;</pre><p>以下示例将用户<code class="codeph">app_user1</code>公开给企业用户使用的代理。在Oracle Internet Directory管理员授予其适当权限之前，企业用户无法代表<code class="codeph">app_user1</code>执行操作：</p><pre class="oac_no_warn" dir="ltr">ALTER USER app_user1通过企业用户连接;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="06911.ALL_TAB_COLS.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="ALL_TAB_COLS describes the columns of the tables, views, and clusters accessible to the current user."></meta>
      <meta name="description" content="ALL_TAB_COLS describes the columns of the tables, views, and clusters accessible to the current user."></meta>
      <title>ALL_TAB_COLS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="ALL_TAB_COLS describes the columns of the tables, views, and clusters accessible to the current user."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALL_TAB_COL_STATISTICS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALL_TAB_COLUMNS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALL_TAB_COL_STATISTICS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALL_TAB_COLUMNS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-2.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：ALL_PART_COL_STATISTICS到DATABASE_PROPERTIES</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALL_TAB_COLS</li>
            </ol>
            <a id="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3" name="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3"></a><a id="REFRN20276"></a>
            
            <h2 id="REFRN-GUID-85036F42-140A-406B-BE11-0AC49A00DBA3" class="sect2"><span class="enumeration_section">3.104</span> ALL_TAB_COLS</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">ALL_TAB_COLS</code>描述当前用户可访问的表，视图和集群的列。
               </p>
               <div class="section">
                  <p>要收集此视图的统计信息，请使用<code class="codeph">DBMS_STATS</code>包。
                  </p>
                  <p>此视图与<span class="q">“ <a href="ALL_TAB_COLUMNS.html#GUID-F218205C-7D76-4A83-8691-BFD2AD372B63" title="ALL_TAB_COLUMNS描述了当前用户可访问的表，视图和集群的列。">ALL_TAB_COLUMNS</a> ”的</span>不同之处在于系统生成的隐藏列和不可见列（用户生成的隐藏列）不会被过滤掉。
                  </p>
                  <div class="infoboxnote" id="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3__GUID-745D7B35-609B-40D4-8133-367996B281D5">
                     <p class="notep1">注意：</p>
                     <p>有关不可见列的详细信息，请参见“ <a href="../admin/managing-tables.html#ADMIN13866" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3__GUID-677E3D60-92BC-48F6-BB56-4A834A751521">相关观点</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DBA_TAB_COLS</code>描述数据库中所有表，视图和集群的列。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">USER_TAB_COLS</code>描述当前用户拥有的表，视图和集群的列。此视图不显示<code class="codeph">OWNER</code>列。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3__GUID-851CFB4E-EF34-4F0C-AC01-686B6A10F967">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d615033e216">柱</th>
                           <th align="left" valign="bottom" width="17%" id="d615033e219">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d615033e222">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d615033e225">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e230" headers="d615033e216 ">
                              <p><code class="codeph">所有者</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e230 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e230 d615033e222 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e230 d615033e225 ">
                              <p>表，视图或集群的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e246" headers="d615033e216 ">
                              <p><code class="codeph">TABLE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e246 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e246 d615033e222 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e246 d615033e225 ">
                              <p>表，视图或集群的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e262" headers="d615033e216 ">
                              <p><code class="codeph">COLUMN_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e262 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e262 d615033e222 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e262 d615033e225 ">
                              <p>列名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e278" headers="d615033e216 ">
                              <p><code class="codeph">数据类型</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e278 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e278 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e278 d615033e225 ">
                              <p>列的数据类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e293" headers="d615033e216 ">
                              <p><code class="codeph">DATA_TYPE_MOD</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e293 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e293 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e293 d615033e225 ">
                              <p>列的数据类型修饰符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e308" headers="d615033e216 ">
                              <p><code class="codeph">DATA_TYPE_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e308 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e308 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e308 d615033e225 ">
                              <p>列的数据类型的所有者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e323" headers="d615033e216 ">
                              <p><code class="codeph">DATA_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e323 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e323 d615033e222 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e323 d615033e225 ">
                              <p>列长度（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e339" headers="d615033e216 ">
                              <p><code class="codeph">DATA_PRECISION</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e339 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e339 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e339 d615033e225 ">
                              <p><code class="codeph">NUMBER</code>数据类型的十进制精度; <code class="codeph">FLOAT</code>数据类型的二进制精度;所有其他数据类型为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e360" headers="d615033e216 ">
                              <p><code class="codeph">DATA_SCALE</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e360 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e360 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e360 d615033e225 ">
                              <p>数字中小数点右侧的数字</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e375" headers="d615033e216 ">
                              <p><code class="codeph">NULLABLE</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e375 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e375 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e375 d615033e225 ">
                              <p>指示列是否允许NULL。如果列上存在<code class="codeph">NOT NULL</code>约束或者列是<code class="codeph">PRIMARY KEY</code>一部分，则值为<code class="codeph">N</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e399" headers="d615033e216 ">
                              <p><code class="codeph">COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e399 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e399 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e399 d615033e225 ">
                              <p>创建的列的序号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e415" headers="d615033e216 ">
                              <p><code class="codeph">DEFAULT_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e415 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e415 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e415 d615033e225 ">
                              <p>列的默认值的长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e430" headers="d615033e216 ">
                              <p><code class="codeph">DATA_DEFAULT</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e430 d615033e219 ">
                              <p><code class="codeph">长</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e430 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e430 d615033e225 ">
                              <p>列的默认值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e445" headers="d615033e216 ">
                              <p><code class="codeph">NUM_DISTINCT</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e445 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e445 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e445 d615033e225 ">
                              <p>列中的不同值的数量。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e465" headers="d615033e216 ">
                              <p><code class="codeph">低价值</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e465 d615033e219 ">
                              <p><code class="codeph">RAW（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e465 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e465 d615033e225 ">
                              <p>列中的值较低。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e485" headers="d615033e216 ">
                              <p><code class="codeph">高价值</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e485 d615033e219 ">
                              <p><code class="codeph">RAW（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e485 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e485 d615033e225 ">
                              <p>列中的值很高。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e505" headers="d615033e216 ">
                              <p><code class="codeph">密度</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e505 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e505 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e505 d615033e225 ">
                              <p>如果<code class="codeph">COLUMN_NAME</code>上有直方图，则此列显示直方图中跨越少于2个端点的值的选择性。它不表示跨越2个或更多端点的值的选择性。
                              </p>
                              <p>如果<code class="codeph">COLUMN_NAME</code>上没有直方图，则此列的值为<code class="codeph">1</code> / <code class="codeph">NUM_DISTINCT</code> 。</p>
                              <p>此列仍然是为了与Oracle7向后兼容。此信息现在位于<code class="codeph">{TAB|PART}_COL_STATISTICS</code>视图中。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e539" headers="d615033e216 ">
                              <p><code class="codeph">NUM_NULLS</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e539 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e539 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e539 d615033e225 ">
                              <p>列中的NULL数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e554" headers="d615033e216 ">
                              <p><code class="codeph">NUM_BUCKETS</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e554 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e554 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e554 d615033e225 ">
                              <p>列的直方图中的桶数</p>
                              <p><span class="bold">注意：</span>直方图中的存储桶数量在<code class="codeph">ANALYZE</code> SQL语句的<code class="codeph">SIZE</code>参数中指定。但是，Oracle数据库不会创建具有比样本中的行数更多的存储桶的直方图。此外，如果样本包含任何非常重复的值，Oracle数据库会创建指定数量的存储桶，但由于内部压缩算法，此列指示的值可能会更小。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e579" headers="d615033e216 ">
                              <p><code class="codeph">LAST_ANALYZED</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e579 d615033e219 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e579 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e579 d615033e225 ">
                              <p>最近分析此列的日期</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e594" headers="d615033e216 ">
                              <p><code class="codeph">SAMPLE_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e594 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e594 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e594 d615033e225 ">
                              <p>分析此列时使用的样本大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e609" headers="d615033e216 ">
                              <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e609 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（44）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e609 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e609 d615033e225 ">
                              <p>字符集的名称：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR_CS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR_CS</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e634" headers="d615033e216 ">
                              <p><code class="codeph">CHAR_COL_DECL_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e634 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e634 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e634 d615033e225 ">
                              <p>声明字符类型列的长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e649" headers="d615033e216 ">
                              <p><code class="codeph">GLOBAL_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e649 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e649 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e649 d615033e225 ">
                              <p>如果收集或逐步维护统计数据，则<code class="codeph">GLOBAL_STATS</code>将为<code class="codeph">YES</code> ，否则为<code class="codeph">NO</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e671" headers="d615033e216 ">
                              <p><code class="codeph">USER_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e671 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e671 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e671 d615033e225 ">
                              <p>指示统计信息是否由用户直接输入（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e692" headers="d615033e216 ">
                              <p><code class="codeph">AVG_COL_LEN</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e692 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e692 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e692 d615033e225 ">
                              <p>列的平均长度（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e707" headers="d615033e216 ">
                              <p><code class="codeph">CHAR_LENGTH</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e707 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e707 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e707 d615033e225 ">
                              <p>以字符显示列的长度。此值仅适用于以下数据类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e739" headers="d615033e216 ">
                              <p><code class="codeph">CHAR_USED</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e739 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e739 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e739 d615033e225 ">
                              <p>指示该列使用<code class="codeph">BYTE</code>长度语义（ <code class="codeph">B</code> ）或<code class="codeph">CHAR</code>长度语义（ <code class="codeph">C</code> ），或者数据类型是否不是以下任何一种（NULL）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NCHAR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e783" headers="d615033e216 ">
                              <p><code class="codeph">V80_FMT_IMAGE</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e783 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e783 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e783 d615033e225 ">
                              <p>指示列数据是否为8.0版图像格式（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e804" headers="d615033e216 ">
                              <p><code class="codeph">DATA_UPGRADED</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e804 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e804 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e804 d615033e225 ">
                              <p>指示列数据是否已升级到最新类型版本格式（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e825" headers="d615033e216 ">
                              <p><code class="codeph">HIDDEN_COLUMN</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e825 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e825 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e825 d615033e225 ">
                              <p>指示列是否为隐藏列（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e846" headers="d615033e216 ">
                              <p><code class="codeph">VIRTUAL_COLUMN</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e846 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e846 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e846 d615033e225 ">
                              <p>指示列是否为虚拟列（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e867" headers="d615033e216 ">
                              <p><code class="codeph">SEGMENT_COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e867 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e867 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e867 d615033e225 ">
                              <p>段中列的序号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e883" headers="d615033e216 ">
                              <p><code class="codeph">INTERNAL_COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e883 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e883 d615033e222 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e883 d615033e225 ">
                              <p>列的内部序列号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e899" headers="d615033e216 ">
                              <p><code class="codeph">直方图</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e899 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（15）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e899 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e899 d615033e225 ">
                              <p>表示直方图的存在/类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">频率</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TOP频</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">高度平衡</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HYBRID</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e935" headers="d615033e216 ">
                              <p><code class="codeph">QUALIFIED_COL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e935 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e935 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e935 d615033e225 ">
                              <p>合格的列名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e950" headers="d615033e216 ">
                              <p><code class="codeph">USER_GENERATED</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e950 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e950 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e950 d615033e225 ">
                              <p>指示列是用户生成的列（ <code class="codeph">YES</code> ）还是系统生成的列（ <code class="codeph">NO</code> ）。
                              </p>
                              <p>不可见列是隐藏列，也是用户生成的列。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e973" headers="d615033e216 ">
                              <p><code class="codeph">DEFAULT_ON_NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e973 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e973 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e973 d615033e225 ">
                              <p>指示列是否具有DEFAULT ON NULL语义（ <code class="codeph">YES</code> ）或不是（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e994" headers="d615033e216 ">
                              <p><code class="codeph">IDENTITY_COLUMN</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e994 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e994 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e994 d615033e225 ">
                              <p>指示这是否是标识列（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e1015" headers="d615033e216 ">
                              <p><code class="codeph">EVALUATION_EDITION</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e1015 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e1015 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e1015 d615033e225 ">
                              <p>解析表达式列中引用的已编辑对象的版本的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e1030" headers="d615033e216 ">
                              <p><code class="codeph">UNUSABLE_BEFORE</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e1030 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e1030 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e1030 d615033e225 ">
                              <p>列可用的最旧版本的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e1045" headers="d615033e216 ">
                              <p><code class="codeph">UNUSABLE_BEGINNING</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e1045 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e1045 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e1045 d615033e225 ">
                              <p>列永远不可用的最旧版本的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e1060" headers="d615033e216 ">
                              <p><code class="codeph">整理</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e1060 d615033e219 ">
                              <p><code class="codeph">VARCHAR2（100）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e1060 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e1060 d615033e225 ">
                              <p>列的排序规则。仅适用于具有字符数据类型的列。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d615033e1075" headers="d615033e216 ">
                              <p><code class="codeph">COLLATED_COLUMN_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="17%" headers="d615033e1075 d615033e219 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d615033e1075 d615033e222 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d615033e1075 d615033e225 ">
                              <p>列的内部序列号，此虚拟列为其生成排序规则键。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-85036F42-140A-406B-BE11-0AC49A00DBA3__GUID-2B9D6A5F-4C8E-4138-9366-23A9338D85A1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="DBA_TAB_COLS.html#GUID-857C32FD-AE30-4AB9-811B-AC3A7B91A04D" title="DBA_TAB_COLS描述数据库中所有表，视图和集群的列。">DBA_TAB_COLS</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="USER_TAB_COLS.html#GUID-B6443C20-7450-4D1A-8E35-7546C1137B92" title="USER_TAB_COLS描述当前用户拥有的表，视图和集群的列。">USER_TAB_COLS</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_STATS</code>包的更多信息，请<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="06087.config-gateway-drda.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>为DRDA配置Oracle数据库网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:13:41-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="config-drda-server.html" title="Previous" type="text/html"></link>
      <link rel="next" href="security-consideration-drda-gateway.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="config-drda-server.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="security-consideration-drda-gateway.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-drda-gateway.html" property="item" typeof="WebPage"><span property="name">为DRDA安装和配置Oracle数据库网关</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为DRDA配置Oracle数据库网关</li>
            </ol>
            <a id="GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48" name="GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48"></a><a id="OTGIW140"></a>
            
            <h2 id="OTGIW-GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48" class="sect2"><span class="enumeration_chapter">14</span>为DRDA配置Oracle数据库网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装网关后，执行以下任务为DRDA配置Oracle数据库网关：</p>
               <ol>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5">配置两阶段提交</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007">为数据字典支持创建表和视图</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E020A28A-C039-4D57-A691-372D9A27548C">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-81523F23-5707-4203-BCED-7ED81054BB65">配置网关以访问多个DRDA数据库</a></p>
                  </li>
               </ol>
               <p>提供SQL脚本以执行诸如创建<code class="codeph">HS_TRANSACTION_LOG</code>表，删除过时的表和视图以及创建要提供的表和视图等步骤<a id="d24770e71" class="indexterm-anchor"></a>数据字典支持。
               </p>
               <p>必须使用a在DRDA服务器平台上运行这些脚本<a id="d24770e78" class="indexterm-anchor"></a>数据库本机工具（如<a id="d24770e83" class="indexterm-anchor"></a> SPUFI上<a id="d24770e86" class="indexterm-anchor"></a> DB2 UDB for Linux，UNIX和Windows），因为没有为网关提供执行这些脚本的工具。请注意，运行这些脚本时，必须对使用的用户ID进行适当授权。
               </p>
               <p>SQL脚本位于<code class="codeph">dg4db2/admin</code>目录中。通过在其文件名中具有DB2平台标识符（例如：“zos”，“as400”和“luw”）和版本特定数字（例如：vw7，vw8）来指定适当的平台脚本。
               </p>
            </div><a id="OTGIW1054"></a><div class="props_rev_3"><a id="GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376" name="GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376"></a><h3 id="OTGIW-GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化参数文件<a id="d24770e129" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-gateway-drda.html#GUID-016825C4-6B78-4DB9-B832-9E4419C0514E">选择网关的系统标识符</a></span></li>
                     <li><span><a href="config-gateway-drda.html#GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6">自定义初始化参数文件</a></span></li>
                  </ol>
               </div><a id="OTGIW1055"></a><div class="props_rev_3"><a id="GUID-016825C4-6B78-4DB9-B832-9E4419C0514E" name="GUID-016825C4-6B78-4DB9-B832-9E4419C0514E"></a><h4 id="OTGIW-GUID-016825C4-6B78-4DB9-B832-9E4419C0514E" class="sect4">选择网关的系统标识符</h4>
                  <div>
                     <p>网关系统标识符（SID）是标识网关实例的字母数字字符串。对于要访问的每个DRDA数据库，您需要一个网关实例，因此需要一个网关SID。但是，如果要访问两个DRDA数据库，则需要两个网关SID，一个用于网关的每个实例。如果您有一个DRDA数据库并且希望有时使用一组网关参数设置来访问它，而有时使用不同的网关参数设置来访问它，则可以通过为单个DRDA数据库提供多个网关SID来实现。SID用作初始化参数文件的文件名的一部分。</p>
                  </div>
               </div><a id="OTGIW1056"></a><div class="props_rev_3"><a id="GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6" name="GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6"></a><h4 id="OTGIW-GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6" class="sect4">自定义初始化参数文件</h4>
                  <div>
                     <p>根据需要使用其他参数定制参数文件。请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a>支持的初始化参数列表。有关定制参数文件的安全性方面，请参阅<a href="security-consideration-drda-gateway.html#GUID-8A5E29B7-B0A0-4A21-A072-97D3639FB141">安全注意事项</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIW1057"></a><div class="props_rev_3"><a id="GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0" name="GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0"></a><h3 id="OTGIW-GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-gateway-drda.html#GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-gateway-drda.html#GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIW1058"></a><div class="props_rev_3"><a id="GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F" name="GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F"></a><h4 id="OTGIW-GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<span class="italic"><code class="codeph">ORACLE_HOME</code></span>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIW1059"></a><div class="props_rev_3"><a id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E" name="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E"></a><h5 id="OTGIW-GUID-9F0D767E-667B-4F62-8D64-E29D990B047E" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。Oracle Net Listener使用TCP / IP协议适配器侦听的地址语法如下：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-0E0319C1-8889-4E54-AC88-68C0645EDFCD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="summary" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d24770e384">变量</th>
                                    <th align="left" valign="bottom" width="73%" id="d24770e387">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e392" headers="d24770e384 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e392 d24770e387 ">
                                       <p>是安装网关的计算机的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e401" headers="d24770e384 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e401 d24770e387 ">
                                       <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic"><code class="codeph">port_number</code></span>的值必须与其他侦听器的端口号不同。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                        </p>
                        <div class="infoboxnote" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-23A6D393-7C2C-45DD-81E8-BCC085C5A497">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">listener.ora</code>文件中使用相同的SID值，并在<code class="codeph">tnsnames.ora</code>文件中使用，该文件将在下一步中配置。
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-82CB91B5-DB66-476E-8E1E-5C14866E974B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="summary" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d24770e445">变量</th>
                                    <th align="left" valign="bottom" width="73%" id="d24770e448">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e453" headers="d24770e445 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e453 d24770e448 ">
                                       <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e465" headers="d24770e445 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e465 d24770e448 ">
                                       <p>指定网关所在的Oracle主目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e474" headers="d24770e445 ">
                                       <p><code class="codeph">dg4db2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e474 d24770e448 ">
                                       <p>指定DRDA的Oracle数据库网关的可执行文件名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果您已在运行侦听多个数据库SID的Oracle Net Listener，请在现有<code class="codeph">listener.ora</code>文件中仅将以下语法添加到<code class="codeph">SID_LIST</code> ：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><div class="infoboxnotealso" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-062D1FAE-5066-485B-8F04-1B19E003DDB7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG294" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIW1060"></a><div class="props_rev_3"><a id="GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6" name="GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6"></a><h4 id="OTGIW-GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>你必须停止并重新启动<a id="d24770e541" class="indexterm-anchor"></a> Oracle Net Listener启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>如果该服务已在运行，请单击“ <span class="bold">停止”</span>以停止该服务。</span></li>
                        <li><span>单击“ <span class="bold">开始”</span>以启动或重新启动该服务。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="OTGIW1061"></a><div class="props_rev_3"><a id="GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5" name="GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5"></a><h3 id="OTGIW-GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5" class="sect3">配置两阶段提交</h3>
               <div>
                  <p>支持两阶段提交需要在DB2服务器上运行<code class="codeph">ORACLE_HOME\dg4db2\admin\dg4db2_tx.sql</code>脚本。此脚本将创建网关用于两阶段提交的对象。编辑脚本并使用为<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>初始化参数指定的帐户名替换默认的恢复帐户架构（“ <code class="codeph">RECOVER</code> ”）。有关更多详细信息，请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="OTGIW1065"></a><div class="props_rev_3"><a id="GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007" name="GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007"></a><h3 id="OTGIW-GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007" class="sect3">为数据字典支持创建表和视图</h3>
               <div>
                  <div class="section">
                     <p>要启用数据字典转换支持，必须在要通过网关访问的每个非Oracle系统上创建数据字典表和视图。</p>
                     <p>执行以下步骤以使用数据库本机工具创建数据字典表和视图：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>从以前的网关版本升级</span><div>
                           <p>如果要从以前版本的网关升级，请运行相应的脚本以删除旧的数据字典定义。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_drop.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典表</span><div>
                           <p>运行相应的脚本以创建数据字典表。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_tab.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典视图</span><div>
                           <p>运行相应的脚本以创建数据字典视图：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p>
                                 <p>对于DB2 UDB Linux版，UNIX版和Windows V7版：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_vw7.sql</pre><p>对于DB2 UDB Linux版，UNIX版和Windows V8版：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_vw8.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p>
                                 <p>对于DB2 UDB for z / OS V7（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw7r.sql</pre><p>对于DB2 UDB for z / OS V7（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw7s.sql</pre><p>对于DB2 UDB for z / OS V8（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw8r.sql</pre><p>对于DB2 UDB for z / OS V8（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw8s.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p>
                                 <p>对于DB2 UDB for iSeries V5.1：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_vw51.sql</pre><p>对于DB2 UDB for iSeries V5.2：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_vw52.sql</pre><p>对于DB2 UDB for iSeries V5.3：</p><pre class="oac_no_warn" dir="ltr">ORACLE_HOME \ dg4db2 \ ADMIN \ dg4db2_as400_vw53.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="OTGIW1067"></a><div class="props_rev_3"><a id="GUID-E020A28A-C039-4D57-A691-372D9A27548C" name="GUID-E020A28A-C039-4D57-A691-372D9A27548C"></a><h3 id="OTGIW-GUID-E020A28A-C039-4D57-A691-372D9A27548C" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问DB2数据之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<span class="italic"><code class="codeph">ORACLE_HOME</code></span>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin</code>目录中提供了<code class="codeph">tnsnames.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E020A28A-C039-4D57-A691-372D9A27548C__GUID-393904A2-1631-4C79-89A8-67DFA9E52186">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1244"></a><a id="OTGIW1068"></a><div class="props_rev_3"><a id="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0" name="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0"></a><h4 id="OTGIW-GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法。
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0__GUID-1E55127D-0331-4FA1-8CC4-25D0DE88A8F3">
                           <p class="titleintable">表14-1 tnsnames.ora文件的DRDA参数的Oracle数据库网关</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="适用于tnsnames.ora文件的DRDA参数的Oracle数据库网关" width="100%" border="1" summary="Gateway Parameters for tnsnames.ora File" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d24770e924">变量</th>
                                    <th align="left" valign="bottom" width="69%" id="d24770e927">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e932" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e932 d24770e927 ">
                                       <p>是在创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4db2</code> 。
                                       </p>
                                       <p>检查<code class="codeph">sqlnet.ora</code>文件以获取以下参数设置：</p>
                                       <p><code class="codeph">names.directory_path</code> = <code class="codeph">(TNSNAMES)</code> 
                                       </p>
                                       <p>注意： <code class="codeph">sqlnet.ora</code>文件通常存储在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e967" headers="d24770e924 ">
                                       <p>TCP</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e967 d24770e927 ">
                                       <p>是用于TCP / IP连接的TCP协议。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e974" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e974 d24770e927 ">
                                       <p>指定运行网关的计算机。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e983" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e983 d24770e927 ">
                                       <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-gateway-drda.html#GUID-9F0D767E-667B-4F62-8D64-E29D990B047E">listener.ora文件条目的语法</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e999" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e999 d24770e927 ">
                                       <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-gateway-drda.html#GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F">为网关配置Oracle Net Listener</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e1015" headers="d24770e924 ">
                                       <p><code class="codeph">（HS = OK）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e1015 d24770e927 ">
                                       <p>指定此连接描述符连接到非Oracle系统。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C" name="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C"></a><h4 id="OTGIW-GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d24770e1066" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d24770e1074" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C__GUID-2E229209-7F28-4BD9-9C0B-327FC45C1D9D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIW1069"></a><div class="props_rev_3"><a id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20" name="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20"></a><h3 id="OTGIW-GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问DB2数据。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和DRDA数据库的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问DRDA服务器，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20__GUID-800595F3-162D-47F9-AA09-957FC0E37E35">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d24770e1191">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d24770e1194">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24770e1199" headers="d24770e1191 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24770e1199 d24770e1194 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24770e1208" headers="d24770e1191 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24770e1208 d24770e1194 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20__GUID-E9635626-D491-48AF-AB4A-17EAF380E76F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIW1070"></a><div class="props_rev_3"><a id="GUID-81523F23-5707-4203-BCED-7ED81054BB65" name="GUID-81523F23-5707-4203-BCED-7ED81054BB65"></a><h3 id="OTGIW-GUID-81523F23-5707-4203-BCED-7ED81054BB65" class="sect3">配置网关以访问多个DRDA数据库</h3>
               <div>
                  <div class="section">
                     <p>配置网关以访问多个DRDA数据库的任务类似于为单个数据库配置网关的任务。配置示例假定以下内容：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网关已安装。</p>
                        </li>
                        <li>
                           <p>为一个名为<code class="codeph">db1</code> DRDA数据库配置网关。
                           </p>
                        </li>
                        <li>
                           <p>正在添加具有IP地址204.179.79.15的主机上名为<code class="codeph">db2</code>和<code class="codeph">db3</code>两个DRDA数据库。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1245"></a><a id="OTGIW1246"></a><a id="OTGIW1071"></a><div class="props_rev_3"><a id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93" name="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93"></a><h4 id="OTGIW-GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93" class="sect4">多个DRDA数据库示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-875B970A-A66F-4DD7-A053-82DEE712C491">为每个DRDA数据库选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个DRDA数据库都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问DRDA数据库的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4db22</code>用于访问数据库<code class="codeph">db2</code>的网关。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4db23</code>用于访问数据库<code class="codeph">db3</code>的网关。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-6C76EB0D-67D6-494D-AA17-919B935D57B9">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原始初始化参数文件： <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin\initdg4db2.ora</code>两次为网关的每个实例创建一个初始化参数文件，用<code class="codeph">db2</code>的网关SID命名一个，用<code class="codeph">db3</code>的网关SID命名另一个：</p><pre class="oac_no_warn" dir="ltr">&gt; cd <span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin&gt; copy initdg4db2.ora initdg4db22.ora&gt; copy initdg4db2.ora initdg4db23.ora</pre><div class="infoboxnote" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-12725F87-8F6F-4F16-9433-E157DE244406">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同DRDA数据库的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请按照相同的步骤进行操作。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1247"></a><a id="OTGIW1072"></a><div class="props_rev_3"><a id="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3" name="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3"></a><h4 id="OTGIW-GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3" class="sect4">多个DRDA数据库示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3__GUID-555CB888-1B42-4ACD-AC46-C24A7F06056A">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4db2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db22）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db23） ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1073"></a><div class="props_rev_3"><a id="GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62" name="GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62"></a><h4 id="OTGIW-GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62" class="sect4">多个DRDA数据库示例：停止并启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>单击<span class="bold">停止</span> 。</span></li>
                        <li><span>单击<span class="bold">开始</span> 。</span></li>
                     </ol>
                  </div>
               </div><a id="OTGIW1074"></a><div class="props_rev_3"><a id="GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86" name="GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86"></a><h4 id="OTGIW-GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86" class="sect4">多个DRDA数据库示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <div class="section">
                        <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                        </p>
                        <p>此示例描述如何在Oracle数据库上为多个网关实例配置Oracle Net。它首先显示原始安装网关的条目，然后是新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_db_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db2））（HS = OK）） <span class="italic">new_db2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db22））（HS = OK）） <span class="italic">new_db3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4db23））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1075"></a><div class="props_rev_3"><a id="GUID-9EE101AE-0FF3-4177-A962-2728E343990F" name="GUID-9EE101AE-0FF3-4177-A962-2728E343990F"></a><h4 id="OTGIW-GUID-9EE101AE-0FF3-4177-A962-2728E343990F" class="sect4">多个DRDA数据库示例：访问DB2数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4db22</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA2 CONNECT TO 2“ <span class="italic">user2”</span> IDENTIFIED BY“ <span class="italic">password2</span> ”USING'new_db2_using';</pre><p>输入以下内容<code class="codeph">dg4db23</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA3 CONNECT TO 2 <span class="italic">“user3”</span> IDENTIFIED BY“ <span class="italic">password3”</span> USING'new_db3_using';</pre><p>创建数据库链接后，您可以验证与新DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="07689.DBA_RSRC_PLAN_DIRECTIVES.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBA_RSRC_PLAN_DIRECTIVES displays information about all resource plan directives in the database."></meta>
      <meta name="description" content="DBA_RSRC_PLAN_DIRECTIVES displays information about all resource plan directives in the database."></meta>
      <title>DBA_RSRC_PLAN_DIRECTIVES</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="DBA_RSRC_PLAN_DIRECTIVES displays information about all resource plan directives in the database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBA_RSRC_MAPPING_PRIORITY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBA_RSRC_PLANS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_RSRC_MAPPING_PRIORITY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBA_RSRC_PLANS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-4.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：DBA_HIST_LATCH到DBA_STORED_SETTINGS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_RSRC_PLAN_DIRECTIVES</li>
            </ol>
            <a id="GUID-5C09C51A-43A6-4B9D-981D-C26914AA9AF0" name="GUID-5C09C51A-43A6-4B9D-981D-C26914AA9AF0"></a><a id="REFRN23236"></a>
            
            <h2 id="REFRN-GUID-5C09C51A-43A6-4B9D-981D-C26914AA9AF0" class="sect2"><span class="enumeration_section">5.307</span> DBA_RSRC_PLAN_DIRECTIVES</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_RSRC_PLAN_DIRECTIVES</code>显示有关数据库中所有资源计划指令的信息。
               </p>
               <div class="section"></div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-5C09C51A-43A6-4B9D-981D-C26914AA9AF0__GUID-9B3CFBC2-7ACA-4BCB-B1EE-9258E130ACF3">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1233598e171">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d1233598e174">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d1233598e177">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d1233598e180">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e185" headers="d1233598e171 ">
                              <p><code class="codeph">计划</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e185 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e185 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e185 d1233598e180 ">
                              <p>指令所属计划的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e200" headers="d1233598e171 ">
                              <p><code class="codeph">GROUP_OR_SUBPLAN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e200 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e200 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e200 d1233598e180 ">
                              <p>所涉及的消费者群体或子计划的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e215" headers="d1233598e171 ">
                              <p><code class="codeph">类型</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e215 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（14）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e215 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e215 d1233598e180 ">
                              <p>指示<code class="codeph">GROUP_OR_SUBPLAN</code>是指消费者组（ <code class="codeph">CONSUMER_GROUP</code> ）还是计划（ <code class="codeph">PLAN</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e239" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e239 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e239 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e239 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P1</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e257" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e257 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e257 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e257 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P2</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e275" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e275 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e275 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e275 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P3</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e293" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P4</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e293 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e293 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e293 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P4</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e311" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P5</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e311 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e311 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e311 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P5</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e329" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P6</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e329 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e329 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e329 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P6</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e347" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P7</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e347 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e347 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e347 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P7</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e365" headers="d1233598e171 ">
                              <p><code class="codeph">CPU_P8</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e365 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e365 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e365 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">MGMT_P8</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e384" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e384 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e384 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e384 d1233598e180 ">
                              <p>1级资源分配。对于基于股票的计划，表示股票数量。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e399" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e399 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e399 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e399 d1233598e180 ">
                              <p>2级资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e414" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e414 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e414 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e414 d1233598e180 ">
                              <p>第3级的资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e429" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P4</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e429 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e429 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e429 d1233598e180 ">
                              <p>第4级的资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e444" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P5</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e444 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e444 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e444 d1233598e180 ">
                              <p>5级资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e459" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P6</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e459 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e459 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e459 d1233598e180 ">
                              <p>6级资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e474" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P7</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e474 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e474 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e474 d1233598e180 ">
                              <p>7级资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e489" headers="d1233598e171 ">
                              <p><code class="codeph">MGMT_P8</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e489 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e489 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e489 d1233598e180 ">
                              <p>8级资源分配。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e504" headers="d1233598e171 ">
                              <p><code class="codeph">ACTIVE_SESS_POOL_P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e504 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e504 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e504 d1233598e180 ">
                              <p>此使用者组可以同时运行的最大调用次数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e519" headers="d1233598e171 ">
                              <p><code class="codeph">QUEUEING_P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e519 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e519 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e519 d1233598e180 ">
                              <p>活动会话限制队列中等待的超时（以秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e534" headers="d1233598e171 ">
                              <p><code class="codeph">PARALLEL_TARGET_PERCENTAGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e534 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e534 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e534 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">PARALLEL_SERVER_LIMIT</code>列。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e553" headers="d1233598e171 ">
                              <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e553 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e553 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e553 d1233598e180 ">
                              <p>此使用者组中的会话仅限于所有并行操作的最大并行度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e568" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_GROUP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e568 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e568 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e568 d1233598e180 ">
                              <p>到达切换时间后切换到组</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e583" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_FOR_CALL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e583 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e583 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e583 d1233598e180 ">
                              <p>指示在最高呼叫完成（ <code class="codeph">TRUE</code> ）之后是否切换回初始消费者组（ <code class="codeph">FALSE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e604" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e604 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e604 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e604 d1233598e180 ">
                              <p>在会话自动切换之前，组内的运行时间（以秒为单位）。与其他开关指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从调用开始累计运行时间。否则，运行时间将累计为会话长度。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e625" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e625 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e625 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e625 d1233598e180 ">
                              <p>组中将触发<code class="codeph">SWITCH_GROUP</code>指定的操作的最大兆字节I / O.与其他switch指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从调用开始就累积最大兆字节的I / O.否则，在会话长度内累积最大兆字节的I / O.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e649" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_IO_REQS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e649 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e649 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e649 d1233598e180 ">
                              <p>组内的最大I / O请求将触发<code class="codeph">SWITCH_GROUP</code>指定的<code class="codeph">SWITCH_GROUP</code> 。与其他开关指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从调用开始累积最大I / O请求。否则，最大I / O请求将累计为会话长度。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e673" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_ESTIMATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e673 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e673 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e673 d1233598e180 ">
                              <p>指示是否应将估计执行时间用于切换条件（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e694" headers="d1233598e171 ">
                              <p><code class="codeph">MAX_EST_EXEC_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e694 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e694 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e694 d1233598e180 ">
                              <p>最大估计执行时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e709" headers="d1233598e171 ">
                              <p><code class="codeph">UNDO_POOL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e709 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e709 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e709 d1233598e180 ">
                              <p>撤消使用者组的池大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e724" headers="d1233598e171 ">
                              <p><code class="codeph">MAX_IDLE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e724 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e724 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e724 d1233598e180 ">
                              <p>会话的最大空闲时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e739" headers="d1233598e171 ">
                              <p><code class="codeph">MAX_IDLE_BLOCKER_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e739 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e739 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e739 d1233598e180 ">
                              <p>阻止其他会话时会话的最大空闲时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e755" headers="d1233598e171 ">
                              <p><code class="codeph">MAX_UTILIZATION_LIMIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e755 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e755 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e755 d1233598e180 ">
                              <p>不推荐使用此列。请改用<code class="codeph">UTILIZATION_LIMIT</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e773" headers="d1233598e171 ">
                              <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e773 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e773 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e773 d1233598e180 ">
                              <p>在从队列中删除之前，查询可以保留在使用者组的并行语句队列中的时间（以秒为单位）。</p>
                              <p>资源管理器计划中的<code class="codeph">PQ_TIMEOUT_ACTION</code>指令可与<code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>指令一起使用，以取消或运行已删除的查询。如果未指定<code class="codeph">PQ_TIMEOUT_ACTION</code>指令，则默认行为是使用<code class="codeph">ORA-07454</code>取消查询。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e802" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_TIME_IN_CALL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e802 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e802 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e802 d1233598e180 ">
                              <p>不推荐使用此列。指定的时间<code class="codeph">SWITCH_TIME</code>指令，并设置<code class="codeph">SWITCH_FOR_CALL</code>到<code class="codeph">TRUE</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e826" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_IO_LOGICAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e826 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e826 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e826 d1233598e180 ">
                              <p>将触发<code class="codeph">SWITCH_GROUP</code>指定的操作的逻辑I / O <code class="codeph">SWITCH_GROUP</code> 。与其他开关指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从调用开始就累积逻辑I / O的数量。否则，在会话长度内累积逻辑IO的数量。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e850" headers="d1233598e171 ">
                              <p><code class="codeph">SWITCH_ELAPSED_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e850 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e850 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e850 d1233598e180 ">
                              <p>触发<code class="codeph">SWITCH_GROUP</code>指定的操作的已用时间。与其他开关指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从通话开始累计经过的时间。否则，在会话长度内累计经过的时间。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e874" headers="d1233598e171 ">
                              <p><code class="codeph">PARALLEL_SERVER_LIMIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e874 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e874 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e874 d1233598e180 ">
                              <p>排队后续并行查询之前使用的并行目标的最大百分比</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e889" headers="d1233598e171 ">
                              <p><code class="codeph">UTILIZATION_LIMIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e889 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e889 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e889 d1233598e180 ">
                              <p>允许的最大资源利用率，以百分比表示</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e904" headers="d1233598e171 ">
                              <p><code class="codeph">PARALLEL_STMT_CRITICAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e904 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（12）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e904 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e904 d1233598e180 ">
                              <p>指示此使用者组的并行语句是否有资格在并行语句队列中进行排队：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">BYPASS QUEUE</code> - 此消费者组中的并行语句非常重要，不应排队。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">QUEUE</code> - 此消费者组中的所有并行语句，无论<code class="codeph">PARALLEL_DEGREE_POLICY</code>初始化参数值如何，都有资格排队。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FALSE</code> - 某些并行语句符合排队条件，具体取决于<code class="codeph">PARALLEL_DEGREE_POLICY</code>初始化参数值。这是默认值。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e941" headers="d1233598e171 ">
                              <p><code class="codeph">SESSION_PGA_LIMIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e941 d1233598e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e941 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e941 d1233598e180 ">
                              <p>此使用者组中的会话在终止之前可以分配的最大不可用PGA（MB）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e956" headers="d1233598e171 ">
                              <p><code class="codeph">PQ_TIMEOUT_ACTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e956 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（6）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e956 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e956 d1233598e180 ">
                              <p>指示当队列时间超过资源管理器计划的<code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>指令设置的限制时，对并行队列中的并行查询要采取的<code class="codeph">PARALLEL_QUEUE_TIMEOUT</code> ：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CANCEL</code> - 语句以ORA-07454错误终止</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">RUN</code> - 语句立即运行，如果并行服务器不可用，可能会降级</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e985" headers="d1233598e171 ">
                              <p><code class="codeph">评论</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e985 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（2000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e985 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e985 d1233598e180 ">
                              <p>对计划指令的文本评论</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e1001" headers="d1233598e171 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e1001 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e1001 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e1001 d1233598e180 ">
                              <p>指示计划指令是否是待处理区域（ <code class="codeph">PENDING</code> ）的一部分（NULL）。
                              </p>
                              <p><span class="bold">注意：</span> PDB资源计划必须是单级的，它们不能包含子计划，并且它们必须包含8个或更少的使用者组。如果将资源计划导入PDB并且它违反了任何这些PDB要求，则导入将自动将资源计划转换为兼容版本。原始的，未经修改的资源计划将与<code class="codeph">STATUS</code> <code class="codeph">LEGACY</code>一起存储。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1233598e1029" headers="d1233598e171 ">
                              <p><code class="codeph">强制性</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1233598e1029 d1233598e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1233598e1029 d1233598e177 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1233598e1029 d1233598e180 ">
                              <p>指示计划指令是强制性的（ <code class="codeph">YES</code> ）还是不是（ <code class="codeph">NO</code> ）。强制性计划无法删除。
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-5C09C51A-43A6-4B9D-981D-C26914AA9AF0__GUID-DAB655FF-A30C-48F6-B075-24BDBCAD186C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="PARALLEL_DEGREE_POLICY.html#GUID-BF09265F-8545-40D4-BD29-E58D5F02B0E5" title="PARALLEL_DEGREE_POLICY指定是否启用自动并行度，语句排队和内存中并行执行。">PARALLEL_DEGREE_POLICY</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关资源计划的一般信息，请参见<a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS-GUID-8EC6C735-338D-46D4-B346-AD16D0622B30" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>有关使用<code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE</code>过程指定Resource Manager指令值的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04198.ojvmjava-tool.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>ojvmjava工具</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96468-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="dropjava-tool.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-web-services.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJDEV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="dropjava-tool.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-web-services.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects-and-Oracle-JVM-utilities.html" property="item" typeof="WebPage"><span property="name">架构对象和Oracle JVM实用程序</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ojvmjava工具</li>
            </ol>
            <a id="GUID-E3141F37-82FC-45F4-86BF-FED2ED823BC4" name="GUID-E3141F37-82FC-45F4-86BF-FED2ED823BC4"></a><a id="JJDEV13441"></a>
            
            <h2 id="JJDEV-GUID-E3141F37-82FC-45F4-86BF-FED2ED823BC4" class="sect2"><span class="enumeration_section">13.8</span> ojvmjava工具</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">ojvmjava</code>工具是会话的交互式界面<a id="d54449e95" class="indexterm-anchor"></a><a id="d54449e97" class="indexterm-anchor"></a>数据库实例的名称空间。您在启动<code class="codeph">ojvmjava</code>工具时指定数据库连接参数。然后它会向您显示一个提示，表明它已准备好执行命令。
                  </p>
                  <p>shell可以启动可执行文件，即具有<code class="codeph">static main()</code>方法的类。这可以通过使用命令行界面或通过调用数据库驻留类来完成。如果调用数据库驻留类，则必须使用<code class="codeph">loadjava</code>工具加载可执行文件。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="ojvmjava-tool.html#GUID-CB39F5B7-E985-4DB8-874C-2C1A4C16CD0F">ojvmjava工具语法</a></p>
                     </li>
                     <li>
                        <p><a href="ojvmjava-tool.html#GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364">ojvmjava工具参数摘要</a></p>
                     </li>
                     <li>
                        <p><a href="ojvmjava-tool.html#GUID-892E3F3E-FA5D-474A-A975-D7C9BEC2A5B3">ojvmjava工具示例</a></p>
                     </li>
                     <li>
                        <p><a href="ojvmjava-tool.html#GUID-33C8B654-148D-4C28-BD32-B3823D1B6216">ojvmjava工具功能</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13442"></a><div class="props_rev_3"><a id="GUID-CB39F5B7-E985-4DB8-874C-2C1A4C16CD0F" name="GUID-CB39F5B7-E985-4DB8-874C-2C1A4C16CD0F"></a><h3 id="JJDEV-GUID-CB39F5B7-E985-4DB8-874C-2C1A4C16CD0F" class="sect3"><span class="enumeration_section">13.8.1</span> ojvmjava工具语法</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">ojvmjava</code>工具命令的语法是：</p><pre class="oac_no_warn" dir="ltr">ojvmjava {-user <span class="italic">user</span> [/ <span class="italic">password</span> @ <span class="italic">database</span> ] [options] [@ <span class="italic">filename</span> ] [-batch] [-c | -command <span class="italic">command</span> <span class="italic">args</span> ] [-debug] [-d | -database <span class="italic">conn_string</span> ] [-fileout <span class="italic">filename</span> ] [-o | -oci | -oci8] [-oschema <span class="italic">schema</span> ] [-t | -thin] [-version | -v] -runjava [server_file_system] -jdwp port [host] -verbose</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13444"></a><a id="JJDEV13443"></a><div class="props_rev_3"><a id="GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364" name="GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364"></a><h3 id="JJDEV-GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364" class="sect3"><span class="enumeration_section">13.8.2</span> ojvmjava工具参数摘要</h3>
               <div>
                  <div class="section">
                     <p><a href="ojvmjava-tool.html#GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364__CACFIIDF" title="表">表13-4</a>总结了<code class="codeph">ojvmjava</code>工具参数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CBD06AEF-3358-4DCC-A8F6-484A1F430364__CACFIIDF">
                     <p class="titleintable">表13-4 ojvmjava参数摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ojvmjava参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d54449e367">争论</th>
                              <th align="left" valign="bottom" width="69%" id="d54449e370">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e375" headers="d54449e367 ">
                                 <p><code class="codeph">- 用户| -u</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e375 d54449e370 ">
                                 <p>指定用于连接数据库的用户名。此名称不区分大小写。名称将始终转换为大写。如果提供数据库信息，则使用的默认语法为OCI。您还可以指定默认数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e383" headers="d54449e367 ">
                                 <p><code class="codeph">-password | -p</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e383 d54449e370 ">
                                 <p>指定连接数据库的密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e391" headers="d54449e367 ">
                                 <p><code class="codeph">@</code> <span class="italic"><code class="codeph">filename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e391 d54449e370 ">
                                 <p>指定包含要运行的<code class="codeph">ojvmjava</code>工具命令的脚本文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e405" headers="d54449e367 ">
                                 <p><code class="codeph">-批量</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e405 d54449e370 ">
                                 <p>禁用显示在屏幕上的所有消息。不会显示任何帮助消息或提示。仅显示对输入的命令的响应。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e413" headers="d54449e367 ">
                                 <p><code class="codeph">-命令</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e413 d54449e370 ">
                                 <p>运行所需的命令。如果您不想在解释模式下运行<code class="codeph">ojvmjava</code>工具，但只想运行单个命令，则使用此选项后跟包含命令和参数的字符串运行它。命令运行后， <code class="codeph">ojvmjava</code>工具退出。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e427" headers="d54449e367 ">
                                 <p><code class="codeph">-debug</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e427 d54449e370 ">
                                 <p>显示调试信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e435" headers="d54449e367 ">
                                 <p><code class="codeph">-d | -database</code> <span class="italic"><code class="codeph">conn_string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e435 d54449e370 ">
                                 <p>提供数据库连接字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e446" headers="d54449e367 ">
                                 <p><code class="codeph">-fileout</code> <span class="italic"><code class="codeph">file</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e446 d54449e370 ">
                                 <p>将输出重定向到提供的文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e457" headers="d54449e367 ">
                                 <p><code class="codeph">-o | -oci | -oci8</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e457 d54449e370 ">
                                 <p>使用JDBC OCI驱动程序。OCI驱动程序是默认的。此标志指定<code class="codeph">@</code> <span class="italic"><code class="codeph">database</code></span>或<code class="codeph">-database</code>选项中使用的语法。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e474" headers="d54449e367 ">
                                 <p><code class="codeph">-o schema</code> <span class="italic"><code class="codeph">schema</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e474 d54449e370 ">
                                 <p>使用此模式进行类查找。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e485" headers="d54449e367 ">
                                 <p><code class="codeph">-t | -瘦</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e485 d54449e370 ">
                                 <p>指定用于JDBC Thin驱动程序的数据库语法。数据库连接字符串的格式必须为<span class="italic"><code class="codeph">host</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">port</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">SID</code></span>或Oracle Net Services名称 - 值列表。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e508" headers="d54449e367 ">
                                 <p><code class="codeph">-verbose</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e508 d54449e370 ">
                                 <p>显示连接信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e516" headers="d54449e367 ">
                                 <p><code class="codeph">-版</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e516 d54449e370 ">
                                 <p>显示版本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e524" headers="d54449e367 ">
                                 <p><code class="codeph">-runjava</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e524 d54449e370 ">
                                 <p>执行Java命令时使用<code class="codeph">DBMS_JAVA.runjava</code> 。如果没有参数，则将<code class="codeph">-classpath</code>解释为引用客户端文件系统。使用参数<code class="codeph">server_file_system</code>将<code class="codeph">-classpath</code>解释为引用正在运行Oracle服务器的文件系统，如<code class="codeph">DBMS_JAVA.runjava</code>通常所做的那样。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d54449e547" headers="d54449e367 ">
                                 <p><code class="codeph">-jdwp</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d54449e547 d54449e370 ">
                                 <p>使连接侦听指示的端口和主机上的调试器连接。host的默认值是<code class="codeph">localhost.</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="JJDEV13445"></a><div class="props_rev_3"><a id="GUID-892E3F3E-FA5D-474A-A975-D7C9BEC2A5B3" name="GUID-892E3F3E-FA5D-474A-A975-D7C9BEC2A5B3"></a><h3 id="JJDEV-GUID-892E3F3E-FA5D-474A-A975-D7C9BEC2A5B3" class="sect3"><span class="enumeration_section">13.8.3</span> ojvmjava工具例</h3>
               <div>
                  <div class="section">
                     <p>在主机<code class="codeph">dbserver</code>上的侦听器端口<code class="codeph">2481</code>上的数据库<code class="codeph">orcl</code>的会话命名空间上打开shell，如下所示：</p><pre class="oac_no_warn" dir="ltr">ojvmjava -thin -user HR @ dbserver：2481：orcl密码： <span class="italic">password</span>
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13446"></a><div class="props_rev_3"><a id="GUID-33C8B654-148D-4C28-BD32-B3823D1B6216" name="GUID-33C8B654-148D-4C28-BD32-B3823D1B6216"></a><h3 id="JJDEV-GUID-33C8B654-148D-4C28-BD32-B3823D1B6216" class="sect3"><span class="enumeration_section">13.8.4</span> ojvmjava工具功能</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">ojvmjava</code>工具命令跨越几种不同类型的功能，分组如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ojvmjava-tool.html#GUID-FB56AF50-A777-43FE-B563-123C816C9800">ojvmjava工具命令行选项</a></p>
                        </li>
                        <li>
                           <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C">ojvmjava工具Shell命令</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDEV13449"></a><a id="JJDEV13450"></a><a id="JJDEV13451"></a><a id="JJDEV13447"></a><div class="props_rev_3"><a id="GUID-FB56AF50-A777-43FE-B563-123C816C9800" name="GUID-FB56AF50-A777-43FE-B563-123C816C9800"></a><h4 id="JJDEV-GUID-FB56AF50-A777-43FE-B563-123C816C9800" class="sect4"><span class="enumeration_section">13.8.4.1</span> ojvmjava工具命令行选项</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍<code class="codeph">ojvmjava</code>工具命令可用的以下选项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACGEBDA">在@filename选项中编写ojvmjava工具命令脚本</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACCBGIA">-runjava</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACHDDEG">-jdwp</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACGEBDA">
                        <p class="subhead3" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__GUID-04330CDF-7FF8-4117-B5A4-ED4DEBD87DAD">在@filename选项中编写ojvmjava工具命令脚本</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此<code class="codeph">@</code> <span class="italic"><code class="codeph">filename</code></span>选项指定包含一个或多个<code class="codeph">ojvmjava</code>工具命令的脚本文件。指定的脚本文件位于客户端上。<code class="codeph">ojvmjava</code>工具读取文件并在指定的服务器上运行所有命令。此外，由于脚本文件在服务器上运行，因此在服务器上会发生与脚本文件中的操作系统的任何交互，例如将输出重定向到文件或运行其他脚本。如果指示<code class="codeph">ojvmjava</code>工具运行另一个脚本文件，则该文件必须存在于服务器上的<code class="codeph">$ORACLE_HOME</code> 。
                        </p>
                        <p>您必须输入<code class="codeph">ojvmjava</code>工具命令，后跟任何选项和任何预期的输入参数。脚本文件包含<code class="codeph">ojvmjava</code>工具命令，后跟选项和输入参数。输入参数可以在命令行<code class="codeph">ojvmjava</code>工具。<code class="codeph">ojvmjava</code>工具处理所有已知选项，并传递脚本文件的任何其他选项和参数。
                        </p>
                        <p>以下显示了脚本文件<code class="codeph">execShell</code>的内容：</p><pre class="oac_no_warn" dir="ltr">java myclass abc</pre><p>要运行此文件，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">ojvmjava -user HR -thin -database dbserver：2481：orcl @commands密码： <span class="italic">password</span>
</pre><p><code class="codeph">ojvmjava</code>工具处理它所知道的所有选项，并传递脚本文件中存在的命令使用的任何其他输入参数。在此示例中，参数将传递到脚本文件中的<code class="codeph">java</code>命令。
                        </p>
                        <p>您可以使用井号（ <code class="codeph">#</code> ）在脚本文件中添加任何注释。<code class="codeph">ojvmjava</code>工具忽略注释。例如：</p><pre class="oac_no_warn" dir="ltr">#this整行被ojvmjava忽略</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACCBGIA">
                        <p class="subhead3" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__GUID-E2E010BB-E506-482F-822D-4826D28FF4F1">-runjava</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此选项控制<code class="codeph">ojvmjava</code>工具shell命令Java是否使用命令行界面或数据库驻留类运行可执行类。当存在<code class="codeph">-runjava</code>选项时，将使用命令行界面。否则，可执行文件必须是先前使用<code class="codeph">loadjava</code>工具加载的数据库驻留类。使用可选参数<code class="codeph">server_file_system</code>意味着<code class="codeph">-classpath</code>术语位于运行Oracle服务器的计算机的文件系统上。否则，它们被解释为在运行<code class="codeph">ojvmjava</code>工具的机器的文件系统上。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__CACHDDEG">
                        <p class="subhead3" id="GUID-FB56AF50-A777-43FE-B563-123C816C9800__GUID-C4BB4096-3D49-43B0-9FD9-C0329FDA4943">-jdwp</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此选项指定在使用shell命令<code class="codeph">java</code>运行可执行文件时要侦听的调试器连接。这允许调试可执行文件。参数指定端口和主机。host参数的默认值是<code class="codeph">localhost.</code> 这些用于从运行可执行文件的RDBMS会话执行对<code class="codeph">DBMS_DEBUG_JDWP.CONNECT_TCP</code>的调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="invoking-Java-methods.html#GUID-FC2894A1-87C3-4695-968E-A3E69344B353">关于使用命令行界面</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13454"></a><a id="JJDEV13455"></a><a id="JJDEV13456"></a><a id="JJDEV13457"></a><a id="JJDEV13458"></a><a id="JJDEV13459"></a><a id="JJDEV13460"></a><a id="JJDEV13461"></a><a id="JJDEV13462"></a><a id="JJDEV13463"></a><a id="JJDEV13464"></a><a id="JJDEV13465"></a><a id="JJDEV13466"></a><a id="JJDEV13467"></a><a id="JJDEV13453"></a><div class="props_rev_3"><a id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C" name="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C"></a><h4 id="JJDEV-GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C" class="sect4"><span class="enumeration_section">13.8.4.2</span> ojvmjava工具Shell命令</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍<code class="codeph">ojvmjava</code> shell中可用的以下命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACGAJCA">回声</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACFDHHE">出口</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACJIAJB">救命</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACIADFA">java的</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACIGFJF">版</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACEAEJH">我是谁</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACDAEDH">连</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACCGCAD">runjava</a></p>
                           </li>
                           <li>
                              <p><a href="ojvmjava-tool.html#GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACCFIGC">JDWP</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-E75CDF71-5257-4835-98FB-431E28941A6D">
                           <p class="notep1">注意：</p>
                           <p>如果输入不受支持的命令，则会报告错误。</p>
                        </div>
                        <p>下表总结了共享一个或多个常用选项的命令：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACDAJCI">
                        <p class="titleintable">表13-5 ojvmjava命令常用选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ojvmjava命令常用选项" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d54449e1167">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d54449e1170">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1175" headers="d54449e1167 ">
                                    <p><code class="codeph">- 描述| -d</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1175 d54449e1170 ">
                                    <p>总结该工具的操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1183" headers="d54449e1167 ">
                                    <p><code class="codeph">-help | -H</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1183 d54449e1170 ">
                                    <p>总结该工具的语法。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1191" headers="d54449e1167 ">
                                    <p><code class="codeph">-版</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1191 d54449e1170 ">
                                    <p>显示版本。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACGAJCA">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-21040AA9-74C3-4EC9-9795-C4148150BB3A">回声</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令显示<code class="codeph">stdout</code>确切指示的内容。这主要用于脚本文件。
                        </p>
                        <p>语法如下：</p><pre class="oac_no_warn" dir="ltr">echo [ <span class="italic">echo_string</span> ] [ <span class="italic">args</span> ]</pre><p><span class="italic"><code class="codeph">echo_string</code></span>是一个字符串，包含在shell脚本调用期间要写入屏幕的文本， <span class="italic"><code class="codeph">args</code></span>是来自用户的输入参数。例如，以下命令显示通知：</p><pre class="oac_no_warn" dir="ltr">echo“将所有者添加到架构”＆1</pre><p>如果输入参数是<code class="codeph">HR</code> ，那么输出将是：</p><pre class="oac_no_warn" dir="ltr">将所有者添加到架构HR</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACFDHHE">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-8AA5C5D2-FE1A-436F-A555-01AF74F71FE9">出口</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该命令终止<code class="codeph">ojvmjava</code> 。语法如下：</p><pre class="oac_no_warn" dir="ltr">出口</pre><p>例如，要保留shell，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">$ exit％</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACJIAJB">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-6B0B196C-5C93-4E93-8F72-76CCD2BB268B">救命</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令总结了shell命令的语法。您还可以使用help命令汇总特定命令的选项。语法如下：</p><pre class="oac_no_warn" dir="ltr">帮助[ <span class="italic">命令</span> ]</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACIADFA">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-97BD9A13-58FC-450F-93BF-C8B8C62D8DF5">java的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令类似于JDK <code class="codeph">java</code>命令。它调用类的静态<code class="codeph">main()</code>方法。它通过使用命令行界面或使用数据库驻留类来执行此操作，具体取决于<code class="codeph">runjava</code>模式的设置。在后一种情况下，该类必须先前已使用<code class="codeph">loadjava</code>工具加载。该命令提供了一种测试在数据库中运行的Java代码的便捷方法。特别是，该命令捕获异常并将类的标准输出和标准错误重定向到shell，后者与任何其他命令输出一样显示它们。标准输出的目标和在数据库中运行的Java类的标准错误是一个或多个数据库服务器进程跟踪文件，这些文件不方便并且可能需要<code class="codeph">DBA</code>权限才能读取。
                        </p>
                        <p><code class="codeph">runjava</code>模式<code class="codeph">off</code>的命令的语法是：</p><pre class="oac_no_warn" dir="ltr">java [-schema schema] class [arg1 ... argn]</pre><p>与命令的语法<code class="codeph">runjava</code>模式<code class="codeph">on</code>是：</p><pre class="oac_no_warn" dir="ltr">java [命令行选项]类[arg1 ... argn]</pre><p>其中，命令行选项可以是<a href="invoking-Java-methods.html#GUID-FC2894A1-87C3-4695-968E-A3E69344B353__CACBBFHC" title="表">表3-1中</a>提到的任何选项。
                        </p>
                        <p>下表总结了此命令的参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACHIFJJ">
                        <p class="titleintable">表13-6 java参数摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="java参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d54449e1321">争论</th>
                                 <th align="left" valign="bottom" width="69%" id="d54449e1324">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1329" headers="d54449e1321 ">
                                    <p><span class="italic"><code class="codeph">类</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1329 d54449e1324 ">
                                    <p>命名要运行的Java类架构对象。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1338" headers="d54449e1321 ">
                                    <p><code class="codeph">-schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1338 d54449e1324 ">
                                    <p>命名包含要运行的类的模式。默认是调用者的架构。架构名称区分大小写。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1346" headers="d54449e1321 ">
                                    <p><span class="italic"><code class="codeph">arg1</code></span> <code class="codeph">...</code> <span class="italic"><code class="codeph">argn</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1346 d54449e1324 ">
                                    <p>类的<code class="codeph">static main()</code>方法的参数。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>请考虑以下Java文件<code class="codeph">World.java</code> ：</p><pre class="oac_no_warn" dir="ltr">包你好; public class World {public World（）{super（）; public static void main（String [] argv）{System.out.println（“来自Oracle数据库的Hello”）; if（argv.length！= 0）System.out.println（“你提供”+ argv.length +“arguments：”）; for（int i = 0; i &lt;argv.length; i ++）System.out.println（“arg [”+ i +“]：”+ argv [i]）; }}</pre><p>您可以编译，加载，发布和运行该类，如下所示：</p><pre class="oac_no_warn" dir="ltr">％javac hello / World.java％loadjava -r -user HR @ localhost：2481：orcl hello / World.class密码：password％ojvmjava -user HR -database localhost：2481：orcl密码： <span class="italic">password</span> $ java hello。来自Oracle数据库的World alpha beta Hello您提供了2个参数：arg [0]：alpha arg [1]：beta</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACIGFJF">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-B1045684-8722-4C00-B959-9A0B9B60EEC2">版</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令显示<code class="codeph">ojvmjava</code>工具的版本。您还可以显示指定命令的版本。该命令的语法是：</p><pre class="oac_no_warn" dir="ltr">版本[选项] [ <span class="italic">命令</span> ]</pre><p>例如，您可以显示shell的版本，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ 1.0版</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACEAEJH">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-4DD3ACFD-6B59-412F-ACAE-75837B8CEA0C">我是谁</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令显示登录到当前会话的用户的用户名。该命令的语法是：</p><pre class="oac_no_warn" dir="ltr">我是谁</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACDAEDH">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-9C87CBF8-B741-4203-97B5-22CD00D32DEB">连</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令使客户端可以删除当前连接并连接到不同的数据库，而无需使用不同的连接描述重新调用<code class="codeph">ojvmjava</code>工具。
                        </p>
                        <p>该命令的语法是：</p><pre class="oac_no_warn" dir="ltr">connect [-service <span class="italic">service</span> ] [-user <span class="italic">user</span> ] [ - 密码<span class="italic">密码</span> ]</pre><p>您可以使用此命令，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">connect -s thin @ locahost：5521：orcl -u HR / <span class="italic">&lt;password&gt;</span> connect -s oci @ locahost：5521：orcl -u HR -p <span class="italic">&lt;password&gt;</span>
</pre><p>下表总结了此命令的参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACFGFDJ">
                        <p class="titleintable">表13-7连接参数摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="连接参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d54449e1448">争论</th>
                                 <th align="left" valign="bottom" width="69%" id="d54449e1451">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1456" headers="d54449e1448 ">
                                    <p>- 服务| -s</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1456 d54449e1451 ">
                                    <p>任何有效的JDBC驱动程序URL，即oci @ &lt;连接描述符&gt;和瘦@ &lt;host：port：db&gt;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1463" headers="d54449e1448 ">
                                    <p><code class="codeph">- 用户| -u</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1463 d54449e1451 ">
                                    <p>用户连接为</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1471" headers="d54449e1448 ">
                                    <p>-password | -p</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1471 d54449e1451 ">
                                    <p>要连接的密码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACCGCAD">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-ABC7C833-93FB-4B1E-A5BA-2ED41628E436">runjava</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令查询或修改<code class="codeph">runjava</code>模式。<code class="codeph">runjav</code>模式确定<code class="codeph">java</code>命令是否使用命令行界面来运行可执行文件。<code class="codeph">java</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用命令一样的界面时<code class="codeph">runjava</code>模式是<code class="codeph">on</code></p>
                           </li>
                           <li>
                              <p>当<code class="codeph">runjava</code>模式<code class="codeph">off</code>时，使用数据库驻留可执行文件</p>
                           </li>
                        </ul>
                        <p>使用不带参数的<code class="codeph">runjava</code>命令会显示<code class="codeph">runjava</code>模式的当前设置。
                        </p>
                        <p>下表总结了此命令的参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACCHBJH">
                        <p class="titleintable">表13-8 runjava参数摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="runjava参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d54449e1532">争论</th>
                                 <th align="left" valign="bottom" width="69%" id="d54449e1535">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1540" headers="d54449e1532 ">
                                    <p><code class="codeph">离</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1540 d54449e1535 ">
                                    <p>关闭<code class="codeph">runjava</code>模式。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1551" headers="d54449e1532 ">
                                    <p><code class="codeph">上</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1551 d54449e1535 ">
                                    <p>打开<code class="codeph">runjava</code>模式。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1562" headers="d54449e1532 ">
                                    <p><code class="codeph">server_file_system</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1562 d54449e1535 ">
                                    <p>打开<code class="codeph">runjava</code>模式。使用此选项意味着<code class="codeph">-classpath</code>术语位于运行Oracle服务器的计算机的文件系统上。否则，它们被解释为在运行<code class="codeph">ojvmjava</code>工具的机器的文件系统上。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACCFIGC">
                        <p class="subhead3" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-EEB1E6AF-47CD-4F8C-A316-B9F21FB9D09D">JDWP</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此命令查询或修改Java命令运行可执行文件时是否以及如何侦听调试器连接。</p>
                        <div class="infoboxnote" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__GUID-E8368C43-BEBC-4F47-9694-D4B3E7BFCD53">
                           <p class="notep1">注意：</p>
                           <p>在启动可执行文件之前，RDBMS会话使用指定的端口和主机执行<code class="codeph">DBMS_DEBUG_JDWP.CONNECT_TCP</code>调用。这叫做<span class="bold">听力。</span></p>
                        </div>
                        <p>使用不带参数的此命令将显示当前设置。</p>
                        <p>下表总结了此命令的参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EABC5630-4CAF-4119-A1DD-A39C4DDA004C__CACFHIAD">
                        <p class="titleintable">表13-9 jdwp参数摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="jdwp参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d54449e1607">争论</th>
                                 <th align="left" valign="bottom" width="69%" id="d54449e1610">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1615" headers="d54449e1607 ">
                                    <p>离</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1615 d54449e1610 ">
                                    <p>在未来的可执行文件中停止侦听。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1622" headers="d54449e1607 ">
                                    <p><code class="codeph">港口</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1622 d54449e1610 ">
                                    <p>启用侦听并指定要使用的端口。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d54449e1630" headers="d54449e1607 ">
                                    <p>主办</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d54449e1630 d54449e1610 ">
                                    <p>启用侦听并指定要使用的主机。此参数的默认值为<code class="codeph">localhost.</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>