<html id="10308.ALTER-INDEX.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>改变指数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-HIERARCHY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-INDEXTYPE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-HIERARCHY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALTER-INDEXTYPE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html" property="item" typeof="WebPage"><span property="name">SQL语句：管理密钥管理到ALTER JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">改变指数</li>
            </ol>
            <a id="GUID-D8F648E7-8C07-4C89-BB71-862512536558" name="GUID-D8F648E7-8C07-4C89-BB71-862512536558"></a><a id="SQLRF52716"></a><a id="SQLRF52717"></a><a id="SQLRF52718"></a><a id="SQLRF52719"></a><a id="SQLRF52720"></a><a id="SQLRF52721"></a><a id="SQLRF52722"></a><a id="SQLRF55836"></a><a id="SQLRF52723"></a><a id="SQLRF52724"></a><a id="SQLRF56852"></a><a id="SQLRF56853"></a><a id="SQLRF52725"></a><a id="SQLRF52726"></a><a id="SQLRF52727"></a><a id="SQLRF52728"></a><a id="SQLRF52729"></a><a id="SQLRF52730"></a><a id="SQLRF52731"></a><a id="SQLRF52732"></a><a id="SQLRF52733"></a><a id="SQLRF52734"></a><a id="SQLRF52735"></a><a id="SQLRF52736"></a><a id="SQLRF52737"></a><a id="SQLRF52738"></a><a id="SQLRF52739"></a><a id="SQLRF52740"></a><a id="SQLRF52741"></a><a id="SQLRF52742"></a><a id="SQLRF52743"></a><a id="SQLRF52744"></a><a id="SQLRF52745"></a><a id="SQLRF52746"></a><a id="SQLRF52747"></a><a id="SQLRF52748"></a><a id="SQLRF52749"></a><a id="SQLRF52750"></a><a id="SQLRF52751"></a><a id="SQLRF52752"></a><a id="SQLRF56160"></a><a id="SQLRF52753"></a><a id="SQLRF52754"></a><a id="SQLRF52755"></a><a id="SQLRF52756"></a><a id="SQLRF52757"></a><a id="SQLRF52758"></a><a id="SQLRF52759"></a><a id="SQLRF52760"></a><a id="SQLRF52761"></a><a id="SQLRF52762"></a><a id="SQLRF52763"></a><a id="SQLRF56993"></a><a id="SQLRF52766"></a><a id="SQLRF52767"></a><a id="SQLRF52768"></a><a id="SQLRF52769"></a><a id="SQLRF52770"></a><a id="SQLRF52771"></a><a id="SQLRF52772"></a><a id="SQLRF52773"></a><a id="SQLRF52774"></a><a id="SQLRF52775"></a><a id="SQLRF52776"></a><a id="SQLRF52777"></a><a id="SQLRF55624"></a><a id="SQLRF52778"></a><a id="SQLRF52779"></a><a id="SQLRF52780"></a><a id="SQLRF52781"></a><a id="SQLRF52782"></a><a id="SQLRF56109"></a><a id="SQLRF52783"></a><a id="SQLRF52784"></a><a id="SQLRF52785"></a><a id="SQLRF52786"></a><a id="SQLRF52787"></a><a id="SQLRF52788"></a><a id="SQLRF52789"></a><a id="SQLRF52790"></a><a id="SQLRF52791"></a><a id="SQLRF52792"></a><a id="SQLRF52793"></a><a id="SQLRF52794"></a><a id="SQLRF52795"></a><a id="SQLRF52796"></a><a id="SQLRF52797"></a><a id="SQLRF56163"></a><a id="SQLRF52798"></a><a id="SQLRF52799"></a><a id="SQLRF52800"></a><a id="SQLRF52801"></a><a id="SQLRF52802"></a><a id="SQLRF52803"></a><a id="SQLRF52804"></a><a id="SQLRF52805"></a><a id="SQLRF52806"></a><a id="SQLRF52807"></a><a id="SQLRF52808"></a><a id="SQLRF52809"></a><a id="SQLRF52810"></a><a id="SQLRF52811"></a><a id="SQLRF52812"></a><a id="SQLRF52813"></a><a id="SQLRF52814"></a><a id="SQLRF52815"></a><a id="SQLRF52816"></a><a id="SQLRF52817"></a><a id="SQLRF52818"></a><a id="SQLRF52819"></a><a id="SQLRF52820"></a><a id="SQLRF52821"></a><a id="SQLRF00805"></a>
            
            <h2 id="SQLRF-GUID-D8F648E7-8C07-4C89-BB71-862512536558" class="sect2">改变指数</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-740CB8A0-28A5-4F8C-8A9B-1585BBF09895">目的</p>
                  <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句更改或重建现有索引。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-1FAA7BD8-5B56-4A01-8EF0-CE4FB0D99131">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a>有关创建<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">索引</a>的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-426C6B4D-600A-4515-BAB1-FA97D18CF993">先决条件</p>
                  <p>索引必须位于您自己的架构中，或者您必须具有<code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">INDEX</code>系统特权。
                  </p>
                  <p>要执行<code class="codeph">MONITORING</code> <code class="codeph">USAGE</code>子句，索引必须位于您自己的架构中。
                  </p>
                  <p>要修改域索引，必须对索引的索引类型具有<code class="codeph">EXECUTE</code>对象特权。
                  </p>
                  <p>在父索引上授予对象特权，而不是在单个索引分区或子分区上授予对象特权。</p>
                  <p>您必须具有表空间配额才能修改，重建或拆分索引分区，或者修改或重建索引子分区。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7873C706-963F-4D2B-AE76-3E87586A66CC">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C93A0A41-253C-4657-AD89-87D589D955BE"><span class="italic">alter_index</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-415EB846-4797-4185-9B8C-4BF61D6EC75A"><img src="img/alter_index.gif" alt="alter_index.eps的描述如下" title="alter_index.eps的描述如下" longdesc="img_text/alter_index.html"><br><a href="img_text/alter_index.html">说明alter_index.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFECBA">shrink_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">partial_index_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEJJJJ">rebuild_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128532">alter_index_partitioning :: =</a></span> ）</p>
                  <p>（ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank">Oracle数据库数据盒开发人员指南</a>中记录了<span class="italic"><code class="codeph">ODCI_parameters</code></span> 。）
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E0029607-3CBD-4DE8-9D87-4D9541DC977B"><span class="italic">deallocate_unused_clause</span> :: =</p><a id="d224930e702" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-627AB914-1391-4B6F-BBAC-41C99DCBC6B8"><img src="img/deallocate_unused_clause.gif" alt="deallocate_unused_clause.eps的描述如下" title="deallocate_unused_clause.eps的描述如下" longdesc="img_text/deallocate_unused_clause.html"><br><a href="img_text/deallocate_unused_clause.html">deallocate_unused_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BFEA6B10-FAD1-45BF-8981-5D5DFB05A77E"><span class="italic">allocate_extent_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-3E25058D-98AA-4BD5-BBD7-615100FB9BE6"><img src="img/allocate_extent_clause.gif" alt="allocate_extent_clause.eps的描述如下" title="allocate_extent_clause.eps的描述如下" longdesc="img_text/allocate_extent_clause.html"><br><a href="img_text/allocate_extent_clause.html">allocate_extent_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFECBA">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78FBE59F-218E-47D6-9FED-670D30C60C21"><span class="italic">shrink_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-666BBF2C-0AEC-4E83-9E91-D210B8FCF8B9"><img src="img/shrink_clause.gif" alt="shrink_clause.eps的描述如下" title="shrink_clause.eps的描述如下" longdesc="img_text/shrink_clause.html"><br><a href="img_text/shrink_clause.html">说明shrink_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8DE43B8F-41F7-42D1-969C-8F415BCDDC56"><span class="italic">parallel_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7DEB2B0A-B1E5-4EAA-8F3F-B3BCA66CDEFA"><img src="img/parallel_clause.gif" alt="parallel_clause.eps的描述如下" title="parallel_clause.eps的描述如下" longdesc="img_text/parallel_clause.html"><br><a href="img_text/parallel_clause.html">parallel_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0D349A53-21D9-4232-961B-D04721448AF6"><span class="italic">physical_attributes_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D2997C11-A9E2-4743-AF59-2F87A7139F30"><img src="img/physical_attributes_clause.gif" alt="physical_attributes_clause.eps的描述如下" title="physical_attributes_clause.eps的描述如下" longdesc="img_text/physical_attributes_clause.html"><br><a href="img_text/physical_attributes_clause.html">physical_attributes_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-FA111AC2-6949-4CDE-857D-1B819BB5D247"><span class="italic">logging_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BEFAA525-46E7-45DE-85B4-EA0E166095CE"><img src="img/logging_clause.gif" alt="logging_clause.eps的描述如下" title="logging_clause.eps的描述如下" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">说明logging_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7BEEDC99-BCB9-40FE-ADD7-87CF5746A61D"><span class="italic">partial_index_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-31E950BA-8D66-4E75-B534-29F17C6129E8"><img src="img/partial_index_clause.gif" alt="下面是partial_index_clause.eps的描述" title="下面是partial_index_clause.eps的描述" longdesc="img_text/partial_index_clause.html"><br><a href="img_text/partial_index_clause.html">partial_index_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEJJJJ">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C7474A9B-866B-41F2-ACC1-AA439303C313"><span class="italic">rebuild_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D37D4052-57A9-4153-ABB5-493C08F8CB3C"><img src="img/rebuild_clause.gif" alt="rebuild_clause.eps的描述如下" title="rebuild_clause.eps的描述如下" longdesc="img_text/rebuild_clause.html"><br><a href="img_text/rebuild_clause.html">说明rebuild_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression :: =</a></span> ， <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">partial_index_clause :: =</a></span> ）</p>
                  <p>（ <a href="../addci/using-extensible-indexing.html#ADDCI270" target="_blank">Oracle数据库数据盒开发人员指南</a>中记录了<span class="italic"><code class="codeph">ODCI_parameters</code></span> 。<span class="italic"><code class="codeph">XMLIndex_parameters_clause</code></span>在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADXDB0500" target="_blank"><span class="italic">Oracle XML DB Developer's Guide中有记录</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F81C98FB-9A33-4793-A8D9-F07267609567"><span class="italic">index_compression</span> :: =</p><a id="d224930e830" class="indexterm-anchor"></a><a id="d224930e834" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-855AB43E-35CA-4872-B57A-F4127CB572EC"><img src="img/index_compression.gif" alt="下面是index_compression.eps的描述" title="下面是index_compression.eps的描述" longdesc="img_text/index_compression.html"><br><a href="img_text/index_compression.html">说明index_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9CE86A40-2D0E-4AAE-BF88-B80F51B180A6"><span class="italic">prefix_compression</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A6CE1C75-EBEC-4D3E-A262-7F2DFA6C4BC7"><img src="img/prefix_compression.gif" alt="前面是prefix_compression.eps的描述" title="前面是prefix_compression.eps的描述" longdesc="img_text/prefix_compression.html"><br><a href="img_text/prefix_compression.html">说明prefix_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E68090A5-7DC6-43CC-91AC-6F22DFE74A29"><span class="italic">advanced_index_compression</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-13A23F0E-12D1-42D7-B31F-87CA195C59B5"><img src="img/advanced_index_compression.gif" alt="下面是advanced_index_compression.eps的说明" title="下面是advanced_index_compression.eps的说明" longdesc="img_text/advanced_index_compression.html"><br><a href="img_text/advanced_index_compression.html">说明advanced_index_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128532">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9007079A-2738-4B32-BA9B-5A546BB5C790"><span class="italic">alter_index_partitioning</span> :: =</p><a id="d224930e862" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A5ECDAD1-A818-4A69-A8C8-693C55D89D7E"><img src="img/alter_index_partitioning.gif" alt="alter_index_partitioning.eps的描述如下" title="alter_index_partitioning.eps的描述如下" longdesc="img_text/alter_index_partitioning.html"><br><a href="img_text/alter_index_partitioning.html">说明alter_index_partitioning.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2129868">modify_index_default_attrs :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEAJJI">add_hash_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGECEJHE">modify_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFBIII">rename_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDHDBA">drop_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEHAAIB">split_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBFHBI">coalesce_index_partition :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128786">modify_index_subpartition :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2129868">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-04E378B7-7780-4E1F-8B74-6D62385D5A48"><span class="italic">modify_index_default_attrs</span> :: =</p><a id="d224930e911" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-04B0EFFF-4AFE-4416-A245-191515067F15"><img src="img/modify_index_default_attrs.gif" alt="下面是对modify_index_default_attrs.eps的描述" title="下面是对modify_index_default_attrs.eps的描述" longdesc="img_text/modify_index_default_attrs.html"><br><a href="img_text/modify_index_default_attrs.html">说明modify_index_default_attrs.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEAJJI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-90650BC4-0ACF-4F6C-A626-661E853A2658"><span class="italic">add_hash_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78427D34-E015-4526-9D8D-FDABBB2DAC4F"><img src="img/add_hash_index_partition.gif" alt="add_hash_index_partition.eps的描述如下" title="add_hash_index_partition.eps的描述如下" longdesc="img_text/add_hash_index_partition.html"><br><a href="img_text/add_hash_index_partition.html">插图说明add_hash_index_partition.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBFHBI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F482FD7A-A78B-4D2E-8D59-A4FBBCAAB49F"><span class="italic">coalesce_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-21A5C57E-3A51-4EE3-8762-D8EE3262E7DF"><img src="img/coalesce_index_partition.gif" alt="下面是coalesce_index_partition.eps的描述" title="下面是coalesce_index_partition.eps的描述" longdesc="img_text/coalesce_index_partition.html"><br><a href="img_text/coalesce_index_partition.html">coalesce_index_partition.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGECEJHE">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7C543CB8-CB29-4287-BF4F-D099BF330012"><span class="italic">modify_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-88ED96A8-D221-4420-92F9-7DBC17D400E7"><img src="img/modify_index_partition.gif" alt="下面是对modify_index_partition.eps的描述" title="下面是对modify_index_partition.eps的描述" longdesc="img_text/modify_index_partition.html"><br><a href="img_text/modify_index_partition.html">说明modify_index_partition.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFBIII">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7FF9A084-5B42-4F1C-91AA-BAB3D3F62CBA"><span class="italic">rename_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F7E3EC09-76E0-4CC2-A620-F11FD54F0F48"><img src="img/rename_index_partition.gif" alt="下面是rename_index_partition.eps的描述" title="下面是rename_index_partition.eps的描述" longdesc="img_text/rename_index_partition.html"><br><a href="img_text/rename_index_partition.html">说明rename_index_partition.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDHDBA">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-849DCE00-968E-4821-A191-2B8A1F3003CB"><span class="italic">drop_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-2A43479C-CDED-4768-BC2D-27B6F94F5756"><img src="img/drop_index_partition.gif" alt="drop_index_partition.eps的描述如下" title="drop_index_partition.eps的描述如下" longdesc="img_text/drop_index_partition.html"><br><a href="img_text/drop_index_partition.html">插图说明drop_index_partition.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEHAAIB">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-154D6748-AA0F-4B18-BACB-1219A727311B"><span class="italic">split_index_partition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-83901B60-AC64-4A64-8C73-56DC6CE1D5E2"><img src="img/split_index_partition.gif" alt="下面是split_index_partition.eps的描述" title="下面是split_index_partition.eps的描述" longdesc="img_text/split_index_partition.html"><br><a href="img_text/split_index_partition.html">说明split_index_partition.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6CBFF768-2CD0-4BF8-9988-61FE2D01ACEE"><span class="italic">index_partition_description</span> :: =</p><a id="d224930e1026" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-06CB1A79-4109-4148-B338-AAE6AE2C143D"><img src="img/index_partition_description.gif" alt="下面是index_partition_description.eps的描述" title="下面是index_partition_description.eps的描述" longdesc="img_text/index_partition_description.html"><br><a href="img_text/index_partition_description.html">说明index_partition_description.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBDJGG">segment_attributes_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression :: =</a></span> ）</p>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B15ADBF8-6BEC-4F69-B3A6-0C847B9C0DD6">
                     <p class="notep1">注意：</p>
                     <p>该<code class="codeph">USABLE</code>和<code class="codeph">UNUSABLE</code>当关键字不支持<span class="italic"><code class="codeph">index_partition_description</code></span>为指定<span class="italic"><code class="codeph">split_index_partition</code></span>条款。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBDJGG">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5DE4EF3D-AF24-4C42-99EE-E928632E3D2F"><span class="italic">segment_attributes_clause</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-FAAB51F8-3996-40FD-993F-6F9BE72204E4"><img src="img/segment_attributes_clause.gif" alt="下面是segment_attributes_clause.eps的描述" title="下面是segment_attributes_clause.eps的描述" longdesc="img_text/segment_attributes_clause.html"><br><a href="img_text/segment_attributes_clause.html">段落描述segment_attributes_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause :: =</a></span> ， <code class="codeph">TABLESPACE</code> <code class="codeph">SET</code> ：不支持<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ， <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128786">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5FF9C311-A39A-4BD5-BE55-4AE8811F79B5"><span class="italic">modify_index_subpartition</span> :: =</p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6170302F-B2F8-4691-AB41-1D646204AE8F"><img src="img/modify_index_subpartition.gif" alt="下面是对modify_index_subpartition.eps的描述" title="下面是对modify_index_subpartition.eps的描述" longdesc="img_text/modify_index_subpartition.html"><br><a href="img_text/modify_index_subpartition.html">说明modify_index_subpartition.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause :: =</a></span> ， <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C50585E1-2B0B-4751-8EA9-566E187F3BB7">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D432B7D8-264C-4BDA-A84A-F233ED30F01D"><span class="italic">模式</span></p>
                  <p>指定包含索引的架构。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库假定索引位于您自己的模式中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-84BEB81F-D9A8-4018-B05A-07FE8B97776D"><span class="italic">指数</span></p>
                  <p>指定要更改的索引的名称。</p>
                  <p><span class="bold">修改索引的限制</span></p>
                  <p>索引的修改受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果<span class="italic"><code class="codeph">index</code></span>是域索引，则只能指定<code class="codeph">PARAMETERS</code>子句， <code class="codeph">RENAME</code>子句， <span class="italic"><code class="codeph">rebuild_clause</code></span> （带或不带<code class="codeph">PARAMETERS</code>子句）， <span class="italic"><code class="codeph">parallel_clause</code></span>或<code class="codeph">UNUSABLE</code>子句。没有其他条款有效。
                        </p>
                     </li>
                     <li>
                        <p>您无法更改或重命名标记为<code class="codeph">LOADING</code>或<code class="codeph">FAILED</code>的域索引。如果索引标记为<code class="codeph">FAILED</code> ，那么您可以指定的唯一子句是<code class="codeph">REBUILD</code> 。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-CDF07A2A-DB8D-4BC6-86DE-1A15A50656C7">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a> ，了解有关域索引的<code class="codeph">LOADING</code>和<code class="codeph">FAILED</code>状态的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-69E3B8C7-3150-4531-966A-966FA3E24EE6"><span class="italic">deallocate_unused_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">deallocate_unused_clause</code></span>显式释放索引末尾的未使用空间，并使释放的空间可用于表空间中的其他段。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">index</code></span>是范围分区或散列分区，则Oracle数据库会从每个索引分区中释放未使用的空间。如果<span class="italic"><code class="codeph">index</code></span>是复合分区表上的本地索引，则Oracle数据库会从每个索引子分区中释放未使用的空间。
                  </p>
                  <p><span class="bold">解除分配空间的限制</span></p>
                  <p>空间的重新分配受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为临时表上的索引指定此子句。</p>
                     </li>
                     <li>
                        <p>您不能指定此子句并指定<span class="italic"><code class="codeph">rebuild_clause</code></span> 。
                        </p>
                     </li>
                  </ul>
                  <p>有关此子句的完整说明，请参阅<span class="italic"><a href="deallocate_unused_clause.html#GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF">deallocate_unused_clause</a></span> 。
                  </p>
                  <p><span class="bold">保持</span> <span class="bold"><span class="italic">整数</span></span></p>
                  <p><code class="codeph">KEEP</code>子句允许您指定在重新分配后索引将具有的高水位线之上的字节数。如果剩余范围的数量小于<code class="codeph">MINEXTENTS</code> ，则将<code class="codeph">MINEXTENTS</code>设置为当前的范围数。如果初始范围变得小于<code class="codeph">INITIAL</code> ，则将<code class="codeph">INITIAL</code>设置为当前初始范围的值。如果省略<code class="codeph">KEEP</code> ，则释放所有未使用的空间。
                  </p>
                  <p>有关此子句的完整说明，请参阅<a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-079AA05A-AE4D-44B7-8F95-92D5803F9DF4"><span class="italic">allocate_extent_clause</span></p>
                  <p><span class="italic"><code class="codeph">allocate_extent_clause</code></span>允许您为索引显式分配新范围。对于散列分区表上的本地索引，Oracle数据库为索引的每个分区分配新的扩展区。
                  </p>
                  <p><span class="bold">限制分配范围</span></p>
                  <p>您不能为临时表或范围分区或复合分区索引的索引指定此子句。</p>
                  <p>有关此子句的完整说明，请参阅<span class="italic"><a href="allocate_extent_clause.html#GUID-DA6B3DC2-84B5-4404-AD96-5ABF7341580F">allocate_extent_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-4533D46C-2F6C-45E9-8D70-2BB0FD139189"><span class="italic">shrink_clause</span></p>
                  <p><a id="d224930e1291" class="indexterm-anchor"></a><a id="d224930e1295" class="indexterm-anchor"></a>使用此子句压缩索引段。指定<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...<code class="codeph">SHRINK</code> <code class="codeph">SPACE</code> <code class="codeph">COMPACT</code>相当于指定<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ......<code class="codeph">COALESCE</code> 。</p>
                  <p>有关此子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__I2192484">shrink_clause</a></span> 。</p>
                  <p>缩小指数段的限制</p>
                  <p>您不能为位图连接索引或基于函数的索引指定此子句。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-2742F7F5-DD2C-4918-A466-E16BB5E2D323"><span class="italic">parallel_clause</span></p>
                  <p>使用<code class="codeph">PARALLEL</code>子句更改查询的默认并行度和索引上的DML。
                  </p>
                  <p><span class="bold">并行索引的限制</span></p>
                  <p>您不能为临时表上的索引指定此子句。</p>
                  <p>有关此子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> 。</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5888D769-E237-47F7-B507-275F4A0FD2FE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135988">启用并行查询：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-290B10A4-B1D6-46C7-AFD6-466271377DBB"><span class="italic">physical_attributes_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">physical_attributes_clause</code></span>更改非分区索引的参数值，分区索引的所有分区和子分区，指定分区或指定分区的所有子分区。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0C3C2EE2-8554-4901-9ABC-013F3D1E52C6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE中</a>的物理属性参数</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135975">修改实际索引属性：示例</a> ”</span>和<span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136067">更改MAXEXTENTS：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">索引物理属性的限制</span></p>
                  <p>索引物理属性受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为临时表上的索引指定此子句。</p>
                     </li>
                     <li>
                        <p>更改索引时，根本无法指定<code class="codeph">PCTUSED</code>参数。
                        </p>
                     </li>
                     <li>
                        <p>您只能将<code class="codeph">PCTFREE</code>参数指定为<span class="italic"><code class="codeph">rebuild_clause</code></span> ， <span class="italic"><code class="codeph">modify_index_default_attrs</code></span>子句或<span class="italic"><code class="codeph">split_index_partition</code></span>子句的一部分。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6C8AAE7E-1D2A-407B-9D99-B114D50BD153"><span class="italic">storage_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">storage_clause</code></span>更改未分区索引，索引分区或分区索引的所有分区的存储参数，或者为分区索引更改这些参数的默认值。有关此子句的完整信息，请参阅<span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393__I1026834">storage_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-96722D70-DDF6-498D-B9AA-2FE95928C6EE"><span class="italic">logging_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">logging_clause</code></span>更改索引的日志记录属性。如果还指定了<code class="codeph">REBUILD</code>子句，则此新设置会影响重建操作。如果为登录<code class="codeph">REBUILD</code>子句指定了其他值，则Oracle数据库将使用指定为索引和重建操作的日志记录属性的最后一个日志记录值。
                  </p>
                  <p>索引段可以具有与基表的记录属性不同的记录属性，并且与同一基表的其他索引段的记录属性不同。</p>
                  <p><span class="bold">对索引记录的限制</span></p>
                  <p>您不能为临时表上的索引指定此子句。</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-EAF66080-3F54-4222-AFDB-0881082A799C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span>获取此子句的完整描述</p>
                        </li>
                        <li>
                           <p>有关并行DML的更多信息<a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5576D866-7F06-4DDC-BB80-D4E996BBEC55"><span class="italic">partial_index_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">partial_index_clause</code></span>将索引更改为完整索引或部分索引。指定<code class="codeph">INDEXING</code> <code class="codeph">FULL</code>将<code class="codeph">INDEXING</code>更改为完整索引。指定<code class="codeph">INDEXING</code> <code class="codeph">PARTIAL</code>以将索引更改为部分索引。此子句仅对分区表上的索引有效。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>的<span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGEBGEAH">partial_index_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8DEC49CD-9B5B-4292-B9EC-0105C237CF08">可恢复| UNRECOVERABLE</p>
                  <p><a id="d224930e1523" class="indexterm-anchor"></a><a id="d224930e1525" class="indexterm-anchor"></a><a id="d224930e1529" class="indexterm-anchor"></a><a id="d224930e1531" class="indexterm-anchor"></a>这些关键字已弃用，已分别替换为<code class="codeph">LOGGING</code>和<code class="codeph">NOLOGGING</code> 。虽然支持<code class="codeph">RECOVERABLE</code>和<code class="codeph">UNRECOVERABLE</code>以实现向后兼容性，但Oracle强烈建议您使用<code class="codeph">LOGGING</code>和<code class="codeph">NOLOGGING</code>关键字。
                  </p>
                  <p><code class="codeph">RECOVERABLE</code>不是用于创建分区表或LOB存储特征的有效关键字。<code class="codeph">UNRECOVERABLE</code>不是用于创建分区或索引组织表的有效关键字。此外，只能使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>的<code class="codeph">AS</code>子查询子句指定它。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-661B504B-464A-481C-8356-27ABCE58D4E6"><span class="italic">rebuild_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">rebuild_clause</code></span>重新创建现有索引或其分区或子分区之一。如果index标记为<code class="codeph">UNUSABLE</code> ，则成功重建将标记为<code class="codeph">USABLE</code> 。对于基于函数的索引，此子句还启用索引。如果索引所基于的函数不存在，则rebuild语句将失败。
                  </p>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5DBA01D6-8586-4179-80D6-5241189353CD">
                     <p class="notep1">注意：</p>
                     <p>重建索引组织表的二级索引时，Oracle数据库会在创建索引时保留逻辑rowid中包含的主键列。因此，如果在<code class="codeph">COMPATIBLE</code>初始化参数设置为小于10.0.0的情况下创建索引，则重建的索引将包含索引键以及表中不在索引键中的任何主键列。如果在<code class="codeph">COMPATIBLE</code>初始化参数设置为10.0.0或更高版本的情况下创建索引，则重建的索引将包含索引键和表的所有主键列，包括索引键中的那些列。
                     </p>
                  </div>
                  <p><span class="bold">重建索引的限制</span></p>
                  <p>索引的重建受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法在临时表上重建索引。</p>
                     </li>
                     <li>
                        <p>您无法重建标记为<code class="codeph">INVALID</code>的位图索引。相反，您必须删除然后重新创建它。
                        </p>
                     </li>
                     <li>
                        <p>您无法重建整个分区索引。您必须重建每个分区或子分区，如<code class="codeph">PARTITION</code>子句所述。
                        </p>
                     </li>
                     <li>
                        <p>您不能在与<span class="italic"><code class="codeph">rebuild_clause</code></span>相同的语句中指定<span class="italic"><code class="codeph">deallocate_unused_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能更改索引的<code class="codeph">PCTFREE</code>参数值（ <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ）或分区（ <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...<code class="codeph">MODIFY</code> <code class="codeph">PARTITION</code> ）。您可以在<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句的所有其他形式中指定<code class="codeph">PCTFREE</code> 。
                        </p>
                     </li>
                     <li>
                        <p>对于域索引：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您只能指定<code class="codeph">PARAMETERS</code>子句（索引或索引的分区）或<span class="italic"><code class="codeph">parallel_clause</code></span> 。没有其他重建条款有效。
                              </p>
                           </li>
                           <li>
                              <p>仅当索引未标记为<code class="codeph">IN_PROGRESS</code>才能重建索引。</p>
                           </li>
                           <li>
                              <p>仅当索引未标记为<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code>且分区未标记为<code class="codeph">IN_PROGRESS</code>才能重建索引分区。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>您无法重建本地索引，但可以重建本地索引的分区（ <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...<code class="codeph">REBUILD</code> <code class="codeph">PARTITION</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>对于散列分区或子分区上的本地索引，您可以指定的唯一参数是<code class="codeph">TABLESPACE</code> 。</p>
                     </li>
                     <li>
                        <p>您无法重建用于强制执行可延迟唯一约束的联机索引。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-76227C4F-3D98-4B90-880F-B8AE41DE761F">分区条款</p>
                  <p><a id="d224930e1722" class="indexterm-anchor"></a>使用<code class="codeph">PARTITION</code>子句重建索引的一个分区。您还可以使用此子句将索引分区移动到另一个表空间或更改创建时物理属性。
                  </p>
                  <p>在不同块大小的表空间中存储分区数据库实体受到若干限制。有关这些限制的讨论，请参阅“ <a href="../vldbg/partition-create-tables-indexes.html#VLDBG00306" target="_blank"><span class="italic">Oracle数据库VLDB和分区指南”</span></a> 。
                  </p>
                  <p><span class="bold">重建分区的限制</span></p>
                  <p>您不能为复合分区表上的本地索引指定此子句。而是使用<code class="codeph">REBUILD</code> <code class="codeph">SUBPARTITION</code>子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-626EEE56-D8F7-4F65-8449-36D8CF1EE62C">
                     <p class="notep1">也可以看看：</p>
                     <p>有关分区维护操作和<span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136031">重建不可用索引分区：示例</a> ”的</span>详细信息<a href="../vldbg/partition-availability.html#VLDBG004" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南</span></a> <span class="q">”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-65BFF069-AA4E-4548-97C9-3DC942F43782">SUBPARTITION条款</p>
                  <p><a id="d224930e1762" class="indexterm-anchor"></a>使用<code class="codeph">SUBPARTITION</code>子句重建索引的一个子分区。您还可以使用此子句将索引子分区移动到另一个表空间。如果未指定<code class="codeph">TABLESPACE</code> ，则会在同一表空间中重建子分区。
                  </p>
                  <p>在不同块大小的表空间中存储分区数据库实体受到若干限制。有关这些限制的讨论，请参阅“ <a href="../vldbg/partition-create-tables-indexes.html#VLDBG00306" target="_blank"><span class="italic">Oracle数据库VLDB和分区指南”</span></a> 。
                  </p>
                  <p><span class="bold">修改索引子分区的限制</span></p>
                  <p>您可以为子分区指定的唯一参数是<code class="codeph">TABLESPACE</code> ， <code class="codeph">ONLINE</code>和<span class="italic"><code class="codeph">parallel_clause</code></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BD10A853-BC5E-401F-A15C-04F20841677B">REVERSE | NOREVERSE</p>
                  <p><a id="d224930e1799" class="indexterm-anchor"></a><a id="d224930e1803" class="indexterm-anchor"></a><a id="d224930e1807" class="indexterm-anchor"></a>指示索引块的字节是否以相反的顺序存储：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">REVERSE</code>以相反的顺序存储索引块的字节，并在重建索引时排除rowid。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NOREVERSE</code>存储索引块的字节，而不会在重建索引时反转顺序。在没有<code class="codeph">NOREVERSE</code>关键字的情况下重建<code class="codeph">REVERSE</code>索引会生成重建的反向键控索引。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">反向索引的限制</span></p>
                  <p>反向索引受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能反转位图索引或索引组织表。</p>
                     </li>
                     <li>
                        <p>您不能为分区或子分区指定<code class="codeph">REVERSE</code>或<code class="codeph">NOREVERSE</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-01625903-CEFB-4DF0-9AA0-E42DA7C8E834">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135935">以反向顺序存储索引块：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-82C24082-FBCD-48DD-85C2-F36C33C65D4D"><span class="italic">parallel_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">parallel_clause</code></span>来并行化索引的重建并更改索引本身的并行度。该指数所有后续操作将并行的由本条款规定的程度来执行，除非通过与后续数据定义语言（DDL）语句覆盖<span class="italic"><code class="codeph">parallel_clause</code></span> 。以下例外情况适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果在重建索引之前指定了<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">DISABLE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> ，则将按顺序重建索引，并将索引的并行度更改为1。
                        </p>
                     </li>
                     <li>
                        <p>如果在重建索引之前指定了<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> ，则索引将并行重建，并且索引的并行度将更改为<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句中指定的值，如果没有值，则为<code class="codeph">DEFAULT</code>指定。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B48C63F4-3B13-43B3-B3F9-BE845CE2179B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135962">并行重建索引：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E36BE130-634B-4DB7-AB75-DE6B565D101B">TABLESPACE条款</p>
                  <p><a id="d224930e1922" class="indexterm-anchor"></a><a id="d224930e1926" class="indexterm-anchor"></a><a id="d224930e1930" class="indexterm-anchor"></a><a id="d224930e1936" class="indexterm-anchor"></a>指定将存储重建索引，索引分区或索引子分区的表空间。默认值是索引或分区在重建之前所在的默认表空间。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F3E4A98B-B555-40A2-B053-0D17E1491169"><span class="italic">index_compression</span></p>
                  <p><a id="d224930e1949" class="indexterm-anchor"></a><a id="d224930e1953" class="indexterm-anchor"></a><a id="d224930e1957" class="indexterm-anchor"></a><a id="d224930e1961" class="indexterm-anchor"></a><a id="d224930e1965" class="indexterm-anchor"></a><a id="d224930e1969" class="indexterm-anchor"></a>使用<span class="italic"><code class="codeph">index_compression</code></span>子句为索引启用或禁用索引压缩。指定<span class="italic"><code class="codeph">prefix_compression</code></span>子句以启用或禁用索引的前缀压缩。指定<span class="italic"><code class="codeph">advanced_index_compression</code></span>子句以启用或禁用索引的高级索引压缩。
                  </p>
                  <p><span class="italic"><code class="codeph">index_compression</code></span>子句与<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>和<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>具有相同的语义。有关这些子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>文档中的<span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABHDBHE">index_compression</a></span> 。</p>
                  <p><span class="bold">在线条款</span></p>
                  <p>指定<code class="codeph">ONLINE</code>以在重建索引期间允许对表或分区执行DML操作。
                  </p>
                  <p><span class="bold">在线索引的限制</span></p>
                  <p>在线索引受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在线索引构建期间不支持并行DML。如果指定<code class="codeph">ONLINE</code>并随后发出并行DML语句，则Oracle数据库将返回错误。
                        </p>
                     </li>
                     <li>
                        <p>您不能为位图连接索引或群集索引指定<code class="codeph">ONLINE</code> 。
                        </p>
                     </li>
                     <li>
                        <p>对于索引组织表上的非唯一二级索引，索引键列的数量加上索引组织表中逻辑rowid中包含的主键列数不能超过32。逻辑rowid排除属于索引键的列。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A7A573BE-E8A0-4175-A5CC-7F5821E3C098"><span class="italic">logging_clause</span></p>
                  <p><a id="d224930e2050" class="indexterm-anchor"></a><a id="d224930e2054" class="indexterm-anchor"></a><a id="d224930e2058" class="indexterm-anchor"></a>指定是否<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...将记录<code class="codeph">REBUILD</code>操作。
                  </p>
                  <p>有关此子句的完整说明，请参阅<span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-DEB64043-250E-4C2F-9423-271C000B8ADB">参数条款</p>
                  <p><a id="d224930e2082" class="indexterm-anchor"></a><a id="d224930e2086" class="indexterm-anchor"></a>此子句仅对顶级<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句和<span class="italic"><code class="codeph">rebuild_clause</code></span>中的域索引有效。此子句指定未解释为适当的ODCI索引类型例程的参数字符串。
                  </p>
                  <p>参数字符串的最大长度为1000个字符。</p>
                  <p>如果要更改或重建整个索引，则该字符串必须引用索引级参数。如果要重建索引的分区，则该字符串必须引用分区级参数。</p>
                  <p>如果<span class="italic"><code class="codeph">index</code></span>被标记为<code class="codeph">UNUSABLE</code> ，那么仅修改参数并不能使其成为<code class="codeph">USABLE</code> 。您还必须重建<code class="codeph">UNUSABLE</code>索引以使其可用。
                  </p>
                  <p>如果已安装Oracle Text，则可以使用特定于该产品的参数重建Oracle Text域索引。有关这些参数的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=CCREF0101" target="_blank"><span class="italic">Oracle Text Reference</span></a> 。
                  </p>
                  <p><span class="bold">对PARAMETERS条款的限制</span></p>
                  <p>仅当<span class="italic"><code class="codeph">index</code></span>未标记为<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> ，没有索引分区标记为<code class="codeph">IN_PROGRESS</code>且正在修改的分区未标记为<code class="codeph">FAILED</code> ，才能修改索引分区。</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9820C8D6-BCB1-465B-B7DF-2D6B83C0F7D7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关域索引的索引类型例程的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank"><span class="italic">“Oracle数据库数据盒带开发人员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关域索引的更多信息，请参阅<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-654F1E47-E1E9-488B-9B0A-10C1B1A53AAF"><span class="italic">XMLIndex_parameters_clause</span></p>
                  <p>该子句仅对XMLIndex索引有效。此子句指定定义XMLIndex实现的参数字符串。</p>
                  <p>参数字符串的最大长度为1000个字符。</p>
                  <p>如果要更改或重建整个索引，则该字符串必须引用索引级参数。如果要重建索引的分区，则该字符串必须引用分区级参数。</p>
                  <p>如果<span class="italic"><code class="codeph">index</code></span>被标记为<code class="codeph">UNUSABLE</code> ，那么仅修改参数并不能使其成为<code class="codeph">USABLE</code> 。您还必须重建<code class="codeph">UNUSABLE</code>索引以使其可用。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-1785EE34-1391-41F4-9FC3-84869526A963">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADXDB0500" target="_blank"><span class="italic">Oracle XML DB信息开发人员指南</span></a>欲了解更多有关<code class="codeph">XMLIndex</code> ，包括语法和语义<span class="italic"><code class="codeph">XMLIndex_parameters_clause</code></span></p>
                  </div>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">XMLIndex_parameters_clause的</span></span> <span class="bold">限制</span></p>
                  <p>仅当<span class="italic"><code class="codeph">index</code></span>未标记为<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> ，没有索引分区标记为<code class="codeph">IN_PROGRESS</code>且正在修改的分区未标记为<code class="codeph">FAILED</code> ，才能修改索引分区。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__DEFERREDIMMEDIATEINVALIDATION-42A7C77E">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B34528C8-6BC3-4AD1-A111-6155C26AB9D2">{DEFERRED | IMMEDIATE}无效</p>
                  <p>此子句允许您控制数据库何时在重建索引时或在标记索引<code class="codeph">UNUSABLE</code>时使相关游标无效。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">DEFERRED</code> <code class="codeph">INVALIDATION</code> ，则数据库会尽可能避免或推迟使相关游标失效。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">IMMEDIATE</code> <code class="codeph">INVALIDATION</code> ，则数据库会立即使相关游标无效，就像在Oracle Database 12 <span class="italic">c</span>第1版（12.1）和之前的版本中一样。这是默认值。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则<code class="codeph">CURSOR_INVALIDATION</code>初始化参数的值将确定游标何时失效。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-675A045B-B924-4303-8258-D1DD830C30C1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关游标失效的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=TGSQL-GUID-E04CF45D-CC70-4122-9BAC-EAB5B4D0E17A" target="_blank"><span class="italic">参见“Oracle数据库SQL调整指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CURSOR_INVALIDATION</code>初始化参数的更多信息，请<code class="codeph">CURSOR_INVALIDATION</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-6BAB61E7-FABA-41D3-B73A-EB828A6767E5" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-83328F19-A02D-4E7C-9EDA-29A7AE9156E1">编译条款</p>
                  <p>使用此子句显式重新编译无效索引。对于域索引，当基础索引类型已更改为支持系统管理的域索引时，此子句非常有用，因此现有域索引已标记为<code class="codeph">INVALID</code> 。在这种情况下，此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句将域索引从用户管理的域索引迁移到系统管理的域索引。对于所有类型的索引，当通过<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句将索引标记为<code class="codeph">INVALID</code>时，此子句很有用。在这种情况下，此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句重新验证索引而不重建它。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A83186BE-5FD3-46A9-BE04-0383598471AD">
                     <p class="notep1">也可以看看：</p>
                     <p><code class="codeph">CREATE</code> <code class="codeph">INDEXTYPE</code> <span class="italic"><a href="CREATE-INDEXTYPE.html#GUID-4A7BD0EC-B3E5-4D1D-95C5-C8B52D01D8CE__BABEHBBD">storage_table_clause</a></span>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI290" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a> ，了解有关创建系统管理域索引的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-570E6AB1-F885-46CB-A9A4-1821713B525E">ENABLE条款</p>
                  <p><a id="d224930e2331" class="indexterm-anchor"></a><a id="d224930e2335" class="indexterm-anchor"></a> <code class="codeph">ENABLE</code>仅适用于已被禁用的基于函数的索引，可通过<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...<code class="codeph">DISABLE</code>语句，或者因为索引使用的用户定义函数被删除或替换。如果满足以下条件，则此子句启用此类索引：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>该功能目前有效。</p>
                     </li>
                     <li>
                        <p>创建索引时，当前函数的签名与函数的签名匹配。</p>
                     </li>
                     <li>
                        <p>该功能目前标记为<code class="codeph">DETERMINISTIC</code> 。</p>
                     </li>
                  </ul>
                  <p><span class="bold">启用基于功能的索引的限制</span></p>
                  <p><code class="codeph">ENABLE</code>条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在<code class="codeph">ENABLE</code>的同一语句中指定<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>任何其他子句。</p>
                     </li>
                     <li>
                        <p>您不能为临时表上的索引指定此子句。相反，您必须删除并重新创建索引。您可以使用<code class="codeph">DBMS_METADATA</code>包检索索引的创建DDL。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BCFADB41-950F-44F0-A095-7AEFD5FB46F1">禁用条款</p>
                  <p><a id="d224930e2395" class="indexterm-anchor"></a><a id="d224930e2399" class="indexterm-anchor"></a> <code class="codeph">DISABLE</code>仅适用于基于函数的索引。此子句允许您禁用基于函数的索引。您可能希望这样做，例如，在处理函数体时。之后，您可以重建索引或使用<code class="codeph">ENABLE</code>关键字指定另一个<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2160588">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A6009E21-D7A6-46D5-B3BC-6FF9D3443C34">有用| UNUSABLE</p>
                  <p><a id="d224930e2419" class="indexterm-anchor"></a><a id="d224930e2423" class="indexterm-anchor"></a><a id="d224930e2427" class="indexterm-anchor"></a><a id="d224930e2431" class="indexterm-anchor"></a><a id="d224930e2435" class="indexterm-anchor"></a><a id="d224930e2441" class="indexterm-anchor"></a>指定<code class="codeph">UNUSABLE</code>以标记索引或索引分区或索引子分区<code class="codeph">UNUSABLE</code> 。当对象标记为<code class="codeph">UNUSABLE</code>时，将立即释放为索引或索引分区或子分区分配的空间。必须先重建，删除和重新创建不可用的索引，然后才能使用它。虽然一个分区标记为<code class="codeph">UNUSABLE</code> ，但索引的其他分区仍然有效。如果语句不访问不可用的分区，则可以执行需要索引的语句。您还可以在重建之前拆分或重命名不可用的分区。请参阅<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> ...<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABCHJDH">有用|无法</a>获得更多信息。
                  </p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBEEHB"><span class="bold">线上</span></p>
                  <p>指定<code class="codeph">ONLINE</code>以指示在标记索引<code class="codeph">UNUSABLE</code>时将允许对表或分区执行DML操作。如果指定此子句，则数据库不会删除索引段。
                  </p>
                  <p><span class="bold">标记索引的限制无法使用</span></p>
                  <p>以下限制适用于标记索引不可用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为临时表上的索引指定<code class="codeph">UNUSABLE</code> 。
                        </p>
                     </li>
                     <li>
                        <p>在分区维护操作期间将全局索引标记为<code class="codeph">UNUSABLE</code>时，数据库不会删除不可用的索引段。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C283F88D-FBA3-4665-9364-5FAB371E716D">可见|无形</p>
                  <p><a id="d224930e2503" class="indexterm-anchor"></a>使用此子句指定索引对优化程序是可见还是不可见。有关此子句的完整说明，请参阅<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>中的<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABBCCAA">VISIBLE | INVISIBLE</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F5635712-7256-40D8-9BF6-AF42C5AC2EE4">重命名条款</p>
                  <p><a id="d224930e2522" class="indexterm-anchor"></a><a id="d224930e2526" class="indexterm-anchor"></a>使用此子句重命名索引。<span class="italic"><code class="codeph">new_index_name</code></span>是单个标识符，不包含模式名称。
                  </p>
                  <p><span class="bold">重命名索引的限制</span></p>
                  <p>对于域索引，既不<span class="italic"><code class="codeph">index</code></span>也没有任何分区<span class="italic"><code class="codeph">index</code></span>可以被标记<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78CEEB87-A7EE-48E7-A1F0-744F2AB54130">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136004">重命名索引：示例</a> ”</span> 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A55277AF-37F1-402C-B705-28AF170EA2D8">COALESCE条款</p>
                  <p><a id="d224930e2565" class="indexterm-anchor"></a><a id="d224930e2569" class="indexterm-anchor"></a>指定<code class="codeph">COALESCE</code>以指示Oracle数据库尽可能将索引块的内容合并到空闲块以供重用。
                  </p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJDBEA"><span class="bold">清理</span></p>
                  <p>指定<code class="codeph">CLEANUP</code>以删除先前由表分区维护操作删除或截断的记录的孤立索引条目。
                  </p>
                  <p>要确定索引是否包含孤立索引条目，可以查询<code class="codeph">USER_</code> ， <code class="codeph">DBA_</code> ， <code class="codeph">ALL_INDEXES</code>数据字典视图的<code class="codeph">ORPHANED_ENTRIES</code>列。有关更多信息，请参阅<a href="../refrn/ALL_INDEXES.html#REFRN20088" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                  </p>
                  <p><span class="bold"><span class="italic">parallel_clause</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">parallel_clause</code></span>指定是否并行化合并操作。
                  </p>
                  <p>有关此子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> 。</p>
                  <p><span class="bold">合并索引块的限制</span></p>
                  <p>索引块的合并受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为临时表上的索引指定此子句。</p>
                     </li>
                     <li>
                        <p>不要为索引组织表的主键索引指定此子句。而是使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>的<code class="codeph">COALESCE</code>子句。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-73450BAB-BA45-489B-A751-DA79558ADA0F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关空间管理和合并索引的详细信息，请参见<a href="../admin/managing-space-for-schema-objects.html#ADMIN014" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__CJAEDGDD">COALESCE条款</a>有关合并索引组织表的空间的信息</p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__I2192484">shrink_clause</a></span>用于压缩索引段的替代方法</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D1D308FA-301F-4A5C-B21E-165D64CF465C">监控使用情况|有意义的使用</p>
                  <p><a id="d224930e2672" class="indexterm-anchor"></a><a id="d224930e2676" class="indexterm-anchor"></a><a id="d224930e2680" class="indexterm-anchor"></a><a id="d224930e2684" class="indexterm-anchor"></a>使用此子句确定Oracle数据库是否应监视索引使用。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">MONITORING</code> <code class="codeph">USAGE</code>以开始监控索引。Oracle数据库首先清除有关索引使用的现有信息，然后监视索引以供使用，直到后续的<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...执行<code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code>语句。
                        </p>
                     </li>
                     <li>
                        <p>要终止对索引的监视，请指定<code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code> 。</p>
                     </li>
                  </ul>
                  <p>要查看自此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>以来是否已使用该<code class="codeph">INDEX</code> ...<code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code>发出声明，查询<code class="codeph">USED</code>的列<code class="codeph">USER_OBJECT_USAGE</code>数据字典视图。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0EF3606A-2B79-4F4A-9787-D8D3BD62E7B9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">USER_OBJECT_USAGE</code>数据字典视图的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN26958" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8E98AFF5-4BD5-4F96-AFA6-7FFDEFC44AF5">更新块参考条款</p>
                  <p><a id="d224930e2756" class="indexterm-anchor"></a><a id="d224930e2760" class="indexterm-anchor"></a> <code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code>子句仅对索引组织表上的普通索引和域索引有效。指定此子句以使用主键标识的相应块的正确数据库地址更新作为索引行的一部分存储的所有陈旧猜测数据块地址。
                  </p>
                  <p>对于域索引，Oracle数据库执行<code class="codeph">ODCIIndexAlter</code>例程，并将<code class="codeph">alter_option</code>参数设置为<code class="codeph">AlterIndexUpdBlockRefs</code> 。此例程使盒式代码能够更新索引中的陈旧猜测数据块地址。
                  </p>
                  <p><span class="bold">对更新块参考的限制</span></p>
                  <p>您不能将此子句与<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>任何其他子句组合使用。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B70ED4C9-83D5-434D-A7B0-430CC8E3F07E"><span class="italic">alter_index_partitioning</span></p>
                  <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句的分区子句仅对分区索引有效。
                  </p>
                  <p>在不同块大小的表空间中存储分区数据库实体受到若干限制。有关这些限制的讨论，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=VLDBG00306" target="_blank"><span class="italic">Oracle数据库VLDB和分区指南”</span></a> 。
                  </p>
                  <p><span class="bold">修改索引分区的限制</span></p>
                  <p>修改索引分区受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为临时表上的索引指定任何这些子句。</p>
                     </li>
                     <li>
                        <p>您可以将基本索引上的多个操作组合到一个<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句（ <code class="codeph">RENAME</code>和<code class="codeph">REBUILD</code>除外）中，但不能将分区操作与其他分区操作或基本索引上的操作组合在一起。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D7B17E89-EA4B-4CDB-B29A-C426EF9B51BA"><span class="italic">modify_index_default_attrs</span></p>
                  <p>为分区索引的默认属性指定新值。</p>
                  <p><span class="bold">修改分区默认属性的限制</span></p>
                  <p>您可以为散列分区的全局索引或散列分区表上的索引指定的唯一属性是<code class="codeph">TABLESPACE</code> 。</p>
                  <p><span class="bold">TABLESPACE</span></p>
                  <p>为索引的新分区或索引分区的子分区指定缺省表空间。</p>
                  <p><span class="bold"><span class="italic">logging_clause</span></span></p>
                  <p>指定分区索引或索引分区的缺省日志记录属性。</p>
                  <p>有关此子句的完整说明，请参阅<span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> 。
                  </p>
                  <p><span class="bold">为了分区</span></p>
                  <p>使用<code class="codeph">FOR</code> <code class="codeph">PARTITION</code>子句指定复合分区表上本地索引的分区的子分区的默认属性。
                  </p>
                  <p><span class="bold">对FOR PARTITION的限制</span></p>
                  <p>您不能为列表分区指定<code class="codeph">FOR</code> <code class="codeph">PARTITION</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78B755D2-923E-4CE1-9D84-541955C262B6">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136125">修改默认属性：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-37B637D3-01FA-40E1-B972-9CC9BD969EB5"><span class="italic">add_hash_index_partition</span></p>
                  <p>使用此子句将分区添加到全局散列分区索引。Oracle数据库添加了哈希分区，并使用从哈希函数确定的索引的现有哈希分区重新索引的索引条目填充它们。如果省略分区名称，则Oracle Database将分配<code class="codeph">SYS_P</code> <span class="italic"><code class="codeph">n</code></span>形式的名称。如果省略<code class="codeph">TABLESPACE</code>子句，则Oracle数据库将分区放在为索引指定的表空间中。如果没有为索引指定表空间，则Oracle数据库会将分区放在用户的默认表空间（如果已指定）或系统默认表空间中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2050732">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-997FFE1B-B87E-4343-8F26-ED29C428CE34"><span class="italic">modify_index_partition</span></p>
                  <p>使用<span class="italic"><code class="codeph">modify_index_partition</code></span>子句可以修改索引分区<span class="italic"><code class="codeph">partition</code></span>或其子分区的实际物理属性，日志记录属性或存储特征。对于散列分区的全局索引，您可以指定的此子句的唯一子条款是<code class="codeph">UNUSABLE</code> 。</p>
                  <p><span class="bold">合并</span><a id="d224930e2933" class="indexterm-anchor"></a></p>
                  <p>指定此子句以尽可能将索引分区块的内容合并到空闲块以供重用。</p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDAEGC"><span class="bold">清理</span></p>
                  <p>指定<code class="codeph">CLEANUP</code>以删除先前由表分区维护操作删除或截断的记录的孤立索引条目。
                  </p>
                  <p>要确定索引分区是否包含孤立索引条目，可以查询<code class="codeph">USER_</code> ， <code class="codeph">DBA_</code> ， <code class="codeph">ALL_PART_INDEXES</code>数据字典视图的<code class="codeph">ORPHANED_ENTRIES</code>列。有关更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN20086" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                  </p>
                  <p><span class="bold">更新块参考</span><a id="d224930e2969" class="indexterm-anchor"></a><a id="d224930e2973" class="indexterm-anchor"></a><a id="d224930e2977" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code>子句仅对索引组织表上的普通索引有效。使用此子句更新存储在辅助索引分区中的所有陈旧猜测数据块地址。
                  </p>
                  <p><span class="bold">更新块参考的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为散列分区表上的索引指定<span class="italic"><code class="codeph">physical_attributes_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>任何其他子句指定<code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code> 。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B06A5719-878A-45B4-9C17-0699578D7B23">
                     <p class="notep1">注意：</p>
                     <p>如果索引是复合分区表上的本地索引，则此处指定的更改将覆盖先前为索引的子分区指定的任何属性，以及为该分区的未来子分区建立属性的默认值。要更改分区的默认属性而不覆盖子分区的属性，请使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ...<code class="codeph">MODIFY</code> <code class="codeph">DEFAULT</code> <code class="codeph">ATTRIBUTES</code> <code class="codeph">FOR</code> <code class="codeph">PARTITION</code> 。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E0BCF923-4CF1-4D25-8E60-BAED4BD0CDBB">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136020">将索引标记为无法使用：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">不可用的条款</span></p>
                  <p>此子句对于索引作为整体具有相同的索引分区功能。请参阅<span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2160588">USABLE | UNUSABLE</a> ”</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">index_compression</span></span></p>
                  <p>此子句与复合分区索引相关。使用此子句可更改分区和该分区中每个子分区的压缩属性。Oracle数据库标记分区<code class="codeph">UNUSABLE</code>中的每个索引子分区，然后您必须重建这些子分区。必须先为索引指定前缀压缩，然后才能为分区指定<span class="italic"><code class="codeph">prefix_compression</code></span>子句，或者必须先为索引指定高级索引压缩，然后才能为分区指定<span class="italic"><code class="codeph">advanced_index_compression</code></span>子句。您只能在分区级别指定此子句。您无法更改单个子分区的压缩属性。
                  </p>
                  <p>您可以将此子句用于非复合索引分区。但是，将<span class="italic"><code class="codeph">rebuild_clause</code></span>用于非复合分区更有效，这使您可以在一个步骤中重建和设置压缩属性。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A380EE7B-EDBC-4162-850A-318DFDA062EF"><span class="italic">rename_index_partition</span></p>
                  <p>使用<span class="italic"><code class="codeph">rename_index_partition</code></span>子句将索引<span class="italic"><code class="codeph">partition</code></span>或<span class="italic"><code class="codeph">subpartition</code></span>重命名为<span class="italic"><code class="codeph">new_name</code></span> 。
                  </p>
                  <p><span class="bold">重命名索引分区的限制</span></p>
                  <p>重命名索引分区受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法重命名列表分区的子分区。</p>
                     </li>
                     <li>
                        <p>对于域索引的分区， <span class="italic"><code class="codeph">index</code></span>不能标记为<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> ，没有任何分区可以标记为<code class="codeph">IN_PROGRESS</code> ，并且您重命名的分区不能标记为<code class="codeph">FAILED</code> 。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-63DFE73D-0836-4F62-9F8B-89B83DDB8612">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136078">重命名索引分区：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-86EBB02D-150C-48B3-BD2C-13A4C969512B"><span class="italic">drop_index_partition</span></p>
                  <p>使用<span class="italic"><code class="codeph">drop_index_partition</code></span>子句从分区的全局索引中删除分区及其中的数据。删除全局索引的分区时，Oracle Database <code class="codeph">UNUSABLE</code>下一个索引分区标记为<code class="codeph">UNUSABLE</code> 。您不能删除全局索引的最高分区。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9E068BB5-7830-45C8-8706-92DEF44EE4B5">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242">删除索引分区：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D0501741-1A0C-4F6F-82CB-8698FED02069"><span class="italic">split_index_partition</span></p>
                  <p>使用<span class="italic"><code class="codeph">split_index_partition</code></span>子句将全局范围分区索引的分区拆分为两个分区，向索引添加新分区。此子句对散列分区的全局索引无效。而是使用<span class="italic"><code class="codeph">add_hash_index_partition</code></span>子句。
                  </p>
                  <p>拆分标记为<code class="codeph">UNUSABLE</code>的分区会产生两个分区，两个分区都标记为<code class="codeph">UNUSABLE</code> 。您必须先重建分区，然后才能使用它们。
                  </p>
                  <p>拆分标记为<code class="codeph">USABLE</code>的分区会导致两个分区填充索引数据。两个新分区都标记为<code class="codeph">USABLE</code> 。</p>
                  <p><span class="bold">AT条款</span></p>
                  <p>为<span class="italic"><code class="codeph">split_partition_1</code></span>指定新的非包含上限。所述<span class="italic"><code class="codeph">value_list</code></span>的计算结果必须小于开往预裂分区<span class="italic"><code class="codeph">partition_name_old</code></span>和大于开往下一个最低的分区的分区（如果有的话）。
                  </p>
                  <p><span class="bold">INTO条款</span></p>
                  <p>指定（可选）分割产生的两个分区中每个分区的名称和物理属性。</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8F20F0B5-A2C2-471D-BE97-8040BC7B92B8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136094">拆分分区：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-25CBBE37-3FEE-4A15-A3C7-17B54C2F8829"><span class="italic">coalesce_index_partition</span></p>
                  <p>此子句仅对散列分区的全局索引有效。Oracle数据库将索引分区数减少一个。Oracle数据库根据哈希函数的要求选择要合并的分区。如果要将所选分区的索引条目分发到其余分区之一，然后删除所选分区，请使用此子句。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-37F71AA1-70EC-46FC-9AF6-216F27F8D1D0"><span class="italic">modify_index_subpartition</span></p>
                  <p>使用<span class="italic"><code class="codeph">modify_index_subpartition</code></span>子句标记<code class="codeph">UNUSABLE</code>或者为复合分区表上的本地索引的子分区分配或取消分配存储。此子分区的所有其他属性都从分区级默认属性继承。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-07C36FCA-8A75-4A74-8EA4-E49C0A4E20CF">例子</p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135935"><span class="bold">以逆序存储索引块：示例</span></p>
                  <p>以下语句重建索引<code class="codeph">ord_customer_ix</code> （在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105550">创建索引：示例</a> ”中<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105550">创建</a></span> ），以便以相反的顺序存储索引块的字节：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ord_customer_ix REBUILD REVERSE;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135962"><span class="bold">并行重建索引：示例</span></p>
                  <p>以下语句通过使用并行执行进程扫描旧索引并构建新索引，从而使索引从现有索引重建：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ord_customer_ix REBUILD PARALLEL;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135975"><span class="bold">修改实际索引属性：示例</span></p>
                  <p>以下语句更改<code class="codeph">oe.cust_lname_ix</code>索引，以便此索引中的未来数据块使用5个初始事务条目：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX oe.cust_lname_ix INITRANS 5;</pre><p>如果<code class="codeph">oe.cust_lname_ix</code>索引已分区，则此语句还将更改索引的未来分区的默认属性。将来添加的分区将使用5个初始事务条目和100K的增量范围。</p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135988"><span class="bold">启用并行查询：示例</span></p>
                  <p>以下语句设置索引<code class="codeph">upper_ix</code>的并行属性（在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105548">创建基于函数的索引：示例</a> ”中创建</span> ），以便对索引的扫描进行并行化：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX upper_ix PARALLEL;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136004"><span class="bold">重命名索引：示例</span></p>
                  <p>以下语句重命名索引：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX upper_ix RENAME TO upper_name_ix;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136020"><span class="bold">标记索引不可用：示例</span></p>
                  <p>以下语句使用<code class="codeph">cost_ix</code>索引，该索引是在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">创建范围分区的全局索引：示例</a> ”中<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">创建的</a></span> 。在<span class="q">“ <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242">删除索引分区：示例</a> ”中<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242">删除了</a></span>该索引的分区<code class="codeph">p1</code> 。第一个语句将索引分区<code class="codeph">p2</code>标记为<code class="codeph">UNUSABLE</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix MODIFY PARTITION p2 UNUSABLE;</pre><p>下一个语句将整个索引<code class="codeph">cost_ix</code>标记为<code class="codeph">UNUSABLE</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix UNUSABLE;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136031"><span class="bold">重建不可用的索引分区：示例</span></p>
                  <p>以下语句重建<code class="codeph">cost_ix</code>索引的分区<code class="codeph">p2</code>和<code class="codeph">p3</code> ，使索引再次可用：不会记录分区<code class="codeph">p3</code>的重建：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix REBUILD PARTITION p2; ALTER INDEX cost_ix REBUILD PARTITION p3 NOLOGGING;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136067"><span class="bold">更改MAXEXTENTS：示例</span></p>
                  <p>以下语句更改分区<code class="codeph">p3</code>的最大扩展区数并更改logging属性：</p><pre class="oac_no_warn" dir="ltr">/ *如果分区p3所在的表空间是本地管理的，则此示例将失败。* / ALTER INDEX cost_ix MODIFY PARTITION p3 STORAGE（MAXEXTENTS 30）LOGGING;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136078"><span class="bold">重命名索引分区：示例</span></p>
                  <p>以下语句重命名<code class="codeph">cost_ix</code>索引的索引分区（在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">创建范围分区的全局索引：示例</a> ”中创建</span> ）：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix RENAME PARTITION p3 TO p3_Q3;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136094"><span class="bold">拆分分区：示例</span></p>
                  <p>以下语句将索引<code class="codeph">cost_ix</code>分区<code class="codeph">p2</code> （在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">创建范围分区的全局索引：示例</a> ”中创建</span> ）拆分为<code class="codeph">p2a</code>和<code class="codeph">p2b</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix SPLIT PARTITION p2 AT（1500）INTO（PARTITION p2a TABLESPACE tbs_01 logGING，PARTITION p2b TABLESPACE tbs_02）;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242"><span class="bold">删除索引分区：示例</span></p>
                  <p>以下语句从<code class="codeph">cost_ix</code>索引中删除索引分区<code class="codeph">p1</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix DROP PARTITION p1;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136125"><span class="bold">修改默认属性：示例</span> 
                  </p>
                  <p>以下语句更改了本地分区索引<code class="codeph">prod_idx</code>的默认属性，该属性是在<span class="q">“ <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105539">在哈希分区表上创建索引：示例</a> ”中创建的</span> 。将来添加的分区将使用5个初始事务条目：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX prod_idx MODIFY DEFAULT ATTRIBUTES INITRANS 5;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="07336.DBA_HIST_ACTIVE_SESS_HISTORY.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity."></meta>
      <meta name="description" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity."></meta>
      <title>DBA_HIST_ACTIVE_SESS_HISTORY</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBA_HIGH_WATER_MARK_STATISTICS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBA_HIST_APPLY_SUMMARY.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_HIGH_WATER_MARK_STATISTICS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBA_HIST_APPLY_SUMMARY.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-3.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：DBA_2PC_NEIGHBORS到DBA_HIST_JAVA_POOL_ADVICE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_HIST_ACTIVE_SESS_HISTORY</li>
            </ol>
            <a id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35" name="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35"></a><a id="REFRN23400"></a>
            
            <h2 id="REFRN-GUID-335EC838-FEA0-4872-9E14-67C5A1908B35" class="sect2"><span class="enumeration_section">4.290</span> DBA_HIST_ACTIVE_SESS_HISTORY</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code>显示最近系统活动的内存中活动会话历史记录的内容历史记录。
               </p>
               <div class="section">
                  <p><code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code>包含<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>快照。有关其中许多列的进一步解释详细信息，请参阅<span class="q">“ <a href="V-ACTIVE_SESSION_HISTORY.html#GUID-69CEA3A1-6C5E-43D6-982C-F353CD4B984C" title="V $ ACTIVE_SESSION_HISTORY显示数据库中的采样会话活动。">V $ ACTIVE_SESSION_HISTORY</a> ”</span> （ <code class="codeph">SNAP_ID</code> ， <code class="codeph">DBID</code>和<code class="codeph">INSTANCE_NUMBER</code>除外）。
                  </p>
                  <div class="infoboxnote" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-BDE226A0-9CAE-4156-A482-74FB850FD5C7">
                     <p class="notep1">注意：</p>
                     <p>如果要使用快照视图执行连接，请使用<code class="codeph">DBA_HIST_ASH_SNAPSHOT</code>视图而不是<code class="codeph">DBA_HIST_SNAPSHOT</code>视图。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-821A237A-B37A-4D02-BD6F-E57246365A73">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d898845e205">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d898845e208">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d898845e211">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d898845e214">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e219" headers="d898845e205 ">
                              <p><code class="codeph">SNAP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e219 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e219 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e219 d898845e214 ">
                              <p>唯一快照ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e235" headers="d898845e205 ">
                              <p><code class="codeph">DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e235 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e235 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e235 d898845e214 ">
                              <p>快照的数据库ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e251" headers="d898845e205 ">
                              <p><code class="codeph">INSTANCE_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e251 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e251 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e251 d898845e214 ">
                              <p>快照的实例编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e267" headers="d898845e205 ">
                              <p><code class="codeph">SAMPLE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e267 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e267 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e267 d898845e214 ">
                              <p>样本的ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e283" headers="d898845e205 ">
                              <p><code class="codeph">采样时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e283 d898845e208 ">
                              <p><code class="codeph">TIMESTAMP（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e283 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e283 d898845e214 ">
                              <p>样品的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e299" headers="d898845e205 ">
                              <p><code class="codeph">SAMPLE_TIME_UTC</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e299 d898845e208 ">
                              <p><code class="codeph">TIMESTAMP（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e299 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e299 d898845e214 ">
                              <p>UTC中的<code class="codeph">SAMPLE_TIME</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e316" headers="d898845e205 ">
                              <p><code class="codeph">USECS_PER_ROW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e316 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e316 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e316 d898845e214 ">
                              <p>自上次活动会话历史示例以来的时间（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e331" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e331 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e331 d898845e211 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e331 d898845e214 ">
                              <p>会话标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e347" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_SERIAL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e347 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e347 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e347 d898845e214 ">
                              <p>会话序列号（用于唯一标识会话的对象）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e362" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e362 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e362 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e362 d898845e214 ">
                              <p>会话类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">前景</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">背景</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e386" headers="d898845e205 ">
                              <p><code class="codeph">FLAGS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e386 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e386 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e386 d898845e214 ">
                              <p>保留供将来使用</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e402" headers="d898845e205 ">
                              <p><code class="codeph">用户身份</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e402 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e402 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e402 d898845e214 ">
                              <p>Oracle用户标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e417" headers="d898845e205 ">
                              <p><code class="codeph">SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e417 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e417 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e417 d898845e214 ">
                              <p>当前正在执行的SQL语句的SQL标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e432" headers="d898845e205 ">
                              <p><code class="codeph">IS_SQLID_CURRENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e432 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e432 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e432 d898845e214 ">
                              <p>指示<code class="codeph">SQL_ID</code>列中的SQL标识符是否正在执行（ <code class="codeph">Y</code> ）（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e456" headers="d898845e205 ">
                              <p><code class="codeph">SQL_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e456 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e456 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e456 d898845e214 ">
                              <p>当前正在执行的SQL语句的子编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e471" headers="d898845e205 ">
                              <p><code class="codeph">SQL_OPCODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e471 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e471 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e471 d898845e214 ">
                              <p>指示SQL语句的操作阶段</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e486" headers="d898845e205 ">
                              <p><code class="codeph">SQL_OPNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e486 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e486 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e486 d898845e214 ">
                              <p>SQL命令名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e501" headers="d898845e205 ">
                              <p><code class="codeph">FORCE_MATCHING_SIGNATURE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e501 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e501 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e501 d898845e214 ">
                              <p><code class="codeph">CURSOR_SHARING</code>参数设置为<code class="codeph">FORCE</code>时使用的签名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e521" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e521 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e521 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e521 d898845e214 ">
                              <p>顶级SQL语句的SQL标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e536" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_SQL_OPCODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e536 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e536 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e536 d898845e214 ">
                              <p>指示顶级SQL语句的操作阶段</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e551" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e551 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e551 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e551 d898845e214 ">
                              <p>光标的SQL计划的数字表示</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e566" headers="d898845e205 ">
                              <p><code class="codeph">SQL_FULL_PLAN_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e566 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e566 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e566 d898845e214 ">
                              <p>此会话正在执行的游标的完整SQL计划的数字表示</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e582" headers="d898845e205 ">
                              <p><code class="codeph">SQL_ADAPTIVE_PLAN_RESOLVED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e582 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e582 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e582 d898845e214 ">
                              <p>指示采样数据库会话的SQL计划是否为已解决的自适应计划</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e597" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_LINE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e597 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e597 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e597 d898845e214 ">
                              <p>SQL计划行ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e612" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_OPERATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e612 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e612 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e612 d898845e214 ">
                              <p>计划操作名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e627" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e627 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e627 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e627 d898845e214 ">
                              <p>计划操作选项</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e642" headers="d898845e205 ">
                              <p><code class="codeph">SQL_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e642 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e642 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e642 d898845e214 ">
                              <p>SQL执行标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e657" headers="d898845e205 ">
                              <p><code class="codeph">SQL_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e657 d898845e208 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e657 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e657 d898845e214 ">
                              <p>SQL执行开始的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e672" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_ENTRY_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e672 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e672 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e672 d898845e214 ">
                              <p>堆栈中最顶层PL / SQL子程序的对象ID（如果堆栈上没有PL / SQL子程序，则为NULL）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e687" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_ENTRY_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e687 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e687 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e687 d898845e214 ">
                              <p>堆栈上最顶层PL / SQL子程序的子程序ID（如果堆栈上没有PL / SQL子程序，则为NULL）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e702" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e702 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e702 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e702 d898845e214 ">
                              <p>当前正在执行的PL / SQL子程序的对象ID（如果执行SQL，则为NULL）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e717" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e717 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e717 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e717 d898845e214 ">
                              <p>当前正在执行的PL / SQL对象的子程序ID（如果执行SQL，则为NULL）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e732" headers="d898845e205 ">
                              <p><code class="codeph">QC_INSTANCE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e732 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e732 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e732 d898845e214 ">
                              <p>查询协调器实例ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e748" headers="d898845e205 ">
                              <p><code class="codeph">QC_SESSION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e748 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e748 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e748 d898845e214 ">
                              <p>查询协调器会话ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e763" headers="d898845e205 ">
                              <p><code class="codeph">QC_SESSION_SERIAL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e763 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e763 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e763 d898845e214 ">
                              <p>查询协调器会话序列号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e778" headers="d898845e205 ">
                              <p><code class="codeph">PX_FLAGS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e778 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e778 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e778 d898845e214 ">
                              <p>保留供内部使用</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e793" headers="d898845e205 ">
                              <p><code class="codeph">事件</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e793 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e793 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e793 d898845e214 ">
                              <p>如果<code class="codeph">SESSION_STATE = WAITING</code> ，那么会话在采样时等待的事件。
                              </p>
                              <p>如果<code class="codeph">SESSION_STATE = ON CPU</code> ，则此列将为NULL。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e816" headers="d898845e205 ">
                              <p><code class="codeph">EVENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e816 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e816 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e816 d898845e214 ">
                              <p>会话正在等待或会话最后等待的资源或事件的标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e831" headers="d898845e205 ">
                              <p><code class="codeph">SEQ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e831 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e831 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e831 d898845e214 ">
                              <p>唯一标识等待的序列号（每个等待增加）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e846" headers="d898845e205 ">
                              <p><code class="codeph">P1TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e846 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e846 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e846 d898845e214 ">
                              <p>第一个附加参数的文本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e861" headers="d898845e205 ">
                              <p><code class="codeph">P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e861 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e861 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e861 d898845e214 ">
                              <p>第一个附加参数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e876" headers="d898845e205 ">
                              <p><code class="codeph">P2TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e876 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e876 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e876 d898845e214 ">
                              <p>第二个附加参数的文本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e891" headers="d898845e205 ">
                              <p><code class="codeph">P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e891 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e891 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e891 d898845e214 ">
                              <p>第二个附加参数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e906" headers="d898845e205 ">
                              <p><code class="codeph">P3TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e906 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e906 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e906 d898845e214 ">
                              <p>第三个附加参数的文本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e922" headers="d898845e205 ">
                              <p><code class="codeph">P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e922 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e922 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e922 d898845e214 ">
                              <p>第三个附加参数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e937" headers="d898845e205 ">
                              <p><code class="codeph">WAIT_CLASS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e937 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e937 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e937 d898845e214 ">
                              <p>等待会话在采样时等待的事件的类名。解释类似于<code class="codeph">EVENT</code>专栏。映射到<code class="codeph">V$SESSION.WAIT_CLASS</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e958" headers="d898845e205 ">
                              <p><code class="codeph">WAIT_CLASS_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e958 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e958 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e958 d898845e214 ">
                              <p>等待会话在采样时等待的事件的类标识符。解释类似于<code class="codeph">EVENT</code>专栏。映射到<code class="codeph">V$SESSION.WAIT_CLASS_ID</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e979" headers="d898845e205 ">
                              <p><code class="codeph">等待时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e979 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e979 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e979 d898845e214 ">
                              <p>会话上次等待的事件的总等待时间（以微秒为单位）（如果当前正在等待，则为<code class="codeph">0</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e997" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_STATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e997 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（7）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e997 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e997 d898845e214 ">
                              <p>会话状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">等候</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ON</code> <code class="codeph">CPU</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1024" headers="d898845e205 ">
                              <p><code class="codeph">TIME_WAITED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1024 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1024 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1024 d898845e214 ">
                              <p>当前会话实际花费在等待事件上的时间（以微秒为单位）。此列设置为采样时正在进行的等待。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1039" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1039 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（11）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1039 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1039 d898845e214 ">
                              <p>阻止会话的状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">有效</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">没有持有人</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">全球</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">不在等待</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">未知</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1075" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1075 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1075 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1075 d898845e214 ">
                              <p>阻塞会话的会话标识符。仅在会话等待队列或“缓冲区忙”等待时填充。映射到<code class="codeph">V$SESSION.BLOCKING_SESSION</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1093" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION_SERIAL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1093 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1093 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1093 d898845e214 ">
                              <p>阻止会话的序列号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1108" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_INST_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1108 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1108 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1108 d898845e214 ">
                              <p><code class="codeph">BLOCKING_SESSION</code>显示的<code class="codeph">BLOCKING_SESSION</code>实例编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1125" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_HANGCHAIN_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1125 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1125 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1125 d898845e214 ">
                              <p>指示有关<code class="codeph">BLOCKING_SESSION</code>的信息是否来自挂起链（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1150" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_OBJ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1150 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1150 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1150 d898845e214 ">
                              <p>会话当前引用的对象的对象ID。仅当会话正在等待应用程序，群集，并发和用户I / O等待事件时，此信息才可用。映射到<code class="codeph">V$SESSION.ROW_WAIT_OBJ#</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1168" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_FILE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1168 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1168 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1168 d898845e214 ">
                              <p>包含会话当前引用的块的文件的文件号。仅当会话正在等待群集，并发和用户I / O等待事件时，此信息才可用。映射到<code class="codeph">V$SESSION.ROW_WAIT_FILE#</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1186" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_BLOCK＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1186 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1186 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1186 d898845e214 ">
                              <p>会话当前引用的块的ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1201" headers="d898845e205 ">
                              <p><code class="codeph">＃CURRENT_ROW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1201 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1201 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1201 d898845e214 ">
                              <p>会话引用的行标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1216" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_CALL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1216 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1216 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1216 d898845e214 ">
                              <p>Oracle顶级电话号码</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1231" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_CALL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1231 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1231 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1231 d898845e214 ">
                              <p>Oracle顶级呼叫名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1246" headers="d898845e205 ">
                              <p><code class="codeph">CONSUMER_GROUP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1246 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1246 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1246 d898845e214 ">
                              <p>消费者组ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1261" headers="d898845e205 ">
                              <p><code class="codeph">XID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1261 d898845e208 ">
                              <p><code class="codeph">RAW（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1261 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1261 d898845e214 ">
                              <p>会话在采样时正在处理的事务ID。<code class="codeph">V$SESSION</code>不包含此信息。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1279" headers="d898845e205 ">
                              <p><code class="codeph">REMOTE_INSTANCE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1279 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1279 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1279 d898845e214 ">
                              <p>远程实例标识符，用于为此会话等待的块提供服务。此信息仅在会话等待群集事件时可用。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1294" headers="d898845e205 ">
                              <p><code class="codeph">TIME_MODEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1294 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1294 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1294 d898845e214 ">
                              <p>时间模型信息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1309" headers="d898845e205 ">
                              <p><code class="codeph">IN_CONNECTION_MGMT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1309 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1309 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1309 d898845e214 ">
                              <p>指示会话在采样时是否进行连接管理（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1331" headers="d898845e205 ">
                              <p><code class="codeph">IN_PARSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1331 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1331 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1331 d898845e214 ">
                              <p>指示会话在采样时是否正在解析（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1352" headers="d898845e205 ">
                              <p><code class="codeph">IN_HARD_PARSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1352 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1352 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1352 d898845e214 ">
                              <p>指示会话在采样时是否是硬解析（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1373" headers="d898845e205 ">
                              <p><code class="codeph">IN_SQL_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1373 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1373 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1373 d898845e214 ">
                              <p>指示会话在采样时是否正在执行SQL语句（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1394" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1394 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1394 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1394 d898845e214 ">
                              <p>指示会话在采样时是否正在执行PL / SQL（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1415" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_RPC</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1415 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1415 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1415 d898845e214 ">
                              <p>指示会话在采样时是否正在执行入站PL / SQL RPC调用（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1436" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_COMPILATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1436 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1436 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1436 d898845e214 ">
                              <p>指示会话在采样时是否正在编译PL / SQL（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1457" headers="d898845e205 ">
                              <p><code class="codeph">IN_JAVA_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1457 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1457 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1457 d898845e214 ">
                              <p>指示会话在采样时是否执行Java（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1478" headers="d898845e205 ">
                              <p><code class="codeph">IN_BIND</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1478 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1478 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1478 d898845e214 ">
                              <p>指示会话在采样时是否执行绑定操作（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1499" headers="d898845e205 ">
                              <p><code class="codeph">IN_CURSOR_CLOSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1499 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1499 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1499 d898845e214 ">
                              <p>指示会话是否在采样时关闭光标（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1520" headers="d898845e205 ">
                              <p><code class="codeph">IN_SEQUENCE_LOAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1520 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1520 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1520 d898845e214 ">
                              <p>指示会话是按顺序加载（按顺序加载代码）（ <code class="codeph">Y</code> ）还是不加载（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1541" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_QUERY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1541 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1541 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1541 d898845e214 ">
                              <p>指示会话是否在采样时查询内存中列存储（IM列存储）（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1563" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_POPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1563 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1563 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1563 d898845e214 ">
                              <p>指示会话是否在采样时（ <code class="codeph">Y</code> ）填充IM列存储（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1584" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_PREPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1584 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1584 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1584 d898845e214 ">
                              <p>指示会话是否在采样时（ <code class="codeph">Y</code> ）预先填充IM列存储（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1605" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_REPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1605 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1605 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1605 d898845e214 ">
                              <p>指示会话在采样时是否重新填充IM列存储（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1626" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_TREPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1626 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1626 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1626 d898845e214 ">
                              <p>指示会话是否在采样时（ <code class="codeph">Y</code> ）涓流重新填充IM列存储（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1647" headers="d898845e205 ">
                              <p><code class="codeph">IN_TABLESPACE_ENCRYPTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1647 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1647 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1647 d898845e214 ">
                              <p>指示在采样时（ <code class="codeph">Y</code> ）是否发生表空间的加密或解密（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1668" headers="d898845e205 ">
                              <p><code class="codeph">CAPTURE_OVERHEAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1668 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1668 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1668 d898845e214 ">
                              <p>指示会话是否正在执行捕获代码（ <code class="codeph">Y</code> ）（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1689" headers="d898845e205 ">
                              <p><code class="codeph">REPLAY_OVERHEAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1689 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1689 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1689 d898845e214 ">
                              <p>指示会话是否正在执行重放代码（ <code class="codeph">Y</code> ）（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1710" headers="d898845e205 ">
                              <p><code class="codeph">IS_CAPTURED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1710 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1710 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1710 d898845e214 ">
                              <p>指示是否正在捕获会话（ <code class="codeph">Y</code> ）或不捕获（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1731" headers="d898845e205 ">
                              <p><code class="codeph">IS_REPLAYED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1731 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1731 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1731 d898845e214 ">
                              <p>指示会话是否正在重播（ <code class="codeph">Y</code> ）与否（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1752" headers="d898845e205 ">
                              <p><code class="codeph">IS_REPLAY_SYNC_TOKEN_HOLDER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1752 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1752 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1752 d898845e214 ">
                              <p>指示在工作负载重放期间会话是否持有同步令牌（ <code class="codeph">Y</code> ）或不是（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1773" headers="d898845e205 ">
                              <p><code class="codeph">SERVICE_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1773 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1773 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1773 d898845e214 ">
                              <p>标识服务的哈希</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1789" headers="d898845e205 ">
                              <p><code class="codeph">程序</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1789 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1789 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1789 d898845e214 ">
                              <p>操作系统程序的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1804" headers="d898845e205 ">
                              <p><code class="codeph">MODULE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1804 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1804 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1804 d898845e214 ">
                              <p>由<code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code>过程设置的当前正在执行的模块的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1822" headers="d898845e205 ">
                              <p><code class="codeph">行动</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1822 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1822 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1822 d898845e214 ">
                              <p><code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code>过程设置的当前正在执行的操作的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1840" headers="d898845e205 ">
                              <p><code class="codeph">CLIENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1840 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1840 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1840 d898845e214 ">
                              <p>会话的客户端标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1855" headers="d898845e205 ">
                              <p><code class="codeph">机</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1855 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1855 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1855 d898845e214 ">
                              <p>客户端的操作系统机器名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1870" headers="d898845e205 ">
                              <p><code class="codeph">港口</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1870 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1870 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1870 d898845e214 ">
                              <p>客户端端口号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1885" headers="d898845e205 ">
                              <p><code class="codeph">ECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1885 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1885 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1885 d898845e214 ">
                              <p>执行上下文标识符（由Application Server发送）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1900" headers="d898845e205 ">
                              <p><code class="codeph">DBREPLAY_FILE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1900 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1900 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1900 d898845e214 ">
                              <p>如果正在捕获或重放会话，则<code class="codeph">DBREPLAY_FILE_ID</code>是工作负载捕获或工作负载重放的文件ID;否则它是NULL。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1918" headers="d898845e205 ">
                              <p><code class="codeph">DBREPLAY_CALL_COUNTER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1918 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1918 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1918 d898845e214 ">
                              <p>如果正在捕获或重放会话，则<code class="codeph">DBREPLAY_CALL_COUNTER</code>是正在捕获或重放的用户呼叫的呼叫计数器;否则它是NULL。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1936" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1936 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1936 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1936 d898845e214 ">
                              <p><code class="codeph">TM_DELTA_CPU_TIME</code>和<code class="codeph">TM_DELTA_DB_TIME</code>累积的时间间隔（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1957" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_CPU_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1957 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1957 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1957 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">TM_DELTA_TIME</code>微秒上花费在CPU上的<code class="codeph">TM_DELTA_TIME</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1976" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_DB_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1976 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1976 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1976 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">TM_DELTA_TIME</code>微秒<code class="codeph">TM_DELTA_TIME</code>数据库调用中花费的时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1994" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1994 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1994 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1994 d898845e214 ">
                              <p>自上次采样或创建会话以来的时间间隔（以微秒为单位），累计接下来的五个统计信息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2009" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_READ_IO_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2009 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2009 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2009 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">DELTA_TIME</code>微秒内发出的读取I / O请求数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2027" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_WRITE_IO_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2027 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2027 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2027 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">DELTA_TIME</code>微秒内发出的写入I / O请求数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2045" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_READ_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2045 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2045 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2045 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">DELTA_TIME</code>微秒内读取的I / O字节数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2063" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_WRITE_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2063 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2063 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2063 d898845e214 ">
                              <p>此会话在上一个<code class="codeph">DELTA_TIME</code>微秒内写入的I / O字节数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2081" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_INTERCONNECT_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2081 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2081 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2081 d898845e214 ">
                              <p>在最后一个<code class="codeph">DELTA_TIME</code>微秒内通过I / O互连发送的I / O字节数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2099" headers="d898845e205 ">
                              <p><code class="codeph">PGA_ALLOCATED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2099 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2099 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2099 d898845e214 ">
                              <p>此采样时此会话消耗的PGA内存量（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2114" headers="d898845e205 ">
                              <p><code class="codeph">TEMP_SPACE_ALLOCATED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2114 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2114 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2114 d898845e214 ">
                              <p>此样本拍摄时此会话消耗的TEMP内存量（以字节为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2129" headers="d898845e205 ">
                              <p><code class="codeph">DBOP_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2129 d898845e208 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2129 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2129 d898845e214 ">
                              <p>数据库操作名称。如果类型是SQL，则<code class="codeph">DBOP_NAME</code>将为<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2150" headers="d898845e205 ">
                              <p><code class="codeph">DBOP_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2150 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2150 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2150 d898845e214 ">
                              <p>当前执行的数据库操作执行标识符。如果类型是SQL，则<code class="codeph">DBOP_EXEC_ID</code>将为<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2172" headers="d898845e205 ">
                              <p><code class="codeph">CON_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2172 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2172 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2172 d898845e214 ">
                              <p>采样会话的PDB的数据库ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2187" headers="d898845e205 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2187 d898845e208 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2187 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2187 d898845e214 ">
                              <p><code class="codeph">CON_DBID</code>标识的容器的ID。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> ：此值用于包含与整个CDB相关的数据的行。此值还用于非CDB中的行。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code> ：此值用于包含仅与根有关的数据的行</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span> ：其中<span class="italic">n</span>是包含数据的行的适用容器ID</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-ACD341DA-29CB-48C0-BFF0-2895D5DBBCCE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="DBA_HIST_ASH_SNAPSHOT.html#GUID-B099E22C-B4C6-4895-9E74-63DC0A5FB6A0" title="DBA_HIST_ASH_SNAPSHOT提供包含活动会话历史记录（ASH）数据的快照列表。">DBA_HIST_ASH_SNAPSHOT</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="DBA_HIST_SNAPSHOT.html#GUID-542B6CA6-793B-4D15-AAFD-4D3E6550C0B6" title="DBA_HIST_SNAPSHOT显示有关Workload Repository中快照的信息。">DBA_HIST_SNAPSHOT</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_APPLICATION_INFO</code>包的更多信息，请<a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="01558.tuning-rman-performance.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>调整RMAN性能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part-rman-tuning-troubleshooting.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-rman-operations.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-rman-tuning-troubleshooting.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-rman-operations.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-rman-tuning-troubleshooting.html" property="item" typeof="WebPage"><span property="name">调整和故障排除</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">调整RMAN性能</li>
            </ol>
            <a id="GUID-33D81037-2310-4021-8039-1A2C579AAA5A" name="GUID-33D81037-2310-4021-8039-1A2C579AAA5A"></a><a id="BRADV011"></a>
            
            <h2 id="BRADV-GUID-33D81037-2310-4021-8039-1A2C579AAA5A" class="sect2"><span class="enumeration_chapter">23</span>调整RMAN性能</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" title="RMAN调整的目的是识别给定作业的瓶颈，并使用RMAN命令，初始化参数或对物理介质的调整来提高性能。">RMAN性能调整的目的</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" title="当RMAN通道从磁盘读取数据时，多个因素会影响性能。在备份期间，RMAN通道将输入文件中的块读入I / O磁盘缓冲区。磁盘子系统上的数据库文件可以由自动存储管理（ASM）或备用卷管理器或文件系统管理。备份调整的注意事项会根据您是否使用ASM管理数据库文件而更改。当通道读取或写入磁盘时，I / O可以是同步I / O或异步I / O.在不支持本机异步I / O的操作系统上，数据库可以使用特殊的I / O从属进程对其进行仿真。这些过程专门用于代表另一个进程执行I / O.您可以使用RATE参数设置读取的字节数的上限，以便RMAN不会消耗过多的磁盘带宽并降低在线性能。从本质上讲，RATE充当备用节流阀。在复制阶段，通道将块从输入缓冲区复制到输出缓冲区并执行其他处理。备份到SBT时，RMAN为媒体管理软件提供字节流，并将唯一名称与此流关联。存储流的方式和位置的所有细节完全由媒体管理器处理。因此，备份到磁带涉及RMAN和媒体管理器的交互。影响SBT写入阶段的RMAN特定因素类似于影响磁盘读取的因素。在这两种情况下，缓冲区分配，从属进程以及同步或异步I / O都会影响性能。多种因素会影响备份到磁带的速度。如果磁带设备是远程的，则介质管理器必须通过网络传输数据。磁带本机传输速率是在没有压缩的情况下写入磁带的速度。此速度表示备份速率的上限。磁带压缩级别对备份性能非常重要。如果磁带具有良好的压缩性，则持续备份速率更快。写入操作期间的磁带流对磁带备份性能有重大影响。物理磁带块大小会影响备份性能。影响磁盘写入阶段的主要因素是缓冲区大小。">RMAN性能调优的基本概念</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" title="通常，您可以使用V $视图开始调整过程，以确定RMAN备份和还原操作遇到问题的位置。">使用V $视图诊断RMAN性能问题</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" title="许多因素都会影响备份性能。通常，找到缓慢备份的解决方案是一个反复试验的过程。">调整RMAN备份性能</a></p>
                  </li>
               </ul>
            </div><a id="BRADV89842"></a><div class="props_rev_3"><a id="GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" name="GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9"></a><h3 id="BRADV-GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" class="sect3"><span class="enumeration_section">23.1</span> RMAN性能调整的目的</h3>
               <div>
                  <p>RMAN调整的目的是识别给定作业的瓶颈，并使用RMAN命令，初始化参数或对物理介质的调整来提高性能。</p>
                  <p>RMAN备份或还原作业可以分为单独的阶段或组件。任何RMAN作业中这些阶段中最慢的一个称为<strong class="term">瓶颈</strong> 。
                  </p>
               </div>
            </div><a id="BRADV393"></a><a id="BRADV394"></a><a id="BRADV170"></a><div class="props_rev_3"><a id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" name="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3"></a><h3 id="BRADV-GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" class="sect3"><span class="enumeration_section">23.2</span> RMAN性能调优的基本概念</h3>
               <div>
                  <p>调整RMAN性能需要详细了解RMAN如何创建备份。备份的工作由一个或多个通道执行。<a href="glossary.html#GUID-D7D8E7D7-3CD3-4FCF-AF75-AF2BE11A366F"><span class="xrefglossterm">通道</span></a>表示存储设备的字节流。
                  </p>
                  <p>出于说明的目的，您可以将字节流视为从内存中的输入缓冲区通过CPU传递到输出缓冲区，并从那里传递到存储设备。要将备份定向到两个磁带设备，请分配两个磁带通道，以便每个字节流转到另一个设备。</p>
                  <p>每个通道的工作，无论是磁盘类型还是系统备份磁带（SBT），都细分为不同的阶段。下表描述了这些阶段。</p>
                  <div class="tblformal" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__GUID-E4E56CF2-91C0-46EC-BEB8-FEA1B112839D">
                     <p class="titleintable">表23-1渠道工作的阶段</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="渠道工作的阶段" border="1" summary="This table describes the phases in the work of an RMAN channel (both of type disk and SBT)." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d100789e283">序列</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e285">相</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e287">描述</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e289">附加信息</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e293" headers="d100789e283 ">1</td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e285 ">阅读阶段</td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e287 ">
                                 <p>通道从磁盘读取块到输入I / O缓冲区。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e289 ">
                                 <p><span class="q">“ <a href="tuning-rman-performance.html#GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" title="当RMAN通道从磁盘读取数据时，多个因素会影响性能。">阅读阶段</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e309" headers="d100789e283 ">2</td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e285 ">复制阶段</td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e287 ">
                                 <p>通道将块从输入缓冲区复制到输出缓冲区，并对块执行其他处理。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e289 ">
                                 <p><span class="q">“ <a href="tuning-rman-performance.html#GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" title="在复制阶段，通道将块从输入缓冲区复制到输出缓冲区并执行其他处理。">复制阶段</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e325" headers="d100789e283 ">3</td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e285 ">写阶段</td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e287 ">
                                 <p>通道将块从输出缓冲区写入存储介质。写入阶段可以采用以下互斥形式之一，具体取决于备份介质的类型：系统备份磁带（SBT）的写入阶段或磁盘的写入阶段。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e289 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="q">“ <a href="tuning-rman-performance.html#GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" title="备份到SBT时，RMAN为媒体管理软件提供字节流，并将唯一名称与此流关联。存储流的方式和位置的所有细节完全由媒体管理器处理。因此，备份到磁带涉及RMAN和媒体管理器的交互。">系统备份磁带（SBT）的写入阶段</a> ”</span></p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="tuning-rman-performance.html#GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" title="影响磁盘写入阶段的主要因素是缓冲区大小。">为磁盘写入阶段</a> ”</span></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABDJHBJ">图23-1</a>描述了备份存储在三个磁盘上的数据的两个通道。每个通道将数据读入输入缓冲区，在将数据从输入缓冲区复制到输出缓冲区时处理数据，然后将数据从输出缓冲区写入磁盘。
                  </p>
                  <div class="figure" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABDJHBJ">
                     <p class="titleinfigure">图23-1多磁盘备份到磁盘的阶段</p><img src="img/bradv042.gif" alt="下面是图23-1的描述" title="下面是图23-1的描述" longdesc="img_text/bradv042.html"><br><a href="img_text/bradv042.html">“图23-1多通道备份到磁盘的阶段”的说明</a></div>
                  <!-- class="figure" -->
                  <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABEDGBI">图23-2</a>还描述了备份存储在三个磁盘上的数据的两个通道，但是一个磁盘通过网络远程安装。每个通道将数据读入输入缓冲区，在将数据从输入缓冲区复制到输出缓冲区时处理数据，然后将数据从输出缓冲区写入磁带。通道1将数据写入本地连接的磁带驱动器，而通道2通过网络将数据发送到远程介质服务器。
                  </p>
                  <div class="figure" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABEDGBI">
                     <p class="titleinfigure">图23-2多磁带备份到磁带的阶段</p><img src="img/bradv041.gif" alt="下面是图23-2的描述" title="下面是图23-2的描述" longdesc="img_text/bradv041.html"><br><a href="img_text/bradv041.html">“图23-2多通道备份到磁带的阶段”的说明</a></div>
                  <!-- class="figure" -->
                  <p>恢复数据时，通道以相反的顺序执行这些步骤并反转读取和写入操作。以下部分介绍了备份方面的RMAN调优概念。</p>
                  <p>可用于设备的通道数确定RMAN是否可以并行读取和写入此设备。建议通道数等于所用存储设备的数量。因此，当RMAN使用磁盘时，通道数必须等于访问的物理磁盘数。当RMAN使用磁带时，通道数必须等于RMAN访问的磁带驱动器数。</p>
               </div><a id="BRADV90067"></a><div class="props_rev_3"><a id="GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" name="GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7"></a><h4 id="BRADV-GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" class="sect4"><span class="enumeration_section">23.2.1</span>读取阶段</h4>
                  <div>
                     <p>当RMAN通道从磁盘读取数据时，多个因素会影响性能。</p>
                     <p>本节中的以下主题说明了这些因素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" title="在备份期间，RMAN通道将输入文件中的块读入I / O磁盘缓冲区。磁盘子系统上的数据库文件可以由自动存储管理（ASM）或备用卷管理器或文件系统管理。备份调整的注意事项会根据您是否使用ASM管理数据库文件而更改。">输入磁盘缓冲区的分配</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" title="当通道读取或写入磁盘时，I / O是同步I / O或异步I / O.">同步和异步磁盘I / O.</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" title="在不支持本机异步I / O的操作系统上，数据库可以使用特殊的I / O从属进程对其进行仿真。这些过程专门用于代表另一个进程执行I / O.">磁盘I / O从站</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" title="您可以使用RATE参数设置读取的字节数的上限，以便RMAN不会消耗过多的磁盘带宽并降低在线性能。从本质上讲，RATE充当备用节流阀。">速率通道参数</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV395"></a><a id="BRADV396"></a><a id="BRADV89845"></a><div class="props_rev_3"><a id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" name="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B"></a><h5 id="BRADV-GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" class="sect5"><span class="enumeration_section">23.2.1.1</span>输入磁盘缓冲区的分配</h5>
                     <div>
                        <p>在备份期间，RMAN通道将输入文件中的块读入I / O磁盘缓冲区。磁盘子系统上的数据库文件可以由自动存储管理（ASM）或备用卷管理器或文件系统管理。备份调整的注意事项会根据您是否使用ASM管理数据库文件而更改。</p>
                        <p>输入缓冲区的分配取决于文件的复用方式。备份<a href="glossary.html#GUID-635043F8-78E2-4B43-A3C4-E27AFEAF363C"><span class="xrefglossterm">多路复用</span></a>是RMAN能够同时从不同来源读取备份中的多个文件，然后将它们写入单个备份片段。<a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">多路复用</span></a>的<a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">级别</span></a> ，即同时读取然后写入同一<a href="glossary.html#GUID-AED62318-D45A-49FA-B4B4-DAD98647FCF6"><span class="xrefglossterm">备份片段</span></a>的输入文件的数量，由<span class="q">“ <a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" title="创建备份集时，RMAN可以同时从磁盘读取多个文件，然后将其块写入同一备份集。例如，RMAN可以同时读取两个数据文件，然后将这些数据文件中的块组合成一个备份片。来自多个文件的块组合称为备份多路复用。">关于多路复用的RMAN备份集</a> ”中</span>描述的算法确定。在继续之前请查看本节。
                        </p>
                        <p>当RMAN通道从磁盘备份文件时，它使用<a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__CACCAJJB" title="该表描述了RMAN使用的缓冲区大小，具体取决于复用级别。">表23-2中</a>描述的规则来确定输入磁盘缓冲区的大小。
                        </p>
                        <div class="tblformal" id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__CACCAJJB">
                           <p class="titleintable">表23-2数据文件读缓冲区大小调整算法</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="数据文件读缓冲区大小算法" width="100%" border="1" summary="This table describes buffer sizes RMAN uses depending upon the level of multiplexing." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d100789e596">多路复用程度</th>
                                    <th align="left" valign="bottom" width="67%" id="d100789e599">输入磁盘缓冲区大小</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e604" headers="d100789e596 ">
                                       <p>小于或等于4</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e604 d100789e599 ">
                                       <p>RMAN通道分配16个大小为1兆字节（MB）的缓冲区，以便所有输入文件的总缓冲区大小为16 MB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e611" headers="d100789e596 ">
                                       <p>大于4但小于或等于8</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e611 d100789e599 ">
                                       <p>RMAN通道分配大小为512千字节（KB）的可变数量的磁盘缓冲区，以便所有输入文件的总缓冲区大小小于16 MB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e618" headers="d100789e596 ">
                                       <p>大于8</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e618 d100789e599 ">
                                       <p>RMAN通道为每个文件分配4个128 KB的磁盘缓冲区，因此每个输入文件的总缓冲区大小为512 KB。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在<a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__BABICCGE">图23-3</a>所示的示例中，一个通道正在备份四个数据文件。<code class="codeph">MAXOPENFILES</code>设置为4， <code class="codeph">FILESPERSET</code>设置为4。因此，多路复用的级别是4。因此，每个数据文件的缓冲区总大小为4 MB。所有缓冲区的总大小为16 MB。</p>
                        <div class="figure" id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__BABICCGE">
                           <p class="titleinfigure">图23-3磁盘缓冲区分配</p><img src="img/bradv011.gif" alt="下面是图23-3的描述" title="下面是图23-3的描述" longdesc="img_text/bradv011.html"><br><a href="img_text/bradv011.html">“图23-3磁盘缓冲区分配”的说明</a></div>
                        <!-- class="figure" -->
                        <p>如果通道正在备份存储在ASM中的文件，则仅当多路复用级别为1时，输入磁盘缓冲区的数量才等于ASM磁盘组中的物理磁盘数。例如，如果数据文件存储在包含16个物理磁盘的ASM磁盘组中，则通道会为数据文件备份分配16个输入缓冲区。</p>
                        <p>如果某个通道正在从磁盘恢复备份，则会分配4个缓冲区。缓冲区的大小取决于操作系统。</p>
                     </div>
                  </div><a id="BRADV90068"></a><div class="props_rev_3"><a id="GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" name="GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B"></a><h5 id="BRADV-GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" class="sect5"><span class="enumeration_section">23.2.1.2</span>同步和异步磁盘I / O.</h5>
                     <div>
                        <p>当通道读取或写入磁盘时，I / O是同步I / O或异步I / O.</p>
                        <p>当磁盘I / O是同步的时，服务器进程一次只能执行一个任务。当磁盘I / O是异步时，服务器进程可以开始I / O操作，然后在等待I / O完成时执行其他工作。RMAN还可以在等待第一个完成之前开始多个I / O操作。</p>
                        <p>从ASM <a href="glossary.html#GUID-FB619E7B-0181-4834-8F73-ED14C94837CC"><span class="xrefglossterm">磁盘组</span></a>读取时，请尽可能使用异步磁盘I / O.此外，如果通道从使用卷管理<a href="glossary.html#GUID-D6545038-B176-4D0E-9B4B-E4187A063984"><span class="xrefglossterm">器</span></a>管理的<a href="glossary.html#GUID-D6545038-B176-4D0E-9B4B-E4187A063984"><span class="xrefglossterm">原始设备</span></a>读取，则异步磁盘I / O也可以正常工作。某些操作系统支持本机异步磁盘I / O.如果可用，数据库将利用此功能。
                        </p>
                     </div>
                  </div><a id="BRADV90069"></a><div class="props_rev_3"><a id="GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" name="GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0"></a><h5 id="BRADV-GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" class="sect5"><span class="enumeration_section">23.2.1.3</span>磁盘I / O从站</h5>
                     <div>
                        <p>在不支持本机异步I / O的操作系统上，数据库可以使用特殊的I / O从属进程对其进行仿真。这些过程专门用于代表另一个进程执行I / O.</p>
                        <p>您可以通过设置<code class="codeph">DBWR_IO_SLAVES</code>初始化参数来控制磁盘I / O从站，该参数不是动态的。该参数指定数据库写程序进程（DBWR）使用的I / O服务器进程数。默认情况下，该值为0并且不使用I / O服务器进程。如果禁用异步I / O，则RMAN会为任何非零值<code class="codeph">DBWR_IO_SLAVES</code>分配四个备份磁盘I / O从站。</p>
                        <p>尝试获取I / O从属的共享缓冲区时，数据库执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果设置了<code class="codeph">LARGE_POOL_SIZE</code>初始化参数，并且<code class="codeph">DBWR_IO_SLAVES</code>参数设置为非零值，则数据库将尝试从大型池中获取内存。如果此值不够大，则会在警报日志中记录错误，数据库不会尝试从共享池中获取缓冲区，并且不使用异步I / O.
                              </p>
                           </li>
                           <li>
                              <p>如果未设置<code class="codeph">LARGE_POOL_SIZE</code>初始化参数或将其设置为零，则数据库将尝试从共享池中获取内存。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库无法获得足够的内存，则它从程序全局区域（PGA）获取I / O缓冲区内存并将消息写入<code class="codeph">alert</code> 。 <code class="codeph">log</code>文件，指示同步I / O用于此备份。
                              </p>
                           </li>
                        </ul>
                        <p>大型池中的内存用于许多功能，包括共享服务器，并行查询和RMAN I / O从属缓冲区。配置大型池可防止RMAN与其他子系统竞争同一内存。</p>
                        <p>来自共享池的连续内存分配请求通常很小（小于5 KB）。但是，对大量连续内存分配的请求可能会失败或需要大量内存管理来释放所需数量的连续内存。虽然共享池可能无法满足此内存请求，但大型池可以这样做。大型池没有最近最少使用（LRU）列表;数据库不会尝试使内存超出大池。</p>
                     </div>
                  </div><a id="BRADV90070"></a><div class="props_rev_3"><a id="GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" name="GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613"></a><h5 id="BRADV-GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" class="sect5"><span class="enumeration_section">23.2.1.4</span>速率信道参数</h5>
                     <div>
                        <p>您可以使用<code class="codeph">RATE</code>参数设置读取的字节数的上限，以便RMAN不会消耗过多的磁盘带宽并降低在线性能。从本质上讲， <code class="codeph">RATE</code>充当备用节流阀。
                        </p>
                        <p>在<code class="codeph">ALLOCATE</code>和<code class="codeph">CONFIGURE CHANNEL</code>命令中， <code class="codeph">RATE</code>参数指定在通道上读取的每秒字节数。例如，如果您设置<code class="codeph">RATE 1500K</code> ，并且每个磁盘驱动器每秒提供3兆字节，则该通道会为在线系统留下一些磁盘带宽。
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV90071"></a><div class="props_rev_3"><a id="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" name="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846"></a><h4 id="BRADV-GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" class="sect4"><span class="enumeration_section">23.2.2</span>复制阶段</h4>
                  <div>
                     <p>在复制阶段，通道将块从输入缓冲区复制到输出缓冲区并执行其他处理。</p>
                     <p>例如，如果通道从磁盘读取数据并备份到磁带，则通道会将数据从磁盘缓冲区复制到输出磁带缓冲区。</p>
                     <p>复制阶段涉及以下类型的处理：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>验证</p>
                        </li>
                        <li>
                           <p>压缩</p>
                        </li>
                        <li>
                           <p>加密</p>
                        </li>
                     </ul>
                     <p>执行块<a href="glossary.html#GUID-A7DFFD0D-F709-43CD-BD1A-E5F08D88DB77"><span class="xrefglossterm">验证</span></a>时，RMAN会检查它们是否存在损坏。通常，此处理不是CPU密集型的。
                     </p>
                     <p>执行<a href="glossary.html#GUID-90E07DCF-D038-4770-8A1A-06AF137C3762"><span class="xrefglossterm">二进制压缩时</span></a> ，RMAN将压缩算法应用于备份集中的数据。二进制压缩可能是CPU密集型的。您可以选择RMAN用于备份的压缩算法。对于大多数情况，RMAN的基本压缩级别具有良好的压缩率。如果启用了Oracle Advanced Compression选项，则可以从几个不同的级别中进行选择，以提供压缩比和所需CPU资源之间的权衡。
                     </p>
                     <p>执行<a href="glossary.html#GUID-65A13E9F-7391-4A6A-8379-B2EA64D0EA9E"><span class="xrefglossterm">备份加密时</span></a> ，RMAN使用<code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code>列出的算法对备份集进行<a href="glossary.html#GUID-65A13E9F-7391-4A6A-8379-B2EA64D0EA9E"><span class="xrefglossterm">加密</span></a> 。 RMAN提供三种加密模式：透明，密码保护和双模式。备份加密可能是CPU密集型的。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846__GUID-259FC8AE-A039-4618-914B-E17AEF44F6BE">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="validating-database-files-backups.html#GUID-CC967929-9610-410D-B881-66E71353D84C" title="验证使您可以检查备份的完整性。RMAN验证的主要目的是检查损坏的块和丢失的文件。您还可以使用RMAN确定是否可以还原备份。数据库可防止导致无法使用的备份文件或损坏的已还原数据文件的操作。损坏的块是一个已更改的块，因此它与Oracle数据库期望找到的块不同。在物理损坏（也称为媒体损坏）中，数据库根本无法识别块：校验和无效，块包含全零，或块的页眉和页脚不匹配。您可以使用SET MAXCORRUPT命令设置RMAN备份文件中允许的未标记损坏总数。默认值为零，这意味着RMAN不会容忍任何类型的未标记的损坏块。Oracle数据库支持用于检测，修复和监视块损坏的不同技术。您可以使用VALIDATE命令手动检查数据库文件中的物理和逻辑损坏。您还可以使用BACKUP VALIDATE命令执行验证。你可以运行RESTORE ...VALIDATE以测试RMAN是否可以从备份还原特定文件或文件集。RMAN选择要使用的备份。RMAN使您可以使用VALIDATE命令验证多租户容器数据库（CDB）和可插拔数据库（PDB）。验证CDB的步骤与用于验证非CDB的步骤类似。有多种方法可以验证PDB。">验证数据库文件和备份</a></p>
                           </li>
                           <li>
                              <p><a href="backing-up-database.html#GUID-E0D30989-9477-45DD-8FE1-367BDD0A7A8E" title="创建备份集时，可以通过在BACKUP命令中包含AS COMPRESSED BACKUPSET选项，使用RMAN支持对备份集进行二进制压缩。">进行压缩备份</a></p>
                           </li>
                           <li>
                              <p><a href="backing-up-database-advanced.html#GUID-ECBE4965-57F7-49F0-BECD-734196F417F5" title="您可以使用备份加密保护RMAN备份集。如果未经授权的用户获取加密备份，则无法读取这些备份。">加密RMAN备份</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV90072"></a><div class="props_rev_3"><a id="GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" name="GUID-BA0D4E35-7835-4F28-9504-C5EB32207206"></a><h4 id="BRADV-GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" class="sect4"><span class="enumeration_section">23.2.3</span>系统备份磁带（SBT）的写入阶段</h4>
                  <div>
                     <p>备份到SBT时，RMAN为媒体管理软件提供字节流，并将唯一名称与此流关联。存储流的方式和位置的所有细节完全由媒体管理器处理。因此，备份到磁带涉及RMAN和媒体管理器的交互。</p>
                     <p></p>
                     <p>影响SBT写入阶段的因素在以下主题中描述：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" title="影响SBT写入阶段的RMAN特定因素类似于影响磁盘读取的因素。在这两种情况下，缓冲区分配，从属进程以及同步或异步I / O都会影响性能。">SBT写入阶段的RMAN组件</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" title="多种因素会影响备份到磁带的速度。">SBT写入阶段的媒体管理器组件</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV90073"></a><div class="props_rev_3"><a id="GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" name="GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9"></a><h5 id="BRADV-GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" class="sect5"><span class="enumeration_section">23.2.3.1</span> SBT写入阶段的RMAN组件</h5>
                     <p>影响SBT写入阶段的RMAN特定因素类似于影响磁盘读取的因素。在这两种情况下，缓冲区分配，从属进程以及同步或异步I / O都会影响性能。</p><a id="BRADV397"></a><a id="BRADV89846"></a><div class="props_rev_3"><a id="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826" name="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826"></a><h6 id="BRADV-GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826" class="sect6"><span class="enumeration_section">23.2.3.1.1</span>磁带缓冲区的分配</h6>
                        <div>
                           <p>如果备份到<a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a>设备或从<a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a>设备恢复，则默认情况下，数据库会为磁带写入器为每个通道分配四个缓冲区（如果还原数据则读取， <a href="tuning-rman-performance.html#GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826__CACEAIIF">如图23-4</a>所示）。磁带I / O缓冲区的大小取决于平台。您可以使用<code class="codeph">ALLOCATE CHANNEL</code>或<code class="codeph">CONFIGURE CHANNEL</code>命令的<code class="codeph">PARMS</code>和<code class="codeph">BLKSIZE</code>参数更改此值。
                           </p>
                           <div class="figure" id="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826__CACEAIIF">
                              <p class="titleinfigure">图23-4磁带缓冲区的分配</p><img src="img/bradv013.gif" alt="下面是图23-4的描述" title="下面是图23-4的描述" longdesc="img_text/bradv013.html"><br><a href="img_text/bradv013.html">“图23-4磁带缓冲区分配”的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div><a id="BRADV90074"></a><div class="props_rev_3"><a id="GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8" name="GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8"></a><h6 id="BRADV-GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8" class="sect6"><span class="enumeration_section">23.2.3.1.2</span>磁带I / O从站</h6>
                        <div>
                           <p>RMAN根据是否使用I / O从站在系统全局区域（SGA）或程序全局区域（PGA）中分配磁带缓冲区。如果设置初始化参数<code class="codeph">BACKUP_TAPE_IO_SLAVES=true</code> ，则RMAN从SGA分配磁带缓冲区。磁带设备一次只能由一个进程访问，因此RMAN会根据磁带设备的数量启动尽可能多的从设备。如果还设置了<code class="codeph">LARGE_POOL_SIZE</code>初始化参数，则RMAN将从大型池中分配缓冲区。如果设置<code class="codeph">BACKUP_TAPE_IO_SLAVES=false</code> ，则RMAN从PGA分配缓冲区。</p>
                           <p>如果使用I / O从属，则将<code class="codeph">LARGE_POOL_SIZE</code>初始化参数设置为专用SGA内存以保存这些大内存分配。此参数可防止RMAN I / O缓冲区与SGA内存的库高速缓存竞争。如果请求了磁带I / O的I / O从站，但SGA中没有足够的空间用于它们，则不使用从站，并且警报日志中会显示一条消息。
                           </p>
                           <p>参数<code class="codeph">BACKUP_TAPE_IO_SLAVES</code>指定RMAN是否使用从属进程而不是从属进程的数量。磁带设备一次只能由一个进程访问，RMAN使用磁带设备数量所需的从设备数。
                           </p>
                        </div>
                     </div><a id="BRADV398"></a><a id="BRADV399"></a><a id="BRADV89847"></a><div class="props_rev_3"><a id="GUID-34FEA214-7C3D-447B-B441-A05C11814015" name="GUID-34FEA214-7C3D-447B-B441-A05C11814015"></a><h6 id="BRADV-GUID-34FEA214-7C3D-447B-B441-A05C11814015" class="sect6"><span class="enumeration_section">23.2.3.1.3</span>同步和异步I / O.</h6>
                        <div>
                           <p>当SBT通道读取或写入数据到磁带时，I / O始终是同步的。对于磁带I / O，分配的每个通道（无论是手动还是自动）都对应于服务器进程，此处称为通道进程。</p>
                           <p><a href="tuning-rman-performance.html#GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABEBGFD">图23-5</a>显示了备份到磁带的同步I / O.
                           </p>
                           <div class="figure" id="GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABEBGFD">
                              <p class="titleinfigure">图23-5同步磁带I / O.</p><img src="img/bradv015.png" alt="下面是图23-5的描述" title="下面是图23-5的描述" longdesc="img_text/bradv015.html"><br><a href="img_text/bradv015.html">“图23-5同步磁带I / O”的说明</a></div>
                           <!-- class="figure" -->
                           <p>发生以下步骤：</p>
                           <ol>
                              <li>
                                 <p>通道进程组成磁带缓冲区。</p>
                              </li>
                              <li>
                                 <p>通道进程执行介质管理器代码，该代码处理磁带缓冲区并将其内部化以供介质管理器进一步处理和存储。</p>
                              </li>
                              <li>
                                 <p>媒体管理器代码向服务器进程返回一条消息，指出它已完成写入。</p>
                              </li>
                              <li>
                                 <p>渠道流程可以启动新任务。</p>
                              </li>
                           </ol>
                           <p><a href="tuning-rman-performance.html#GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABCJEEI">图23-6</a>显示了磁带备份中的异步I / O.使用磁带从属模拟磁带的异步I / O.在这种情况下，每个分配的信道对应于服务器进程，在随后的说明中将其识别为信道进程。对于每个通道进程，启动一个磁带从站（如果存在多个副本，则启动多个磁带从站）。
                           </p>
                           <div class="figure" id="GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABCJEEI">
                              <p class="titleinfigure">图23-6异步磁带I / O.</p><img src="img/bradv012.png" alt="下面是图23-6的描述" title="下面是图23-6的描述" longdesc="img_text/bradv012.html"><br><a href="img_text/bradv012.html">“图23-6异步磁带I / O”的说明</a></div>
                           <!-- class="figure" -->
                           <p>发生以下步骤：</p>
                           <ol>
                              <li>
                                 <p>通道进程将块写入磁带缓冲区。</p>
                              </li>
                              <li>
                                 <p>通道进程向磁带从属进程发送消息以处理磁带缓冲区。磁带从属进程执行介质管理器代码，该代码处理磁带缓冲区并将其内部化，以便介质管理器可以处理它。</p>
                              </li>
                              <li>
                                 <p>当磁带从属进程正在写入时，通道进程可以自由地从数据文件中读取数据并准备更多的输出缓冲区。</p>
                              </li>
                              <li>
                                 <p>磁带从属通道从介质管理器代码返回后，它会请求新的磁带缓冲区，该缓冲区通常已准备就绪。因此减少了信道处理的等待时间，并且更快地完成备份。</p>
                              </li>
                           </ol>
                        </div>
                     </div>
                  </div><a id="BRADV99979"></a><div class="props_rev_3"><a id="GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" name="GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F"></a><h5 id="BRADV-GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" class="sect5"><span class="enumeration_section">23.2.3.2</span> SBT写入阶段的媒体管理器组件</h5>
                     <div>
                        <p>多种因素会影响备份到磁带的速度。</p>
                        <p>它们包括以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" title="如果磁带设备是远程的，则介质管理器必须通过网络传输数据。">网络吞吐量</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" title="磁带本机传输速率是在没有压缩的情况下写入磁带的速度。此速度表示备份速率的上限。">原生转移率</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-93005BE3-2812-42B2-9475-07013BADF2A7" title="磁带压缩级别对备份性能非常重要。如果磁带具有良好的压缩性，则持续备份速率更快。">磁带压缩</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" title="写入操作期间的磁带流对磁带备份性能有重大影响。">磁带流</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" title="物理磁带块大小会影响备份性能。">物理磁带块大小</a></p>
                           </li>
                        </ul>
                     </div><a id="BRADV99980"></a><div class="props_rev_3"><a id="GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" name="GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3"></a><h6 id="BRADV-GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" class="sect6"><span class="enumeration_section">23.2.3.2.1</span>网络吞吐量</h6>
                        <div>
                           <p>如果磁带设备是远程的，则介质管理器必须通过网络传输数据。</p>
                           <p>例如，Oracle Secure Backup中的管理域可以包含多个联网客户端主机，介质服务器和磁带设备。如果数据库位于一台主机上，但输出磁带驱动器连接到其他主机，则Oracle Secure Backup会管理网络上的数据传输。网络吞吐量是备份性能的上限。</p>
                        </div>
                     </div><a id="BRADV89850"></a><div class="props_rev_3"><a id="GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" name="GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9"></a><h6 id="BRADV-GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" class="sect6"><span class="enumeration_section">23.2.3.2.2</span>原生转移率</h6>
                        <div>
                           <p>磁带本机传输速率是在没有压缩的情况下写入磁带的速度。此速度表示备份速率的上限。</p>
                           <p>备份性能的上限应该是所有磁带机的总传输速率。如果备份以该速率执行，并且如果它没有使用过多的CPU，则RMAN性能调整无效。</p>
                        </div>
                     </div><a id="BRADV89851"></a><div class="props_rev_3"><a id="GUID-93005BE3-2812-42B2-9475-07013BADF2A7" name="GUID-93005BE3-2812-42B2-9475-07013BADF2A7"></a><h6 id="BRADV-GUID-93005BE3-2812-42B2-9475-07013BADF2A7" class="sect6"><span class="enumeration_section">23.2.3.2.3</span>磁带压缩</h6>
                        <div>
                           <p>磁带压缩级别对备份性能非常重要。如果磁带具有良好的压缩性，则持续备份速率更快。</p>
                           <p>例如，如果压缩比为2：1并且磁带驱动器的本机传输速率为每秒6兆字节，则生成的备份速度为每秒12兆字节。在这种情况下，RMAN必须能够读取吞吐量超过每秒12兆字节的磁盘，否则磁盘将成为备份的瓶颈。</p>
                           <div class="infoboxnote" id="GUID-93005BE3-2812-42B2-9475-07013BADF2A7__GUID-B38EF514-4F37-40C6-9FAE-6EF52887C635">
                              <p class="notep1">注意：</p>
                              <p>不要同时使用媒体管理器提供的磁带压缩和RMAN提供的二进制压缩。如果媒体管理器压缩效率很高，那么通常是更好的选择。如果压缩RMAN中的数据所需的CPU开销是可接受的，则使用RMAN压缩的备份集可以是减少用于将未压缩的备份集通过网络移动到媒体管理器的带宽的有效替代方案。</p>
                           </div>
                        </div>
                     </div><a id="BRADV89852"></a><div class="props_rev_3"><a id="GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" name="GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1"></a><h6 id="BRADV-GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" class="sect6"><span class="enumeration_section">23.2.3.2.4</span>磁带流</h6>
                        <div>
                           <p>写入操作期间的磁带流对磁带备份性能有重大影响。</p>
                           <p>许多磁带驱动器都是固定速度的流式磁带驱动器。因为这样的驱动器只能以一种速度写入数据，当它们用尽数据写入磁带时，磁带必须减速并停止。通常情况下，当驱动器的缓冲区清空时，磁带移动得如此之快，以至于它实际上会超调;要继续写入，驱动器必须重绕磁带以找到它停止写入的位置。多速磁带驱动器可用于缓解此问题。</p>
                        </div>
                     </div><a id="BRADV89853"></a><div class="props_rev_3"><a id="GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" name="GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32"></a><h6 id="BRADV-GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" class="sect6"><span class="enumeration_section">23.2.3.2.5</span>物理磁带块大小</h6>
                        <div>
                           <p>物理磁带块大小会影响备份性能。</p>
                           <p>块大小是媒体管理软件在一次写操作中写入磁带的数据量。通常，磁带块大小越大，备份越快。物理磁带块大小不受RMAN或Oracle数据库控制，而是由媒体管理软件控制。有关详细信息，请参阅媒体管理软件的文档。</p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV90075"></a><div class="props_rev_3"><a id="GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" name="GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B"></a><h4 id="BRADV-GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" class="sect4"><span class="enumeration_section">23.2.4</span>磁盘写入阶段</h4>
                  <div>
                     <p>影响磁盘写入阶段的主要因素是缓冲区大小。</p>
                     <p>当备份的输出驻留在磁盘上时，每个通道分配四个输出缓冲区，每个缓冲区为1 MB。磁盘通道将块写入磁盘子系统。恢复文件时，读取阶段类似于备份文件时的写入阶段，除了块以相反方向移动。</p>
                     <p>如果RMAN异步读取磁盘，则它会异步写入磁盘。写入磁盘时，您可以像从磁盘读取时那样使用磁盘I / O从站。</p>
                     <p>如果RMAN将文件备份到多个磁盘上条带化的基于磁盘的输出目标，则可以分配多个通道。通道数仅限于目标条带化的磁盘数。ASM是在多个磁盘上条带化的目标的一个示例。</p>
                  </div>
               </div>
            </div><a id="BRADV90076"></a><div class="props_rev_3"><a id="GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" name="GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243"></a><h3 id="BRADV-GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" class="sect3"><span class="enumeration_section">23.3</span>使用V $视图诊断RMAN性能问题</h3>
               <div>
                  <p>通常，您通过使用<code class="codeph">V$</code>视图来确定RMAN备份和还原操作遇到问题的位置，从而开始调整过程。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-rman-performance.html#GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" title="您可以通过查询视图V $ SESSION_LONGOPS来监视备份和还原作业的进度。 RMAN在V $ SESSION_LONGOPS中使用两种类型的行：详细信息行和聚合行。">使用V $ SESSION_LONGOPS监视RMAN作业进度</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-rman-performance.html#GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" title="您可以使用V $ BACKUP_SYNC_IO和V $ BACKUP_ASYNC_IO视图来确定备份或还原瓶颈的来源，并查看备份作业的详细进度。">使用V $ BACKUP_SYNC_IO和V $ BACKUP_ASYNC_IO识别瓶颈</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV400"></a><a id="BRADV401"></a><a id="BRADV99981"></a><div class="props_rev_3"><a id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" name="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159"></a><h4 id="BRADV-GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" class="sect4"><span class="enumeration_section">23.3.1</span>使用V $ SESSION_LONGOPS监视RMAN作业进度</h4>
                  <div>
                     <p>您可以通过查询视图<code class="codeph">V$SESSION_LONGOPS</code>来监视备份和还原作业的进度。 RMAN在<code class="codeph">V$SESSION_LONGOPS</code>使用两种类型的行：详细信息行和聚合行。
                     </p>
                     <div class="section">
                        <p>详细信息行描述由一个作业步骤处理的文件，而聚合行描述由RMAN命令中的所有作业步骤处理的文件。作业步骤是创建或恢复一个备份集或数据文件副本。使用在备份步骤期间读取或写入的每个缓冲区更新详细信息行，因此它们的更新粒度很小。每个作业步骤完成时更新聚合行，因此它们的更新粒度很大。</p>
                        <p><a href="tuning-rman-performance.html#GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__G1013679" title="该表在前一段中描述。">表23-3</a>描述了<code class="codeph">V$SESSION_LONGOPS</code>中与RMAN最相关的列。通常，您查看详细信息行而不是聚合行以确定每个备份集的进度。
                        </p>
                        <div class="tblformal" id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__G1013679">
                           <p class="titleintable">表23-3 V $ SESSION_LONGOPS的列与RMAN相关</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="V $ SESSION_LONGOPS的列与RMAN相关" width="100%" border="1" summary="This table is described in the preceding paragraph." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d100789e2359">柱</th>
                                    <th align="left" valign="bottom" width="80%" id="d100789e2362">细节行描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2367" headers="d100789e2359 ">
                                       <p><code class="codeph">SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2367 d100789e2362 ">
                                       <p>与RMAN信道对应的服务器会话ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2375" headers="d100789e2359 ">
                                       <p><code class="codeph">SERIAL＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2375 d100789e2362 ">
                                       <p>服务器会话序列号。每次重用服务器会话时，此值都会更改。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2383" headers="d100789e2359 ">
                                       <p><code class="codeph">OPNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2383 d100789e2362 ">
                                       <p>行的文本描述。详细信息行的示例包括<code class="codeph">RMAN:</code> <code class="codeph">datafile</code> <code class="codeph">copy</code> ， <code class="codeph">RMAN:</code> <code class="codeph">full</code> <code class="codeph">datafile</code> <code class="codeph">backup</code>和<code class="codeph">RMAN:</code> <code class="codeph">full</code> <code class="codeph">datafile</code> <code class="codeph">restore</code> 。
                                       </p>
                                       <p><span class="bold">注意：</span> <code class="codeph">RMAN:</code> <code class="codeph">aggregate</code> <code class="codeph">input</code>和<code class="codeph">RMAN:</code> <code class="codeph">aggregate</code> <code class="codeph">output</code>是唯一的聚合行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2448" headers="d100789e2359 ">
                                       <p><code class="codeph">CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2448 d100789e2362 ">
                                       <p>对于备份输出行，此值为<code class="codeph">2</code> 。对于除代理副本（不更新此列）之外的所有其他行，值为<code class="codeph">1</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2462" headers="d100789e2359 ">
                                       <p><code class="codeph">至今</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2462 d100789e2362 ">
                                       <p>此列的含义取决于此行描述的操作类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>对于映像副本，已读取的块数</p>
                                          </li>
                                          <li>
                                             <p>对于备份输入行，已从正在备份的文件中读取的块数</p>
                                          </li>
                                          <li>
                                             <p>对于备份输出行，已写入备份片的块数</p>
                                          </li>
                                          <li>
                                             <p>对于还原，已处理到在此一个作业步骤中正在还原的文件的块数</p>
                                          </li>
                                          <li>
                                             <p>对于代理副本，已复制的文件数</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2486" headers="d100789e2359 ">
                                       <p><code class="codeph">TOTALWORK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2486 d100789e2362 ">
                                       <p>此列的含义取决于此行描述的操作类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>对于映像副本，文件中的块总数。</p>
                                          </li>
                                          <li>
                                             <p>对于备份输入行，从此作业步骤中处理的所有文件中读取的块总数。</p>
                                          </li>
                                          <li>
                                             <p>对于备份输出行，该值为<code class="codeph">0</code>因为RMAN不知道它将写入任何备份片的块数。
                                             </p>
                                          </li>
                                          <li>
                                             <p>对于还原，此作业步骤中还原的所有文件中的块总数。</p>
                                          </li>
                                          <li>
                                             <p>对于代理副本，在此作业步骤中要复制的文件总数。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>执行备份或还原作业的每个服务器会话都会报告与作业步骤所需的总工作量相比的进度。例如，如果使用两个通道还原数据库，并且每个通道有两个要还原的备份集（总共四组），则每个服务器会话通过单个备份集报告其进度。完全恢复集合后，RMAN开始报告要恢复的下一组的进度。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__GUID-EA0C36DA-6F39-44CC-AD04-D7590A93229C">监控RMAN作业进度：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在启动RMAN作业之前，请创建一个包含以下SQL语句的脚本文件（对于此示例称为<code class="codeph">longops</code> ）：</span><div><pre class="oac_no_warn" dir="ltr">SELECT SID，SERIAL＃，CONTEXT，SOFAR，TOTALWORK，ROUND（SOFAR / TOTALWORK * 100,2）“％_COMPLETE”来自V $ SESSION_LONGOPS WHERE OPNAME喜欢'RMAN％'和OPNAME不喜欢'％aggregate％'和TOTALWORK！= 0 AND SOFAR &lt;&gt; TOTALWORK;</pre></div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN并连接到目标数据库和恢复目录（如果使用）。</span></li>
                        <li class="stepexpand"><span>开始RMAN工作。例如，输入：</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE DATABASE <code class="codeph">;</code>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>在RMAN作业运行时，启动SQL * Plus并连接到目标数据库，然后执行<code class="codeph">longops</code>脚本以检查RMAN作业的进度。如果在RMAN作业进行时重复查询，则会看到如下输出：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @longops SID SERIAL＃CONTEXT SOFAR TOTALWORK％_COMPLETE ---------- ---------- ---------- -------- -  ---------- ---------- 8 19 1 10377 36617 28.34 SQL&gt; @longops SID SERIAL＃CONTEXT SOFAR TOTALWORK％COMPLETE ---------- ---------- ---------- ---------- ---------- ---------- 8 19 1 21513 36617 58.75 SQL&gt; @longops SID SERIAL＃CONTEXT SOFAR TOTALWORK％COMPLETE ---------- ---------- ----------- -------- ---------- ---------- 8 19 1 29641 36617 80.95 SQL&gt; @longops SID SERIAL＃CONTEXT SOFAR TOTALWORK％COMPLETE ---- ------ ---------- ---------- ---------- ---------- ---- ------ 8 19 1 35849 36617 97.9 SQL&gt; @longops未选择任何行</pre></div>
                        </li>
                        <li class="stepexpand"><span>如果以2分钟或更长的间隔运行<code class="codeph">longops</code>脚本并且<code class="codeph">%</code> _ <code class="codeph">COMPLETE</code>列未增加，则RMAN遇到问题。请参阅<span class="q">“ <a href="troubleshooting-rman-operations.html#GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" title="您可以使用动态性能事件视图中的事件名称来监视对媒体管理API的RMAN调用。事件名称与SBT功能一一对应。">监视与媒体管理器的RMAN交互</a> ”</span>以获取更多信息。</span></li>
                     </ol>
                     <div class="section">
                        <p>如果经常监视长时间运行的任务的执行，则可以在运行SQL * Plus的主机操作系统下创建一个shell脚本或批处理文件，以重复执行此查询。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV402"></a><a id="BRADV89862"></a><div class="props_rev_3"><a id="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" name="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E"></a><h4 id="BRADV-GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" class="sect4"><span class="enumeration_section">23.3.2</span>使用V $ BACKUP_SYNC_IO和V $ BACKUP_ASYNC_IO识别瓶颈</h4>
                  <div>
                     <p>您可以使用<code class="codeph">V$BACKUP_SYNC_IO</code>和<code class="codeph">V$BACKUP_ASYNC_IO</code>视图来确定备份或还原瓶颈的来源，并查看备份作业的详细进度。
                     </p>
                     <div class="section">
                        <p>当I / O与执行备份的进程（或某些平台上的线程）同步时， <code class="codeph">V$BACKUP_SYNC_IO</code>包含行。当I / O异步时， <code class="codeph">V$BACKUP_ASYNC_IO</code>包含行。异步I / O可以通过I / O进程获得，也可以由底层操作系统支持。
                        </p>
                        <p>在数据库实例关闭之前，备份或还原作业的结果将保留在内存中。因此，您可以在作业完成后查询视图。</p>
                        <p>在I / O同步时确定磁带是否正在流式传输：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">V$BACKUP_SYNC_IO</code>或<code class="codeph">V$BACKUP_ASYNC_IO</code>视图中的<code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code>列。</span><div>
                              <p>如果<code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code>小于硬件的原始容量，则磁带不会流式传输。如果<code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code>大于硬件的原始容量，则磁带可能是也可能不是流式传输。压缩可能导致<code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code>大于实际I / O的速度。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E__GUID-0E412F03-BE1F-4793-B34D-115AB9A3F83E">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a>有关这些视图的更多信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV403"></a><a id="BRADV89863"></a><div class="props_rev_3"><a id="GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD" name="GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD"></a><h5 id="BRADV-GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD" class="sect5"><span class="enumeration_section">23.3.2.1</span>使用同步I / O识别瓶颈</h5>
                     <div>
                        <p>查询<code class="codeph">V$BACKUP_SYNC_IO</code>视图以识别具有同步I / O的瓶颈。</p>
                        <div class="section">
                           <p>对于同步I / O，很难识别特定的瓶颈，因为所有同步I / O都是该过程的瓶颈。调整同步I / O的唯一方法是将速率（以每秒字节数为单位）与设备的最大吞吐率进行比较。如果速率低于设备指定的速率，请考虑调整备份和还原过程的这一方面。</p>
                           <p>要确定同步I / O的速率：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                           <li class="stepexpand"><span>查询<code class="codeph">V$BACKUP_SYNC_IO</code>视图中的<code class="codeph">DISCRETE_BYTES_PER_SECOND</code>列以显示I / O速率。</span><div>
                                 <p>如果您在<code class="codeph">V$BACKUP_SYNC_IO</code>看到数据，则问题是您没有启用异步I / O或者您没有使用磁盘I / O从站。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="BRADV404"></a><a id="BRADV89864"></a><div class="props_rev_3"><a id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0" name="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0"></a><h5 id="BRADV-GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0" class="sect5"><span class="enumeration_section">23.3.2.2</span>使用异步I / O识别瓶颈</h5>
                     <div>
                        <p>查询<code class="codeph">V$BACKUP_ASYNC_IO</code>以识别异步I / O的瓶颈。</p>
                        <div class="section">
                           <p><strong class="term">长等待</strong>是备份或还原过程告诉操作系统等待I / O完成的次数。<strong class="term">短等待</strong>是备份或还原过程在非阻塞模式下进行操作系统调用以轮询I / O完成的次数。<strong class="term">Ready</strong>指示I / O准备就绪的次数，因此无需进行操作系统调用以轮询I / O完成。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-59ACB37B-5440-45D1-A9B1-AED1DD9D4029">要确定异步I / O的速率：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                           <li class="stepexpand"><span>查询<code class="codeph">V$BACKUP_ASYNC_IO</code>视图中的<code class="codeph">LONG_WAITS</code>和<code class="codeph">IO_COUNT</code>列以显示I / O速率。</span><div>
                                 <p>识别瓶颈的最简单方法是找到<code class="codeph">LONG_WAITS</code>比率最大的数据文件除以<code class="codeph">IO_COUNT</code> 。例如，您可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT LONG_WAITS / IO_COUNT，FILENAME FROM V $ BACKUP_ASYNC_IO WHERE LONG_WAITS / IO_COUNT&gt; 0 ORDER BY LONG_WAITS / IO_COUNT DESC;</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-A3BDB529-CEFB-45A0-93C6-CE0938B50164">
                              <p class="notep1">注意：</p>
                              <p>如果您有同步I / O但设置了<code class="codeph">BACKUP_DISK_IO_SLAVES</code> ，那么I / O将显示在<code class="codeph">V$BACKUP_ASYNC_IO</code> 。</p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-9649AC95-51E9-4FED-AD9C-E2D3A693C2F9">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>Oracle Database Reference，</cite></span></a>用于描述<code class="codeph">V$BACKUP_SYNC_IO</code>和<code class="codeph">V$BACKUP_ASYNC_IO</code>视图</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="BRADV172"></a><div class="props_rev_3"><a id="GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" name="GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD"></a><h3 id="BRADV-GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" class="sect3"><span class="enumeration_section">23.4</span>调整RMAN备份性能</h3>
               <div>
                  <p>许多因素都会影响备份性能。通常，找到缓慢备份的解决方案是一个反复试验的过程。</p>
                  <div class="section">
                     <p><span class="bold">要获得备份的最佳性能，请按照下列步骤操作：</span></p>
                     <ol>
                        <li>
                           <p>删除通道设置的<code class="codeph">RATE</code>参数，如<span class="q">“ <a href="tuning-rman-performance.html#GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" title="通道上的RATE参数旨在减少而不是增加备份吞吐量，以便为其他数据库操作提供更多磁盘带宽。如果备份未流式传输到磁带，则确认未设置RATE参数。">从通道设置中删除RATE参数</a> ”中所述</span> 。
                           </p>
                        </li>
                        <li>
                           <p>如果磁盘不支持异步I / O，则设置<code class="codeph">DBWR_IO_SLAVES</code>参数，如<span class="q">“ <a href="tuning-rman-performance.html#GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" title="某些操作系统支持本机异步I / O.当且仅当您的磁盘不支持异步I / O时，请设置DBWR_IO_SLAVES。 DBWR_IO_SLAVES的任何非零值都会导致固定数量的磁盘I / O从站用于备份和还原，从而模拟异步I / O.">将DBWR_IO_SLAVES设置为模拟异步I / O</a> ”中所述</span> 。
                           </p>
                        </li>
                        <li>
                           <p>设置<code class="codeph">LARGE_POOL_SIZE</code>参数，如<span class="q">“ <a href="tuning-rman-performance.html#GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" title="如果数据库在警报日志中报告错误，指出它没有足够的内存并且无法启动I / O从属，请设置LARGE_POOL_SIZE初始化参数。">设置LARGE_POOL_SIZE以解决共享内存问题</a> ”中所述</span> 。
                           </p>
                        </li>
                        <li>
                           <p>删除影响备份性能的瓶颈，如<span class="q">“ <a href="tuning-rman-performance.html#GUID-4189FC87-CD02-49CD-A311-887ABAA34004" title="您可以执行多项任务来识别和修复影响备份性能的瓶颈。">调整读取，写入和复制阶段</a> ”中所述</span> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV405"></a><a id="BRADV89855"></a><div class="props_rev_3"><a id="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" name="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7"></a><h4 id="BRADV-GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" class="sect4"><span class="enumeration_section">23.4.1</span>从通道设置中删除RATE参数</h4>
                  <div>
                     <p>通道上的<code class="codeph">RATE</code>参数旨在减少而不是增加备份吞吐量，以便为其他数据库操作提供更多磁盘带宽。如果备份未流式传输到磁带，则确认未设置<code class="codeph">RATE</code>参数。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">要删除RATE参数：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>检查您的备份脚本。</span></li>
                        <li class="stepexpand"><span>执行以下操作之一：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果备份在<code class="codeph">RUN</code>命令中，则从<code class="codeph">ALLOCATE</code>命令中删除<code class="codeph">RATE</code>参数（如果已指定）。跳过剩下的步骤。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果备份不在<code class="codeph">RUN</code>命令中，则启动RMAN，连接到目标数据库，然后继续执行下一步。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>执行<code class="codeph">SHOW ALL</code>命令以显示当前配置的设置。</span></li>
                        <li class="stepexpand"><span>如果已设置，则从<code class="codeph">CONFIGURE CHANNEL</code>命令中删除<code class="codeph">RATE</code>参数。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7__GUID-18BCCE40-416D-4252-9A18-777758ACF56A">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="tuning-rman-performance.html#GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" title="您可以使用RATE参数设置读取的字节数的上限，以便RMAN不会消耗过多的磁盘带宽并降低在线性能。从本质上讲，RATE充当备用节流阀。">速率通道参数</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV406"></a><a id="BRADV89856"></a><div class="props_rev_3"><a id="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" name="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA"></a><h4 id="BRADV-GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" class="sect4"><span class="enumeration_section">23.4.2</span>设置DBWR_IO_SLAVES以模拟异步I / O.</h4>
                  <div>
                     <p>某些操作系统支持本机异步I / O.当且仅当您的磁盘<span class="italic">不</span>支持异步I / O，然后设置<code class="codeph">DBWR_IO_SLAVES</code> 。 <code class="codeph">DBWR_IO_SLAVES</code>任何非零值都会导致固定数量的磁盘I / O从站用于备份和还原，从而模拟异步I / O.</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">要启用磁盘I / O从站：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                        <li class="stepexpand"><span>关闭数据库。</span></li>
                        <li class="stepexpand"><span>将<code class="codeph">DBWR_IO_SLAVES</code>初始化参数设置为非零值。</span><div>
                              <p>此设置使数据库写程序进程可以使用从属进程。因此，您可能需要增加<code class="codeph">PROCESSES</code>初始化参数的值。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>重启数据库。</span></li>
                        <li class="stepexpand"><span>重新启动RMAN备份。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA__GUID-ABEE827A-78CF-492E-8354-E39338D4A772">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="tuning-rman-performance.html#GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" title="当通道读取或写入磁盘时，I / O是同步I / O或异步I / O.">同步和异步磁盘I / O.</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV407"></a><a id="BRADV89857"></a><div class="props_rev_3"><a id="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" name="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473"></a><h4 id="BRADV-GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" class="sect4"><span class="enumeration_section">23.4.3</span>设置LARGE_POOL_SIZE以解决共享内存问题</h4>
                  <div>
                     <p>如果数据库在警报日志中报告错误，指出它没有足够的内存并且无法启动I / O从属，请设置<code class="codeph">LARGE_POOL_SIZE</code>初始化参数。
                     </p>
                     <div class="section">
                        <p>警报日志消息类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">ksfqxcre：无法分配共享内存意味着只要本机不支持async I / O，就会使用同步I / O</pre><p>大型池用于RMAN和其他用途，因此其总大小必须适应所有用途。如果已设置<code class="codeph">DBWR_IO_SLAVES</code>并且DBWR进程需要缓冲区，则尤其如此。
                        </p>
                        <p><span class="bold">要设置较大的池大小：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动SQL * Plus并连接到目标数据库。</span></li>
                        <li class="stepexpand"><span>（可选）查询<code class="codeph">V$SGASTAT.POOL</code>以确定对象的内存驻留在哪个池（共享池或大池）中。</span></li>
                        <li class="stepexpand"><span>在目标数据库中设置<code class="codeph">LARGE_POOL_SIZE</code>初始化参数。</span><div>
                              <p>您可以执行<code class="codeph">ALTER SYSTEM SET</code>语句来动态设置参数。该<span class="italic"> </span>设置<code class="codeph">LARGE_POOL_SIZE</code>公式如下：</p><pre class="oac_no_warn" dir="ltr">LARGE_POOL_SIZE = <span class="italic"><code class="codeph">number_of_allocated_channels</code></span> *（16 MB +（4 * <span class="italic">size_of_tape_buffer</span> ））</pre></div>
                        </li>
                        <li class="stepexpand"><span>重新启动RMAN备份。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473__GUID-89ACE45B-48F1-402D-A43B-D29947CDE589">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关大型池的更多信息，请<a href="../cncpt/memory-architecture.html#CNCPT802" target="_blank"><span><cite>参见Oracle数据库概念</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/LARGE_POOL_SIZE.html#REFRN10078" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>有关初始化参数的完整信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89858"></a><div class="props_rev_3"><a id="GUID-4189FC87-CD02-49CD-A311-887ABAA34004" name="GUID-4189FC87-CD02-49CD-A311-887ABAA34004"></a><h4 id="BRADV-GUID-4189FC87-CD02-49CD-A311-887ABAA34004" class="sect4"><span class="enumeration_section">23.4.4</span>调整读，写和复制阶段</h4>
                  <div>
                     <p>您可以执行多项任务来识别和修复影响备份性能的瓶颈。</p>
                     <div class="section">
                        <p>这包括以下任务：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-DA0FFF93-832C-41E9-9162-157F589A7082" title="确定输出设备或输入磁盘I / O是否是给定备份作业的瓶颈的一种可靠方法是将运行备份任务所需的时间与运行相同任务的BACKUP VALIDATE所需的时间进行比较。备份的BACKUP VALIDATE执行与真实备份相同的磁盘读取，但不对输出设备执行I / O.">使用备份验证来区分读取和写入瓶颈</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" title="调整读取阶段有助于提高RMAN性能。">调整读取阶段</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-3303B929-0747-4E78-BED1-9F468213F357" title="如果读取阶段表现良好，那么复制或写入阶段可能是瓶颈。特别是，如果RMAN正在以足够快的速度向磁带驱动器发送数据块以支持流式传输，但磁带不是流式传输，那么SBT写入阶段就是瓶颈。">调整复制和写入阶段</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV408"></a><a id="BRADV89859"></a><div class="props_rev_3"><a id="GUID-DA0FFF93-832C-41E9-9162-157F589A7082" name="GUID-DA0FFF93-832C-41E9-9162-157F589A7082"></a><h5 id="BRADV-GUID-DA0FFF93-832C-41E9-9162-157F589A7082" class="sect5"><span class="enumeration_section">23.4.4.1</span>使用备份验证来区分读取和写入瓶颈</h5>
                     <div>
                        <p>确定输出设备或输入磁盘I / O是否是给定备份作业的瓶颈的一种可靠方法是将运行备份任务所需的时间与运行相同任务的<code class="codeph">BACKUP VALIDATE</code>所需的时间进行比较。<code class="codeph">BACKUP VALIDATE</code>执行与真实备份相同的磁盘读取，但不对输出设备执行I / O.
                        </p>
                        <div class="section">
                           <p><span class="bold">要比较备份和验证时间：</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>确保将NLS环境日期格式变量设置为显示时间。例如，设置NLS变量如下：</span><div><pre class="oac_no_warn" dir="ltr">setenv NLS_LANG AMERICAN_AMERICA.WE8DEC; setenv NLS_DATE_FORMAT“MM / DD / YYYY HH24：MI：SS”</pre></div>
                           </li>
                           <li class="stepexpand"><span>编辑备份脚本以使用<code class="codeph">BACKUP VALIDATE</code>命令而不是<code class="codeph">BACKUP</code>命令。</span></li>
                           <li class="stepexpand"><span>运行备份脚本。</span></li>
                           <li class="stepexpand"><span>检查RMAN输出并计算<code class="codeph">Starting backup at</code>显示的时间与消息上的<code class="codeph">Finished backup at</code>之间的差异。</span></li>
                           <li class="stepexpand"><span>编辑备份脚本以使用<code class="codeph">BACKUP</code>命令而不是<code class="codeph">BACKUP VALIDATE</code>命令。</span></li>
                           <li class="stepexpand"><span>运行备份脚本。</span></li>
                           <li class="stepexpand"><span>检查RMAN输出并计算<code class="codeph">Starting backup at</code>显示的时间与消息上的<code class="codeph">Finished backup at</code>之间的差异。</span></li>
                           <li class="stepexpand"><span>比较验证和实际备份的备份时间。</span><div>
                                 <p>如果<code class="codeph">BACKUP VALIDATE</code>到磁带的时间与实际备份到磁带的时间大致相同，那么从磁盘读取可能是瓶颈。
                                 </p>
                                 <p>如果<code class="codeph">BACKUP VALIDATE</code>到磁带的时间远远小于真正备份到磁带的时间，那么写入输出设备可能是瓶颈。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-DA0FFF93-832C-41E9-9162-157F589A7082__GUID-91292A39-0110-4FDE-B534-6D5AFF0A476E">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="tuning-rman-performance.html#GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" title="调整读取阶段有助于提高RMAN性能。">调整读取阶段</a></p>
                                 </li>
                                 <li>
                                    <p><a href="tuning-rman-performance.html#GUID-3303B929-0747-4E78-BED1-9F468213F357" title="如果读取阶段表现良好，那么复制或写入阶段可能是瓶颈。特别是，如果RMAN正在以足够快的速度向磁带驱动器发送数据块以支持流式传输，但磁带不是流式传输，那么SBT写入阶段就是瓶颈。">调整复制和写入阶段</a> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV409"></a><a id="BRADV89860"></a><div class="props_rev_3"><a id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" name="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23"></a><h5 id="BRADV-GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" class="sect5"><span class="enumeration_section">23.4.4.2</span>调整读取阶段</h5>
                     <div>
                        <p>调整读取阶段有助于提高RMAN性能。</p>
                        <div class="section">
                           <p>RMAN可能无法足够快地将数据块发送到输出设备以使其保持占用状态。例如，在<a href="glossary.html#GUID-31E3AC05-E73E-4E44-A9AA-915988B9A6A3"><span class="xrefglossterm">增量备份</span></a>期间，RMAN仅备份自上次数据文件备份以来更改的块作为同一策略的一部分。如果不打开<a href="glossary.html#GUID-C80ACD57-9170-4FA5-A61F-81A05E77A1A4"><span class="xrefglossterm">块更改跟踪</span></a> ，则RMAN必须扫描整个数据文件以查找更改的块，并在找到此类块时填充输出缓冲区。如果更改了几个块，并且RMAN正在进行SBT备份，则RMAN可能无法足够快地填充输出缓冲区以保持磁带驱动器流式传输。
                           </p>
                           <p>您可以通过调整<a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">多路复用级别</span></a>来提高备份性能<a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">，多路复用级别</span></a>是同时读取的输入文件数，然后写入同一个RMAN备份片。多路复用级别是通道上<code class="codeph">MAXOPENFILES</code>设置的最小值和每个备份集中放置的输入文件数。下表提供了调整多路复用级别的建议。
                           </p>
                           <div class="tblformal" id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23__GUID-EED07681-166A-4905-AAAB-1CE59F011A74">
                              <p class="titleintable">表23-4调整复用级别</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="调整多路复用级别" width="100%" border="1" summary="Level of multiplexing" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="14%" id="d100789e3896">ASM</th>
                                       <th align="left" valign="bottom" width="29%" id="d100789e3899">条纹磁盘</th>
                                       <th align="left" valign="bottom" width="57%" id="d100789e3902">建议</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3907" headers="d100789e3896 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3907 d100789e3899 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3907 d100789e3902 ">
                                          <p>提高多路复用的水平。确定哪个是最小值， <code class="codeph">MAXOPENFILES</code>或每个备份集中的文件数，然后增加此值。
                                          </p>
                                          <p>通过这种方式，您可以提高RMAN填充磁带缓冲区的速率，这使得缓冲区更有可能以足够快的速度发送到媒体管理器以维持流式传输。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3922" headers="d100789e3896 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3922 d100789e3899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3922 d100789e3902 ">
                                          <p>增加通道上的<code class="codeph">MAXOPENFILES</code>设置。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3935" headers="d100789e3896 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3935 d100789e3899 ">
                                          <p>不适用</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3935 d100789e3902 ">
                                          <p>将通道上的<code class="codeph">MAXOPENFILES</code>参数设置为<code class="codeph">1</code>或<code class="codeph">2</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23__GUID-4E86A862-7A97-4DCD-B2BC-04453FCDA43F">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" title="创建备份集时，RMAN可以同时从磁盘读取多个文件，然后将其块写入同一备份集。例如，RMAN可以同时读取两个数据文件，然后将这些数据文件中的块组合成一个备份片。来自多个文件的块组合称为备份多路复用。">关于多路复用RMAN备份集</a> ”</span> ，了解<code class="codeph">MAXOPENFILES</code>和<code class="codeph">FILESPERSET</code>设置如何影响多路复用级别</p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="rman-backup-concepts.html#GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023" title="增量备份仅复制自上次备份以来已更改的数据块。您可以使用RMAN创建数据文件，表空间或整个数据库的增量备份。">关于RMAN增量备份</a> ”</span>的概念性概述</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89861"></a><div class="props_rev_3"><a id="GUID-3303B929-0747-4E78-BED1-9F468213F357" name="GUID-3303B929-0747-4E78-BED1-9F468213F357"></a><h5 id="BRADV-GUID-3303B929-0747-4E78-BED1-9F468213F357" class="sect5"><span class="enumeration_section">23.4.4.3</span>调整复制和写入阶段</h5>
                     <div>
                        <p>如果读取阶段表现良好，那么复制或写入阶段可能是瓶颈。特别是，如果RMAN正在以足够快的速度向磁带驱动器发送数据块以支持流式传输，但磁带不是流式传输，那么SBT写入阶段就是瓶颈。</p>
                        <div class="section">
                           <div class="p">尝试使用下表中描述的技术之一来提高性能。
                              <div class="tblformal" id="GUID-3303B929-0747-4E78-BED1-9F468213F357__GUID-25D6F10A-8A0B-4B5E-A74D-B44526F62CA4">
                                 <p class="titleintable">表23-5提高复制和写入性能的技术</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="提高复制和写入性能的技术" border="1" summary="This table describes the techniques available to improve copy and writer performance." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="20%" id="d100789e4065">技术</th>
                                          <th align="left" valign="bottom" width="20%" id="d100789e4067">描述</th>
                                          <th align="left" valign="bottom" width="20%" id="d100789e4069">额外的信息</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4073" headers="d100789e4065 ">
                                             <p>如果备份是<a href="glossary.html#GUID-D47BE9B3-BAE1-4415-B4B4-4D577B6CB493"><span class="xrefglossterm">完整备份</span></a> ，则考虑使用增量备份</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4073 d100789e4067 ">
                                             <p>增量级别1备份仅将已更改的块从数据文件写入磁带，因此写入磁带的任何瓶颈对整体备份策略的影响较小。特别是，如果磁带驱动器未本地连接到正在备份的数据库的节点，则增量备份可以更快。 。</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4073 d100789e4069 ">
                                             <p><span class="q">“ <a href="backing-up-database.html#GUID-2AF8EE74-CEB2-468D-A3B2-DD6AD8E41304" title="增量备份仅复制自指定的先前备份以来已更改的数据文件块。使用BACKUP命令创建增量备份。">制作和更新RMAN增量备份</a> ”</span></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4094" headers="d100789e4065 ">
                                             <p>如果备份使用基本压缩算法，请考虑使用Oracle Advanced Compression选项</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4094 d100789e4067 ">
                                             <p> </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4094 d100789e4069 ">
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p><span class="q">“ <a href="configuring-rman-client-advanced.html#GUID-3117DA93-EC34-488D-A4FB-29E6CD4D168A" title="RMAN支持预压缩处理和备份集的二进制压缩。CONFIGURE COMPRESSION ALGORITHM命令可以配置压缩选项。">配置压缩选项</a> ”</span></p>
                                                </li>
                                                <li>
                                                   <p><span class="q">“ <a href="rman-backup-concepts.html#GUID-2AFCD551-95CB-4F9F-946E-550E89613974" title="RMAN支持备份集的二进制压缩。二进制压缩仅在BACKUP命令中指定AS COMPRESSED BACKUPSET时启用，或者一次使用配置设备类型[DISK | SBT] BACKUP TYPE TO COMPRESSED BACKUPSET命令。">关于RMAN备份集的二进制压缩</a> ”</span></p>
                                                </li>
                                             </ul>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4131" headers="d100789e4065 ">
                                             <p>如果数据库主机使用多个CPU，并且备份使用二进制压缩，则增加通道数</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4131 d100789e4067 ">
                                             <p> </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4131 d100789e4069 "> </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4139" headers="d100789e4065 ">
                                             <p>如果备份已加密，则将加密算法更改为<code class="codeph">AES128</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4139 d100789e4067 ">
                                             <p><code class="codeph">AES128</code>算法是CPU密集度最低的算法。
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4139 d100789e4069 "><span class="q">“ <a href="configuring-rman-client-advanced.html#GUID-97ED7AA5-476C-4068-9C6C-97A0C0353864" title="您可以使用CONFIGURE命令持久配置在编写备份集时用于加密的默认算法。">配置备份加密算法</a> ”</span></td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4161" headers="d100789e4065 ">
                                             <p>（仅适用于磁带备份）调整磁带I / O缓冲区的大小</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4161 d100789e4067 ">
                                             <p>使用<code class="codeph">ALLOCATE CHANNEL</code>或<code class="codeph">CONFIGURE CHANNEL</code>命令的<code class="codeph">PARMS</code>和<code class="codeph">BLKSIZE</code>参数来设置大小。磁带I / O缓冲区的大小取决于平台。<code class="codeph">BLKSIZE</code>设置会覆盖默认值。
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4161 d100789e4069 "> </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4184" headers="d100789e4065 ">
                                             <p>（仅适用于磁带备份）调整媒体管理软件中的设置</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4184 d100789e4067 ">
                                             <p>某些介质管理器设置（包括磁带块大小）可能会影响备份性能。</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4184 d100789e4069 "> </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4192" headers="d100789e4065 ">
                                             <p>如果RMAN将文件备份到ASM，则增加通道数</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4192 d100789e4067 ">
                                             <p>例如，如果RMAN将数据库备份到具有16个物理磁盘的单个磁盘组，则分配或配置至少4个磁盘通道，最多16个。</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4192 d100789e4069 "> </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03429.loading-transformation-date-warehouses.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>数据仓库中的加载和转换</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Warehousing Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Warehousing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="transportation-data-warehouses.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-relational-analytics.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DWHSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="transportation-data-warehouses.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-relational-analytics.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据仓库指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-etl.html" property="item" typeof="WebPage"><span property="name">数据移动/ ETL</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据仓库中的加载和转换</li>
            </ol>
            <a id="GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B" name="GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B"></a>
            
            <h2 id="DWHSG-GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B" class="sect2"><span class="enumeration_chapter">18</span>数据仓库的加载和转换</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章帮助您创建和管理数据仓库，并讨论：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" title="您可以使用EXECUTE_UPDATE过程优化表的批量更新。由于更新未记录在重做日志中，因此性能得到优化。由于ETL可能变得复杂并且性能较差，因此Oracle数据库提供了一个用户界面，使您可以监视和报告作为ETL计划一部分的数据库操作。">数据仓库中的加载和转换概述</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13">数据仓库的加载机制</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186">数据仓库中的转换机制</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" title="在数据转换过程中使用的外部数据有时可能不准确，从而导致数据转换错误。某些SQL函数可用于处理数据转换错误。">错误记录和处理机制</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6">加载和转换方案</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG8304"></a><div class="props_rev_3"><a id="GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" name="GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1"></a><h3 id="DWHSG-GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" class="sect3"><span class="enumeration_section">18.1</span>数据仓库中的加载和转换概述</h3>
               <div>
                  <p><a id="d63021e75" class="indexterm-anchor"></a>数据转换通常是最复杂的，就处理时间而言，是提取，转换和加载（ETL）过程中成本最高的部分。它们的范围从简单的数据转换到极其复杂的数据清理技术。许多（如果不是全部）数据转换可以在Oracle数据库中发生，尽管转换通常也在数据库外部实现（例如，在平面文件上）。
                  </p>
                  <p>本章介绍了在Oracle数据库中实现可伸缩和高效数据转换的技术。本章中的示例相对简单。现实世界的数据转换通常要复杂得多。但是，本章介绍的转换技术可满足大多数实际数据转换要求，通常比其他方法具有更高的可扩展性和更少的编程。</p>
                  <p>本章并未试图说明在数据仓库中遇到的所有典型转换，而是为了演示可用于实现这些转换的基础技术类型，并提供如何选择最佳技术的指导。</p>
               </div><a id="DWHSG8305"></a><div class="props_rev_3"><a id="GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5" name="GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5"></a><h4 id="DWHSG-GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5" class="sect4"><span class="enumeration_section">18.1.1</span>数据仓库：转换流程</h4>
                  <div>
                     <p>从体系结构的角度来看，您可以通过以下方式转换数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8">数据仓库中的多级数据转换</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-FA110310-B713-4165-8F48-EC5E869E1F8F">数据仓库中的流水线数据转换</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4">数据仓库中的暂存区域</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG8307"></a><a id="DWHSG8306"></a><div class="props_rev_3"><a id="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8" name="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8"></a><h5 id="DWHSG-GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8" class="sect5"><span class="enumeration_section">18.1.1.1</span>数据仓库中的多级数据转换</h5>
                     <div>
                        <p>数据<a id="d63021e143" class="indexterm-anchor"></a>大多数数据仓库的转换逻辑包含多个步骤。例如，在转换要插入到销售表中的新记录时，可能存在单独的逻辑转换步骤来验证每个维度密钥。
                        </p>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">图18-1</a>提供了查看转换逻辑的图形方式。
                        </p>
                        <div class="figure" id="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">
                           <p class="titleinfigure">图18-1多级数据转换</p><img src="img/dwhsg025.gif" alt="下面是图18-1的描述" title="下面是图18-1的描述" longdesc="img_text/dwhsg025.html"><br><a href="img_text/dwhsg025.html">“图18-1多级数据转换”的描述</a></div>
                        <!-- class="figure" -->
                        <p>使用Oracle数据库作为转换引擎时，常见的策略是将每个转换实现为单独的SQL操作，并创建单独的临时临时表（ <a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">如图18-1中</a>的表<code class="codeph">new_sales_step1</code>和<code class="codeph">new_sales_step2</code> ）以存储增量结果每一步。此加载 - 转换策略还为整个转换过程提供了一种自然的检查点方案，使得流程更容易监控和重新启动。然而，多级管理的缺点是空间和时间要求增加。
                        </p>
                        <p>也可以将许多简单的逻辑转换组合成单个SQL语句或单个PL / SQL过程。这样做可以提供比独立执行每个步骤更好的性能，但是它也可能在修改，添加或删除单个转换以及从失败的转换中恢复时带来困难。</p>
                     </div>
                  </div><a id="DWHSG8309"></a><a id="DWHSG8308"></a><div class="props_rev_3"><a id="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F" name="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F"></a><h5 id="DWHSG-GUID-FA110310-B713-4165-8F48-EC5E869E1F8F" class="sect5"><span class="enumeration_section">18.1.1.2</span>数据仓库中的流水线数据转换</h5>
                     <div>
                        <p>ETL流程可以显着改变，数据库成为ETL解决方案不可或缺的一部分<a id="d63021e191" class="indexterm-anchor"></a> 。
                        </p>
                        <p>新功能使一些先前必要的处理步骤过时，而其他一些可以被重新构建以增强数据流和数据转换以变得更具可扩展性和非中断性。任务从串行转换然后加载过程（大部分任务在数据库之外完成）或加载然后转换过程转变为增强的转换同时加载。</p>
                        <p>Oracle提供了各种新功能来解决ETL方案中的所有相关问题和任务。重要的是要了解数据库提供工具包功能，而不是试图解决一个通用的解决方案。底层数据库必须为特定客户需求启用最合适的ETL流程，而不是从技术角度决定或约束它。<a href="loading-transformation-date-warehouses.html#GUID-FA110310-B713-4165-8F48-EC5E869E1F8F__I1007647">图18-2</a>说明了新功能，将在后面的章节中讨论。
                        </p>
                        <div class="figure" id="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F__I1007647">
                           <p class="titleinfigure">图18-2流水线数据转换</p><img src="img/dwhsg107.gif" alt="下面是图18-2的描述" title="下面是图18-2的描述" longdesc="img_text/dwhsg107.html"><br><a href="img_text/dwhsg107.html">“图18-2流水线数据转换”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="DWHSG8953"></a><div class="props_rev_3"><a id="GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4" name="GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4"></a><h5 id="DWHSG-GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4" class="sect5"><span class="enumeration_section">18.1.1.3</span>数据仓库中的临时区域</h5>
                     <div>
                        <p>负载的总体速度取决于从暂存区域读取原始数据并将其写入数据库中的目标表的速度。强烈建议您将原始数据放在尽可能多的物理磁盘上，以确保在加载过程中读取原始数据不是瓶颈。</p>
                        <p>在数据库文件系统（DBFS）中，存储数据的绝佳位置。DBFS创建一个可安装的文件系统，可用于以SecureFiles LOB的形式访问存储在数据库中的文件。DBFS与NFS类似，它提供了一个看起来像本地文件系统的共享网络文件系统。Oracle建议您在与数据仓库不同的数据库中创建DBFS，并使用<code class="codeph">DIRECT_IO</code>选项挂载文件系统，以避免在将原始数据文件移入和移出文件系统时争用系统页面缓存。有关设置DBFS的更多信息，请参阅<a href="../adlob/introducing-database-file-system.html#ADLOB-GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a> 。
                        </p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7" name="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7"></a><h4 id="DWHSG-GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7" class="sect4"><span class="enumeration_section">18.1.2</span>关于批量更新和联机表重新定义</h4>
                  <div>
                     <p>您可以使用<code class="codeph">EXECUTE_UPDATE</code>过程优化表的批量更新。由于更新未记录在重做日志中，因此性能得到优化。
                     </p>
                     <p></p>
                     <p><code class="codeph">DBMS_REDEFINITION.EXECUTE_UPDATE</code>过程允许您以直接插入模式运行<code class="codeph">UPDATE</code>语句。由于在此操作期间未记录重做，因此无法使用介质恢复来恢复重新定义和数据更新。为了保持可恢复性，建议在重新定义开始之前执行数据库或表空间备份。
                     </p>
                     <div class="infoboxnotealso" id="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7__GUID-70324A39-FCDF-4E13-BECE-682BCC0A7421">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../admin/managing-tables.html#ADMIN-GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC" name="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC"></a><h4 id="DWHSG-GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC" class="sect4"><span class="enumeration_section">18.1.3</span>监控ETL操作概述</h4>
                  <div>
                     <p>由于ETL可能变得复杂并且性能较差，因此Oracle数据库提供了一个用户界面，使您可以监视和报告作为ETL计划一部分的数据库操作。</p>
                     <p></p>
                     <p>数据库操作是用户定义的逻辑对象，其包含一组相关的数据库任务，例如由最终用户或应用程序代码定义的ETL处理作业。每个数据库操作由其名称和执行ID唯一标识，并且可以多次执行。</p>
                     <p>数据库操作监视对于对次优执行作业进行故障排除非常有用，并有助于确定在任何给定步骤中消耗的资源的位置和数量。它使您能够跟踪相关信息，识别性能瓶颈，并减少调整数据库性能问题的时间。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以通过在<code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code>函数中指定其会话ID和序列号，在任意会话上开始数据库操作。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC__GUID-B74F4813-535B-4F44-BD16-88C9C9499433">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tgsql/monitoring-database-operations.html#TGSQL-GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8310"></a><div class="props_rev_3"><a id="GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13" name="GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13"></a><h3 id="DWHSG-GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13" class="sect3"><span class="enumeration_section">18.2</span>数据仓库的加载机制</h3>
               <div>
                  <p>您可以使用以下机制来加载数据仓库：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0">使用SQL * Loader加载数据仓库</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E">使用外部表加载数据仓库</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-16CA33C9-77A1-494A-8170-F4703D2C0447">使用OCI和Direct-Path API加载数据仓库</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-5904B997-7D60-4553-82CA-91709E040F5A">使用导出/导入加载数据仓库</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8311"></a><div class="props_rev_3"><a id="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0" name="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0"></a><h4 id="DWHSG-GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0" class="sect4"><span class="enumeration_section">18.2.1</span>使用SQL * Loader加载数据仓库</h4>
                  <div>
                     <div class="section">
                        <p><a id="d63021e396" class="indexterm-anchor"></a>在数据库中发生任何数据转换之前，必须可以访问数据库的原始数据。一种方法是将其加载到数据库中。<a href="transportation-data-warehouses.html#GUID-3CC5E89C-A354-4F58-BC2A-D9DF439357E5">数据仓库中的运输</a> ，讨论了将数据传输到Oracle数据仓库的几种技术。也许最常用的传输数据的技术是通过平面文件。
                        </p>
                        <p>SQL * Loader用于将数据从平面文件移动到Oracle数据仓库中。在此数据加载期间，SQL * Loader也可用于实现基本数据转换。使用直接路径SQL * Loader时，可以在数据加载期间自动解决基本数据操作，例如数据类型转换和简单<code class="codeph">NULL</code>处理。出于性能原因，大多数数据仓库都使用直接路径加载。
                        </p>
                        <p>传统路径加载器提供了比直接路径加载器更广泛的数据转换功能：SQL函数可以在加载这些值时应用于任何列。这为数据加载期间的转换提供了丰富的功能。但是，传统路径加载器比直接路径加载器慢。由于这些原因，传统路径加载器应主要用于加载和转换少量数据。</p>
                        <p>数据仓库可以使用直接路径模式来运行批量更新，以避免维护重做数据的开销。您可以在联机表重新定义期间在表上运行批量更新。</p>
                        <p>以下是一个SQL * Loader控制文件的简单示例，用于将数据从外部文件<code class="codeph">sh_sales.dat</code>加载到<code class="codeph">sh</code>示例模式的<code class="codeph">sales</code>表中。外部平面文件<code class="codeph">sh_sales.dat</code>由销售交易数据组成，每日汇总。并非此外部文件的所有列都已加载到<code class="codeph">sales</code> 。此外部文件还用作加载<code class="codeph">sh</code>示例模式的第二个事实表的源，这是使用外部表完成的：</p>
                        <p>以下显示加载<code class="codeph">sales</code>表的控制文件（ <code class="codeph">sh_sales.ctl</code> ）：</p><pre class="oac_no_warn" dir="ltr">LOAD DATA INFILE sh_sales.dat APPEND INTO TABLE sales FIELDS TERMINATED BY“|” （PROD_ID，CUST_ID，TIME_ID，CHANNEL_ID，PROMO_ID，QUANTITY_SOLD，AMOUNT_SOLD）</pre><p>可以使用以下命令加载它：</p><pre class="oac_no_warn" dir="ltr">$ sqlldr control = sh_sales.ctl direct = true用户名：密码：</pre><p>对于SQL * Loader Express模式，您不使用控制文件。相反，它使用表列定义来确定输入数据类型。</p>
                        <div class="infoboxnotealso" id="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0__GUID-9803962C-26EA-41CC-B137-F26225C73761">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sutil/oracle-sql-loader-commands.html#SUTIL-GUID-CD662CD8-DAA7-4A30-BC84-546E4C40DB31" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a>以获取更多信息</p>
                              </li>
                              <li>
                                 <p>有关使用<code class="codeph">DBMS_REDEFINITION</code>包进行批量更新的信息，请<code class="codeph">DBMS_REDEFINITION</code> <a href="../admin/managing-tables.html#ADMIN-GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8312"></a><div class="props_rev_3"><a id="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E" name="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E"></a><h4 id="DWHSG-GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E" class="sect4"><span class="enumeration_section">18.2.2</span>使用外部表加载数据仓库</h4>
                  <div>
                     <div class="section">
                        <p>另一个处理外部数据源的方法是使用外部表。Oracle的外部表功能使您可以将外部数据用作可以直接和并行查询和连接的虚拟表，而无需首先在数据库中加载外部数据。然后，您可以使用SQL，PL / SQL和Java来访问外部数据。
                        </p>
                        <p></p>
                        <p>外部表格可以使转换阶段的加载阶段流水线化。转换过程可以与加载过程合并，而不会中断数据流。不再需要在数据库中对数据进行分级以在数据库内进行进一步处理，例如比较或转换。例如，传统加载的转换功能可以用于直接路径<code class="codeph">INSERT</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句以及来自外部表的<code class="codeph">SELECT</code> 。Oracle数据库<span class="italic">12c</span>中开始，数据库自动收集的统计信息表作为批量负荷运转（CTAS和IAS）类似于如何创建索引时收集统计的一部分。通过在数据加载期间收集统计信息，您可以避免其他扫描操作，并在数据可供用户使用后立即提供必要的统计信息。
                        </p>
                        <p>外部表和常规表之间的主要区别在于外部组织的表是只读的。没有DML操作（ <code class="codeph">UPDATE</code> / <code class="codeph">INSERT</code> / <code class="codeph">DELETE</code> ）是可能的，并且不能在它们上创建索引。
                        </p>
                        <p>外部表大多符合现有的SQL * Loader功能，并在大多数情况下提供卓越的功能。外部表对于必须与现有数据库对象连接完整外部源或必须以复杂方式转换数据的环境特别有用。例如，与SQL * Loader不同，您可以应用任意SQL转换并使用直接路径插入方法。此外，您可以指定要执行的程序（例如<code class="codeph">zcat</code> ）来处理文件（例如压缩数据文件）并使Oracle数据库能够使用输出（例如未压缩的数据文件），这意味着您可以加载大量的压缩数据，而不先将其解压缩到磁盘上。
                        </p>
                        <p>您可以创建名为<code class="codeph">sales_transactions_ext</code>的外部表，表示完整销售事务数据的结构，在外部文件<code class="codeph">sh_sales.gz</code> 。产品部门对产品和时间的成本分析特别感兴趣。因此，您在<code class="codeph">sh</code>模式中创建了一个名为<code class="codeph">cost</code>的事实表。操作源数据与<code class="codeph">sales</code>事实表相同。但是，由于您没有调查所提供的每个维度信息，因此<code class="codeph">cost</code>事实表中的数据具有比<code class="codeph">sales</code>事实表中更粗略的粒度，例如，汇总了所有不同的分销渠道。
                        </p>
                        <p>由于抑制了某些维度，您无法在不应用前面提到的详细信息汇总的情况下将数据加载到<code class="codeph">cost</code>事实表中。
                        </p>
                        <p>外部表框架提供了解决此问题的解决方案。与SQL * Loader不同，您必须在应用聚合之前加载数据，您可以在单个SQL DML语句中组合加载和转换，如下所示。在插入目标表之前，您不必临时暂存数据。</p>
                        <p>对象目录必须已存在，并指向包含<code class="codeph">sh_sales.gz</code>文件的目录以及包含错误和日志文件的目录。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_transactions_ext（PROD_ID NUMBER，CUST_ID NUMBER，TIME_ID DATE，CHANNEL_ID NUMBER，PROMO_ID NUMBER，QUANTITY_SOLD NUMBER，AMOUNT_SOLD NUMBER（10,2），UNIT_COST NUMBER（10,2），UNIT_PRICE NUMBER（10,2））ORGANIZATION external（TYPE oracle_loader DEFAULT DIRECTORY data_file_dir访问参数（记录由NEWLINE CHARACTERSET删除US7ASCII预处理程序执行：'zcat'BADFILE log_file_dir：'sh_sales.bad_xt'logFILE log_file_dir：'sh_sales.log_xt'FIELDS TERMINATED BY“|”LDRTRIM（PROD_ID，CUST_ID，TIME_ID DATE（ 10）“YYYY-MM-DD”，CHANNEL_ID，PROMO_ID，QUANTITY_SOLD，AMOUNT_SOLD，UNIT_COST，UNIT_PRICE））location（'sh_sales.gz'））REJECT LIMIT UNLIMITED;</pre><p>现在可以在数据库中使用外部表，仅访问外部数据的某些列，对数据进行分组，并将其插入到<code class="codeph">costs</code>事实表中：</p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND * / INTO COSTS（TIME_ID，PROD_ID，UNIT_COST，UNIT_PRICE）SELECT TIME_ID，PROD_ID，AVG（UNIT_COST），AVG（amount_sold / quantity_sold）FROM sales_transactions_ext GROUP BY time_id，prod_id;</pre><div class="infoboxnotealso" id="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E__GUID-0B77661A-7303-4873-B184-AAB8294FC45E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关外部表语法的完整说明，请<a href="../sqlrf/ALTER-TABLE.html#SQLRF53428" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../sutil/oracle-sql-loader-concepts.html#SUTIL995" target="_blank"><span class="italic">Oracle数据库实用程序</span></a>的用例</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8313"></a><div class="props_rev_3"><a id="GUID-16CA33C9-77A1-494A-8170-F4703D2C0447" name="GUID-16CA33C9-77A1-494A-8170-F4703D2C0447"></a><h4 id="DWHSG-GUID-16CA33C9-77A1-494A-8170-F4703D2C0447" class="sect4"><span class="enumeration_section">18.2.3</span>使用OCI和Direct-Path API加载数据仓库</h4>
                  <div>
                     <p>当转换和计算在数据库外部完成并且不需要平面文件暂存时，经常使用OCI和直接路径API。</p>
                  </div>
               </div><a id="DWHSG8314"></a><div class="props_rev_3"><a id="GUID-5904B997-7D60-4553-82CA-91709E040F5A" name="GUID-5904B997-7D60-4553-82CA-91709E040F5A"></a><h4 id="DWHSG-GUID-5904B997-7D60-4553-82CA-91709E040F5A" class="sect4"><span class="enumeration_section">18.2.4</span>使用导出/导入加载数据仓库</h4>
                  <div>
                     <p>将数据按原样插入目标系统时，将使用导出和导入。没有复杂的提取是可能的。有关详细信息，请参阅<a href="extraction-data-warehouses.html#GUID-7C9793D3-10E7-40BB-80FF-627C7160D044">数据仓库中的提取</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="DWHSG8315"></a><div class="props_rev_3"><a id="GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186" name="GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186"></a><h3 id="DWHSG-GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186" class="sect3"><span class="enumeration_section">18.3</span>数据仓库中的转换机制</h3>
               <div>
                  <p>您可以使用以下选项来转换数据库中的数据：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90">使用SQL转换数据</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-11660715-44A7-4687-8E4B-2C18B8339A1D">使用PL / SQL转换数据</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-98157B1C-86EC-4888-9760-DB0164D2A832">使用表函数转换数据</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8316"></a><div class="props_rev_3"><a id="GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90" name="GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90"></a><h4 id="DWHSG-GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90" class="sect4"><span class="enumeration_section">18.3.1</span>使用SQL转换数据</h4>
                  <div>
                     <div class="section">
                        <p><a id="d63021e713" class="indexterm-anchor"></a>将数据加载到数据库后，可以使用SQL操作执行数据转换。实现SQL数据转换有四种基本技术：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0">创建表...AS SELECT和INSERT / * + APPEND * / AS SELECT</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00">使用UPDATE转换数据</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-033C3049-7936-46C2-881C-14BA409D294B">使用MERGE转换数据</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854">使用多重INSERT转换数据</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG8317"></a><div class="props_rev_3"><a id="GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0" name="GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0"></a><h5 id="DWHSG-GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0" class="sect5"><span class="enumeration_section">18.3.1.1</span>创建表...AS SELECT和INSERT / * + APPEND * / AS SELECT</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ......<code class="codeph">AS</code> <code class="codeph">SELECT</code>语句（CTAS）是一种用于处理大量数据的强大工具。如以下示例所示，许多数据转换可以在标准SQL中表示，CTAS提供了一种有效执行SQL查询并将该查询的结果存储在新数据库表中的机制。<code class="codeph">INSERT</code> / * + <code class="codeph">APPEND</code> * / ...<code class="codeph">AS</code> <code class="codeph">SELECT</code>语句提供与现有数据库表相同的功能。
                           </p>
                           <p>在数据仓库环境中，CTAS通常使用<code class="codeph">NOLOGGING</code>模式并行运行以获得最佳性能。
                           </p>
                           <p>一种简单而常见的数据转换类型是数据替换。在数据替换转换中，修改单个列的部分或全部值。例如，我们的<code class="codeph">sales</code>表有一个<code class="codeph">channel_id</code>列。此栏显示特定销售交易是由公司自己的销售团队（直接销售）还是由分销商（间接销售）制作。
                           </p>
                           <p>您可以从数据仓库的多个源系统接收数据。假设其中一个源系统仅处理直接销售，因此源系统不知道间接销售渠道。当数据仓库最初从此系统接收销售数据时，所有销售记录都具有<code class="codeph">sales.channel_id</code>字段的<code class="codeph">NULL</code>值。必须将这些<code class="codeph">NULL</code>值设置为正确的键值。例如，您可以使用SQL函数有效地执行此操作，作为插入目标sales表语句的一部分。源表<code class="codeph">sales_activity_direct</code>的结构如下：</p><pre class="oac_no_warn" dir="ltr">DESC sales_activity_direct名称是否为空？输入------------ ----- ---------------- SALES_DATE DATE PRODUCT_ID NUMBER CUSTOMER_ID NUMBER PROMOTION_ID个数量AMONUNT NUMBER QUANTITY NUMBER</pre><p>以下SQL语句将<code class="codeph">sales_activity_direct</code>数据插入到示例模式的<code class="codeph">sales</code>表中，使用SQL函数将销售日期值截断为午夜时间并指定固定通道ID为3。
                           </p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND NOLOGGING PARALLEL * / INTO销售SELECT product_id，customer_id，TRUNC（sales_date），3，promotion_id，数量，金额FROM sales_activity_direct;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8318"></a><div class="props_rev_3"><a id="GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00" name="GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00"></a><h5 id="DWHSG-GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00" class="sect5"><span class="enumeration_section">18.3.1.2</span>使用UPDATE转换数据</h5>
                     <div>
                        <div class="section">
                           <p>实现数据替换的另一种技术是使用<code class="codeph">UPDATE</code>语句来修改<code class="codeph">sales.channel_id</code>列。<code class="codeph">UPDATE</code>提供正确的结果。但是，如果数据替换转换要求修改很大比例的行（或所有行），则使用CTAS语句比使用<code class="codeph">UPDATE</code>更有效。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8321"></a><a id="DWHSG8319"></a><div class="props_rev_3"><a id="GUID-033C3049-7936-46C2-881C-14BA409D294B" name="GUID-033C3049-7936-46C2-881C-14BA409D294B"></a><h5 id="DWHSG-GUID-033C3049-7936-46C2-881C-14BA409D294B" class="sect5"><span class="enumeration_section">18.3.1.3</span>使用MERGE转换数据</h5>
                     <div>
                        <div class="section">
                           <p>Oracle数据库的合并功能通过引入SQL关键字<code class="codeph">MERGE</code>扩展SQL，以便能够有条件地将行更新或插入到表或单行表视图中。条件在<code class="codeph">ON</code>子句中指定。除了纯批量加载之外，这是数据仓库同步中最常见的操作之一。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-033C3049-7936-46C2-881C-14BA409D294B__i1006454">
                           <p class="titleinexample">示例18-1使用SQL合并操作</p>
                           <p>以下示例讨论了合并的各种实现。它假定维度表产品的新数据传播到数据仓库，并且必须插入或更新。表<code class="codeph">products_delta</code>具有相同的结构<code class="codeph">products</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">MERGE INTO产品t使用products_delta s ON（t.prod_id = s.prod_id）当匹配时更新设置t.prod_list_price = s.prod_list_price，t.prod_min_price = s.prod_min_price什么时候不匹配然后插入（prod_id，prod_name，prod_desc，prod_subcategory ，prod_subcategory_desc，prod_category，prod_category_desc，prod_status，prod_list_price，prod_min_price）VALUES（s.prod_id，s.prod_name，s.prod_desc，s.prod_subcategory，s.prod_subcategory_desc，s.prod_category，s.prod_category_desc，s.prod_status，s.prod_list_price ，s.prod_min_price）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG8323"></a><a id="DWHSG8324"></a><a id="DWHSG8325"></a><a id="DWHSG8326"></a><a id="DWHSG8322"></a><div class="props_rev_3"><a id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854" name="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854"></a><h5 id="DWHSG-GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854" class="sect5"><span class="enumeration_section">18.3.1.4</span>使用<span class="enumeration_section">多重</span> INSERT转换数据</h5>
                     <div>
                        <div class="section">
                           <p>很多时候，外部数据源必须基于逻辑属性进行隔离，以便插入到不同的目标对象中。在数据仓库环境中，将相同的源数据扇出到多个目标对象中也很常见。多表插入为这些类型的转换提供了新的SQL语句，其中数据最终可以在几个或一个目标中结束，具体取决于业务转换规则。这种插入可以根据业务规则有条件地进行，也可以无条件地进行。</p>
                           <p>它提供<code class="codeph">INSERT</code>的好处......<code class="codeph">SELECT</code>多个表作为目标时的<code class="codeph">SELECT</code>语句。在这样做时，它避免了两个明显替代方案的缺点。您必须处理<span class="italic">n个</span>独立的<code class="codeph">INSERT</code> ... <code class="codeph">SELECT</code>语句，因此处理相同的源数据<span class="italic">n</span>次并增加转换工作量<span class="italic">n</span>次。或者，您必须选择一个程序方法，每行确定如何处理插入。此解决方案无法直接访问SQL中可用的高速访问路径。</p>
                           <p>与现有的<code class="codeph">INSERT</code> ......<code class="codeph">SELECT</code>语句，新语句可以并行化并与直接加载机制一起使用，以提高性能。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-35298AB6-DA03-4C43-9C91-F786FDB70E61">
                           <p class="titleinexample">例18-2无条件插入</p>
                           <p>以下语句每天汇总存储在<code class="codeph">sales_activity_direct</code>的交易销售信息，并插入当天的<code class="codeph">sales</code>和<code class="codeph">costs</code>事实表。
                           </p><pre class="oac_no_warn" dir="ltr">INSERT ALL INTO销售价值（product_id，customer_id，today，3，promotion_id，quantity_per_day，amount_per_day）INTO成本VALUES（product_id，today，promotion_id，3，product_cost，product_price）SELECT TRUNC（s.sales_date）AS今天，s.product_id， s.customer_id，s.promotion_id，SUM（s.amount）AS amount_per_day，SUM（s.quantity）quantity_per_day，p.prod_min_price * 0.8 AS product_cost，p.prod_list_price AS product_price FROM sales_activity_direct s，products p WHERE s.product_id = p .prod_id AND TRUNC（sales_date）= TRUNC（SYSDATE）GROUP BY TRUNC（sales_date），s.product_id，s.customer_id，s.promotion_id，p.prod_min_price * 0.8，p.prod_list_price;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-83B9F592-5612-4A97-B8AC-5B6FB5DE0D17">
                           <p class="titleinexample">例18-3条件ALL插入</p>
                           <p>以下语句在具有有效促销的所有销售交易的<code class="codeph">sales</code>和<code class="codeph">costs</code>表中插入一行，并将有关客户的多个相同订单的信息存储在单独的表<code class="codeph">cum_sales_activity</code> 。对于某些销售交易，可能会插入两行，而对其他销售交易则不会。
                           </p><pre class="oac_no_warn" dir="ltr">INSERT ALLENENENDEN_IN（SELECT promo_id FROM promotion）THEN INTO sales VALUES（product_id，customer_id，today，3，promotion_id，quantity_per_day，amount_per_day）INTO成本VALUES（product_id，today，promotion_id，3，product_cost，product_price）当num_of_orders&gt; 1时然后INTO cum_sales_activity VALUES（今天，product_id，customer_id，promotion_id，quantity_per_day，amount_per_day，num_of_orders）今天选择TRUNC（s.sales_date）AS，s.product_id，s.customer_id，s.promotion_id，SUM（s.amount）AS amount_per_day， SUM（s.quantity）quantity_per_day，COUNT（*）num_of_orders，p.prod_min_price * 0.8 AS product_cost，p.prod_list_price AS product_price FROM sales_activity_direct s，products p WHERE s.product_id = p.prod_id AND TRUNC（sales_date）= TRUNC（SYSDATE ）GROUP BY TRUNC（sales_date），s.product_id，s.customer_id，s.promotion_id，p.prod_min_price * 0.8，p.prod_list_price;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-348DCBDD-BB6A-4F54-893D-ECE3E180D1E5">
                           <p class="titleinexample">例18-4条件FIRST插入</p>
                           <p>以下声明根据产品订单的总数量和重量插入到适当的货运清单中。高价值订单例外，也是快递发送的，除非它们的权重分类太高。在这个简单的例子中，所有不正确的订单都表示为没有数量的订单，存储在一个单独的表中。它假定存在适当的表<code class="codeph">large_freight_shipping</code> ， <code class="codeph">express_shipping</code> ， <code class="codeph">default_shipping</code>和<code class="codeph">incorrect_sales_order</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">INSERT FIRST WHEN（sum_quantity_sold&gt; 10 AND prod_weight_class &lt;5）AND sum_quantity_sold&gt; = 1）OR（sum_quantity_sold&gt; 5 AND prod_weight_class&gt; 5）THEN INTO large_freight_shipping VALUES（time_id，cust_id，prod_id，prod_weight_class，sum_quantity_sold）当sum_amount_sold&gt; 1000 AND sum_quantity_sold&gt; = 1那么INTO express_shipping VALUES（time_id，cust_id，prod_id，prod_weight_class，sum_amount_sold，sum_quantity_sold）WHEN（sum_quantity_sold&gt; = 1）那么INTO default_shipping VALUES（time_id，cust_id，prod_id，sum_quantity_sold）ELSE INTO incorrect_sales_order VALUES（time_id，cust_id，prod_id） SELECT s.time_id，s.cust_id，s.prod_id，p.prod_weight_class，SUM（amount_sold）AS sum_amount_sold，SUM（quantity_sold）AS sum_quantity_sold FROM sales s，products p WHERE s.prod_id = p.prod_id AND s.time_id = TRUNC （SYSDATE）GROUP BY s.time_id，s.cust_id，s.prod_id，p.prod_weight_class;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-6B1707BA-287E-4409-B935-CCBE18BB8EE9">
                           <p class="titleinexample">例18-5混合条件和无条件插入</p>
                           <p>以下示例将新客户插入到<code class="codeph">customers</code>表中，并将<code class="codeph">cust_credit_limit</code>高于4500的所有新客户存储在另一个单独的表中以进行进一步的促销。
                           </p><pre class="oac_no_warn" dir="ltr">首先插入cust_credit_limit&gt; = 4500然后INTO客户INTO customers_special VALUES（cust_id，cust_credit_limit）ELSE INTO客户SELECT * FROM customers_new;</pre><div class="infoboxnotealso" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-EC09222A-5C7B-42BC-BBF5-8479F656F857">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="refreshing-materialized-views.html#GUID-64068234-BDB0-4C12-AE70-75571046A586" title="每次在任何物化视图的基表上执行DML操作时，都会自动刷新使用ON STATEMENT刷新模式的物化视图。Oracle数据库对使用近似查询定义的物化视图执行快速刷新。在使用DBMS_REDEFINITION包在线重新定义表时，可以执行依赖于正在重新定义的表的快速可刷新实体化视图的增量刷新。您可以使用完整，快速或PCT刷新方法刷新基于混合分区表的实例化视图。">刷新物化视图</a>以获取有关<code class="codeph">MERGE</code>操作的更多信息</p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DWHSG8327"></a><div class="props_rev_3"><a id="GUID-11660715-44A7-4687-8E4B-2C18B8339A1D" name="GUID-11660715-44A7-4687-8E4B-2C18B8339A1D"></a><h4 id="DWHSG-GUID-11660715-44A7-4687-8E4B-2C18B8339A1D" class="sect4"><span class="enumeration_section">18.3.2</span>使用PL / SQL转换数据</h4>
                  <div>
                     <p>在数据仓库环境中，您可以使用PL / SQL等过程语言在Oracle数据库中实现复杂的转换。CTAS在整个表上运行并强调并行性，而PL / SQL提供了基于行的接近，并且可以容纳非常复杂的转换规则。例如，PL / SQL过程可以打开多个游标并从多个源表读取数据，使用复杂的业务规则组合这些数据，最后将转换后的数据插入到一个或多个目标表中。使用标准SQL语句表达相同的操作序列是困难的或不可能的。</p>
                     <p>使用过程语言，可以封装复杂ETL处理中的特定转换（或转换步骤的数量），从中间转移区域读取数据并生成新的表对象作为输出。先前生成的转换输入表和后续转换将使用由此特定转换生成的表。或者，可以无缝地集成完整ETL过程中的这些封装的转换步骤，从而在彼此之间流动行集，而无需中间分级。您可以使用表函数来实现此类行为。</p>
                  </div>
               </div><a id="DWHSG8328"></a><div class="props_rev_3"><a id="GUID-98157B1C-86EC-4888-9760-DB0164D2A832" name="GUID-98157B1C-86EC-4888-9760-DB0164D2A832"></a><h4 id="DWHSG-GUID-98157B1C-86EC-4888-9760-DB0164D2A832" class="sect4"><span class="enumeration_section">18.3.3</span>使用表函数转换数据</h4>
                  <div>
                     <p>表函数提供对PL / SQL，C或Java中实现的转换的流水线和并行执行的支持。 <span class="bold"> </span>可以在不需要使用中间登台表的情况下完成前面提到的场景，中间登台表通过各种转换步骤中断数据流。有关表函数的详细信息，请参阅<span class="q">“ <a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B">什么是表函数？</a>“</span> 。
                     </p>
                  </div><a id="DWHSG8330"></a><a id="DWHSG8331"></a><a id="DWHSG8332"></a><a id="DWHSG8329"></a><div class="props_rev_3"><a id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B" name="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B"></a><h5 id="DWHSG-GUID-53CA1DE7-F323-46AA-8803-C76E1642486B" class="sect5"><span class="enumeration_section">18.3.3.1</span>什么是表函数？
                     </h5>
                     <div>
                        <p>表函数定义为可以生成一组行作为输出的函数。此外，表函数可以将一组行作为输入。在Oracle9 <span class="italic">i</span>之前，PL / SQL函数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>无法将游标作为输入。</p>
                           </li>
                           <li>
                              <p>无法并行化或流水线化。</p>
                           </li>
                        </ul>
                        <p>现在，功能不限于这些方式。表函数允许以下内容扩展数据库功能</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从函数返回多行。</p>
                           </li>
                           <li>
                              <p>SQL子查询（选择多行）的结果直接传递给函数。</p>
                           </li>
                           <li>
                              <p>函数将游标作为输入。</p>
                           </li>
                           <li>
                              <p>功能可以并行化。</p>
                           </li>
                           <li>
                              <p>一旦创建结果集，就会逐步返回结果集以进行进一步处理。这称为增量流水线</p>
                           </li>
                        </ul>
                        <p>表函数可以使用本机PL / SQL接口在PL / SQL中定义，也可以使用Oracle数据盒式接口（ODCI）在Java或C中定义。</p>
                        <div class="infoboxnotealso" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-012AFC1F-DF1D-428F-8B0A-D5C4EAFDFCD1">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关详细信息，请<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01210" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../addci/using-pipelined-and-parallel-table-functions.html#ADDCI2140" target="_blank"><span class="italic">Oracle Database Data Cartridge开发人员指南</span></a>以获取更多信息</p>
                              </li>
                           </ul>
                        </div>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__I1006638">图18-3</a>说明了一个典型的聚合，在这种聚合中，您输入一组行并输出一组行，在这种情况下，执行<code class="codeph">SUM</code>操作后。
                        </p>
                        <div class="figure" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__I1006638">
                           <p class="titleinfigure">图18-3表功能示例</p><img src="img/dwhsg084.gif" alt="下面是图18-3的描述" title="下面是图18-3的描述" longdesc="img_text/dwhsg084.html"><br><a href="img_text/dwhsg084.html">“图18-3表函数示例”的说明</a></div>
                        <!-- class="figure" -->
                        <p>此操作的伪代码类似于：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO SELECT SELECT * FROM（“表函数”（SELECT * FROM In））;</pre><p>该表函数采用的结果<code class="codeph">SELECT</code>上<code class="codeph">In</code>作为输入，并以不同的格式作为用于直接插入到输出端提供一组记录<code class="codeph">Out</code> 。
                        </p>
                        <p>此外，表函数可以扇出原子事务范围内的数据。这可以用于许多场合，例如高效的日志记录机制或用于其他独立转换的扇出。在这种情况下，需要一个临时表。</p>
                        <div class="figure" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-999253ED-2787-4948-B9B0-40D96C6CD5A8">
                           <p class="titleinfigure">图18-4使用扇出的流水线并行转换</p><img src="img/dwhsg079.gif" alt="下面是图18-4的描述" title="下面是图18-4的描述" longdesc="img_text/dwhsg079.html"><br><a href="img_text/dwhsg079.html">“图18-4带扇出的流水线并行转换”的描述</a></div>
                        <!-- class="figure" -->
                        <p>这个伪代码类似于：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO目标SELECT * FROM（tf2（SELECT * FROM（tf1（SELECT * FROM source））））;</pre><p>这将插入到<code class="codeph">target</code>并作为<code class="codeph">tf1</code>一部分插入到原子事务范围内的<code class="codeph">Stage</code> <code class="codeph">Table</code> <code class="codeph">1</code>中。
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO目标SELECT * FROM tf3（SELT * FROM stage_table1）;</pre><div class="infoboxnotealso" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-926150FA-ADB1-46D0-94A5-0EA5D04FA3B6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关表函数的详细信息，请<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01210" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../addci/using-pipelined-and-parallel-table-functions.html#ADDCI2140" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a> ，了解有关以PL / SQL以外的语言实现的表函数的详细信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="section">
                           <p class="subhead3" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-0C215ACE-E2B1-4B2D-9B06-98365261B1CD">运行表函数示例之前要创建的对象</p>
                           <p>以下示例演示了表函数的基础知识，而不使用在这些函数中实现的复杂业务规则。它们仅用于演示目的，并且都在PL / SQL中实现。</p>
                           <p>表函数返回记录集，可以将游标作为输入。除了<code class="codeph">sh</code>示例模式，你必须使用实例之前设置以下数据库对象：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE product_t AS OBJECT（prod_id NUMBER（6），prod_name VARCHAR2（50），prod_desc VARCHAR2（4000），prod_subcategory VARCHAR2（50），prod_subcategory_desc VARCHAR2（2000），prod_category VARCHAR2（50），prod_category_desc VARCHAR2（2000），prod_weight_class NUMBER （2），prod_unit_of_measure VARCHAR2（20），prod_pack_size VARCHAR2（30），supplier_id NUMBER（6），prod_status VARCHAR2（20），prod_list_price NUMBER（8,2），prod_min_price NUMBER（8,2））; / CREATE TYPE product_t_table AS TABLE OF product_t; / COMMIT;创建或替换包cursor_PKG AS TYPE product_t_rec是RECORD（prod_id NUMBER（6），prod_name VARCHAR2（50），prod_desc VARCHAR2（4000），prod_subcategory VARCHAR2（50），prod_subcategory_desc VARCHAR2（2000），prod_category VARCHAR2（50），prod_category_desc VARCHAR2（ 2000），prod_weight_class NUMBER（2），prod_unit_of_measure VARCHAR2（20），prod_pack_size VARCHAR2（30），supplier_id NUMBER（6），prod_status VARCHAR2（20），prod_list_price NUMBER（8,2），prod_min_price NUMBER（8,2））; TYPE product_t_rectab IS TABLE of product_t_rec; TYPE strong_refcur_t是REF CURSOR RETURN product_t_rec; TYPE refcur_t是REF CURSOR;结束; / REM人工帮助表，以后使用CREATE TABLE obsolete_products_errors（prod_id NUMBER，msg VARCHAR2（2000））;</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">
                           <p class="titleinexample">例18-6表函数示例：基本示例</p>
                           <p>此示例演示了一个简单的过滤;它显示了除<code class="codeph">prod_category</code> Electronics之外的所有过时产品。table函数将结果集作为一组记录返回，并使用弱类型的<code class="codeph">REF</code> <code class="codeph">CURSOR</code>作为输入。
                           </p><pre class="oac_no_warn" dir="ltr">创建或替换功能obsolete_products（cur cursor_pkg.refcur_t）RETURN product_t_table IS prod_id NUMBER（6）; prod_name VARCHAR2（50）; prod_desc VARCHAR2（4000）; prod_subcategory VARCHAR2（50）; prod_subcategory_desc VARCHAR2（2000）; prod_category VARCHAR2（50）; prod_category_desc VARCHAR2（2000）; prod_weight_class NUMBER（2）; prod_unit_of_measure VARCHAR2（20）; prod_pack_size VARCHAR2（30）; supplier_id NUMBER（6）; prod_status VARCHAR2（20）; prod_list_price NUMBER（8,2）; prod_min_price NUMBER（8,2）;销售数量：= 0; objset product_t_table：= product_t_table（）;我号码：= 0; BEGIN LOOP  - 从游标变量FETCH获取INTO prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price;当cur％NOTFOUND时退出; - 获取最后一行时退出 - 类别电子产品并不意味着过时，如果prod_status ='过时'和prod_category将被抑制！='电子'然后 - 附加到集合i：= i + 1; objset.extend; objset（i）：= product_t（prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price）;万一;结束循环;关闭cur;返回objset;结束; /</pre><p>您可以在SQL语句中使用表函数来显示结果。在这里，您可以为输出使用其他SQL功能：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT UPPER（prod_category），prod_status FROM TABLE（obsolete_products（CURSOR（SELECT prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price FROM products）））;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-32FB1B25-A469-4EF9-8A7F-6529447A8379">
                           <p class="titleinexample">例18-7表函数示例：使用REF CURSOR进行过滤</p>
                           <p>此示例实现与<a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">示例18-6</a>相同的过滤。两者之间的主要区别是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>此示例使用强类型<code class="codeph">REF</code> <code class="codeph">CURSOR</code>作为输入，并且可以基于强类型游标的对象进行并行化，如以下示例之一所示。
                                 </p>
                              </li>
                              <li>
                                 <p>表函数在创建记录后立即以递增方式返回结果集。</p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">创建或替换功能obsolete_products_pipe（cur cursor_pkg.strong_refcur_t）RETURN product_t_table PIPELINED PARALLEL_ENABLE（PARTITION cur BY ANY）是prod_id NUMBER（6）; prod_name VARCHAR2（50）; prod_desc VARCHAR2（4000）; prod_subcategory VARCHAR2（50）; prod_subcategory_desc VARCHAR2（2000）; prod_category VARCHAR2（50）; prod_category_desc VARCHAR2（2000）; prod_weight_class NUMBER（2）; prod_unit_of_measure VARCHAR2（20）; prod_pack_size VARCHAR2（30）; supplier_id NUMBER（6）; prod_status VARCHAR2（20）; prod_list_price NUMBER（8,2）; prod_min_price NUMBER（8,2）;销售数量：= 0; BEGIN LOOP  - 从游标变量FETCH获取INTO prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price;当cur％NOTFOUND时退出; - 获取最后一行时退出如果prod_status ='过时'和prod_category！='电子'然后管道（product_t（prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price））;万一;结束循环;关闭cur;返回;结束; /</pre><p>您可以使用表函数，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category，DECODE（prod_status，'过时'，'NO LONGER AVAILABLE'，'N / A'）FROM TABLE（obsolete_products_pipe（CURSOR（SELECT prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure， prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price FROM products）））;</pre><p>您现在可以更改输入表产品的并行度，并再次发出相同的语句：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE产品PARALLEL 4;</pre><p>会话统计信息显示该语句已并行化：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V $ PQ_SESSTAT WHERE statistic ='Queries parallelized'; STATISTIC LAST_QUERY SESSION_TOTAL -------------------- ---------- -------------查询并行化1 3选择了1行。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-F06815AD-5A85-4D00-9517-623F1DE58B40">
                           <p class="titleinexample">示例18-8表函数示例：将结果展示到持久表中</p>
                           <p>表函数还能够将结果扇出到持久表结构中。在此示例中，该函数会过滤除特定<code class="codeph">prod_category</code> （默认为Electronics）之外的所有过时产品，这些产品已设置为因错误而<code class="codeph">obsolete</code>的状态。表函数的结果集包含所有其他过时的产品类别。检测到的错误<code class="codeph">prod_id</code> ID存储在单独的表结构<code class="codeph">obsolete_products_error</code> 。请注意，如果表函数是自治事务的一部分，则必须在每个<code class="codeph">PIPE</code> <code class="codeph">ROW</code>语句之前执行<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code> ，以避免调用子程序中的错误。其结果集包含所有其他过时的产品类别。它还演示了如何将正常变量与表函数结合使用：</p><pre class="oac_no_warn" dir="ltr">创建或替换功能obsolete_products_dml（cur cursor_pkg.strong_refcur_t，prod_cat varchar2 DEFAULT'Electronics'）RETURN product_t_table PIPELINED PARALLEL_ENABLE（PARTITION cur BY ANY）是PRAGMA AUTONOMOUS_TRANSACTION; prod_id NUMBER（6）; prod_name VARCHAR2（50）; prod_desc VARCHAR2（4000）; prod_subcategory VARCHAR2（50）; prod_subcategory_desc VARCHAR2（2000）; prod_category VARCHAR2（50）; prod_category_desc VARCHAR2（2000）; prod_weight_class NUMBER（2）; prod_unit_of_measure VARCHAR2（20）; prod_pack_size VARCHAR2（30）; supplier_id NUMBER（6）; prod_status VARCHAR2（20）; prod_list_price NUMBER（8,2）; prod_min_price NUMBER（8,2）;销售数量：= 0; BEGIN LOOP  - 从游标变量FETCH获取INTO prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price;当cur％NOTFOUND时退出; - 当获取最后一行时退出如果prod_status ='过时'那么如果prod_category = prod_cat那么INSERT INTO obsolete_products_errors VALUES（prod_id，'correction：category'|| UPPER（prod_cat）||'仍然可用'）;承诺; ELSE PIPE ROW（product_t（prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price））;万一;万一;结束循环;关闭cur;返回;结束; /</pre><p>以下查询显示除<code class="codeph">prod_category</code> Electronics之外的所有过时产品组，错误地将其设置为<code class="codeph">obsolete</code>状态：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category，prod_status FROM TABLE（obsolete_products_dml（CURSOR（SELECT prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price FROM products）））;</pre><p>正如您所看到的， <code class="codeph">prod_category</code> Electronics的一些产品被意外淘汰：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT msg FROM obsolete_products_errors;</pre><p>利用第二个输入变量，您可以指定与电子设备不同的产品组：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category，prod_status FROM TABLE（obsolete_products_dml（CURSOR（SELECT prod_id，prod_name，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price FROM products），'Photo'））;</pre><p>因为表函数可以像普通表一样使用，所以它们可以嵌套，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category，prod_status FROM TABLE（obsolete_products_dml（CURSOR（SELECT * FROM TABLE（obsolete_products_pipe（CURSOR（SELECT PROD_ID，PROD_NAME，prod_desc，prod_subcategory，prod_subcategory_desc，prod_category，prod_category_desc，prod_weight_class，prod_unit_of_measure，prod_pack_size，supplier_id，prod_status，prod_list_price，prod_min_price FROM产品））））））;</pre><p>Oracle数据库ETL的最大优势是其工具包功能，您可以将后面讨论的任何功能组合在一起，以改进和加速您的ETL处理。例如，您可以将外部表作为输入，将其与现有表连接，并将其用作并行化表函数的输入，以处理复杂的业务逻辑。此表函数可用作<code class="codeph">MERGE</code>操作的输入源，从而流式传输数据仓库的新信息，通过完整的ETL过程在单个语句中的平面文件中提供。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8333"></a><div class="props_rev_3"><a id="GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" name="GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A"></a><h3 id="DWHSG-GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" class="sect3"><span class="enumeration_section">18.4</span>错误记录和处理机制</h3>
               <div>
                  <p>在加载和转换数据时，特别是在处理来自各种来源（包括外部数据）的数据时，非干净的数据非常常见。如果此脏数据导致您中止长时间运行的加载或转换操作，则会浪费大量时间和资源。
                  </p>
                  <p>以下主题讨论了错误的两个主要原因以及如何解决它们：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89">业务规则违规</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-92563272-9748-4A5F-882E-7A645BF69859" title="在数据转换过程中使用的外部数据有时可能不准确，从而导致数据转换错误。某些SQL函数可用于处理数据转换错误。">数据规则违规（数据错误）</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8334"></a><div class="props_rev_3"><a id="GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89" name="GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89"></a><h4 id="DWHSG-GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89" class="sect4"><span class="enumeration_section">18.4.1</span>违反业务规则</h4>
                  <div>
                     <p>逻辑上不干净的数据违反了在任何数据消耗之前已知的业务规则。大多数情况下，处理这些错误将被纳入加载或转换过程。但是，在所有记录的错误标识变得过于昂贵并且业务规则可以作为数据规则违规强制执行的情况下，例如，测试数百列以查看它们是否<code class="codeph">NOT</code> <code class="codeph">NULL</code> ，程序员通常会选择处理甚至已知可能的逻辑错误情况更普遍。<span class="q">“ <a href="loading-transformation-date-warehouses.html#GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0">数据错误方案</a> ”中</span>显示了此示例。
                     </p>
                     <p>合并逻辑规则可以像在数据输入流上应用过滤条件一样简单，也可以像将脏数据输入不同的转换工作流一样复杂。一些例子如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用SQL过滤逻辑数据错误。在处理之前过滤掉不符合某些条件的数据。</p>
                        </li>
                        <li>
                           <p>识别和分离逻辑数据错误。在简单的情况下，这可以使用SQL来完成，如<a href="loading-transformation-date-warehouses.html#GUID-033C3049-7936-46C2-881C-14BA409D294B__i1006454">例18-1</a>所示，或者在过程方法中的更复杂的情况下，如<a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">例18-6</a>所示。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG8335"></a><div class="props_rev_3"><a id="GUID-92563272-9748-4A5F-882E-7A645BF69859" name="GUID-92563272-9748-4A5F-882E-7A645BF69859"></a><h4 id="DWHSG-GUID-92563272-9748-4A5F-882E-7A645BF69859" class="sect4"><span class="enumeration_section">18.4.2</span>数据规则违规（数据错误）</h4>
                  <div>
                     <p>与逻辑错误不同，加载或转换过程通常不会预期数据规则违规。未从操作处理的此类意外数据规则违规（也称为数据错误）会导致操作失败。数据规则违规是数据库内发生的错误情况，导致语句失败。例如，数据类型转换错误或约束违规。</p>
                     <p></p>
                     <p>过去，SQL没有提供在行级别处理数据错误的方法，作为批量处理的一部分。处理数据库内部数据错误的唯一方法是使用PL / SQL。但是，现在，您可以在DML操作继续时将数据错误记录到特殊错误表中。您还可以使用SQL函数处理数据转换错误。</p>
                     <p>以下部分简要讨论了各种异常处理策略：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" title="在数据转换过程中使用的外部数据有时可能不准确，从而导致数据转换错误。某些SQL函数可用于处理数据转换错误。">使用SQL处理数据错误</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29">处理PL / SQL中的数据错误</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54">使用错误记录表处理数据错误</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="sect4"><a id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" name="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0"></a><h5 id="DWHSG-GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" class="sect5"><span class="enumeration_section">18.4.2.1</span>使用SQL处理数据错误</h5>
                     <div>
                        <p>在数据转换过程中使用的外部数据有时可能不准确，从而导致数据转换错误。某些SQL函数可用于处理数据转换错误。</p>
                        <div class="p">
                           <p></p>
                           <p>必须将<code class="codeph">COMPATIBLE</code>参数设置为12.2才能使用处理数据转换错误的SQL函数。
                           </p>
                           <p>以下策略可用于处理SQL函数的数据转换错误：</p>
                        </div>
                        <!-- class="section" -->
                        <ul>
                           <li class="stepexpand"><span>显式过滤有效或无效数据</span><div>
                                 <p><code class="codeph">VALIDATE_CONVERSION</code>函数标识无法转换为所需数据类型的问题数据。如果给定表达式可以转换为指定的数据类型，则返回1，否则返回0。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>SQL数据类型转换函数中的错误处理</span><div>
                                 <p>发生数据类型转换错误时， <code class="codeph">CAST</code> ， <code class="codeph">TO_NUMBER</code> ， <code class="codeph">TO_BINARY_FLOAT</code> ， <code class="codeph">TO_BINARY_DOUBLE</code> ， <code class="codeph">TO_DATE</code> ， <code class="codeph">TO_TIMESTAMP</code> ， <code class="codeph">TO_TIMESTAMP_TZ</code> ， <code class="codeph">TO_DSINTERVAL</code>和<code class="codeph">TO_YMINTERVAL</code>函数可以返回用户指定的值，而不是错误。这减少了ETL过程中的故障。
                                 </p>
                                 <p>仅在转换表达式时发生错误时才返回用户指定的值，而不是在计算表达式时。<code class="codeph">CAST</code>函数还允许格式字符串和NLS参数字符串作为某些数据类型的参数。
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <div class="example" id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0__GUID-C01B88B1-1D36-42E1-9488-C49C89888DE9">
                           <p class="titleinexample">示例18-9使用VALIDATE_CONVERSION和CAST处理数据转换错误</p>
                           <p>假设数据从<code class="codeph">TMP_PRODUCTS</code>表加载到<code class="codeph">PRODUCTS</code>表中。两个表中列的数量和名称相同，但<code class="codeph">prod_id</code>列的数据类型不同。<code class="codeph">PRODUCTS</code>表中的<code class="codeph">prod_id</code>列的数据类型为<code class="codeph">NUMBER</code> 。虽然<code class="codeph">TMP_PRODUCTS</code>表中<code class="codeph">prod_id</code>列中的数据是数字，但其数据类型为<code class="codeph">VARCHAR2</code> 。而将数据加载到<code class="codeph">PRODUCTS</code>表中，可以处理的数据类型转换错误<code class="codeph">prod_id</code>由任一柱过滤出含不正确的行<code class="codeph">prod_id</code>值或分配用于一个默认值<code class="codeph">prod_id</code>不能被转换为值<code class="codeph">NUMBER</code> 。</p>
                           <p>以下命令将<code class="codeph">TMP_PRODUCTS</code>表中的数据加载到<code class="codeph">PRODUCTS</code>表中。只插入<code class="codeph">tmp_products.prod_id</code>可以成功转换为数值的行。
                           </p><pre class="pre codeblock"><code>INSERT INTO PRODUCTS（SELECT prod_id，prod_name，prod_desc，prod_category_id，prod_category_name，prod_category_desc，prod_list_price FROM tmp_products WHERE VALIDATE_CONVERSION（prod_id AS NUMBER）= 1）;</code></pre><p>您可以使用<code class="codeph">CAST</code>函数来处理导致数据类型转换错误的<code class="codeph">prod_id</code>值。以下<code class="codeph">INSERT</code>命令将<code class="codeph">TMP_PRODUCTS</code>表中的数据加载到<code class="codeph">PRODUCTS</code>表中。与<code class="codeph">prod_id</code>使用的<code class="codeph">CAST</code>函数可确保在发生数据类型转换错误时将默认值0分配给<code class="codeph">prod_id</code> 。这可确保加载操作不会因数据类型转换错误而失败。
                           </p><pre class="pre codeblock"><code>INSERT INTO PRODUCTS（SELECT CAST（prod_id AS NUMBER DEFAULT 0 ON CONVERSION ERROR），prod_name，prod_desc，prod_category_id，prod_category_name，prod_category_desc，prod_list_price FROM tmp_products）;</code></pre><div class="infoboxnotealso" id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0__GUID-DA74FAC3-7E9C-486C-B23C-CB395515DAC7">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">CAST</code>和<code class="codeph">VALIDATE_CONVERSION</code>函数及其支持的数据类型的详细信息，请<a href="../sqlrf/Functions.html#SQLRF-GUID-D079EFD3-C683-441F-977E-2C9503089982" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG8336"></a><div class="props_rev_3"><a id="GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29" name="GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29"></a><h5 id="DWHSG-GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29" class="sect5"><span class="enumeration_section">18.4.2.2</span>处理PL / SQL中的数据错误</h5>
                     <div>
                        <div class="section">
                           <p>以下语句是使用PL / SQL如何完成错误处理的示例。请注意，您必须使用过程记录级别处理来捕获任何错误。此语句大致相当于<span class="q">“ <a href="loading-transformation-date-warehouses.html#GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54">使用错误记录表处理数据错误</a> ”中</span>讨论的语句。
                           </p><pre class="oac_no_warn" dir="ltr">DECLARE errm编号默认为0; BEGIN FOR crec IN（SELECT product_id，customer_id，TRUNC（sales_date）sd，promotion_id，quantity，amount FROM sales_activity_direct）loop BEGIN INSERT INTO sales VALUES（crec.product_id，crec.customer_id，crec.sd，3，crec.promotion_id，crec .quantity，crec.amount）;异常当其他人然后错误：= sqlerrm; INSERT INTO sales_activity_error VALUES（errm，crec.product_id，crec.customer_id，crec.sd，crec.promotion_id，crec.quantity，crec.amount）;结束; END循环;结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8337"></a><div class="props_rev_3"><a id="GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54" name="GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54"></a><h5 id="DWHSG-GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54" class="sect5"><span class="enumeration_section">18.4.2.3</span>使用错误记录表处理数据错误</h5>
                     <div>
                        <div class="section">
                           <p>DML错误<a id="d63021e1771" class="indexterm-anchor"></a>日志记录通过允许您指定错误日志记录表的名称来扩展现有DML功能，Oracle数据库应记录DML操作期间遇到的错误。这使您可以在出现任何错误的情况下完成DML操作，并在以后对错误的行采取纠正措施。
                           </p>
                           <p>此DML错误记录表由若干强制控制列和一组用户定义的列组成，这些列表示DML操作的目标表的全部或部分列，使用能够存储潜在错误的数据类型。目标栏。例如，您需要在错误记录表中使用<code class="codeph">VARCHAR2</code>数据类型来存储目标表中<code class="codeph">NUMBER</code>列的<code class="codeph">TO_NUM</code>数据类型转换错误。您<a id="d63021e1787" class="indexterm-anchor"></a>应该使用<code class="codeph">DBMS_ERRLOG</code>包来创建DML错误记录表。有关此程序包和日志记录表结构的详细信息，请参阅<a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a> 。
                           </p>
                           <p>DML目标表和错误日志记录表之间的列名称映射确定为DML操作记录除控制列之外的哪些列。</p>
                           <p>以下语句说明了如何<span class="q"><a href="loading-transformation-date-warehouses.html#GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90">使用</a></span> DML错误日志记录增强<span class="q">“ <a href="loading-transformation-date-warehouses.html#GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90">使用SQL转换数据</a> ”中</span>的示例：</p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND PARALLEL * / INTO销售SELECT product_id，customer_id，TRUNC（sales_date），3，promotion_id，数量，金额FROM sales_activity_direct LOG ERRORS INTO sales_activity_errors（'load_20040802'）REJECT LIMIT UNLIMITED</pre><p>所有数据错误都记录在表<code class="codeph">sales_activity_errors</code> ，由可选标记<code class="codeph">load_20040802</code> 。即使存在数据错误， <code class="codeph">INSERT</code>语句也会成功。请注意，在使用此语句之前，必须创建DML错误日志记录表。
                           </p>
                           <p>如果指定了<code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> <code class="codeph">X</code> ，则该语句将失败并显示错误消息<code class="codeph">error X=1</code> 。对于不同的拒绝限制，错误消息可能不同。在失败语句的情况下，仅回滚DML语句，而不是插入DML错误记录表。错误记录表将包含X + 1行。
                           </p>
                           <p>DML错误日志记录表可以与执行用户位于不同的模式中，但在这种情况下必须完全指定表名。可选地，可以省略DML错误记录表的名称;然后Oracle假定由生成的表的默认名称<a id="d63021e1839" class="indexterm-anchor"></a><a id="d63021e1841" class="indexterm-anchor"></a> <code class="codeph">DBMS_ERRLOG</code>包。
                           </p>
                           <p>Oracle数据库在DML操作期间记录以下错误：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>列值太大。</p>
                              </li>
                              <li>
                                 <p>约束违规（ <code class="codeph">NOT</code> <code class="codeph">NULL</code> ，唯一，引用和检查约束）。
                                 </p>
                              </li>
                              <li>
                                 <p>触发器执行期间引发的错误。</p>
                              </li>
                              <li>
                                 <p>子查询中的列与表的相应列之间的类型转换导致的错误。</p>
                              </li>
                              <li>
                                 <p>分区映射错误。</p>
                              </li>
                           </ul>
                           <p>以下条件导致语句失败并回滚而不调用错误日志记录功能：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>违反延迟约束。</p>
                              </li>
                              <li>
                                 <p>空间错误。</p>
                              </li>
                              <li>
                                 <p>任何引发唯一约束或索引冲突的直接路径<code class="codeph">INSERT</code>操作（ <code class="codeph">INSERT</code>或<code class="codeph">MERGE</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p>任何引发唯一约束或索引违例的<code class="codeph">UPDATE</code>操作（ <code class="codeph">UPDATE</code>或<code class="codeph">MERGE</code> ）。
                                 </p>
                              </li>
                           </ul>
                           <p>此外，您无法在<code class="codeph">LONG</code> ， <code class="codeph">LOB</code>或对象类型列的错误记录表中跟踪错误。有关使用错误日志记录时的限制的详细信息，请参阅<a href="../sqlrf/INSERT.html#SQLRF55101" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a>
                           </p>
                           <p>DML错误日志记录可以应用于任何类型的DML操作。以下部分将讨论几个示例。</p>
                           <p>请注意，SQL * Loader作为外部装入实用程序也提供了记录数据错误的功能，但缺少数据库内部集成ETL处理的优势。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8338"></a><div class="props_rev_3"><a id="GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6" name="GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6"></a><h3 id="DWHSG-GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6" class="sect3"><span class="enumeration_section">18.5</span>加载和转换场景</h3>
               <div>
                  <p>以下部分提供了典型加载和转换任务的示例：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378">关键查找场景</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-F03860DA-EE32-46EF-A670-D6E7DE037669">业务规则违规方案</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0">数据错误方案</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD">透视场景</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8339"></a><div class="props_rev_3"><a id="GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378" name="GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378"></a><h4 id="DWHSG-GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378" class="sect4"><span class="enumeration_section">18.5.1</span>关键查找场景</h4>
                  <div>
                     <p><a id="d63021e1993" class="indexterm-anchor"></a>典型的转换是密钥查找。例如，假设销售交易数据已加载到零售数据仓库中。虽然数据仓库的<code class="codeph">sales</code>表包含<code class="codeph">product_id</code>列，但从源系统提取的销售交易数据包含统一价格代码（UPC）而不是产品ID。因此，在将新的销售交易数据插入<code class="codeph">sales</code>表之前，有必要将UPC代码转换为产品ID。
                     </p>
                     <p>为了执行此转换，查找表必须将<code class="codeph">product_id</code>值与UPC代码相关联。此表可能是<code class="codeph">product</code>维度表，也可能是数据仓库中专门为支持此转换而创建的另一个表。对于此示例，您假设有一个名为<code class="codeph">product</code>的表，其中包含<code class="codeph">product_id</code>和<code class="codeph">upc_code</code>列。
                     </p>
                     <p>可以使用以下CTAS语句实现此数据替换转换：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step2 NOLOGGING PARALLEL AS SELECT sales_transaction_id，product.product_id sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount FROM temp_sales_step1，product WHERE temp_sales_step1.upc_code = product.upc_code;</pre><p>此CTAS语句将每个有效的UPC代码转换为有效的<code class="codeph">product_id</code>值。如果ETL过程保证每个UPC代码都有效，那么仅此语句可能足以实现整个转换。
                     </p>
                  </div>
               </div><a id="DWHSG8340"></a><div class="props_rev_3"><a id="GUID-F03860DA-EE32-46EF-A670-D6E7DE037669" name="GUID-F03860DA-EE32-46EF-A670-D6E7DE037669"></a><h4 id="DWHSG-GUID-F03860DA-EE32-46EF-A670-D6E7DE037669" class="sect4"><span class="enumeration_section">18.5.2</span>业务规则违规情形</h4>
                  <div>
                     <p>在前面的示例中，如果还必须处理没有有效UPC代码的新销售数据（逻辑数据错误），则可以使用其他CTAS语句来标识无效行：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step1_invalid NOLOGGING PARALLEL PARALLEL as SELECT * from temp_sales_step1 s WHERE NOT EXISTS（SELECT 1 FROM product p WHERE p.upc_code = s.upc_code）;</pre><p>此无效数据现在存储在单独的表<code class="codeph">temp_sales_step1_invalid</code> ，并且可以由ETL过程单独处理。
                     </p>
                     <p>处理无效数据的另一种方法是修改原始CTAS以使用外连接，如以下语句中所示：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step2 NOLOGGING PARALLEL AS SELECT sales_transaction_id，product.product_id sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount FROM temp_sales_step1，product WHERE temp_sales_step1.upc_code = product.upc_code（+）;</pre><p>使用此外部联接，最初包含无效UPC代码的销售事务将被赋予<code class="codeph">product_id</code>为<code class="codeph">NULL</code> 。这些交易可以在以后处理。或者，您可以使用多表插入，将<code class="codeph">product_id</code>为<code class="codeph">NULL</code>的值分隔到一个单独的表中;当预期错误计数与总数据量相比相对较小时，这可能是一种有益的方法。您不必触摸大目标表，只需要一个小目标表进行后续处理。
                     </p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND PARALLEL * / FIRST WHEN sales_product_id IS NOT NULL然后进入temp_sales_step2 VALUES（sales_transaction_id，sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount）ELSE INTO temp_sales_step1_invalid VALUES（sales_transaction_id，sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold， sales_dollar_amount）SELECT sales_transaction_id，product.product_id sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount FROM temp_sales_step1，product WHERE temp_sales_step1.upc_code = product.upc_code（+）;</pre><p>请注意，对于此解决方案，空表<code class="codeph">temp_sales_step2</code>和<code class="codeph">temp_sales_step1_invalid</code>必须已存在。
                     </p>
                     <p>存在处理无效UPC码的其他方法。某些数据仓库可能选择将空值<code class="codeph">product_id</code>值插入其<code class="codeph">sales</code>表中，而其他数据仓库可能不允许将整个批次中的任何新数据插入到<code class="codeph">sales</code>表中，直到所有无效的UPC代码都被解决。正确的方法取决于数据仓库的业务需求。无论具体要求如何，异常处理都可以通过与转换相同的基本SQL技术来解决。
                     </p>
                  </div>
               </div><a id="DWHSG8341"></a><div class="props_rev_3"><a id="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0" name="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0"></a><h4 id="DWHSG-GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0" class="sect4"><span class="enumeration_section">18.5.3</span>数据错误场景</h4>
                  <div>
                     <p>如果数据质量未知，则可以增强<a href="loading-transformation-date-warehouses.html#GUID-F03860DA-EE32-46EF-A670-D6E7DE037669">业务规则违规方案中</a>讨论的示例以处理意外的数据错误，例如，数据类型转换错误，如下所示：</p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND PARALLEL * / FIRST当sales_product_id不为空时tempSales_step2 VALUES（sales_transaction_id，sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount）LOG ERRORS INTO sales_step2_errors（'load_20040804'）REJECT LIMIT UNLIMITED ELSE INTO temp_sales_step1_invalid VALUES（ sales_transaction_id，sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount）LOG误差引入sales_step2_errors（ 'load_20040804'）REJECT LIMIT UNLIMITED SELECT sales_transaction_id，PRODUCT.PRODUCT_ID sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount FROM temp_sales_step1，产品WHERE temp_sales_step1。 upc_code = product.upc_code（+）;</pre><p>此语句跟踪表<code class="codeph">temp_sales_step1_invalid</code>中没有有效产品UPC代码的逻辑数据错误以及名为<code class="codeph">sales_step2_errors</code>的DML错误记录表中的所有其他可能错误。请注意，错误记录表可用于多个DML操作。
                     </p>
                     <p>此方法的替代方法是强制使用<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束在数据库级别上拥有有效UPC代码的业务规则。使用外部联接，所有没有有效UPC代码的订单都将映射到<code class="codeph">NULL</code>值，然后将其视为数据错误。此DML错误日志记录功能用于在以下语句中跟踪这些错误：</p><pre class="oac_no_warn" dir="ltr">INSERT / * + APPEND PARALLEL * / INTO temp_sales_step2 VALUES（sales_transaction_id，sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount）SELECT sales_transaction_id，PRODUCT.PRODUCT_ID sales_product_id，sales_customer_id，sales_time_id，sales_channel_id，sales_quantity_sold，sales_dollar_amount FROM temp_sales_step1，产品WHERE temp_sales_step1。 upc_code = product.upc_code（+）LOG ERRORS INTO sales_step2_errors（'load_20040804'）REJECT LIMIT UNLIMITED;</pre><p>错误记录表包含导致DML操作失败的所有记录。您可以使用其内容来分析和更正任何错误。无论DML操作本身是否成功，都会为任何DML操作保留错误记录表中的内容。让我们假设以下SQL语句失败，因为达到了拒绝限制：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT / * + APPEND NOLOGGING PARALLEL * / INTO sales_overall 2 SELECT * FROM sales_activity_direct 3 LOG ERRORS INTO err $ _sales_overall（'load_test2'）4 REJECT LIMIT 10; SELECT * FROM sales_activity_direct * ERROR在第2行：ORA-01722：无效的数字</pre><p>该<a id="d63021e2155" class="indexterm-anchor"></a>错误记录表的名称<code class="codeph">err$_sales_overall</code>是使用<code class="codeph">DBMS_ERRLOG</code>包派生的缺省值。有关更多信息，请参见<a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                     </p>
                     <p>Oracle引发的错误消息发生在达到错误限制之后的第一个错误消息。下一个错误（编号11）是引发错误的错误。显示的错误消息基于超出限制的错误，因此，例如，第九个错误可能与第十一个错误不同。</p>
                     <p>目标表<code class="codeph">sales_overall</code>将不显示正在输入的任何记录（假设该表之前为空），但错误记录表将包含11行（ <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> <code class="codeph">+</code> <code class="codeph">1</code> ）</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT COUNT（*）FROM sales_overall; COUNT（*）---------- 0 SQL&gt; SELECT COUNT（*）FROM err $ _sales_overall; COUNT（*）---------- 11</pre><p>DML错误记录表由几个固定控制列组成，这些列对于每个错误记录表都是必需的。除Oracle错误号外，Oracle还强制存储错误消息。在许多情况下，错误消息提供了额外的信息来分析和解决数据错误的根本原因。DML错误记录表的以下SQL输出显示了这种差异。请注意，第二个输出包含因<code class="codeph">NOT</code> <code class="codeph">NULL</code>违规而被拒绝的行的附加信息。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DISTINCT ora_err_number $ FROM err $ _sales_overall; ORA_ERR_NUMBER $ --------------- 1400 1722 1830 1847 SQL&gt; SELECT DISTINCT ora_err_number $，ora_err_mesg $ FROM err $ _sales_overall; ORA_ERR_NUMBER $ ORA_ERR_MESG $ 1400 ORA-01400：无法插入NULL（“SH”。“SALES_OVERALL”。“CUST_ID”）1400 ORA-01400：无法插入NULL（“SH”。“SALES_OVERALL”。“PROD_ID”）1722 ORA -01722：无效数字1830 ORA-01830：日期格式图片在转换整个输入字符串之前结束1847 ORA-01847：月中的日期必须介于1和月的最后一天之间</pre><div class="infoboxnotealso" id="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0__GUID-061305F1-B55F-4522-9BF0-72BE286359F1">
                        <p class="notep1">也可以看看：</p>
                        <p>有关控制列的详细说明，请参见<a href="../admin/managing-tables.html#ADMIN10261" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </div>
                  </div>
               </div><a id="DWHSG8343"></a><a id="DWHSG8342"></a><div class="props_rev_3"><a id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD" name="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD"></a><h4 id="DWHSG-GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD" class="sect4"><span class="enumeration_section">18.5.4</span>透视场景</h4>
                  <div>
                     <p><a id="d63021e2232" class="indexterm-anchor"></a>数据仓库可以<a id="d63021e2235" class="indexterm-anchor"></a>接收来自许多不同来源的数据。这些源系统中的一些可能不是关系数据库，并且可以以与数据仓库非常不同的格式存储数据。例如，假设您从具有以下形式的非关系数据库中收到一组销售记录：</p><pre class="oac_no_warn" dir="ltr">product_id，customer_id，weekly_start_date，sales_sun，sales_mon，sales_tue，sales_wed，sales_thu，sales_fri，sales_sat</pre><p>输入表如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_input_table;</pre><pre class="oac_no_warn" dir="ltr">PRODUCT_ID CUSTOMER_ID WEEKLY_ST SALES_SUN SALES_MON SALES_TUE SALES_WED SALES_THU SALES_FRI SALES_SAT ---------- ----------- --------- ---------- ---------- ---------- -------------------- ---------- ---------- 111 222 01-OCT-00 100 200 300 400 500 600 700 222 333 08-OCT-00 200 300 400 500 600 700 800 333 444 15-OCT-00 300 400 500 600 700 800 900</pre><p>在数据仓库中，您希望将记录以更典型的关系形式存储在<code class="codeph">sh</code>示例模式的事实表<code class="codeph">sales</code>中：</p><pre class="oac_no_warn" dir="ltr">prod_id，cust_id，time_id，amount_sold</pre><div class="infoboxnote" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-C310F522-8844-48A7-83E8-A1EB97C34BD3">
                        <p class="notep1">注意：</p>
                        <p>出于此示例的目的，已禁用<code class="codeph">sales</code>表上的许多约束，因为为简洁起见，该示例忽略了许多表列。
                        </p>
                     </div>
                     <p>因此，您需要构建转换，以便输入流中的每条记录必须转换为数据仓库<code class="codeph">sales</code>表的七条记录。此操作通常称为<a href="glossary.html#GUID-CE6745C6-610E-4EEA-BD47-534C9CBF44A9"><span class="xrefglossterm">透视</span></a> ，Oracle数据库提供了几种方法。
                     </p>
                     <p>上一个示例的结果将类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">SELECT prod_id，cust_id，time_id，amount_sold FROM sales; PROD_ID CUST_ID TIME_ID AMOUNT_SOLD ---------- ---------- --------- ----------- 111 222 01-OCT- 00 100 111 222 02-OCT-00 200 111 222 03-OCT-00 300 111 222 04-OCT-00 400 111 222 05-OCT-00 500 111 222 06-OCT-00 600 111 222 07-OCT-00 700 222 333 08-OCT-00 200 222 333 09-OCT-00 300 222 333 10-OCT-00 400 222 333 11-OCT-00 500 222 333 12-OCT-00 600 222 333 13-OCT-00 700 222 333 14-OCT-00 800 333 444 15-OCT-00 300 333 444 16-OCT-00 400 333 444 17-OCT-00 500 333 444 18-OCT-00 600 333 444 19-OCT-00 700 333 444 20- OCT-00 800 333 444 21-OCT-00 900</pre><div class="example" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-82E18458-E50D-4335-AD42-F5E03B458225">
                        <p class="titleinexample">例18-10透视示例</p>
                        <p>以下示例使用多表格插入语法将一些数据从具有不同结构的输入表插入到演示表<code class="codeph">sh.sales</code> 。多表<code class="codeph">INSERT</code>语句如下所示：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL INTO sales（prod_id，cust_id，time_id，amount_sold）VALUES（product_id，customer_id，weekly_start_date，sales_sun）INTO sales（prod_id，cust_id，time_id，amount_sold）VALUES（product_id，customer_id，weekly_start_date + 1，sales_mon）INTO sales（prod_id） ，cust_id，time_id，amount_sold）VALUES（product_id，customer_id，weekly_start_date + 2，sales_tue）INTO销售（prod_id，cust_id，time_id，amount_sold）VALUES（product_id，customer_id，weekly_start_date + 3，sales_wed）INTO销售（prod_id，cust_id，time_id） ，amount_sold）VALUES（product_id，customer_id，weekly_start_date + 4，sales_thu）INTO销售（prod_id，cust_id，time_id，amount_sold）VALUES（product_id，customer_id，weekly_start_date + 5，sales_fri）INTO销售（prod_id，cust_id，time_id，amount_sold）VALUES （product_id，customer_id，weekly_start_date + 6，sales_sat）SELECT product_id，customer_id，weekly_start_date，sales_sun，sales_mon，sales_tue，sales_wed，sales_thu，sales_fri，sales_sat FROM sales_input_table;</pre><p>此语句仅扫描源表一次，然后插入每天的相应数据。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="infoboxnotealso" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-52555A81-C1EA-47A4-942E-9ACE219CBAED">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="sql-analysis-reporting-data-warehouses.html#GUID-05BB22CD-0F53-4C90-AE84-CE3F88DBD591">透视操作</a> ”</span>有关旋转的更多信息</p>
                           </li>
                           <li>
                              <p>用于<code class="codeph">pivot_clause</code>语法的<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09761.lrs-linear-referencing-system-concepts.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <meta name="description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <title>线性参考系统</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="coordinate-systems-concepts.html" title="Previous" type="text/html"></link>
      <link rel="next" href="location-tracking-server-concepts.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="coordinate-systems-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="location-tracking-server-concepts.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">线性参考系统</li>
            </ol>
            <a id="GUID-9793361B-6C73-41E1-8389-85D8788ED083" name="GUID-9793361B-6C73-41E1-8389-85D8788ED083"></a><a id="SPATL060"></a>
            
            <h2 id="SPATL-GUID-9793361B-6C73-41E1-8389-85D8788ED083" class="sect2"><span class="enumeration_chapter">7</span>线性参考系统</h2>
         </header>
         <div class="ind">
            <div>
               <p>线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。</p>
               <p><a id="d62565e50" class="indexterm-anchor"></a><a id="d62565e54" class="indexterm-anchor"></a>线性参考的主要优点是它能够沿着线性要素定位属性和事件，只有一个参数（通常称为<span class="italic">度量</span> ）而不是两个（例如笛卡尔空间中的<span class="italic">经度/纬度</span>或<span class="italic">x / y</span> ）。通过指示沿着要素的起始位置和结束位置而不显式存储它们，可以动态地引用和创建线性要素的截面。
               </p>
               <p>Oracle Spatial and Graph中的线性参考系统（LRS）应用程序编程接口（API）在制图级别提供服务器端LRS功能。线性度量信息直接集成到Oracle Spatial and Graph几何结构中。Oracle Spatial and Graph LRS API为动态分段提供支持，它可作为第三方或中间层应用程序开发的基础，几乎可用于任何坐标系中的任何线性参考方法和模型。</p>
               <p>有关LRS的示例，请参阅<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="本节介绍使用LRS功能的简化示例。">LRS功能示例</a> 。但是，您可能希望首先阅读本章的其余部分，以了解该示例所说明的概念。
               </p>
               <p>有关LRS功能和过程的参考信息，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）</a> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2">LRS术语和概念</a><br>本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20">LRS数据模型</a><br>Oracle Spatial and Graph LRS数据模型将度量信息合并到点级别的几何表示中。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA">LRS数据的索引</a><br>如果LRS数据具有四个维度（三个加上M维度），并且如果需要索引所有三个非度量维度，则必须使用空间R树索引来索引数据。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E392761D-EF47-4764-8287-8E3D1D799D53">LRS函数的三维格式</a><br>大多数LRS函数的格式以<span class="italic">_3D</span>结尾：例如，DEFINE_GEOM_SEGMENT_3D，CLIP_GEOM_SEGMENT_3D，FIND_MEASURE_3D和LOCATE_PT_3D。如果函数具有<span class="italic">3D</span>格式，则在功能参考主题的使用说明中标识该函数。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985">LRS运营</a><br>本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。</li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C">具有LRS函数的容差值</a><br>许多LRS函数要求您指定公差值或一个或多个维数组。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770">LRS功能示例</a><br>本节介绍使用LRS功能的简化示例。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL739"></a><div class="props_rev_3"><a id="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" name="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2"></a><h3 id="SPATL-GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" class="sect3"><span class="enumeration_section">7.1</span> LRS术语和概念</h3>
               <div>
                  <p>本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D">几何段（LRS段）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7">形状点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5">几何段的方向</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD">测量（线性测量）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">抵消</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C">测量填充</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E">测量几何段的范围</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE">投影</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F">LRS点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE">线性特征</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B5434407-EC9A-4F49-A048-253544EBA930">多线串和带孔多边形的测量</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL741"></a><a id="SPATL740"></a><div class="props_rev_3"><a id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" name="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D"></a><h4 id="SPATL-GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" class="sect4"><span class="enumeration_section">7.1.1</span>几何段（LRS段）</h4>
                  <div>
                     <p><a id="d62565e340" class="indexterm-anchor"></a><a id="d62565e344" class="indexterm-anchor"></a><a id="d62565e348" class="indexterm-anchor"></a> <span class="bold">几何段</span>是Oracle Spatial and Graph中的基本LRS元素。几何段可以是以下任何一种：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>线串：有序，非分支和连续几何（例如，简单的道路）</p>
                        </li>
                        <li>
                           <p>多线字符串：未连接的线串（例如，由湖泊或旁路引起的间隙的高速公路）</p>
                        </li>
                        <li>
                           <p>多边形（例如，在同一点开始和结束的赛道或景区游览路线）</p>
                        </li>
                     </ul>
                     <p>几何段必须至少包含其起点和终点的开始和结束度量。还可以指定几何段上的兴趣点（例如高速公路出口）的度量。这些度量由用户指定或从现有几何段派生。<a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">图7-1</a>显示了具有四个线段和一个弧的几何段。几何段上的点由三元组（x，y，m）表示，其中<span class="italic">x</span>和<span class="italic">y</span>描述位置， <span class="italic">m</span>表示度量（ <a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">图7-1中的</a>每个度量值加下划线）。
                     </p>
                     <div class="figure" id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">
                        <p class="titleinfigure">图7-1几何段</p><img src="img/geoseg.gif" alt="下面是图7-1的描述" title="下面是图7-1的描述" longdesc="img_text/geoseg.html"><br><a href="img_text/geoseg.html">“图7-1几何段”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL742"></a><div class="props_rev_3"><a id="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" name="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7"></a><h4 id="SPATL-GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" class="sect4"><span class="enumeration_section">7.1.2</span>形状点</h4>
                  <div>
                     <p><a id="d62565e447" class="indexterm-anchor"></a><a id="d62565e449" class="indexterm-anchor"></a> <span class="bold">形状点</span>是在构建LRS段时指定的点，并且是指定的度量信息。在Oracle Spatial and Graph中，线段由其起点和终点表示，弧由三个点表示：弧的起点，中点和终点。您必须将这些点指定为形状点，但如果需要为这些点存储测量信息（例如，在高速公路直线部分中间的出口），您还可以将其他点指定为形状点。
                     </p>
                     <p>因此，形状点可以用于以下目的中的一个或两个：指示段的方向（例如，转弯或弯曲），以及识别要存储测量信息的兴趣点。</p>
                     <p>形状点可能与LRS中的里程碑或参考文献没有直接关系;它们被用作内部参考点。使用<a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a>过程定义LRS段时，将自动填充形状点的度量信息，该过程在<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中进行了描述</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL743"></a><div class="props_rev_3"><a id="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" name="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5"></a><h4 id="SPATL-GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" class="sect4"><span class="enumeration_section">7.1.3</span>几何段的方向</h4>
                  <div>
                     <p><a id="d62565e532" class="indexterm-anchor"></a><a id="d62565e534" class="indexterm-anchor"></a>从几何段的起点到终点指示几何段的<span class="bold">方向</span> 。方向由几何定义中的顶点（从起点到终点）的顺序确定。几何段上的点的测量总是沿着几何段的方向增大或减小。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL744"></a><div class="props_rev_3"><a id="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" name="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD"></a><h4 id="SPATL-GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" class="sect4"><span class="enumeration_section">7.1.4</span>测量（线性测量）</h4>
                  <div>
                     <p><a id="d62565e603" class="indexterm-anchor"></a><a id="d62565e605" class="indexterm-anchor"></a>沿着几何段的点的<span class="bold">度量</span>是从几何段的起点（对于增加值）或终点（对于减小的值） <span class="bold">测量</span>的点的线性距离（在测量维度中）。度量信息不一定必须与距离具有相同的比例。但是，始终保持测量和距离之间的线性映射关系。
                     </p>
                     <p>一些LRS函数使用<span class="italic">偏移</span>而不是度量来表示沿线性特征的测量距离。虽然其他一些线性参考系统可能使用偏移来表示Oracle Spatial和Graph LRS所指的度量值，但偏移量在Oracle Spatial and Graph中与度量具有不同的含义，如<a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">偏移量中所述</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL746"></a><a id="SPATL745"></a><div class="props_rev_3"><a id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" name="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3"></a><h4 id="SPATL-GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" class="sect4"><span class="enumeration_section">7.1.5</span>偏移量</h4>
                  <div>
                     <p><a id="d62565e683" class="indexterm-anchor"></a>沿几何段的点的<span class="bold">偏移</span>是该点与几何段之间的垂直距离。如果点位于沿线段方向的左侧，则偏移为正，如果它们位于右侧，则偏移为负。如果它们对段的偏移为零，则点在几何段上。
                     </p>
                     <p>偏移的测量单位与与几何段相关联的坐标系相同。对于大地测量数据，默认测量单位是米。</p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">图7-2</a>显示了如何使用测量和偏移信息沿着几何线段定位点。通过将偏移与度量一起分配，不仅可以定位几何分段上的点，而且可以定位垂直于几何分段的点。
                     </p>
                     <div class="figure" id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">
                        <p class="titleinfigure">图7-2使用度量和偏移描述沿着段的点</p><img src="img/point.gif" alt="下面是图7-2的描述" title="下面是图7-2的描述" longdesc="img_text/point.html"><br><a href="img_text/point.html">“图7-2描述具有测量和偏移的段的点”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL748"></a><a id="SPATL749"></a><a id="SPATL750"></a><a id="SPATL747"></a><div class="props_rev_3"><a id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" name="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C"></a><h4 id="SPATL-GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" class="sect4"><span class="enumeration_section">7.1.6</span>测量<span class="enumeration_section">填充</span></h4>
                  <div>
                     <p><a id="d62565e763" class="indexterm-anchor"></a><a id="d62565e767" class="indexterm-anchor"></a>几何段的任何未分配度量将根据其距离分布自动填充。这是在针对具有未知度量的几何段的任何LRS操作之前完成的（Oracle Spatial and Graph中为NULL）。来自任何LRS操作的所得几何片段返回与几何片段相关联的测量信息。可以基于其先前和下一已知测量或位置之间的线性映射关系来获得几何片段上的点的度量。请参<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">见图7-3中</a>的算法表示和<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">图7-4中</a>的示例。
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">
                        <p class="titleinfigure">图7-3度量，距离及其映射关系</p><img src="img/maprel.gif" alt="下面是图7-3的描述" title="下面是图7-3的描述" longdesc="img_text/maprel.html"><br><a href="img_text/maprel.html">“图7-3度量，距离及其映射关系”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">
                        <p class="titleinfigure">图7-4测量几何段的填充</p><img src="img/measpop.gif" alt="下面是图7-4的描述" title="下面是图7-4的描述" longdesc="img_text/measpop.html"><br><a href="img_text/measpop.html">“图7-4测量几何段的填充”的描述</a></div>
                     <!-- class="figure" -->
                     <p>度量在指定的度量之间均匀分布。然而，几何段上的关注点的指定度量不需要均匀间隔。这可以消除错误累积的问题并解决数据源的不准确性。</p>
                     <p>此外，指定的措施甚至不需要反映实际距离（例如，它们可以反映估计的驾驶时间）;它们可以是度量范围内的任何有效值。<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">图7-5</a>显示了当指定的测量值不成比例并且反映差异很大时产生的测量数量。
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">
                        <p class="titleinfigure">图7-5使用不成比例的分配度量测量填充</p><img src="img/disprop.gif" alt="下面是图7-5的描述" title="下面是图7-5的描述" longdesc="img_text/disprop.html"><br><a href="img_text/disprop.html">“图7-5使用不成比例分配的度量进行填充测量”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在所有情况下，测量填充是沿着段方向以增量方式完成的。这改善了当前和随后的LRS操作的性能。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL751"></a><div class="props_rev_3"><a id="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" name="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E"></a><h4 id="SPATL-GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" class="sect4"><span class="enumeration_section">7.1.7</span>测量几何段的范围</h4>
                  <div>
                     <p><a id="d62565e860" class="indexterm-anchor"></a><a id="d62565e862" class="indexterm-anchor"></a>几何段的开始和结束度量定义几何段的线性<span class="bold">度量范围</span> 。几何段的任何有效LRS度量必须落在其线性度量范围内。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL752"></a><div class="props_rev_3"><a id="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" name="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE"></a><h4 id="SPATL-GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" class="sect4"><span class="enumeration_section">7.1.8</span>投影</h4>
                  <div>
                     <p><a id="d62565e932" class="indexterm-anchor"></a><a id="d62565e934" class="indexterm-anchor"></a>沿几何线段的点的<span class="bold">投影</span>是几何线段上与指定点的距离最小的点。结果点的测量信息也在点几何中返回。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL753"></a><div class="props_rev_3"><a id="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" name="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F"></a><h4 id="SPATL-GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" class="sect4"><span class="enumeration_section">7.1.9</span> LRS点</h4>
                  <div>
                     <p><a id="d62565e1003" class="indexterm-anchor"></a><a id="d62565e1007" class="indexterm-anchor"></a><a id="d62565e1009" class="indexterm-anchor"></a> <span class="bold">LRS点</span>是沿几何段具有线性测量信息的点。有效的LRS点是具有度量信息的点几何。
                     </p>
                     <p>所有LRS点数据必须存储在SDO_ELEM_INFO_ARRAY和SDO_ORDINATE_ARRAY中，并且不能存储在SDO_GEOMETRY定义点中的SDO_POINT字段中。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL755"></a><a id="SPATL754"></a><div class="props_rev_3"><a id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" name="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE"></a><h4 id="SPATL-GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" class="sect4"><span class="enumeration_section">7.1.10</span>线性特征</h4>
                  <div>
                     <p><a id="d62565e1080" class="indexterm-anchor"></a><a id="d62565e1082" class="indexterm-anchor"></a> <span class="bold">线性</span>要素是可以被视为一组逻辑线性段的空间对象。线性特征的示例是运输应用中的高速公路和公用事业行业中的管道。线性特征，几何分段和LRS点的关系<a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">如图7-6</a>所示，其中单个线性特征由三个几何分段组成，并且在第一个分段上显示三个LRS点。
                     </p>
                     <div class="figure" id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">
                        <p class="titleinfigure">图7-6线性特征，几何分段和LRS点</p><img src="img/linear.gif" alt="下面是图7-6的描述" title="下面是图7-6的描述" longdesc="img_text/linear.html"><br><a href="img_text/linear.html">“图7-6线性特征，几何分段和LRS点”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL756"></a><div class="props_rev_3"><a id="GUID-B5434407-EC9A-4F49-A048-253544EBA930" name="GUID-B5434407-EC9A-4F49-A048-253544EBA930"></a><h4 id="SPATL-GUID-B5434407-EC9A-4F49-A048-253544EBA930" class="sect4"><span class="enumeration_section">7.1.11</span>多线串和带孔多边形的测量</h4>
                  <div>
                     <p>对于具有孔LRS几何的多线字符串或多边形， <a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a>过程和<a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a>函数默认情况下将相同的度量值分配给一个段的终点和下一个段的起点（由间隙分隔），虽然您可以稍后为点指定不同的度量值。因此，默认情况下，对于此类几何，将在不同的段中重复测量值。在这种情况下，LRS子程序使用具有指定度量的第一个点，除非这样做会导致无效的几何。
                     </p>
                     <p>例如，假设在多线串LRS几何中，第一段是从度量0到100，第二段是从度量100到150。如果使用<a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a>函数查找度量100处的点，则返回的点将在第一个段中的度量为100处。如果使用<a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a> ， <a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>或<a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数在度量75和125之间返回几何对象，则结果是由两个段组成的多行字符串几何。如果使用相同的函数在度量100和125之间返回几何对象，则忽略第一个段中度量100处的点，结果是沿度量值100到125的第二个段的线串。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL759"></a><a id="SPATL758"></a><a id="SPATL757"></a><div class="props_rev_3"><a id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" name="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20"></a><h3 id="SPATL-GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" class="sect3"><span class="enumeration_section">7.2</span> LRS数据模型</h3>
               <div>
                  <p>Oracle Spatial and Graph LRS数据模型将度量信息合并到点级别的几何表示中。</p>
                  <p><a id="d62565e1265" class="indexterm-anchor"></a><a id="d62565e1269" class="indexterm-anchor"></a>度量信息直接集成到Oracle Spatial and Graph模型中。要实现此目的，必须在Oracle Spatial and Graph元数据中添加其他<span class="italic">度量</span>维度。
                  </p>
                  <p>Oracle Spatial and Graph LRS支持会影响空间元数据和数据（几何）。<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">示例7-1</a>显示了如何将度量维度添加到空间元数据中的二维几何。度量维度必须是空间对象定义中SDO_DIM_ARRAY的最后一个元素（在<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">例7-1</a>中以粗体显示）。
                  </p>
                  <div class="figure" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">
                     <p class="titleinfigure">图7-7创建几何段</p><img src="img/creating.gif" alt="下面是图7-7的描述" title="下面是图7-7的描述" longdesc="img_text/creating.html"><br><a href="img_text/creating.html">“图7-7创建几何段”的说明</a></div>
                  <!-- class="figure" -->
                  <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">图7-7中</a> ，几何段具有以下定义（测量值带下划线）：</p><pre class="oac_no_warn" dir="ltr"><span class="underline"><span class="underline"><span class="underline"><span class="underline">SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（5,10，0，20,5，NULL，35,10，NULL，55,10，100））</span></span></span></span></pre><p>无论何时定义几何段，其开始和结束度量必须从某个现有几何段定义或导出。将自动填充几何段上所有形状点的无符号度量。</p>
                  <p>与LRS函数一起使用的任何点几何的SDO_GTYPE必须为3301。</p>
                  <div class="example" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">
                     <p class="titleinexample">示例7-1在空间元数据中包括LRS度量维度</p><pre class="oac_no_warn" dir="ltr">INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'LRS_ROUTES'，'GEOMETRY'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，0,20,1.005），SDO_DIM_ELEMENT（'Y'，0,20,0.005）， <span class="bold">SDO_DIM_ELEMENT（'M'，0,100,0.005）</span> ），NULL）;</pre><p>在添加新度量维度之后，可以表示具有度量信息（例如几何段和LRS点）的几何。创建具有三个线段的几何段的示例<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">如图7-7</a>所示。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL760"></a><div class="props_rev_3"><a id="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" name="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA"></a><h3 id="SPATL-GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" class="sect3"><span class="enumeration_section">7.3</span> LRS数据的索引</h3>
               <div>
                  <p>如果LRS数据具有四个维度（三个加上M维度），并且如果需要索引所有三个非度量维度，则必须使用空间R树索引来索引数据。</p>
                  <p>您还必须在<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句中指定PARAMETERS（'sdo_indx_dims = 3'）以确保索引前三个维度。但请注意，如果指定<code class="codeph">sdo_indx_dims</code>值为3或更高，则只能考虑所有三个维度<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">的三维空间对象中</a>列出的那些运算符可用于索引几何;不能使用<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators中</a>描述的其他运算<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">符</a> 。（ <code class="codeph">sdo_indx_dims</code>关键字的默认值为2，这将导致仅对前两个维度建立索引。）例如，如果尺寸为X，Y，Z和M，则指定<code class="codeph">sdo_indx_dims=3</code>以索引X，Y和Z尺寸，但不指定尺寸（M）尺寸。不要在空间索引中包含度量维度，因为这会导致额外的处理开销并且不会产生任何好处。
                  </p>
                  <p>有关<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句及其参数和关键字的信息位于<a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">SQL语句索引空间数据中</a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL761"></a><div class="props_rev_3"><a id="GUID-E392761D-EF47-4764-8287-8E3D1D799D53" name="GUID-E392761D-EF47-4764-8287-8E3D1D799D53"></a><h3 id="SPATL-GUID-E392761D-EF47-4764-8287-8E3D1D799D53" class="sect3"><span class="enumeration_section">7.4</span> LRS函数的3D格式</h3>
               <div>
                  <p>大多数LRS函数的格式以<span class="italic">_3D</span>结尾：例如，DEFINE_GEOM_SEGMENT_3D，CLIP_GEOM_SEGMENT_3D，FIND_MEASURE_3D和LOCATE_PT_3D。如果函数具有<span class="italic">3D</span>格式，则在功能参考主题的使用说明中标识该函数。
                  </p>
                  <p>仅支持线串和多线串几何的<span class="italic">3D</span>格式。（多边形，圆弧或圆圈不支持它们。）仅当几何对象具有四个维度且第四个维度是度量（例如，X，Y，Z和M）时，才应使用<span class="italic">3D</span>格式，并且仅当您希望函数考虑前三个维度时（对于例如，X，Y和Z）。如果在具有四个维度的几何体上使用函数的标准格式（即，没有<span class="italic">_3D</span> ），则该函数仅考虑前两个维度（例如，X和Y）。
                  </p>
                  <p>例如，以下格式在执行剪辑操作时考虑指定GEOM对象的X，Y和Z维度：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_LRS.CLIP_GEOM_SEGMENT_3D（a.geom，m.diminfo，5,10）FROM routes r，user_sdo_geom_metadata m WHERE m.table_name ='ROUTES'和m.column_name ='GEOM'AND r.route_id = 1;</pre><p>但是，以下格式仅考虑X和Y维度，并在执行剪辑操作时忽略指定GEOM对象的Z维度：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_LRS.CLIP_GEOM_SEGMENT（a.geom，m.diminfo，5,10）FROM routes r，user_sdo_geom_metadata m WHERE m.table_name ='ROUTES'和m.column_name ='GEOM'AND r.route_id = 1;</pre><p>任何函数的标准和<span class="italic">3D</span>格式的参数都是相同的，并且使用说明适用于这两种格式。
                  </p>
                  <p>如果LRS函数的参数包括线（或多线）字符串和点（LRS点），则线字符串和点必须具有相同的维数。例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a>功能，输入<code class="codeph">geom_segment</code> （线）必须具有两个维度（XY）加上度量维度，并且所述输入<code class="codeph">point</code>点必须是二维LRS点几何与度量维度（SDO_GTYPE = 3301）。（在该函数的示例中就是这种情况。）
                        </p>
                     </li>
                     <li>
                        <p>对于SDO_LRS.PROJECT_PT_3D函数。输入<code class="codeph">geom_segment</code>必须具有三个维度（X，Y，Z）加上度量维度，并且输入<code class="codeph">point</code>点必须是三维LRS点几何与度量维度（SDO_GTYPE = 3401）。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL762"></a><div class="props_rev_3"><a id="GUID-247E53DE-3F27-4BE2-97D6-363F10814985" name="GUID-247E53DE-3F27-4BE2-97D6-363F10814985"></a><h3 id="SPATL-GUID-247E53DE-3F27-4BE2-97D6-363F10814985" class="sect3"><span class="enumeration_section">7.5</span> LRS操作</h3>
               <div>
                  <p>本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66">定义几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584">重新定义几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86">拆分几何部分</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC">连接几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38">缩放几何片段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">偏移几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9">在几何段上定位点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC">将点投影到几何段上</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299">转换LRS几何图形</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL764"></a><a id="SPATL763"></a><div class="props_rev_3"><a id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" name="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66"></a><h4 id="SPATL-GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" class="sect4"><span class="enumeration_section">7.5.1</span>定义几何段</h4>
                  <div>
                     <p><a id="d62565e1751" class="indexterm-anchor"></a><a id="d62565e1755" class="indexterm-anchor"></a>有两种方法可以使用度量信息创建几何段：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>构造几何段并明确指定度量。</p>
                        </li>
                        <li>
                           <p>使用指定的开始和结束以及任何其他度量以升序或降序定义几何段。将根据位置和距离分布自动填充几何段中具有未知（未指定）度量（空值）的形状点的度量。</p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">图7-8</a>显示了定义几何段的不同方法：</p>
                     <div class="figure" id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">
                        <p class="titleinfigure">图7-8定义几何段</p><img src="img/defining.gif" alt="下面是图7-8的描述" title="下面是图7-8的描述" longdesc="img_text/defining.html"><br><a href="img_text/defining.html">“图7-8定义几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在任何LRS操作可以继续之前，必须定义（或必须已经存在）LRS段。也就是说，必须存在开始，结束和任何其他分配的度量以从指定度量导出位置。如果未分配测量值，将自动填充中间形状点的测量信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL766"></a><a id="SPATL765"></a><div class="props_rev_3"><a id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" name="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584"></a><h4 id="SPATL-GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" class="sect4"><span class="enumeration_section">7.5.2</span>重新定义几何段</h4>
                  <div>
                     <p><a id="d62565e1840" class="indexterm-anchor"></a><a id="d62565e1844" class="indexterm-anchor"></a>您可以使用自动计算的度量重新定义几何线段，以替换起点和终点之间所有形状点的现有度量。如果在一个或多个显式度量分配中出现错误，并且您希望从按比例分配的度量重新开始，则重新定义段可能很有用。
                     </p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">图7-9</a>显示了一个段的重新定义，其中现有（之前）分配的度量值不成比例并反映了广泛变化的间隙。
                     </p>
                     <div class="figure" id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">
                        <p class="titleinfigure">图7-9重新定义几何段</p><img src="img/redefining.gif" alt="下面是图7-9的描述" title="下面是图7-9的描述" longdesc="img_text/redefining.html"><br><a href="img_text/redefining.html">“图7-9重新定义几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">图7-9中</a>的段重新定义之后，填充的度量反映了沿段的比例距离。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL768"></a><a id="SPATL767"></a><div class="props_rev_3"><a id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" name="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC"></a><h4 id="SPATL-GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" class="sect4"><span class="enumeration_section">7.5.3</span>剪切几何段（动态分段）</h4>
                  <div>
                     <p><a id="d62565e1923" class="indexterm-anchor"></a><a id="d62565e1927" class="indexterm-anchor"></a><a id="d62565e1931" class="indexterm-anchor"></a>您可以剪切几何线段以从现有几何线段创建新的几何线段， <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">如图7-10中的</a> a部分所示。
                     </p>
                     <div class="figure" id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">
                        <p class="titleinfigure">图7-10剪切，拆分和连接几何段</p><img src="img/clipping.gif" alt="下面是图7-10的描述" title="下面是图7-10的描述" longdesc="img_text/clipping.html"><br><a href="img_text/clipping.html">“图7-10剪切，拆分和连接几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">图7-10中</a> ，a部分是从较大段的一部分创建的段。新段具有自己的起点和终点，方向与原始较大段中的方向相同。
                     </p>
                     <p>通过剪切片段，您可以执行<span class="bold">动态分割</span> ，在此处剪切特定测量值的线条。这种使用的场景将是创建道路状况表，其中对于给定道路，一些段被指定为处于良好状态而其他段被指定为处于不良状况。例如，措施100和120之间的段可能处于良好状态，但是措施120和125之间的段可能处于不良状态。请参阅同义函数<a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a>和<a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>的参考信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL769"></a><div class="props_rev_3"><a id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" name="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86"></a><h4 id="SPATL-GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" class="sect4"><span class="enumeration_section">7.5.4</span>拆分几何段</h4>
                  <div>
                     <p><a id="d62565e2017" class="indexterm-anchor"></a><a id="d62565e2021" class="indexterm-anchor"></a>您可以通过拆分几何线段来创建两个新的几何线段，如“ <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何线段（动态分段）”</a>中的图所示，b部分。每个新段的方向与原始段相同。
                     </p>
                     <div class="infoboxnote" id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86__GUID-1B55FD84-1FBD-436E-959C-B5D07AD348B4">
                        <p class="notep1">注意：</p>
                        <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何片段（动态分割）</a>和其他主题中，片段之间的小间隙用于片段分割和连接的轮廓。每个差距只是强调了涉及两个不同部分的事实。然而，实际上连接了两个段（例如， <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）中的</a>段1和段2，部分b和c）。在确定是否连接段时，会考虑<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容</a>差（请参阅<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容</a>差）。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL771"></a><a id="SPATL772"></a><a id="SPATL770"></a><div class="props_rev_3"><a id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" name="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC"></a><h4 id="SPATL-GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" class="sect4"><span class="enumeration_section">7.5.5</span>连接几何段</h4>
                  <div>
                     <p><a id="d62565e2106" class="indexterm-anchor"></a><a id="d62565e2110" class="indexterm-anchor"></a>您可以通过连接两个几何段来创建新的几何段，如<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）中</a>图的c部分所示。几何段不需要在空间上连接，尽管它们在该图的部分c中的图示中连接。（如果段没有空间连接，则连接结果是多行字符串。）移动第二几何段的度量，使得第一段的结束度量与第二段的开始度量相同。由串联产生的段的方向与两个原始段中的相同。
                     </p>
                     <p>下图中显示了<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）</a>中图中剪切，拆分和连接操作的测量分配。测量信息和分段方向以一致的方式保留。操作完成后，分配将自动完成。
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I887072">
                        <p class="titleinfigure">图7-11几何段操作中的测量分配</p><img src="img/geosegoper.gif" alt="下面是图7-11的描述" title="下面是图7-11的描述" longdesc="img_text/geosegoper.html"><br><a href="img_text/geosegoper.html">“图7-11几何段操作中的测量分配”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2129" class="indexterm-anchor"></a><a id="d62565e2133" class="indexterm-anchor"></a>从级联生成的几何段的方向始终是第一个段（方向<code class="codeph">geom_segment1</code>在调用<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>功能），如示于下图。
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I892282">
                        <p class="titleinfigure">图7-12带连接的段方向</p><img src="img/concat.gif" alt="下面是图7-12的描述" title="下面是图7-12的描述" longdesc="img_text/concat.html"><br><a href="img_text/concat.html">“图7-12带串联的段方向”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2151" class="indexterm-anchor"></a><a id="d62565e2155" class="indexterm-anchor"></a>除了使用<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>函数显式连接两个连接的段<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">之外</a> ，还可以执行聚合连接：即，可以使用<a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a>空间聚合函数连接列（层）中的所有连接的几何段。（见的说明和示例<a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a>在空间聚集函数<a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚集函数</a> 。）
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL774"></a><a id="SPATL773"></a><div class="props_rev_3"><a id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" name="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38"></a><h4 id="SPATL-GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" class="sect4"><span class="enumeration_section">7.5.6</span>缩放几何段</h4>
                  <div>
                     <p><a id="d62565e2243" class="indexterm-anchor"></a><a id="d62565e2247" class="indexterm-anchor"></a>您可以通过对几何线段执行线性缩放操作来创建新的几何线段。<a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">图7-13</a>显示了几何段缩放的映射关系。
                     </p>
                     <div class="figure" id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">
                        <p class="titleinfigure">图7-13缩放几何段</p><img src="img/scaling.gif" alt="下面是图7-13的描述" title="下面是图7-13的描述" longdesc="img_text/scaling.html"><br><a href="img_text/scaling.html">“图7-13缩放几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>通常，缩放几何片段仅涉及重新布置新创建的几何片段的度量。但是，如果缩放因子为负，则需要反转形状点的顺序，以使测量沿着几何段的方向（由形状点的顺序定义）增加。</p>
                     <p>缩放操作可以执行以下操作的任意组合：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>翻译（转移）测量信息。（例如，向Ms和Me添加相同的值以获得M和M'。）</p>
                        </li>
                        <li>
                           <p>反转措施信息。（设M = Me，M'e = Ms，Mshift = 0。）</p>
                        </li>
                        <li>
                           <p>执行度量信息的简单缩放。（让Mshift = 0.）</p>
                        </li>
                     </ul>
                     <p>有关这些操作的示例，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a>的<a href="SDO_LRS-reference.html#GUID-7FB461F0-C221-490C-94BF-AE49ACE42828">SDO_LRS.SCALE_GEOM_SEGMENT</a> ， <a href="SDO_LRS-reference.html#GUID-3633A045-B824-4275-B6B3-5A6155F12415">SDO_LRS.TRANSLATE_MEASURE</a> ， <a href="SDO_LRS-reference.html#GUID-94B55D69-FAC9-4FF3-8EC2-084FA21D305B">SDO_LRS.REVERSE_GEOMETRY</a>和<a href="SDO_LRS-reference.html#GUID-EF05083F-E47C-4AB4-BCF0-FA39A3B9A25B">SDO_LRS.REDEFINE_GEOM_SEGMENT</a>子程序的使用说明和示例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL776"></a><a id="SPATL775"></a><div class="props_rev_3"><a id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" name="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F"></a><h4 id="SPATL-GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" class="sect4"><span class="enumeration_section">7.5.7</span>偏移几何段</h4>
                  <div>
                     <p><a id="d62565e2360" class="indexterm-anchor"></a><a id="d62565e2364" class="indexterm-anchor"></a>您可以通过对几何线段执行偏移操作来创建新的几何线段。<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">图7-14</a>显示了几何段偏移的映射关系。
                     </p>
                     <div class="figure" id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">
                        <p class="titleinfigure">图7-14偏移几何段</p><img src="img/offsetting.gif" alt="下面是图7-14的描述" title="下面是图7-14的描述" longdesc="img_text/offsetting.html"><br><a href="img_text/offsetting.html">“图7-14偏移几何段”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">图7-14</a>所示的偏移操作中，得到的几何段与原始段的指定开始和结束度量<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">相差</a> 5个单位。
                     </p>
                     <p>有关更多信息，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a> <a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数的使用说明和示例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL778"></a><a id="SPATL779"></a><a id="SPATL777"></a><div class="props_rev_3"><a id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" name="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9"></a><h4 id="SPATL-GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" class="sect4"><span class="enumeration_section">7.5.8</span>在几何段上定位点</h4>
                  <div>
                     <p><a id="d62565e2457" class="indexterm-anchor"></a><a id="d62565e2461" class="indexterm-anchor"></a>您可以在几何段上找到由度量描述的点的位置和偏移（参见<a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">图7-15</a> ）。
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">
                        <p class="titleinfigure">图7-15使用度量和偏移量定位沿段的点</p><img src="img/point_offset.gif" alt="下面是图7-15的描述" title="下面是图7-15的描述" longdesc="img_text/point_offset.html"><br><a href="img_text/point_offset.html">“图7-15沿着具有测量和偏移的段定位点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>总是有一个独特的位置，在几何段上有特定的度量。当给出偏移并且测量所描述的点落在几何段的形状点上时会出现模糊（ <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">见图7-16</a> ）。
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">
                        <p class="titleinfigure">图7-16带偏移的位置参考模糊度</p><img src="img/ambiguity.gif" alt="下面是图7-16的描述" title="下面是图7-16的描述" longdesc="img_text/ambiguity.html"><br><a href="img_text/ambiguity.html">“图7-16带偏移的位置参考中的模糊度”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">如图7-16</a>所示，几何线段上的形状点的偏移弧是所有点与形状点具有相同最小距离的弧。结果，偏移弧上的所有点都由相同（测量，偏移）对表示。要解决此一对多映射问题，将返回偏移弧上的中间点。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL781"></a><a id="SPATL780"></a><div class="props_rev_3"><a id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" name="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC"></a><h4 id="SPATL-GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" class="sect4"><span class="enumeration_section">7.5.9</span>将点投影到几何段上</h4>
                  <div>
                     <p><a id="d62565e2548" class="indexterm-anchor"></a><a id="d62565e2550" class="indexterm-anchor"></a><a id="d62565e2554" class="indexterm-anchor"></a>您可以找到相对于几何线段的点的投影点。要投影的点可以在段上或下。如果该点位于该段上，则该点及其投影点是相同的。
                     </p>
                     <p>投影是点定位操作的反向操作， <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">如图7-15</a>所示。与点定位操作类似，形状点的偏移弧上的所有点将具有相同的投影点（即形状点本身），测量和偏移（参见<a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">图7-16</a> ）。如果某个点有多个投影点，则返回从起点开始的第一个投影点（ <a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">图7-17</a>中两个插图中的投影点1）。
                     </p>
                     <div class="figure" id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">
                        <p class="titleinfigure">图7-17多个投影点</p><img src="img/multiprojpts.gif" alt="下面是图7-17的描述" title="下面是图7-17的描述" longdesc="img_text/multiprojpts.html"><br><a href="img_text/multiprojpts.html">“图7-17多个投影点”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL783"></a><a id="SPATL782"></a><div class="props_rev_3"><a id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" name="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299"></a><h4 id="SPATL-GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" class="sect4"><span class="enumeration_section">7.5.10</span>转换LRS几何图形</h4>
                  <div>
                     <p><a id="d62565e2634" class="indexterm-anchor"></a><a id="d62565e2638" class="indexterm-anchor"></a>您可以将几何图形从标准线字符串格式转换为LRS格式，反之亦然。如果您有大量现有的行字符串数据，则可能会发生转换函数的主要用途，在这种情况下，转换是手动创建所有LRS段的便捷替代方法。但是，如果您需要将LRS段转换为某些应用程序的标准线字符串，则还会提供该功能。
                     </p>
                     <p>提供的功能是转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单独的线串或点</p>
                           <p>对于从标准格式到LRS格式的转换，添加度量维度（默认名称为<span class="italic">M</span> ），并为每个点提供度量信息。对于从LRS格式到标准格式的转换，将删除度量维度和信息。在这两种情况下，USER_SDO_GEOM_METADATA视图中的维度信息（DIMINFO）元数据都不受影响。
                           </p>
                        </li>
                        <li>
                           <p>图层（列中的所有几何图形）</p>
                           <p>对于从标准格式到LRS格式的转换，添加了度量维度（默认名称为<span class="italic">M</span> ），但没有为每个点提供度量信息。对于从LRS格式到标准格式的转换，将删除度量维度和信息。在这两种情况下，USER_SDO_GEOM_METADATA视图中的尺寸信息（DIMINFO）元数据都会根据需要进行修改。
                           </p>
                        </li>
                        <li>
                           <p>尺寸信息（DIMINFO）</p>
                           <p>USER_SDO_GEOM_METADATA视图中的尺寸信息（DIMINFO）元数据将根据需要进行修改。例如，将具有X和Y维度（SDO_DIM_ELEMENT）的标准维数组转换为LRS维数组会导致添加M维（SDO_DIM_ELEMENT）。</p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">图7-18</a>显示了将标准行字符串转换为LRS行字符串时使用<a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a>函数添加度量信息。度量维度值在<a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">图7-18</a>中加下划线。
                     </p>
                     <div class="figure" id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">
                        <p class="titleinfigure">图7-18从标准转换为LRS线串</p><img src="img/conversion.gif" alt="下面是图7-18的描述" title="下面是图7-18的描述" longdesc="img_text/conversion.html"><br><a href="img_text/conversion.html">“图7-18从标准线转换为LRS线串”的说明</a></div>
                     <!-- class="figure" -->
                     <p>对于点几何的转换，返回几何中的SDO_POINT属性（在<a href="spatial-datatypes-metadata.html#GUID-1BEDE913-87BA-4EBD-BFFB-09C95C93A04E">SDO_POINT</a>中描述）受影响如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果标准点转换为LRS点，则输入几何中的SDO_POINT属性信息用于在生成的几何中设置SDO_ELEM_INFO和SDO_ORDINATES属性（在<a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a>和<a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES中</a>描述），并在结果几何中设置SDO_POINT属性为空。
                           </p>
                        </li>
                        <li>
                           <p>如果将LRS点转换为标准点，则输入几何中的SDO_ELEM_INFO和SDO_ORDINATES属性（在<a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a>和<a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES中</a>描述）中的信息用于在生成的几何中设置SDO_POINT属性信息，并在SDO_ELEM_INFO和SDO_ORDINATES属性中设置SDO_POINT属性信息。生成的几何体设置为null。
                           </p>
                        </li>
                     </ul>
                     <p>转换功能列在<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a> 。另请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a>有关每个转换函数的参考信息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL785"></a><a id="SPATL784"></a><div class="props_rev_3"><a id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" name="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C"></a><h3 id="SPATL-GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" class="sect3"><span class="enumeration_section">7.6</span>具有LRS函数的容差值</h3>
               <div>
                  <p>许多LRS函数要求您指定公差值或一个或多个维数组。</p>
                  <p>因此，您可以控制是为所有非度量维度指定单个容差值，还是使用与维度数组或数组中的每个非度量维度关联的容差。公差仅应用于数据的几何部分，而不应用于度量维度。大地测量数据的容差值以米为单位，对于非大地测量数据，它是与数据相关的测量单位。（有关公差的详细讨论，请参阅<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> 。）
                  </p>
                  <p>确保使用的公差值适合数据和目的。如果LRS函数的结果看起来不精确或不正确，则可能需要指定较小的公差值。</p>
                  <p>对于剪辑操作（请参阅<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何线段</a> ）和偏移操作（请参见偏移<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">几何线段</a> ），如果返回的线段在输入几何线段的公差值范围内具有任何形状点，则可能是起点或终点。返回的段，形状点用作返回段的起点或终点。这样做是为了确保生成的几何体不包含任何冗余顶点，这将导致几何体无效。例如，假设与<a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">图7-19中</a>的几何段（非大地测量数据）相关的容差为0.5。
                  </p>
                  <div class="figure" id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">
                     <p class="titleinfigure">图7-19受容差影响的剪辑操作段</p><img src="img/lrs_tol.gif" alt="下面是图7-19的描述" title="下面是图7-19的描述" longdesc="img_text/lrs_tol.html"><br><a href="img_text/lrs_tol.html">“图7-19受容差影响的剪辑操作段”的说明</a></div>
                  <!-- class="figure" -->
                  <p>如果请求剪辑操作以返回测量值0（起点）和<a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">图7-19中的</a> 61.5之间的段，并且如果与测量值61.5和61.257相关联的点之间的距离小于0.5公差值，则返回段的终点是（35,10,61.257）。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL787"></a><a id="SPATL788"></a><a id="SPATL789"></a><a id="SPATL790"></a><a id="SPATL786"></a><div class="props_rev_3"><a id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770" name="GUID-699CED71-3497-4826-A4A5-60BF13CD3770"></a><h3 id="SPATL-GUID-699CED71-3497-4826-A4A5-60BF13CD3770" class="sect3"><span class="enumeration_section">7.7</span> LRS功能示例</h3>
               <div>
                  <p>本节介绍使用LRS功能的简化示例。</p>
                  <p><a id="d62565e2897" class="indexterm-anchor"></a><a id="d62565e2901" class="indexterm-anchor"></a>它指的是本章中介绍的概念，并使用<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中记录的功能</a> 。
                  </p>
                  <p>此示例使用<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">所示</a>的道路。
                  </p>
                  <div class="figure" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">
                     <p class="titleinfigure">图7-20简化LRS示例：高速公路</p><img src="img/highway.gif" alt="下面是图7-20的描述" title="下面是图7-20的描述" longdesc="img_text/highway.html"><br><a href="img_text/highway.html">“图7-20简化LRS示例：公路”的描述</a></div>
                  <!-- class="figure" -->
                  <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20中</a> ，高速公路（路线1）从点2,2开始，到达点5,14，沿着所示路径，并有六个入口 - 出口点（出口1到出口6）。为简单起见，图表上的每个单位代表一个度量单位，因此从开始到结束的度量是27（从出口5到出口6的段是3-4-5直角三角形的斜边）。
                  </p>
                  <p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD" title="这是高速公路特征和LRS对应物（相应特征）的表格。">表7-1</a>中的每一行都列出了与高速公路相关的实际特征以及与其对应或可用于表示它的LRS特征。
                  </p>
                  <div class="tblformal" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD">
                     <p class="titleintable">表7-1公路特征和LRS对应部分</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="公路特点和LRS对应物" width="100%" border="1" summary="This is a table of Highway Features and LRS Counterparts (corresponding features)." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d62565e2943">公路特色</th>
                              <th align="left" valign="bottom" width="47%" id="d62565e2946">LRS功能</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2951" headers="d62565e2943 ">
                                 <p>命名路线，道路或街道</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2951 d62565e2946 ">
                                 <p>LRS段或线性要素（段的逻辑集）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2958" headers="d62565e2943 ">
                                 <p>英里或公里标记</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2958 d62565e2946 ">
                                 <p>测量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2965" headers="d62565e2943 ">
                                 <p>事故报告和位置跟踪</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2965 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2975" headers="d62565e2943 ">
                                 <p>施工区（道路的一部分）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2975 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2985" headers="d62565e2943 ">
                                 <p>道路延伸（在开始或结束时添加）或组合（指定或重命名作为一条道路相遇的两条道路）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2985 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2995" headers="d62565e2943 ">
                                 <p>道路重建或分裂（从一条命名道路产生两条命名道路）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2995 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-1CEF3B63-70D9-4A2B-9388-B4B33D710B24">SDO_LRS.SPLIT_GEOM_SEGMENT</a>过程</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3005" headers="d62565e2943 ">
                                 <p>找到离道路一点的道路上的最近点（例如建筑物）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3005 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3015" headers="d62565e2943 ">
                                 <p>护栏或围栏沿着道路</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3015 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">例7-2</a>执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建一个表来保存<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">所示</a>的段</p>
                     </li>
                     <li>
                        <p>将<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中描述的高速公路的定义插入表中</p>
                     </li>
                     <li>
                        <p>将必要的元数据插入USER_SDO_GEOM_METADATA视图</p>
                     </li>
                     <li>
                        <p>使用PL / SQL和SQL语句定义段并对其执行操作</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">
                     <p class="titleinexample">例7-2简化示例：高速公路</p><pre class="oac_no_warn" dir="ltr">- 为路线（高速公路）创建一个表。CREATE TABLE lrs_routes（route_id NUMBER PRIMARY KEY，route_name VARCHAR2（32），route_geometry SDO_GEOMETRY）; - 为此示例仅使用一个路径填充表。INSERT INTO lrs_routes VALUES（1，'Route1'，SDO_GEOMETRY（3302， - 行字符串，3维：X，Y，M NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1）， - 一行字符串，直段SDO_ORDINATE_ARRAY （2,2,0， - 起点 - 退出1; 0是从开始测量。2,4,2， -  Exit2; 2是从开始测量的。8,4,8， -  Exit3; 8是从开始的量度。12,4,12， -  Exit4; 12是从开始的量度。12,10，NULL， - 不是退出;测量自动计算和填充。8,10,22， -  Exit5; 22是从开始的量度。5,14,27） - 终点（Exit6）; 27是从开始的量度。））; - 更新空间元数据。INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'lrs_routes'，'route_geometry'，SDO_DIM_ARRAY（ -  20X20网格SDO_DIM_ELEMENT（'X'，0,20,1.005），SDO_DIM_ELEMENT（'Y'，0,20） ，0.005），SDO_DIM_ELEMENT（'M'，0,20,0.005） - 测量尺寸），NULL  -  SRID）; - 创建空间索引。CREATE INDEX lrs_routes_idx ON lrs_routes（route_geometry）INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2; - 测试LRS程序。DECLARE geom_segment SDO_GEOMETRY; line_string SDO_GEOMETRY; dim_array SDO_DIM_ARRAY; result_geom_1 SDO_GEOMETRY; result_geom_2 SDO_GEOMETRY; result_geom_3 SDO_GEOMETRY; BEGIN选择a.route_geometry到geom_segment FROM lrs_routes a WHERE a.route_name ='Route1';从user_sdo_geom_metadata中选择m.diminfo到dim_array m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; - 为Route1定义LRS段。这将填充任何null度量。- 无需指定开始和结束度量，因为它们已在几何中定义。SDO_LRS.DEFINE_GEOM_SEGMENT（geom_segment，dim_array）; SELECT a.route_geometry INTO line_string FROM lrs_routes a WHERE a.route_name ='Route1'; - 将Route1拆分为两个部分。SDO_LRS.SPLIT_GEOM_SEGMENT（line_string，dim_array，5，result_geom_1，result_geom_2）; - 连接刚拆分的段。result_geom_3：= SDO_LRS.CONCATENATE_GEOM_SEGMENTS（result_geom_1，dim_array，result_geom_2，dim_array）; - 更新并将几何图形插入表格中，以便稍后显示。UPDATE lrs_routes SET a.route_geometry = geom_segment WHERE a.route_id = 1; INSERT INTO lrs_routes VALUES（11，'result_geom_1'，result_geom_1）; INSERT INTO lrs_routes VALUES（12，'result_geom_2'，result_geom_2）; INSERT INTO lrs_routes VALUES（13，'result_geom_3'，result_geom_3）;结束; /  - 首先，在LRS表中显示数据。SELECT route_id，route_name，route_geometry FROM lrs_routes; -  result_geom_1和result_geom2是否已连接？SELECT SDO_LRS.CONNECTED_GEOM_SEGMENTS（a.route_geometry，b.route_geometry，0.005）FROM lrs_routes a，lrs_routes b WHERE a.route_id = 11 AND b.route_id = 12; -  Route1段是否有效？SELECT SDO_LRS.VALID_GEOM_SEGMENT（route_geometry）FROM lrs_routes WHERE route_id = 1; -  50是Route1的有效措施吗？（应返回FALSE;最高Route1度量为27.）SELECT SDO_LRS.VALID_MEASURE（route_geometry，50）FROM lrs_routes WHERE route_id = 1; - 是否定义了Route1段？SELECT SDO_LRS.IS_GEOM_SEGMENT_DEFINED（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1有多长？SELECT SDO_LRS.GEOM_SEGMENT_LENGTH（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的起始措施是什么？SELECT SDO_LRS.GEOM_SEGMENT_START_MEASURE（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的最终衡量标准是什么？SELECT SDO_LRS.GEOM_SEGMENT_END_MEASURE（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的起点是什么？SELECT SDO_LRS.GEOM_SEGMENT_START_PT（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的终点是什么？SELECT SDO_LRS.GEOM_SEGMENT_END_PT（route_geometry）FROM lrs_routes WHERE route_id = 1; - 翻译（班次测量值）（+10）。- 首先，显示原始段;然后，翻译。SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; SELECT SDO_LRS.TRANSLATE_MEASURE（a.route_geometry，m.diminfo，10）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY'AND a.route_id = 1; - 重新定义几何段以“转换”英里数公里DECLARE geom_segment SDO_GEOMETRY; dim_array SDO_DIM_ARRAY; BEGIN选择a.route_geometry到geom_segment FROM lrs_routes a WHERE a.route_name ='Route1';从user_sdo_geom_metadata中选择m.diminfo到dim_array m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; - 将“里程”转换为公里（27 * 1.609 = 43.443）。SDO_LRS.REDEFINE_GEOM_SEGMENT（geom_segment，dim_array，0， - 零启动度量：LRS段从路径开始处开始。43.443）; -  LRS段结束。 27英里= 43.443公里。- 更新并将几何图形插入表格中，以便稍后显示。UPDATE lrs_routes SET a.route_geometry = geom_segment WHERE a.route_id = 1; END; /  - 显示重新定义的段，所有度量均为“已转换”。 SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; - 剪一条Route1。SELECT SDO_LRS.CLIP_GEOM_SEGMENT（route_geometry，5,10）FROM lrs_routes WHERE route_id = 1; -  Point（9,3，NULL）不在路上;应该返回（9,4,9）。SELECT SDO_LRS.PROJECT_PT（route_geometry，SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,3，NULL）））FROM lrs_routes WHERE route_id = 1; - 返回投影点的度量。SELECT SDO_LRS.GET_MEASURE（SDO_LRS.PROJECT_PT（a.route_geometry，m.diminfo，SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9，3，NULL））），m.diminfo）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'和a.route_id = 1; - 点（9,3，NULL）是否是有效的LRS点？（应该返回TRUE。）SELECT SDO_LRS.VALID_LRS_PT（SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9，3，NULL）），m.diminfo）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES' AND m.column_name ='ROUTE_GEOMETRY'和a.route_id = 1; - 在度量9，偏移0处找到Route1上的点。SELECT SDO_LRS.LOCATE_PT（route_geometry，9,0）FROM lrs_routes WHERE route_id = 1;</pre><p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">例7-3</a>显示了<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">例7-2中</a> SELECT语句的输出。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">
                     <p class="titleinexample">示例7-3简化示例：SELECT语句的输出</p><pre class="oac_no_warn" dir="ltr">SQL&gt;  - 首先，在LRS表中显示数据。SQL&gt; SELECT route_id，route_name，route_geometry FROM lrs_routes; ROUTE_ID ROUTE_NAME ---------- -------------------------------- ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID， SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------------- ------------------------------------------ 1 Route1 SDO_GEOMETRY（3302，NULL， NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,8,4,8,12,4,12,12,10,18,8,10,22,5 ，14,27））11 result_geom_1 SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,5,4,5））12 result_geom_2 ROUTE_ID ROUTE_NAME ---------- -------------------------------- ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（ X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN ---------------------------------------- ---------------------------------------- SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（ 1,2,1），SDO_ORDINATE_ARRAY（5,4,5,8,4,8,12,4,12,12,10,18,8,10,22,5,14,27））13 result_geom_3 SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（ 2,2,0,2,4,2,5,4,5,8,4,8,12,4,12,12,10,18,8,10,22,5,14,27））SQL &gt;  - 是否连接了result_geom_1和result_geom2？SQL&gt; SELECT SDO_LRS.CONNECTED_GEOM_SEGMENTS（a.route_geometry，2 b.route_geometry，0.005）3 FROM lrs_routes a，lrs_routes b 4 WHERE a.route_id = 11 AND b.route_id = 12; SDO_LRS.CONNECTED_GEOM_SEGMENTS（A.ROUTE_GEOMETRY，B.ROUTE_GEOMETRY，0.005）------------------------------------ -------------------------------------------- TRUE SQL&gt;  - 是Route1段有效吗？SQL&gt; SELECT SDO_LRS.VALID_GEOM_SEGMENT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.VALID_GEOM_SEGMENT（ROUTE_GEOMETRY）-------------------------------------------- ------------------------------------ TRUE SQL&gt;  -  50是Route1上的有效度量吗？（应返回FALSE;最高Route1度量为27.）SQL&gt; SELECT SDO_LRS.VALID_MEASURE（route_geometry，50）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.VALID_MEASURE（ROUTE_GEOMETRY，50）------------------------------------------ -------------------------------------- FALSE SQL&gt;  - 是否定义了Route1段？SQL&gt; SELECT SDO_LRS.IS_GEOM_SEGMENT_DEFINED（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.IS_GEOM_SEGMENT_DEFINED（ROUTE_GEOMETRY）-------------------------------------------- ------------------------------------ TRUE SQL&gt;  -  Route1有多长？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_LENGTH（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_LENGTH（ROUTE_GEOMETRY）------------------------------------------- 27 SQL&gt;  -  Route1的起始衡量标准是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_START_MEASURE（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_START_MEASURE（ROUTE_GEOMETRY）-------------------------------------------- ------ 0 SQL&gt;  -  Route1的最终衡量标准是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_END_MEASURE（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_END_MEASURE（ROUTE_GEOMETRY）-------------------------------------------- ---- 27 SQL&gt;  -  Route1的起点是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_START_PT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_START_PT（ROUTE_GEOMETRY）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，-----------------------------------） --------------------------------------------- SDO_GEOMETRY（3301，NULL ，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（2,2,0））SQL&gt;  -  Route1的终点是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_END_PT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_END_PT（ROUTE_GEOMETRY）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，---------------------------------） ----------------------------------------------- SDO_GEOMETRY（3301 ，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（5,14,27））SQL&gt;  - 转换（移位度量值）（+10）。SQL&gt;  - 首先，显示原始段;然后，翻译。SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,8,4,8,12,4,12,12,10,18,8,10） ，22,5,14,27））SQL&gt; SELECT SDO_LRS.TRANSLATE_MEASURE（a.route_geometry，m.diminfo，10）2 FROM lrs_routes a，user_sdo_geom_metadata m 3 WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY '4 AND a.route_id = 1; SDO_LRS.TRANSLATE_MEASURE（A.ROUTE_GEOMETRY，M.DIMINFO，10）（SDO_GTYPE，SDO_SRID，SD --------------------- -------------------------------------------------- --------- SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,10,2,4,12,8,4,18,12,4， 22,12,10,28,8,10,32,5,14,37））SQL&gt;  - 重新定义几何段以“转换”英里到公里SQL&gt; DECLARE 2 geom_segment SDO_GEOMETRY; 3 dim_array SDO_DIM_ARRAY; 4 5 BEGIN 6 7 SE将a.route_geometry放入geom_segment FROM lrs_routes a 8 WHERE a.route_name ='Route1'; 9从m中选择m.diminfo到dim_array中10 user_sdo_geom_metadata m 11 WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; 12 13  - 将“里程”转换为公里（27 * 1.609 = 43.443）。14 SDO_LRS.REDEFINE_GEOM_SEGMENT（geom_segment，15 dim_array，16 0， - 零起始测量：LRS段在路径开始时开始。17 43.443）; -  LRS段结束。 27英里= 43.443公里。18 19  - 更新并将几何图形插入表格中，以便稍后显示。20 UPDATE lrs_routes SET a.route_geometry = geom_segment 21 WHERE a.route_id = 1; 22 23结束; 24 / PL / SQL过程成功完成。SQL&gt;  - 显示重新定义的段，所有度量都“已转换”。 SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,3.218,8,4,12.872,12,4,19,308,12,10,28.962,8,10 ，35.398,5,14,43.443））SQL&gt;  - 剪切一段Route1。SQL&gt; SELECT SDO_LRS.CLIP_GEOM_SEGMENT（route_geometry，5,10）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.CLIP_GEOM_SEGMENT（ROUTE_GEOMETRY，5,10）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，------------------------------- ------------------------------------------------- SDO_GEOMETRY （3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（5,4,5,8,4,8,10,4,10））SQL&gt;  -  Point（9,3，NULL）是在路上;应该返回（9,4,9）。SQL&gt; SELECT SDO_LRS.PROJECT_PT（route_geometry，2 SDO_GEOMETRY（3301，NULL，NULL，3 SDO_ELEM_INFO_ARRAY（1,1,1），4 SDO_ORDINATE_ARRAY（9,3，NULL）））5 FROM lrs_routes WHERE route_id = 1; SDO_LRS.PROJECT_PT（ROUTE_GEOMETRY，SDO_GEOMETRY（3301，NULL，NULL，SDO_EL ----------------------------------- --------------------------------------------- SDO_GEOMETRY（3301，NULL ，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,4,9））SQL&gt;  - 返回投影点的度量。SQL&gt; SELECT SDO_LRS.GET_MEASURE（2 SDO_LRS.PROJECT_PT（a.route_geometry，m.diminfo，3 SDO_GEOMETRY（3301，NULL，NULL，4 SDO_ELEM_INFO_ARRAY（1,1,1），5 SDO_ORDINATE_ARRAY（9,3，NULL））） ，6 m.diminfo）7 FROM lrs_routes a，user_sdo_geom_metadata m 8 WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY'9 AND a.route_id = 1; SDO_LRS.GET_MEASURE（SDO_LRS.PROJECT_PT（A.ROUTE_GEOMETRY，M.DIMINFO，SDO_GEOM ---------------------------------） ----------------------------------------------- 9 SQL&gt; - 点（9,3，NULL）是否是有效的LRS点？（应该返回TRUE。）SQL&gt; SELECT SDO_LRS.VALID_LRS_PT（2 SDO_GEOMETRY（3301，NULL，NULL，3 SDO_ELEM_INFO_ARRAY（1,1,1），4 SDO_ORDINATE_ARRAY（9，3，NULL）），5 m.diminfo）6 FROM lrs_routes a，user_sdo_geom_metadata m 7 WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'8和a.route_id = 1; SDO_LRS.VALID_LRS_PT（SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY -------------------------------------） ----------------------------------------- TRUE SQL&gt;  - 找到该点Route1在度量9处，偏移0。SQL&gt; SELECT SDO_LRS.LOCATE_PT（route_geometry，9,0）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.LOCATE_PT（ROUTE_GEOMETRY，9,0）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），S ------------------------- -------------------------------------------------- ----- SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,4,9））</pre><p></p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04686.clob-class.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Clob类</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="bytes-class.html" title="Previous" type="text/html"></link>
      <link rel="next" href="connection-class.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="bytes-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="connection-class.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name">OCCI应用程序编程接口</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Clob类</li>
            </ol>
            <a id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1" name="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1"></a><a id="LNCPP20702"></a><a id="LNCPP1006"></a>
            
            <h2 id="LNCPP-GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1" class="sect2"><span class="enumeration_section">13.9</span> Clob类</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">Clob</code>类定义<code class="codeph">CLOB</code>类型的对象的公共属性。 <code class="codeph">Clob</code>是一个大字符对象，作为列值存储在数据库表的一行中。<code class="codeph">Clob</code>对象包含指向<code class="codeph">CLOB</code>的逻辑指针，而不是<code class="codeph">CLOB</code>本身。
                  </p>
                  <p><code class="codeph">Clob</code>类的方法使您能够执行与<code class="codeph">Clob</code>对象相关的特定任务，包括获取SQL <code class="codeph">CLOB</code>长度的方法，用于在客户端上实现<code class="codeph">CLOB</code>以及提取<code class="codeph">CLOB</code>的一部分。</p>
                  <p>在<code class="codeph">NULL</code> <code class="codeph">CLOB</code>对象上唯一有效的方法是<a href="bfile-class.html#GUID-96AA140C-73F2-432D-9E76-0123BBEDFB6D">setName（）</a> ， <a href="clob-class.html#GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA">isNull（）</a>和<a href="bfile-class.html#GUID-BED75C06-79E5-474F-AF41-461958455942">operator =（）</a> 。
                  </p>
                  <p><code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>类中的方法（如<code class="codeph">getClob()</code>和<code class="codeph">setClob()</code>使您可以访问SQL <code class="codeph">CLOB</code>值。
                  </p>
                  <p>未初始化的<code class="codeph">CLOB</code>对象可以通过以下方式初始化：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="blob-class.html#GUID-E1F81CE1-F3BC-496D-90C3-A83049EF7930">setEmpty（）</a>方法。该<code class="codeph">CLOB</code>然后可以通过将本进行修改<code class="codeph">CLOB</code>使用到表和检索它<code class="codeph">SELECT...FOR UPDATE</code> 。 <a href="blob-class.html#GUID-001D367B-2009-43BE-9348-674C1BCD68EA">write（）</a>方法修改<code class="codeph">CLOB</code> ;但是，仅在提交事务时才将刷新的数据刷新到表中。请注意，不需要<code class="codeph">insert</code> 。
                        </p>
                     </li>
                     <li>
                        <p>为其分配初始化的<code class="codeph">Clob</code>对象。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1__GUID-06DED90A-F29F-45F9-AE3B-117126047C8B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在<a href="../adlob/introduction-to-large-objects.html#ADLOB001" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a>的介绍性章节中深入讨论了<code class="codeph">LOB</code> ，</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1__BBAFIFAD">
                  <p class="titleintable">表13-10 Clob方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Clob方法综述" width="100%" border="1" summary="First column lists methods; second column provides description of these methods." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d96246e217">方法</th>
                           <th align="left" valign="bottom" width="63%" id="d96246e220">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e225" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED">CLOB（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e225 d96246e220 ">
                              <p><code class="codeph">Clob</code>类构造函数。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e235" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2">附加（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e235 d96246e220 ">
                              <p>追加<code class="codeph">Clob</code>在目前结束<code class="codeph">Clob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e249" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-117C8885-266B-4D1D-9441-E0253E63129B">关（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e249 d96246e220 ">
                              <p>关闭之前打开的<code class="codeph">Clob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e260" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A">closeStream（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e260 d96246e220 ">
                              <p>关闭从当前<code class="codeph">Clob</code>获取的<code class="codeph">Stream</code>对象。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e274" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02">复制（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e274 d96246e220 ">
                              <p>将全部或部分<code class="codeph">Clob</code>或<code class="codeph">BFILE</code>复制到当前的<code class="codeph">Clob</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e291" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C">getCharSetForm（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e291 d96246e220 ">
                              <p>返回<code class="codeph">Clob</code>的字符集形式。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e302" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF">getCharSetId（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e302 d96246e220 ">
                              <p>返回<code class="codeph">Clob</code>的字符集ID。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e313" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43">getCharSetIdUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e313 d96246e220 ">
                              <p>检索与<code class="codeph">Clob</code>关联的字符集名称; <code class="codeph">UString</code>版本。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e327" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB">getChunkSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e327 d96246e220 ">
                              <p>返回最小的数据大小，以执行对<code class="codeph">CLOB</code>高效写入。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e338" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-361E0EE2-F19A-4656-B66A-96E20957FC68">的getContentType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e338 d96246e220 ">
                              <p>返回<code class="codeph">Clob</code>的内容类型。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e349" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761">getOptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e349 d96246e220 ">
                              <p>返回指定<code class="codeph">LobOptionTyp</code> e的<code class="codeph">CLOB</code>的<code class="codeph">LobOptionValue</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e367" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e367 d96246e220 ">
                              <p>将数据从<code class="codeph">CLOB</code>返回为<code class="codeph">Stream</code>对象。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e381" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760">将IsInitialized（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e381 d96246e220 ">
                              <p>测试<code class="codeph">Clob</code>对象是否已初始化。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e392" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA">一片空白（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e392 d96246e220 ">
                              <p>测试<code class="codeph">Clob</code>对象是否为原子<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e406" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-29506600-ECAD-44BD-81D3-634D3504371C">开了（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e406 d96246e220 ">
                              <p>测试<code class="codeph">Clob</code>是否开放。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e417" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1">长度（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e417 d96246e220 ">
                              <p>返回当前<code class="codeph">CLOB</code>的字符数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e428" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-58C57D2B-1FE5-430F-B032-18A2B1850360">打开（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e428 d96246e220 ">
                              <p>打开具有读取或读/写访问权限的<code class="codeph">CLOB</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e439" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E">运算符=（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e439 d96246e220 ">
                              <p>将<code class="codeph">CLOB</code>定位器分配给当前的<code class="codeph">Clob</code>对象。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e453" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5">==操作符（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e453 d96246e220 ">
                              <p>测试两个<code class="codeph">Clob</code>对象是否相等。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e464" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5">运营商！=（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e464 d96246e220 ">
                              <p>测试两个<code class="codeph">Clob</code>对象是否不相等。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e475" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83">读（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e475 d96246e220 ">
                              <p>将<code class="codeph">CLOB</code>的一部分读入缓冲区。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e486" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e486 d96246e220 ">
                              <p>设置与<code class="codeph">Clob</code>关联的字符集ID。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e498" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e498 d96246e220 ">
                              <p>设置与<code class="codeph">Clob</code>关联的字符集ID;环境字符集为UTF16时使用。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e509" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e509 d96246e220 ">
                              <p>设置与<code class="codeph">Clob</code>关联的字符集表单。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e520" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852">的setContentType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e520 d96246e220 ">
                              <p>设置<code class="codeph">Clob</code>的内容类型。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e531" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234">setEmpty（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e531 d96246e220 ">
                              <p>将<code class="codeph">Clob</code>对象设置为空。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e542" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9">的setNull（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e542 d96246e220 ">
                              <p>将<code class="codeph">Clob</code>对象设置为原子<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e556" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2">setOptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e556 d96246e220 ">
                              <p>指定<code class="codeph">LobOptionValue</code>特定<code class="codeph">LobOptionType</code> 。启用<code class="codeph">CLOB</code>的高级压缩，加密和重复数据删除。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e573" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5">修剪（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e573 d96246e220 ">
                              <p>将<code class="codeph">Clob</code>截断为指定的长度。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e584" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-B17C9E99-2292-4F40-9E29-E02113DD9210">写（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e584 d96246e220 ">
                              <p>将缓冲区写入<span class="italic">未打开的</span> <code class="codeph">CLOB</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e598" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E">writeChunk（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e598 d96246e220 ">
                              <p>将缓冲区写入<span class="italic">打开的</span> <code class="codeph">CLOB</code> 。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP20703"></a><div class="props_rev_3"><a id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED" name="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED"></a><h3 id="LNCPP-GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED" class="sect3"><span class="enumeration_section">13.9.1</span> Clob（）</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">Clob</code>类构造函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED__GUID-FB794FE3-DCEE-4374-A6A3-AF4959B3696F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists constructor versions; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d96246e688">句法</th>
                              <th align="left" valign="bottom" width="50%" id="d96246e691">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e696" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">CLOB（）;</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e696 d96246e691 ">
                                 <p>创建一个<code class="codeph">NULL</code> <code class="codeph">Clob</code>对象。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e709" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">Clob（const Connection * connectionp）;</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e709 d96246e691 ">
                                 <p>创建一个未初始化的<code class="codeph">Clob</code>对象。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e719" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">Clob（const Clob * srcClob）;</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e719 d96246e691 ">
                                 <p>创建<code class="codeph">Clob</code>对象的副本。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED__GUID-BD918811-6AF0-48F9-83A6-65B9D7B1A50A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d96246e736">参数</th>
                              <th align="left" valign="bottom" width="78%" id="d96246e739">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d96246e744" headers="d96246e736 "><pre class="oac_no_warn" dir="ltr">connectionp</pre></td>
                              <td align="left" valign="top" width="78%" headers="d96246e744 d96246e739 ">
                                 <p>连接指针</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d96246e751" headers="d96246e736 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="78%" headers="d96246e751 d96246e739 ">
                                 <p>源<code class="codeph">Clob</code>对象</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20705"></a><a id="LNCPP20704"></a><div class="props_rev_3"><a id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2" name="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2"></a><h3 id="LNCPP-GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2" class="sect3"><span class="enumeration_section">13.9.2</span>追加（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">CLOB</code>附加到当前<code class="codeph">CLOB</code>的末尾。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2__GUID-2267DF3A-7931-4777-9B52-A430084BEA55">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void append（const Clob＆srcClob）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2__GUID-5E255F23-88B7-4955-8D0A-3AB9172F33DE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e848">参数</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e851">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e856" headers="d96246e848 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e856 d96246e851 ">
                                 <p>该<code class="codeph">CLOB</code>附加到当前<code class="codeph">CLOB</code> 。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20707"></a><a id="LNCPP20706"></a><div class="props_rev_3"><a id="GUID-117C8885-266B-4D1D-9441-E0253E63129B" name="GUID-117C8885-266B-4D1D-9441-E0253E63129B"></a><h3 id="LNCPP-GUID-117C8885-266B-4D1D-9441-E0253E63129B" class="sect3"><span class="enumeration_section">13.9.3</span> close（）</h3>
               <div>
                  <div class="section">
                     <p>关闭<code class="codeph">CLOB</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-117C8885-266B-4D1D-9441-E0253E63129B__GUID-AEC2EF0C-C7F5-47CA-B410-9788A3D6BA92">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void close（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20709"></a><a id="LNCPP20708"></a><div class="props_rev_3"><a id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A" name="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A"></a><h3 id="LNCPP-GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A" class="sect3"><span class="enumeration_section">13.9.4</span> closeStream（）</h3>
               <div>
                  <div class="section">
                     <p>关闭从<code class="codeph">CLOB</code>获取的<code class="codeph">Stream</code>对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A__GUID-83F8C00B-010E-4AF0-A00C-D02DB028F044">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void closeStream（Stream * stream）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A__GUID-AD1B035E-DFF6-4CE4-A1D0-D740F56FC7D2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e1034">参数</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e1037">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e1042" headers="d96246e1034 "><pre class="oac_no_warn" dir="ltr">流</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e1042 d96246e1037 ">
                                 <p>要关闭的Stream对象。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20710"></a><div class="props_rev_3"><a id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02" name="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02"></a><h3 id="LNCPP-GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02" class="sect3"><span class="enumeration_section">13.9.5</span>副本（）</h3>
               <div>
                  <div class="section">
                     <p>将部分或全部<code class="codeph">BFILE</code>或<code class="codeph">CLOB</code>复制到当前<code class="codeph">CLOB</code> 。</p>
                     <p>将数据从<code class="codeph">Bfile</code>加载到<code class="codeph">Clob</code>时，OCCI不执行任何字符集转换;因此，请确保<code class="codeph">Bfile</code>的内容是服务器的<code class="codeph">Clob</code>存储字符集中的字符数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02__GUID-ED045E02-F356-426C-A192-559BE1232BDC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists method versions; second column provides description of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d96246e1146">句法</th>
                              <th align="left" valign="bottom" width="50%" id="d96246e1149">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e1154" headers="d96246e1146 "><pre class="oac_no_warn" dir="ltr">void copy（const Bfile＆srcBfile，unsigned int numBytes，unsigned int dstOffset = 1，unsigned int srcOffset = 1）;</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e1154 d96246e1149 ">
                                 <p>将<code class="codeph">BFILE</code>复制到当前<code class="codeph">CLOB</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e1167" headers="d96246e1146 "><pre class="oac_no_warn" dir="ltr">void copy（const Clob＆srcClob，unsigned int numBytes，unsigned int dstOffset = 1，unsigned int srcOffset = 1）;</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e1167 d96246e1149 ">
                                 <p>将<code class="codeph">CLOB</code>复制到当前<code class="codeph">CLOB</code> 。</p>
                                 <p>如果目标<code class="codeph">CLOB</code>启用了重复数据删除，并且源和目标<code class="codeph">CLOB</code>位于同一列中，则新<code class="codeph">CLOB</code>将创建为写时复制。所有其他设置都从源<code class="codeph">CLOB</code>继承。如果目标<code class="codeph">CLOB</code>禁用了重复数据删除，则它是<code class="codeph">CLOB</code>全新副本。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02__GUID-D05273D2-E3AE-4C5D-A4FC-55C2ABFCCCD2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e1208">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e1211">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1216" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcBfile</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1216 d96246e1211 ">
                                 <p>要从中复制数据的<code class="codeph">BFILE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1226" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1226 d96246e1211 ">
                                 <p>要从中复制数据的<code class="codeph">CLOB</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1236" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">的numBytes</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1236 d96246e1211 ">
                                 <p>要从源<code class="codeph">BFILE</code> <code class="codeph">or</code> <code class="codeph">CLOB</code>复制的字节数<code class="codeph">.</code>有效值是大于0的数字。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1252" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">字符dstOffset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1252 d96246e1211 ">
                                 <p>数据的起始位置为0。</p>
                                 <p>开始将数据写入当前<code class="codeph">CLOB</code>有效值的起始位置是写入目标缓冲区的大于或等于1的数字;第一个字节的位置。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1264" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcOffset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1264 d96246e1211 ">
                                 <p>从源<code class="codeph">BFILE</code>或<code class="codeph">CLOB</code>开始读取数据的起始位置。有效值是大于或等于1的数字。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20712"></a><a id="LNCPP20711"></a><div class="props_rev_3"><a id="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C" name="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C"></a><h3 id="LNCPP-GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C" class="sect3"><span class="enumeration_section">13.9.6</span> getCharSetForm（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">CLOB</code>的字符集形式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C__GUID-AB18EC78-38EA-4BC5-A3F5-C83F4E0086C6">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CharSetForm getCharSetForm（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20714"></a><a id="LNCPP20713"></a><div class="props_rev_3"><a id="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF" name="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF"></a><h3 id="LNCPP-GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF" class="sect3"><span class="enumeration_section">13.9.7</span> getCharSetId（）</h3>
               <div>
                  <div class="section">
                     <p>以字符串形式返回<code class="codeph">CLOB</code>的字符集ID。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF__GUID-0B074A8F-1E4D-4ED2-A1DA-5197BFCC0C1A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getCharSetId（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20716"></a><a id="LNCPP20715"></a><div class="props_rev_3"><a id="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43" name="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43"></a><h3 id="LNCPP-GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43" class="sect3"><span class="enumeration_section">13.9.8</span> getCharSetIdUString（）</h3>
               <div>
                  <div class="section">
                     <p>检索与<code class="codeph">Clob</code>关联的字符集名称; <code class="codeph">UString</code>版本。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43__GUID-0562C61B-7747-4A41-B7D1-9E782E4C2968">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getCharSetIdUString（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20718"></a><a id="LNCPP20717"></a><div class="props_rev_3"><a id="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB" name="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB"></a><h3 id="LNCPP-GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB" class="sect3"><span class="enumeration_section">13.9.9</span> getChunkSize（）</h3>
               <div>
                  <div class="section">
                     <p>返回最小的数据大小，以执行对<code class="codeph">CLOB</code>高效写入。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB__GUID-05A8D3D2-15F0-40E3-9C04-D91D2465F897">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getChunkSize（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20720"></a><a id="LNCPP20719"></a><div class="props_rev_3"><a id="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68" name="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68"></a><h3 id="LNCPP-GUID-361E0EE2-F19A-4656-B66A-96E20957FC68" class="sect3"><span class="enumeration_section">13.9.10</span> getContentType（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">Clob</code>的内容类型。如果尚未分配内容类型，则返回<code class="codeph">NULL</code>字符串。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68__GUID-4F17C94D-9C1F-4305-83CE-9BE0BB02BBD0">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getContentType（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20722"></a><a id="LNCPP20721"></a><div class="props_rev_3"><a id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761" name="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761"></a><h3 id="LNCPP-GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761" class="sect3"><span class="enumeration_section">13.9.11</span> getOptions（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">CLOB</code>的<code class="codeph">LobOptionValue</code>为指定<code class="codeph">LobOptionType</code> 。
                     </p>
                     <p>如果尝试检索未在存储<code class="codeph">CLOB</code>的数据库列或分区上配置的选项的值，则会引发异常。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761__GUID-B82707CF-2637-4789-88D0-D7678549C675">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">LobOptionValue getOptions（LobOptionType optType）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761__GUID-487544AC-0F0A-4DFD-9F91-FC18F2B2A9AE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d96246e1765">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d96246e1768">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e1773" headers="d96246e1765 "><pre class="oac_no_warn" dir="ltr">optType</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e1773 d96246e1768 ">
                                 <p>请求<code class="codeph">LobOptionType</code>设置。这些可以使用按位<code class="codeph">or</code> （ <code class="codeph">|</code> ）组合以避免服务器往返。<a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABGICGB" title="该表有2列。第一列包含LobOptionType类型的值，第二列包含其描述">见表7-1</a>和<a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABEHGAJ" title="该表有2列。第一列包含LobOptionValue类型的值，第二列包含其描述">表7-2</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20724"></a><a id="LNCPP20723"></a><div class="props_rev_3"><a id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974" name="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974"></a><h3 id="LNCPP-GUID-D9C9410F-BD34-41CA-9680-BF63A885A974" class="sect3"><span class="enumeration_section">13.9.12</span> getStream（）</h3>
               <div>
                  <div class="section">
                     <p>从<code class="codeph">CLOB</code>返回<code class="codeph">Stream</code>对象。如果流是打开的，则不允许在<code class="codeph">CLOB</code>对象上打开另一个流，因此用户必须始终在执行任何<code class="codeph">Clob</code>对象操作之前关闭该流。默认情况下使用客户端的字符集ID和表单，除非通过<a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId（）</a>和<a href="blob-class.html#GUID-E1F81CE1-F3BC-496D-90C3-A83049EF7930">setEmpty（）</a>调用显式设置它们。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974__GUID-FD51E615-A13E-47B2-8D42-97E646026E6F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Stream * getStream（unsigned int offset = 1，unsigned int amount = 0）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974__GUID-1A2C0722-A4B4-4E8C-BFAE-4FA20D99894C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e1899">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e1902">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1907" headers="d96246e1899 "><pre class="oac_no_warn" dir="ltr">抵消</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1907 d96246e1902 ">
                                 <p>从<code class="codeph">CLOB</code>开始读取数据的起始位置。如果未指定<code class="codeph">offset</code> ，则从<code class="codeph">CLOB</code>的开头写入数据。有效值是大于或等于1的数字。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1923" headers="d96246e1899 "><pre class="oac_no_warn" dir="ltr">量</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1923 d96246e1902 ">
                                 <p>要读取的连续字符总数。如果<span class="italic"><code class="codeph">amount</code></span>为0，则从<code class="codeph">offset</code>值读取数据，直到<code class="codeph">CLOB</code>结束。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20726"></a><a id="LNCPP20725"></a><div class="props_rev_3"><a id="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760" name="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760"></a><h3 id="LNCPP-GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760" class="sect3"><span class="enumeration_section">13.9.13</span> isInitialized（）</h3>
               <div>
                  <div class="section">
                     <p>测试<code class="codeph">Clob object</code>是否已初始化。如果初始化<code class="codeph">Clob</code>对象，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760__GUID-34C82E13-9DF8-42F1-97EA-964BD23D6AC3">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isInitialized（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20728"></a><a id="LNCPP20727"></a><div class="props_rev_3"><a id="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA" name="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA"></a><h3 id="LNCPP-GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA" class="sect3"><span class="enumeration_section">13.9.14</span> isNull（）</h3>
               <div>
                  <div class="section">
                     <p>测试<code class="codeph">Clob</code>对象是否为原子<code class="codeph">NULL</code> 。如果<code class="codeph">Clob</code>对象是原子级<code class="codeph">NULL</code> ，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA__GUID-1C80F27B-B38D-4CB2-8907-7963A51CA4AE">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isNull（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20730"></a><a id="LNCPP20729"></a><div class="props_rev_3"><a id="GUID-29506600-ECAD-44BD-81D3-634D3504371C" name="GUID-29506600-ECAD-44BD-81D3-634D3504371C"></a><h3 id="LNCPP-GUID-29506600-ECAD-44BD-81D3-634D3504371C" class="sect3"><span class="enumeration_section">13.9.15</span> isOpen（）</h3>
               <div>
                  <div class="section">
                     <p>测试<code class="codeph">CLOB</code>是否开放。如果<code class="codeph">CLOB</code>打开，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29506600-ECAD-44BD-81D3-634D3504371C__GUID-F88216FD-63D0-4EFF-8FF6-1FB09DACA4EA">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isOpen（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20732"></a><a id="LNCPP20731"></a><div class="props_rev_3"><a id="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1" name="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1"></a><h3 id="LNCPP-GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1" class="sect3"><span class="enumeration_section">13.9.16</span>长度（）</h3>
               <div>
                  <div class="section">
                     <p>返回<code class="codeph">CLOB</code>的字符数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1__GUID-5207861B-4C75-4B47-9AFC-6B151C8A05FD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int length（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20734"></a><a id="LNCPP20733"></a><div class="props_rev_3"><a id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360" name="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360"></a><h3 id="LNCPP-GUID-58C57D2B-1FE5-430F-B032-18A2B1850360" class="sect3"><span class="enumeration_section">13.9.17</span> open（）</h3>
               <div>
                  <div class="section">
                     <p>以<code class="codeph">read/write</code>或只读模式打开<code class="codeph">CLOB</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360__GUID-AE97C0CE-7CB0-4ED7-AA02-112AA933A1DD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void open（LObOpenMode mode = OCCI_LOB_READWRITE）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360__GUID-72863AD4-88ED-4782-837E-4C367505D1A0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2370">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2373">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2378" headers="d96246e2370 "><pre class="oac_no_warn" dir="ltr">模式</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2378 d96246e2373 ">
                                 <p><code class="codeph">CLOB</code> <code class="codeph">is to be opened in. <code class="codeph">The mode the</code> <code class="codeph">is to be opened in.有效值为：</code></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">OCCI_LOB_READWRITE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCCI_LOB_READONLY</code></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20736"></a><a id="LNCPP20735"></a><div class="props_rev_3"><a id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E" name="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E"></a><h3 id="LNCPP-GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E" class="sect3"><span class="enumeration_section">13.9.18</span> operator =（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">CLOB</code>分配给当前<code class="codeph">CLOB</code> 。仅当目标<code class="codeph">CLOB</code>存储在表中时，源<code class="codeph">CLOB</code>才会复制到目标<code class="codeph">CLOB</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E__GUID-C6DEBEF2-2A66-45E4-85C6-BB77EB86C92C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Clob＆operator =（const Clob＆srcClob）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E__GUID-CCB90036-5ACB-47CB-B4CC-180A3A5CABF0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d96246e2496">参数</th>
                              <th align="left" valign="bottom" width="84%" id="d96246e2499">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d96246e2504" headers="d96246e2496 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="84%" headers="d96246e2504 d96246e2499 ">
                                 <p>必须从中复制数据的<code class="codeph">Clob</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20738"></a><a id="LNCPP20737"></a><div class="props_rev_3"><a id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5" name="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5"></a><h3 id="LNCPP-GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5" class="sect3"><span class="enumeration_section">13.9.19</span> operator ==（）</h3>
               <div>
                  <div class="section">
                     <p>比较两个<code class="codeph">Clob</code>对象是否相等。如果两个<code class="codeph">Clob</code>对象都引用相同的<code class="codeph">CLOB</code>则它们是相等的。两个<code class="codeph">NULL</code> <code class="codeph">Clob</code>对象不被视为相等。如果<code class="codeph">Blob</code>对象相等，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5__GUID-58746872-757A-40AD-997E-BBD93CBF62E5">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator ==（const Clob＆srcClob）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5__GUID-387F0CBC-C037-492A-B3D2-3984B59F7131">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2620">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2623">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2628" headers="d96246e2620 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2628 d96246e2623 ">
                                 <p>所述<code class="codeph">Clob</code>对象与当前进行比较<code class="codeph">Clob</code>对象。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20740"></a><a id="LNCPP20739"></a><div class="props_rev_3"><a id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5" name="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5"></a><h3 id="LNCPP-GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5" class="sect3"><span class="enumeration_section">13.9.20</span>运营商！=（）</h3>
               <div>
                  <div class="section">
                     <p>比较两个<code class="codeph">Clob objects</code>的不等式。如果两个<code class="codeph">Clob</code>对象都引用相同的<code class="codeph">CLOB</code>则它们是相等的。两个<code class="codeph">NULL</code> <code class="codeph">Clob</code>对象不被视为相等。如果<code class="codeph">Clob</code>对象不相等，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5__GUID-0AC2C9D4-9C3C-4A76-BB9D-A28D30416DB3">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">布尔运营商！=（const Clob＆srcClob）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5__GUID-151BA277-ECB8-48B0-A647-AF6C9DC4CBC2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2747">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2750">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2755" headers="d96246e2747 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2755 d96246e2750 ">
                                 <p>所述<code class="codeph">Clob</code>对象与当前进行比较<code class="codeph">Clob</code>对象。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20741"></a><div class="props_rev_3"><a id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83" name="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83"></a><h3 id="LNCPP-GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83" class="sect3"><span class="enumeration_section">13.9.21</span>读（）</h3>
               <div>
                  <div class="section">
                     <p>将部分或全部<code class="codeph">CLOB</code>读入缓冲区。
                     </p>
                     <p>返回为固定宽度字符集读取的实际字符数，例如UTF16，或多字节字符集（包括UTF8）读取的字节数。</p>
                     <p>默认情况下使用客户端的字符集id和表单，除非通过<a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId（）</a> ， <a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString（）</a>和<a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm（）</a>调用显式设置它们。
                     </p>
                     <p>请注意，对于方法的第二个版本，返回值表示为固定宽度字符集（UTF16）读取的字符数，或者表示为多字节字符集（包括UTF8）读取的字节数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83__GUID-98A023F7-B212-433E-8166-AF5FD0A8C4A3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d96246e2861">句法</th>
                              <th align="left" valign="bottom" width="47%" id="d96246e2864">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e2869" headers="d96246e2861 "><pre class="oac_no_warn" dir="ltr">unsigned int read（unsigned int amt，unsigned char * buffer，unsigned int bufsize，unsigned int offset = 1）const;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e2869 d96246e2864 ">
                                 <p>将部分或全部<code class="codeph">CLOB</code>读入缓冲区。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e2879" headers="d96246e2861 "><pre class="oac_no_warn" dir="ltr">unsigned int read（unsigned int amt，unsigned utext * buffer，unsigned int bufsize，unsigned int offset = 1）const;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e2879 d96246e2864 ">
                                 <p>将部分或全部<code class="codeph">CLOB</code>读入缓冲区;全球化启用。应使用<code class="codeph">setCharSetId()</code>方法将字符集设置为OCCIUTF16后调用。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83__GUID-A363851C-9953-46AA-90FA-8E95C781A4F1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e2899">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e2902">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2907" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">AMT</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2907 d96246e2902 ">
                                 <p>要读取的字节数。来自<code class="codeph">CLOB</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2917" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">缓冲</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2917 d96246e2902 ">
                                 <p>要读取<code class="codeph">CLOB</code>数据的缓冲区。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2927" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">BUFFSIZE</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2927 d96246e2902 ">
                                 <p>缓冲区的大小。有效值是大于或等于<code class="codeph">amt</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2937" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">抵消</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2937 d96246e2902 ">
                                 <p>从<code class="codeph">CLOB</code>开始读取数据的起始位置。如果未指定<code class="codeph">offset</code> ，则从<code class="codeph">CLOB</code>的开头写入数据。有效值是大于或等于1的数字。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20743"></a><a id="LNCPP20742"></a><div class="props_rev_3"><a id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176" name="GUID-5005CF1B-B728-4798-822F-8FE2D697D176"></a><h3 id="LNCPP-GUID-5005CF1B-B728-4798-822F-8FE2D697D176" class="sect3"><span class="enumeration_section">13.9.22</span> setCharSetId（）</h3>
               <div>
                  <div class="section">
                     <p>设置与<code class="codeph">Clob</code>关联的字符集标识。字符集id集用于读/写和<a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream（）</a>操作。如果未明确设置任何值，则使用默认客户端的字符集ID。全球化支持指南附录A中给出了支持的字符集列表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176__GUID-B3E31D5B-FDA0-400E-A47C-978A3E45601A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetId（const string＆charset）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176__GUID-7FAD8DB5-7F0A-4061-9F6A-DE5E29D50F98">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3040">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3043">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3048" headers="d96246e3040 "><pre class="oac_no_warn" dir="ltr">字符集</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3048 d96246e3043 ">
                                 <p>Oracle支持的字符集名称，例如<code class="codeph">E8DEC</code> ， <code class="codeph">ZHT16BIG5</code>或<code class="codeph">OCCIUTF16</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20745"></a><a id="LNCPP20744"></a><div class="props_rev_3"><a id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28" name="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28"></a><h3 id="LNCPP-GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28" class="sect3"><span class="enumeration_section">13.9.23</span> setCharSetIdUString（）</h3>
               <div>
                  <div class="section">
                     <p>设置与<code class="codeph">Clob</code>关联的characterset id;当环境的字符集是<code class="codeph">UTF16</code> 。<code class="codeph">charset</code> id set用于read，write和<a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream（）</a>操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28__GUID-0B73533F-DE85-459D-A0F7-85D5E0337D94">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetIdUSString（const string＆charset）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28__GUID-FDC4F8FA-7D2F-4CBE-B084-A41A2470C418">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3157">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3160">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3165" headers="d96246e3157 "><pre class="oac_no_warn" dir="ltr">字符集</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3165 d96246e3160 ">
                                 <p>Oracle支持字符集的名称，如<code class="codeph">WE8DEC</code> ， <code class="codeph">ZHT16BIG5</code> ，或<code class="codeph">OCCIUTF16</code>在<code class="codeph">UString</code> （UTF16字符集）。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20747"></a><a id="LNCPP20746"></a><div class="props_rev_3"><a id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF" name="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF"></a><h3 id="LNCPP-GUID-DECC528D-81B4-4444-9B59-ADC0810924CF" class="sect3"><span class="enumeration_section">13.9.24</span> setCharSetForm（）</h3>
               <div>
                  <div class="section">
                     <p>设置与<code class="codeph">CLOB</code>关联的字符集表单。 charset表单集用于read，write和<a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream（）</a>操作。如果未明确设置任何值，则默认使用<code class="codeph">OCCI_SQLCS_IMPLICIT</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF__GUID-A0A5057C-42C4-42AC-AEB8-F66CBE5418ED">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetForm（CharSetForm csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF__GUID-DC942017-09C0-46AC-82C8-584873961894">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3275">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3278">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3283" headers="d96246e3275 "><pre class="oac_no_warn" dir="ltr">csfrm</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3283 d96246e3278 ">
                                 <p><code class="codeph">Clob</code>的charset形式。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20749"></a><a id="LNCPP20748"></a><div class="props_rev_3"><a id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852" name="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852"></a><h3 id="LNCPP-GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852" class="sect3"><span class="enumeration_section">13.9.25</span> setContentType（）</h3>
               <div>
                  <div class="section">
                     <p>设置<code class="codeph">Clob</code>的内容类型。如果<code class="codeph">Clob</code>不是SecureFile，则抛出异常。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852__GUID-1DFF6C46-6259-4372-8142-371A439A5B03">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setContentType（const string contenttype）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852__GUID-A08B0598-4587-4B71-8E3C-3316CBE07E9C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3380">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3383">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3388" headers="d96246e3380 "><pre class="oac_no_warn" dir="ltr">内容类型</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3388 d96246e3383 ">
                                 <p><code class="codeph">Clob</code>的内容类型;符合ASCII Mime的字符串。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20750"></a><div class="props_rev_3"><a id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234" name="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234"></a><h3 id="LNCPP-GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234" class="sect3"><span class="enumeration_section">13.9.26</span> setEmpty（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Clob</code>对象设置为空。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234__GUID-BE7E932D-607A-4DE1-BBCA-D17352C154FD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists method versions; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d96246e3475">句法</th>
                              <th align="left" valign="bottom" width="56%" id="d96246e3478">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d96246e3483" headers="d96246e3475 "><pre class="oac_no_warn" dir="ltr">void setEmpty（）;</pre></td>
                              <td align="left" valign="top" width="56%" headers="d96246e3483 d96246e3478 ">
                                 <p>将<code class="codeph">Clob</code>对象设置为空。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d96246e3493" headers="d96246e3475 "><pre class="oac_no_warn" dir="ltr">void setEmpty（const Connection * connectionp）;</pre></td>
                              <td align="left" valign="top" width="56%" headers="d96246e3493 d96246e3478 ">
                                 <p>将<code class="codeph">Clob</code>对象设置为empty并初始化指向传递参数的连接指针。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234__GUID-C7CBDC60-8B1B-4F09-8E78-EB670F25D4EB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3510">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3513">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3518" headers="d96246e3510 "><pre class="oac_no_warn" dir="ltr">connectionp</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3518 d96246e3513 ">
                                 <p><code class="codeph">Clob</code>对象的新连接指针。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20752"></a><a id="LNCPP20751"></a><div class="props_rev_3"><a id="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9" name="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9"></a><h3 id="LNCPP-GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9" class="sect3"><span class="enumeration_section">13.9.27</span> setNull（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Clob</code>对象设置为原子<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9__GUID-1AD16490-423C-49D0-982B-43090DEB0670">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNull（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20754"></a><a id="LNCPP20753"></a><div class="props_rev_3"><a id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2" name="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2"></a><h3 id="LNCPP-GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2" class="sect3"><span class="enumeration_section">13.9.28</span> setOptions（）</h3>
               <div>
                  <div class="section">
                     <p>指定<code class="codeph">LobOptionValue</code>特定<code class="codeph">LobOptionType</code> 。启用CLOB的高级压缩，加密和重复数据删除。<a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABGICGB" title="该表有2列。第一列包含LobOptionType类型的值，第二列包含其描述">见表7-1</a>和<a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABEHGAJ" title="该表有2列。第一列包含LobOptionValue类型的值，第二列包含其描述">表7-2</a> 。
                     </p>
                     <p>如果尝试设置或取消设置未在存储<code class="codeph">CLOB</code>的数据库列或分区上配置的选项，则会引发异常。</p>
                     <p>如果尝试在加密的<code class="codeph">CLOB</code>列中关闭加密，则会引发异常。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2__GUID-96288A3A-12B6-4CD3-AC1D-37FA78E23A78">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setOptions（LobOptionType optType，LobOptionValue optValue）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2__GUID-FB821EFF-A969-4899-9E7F-57D88CEA1A3C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d96246e3716">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d96246e3719">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e3724" headers="d96246e3716 "><pre class="oac_no_warn" dir="ltr">optType</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e3724 d96246e3719 ">
                                 <p>指定了<code class="codeph">LobOptionType</code>设置。这些可以使用按位<code class="codeph">or</code> （ <code class="codeph">|</code> ）组合以避免服务器往返。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e3740" headers="d96246e3716 "><pre class="oac_no_warn" dir="ltr">optValue</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e3740 d96246e3719 ">
                                 <p>该<code class="codeph">LobOptionValue</code>设置为<code class="codeph">LobOptionType</code>由指定<code class="codeph">optType</code>参数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20756"></a><a id="LNCPP20755"></a><div class="props_rev_3"><a id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5" name="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5"></a><h3 id="LNCPP-GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5" class="sect3"><span class="enumeration_section">13.9.29</span> trim（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">CLOB</code>截断为<code class="codeph">to the new length specified.</code></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5__GUID-393B3E8E-2F6F-4490-A766-CAFF0EFA5996">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void trim（unsigned int newlen）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5__GUID-DDB0CF6E-B2F3-4ACD-A695-8470CC2C7E80">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d96246e3841">参数</th>
                              <th align="left" valign="bottom" width="84%" id="d96246e3844">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d96246e3849" headers="d96246e3841 "><pre class="oac_no_warn" dir="ltr">newlen</pre></td>
                              <td align="left" valign="top" width="84%" headers="d96246e3849 d96246e3844 ">
                                 <p><code class="codeph">CLOB</code>的新长度。有效值是小于或等于<code class="codeph">CLOB</code>当前长度的数字。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20757"></a><div class="props_rev_3"><a id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210" name="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210"></a><h3 id="LNCPP-GUID-B17C9E99-2292-4F40-9E29-E02113DD9210" class="sect3"><span class="enumeration_section">13.9.30</span>写（）</h3>
               <div>
                  <div class="section">
                     <p>将数据从缓冲区写入<code class="codeph">CLOB</code> 。</p>
                     <p>此方法隐式打开<code class="codeph">CLOB</code> ，将缓冲区复制到<code class="codeph">CLOB</code> ，并隐式关闭<code class="codeph">CLOB</code> 。如果<code class="codeph">CLOB</code>已打开，请改用<a href="clob-class.html#GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E">writeChunk（）</a> 。返回实际写入的字符数。默认情况下使用客户端的字符集id和表单，除非通过<a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId（）</a>和<a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm（）</a>调用显式设置它们。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210__GUID-500B42A1-FD37-4988-B524-004BEAF64F2D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists method versions; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d96246e3964">句法</th>
                              <th align="left" valign="bottom" width="59%" id="d96246e3967">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d96246e3972" headers="d96246e3964 "><pre class="oac_no_warn" dir="ltr">unsigned int write（unsigned int amt，unsigned char * buffer，unsigned int bufsize，unsigned int offset = 1）;</pre></td>
                              <td align="left" valign="top" width="59%" headers="d96246e3972 d96246e3967 ">
                                 <p>将数据从缓冲区写入<code class="codeph">CLOB</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d96246e3982" headers="d96246e3964 "><pre class="oac_no_warn" dir="ltr">unsigned int write（unsigned int amt，utext * buffer，unsigned int bufsize，unsigned int offset = 1）;</pre></td>
                              <td align="left" valign="top" width="59%" headers="d96246e3982 d96246e3967 ">
                                 <p>将数据从UTF16缓冲区写入<code class="codeph">CLOB</code> ;全球化启用。应使用<a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString（）</a>方法将字符集设置为OCCIUTF16后调用。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210__GUID-04DF6383-7DAB-49EA-A836-EB0CFC0E9AAD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e4002">参数</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e4005">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4010" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">AMT</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4010 d96246e4005 ">
                                 <p>amount参数表示：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>为固定宽度字符集编写的字符数（UTF16）</p>
                                    </li>
                                    <li>
                                       <p>为多字节字符集（包括UTF8）写入的字节数</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4024" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">缓冲</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4024 d96246e4005 ">
                                 <p>包含要写入<code class="codeph">CLOB</code>的数据的缓冲区。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4034" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">BUFFSIZE</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4034 d96246e4005 ">
                                 <p>包含要写入<code class="codeph">CLOB</code>的数据的缓冲区的大小<code class="codeph">.</code>有效值是大于或等于<code class="codeph">amt</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4049" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">抵消</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4049 d96246e4005 ">
                                 <p>开始将数据写入<code class="codeph">CLOB</code>的起始位置。如果未指定<code class="codeph">offset</code> ，则从<code class="codeph">CLOB</code>的开头写入数据。有效值是大于或等于1的数字。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20758"></a><div class="props_rev_3"><a id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E" name="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E"></a><h3 id="LNCPP-GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E" class="sect3"><span class="enumeration_section">13.9.31</span> writeChunk（）</h3>
               <div>
                  <div class="section">
                     <p>将数据从缓冲区写入先前打开的<code class="codeph">CLOB</code> 。返回实际的字符数。默认情况下使用客户端的字符集id和表单，除非通过<a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId（）</a>和<a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm（）</a>调用显式设置它们。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E__GUID-5549CD1D-3727-4B82-B53C-4A0A48E8CE39">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists method versions; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d96246e4148">句法</th>
                              <th align="left" valign="bottom" width="47%" id="d96246e4151">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e4156" headers="d96246e4148 "><pre class="oac_no_warn" dir="ltr">unsigned int writeChunk（unsigned int amt，unsigned char * buffer，unsigned int bufsize，unsigned int offset = 1）;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e4156 d96246e4151 ">
                                 <p>将数据从缓冲区写入先前打开的<code class="codeph">CLOB</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e4166" headers="d96246e4148 "><pre class="oac_no_warn" dir="ltr">unsigned int writeChunk（unsigned int amt，utext * buffer，unsigned int bufsize，unsigned int offset = 1）;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e4166 d96246e4151 ">
                                 <p>将数据从UTF16缓冲区写入<code class="codeph">CLOB</code> ;全球化启用。应该使用<a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString（）</a>方法将字符<code class="codeph">OCCIUTF16</code>设置为<code class="codeph">OCCIUTF16</code>后调用。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E__GUID-0A873494-22F7-43F5-84AA-ADF8C248EA87">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e4189">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e4192">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4197" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">AMT</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4197 d96246e4192 ">
                                 <p>amount参数表示为固定宽度字符集（UTF16）写入的字符数或为多字节字符集（包括UTF8）写入的字节数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4204" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">缓冲</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4204 d96246e4192 ">
                                 <p>包含要写入<code class="codeph">CLOB</code>的数据的缓冲区。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4214" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">BUFFSIZE</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4214 d96246e4192 ">
                                 <p>包含要写入<code class="codeph">CLOB</code>的数据的缓冲区的大小<code class="codeph">.</code>有效值是大于或等于<code class="codeph">amt</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4229" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">抵消</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4229 d96246e4192 ">
                                 <p>开始将数据写入<code class="codeph">CLOB</code>的起始位置。如果未指定<code class="codeph">offset</code> ，则从<code class="codeph">CLOB</code>的开头写入数据。有效值是大于或等于1的数字。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00077.application-architecture.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>选择编程环境</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="flashback.html" title="Previous" type="text/html"></link>
      <link rel="next" href="external-procedures.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="flashback.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="external-procedures.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员的高级主题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">选择编程环境</li>
            </ol>
            <a id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10" name="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10"></a><a id="ADFNS1076"></a><a id="ADFNS00109"></a>
            
            <h2 id="ADFNS-GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10" class="sect2"><span class="enumeration_chapter">20</span>选择编程环境</h2>
         </header>
         <div class="ind">
            <div>
               <p>要为开发项目选择编程环境，请阅读：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>本章中的主题及其引用的文档。</p>
                  </li>
                  <li>
                     <p>特定于平台的文档，说明您的平台支持哪些编译器和开发工具。</p>
                  </li>
               </ul>
               <p>有时编程环境的选择是显而易见的，例如：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Pro * COBOL不支持ADT或集合类型，而Pro * C / C ++则支持。</p>
                  </li>
               </ul>
               <p>如果没有编程语言提供您需要的所有功能，您可以使用多种编程语言，因为：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>本章中的每种编程语言都可以调用PL / SQL和Java存储的子程序。（存储的子程序包括触发器和ADT方法。）</p>
                  </li>
                  <li>
                     <p>PL / SQL，Java，SQL和Oracle调用接口（OCI）可以调用外部C子程序。</p>
                  </li>
                  <li>
                     <p>外部C子程序可以使用SQL，OCI或Pro * C（但不是C ++）访问Oracle数据库。</p>
                  </li>
               </ul>
               <div class="section">
                  <p class="subhead1" id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10__GUID-3828FD80-39C6-4EDD-84C2-488CBCFC438E">话题：</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="application-architecture.html#GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1">应用程序架构概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9">程序界面概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-04E7C628-D91E-4831-AFEB-87A92874548D">PL / SQL概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-38A72A49-C27C-4B48-B97F-48778B549AFA">Oracle数据库Java支持概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-19324E9B-9D97-4E45-A41C-0413BA00714D">选择PL / SQL或Java</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF">预编译器概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140">OCI和OCCI概述</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6">预编译器与OCI的比较</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC">Oracle Data Provider for .NET概述（ODP.NET）</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD">OraOLEDB概述</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10__NOTE-1310-CAFF94B5">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="external-procedures.html#GUID-230B2B41-2A6F-4756-AEC0-DBC99DCA8A37">使用多种编程语言开发应用程序，</a>以获取有关多语言编程的更多信息</p>
               </div>
            </div><a id="ADFNS1077"></a><a id="ADFNS00101"></a><div class="props_rev_3"><a id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1" name="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1"></a><h3 id="ADFNS-GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1" class="sect3">应用程序架构概述</h3>
               <div>
                  <p>在本主题中， <span class="bold">应用程序体系结构</span>是指数据库应用程序连接到Oracle数据库的计算环境。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1__GUID-BF94356D-51E2-4B79-8CA8-C27F049A304A">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-E14029A8-5CDD-4228-B6FD-59565085143C">客户/服务器架构</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB">服务器端编程</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-43052281-751F-4AC7-85FF-5A0A20C2D609">两层和三层架构</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1__GUID-D6A4F5B4-D7FF-4441-B472-D2D1419CFE22">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT006" target="_blank"><span class="italic">Oracle数据库概念</span></a>关于应用程序体系结构的详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS650"></a><div class="props_rev_3"><a id="GUID-E14029A8-5CDD-4228-B6FD-59565085143C" name="GUID-E14029A8-5CDD-4228-B6FD-59565085143C"></a><h4 id="ADFNS-GUID-E14029A8-5CDD-4228-B6FD-59565085143C" class="sect4">客户/服务器架构</h4>
                  <div>
                     <p>在传统的客户端/服务器程序中，您的应用程序代码在客户端系统上运行;也就是说，数据库服务器以外的系统。数据库调用从客户端系统传输到数据库服务器。数据从客户端传输到服务器以进行插入和更新操作，并从服务器返回到客户端以进行查询操作。数据在客户端系统上处理。客户端/服务器程序通常使用预编译器编写，而SQL语句嵌入在另一种语言（如C，C ++或COBOL）的代码中。</p>
                     <div class="infoboxnotealso" id="GUID-E14029A8-5CDD-4228-B6FD-59565085143C__GUID-AA895EA3-1E98-4BD4-B1CA-A91394FA8D0B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT701" target="_blank"><span class="italic">Oracle数据库概念</span></a>有关客户机/服务器体系结构的详细信息</p>
                     </div>
                  </div>
               </div><a id="ADFNS651"></a><div class="props_rev_3"><a id="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB" name="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB"></a><h4 id="ADFNS-GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB" class="sect4">服务器端编程</h4>
                  <div>
                     <p>您可以使用在数据库中发生更改时自动执行的触发器或显式调用的存储子程序来开发完全驻留在数据库内的应用程序逻辑。从应用程序卸载工作使您可以重用从各种客户端执行验证和清理以及控制数据库操作的代码。例如，通过使存储的子程序可通过Web服务器调用，您可以构建基于Web的用户界面，该界面执行与客户端/服务器应用程序相同的功能。</p>
                     <div class="infoboxnotealso" id="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB__GUID-3E0665D9-71C8-42B1-99F9-101C44C691BD">
                        <p class="notep1">也可以看看：</p>
                        <p>有关服务器端编程的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT036" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                     </div>
                  </div>
               </div><a id="ADFNS652"></a><div class="props_rev_3"><a id="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609" name="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609"></a><h4 id="ADFNS-GUID-43052281-751F-4AC7-85FF-5A0A20C2D609" class="sect4">两层和三层架构</h4>
                  <div>
                     <p>客户端/服务器计算通常被称为<strong class="term">双层模型</strong> ：您的应用程序直接与数据库服务器通信。在<strong class="term">三层模型中</strong> ，单独的应用程序服务器处理请求。应用程序服务器可能是基本Web服务器，也可能执行高级功能，如缓存和负载平衡。通过提高此中间层的处理能力，您可以减少客户端系统所需的资源，从而实现<span class="bold">瘦客户端配置</span> ，客户端系统可能只需要Web浏览器或其他通过TCP / IP或HTTP协议发送请求的方式。
                     </p>
                     <div class="infoboxnotealso" id="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609__GUID-901AD508-74E7-4AFA-B724-C158C7558D12">
                        <p class="notep1">也可以看看：</p>
                        <p>有关多层体系结构的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT702" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1078"></a><a id="ADFNS99963"></a><div class="props_rev_3"><a id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9" name="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9"></a><h3 id="ADFNS-GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9" class="sect3">程序界面概述</h3>
               <div>
                  <p><span class="bold">程序界面</span>是数据库应用程序和Oracle数据库之间的软件层。程序界面：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>提供安全屏障，防止客户端用户进程对SGA的破坏性访问</p>
                     </li>
                     <li>
                        <p>充当通信机制，格式化信息请求，传递数据以及捕获和返回错误</p>
                     </li>
                     <li>
                        <p>转换和转换数据，尤其是在不同类型的计算机之间或外部用户程序数据类型之间</p>
                     </li>
                  </ul>
                  <p>Oracle代码充当服务器，代表应用程序（客户端）执行数据库任务，例如从数据块中提取行。程序界面由几个部分组成，由Oracle数据库软件和特定于操作系统的软件提供。</p>
                  <div class="infoboxnotealso" id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9__GUID-CA14095A-4974-4338-BBE7-1386F1705017">
                     <p class="notep1">也可以看看：</p>
                     <p>有关程序界面的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT906" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9__GUID-45F89D65-4700-4CD3-A212-0B0F6D1F9419">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5">用户界面</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC">有状态和无状态用户界面</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS653"></a><div class="props_rev_3"><a id="GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5" name="GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5"></a><h4 id="ADFNS-GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5" class="sect4">用户界面</h4>
                  <div>
                     <p><span class="bold">用户界面</span>是应用程序向最终用户显示的内容。这取决于应用程序背后的技术和用户自身的需求。有经验的用户可以输入传递给数据库的SQL语句。新手用户可以看到使用客户端系统图形库（如Windows或X-Windows）的图形用户界面。任何传统的用户界面也可以通过HTML和Java在Web浏览器中提供。
                     </p>
                  </div>
               </div><a id="ADFNS99958"></a><div class="props_rev_3"><a id="GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC" name="GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC"></a><h4 id="ADFNS-GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC" class="sect4">有状态和无状态用户界面</h4>
                  <div>
                     <p>在传统的客户端/服务器应用程序中，应用程序可以记录用户操作并在一个或多个会话的过程中使用此信息。例如，过去的选择可以在菜单中显示，以便不再输入。当应用程序可以以这种方式保存信息时，应用程序被视为<strong class="term">有状态</strong> 。
                     </p>
                     <p><strong class="term">无状态的</strong> Web或瘦客户端应用程序更容易开发。无状态应用程序收集所有必需的信息，使用数据库处理它，然后从下一个用户重新开始。这是处理单屏请求（如客户注册）的常用方法。
                     </p>
                     <p>有许多方法可以将状态操作添加到默认情况下无状态的Web应用程序。例如，一个网页上的条目表单可以将信息传递给后续网页，使您能够构建类似向导的界面，通过几个不同的步骤来记住用户选择。您可以使用cookie存储有关客户端系统的小项信息，并在用户返回网站时检索它们。您可以使用servlet保持数据库会话打开，并在来自同一客户端的请求之间存储变量。</p>
                  </div>
               </div>
            </div><a id="ADFNS00102"></a><div class="props_rev_3"><a id="GUID-04E7C628-D91E-4831-AFEB-87A92874548D" name="GUID-04E7C628-D91E-4831-AFEB-87A92874548D"></a><h3 id="ADFNS-GUID-04E7C628-D91E-4831-AFEB-87A92874548D" class="sect3">PL / SQL概述</h3>
               <div>
                  <p>PL / SQL是SQL的Oracle过程扩展，是一种完全可移植的高性能事务处理语言。PL / SQL允许您使用SQL语句操作数据;用条件选择和循环控制程序流程;声明常量和变量;定义子程序;定义类型，子类型和ADT并声明这些类型的变量;和陷阱运行时错误。</p>
                  <p>在任何Oracle数据库编程接口中编写的应用程序都可以调用PL / SQL存储的子程序，并将PL / SQL代码块发送到Oracle数据库以供执行。第三代语言（3GL）应用程序可以通过主机变量和隐式数据类型转换访问PL / SQL标量和复合数据类型。对于人类来说，3GL语言比汇编语言更容易理解，并且包括诸如命名变量之类的特征。与第四代语言（4GL）不同，它不是特定于应用程序域。</p>
                  <p>您可以使用PL / SQL开发可由Web客户端调用的存储过程。</p>
                  <div class="infoboxnotealso" id="GUID-04E7C628-D91E-4831-AFEB-87A92874548D__GUID-1F1C7C2D-EFB1-4F09-9EA6-262A3AFDAA04">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS001" target="_blank"><span class="italic">有关PL / SQL</span></a>的优点，主要功能和体系结构的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS001" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS1079"></a><a id="ADFNS00103"></a><div class="props_rev_3"><a id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA" name="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA"></a><h3 id="ADFNS-GUID-38A72A49-C27C-4B48-B97F-48778B549AFA" class="sect3">Oracle数据库Java支持概述</h3>
               <div>
                  <p>本节概述了支持Java应用程序的Oracle数据库功能。该数据库包括核心JDK库，例如<code class="codeph">java</code> 。 <code class="codeph">lang</code> ， <code class="codeph">java</code> 。 <code class="codeph">io</code> ，等等。该数据库支持客户端Java标准（如JDBC和SQLJ），并提供服务器端JDBC驱动程序，使数据密集型Java代码能够在数据库中运行。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA__GUID-5FCAFD3D-DB12-4BA3-9EC8-78F7B120B6DD">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3">Oracle JVM概述</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38">Oracle JDBC概述</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466">Oracle SQLJ概述</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-4973104E-CE62-4094-8294-868A20C2889E">Oracle JDBC和Oracle SQLJ的比较</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8">Java存储子程序概述</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-FA7EAD66-A188-4665-9317-2DACFFA44591">Oracle数据库Web服务概述</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA__GUID-75D9BBEF-F300-471E-9F9F-30191F487009">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV-GUID-912A14D4-2621-4955-85BD-A04E17EE6D21" target="_blank"><span><cite>Oracle数据库Java开发人员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS654"></a><div class="props_rev_3"><a id="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3" name="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3"></a><h4 id="ADFNS-GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3" class="sect4">Oracle JVM概述</h4>
                  <div>
                     <p>Oracle JVM是随Oracle数据库提供的Java虚拟机，符合J2SE 1.5.x版规范，并支持数据库会话体系结构。</p>
                     <p>任何数据库会话都可以激活专用JVM。所有会话共享相同的JVM代码和静态;但是，任何给定会话的私有状态都会在单个会话空间中进行，并随后进行垃圾回收。</p>
                     <p>这种设计提供了以下好处：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Java应用程序具有与SQL操作相同的会话隔离和数据完整性。</p>
                        </li>
                        <li>
                           <p>您无需在单独的进程中运行Java以实现数据完整性。</p>
                        </li>
                        <li>
                           <p>Oracle JVM是一个功能强大的JVM，占用内存很少。</p>
                        </li>
                        <li>
                           <p>JVM具有与数据库相同的线性对称多处理（SMP）可伸缩性，并且可以支持数千个并发Java会话。</p>
                        </li>
                     </ul>
                     <p>Oracle JVM与Oracle数据库支持的每个平台一致。使用Oracle JVM开发的Java应用程序可以轻松移植到任何支持的平台。</p>
                     <p>Oracle JVM包括一个部署时本机编译器，它使Java代码能够编译一次，以可执行的形式存储，在用户之间共享，并且可以更快速有效地调用。</p>
                     <p>Oracle JVM也提供数据库的安全功能。必须先将Java类加载到数据库模式中（通过使用Oracle JDeveloper，第三方IDE，SQL * Plus或<code class="codeph">loadjava</code>实用程序），然后才能调用它们。Java类调用通过数据库身份验证和授权，Java 2安全性以及调用者权限（IR）或定义者权限（DR）进行保护和控制。
                     </p>
                     <p>Oracle JVM在Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.1）中有效，可为最新的Java Standard Edition提供全面支持。与最新Java标准的兼容性提高了应用程序的可移植性，并允许在数据库中直接执行客户端Java类。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3__GUID-26E60E5A-DF42-411E-9DBC-E3EA05C66253">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Oracle JVM的其他常规信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT820" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV13553" target="_blank"><span class="italic">Oracle数据库Java开发人员指南</span></a> ，了解有关支持最新Java标准版的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1080"></a><a id="ADFNS655"></a><div class="props_rev_3"><a id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38" name="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38"></a><h4 id="ADFNS-GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38" class="sect4">Oracle JDBC概述</h4>
                  <div>
                     <p>Java数据库连接（JDBC）是一种应用程序编程接口（API），它使Java能够将SQL语句发送到对象关系数据库（如Oracle数据库）。</p>
                     <p>Oracle数据库包括JDBC 1.22标准的这些扩展：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持Oracle数据类型</p>
                        </li>
                        <li>
                           <p>行预取的性能增强</p>
                        </li>
                        <li>
                           <p>通过执行批处理提高性能</p>
                        </li>
                        <li>
                           <p>指定用于保存往返的查询列类型</p>
                        </li>
                        <li>
                           <p>控制<code class="codeph">DatabaseMetaData</code>调用</p>
                        </li>
                     </ul>
                     <p>Oracle数据库支持JDBC 2.0标准中的所有API，包括核心API，可选包和众多扩展。一些亮点包括数据源，JTA和分布式事务。</p>
                     <p>Oracle数据库支持JDBC 3.0标准中的这些功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持JDK 1.5。</p>
                        </li>
                        <li>
                           <p>在本地和全局事务之间切换。</p>
                        </li>
                        <li>
                           <p>交易保存点。</p>
                        </li>
                        <li>
                           <p>通过连接池重用预准备语句。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-44A3E0D6-C6E7-4889-93DB-DB2D21C9B005">
                        <p class="notep1">注意：</p>
                        <p>JDBC代码和SQLJ代码互操作。</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-9A9B0951-0AAF-429C-8533-60BB34B4F720">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="application-architecture.html#GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF">Oracle JDBC驱动程序</a></p>
                           </li>
                           <li>
                              <p><a href="application-architecture.html#GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732">示例JDBC 2.0程序</a></p>
                           </li>
                           <li>
                              <p><a href="application-architecture.html#GUID-F2429980-0741-4D04-9821-598A443C3082">示例Pre-2.0 JDBC程序</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-CCD8FE52-99D0-48BD-A9F3-4D2452A51C89">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT616" target="_blank"><span class="italic">有关Oracle数据库中</span></a> Java支持的其他常规信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT616" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-4973104E-CE62-4094-8294-868A20C2889E">Oracle JDBC和Oracle SQLJ的比较</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1081"></a><a id="ADFNS656"></a><div class="props_rev_3"><a id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF" name="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF"></a><h5 id="ADFNS-GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF" class="sect5">Oracle JDBC驱动程序</h5>
                     <div>
                        <p>JDBC标准定义了四种类型的JDBC驱动程序：</p>
                        <div class="tblformal" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-DD22C123-50A6-4277-A9E5-1F3AADABD27E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table summarizes the types of JDBC drivers." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="10%" id="d117663e1764">类型</th>
                                    <th align="left" valign="bottom" width="90%" id="d117663e1767">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1772" headers="d117663e1764 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1772 d117663e1767 ">
                                       <p>JDBC-ODBC桥。必须在客户端系统上安装软件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1779" headers="d117663e1764 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1779 d117663e1767 ">
                                       <p>本机方法（调用C或C ++）和Java方法。必须在客户端上安装软件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1786" headers="d117663e1764 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1786 d117663e1767 ">
                                       <p>纯Java。客户端使用套接字调用服务器上的中间件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1793" headers="d117663e1764 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1793 d117663e1767 ">
                                       <p>最纯粹的Java解决方案。使用Java套接字直接与数据库进行对话。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>JDBC基于SQL标准的第3部分“调用级接口”。</p>
                        <p>您可以使用JDBC来执行动态SQL。在动态SQL中，要运行的嵌入式SQL语句在运行应用程序之前是未知的，并且需要输入来构建语句。</p>
                        <p>Oracle实现的驱动程序扩展了Sun Microsystems定义的JDBC标准中的功能。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-D7AE1740-9E37-4F62-B93C-250D749F8228">话题：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="application-architecture.html#GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074">JDBC瘦驱动程序</a></p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46">JDBC OCI驱动程序</a></p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E">JDBC服务器端内部驱动程序</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-D73E284C-82CF-4B22-B85C-1CAA3D7383BF">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关JDBC驱动程序的其他常规信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT825" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关JDBC的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span class="italic">“Oracle数据库JDBC开发人员指南”</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS657"></a><div class="props_rev_3"><a id="GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074" name="GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074"></a><h6 id="ADFNS-GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074" class="sect6">JDBC瘦驱动程序</h6>
                        <div>
                           <p>JDBC Thin驱动程序是Type 4（100％纯Java）驱动程序，它使用Java套接字直接连接到数据库服务器。它有自己的双任务公共（TTC）实现，这是Oracle Net的TCP / IP轻量级实现。它完全用Java编写，因此与平台无关。</p>
                           <p>瘦驱动程序不需要客户端上的Oracle软件。它确实需要服务器端的TCP / IP侦听器。在Java applet中使用此驱动程序，这些applet将下载到Web浏览器或您不想安装Oracle客户端软件的应用程序中。瘦驱动程序是自包含的，但它打开一个Java套接字，因此只能在支持套接字的浏览器中运行。</p>
                        </div>
                     </div><a id="ADFNS658"></a><div class="props_rev_3"><a id="GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46" name="GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46"></a><h6 id="ADFNS-GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46" class="sect6">JDBC OCI驱动程序</h6>
                        <div>
                           <p>JDBC OCI驱动程序是Type 2 JDBC驱动程序。它调用用C编写的OCI来与Oracle数据库交互，从而使用本机和Java方法。</p>
                           <p>OCI驱动程序提供对瘦驱动程序以外的更多功能的访问，例如透明应用程序故障转移，高级安全性和高级LOB操作。</p>
                           <p>OCI驱动程序提供不同Oracle数据库版本之间的最高兼容性。它还支持所有已安装的Oracle Net适配器，包括IPC，命名管道，TCP / IP和IPX / SPX。</p>
                           <p>因为它使用本机方法（Java和C的组合），所以OCI驱动程序是特定于平台的。它需要客户端安装Oracle8 <span class="italic">i</span>或更高版本，包括Oracle Net，OCI库，CORE库和所有其他相关文件。OCI驱动程序通常比瘦驱动程序运行得更快。
                           </p>
                           <p>OCI驱动程序不适用于Java applet，因为它使用特定于平台的C库，无法下载到Web浏览器中。它可用于在中间层应用程序服务器（如Oracle Application Server）中运行的J2EE组件中。Oracle Application Server提供支持应用程序和浏览器之间访问的中间件服务和工具。</p>
                        </div>
                     </div><a id="ADFNS659"></a><div class="props_rev_3"><a id="GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E" name="GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E"></a><h6 id="ADFNS-GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E" class="sect6">JDBC服务器端内部驱动程序</h6>
                        <div>
                           <p>JDBC服务器端内部驱动程序是在数据库服务器内运行的Type 2驱动程序，减少了访问大量数据所需的往返次数。驱动程序，Java服务器VM，数据库，Java本机编译器（可将执行速度提高10倍）和SQL引擎都在同一地址空间内运行。</p>
                           <p>此驱动程序为数据库中使用的任何Java程序提供服务器端支持。您还可以调用PL / SQL存储的子程序和触发器。</p>
                           <p>服务器驱动程序完全支持与客户端驱动程序相同的功能和扩展。</p>
                        </div>
                     </div>
                  </div><a id="ADFNS660"></a><div class="props_rev_3"><a id="GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732" name="GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732"></a><h5 id="ADFNS-GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732" class="sect5">示例JDBC 2.0程序</h5>
                     <div>
                        <p>此示例显示了在JDBC 2.0中使用JNDI查找数据源的推荐技术：</p><pre class="oac_no_warn" dir="ltr">//导入JDBC包import java.sql。*; import javax.sql。*; import oracle.jdbc.pool。*; ...InitialContext ictx = new InitialContext（）; DataSource ds =（DataSource）ictx。 <span class="bold">lookup</span> （“jdbc / OracleDS”）; Connection conn = ds.getConnection（）;语句stmt = conn.createStatement（）; ResultSet rs = stmt.executeQuery（“SELECT last_name FROM employees”）; while（rs.next（））{out.println（rs.getString（“ename”）+“&lt;br&gt;”）; } conn.close（）;</pre></div>
                  </div><a id="ADFNS661"></a><div class="props_rev_3"><a id="GUID-F2429980-0741-4D04-9821-598A443C3082" name="GUID-F2429980-0741-4D04-9821-598A443C3082"></a><h5 id="ADFNS-GUID-F2429980-0741-4D04-9821-598A443C3082" class="sect5">示例Pre-2.0 JDBC程序</h5>
                     <div>
                        <p>此源代码注册Oracle JDBC瘦驱动程序，连接到数据库，创建<code class="codeph">Statement</code>对象，运行查询以及处理结果集。
                        </p>
                        <p><code class="codeph">SELECT</code>语句检索并列出<code class="codeph">hr</code>的<code class="codeph">last_name</code>列的内容。 <code class="codeph">employees</code>表。
                        </p><pre class="oac_no_warn" dir="ltr">import java.sql。* import java.math。* import java.io.* import java.awt。* class JdbcTest {public static void main（String args []）抛出SQLException {//加载Oracle驱动程序<code class="codeph">DriverManager.registerDriver (new oracle.jdbc.OracleDriver());</code> //连接到本地数据库连接conn = DriverManager.getConnection（“jdbc：oracle： <span class="bold">thin</span> ：@myhost：1521：orcl”，“hr”，“ <span class="italic">password</span> ”）; //查询员工姓名Statement stmt = conn.createStatement（）; ResultSet rset = stmt.executeQuery（“SELECT last_name FROM employees”）; //打印名称while（rset.next（））System.out.println（rset.getString（1））; //关闭结果集，语句和连接rset.close（）; stmt.close（）; conn.close（）; }}</pre><p>JDBC驱动程序的一个Oracle Database扩展是使用<code class="codeph">Properties</code>对象的<code class="codeph">getConnection()</code>方法的一种形式。<code class="codeph">Properties</code>对象允许您指定用户，密码，数据库信息，行预取和执行批处理。
                        </p>
                        <p>要在此代码中使用OCI驱动程序，请将<code class="codeph">Connection</code>语句替换为此代码，其中<code class="codeph">MyHostString</code>是<code class="codeph">tnsnames</code>的条目。 <code class="codeph">ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">Connection conn = DriverManager.getConnection（“jdbc：oracle： <span class="bold"><code class="codeph">oci8</code></span> ：@MyHostString”，“hr”，“ <span class="italic">password</span> ”）;</pre><p>如果要创建applet，则<code class="codeph">getConnection()</code>和<code class="codeph">registerDriver()</code>字符串是不同的。
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS1082"></a><a id="ADFNS662"></a><div class="props_rev_3"><a id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466" name="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466"></a><h4 id="ADFNS-GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466" class="sect4">Oracle SQLJ概述</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-23DCD94A-C66E-484A-942F-1F720FE4BE18">
                        <p class="notep1">注意：</p>
                        <p>在本指南中， <span class="bold">SQLJ</span>引用了Oracle SQLJ及其扩展。
                        </p>
                     </div>
                     <p>SQLJ是用于在Java源代码中嵌入SQL语句的ANSI SQL-1999标准。SQLJ提供了一种更简单的JDBC替代方法，用于从Java进行客户端SQL数据访问。</p>
                     <p>SQLJ源文件包含带有嵌入式SQL语句的Java源代码。Oracle SQLJ支持动态和静态SQL。对动态SQL的支持是SQLJ标准的Oracle扩展。</p>
                     <p>Oracle SQLJ转换器执行以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过调用SQLJ运行时驱动程序将SQLJ源转换为Java代码。SQLJ转换器将源代码转换为纯Java源代码，并可以针对数据库模式检查静态SQL语句的语法和语义，并验证主机变量与SQL类型的类型兼容性。</p>
                        </li>
                        <li>
                           <p>使用Java编译器编译生成的Java代码。</p>
                        </li>
                        <li>
                           <p>（可选）为目标数据库创建配置文件。SQLJ生成“配置文件”文件，其中包含特定于Oracle数据库的自定义。</p>
                        </li>
                     </ul>
                     <p>SQLJ与JDeveloper集成在一起。JDeveloper中提供了对SQLJ的源级调试支持。</p>
                     <p>这是一个简单的SQLJ可执行语句的示例，它返回一个值，因为<code class="codeph">employee_id</code>在<code class="codeph">employee</code>表中是唯一的：</p><pre class="oac_no_warn" dir="ltr">字符串名称; #sql {SELECT first_name INTO <span class="bold"><code class="codeph">:</code></span> name FROM employees WHERE employee_id = 112}; System.out.println（“名称是”+名称+“，员工编号=”+ employee_id）;</pre><p>SQL表达式中包含的每个主机变量（或限定名称或复杂Java主机表达式）前面都有冒号（:)。其他SQLJ语句声明Java类型。例如，您可以为检索许多值的查询声明迭代器（与数据库游标相关的构造），如下所示：</p><pre class="oac_no_warn" dir="ltr">#sql iterator EmpIter（String EmpNam，int EmpNumb）;</pre><div class="infoboxnotealso" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-6F8B242B-54E2-40C9-9AF3-C7FD3CED3CAE">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle SQLJ语法的更多示例和详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JSQLJ137" target="_blank"><span class="italic">Oracle数据库SQLJ开发人员指南</span></a></p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-024B41E0-A822-4EF1-9A60-B95E670E02B7">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="application-architecture.html#GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1">SQLJ的好处</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-A9E87A06-B072-4EA6-990C-CA3A80D208E4">
                           <p class="notep1">也可以看看：</p>
                           <p>有关SQLJ的其他常规信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT826" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS663"></a><div class="props_rev_3"><a id="GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1" name="GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1"></a><h5 id="ADFNS-GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1" class="sect5">SQLJ的好处</h5>
                     <div>
                        <p>Oracle SQLJ Java扩展支持快速开发和轻松维护通过嵌入式SQL执行数据库操作的应用程序。</p>
                        <p>特别是，Oracle SQLJ执行此操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为静态SQL中的数据库访问提供简明易读的机制。应用程序中的大多数SQL是静态的与JDBC相比，SQLJ提供了更简洁，更不容易出错的静态SQL构造。</p>
                           </li>
                           <li>
                              <p>提供SQL Checker模块，用于在转换时验证语法和语义。</p>
                           </li>
                           <li>
                              <p>提供灵活的部署配置，从而可以在客户端或中间层上实现SQLJ。</p>
                           </li>
                           <li>
                              <p>支持软件标准。SQLJ是一组供应商的努力，并得到所有供应商的支持。应用可以访问多个数据库供应商</p>
                           </li>
                           <li>
                              <p>提供源代码可移植性。如果代码不依赖于特定于供应商的功能，则可执行文件可以与所有供应商DBMS一起使用。</p>
                           </li>
                           <li>
                              <p>为客户端和服务器实施统一的编程风格。</p>
                           </li>
                           <li>
                              <p>将SQLJ转换器与<a id="d117663e2729" class="indexterm-anchor"></a><a id="d117663e2731" class="indexterm-anchor"></a> <strong class="term">Oracle JDeveloper</strong> ，一个图形化的IDE，在源代码级别提供SQLJ转换，Java编译，配置文件自定义和调试，所有这一切都在一步完成。
                              </p>
                           </li>
                           <li>
                              <p>包括Oracle数据库类型扩展。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS665"></a><div class="props_rev_3"><a id="GUID-4973104E-CE62-4094-8294-868A20C2889E" name="GUID-4973104E-CE62-4094-8294-868A20C2889E"></a><h4 id="ADFNS-GUID-4973104E-CE62-4094-8294-868A20C2889E" class="sect4">Oracle JDBC和Oracle SQLJ的比较</h4>
                  <div>
                     <p>JDBC代码和SQLJ代码互操作，使JDBC中的动态SQL语句可以与SQLJ中的静态和动态SQL语句一起使用。 SQLJ迭代器类对应于JDBC结果集。</p>
                     <p>JDBC和SQLJ之间的一些区别是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>JDBC提供了从Java到数据库的完整动态SQL接口。它使开发人员可以完全控制数据库操作。SQLJ简化了Java数据库编程，以提高开发效率。</p>
                        </li>
                        <li>
                           <p>JDBC提供了对Java中动态SQL执行的细粒度控制，而SQLJ为特定数据库模式中的SQL操作提供了更高级别的绑定。</p>
                        </li>
                        <li>
                           <p>SQLJ源代码比等效的JDBC源代码更简洁。</p>
                        </li>
                        <li>
                           <p>SQLJ使用数据库连接来检查静态SQL代码。JDBC是一个完全动态的API，但却没有。</p>
                        </li>
                        <li>
                           <p>SQLJ提供了查询输出和返回参数的强类型，并提供了对调用的类型检查。JDBC在没有编译时类型检查的情况下向SQL传递值和从SQL传递值。</p>
                        </li>
                        <li>
                           <p>SQLJ程序支持在SQL语句中直接嵌入Java绑定表达式。JDBC需要为每个绑定变量单独的get或set语句，并按位置编号指定绑定。</p>
                        </li>
                        <li>
                           <p>SQLJ为调用SQL存储的子程序提供了简化的规则。</p>
                           <p>例如，以下四个示例在后续行中显示了如何使用JDBC转义语法或Oracle JDBC语法调用存储过程或存储函数：</p><pre class="oac_no_warn" dir="ltr">prepStmt.prepareCall（“{call fun（？，？）}“）; //存储过程。JDBC esc。prepStmt.prepareCall（“{？=通话有趣（？，？）}“）; //存储的函数。JDBC esc。prepStmt.prepareCall（“begin fun（：1，：2）; end;”）; //存储过程Oracle prepStmt.prepareCall（“begin：1：= fun（：2，：3）; end;”）; //存储的函数。神谕</pre><p>SQLJ的等价物是：</p><pre class="oac_no_warn" dir="ltr">#sql {call fun（ <span class="italic">param_list</span> ）}; //存储过程//声明x ...#sql x = {VALUES（fun（ <span class="italic">param_list</span> ））}; //存储函数//其中VALUES是SQL构造</pre></li>
                     </ul>
                     <p>这些好处在SQLJ和JDBC中很常见：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQLJ源文件可以包含JDBC调用。SQLJ和JDBC是可互操作的。</p>
                        </li>
                        <li>
                           <p>PL / SQL和Java存储的子程序可以互换使用。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS667"></a><div class="props_rev_3"><a id="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8" name="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8"></a><h4 id="ADFNS-GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8" class="sect4">Java存储子程序概述</h4>
                  <div>
                     <p>Java存储的子程序使您能够实现在数据库服务器中运行的程序，并且独立于在中间层中运行的程序。以这种方式构建应用程序可降低复杂性并提高重用性，安全性，性能和可伸缩性。</p>
                     <p>例如，您可以创建一个Java存储的子程序，该子程序执行需要数据持久性的操作，并创建一个单独的程序来执行表示或业务逻辑操作。</p>
                     <p>Java存储的子程序使用类似于PL / SQL的执行模型与SQL接口。</p>
                     <div class="infoboxnotealso" id="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8__GUID-FF428BD6-45E3-4B00-B789-677B25B24C2E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Java存储子程序的其他常规信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1805" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                           </li>
                           <li>
                              <p>有关Java存储子程序的完整信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV01530" target="_blank"><span class="italic">“Oracle数据库Java开发人员指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS668"></a><div class="props_rev_3"><a id="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591" name="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591"></a><h4 id="ADFNS-GUID-FA7EAD66-A188-4665-9317-2DACFFA44591" class="sect4">Oracle数据库Web服务概述</h4>
                  <div>
                     <p>Web服务代表了Java应用程序开发的分布式计算范例，它是早期Java协议（如JDBC）的替代方案，它使应用程序能够通过XML和Web协议进行交互。例如，电子零件供应商可以向其供应商提供基于网络的编程接口以进行库存管理。供应商可以调用Web服务作为程序的一部分，并根据返回的数据自动订购库存。</p>
                     <p>Web服务中使用的关键技术是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Web服务描述语言（WSDL），它是用于创建XML文档的标准格式。WSDL描述了Web服务可以执行的操作，它驻留的位置以及如何调用它。具体来说，它描述了Web服务提供的操作和参数，包括参数类型。此外，WSDL文档描述了Web服务的位置，传输协议和调用样式。</p>
                        </li>
                        <li>
                           <p>简单对象访问协议（SOAP）消息传递，它是Web服务使用的基于XML的消息协议。SOAP没有规定特定的传输机制，如HTTP，FTP，SMTP或JMS;但是，大多数Web服务接受使用HTTP或HTTPS的消息。</p>
                        </li>
                        <li>
                           <p>通用描述，发现和集成（UDDI）业务注册表，它是一个列出Internet上的Web服务的目录。UDDI注册表通常与电话目录进行比较，列出唯一标识符（白页），业务类别（黄页）和绑定到服务协议的指令（绿页）。</p>
                        </li>
                     </ul>
                     <p>Web服务可以使用各种技术和协议。例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>调度可以以同步（典型）或异步方式进行。</p>
                        </li>
                        <li>
                           <p>您可以在RPC样式的操作中调用Web服务，在该操作中发送参数并返回响应，或者以消息样式（如单向SOAP文档交换）调用Web服务。</p>
                        </li>
                        <li>
                           <p>您可以使用不同的编码规则：文字或编码。</p>
                        </li>
                     </ul>
                     <p>当您可能事先或动态地了解Web服务时，您可以静态地调用Web服务，在这种情况下，您可以在使用它时发现其操作和传输端点。</p>
                     <p>Oracle数据库可以充当Web服务提供者或Web服务使用者。当用作提供程序时，数据库允许共享和断开访问存储的子程序，数据，元数据和其他数据库资源，例如排队和消息传递系统。</p>
                     <p>作为Web服务提供商，Oracle数据库提供了一个断开连接且异构的环境：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>显示存储的子程序，与子程序的编写语言无关</p>
                        </li>
                        <li>
                           <p>公开SQL查询和XQuery</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591__GUID-5DB8DC58-3B7C-4594-A5CE-26781FD3C66B">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle数据库作为Web服务提供者的其他常规信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1271" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS669"></a><a id="ADFNS1083"></a><a id="ADFNS99961"></a><div class="props_rev_3"><a id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D" name="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D"></a><h3 id="ADFNS-GUID-19324E9B-9D97-4E45-A41C-0413BA00714D" class="sect3">选择PL / SQL或Java</h3>
               <div>
                  <p>PL / SQL和Java在服务器中互操作。您可以从Java运行PL / SQL包，也可以从Java调用PL / SQL，以便可以从分布式CORBA和Enterprise Java Bean客户端调用其中一个。</p>
                  <p><a href="application-architecture.html#GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__G1022106" title="此表列出了PL / SQL包及其Java等价物。">表20-1</a>显示了PL / SQL包及其Java等价物。
                  </p>
                  <div class="tblformal" id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__G1022106">
                     <p class="titleintable">表20-1 PL / SQL包及其Java等价物</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="PL / SQL包及其Java等价物" width="100%" border="1" summary="This table lists PL/SQL packages and their Java equivalents." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d117663e3283">PL / SQL包</th>
                              <th align="left" valign="bottom" width="69%" id="d117663e3286">Java等效</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3291" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_ALERT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3291 d117663e3286 ">
                                 <p>使用JDBC调用包。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3299" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_DDL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3299 d117663e3286 ">
                                 <p>JDBC具有此功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3307" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_JOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3307 d117663e3286 ">
                                 <p>安排具有Java存储子程序的作业。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3315" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_LOCK</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3315 d117663e3286 ">
                                 <p>用JDBC调用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3323" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_MAIL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3323 d117663e3286 ">
                                 <p>使用JavaMail。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3331" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_OUTPUT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3331 d117663e3286 ">
                                 <p>使用子类<code class="codeph">oracle</code> 。 <code class="codeph">aurora</code> 。 <code class="codeph">rdbms</code> 。<code class="codeph">OracleDBMSOutputStream</code>或Java存储的子程序<code class="codeph">DBMS_JAVA</code> 。 <code class="codeph">SET_STREAMS</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3358" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_PIPE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3358 d117663e3286 ">
                                 <p>用JDBC调用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3366" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3366 d117663e3286 ">
                                 <p>使用JDBC运行<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3380" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SNAPSHOT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3380 d117663e3286 ">
                                 <p>用JDBC调用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3388" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SQL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3388 d117663e3286 ">
                                 <p>使用JDBC。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3396" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_TRANSACTION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3396 d117663e3286 ">
                                 <p>使用JDBC运行<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3411" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_UTILITY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3411 d117663e3286 ">
                                 <p>用JDBC调用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3419" headers="d117663e3283 ">
                                 <p><code class="codeph">UTL_FILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3419 d117663e3286 ">
                                 <p>授予<code class="codeph">JAVAUSERPRIV</code>权限，然后使用Java I / O入口点。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__GUID-898A2364-3E2F-4947-9DD5-8A9FAE538538">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4">PL / SQL和Java的相似之处</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A">PL / SQL优于Java的优势</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC">Java优于PL / SQL的优势</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS670"></a><div class="props_rev_3"><a id="GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4" name="GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4"></a><h4 id="ADFNS-GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4" class="sect4">PL / SQL和Java的相似之处</h4>
                  <div>
                     <p>PL / SQL和Java都提供包和库。</p>
                     <p>PL / SQL和Java都具有面向对象的功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>两者都有继承权。</p>
                        </li>
                        <li>
                           <p>PL / SQL具有<strong class="term">类型演变</strong> ，能够在保留使用该类型的子类型和表数据的同时更改类型的方法和属性。
                           </p>
                        </li>
                        <li>
                           <p>Java具有用于开发分布式系统的多态性和组件模型。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS671"></a><div class="props_rev_3"><a id="GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A" name="GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A"></a><h4 id="ADFNS-GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A" class="sect4">PL / SQL优于Java的优势</h4>
                  <div>
                     <p>作为SQL的扩展，PL / SQL支持所有SQL数据类型，数据封装，信息隐藏，重载和异常处理。因此：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL数据类型在PL / SQL中比在Java中更容易使用。</p>
                        </li>
                        <li>
                           <p>PL / SQL的SQL操作比使用Java更快，特别是涉及大量数据时，主要是数据库访问时，或者使用批量操作时。</p>
                           <p>Oracle9 <span class="italic">i中的</span> Java无法使用某些高级PL / SQL功能（例如，自治事务和远程数据库的dblink工具）。
                           </p>
                        </li>
                     </ul>
                     <p>PL / SQL中的代码开发通常比Java快;但是，这实际上取决于您使用的开发工具或开发环境。</p>
                     <p>当您的数据逻辑是SQL密集型时，首选PL / SQL。也就是说，您的应用程序的数据处理或数据验证要求很高。</p>
                     <p>此外，还有一个庞大的用户群，其中包含Oracle提供的软件包和第三方库，可以利用这些软件包进行开发。</p>
                  </div>
               </div><a id="ADFNS672"></a><div class="props_rev_3"><a id="GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC" name="GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC"></a><h4 id="ADFNS-GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC" class="sect4">Java优于PL / SQL的优势</h4>
                  <div>
                     <p>Java用于开放式分布式应用程序，并且许多基于Java的开发工具在整个行业中都可用。Java具有PL / SQL中不可用的本机机制。例如，Java具有内置安全机制，自动垃圾收集器，类型安全机制，字节码验证器和Java 2安全性。此外，Java还提供内置的快速开发功能，例如，对数组的内置自动边界检查，内置网络访问类以及包含许多有用且可立即使用的类的API。Java有大量的类库，工具和第三方类库，可以在数据库中重用。Java具有比PL / SQL更丰富的类型系统。 Java可以使用CORBA（其客户端可以有许多不同的计算机语言）和Enterprise Java Bean。可以从CORBA或Enterprise Java Bean客户端调用PL / SQL包。您可以从Java运行XML工具，Internet文件系统或JavaMail。</p>
                     <p>如果您的应用程序必须与ERP系统，RMI服务器，Java / J2EE和Web服务进行交互，那么Java是首选，因为PL / SQL无法实现这些功能。如果您必须在中间层开发部分应用程序，Java也是首选，因为您的业务逻辑很复杂或计算密集，几乎没有中等直接的SQL访问，您正在实现中间层驱动的表示逻辑，您的应用程序需要透明Java持久性或您的应用程序需要容器管理的基础结构服务。因此，当需要在数据库层和中间层之间对应用程序进行分区时，根据需要将应用程序的该部分迁移到中间层并使用Java / J2EE。</p>
                  </div>
               </div>
            </div><a id="ADFNS1084"></a><a id="ADFNS99962"></a><div class="props_rev_3"><a id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF" name="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF"></a><h3 id="ADFNS-GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF" class="sect3">预编译器概述</h3>
               <div>
                  <p>客户端/服务器程序通常使用<span class="bold">预编译器</span>编写， <span class="bold">预编译器</span>是一种编程工具，可以将SQL语句嵌入用C，C ++或COBOL等语言编写的高级程序中。因为客户端应用程序承载SQL语句，所以它被称为<span class="bold">宿主程序</span> ，其编写<span class="bold">语言</span>称为<span class="bold">宿主语言</span> 。
                  </p>
                  <p>预编译器接受主机程序作为输入，将嵌入式SQL语句转换为标准数据库运行时库调用，并生成可以通常方式编译，链接和运行的源程序。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF__GUID-AB345CCD-4010-452B-B0AF-6CB1442B3491">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B">Pro * C / C ++预编译器概述</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-447B087B-E49D-49E4-8C21-35DB88017AA4">Pro * COBOL预编译器概述</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF__GUID-CBF3E0A2-2F7B-4DAA-B1E9-AB01959CE92A">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle预编译器的其他常规信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1765" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS673"></a><a id="ADFNS00104"></a><div class="props_rev_3"><a id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B" name="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B"></a><h4 id="ADFNS-GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B" class="sect4">Pro * C / C ++预编译器概述</h4>
                  <div>
                     <p>对于Pro * C / C ++预编译器，宿主语言是C或C ++。Pro * C / C ++预编译器的一些功能包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您的平台支持线程包，则可以编写多线程程序。单线程或多线程应用程序支持并发连接。</p>
                        </li>
                        <li>
                           <p>您可以通过嵌入PL / SQL块来提高性能。这些块可以调用由您编写或在Oracle数据库包中提供的Java或PL / SQL子程序。</p>
                        </li>
                        <li>
                           <p>使用预编译器选项，可以在预编译期间和运行时检查SQL或PL / SQL语句的语法和语义。</p>
                        </li>
                        <li>
                           <p>您可以调用存储的PL / SQL和Java子程序。可以从Pro * C / C ++调用用COBOL或C编写的模块。程序可以调用共享库中的外部C子程序。</p>
                        </li>
                        <li>
                           <p>您可以有条件地预编译代码的各个部分，以便它们可以在不同的环境中运行。</p>
                        </li>
                        <li>
                           <p>您可以在代码中使用数组，结构或结构数组作为主机和指示符变量来提高性能。</p>
                        </li>
                        <li>
                           <p>您可以处理错误和警告，以确保数据完整性。作为程序员，您可以控制错误的处理方式。</p>
                        </li>
                        <li>
                           <p>您的程序可以在内部数据类型和C语言数据类型之间进行转换。</p>
                        </li>
                        <li>
                           <p>Oracle调用接口（OCI）和Oracle C ++调用接口（OCCI），低级C和C ++接口可用于预编译器源。</p>
                        </li>
                        <li>
                           <p>Pro * C / C ++支持动态SQL，这种技术使用户能够输入变量值和语句语法。</p>
                        </li>
                        <li>
                           <p>Pro * C / C ++可以使用特殊的SQL语句来操作包含用户定义的对象类型的表。对象类型转换程序（OTT）将数据库中的ADT和命名集合类型映射到源中包含的结构和标题。</p>
                        </li>
                        <li>
                           <p>三种集合类型：关联数组，嵌套表和<code class="codeph">VARRAY</code> ，支持一组SQL语句，可以高度控制数据。
                           </p>
                        </li>
                        <li>
                           <p>大对象由另一组SQL语句访问。</p>
                        </li>
                        <li>
                           <p>新应用程序支持动态SQL的新ANSI SQL标准，因此您可以使用不同数量的主机变量运行SQL语句。用于动态SQL的旧技术仍可由预先存在的应用程序使用。</p>
                        </li>
                        <li>
                           <p>全球化支持允许您使用多字节字符和UCS2 Unicode数据。</p>
                        </li>
                        <li>
                           <p>使用可滚动游标，您可以在结果集中前后移动。例如，您可以获取结果集的最后一行，或者向前或向后跳转到结果集中的绝对或相对位置。</p>
                        </li>
                        <li>
                           <p><span class="bold">连接池</span>是一组到数据库的物理连接，可以由多个命名连接共享。启用连接池选项有助于优化Pro * C / C ++应用程序的性能。默认情况下不启用连接池选项。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__GUID-7C136A67-DA5A-4B4A-8DD6-45579F68929F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关Pro * C / C ++预编译器的完整信息</p>
                     </div>
                     <p><a href="application-architecture.html#GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__BABJAJIH">示例20-1</a>是来自C源程序的代码片段，该代码片段在模式<code class="codeph">hr</code>中查询表<code class="codeph">employees</code> 。
                     </p>
                     <div class="example" id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__BABJAJIH">
                        <p class="titleinexample">例20-1 Pro * C / C ++应用程序</p><pre class="oac_no_warn" dir="ltr">...#define UNAME_LEN 10 ...int emp_number; / *为SELECT语句的输出值定义主机结构。* / / *如果预编译器选项MODE = ORACLE * / struct {VARCHAR last_name [UNAME_LEN];则不需要声明部分;浮动工资; float commission_pct; } emprec; / *定义与主机输出结构相对应的指标结构。* / struct {short emp_name_ind;短sal_ind;简短的comm_ind; } emprec_ind; .../ *根据employee_id的用户输入/ *，选择列last_name，salary和commission_pct。* / EXEC SQL SELECT last_name，salary，commission_pct INTO：emprec INDICATOR：emprec_ind FROM employees WHERE employee_id =：emp_number; ...
</pre><p>嵌入式<code class="codeph">SELECT</code>语句与交互式（SQL * Plus） <code class="codeph">SELECT</code>语句略有不同。每个嵌入式SQL语句都以<code class="codeph">EXEC</code> <code class="codeph">SQL</code>开头。冒号（:)位于每个主机（C）变量之前。数据和指示符的返回值（当数据值为<code class="codeph">NULL</code>或字符列被截断时设置）可以存储在结构（例如在前面的代码片段中），数组或结构数组中。由于唯一的员工编号，多个结果集值的处理方式非常简单，类似于所示的情况，其中只有一个结果。使用嵌入式SQL中的列和表的实际名称。</p>
                        <p>使用默认预编译器选项值或输入值，以控制资源的使用，报告错误的方式，输出的格式以及如何管理游标（对应于特定连接或SQL语句）。当存在多个结果集值时使用游标。</p>
                        <p>使用以<code class="codeph">EXEC</code> <code class="codeph">ORACLE</code>开头的特殊语句在配置文件，命令行或源代码内联中输入选项。如果没有找到错误，您可以编译，链接和运行输出源文件，就像您编写的任何其他C程序一样。
                        </p>
                        <p>使用预编译器从可以位于许多不同平台上的客户端创建服务器数据库访问。Pro * C / C ++使您可以自由设计自己的用户界面并添加对现有应用程序的数据库访问。</p>
                        <p>在编写嵌入式SQL语句之前，您可以在SQL * Plus中测试SQL的交互式版本，然后进行微小的更改以开始测试嵌入式SQL应用程序。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS674"></a><a id="ADFNS00105"></a><div class="props_rev_3"><a id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4" name="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4"></a><h4 id="ADFNS-GUID-447B087B-E49D-49E4-8C21-35DB88017AA4" class="sect4">Pro * COBOL预编译器概述</h4>
                  <div>
                     <p>对于Pro * COBOL预编译器，主机语言为COBOL。 Pro * COBOL预编译器的一些功能包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您可以调用存储的PL / SQL或Java子程序。您可以通过嵌入PL / SQL块来提高性能。这些块可以调用您编写的或Oracle数据库包中提供的PL / SQL子程序。</p>
                        </li>
                        <li>
                           <p>预编译器选项使您可以定义如何处理游标，错误，语法检查，文件格式等。</p>
                        </li>
                        <li>
                           <p>使用预编译器选项，可以在预编译期间和运行时检查SQL或PL / SQL语句的语法和语义。</p>
                        </li>
                        <li>
                           <p>您可以有条件地预编译代码的各个部分，以便它们可以在不同的环境中运行。</p>
                        </li>
                        <li>
                           <p>使用表，组项或组项表作为代码中的主变量和指示变量来提高性能。</p>
                        </li>
                        <li>
                           <p>您可以编写错误和警告的处理方式，以确保数据完整性。</p>
                        </li>
                        <li>
                           <p>Pro * COBOL支持动态SQL，这种技术使用户能够输入变量值和语句语法。</p>
                           <div class="infoboxnotealso" id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__GUID-9C94F540-E528-4D56-A9AC-5DDDE1DDB09A">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCB-GUID-2F2833F4-62F3-4FC7-8FC1-B742E44727B0" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关Pro * COBOL预编译器的完整信息</p>
                           </div>
                        </li>
                     </ul>
                     <p><a href="application-architecture.html#GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__BABFHEJI">示例20-2</a>是来自COBOL源程序的代码片段，该程序在模式<code class="codeph">hr</code>中查询表<code class="codeph">employees</code> 。
                     </p>
                     <div class="example" id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__BABFHEJI">
                        <p class="titleinexample">例20-2 Pro * COBOL应用程序</p><pre class="oac_no_warn" dir="ltr">...工作储存部分。 * *定义主机输入和输出主机和指示器变量。 *如果MODE = ORACLE，则不需要DECLARE SECTION。 * 01 EMP-REC-VARS。 05 EMP-NAME PIC X（10）变化。 05 EMP-NUMBER PIC S9（4）COMP VALUE ZERO。 05 SALARY PIC S9（5）V99 COMP-3 VALUE ZERO。 05委员会PIC S9（5）V99 COMP-3 VALUE ZERO。 05 COMM-IND PIC S9（4）COMP VALUE ZERO。 ...程序部门。 ...EXEC SQL SELECT last_name，salary，commission_pct INTO：EMP-NAME，：SALARY，：COMMISSION：COMM-IND FROM employees WHERE employee_id =：EMP-NUMBER END-EXEC。 ...
</pre><p>嵌入式<code class="codeph">SELECT</code>语句与交互式（SQL * Plus） <code class="codeph">SELECT</code>语句略有不同。每个嵌入式SQL语句都以EXEC SQL开头。冒号（:)位于每个主机（COBOL）变量之前。<code class="codeph">END-EXEC</code>语句终止SQL语句。数据和指示符的返回值（在数据值为<code class="codeph">NULL</code>或字符列被截断时设置）可以存储在组项（例如在前面的代码片段中），表中或组项的表中。在给定唯一员工编号的情况下，以类似于所示情况的方式非常简单地处理多个结果集值，其中只有一个结果。使用嵌入式SQL中的列和表的实际名称。</p>
                        <p>使用默认的预编译器选项值，或输入值，以控制资源的使用，报告错误的方式，输出的格式以及如何管理游标（游标对应于特定的连接或SQL语句）。</p>
                        <p>使用以EXEC ORACLE开头的特殊语句在配置文件，命令行或源代码内联中输入选项。如果没有找到错误，您可以编译，链接和运行输出源文件，就像您编写的任何其他COBOL程序一样。</p>
                        <p>使用预编译器从可以位于许多不同平台上的客户端创建服务器数据库访问。Pro * COBOL使您可以自由设计自己的用户界面并添加对现有COBOL应用程序的数据库访问。</p>
                        <p>可用的嵌入式SQL语句符合ANSI标准，因此您可以从程序中的许多数据库访问数据，包括通过Oracle Net联网的远程服务器。</p>
                        <p>在编写嵌入式SQL语句之前，您可以在SQL * Plus中测试SQL的交互式版本，然后进行微小的更改以开始测试嵌入式SQL应用程序。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADFNS1085"></a><a id="ADFNS00106"></a><div class="props_rev_3"><a id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140" name="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140"></a><h3 id="ADFNS-GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140" class="sect3">OCI和OCCI概述</h3>
               <div>
                  <p>Oracle调用接口（OCI）和Oracle C ++调用接口（OCCI）是应用程序编程接口（API），使您能够创建使用第三代语言的本机子程序调用来访问Oracle数据库并控制SQL语句的所有阶段的应用程序执行。这些API提供：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过有效使用系统内存和网络连接提高性能和可扩展性</p>
                     </li>
                     <li>
                        <p>用于双层客户端/服务器或多层环境中的动态会话和事务管理的一致接口</p>
                     </li>
                     <li>
                        <p><span class="italic">N</span> -authentication认证</p>
                     </li>
                     <li>
                        <p>使用Oracle数据库对象全面支持应用程序开发</p>
                     </li>
                     <li>
                        <p>访问外部数据库</p>
                     </li>
                     <li>
                        <p>能够开发为越来越多的用户和请求提供服务的应用程序，而无需额外的硬件投资</p>
                     </li>
                  </ul>
                  <p>OCI允许您使用主机编程语言（例如C）操纵数据库中的数据和模式.OCCI是一种适用于C ++的面向对象的接口。这些API以动态运行时库的形式提供标准数据库访问和检索功能库，可以在运行时在应用程序中进行链接。您无需在3GL程序中嵌入SQL或PL / SQL。</p>
                  <div class="infoboxnotealso" id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140__GUID-1926E237-74AD-47F5-B31F-AC278046FD85">
                     <p class="notep1">也可以看看：</p>
                     <p>有关OCI和OCCI呼叫的更多信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI-GUID-27645179-6957-4004-8BB8-38775266B038" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADQUE0300" target="_blank"><span class="italic">Oracle数据库高级队列用户指南</span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADDCI4180" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140__GUID-68CE80AA-F4FD-42ED-955D-AF65A6C281FB">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-architecture.html#GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF">OCI和OCCI的优势</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19">OCI和OCCI功能</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE">OCI和OCCI申请的程序和非程序要素</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-8AC1A6DA-F3D0-423A-877A-566F75973164">建立OCI或OCCI申请</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS675"></a><div class="props_rev_3"><a id="GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF" name="GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF"></a><h4 id="ADFNS-GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF" class="sect4">OCI和OCCI的优势</h4>
                  <div>
                     <p>与其他访问Oracle数据库的方法相比，OCI和OCCI提供了显着的优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对应用程序设计的所有方面进行更细粒度的控制。</p>
                        </li>
                        <li>
                           <p>对程序执行的高度控制。</p>
                        </li>
                        <li>
                           <p>使用熟悉的3GL编程技术和应用程序开发工具，如浏览器和调试器。</p>
                        </li>
                        <li>
                           <p>支持动态SQL，方法4。</p>
                        </li>
                        <li>
                           <p>可在所有Oracle数据库编程接口的最广泛平台上使用。</p>
                        </li>
                        <li>
                           <p>使用回调动态绑定和定义。</p>
                        </li>
                        <li>
                           <p>描述公开服务器元数据层的功能。</p>
                        </li>
                        <li>
                           <p>已注册客户端应用程序的异步事件通知。</p>
                        </li>
                        <li>
                           <p>增强的阵列数组操作语言（DML）功能。</p>
                        </li>
                        <li>
                           <p>能够将提交请求与语句执行相关联以减少往返。</p>
                        </li>
                        <li>
                           <p>使用透明预取缓冲区优化查询以减少往返次数。</p>
                        </li>
                        <li>
                           <p>线程安全，因此您不必在OCI和OCCI句柄上实现互斥（互斥）锁。</p>
                        </li>
                        <li>
                           <p>非阻塞模式下的服务器连接意味着当呼叫仍在运行或无法完成时，控制将返回OCI代码。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS676"></a><div class="props_rev_3"><a id="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19" name="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19"></a><h4 id="ADFNS-GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19" class="sect4">OCI和OCCI功能</h4>
                  <div>
                     <p>OCI和OCCI都有四种功能：</p>
                     <div class="tblformal" id="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19__GUID-86EAA732-A141-4E25-8CE4-5DB45F739D1A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the kinds of OCI and OCCI functions and describes their purposes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d117663e4767">功能的种类</th>
                                 <th align="left" valign="bottom" width="67%" id="d117663e4770">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4775" headers="d117663e4767 ">
                                    <p>相关的</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4775 d117663e4770 ">
                                    <p>管理数据库访问和处理SQL语句</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4782" headers="d117663e4767 ">
                                    <p>航</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4782 d117663e4770 ">
                                    <p>操纵从数据库中检索的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4789" headers="d117663e4767 ">
                                    <p>数据库映射和操作</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4789 d117663e4770 ">
                                    <p>操纵Oracle数据库类型的数据属性</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4796" headers="d117663e4767 ">
                                    <p>外部子程序</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4796 d117663e4770 ">
                                    <p>从PL / SQL编写C回调（仅限OCI）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADFNS677"></a><div class="props_rev_3"><a id="GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE" name="GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE"></a><h4 id="ADFNS-GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE" class="sect4">OCI和OCCI申请的程序和非程序要素</h4>
                  <div>
                     <p>OCI和OCCI使您能够开发将SQL的非过程数据访问能力与大多数编程语言（包括C和C ++）的过程功能相结合的应用程序。程序语言和非程序语言具有以下特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在非过程语言程序中，指定要操作的数据集，但是未指定执行什么操作以及如何执行操作。SQL的非过程性质使其成为一种易于学习和用于执行数据库事务的语言。它也是用于访问和操纵现代关系数据库和对象关系数据库系统中的数据的标准语言。</p>
                        </li>
                        <li>
                           <p>在过程语言程序中，大多数语句的执行取决于先前或后续语句以及SQL中不可用的控制结构，例如循环或条件分支。这些语言的程序性使它们比SQL更复杂，但它也使它们非常灵活和强大。</p>
                        </li>
                     </ul>
                     <p>OCI或OCCI程序中的非过程语言元素和过程语言元素的组合使得在结构化编程环境中可以轻松访问Oracle数据库。</p>
                     <p>OCI和OCCI支持通过Oracle数据库提供的所有SQL数据定义，数据操作，查询和事务控制工具。例如，OCI或OCCI程序可以对Oracle数据库运行查询。查询可以要求程序使用输入（绑定）变量向数据库提供数据，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM employees WHERE empno = <span class="bold"><code class="codeph">:</code></span> empnumber</pre><p>在前面的SQL语句中，： <code class="codeph">empnumber</code>是应用程序提供的值的占位符。
                     </p>
                     <p>或者，您可以使用PL / SQL，Oracle对SQL的过程扩展。您开发的应用程序比仅使用SQL编写的应用程序更强大，更灵活。OCI和OCCI还提供了访问和操作Oracle数据库中对象的工具。</p>
                  </div>
               </div><a id="ADFNS679"></a><a id="ADFNS678"></a><div class="props_rev_3"><a id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164" name="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164"></a><h4 id="ADFNS-GUID-8AC1A6DA-F3D0-423A-877A-566F75973164" class="sect4">建立OCI或OCCI申请</h4>
                  <div>
                     <div class="section">
                        <p><a href="application-architecture.html#GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__i1006860">如图20-1</a>所示，您编译和链接OCI或OCCI程序的方式与编译和链接非数据库应用程序的方式相同。不需要单独的预处理或预编译步骤。
                        </p>
                        <div class="figure" id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__i1006860">
                           <p class="titleinfigure">图20-1 OCI或OCCI开发过程</p><img src="img/adfns111.png" width="365" alt="下面是图20-1的描述" title="下面是图20-1的描述" longdesc="img_text/adfns111.html"><br><a href="img_text/adfns111.html">“图20-1 OCI或OCCI开发过程”的描述</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__GUID-30ACE853-74C8-429E-A2A5-165DB2EAC510">
                           <p class="notep1">注意：</p>
                           <p>要正确链接您的OCI和OCCI程序，除了OCI和OCCI库之外，在某些平台上可能还需要包含其他库。查看Oracle平台特定的文档，以获取有关可能需要的额外库的更多信息。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS99960"></a><div class="props_rev_3"><a id="GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6" name="GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6"></a><h3 id="ADFNS-GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6" class="sect3">预编译器与OCI的比较</h3>
               <div>
                  <p>预编译器应用程序通常包含的代码少于等效的OCI应用程序，这有助于提高工作效率。</p>
                  <p>某些情况需要对数据库进行详细控制，并且适用于OCI应用程序（纯OCI或带有嵌入式OCI调用的预编译器应用程序）：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>OCI提供对多路复用和迁移会话的更详细控制。</p>
                     </li>
                     <li>
                        <p>OCI提供动态绑定并使用可用于任何任意结构（包括列表）的回调进行定义。</p>
                     </li>
                     <li>
                        <p>OCI有许多处理元数据的调用。</p>
                     </li>
                     <li>
                        <p>OCI允许客户端应用程序接收异步事件通知。它为客户端提供了一种生成通知以传播到其他客户端的方法。</p>
                     </li>
                     <li>
                        <p>OCI使DML语句能够在返回任何错误消息之前使用数组完成尽可能多的迭代。</p>
                     </li>
                     <li>
                        <p>OCI要求特殊用途包括高级排队，全球化支持，数据磁带以及日期和时间数据类型的支持。</p>
                     </li>
                     <li>
                        <p>OCI调用可以嵌入到Pro * C / C ++应用程序中。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADFNS00107"></a><div class="props_rev_3"><a id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC" name="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC"></a><h3 id="ADFNS-GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC" class="sect3">Oracle Data Provider for .NET概述（ODP.NET）</h3>
               <div>
                  <p>Oracle Data Provider for .NET（ODP.NET）是Oracle数据库的数据提供程序的实现。</p>
                  <p>ODP.NET使用Oracle数据库原生的API，提供从任何.NET应用程序到数据库功能和数据的快速可靠访问。它还使用和继承Microsoft .NET Framework类库中提供的类和接口。</p>
                  <p>对于使用Oracle Provider for OLE DB的程序员，ADO（ActiveX数据对象）提供了一个自动化层，它公开了一个简单的编程模型。ADO.NET提供了类似的编程模型，但没有自动化层，以获得更好的性能。更重要的是，ADO.NET模型使本机提供程序（如ODP.NET）能够公开特定于Oracle数据库的特定功能和数据类型。</p>
                  <div class="infoboxnotealso" id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC__GUID-806F0CAD-7001-4F41-810B-097E077478DE">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ODPNT-GUID-635BAE6C-7D0B-4CF2-ADD8-8DB531B9C52E" target="_blank"><span><cite>适用于Microsoft Windows的Oracle数据提供程序开发人员指南</cite></span></a></p>
                  </div>
                  <p>这是一个简单的C＃应用程序，它连接到Oracle数据库并在断开连接之前显示其版本号：</p><pre class="oac_no_warn" dir="ltr">使用系统;使用Oracle。数据访问。客户; class示例{OracleConnection con; void Connect（）{con = new OracleConnection（）; CON。ConnectionString =“用户ID = hr;密码= <span class="italic">密码</span> ;数据源= oracle”; CON。打开（）;安慰。WriteLine（“连接到Oracle”+ con。ServerVersion）; } void Close（）{con。关（）; CON。处置（）; } void void Main（）{Example example = new Example（）;例。连接（）;例。关（）; }}</pre><div class="infoboxnote" id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC__GUID-BC6648E9-5132-4DD4-A79B-F9E5DB44417B">
                     <p class="notep1">注意：</p>
                     <p><span class="italic"><code class="codeph">ORACLE_BASE</code></span> <code class="codeph">\</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\ODP.NET\Samples</code>目录中提供了其他<code class="codeph">\ODP.NET\Samples</code> 。
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS99959"></a><div class="props_rev_3"><a id="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD" name="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD"></a><h3 id="ADFNS-GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD" class="sect3">OraOLEDB概述</h3>
               <div>
                  <p>Oracle Provider for OLE DB（OraOLEDB）是一个OLE DB数据提供程序，它提供OLE DB使用者对Oracle数据的高性能和高效访问。通常，本开发人员指南假定您通过OLE DB或ADO使用OraOLEDB。</p>
                  <div class="infoboxnotealso" id="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD__GUID-AA5D004E-C155-4334-A3A9-72FC6680A034">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=OLEDB-GUID-6A223652-A623-4952-A341-62083A0AD587" target="_blank"><span><cite>适用于Microsoft Windows的OLE DB开发人员指南的Oracle Provider</cite></span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06553.semantic-indexing-documents.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines."></meta>
      <meta name="description" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines."></meta>
      <title>文档的语义索引</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="RDF Knowledge Graph Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="RDF Knowledge Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94798-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="simple-knowledge-organizaiton-system-skos.html" title="Previous" type="text/html"></link>
      <link rel="next" href="fine-grained-access-control-rdf.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="RDFRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="simple-knowledge-organizaiton-system-skos.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="fine-grained-access-control-rdf.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF知识图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">文档的语义索引</li>
            </ol>
            <a id="GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" name="GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3"></a><a id="RDFRM99921"></a>
            
            <h2 id="RDFRM-GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" class="sect2"><span class="enumeration_chapter">4</span>文档的语义索引</h2>
         </header>
         <div class="ind">
            <div>
               <p>信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。</p>
               <p>文档的语义索引引入了一种索引类型，该索引类型可以利用信息提取器和注释器来语义索引存储在关系表中的文档。可以使用标准SQL查询中的SEM_CONTAINS运算符搜索语义索引的文档。这些文档的搜索条件使用SPARQL查询模式表示，这些查询模式对从文档中提取的信息进行操作，如下例所示。</p><pre class="oac_no_warn" dir="ltr">SELECT docId FROM Newsfeed WHERE SEM_CONTAINS（文章，'{？org rdf：type typ：Organization。？org pred：hasCategory cat：BusinessFinance}'，..）= 1</pre><p>促进Oracle数据库中文档的语义索引的关键组件包括：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>可扩展信息提取器框架，允许将第三方信息提取器插入数据库</p>
                  </li>
                  <li>
                     <p>SEM_CONTAINS运算符使用标准SQL查询根据提取的信息识别感兴趣的文档</p>
                  </li>
                  <li>
                     <p>SEM_CONTAINS_SELECT辅助运算符，用于返回有关使用SEM_CONTAINS运算符标识的文档的相关信息</p>
                  </li>
                  <li>
                     <p>SemContext索引类型，用于与信息提取器交互，管理从索引结构中的文档集中提取的信息，并便于对文档进行语义上有意义的搜索</p>
                  </li>
               </ul>
               <p>SEM_RDFCTX PL / SQL包中提供了用于管理为文档创建的提取器策略和语义索引的应用程序接口（API）。 <a href="SEM_RDFCTX-reference.html#GUID-6C654E4C-4D2F-4EF6-B085-EDD1B7BC2F27" title="SEM_RDFCTX包中包含用于管理为文档创建的提取器策略和语义索引的子程序（函数和过程）。"> SEM_RDFCTX封装子程序</a>提供有关SEM_RDFCTX封装中子程序</a>的参考信息。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-60317EBF-89EB-4581-9327-58A08A215F8D">用于语义索引文档的信息提取器</a><br><span class="bold">信息提取器</span>处理非结构化文档并从中提取有意义的信息，通常在本体的帮助下使用自然语言处理引擎。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551">提取器策略</a><br><span class="bold">提取器策略</span>是命名字典实体，用于确定使用策略创建的语义索引的特征。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-65ED585E-8107-4960-997E-ED180627B4C8">语义索引文档</a><br>存储在关系表的CLOB或VARCHAR2列中的文本文档可以使用MDSYS.SEMCONTEXT索引类型进行索引，以便于进行语义上有意义的搜索。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133">SEM_CONTAINS和辅助操作员</a><br>您可以在标准SQL语句中使用SEM_CONTAINS运算符来搜索存储在关系表中的文档或文档引用。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD">使用SPARQL查询模式搜索文档</a><br>语义索引的文档（即使用mdsys索引的文档。可以在标准SQL查询中使用SEM_CONTAINS运算符搜索SemContext索引类型。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7">匹配文档中子图的SPARQL变量的绑定（SEM_CONTAINS_SELECT辅助运算符）</a><br>您可以使用SEM_CONTAINS_SELECT辅助运算符返回有关使用SEM_CONTAINS运算符匹配的每个文档的其他信息。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833">提高文档检索操作的质量</a><br>文档搜索操作的质量取决于用于索引文档的提取器产生的信息的质量。如果提取的信息不完整，您可能需要向文档添加一些注释。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98">索引外部文档</a><br>您可以对存储在文件系统或网络上的文档使用语义索引。在这种情况下，您将对外部文档的引用存储在表列中，并使用适当的提取器策略在列上创建语义索引。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-5A73F616-66EF-4887-B123-9DB538E1C269">配置Calais Extractor类型</a><br>CALAIS_EXTRACTOR类型是RDFCTX_WS_EXTRACTOR类型的子类型，使您可以访问网络上任何位置的Web服务端点，包括可公开访问的端点（ <code class="codeph">OpenCalais.com</code> ）。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4">使用文本工程的通用架构（GATE）</a><br>文本工程通用架构（GATE）是一个开源的自然语言处理器和信息提取器。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992">创建新的提取器类型</a><br>您可以通过扩展RDFCTX_EXTRACTOR或RDFCTX_WS_EXTRACTOR提取器类型来创建新的提取器类型。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6">在范围分区表上创建本地语义索引</a><br>可以在范围分区表的VARCHAR2或CLOB列上创建本地索引。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A">改变语义索引</a><br>您可以将ALTER INDEX语句与语义索引一起使用。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A">在CREATE INDEX和ALTER INDEX中传递Extractor特定的参数</a><br>CREATE INDEX和ALTER INDEX语句允许传递提取器所需的参数。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234">执行以文档为中心的推理</a><br>以文档为中心的推理是指从每个文档单独推断的能力。
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C">语义索引的元数据视图</a><br>本节介绍包含有关语义索引的元数据的视图</li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03">GATE Extractor输出的默认样式表</a><br>本节列出了<code class="codeph">mdsys.gatenlp_extractor</code>实现用于将注释集（以XML编码）转换为RDF / XML的默认XML样式表。</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="RDFRM99923"></a><a id="RDFRM99922"></a><div class="props_rev_3"><a id="GUID-60317EBF-89EB-4581-9327-58A08A215F8D" name="GUID-60317EBF-89EB-4581-9327-58A08A215F8D"></a><h3 id="RDFRM-GUID-60317EBF-89EB-4581-9327-58A08A215F8D" class="sect3"><span class="enumeration_section">4.1</span>语义索引文档的信息提取器</h3>
               <div>
                  <p><span class="bold">信息提取器</span>处理非结构化文档并从中提取有意义的信息，通常在本体的帮助下使用自然语言处理引擎。
                  </p>
                  <p>从文档中提取的信息的质量和完整性因提取器而异。一些提取器仅仅识别实体（例如来自文档的人员，组织和地理位置的名称），而其他提取器尝试识别所识别的实体之间的关系以及这些实体的附加描述。当从文档中提取的信息作为语义索引维护时，您可以从大型集合中搜索特定文档。</p>
                  <p>您可以使用信息提取器为存储在关系表的列中的文档创建语义索引。可扩展框架允许可从数据库访问的任何第三方信息提取器插入数据库。为提取器创建的对象类型封装了提取逻辑，并具有配置提取器和接收以RDF / XML格式从给定文档提取的信息的方法。</p>
                  <p>抽象类型MDSYS.RDFCTX_EXTRACTOR定义了所有信息提取器的公共接口。此抽象类型的实现与特定信息提取器交互，以为给定文档生成RDF / XML。此类型的实现可以访问第三方信息提取器，该提取器可用作数据库应用程序或安装在网络上（使用Web服务标注访问）。<a href="semantic-indexing-documents.html#GUID-60317EBF-89EB-4581-9327-58A08A215F8D__BEIBDDEG">例4-1</a>显示了RDFCTX_EXTRACTOR抽象类型的定义。
                  </p>
                  <div class="example" id="GUID-60317EBF-89EB-4581-9327-58A08A215F8D__BEIBDDEG">
                     <p class="titleinexample">例4-1 RDFCTX_EXTRACTOR抽象类型定义</p><pre class="oac_no_warn" dir="ltr">创建或替换类型rdfctx_extractor authid current_user作为对象（extr_type VARCHAR2（32），成员函数getDescription返回VARCHAR2，成员函数rdfReturnType返回VARCHAR2，成员函数getContext（属性VARCHAR2）返回VARCHAR2，成员过程startDriver，成员函数extractRDF（文档CLOB，docId） VARCHAR2）返回CLOB，成员函数extractRdf（文件CLOB，docId VARCHAR2，params VARCHAR2，选项VARCHAR2默认为NULL）返回CLOB成员函数batchExtractRdf（docCursor SYS_REFCURSOR，extracted_info_table VARCHAR2，params VARCHAR2，partition_name VARCHAR2默认为NULL，docId VARCHAR2默认为NULL，首选项SYS .XMLType默认为NULL，选项VARCHAR2默认为NULL）返回CLOB，成员程序closeDriver）不可实例化而不是最终/</pre><p>RDFCTX_EXTRACTOR类型的特定实现在<code class="codeph">extr_type</code>属性中设置提取器类型的<code class="codeph">extr_type</code> ，并使用<code class="codeph">getDescription</code>方法返回提取器类型的简短描述。此抽象类型的所有实现都将提取的信息作为RDF三元组返回。在当前版本中，RDF三元组应使用RDF / XML格式进行序列化，因此<code class="codeph">rdfReturnType</code>方法应返回“ <code class="codeph">RDF/XML</code> ”。
                     </p>
                     <p>提取器类型实现使用<code class="codeph">extractRDF</code>方法封装提取逻辑，可能通过使用专有接口调用外部信息提取器，并以RDF / XML格式返回提取的信息。当第三方提取器使用某些专有XML Schema捕获提取的信息时，可以使用XML样式表生成等效的RDF / XML。 <code class="codeph">startDriver</code>和<code class="codeph">closeDriver</code>方法可以执行与信息提取器有关的任何内务操作。可选的<code class="codeph">params</code>参数允许提取器获得关于所需提取类型的额外信息（例如，期望的提取质量）。
                     </p>
                     <p>可选地，提取器类型实现可以通过提供<code class="codeph">batchExtractRdf</code>成员函数的实现来支持批处理接口。此函数通过输入参数<code class="codeph">docCursor</code>接受游标，并通常使用该游标检索每个文档，从文档中提取信息，然后将提取的信息插入（由<code class="codeph">extracted_info_table</code>表的<code class="codeph">partition_name</code>分区标识的指定分区。<code class="codeph">preferences</code>参数用于获取与策略关联的首选项值（如<a href="semantic-indexing-documents.html#GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" title="您可以对存储在文件系统或网络上的文档使用语义索引。在这种情况下，您将对外部文档的引用存储在表列中，并使用适当的提取器策略在列上创建语义索引。">索引外部文档</a>和<a href="SEM_RDFCTX-reference.html#GUID-B1F06381-1709-4335-AE8F-D937A76936A8">SEM_RDFCTX.CREATE_POLICY</a>参考部分中所述）。
                     </p>
                     <p><code class="codeph">getContext</code>成员函数接受属性名称并返回该属性的值。目前，此功能仅用于支持批处理界面的提取器。属性名称和相应的可能返回值如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于<code class="codeph">BATCH_SUPPORT</code>属性，返回值为“ <code class="codeph">YES</code> ”或“ <code class="codeph">NO</code> ”，具体取决于提取器是否支持批处理接口。
                           </p>
                        </li>
                        <li>
                           <p>对于<code class="codeph">DBUSER</code>属性，返回值是将连接到数据库检索光标（由标识行的数据库用户的名称<code class="codeph">docCursor</code>参数），这将写入表<code class="codeph">extracted_info_table</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>此信息用于为正在编制索引的表和表<code class="codeph">extracted_info_table</code>授予适当的权限。
                     </p>
                     <p><code class="codeph">startDriver</code>和<code class="codeph">closeDriver</code>方法可以执行与信息提取器有关的任何内务操作。
                     </p>
                     <p>文本工程通用体系结构（GATE）引擎的提取器类型被定义为RDFCTX_EXTRACTOR类型的子类型。此提取器类型的实现通过TCP连接将文档发送到GATE引擎，接收引擎以XML格式提取的注释，并将此专有XML文档转换为RDF / XML文档。有关配置GATE引擎以使用Oracle数据库的更多信息，请参阅<a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" title="文本工程通用架构（GATE）是一个开源的自然语言处理器和信息提取器。">使用文本工程的常规体系结构（GATE）</a> 。有关创建新信息提取器的示例，请参阅<a href="semantic-indexing-documents.html#GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" title="您可以通过扩展RDFCTX_EXTRACTOR或RDFCTX_WS_EXTRACTOR提取器类型来创建新的提取器类型。">创建新提取器类型</a> 。
                     </p>
                     <p>可以通过扩展RDFCTX_WS_EXTRACTOR类型从数据库调用作为Web服务部署的信息提取器，RDFCTX_WS_EXTRACTOR类型是RDFCTX_EXTRACTOR类型的子类型。该RDFCTX_WS_EXTRACTOR型封装在Web服务标注<code class="codeph">extractRDF</code>方法;基于网络的提取器的特定实现可以通过在类型构造函数中设置相关属性值来重用此实现。
                     </p>
                     <p>Thomson Reuters Calais是一个基于网络的信息提取器的示例，可以使用Web服务标注进行访问。CALAIS_EXTRACTOR类型是RDFCTX_WS_EXTRACTOR类型的子类型，它封装了Calais提取逻辑，它可用于对文档进行语义索引。必须先为数据库实例配置CALAIS_EXTRACTOR类型，然后才能使用它来创建语义索引，如<a href="semantic-indexing-documents.html#GUID-5A73F616-66EF-4887-B123-9DB538E1C269" title="CALAIS_EXTRACTOR类型是RDFCTX_WS_EXTRACTOR类型的子类型，使您可以访问网络上任何位置的Web服务端点，包括可公开访问的端点（OpenCalais.com）。">配置Calais Extractor类型中所述</a> 。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99924"></a><div class="props_rev_3"><a id="GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" name="GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551"></a><h3 id="RDFRM-GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" class="sect3"><span class="enumeration_section">4.2</span>提取器策略</h3>
               <div>
                  <p><span class="bold">提取器策略</span>是命名字典实体，用于确定使用策略创建的语义索引的特征。
                  </p>
                  <p>每个提取器策略直接或间接地引用提取器类型的实例。直接引用提取器类型实例的提取器策略可用于组成包含用于本体的其他RDF模型的其他提取器策略。</p>
                  <p>以下示例创建使用GATE提取器类型创建的基本提取器策略：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.create_policy（policy_name =&gt;'SEM_EXTR'，extractor =&gt; mdsys.gatenlp_extractor（））;结束; /</pre><p>以下示例创建一个依赖的提取器策略，该策略将前面示例中的策略提取的元数据与名为<code class="codeph">geo_ontology</code>的用户定义的RDF模型<code class="codeph">geo_ontology</code> ：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.create_policy（policy_name =&gt;'SEM_EXTR_PLUS_GEOONT'，base_policy =&gt;'SEM_EXTR'，user_models =&gt; SEM_MODELS（'geo_ontology'））;结束; /</pre><p>您可以使用提取器策略在存储非结构化文档的列上创建一个或多个语义索引，如<a href="semantic-indexing-documents.html#GUID-65ED585E-8107-4960-997E-ED180627B4C8" title="存储在关系表的CLOB或VARCHAR2列中的文本文档可以使用MDSYS.SEMCONTEXT索引类型进行索引，以便于进行语义上有意义的搜索。">语义索引文档中所述</a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99925"></a><div class="props_rev_3"><a id="GUID-65ED585E-8107-4960-997E-ED180627B4C8" name="GUID-65ED585E-8107-4960-997E-ED180627B4C8"></a><h3 id="RDFRM-GUID-65ED585E-8107-4960-997E-ED180627B4C8" class="sect3"><span class="enumeration_section">4.3</span>语义索引文档</h3>
               <div>
                  <p>存储在关系表的CLOB或VARCHAR2列中的文本文档可以使用MDSYS.SEMCONTEXT索引类型进行索引，以便于进行语义上有意义的搜索。</p>
                  <p>在索引创建时指定的提取器策略确定用于对文档进行语义索引的信息提取器。在语义数据存储中管理作为每个文档的一组RDF三元组捕获的提取信息。语义索引的每个实例与系统生成的RDF模型相关联，该模型维护从相应文档中提取的RDF三元组。</p>
                  <p>以下示例使用名为<code class="codeph">SEM_EXTR</code>的提取器策略在NEWSFEED表的ARTICLE列中的文本文档上创建名为<code class="codeph">ArticleIndex</code>的语义索引：</p><pre class="oac_no_warn" dir="ltr">在新闻源上创建索引ArticleIndex（文章）INDEXTYPE是mdsys。SemContext PARAMETERS（'SEM_EXTR'）;</pre><p>为索引创建的RDF模型在内部进行管理，并且不与应用程序表关联。存储在这种模型中的三元组会自动维护，以便对存储在表列中的文档进行任何修改（例如更新，插入或删除）。尽管使用单个RDF模型来索引存储在表列中的所有文档，但存储在模型中的三元组仍然保留对从中提取它们的文档的引用;因此，从特定文档中提取的所有三元组在RDF模型中形成单独的图形。然后，可以使用SPARQL查询模式搜索语义索引的文档，该模式对从文档中提取的三元组进行操作。</p>
                  <p>在为文档创建语义索引时，您可以使用基本提取器策略或从属策略，其中可能包含一个或多个用户定义的RDF模型。使用从属提取器策略创建索引时，使用SPARQL指定的文档搜索模式可以跨越从文档中提取的三元组以及在用户定义的模型中定义的三元组。</p>
                  <p>您可以使用多个提取器策略创建索引，在这种情况下，相应提取器提取的三元组将在不同的RDF模型中单独维护。使用一个这样的索引的文档搜索查询可以选择用于回答查询的特定策略。例如，可以创建名为<code class="codeph">CITY_EXTR</code>的提取器策略以从给定文档中提取城市的名称，并且此提取器策略可以与SEM_EXTR策略结合使用以创建语义索引，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">在新闻源上创建索引ArticleIndex（文章）INDEXTYPE是mdsys。SemContext PARAMETERS（ <span class="bold">'SEM_EXTR CITY_EXTR'</span> ）;</pre><p>如果查询未引用特定策略，则PARAMETERS列表中的第一个提取器策略将被视为默认策略;但是，您可以使用<a href="SEM_RDFCTX-reference.html#GUID-2EBB554D-B440-4F75-B4D8-30C4490AB9AE">SEM_RDFCTX.SET_DEFAULT_POLICY</a>过程更改语义索引的默认提取器策略，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.set_default_policy（index_name =&gt;'ArticleIndex'，policy_name =&gt;'CITY_EXTR'）;结束; /</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM220"></a><div class="props_rev_3"><a id="GUID-196189F0-AA72-4900-9D9A-4AD17F036133" name="GUID-196189F0-AA72-4900-9D9A-4AD17F036133"></a><h3 id="RDFRM-GUID-196189F0-AA72-4900-9D9A-4AD17F036133" class="sect3"><span class="enumeration_section">4.4</span> SEM_CONTAINS和辅助运算符</h3>
               <div>
                  <p>您可以在标准SQL语句中使用SEM_CONTAINS运算符来搜索存储在关系表中的文档或文档引用。</p>
                  <p>此运算符具有以下语法：</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS（列VARCHAR2 / CLOB，sparql VARCHAR2，策略VARCHAR2，别名SEM_ALIASES，index_status NUMBER，ancoper NUMBER）返回号码;</pre><p><code class="codeph">column</code>和<code class="codeph">sparql</code>属性属性是必需的。其他属性是可选的（也就是说，每个属性都可以是空值）。
                  </p>
                  <p><code class="codeph">column</code>属性标识关系表中的VARCHAR2或CLOB列，该列存储文档或对语义索引的文档的引用。必须在此列中定义MDSYS.SEMCONTEXT类型的索引，供SEM_CONTAINS运算符使用。
                  </p>
                  <p><code class="codeph">sparql</code>属性是一个字符串文字，用于定义文档搜索条件，以SPARQL格式表示。
                  </p>
                  <p>可选的<code class="codeph">policy</code>属性指定提取器策略的名称，通常用于覆盖默认策略。语义文档索引可以在创建索引时指定一个或多个提取器策略，其中一个策略是缺省值，如果<code class="codeph">policy</code>属性在调用SEM_CONTAINS时为null，则使用该<code class="codeph">policy</code> 。</p>
                  <p><a id="d40605e689" class="indexterm-anchor"></a><a id="d40605e691" class="indexterm-anchor"></a><a id="d40605e693" class="indexterm-anchor"></a>可选的<code class="codeph">aliases</code>属性标识一个或多个名称空间，包括默认名称空间，用于在查询模式中扩展限定名称。其数据类型为SEM_ALIASES，其定义如下： <code class="codeph">TABLE OF SEM_ALIAS</code> ，其中每个SEM_ALIAS元素标识名称空间ID和名称空间值。SEM_ALIAS数据类型具有以下定义： <code class="codeph">(namespace_id VARCHAR2(30), namespace_val VARCHAR2(4000))</code></p>
                  <p>仅当涉及一个或多个蕴涵的依赖策略用于SEM_CONTAINS调用时，可选的<code class="codeph">index_status</code>属性才相关。<code class="codeph">index_status</code>值标识蕴涵的最低所需有效性状态。可能的值为<code class="codeph">0</code> （对于VALID，默认值）， <code class="codeph">1</code> （对于INCOMPLETE）和<code class="codeph">2</code> （对于INVALID）。
                  </p>
                  <p><a id="d40605e724" class="indexterm-anchor"></a>可选的<code class="codeph">ancoper</code>属性指定一个数字作为在查询中将此运算符与SEM_CONTAINS_SELECT辅助运算符一起使用时要使用的绑定。为<code class="codeph">ancoper</code>属性指定的<code class="codeph">ancoper</code>应与为SEM_CONTAINS_SELECT辅助运算符中的<code class="codeph">operbind</code>属性指定的数字相同。
                  </p>
                  <p>SEM_CONTAINS运算符为与指定搜索条件匹配的每个文档实例返回1，并为所有其他情况返回0。</p>
                  <p>有关使用SEM_CONTAINS运算符的更多信息（包括示例），请参阅<a href="semantic-indexing-documents.html#GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" title="语义索引的文档（即使用mdsys索引的文档。可以在标准SQL查询中使用SEM_CONTAINS运算符搜索SemContext索引类型。">使用SPARQL查询模式搜索文档</a> 。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720">SEM_CONTAINS_SELECT辅助操作员</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C">SEM_CONTAINS_COUNT个辅助操作员</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM221"></a><div class="props_rev_3"><a id="GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720" name="GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720"></a><h4 id="RDFRM-GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720" class="sect4"><span class="enumeration_section">4.4.1</span> SEM_CONTAINS_SELECT辅助操作员</h4>
                  <div>
                     <p>您可以使用SEM_CONTAINS_SELECT辅助运算符返回与某些搜索条件匹配的每个文档的其他信息。此辅助运算符具有单个数字属性（ <code class="codeph">operbind</code> ），它通过使用相同的绑定值将SEM_CONTAINS_SELECT辅助运算符的实例与SEM_CONTAINS运算符相关联。此辅助运算符返回CLOB类型的对象，该对象包含匹配文档中的附加信息，格式为SPARQL Query Results XML格式。
                     </p>
                     <p>SEM_CONTAINS_SELECT辅助运算符具有以下语法：</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS_SELECT（operbind NUMBER）返回CLOB;</pre><p>有关使用SEM_CONTAINS_SELECT辅助运算符（包括示例）的更多信息，请参阅<a href="semantic-indexing-documents.html#GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" title="您可以使用SEM_CONTAINS_SELECT辅助运算符返回有关使用SEM_CONTAINS运算符匹配的每个文档的其他信息。">匹配文档中子图的SPARQL变量的绑定（SEM_CONTAINS_SELECT辅助运算符）</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133" title="您可以在标准SQL语句中使用SEM_CONTAINS运算符来搜索存储在关系表中的文档或文档引用。">SEM_CONTAINS和辅助运算符</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM222"></a><div class="props_rev_3"><a id="GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C" name="GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C"></a><h4 id="RDFRM-GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C" class="sect4"><span class="enumeration_section">4.4.2</span> SEM_CONTAINS_COUNT辅助操作员</h4>
                  <div>
                     <p>您可以使用SEM_CONTAINS_COUNT辅助运算符进行SEM_CONTAINS运算符调用。对于每个匹配的文档，它返回SEM_CONTAINS调用中指定的SPARQL图形模式的匹配子图的计数。</p>
                     <p>SEM_CONTAINS_COUNT辅助运算符具有以下语法：</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS_COUNT（operbind NUMBER）返回号码;</pre><p>以下示例摘录显示了使用SEM_CONTAINS_COUNT辅助运算符返回每个匹配文档的匹配子图的计数：</p><pre class="oac_no_warn" dir="ltr">SELECT docId，SEM_CONTAINS_COUNT（1）as matching_subgraph_count FROM Newsfeed WHERE SEM_CONTAINS（article，'{？org rdf：type class：Organization。？org pred：hasCategory cat：BusinessFinance}'，..，1）= 1;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133" title="您可以在标准SQL语句中使用SEM_CONTAINS运算符来搜索存储在关系表中的文档或文档引用。">SEM_CONTAINS和辅助运算符</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM99926"></a><div class="props_rev_3"><a id="GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" name="GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD"></a><h3 id="RDFRM-GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" class="sect3"><span class="enumeration_section">4.5</span>使用SPARQL查询模式搜索文档</h3>
               <div>
                  <p>语义索引的文档（即使用mdsys索引的文档。可以在标准SQL查询中使用SEM_CONTAINS运算符搜索SemContext索引类型。</p>
                  <p>在查询中，SEM_CONTAINS运算符必须至少有两个参数，第一个指定存储文档的列，第二个指定表示为SPARQL查询模式的文档搜索条件，如下例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT docId FROM Newsfeed WHERE SEM_CONTAINS（文章，'{？org rdf：输入&lt;http://www.example.com/classes/Organization&gt;。？org &lt;http://example.com/pred/hasCategory&gt; &lt;http://www.example.com/category/BusinessFinance&gt;}'）= 1;</pre><p>使用SEM_CONTAINS运算符指定的SPARQL查询模式与对应于每个文档的各个图形进行匹配，如果来自相应图形的三元组满足查询模式，则认为文档与搜索条件匹配。在前面的示例中，SPARQL查询模式标识引用属于<code class="codeph">BusinessFinance</code>类别的<code class="codeph">Organization</code>的各个图（因此，文档）。SQL查询返回与其结果集中的匹配文档对应的行。上面的示例假定查询中使用的URI由底层提取程序生成，并且您（搜索文档的用户）知道正在使用的提取程序生成的属性和术语。
                  </p>
                  <p>使用包含一个或多个用户定义的RDF模型的从属提取器策略创建索引时，用户模型中声明的三元组被认为是所有文档的共用。涉及此类策略的文档搜索针对与文档对应的各个图表中的三元组测试搜索条件，并结合用户模型中的三元组。例如，以下查询使用将城市映射到州的地理本体（来自前面示例的<code class="codeph">geo_ontology</code> RDF模型）标识所有引用新罕布什尔州组织的文章：</p><pre class="oac_no_warn" dir="ltr">SELECT docId FROM Newsfeed WHERE SEM_CONTAINS（文章，'{？org rdf：type class：Organization。？org pred：hasLocation <span class="bold">？城市</span> 。
           <span class="bold">？city geo：hasState state：NewHampshire</span> }'，'SEM_EXTR_PLUS_GEOONT'，sem_aliases（sem_alias（'class'，'http：//www.myorg.com/classes/'），sem_alias（'pred'，'http：// www .myorg.com / pred /'），sem_alias（'geo'，'http：//geoont.org/rel/'），sem_alias（'state'，'http：//geoont.org/state/'）） ）= 1;</pre><p>前面的查询引用了提取器策略SEM_EXTR_PLUS_GEOONT（在<a href="semantic-indexing-documents.html#GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" title="提取器策略是命名字典实体，用于确定使用策略创建的语义索引的特征。">提取器策略</a>中的示例中创建），它将从索引文档中提取的三元组和用户模型中的三元组组合在一起以查找匹配的文档。在此示例中，如果仅使用此策略创建相应的索引，或者这是索引的默认提取器策略，则提取器策略的名称是可选的。当查询模式使用某些限定名称时，SEM_CONTAINS运算符的可选参数可以指定用于扩展限定名称的名称空间。
                  </p>
                  <p>基于SPARQL的文档搜索可以使用SEM_MATCH查询支持的SPARQL语法。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99927"></a><div class="props_rev_3"><a id="GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" name="GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7"></a><h3 id="RDFRM-GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" class="sect3"><span class="enumeration_section">4.6</span>匹配文档中子图的SPARQL变量的绑定（SEM_CONTAINS_SELECT辅助运算符）</h3>
               <div>
                  <p>您可以使用SEM_CONTAINS_SELECT辅助运算符返回有关使用SEM_CONTAINS运算符匹配的每个文档的其他信息。</p>
                  <p>具体而言，可以使用此运算符返回基于SPARQL的文档搜索条件中使用的变量的绑定。此运算符是SEM_CONTAINS运算符的辅助运算符，并且使用文字数作为此运算符的参数，以将其与SEM_CONTAINS运算符的特定实例相关联，如下例所示：</p><pre class="oac_no_warn" dir="ltr">选择docId， <span class="bold">SEM_CONTAINS_SELECT（1）</span>作为结果来自Newsfeed WHERE SEM_CONTAINS（文章，'{？org rdf：type class：Organization。？org pred：hasCategory cat：BusinessFinance}'，..， <span class="bold">1</span> ）= 1;</pre><p>SEM_CONTAINS_SELECT辅助运算符以SPARQL查询结果XML格式返回变量的绑定，作为CLOB数据。变量可以绑定到单个文档中的多个数据实例，在这种情况下，将返回变量的所有绑定。以下示例摘自上一个查询的输出：SEM_CONTAINS_SELECT辅助运算符为匹配指定搜索条件的文档返回的值。</p><pre class="oac_no_warn" dir="ltr">&lt;results&gt; &lt;result&gt; &lt;binding name =“ORG”&gt; &lt;uri&gt; http://newscorp.com/Org/AcmeCorp &lt;/ uri&gt; &lt;/ binding&gt; &lt;/ result&gt; &lt;result&gt; &lt;binding name =“ORG” &gt; &lt;uri&gt; http://newscorp.com/Org/ABCCorp &lt;/ uri&gt; &lt;/ binding&gt; &lt;/ result&gt; &lt;/ results&gt;</pre><p>您可以通过为SEM_CONTAINS_SELECT辅助运算符返回的CLOB值创建XMLType实例并应用XPath表达式对某些属性值的结果进行排序来对搜索结果进行排名。</p>
                  <p>默认情况下，SEM_CONTAINS_SELECT辅助运算符返回基于SPARQL的文档搜索条件中使用的所有变量的绑定。但是，当只有一部分变量的值与搜索相关时，SPARQL模式可以包含一个SELECT子句，该子句具有以空格分隔的变量列表，应为其返回值，如下例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT docId，SEM_CONTAINS_SELECT（1）作为结果FROM Newsfeed WHERE SEM_CONTAINS（文章，' <span class="bold">SELECT？组织？城市</span> <span class="bold">哪里</span> {？org rdf：type class：Organization。？org pred：hasLocation？城市。？city geo：hasState state：NewHampshire}'，..，1）= 1;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99928"></a><div class="props_rev_3"><a id="GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833" name="GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833"></a><h3 id="RDFRM-GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833" class="sect3"><span class="enumeration_section">4.7</span>提高文档检索操作的质量</h3>
               <div>
                  <p>文档搜索操作的质量取决于用于索引文档的提取器产生的信息的质量。如果提取的信息不完整，您可能需要向文档添加一些注释。</p>
                  <p>您可以使用<a href="SEM_RDFCTX-reference.html#GUID-58C106B6-67E1-451B-ABA5-7A1C6B14D92E">SEM_RDFCTX.MAINTAIN_TRIPLES</a>过程以RDF三元组的形式向特定文档添加注释，以提高搜索质量，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.maintain_triples（index_name =&gt;'ArticleIndex'，where_clause =&gt;'docid in（1,15,20）'，rdfxml_content =&gt; sys.xmltype（'&lt;rdf：RDF xmlns：rdf =“http：// www。 w3.org/1999/02/22-rdf-syntax-ns#“xmlns：rdfs =”http://www.w3.org/2000/01/rdf-schema#“xmlns：pred =”http：// example.com/pred/“&gt; &lt;rdf：说明rdf：about =”http://newscorp.com/Org/ExampleCorp“&gt; &lt;pred：hasShortName rdf：datatype =”http://www.w3.org/2001 / XMLSchema＃string“&gt;示例&lt;/ pred：hasShortName&gt; &lt;/ rdf：Description&gt; &lt;/ rdf：RDF&gt;'））;结束; /</pre><p>前面示例中指定的索引名称和WHERE子句标识要注释的文档的特定实例，并且传入的RDF / XML内容用于向与这些文档对应的各个图形添加其他三元组。这允许域专家和用户社区通过添加相关三元组来注释某些文档来提高搜索质量。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99929"></a><div class="props_rev_3"><a id="GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" name="GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98"></a><h3 id="RDFRM-GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" class="sect3"><span class="enumeration_section">4.8</span>索引外部文档</h3>
               <div>
                  <p>您可以对存储在文件系统或网络上的文档使用语义索引。在这种情况下，您将对外部文档的引用存储在表列中，并使用适当的提取器策略在列上创建语义索引。</p>
                  <p>要索引外部文档，请使用分配给<a href="SEM_RDFCTX-reference.html#GUID-B1F06381-1709-4335-AE8F-D937A76936A8">SEM_RDFCTX.CREATE_POLICY</a>过程的<code class="codeph">preferences</code>参数的XML文档定义具有适当首选项的提取器策略，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.create_policy（policy_name =&gt;'SEM_EXTR_FROM_FILE'，extractor =&gt; mdsys.gatenlp_extractor（）），preferences =&gt; sys.xmltype（' <span class="bold">&lt;RDFCTXPreferences&gt;</span> <span class="bold">&lt;Datastore type =“FILE”&gt;</span> <span class="bold">&lt;Path&gt; EXTFILES_DIR &lt;/ Path&gt;</span> <span class="bold">&lt; / Datastore&gt;</span> <span class="bold">&lt;/ RDFCTXPreferences&gt;</span> '））;结束; /</pre><p>首选项文档中的<code class="codeph">&lt;Datastore&gt;</code>元素指定用于索引的文档的存储库类型。当<code class="codeph">type</code>属性的值设置为<code class="codeph">FILE</code> ， <code class="codeph">&lt;Path&gt;</code>元素标识数据库中的目录对象（使用SQL语句CREATE DIRECTORY创建）。使用指定的提取器策略索引的表列应包含目录对象中各个文件的相对路径，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE newsfeed（docid number，articleLoc VARCHAR2（100））; INSERT INTO到新闻源（文档ID，articleLoc）值（1， <span class="bold">'article1.txt'）;</span> INSERT INTO newsfeed（docid，articleLoc）值（2，' <span class="bold">folder / article2.txt</span> '）;在newsfeed上创建索引ArticleIndex（articleLoc）INDEXTYPE是mdsys。SemContext PARAMETERS（' <span class="bold">SEM_EXTR_FROM_FILE</span> '）;</pre><p>要索引使用HTTP协议访问的文档，请创建一个提取器策略，其首选项将<code class="codeph">&lt;Datastore&gt;</code>元素的<code class="codeph">type</code>属性设置为<code class="codeph">URL</code>并列出<code class="codeph">&lt;Path&gt;</code>元素中的一个或多个主机，如以下摘录所示：</p><pre class="oac_no_warn" dir="ltr">&lt;RDFCTXPreferences&gt; &lt;Datastore <span class="bold">type =“URL”</span> &gt; <span class="bold">&lt;Path&gt; http://cnn.com &lt;/ Path&gt;</span> <span class="bold">&lt;Path&gt; http://abc.com &lt;/ Path&gt;</span> &lt;/ Datastore&gt; &lt;/ RDFCTXPreferences&gt;</pre><p>创建外部文档的语义索引的模式必须具有访问外部对象的必要权限，包括访问用于访问防火墙外部文档的任何代理服务器，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">- 授予对FILE数据存储的目录对象的读访问权限 - 将目录EXTFILES_DIR上的读取授予SEMUSR; - 授予对URL数据存储的主机集的连接访问权限 - 开始dbms_network_acl_admin.create_acl（acl =&gt;'network_docs.xml'，description =&gt;'Normal Access'，principal =&gt;'SEMUSR'，is_grant =&gt; TRUE，privilege &gt;'connect'）;结束; / begin dbms_network_acl_admin.assign_acl（acl =&gt;'network_docs.xml'，host =&gt;'cnn.com'，lower_port =&gt; 1，upper_port =&gt; 10000）;结束; /</pre><p>在数据库中进行语义索引的外部文档可以是众所周知的格式之一，例如Microsoft Word，RTF和PDF。这利用了Oracle Text功能，可以使用过滤器从格式化文档中提取纯文本版本（请参阅<a href="../ccref/CTX_DOC-package.html#CCREF2116" target="_blank"><span class="italic">Oracle Text Reference中</span></a>描述的CTX_DOC.POLICY_FILTER过程）。要对格式化文档进行语义索引，必须在提取器首选项中指定CTX策略的名称，如以下摘录所示：</p><pre class="oac_no_warn" dir="ltr">&lt;RDFCTXPreferences&gt; &lt;Datastore type =“FILE” <span class="bold">filter =“CTX_FILTER_POLICY”</span> &gt; &lt;Path&gt; EXTFILES_DIR &lt;/ Path&gt; &lt;/ Datastore&gt; &lt;/ RDFCTXPreferences&gt;</pre><p>在前面的示例中，使用CTX_DDL.CREATE_POLICY过程创建的<code class="codeph">CTX_FILTER_POLICY</code>策略必须存在于模式中。使用此首选项文档进行语义索引的表列可以存储格式化文档的路径，使用指定的CTX策略从中提取纯文本。然后，与提取器策略相关联的信息提取器进一步处理纯文本，以RDF / XML格式提取语义。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99930"></a><div class="props_rev_3"><a id="GUID-5A73F616-66EF-4887-B123-9DB538E1C269" name="GUID-5A73F616-66EF-4887-B123-9DB538E1C269"></a><h3 id="RDFRM-GUID-5A73F616-66EF-4887-B123-9DB538E1C269" class="sect3"><span class="enumeration_section">4.9</span>配置Calais Extractor类型</h3>
               <div>
                  <p>CALAIS_EXTRACTOR类型是RDFCTX_WS_EXTRACTOR类型的子类型，使您可以访问网络上任何位置的Web服务端点，包括可公开访问的端点（ <code class="codeph">OpenCalais.com</code> ）。
                  </p>
                  <div class="section">
                     <p>为此，您必须使用SYSDBA权限进行连接，并通过设置相应的参数来配置带有Web服务端点，SOAP操作和许可证密钥的Calais提取器类型，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.set_extractor_param（param_key =&gt;'CALAIS_WS_ENDPOINT'，param_value =&gt;'http：//api1.opencalais.com/enlighten/calais.asmx'，param_desc =&gt;'加来网络服务端点'）; sem_rdfctx.set_extractor_param（param_key =&gt;'CALAIS_KEY'，param_value =&gt;'&lt;Calais license key goes here&gt;'，param_desc =&gt;'Calais extractor license key'）; sem_rdfctx.set_extractor_param（param_key =&gt;'CALAIS_WS_SOAPACTION'，param_value =&gt;'http：//clearforest.com/Enlighten'，param_desc =&gt;'Calais web service SOAP Action'）;结束;</pre><p>要启用对防火墙外部的Web服务的访问，还必须设置代理主机的参数，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.set_extractor_param（param_key =&gt;'HTTP_PROXY'，param_value =&gt;'www-proxy.acme.com'，param_desc =&gt;'代理服务器'）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99931"></a><div class="props_rev_3"><a id="GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" name="GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4"></a><h3 id="RDFRM-GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" class="sect3"><span class="enumeration_section">4.10</span>使用文本工程的通用架构（GATE）</h3>
               <div>
                  <p>文本工程通用架构（GATE）是一个开源的自然语言处理器和信息提取器。</p>
                  <p>有关GATE的详细信息，请参阅<a href="http://gate.ac.uk" target="_blank"><code class="codeph">http://gate.ac.uk</code></a> 。</p>
                  <p>您可以使用GATE对存储在数据库中的文档执行语义索引。提取器类型<code class="codeph">mdsys.gatenlp_extractor</code>被定义为RDFCTX_EXTRACTOR类型的子类型。此提取器类型的实现通过TCP连接将非结构化文档发送到GATE引擎，接收相应的注释，并根据用户指定的XML样式表将它们转换为RDF。
                  </p>
                  <p>信息提取请求由服务器套接字实现处理，该实现实例化GATE组件并在预定端口处侦听提取请求。对于要使用的<code class="codeph">mdsys.gatenlp_extractor</code>类型的所有实例，GATE侦听器的主机和帖子都记录在数据库中，如以下示例所示。
                  </p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.set_extractor_param（param_key =&gt;'GATE_NLP_HOST'，param_value =&gt;'gateserver.acme.com'，param_desc =&gt;'GATE NLP Listener的主机'）; sem_rdfctx.set_extractor_param（param_key =&gt;'GATE_NLP_PORT'，param_value =&gt;'7687'，param_desc =&gt;'门NLP侦听器的端口'）;结束;</pre><p>服务器套接字应用程序接收非结构化文档，并使用所需类型的注释构造注释集。可以定制集合中的每个注释以包括附加特征，诸如来自输入文档的相关短语和一些特定于域的特征。生成的注释集被序列化为XML（使用<code class="codeph">gate.corpora.的<code class="codeph">annotationSetToXml</code>方法<code class="codeph">gate.corpora.DocumentXmlUtils</code> Java包）并返回到套接字客户端。
                  </p>
                  <p><a id="d40605e1439" class="indexterm-anchor"></a><a id="d40605e1443" class="indexterm-anchor"></a><a id="d40605e1447" class="indexterm-anchor"></a>可以从OTN上的代码示例和示例页面下载GATE侦听器的示例Java实现<a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="PL/SQL examples are provided in this topic.">（</a>有关此页面的信息，请参阅<a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="本主题提供了PL / SQL示例。">语义数据示例（PL / SQL和Java）</a> ）。
                  </p>
                  <p>数据库中的<code class="codeph">mdsys.gatenlp_extractor</code>实现接收以XML编码的注释集，并使用XML样式表将其转换为RDF / XML。在实例化类型时，可以使用自定义样式表<code class="codeph">mdsys.gatenlp_extractor</code>实现使用的默认样式表（在<a href="semantic-indexing-documents.html#GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" title="本节列出了mdsys.gatenlp_extractor实现用于将注释集（以XML编码）转换为RDF / XML的默认XML样式表。">GATE Extractor输出的默认样式表中</a>列出）。
                  </p>
                  <p>以下示例创建一个提取器策略，该策略使用自定义样式表从GATE提取器生成的注释集生成RDF：</p><pre class="oac_no_warn" dir="ltr">开始sem_rdfctx.create_policy（policy_name =&gt;'GATE_EXTR'，extractor =&gt; mdsys.gatenlp_extractor（sys。的XMLType（'&lt;？xml版本=“1.0”？&gt; &lt;xsl：stylesheet version =“2.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; ..&lt;/ XSL：样式&gt;'）））;结束; /</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99932"></a><div class="props_rev_3"><a id="GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" name="GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992"></a><h3 id="RDFRM-GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" class="sect3"><span class="enumeration_section">4.11</span>创建新的提取器类型</h3>
               <div>
                  <p>您可以通过扩展RDFCTX_EXTRACTOR或RDFCTX_WS_EXTRACTOR提取器类型来创建新的提取器类型。</p>
                  <p>必须可以使用Web服务调用访问要扩展的提取程序类型。必须为创建新提取程序类型的模式授予其他权限，以允许创建子类型。例如，如果在架构RDFCTXU中创建了新的提取器类型，则必须输入以下命令以将UNDER和RDFCTX_ADMIN权限授予该架构：</p><pre class="oac_no_warn" dir="ltr">在ON mdsys.rdfctx_extractor下的GRANT TO rdfctxu; GRANT rdfctx_admin TO rdfctxu;</pre><p>例如，假设信息提取器可以处理传入的文档并返回包含提取的信息的XML文档。要使用PL / SQL包装器调用信息提取器，可以创建相应的提取器类型实现，如下例所示：</p><pre class="oac_no_warn" dir="ltr">在rdfctx_extractor（xsl_trans sys。）下创建或替换rdfctxu.info_extractor类型。XMLtype，构造函数info_extractor（xsl_trans sys。XMLType）返回self作为结果，重写成员函数getDescription返回VARCHAR2，重写成员函数rdfReturnType返回VARCHAR2，重写成员函数extractRDF（文档CLOB，docId VARCHAR2）返回CLOB）/创建或替换类型体rdfctxu.info_extractor作为构造函数info_extractor（xsl_trans SYS。XMLType）返回self，结果是begin self.extr_type：='Info Extractor Inc.'; - 用于从专有XML文档生成RDF / XML的XML样式表self.xsl_trans：= xsl_trans;返回;结束info_extractor;重写成员函数getDescription返回VARCHAR2开始返回'Info Extractor Inc.的Extactor';结束getDescription;重写成员函数rdfReturnType返回VARCHAR2开始返回'RDF / XML'; end rdfReturnType;重写成员函数extractRDF（文件CLOB，docId VARCHAR2）返回CLOB是ce_xmlt sys.xmltype;开始EXECUTE IMMEDIATE'start：1 = info_extract_xml（doc =&gt;：2）;结束;'使用OUT ce_xmlt，IN文件; - 现在通过RDF / XML转换传递ce_xmlt  - 返回ce_xmlt.transform（self.xsl_trans）.getClobVal（）; end extractRdf;结束;</pre><p>在前面的示例中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建的<code class="codeph">info_extractor</code>提取器类型的实现依赖于在构造函数中设置的XML样式表，以从底层信息提取器使用的专有XML模式生成RDF / XML。
                        </p>
                     </li>
                     <li>
                        <p>所述<code class="codeph">extractRDF</code>函数假定<code class="codeph">info_extract_xml</code>函数接触所需的信息提取并返回与从在通过文档中提取的信息的XML文档。
                        </p>
                     </li>
                     <li>
                        <p>XML样式表应用于XML文档以生成等效的RDF / XML，它由<code class="codeph">extractRDF</code>函数返回。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM223"></a><div class="props_rev_3"><a id="GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6" name="GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6"></a><h3 id="RDFRM-GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6" class="sect3"><span class="enumeration_section">4.12</span>在范围分区表上创建本地语义索引</h3>
               <div>
                  <p>可以在范围分区表的VARCHAR2或CLOB列上创建本地索引。</p>
                  <p>为此，请使用以下语法：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX <span class="italic">&lt;index-name&gt;</span> ... LOCAL;</pre><p>以下示例在该表上创建范围分区表和本地语义索引：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE part_newsfeed（docid number，article CLOB，cdate DATE）partition by range（cdate）（分区p1值小于（to_date（'01 -Jan-2001'）），分区p2值小于（to_date（'01 -Jan） -2004'）），分区p3值小于（to_date（'01-Jan-2008'）），分区p4值小于（to_date（'01 -Jan-2012'）））; part_newsfeed上的CREATE INDEX ArticleLocalIndex（文章）INDEXTYPE是mdsys。SemContext PARAMETERS（'SEM_EXTR'）LOCAL;</pre><p>请注意，本地语义索引的每个分区都将具有为同一组策略生成的内容。在本地索引上使用ALTER INDEX语句添加或删除与语义索引分区关联的策略时，应尝试保留与每个分区关联的同一组策略。您可以通过在分区集上的循环中使用ALTER INDEX语句来实现此结果。（有关更改语义索引的更多信息，请参阅<a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="您可以将ALTER INDEX语句与语义索引一起使用。">更改语义索引</a> ，）</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM224"></a><div class="props_rev_3"><a id="GUID-78F0B53C-3CE6-4700-844B-44F53119583A" name="GUID-78F0B53C-3CE6-4700-844B-44F53119583A"></a><h3 id="RDFRM-GUID-78F0B53C-3CE6-4700-844B-44F53119583A" class="sect3"><span class="enumeration_section">4.13</span>改变语义索引</h3>
               <div>
                  <p>您可以将ALTER INDEX语句与语义索引一起使用。</p>
                  <p>对于本地语义索引，ALTER INDEX语句适用于指定的分区。语义索引的ALTER INDEX命令的一般语法如下：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">&lt;index-name&gt;</span> REBUILD [PARTITION <span class="italic">&lt;index-partition-name&gt;</span> ] [PARAMETERS（' - <span class="italic">&lt;action_for_policy&gt;</span> <span class="italic">&lt;policy-name&gt;</span> '）];</pre></div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-CCA874D0-B21B-45CB-AF7C-688755361024">为语义索引中的所有现有策略重建内容</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427">重建以将新策略的内容添加到语义索引</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0">从语义索引重建现有策略的内容</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37">重建以从语义索引中删除现有策略的内容</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM225"></a><div class="props_rev_3"><a id="GUID-CCA874D0-B21B-45CB-AF7C-688755361024" name="GUID-CCA874D0-B21B-45CB-AF7C-688755361024"></a><h4 id="RDFRM-GUID-CCA874D0-B21B-45CB-AF7C-688755361024" class="sect4"><span class="enumeration_section">4.13.1</span>为语义索引中的所有现有策略重建内容</h4>
                  <div>
                     <p>如果ALTER INDEX语句中未包含PARAMETERS子句，则为当前与索引关联的每个策略重建语义索引（或索引分区）的内容。以下是两个例子：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD; ALTER INDEX ArticleLocalIndex REBUILD PARTITION p1;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="您可以将ALTER INDEX语句与语义索引一起使用。">更改语义索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM226"></a><div class="props_rev_3"><a id="GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427" name="GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427"></a><h4 id="RDFRM-GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427" class="sect4"><span class="enumeration_section">4.13.2</span>重建以将新策略的内容添加到语义索引</h4>
                  <div>
                     <p>对于<span class="italic">&lt;action_for_policy&gt;</span>使用<code class="codeph">add_policy</code> ，可以将新基本策略或从属策略的内容添加到语义索引（或索引分区）。如果正在添加从属策略，并且其基本策略尚未成为索引的一部分，则还会隐式添加基本策略的内容（通过调用指定为基本策略定义的一部分的提取程序）。以下是一个例子：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS（' -  add_policy MY_POLICY'）;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="您可以将ALTER INDEX语句与语义索引一起使用。">更改语义索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM227"></a><div class="props_rev_3"><a id="GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0" name="GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0"></a><h4 id="RDFRM-GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0" class="sect4"><span class="enumeration_section">4.13.3</span>从语义索引重建现有策略的内容</h4>
                  <div>
                     <p>对于<span class="italic">&lt;action_for_policy&gt;</span>使用<code class="codeph">rebuild_policy</code> ，您可以为当前与索引关联的现有策略重建语义索引（或索引分区）的内容。以下是一个例子：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS（'-rebuild_policy MY_POLICY'）;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="您可以将ALTER INDEX语句与语义索引一起使用。">更改语义索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM228"></a><div class="props_rev_3"><a id="GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37" name="GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37"></a><h4 id="RDFRM-GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37" class="sect4"><span class="enumeration_section">4.13.4</span>重建从语义索引中删除现有策略的内容</h4>
                  <div>
                     <p>对于<span class="italic">&lt;action_for_policy&gt;</span>使用<code class="codeph">drop_policy</code> ，可以从语义索引（或索引分区）中删除与现有基本策略或从属策略对应的内容。请注意，如果基本策略的内容是索引（或索引分区）的唯一策略，或者由与此索引（或索引分区）关联的从属策略使用，则删除基本策略的内容将失败。
                     </p>
                     <p>以下示例从索引中删除策略的内容：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS（' -  drop_policy MY_POLICY'）;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="您可以将ALTER INDEX语句与语义索引一起使用。">更改语义索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM229"></a><div class="props_rev_3"><a id="GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A" name="GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A"></a><h3 id="RDFRM-GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A" class="sect3"><span class="enumeration_section">4.14</span>在CREATE INDEX和ALTER INDEX中传递特定于提取器的参数</h3>
               <div>
                  <p>CREATE INDEX和ALTER INDEX语句允许传递提取器所需的参数。</p>
                  <p>这些参数被传递到使用提取<code class="codeph">params</code>的参数<code class="codeph">extractRdf</code>和<code class="codeph">batchExtractRdf</code>方法。以下两个示例显示了它们的用法：</p><pre class="oac_no_warn" dir="ltr">在新闻源上创建索引ArticleIndex（文章）INDEXTYPE是mdsys。SemContext PARAMETERS（'SEM_EXTR =（NE_ONLY）'）; ALTER INDEX ArticleIndex REBUILD PARAMETERS（' -  add_policy MY_POLICY =（NE_ONLY）'）;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM231"></a><a id="RDFRM230"></a><div class="props_rev_3"><a id="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234" name="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234"></a><h3 id="RDFRM-GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234" class="sect3"><span class="enumeration_section">4.15</span>执行以文档为中心的推理</h3>
               <div>
                  <p>以文档为中心的推理是指从每个文档单独推断的能力。</p>
                  <p>它不允许从两个不同文档中提取的三元组一起用于推断。它与更常见的以语料库为中心的推理形成对比，其中可以从从多个文档中提取的三元组的组合推断出新的三元组。</p>
                  <p>在文档搜索应用程序中可能需要以文档为中心的推理，因为在搜索结果中包含文档仅基于该文档的提取和/或推断的三元组，即，从该文档中的任何其他文档中提取和/或推断三元组。语料库在选择本文档时不起任何作用。（以文档为中心的推理可能是首选，例如，如果由于数据可靠性或文档创建者的偏见不同而导致文档之间存在不一致。）</p>
                  <p>要执行以文档为中心的推理，请通过在<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程的调用中指定<code class="codeph">options =&gt; 'LOCAL_NG_INF=T'</code>来使用基于命名图的局部推理（在<a href="owl-concepts.html#GUID-1C7CAF17-945F-4452-97A3-5F2E1D7A2C84">基于命名图的本地推理（NGLI</a> ）中进行说明）。
                  </p>
                  <p>通过创建依赖策略并将该策略添加到语义索引，可以将通过以文档为中心的推理创建的实体作为语义索引的内容包括在内，如<a href="semantic-indexing-documents.html#GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234__BEIEDJCI">例4-2</a>所示。
                  </p>
                  <div class="example" id="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234__BEIEDJCI">
                     <p class="titleinexample">示例4-2使用以文档为中心的推理</p><pre class="oac_no_warn" dir="ltr">- 使用以文档为中心的推理创建蕴涵'extr_data_inf' - 假设： - 基于基本策略的语义索引的model_name：'RDFCTX_MOD_1' - （模型名称可从RDFCTX_INDEX_POLICIES视图获得;  - 请参阅<a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C">RDFCTX_INDEX_POLICIES视图</a> ） -本体：dataOntology  - 规则库：OWL2RL  - 选项：'LOCAL_NG_INF = T'（用于以文档为中心的推理）BEGIN sem_apis.create_entailment（'extr_data_inf'，models_in =&gt; sem_models（'RDFCTX_MOD_1'，'dataOntology'），rulebases_in =&gt; sem_rulebases（'OWL2RL'），options =&gt;'LOCAL_NG_INF = T'）;结束; /  - 创建依赖策略以扩充使用基本策略提取的数据 - 内容为蕴涵extr_data_inf（在先前语句中计算）BEGIN sem_rdfctx.create_policy（policy_name =&gt;'SEM_EXTR_PLUS_DATA_INF'，base_policy =&gt;'SEM_EXTR'，user_models =&gt; NULL ，user_entailments =&gt; sem_models（'extr_data_inf'））;结束; /  - 将依赖策略添加到ARTICLEINDEX索引。执行sem_rdfctx.add_dependent_policy（'ARTICLEINDEX'，'SEM_EXTR_PLUS_DATA_INF'）;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99933"></a><div class="props_rev_3"><a id="GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" name="GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C"></a><h3 id="RDFRM-GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" class="sect3"><span class="enumeration_section">4.16</span>语义索引的元数据视图</h3>
               <div>
                  <p>本节介绍包含有关语义索引的元数据的视图</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-670213CA-F4C2-4EA0-907A-3317066C788B">MDSYS.RDFCTX_POLICIES查看</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C">RDFCTX_INDEX_POLICIES查看</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-2C3797E4-E835-41D2-9721-B48F555AC185">RDFCTX_INDEX_EXCEPTIONS查看</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM99935"></a><a id="RDFRM99934"></a><div class="props_rev_3"><a id="GUID-670213CA-F4C2-4EA0-907A-3317066C788B" name="GUID-670213CA-F4C2-4EA0-907A-3317066C788B"></a><h4 id="RDFRM-GUID-670213CA-F4C2-4EA0-907A-3317066C788B" class="sect4"><span class="enumeration_section">4.16.1</span> MDSYS.RDFCTX_POLICIES视图</h4>
                  <div>
                     <p><a id="d40605e2193" class="indexterm-anchor"></a><a id="d40605e2195" class="indexterm-anchor"></a>有关当前模式中定义的提取器策略的信息保留在MDSYS.RDFCTX_POLICIES视图中，该视图具有<a href="semantic-indexing-documents.html#GUID-670213CA-F4C2-4EA0-907A-3317066C788B__BEIBBEEF" title="MDSYS.RDFCTX_POLICIES视图列">表4-1中</a>所示的列和每个提取器策略的一行。
                     </p>
                     <div class="tblformal" id="GUID-670213CA-F4C2-4EA0-907A-3317066C788B__BEIBBEEF">
                        <p class="titleintable">表4-1 MDSYS.RDFCTX_POLICIES查看列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_POLICIES查看列" width="100%" border="1" summary="MDSYS.RDFCTX_POLICIES view columns" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2216">列名称</th>
                                 <th align="left" valign="bottom" id="d40605e2219">数据类型</th>
                                 <th align="left" valign="bottom" id="d40605e2222">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2227" headers="d40605e2216 ">
                                    <p>policy_owner时</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2227 d40605e2219 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2227 d40605e2222 ">
                                    <p>提取器策略的所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2237" headers="d40605e2216 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2237 d40605e2219 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2237 d40605e2222 ">
                                    <p>提取器策略的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2247" headers="d40605e2216 ">
                                    <p>EXTRACTOR</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2247 d40605e2219 ">
                                    <p>MDSYS.RDFCTX_EXTRACTOR</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2247 d40605e2222 ">
                                    <p>提取器类型的实例</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2257" headers="d40605e2216 ">
                                    <p>IS_DEPENDENT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2257 d40605e2219 ">
                                    <p>VARCHAR2（3）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2257 d40605e2222 ">
                                    <p>如果提取器策略依赖于基本策略，则包含<code class="codeph">YES</code> ;如果提取器策略不依赖于基本策略，则包含<code class="codeph">NO</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2273" headers="d40605e2216 ">
                                    <p>BASE_POLICY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2273 d40605e2219 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2273 d40605e2222 ">
                                    <p>对于从属策略，基本策略的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2283" headers="d40605e2216 ">
                                    <p>USER_MODELS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2283 d40605e2219 ">
                                    <p>MDSYS.RDF_MODELS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2283 d40605e2222 ">
                                    <p>对于从属策略，包含在策略中的RDF模型列表</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="本节介绍包含有关语义索引的元数据的视图">语义索引的元数据视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM99937"></a><a id="RDFRM99936"></a><div class="props_rev_3"><a id="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C" name="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C"></a><h4 id="RDFRM-GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C" class="sect4"><span class="enumeration_section">4.16.2</span> RDFCTX_INDEX_POLICIES视图</h4>
                  <div>
                     <p><a id="d40605e2341" class="indexterm-anchor"></a><a id="d40605e2343" class="indexterm-anchor"></a>有关当前模式中定义的语义索引和用于创建索引的提取器策略的信息在MDSYS.RDFCTX_POLICIES视图中维护，该视图具有<a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C__BEIBCCAC" title="MDSYS.RDFCTX_INDEX_POLICIES视图列">表4-2中</a>所示的列，并且对于语义索引和提取器策略的每个组合具有一行。
                     </p>
                     <div class="tblformal" id="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C__BEIBCCAC">
                        <p class="titleintable">表4-2 MDSYS.RDFCTX_INDEX_POLICIES查看列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_INDEX_POLICIES查看列" width="100%" border="1" summary="MDSYS.RDFCTX_INDEX_POLICIES view columns" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2364">列名称</th>
                                 <th align="left" valign="bottom" id="d40605e2367">数据类型</th>
                                 <th align="left" valign="bottom" id="d40605e2370">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2375" headers="d40605e2364 ">
                                    <p>INDEX_OWNER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2375 d40605e2367 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2375 d40605e2370 ">
                                    <p>语义索引的所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2385" headers="d40605e2364 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2385 d40605e2367 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2385 d40605e2370 ">
                                    <p>语义索引的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2395" headers="d40605e2364 ">
                                    <p>INDEX_PARTITION</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2395 d40605e2367 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2395 d40605e2370 ">
                                    <p>索引分区的名称（仅适用于LOCAL索引）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2405" headers="d40605e2364 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2405 d40605e2367 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2405 d40605e2370 ">
                                    <p>提取器策略的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2415" headers="d40605e2364 ">
                                    <p>EXTR_PARAMETERS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2415 d40605e2367 ">
                                    <p>VARCHAR2（100）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2415 d40605e2370 ">
                                    <p>为提取器指定的参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2425" headers="d40605e2364 ">
                                    <p>IS_DEFAULT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2425 d40605e2367 ">
                                    <p>VARCHAR2（3）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2425 d40605e2370 ">
                                    <p>如果POLICY_NAME是索引的默认提取程序策略，则包含<code class="codeph">YES</code> ;如果POLICY_NAME不是索引的默认提取程序策略，则包含<code class="codeph">NO</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2441" headers="d40605e2364 ">
                                    <p>状态</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2441 d40605e2367 ">
                                    <p>VARCHAR2（10）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2441 d40605e2370 ">
                                    <p>如果索引<code class="codeph">VALID</code>则包含<code class="codeph">VALID</code> ，如果正在创建索引则包含<code class="codeph">INPROGRESS</code>如果在创建索引期间发生系统故障，则包含<code class="codeph">FAILED</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2460" headers="d40605e2364 ">
                                    <p>RDF_MODEL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2460 d40605e2367 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2460 d40605e2370 ">
                                    <p>保持索引数据的RDF模型的名称</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="本节介绍包含有关语义索引的元数据的视图">语义索引的元数据视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM99939"></a><a id="RDFRM99938"></a><div class="props_rev_3"><a id="GUID-2C3797E4-E835-41D2-9721-B48F555AC185" name="GUID-2C3797E4-E835-41D2-9721-B48F555AC185"></a><h4 id="RDFRM-GUID-2C3797E4-E835-41D2-9721-B48F555AC185" class="sect4"><span class="enumeration_section">4.16.3</span> RDFCTX_INDEX_EXCEPTIONS查看</h4>
                  <div>
                     <p><a id="d40605e2517" class="indexterm-anchor"></a><a id="d40605e2519" class="indexterm-anchor"></a>在MDSYS.RDFCTX_INDEX_EXCEPTIONS视图中维护有关在当前模式中创建或维护语义索引时遇到的异常的信息，该视图具有<a href="semantic-indexing-documents.html#GUID-2C3797E4-E835-41D2-9721-B48F555AC185__BEIFIEDE" title="MDSYS.RDFCTX_INDEX_EXCEPTIONS查看列">表4-3中</a>所示的列以及每个异常的一行。
                     </p>
                     <div class="tblformal" id="GUID-2C3797E4-E835-41D2-9721-B48F555AC185__BEIFIEDE">
                        <p class="titleintable">表4-3 MDSYS.RDFCTX_INDEX_EXCEPTIONS查看列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_INDEX_EXCEPTIONS查看列" width="100%" border="1" summary="MDSYS.RDFCTX_INDEX_EXCEPTIONS view columns" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2540">列名称</th>
                                 <th align="left" valign="bottom" id="d40605e2543">数据类型</th>
                                 <th align="left" valign="bottom" id="d40605e2546">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2551" headers="d40605e2540 ">
                                    <p>INDEX_OWNER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2551 d40605e2543 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2551 d40605e2546 ">
                                    <p>与异常关联的语义索引的所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2561" headers="d40605e2540 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2561 d40605e2543 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2561 d40605e2546 ">
                                    <p>与异常关联的语义索引的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2571" headers="d40605e2540 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2571 d40605e2543 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2571 d40605e2546 ">
                                    <p>与异常关联的提取器策略的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2581" headers="d40605e2540 ">
                                    <p>DOC_IDENTIFIER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2581 d40605e2543 ">
                                    <p>VARCHAR2（38）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2581 d40605e2546 ">
                                    <p>与异常关联的文档的行标识符（rowid）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2591" headers="d40605e2540 ">
                                    <p>EXCEPTION_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2591 d40605e2543 ">
                                    <p>VARCHAR2（13）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2591 d40605e2546 ">
                                    <p>异常类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2601" headers="d40605e2540 ">
                                    <p>EXCEPTION_CODE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2601 d40605e2543 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2601 d40605e2546 ">
                                    <p>与异常关联的错误代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2611" headers="d40605e2540 ">
                                    <p>EXCEPTION_TEXT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2611 d40605e2543 ">
                                    <p>CLOB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2611 d40605e2546 ">
                                    <p>与异常关联的文本</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2621" headers="d40605e2540 ">
                                    <p>EXTRACTED_AT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2621 d40605e2543 ">
                                    <p>TIMESTAMP</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2621 d40605e2546 ">
                                    <p>发生异常的时间</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="本节介绍包含有关语义索引的元数据的视图">语义索引的元数据视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM99940"></a><div class="props_rev_3"><a id="GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" name="GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03"></a><h3 id="RDFRM-GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" class="sect3"><span class="enumeration_section">4.17</span> GATE Extractor输出的默认样式表</h3>
               <div>
                  <p>本节列出了<code class="codeph">mdsys.gatenlp_extractor</code>实现用于将注释集（以XML编码）转换为RDF / XML的默认XML样式表。</p>
                  <p>（这个提取器在<a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" title="文本工程通用架构（GATE）是一个开源的自然语言处理器和信息提取器。">使用文本工程的通用架构（GATE）中进行了解释</a> 。）
                  </p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;xsl：stylesheet version =“2.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; &lt;xsl：output encoding =“utf-8”indent =“yes”/&gt; &lt;xsl：param name =“docbase”&gt; http://xmlns.oracle.com/rdfctx/ &lt;/ xsl：param&gt; &lt;xsl：param name =“docident”&gt; 0 &lt;/ xsl：param&gt; &lt;xsl：param name =“classpfx”&gt; &lt;xsl：value-of select =“$ docbase”/&gt; &lt;xsl：text&gt; class / &lt;/ xsl：text&gt; &lt;/ xsl：param&gt; &lt;xsl：template match =“/”&gt; &lt;rdf ：RDF xmlns：rdf =“http://www.w3.org/1999/02/22-rdf-syntax-ns#”xmlns：rdfs =“http://www.w3.org/2000/01/rdf -schema＃“xmlns：owl =”http://www.w3.org/2002/07/owl#“xmlns：prop =”http://xmlns.oracle.com/rdfctx/property/“&gt; &lt;xsl： for-each select =“AnnotationSet / Annotation”&gt; &lt;rdf：Description&gt; &lt;xsl：attribute name =“rdf：about”&gt; &lt;xsl：value-of select =“$ docbase”/&gt; &lt;xsl：text&gt; docref / &lt; / xsl：text&gt; &lt;xsl：value-of select =“$ docident”/&gt; &lt;xsl：text&gt; / &lt;/ xsl：text&gt; &lt;xsl：value-of select =“@ Id”/&gt; &lt;/ xsl：attribute &gt; &lt;xsl：for-each select =“。/ Feature“&gt; &lt;xsl：choose&gt; &lt;xsl：when test =”。/ Name [text（）='majorType']“&gt; &lt;rdf：type&gt; &lt;xsl：attribute name =”rdf：resource“&gt; &lt;xsl：value-of select =”$ classpfx“/&gt; &lt;xsl：text&gt; major / &lt;/ xsl：text&gt; &lt;xsl：value-of select =“translate（。/ Value / text（），''，'＃'）“/&gt; &lt;/ xsl：attribute&gt; &lt;/ rdf：type&gt; &lt;/ xsl：when&gt; &lt;xsl：when test =”。/ Name [text（）='minorType']“&gt; &lt;xsl：element name =”prop：hasMinorType“&gt; &lt;xsl：attribute name =”rdf：resource“&gt; &lt;xsl：value-of select =”$ docbase“/ &gt; &lt;xsl：text&gt; minorType / &lt;/ xsl：text&gt; &lt;xsl：value-of select =“translate（。/ Value / text（），''，'＃'）“/&gt; &lt;/ xsl：attribute&gt; &lt;/ xsl：element&gt; &lt;/ xsl：when&gt; &lt;xsl：when test =”。/ name [text（）='kind']“&gt; &lt;xsl：element name =”prop：hasKind“&gt; &lt;xsl：attribute name =”rdf：resource“&gt; &lt;xsl：value-of select =”$ docbase“/ &gt; &lt;xsl：text&gt; kind / &lt;/ xsl：text&gt; &lt;xsl：value-of select =“translate（。/ Value / text（），''，'＃'）“/&gt; &lt;/ xsl：attribute&gt; &lt;/ xsl：element&gt; &lt;/ xsl：when&gt; &lt;xsl：when test =”。/ name [text（）='locType']“&gt; &lt;xsl：element name =”prop：hasLocType“&gt; &lt;xsl：attribute name =”rdf：resource“&gt; &lt;xsl：value-of select =”$ docbase“/ &gt; &lt;xsl：text&gt; locType / &lt;/ xsl：text&gt; &lt;xsl：value-of select =“translate（。/ Value / text（），''，'＃'）“/&gt; &lt;/ xsl：attribute&gt; &lt;/ xsl：element&gt; &lt;/ xsl：when&gt; &lt;xsl：when test =”。/ Name [text（）='entityValue']“&gt; &lt;xsl：element name =”prop：hasEntityValue“&gt; &lt;xsl：attribute name =”rdf：datatype“&gt; &lt;xsl：text&gt; http：//www.w3。 org / 2001 / XMLSchema＃string &lt;/ xsl：text&gt; &lt;/ xsl：attribute&gt; &lt;xsl：value-of select =“。/ Value / text（）“/&gt; &lt;/ xsl：element&gt; &lt;/ xsl：when&gt; &lt;xsl：otherwise&gt; &lt;xsl：element name =”prop：has {translate（substring（。/ Name / text（），1,1），'abcdefghijklmnopqrstuvwxyz'，'ABCDEFGHIJKLMNOPQRSTUVWXYZ'）} {substring（。/ Name / text（），2）}“&gt; &lt;xsl：attribute name =”rdf：datatype“&gt; &lt;xsl：text&gt; http://www.w3.org/2001/XMLSchema#string &lt;/ xsl：text&gt; &lt;/ xsl：attribute&gt; &lt;xsl：value-of select =“。/ Value / text（）“/&gt; &lt;/ xsl：element&gt; &lt;/ xsl：otherwise&gt; &lt;/ xsl：choose&gt; &lt;/ xsl：for-each&gt; &lt;/ rdf：Description&gt; &lt;/ xsl：for-each&gt; &lt; / rdf：RDF&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="信息提取器从非结构化文档中定位和提取有意义的信息。基于该提取的信息搜索文档的能力是对全文搜索引擎支持的基于关键字的搜索的显着改进。">文档的语义索引</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>