<html id="04983.Oracle-dynamic-SQL-method-4.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle动态SQL：方法4</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96467-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ANSI-dynamic-SQL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="about-LOBs.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ANSI-dynamic-SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="about-LOBs.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name">应用</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle动态SQL：方法4</li>
            </ol>
            <a id="GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D" name="GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D"></a><a id="LNPCC015"></a>
            
            <h2 id="LNPCC-GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D" class="sect2"><span class="enumeration_chapter">15</span> Oracle动态SQL：方法4</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何实现Oracle动态SQL方法4，它允许程序接受或构建包含不同数量的主机变量的动态SQL语句。使用它来支持现有应用程序。对所有新应用程序使用ANSI动态SQL方法4。</p>
               <p>Oracle Dynamic SQL方法4不支持对象类型，游标变量，结构数组，DML返回子句，Unicode变量和LOB。请改用ANSI Dynamic SQL Method 4。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C4A076CB-B912-4304-8FC8-19488999801E">满足方法4的特殊要求</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-3BB69A6A-DDFA-4961-8BA6-42ACCAA5A4AC">理解SQLDA</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-867E8510-B128-458A-9E0D-32BAAB66F72C">关于使用SQLDA变量</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-99CB556C-7D04-4718-9728-12CF93E9C8DF">一些预赛</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-3B20F486-A5CF-4938-A21B-F77066416C04">基本步骤</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C9E59D78-26AC-4EA4-AE04-2A7F01296AD9">仔细看看每一步</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-159E12E2-C5B7-40EE-A26C-50D872B8DC32">示例程序：动态SQL方法4</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-D6A3B49E-C3DC-4055-A848-DD52E7539634">示例程序：使用Scrollable Cursors的动态SQL方法4</a></p>
                     <div class="infoboxnotealso" id="GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D__GUID-E7F814AD-5F99-4227-87EB-DF7849345F88">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="Oracle-dynamic-SQL.html#GUID-3B9E253A-F03D-431D-A77E-84C02C43F494">Oracle Dynamic SQL</a>用于讨论动态SQL方法1,2和3，以及方法4的概述</p>
                           </li>
                           <li>
                              <p><a href="ANSI-dynamic-SQL.html#GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF">ANSI动态SQL</a></p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div><a id="LNPCC4128"></a><div class="props_rev_3"><a id="GUID-C4A076CB-B912-4304-8FC8-19488999801E" name="GUID-C4A076CB-B912-4304-8FC8-19488999801E"></a><h3 id="LNPCC-GUID-C4A076CB-B912-4304-8FC8-19488999801E" class="sect3"><span class="enumeration_section">15.1</span>满足方法4的特殊要求</h3>
               <div>
                  <p>在研究方法4的要求之前，您应该对术语select-list项和占位符感到满意。选择列表项是查询中关键字SELECT后面的列或表达式。例如，以下动态查询包含三个选择列表项：</p><pre class="oac_no_warn" dir="ltr">SELECT ename，job，sal + comm FROM emp WHERE deptno = 20</pre><p>占位符是虚拟绑定变量，它在SQL语句中保存实际绑定变量的位置。您没有声明占位符，可以将它们命名为您喜欢的任何名称。</p>
                  <p>绑定变量的占位符最常用于SET，VALUES和WHERE子句中。例如，以下动态SQL语句每个都包含两个占位符：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp（empno，deptno）VALUES（：e，：d）DELETE FROM dept WHERE deptno =：num OR loc =：loc</pre></div><a id="LNPCC4129"></a><div class="props_rev_3"><a id="GUID-7DA9EAC1-C0A3-4996-BD06-0863161D12F2" name="GUID-7DA9EAC1-C0A3-4996-BD06-0863161D12F2"></a><h4 id="LNPCC-GUID-7DA9EAC1-C0A3-4996-BD06-0863161D12F2" class="sect4"><span class="enumeration_section">15.1.1</span>什么使方法4特别？
                  </h4>
                  <div>
                     <p>与方法1,2和3不同，动态SQL方法4允许您的程序</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>接受或构建包含未知数量的选择列表项或占位符的动态SQL语句，以及</p>
                        </li>
                        <li>
                           <p>明确控制Oracle和C类型之间的数据类型转换</p>
                        </li>
                     </ul>
                     <p>要为程序添加此灵活性，必须为Oracle运行时库提供其他信息。 <a id="d80858e144" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC4130"></a><div class="props_rev_3"><a id="GUID-A3FB107E-683F-456D-960C-3A49F25EBE3A" name="GUID-A3FB107E-683F-456D-960C-3A49F25EBE3A"></a><h4 id="LNPCC-GUID-A3FB107E-683F-456D-960C-3A49F25EBE3A" class="sect4"><span class="enumeration_section">15.1.2</span> Oracle需要哪些信息？
                  </h4>
                  <div>
                     <p>Pro * C / C ++预编译器为所有可执行的动态SQL语句生成对Oracle的调用。如果动态SQL语句不包含选择列表项或占位符，则Oracle不需要其他信息来执行该语句。以下DELETE语句属于此类别：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM emp WHERE deptno = 30</pre><p>但是，大多数动态SQL语句包含绑定变量的选择列表项或占位符，如下所示</p>
                     <p>更新声明：</p><pre class="oac_no_warn" dir="ltr">UPDATE emp SET comm =：c WHERE empno =：e</pre><p>要执行包含绑定变量或选择列表项的占位符的动态SQL语句，Oracle需要有关保存输入（绑定）值的程序变量的信息，并且在执行查询时将保存FETCHed值。Oracle所需的信息是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>绑定变量和选择列表项的数量</p>
                        </li>
                        <li>
                           <p>每个绑定变量和选择列表项的长度</p>
                        </li>
                        <li>
                           <p>每个绑定变量和select-list项的数据类型</p>
                        </li>
                        <li>
                           <p>每个绑定变量的地址，以及将接收每个选择列表项的输出变量的地址</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC4131"></a><div class="props_rev_3"><a id="GUID-DFC1F730-2355-4A38-B5C8-57C08C04A397" name="GUID-DFC1F730-2355-4A38-B5C8-57C08C04A397"></a><h4 id="LNPCC-GUID-DFC1F730-2355-4A38-B5C8-57C08C04A397" class="sect4"><span class="enumeration_section">15.1.3</span>信息存储在哪里？
                  </h4>
                  <div>
                     <p>Oracle需要的关于绑定变量的选择列表项或占位符的所有信息（除了它们的值）都存储在称为SQL描述符区域（SQLDA）的程序数据结构中。SQLDA结构在<code class="codeph">sqlda.h</code>头文件中定义。<a id="d80858e224" class="indexterm-anchor"></a></p>
                     <p>选择列表项的<span class="italic">描述</span>存储在<span class="italic">选择描述</span>符中，绑定变量的占位符描述存储在<span class="italic">绑定描述符中</span> 。 <a id="d80858e234" class="indexterm-anchor"></a><a id="d80858e238" class="indexterm-anchor"></a> 
                     </p>
                     <p>select-list项的值存储在输出变量中;绑定变量的值存储在输入变量中。将这些变量的地址存储在select或bind SQLDA中，以便Oracle知道在何处写入输出值和读取输入值。</p>
                     <p>值如何存储在这些数据变量中？输出值使用游标进行FETCH，并且输入值通常由程序填充，通常来自用户交互输入的信息。</p>
                  </div>
               </div><a id="LNPCC4132"></a><div class="props_rev_3"><a id="GUID-65F15694-C793-48E7-BD25-B59D8539DC79" name="GUID-65F15694-C793-48E7-BD25-B59D8539DC79"></a><h4 id="LNPCC-GUID-65F15694-C793-48E7-BD25-B59D8539DC79" class="sect4"><span class="enumeration_section">15.1.4</span>如何引用SQLDA？
                  </h4>
                  <div>
                     <p>绑定和选择描述符通常由指针引用。动态SQL程序应按以下方式声明指向至少一个绑定描述符的指针，以及指向至少一个选择描述符的指针：</p><pre class="oac_no_warn" dir="ltr">#include &lt;sqlda.h&gt; ...SQLDA * bind_dp; SQLDA * select_dp;</pre><p>然后，您可以使用<code class="codeph">SQLSQLDAAlloc()</code>函数分配描述符，如下所示：</p><pre class="oac_no_warn" dir="ltr">bind_dp = SQLSQLDAAlloc（runtime_context，size，name_length，ind_name_length）;</pre><p>SQLSQLDAAlloc（）在Oracle8之前称为sqlaldt（）。</p>
                     <p>常量<code class="codeph">SQL_SINGLE_RCTX</code>定义为<code class="codeph">(dvoid*)0</code> 。当您的应用程序是单线程时，将它用于<span class="italic">runtime_context</span> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-65F15694-C793-48E7-BD25-B59D8539DC79__GUID-B8F5714C-EFDA-4CFC-BEA1-87E214102C3A">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079__g34286" title="SQL数据类型的精度和比例值">表15-3</a> ，有关此SQLLIB函数和其他SQLLIB函数的信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="Oracle-dynamic-SQL-method-4.html#GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A">分配SQLDA</a> ”</span>以获取有关<code class="codeph">SQLSQLDAAlloc()</code>及其参数的详细信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNPCC4133"></a><div class="props_rev_3"><a id="GUID-E5D7496A-4E8B-416A-BB10-E8AA1D17F96F" name="GUID-E5D7496A-4E8B-416A-BB10-E8AA1D17F96F"></a><h4 id="LNPCC-GUID-E5D7496A-4E8B-416A-BB10-E8AA1D17F96F" class="sect4"><span class="enumeration_section">15.1.5</span>如何获得信息？
                  </h4>
                  <div>
                     <p>您可以使用DESCRIBE语句来帮助获取Oracle所需的信息。</p>
                     <p>DESCRIBE SELECT LIST语句检查每个选择列表项以确定其名称和名称长度。然后，它将此信息存储在选定的SQLDA中供您使用。例如，您可以使用选择列表名称作为打印输出中的列标题。选择列表项的总数也由DESCRIBE存储在SQLDA中。</p>
                     <p>DESCRIBE BIND VARIABLES语句检查每个占位符以确定其名称和长度，然后将此信息存储在输入缓冲区中并绑定SQLDA供您使用。例如，您可以使用占位符名称来提示用户输入绑定变量的值。</p>
                  </div>
               </div>
            </div><a id="LNPCC4134"></a><div class="props_rev_3"><a id="GUID-3BB69A6A-DDFA-4961-8BA6-42ACCAA5A4AC" name="GUID-3BB69A6A-DDFA-4961-8BA6-42ACCAA5A4AC"></a><h3 id="LNPCC-GUID-3BB69A6A-DDFA-4961-8BA6-42ACCAA5A4AC" class="sect3"><span class="enumeration_section">15.2</span>了解SQLDA</h3>
               <div>
                  <p>本节详细介绍了SQLDA数据结构。您将学习如何声明它，它包含哪些变量，如何初始化它们以及如何在程序中使用它们。</p>
               </div><a id="LNPCC4135"></a><div class="props_rev_3"><a id="GUID-8E3D0106-C65E-443F-9A4C-724F42D65763" name="GUID-8E3D0106-C65E-443F-9A4C-724F42D65763"></a><h4 id="LNPCC-GUID-8E3D0106-C65E-443F-9A4C-724F42D65763" class="sect4"><span class="enumeration_section">15.2.1</span> SQLDA的用途</h4>
                  <div>
                     <p>对于包含未知数量的选择列表项或绑定变量占位符的动态SQL语句，需要方法4。要处理这种动态SQL语句，程序必须显式声明SQLDAs，也称为<span class="italic">描述符</span> 。每个描述符都是一个<span class="bold">结构</span> ，您必须将其复制或编码到程序中。 <a id="d80858e401" class="indexterm-anchor"></a><a id="d80858e405" class="indexterm-anchor"></a><a id="d80858e409" class="indexterm-anchor"></a> 
                     </p>
                     <p><span class="italic">选择描述符</span>包含选择列表项的描述，以及存储选择列表项的名称和值的输出缓冲区的地址。 <a id="d80858e419" class="indexterm-anchor"></a><a id="d80858e423" class="indexterm-anchor"></a><a id="d80858e427" class="indexterm-anchor"></a><a id="d80858e429" class="indexterm-anchor"></a><a id="d80858e431" class="indexterm-anchor"></a> 
                     </p>
                     <div class="infoboxnote" id="GUID-8E3D0106-C65E-443F-9A4C-724F42D65763__GUID-9FACC7ED-CCA0-4EB1-8CC6-0CE78106107D">
                        <p class="notep1">注意：</p>
                        <p>选择列表项的“名称”可以是列名，列别名或表达式的文本，例如<span class="italic">sal + comm。</span></p>
                     </div>
                     <p><span class="italic">绑定描述符</span>包含绑定变量和指示符变量的描述，以及存储绑定变量和指示符变量的名称和值的输入缓冲区的地址。 <a id="d80858e444" class="indexterm-anchor"></a><a id="d80858e446" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC4136"></a><div class="props_rev_3"><a id="GUID-ACE4D0B6-3672-4F74-B405-262733F2F70F" name="GUID-ACE4D0B6-3672-4F74-B405-262733F2F70F"></a><h4 id="LNPCC-GUID-ACE4D0B6-3672-4F74-B405-262733F2F70F" class="sect4"><span class="enumeration_section">15.2.2</span>多个SQLDA</h4>
                  <div>
                     <p>如果您的程序有多个活动的动态SQL语句，则每个语句必须具有自己的SQLDA。您可以声明任意数量的具有不同名称的SQLDA。例如，您可以声明三个名为<span class="italic">sel_desc1</span> ， <span class="italic">sel_desc2</span>和<span class="italic">sel_desc3的</span>选择<span class="italic">SQLDDA</span> ，以便您可以从三个并发OPEN游标进行FETCH。但是，非并发游标可以重用SQLDA。
                     </p>
                  </div>
               </div><a id="LNPCC4137"></a><div class="props_rev_3"><a id="GUID-54CB400D-2D43-48B5-82CB-3CB4BA558ACC" name="GUID-54CB400D-2D43-48B5-82CB-3CB4BA558ACC"></a><h4 id="LNPCC-GUID-54CB400D-2D43-48B5-82CB-3CB4BA558ACC" class="sect4"><span class="enumeration_section">15.2.3</span>声明SQLDA</h4>
                  <div>
                     <div class="section">
                        <p>要声明SQLDA，请包含<code class="codeph">sqlda.h</code>头文件。SQLDA的内容是： <a id="d80858e511" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">struct SQLDA {long N; / *条目数量的描述符大小* / char ** V;主变量地址的Ptr到Arr * / int * L; / * Ptr到Arr的缓冲区长度* / short * T; / * Ptr到Arr的缓冲类型* / short ** I; *指标变量地址* /长F的Ptr到Arr; / * DESCRIBE * / char ** S找到的变量数量; / *变量名指针的Ptr到Arr * / short * M; / * Ptr到Arr的最大长度为var。名字* /短* C; *当前长度为var的Ptr到Arr。姓名* / char ** X; / * Ptr到ind的Arr。变种。名字指针* /短* Y; / * Ptr到Arr的最大长度为ind。变种。名字* /短* Z; / * Ptr到arr的长度为ind。变种。名字* /};</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4139"></a><a id="LNPCC4138"></a><div class="props_rev_3"><a id="GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A" name="GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A"></a><h4 id="LNPCC-GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A" class="sect4"><span class="enumeration_section">15.2.4</span>分配SQLDA</h4>
                  <div>
                     <p>声明SQLDA后，分配存储空间，它与<code class="codeph">SQLSQLDAAlloc()</code>库函数（被称为<code class="codeph">sqlaldt()</code> Oracle8的前），使用语法<a id="d80858e549" class="indexterm-anchor"></a><a id="d80858e553" class="indexterm-anchor"></a><a id="d80858e557" class="indexterm-anchor"></a> ：</p><pre class="oac_no_warn" dir="ltr">descriptor_name = SQLSQLDAAlloc（runtime_context，max_vars，max_name，max_ind_name）;</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A__GUID-772417FA-2BF3-429C-A213-52BC5FE0C0A6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="descriptions of runtime_context, max_vars, max_name, and                 max_ind_name" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d80858e574">句法</th>
                                 <th align="left" valign="bottom" width="71%" id="d80858e577">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e582" headers="d80858e574 ">
                                    <p><span class="italic">runtime_context</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e582 d80858e577 ">
                                    <p>指向运行时上下文</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e590" headers="d80858e574 ">
                                    <p><span class="italic">max_vars</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e590 d80858e577 ">
                                    <p>是描述符可以描述的选择列表项或占位符的最大数量。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e598" headers="d80858e574 ">
                                    <p><span class="italic">max_name</span>                             
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e598 d80858e577 ">
                                    <p>是select-list或占位符名称的最大长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e607" headers="d80858e574 ">
                                    <p><span class="italic">max_ind_name</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e607 d80858e577 ">
                                    <p>是指示符变量名称的最大长度，可选择附加到占位符名称。此参数仅适用于绑定描述符，因此在分配选择描述符时将其设置为零。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>除了描述符之外， <code class="codeph">SQLSQLDAAlloc()</code>分配描述符变量所指向的数据缓冲区。
                     </p>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A__I7504">图15-1</a>显示了变量是由<code class="codeph">SQLSQLDAAlloc()</code>调用，DESCRIBE命令，FETCH命令还是程序分配设置的。
                     </p>
                     <div class="figure" id="GUID-0523C053-0F0C-40B2-A22E-4D2860001A8A__I7504">
                        <p class="titleinfigure">图15-1如何设置变量</p><img src="img/lnpcc010.gif" alt="下面是图15-1的描述" title="下面是图15-1的描述" longdesc="img_text/lnpcc010.html"><br><a href="img_text/lnpcc010.html">“图15-1如何设置变量”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-867E8510-B128-458A-9E0D-32BAAB66F72C">关于使用SQLDA变量</a></li>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-C523D609-AD73-4AFB-BB84-EA0510984522">为描述符分配存储空间</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNPCC4140"></a><div class="props_rev_3"><a id="GUID-867E8510-B128-458A-9E0D-32BAAB66F72C" name="GUID-867E8510-B128-458A-9E0D-32BAAB66F72C"></a><h3 id="LNPCC-GUID-867E8510-B128-458A-9E0D-32BAAB66F72C" class="sect3"><span class="enumeration_section">15.3</span>关于使用SQLDA变量</h3>
               <div>
                  <p>本节介绍SQLDA中每个变量的用途和用法。 <a id="d80858e670" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC4141"></a><div class="props_rev_3"><a id="GUID-6FCEEDE5-F59A-428A-A214-E738CDFFA0E8" name="GUID-6FCEEDE5-F59A-428A-A214-E738CDFFA0E8"></a><h4 id="LNPCC-GUID-6FCEEDE5-F59A-428A-A214-E738CDFFA0E8" class="sect4"><span class="enumeration_section">15.3.1</span> <span class="italic">N</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic"><span class="bold">N</span></span>指定可以DESCRIBEd的选择列表项或占位符的最大数量。因此， <span class="italic">N</span>确定描述符数组中的元素数量。 <a id="d80858e709" class="indexterm-anchor"></a><a id="d80858e713" class="indexterm-anchor"></a><a id="d80858e717" class="indexterm-anchor"></a> 
                        </p>
                        <p>在发出可选的DESCRIBE命令之前，必须使用<code class="codeph">SQLSQLDAAlloc()</code>库函数将<span class="italic">N</span>设置为描述符数组的维度。在DESCRIBE之后，必须将<span class="italic">N</span>重置为变量DESCRIBEd的实际数量，该变量存储在<span class="italic">F</span>变量中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4142"></a><div class="props_rev_3"><a id="GUID-DA4818D9-C19A-4D58-81D9-59913D9ACD1B" name="GUID-DA4818D9-C19A-4D58-81D9-59913D9ACD1B"></a><h4 id="LNPCC-GUID-DA4818D9-C19A-4D58-81D9-59913D9ACD1B" class="sect4"><span class="enumeration_section">15.3.2</span> <span class="italic">V</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">V</span>是指向存储select-list或bind-variable值的数据缓冲区地址数组的指针。 <a id="d80858e766" class="indexterm-anchor"></a><a id="d80858e770" class="indexterm-anchor"></a><a id="d80858e774" class="indexterm-anchor"></a> 
                        </p>
                        <p>分配描述符时， <code class="codeph">SQLSQLDAAlloc()</code>将地址数组中的元素<code class="codeph">V[0]</code>到<code class="codeph">V[N - 1]</code>归零。
                        </p>
                        <p><span class="bold">对于选择描述符</span> ，必须在发出FETCH命令之前分配数据缓冲区并设置此数组。该声明</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH ...使用描述符...
</pre><p>指示Oracle将FETCHed选择列表值存储在<code class="codeph">V[0]</code>到<code class="codeph">V[N - 1]</code>指向的数据缓冲区中。Oracle将第<span class="italic">i</span>个选择列表值存储在<code class="codeph">V[i]</code>指向的数据缓冲区中。
                        </p>
                        <p><span class="bold">对于绑定描述符</span> ，必须在发出OPEN命令之前设置此数组。该声明</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN ...使用描述符...
 </pre><p>指示Oracle使用<code class="codeph">V[0]</code>到<code class="codeph">V[N - 1]</code>指向的绑定变量值执行动态SQL语句。Oracle在<code class="codeph">V[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区中找到第<span class="italic">i</span>个绑定变量值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4143"></a><div class="props_rev_3"><a id="GUID-DF9C91EF-2F5D-4A21-97A9-46BE791CA3F9" name="GUID-DF9C91EF-2F5D-4A21-97A9-46BE791CA3F9"></a><h4 id="LNPCC-GUID-DF9C91EF-2F5D-4A21-97A9-46BE791CA3F9" class="sect4"><span class="enumeration_section">15.3.3</span> <span class="italic">L</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">L</span>是指向存储在数据缓冲区中的select-list或bind-variable值的长度数组的指针。 <a id="d80858e865" class="indexterm-anchor"></a><a id="d80858e869" class="indexterm-anchor"></a><a id="d80858e873" class="indexterm-anchor"></a> 
                        </p>
                        <p><span class="bold">对于选择描述符</span> ，DESCRIBE SELECT LIST将长度数组设置为每个选择列表项的预期最大值。但是，您可能希望在发出FETCH命令之前重置某些长度。FETCH最多返回<span class="italic">n个</span>字符，其中<span class="italic">n</span>是FETCH之前的<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>的值。</p>
                        <p>长度的格式因Oracle数据类型而异。对于CHAR或VARCHAR2选择列表项，DESCRIBE SELECT LIST将<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>设置为选择列表项的最大长度。对于NUMBER个选择列表项，分别在变量的低字节和下一个字节中返回缩放和精度。您可以使用库函数<code class="codeph">SQLNumberPrecV6()</code>从<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>提取精度和比例值。
                        </p>
                        <p>必须在FETCH之前将<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>复位到数据缓冲区所需的长度。例如，在将NUMBER强制转换为C <span class="bold">char</span>字符串时，将<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>设置为数字的精度加上符号和小数点的2。将NUMBER强制转换为C <span class="bold">浮点数时</span> ，将<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>设置为系统上<span class="bold">浮点数</span>的长度。
                        </p>
                        <p><span class="bold">对于绑定描述符</span> ，必须在发出OPEN命令之前设置长度数组。例如，您可以使用<code class="codeph">strlen()</code>来获取用户输入的绑定变量字符串的长度，然后设置适当的数组元素。
                        </p>
                        <p>因为Oracle使用存储在<code class="codeph">V[</code> <span class="italic">i</span> <code class="codeph">]</code>的地址间接访问数据缓冲区，所以它不知道该缓冲区中值的长度。如果要更改Oracle用于第<span class="italic">i</span>个选择列表或绑定变量值的长度，请将<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>重置为所需的长度。每个输入或输出缓冲区可以具有不同的长度。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079">提取精度和规模</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4144"></a><div class="props_rev_3"><a id="GUID-E70CEE9D-D9BA-42FA-B54A-2204561DF7DF" name="GUID-E70CEE9D-D9BA-42FA-B54A-2204561DF7DF"></a><h4 id="LNPCC-GUID-E70CEE9D-D9BA-42FA-B54A-2204561DF7DF" class="sect4"><span class="enumeration_section">15.3.4</span> <span class="italic">T</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">T</span>是指向select-list或bind-variable值的数据类型代码数组的指针。这些代码确定Oracle数据在存储在<span class="italic">V</span>数组元素寻址的数据缓冲区时的转换方式。
                        </p>
                        <p><span class="bold">对于选择描述符</span> ，DESCRIBE SELECT LIST将数据类型代码数组设置为选择列表中项目的<span class="italic">内部</span>数据类型（例如CHAR，NUMBER或DATE）。
                        </p>
                        <p>在FETCHing之前，您可能希望重置某些数据类型，因为Oracle数据类型的内部格式可能难以处理。出于显示目的，通常将选择列表值的数据类型强制转换为VARCHAR2或STRING是一个好主意。对于计算，您可能希望强制从Oracle到C格式的数字。</p>
                        <p>设置<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code>的高位以指示第<span class="italic">i</span>个选择列表项的NULL /非NULL状态。在发出OPEN或FETCH命令之前，必须始终清除该位。您使用库函数<code class="codeph">SQLColumnNullCheck()</code>来检索数据类型代码并清除NULL / not NULL位。
                        </p>
                        <p>您应该将Oracle NUMBER内部数据类型更改为与<code class="codeph">V[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的C数据缓冲区的外部数据类型兼容的外部数据类型。
                        </p>
                        <p><span class="bold">对于绑定描述符</span> ，DESCRIBE BIND VARIABLES将数据类型代码数组设置为零。在发出OPEN命令之前，必须设置存储在每个元素中的数据类型代码。代码表示<code class="codeph">V[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区的外部（C）数据类型。通常，绑定变量值存储在字符串中，因此数据类型数组元素设置为1（VARCHAR2数据类型代码）。您还可以使用数据类型代码5（STRING）。
                        </p>
                        <p>要更改第<span class="italic">i</span>个选择列表或绑定变量值的数据类型，请将<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code>重置为所需的数据类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-ED3A5BFA-7848-4F1D-9C46-1FF97DDCE5B0">转换数据</a></li>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-F713062E-314B-41E4-93C7-406999367618">强制数据类型</a></li>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188">处理NULL /非NULL数据类型</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4145"></a><div class="props_rev_3"><a id="GUID-45F9832A-9074-4F3C-96C1-1B6ACB1A3819" name="GUID-45F9832A-9074-4F3C-96C1-1B6ACB1A3819"></a><h4 id="LNPCC-GUID-45F9832A-9074-4F3C-96C1-1B6ACB1A3819" class="sect4"><span class="enumeration_section">15.3.5</span> <span class="italic">I</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">我</span>是一个指向存储指标变量值的数据缓冲区地址数组的指针。 <a id="d80858e1122" class="indexterm-anchor"></a><a id="d80858e1126" class="indexterm-anchor"></a><a id="d80858e1130" class="indexterm-anchor"></a> 
                        </p>
                        <p>您必须在地址数组中设置元素<code class="codeph">I[0]</code>到<code class="codeph">I[N - 1]</code> 。
                        </p>
                        <p><span class="bold">对于选择描述符</span> ，必须在发出FETCH命令之前设置地址数组。当Oracle执行语句时</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH ...使用描述符...
</pre><p>如果第<span class="italic">i</span>个返回的select-list值为NULL，则<code class="codeph">I[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的指示符变量值设置为-1。否则，将其设置为零（值不为NULL）或正整数（该值被截断）。
                        </p>
                        <p><span class="bold">对于绑定描述符</span> ，必须在发出OPEN命令之前设置地址数组和关联的指示符变量。当Oracle执行语句时</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN ...使用描述符...
</pre><p><code class="codeph">I[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区确定第<span class="italic">i</span>个绑定变量是否具有NULL值。如果指示符变量的值为-1，则其关联的绑定变量的值为NULL。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4146"></a><div class="props_rev_3"><a id="GUID-BFA6CBD5-5F56-4CF3-8D3C-FA61288EFFD7" name="GUID-BFA6CBD5-5F56-4CF3-8D3C-FA61288EFFD7"></a><h4 id="LNPCC-GUID-BFA6CBD5-5F56-4CF3-8D3C-FA61288EFFD7" class="sect4"><span class="enumeration_section">15.3.6</span> <span class="italic">F</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">F</span>是DESCRIBE找到的选择列表项或占位符的实际数量。 <a id="d80858e1210" class="indexterm-anchor"></a><a id="d80858e1214" class="indexterm-anchor"></a><a id="d80858e1218" class="indexterm-anchor"></a> 
                        </p>
                        <p><span class="italic">F</span>由DESCRIBE设定。如果<span class="italic">F</span>小于零，则DESCRIBE发现过多的选择列表项或占位符用于分配的描述符大小。例如，如果将<span class="italic">N</span>设置为10但DESCRIBE找到11个选择列表项或占位符，则<span class="italic">F</span>设置为-11。此功能允许您根据需要动态地为选择列表项或占位符重新分配更大的存储区域。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4147"></a><div class="props_rev_3"><a id="GUID-E16BF8CD-0E9A-4A48-9A04-DF8A2ECEA082" name="GUID-E16BF8CD-0E9A-4A48-9A04-DF8A2ECEA082"></a><h4 id="LNPCC-GUID-E16BF8CD-0E9A-4A48-9A04-DF8A2ECEA082" class="sect4"><span class="enumeration_section">15.3.7</span> <span class="italic">S</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">S</span>是指向数据缓冲区地址数组的指针，这些数据缓冲区存储动态SQL语句中出现的选择列表或占位符名称。 <a id="d80858e1266" class="indexterm-anchor"></a><a id="d80858e1270" class="indexterm-anchor"></a><a id="d80858e1274" class="indexterm-anchor"></a> 
                        </p>
                        <p>您使用<code class="codeph">SQLSQLDAAlloc()</code>分配数据缓冲区并将其地址存储在<span class="italic">S</span>数组中。
                        </p>
                        <p>DESCRIBE指示Oracle将第<span class="italic">i</span>个选择列表项或占位符的名称存储在<code class="codeph">S[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4148"></a><div class="props_rev_3"><a id="GUID-17121BE7-611E-4589-9D48-31A66BCB0E0E" name="GUID-17121BE7-611E-4589-9D48-31A66BCB0E0E"></a><h4 id="LNPCC-GUID-17121BE7-611E-4589-9D48-31A66BCB0E0E" class="sect4"><span class="enumeration_section">15.3.8</span> <span class="italic">M</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">M</span>是指向存储选择列表或占位符名称的最大数据缓冲区长度数组的指针。缓冲区由<span class="italic">S</span>数组的元素寻址。 <a id="d80858e1332" class="indexterm-anchor"></a><a id="d80858e1336" class="indexterm-anchor"></a><a id="d80858e1340" class="indexterm-anchor"></a> 
                        </p>
                        <p>分配描述符时， <code class="codeph">SQLSQLDAAlloc()</code>在最大长度数组中设置元素<code class="codeph">M[0]</code>到<code class="codeph">M[N - 1]</code> 。当存储在<code class="codeph">S[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区中时，如果需要，将第<span class="italic">i</span>个名称截断为<code class="codeph">M[</code> <span class="italic">i</span> <code class="codeph">]</code>的长度。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4149"></a><div class="props_rev_3"><a id="GUID-619EE765-8947-4542-B6C7-9B084A0453D5" name="GUID-619EE765-8947-4542-B6C7-9B084A0453D5"></a><h4 id="LNPCC-GUID-619EE765-8947-4542-B6C7-9B084A0453D5" class="sect4"><span class="enumeration_section">15.3.9</span> <span class="italic">C</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">C</span>是指向当前长度的选择列表或占位符名称数组的指针。 <a id="d80858e1405" class="indexterm-anchor"></a><a id="d80858e1409" class="indexterm-anchor"></a><a id="d80858e1413" class="indexterm-anchor"></a> 
                        </p>
                        <p>DESCRIBE在当前长度数组中设置元素<code class="codeph">C[0]</code>到<code class="codeph">C[N - 1]</code> 。在DESCRIBE之后，该数组包含每个选择列表或占位符名称中的字符数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4150"></a><div class="props_rev_3"><a id="GUID-78A981CD-DF37-4977-9475-E728F61B7E67" name="GUID-78A981CD-DF37-4977-9475-E728F61B7E67"></a><h4 id="LNPCC-GUID-78A981CD-DF37-4977-9475-E728F61B7E67" class="sect4"><span class="enumeration_section">15.3.10</span> <span class="italic">X</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">X</span>是指向存储指示符变量名称的数据缓冲区地址数组的指针。您可以将指标变量<span class="italic">值</span>与选择列表项和绑定变量相关联。但是，您只能将指示符变量<span class="italic">名称</span>与绑定变量相关联。因此， <span class="italic">X</span>仅适用于绑定描述符。 <a id="d80858e1465" class="indexterm-anchor"></a><a id="d80858e1469" class="indexterm-anchor"></a><a id="d80858e1473" class="indexterm-anchor"></a> 
                        </p>
                        <p>使用<code class="codeph">SQLSQLDAAlloc()</code>分配数据缓冲区并将其地址存储在<span class="italic">X</span>阵列中。
                        </p>
                        <p>DESCRIBE BIND VARIABLES指示Oracle将第<span class="italic">i</span>个指示符变量的名称存储在<code class="codeph">X[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4151"></a><div class="props_rev_3"><a id="GUID-C0EB6ECC-C68E-4424-8622-6A7226C1040A" name="GUID-C0EB6ECC-C68E-4424-8622-6A7226C1040A"></a><h4 id="LNPCC-GUID-C0EB6ECC-C68E-4424-8622-6A7226C1040A" class="sect4"><span class="enumeration_section">15.3.11</span> <span class="italic">Y</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">Y</span>是指向存储指示符变量名称的最大数据缓冲区长度数组的指针。与<span class="italic">X</span>一样， <span class="italic">Y</span>仅适用于绑定描述符。 <a id="d80858e1534" class="indexterm-anchor"></a><a id="d80858e1538" class="indexterm-anchor"></a><a id="d80858e1542" class="indexterm-anchor"></a> 
                        </p>
                        <p>使用<code class="codeph">SQLSQLDAAlloc()</code>在最大长度数组中设置元素<code class="codeph">Y[0]</code>到<code class="codeph">Y[N - 1]</code> 。当存储在<code class="codeph">X[</code> <span class="italic">i</span> <code class="codeph">]</code>指向的数据缓冲区中时，如果需要，将第<span class="italic">i</span>个名称截断为<code class="codeph">Y[</code> <span class="italic">i</span> <code class="codeph">]</code>的长度。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4152"></a><div class="props_rev_3"><a id="GUID-AADC2916-24ED-4738-823C-CD39760707CE" name="GUID-AADC2916-24ED-4738-823C-CD39760707CE"></a><h4 id="LNPCC-GUID-AADC2916-24ED-4738-823C-CD39760707CE" class="sect4"><span class="enumeration_section">15.3.12</span> <span class="italic">Z</span>变量</h4>
                  <div>
                     <div class="section">
                        <p><span class="italic">Z</span>是指向当前长度的指示符变量名称数组的指针。与<span class="italic">X</span>和<span class="italic">Y一样</span> ， <span class="italic">Z</span>仅适用于绑定描述符。 <a id="d80858e1616" class="indexterm-anchor"></a><a id="d80858e1620" class="indexterm-anchor"></a><a id="d80858e1624" class="indexterm-anchor"></a> 
                        </p>
                        <p>DESCRIBE BIND VARIABLES在当前长度数组中设置元素<code class="codeph">Z[0]</code>到<code class="codeph">Z[N - 1]</code> 。在DESCRIBE之后，数组包含每个指示符变量名称中的字符数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC4153"></a><div class="props_rev_3"><a id="GUID-99CB556C-7D04-4718-9728-12CF93E9C8DF" name="GUID-99CB556C-7D04-4718-9728-12CF93E9C8DF"></a><h3 id="LNPCC-GUID-99CB556C-7D04-4718-9728-12CF93E9C8DF" class="sect3"><span class="enumeration_section">15.4</span>一些预赛</h3>
               <div>
                  <p>您需要具备以下主题的工作知识才能实现动态SQL方法4： <a id="d80858e1661" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-ED3A5BFA-7848-4F1D-9C46-1FF97DDCE5B0">转换数据</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-F713062E-314B-41E4-93C7-406999367618">强制数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188">处理NULL /非NULL数据类型</a></p>
                     </li>
                  </ul>
               </div><a id="LNPCC4154"></a><div class="props_rev_3"><a id="GUID-ED3A5BFA-7848-4F1D-9C46-1FF97DDCE5B0" name="GUID-ED3A5BFA-7848-4F1D-9C46-1FF97DDCE5B0"></a><h4 id="LNPCC-GUID-ED3A5BFA-7848-4F1D-9C46-1FF97DDCE5B0" class="sect4"><span class="enumeration_section">15.4.1</span>转换数据</h4>
                  <div>
                     <p>本节提供有关<span class="italic">T</span> （数据类型）描述符数组的更多详细信息。在既不使用数据类型等效也不使用动态SQL方法4的主机程序中，Oracle内部数据类型和外部数据类型之间的转换是在预编译时确定的。默认情况下，预编译器会为Declare Section中的每个主机变量分配特定的外部数据类型。例如，预编译器将INTEGER外部数据类型分配给类型为<span class="italic">int的</span>主机变量。
                     </p>
                     <p>但是，方法4允许您控制数据转换和格式。您可以通过在<span class="italic">T</span>描述符数组中设置数据类型代码来指定转换。
                     </p>
                  </div><a id="LNPCC4156"></a><a id="LNPCC4155"></a><div class="props_rev_3"><a id="GUID-B0A401B7-A4D8-41B7-BA04-33991E2517E3" name="GUID-B0A401B7-A4D8-41B7-BA04-33991E2517E3"></a><h5 id="LNPCC-GUID-B0A401B7-A4D8-41B7-BA04-33991E2517E3" class="sect5"><span class="enumeration_section">15.4.1.1</span>内部数据类型</h5>
                     <div>
                        <div class="section">
                           <p>内部数据类型指定Oracle用于在数据库表中存储列值的格式，以及用于表示伪列值的格式。</p>
                           <p>当您发出DESCRIBE SELECT LIST命令时，Oracle会将每个选择列表项的内部数据类型代码返回到<span class="italic">T</span>描述符数组。例如，第<span class="italic">i</span>个选择列表项的数据类型代码返回到<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code> 。
                           </p>
                           <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-B0A401B7-A4D8-41B7-BA04-33991E2517E3__BABEBHAF" title="Oracle内部数据类型">表15-1</a>显示了Oracle内部数据类型及其代码：<a id="d80858e1764" class="indexterm-anchor"></a></p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-B0A401B7-A4D8-41B7-BA04-33991E2517E3__BABEBHAF">
                           <p class="titleintable">表15-1 Oracle Internal数据类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle内部数据类型" width="100%" border="1" summary="Oracle Internal Datatypes" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="79%" id="d80858e1778">Oracle内部数据类型</th>
                                    <th align="left" valign="bottom" width="21%" id="d80858e1781">码</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1786" headers="d80858e1778 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1786 d80858e1781 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1793" headers="d80858e1778 ">
                                       <p>数</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1793 d80858e1781 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1800" headers="d80858e1778 ">
                                       <p>长</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1800 d80858e1781 ">
                                       <p>8</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1807" headers="d80858e1778 ">
                                       <p>BINARY_FLOAT</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1807 d80858e1781 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1814" headers="d80858e1778 ">
                                       <p>BINARY_DOUBLE</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1814 d80858e1781 ">
                                       <p>101</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1821" headers="d80858e1778 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1821 d80858e1781 ">
                                       <p>11</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1828" headers="d80858e1778 ">
                                       <p>日期</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1828 d80858e1781 ">
                                       <p>12</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1835" headers="d80858e1778 ">
                                       <p>生的</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1835 d80858e1781 ">
                                       <p>23</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1842" headers="d80858e1778 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1842 d80858e1781 ">
                                       <p>24</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1849" headers="d80858e1778 ">
                                       <p>字符（或CHAR）</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1849 d80858e1781 ">
                                       <p>96</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="79%" id="d80858e1856" headers="d80858e1778 ">
                                       <p>通用ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d80858e1856 d80858e1781 ">
                                       <p>104</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="LNPCC4158"></a><a id="LNPCC4157"></a><div class="props_rev_3"><a id="GUID-72068D5F-21E9-4C42-92FC-536437D246FB" name="GUID-72068D5F-21E9-4C42-92FC-536437D246FB"></a><h5 id="LNPCC-GUID-72068D5F-21E9-4C42-92FC-536437D246FB" class="sect5"><span class="enumeration_section">15.4.1.2</span>外部数据类型</h5>
                     <div>
                        <div class="section">
                           <p>外部数据类型指定用于在输入和输出主机变量中存储值的格式。</p>
                           <p>DESCRIBE BIND VARIABLES命令将数据类型代码的<span class="italic">T</span>数组设置为零。因此，您必须<span class="italic">在</span>发出OPEN命令<span class="italic">之前</span>重置代码。这些代码告诉Oracle各种绑定变量需要哪些外部数据类型。对于第<span class="italic">i</span>个绑定变量，将<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code>重置为所需的外部数据类型。
                           </p>
                           <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle外部数据类型和数据类型代码">表15-2</a>显示了Oracle外部数据类型及其代码，以及通常与每种外部数据类型一起使用的C数据类型。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096">
                           <p class="titleintable">表15-2 Oracle外部数据类型和数据类型代码</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle外部数据类型和数据类型代码" width="100%" border="1" summary="Oracle External Datatypes and Datatype Codes" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="51%" id="d80858e1923">外部数据类型</th>
                                    <th align="left" valign="bottom" width="15%" id="d80858e1926">码</th>
                                    <th align="left" valign="bottom" width="33%" id="d80858e1929">C数据类型</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1934" headers="d80858e1923 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1934 d80858e1926 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1934 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1944" headers="d80858e1923 ">
                                       <p>数</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1944 d80858e1926 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1944 d80858e1929 ">
                                       <p>char [n]（n &lt;= 22）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1954" headers="d80858e1923 ">
                                       <p>整数</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1954 d80858e1926 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1954 d80858e1929 ">
                                       <p>INT</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1964" headers="d80858e1923 ">
                                       <p>浮动</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1964 d80858e1926 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1964 d80858e1929 ">
                                       <p>浮动</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1974" headers="d80858e1923 ">
                                       <p>串</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1974 d80858e1926 ">
                                       <p>五</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1974 d80858e1929 ">
                                       <p>炭[N + 1]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1984" headers="d80858e1923 ">
                                       <p>VARNUM</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1984 d80858e1926 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1984 d80858e1929 ">
                                       <p>char [n]（n &lt;= 22）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e1994" headers="d80858e1923 ">
                                       <p>DECIMAL</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e1994 d80858e1926 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e1994 d80858e1929 ">
                                       <p>浮动</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2004" headers="d80858e1923 ">
                                       <p>长</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2004 d80858e1926 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2004 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2014" headers="d80858e1923 ">
                                       <p>SQLT_BFLOAT</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2014 d80858e1926 ">
                                       <p>21</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2014 d80858e1929 ">
                                       <p>浮动</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2024" headers="d80858e1923 ">
                                       <p>SQLT_BDOUBLE</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2024 d80858e1926 ">
                                       <p>22</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2024 d80858e1929 ">
                                       <p>双</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2034" headers="d80858e1923 ">
                                       <p>VARCHAR</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2034 d80858e1926 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2034 d80858e1929 ">
                                       <p>炭[N + 2]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2045" headers="d80858e1923 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2045 d80858e1926 ">
                                       <p>11</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2045 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2055" headers="d80858e1923 ">
                                       <p>日期</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2055 d80858e1926 ">
                                       <p>12</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2055 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2065" headers="d80858e1923 ">
                                       <p>VARRAW</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2065 d80858e1926 ">
                                       <p>15</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2065 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2075" headers="d80858e1923 ">
                                       <p>生的</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2075 d80858e1926 ">
                                       <p>23</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2075 d80858e1929 ">
                                       <p>unsigned char [n]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2085" headers="d80858e1923 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2085 d80858e1926 ">
                                       <p>24</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2085 d80858e1929 ">
                                       <p>unsigned char [n]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2095" headers="d80858e1923 ">
                                       <p>UNSIGNED</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2095 d80858e1926 ">
                                       <p>68</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2095 d80858e1929 ">
                                       <p>unsigned int</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2105" headers="d80858e1923 ">
                                       <p>显示</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2105 d80858e1926 ">
                                       <p>91</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2105 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2115" headers="d80858e1923 ">
                                       <p>LONG VARCHAR</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2115 d80858e1926 ">
                                       <p>94</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2115 d80858e1929 ">
                                       <p>炭[N + 4]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2125" headers="d80858e1923 ">
                                       <p>LONG VARRAW</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2125 d80858e1926 ">
                                       <p>95</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2125 d80858e1929 ">
                                       <p>unsigned char [n + 4]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2135" headers="d80858e1923 ">
                                       <p>CHAR</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2135 d80858e1926 ">
                                       <p>96</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2135 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2145" headers="d80858e1923 ">
                                       <p>CHARF</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2145 d80858e1926 ">
                                       <p>96</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2145 d80858e1929 ">
                                       <p>炭[n]的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="51%" id="d80858e2156" headers="d80858e1923 ">
                                       <p>CHARZ</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d80858e2156 d80858e1926 ">
                                       <p>97</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d80858e2156 d80858e1929 ">
                                       <p>炭[N + 1]</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="datatypes-and-host-variables.html#GUID-D3262C5B-4A7F-44C7-A171-DC16441A31ED">Oracle数据类型</a></li>
                              <li><a href="../sqlrf/index.html" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNPCC4159"></a><div class="props_rev_3"><a id="GUID-F713062E-314B-41E4-93C7-406999367618" name="GUID-F713062E-314B-41E4-93C7-406999367618"></a><h4 id="LNPCC-GUID-F713062E-314B-41E4-93C7-406999367618" class="sect4"><span class="enumeration_section">15.4.2</span>强制数据类型</h4>
                  <div>
                     <p>对于选择描述符，DESCRIBE SELECT LIST可以返回任何Oracle内部数据类型。通常，与字符数据一样，内部数据类型与您要使用的外部数据类型完全对应。但是，一些内部数据类型映射到可能难以处理的外部数据类型。因此，您可能希望重置<span class="italic">T</span>描述符数组中的一些元素。例如，您可能希望将NUMBER值重置为FLOAT值，这些值对应于C中的<span class="bold">浮点</span>值.Oracle在FETCH时间执行内部和外部数据类型之间的任何必要转换。所以，一定要重新设置数据类型的DESCRIBE SELECT LIST <span class="italic">之后</span> ，但<span class="italic">之前</span>的FETCH。 <a id="d80858e2212" class="indexterm-anchor"></a><a id="d80858e2216" class="indexterm-anchor"></a><a id="d80858e2221" class="indexterm-anchor"></a> 
                     </p>
                     <p>对于绑定描述符，DESCRIBE BIND VARIABLES <span class="italic">并不</span>返回绑定变量的数据类型，只是它们的数量和名称。因此，必须显式设置数据类型代码的<span class="italic">T</span>数组，以告知Oracle每个绑定变量的外部数据类型。Oracle在OPEN时执行外部和内部数据类型之间的任何必要转换。
                     </p>
                     <p>在<span class="italic">T</span>描述符数组中重置数据类型代码时，您将“强制数据类型”。例如，要将第<span class="italic">i</span>个选择列表值强制转换为STRING，请使用以下语句：</p><pre class="oac_no_warn" dir="ltr">/ *将选择列表值强制转换为STRING。 * / select_des-&gt; T [i] = 5;</pre><p>将NUMBER选择列表值强制转换为STRING以进行显示时，还必须提取值的精度和比例字节，并使用它们计算最大显示长度。然后，在FETCH之前，必须重置<span class="italic">L</span> （长度）描述符数组的相应元素，以告知Oracle要使用的缓冲区长度。
                     </p>
                     <p>例如，如果DESCRIBE SELECT LIST发现第<span class="italic">i</span>个选择列表项的类型为NUMBER，并且您希望将返回的值存储在声明为<span class="bold">float</span>的C变量中，只需将<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code>设置为4并且<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code>到您系统上的<span class="bold">浮点数</span>的长度。 <a id="d80858e2275" class="indexterm-anchor"></a> 
                     </p>
                     <div class="infoboxnotewarn" id="GUID-F713062E-314B-41E4-93C7-406999367618__GUID-CE128DF9-FC72-43C6-B279-8138B7601AE0">
                        <p class="notep1">警告：</p>
                        <p>在某些情况下，DESCRIBE SELECT LIST返回的内部数据类型可能不适合您的目的。两个例子是DATE和NUMBER。当您描述DATE选择列表项时，Oracle将数据类型代码12返回到<span class="italic">T</span>描述符数组。除非您在FETCH之前重置代码，否则日期值将以其7字节内部格式返回。要以字符格式（DD-MON-YY）获取日期，可以将数据类型代码从12更改为1（VARCHAR2）或5（STRING），并将<span class="italic">L</span>值从7增加到9或10。
                        </p>
                        <p>同样，当您描述一个NUMBER选择列表项时，Oracle会将数据类型代码2返回给<span class="italic">T</span>数组。除非您在FETCH之前重置代码，否则数值将以其内部格式返回，这可能不是您想要的。因此，将代码从2更改为1（VARCHAR2），3（INTEGER），4（FLOAT），5（STRING）或其他一些适当的数据类型。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079">提取精度和规模</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="LNPCC4161"></a><a id="LNPCC4160"></a><div class="props_rev_3"><a id="GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079" name="GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079"></a><h5 id="LNPCC-GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079" class="sect5"><span class="enumeration_section">15.4.2.1</span>提取精度和比例</h5>
                     <div>
                        <div class="section">
                           <p>库函数<code class="codeph">SQLNumberPrecV6()</code> （以前称为<code class="codeph">sqlprc()</code> ） <code class="codeph"> </code>提取精度和规模。通常，它在DESCRIBE SELECT LIST之后使用，其第一个参数是<code class="codeph">L[</code> <span class="italic">i</span> <code class="codeph">]</code> 。您使用以下语法调用<code class="codeph">SQLNumberPrecV6()</code> ： <a id="d80858e2349" class="indexterm-anchor"></a><a id="d80858e2353" class="indexterm-anchor"></a> 
                           </p>
                           <div class="infoboxnote" id="GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079__GUID-31C736DC-2086-4A3E-82B8-5E79D8689967">
                              <p class="notep1">注意：</p>
                              <p>请参阅特定<span class="italic"><code class="codeph">SQLNumberPrecV6</code></span>平台的<span class="italic"><code class="codeph">SQLNumberPrecV6</code></span>头文件，以获取适用于您的平台的正确原型。
                              </p>
                           </div><pre class="oac_no_warn" dir="ltr">SQLNumberPrecV6（dvoid * runtime_context，int * length，int * precision，int * scale）;</pre><p>哪里：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079__GUID-7995B74C-0703-4D9E-915A-B0FCAD54F46A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="description of runtime_context, length, precision, and scale" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d80858e2375">句法</th>
                                    <th align="left" valign="bottom" width="71%" id="d80858e2378">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d80858e2383" headers="d80858e2375 ">
                                       <p><span class="italic">runtime_context</span></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d80858e2383 d80858e2378 ">
                                       <p>是指向运行时上下文的指针</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d80858e2391" headers="d80858e2375 ">
                                       <p><span class="italic">长度</span></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d80858e2391 d80858e2378 ">
                                       <p>是指向存储Oracle NUMBER值长度的长整型变量的指针;长度存储在L [i]中。值的比例和精度分别存储在低位和高位字节中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d80858e2399" headers="d80858e2375 ">
                                       <p><span class="italic">精确</span></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d80858e2399 d80858e2378 ">
                                       <p>是指向整数变量的指针，该变量返回NUMBER值的精度。Precision是有效数字的位数。如果select-list项指的是未指定大小的NUMBER，则设置为零。在这种情况下，由于未指定大小，您可能需要假设最大精度（38）。 <a id="d80858e2406" class="indexterm-anchor"></a><a id="d80858e2410" class="indexterm-anchor"></a><a id="d80858e2414" class="indexterm-anchor"></a> 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d80858e2420" headers="d80858e2375 ">
                                       <p><span class="italic">规模</span></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d80858e2420 d80858e2378 ">
                                       <p>是指向返回NUMBER值的比例的整数变量的指针。Scale指定舍入将发生的位置。例如，2的刻度表示该值四舍五入到最接近的百分位数（3.456变为3.46）;比例为-3表示数字四舍五入到最接近的千位（3456变为3000）。 <a id="d80858e2427" class="indexterm-anchor"></a><a id="d80858e2431" class="indexterm-anchor"></a> 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>当比例为负时，将其绝对值添加到长度。例如，精度为3且比例为-2允许数字大至99900。 <a id="d80858e2439" class="indexterm-anchor"></a> 
                           </p>
                           <p>以下示例显示如何使用<code class="codeph">SQLNumberPrecV6()</code>计算将被强制转换为STRING的NUMBER值的最大显示长度： <a id="d80858e2449" class="indexterm-anchor"></a> 
                           </p><pre class="oac_no_warn" dir="ltr">/ *声明函数调用的变量。* / sqlda * select_des; / *指针选择描述符* / int prec; / * precision * / int scal; / * scale * / extern void SQLNumberPrecV6（）; / *声明库函数。* / / *提取精度和比例。* / SQLNumberPrecV6（SQL_SINGLE_RCTX，＆（select_des-&gt; L [i]），＆prec，＆scal）; / *允许NUMBER的最大大小。 * / if（prec == 0）prec = 38; / *允许可能的小数点和符号。* / select_des-&gt; L [i] = prec + 2; / *允许负比例。* / if（scal &lt;0）select_des-&gt; L [i] + = -scal;</pre><p>请注意，此函数调用中的第一个参数指向长度数组中的第<span class="italic">i</span>个元素，并且所有三个参数都是地址。
                           </p>
                           <p><code class="codeph">SQLNumberPrecV6()</code>函数返回零作为某些SQL数据类型的精度和小数位数值。<code class="codeph">SQLNumberPrecV7()</code>函数类似，具有相同的参数列表，并返回相同的值，除了这些SQL数据类型的情况：<a id="d80858e2467" class="indexterm-anchor"></a></p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-0A53AE88-FB46-41C0-B582-C2A505BC2079__g34286">
                           <p class="titleintable">表15-3 SQL数据类型的精度和小数值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL数据类型的精度和比例值" width="100%" border="1" summary="Precision and Scale Values for SQL Datatypes" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d80858e2480">SQL数据类型</th>
                                    <th align="left" valign="bottom" width="31%" id="d80858e2483">二进制精度</th>
                                    <th align="left" valign="bottom" width="31%" id="d80858e2486">规模</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d80858e2491" headers="d80858e2480 ">
                                       <p>浮动</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2491 d80858e2483 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2491 d80858e2486 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d80858e2501" headers="d80858e2480 ">
                                       <p>FLOAT（N）</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2501 d80858e2483 ">
                                       <p>N（范围是1到126）</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2501 d80858e2486 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d80858e2511" headers="d80858e2480 ">
                                       <p>真实</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2511 d80858e2483 ">
                                       <p>63</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2511 d80858e2486 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d80858e2521" headers="d80858e2480 ">
                                       <p>双精度</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2521 d80858e2483 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d80858e2521 d80858e2486 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="LNPCC4162"></a><div class="props_rev_3"><a id="GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188" name="GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188"></a><h4 id="LNPCC-GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188" class="sect4"><span class="enumeration_section">15.4.3</span>处理NULL /非NULL数据类型</h4>
                  <div>
                     <p>对于每个select-list列（非表达式），DESCRIBE SELECT LIST在select描述符的数据类型数组<span class="italic">T</span>中返回NULL / not NULL指示。如果第<span class="italic">i</span>个选择列表列被约束为非空，则<code class="codeph">T[</code> <span class="italic">i</span> <code class="codeph">]</code>的高位被清除;否则，它被设定。 <a id="d80858e2568" class="indexterm-anchor"></a> 
                     </p>
                     <p>在OPEN或FETCH语句中使用数据类型之前，如果设置了NULL / not NULL位，则必须清除它。（切勿设置位。）</p>
                     <p>您可以使用库函数<code class="codeph">SQLColumnNullCheck()</code> （以前称为<code class="codeph">sqlnul()</code> ）来查明列是否允许NULL，并清除数据类型的NULL / not NULL位。您可以使用语法调用<code class="codeph">SQLColumnNullCheck()</code> <a id="d80858e2586" class="indexterm-anchor"></a><a id="d80858e2590" class="indexterm-anchor"></a><a id="d80858e2594" class="indexterm-anchor"></a> ：</p><pre class="oac_no_warn" dir="ltr">SQLColumnNullCheck（dvoid * context，unsigned short * value_type，unsigned short * type_code，int * null_status）;</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-E8EB0987-EA56-40C4-94D6-0CDC4BF51188__GUID-F54A8256-064F-4A75-ABBB-42E0DCFE6323">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="descriptions of context, value_type, type_code, and null_status" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d80858e2611">句法</th>
                                 <th align="left" valign="bottom" width="71%" id="d80858e2614">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e2619" headers="d80858e2611 ">
                                    <p><span class="italic">上下文</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e2619 d80858e2614 ">
                                    <p>是指向运行时上下文的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e2627" headers="d80858e2611 ">
                                    <p><span class="italic">值类型</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e2627 d80858e2614 ">
                                    <p>是指向无符号短整数变量的指针，该变量存储select-list列的数据类型代码;数据类型存储在T [i]中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e2635" headers="d80858e2611 ">
                                    <p><span class="italic">类型代码</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e2635 d80858e2614 ">
                                    <p>是指向无符号短整型变量的指针，该变量返回清除高位的select-list列的数据类型代码。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d80858e2643" headers="d80858e2611 ">
                                    <p><span class="italic">null_status</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d80858e2643 d80858e2614 ">
                                    <p>是指向返回select-list列的null状态的整数变量的指针。 1表示该列允许空值; 0意味着它没有。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>以下示例显示如何使用<code class="codeph">SQLColumnNullCheck()</code> ： <a id="d80858e2655" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">/ *声明函数调用的变量。* / sqlda * select_des; / *指针选择描述符* / unsigned short dtype; / *数据类型没有空位* / int nullok; / * 1 = null，0 = not null * / extern void SQLColumnNullCheck（）; / *声明库函数。* / / *确定列是否为空。* / SQLColumnNUllCheck（SQL_SINGLE_RCTX，（unsigned short *）＆（select_des-&gt; T [i]），＆dtype，＆nullok）; if（nullok）{/ * Nulls是允许的。* / .../ *清除null / not null位。* / SQLColumnNullCheck（SQL_SINGLE_RCTX，＆（select_des-&gt; T [i]），＆（select_des-&gt; T [i]），＆nullok）; }</pre><p>请注意，第二次调用<code class="codeph">SQLColumnNullCheck()</code>函数的第一个和第二个参数指向数据类型数组中的第<span class="italic">i</span>个元素，并且所有三个参数都是地址。
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC4163"></a><div class="props_rev_3"><a id="GUID-3B20F486-A5CF-4938-A21B-F77066416C04" name="GUID-3B20F486-A5CF-4938-A21B-F77066416C04"></a><h3 id="LNPCC-GUID-3B20F486-A5CF-4938-A21B-F77066416C04" class="sect3"><span class="enumeration_section">15.5</span>基本步骤</h3>
               <div>
                  <div class="section">
                     <p>方法4可用于处理<span class="italic">任何</span>动态SQL语句。在下面的示例中，将处理查询，以便您可以查看如何处理输入和输出主机变量。 <a id="d80858e2698" class="indexterm-anchor"></a> 
                     </p>
                     <p>要处理动态查询，我们的示例程序采取以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>在Declare Section中声明一个主机字符串以保存查询文本。</span></li>
                     <li><span>声明select和绑定SQLDAs。</span></li>
                     <li><span>为选择和绑定描述符分配存储空间。</span></li>
                     <li><span>设置可以DESCRIBEd的选择列表项和占位符的最大数量。</span></li>
                     <li><span>将查询文本放在主机字符串中。</span></li>
                     <li><span>从主机字符串中预处理查询。</span></li>
                     <li><span>为查询DECLARE游标。</span></li>
                     <li><span>将绑定变量描述为绑定描述符。</span></li>
                     <li><span>将占位符数重置为DESCRIBE实际找到的数字。</span></li>
                     <li><span>获取值并为DESCRIBE找到的绑定变量分配存储空间。</span></li>
                     <li><span>使用绑定描述符打开游标。</span></li>
                     <li><span>将选择列表描述为选择描述符。</span></li>
                     <li><span>将选择列表项的数量重置为DESCRIBE实际找到的数字。</span></li>
                     <li><span>重置每个选择列表项的长度和数据类型以用于显示目的。</span></li>
                     <li><span>FETCH从数据库INTO到选择描述符指向的已分配数据缓冲区的一行。</span></li>
                     <li><span>处理FETCH返回的select-list值。</span></li>
                     <li><span>释放用于选择列表项，占位符，指示符变量和描述符的存储空间。</span></li>
                     <li><span>关闭光标。</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-3B20F486-A5CF-4938-A21B-F77066416C04__GUID-E1EDA7E1-AECD-4755-8E3E-39E4DDA46039">
                        <p class="notep1">注意：</p>
                        <p>如果动态SQL语句包含已知数量的选择列表项或占位符，则其中一些步骤是不必要的。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC4164"></a><div class="props_rev_3"><a id="GUID-C9E59D78-26AC-4EA4-AE04-2A7F01296AD9" name="GUID-C9E59D78-26AC-4EA4-AE04-2A7F01296AD9"></a><h3 id="LNPCC-GUID-C9E59D78-26AC-4EA4-AE04-2A7F01296AD9" class="sect3"><span class="enumeration_section">15.6</span>仔细研究每一步</h3>
               <div>
                  <p>本节将详细讨论每个步骤。在本章的最后是一个注释，完整的程序，说明方法4。</p>
                  <p>使用方法4，您可以使用以下嵌入式SQL语句序列： <a id="d80858e2792" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE statement_name FROM {：host_string |字符串字面量 }; EXEC SQL DECLARE cursor_name CURSOR FOR statement_name;对于statement_name INTO bind_descriptor_name，EXEC SQL DESCRIBE BIND VARIABLES; EXEC SQL OPEN cursor_name [USING DESCRIPTOR bind_descriptor_name]; EXEC SQL DESCRIBE [SELECT LIST FOR] statement_name INTO select_descriptor_name; EXEC SQL FETCH cursor_name使用DESCRIPTOR select_descriptor_name; EXEC SQL CLOSE cursor_name;</pre><p>可滚动游标也可以与方法4一起使用。必须将以下嵌入式SQL语句序列用于可滚动游标。</p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE statement_name FROM {：host_string |字符串字面量 }; EXEC SQL DECLARE cursor_name SCROLL CURSOR FOR statement_name;对于statement_name INTO bind_descriptor_name，EXEC SQL DESCRIBE BIND VARIABLES; EXEC SQL OPEN cusor_name [USING DESCRIPTOR bind_descriptor_name]; EXEC SQL DESCRIBE [SELECT LIST FOR] statement_name INTO select_descriptor_name; EXEC SQL FETCH [FIRST | PRIOR | NEXT | LAST | CURRENT | RELATIVE fetch_offset | ABSOLUTE fetch_offset] cursor_name使用DESCRIPTOR select_descriptor_name; EXEC SQL CLOSE cursor_name;</pre><p>如果已知动态查询中的选择列表项的数量，则可以省略DESCRIBE SELECT LIST并使用以下方法3 FETCH语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH cursor_name INTO host_variable_list;</pre><p>或者，如果已知动态SQL语句中绑定变量的占位符数，则可以省略DESCRIBE BIND VARIABLES并使用以下方法3 OPEN语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN cursor_name [USING host_variable_list];</pre><p>接下来，您将看到这些语句如何允许宿主程序使用描述符接受和处理动态SQL语句。</p>
                  <div class="infoboxnote" id="GUID-C9E59D78-26AC-4EA4-AE04-2A7F01296AD9__GUID-9ED849EA-6078-4147-AB8A-98AD8FD65D54">
                     <p class="notep1">注意：</p>
                     <p>以下讨论伴随着几个数字。为避免混淆数字，有必要执行以下操作：</p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将描述符数组限制为3个元素</p>
                     </li>
                     <li>
                        <p>将名称的最大长度限制为5个字符</p>
                     </li>
                     <li>
                        <p>将值的最大长度限制为10个字符</p>
                     </li>
                  </ul>
               </div><a id="LNPCC4165"></a><div class="props_rev_3"><a id="GUID-70BD8971-A44C-46B9-B482-260812984806" name="GUID-70BD8971-A44C-46B9-B482-260812984806"></a><h4 id="LNPCC-GUID-70BD8971-A44C-46B9-B482-260812984806" class="sect4"><span class="enumeration_section">15.6.1</span>声明主机字符串</h4>
                  <div>
                     <p>您的程序需要一个宿主变量来存储动态SQL语句的文本。必须将主变量（在我们的示例中为<span class="italic">select_stmt</span> ）声明为字符串。
                     </p><pre class="oac_no_warn" dir="ltr">...int emp_number; VARCHAR emp_name [10]; VARCHAR select_stmt [120];浮动奖金;</pre></div>
               </div><a id="LNPCC4166"></a><div class="props_rev_3"><a id="GUID-3F0A471A-2484-4566-93BD-90655B5E2F70" name="GUID-3F0A471A-2484-4566-93BD-90655B5E2F70"></a><h4 id="LNPCC-GUID-3F0A471A-2484-4566-93BD-90655B5E2F70" class="sect4"><span class="enumeration_section">15.6.2</span>声明SQLDA</h4>
                  <div>
                     <p>在我们的示例中，您使用INCLUDE将其复制到程序中，而不是对SQLDA数据结构进行硬编码，如下所示：</p><pre class="oac_no_warn" dir="ltr">#include &lt;sqlda.h&gt;</pre><p>然后，因为查询可能包含未知数量的选择列表项或绑定变量的占位符，所以您声明指针以选择和绑定描述符，如下所示：</p><pre class="oac_no_warn" dir="ltr">sqlda * select_des; sqlda * bind_des;</pre></div>
               </div><a id="LNPCC4167"></a><div class="props_rev_3"><a id="GUID-C523D609-AD73-4AFB-BB84-EA0510984522" name="GUID-C523D609-AD73-4AFB-BB84-EA0510984522"></a><h4 id="LNPCC-GUID-C523D609-AD73-4AFB-BB84-EA0510984522" class="sect4"><span class="enumeration_section">15.6.3</span>为描述符分配存储空间</h4>
                  <div>
                     <p>回想一下，您使用<code class="codeph">SQLSQLDAAlloc()</code>库函数为描述符分配存储空间。使用ANSI C表示法的语法是：</p><pre class="oac_no_warn" dir="ltr">SQLDA * SQLSQLDAAlloc（dvoid * context，unsigned int max_vars，unsigned int max_name，unsigned int max_ind_name）;</pre><p><code class="codeph">SQLSQLDAAlloc()</code>函数分配描述符结构和由指针变量<span class="italic">V</span> ， <span class="italic">L</span> ， <span class="italic">T</span>和<span class="italic">I</span>寻址的数组。</p>
                     <p>如果<span class="italic">max_name</span>非零，则分配由指针变量<span class="italic">S</span> ， <span class="italic">M</span>和<span class="italic">C</span>寻址的数组。如果<span class="italic">max_ind_name</span>非零，则分配由指针变量<span class="italic">X</span> ， <span class="italic">Y</span>和<span class="italic">Z</span>寻址的数组。如果<span class="italic">max_name</span>和<span class="italic">max_ind_name</span>为零， <span class="italic">则不</span>分配空间。
                     </p>
                     <p>如果<code class="codeph">SQLSQLDAAlloc()</code>成功，则返回指向结构的指针。如果<code class="codeph">SQLSQLDAAlloc()</code>失败，则返回零。
                     </p>
                     <p>在我们的示例中，您分配了select和bind描述符，如下所示： <a id="d80858e2976" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">select_des = SQLSQLDAAlloc（SQL_SINGLE_RCTX，3，（size_t）5，（size_t）0）; bind_des = SQLSQLDAAlloc（SQL_SINGLE_RCTX，3，（size_t）5，（size_t）4）;</pre><p>对于选择描述符，始终将<span class="italic">max_ind_name</span>设置为零，以便不为<span class="italic">X</span>寻址的数组分配空间。</p>
                  </div>
               </div><a id="LNPCC4169"></a><a id="LNPCC4170"></a><a id="LNPCC4168"></a><div class="props_rev_3"><a id="GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815" name="GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815"></a><h4 id="LNPCC-GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815" class="sect4"><span class="enumeration_section">15.6.4</span>设置最大编号为DESCRIBE</h4>
                  <div>
                     <p>接下来，设置可以DESCRIBEd的选择列表项或占位符的最大数量，如下所示：</p><pre class="oac_no_warn" dir="ltr">select_des-&gt; N = 3; bind_des-&gt; N = 3;</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__I12575">图15-2</a>和<a href="Oracle-dynamic-SQL-method-4.html#GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__I12577">图15-3</a>表示结果描述符。
                     </p>
                     <div class="infoboxnote" id="GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__GUID-DE756BF1-8D55-430A-BFBC-A7E2A96404BC">
                        <p class="notep1">注意：</p>
                        <p>在选择描述符（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__I12575">图15-2</a> ）中，指示符变量名称的部分被划掉以表明它未被使用。
                        </p>
                     </div>
                     <div class="figure" id="GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__I12575">
                        <p class="titleinfigure">图15-2初始化的选择描述符</p><img src="img/lnpcc011.gif" width="499" alt="下面是图15-2的描述" title="下面是图15-2的描述" longdesc="img_text/lnpcc011.html"><br><a href="img_text/lnpcc011.html">“图15-2初始化选择描述符”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-3FB0EF90-71B3-43F6-B0C9-89F9E95EE815__I12577">
                        <p class="titleinfigure">图15-3初始化的绑定描述符</p><img src="img/lnpcc012.gif" width="499" alt="下面是图15-3的描述" title="下面是图15-3的描述" longdesc="img_text/lnpcc012.html"><br><a href="img_text/lnpcc012.html">“图15-3初始化绑定描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="LNPCC4171"></a><div class="props_rev_3"><a id="GUID-BCFDBC06-C2C6-42A3-9F2E-1DA02A616D37" name="GUID-BCFDBC06-C2C6-42A3-9F2E-1DA02A616D37"></a><h4 id="LNPCC-GUID-BCFDBC06-C2C6-42A3-9F2E-1DA02A616D37" class="sect4"><span class="enumeration_section">15.6.5</span>将查询文本放在主机字符串中</h4>
                  <div>
                     <p>继续我们的示例，您提示用户输入SQL语句，然后将输入字符串存储在<span class="italic">select_stmt中</span> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">printf（“\ n \ n输入SQL语句：”）;得到（select_stmt.arr）; select_stmt.len = strlen（select_stmt.arr）;</pre><p>我们假设用户输入以下字符串：</p><pre class="oac_no_warn" dir="ltr">“SELECT ename，empno，comm FROM emp WHERE comm &lt;：bonus”</pre></div>
               </div><a id="LNPCC4172"></a><div class="props_rev_3"><a id="GUID-EF58F58A-FDC7-480E-A422-44792F1E3D8B" name="GUID-EF58F58A-FDC7-480E-A422-44792F1E3D8B"></a><h4 id="LNPCC-GUID-EF58F58A-FDC7-480E-A422-44792F1E3D8B" class="sect4"><span class="enumeration_section">15.6.6</span>从主机字符串中<span class="enumeration_section">预处理</span>查询</h4>
                  <div>
                     <p>PREPARE解析SQL语句并为其命名。在我们的示例中，PREPARE解析主机字符串<span class="italic">select_stmt</span>并为其指定名称<span class="italic">sql_stmt</span> ，如下所示： <a id="d80858e3103" class="indexterm-anchor"></a><a id="d80858e3107" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE sql_stmt FROM：select_stmt;</pre></div>
               </div><a id="LNPCC4173"></a><div class="props_rev_3"><a id="GUID-FFA207E9-419A-4BCC-A36C-4F838AF8D9B6" name="GUID-FFA207E9-419A-4BCC-A36C-4F838AF8D9B6"></a><h4 id="LNPCC-GUID-FFA207E9-419A-4BCC-A36C-4F838AF8D9B6" class="sect4"><span class="enumeration_section">15.6.7</span> DECLARE一个游标</h4>
                  <div>
                     <p>DECLARE CURSOR通过为游标指定名称并将其与特定的SELECT语句相关联来定义游标。</p>
                     <p>要为<span class="italic">静态</span>查询声明游标，请使用以下语法： <a id="d80858e3143" class="indexterm-anchor"></a><a id="d80858e3147" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE cursor_name CURSOR FOR SELECT ...
</pre><p>要为<span class="italic">动态</span>查询声明游标，PREPARE为动态查询赋予的语句名称将替换静态查询。在我们的示例中，DECLARE CURSOR定义了一个名为<span class="italic">emp_cursor</span>的游标，并将其与<span class="italic">sql_stmt</span>相关联，如下所示：</p><pre class="oac_no_warn" dir="ltr">执行SQL DECLARE emp_cursor CURSOR FOR sql_stmt;</pre><div class="infoboxnote" id="GUID-FFA207E9-419A-4BCC-A36C-4F838AF8D9B6__GUID-86897EFD-2F6F-490B-BA7E-BEDF9A03927F">
                        <p class="notep1">注意：</p>
                        <p>您可以为所有动态SQL语句声明游标，而不仅仅是查询。对于非查询，OPENing游标执行动态SQL语句。</p>
                     </div>
                  </div>
               </div><a id="LNPCC4175"></a><a id="LNPCC4174"></a><div class="props_rev_3"><a id="GUID-41CA08E9-C2A1-49F4-B0BF-23CBEE4CF3BB" name="GUID-41CA08E9-C2A1-49F4-B0BF-23CBEE4CF3BB"></a><h4 id="LNPCC-GUID-41CA08E9-C2A1-49F4-B0BF-23CBEE4CF3BB" class="sect4"><span class="enumeration_section">15.6.8</span>描述绑定变量</h4>
                  <div>
                     <p>DESCRIBE BIND VARIABLES将占位符的描述放入绑定描述符中。在我们的示例中，DESCRIBE准备<span class="italic">bind_des</span> ，如下所示： <a id="d80858e3198" class="indexterm-anchor"></a><a id="d80858e3202" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">用于sql_stmt INTO bind_des的EXEC SQL DESCRIBE BIND VARIABLES;</pre><p>请注意， <span class="italic">bind_des</span> <span class="italic">不能</span>以冒号为前缀。
                     </p>
                     <p>DESCRIBE BIND VARIABLES语句必须遵循PREPARE语句，但必须在OPEN语句之前。</p>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-41CA08E9-C2A1-49F4-B0BF-23CBEE4CF3BB__I12580">图15-4</a>显示了DESCRIBE之后的示例中的绑定描述符。请注意，DESCRIBE已将<span class="italic">F</span>设置为在已处理的SQL语句中找到的实际占位符数。
                     </p>
                     <div class="figure" id="GUID-41CA08E9-C2A1-49F4-B0BF-23CBEE4CF3BB__I12580">
                        <p class="titleinfigure">图15-4 DESCRIBE后的绑定描述符</p><img src="img/lnpcc013.gif" width="499" alt="下面是图15-4的描述" title="下面是图15-4的描述" longdesc="img_text/lnpcc013.html"><br><a href="img_text/lnpcc013.html">“图15-4 DESCRIBE后的绑定描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="LNPCC4176"></a><div class="props_rev_3"><a id="GUID-56D6AF7A-808E-44CA-BBB4-5F96D455EFF9" name="GUID-56D6AF7A-808E-44CA-BBB4-5F96D455EFF9"></a><h4 id="LNPCC-GUID-56D6AF7A-808E-44CA-BBB4-5F96D455EFF9" class="sect4"><span class="enumeration_section">15.6.9</span>重置占位符数</h4>
                  <div>
                     <p>接下来，您必须将最大占位符数重置为DESCRIBE实际找到的数字，如下所示：</p><pre class="oac_no_warn" dir="ltr">bind_des-&gt; N = bind_des-&gt; F;</pre></div>
               </div><a id="LNPCC4178"></a><a id="LNPCC4177"></a><div class="props_rev_3"><a id="GUID-A963DCA1-A997-438C-B443-28C2F3BA8EC3" name="GUID-A963DCA1-A997-438C-B443-28C2F3BA8EC3"></a><h4 id="LNPCC-GUID-A963DCA1-A997-438C-B443-28C2F3BA8EC3" class="sect4"><span class="enumeration_section">15.6.10</span>为绑定变量获取值并分配存储空间</h4>
                  <div>
                     <p>您的程序必须获取SQL语句中找到的绑定变量的值，并为它们分配内存。程序如何获取值取决于您。例如，它们可以是硬编码的，从文件中读取或以交互方式输入。</p>
                     <p>在我们的示例中，必须为绑定变量分配一个值，该变量替换查询WHERE子句中的占位符<span class="italic">加值</span> 。因此，您选择提示用户输入值，然后按如下方式处理：</p><pre class="oac_no_warn" dir="ltr">for（i = 0; i &lt;bind_des-&gt; F; i ++）{printf（“\ n输入变量％的值。* s：\ n？“，（int）bind_des-&gt; C [i]，bind_des-&gt; S [i]）; gets（hostval）; / *设置值的长度。* / bind_des-&gt; L [i] = strlen（hostval）; / *为value和null终止符分配存储空间。* / bind_des-&gt; V [i] = malloc（bind_des-&gt; L [i] + 1）; / *为指标值分配存储空间。* / bind_des-&gt; I [i] =（unsigned short *）malloc（sizeof（short））; / *将值存储在绑定描述符中。* / strcpy（bind_des-&gt; V [i]，hostval）; / *设置指标变量的值。* / *（bind_des-&gt; I [i]）= 0; / *或-1如果“null”是值* / / *将数据类型设置为STRING。 * / bind_des-&gt; T [i] = 5; }</pre><p>假设用户为<span class="italic">奖金</span>提供了625的值， <a href="Oracle-dynamic-SQL-method-4.html#GUID-A963DCA1-A997-438C-B443-28C2F3BA8EC3__I12569">图15-5</a>显示了生成的绑定描述符。请注意，该值以null结尾。
                     </p>
                     <div class="figure" id="GUID-A963DCA1-A997-438C-B443-28C2F3BA8EC3__I12569">
                        <p class="titleinfigure">图15-5分配值后的绑定描述符</p><img src="img/lnpcc014.gif" width="499" alt="下面是图15-5的描述" title="下面是图15-5的描述" longdesc="img_text/lnpcc014.html"><br><a href="img_text/lnpcc014.html">“图15-5分配值后的绑定描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="LNPCC4179"></a><div class="props_rev_3"><a id="GUID-B55EBCF4-C6A6-44E7-9A9A-33264790003C" name="GUID-B55EBCF4-C6A6-44E7-9A9A-33264790003C"></a><h4 id="LNPCC-GUID-B55EBCF4-C6A6-44E7-9A9A-33264790003C" class="sect4"><span class="enumeration_section">15.6.11</span>打开光标</h4>
                  <div>
                     <p>用于动态查询的OPEN语句类似于用于静态查询的语句，除了游标与绑定描述符相关联。在运行时确定并存储在由绑定描述符数组的元素寻址的缓冲区中的值用于评估SQL语句。通过查询，这些值还用于标识活动集。 <a id="d80858e3325" class="indexterm-anchor"></a><a id="d80858e3329" class="indexterm-anchor"></a> 
                     </p>
                     <p>在我们的示例中，OPEN将<span class="italic">emp_cursor</span>与<span class="italic">bind_des</span>关联，如下所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN emp_cursor使用DESCRIPTOR bind_des;</pre><p>请记住， <span class="italic">bind_des</span> <span class="italic">不能</span>以冒号为前缀。
                     </p>
                     <p>然后，OPEN执行SQL语句。通过查询，OPEN还可以识别活动集并将光标定位在第一行。</p>
                  </div>
               </div><a id="LNPCC4181"></a><a id="LNPCC4180"></a><div class="props_rev_3"><a id="GUID-0F88FCE1-F2A7-4C0E-9495-33AB61419D20" name="GUID-0F88FCE1-F2A7-4C0E-9495-33AB61419D20"></a><h4 id="LNPCC-GUID-0F88FCE1-F2A7-4C0E-9495-33AB61419D20" class="sect4"><span class="enumeration_section">15.6.12</span>描述选择列表</h4>
                  <div>
                     <p>如果动态SQL语句是查询，则DESCRIBE SELECT LIST语句必须遵循OPEN语句，但必须在FETCH语句之前。 <a id="d80858e3380" class="indexterm-anchor"></a><a id="d80858e3384" class="indexterm-anchor"></a> 
                     </p>
                     <p>DESCRIBE SELECT LIST将选择列表项的描述放在选择描述符中。在我们的示例中，DESCRIBE准备了<span class="italic">select_des</span> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">对于sql_stmt INTO select_des，EXEC SQL DESCRIBE SELECT LIST;</pre><p>访问Oracle数据字典时，DESCRIBE设置每个选择列表值的长度和数据类型。</p>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-0F88FCE1-F2A7-4C0E-9495-33AB61419D20__I7565">图15-6</a>显示了DESCRIBE之后的示例中的select描述符。请注意，DESCRIBE已将<span class="italic">F</span>设置为查询选择列表中找到的实际项目数。如果SQL语句不是查询，则<span class="italic">F</span>设置为零。
                     </p>
                     <p>另请注意，NUMBER长度尚不可用。对于定义为NUMBER的列，必须使用库函数<code class="codeph">SQLNumberPrecV6()</code>来提取精度和小数<code class="codeph">SQLNumberPrecV6()</code> 。
                     </p>
                     <div class="figure" id="GUID-0F88FCE1-F2A7-4C0E-9495-33AB61419D20__I7565">
                        <p class="titleinfigure">图15-6 DESCRIBE后选择描述符</p><img src="img/lnpcc015.gif" width="499" alt="下面是图15-6的描述" title="下面是图15-6的描述" longdesc="img_text/lnpcc015.html"><br><a href="img_text/lnpcc015.html">“图15-6 DESCRIBE后选择描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-F713062E-314B-41E4-93C7-406999367618">强制数据类型</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4182"></a><div class="props_rev_3"><a id="GUID-EE0A2A15-5C59-4B62-9AB1-472422F90DEF" name="GUID-EE0A2A15-5C59-4B62-9AB1-472422F90DEF"></a><h4 id="LNPCC-GUID-EE0A2A15-5C59-4B62-9AB1-472422F90DEF" class="sect4"><span class="enumeration_section">15.6.13</span>重置选择列表项的数量</h4>
                  <div>
                     <p>接下来，您必须将选择列表项的最大数量重置为DESCRIBE实际找到的数字，如下所示：</p><pre class="oac_no_warn" dir="ltr">select_des-&gt; N = select_des-&gt; F;</pre></div>
               </div><a id="LNPCC4184"></a><a id="LNPCC4183"></a><div class="props_rev_3"><a id="GUID-BEB1EBE5-E67F-4D8E-AEF3-C759A721B5CE" name="GUID-BEB1EBE5-E67F-4D8E-AEF3-C759A721B5CE"></a><h4 id="LNPCC-GUID-BEB1EBE5-E67F-4D8E-AEF3-C759A721B5CE" class="sect4"><span class="enumeration_section">15.6.14</span>重置每个选择列表项的长度/数据类型</h4>
                  <div>
                     <p>在我们的示例中，在FETCHing选择列表值之前，使用库函数<code class="codeph">malloc()</code>为它们分配存储空间。您还重置了长度和数据类型数组中的一些元素以用于显示目的。 <a id="d80858e3480" class="indexterm-anchor"></a><a id="d80858e3484" class="indexterm-anchor"></a><a id="d80858e3488" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">for（i = 0; i &lt;select_des-&gt; F; i ++）{/ *清除空位。* / SQLColumnNullCheck（SQL_SINGLE_RCTX，（unsigned short *）＆（select_des-&gt; T [i]），（unsigned short *）＆（select_des-&gt; T [i]），＆nullok）; / *如有必要，重置长度。* / switch（select_des-&gt; T [i]）{case 1：break; case 2：SQLNumberPrecV6（SQL_SINGLE_RCTX，（unsigned long *）＆（select_des-&gt; L [i]），＆prec，＆scal）; if（prec == 0）prec = 40; select_des-&gt; L [i] = prec + 2; if（scal &lt;0）select_des-&gt; L [i] + = -scal;打破; case 8：select_des-&gt; L [i] = 240;打破;情况11：select_des-&gt; L [i] = 18;打破;情况12：select_des-&gt; L [i] = 9;打破;案例23：休息;情况24：select_des-&gt; L [i] = 240;打破; } / *为select-list值分配存储空间。* / select_des-&gt; V [i] = malloc（select_des-&gt; L [i] +1）; / *为指标值分配存储空间。* / select_des-&gt; I [i] =（short *）malloc（sizeof（short *））; / *将除LONG RAW之外的所有数据类型强制转换为STRING。 * / if（select_des-&gt; T [i]！= 24）select_des-&gt; T [i] = 5; }</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-BEB1EBE5-E67F-4D8E-AEF3-C759A721B5CE__I12571">图15-7</a>显示了结果选择描述符。请注意，NUMBER长度现在可用，并且所有数据类型都是STRING。 <code class="codeph">L[1]</code>和<code class="codeph">L[2]</code>中的长度是6和9，因为我们将DESCRIBEd长度4和7增加2以允许可能的符号和小数点。
                     </p>
                     <div class="figure" id="GUID-BEB1EBE5-E67F-4D8E-AEF3-C759A721B5CE__I12571">
                        <p class="titleinfigure">图15-7 FETCH之前的选择描述符</p><img src="img/lnpcc016.gif" width="499" alt="下面是图15-7的描述" title="下面是图15-7的描述" longdesc="img_text/lnpcc016.html"><br><a href="img_text/lnpcc016.html">“图15-7在FETCH之前选择描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="LNPCC4185"></a><div class="props_rev_3"><a id="GUID-7B690746-DAB5-44C5-8D7E-CCC027430E47" name="GUID-7B690746-DAB5-44C5-8D7E-CCC027430E47"></a><h4 id="LNPCC-GUID-7B690746-DAB5-44C5-8D7E-CCC027430E47" class="sect4"><span class="enumeration_section">15.6.15</span>来自激活集的FETCH行</h4>
                  <div>
                     <p>FETCH从活动集返回一行，将select-list值存储在数据缓冲区中，并将光标前进到活动集中的下一行。如果没有更多行，FETCH将<span class="italic">sqlca.sqlcode</span>设置为“找不到数据”Oracle错误代码。在我们的示例中，FETCH将列ENAME，EMPNO和COMM的值返回给<span class="italic">select_des</span> ，如下所示： <a id="d80858e3540" class="indexterm-anchor"></a><a id="d80858e3544" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH emp_cursor使用DESCRIPTOR select_des;</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-D66C3439-7AD2-4B84-BE87-26D92D0C5665__I12573">图15-8</a>显示了FETCH之后的示例中的选择描述符。请注意，Oracle已将选择列表和指示符值存储在由<span class="italic">V</span>和<span class="italic">I</span>的元素寻址的数据缓冲区中。</p>
                     <p>对于数据类型1的输出缓冲区，Oracle使用存储在<span class="italic">L</span>数组中的长度，左对齐CHAR或VARCHAR2数据并右对齐NUMBER数据。对于类型为5的输出缓冲区（STRING），Oracle左对齐且null终止CHAR，VARCHAR2和NUMBER数据。
                     </p>
                     <p>从“EMP表”中的VARCHAR2（10）列检索值“MARTIN”。使用<code class="codeph">L[0]</code>的长度，Oracle左对齐10字节字段中的值，填充缓冲区。
                     </p>
                     <p>从NUMBER（4）列检索值7654并强制为'7654'。但是， <code class="codeph">L[1]</code>的长度增加了2，以允许可能的符号和小数点。因此，Oracle左对齐并且null终止6字节字段中的值。
                     </p>
                     <p>从NUMBER（7,2）列中检索值482.50并强制为'482.50'。同样， <code class="codeph">L[2]</code>的长度增加了2。因此，Oracle左对齐并且null终止9字节字段中的值。
                     </p>
                  </div>
               </div><a id="LNPCC4187"></a><a id="LNPCC4186"></a><div class="props_rev_3"><a id="GUID-D66C3439-7AD2-4B84-BE87-26D92D0C5665" name="GUID-D66C3439-7AD2-4B84-BE87-26D92D0C5665"></a><h4 id="LNPCC-GUID-D66C3439-7AD2-4B84-BE87-26D92D0C5665" class="sect4"><span class="enumeration_section">15.6.16</span>获取和处理选择列表值</h4>
                  <div>
                     <p>在FETCH之后，您的程序可以处理返回的值。在我们的示例中，处理了ENAME，EMPNO和COMM列的值。</p>
                     <div class="figure" id="GUID-D66C3439-7AD2-4B84-BE87-26D92D0C5665__I12573">
                        <p class="titleinfigure">图15-8 FETCH后的选定描述符</p><img src="img/lnpcc017.gif" width="496" alt="下面是图15-8的描述" title="下面是图15-8的描述" longdesc="img_text/lnpcc017.html"><br><a href="img_text/lnpcc017.html">“图15-8 FETCH后选择的描述符”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="LNPCC4188"></a><div class="props_rev_3"><a id="GUID-25AAA0D6-7513-431C-A035-99A5D973E775" name="GUID-25AAA0D6-7513-431C-A035-99A5D973E775"></a><h4 id="LNPCC-GUID-25AAA0D6-7513-431C-A035-99A5D973E775" class="sect4"><span class="enumeration_section">15.6.17</span>解除<span class="enumeration_section">分配</span>存储</h4>
                  <div>
                     <p>您使用<code class="codeph">free()</code>库函数来释放<code class="codeph">malloc()</code>分配的存储空间。语法如下： <a id="d80858e3640" class="indexterm-anchor"></a><a id="d80858e3642" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">free（char * pointer）;</pre><p>在我们的示例中，您为select-list项，绑定变量和指示符变量的值释放存储空间，如下所示： <a id="d80858e3651" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">for（i = 0; i &lt;select_des-&gt; F; i ++）/ * for select descriptor * / {free（select_des-&gt; V [i]）;自由（select_des-&gt; I [I]）; } for（i = 0; i &lt;bind_des-&gt; F; i ++）/ * for bind descriptor * / {free（bind_des-&gt; V [i]）;自由（bind_des-&gt; I [I]）; }</pre><p>使用<code class="codeph">SQLSQLDAFree()</code>库函数，使用以下语法为描述符本身释放存储空间：<a id="d80858e3663" class="indexterm-anchor"></a><a id="d80858e3667" class="indexterm-anchor"></a><a id="d80858e3671" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQLSQLDAFree（context，descriptor_name）;</pre><p>必须使用<code class="codeph">SQLSQLDAAlloc()</code>分配描述符。否则，结果是不可预测的。
                     </p>
                     <p>在我们的示例中，您为select和bind描述符释放存储空间，如下所示： <a id="d80858e3684" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">SQLSQLDAFree（SQL_SINGLE_RCTX，select_des）; SQLSQLDAFree（SQL_SINGLE_RCTX，bind_des）;</pre></div>
               </div><a id="LNPCC4189"></a><div class="props_rev_3"><a id="GUID-9D465610-787E-4070-BE8F-0EFEE16D28D5" name="GUID-9D465610-787E-4070-BE8F-0EFEE16D28D5"></a><h4 id="LNPCC-GUID-9D465610-787E-4070-BE8F-0EFEE16D28D5" class="sect4"><span class="enumeration_section">15.6.18</span>关闭光标</h4>
                  <div>
                     <p>CLOSE禁用光标。在我们的示例中，CLOSE禁用<span class="italic">emp_cursor</span> ，如下所示： <a id="d80858e3719" class="indexterm-anchor"></a><a id="d80858e3723" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE emp_cursor;</pre></div>
               </div><a id="LNPCC4190"></a><div class="props_rev_3"><a id="GUID-94EB52EA-BCFA-4974-91AE-6B4F96229E2E" name="GUID-94EB52EA-BCFA-4974-91AE-6B4F96229E2E"></a><h4 id="LNPCC-GUID-94EB52EA-BCFA-4974-91AE-6B4F96229E2E" class="sect4"><span class="enumeration_section">15.6.19</span>关于使用主机阵列</h4>
                  <div>
                     <p>要使用方法4使用输入或输出主机阵列，必须使用可选的FOR子句告诉Oracle主机阵列的大小。</p>
                     <p>必须使用语法为第<span class="italic">i</span>个选择列表项或绑定变量设置描述符条目</p><pre class="oac_no_warn" dir="ltr">V [i] = array_address; L [i] = element_size;</pre><p>其中<span class="italic">array_address</span>是主机数组的地址， <span class="italic">element_size</span>是一个数组元素的大小。
                     </p>
                     <p>然后，必须在EXECUTE或FETCH语句中使用FOR子句（以适用者为准）告诉Oracle要处理的数组元素的数量。此过程是必要的，因为Oracle无法了解主机阵列的大小。</p>
                     <p>在稍后的完整程序示例中，使用三个输入主机阵列将行插入到EMP表中。除了使用方法4的查询之外，EXECUTE可用于数据操作语言语句。</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; #include &lt;sqlcpr.h&gt; #include &lt;sqlda.h&gt; #include &lt;sqlca.h&gt; #define NAME_SIZE 10 #define INAME_SIZE 10 #define ARRAY_SIZE 5 / * connect string * / char * username = “斯科特/老虎”; char * sql_stmt =“INSERT INTO emp（empno，ename，deptno）VALUES（：e，：n，：d）”; int array_size = ARRAY_SIZE; / *也必须有一个主变量* / SQLDA * binda;字符名称[ARRAY_SIZE] [NAME_SIZE]; int numbers [ARRAY_SIZE]，depts [ARRAY_SIZE]; / *声明并初始化指标变量。 for empno和deptno columns * / short ind_empno [ARRAY_SIZE] = {0,0,0,0,0}; short ind_dept [ARRAY_SIZE] = {0,0,0,0,0}; main（）{EXEC SQL WHENEVER SQLERROR GOTO sql_error; / * Connect * / EXEC SQL CONNECT：username;的printf（ “连接\ n”）; / *分配描述符并设置N分量。这必须在DESCRIBE之前完成。 * / binda = SQLSQLDAAlloc（SQL_SINGLE_RCTX，3，NAME_SIZE，INAME_SIZE）; binda-&gt; N = 3; / *准备并描述SQL语句。* / EXEC SQL PREPARE stmt FROM：sql_stmt; EXEC SQL DESCRIBE BIND VARIABLES for stmt INTO binda; / *初始化描述符。* / binda-&gt; V [0] =（char *）数字; binda-&gt; L [0] =（long）sizeof（int）; binda-&gt; T [0] = 3; binda-&gt; I [0] = ind_empno; binda-&gt; V [1] =（char *）名称; binda-&gt; L [1] =（长）NAME_SIZE; binda-&gt; T [1] = 1; binda-&gt; I [1] =（short *）0; binda-&gt; V [2] =（char *）depts; binda-&gt; L [2] =（long）sizeof（int）; binda-&gt; T [2] = 3; binda-&gt; I [2] = ind_dept; / *初始化数据缓冲区。* / strcpy（＆names [0] [0]，“ALLISON”）;数字[0] = 1014; depts [0] = 30; strcpy（＆names [1] [0]，“TRUSDALE”）;数字[1] = 1015; depts [1] = 30; strcpy（＆names [2] [0]，“FRAZIER”）;数字[2] = 1016; depts [2] = 30; strcpy（＆names [3] [0]，“CARUSO”）;数字[3] = 1017; ind_dept [3] = -1; / *将指标设置为-1以插入NULL * / depts [3] = 30; depts [3]中的/ *值被忽略* / strcpy（＆names [4] [0]，“WESTON”）;数字[4] = 1018; depts [4] = 30; / *执行INSERT。 * / printf（“添加到销售人员...... \ n”）; EXEC SQL FOR：array_size EXECUTE stmt使用DESCRIPTOR binda; / *打印行处理计数。* / printf（“％d行插入。\ n \ n”，sqlca.sqlerrd [2]）; EXEC SQL COMMIT RELEASE;出口（0）; sql_error：/ *打印Oracle错误消息。* / printf（“\ n％.70s”，sqlca.sqlerrm.sqlerrmc）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK RELEASE;出口（1）; }</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-PL-SQL.html#GUID-4C56DC0E-B857-405D-B88E-93B19DD9FCF2">主机阵列</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4191"></a><div class="props_rev_3"><a id="GUID-61A1DF13-7954-4CAB-B853-FEFDB2E3C4D6" name="GUID-61A1DF13-7954-4CAB-B853-FEFDB2E3C4D6"></a><h4 id="LNPCC-GUID-61A1DF13-7954-4CAB-B853-FEFDB2E3C4D6" class="sect4"><span class="enumeration_section">15.6.20 sample12.pc</span></h4>
                  <div>
                     <div class="section">
                        <p>使用数组提取的简单动态SQL示例显示在demo目录中的文件<code class="codeph">sample12.pc</code>中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC4192"></a><div class="props_rev_3"><a id="GUID-159E12E2-C5B7-40EE-A26C-50D872B8DC32" name="GUID-159E12E2-C5B7-40EE-A26C-50D872B8DC32"></a><h3 id="LNPCC-GUID-159E12E2-C5B7-40EE-A26C-50D872B8DC32" class="sect3"><span class="enumeration_section">15.7</span>示例程序：动态SQL方法4</h3>
               <div>
                  <div class="section">
                     <p>此程序显示了使用方法4的动态SQL所需的基本步骤。连接到Oracle后，该程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用SQLSQLDAAlloc（）为描述符分配内存</p>
                        </li>
                        <li>
                           <p>提示用户输入SQL语句</p>
                        </li>
                        <li>
                           <p>准备声明</p>
                        </li>
                        <li>
                           <p>DECLAREs游标</p>
                        </li>
                        <li>
                           <p>使用DESCRIBE BIND检查任何绑定变量</p>
                        </li>
                        <li>
                           <p>打开光标</p>
                        </li>
                        <li>
                           <p>描述任何选择列表项。</p>
                        </li>
                     </ul>
                     <p>如果输入的SQL语句是查询，程序会对每行数据进行FETCH，然后关闭光标。该程序可在<code class="codeph">demo</code>目录中的<code class="codeph">sample10.pc</code>文件中在线获得。
                     </p><pre class="oac_no_warn" dir="ltr">/ ******************* ******************示例程序10：动态SQL方法4此程序使用您的用户名和密码将您连接到ORACLE，然后提示您输入SQL语句。您可以输入任何合法的SQL语句。使用常规SQL语法，而不是嵌入式SQL。您的陈述将被处理。如果是查询，则显示提取的行。您可以输入多行语句。限制为1023个字符。此示例程序仅处理MAX_ITEMS绑定变量和MAX_ITEMS选择列表项。MAX_ITEMS #defined为40。************************************************** ***************** / #include &lt;stdio.h&gt; #include &lt;string.h&gt; #include &lt;setjmp.h&gt; #include &lt;sqlda.h&gt; #include &lt;stdlib .h&gt; #include &lt;sqlcpr.h&gt; / *选择列表项或绑定变量的最大数量。* / #define MAX_ITEMS 40 / *选择列表项或指示符变量的_names_的最大长度。* / #define MAX_VNAME_LEN 30 #define MAX_INAME_LEN 30 #ifndef NULL #define NULL 0 #endif / * Prototypes * / #if defined（__ STDC__）void sql_error（void）; int oracle_connect（void）; int alloc_descriptors（int，int，int）; int get_dyn_statement（void）; void set_bind_variables（void）; void process_select_list（void）; void help（void）; #else void sql_error（/ * _ void _ * /）; int oracle_connect（/ * _ void _ * /）; int alloc_descriptors（/ * _ int，int，int _ * /）; int get_dyn_statement（/ * void _ * /）; void set_bind_variables（/ * _ void  -  * /）; void process_select_list（/ * _ void _ * /）; void help（/ * _ void _ * /）; #endif char * dml_commands [] = {“SELECT”，“select”，“INSERT”，“insert”，“UPDATE”，“update”，“DELETE”，“delete”}; EXEC SQL INCLUDE sqlda; EXEC SQL INCLUDE sqlca; EXEC SQL BEGIN DECLARE SECTION; char dyn_statement [1024]; EXEC SQL VAR dyn_statement IS STRING（1024）; EXEC SQL END DECLARE SECTION; SQLDA * bind_dp; SQLDA * select_dp; / *定义一个缓冲区来保存longjmp状态信息。* / jmp_buf jmp_continue; / *错误例程的全局标志。* / int parse_flag = 0; void main（）{int i; / *连接到数据库。* / if（oracle_connect（）！= 0）退出（1）; / *为select和bind描述符分配内存。* / if（alloc_descriptors（MAX_ITEMS，MAX_VNAME_LEN，MAX_INAME_LEN）！= 0）退出（1）; / *处理SQL语句。* / for（;;）{（void）setjmp（jmp_continue）; / *获取声明。打破“退出”。* / if（get_dyn_statement（）！= 0）休息; / *准备语句并声明游标。* / EXEC SQL WHENEVER SQLERROR DO sql_error（）; parse_flag = 1; / *为sql_error（）设置一个标志。* / EXEC SQL PREPARE S FROM：dyn_statement; parse_flag = 0; / *取消设置标志。* / EXEC SQL DECLARE C CURSOR FOR S; / *为SQL语句中的任何占位符设置绑定变量。* / set_bind_variables（）; / *打开游标并执行语句。*如果语句不是查询（SELECT），*语句处理在* OPEN之后完成。 * / EXEC SQL OPEN C使用DESCRIPTOR bind_dp; / *调用处理选择列表的函数。*如果语句不是查询，则此函数*只返回，什么都不做。* / process_select_list（）; / *告诉用户处理了多少行。* / for（i = 0; i &lt;8; i ++）{if（strncmp（dyn_statement，dml_commands [i]，6）== 0）{printf（“\ n \ n％d行％c已处理。\ n” ，sqlca.sqlerrd [2]，sqlca.sqlerrd [2] == 1？'\ 0'：'s'）;打破; for（;;）语句处理循环* / / *结束时，释放为绑定中的指针分配的内存并选择描述符。* / for（i = 0; i &lt;MAX_ITEMS; i ++）{if（bind_dp-&gt; V [i]！=（char *）0）free（bind_dp-&gt; V [i]）;自由（bind_dp-&gt; I [I]）; / * MAX_ITEMS已分配。* / if（select_dp-&gt; V [i]！=（char *）0）free（select_dp-&gt; V [i]）;自由（select_dp-&gt; I [I]）; / * MAX_ITEMS已分配。* /} / *描述符本身使用的空闲空间。* / SQLSQLDAFree（SQL_SINGLE_RCTX，bind_dp）; SQLSQLDAFree（SQL_SINGLE_RCTX，select_dp）; EXEC SQL WHENEVER SQLERROR CONTINUE; / *关闭光标。* / EXEC SQL CLOSE C; EXEC SQL COMMIT WORK RELEASE;放（“\ n祝你有个美好的一天！\ n“）; EXEC SQL WHENEVER SQLERROR DO sql_error（）; return;} int oracle_connect（）{EXEC SQL BEGIN DECLARE SECTION; VARCHAR username [128]; VARCHAR password [32]; EXEC SQL END DECLARE SECTION; printf（”\ nusername：“）; fgets（（char *）username.arr，sizeof username.arr，stdin）; username.arr [strlen（（char *）username.arr）-1] ='\ 0'; username.len = （unsigned short）strlen（（char *）username.arr）; printf（“password：”）; fgets（（char *）password.arr，sizeof password.arr，stdin）; password.arr [strlen（（char *） ）password.arr） -  1] ='\ 0'; password.len =（unsigned short）strlen（（char *）password.arr）; EXEC SQL WHENEVER SQLERROR GOTO connect_error; EXEC SQL CONNECT：username IDENTIFIED BY：password; printf（“\ n连接到ORACLE作为用户％s。\ n”，用户名.arr）;返回0; connect_error：fprintf（stderr，“无法连接到ORACLE作为用户％s \ n”，username.arr）;返回 - 1;} / * *使用SQLSQLDAAlloc（）分配BIND和SELECT描述符。*还在每个描述符中分配指针变量*的指针。指向实际绑定*变量和select-list项的指针在set_bind_variables（）或process_select_list（）*例程中重新分配。此例程为select_dp-&gt; V [i] *和bind_dp-&gt; V [i]分配1个字节，因此realloc将正常工作。* / alloc_descriptors（size，max_vname_len，max_iname_len）int size; int max_vname_len; int max_iname_len; {int i; / * *第一个SQLSQLDAAlloc参数是运行时上下文。*第二个参数确定描述符中每个变量的*数组元素的最大数量。换句话说，它确定SQL语句中绑定*变量或选择列表项的最大数量。* *第三个参数确定用于保存选择列表项*或占位符名称的*字符串的最大长度。ORACLE中列*名称的最大长度为30，但您可以根据需要分配更多或更少的*。* *第四个参数确定用于保存任何指标*变量名称的*字符串的最大长度。遵循ORACLE标准，这些标准的最大*长度应为30。但是，您可以根据需要更多或更少地分配*。* / if（（bind_dp = SQLSQLDAAlloc（SQL_SINGLE_RCTX，size，max_vname_len，max_iname_len））==（SQLDA *）0）{fprintf（stderr，“无法为绑定描述符分配内存。”）;返回-1; / *在这种情况下必须退出。* /} if（（select_dp = SQLSQLDAAlloc（SQL_SINGLE_RCTX，size，max_vname_len，max_iname_len））==（SQLDA *）0）{fprintf（stderr，“无法为选择描述符分配内存。”）;返回-1; } select_dp-&gt; N = MAX_ITEMS; / *分配指针变量和实际数据的指针。* / for（i = 0; i &lt;MAX_ITEMS; i ++）{bind_dp-&gt; I [i] =（short *）malloc（sizeof（short））; select_dp-&gt; I [i] =（short *）malloc（sizeof（short））; bind_dp-&gt; V [i] =（char *）malloc（1）; select_dp-&gt; V [i] =（char *）malloc（1）; } return 0; } int get_dyn_statement（）{char * cp，linebuf [256]; int iter，plsql; for（plsql = 0，iter = 1 ;;）{if（iter == 1）{printf（“\ nSQL&gt;”）; dyn_statement [0] ='\ 0'; } fgets（linebuf，sizeof linebuf，stdin）; cp = strrchr（linebuf，'\ n'）; if（cp &amp;&amp; cp！= linebuf）* cp ='';否则如果（cp == linebuf）继续; if（（strncmp（linebuf，“EXIT”，4）== 0）||（strncmp（linebuf，“exit”，4）== 0））{return -1; } else if（linebuf [0] =='？'|| （strncmp（linebuf，“HELP”，4）== 0）|| （strncmp（linebuf，“help”，4）== 0））{help（）; iter = 1;继续; if（strstr（linebuf，“BEGIN”）||（strstr（linebuf，“begin”）））{plsql = 1; } strcat（dyn_statement，linebuf）; if（（plsql &amp;&amp;（cp = strrchr（dyn_statement，'/'）））||（！plsql &amp;&amp;（cp = strrchr（dyn_statement，';'））））{* cp ='\ 0';打破; } else {iter ++; printf（“％3d”，iter）;返回0; void set_bind_variables（）{int i，n; char bind_var [64]; / *描述任何绑定变量（输入主机变量）* / EXEC SQL WHENEVER SQLERROR DO sql_error（）; bind_dp-&gt; N = MAX_ITEMS; / *初始化数组元素的数量。* / EXEC SQL DESCRIBE BIND VARIABLES FOR S INTO bind_dp; / *如果F为负数，则绑定变量多于SQLSQLDAAlloc（）最初分配的绑定变量。* / if（bind_dp-&gt; F &lt;0）{printf（“\ n很多绑定变量（％d），最大值为％d \ n。”， -  bind_dp-&gt; F，MAX_ITEMS）;返回; / *将描述符中的最大数组元素数设置为找到的数字。* / bind_dp-&gt; N = bind_dp-&gt; F; / *将每个绑定变量的值作为*字符串获取。* * C [i]包含SQL语句中使用的绑定变量*名称的长度。* S [i]包含SQL语句中使用的绑定变量*的实际名称。* * L [i]将包含输入的数据值*的长度。* * V [i]将包含输入的数据值*的地址。* * T [i]始终设置为1，因为在此示例程序中*所有绑定变量的数据值都作为字符串输入*。* ORACLE从CHAR转换为表值。 * * I [i]将指向指标值，当绑定变量值为“null”时，*设置为-1。* / for（i = 0; i &lt;bind_dp-&gt; F; i ++）{printf（“\ n绑定变量％的值。* s：”，（int）bind_dp-&gt; C [i]，bind_dp-&gt; S [一世]）; fgets（bind_var，sizeof bind_var，stdin）; / *获取长度并删除新行字符。* / n = strlen（bind_var） -  1; / *在描述符中设置它。* / bind_dp-&gt; L [i] = n; / *（重新）为该值分配缓冲区。SQLSQLDAAlloc（）保留V [i]的指针位置，但不为指针分配完整空间。* / bind_dp-&gt; V [i] =（char *）realloc（bind_dp-&gt; V [i]，（bind_dp-&gt; L [i] + 1））; / *并复制它。* / strncpy（bind_dp-&gt; V [i]，bind_var，n）; / *设置指标变量的值。* / if（（strncmp（bind_dp-&gt; V [i]，“NULL”，4）== 0）||（strncmp（bind_dp-&gt; V [i]，“null”，4）== 0））* bind_dp-&gt; I [i] = -1; else * bind_dp-&gt; I [i] = 0; / *为CHAR设置绑定数据类型为1。 * / bind_dp-&gt; T [i] = 1; } return; void process_select_list（）{int i，null_ok，precision，scale; if（（strncmp（dyn_statement，“SELECT”，6）！= 0）&amp;&amp;（strncmp（dyn_statement，“select”，6）！= 0））{select_dp-&gt; F = 0;返回; } / *如果SQL语句是SELECT，请描述select-list项。DESCRIBE函数返回其名称，数据类型，长度（包括精度和小数位数）以及NULL / NOT NULL状态。* / select_dp-&gt; N = MAX_ITEMS; EXEC SQL DESCRIBE S INTO select_dp的选择列表; / *如果F为负数，则选择列表项比SQLSQLDAAlloc（）最初分配的项数多。* / if（select_dp-&gt; F &lt;0）{printf（“\ n很多选择列表项（％d），最大值为％d \ n”， - （select_dp-&gt; F），MAX_ITEMS）;返回; / *将描述符中的最大数组元素数设置为找到的数字。* / select_dp-&gt; N = select_dp-&gt; F; / *为每个选择列表项分配存储空间。SQLNumberPrecV6（）用于从长度（select_dp-&gt; L [i]）中提取精度和小数位数。sqlcolumnNullCheck（）用于重置数据类型的高位，并检查列是否为NULL。 CHAR数据类型具有长度，但精度和比例为零。长度在CREATE时定义。只有在CREATE时定义，NUMBER数据类型才具有精度和比例。如果列定义仅为NUMBER，则精度和小数位数为零，您必须分配所需的最大长度。如果使用默认格式，则DATE数据类型返回长度7。这应该增加到9以存储实际日期字符串。如果使用TO_CHAR函数，最大长度可能是75，但可能会更小（您可以在SQL * Plus中看到它的效果）。如果强制转换为CHAR，则ROWID数据类型始终返回固定长度18。 LONG和LONG RAW数据类型的返回长度为0（零），因此您需要设置最大值。在此示例中，它是240个字符。* / printf（“\ n”）; for（i = 0; i &lt;select_dp-&gt; F; i ++）{char title [MAX_VNAME_LEN]; / *关闭数据类型的高位（在此示例中，如果列为非NULL，则无关紧要）。* / SQLColumnNullCheck（（unsigned short *）＆（select_dp-&gt; T [i]），（unsigned short *）＆（select_dp-&gt; T [i]），＆null_ok）; switch（select_dp-&gt; T [i]）{case 1：/ * CHAR数据类型：所需长度不变，除了可能的TO_CHAR转换（此处未处理）。* /休息; case 2：/ * NUMBER数据类型：使用SQLNumberPrecV6（）来提取精度和比例。* / SQLNumberPrecV6（SQL_SINGLE_RCTX，（unsigned long *）＆（select_dp-&gt; L [i]），＆precision＆scale）; / *允许NUMBER的最大大小。 * / if（precision == 0）precision = 40; / *还允许小数点和可能的符号。* / / *如果scale&gt; 0，则将NUMBER数据类型转换为FLOAT，否则转换为INT。* / if（scale&gt; 0）select_dp-&gt; L [i] = sizeof（float）;否则select_dp-&gt; L [i] = sizeof（int）;打破; case 8：/ * LONG数据类型* / select_dp-&gt; L [i] = 240;打破; case 11：/ * ROWID datatype * / select_dp-&gt; L [i] = 18;打破;情况12：/ * DATE数据类型* / select_dp-&gt; L [i] = 9;打破; case 23：/ * RAW datatype * / break;情况24：/ * LONG RAW数据类型* / select_dp-&gt; L [i] = 240;打破; } / *为选择列表数据值分配空间。SQLSQLDAAlloc（）保留V [i]的指针位置，但不为指针分配完整空间。* / if（select_dp-&gt; T [i]！= 2）select_dp-&gt; V [i] =（char *）realloc（select_dp-&gt; V [i]，select_dp-&gt; L [i] + 1）;否则select_dp-&gt; V [i] =（char *）realloc（select_dp-&gt; V [i]，select_dp-&gt; L [i]）; / *打印列标题，右对齐数列标题。* / / *复制到临时缓冲区，以防名称以空值终止* / memset（title，''，MAX_VNAME_LEN）; strncpy（title，select_dp-&gt; S [i]，select_dp-&gt; C [i]）; if（select_dp-&gt; T [i] == 2）if（scale&gt; 0）printf（“％。* s”，select_dp-&gt; L [i] +3，title）; else printf（“％。* s”，select_dp-&gt; L [i]，title）; else printf（“％ - 。* s”，select_dp-&gt; L [i]，title）; / *强制所有数据类型除了LONG RAW和NUMBER到字符。* / if（select_dp-&gt; T [i]！= 24 &amp;&amp; select_dp-&gt; T [i]！= 2）select_dp-&gt; T [i] = 1; / *根据比例，将NUMBER的数据类型强制为float或int。* / if（select_dp-&gt; T [i] == 2）if（scale&gt; 0）select_dp-&gt; T [i] = 4; / * float * / else select_dp-&gt; T [i] = 3; / * int * /} printf（“\ n \ n”）; / * FETCH选择每一行并打印列值。* / EXEC SQL WHENEVER NOT FOUND GOTO end_select_loop; for（;;）{EXEC SQL FETCH C使用DESCRIPTOR select_dp; / *由于返回的每个变量都被强制转换为字符串，int或float，因此这里需要很少的处理。此例程只打印出终端上的值。* / for（i = 0; i &lt;select_dp-&gt; F; i ++）{if（* select_dp-&gt; I [i] &lt;0）if（select_dp-&gt; T [i] == 4）printf（“％ -  * c“，（int）select_dp-&gt; L [i] + 3，''）; else printf（“％ -  * c”，（int）select_dp-&gt; L [i]，''）; else if（select_dp-&gt; T [i] == 3）/ * int datatype * / printf（“％* d”，（int）select_dp-&gt; L [i]，*（int *）select_dp-&gt; V [i ]）;否则if（select_dp-&gt; T [i] == 4）/ * float datatype * / printf（“％*。2f”，（int）select_dp-&gt; L [i]，*（float *）select_dp-&gt; V [一世]）; else / * character string * / printf（“％ -  *。* s”，（int）select_dp-&gt; L [i]，（int）select_dp-&gt; L [i]，select_dp-&gt; V [i]）; } printf（“\ n”）; } end_select_loop：return; } void help（）{puts（“\ n \ n在SQL&gt;提示符处输入SQL语句或PL / SQL块。”）; puts（“语句可以继续多行，除了”）; puts（“在字符串文字中。”）; puts（“用分号终止SQL语句。”）; puts（“终止PL / SQL块（可以包含嵌入的分号）”）; puts（“用斜杠（/）。”）; puts（“Typing \”exit \“（不需要分号）退出程序。”）; puts（“你打字”？\“或\”帮助\“获取此消息。\ n \ n”）; } void sql_error（）{/ * ORACLE错误处理程序* / printf（“\ n \ n％.70s \ n”，sqlca.sqlerrm.sqlerrmc）; if（parse_flag）printf（“SQL语句中字符偏移％d处的解析错误。\ n”，sqlca.sqlerrd [4]）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK WORK; longjmp（jmp_continue，1）; }</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC4194"></a><a id="LNPCC4193"></a><div class="props_rev_3"><a id="GUID-D6A3B49E-C3DC-4055-A848-DD52E7539634" name="GUID-D6A3B49E-C3DC-4055-A848-DD52E7539634"></a><h3 id="LNPCC-GUID-D6A3B49E-C3DC-4055-A848-DD52E7539634" class="sect3"><span class="enumeration_section">15.8</span>示例程序：使用Scrollable Cursors的动态SQL方法4</h3>
               <div>
                  <div class="section">
                     <p>该演示程序描述了与oracle动态方法4一起使用的可滚动游标功能。该程序可在您的演示目录中的<code class="codeph">scdemo1.pc</code>文件中<code class="codeph">scdemo1.pc</code>获得。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D6A3B49E-C3DC-4055-A848-DD52E7539634__GUID-9AC60AB7-40D3-42EF-8DF2-A97E776D031B">scdemo1.pc</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">/ * *此演示程序展示了与oracle动态方法4一起使用的可滚动光标功能*。可滚动游标*功能也可以与ANSI动态方法4一起使用。* *此程序将username / passwd作为参数。登录后，会提示选择查询。然后它会提示*以查找方向并打印查询结果。* *在执行此示例之前，请确保HR *架构存在。* / #include &lt;oci.h&gt; #include &lt;stdio.h&gt; #include &lt;sqlca.h&gt; #include &lt;sqlda.h&gt; #include &lt;string.h&gt; #include &lt;ctype.h&gt; #include &lt;sqlcpr.h &gt; #include &lt;stdlib.h&gt; #include &lt;setjmp.h&gt; #define MAX_SELECT_ITEMS 200 #define MAX_CHARS 20 / *选择列表项目名称的最大大小* / #define MAX_NAME_SIZE 50 SQLDA * selda; SQLDA * bind_des; jmp_buf beginEnv; jmp_buf loopEnv; / *数据缓冲区* / char c_data [MAX_SELECT_ITEMS] [MAX_CHARS]; char username [60]; char stmt [500]; char stmt2 [500]; / *打印通用错误消息＆exit * / void sql_error（）{char msgbuf [512]; size_t msgbuf_len，msg_len; msgbuf_len = sizeof（msgbuf）; sqlglm（msgbuf，＆msgbuf_len，＆msg_len）; printf（“\ n \ n％。* s \ n”，msg_len，msgbuf）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK工作版;出口（EXIT_FAILURE）; } / *打印错误消息并继续查询用户* / void sql_loop_error（）{char msgbuf [512]; size_t msgbuf_len，msg_len; int code = sqlca.sqlcode; msgbuf_len = sizeof（msgbuf）; sqlglm（msgbuf，＆msgbuf_len，＆msg_len）; printf（“\ n％。* s \ n”，msg_len，msgbuf）; printf（“错误代码是％d \ n”，sqlca.sqlcode）;如果（代码！= 0）longjmp（beginEnv，1）; longjmp（loopEnv，1）; } / * FETCH返回“找不到数据”错误代码。这意味着我们要么到达活动集的末尾，要么偏移指的是超出活动集的行* / void no_data_found（）{printf（“\ nNo指定偏移量处的数据\ n”）; longjmp（loopEnv，1）; void main（int argc，char * argv []）{int i，n; int sli; / * select-list item * / int offset; int contFlag; char bindVar [20]; char * u，temp [3]; char选择; / *错误处理程序* / EXEC SQL WHENEVER SQLERROR DO sql_error（）; if（argc == 1）{printf（“以默认用户hr \ n登录”）; strcpy（用户名，“hr / hr”）; } else strcpy（username，argv [1]）; / *建立与数据库的连接* / EXEC SQL CONNECT：username;你=用户名;而（* ++你！='/'）; * u ='\ 0'; / *错误处理程序* / EXEC SQL WHENEVER SQLERROR DO sql_loop_error（）; for（;;）{setjmp（beginEnv）; printf（“[％s] SQL&gt;”，用户名）;得到（语句）;如果（！strlen（stmt））继续; for（i = 0; i &lt;strlen（stmt）; i ++）stmt2 [i] = tolower（stmt [i]）; stmt2 [i] = 0;如果（！strcmp（stmt2，“exit”））break; selda = SQLSQLDAAlloc（SQL_SINGLE_RCTX，MAX_SELECT_ITEMS，MAX_NAME_SIZE，0）; bind_des = SQLSQLDAAlloc（SQL_SINGLE_RCTX，MAX_SELECT_ITEMS，MAX_NAME_SIZE，30）; / *为查询准备一个sql语句* / EXEC SQL PREPARE S FROM：stmt; / *将游标声明为可滚动的* / EXEC SQL DECLARE C SCROLL CURSOR FOR S; for（i = 0; i &lt;MAX_SELECT_ITEMS; i ++）{bind_des-&gt; I [i] =（short *）malloc（sizeof（short））; bind_des-&gt; V [i] =（char *）malloc（1）; } bind_des-&gt; N = MAX_SELECT_ITEMS;用于S INTO bind_des的EXEC SQL DESCRIBE BIND VARIABLES; / *设置绑定变量* / if（bind_des-&gt; F &lt;0）{printf（“绑定描述符，值超出限制\ n”）;出口（-1）; } bind_des-&gt; N = bind_des-&gt; F; for（i = 0; i &lt;bind_des-&gt; F; i ++）{printf（“输入绑定变量的值％。* s：”，（int）bind_des-&gt; C [i]，bind_des-&gt; S [i] ）; fgets（bindVar，sizeof（bindVar），stdin）; n = strlen（bindVar） -  1; bind_des-&gt; L [i] = n; bind_des-&gt; V [i] =（char *）realloc（bind_des-&gt; V [i]，（bind_des-&gt; L [i] +1））; strncpy（bind_des-&gt; V [i]，bindVar，n）; if（（strncmp（bind_des-&gt; V [i]，“NULL”，4）== 0）||（strncmp（bind_des-&gt; V [i]，“null”，4）== 0））* bind_des  - &gt;我[i] = -1; else * bind_des  - &gt; I [i] = 0; bind_des-&gt; T [i] = 1; } / *打开游标* / EXEC SQL OPEN C使用DESCRIPTOR bind_des; EXEC SQL DESCRIBE S INTO selda的选择列表; if（selda-&gt; F &lt;0）{printf（“选择描述符，值超过限制\ n”）;出口（-1）; } selda-&gt; N = selda-&gt; F; for（sli = 0; sli &lt;selda-&gt; N; sli ++）{/ *设置V元素中数组头部的地址。* / selda-&gt; V [sli] = c_data [sli]; / *在输出时将所有内容转换为varchar。* / selda-&gt; T [sli] = 1; / *设置最大长度。* / selda-&gt; L [sli] = MAX_CHARS; } contFlag ='Y';的setjmp（loopEnv）;而（1）{while（contFlag！='Y'&amp;&amp; contFlag！='N'）{printf（“\ n继续使用当前的提取？[y / n]：“）; contFlag = toupper（getchar（））; / *要刷新输入缓冲区* / getchar（）;} if（contFlag！='Y'）休息; contFlag ='x'; printf（“\ n \ n输入要提取的行号\ n”）;的printf（“1。ABSOLUTE \ n“）; printf（”2。RELATIVE \ n“）; printf（”3。FIRST \ n“）; printf（”4。NEXT \ n“）; printf（”5。上一页\ n“）; printf（”6。最后\ n“）; printf（”7。CURRENT \ n“）; printf（”输入你的选择 - &gt;“）; scanf（”％c“，＆choice）; / *刷新输入缓冲区* / getchar（）; EXEC SQL WHENEVER NOT FOUND DO no_data_found（） ; switch（choice）{case'1'：printf（“\ nEnterInterset：”）; scanf（“％d”，＆offset）; getchar（）; EXEC SQL FETCH ABSOLUTE：offset C使用DESCRIPTOR selda; break; case' 2'：printf（“\ n输入偏移量：”）; scanf（“％d”，＆offset）; getchar（）; EXEC SQL FETCH RELATIVE：offset C使用DESCRIPTOR selda; break; case'3'：EXEC SQL FETCH FIRST C使用DESCRIPTOR selda; break; case'4'：EXEC SQL FETCH NEXT C使用DESCRIPTOR selda; break; case'5'：EXEC SQL FETCH PRIOR C使用DESCRIPTOR selda; break; case'6'：EXEC SQL FETCH LAST C使用DESCRIPTOR selda; break; case'7'：EXEC SQL FETCH CURRENT C使用DESCRIPTOR selda; break;默认：printf（“无效选择\ n”）; contFlag ='Y'; continue;} / *打印行* / for（ sli = 0; sli &lt;selda-&gt; N; sli ++）printf（“％。20s”，c_data [sli]）; puts（“”）;} EXEC SQL CLOSE C;} EXEC SQL ROLLBACK RELEASE; exit（EXIT_SUCCESS）; }</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01113.DBMS_SQL_TRANSLATOR.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_SQL_TRANSLATOR package provides an interface for creating, configuring, and using SQL translation profiles."></meta>
      <meta name="description" content="The DBMS_SQL_TRANSLATOR package provides an interface for creating, configuring, and using SQL translation profiles."></meta>
      <title>DBMS_SQL_TRANSLATOR</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_SQL_TRANSLATOR package provides an interface for creating, configuring, and using SQL translation profiles."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SQL_MONITOR.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_SQLDIAG.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQL_MONITOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_SQLDIAG.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SQL_TRANSLATOR</li>
            </ol>
            <a id="GUID-80ADAC71-714F-4B91-A7F2-0F0063AC3499" name="GUID-80ADAC71-714F-4B91-A7F2-0F0063AC3499"></a><a id="ARPLS73542"></a><a id="ARPLS73542"></a>
            
            <h2 id="ARPLS-GUID-80ADAC71-714F-4B91-A7F2-0F0063AC3499" class="sect2"><span class="enumeration_chapter">158</span> DBMS_SQL_TRANSLATOR</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_SQL_TRANSLATOR</code>包提供了用于创建，配置和使用SQL转换配置文件的接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-8B92F881-4A27-49A9-AC4E-945C12957752" title="DBMS_SQL_TRANSLATOR是一个调用者权限包。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42" title="DBMS_SQL_TRANSLATOR定义了在指定参数值时要使用的几个常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-7787A526-7C31-4484-AFF5-6EC1EC7DBABC" title="此表列出了DBMS_SQL_TRANSLATOR包引发的异常。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-D36184AF-5F1C-402B-AEA6-BD9650A43F3D" title="这是使用DBMS_SQL_TRANSLATOR进行基本SQL转换的示例。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-2D7D7536-D544-45D1-A32F-0ABE6EA5861F" title="该表列出了DBMS_SQL_TRANSLATOR子程序并简要描述了它们。">DBMS_SQL_TRANSLATOR子程序的摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-80ADAC71-714F-4B91-A7F2-0F0063AC3499__GUID-79E2880C-B6BE-44E3-B919-BF632E27AC83">
                  <p class="notep1">也可以看看：</p>
                  <p>“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=DRDAA131" target="_blank"><span class="italic">Oracle数据库迁移指南”中的</span></a> SQL Translation Framework体系结构和概述</p>
               </div>
            </div><a id="ARPLS73622"></a><a id="ARPLS73622"></a><div class="props_rev_3"><a id="GUID-8B92F881-4A27-49A9-AC4E-945C12957752" name="GUID-8B92F881-4A27-49A9-AC4E-945C12957752"></a><h3 id="ARPLS-GUID-8B92F881-4A27-49A9-AC4E-945C12957752" class="sect3"><span class="enumeration_section">158.1</span> DBMS_SQL_TRANSLATOR安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_SQL_TRANSLATOR</code>是一个调用者权限包。
                  </p>
                  <div class="section">
                     <p>在翻译SQL语句或错误时，将使用与正在解析的SQL语句相同的当前用户和当前模式调用转换程序包过程。必须为当前用户授予转换程序包的所有者<code class="codeph">TRANSLATE SQL</code>用户权限。
                     </p>
                     <p>此外，必须为当前用户授予翻译程序包的<code class="codeph">EXECUTE</code>特权。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73895"></a><a id="ARPLS73896"></a><a id="ARPLS73896"></a><a id="ARPLS73895"></a><div class="props_rev_3"><a id="GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42" name="GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42"></a><h3 id="ARPLS-GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42" class="sect3"><span class="enumeration_section">158.2</span> DBMS_SQL_TRANSLATOR常量</h3>
               <div>
                  <p><code class="codeph">DBMS_SQL_TRANSLATOR</code>定义了在指定参数值时要使用的几个常量。
                  </p>
                  <div class="section">
                     <p>这些如下表所示。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42__BABCHJEE">
                     <p class="titleintable">表158-1 DBMS_SQL_TRANSLATOR常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_TRANSLATOR常量" width="100%" border="1" summary="This table describes DBMS_SQL_TRANSLATOR  Constants." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d888157e363">不变</th>
                              <th align="left" valign="bottom" id="d888157e366">值</th>
                              <th align="left" valign="bottom" id="d888157e369">类型</th>
                              <th align="left" valign="bottom" id="d888157e372">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e377" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_EDITIONABLE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e377 d888157e366 ">
                                 <p><code class="codeph">'EDITIONABLE'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e377 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e377 d888157e372 ">
                                 <p>SQL转换概要文件属性的名称，指定在以后为所有者架构中的架构对象类型SQL转换概要文件启用版本时，SQL转换概要文件是成为已编辑对象还是非对象对象（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e400" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_FOREIGN_SQL_SYNTAX</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e400 d888157e366 ">
                                 <p><code class="codeph">'FOREIGN_SQL_SYNTAX'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e400 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e400 d888157e372 ">
                                 <p>SQL转换概要文件属性的名称，指示概要文件是否用于转换外部SQL语法（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e423" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_LOG_TRANSLATION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e423 d888157e366 ">
                                 <p><code class="codeph">'TRANSLATION_ERROR'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e423 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e423 d888157e372 ">
                                 <p>SQL转换配置文件属性的名称，该属性控制配置文件是否应在数据库警报日志中记录转换错误（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e446" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_RAISE_TRANSLATION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e446 d888157e366 ">
                                 <p><code class="codeph">'TRANSLATION_ERROR'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e446 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e446 d888157e372 ">
                                 <p>SQL转换配置文件属性的名称，该属性控制在无法转换SQL语句或错误时配置文件是否应引发转换错误（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e469" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_TRANSLATE_NEW_SQL</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e469 d888157e366 ">
                                 <p><code class="codeph">'TRANSLATE_NEW_SQL'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e469 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e469 d888157e372 ">
                                 <p>SQL转换配置文件属性的名称，该属性控制配置文件是否应转换新的SQL语句和错误（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e492" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_TRACE_TRANSLATION</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e492 d888157e366 ">
                                 <p><code class="codeph">'TRACE_TRANSLATION'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e492 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e492 d888157e372 ">
                                 <p>控制跟踪的SQL转换概要文件属性的名称（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e515" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_TRANSLATOR</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e515 d888157e366 ">
                                 <p><code class="codeph">“译者</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e515 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e515 d888157e372 ">
                                 <p>指定转换程序包的SQL转换概要文件属性的名称（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e538" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_VALUE_TRUE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e538 d888157e366 ">
                                 <p><code class="codeph">'真正'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e538 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e538 d888157e372 ">
                                 <p>将SQL转换概要文件属性设置为true的值（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e561" headers="d888157e363 ">
                                 <p><code class="codeph">ATTR_VALUE_FALSE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e561 d888157e366 ">
                                 <p><code class="codeph">'假'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e561 d888157e369 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e561 d888157e372 ">
                                 <p>将SQL转换概要文件属性设置为false的值（请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-729D28C0-128B-428A-97A5-66CB0A411445" title="修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。">操作说明</a> ）</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS73897"></a><a id="ARPLS73898"></a><a id="ARPLS74844"></a><a id="ARPLS74845"></a><a id="ARPLS74846"></a><a id="ARPLS73899"></a><a id="ARPLS73902"></a><a id="ARPLS74847"></a><a id="ARPLS74848"></a><a id="ARPLS74849"></a><a id="ARPLS73898"></a><a id="ARPLS74844"></a><a id="ARPLS74845"></a><a id="ARPLS74846"></a><a id="ARPLS73899"></a><a id="ARPLS73902"></a><a id="ARPLS74847"></a><a id="ARPLS74848"></a><a id="ARPLS74849"></a><a id="ARPLS73897"></a><div class="props_rev_3"><a id="GUID-729D28C0-128B-428A-97A5-66CB0A411445" name="GUID-729D28C0-128B-428A-97A5-66CB0A411445"></a><h3 id="ARPLS-GUID-729D28C0-128B-428A-97A5-66CB0A411445" class="sect3"><span class="enumeration_section">158.3</span> DBMS_SQL_TRANSLATOR操作说明</h3>
               <div>
                  <p>修改配置文件的子程序具有DDL事务语义，并且在调用时将提交会话中的任何打开事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-D835F38A-1A66-4344-B152-F3E9EA73F35B">ATTR_EDITIONABLE常数</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>版本默认为true。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-6D32F263-874F-49B4-86CE-CCC9D96AFA39">ATTR_FOREIGN_SQL_SYNTAX常量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>默认情况下，外部SQL语法为true。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-0721D7ED-62EB-4E9D-86A9-569399D6CE36">ATTR_LOG_TRANSLATION_ERROR常数</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果在SQL转换配置文件中启用了日志转换，则如果未找到SQL语句或错误的自定义转换，则会将警报日志写入数据库警报日志。这允许用户捕获配置文件中自定义转换中的任何错误。</p>
                        </li>
                        <li>
                           <p>默认情况下，日志转换错误为false。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-39638F83-FBC3-4F82-9B28-B8FB318992B7">ATTR_RAISE_TRANSLATION_ERROR常数</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>默认情况下，提升转换错误为false。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-DF8B78DC-9C86-4C73-818E-4FDDE87B2FAB">ATTR_TRANSLATE_NEW_SQL常量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL转换配置文件属性的名称，用于控制配置文件是否应转换新的SQL语句和错误。如果是这样，翻译程序包（如果已注册）将翻译新的SQL语句或尚未在自定义翻译中翻译的错误，并将新翻译注册为自定义翻译。如果不是，则遇到任何新的SQL语句或错误都将导致转换错误</p>
                        </li>
                        <li>
                           <p>默认情况下，转换新的SQL语句和错误为true。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-65274C12-7839-43AE-80B2-D73F025AF7C2">ATTR_TRACE_TRANSLATION常量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果在SQL转换配置文件中启用了跟踪，则数据库会话中的配置文件转换的任何SQL语句或错误及其转换都将写入数据库会话的跟踪文件。</p>
                        </li>
                        <li>
                           <p>默认情况下禁用跟踪。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-CFBCF4EB-508E-4863-9106-BE56F0D24988">ATTR_TRANSLATOR常数</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>转换程序包必须是PL / SQL程序包，并具有以下三个过程。调用<a href="DBMS_SQL_TRANSLATOR.html#GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6" title="此过程使用SQL转换配置文件转换SQL语句。">TRANSLATE_SQL过程</a>和<a href="DBMS_SQL_TRANSLATOR.html#GUID-3BF648FC-798D-4514-8D60-B4322C64202B" title="此过程使用会话的SQL转换配置文件转换Oracle错误代码和ANSI SQLSTATE">TRANSLATE_ERROR过程</a>来转换SQL语句和错误。必须遵循翻译程序的参数名称。
                           </p><pre class="oac_no_warn" dir="ltr">PROCEDURE TRANSLATE_SQL（sql_text IN CLOB，translated_text OUT CLOB）; PROCEDURE TRANSLATE_ERROR（error_code IN BINARY_INTEGER，translated_code OUT BINARY_INTEGER，translated_sqlstate OUT VARCHAR2）;参数：profile_name  - 配置文件名称sql_text  - 要翻译的SQL语句translated_text  - 已翻译的SQL语句error_code  -  Oracle错误代码translated_code  - 已翻译错误代码translated_sqlstate  - 已翻译SQLSTATE</pre></li>
                        <li>
                           <p>如果在<code class="codeph">translated_text</code> ， <code class="codeph">translated_code</code>或<code class="codeph">translated_sqlstate</code>返回<code class="codeph">NULL</code> ，则表示不需要转换，而是使用原始SQL语句，错误代码或<code class="codeph">SQLSTATE</code> 。
                           </p>
                        </li>
                        <li>
                           <p>转换程序包的名称遵循<code class="codeph">[schema.]package_name</code>形式的数据库包的命名规则。使用模式和程序包名称时，默认情况下它们将设置为大写，除非用双引号括起来。例如，设置转换程序包， <code class="codeph">translator =&gt; 'dbms_tsql_translator'</code>与<code class="codeph">translator =&gt; 'Dbms_Tsql_Translator'</code>和t <code class="codeph">ranslator =&gt; 'DBMS_TSQL_TRANSLATOR'</code>相同，但与<code class="codeph">translator =&gt; '"dbms_tsql_translator"'</code> 。默认架构名称是配置文件所有者。
                           </p>
                        </li>
                        <li>
                           <p>默认情况下不设置转换器属性。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-7AEA8FE9-208D-4C44-AE19-E245853B3CFD">ATTR_VALUE_TRUE常量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>将SQL转换概要文件属性设置为true的值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-729D28C0-128B-428A-97A5-66CB0A411445__GUID-88B10E98-A845-404F-9E92-41CA903CC10D">ATTR_VALUE_FALSE常量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>将SQL转换概要文件属性设置为false的值。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73903"></a><a id="ARPLS73904"></a><a id="ARPLS73904"></a><a id="ARPLS73903"></a><div class="props_rev_3"><a id="GUID-7787A526-7C31-4484-AFF5-6EC1EC7DBABC" name="GUID-7787A526-7C31-4484-AFF5-6EC1EC7DBABC"></a><h3 id="ARPLS-GUID-7787A526-7C31-4484-AFF5-6EC1EC7DBABC" class="sect3"><span class="enumeration_section">158.4</span> DBMS_SQL_TRANSLATOR异常</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_SQL_TRANSLATOR</code>包引发的异常。
                  </p>
                  <div class="tblformal" id="GUID-7787A526-7C31-4484-AFF5-6EC1EC7DBABC__GUID-4007018A-476A-4EC1-9612-2442172BBDC9">
                     <p class="titleintable">表158-2 DBMS_SQL_TRANSLATOR引发的异常</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_TRANSLATOR引发的异常" width="100%" border="1" summary="This table describes DBMS_SQLTRANSLATOR Exceptions" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d888157e917">例外</th>
                              <th align="left" valign="bottom" id="d888157e920">错误代码</th>
                              <th align="left" valign="bottom" id="d888157e923">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e928" headers="d888157e917 ">
                                 <p><code class="codeph">BAD_ARGUMENT</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e928 d888157e920 ">
                                 <p><code class="codeph">29261</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e928 d888157e923 ">
                                 <p>错误的参数传递给PL / SQL接口</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e940" headers="d888157e917 ">
                                 <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e940 d888157e920 ">
                                 <p><code class="codeph">1031</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e940 d888157e923 ">
                                 <p>用户没有足够的权限进行操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e952" headers="d888157e917 ">
                                 <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e952 d888157e920 ">
                                 <p><code class="codeph">24252</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e952 d888157e923 ">
                                 <p>配置文件不存在</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e964" headers="d888157e917 ">
                                 <p><code class="codeph">没有这样的用户</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e964 d888157e920 ">
                                 <p><code class="codeph">1918年</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e964 d888157e923 ">
                                 <p>配置文件所有者不存在</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e976" headers="d888157e917 ">
                                 <p><code class="codeph">NO_TRANSLATION_FOUND</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e976 d888157e920 ">
                                 <p><code class="codeph">24253</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e976 d888157e923 ">
                                 <p>找不到SQL语句或错误代码的转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d888157e988" headers="d888157e917 ">
                                 <p><code class="codeph">PROFILE_EXISTS</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e988 d888157e920 ">
                                 <p><code class="codeph">955</code></p>
                              </td>
                              <td align="left" valign="top" headers="d888157e988 d888157e923 ">
                                 <p>档案已存在</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS73905"></a><a id="ARPLS73906"></a><a id="ARPLS73906"></a><a id="ARPLS73905"></a><div class="props_rev_3"><a id="GUID-D36184AF-5F1C-402B-AEA6-BD9650A43F3D" name="GUID-D36184AF-5F1C-402B-AEA6-BD9650A43F3D"></a><h3 id="ARPLS-GUID-D36184AF-5F1C-402B-AEA6-BD9650A43F3D" class="sect3"><span class="enumeration_section">158.5</span> DBMS_SQL_TRANSLATOR示例</h3>
               <div>
                  <p>这是使用<code class="codeph">DBMS_SQL_TRANSLATOR</code>进行基本SQL转换的示例。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D36184AF-5F1C-402B-AEA6-BD9650A43F3D__GUID-E59F39CE-3274-4307-8036-77AD60F63A7C">基本的SQL翻译</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.CREATE_PROFILE（profile_name =&gt;'tsql_application'）; DBMS_SQL_TRANSLATOR.SET_ATTRIBUTE（profile_name =&gt;'tsql_application'，attribute_name =&gt; DBMS_SQL_TRANSLATOR.ATTR_TRANSLATOR，attribute_value =&gt;'migration_repo.sybase_tsql_translator'）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73545"></a><a id="ARPLS73546"></a><a id="ARPLS73546"></a><a id="ARPLS73545"></a><div class="props_rev_3"><a id="GUID-2D7D7536-D544-45D1-A32F-0ABE6EA5861F" name="GUID-2D7D7536-D544-45D1-A32F-0ABE6EA5861F"></a><h3 id="ARPLS-GUID-2D7D7536-D544-45D1-A32F-0ABE6EA5861F" class="sect3"><span class="enumeration_section">158.6</span> DBMS_SQL_TRANSLATOR子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_SQL_TRANSLATOR</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-2D7D7536-D544-45D1-A32F-0ABE6EA5861F__GUID-C36239DB-7860-405A-A655-6DD4567D8BAC">
                     <p class="titleintable">表158-3 DBMS_SQL_TRANSLATOR包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_TRANSLATOR包子程序" width="100%" border="1" summary="This table lists the DBMS_SQL_TRANSLATOR subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d888157e1198">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d888157e1201">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1206" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D" title="此过程创建SQL转换配置文件。">CREATE_PROFILE过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1206 d888157e1201 ">
                                 <p>创建SQL转换配置文件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1219" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B" title="此过程取消注册SQL转换概要文件中SQL语句的自定义转换。">DEREGISTER_SQL_TRANSLATION程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1219 d888157e1201 ">
                                 <p>取消注册SQL转换配置文件中SQL语句的自定义转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1232" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E" title="此过程取消注册SQL转换配置文件中的Oracle错误代码和SQLSTATE的转换。">DEREGISTER_ERROR_TRANSLATION程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1232 d888157e1201 ">
                                 <p>取消注册SQL转换配置文件中的Oracle错误代码和<code class="codeph">SQLSTATE</code>的转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1251" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39" title="此过程将删除SQL转换概要文件及其内容。">DROP_PROFILE过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1251 d888157e1201 ">
                                 <p>删除SQL转换配置文件及其内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1264" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-034499C2-7498-4242-8002-2E3035BF2650" title="此过程在SQL转换配置文件中启用或禁用Oracle错误代码的自定义转换。">ENABLE_ERROR_TRANSLATION程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1264 d888157e1201 ">
                                 <p>在SQL转换配置文件中启用或禁用Oracle错误代码的自定义转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1277" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE" title="此过程在SQL转换配置文件中启用或禁用SQL语句的自定义转换。">ENABLE_SQL_TRANSLATION过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1277 d888157e1201 ">
                                 <p>在SQL转换配置文件中启用或禁用SQL语句的自定义转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1290" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3" title="此过程导出SQL转换配置文件的内容。">EXPORT_PROFILE过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1290 d888157e1201 ">
                                 <p>导出SQL翻译配置文件的内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1303" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA" title="此过程导入SQL转换配置文件的内容。">IMPORT_PROFILE过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1303 d888157e1201 ">
                                 <p>导入SQL翻译配置文件的内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1316" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1" title="此过程在SQL转换配置文件中注册Oracle错误代码和SQLSTATE的自定义转换。">REGISTER_ERROR_TRANSLATION过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1316 d888157e1201 ">
                                 <p>在SQL转换配置文件中注册Oracle错误代码和<code class="codeph">SQLSTATE</code>的自定义转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1335" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-661BDA04-D359-42FC-8D00-C111B933E608" title="此过程在SQL转换配置文件中注册SQL语句的自定义转换。">REGISTER_SQL_TRANSLATION过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1335 d888157e1201 ">
                                 <p>在SQL转换配置文件中注册SQL语句的自定义转换</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1348" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02" title="此过程设置SQL转换配置文件的属性。">SET_ATTRIBUTE过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1348 d888157e1201 ">
                                 <p>设置SQL转换配置文件的属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1362" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26" title="此过程计算会话的SQL转换配置文件中SQL语句的哈希值。">SQL_HASH函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1362 d888157e1201 ">
                                 <p>计算SQL转换概要文件中SQL语句的哈希值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1375" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-DFFB611B-853A-434E-808D-D713671C3AA4" title="此过程计算SQL转换概要文件中SQL语句的SQL标识符。">SQL_ID函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1375 d888157e1201 ">
                                 <p>计算SQL转换概要文件中SQL语句的SQL标识符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1388" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-3BF648FC-798D-4514-8D60-B4322C64202B" title="此过程使用会话的SQL转换配置文件转换Oracle错误代码和ANSI SQLSTATE">TRANSLATE_ERROR程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1388 d888157e1201 ">
                                 <p>使用SQL转换配置文件转换Oracle错误代码和ANSI <code class="codeph">SQLSTATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d888157e1404" headers="d888157e1198 ">
                                 <p><a href="DBMS_SQL_TRANSLATOR.html#GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6" title="此过程使用SQL转换配置文件转换SQL语句。">TRANSLATE_SQL过程</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d888157e1404 d888157e1201 ">
                                 <p>使用SQL转换配置文件转换SQL语句</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73547"></a><a id="ARPLS73548"></a><a id="ARPLS73907"></a><a id="ARPLS73548"></a><a id="ARPLS73907"></a><a id="ARPLS73547"></a><div class="props_rev_3"><a id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D" name="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D"></a><h4 id="ARPLS-GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D" class="sect4"><span class="enumeration_section">158.6.1</span> CREATE_PROFILE过程</h4>
                  <div>
                     <p>此过程创建SQL转换配置文件。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-C9EC147A-5E40-45B2-995E-FA9CE4BF3EEB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.CREATE_PROFILE（profile_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-12D40527-140D-49A1-94CF-E4F0BB4D7C4F">参数</p>
                        <div class="tblformal" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-20460A48-079F-4541-A18F-9E9CF134570A">
                           <p class="titleintable">表158-4 <span class="italic"><span class="bold">CREATE_PROFILE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PROFILE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQLTRANSLATOR.CREATE_PROFILE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1530">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1533">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1538" headers="d888157e1530 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1538 d888157e1533 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-B51BCA33-5523-42BE-9A7B-FD62C5D6036C">例外</p>
                        <div class="tblformal" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-059A9230-528A-44CF-8192-2C30FBCEEDE4">
                           <p class="titleintable">表158-5 CREATE_PROFILE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PROFILE过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.CREATE_PROFILE" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1558">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1561">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1566" headers="d888157e1558 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1566 d888157e1561 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1574" headers="d888157e1558 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1574 d888157e1561 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1582" headers="d888157e1558 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1582 d888157e1561 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1590" headers="d888157e1558 ">
                                       <p><code class="codeph">PROFILE_EXISTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1590 d888157e1561 ">
                                       <p>档案已存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-1B266233-07AF-4A46-9233-26B32DFDFDC3">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL转换概要文件是驻留在SQL转换概要文件命名空间中的数据库模式对象。其名称遵循<code class="codeph">[schema.]name</code>形式的数据库对象的命名规则。在<code class="codeph">DBMS_SQL_TRANSLATOR</code>包中使用模式和概要文件名称时，它们是大写的，除非用双引号括起来。例如，转换配置文件<code class="codeph">profile_name =&gt; 'tsql_application'</code>与<code class="codeph">profile_name =&gt; 'Tsql_Application'</code>和<code class="codeph">profile_name =&gt; 'TSQL_APPLICATION'</code>相同，但与<code class="codeph">profile_name =&gt; '"tsql_application"'</code> 。
                              </p>
                           </li>
                           <li>
                              <p>SQL转换配置文件是可编辑的对象类型。</p>
                           </li>
                           <li>
                              <p>无法在多租户容器数据库（CDB）中将SQL转换概要文件创建为公共对象。</p>
                           </li>
                           <li>
                              <p>要销毁SQL转换配置文件，请使用<a href="DBMS_SQL_TRANSLATOR.html#GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39" title="此过程将删除SQL转换概要文件及其内容。">DROP_PROFILE过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-750E05A5-C383-4D4A-A8EE-64A7B62D2D0D__GUID-73BE7BF6-C222-4E76-A088-926E480CC366">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.CREATE_PROFILE（profile_name =&gt;'tsql_application'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73908"></a><a id="ARPLS73909"></a><a id="ARPLS73910"></a><a id="ARPLS73909"></a><a id="ARPLS73910"></a><a id="ARPLS73908"></a><div class="props_rev_3"><a id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B" name="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B"></a><h4 id="ARPLS-GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B" class="sect4"><span class="enumeration_section">158.6.2</span> DEREGISTER_SQL_TRANSLATION过程</h4>
                  <div>
                     <p>此过程取消注册SQL转换概要文件中SQL语句的自定义转换。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-60B166FD-3BAD-4EA4-887C-1BC5BF96B212">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.DEREGISTER_SQL_TRANSLATION（profile_name IN VARCHAR2，sql_text IN CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-AF6C5922-C0EF-4A20-8EAB-60A725D0F3ED">参数</p>
                        <div class="tblformal" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-39589CC6-2230-4C87-839C-B37F03357D9F">
                           <p class="titleintable">表158-6 <span class="italic"><span class="bold">DEREGISTER_SQL_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGISTER_SQL_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.DEREGISTER_SQL_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1759">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1762">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1767" headers="d888157e1759 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1767 d888157e1762 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1775" headers="d888157e1759 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1775 d888157e1762 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-DB7E5397-B9BB-4060-BFCB-E58471B10D4D">例外</p>
                        <div class="tblformal" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-0FF660A3-F362-4408-99D0-AAB785E23618">
                           <p class="titleintable">表158-7 DEREGISTER_SQL_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGISTER_SQL_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.DEREGISTER_SQL_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1795">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1798">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1803" headers="d888157e1795 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1803 d888157e1798 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1811" headers="d888157e1795 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1811 d888157e1798 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1819" headers="d888157e1795 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1819 d888157e1798 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1827" headers="d888157e1795 ">
                                       <p><code class="codeph">PROFILE_EXISTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1827 d888157e1798 ">
                                       <p>档案已存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B__GUID-F1AD6339-DD4A-4793-A228-0AEE46EACB91">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.DEREGISTER_SQL_TRANSLATION（profile_name =&gt;'tsql_application'，sql_text =&gt;'从emp'中选择前5 *）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73911"></a><a id="ARPLS73912"></a><a id="ARPLS73913"></a><a id="ARPLS73912"></a><a id="ARPLS73913"></a><a id="ARPLS73911"></a><div class="props_rev_3"><a id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E" name="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E"></a><h4 id="ARPLS-GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E" class="sect4"><span class="enumeration_section">158.6.3</span> DEREGISTER_ERROR_TRANSLATION过程</h4>
                  <div>
                     <p>此过程取消注册SQL转换配置文件中的Oracle错误代码和<code class="codeph">SQLSTATE</code>的转换。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-1425C928-BB33-419D-8E5A-4746E7702933">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.DEREGISTER_ERROR_TRANSLATION（profile_name IN VARCHAR2，error_code IN PLS_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-F09D6173-C48C-45D5-93B2-101E2FE147E3">参数</p>
                        <div class="tblformal" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-6B70BCD8-2827-40AB-960C-82D5E1F0942B">
                           <p class="titleintable">表158-8 <span class="italic"><span class="bold">DEREGISTER_ERROR_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGISTER_ERROR_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.DEREGISTER_ERROR_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1956">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1959">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1964" headers="d888157e1956 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1964 d888157e1959 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e1972" headers="d888157e1956 ">
                                       <p><code class="codeph">错误代码</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e1972 d888157e1959 ">
                                       <p>Oracle错误代码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-7E56516C-8978-4FB5-B575-EA2E192B3E38">例外</p>
                        <div class="tblformal" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-A6E06116-E738-4385-8F37-96F8E722D628">
                           <p class="titleintable">表158-9 DEREGISTER_ERROR_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGISTER_ERROR_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.DEREGISTER_ERROR_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e1992">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e1995">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2000" headers="d888157e1992 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2000 d888157e1995 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2008" headers="d888157e1992 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2008 d888157e1995 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2016" headers="d888157e1992 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2016 d888157e1995 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2024" headers="d888157e1992 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2024 d888157e1995 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E__GUID-C46D35EB-0BB9-4063-93D8-C170BFE3C3B7">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.DEREGISTER_ERROR_TRANSLATION（profile_name =&gt;'tsql_application'，error_code =&gt; 1）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73920"></a><a id="ARPLS73921"></a><a id="ARPLS73922"></a><a id="ARPLS73921"></a><a id="ARPLS73922"></a><a id="ARPLS73920"></a><div class="props_rev_3"><a id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39" name="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39"></a><h4 id="ARPLS-GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39" class="sect4"><span class="enumeration_section">158.6.4</span> DROP_PROFILE过程</h4>
                  <div>
                     <p>此过程将删除SQL转换概要文件及其内容。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-05E10BA4-0F21-4E7D-8DB0-2388D478F87F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.DROP_PROFILE（profile_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-2DCE03B3-8E0C-4517-B0E1-31B227747319">参数</p>
                        <div class="tblformal" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-F83AE4A9-A85B-4AFD-B962-3476C3F2716A">
                           <p class="titleintable">表158-10 <span class="italic"><span class="bold">DROP_PROFILE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_PROFILE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.DROP_PROFILE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2150">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2153">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2158" headers="d888157e2150 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2158 d888157e2153 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-9A2EA437-74DA-49B0-B398-AE1D9A0BB4E8">例外</p>
                        <div class="tblformal" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-05E84A92-46F4-4451-8EC5-C89927EBAC93">
                           <p class="titleintable">表158-11 DROP_PROFILE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_PROFILE过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.DROP_PROFILE" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2178">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2181">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2186" headers="d888157e2178 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2186 d888157e2181 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2194" headers="d888157e2178 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2194 d888157e2181 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2202" headers="d888157e2178 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2202 d888157e2181 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2210" headers="d888157e2178 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2210 d888157e2181 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9AB8461B-170F-4867-B4E1-587E0DBF8C39__GUID-E8F64252-0F11-400E-B392-DEDE99D70D43">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.DROP_PROFILE（profile_name =&gt;'tsql_application'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73923"></a><a id="ARPLS73924"></a><a id="ARPLS73925"></a><a id="ARPLS73924"></a><a id="ARPLS73925"></a><a id="ARPLS73923"></a><div class="props_rev_3"><a id="GUID-034499C2-7498-4242-8002-2E3035BF2650" name="GUID-034499C2-7498-4242-8002-2E3035BF2650"></a><h4 id="ARPLS-GUID-034499C2-7498-4242-8002-2E3035BF2650" class="sect4"><span class="enumeration_section">158.6.5</span> ENABLE_ERROR_TRANSLATION过程</h4>
                  <div>
                     <p>此过程在SQL转换配置文件中启用或禁用Oracle错误代码的自定义转换。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-D02CCEF7-9177-48B1-A16D-A85624681A44">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.ENABLE_ERROR_TRANSLATION（profile_name IN VARCHAR2，sql_text IN CLOB，启用IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-0048A107-71C1-4B99-B1A2-FFA4C1E0CCAB">参数</p>
                        <div class="tblformal" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-C185F975-C817-4117-99BE-DEE97D7744ED">
                           <p class="titleintable">表158-12 <span class="italic"><span class="bold">ENABLE_ERROR_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_ERROR_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.ENABLE_ERROR_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2337">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2340">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2345" headers="d888157e2337 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2345 d888157e2340 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2353" headers="d888157e2337 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2353 d888157e2340 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2361" headers="d888157e2337 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2361 d888157e2340 ">
                                       <p>启用或禁用翻译</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-012183A8-B822-4D37-827F-BB817A3E6DA2">例外</p>
                        <div class="tblformal" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-DE2514A0-3F18-4C45-AAB4-7EB05DCF63C9">
                           <p class="titleintable">表158-13 ENABLE_ERROR_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_ERROR_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.ENABLE_ERROR_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2381">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2384">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2389" headers="d888157e2381 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2389 d888157e2384 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2397" headers="d888157e2381 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2397 d888157e2384 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2405" headers="d888157e2381 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2405 d888157e2384 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2413" headers="d888157e2381 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2413 d888157e2384 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-034499C2-7498-4242-8002-2E3035BF2650__GUID-23B934C4-1D4E-4F47-832F-B0F04CF04C59">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.ENABLE_ERROR_TRANSLATION（profile_name =&gt;'tsql_application'，sql_text =&gt;'SELECT TOP 5 * FROM emp'enable =&gt; TRUE）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73926"></a><a id="ARPLS73927"></a><a id="ARPLS73928"></a><a id="ARPLS73927"></a><a id="ARPLS73928"></a><a id="ARPLS73926"></a><div class="props_rev_3"><a id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE" name="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE"></a><h4 id="ARPLS-GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE" class="sect4"><span class="enumeration_section">158.6.6</span> ENABLE_SQL_TRANSLATION过程</h4>
                  <div>
                     <p>此过程在SQL转换配置文件中启用或禁用SQL语句的自定义转换。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-5B77F0BC-54DB-4B19-87AF-67C5126FB9F7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.ENABLE_SQL_TRANSLATION（profile_name IN VARCHAR2，sql_text IN CLOB，启用IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-CE3A39FE-9A89-4187-9C15-2EBFCC3AEB69">参数</p>
                        <div class="tblformal" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-6B75A270-5FCC-48FD-AC12-1C0882AE3AF8">
                           <p class="titleintable">表158-14 <span class="italic"><span class="bold">ENABLE_SQL_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_SQL_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.ENABLE_SQL_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2539">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2542">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2547" headers="d888157e2539 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2547 d888157e2542 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2555" headers="d888157e2539 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2555 d888157e2542 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2563" headers="d888157e2539 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2563 d888157e2542 ">
                                       <p>启用或禁用翻译</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-E439DE8D-981C-4603-A7E3-54B627CDFB4F">例外</p>
                        <div class="tblformal" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-038381CF-2B0C-4CDA-B94C-BBC8D905F3E2">
                           <p class="titleintable">表158-15 ENABLE_SQL_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_SQL_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.ENABLE_SQL_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2583">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2586">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2591" headers="d888157e2583 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2591 d888157e2586 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2599" headers="d888157e2583 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2599 d888157e2586 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2607" headers="d888157e2583 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2607 d888157e2586 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2615" headers="d888157e2583 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2615 d888157e2586 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88B02DB1-545E-4441-A6A6-B45E6C2A1DEE__GUID-4F96DE3A-5D29-4795-979C-7217C267B6B9">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.ENABLE_SQL_TRANSLATION（profile_name =&gt;'tsql_application'，sql_text =&gt;'从emp'中选择前5 *，启用=&gt; TRUE）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73929"></a><a id="ARPLS73930"></a><a id="ARPLS73931"></a><a id="ARPLS73930"></a><a id="ARPLS73931"></a><a id="ARPLS73929"></a><div class="props_rev_3"><a id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3" name="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3"></a><h4 id="ARPLS-GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3" class="sect4"><span class="enumeration_section">158.6.7</span> EXPORT_PROFILE过程</h4>
                  <div>
                     <p>此过程导出SQL转换配置文件的内容。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-CA936442-7E29-486D-868E-A39780D01FA8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.EXPORT_PROFILE（profile_name IN VARCHAR2，内容OUT NOCOPY CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-8352B898-E85F-419F-B97F-781B53B840EA">参数</p>
                        <div class="tblformal" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-59E05EC9-0E82-4FF9-9495-4E85C0FC4771">
                           <p class="titleintable">表158-16 <span class="italic"><span class="bold">EXPORT_PROFILE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_PROFILE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.EXPORT_PROFILE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2741">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2744">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2749" headers="d888157e2741 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2749 d888157e2744 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2757" headers="d888157e2741 ">
                                       <p><code class="codeph">内容</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2757 d888157e2744 ">
                                       <p>个人资料的内容</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-C88DAF22-9DFD-498B-867C-292706166218">例外</p>
                        <div class="tblformal" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-BD32219B-EBFD-42B1-A0FA-29C25CEC2763">
                           <p class="titleintable">表158-17 EXPORT_PROFILE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_PROFILE过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.EXPORT_PROFILE" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2777">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2780">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2785" headers="d888157e2777 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2785 d888157e2780 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2793" headers="d888157e2777 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2793 d888157e2780 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2801" headers="d888157e2777 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2801 d888157e2780 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2809" headers="d888157e2777 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2809 d888157e2780 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-A876565D-7F3A-4442-8B6B-7B8728C99F65">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL转换配置文件的内容以XML格式导出，如下所示。请注意，不会导出配置文件名称。</p><pre class="oac_no_warn" dir="ltr">SQLTranslationProfile Translator =“translator package name”ForeignSQLSyntax =“TRUE | FALSE”TranslateNewSQL =“TRUE | FALSE”RaiseTranslationError =“TRUE | FALSE”LogTranslationError =“TRUE | FALSE”TraceTranslation =“TRUE | FALSE”Editionable =“TRUE | FALSE” &gt; &lt;SQLTranslations&gt; &lt;SQLTranslation Enabled =“TRUE | FALSE”&gt; &lt;SQLText&gt;原始SQL文本&lt;/ SQLText&gt; &lt;TranslatedText&gt;已翻译的SQL文本&lt;/ TranslatedText&gt; &lt;/ SQLTranslation&gt; ...&lt;/ SQLTranslations&gt; &lt;ErrorTranslations&gt; &lt;ErrorTranslation Enabled =“TRUE | FALSE”&gt; &lt;ErrorCode&gt; Oracle错误代码&lt;/ ErrorCode&gt; &lt;TranslatedCode&gt;已翻译的错误代码&lt;/ TranslatedCode&gt; &lt;TranslatedSQLSTATE&gt;已翻译的SQLSTATE &lt;/ TranslatedSQLSTATE&gt; &lt;/ ErrorTranslation&gt; ...&lt;/ ErrorTranslations&gt; &lt;/ SQLTranslationProfile&gt;</pre></li>
                           <li>
                              <p>要将内容导入SQL转换配置文件，请使用<a href="DBMS_SQL_TRANSLATOR.html#GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA" title="此过程导入SQL转换配置文件的内容。">IMPORT_PROFILE过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3__GUID-747923FB-43C7-416C-B720-81EF93C8DB0F">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE内容CLOB; BEGIN DBMS_SQL_TRANSLATOR.EXPORT_PROFILE（profile_name =&gt;'tsql_application'，content =&gt; content）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73934"></a><a id="ARPLS73935"></a><a id="ARPLS73936"></a><a id="ARPLS73935"></a><a id="ARPLS73936"></a><a id="ARPLS73934"></a><div class="props_rev_3"><a id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA" name="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA"></a><h4 id="ARPLS-GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA" class="sect4"><span class="enumeration_section">158.6.8</span> IMPORT_PROFILE过程</h4>
                  <div>
                     <p>此过程导入SQL转换配置文件的内容。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-D4BB271D-7D34-4AE8-A84A-0B2EAE79905E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.IMPORT_PROFILE（profile_name IN VARCHAR2，content IN CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-C5758ED3-9007-42DC-B254-3F99B8E29D4C">参数</p>
                        <div class="tblformal" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-3D301EFB-BF36-4F35-9E6C-F1E8B9B7B8A5">
                           <p class="titleintable">表158-18 <span class="italic"><span class="bold">IMPORT_PROFILE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_PROFILE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.IMPORT_PROFILE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2955">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2958">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2963" headers="d888157e2955 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2963 d888157e2958 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2971" headers="d888157e2955 ">
                                       <p><code class="codeph">内容</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2971 d888157e2958 ">
                                       <p>个人资料的内容</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-249E95E8-ACD5-4D64-813B-8E083887BA6E">例外</p>
                        <div class="tblformal" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-F605B46C-0BAB-4B3D-90F7-05C1693F0691">
                           <p class="titleintable">表158-19 IMPORT_PROFILE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_PROFILE过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.IMPORT_PROFILE" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e2991">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e2994">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e2999" headers="d888157e2991 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e2999 d888157e2994 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3007" headers="d888157e2991 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3007 d888157e2994 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3015" headers="d888157e2991 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3015 d888157e2994 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-6492047C-384F-4E78-9585-75F313266169">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL转换配置文件的内容必须是<a href="DBMS_SQL_TRANSLATOR.html#GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3" title="此过程导出SQL转换配置文件的内容。">EXPORT_PROFILE过程</a>使用的XML格式。所有元素和属性都是可选的。
                              </p>
                           </li>
                           <li>
                              <p>如果配置文件不存在，则创建它。如果存在，则内容将覆盖任何现有属性，转换程序包，SQL或错误翻译注册。</p>
                           </li>
                           <li>
                              <p>要将内容导出到SQL转换配置文件，请使用<a href="DBMS_SQL_TRANSLATOR.html#GUID-B4560429-8FD4-4251-8C0D-6CB5156B00F3" title="此过程导出SQL转换配置文件的内容。">EXPORT_PROFILE过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA85A0BA-A635-4F25-8F63-642DD23955DA__GUID-C93E907A-1BB1-4396-84EC-32A76E1AC6F9">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE内容CLOB; BEGIN DBMS_SQL_TRANSLATOR.IMPORT_PROFILE（profile_name =&gt;'tsql_application'，content =&gt; content）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73937"></a><a id="ARPLS73938"></a><a id="ARPLS73939"></a><a id="ARPLS73938"></a><a id="ARPLS73939"></a><a id="ARPLS73937"></a><div class="props_rev_3"><a id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1" name="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1"></a><h4 id="ARPLS-GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1" class="sect4"><span class="enumeration_section">158.6.9</span> REGISTER_ERROR_TRANSLATION过程</h4>
                  <div>
                     <p>此过程在SQL转换配置文件中注册Oracle错误代码和<code class="codeph">SQLSTATE</code>的自定义转换。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-BB325F75-6E98-44E7-8623-83F813D2C767">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.REGISTER_ERROR_TRANSLATION（profile_name IN VARCHAR2，error_code IN PLS_INTEGER，translated_code IN PLS_INTEGER DEFAULT NULL，translated_sqlstate IN VARCHAR2 DEFAULT NULL，启用IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-655CB5E9-F2B0-4CF2-85A4-9DB548A33675">参数</p>
                        <div class="tblformal" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-D48A32C4-4D3C-47EB-B5B6-BDD740D3690E">
                           <p class="titleintable">表158-20 <span class="italic"><span class="bold">REGISTER_ERROR_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_ERROR_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.REGISTER_ERROR_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3171">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3174">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3179" headers="d888157e3171 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3179 d888157e3174 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3187" headers="d888157e3171 ">
                                       <p><code class="codeph">错误代码</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3187 d888157e3174 ">
                                       <p>Oracle错误代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3195" headers="d888157e3171 ">
                                       <p><code class="codeph">translated_code</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3195 d888157e3174 ">
                                       <p>翻译错误代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3203" headers="d888157e3171 ">
                                       <p><code class="codeph">translated_sqlstate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3203 d888157e3174 ">
                                       <p>翻译<code class="codeph">SQLSTATE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3213" headers="d888157e3171 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3213 d888157e3174 ">
                                       <p>启用或禁用翻译</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-C4AFF4D7-F815-48D2-B6AA-3819ACCE844D">例外</p>
                        <div class="tblformal" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-897B3A73-ACB4-4036-87F9-B27AF39D2F4E">
                           <p class="titleintable">表158-21 REGISTER_ERROR_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_ERROR_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.REGISTER_ERROR_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3233">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3236">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3241" headers="d888157e3233 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3241 d888157e3236 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3249" headers="d888157e3233 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3249 d888157e3236 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3257" headers="d888157e3233 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3257 d888157e3236 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3265" headers="d888157e3233 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3265 d888157e3236 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-314D4336-1700-4039-8BE9-1DF1842B9FA5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当Oracle数据库使用翻译配置文件转换Oracle错误代码时，它会首先搜索已注册的自定义转换，并且仅在未找到匹配项时才调用转换程序包。</p>
                           </li>
                           <li>
                              <p>在配置文件中注册转换时，可能会禁用它。Oracle数据库不会搜索已禁用的翻译。</p>
                           </li>
                           <li>
                              <p>错误代码和<code class="codeph">SQLSTATE</code>的旧转换（如果存在）将替换为新转换。
                              </p>
                           </li>
                           <li>
                              <p>要取消注册转换，请使用<a href="DBMS_SQL_TRANSLATOR.html#GUID-990D6467-39E6-4906-9B92-ED6BA0F5509E" title="此过程取消注册SQL转换配置文件中的Oracle错误代码和SQLSTATE的转换。">DEREGISTER_ERROR_TRANSLATION过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30B2089C-9CD1-4466-9733-9A06363F1AB1__GUID-3C4548AC-3CE0-4717-8B9F-2F248B126405">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.REGISTER_ERROR_TRANSLATION（profile_name =&gt;'tsql_application'，error_code =&gt; 1，translated_code =&gt; 2601）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73940"></a><a id="ARPLS73941"></a><a id="ARPLS73942"></a><a id="ARPLS73941"></a><a id="ARPLS73942"></a><a id="ARPLS73940"></a><div class="props_rev_3"><a id="GUID-661BDA04-D359-42FC-8D00-C111B933E608" name="GUID-661BDA04-D359-42FC-8D00-C111B933E608"></a><h4 id="ARPLS-GUID-661BDA04-D359-42FC-8D00-C111B933E608" class="sect4"><span class="enumeration_section">158.6.10</span> REGISTER_SQL_TRANSLATION过程</h4>
                  <div>
                     <p>此过程在SQL转换配置文件中注册SQL语句的自定义转换。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-225723EB-D7F7-4665-8C39-7A0772512AEE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.REGISTER_SQL_TRANSLATION（profile_name IN VARCHAR2，sql_text IN CLOB，translated_text IN CLOB DEFAULT NULL，启用IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-5E2D40D9-808A-47E0-8C2B-6814246A4915">参数</p>
                        <div class="tblformal" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-B3CAB598-0033-4168-9F83-5DDB108820DB">
                           <p class="titleintable">表158-22 <span class="italic"><span class="bold">REGISTER_SQL_TRANSLATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_SQL_TRANSLATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.REGISTER_SQL_TRANSLATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3420">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3423">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3428" headers="d888157e3420 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3428 d888157e3423 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3436" headers="d888157e3420 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3436 d888157e3423 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3444" headers="d888157e3420 ">
                                       <p><code class="codeph">translated_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3444 d888157e3423 ">
                                       <p>翻译的SQL语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3452" headers="d888157e3420 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3452 d888157e3423 ">
                                       <p>启用或禁用翻译</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-0D74DFED-5DC3-44DD-AD99-AAC7A349899D">例外</p>
                        <div class="tblformal" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-114F8EBC-81DB-4378-AFA9-80E2A90B7312">
                           <p class="titleintable">表158-23 REGISTER_SQL_TRANSLATION过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_SQL_TRANSLATION过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.REGISTER_SQL_TRANSLATION" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3472">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3475">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3480" headers="d888157e3472 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3480 d888157e3475 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3488" headers="d888157e3472 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3488 d888157e3475 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3496" headers="d888157e3472 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3496 d888157e3475 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3504" headers="d888157e3472 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3504 d888157e3475 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-B53583C7-D8A4-4F8A-AD60-FAB155B57FAD">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当Oracle数据库使用翻译配置文件翻译语句时，它首先搜索已注册的自定义翻译，如果未找到匹配项，则仅调用翻译程序包。</p>
                           </li>
                           <li>
                              <p>在配置文件中注册转换时，可能会禁用它。Oracle数据库不会搜索已禁用的翻译。</p>
                           </li>
                           <li>
                              <p>当<code class="codeph">translated_text</code>为<code class="codeph">NULL</code> ，不需要翻译并使用原始语句。
                              </p>
                           </li>
                           <li>
                              <p>SQL语句的旧转换（如果存在）将替换为新转换。</p>
                           </li>
                           <li>
                              <p>要取消注册转换，请使用<a href="DBMS_SQL_TRANSLATOR.html#GUID-BB26B82E-08BE-4C2E-A811-7E11D51B3F2B" title="此过程取消注册SQL转换概要文件中SQL语句的自定义转换。">DEREGISTER_SQL_TRANSLATION过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-661BDA04-D359-42FC-8D00-C111B933E608__GUID-6F01D839-B56B-4AC1-B9B3-4FFA84A775C7">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SQL_TRANSLATOR.REGISTER_SQL_TRANSLATION（profile_name =&gt;'tsql_application'，sql_text =&gt;'从emp'中选择前5 *，translated_text =&gt;'SELECT * FROM emp WHERE rownum &lt;=：SYS_N_001'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73943"></a><a id="ARPLS73944"></a><a id="ARPLS73945"></a><a id="ARPLS73944"></a><a id="ARPLS73945"></a><a id="ARPLS73943"></a><div class="props_rev_3"><a id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02" name="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02"></a><h4 id="ARPLS-GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02" class="sect4"><span class="enumeration_section">158.6.11</span> SET_ATTRIBUTE过程</h4>
                  <div>
                     <p>此过程设置SQL转换配置文件的属性。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-9D14D1D4-2DA7-449A-B2E7-62CEEC9E9877">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.SET_ATTRIBUTE（profile_name IN VARCHAR2，attribute_name IN VARCHAR2，attribute_value IN VARCHAR2;）</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-2FA5E36A-5984-4953-8B16-149B4BAF71D5">参数</p>
                        <div class="tblformal" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-88377288-E1ED-4982-A85D-7F32CFA71A33">
                           <p class="titleintable">表158-24 <span class="italic"><span class="bold">SET_ATTRIBUTE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ATTRIBUTE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.SET_ATTRIBUTE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3663">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3666">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3671" headers="d888157e3663 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3671 d888157e3666 ">
                                       <p>个人资料的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3679" headers="d888157e3663 ">
                                       <p><code class="codeph">ATTRIBUTE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3679 d888157e3666 ">
                                       <p>属性名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3687" headers="d888157e3663 ">
                                       <p><code class="codeph">ATTRIBUTE_VALUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3687 d888157e3666 ">
                                       <p>属性的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-F065B83F-CB61-4F8A-AC74-F21F5FD94213">例外</p>
                        <div class="tblformal" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-F5C03901-B597-4C8B-9E47-AD818725C1B8">
                           <p class="titleintable">表158-25 SET_ATTRIBUTE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ATTRIBUTE过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.SET_ATTRIBUTE" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3707">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3710">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3715" headers="d888157e3707 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3715 d888157e3710 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3723" headers="d888157e3707 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3723 d888157e3710 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3731" headers="d888157e3707 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3731 d888157e3710 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3739" headers="d888157e3707 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3739 d888157e3710 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F05F244-DEFC-4BCA-94A5-5815C9352E02__GUID-6318F233-0991-4EC1-AFE2-F6BEAE1E4F84">使用说明</p>
                        <p>请参阅<a href="DBMS_SQL_TRANSLATOR.html#GUID-A4BE7D19-C46A-49D2-A812-90BCE3D03B42" title="DBMS_SQL_TRANSLATOR定义了在指定参数值时要使用的几个常量。">常量</a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73949"></a><a id="ARPLS73950"></a><a id="ARPLS73951"></a><a id="ARPLS73950"></a><a id="ARPLS73951"></a><a id="ARPLS73949"></a><div class="props_rev_3"><a id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26" name="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26"></a><h4 id="ARPLS-GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26" class="sect4"><span class="enumeration_section">158.6.12</span> SQL_HASH函数</h4>
                  <div>
                     <p>此过程计算会话的SQL转换配置文件中SQL语句的哈希值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-97646CA4-9CD3-4B47-A8D6-62DCD18B8792">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.SQL_HASH（sql_text IN CLOB）RETURN NUMBER DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-617D526F-D016-4A92-8630-2BFE042C418E">参数</p>
                        <div class="tblformal" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-D7385007-5A97-4062-9D07-E2A5EC2D8E7A">
                           <p class="titleintable">表158-26 <span class="italic"><span class="bold">SQL_HASH函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL_HASH函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.SQL_HASH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3873">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3876">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3881" headers="d888157e3873 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3881 d888157e3876 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-691583D2-9838-418C-8891-EE39E8AE428F">返回值</p>
                        <p>返回SQL转换概要文件中SQL语句的哈希值</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-F7FFBE16-88C3-410E-B921-BE63250EAE04">例外</p>
                        <div class="tblformal" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-63D30FD0-4650-47B0-AB86-260EC2760528">
                           <p class="titleintable">表158-27 SQL_HASH函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL_HASH函数异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.SQL_HASH" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e3906">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e3909">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e3914" headers="d888157e3906 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e3914 d888157e3909 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7DF9EBD-3637-4CAE-BCB2-55BF11895A26__GUID-0819F805-E255-42AB-9486-200AA94E0A59">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE sqltext CLOB; txltext CLOB; sqlhash NUMBER; BEGIN sqltext：='SELECT TOP 1 * FROM emp'; sqlhash：= DBMS_SQL_TRANSLATOR.SQL_HASH（sqltext）; SELECT translated_text INTO txltext FROM user_sql_translations WHERE sql_hash = sqlhash AND DBMS_LOB.COMPARE（sql_text，sqltext）= 0;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73952"></a><a id="ARPLS73953"></a><a id="ARPLS73954"></a><a id="ARPLS73953"></a><a id="ARPLS73954"></a><a id="ARPLS73952"></a><div class="props_rev_3"><a id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4" name="GUID-DFFB611B-853A-434E-808D-D713671C3AA4"></a><h4 id="ARPLS-GUID-DFFB611B-853A-434E-808D-D713671C3AA4" class="sect4"><span class="enumeration_section">158.6.13</span> SQL_ID函数</h4>
                  <div>
                     <p>此过程计算SQL转换概要文件中SQL语句的SQL标识符。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-C11A1B70-FCB5-4F8A-9139-9BB13FA2CA53">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.SQL_ID（sql_text IN CLOB）RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-8A882335-9246-4071-B34F-E296FC5F7ABC">参数</p>
                        <div class="tblformal" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-A04EB408-4BE2-4E2E-948D-8E02C4E57740">
                           <p class="titleintable">表158-28 <span class="italic"><span class="bold">SQL_ID函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL_ID函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.SQL_ID subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4040">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4043">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4048" headers="d888157e4040 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4048 d888157e4043 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-9B67D5BA-8C16-415F-A994-B701AC527D61">返回值</p>
                        <p>返回SQL转换概要文件中SQL语句的SQL ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-0BD2C7B4-84B4-49F5-ABF0-6BF6069BF7A1">例外</p>
                        <div class="tblformal" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-C9EEC1FA-ABD1-4BC5-95D8-A954EA5816E5">
                           <p class="titleintable">表158-29 SQL_ID函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL_ID函数异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.SQL_ID" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4073">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4076">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4081" headers="d888157e4073 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4081 d888157e4076 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DFFB611B-853A-434E-808D-D713671C3AA4__GUID-3FA5D6CE-8AF1-45D5-A628-924AA519ACB7">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE sqltext CLOB; sqlid VARCHAR2（13）; BEGIN sqltext：='SELECT TOP 1 * FROM emp'; sqlid：= DBMS_SQL_TRANSLATOR.SQL_ID（sqltext）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73955"></a><a id="ARPLS73956"></a><a id="ARPLS73957"></a><a id="ARPLS73956"></a><a id="ARPLS73957"></a><a id="ARPLS73955"></a><div class="props_rev_3"><a id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B" name="GUID-3BF648FC-798D-4514-8D60-B4322C64202B"></a><h4 id="ARPLS-GUID-3BF648FC-798D-4514-8D60-B4322C64202B" class="sect4"><span class="enumeration_section">158.6.14</span> TRANSLATE_ERROR过程</h4>
                  <div>
                     <p>此过程使用会话的SQL转换配置文件转换Oracle错误代码和ANSI SQLSTATE</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-BCD6DDD9-DFF6-4EF9-9431-DADDA4C6CABF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.TRANSLATE_ERROR（error_code IN PLS_INTEGER，translated_code OUT PLS_INTEGER，translated_sqlstate OUT NOCOPY VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-AD175161-A23B-4EFA-85A3-438BCABAE5D3">参数</p>
                        <div class="tblformal" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-A376C69B-297D-47BB-88C5-E8AF2A688324">
                           <p class="titleintable">表158-30 <span class="italic"><span class="bold">TRANSLATE_ERROR过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSLATE_ERROR过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.TRANSLATE_ERROR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4208">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4211">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4216" headers="d888157e4208 ">
                                       <p><code class="codeph">错误代码</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4216 d888157e4211 ">
                                       <p>Oracle错误代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4224" headers="d888157e4208 ">
                                       <p><code class="codeph">translated_code</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4224 d888157e4211 ">
                                       <p>翻译错误代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4232" headers="d888157e4208 ">
                                       <p><code class="codeph">translated_sqlstate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4232 d888157e4211 ">
                                       <p>翻译<code class="codeph">SQLSTATE</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-9989467F-1CC2-40B2-82E0-E068C21A5995">例外</p>
                        <div class="tblformal" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-9C674F2B-2A8A-4A9F-B232-2111254AFCD3">
                           <p class="titleintable">表158-31 TRANSLATE_ERROR过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSLATE_ERROR过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.TRANSLATE_ERROR" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4254">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4257">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4262" headers="d888157e4254 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4262 d888157e4257 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4270" headers="d888157e4254 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4270 d888157e4257 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4278" headers="d888157e4254 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4278 d888157e4257 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4286" headers="d888157e4254 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4286 d888157e4257 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4294" headers="d888157e4254 ">
                                       <p><code class="codeph">NO_TRANSLATION_FOUND</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4294 d888157e4257 ">
                                       <p>未找到SQL语句或错误代码的转换</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BF648FC-798D-4514-8D60-B4322C64202B__GUID-380F691B-344A-49DB-A249-A5592D0A3348">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE translated_code BINARY_INTEGER; translated_sqlstate VARCHAR2（5）; BEGIN DBMS_SQL_TRANSLATOR.TRANSLATE_ERROR（error_code =&gt; 1，translated_code =&gt; translated_code，translated_sqlstate =&gt; translated_sqlstate）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73958"></a><a id="ARPLS73959"></a><a id="ARPLS73960"></a><a id="ARPLS73959"></a><a id="ARPLS73960"></a><a id="ARPLS73958"></a><div class="props_rev_3"><a id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6" name="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6"></a><h4 id="ARPLS-GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6" class="sect4"><span class="enumeration_section">158.6.15</span> TRANSLATE_SQL过程</h4>
                  <div>
                     <p>此过程使用SQL转换配置文件转换SQL语句。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-10604562-6672-4269-9FAD-988C62396078">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_TRANSLATOR.TRANSLATE_SQL（sql_text IN CLOB，translated_text OUT NOCOPY CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-33DAF318-26A0-4F52-B321-0C568F215A08">参数</p>
                        <div class="tblformal" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-4F7D7ECF-F7AC-4F46-901F-8F6BE98E94B3">
                           <p class="titleintable">表158-32 <span class="italic"><span class="bold">TRANSLATE_SQL过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSLATE_SQL过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_TRANSLATOR.TRANSLATE_SQL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4420">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4423">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4428" headers="d888157e4420 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4428 d888157e4423 ">
                                       <p>SQL语句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4436" headers="d888157e4420 ">
                                       <p><code class="codeph">translated_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4436 d888157e4423 ">
                                       <p>翻译的SQL语句</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-8F656262-CEC8-497E-833A-7CF2800A833A">例外</p>
                        <div class="tblformal" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-FDBD9AA8-0F98-426D-BBF7-49B61A28D645">
                           <p class="titleintable">表158-33 TRANSLATE_SQL过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSLATE_SQL过程异常" width="100%" border="1" summary="This table describes exceptions raised by DBMS_SQLTRANSLATOR.TRANSLATE_SQL" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d888157e4456">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d888157e4459">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4464" headers="d888157e4456 ">
                                       <p><code class="codeph">BAD_ARGUMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4464 d888157e4459 ">
                                       <p>错误的参数传递给PL / SQL接口</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4472" headers="d888157e4456 ">
                                       <p><code class="codeph">INSUFFICIENT_PRIVILEGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4472 d888157e4459 ">
                                       <p>用户没有足够的权限进行操作</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4480" headers="d888157e4456 ">
                                       <p><code class="codeph">没有这样的用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4480 d888157e4459 ">
                                       <p>配置文件所有者不存在</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d888157e4488" headers="d888157e4456 ">
                                       <p><code class="codeph">NO_SUCH_PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d888157e4488 d888157e4459 ">
                                       <p>配置文件不存在</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98A70EDA-9703-4470-8BC5-F17B6A08A7A6__GUID-FE25E4C0-F2C8-42FF-ACAD-98C87197D991">例子</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET SQL_TRANSLATION_PROFILE = tsql_application; DECLARE translated_text CLOB; BEGIN DBMS_SQL_TRANSLATOR.TRANSLATE_SQL（sql_text =&gt;'select top 5 * from emp'，translated_text =&gt; translated_text）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06264.DUPLICATE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>重复</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DROP-DATABASE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="EXECUTE-SCRIPT.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DROP-DATABASE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="EXECUTE-SCRIPT.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-at-sign-to-quit.html" property="item" typeof="WebPage"><span property="name">RMAN命令：@（at符号）到QUIT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">重复</li>
            </ol>
            <a id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4" name="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4"></a><a id="RCMRF90149"></a><a id="RCMRF90150"></a><a id="RCMRF90151"></a><a id="RCMRF90152"></a><a id="RCMRF90153"></a><a id="RCMRF90154"></a><a id="RCMRF90155"></a><a id="RCMRF90156"></a><a id="RCMRF90611"></a><a id="RCMRF90157"></a><a id="RCMRF90158"></a><a id="RCMRF90159"></a><a id="RCMRF90160"></a><a id="RCMRF90162"></a><a id="RCMRF90163"></a><a id="RCMRF90164"></a><a id="RCMRF90165"></a><a id="RCMRF90166"></a><a id="RCMRF90167"></a><a id="RCMRF90168"></a><a id="RCMRF90169"></a><a id="RCMRF90170"></a><a id="RCMRF90171"></a><a id="RCMRF89957"></a><a id="RCMRF89958"></a><a id="RCMRF90172"></a><a id="RCMRF90173"></a><a id="RCMRF90507"></a><a id="RCMRF90508"></a><a id="RCMRF90612"></a><a id="RCMRF126"></a>
            
            <h2 id="RCMRF-GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4" class="sect2"><span class="enumeration_section">2.20</span> DUPLICATE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-C24A1328-6FC4-4297-9F02-A92D018B136D">目的</p>
                  <p>使用<code class="codeph">DUPLICATE</code>命令创建<span class="bold">源数据库</span>的副本。RMAN可以创建以下类型的数据库之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><strong class="term">重复数据库</strong> ，它是具有唯一DBID的源数据库（或源数据库的子集）的副本。由于重复数据库具有唯一的DBID，因此它独立于源数据库，并且可以在同一恢复目录中注册。通常，重复数据库用于测试。
                        </p>
                     </li>
                     <li>
                        <p><strong class="term">备用数据库</strong> ，它是源数据库的特殊副本（在Data Guard环境中称为<span class="bold">主数据库</span> ），通过应用主数据库中的重做数据进行更新。未为备用数据库分配新的DBID。</p>
                     </li>
                  </ul>
                  <p>RMAN可以在以下任何支持的模式下执行复制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">主动复制</span> 
                        </p>
                        <p>RMAN直接从打开或装入的数据库复制文件。</p>
                        <p>主动复制可以使用映像副本或备份集。备份集具有多种优势，包括未使用的块压缩和加密。</p>
                     </li>
                     <li>
                        <p><span class="bold">没有目标连接的基于备份的复制</span> 
                        </p>
                        <p>RMAN从预先存在的RMAN备份和副本创建重复文件。必须使用<code class="codeph">DATABASE</code>子句发出<code class="codeph">DUPLICATE</code>命令。此表单需要连接到辅助实例和恢复目录。
                        </p>
                        <p>当目标数据库不可用或不希望与其建立连接时（根据安全策略限制或防火墙的要求），此模式非常有用。</p>
                     </li>
                     <li>
                        <p><span class="bold">基于备份的目标连接复制</span> 
                        </p>
                        <p>RMAN从预先存在的RMAN备份和副本创建重复文件。</p>
                     </li>
                     <li>
                        <p><span class="bold">基于备份的复制，无需连接到目标或恢复目录</span></p>
                        <p>RMAN从RMAN备份创建重复文件，并将副本放置在指定的<code class="codeph">BACKUP LOCATION.</code></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-AC041076-26AC-4A67-A46C-81C07DA69A29">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-F31F9FCE-B610-49EB-B9DB-44B9AA4E838F" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解如何使用<code class="codeph">DUPLICATE</code>命令创建重复数据库</p>
                        </li>
                        <li>
                           <p><a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB00200" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a> ，了解如何创建，管理和备份备用数据库</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-8F4FAD6D-C4E9-4435-81A6-7FC168BB050E">其他主题</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEDFFH">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHJJGI">使用说明</a></p>
                     </li>
                     <li>
                        <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDFIGHC">句法</a></p>
                     </li>
                     <li>
                        <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEHIGF">语义</a></p>
                     </li>
                     <li>
                        <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I104404">例子</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEDFFH">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-CB1EAA3C-C305-4338-A932-6B7060519F76">先决条件</p>
                  <p>先决条件因重复类型而异。</p>
                  <div class="infoboxnotealso" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-97587436-043F-4A25-9C5A-EE5AF7AFADAC">
                     <p class="notep1">也可以看看：</p>
                     <p>有关RMAN客户端和辅助实例支持的版本的信息，请参阅<a href="rman-compatibility.html#GUID-7D5B70B1-D585-4C89-9080-E2FFC355FD8F" title="RMAN兼容性有一定的规则。">RMAN Compatibility Matrix</a> 。
                     </p>
                  </div>
                  <p><span class="bold">所有复制形式的共同先决条件</span></p>
                  <p>必须将RMAN作为<code class="codeph">AUXILIARY</code>连接到重复数据库的实例。重复数据库的<span class="bold">实例</span>称为<span class="bold">辅助实例</span> 。必须使用<code class="codeph">NOMOUNT</code>选项启动辅助实例。
                  </p>
                  <p><span class="bold">源主机</span>是源数据库所在的数据库。<span class="bold">目标主机</span>是您要在其上创建重复数据库的主机。如果要在源主机上创建重复数据库，请设置<a id="d43747e317" class="indexterm-anchor"></a><a id="d43747e319" class="indexterm-anchor"></a> <code class="codeph">CONTROL_FILES</code>初始化参数相应，以便<code class="codeph">DUPLICATE</code>命令不会生成错误，因为源控件文件正在使用中。此外，适当地设置所有* <code class="codeph">_DEST</code>或其他相关的初始化参数，以便重复的数据库文件不会覆盖源数据库文件。
                  </p>
                  <p><a id="d43747e334" class="indexterm-anchor"></a><a id="d43747e338" class="indexterm-anchor"></a>通常，源数据库和重复数据库必须位于同一平台上;但是支持一些跨平台复制。对于<code class="codeph">DUPLICATE</code> ，同一平台的32位和64位版本被视为同一平台。例如，Linux IA（32位）被认为是与Linux IA（64位）相同的平台。但是，在32位和64位平台之间复制数据库之后，必须运行<a id="d43747e346" class="indexterm-anchor"></a><a id="d43747e348" class="indexterm-anchor"></a> <code class="codeph">utlirp.sql</code>脚本将PL / SQL代码转换为新格式。此脚本位于Linux和UNIX平台上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/rdbms/admin</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-8F62BC2C-E086-48D0-B23D-05E8686A935E">
                     <p class="notep1">注意：</p>
                     <p>在某些情况下，源数据库和重复数据库可以位于不同的平台上。有关<code class="codeph">DUPLICATE</code>命令的混合平台支持的更多信息，请参阅<a href="https://support.oracle.com/rs?type=doc&amp;id=1079563.1" target="_blank"><code class="codeph">https://support.oracle.com/rs?type=doc&amp;id=1079563.1</code></a>上的My Oracle Support说明1079563.1。</p>
                  </div>
                  <p><code class="codeph">DUPLICATE</code>命令需要一个或多个辅助通道。这些通道在辅助数据库实例上执行复制工作。在以下情况下，RMAN使用源数据库中的通道配置作为辅助通道：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您尚未使用<code class="codeph"><a href="ALLOCATE-CHANNEL.html#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE">ALLOCATE CHANNEL</a></code>手动分配辅助通道。
                        </p>
                     </li>
                     <li>
                        <p>您尚未使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>配置辅助通道。
                        </p>
                     </li>
                  </ul>
                  <p>如果已将自动目标通道配置为使用<code class="codeph">CONNECT</code>字符串，则RMAN会尝试在辅助实例上复制通道分配。但是，如果必须控制或更改重复的通道分配，则手动分配辅助通道。
                  </p>
                  <p>如果<a id="d43747e399" class="indexterm-anchor"></a><a id="d43747e401" class="indexterm-anchor"></a> <code class="codeph">COMPATIBLE</code>初始化参数设置为大于或等于11.0.0，然后默认情况下RMAN复制可传输的表空间，这些表空间在传输后未进行读/写。否则，RMAN无法复制<a id="d43747e408" class="indexterm-anchor"></a>可传输的表空间，除非它们在传输后已被读/写。
                  </p>
                  <p></p>
                  <p>要复制CDB，源CDB和辅助实例的<code class="codeph">COMPATIBLE</code>初始化参数必须为12.2.0或更高。要将PDB复制到新CDB，源CDB和辅助实例的<code class="codeph">COMPATIBLE</code>初始化参数必须为12.2.0或更高。要将PDB复制到现有CDB，源CDB和目标CDB的<code class="codeph">COMPATIBLE</code>初始化参数必须为18.0.0或更高。
                  </p>
                  <p>您必须配置静态侦听器以执行复制。</p>
                  <p><a id="d43747e428" class="indexterm-anchor"></a><a id="d43747e432" class="indexterm-anchor"></a><a id="d43747e434" class="indexterm-anchor"></a><a id="d43747e436" class="indexterm-anchor"></a><a id="d43747e438" class="indexterm-anchor"></a>以下数据库加密功能使用Oracle软件密钥库：透明数据加密（TDE），它在列级别运行，以及表空间加密。如果要复制加密的表空间，则必须手动将Oracle密钥库复制到重复的数据库。必要时，RMAN可以打开自动登录密钥库。使用基于密码的Oracle密钥库时，必须使用<code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code>命令指定打开Oracle密钥库所需的密码。
                  </p>
                  <div class="infoboxnotealso" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-A566D8FF-4B0C-4A77-9711-2ED7B1891A43">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG10139" target="_blank"><span class="italic">Oracle数据库高级安全指南</span></a>了解TDE</p>
                  </div>
                  <p><span class="bold">特定于基于备份的复制的先决条件</span></p>
                  <p>如<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BABEDFJI" title="两种基于备份的复制模式的要求">表2-6</a>所示，基于备份的复制的先决条件取决于RMAN是否作为<code class="codeph">TARGET</code>连接到源数据库。
                  </p>
                  <div class="tblformalwide" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BABEDFJI">
                     <p class="titleintable">表2-6三种基于备份的复制方式的先决条件</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="三种基于备份的复制模式的先决条件" width="100%" border="1" summary="Requirements for Two Modes of Backup-Based Duplication" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="57%" id="d43747e476">条件</th>
                              <th align="left" valign="bottom" width="14%" id="d43747e479">没有目标和没有恢复连接</th>
                              <th align="left" valign="bottom" width="14%" id="d43747e482">没有目标连接</th>
                              <th align="left" valign="bottom" width="14%" id="d43747e485">目标连接</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e490" headers="d43747e476 ">
                                 <p>RMAN需要连接到恢复目录。</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e490 d43747e479 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e490 d43747e482 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e490 d43747e485 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e503" headers="d43747e476 ">
                                 <p>用于创建和恢复重复数据库的所有备份和归档重做日志文件必须可由目标主机上的服务器会话访问。</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e503 d43747e479 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e503 d43747e482 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e503 d43747e485 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e516" headers="d43747e476 ">
                                 <p>如果目标主机与源主机不同，则必须在源主机的磁盘上使用与源数据库中相同的完整路径名对目标主机可用的备份进行备份。</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e516 d43747e479 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e516 d43747e482 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e516 d43747e485 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e529" headers="d43747e476 ">
                                 <p>您必须使用<code class="codeph">DATABASE</code>子句提供源数据库的名称。如果源数据库的名称在恢复目录中不唯一，则还必须在<code class="codeph">DATABASE</code>子句中提供数据库ID（DBID）。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e529 d43747e479 ">
                                 <p>如果<code class="codeph">BACKUP LOCATION</code>没有来自多个数据库的备份，则为否。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e529 d43747e482 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e529 d43747e485 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e551" headers="d43747e476 ">
                                 <p>必须在当前的版本中指定<code class="codeph">UNTIL</code>子句。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e551 d43747e479 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e551 d43747e482 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e551 d43747e485 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e566" headers="d43747e476 ">
                                 <p><code class="codeph">NOREDO</code>时必须指定RMAN必须防止归档重做日志文件备份应用程序（见说明<code class="codeph">NOREDO</code>了解更多信息）。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e566 d43747e479 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e566 d43747e482 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e566 d43747e485 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e584" headers="d43747e476 ">
                                 <p>如果复制表空间的子集，并且源数据库未打开，则必须在<code class="codeph">UNDO TABLESPACE</code>子句中列出具有还原段的任何重复表空间。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e584 d43747e479 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e584 d43747e482 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e584 d43747e485 ">
                                 <p>是（如果没有使用目录且目标未打开）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d43747e600" headers="d43747e476 ">
                                 <p>RMAN自动强制执行以下规则：表空间集必须是自包含的，并且不得包含<code class="codeph">SYS</code>拥有的数据库对象。</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e600 d43747e479 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e600 d43747e482 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d43747e600 d43747e485 ">
                                 <p>是</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDBCJFA"><span class="bold">特定于活动数据库复制的先决条件</span></p>
                  <p>使用<code class="codeph">FROM ACTIVE DATABASE</code>执行<code class="codeph">DUPLICATE</code>时，至少需要一个正常目标通道和至少一个<code class="codeph">AUXILIARY</code>通道。如果您未配置或预分配通道，RMAN默认会分配必要的通道。如果为备份集配置或手动分配主动复制的通道，请确保辅助通道的数量大于或等于目标通道的数量。
                  </p>
                  <p>将RMAN作为<code class="codeph">TARGET</code>连接到源数据库时，即使RMAN使用操作系统身份验证，也必须指定用户名和密码。与辅助实例的连接必须使用与源数据库连接相同的用户名和密码。必须安装或打开源数据库。如果源数据库已打开，则必须启用存档。如果源数据库未打开，则必须始终关闭它。
                  </p>
                  <p>将RMAN连接到辅助实例时，以下规则适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在与辅助实例相同的主机上运行RMAN时，如果使用用户名和密码进行连接，并且<code class="codeph">DUPLICATE</code>命令不包含<code class="codeph">PASSWORD FILE</code>子句，则可以在本地连接而不使用网络服务名称。连接用户必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限。
                        </p>
                     </li>
                     <li>
                        <p>远程连接或在<code class="codeph">DUPLICATE</code>命令中使用<code class="codeph">PASSWORD FILE</code>子句时，必须使用网络服务名称进行连接。您必须首先为辅助实例创建密码文件。
                        </p>
                     </li>
                  </ul>
                  <p>源数据库和辅助实例必须使用相同的<code class="codeph">SYS</code>和<a id="d43747e667" class="indexterm-anchor"></a> <code class="codeph">SYSBACKUP</code>密码，表示两个实例都必须具有密码文件。对于<code class="codeph">SYS</code>和<code class="codeph">SYSBACKUP</code>用户，密码文件必须至少包含两个密码。您可以启动辅助实例并启用源数据库以连接到它。
                  </p>
                  <p><code class="codeph">DUPLICATE</code>行为<a id="d43747e685" class="indexterm-anchor"></a><a id="d43747e689" class="indexterm-anchor"></a>密码文件取决于您的重复数据库是否将充当备用数据库。如果创建的重复数据库不是备用数据库，则默认情况下RMAN不会复制密码文件。您可以指定<code class="codeph">PASSWORD FILE</code>选项以指示RMAN可以覆盖辅助实例上的现有密码文件。如果创建备用数据库，则RMAN默认将密码文件复制到备用主机，覆盖现有密码文件。在这种情况下， <code class="codeph">PASSWORD FILE</code>子句不是必需的。
                  </p>
                  <p>执行活动数据库复制时，不能使用<code class="codeph">UNTIL</code>子句。RMAN根据在线数据文件完全复制的时间选择时间，以便可以将数据文件恢复到一致的时间点。
                  </p>
                  <div class="infoboxnotealso" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-94B7AF61-B794-473E-84AC-2F177F71E8FA">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dbseg/configuring-authentication.html#DBSEG0032" target="_blank"><span class="italic">Oracle数据库安全指南</span></a>了解密码保护</p>
                  </div>
                  <p></p>
                  <p><span class="bold">将PDB复制到现有CDB的先决条件</span></p>
                  <p>除了活动数据库复制的先决条件之外，还适用以下先决条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>源CDB和目标CDB上的<code class="codeph">COMPATIBLE</code>初始化参数必须设置为18.0.0或更高</p>
                     </li>
                     <li>
                        <p>源CDB和辅助（复制）CDB必须使用本地撤消</p>
                     </li>
                     <li>
                        <p>复制的PDB必须处于只读或读写模式</p>
                     </li>
                     <li>
                        <p>要复制PDB的目标CDB必须以读写模式打开</p>
                     </li>
                     <li>
                        <p>目标CDB必须使用服务器参数文件（spfile）</p>
                     </li>
                     <li>
                        <p>必须在目标CDB上设置初始化参数<code class="codeph">REMOTE_RECOVERY_FILE_DEST</code></p>
                     </li>
                     <li>
                        <p>RMAN必须连接到辅助（重复）CDB的根目录</p>
                     </li>
                  </ul>
                  <p></p>
                  <p><span class="bold">使用加密执行复制的先决条件</span></p>
                  <p>除了特定于正在使用的复制形式的先决条件之外，在使用<code class="codeph">AS ENCRYPTED</code>或<code class="codeph">AS DECRYPTED</code>子句时，以下先决条件也适用。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">COMPATIBLE</code>初始化参数必须设置为18.0.0或更高</p>
                     </li>
                     <li>
                        <p>必须使用<code class="codeph">ADMINISTER KEY MANAGEMENT SET ENCRYPTION KEY</code>命令至少将主密钥设置一次。
                        </p>
                     </li>
                     <li>
                        <p>用于加密源数据库上的数据库，CDB或表空间的Oracle密钥库必须复制到复制/辅助数据库，然后打开。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHJJGI">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-B9AF567F-8EEA-4B7C-BD08-C51A1A144E7D">使用说明</p>
                  <p>复制整个多租户容器数据库（CDB）或一个或多个可插拔数据库（PDB）时，必须将辅助实例创建为CDB，并且必须连接到目标和辅助实例的根。要将辅助实例创建为CDB，请在初始化参数文件中包含声明<code class="codeph">enable_pluggable_database=TRUE</code> 。
                  </p>
                  <p><a id="d43747e784" class="indexterm-anchor"></a><a id="d43747e788" class="indexterm-anchor"></a><a id="d43747e792" class="indexterm-anchor"></a>使用映像副本的活动数据库复制使用辅助网络服务名称将源数据库通过网络复制到目标主机上的辅助实例。相反，在与备份集的活动数据库复制中，辅助实例使用目标实例网络服务名称来检索网络上的源数据库文件。基于备份的复制使用预先存在的RMAN备份和副本。
                  </p>
                  <p><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIJJHJ" title="标识重复的源数据库文件">表2-7</a>显示了源数据库中的哪些文件是重复的。
                  </p>
                  <div class="tblformal" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIJJHJ">
                     <p class="titleintable">表2-7重复文件</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="重复的文件" width="100%" border="1" summary="Identifies source database files that are duplicated" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d43747e814">源数据库文件</th>
                              <th align="left" valign="bottom" width="33%" id="d43747e817">活动数据库</th>
                              <th align="left" valign="bottom" width="33%" id="d43747e820">备份为基础</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e825" headers="d43747e814 ">
                                 <p>控制文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e825 d43747e817 ">
                                 <p><code class="codeph">FOR STANDBY</code>指定时从源数据库复制;否则重新创建</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e825 d43747e820 ">
                                 <p>从备份中恢复</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e838" headers="d43747e814 ">
                                 <p>数据文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e838 d43747e817 ">
                                 <p>从源数据库复制（除非使用<code class="codeph">SKIP</code>选项排除）</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e838 d43747e820 ">
                                 <p>从备份恢复（除非使用<code class="codeph">SKIP</code>选项排除）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e854" headers="d43747e814 ">
                                 <p>临时文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e854 d43747e817 ">
                                 <p>重新创建（参见<span class="q">“ <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHHBIA">临时文件重新创建</a> ”</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e854 d43747e820 ">
                                 <p>重新创建（参见<span class="q">“ <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHHBIA">临时文件重新创建</a> ”</span> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e872" headers="d43747e814 ">
                                 <p>在线重做日志文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e872 d43747e817 ">
                                 <p>重新创建</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e872 d43747e820 ">
                                 <p>重新创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e882" headers="d43747e814 ">
                                 <p>备用重做日志文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e882 d43747e817 ">
                                 <p>在主数据库上指定和定义<code class="codeph">FOR STANDBY</code>时重新创建</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e882 d43747e820 ">
                                 <p>在主数据库上指定和定义<code class="codeph">FOR STANDBY</code>时重新创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e898" headers="d43747e814 ">
                                 <p>存档的重做日志文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e898 d43747e817 ">
                                 <p>从源数据库复制，但仅在复制需要时才复制</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e898 d43747e820 ">
                                 <p>从备份或编目副本中获取，但仅在复制需要时才能获得</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e908" headers="d43747e814 ">
                                 <p>服务器参数文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e908 d43747e817 ">
                                 <p>从源数据库复制（请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList中的</a></span> <code class="codeph">SPFILE</code>子句）</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e908 d43747e820 ">
                                 <p>如果指定了<code class="codeph">SPFILE</code>子句，则从备份还原（请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList</a></span> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e932" headers="d43747e814 ">
                                 <p>闪回日志文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e932 d43747e817 ">
                                 <p>没有重新创建</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e932 d43747e820 ">
                                 <p>没有重新创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e942" headers="d43747e814 ">
                                 <p>阻止更改跟踪文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e942 d43747e817 ">
                                 <p>没有重新创建</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e942 d43747e820 ">
                                 <p>没有重新创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e952" headers="d43747e814 ">
                                 <p>密码文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e952 d43747e817 ">
                                 <p>默认情况下复制备用数据库;对于非备用数据库，仅在指定了<code class="codeph">PASSWORD FILE</code>选项时复制</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e952 d43747e820 ">
                                 <p>没有重新创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d43747e965" headers="d43747e814 ">
                                 <p>快速恢复区中的备份和其他文件</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e965 d43747e817 ">
                                 <p>没有复制</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d43747e965 d43747e820 ">
                                 <p>没有复制</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>除非脱机清除或排除，否则所有数据文件都包含在重复数据库中。您可以使用<code class="codeph">SKIP</code>子句排除表空间，也可以仅使用<code class="codeph">DUPLICATE ...包含表空间的子集<code class="codeph">DUPLICATE ...TABLESPACE</code> 。</p>
                  <p>该<a id="d43747e984" class="indexterm-anchor"></a><a id="d43747e988" class="indexterm-anchor"></a>如果您明确定义了快速恢复区域，则在重复数据库或备用数据库上定义快速恢此外，如果在源数据库上定义了快速恢复区域，并且辅助实例使用通过<code class="codeph">DUPLICATE</code>命令复制或还原的服务器参数文件，则在复制或备用数据库上定义快速恢复区域。
                  </p>
                  <p>如果使用活动数据库复制，请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList中</a></span>的<code class="codeph">FROM ACTIVE DATABASE</code>说明以获取用法说明。
                  </p>
                  <p><span class="bold">基于备份的复制</span></p>
                  <p><a id="d43747e1009" class="indexterm-anchor"></a>在基于备份的数据库复制中，与目标数据库连接并在<a id="d43747e1014" class="indexterm-anchor"></a> <code class="codeph">NOARCHIVELOG</code>模式，介质恢复使用<code class="codeph">NOREDO</code>选项。因此，如果存在增量备份，则RMAN仅在恢复期间将这些增量备份应用于还原的文件。
                  </p>
                  <p>对于基于备份的数据库复制<a id="d43747e1024" class="indexterm-anchor"></a> <code class="codeph">ARCHIVELOG</code>模式下，RMAN默认恢复到执行命令时生成的最后一个归档重做日志，或直到使用<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code>子句指定的时间。
                  </p>
                  <p>对于没有连接到目标数据库的基于备份的数据库复制，RMAN无法确定源数据库是否处于<code class="codeph">NOARCHIVELOG</code>模式。因此，在进行备份时源数据库处于<code class="codeph">NOARCHIVELOG</code>模式时，必须使用<code class="codeph">NOREDO</code>选项。如果不希望将归档重做日志文件应用于一致备份，也可以使用<code class="codeph">NOREDO</code>选项。
                  </p>
                  <p>如果使用基于备份的复制，并且源数据库和辅助实例驻留在不同的主机上，则必须确定如何使源数据库的备份可用于辅助实例。有关如何使用<code class="codeph">BACKUP LOCATION</code>执行此操作的详细信息，请查看<span class="q">“ <a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-28AA671E-C024-4DAD-B75A-6BD903C7E84A" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ”中</span>描述的选项。
                  </p>
                  <p>如果目标数据库未在ASM存储中使用恢复区域，则在执行<code class="codeph">DUPLICATE</code>命令之前执行以下任务之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果您正在使用SBT备份，请使用目标主机可访问的备份制作磁带。</p>
                     </li>
                     <li>
                        <p>如果使用磁盘备份，并且可以在目标主机上使用与源主机相同的备份目录名称，请执行以下操作之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>手动将备份和副本从源主机传输到目标主机到相同的路径。</p>
                           </li>
                           <li>
                              <p>使用NFS或共享磁盘，并确保在目标主机中可以访问相同的路径。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果使用磁盘备份，并且<span class="italic">无法</span>在目标主机上使用与源主机相同的备份目录名称，请使用“ <a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-28AA671E-C024-4DAD-B75A-6BD903C7E84A" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”中</span></a>介绍的技术。
                        </p>
                     </li>
                  </ul>
                  <p>如果源数据库使用了恢复区域<a id="d43747e1096" class="indexterm-anchor"></a> ASM存储，然后在执行<code class="codeph">DUPLICATE</code>命令之前执行以下任务之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将数据库备份到快速恢复区域之外的位置。您可以通过以下方式访问此备份：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用NFS在目标主机上以相同名称装载备份。</p>
                           </li>
                           <li>
                              <p>使用NFS在目标主机上使用其他名称装载备份，然后在将RMAN作为<code class="codeph">TARGET</code>连接到源数据库时将备份<code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>将快速恢复区备份到磁带并将其用于复制。</p>
                     </li>
                  </ul>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDECBFJ"><span class="bold">与Oracle托管文件重复</span></p>
                  <p>如果源数据库文件在<a id="d43747e1131" class="indexterm-anchor"></a><a id="d43747e1133" class="indexterm-anchor"></a> Oracle Managed Files（OMF）格式，则无法使用<a id="d43747e1136" class="indexterm-anchor"></a><a id="d43747e1138" class="indexterm-anchor"></a> <code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code> <a id="d43747e1147" class="indexterm-anchor"></a><a id="d43747e1149" class="indexterm-anchor"></a>初始化参数或<span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></span></code></span>子句为重复数据库生成新的OMF文件名。如果不遵循此规则，则从这三种方法生成的新OMF文件可能会导致问题。有关OMF名称的更多信息，请参阅“ <span class="italic">Oracle数据库备份和恢复用户指南</span> ”中的“在TSPITR中重命名OMF辅助设置文件时的注意事项<span class="italic">”</span></p>
                  <p>此规则的唯一例外是仅更改ASM磁盘组名称时。假设源数据文件和联机重做日志文件存储在ASM磁盘组<code class="codeph">+SOURCEDSK</code> 。您希望将重复的数据库文件存储在ASM磁盘组<code class="codeph">+DUPDSK</code> 。在这种情况下，您可以按如下方式设置初始化参数：</p><pre class="oac_no_warn" dir="ltr">DB_FILE_NAME_CONVERT =（“+ SOURCEDSK”，“+ DUPDSK”）LOG_FILE_NAME_CONVERT =（“+ SOURCEDSK”，“+ DUPDSK”）</pre><p>RMAN使用<code class="codeph">DB_FILE_NAME_CONVERT</code>或<code class="codeph">LOG_FILE_NAME_CONVERT</code>转换磁盘组名称，然后根据转换的磁盘组名称生成新的有效文件名。
                  </p>
                  <p>当源文件采用Oracle托管文件格式时，您有以下其他支持的命名数据文件选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code>指定单个数据文件的名称。
                        </p>
                     </li>
                     <li>
                        <p>设置<code class="codeph">DB_FILE_CREATE_DEST</code>以生成新数据库Oracle管理文件的所有数据文件，但使用<code class="codeph">SET NEWNAME</code>的文件除外。如果设置<code class="codeph">DB_FILE_NAME_CONVERT</code> ，请不要设置<code class="codeph">DB_FILE_CREATE_DEST</code> 。</p>
                     </li>
                  </ul>
                  <p>用于命名从Oracle管理的文件复制的联机重做日志的支持选项是<code class="codeph">DB_CREATE_FILE_DEST</code> ， <code class="codeph">DB_RECOVERY_FILE_DEST</code>或<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> 。
                  </p>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHHBIA"><span class="bold">临时文件重新创建</span></p>
                  <p><code class="codeph">DB_FILE_NAME_CONVERT</code>参数可以转换非Oracle管理文件（OMF）的新数据库的临时文件名。此限制的唯一例外是自动存储管理（ASM）OMF名称，您只能在其中更改磁盘组的名称。
                  </p>
                  <p>转换新数据库的临时文件名的另一种方法是使用<code class="codeph">SET NEWNAME FOR TEMPFILE TO 'filename'</code>或<code class="codeph">TO NEW</code> 。使用后一种方法，无论数据文件是OMF还是非OMF，都会在打开数据库时在<code class="codeph">DB_CREATE_FILE_DEST</code>目录位置重新创建临时文件。
                  </p>
                  <p><a id="d43747e1246" class="indexterm-anchor"></a>要为临时文件指定不同的文件名，请参阅<code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> <code class="codeph">TEMPFILE</code>的讨论。
                  </p>
                  <p><span class="bold">与CDB，PDB和稀疏数据库重复</span></p>
                  <p><code class="codeph">DUPLICATE</code>命令使您可以复制CDB，根和一个或多个PDB。该过程类似于复制非CDB的过程。不同之处在于您必须以授予<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限的用户身份连接到root，并且必须将辅助实例创建为CDB。要复制PDB，请使用带有<code class="codeph">PLUGGABLE DATABASE</code>选项的<code class="codeph">DUPLICATE</code>命令。
                  </p>
                  <p>RMAN还允许您在目标连接模式下使用基于备份的复制来复制稀疏数据库。要复制稀疏数据库，RMAN首先执行隐式还原，然后从所选备份中选择数据文件。</p>
                  <div class="infoboxnotealso" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-AAF89FD2-80B6-4E64-81D5-B848D21E51DF">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">连接</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关复制CDB和PDB的信息，请参见<a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-D95D9275-5882-4D5B-846F-1A03304BC307" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDFIGHC">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-1246E3EF-1F54-47CF-9F63-106712E924BC">句法</p>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDICDAE"><a id="d43747e1299" class="indexterm-anchor"></a><a id="d43747e1303" class="indexterm-anchor"></a> <span class="bold"><span class="italic">duplicate</span> :: =</span></p>
                  <div class="figure" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-1EAE04BF-BE5B-4547-8A84-2F7E7A909671"><img src="img/duplicate.gif" alt="duplicate.eps的描述如下" title="duplicate.eps的描述如下" longdesc="img_text/duplicate.html"><br><a href="img_text/duplicate.html">说明duplicate.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><span class="bold"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHECDG">dupOptionList :: =</a></span></span> ）</p>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHECDG"><a id="d43747e1322" class="indexterm-anchor"></a><a id="d43747e1326" class="indexterm-anchor"></a> <span class="bold"><span class="italic">dupOptionList</span> :: =</span></p>
                  <div class="figure" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-9E4B7775-A057-41FA-838D-7B54BABF6092"><img src="img/dupoptionlist.gif" alt="dupoptionlist.eps的描述如下" title="dupoptionlist.eps的描述如下" longdesc="img_text/dupoptionlist.html"><br><a href="img_text/dupoptionlist.html">说明dupoptionlist.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3__BABBJGBH">fileNameConversionSpec :: =</a></span> ， <span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIGIJD">logSpec :: =</a></span> ， <span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIGEDI">setParameter :: =</a></span> ， <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec :: =</a></span> ， <span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause :: =</a></span> ）</p>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIGEDI"><a id="d43747e1365" class="indexterm-anchor"></a><a id="d43747e1369" class="indexterm-anchor"></a> <span class="bold"><span class="italic">setParameter</span> :: =</span></p>
                  <div class="figure" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-109DF395-3D9F-485D-B285-989E41F6FE11"><img src="img/setparameter.gif" alt="下面是setparameter.eps的描述" title="下面是setparameter.eps的描述" longdesc="img_text/setparameter.html"><br><a href="img_text/setparameter.html">插图描述setparameter.eps</a></div>
                  <!-- class="figure" -->
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIGIJD"><a id="d43747e1381" class="indexterm-anchor"></a><a id="d43747e1385" class="indexterm-anchor"></a> <span class="bold"><span class="italic">logSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-6A126C38-2FE1-454C-8D07-119C82B95F85"><img src="img/logspec.gif" alt="logspec.eps的描述如下" title="logspec.eps的描述如下" longdesc="img_text/logspec.html"><br><a href="img_text/logspec.html">说明logspec.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEHIGF">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-9D8B17EF-C61F-4E15-BE76-970E3DB69023">语义</p>
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1018642"><span class="bold"><span class="italic">重复</span></span></p>
                  <p>此子句使您可以复制数据库或表空间。有关语法，请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDICDAE">duplicate :: =</a></span> diagram。
                  </p>
                  <div class="tblformalwide" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-F425BC06-C9C6-4971-B664-528D236F86A1">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes DUPLICATE command parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d43747e1424">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d43747e1427">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1432" headers="d43747e1424 ">
                                 <p><code class="codeph">目标数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1432 d43747e1427 ">
                                 <p>指定源数据库，即要复制的数据库。从Oracle Database <span class="italic">11g</span>第2版开始， <code class="codeph">TARGET</code>关键字是可选的。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1446" headers="d43747e1424 ">
                                 <p><code class="codeph">数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1446 d43747e1427 ">
                                 <p>指定源数据库。</p>
                                 <p>在CDB中， <a id="d43747e1455" class="indexterm-anchor"></a><a id="d43747e1459" class="indexterm-anchor"></a>指定整个CDB。指定连接到PDB时的PDB。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1465" headers="d43747e1424 ">
                                 <p><span class="italic"><code class="codeph">'数据库名称'</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1465 d43747e1427 ">
                                 <p>指定源数据库的名称，该数据库是要复制的数据库。</p>
                                 <p>当RMAN作为<code class="codeph">TARGET</code>连接到源数据库时，可以使用此子句代替<code class="codeph">TARGET DATABASE</code> 。使用目标连接执行复制时，必须指定当前连接的数据库，而不使用<code class="codeph">INCARNATION</code>子句。
                                 </p>
                                 <p>对于没有目标连接的基于备份的复制，您必须指定数据库名称或运行<code class="codeph">SET DATABASE</code> <span class="italic">'</span>命令。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1493" headers="d43747e1424 ">
                                 <p><code class="codeph">DBID</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1493 d43747e1427 ">
                                 <p>指定源数据库的数据库ID（DBID）。</p>
                                 <p>如果复制时没有与源数据库的<code class="codeph">TARGET</code>连接，并且恢复目录中的数据库名称不唯一，则需要<code class="codeph">DBID</code>参数。另一种选择是使用<code class="codeph">SET DBID</code>命令。
                                 </p>
                                 <p>当RMAN在作为<code class="codeph">TARGET</code>连接到源数据库时复制数据库时，不需要<code class="codeph">DBID</code>参数。如果指定<code class="codeph">DBID</code> ，则将该值设置为与源数据库的<code class="codeph">DBID</code>匹配。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1529" headers="d43747e1424 ">
                                 <p><a id="d43747e1531" class="indexterm-anchor"></a> <code class="codeph">INCARNATION</code> <span class="italic"><code class="codeph">primaryKey</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1529 d43747e1427 ">
                                 <p>指定孤儿化身。</p>
                                 <p>默认情况下，带有<code class="codeph">UNTIL</code>子句的<code class="codeph">DUPLICATE</code>命令指的是当前数据库化身中的某个时间点或当前化身的直接祖先。此子句使您可以指定不在当前化身路径中的化身，称为孤儿化身。连接到目标数据库或使用<code class="codeph">BACKUP LOCATION</code>时指定<code class="codeph">INCARNATION</code>无效。</p>
                                 <p>另一种选择是使用<code class="codeph">SET INCARNATION</code>命令。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1565" headers="d43747e1424 ">
                                 <p><code class="codeph">[TARGET] PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1565 d43747e1427 ">
                                 <p></p>
                                 <p>指定源PDB，即要复制到现有CDB的PDB。</p>
                                 <p>您必须以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的公共用户身份连接到root用户。
                                 </p>
                                 <p><span class="bold">注意：</span>使用此选项时仅支持活动复制。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1590" headers="d43747e1424 ">
                                 <p> <code class="codeph">     </code> <code class="codeph">AS</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1590 d43747e1427 ">
                                 <p></p>
                                 <p>在将PDB复制到现有CDB时，指定目标CDB中PDB的名称。如果目标CDB中存在具有指定名称的PDB，则该命令将失败。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1605" headers="d43747e1424 ">
                                 <p><code class="codeph">为FARSYNC</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1605 d43747e1427 ">
                                 <p>创建Oracle Data Guard远程同步实例。您可以使用活动数据库复制或基于备份的复制来创建远程同步实例。</p>
                                 <p>此选项不适用于<code class="codeph">DORECOVER</code>并导致错误消息。
                                 </p>
                                 <p>请参阅<a href="../sbydb/creating-oracle-data-guard-far-sync-instance.html#SBYDB-GUID-8AD7FBA2-42B0-46CF-852B-1AF0CB4A36E8" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1626" headers="d43747e1424 ">
                                 <p><code class="codeph">对于待机</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1626 d43747e1427 ">
                                 <p>指定要复制为备用数据库的数据库（请参见<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDDFDGH">示例2-92</a> ）。
                                 </p>
                                 <p>要使用<code class="codeph">DUPLICATE</code>命令创建备用数据库，必须指定<code class="codeph">FOR STANDBY</code>选项。<code class="codeph">DUPLICATE ...FOR STANDBY</code>命令通过还原备用控制文件并挂载备用控制文件来创建备用数据库。如果指定<code class="codeph">FROM ACTIVE DATABASE</code> ，则RMAN会将数据文件从主数据库复制到备用数据库。否则，RMAN将源数据库数据文件的备份还原到备用数据库。除非指定了<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code> ，否则RMAN将恢复最新的文件。
                                 </p>
                                 <p>如果要复制SPFILE，请在<code class="codeph">SPFILE</code>子句中指定唯一的<code class="codeph">DB_UNIQUE_NAME</code> 。如果不是，则手动将此参数设置为辅助实例的PFILE或SPFILE中的唯一值。
                                 </p>
                                 <p>您不能将<code class="codeph">TO</code> <span class="italic"><code class="codeph">database_name</code></span>用于备用数据库。
                                 </p>
                                 <p>如果指定<code class="codeph">DORECOVER</code> ，则RMAN也会恢复数据库。备份数据库在复制完成后仍保持挂载状态。
                                 </p>
                                 <p>您无法使用<code class="codeph">SET NEWNAME</code>或<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">AUXNAME</code>转换备用数据库上联机重做日志的文件名。
                                 </p>
                                 <p>您无法将RMAN <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到备用数据库，然后使用<code class="codeph">DUPLICATE ...FOR STANDBY</code>创建一个额外的备用数据库。要创建其他备用数据库，请将RMAN连接到原始主数据库并运行<code class="codeph">DUPLICATE ...FOR STANDBY</code> 。</p>
                                 <p><span class="bold">注意：</span> RMAN不支持部分PDB复制。因此，在创建备用数据库时，不能使用<code class="codeph">SKIP TABLESPACE</code> ， <code class="codeph">TABLESPACE</code> ， <code class="codeph">SKIP PLUGGABLE DATABASE</code>和<code class="codeph">PLUGGABLE DATABASE</code>选项。
                                 </p>
                                 <p><span class="bold">注意：</span>虽然可以使用<code class="codeph">DUPLICATE</code>命令创建备用数据库，但不能使用此命令激活备用数据库。
                                 </p>
                                 <p>将RMAN连接到备用数据库和注册主数据库的恢复目录时，RMAN会识别备用数据库并隐式注册它。不要尝试对备用数据库使用<code class="codeph">REGISTER</code>命令。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1735" headers="d43747e1424 ">
                                 <p><code class="codeph">TO</code> <span class="italic"><code class="codeph">database_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1735 d43747e1427 ">
                                 <p>指定将CDB / PDB复制到新CDB或复制非CDB时重复数据库的名称。此重复数据库不是备用数据库，因此该子句不能与<code class="codeph">FOR STANDBY</code>一起使用。</p>
                                 <p></p>
                                 <p>指定在将PDB复制到现有CDB时必须将源PDB复制到的CDB的名称。 CDB必须存在并以读写模式打开。</p>
                                 <p>如果未指定<code class="codeph">SPFILE</code>子句，则指定的数据库名称必须与重复数据库实例的初始化参数文件中的名称匹配，该文件是RMAN作为<code class="codeph">AUXILIARY</code>连接的实例。否则，数据库发出错误信号。
                                 </p>
                                 <p>当重复数据库与源数据库位于同一Oracle主目录中时，不能对源数据库和重复数据库使用相同的数据库名称。但是，如果重复数据库与源数据库位于不同的Oracle主目录中，则其数据库名称必须与其Oracle主目录中的其他数据库名称不同。为简化重复数据库的管理，Oracle建议您对源数据库和重复数据库使用不同的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1762" headers="d43747e1424 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1762 d43747e1427 ">
                                 <p>指定用于创建重复或备用数据库的选项。请参见<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList</a></span> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578"><span class="bold"><span class="italic">dupOptionList</span></span></p>
                  <p>本子条款包括控制复制方面的选项，例如命名文件和确定复制的终点。有关语法，请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHECDG">dupOptionList :: =</a></span>图表。
                  </p>
                  <p>当重复数据库的文件名必须与源数据库的文件名不同时（如目标主机和源主机相同时），为数据文件和联机重做日志指定新文件名或转换源数据库文件名。如果未指定重复数据库的联机重做日志和数据文件的文件名，则RMAN将使用源数据库中的数据文件名。</p>
                  <div class="tblformalwide" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-897244A7-1611-4811-9126-C7A6643DE3C5">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes DUPLICATE command dupOptionList parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d43747e1797">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d43747e1800">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1805" headers="d43747e1797 ">
                                 <p><code class="codeph">作为加密</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1805 d43747e1800 ">
                                 <p></p>
                                 <p>指定在复制未加密的源CDB，PDB或表空间时，必须在目标数据库中加密数据块。</p>
                                 <p>当您要复制不对Oracle Cloud使用加密的内部部署数据库时，这非常有用。使用<code class="codeph">AS ENCRYPTED</code>复制数据库或PDB可确保Oracle Cloud上的PDB已加密。
                                 </p>
                                 <p><span class="bold">注意：</span>必须将<code class="codeph">COMPATIBLE</code>初始化参数设置为18.0.0或更高才能使用此子句。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能将此子句与<code class="codeph">CONTROLFILE</code> ， <code class="codeph">SPFILE</code> ， <code class="codeph">ARCHIVELOG</code> ， <code class="codeph">FOREIGN ARCHIVELOG</code> ， <code class="codeph">DATAFILE</code> ， <code class="codeph">FOREIGN DATAFILE</code>和<code class="codeph">BACKUPSET</code>子句一起使用。
                                 </p>
                                 <div class="p"><span class="bold">注意：</span>以下操作不支持此子句：<ul style="list-style-type:disc">
                                       <li>
                                          <p>创建备用数据库</p>
                                       </li>
                                       <li>
                                          <p>将PDB复制到现有CDB</p>
                                       </li>
                                       <li>
                                          <p>执行时间点恢复</p>
                                       </li>
                                    </ul>
                                 </div>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1866" headers="d43747e1797 ">
                                 <p><code class="codeph">作为解密</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1866 d43747e1800 ">
                                 <p></p>
                                 <p>指定必须复制包含加密表空间或列的源数据库或PDB，并且重复数据库中的数据块未加密。</p>
                                 <p><span class="bold">注意：</span>必须将<code class="codeph">COMPATIBLE</code>初始化参数设置为18.0.0或更高才能使用此子句。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能将此子句与<code class="codeph">CONTROLFILE</code> ， <code class="codeph">SPFILE</code> ， <code class="codeph">ARCHIVELOG</code> ， <code class="codeph">FOREIGN ARCHIVELOG</code> ， <code class="codeph">DATAFILE</code> ， <code class="codeph">FOREIGN DATAFILE</code>和<code class="codeph">BACKUPSET</code>子句一起使用。
                                 </p>
                                 <div class="p"><span class="bold">注意：</span>以下操作不支持此子句：<ul style="list-style-type:disc">
                                       <li>
                                          <p>创建备用数据库</p>
                                       </li>
                                       <li>
                                          <p>将PDB复制到现有CDB</p>
                                       </li>
                                       <li>
                                          <p>执行时间点恢复</p>
                                       </li>
                                    </ul>
                                 </div>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1922" headers="d43747e1797 ">
                                 <p><code class="codeph">BACKUP LOCATION</code> <span class="italic">backup_location</span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1922 d43747e1800 ">
                                 <p>指定磁盘上的备份位置，其中放置了要复制的数据库的备份和副本。此选项对于没有目标或恢复目录连接的复制有效。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1932" headers="d43747e1797 ">
                                 <p><code class="codeph">来自FILE <span class="codeinlineitalic">backup_list_file的</span>备份位置</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1932 d43747e1800 ">
                                 <p></p>
                                 <p></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1942" headers="d43747e1797 ">
                                 <p><code class="codeph">DEVICE TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1942 d43747e1800 ">
                                 <p>仅为指定设备分配自动通道（例如， <code class="codeph">DISK</code>或<code class="codeph">sbt</code> ）。
                                 </p>
                                 <p>仅当您配置了自动通道<span class="italic">且未</span>手动分配通道时，此选项才有效。例如，如果<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>自动磁盘和磁带通道，并且运行<code class="codeph">DUPLICATE...DEVICE TYPE DISK</code> ，然后RMAN仅分配磁盘通道。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e1984" headers="d43747e1797 ">
                                 <p><code class="codeph">DORECOVER</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e1984 d43747e1800 ">
                                 <p>创建后恢复备用数据库。如果指定<span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span> ，则RMAN将恢复到指定的SCN或时间并使数据库挂载。
                                 </p>
                                 <p>介质恢复完成后，RMAN将挂起备用数据库，但不会将备用数据库置于手动或受管恢复模式。在RMAN创建备用数据库之后，必须先解决任何间隙序列，然后再将其置于手动或受管恢复模式，或者以只读模式打开它。</p>
                                 <p>控制文件的检查点SCN必须包含在归档重做日志中，该日志可在备用站点上获得，也可以包含在RMAN备份中。例如，假设您创建备用控制文件，然后立即归档当前日志，其序列为100。在这种情况下，您必须将备用数据库恢复到至少日志序列100，或者数据库发出信号<a id="d43747e2001" class="indexterm-anchor"></a><a id="d43747e2003" class="indexterm-anchor"></a> <code class="codeph">ORA-1152</code>错误消息，因为备用控制文件备份是在该时间点之后进行的。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2011" headers="d43747e1797 ">
                                 <p><span class="italic"><code class="codeph"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2011 d43747e1800 ">
                                 <p>指定一个或多个模式以将源数据库文件名映射到重复的数据库文件名（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">示例2-86</a> ）。
                                 </p>
                                 <p><a id="d43747e2024" class="indexterm-anchor"></a><a id="d43747e2026" class="indexterm-anchor"></a>在<code class="codeph">DUPLICATE</code>命令上设置的<code class="codeph">DB_FILE_NAME_CONVERT</code>会覆盖初始化参数<code class="codeph">DB_FILE_NAME_CONVERT</code> （如果已设置）。例如，如果初始化参数文件设置为<code class="codeph">DB_FILE_NAME_CONVERT=('disk1','disk2')</code> ，但您执行<code class="codeph">DUPLICATE ...DB_FILE_NAME_CONVERT ('disk1','disk3')</code> ，然后RMAN不会将<code class="codeph">disk1</code>子字符串转换为<code class="codeph">disk2</code> 。相反，RMAN将<code class="codeph">disk1</code>子字符串转换为<code class="codeph">disk3</code> 。
                                 </p>
                                 <p>如果规范列表中的文件不受<code class="codeph">DUPLICATE</code>转换参数的影响，则必须通过其他方式重命名，例如<code class="codeph">SET NEWNAME</code> 。</p>
                                 <p><span class="bold">注意：</span>如果指定<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEAJCC">SPFILE</a>子句，则<code class="codeph">DUPLICATE ...DB_FILE_NAME_CONVERT</code>会覆盖<code class="codeph">SPFILE</code>语法中指定的任何转换参数。例如，如果您指定<code class="codeph">DB_FILE_NAME_CONVERT</code>在两次<code class="codeph">DUPLICATE</code>命令，无论是在<code class="codeph">SPFILE</code>子句和外部的<code class="codeph">SPFILE</code>条款，那么外面设置<code class="codeph">SPFILE</code>条款优先。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2105" headers="d43747e1797 ">
                                 <p><code class="codeph">来自活动数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2105 d43747e1800 ">
                                 <p>直接从源数据库提供重复数据库的文件，而不是从源数据库的备份提供（参见<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDJGCFC">示例2-83</a> ）。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDBCJFA">特定于活动数据库复制的</a></span>先决条件<span class="q">”，</span>用于命令先决条件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2123" headers="d43747e1797 ">
                                 <p><code class="codeph">从SPARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2123 d43747e1800 ">通过从稀疏数据库内部还原来为重复数据库提供稀疏数据文件。要使用此设置，请确保要复制的数据库的<code class="codeph">COMPATIBLE</code>初始化参数为12.2或更高。
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2133" headers="d43747e1797 ">
                                 <p><code class="codeph">来自NONSPARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2133 d43747e1800 ">指定只有非稀疏数据文件必须在内部还原然后重复。此设置将覆盖复制环境的默认稀疏模式。要使用此设置，请确保要复制的数据库的<code class="codeph">COMPATIBLE</code>初始化参数为12.2或更高。此设置不会影响<code class="codeph">DUPLICATE</code>命令的其他选项的行为。
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2146" headers="d43747e1797 ">
                                 <p><code class="codeph">LOGFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2146 d43747e1800 ">
                                 <p>指定在创建非备用数据库的重复数据库时创建联机重做日志的选项（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">示例2-86</a> ）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2157" headers="d43747e1797 ">
                                 <p><code class="codeph">INSTANCE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">inst_name</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2157 d43747e1800 ">
                                 <p><a id="d43747e2170" class="indexterm-anchor"></a><a id="d43747e2174" class="indexterm-anchor"></a><a id="d43747e2178" class="indexterm-anchor"></a>在Real Applications Cluster（Oracle RAC）数据库中为指定实例创建联机重做日志。实例名称是一个最多80个字符的字符串。
                                 </p>
                                 <p>RMAN自动使用映射到指定实例的线程。如果未指定<code class="codeph">INSTANCE</code>名称，则日志文件用于默认实例。
                                 </p>
                                 <p>使用<code class="codeph">DUPLICATE TARGET DATABASE</code>将Oracle RAC数据库复制到单实例数据库时，此子句是相关的。否则，您不需要使用<code class="codeph">INSTANCE</code> 。如果使用<code class="codeph">LOGFILE</code>子句，则使用<code class="codeph">INSTANCE</code>为在数据库备份期间打开的每个线程（用于基于备份的复制）或在<code class="codeph">UNTIL TIME</code>期间（用于活动数据库复制）指定Oracle RAC实例的名称。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2206" headers="d43747e1797 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBIHEHG">logSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2206 d43747e1800 ">
                                 <p>指定联机重做日志文件的文件名和组。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBIHEHG">logSpec</a></code></span>了解有效选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2227" headers="d43747e1797 ">
                                 <p><code class="codeph">NOCHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2227 d43747e1800 ">
                                 <p>禁用RMAN能力检查一组表空间必须是自包含的。当执行基于备份的目标连接复制时，RMAN会自动执行此检查。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2235" headers="d43747e1797 ">
                                 <p><code class="codeph">NOFILENAMECHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2235 d43747e1800 ">
                                 <p>当源数据库文件与重复数据库文件共享相同的名称时，阻止RMAN检查源数据库的数据文件和联机重做日志文件是否正在使用。您有责任确定重复操作不会覆盖有用数据。</p>
                                 <p>在具有与源数据库主机相同的磁盘配置，目录结构和文件名的其他主机中创建重复数据库时，此选项是必需的。例如，假设您有一个位于<code class="codeph">srchost</code>的<code class="codeph">/dbs</code>目录中的小型数据库：</p><pre class="oac_no_warn" dir="ltr">/oracle/dbs/system_prod1.dbf /oracle/dbs/users_prod1.dbf /oracle/dbs/rbs_prod1.dbf</pre><p>假设您要将此数据库复制到<code class="codeph">desthost</code> ，它具有相同的文件系统<code class="codeph">/oracle/dbs/</code> <code class="codeph">*</code> ，并且您希望在重复数据库中使用与源数据库中相同的文件名。在这种情况下，请指定<code class="codeph">NOFILENAMECHECK</code>选项以避免出现错误消息。由于RMAN不知道不同的主机，因此RMAN无法自动确定它不需要检查文件名。
                                 </p>
                                 <p>如果在与源数据库相同的主机上复制数据库，请确保未设置<code class="codeph">NOFILENAMECHECK</code> 。否则，RMAN可能会覆盖和损坏目标数据库数据文件，临时文件或联机日志。它也可能表示以下错误：</p><pre class="oac_no_warn" dir="ltr"><a id="d43747e2271" class="indexterm-anchor"></a><a id="d43747e2273" class="indexterm-anchor"></a><a id="d43747e2277" class="indexterm-anchor"></a><a id="d43747e2279" class="indexterm-anchor"></a><a id="d43747e2283" class="indexterm-anchor"></a><a id="d43747e2285" class="indexterm-anchor"></a><a id="d43747e2289" class="indexterm-anchor"></a><a id="d43747e2291" class="indexterm-anchor"></a> RMAN-10035：RPC中引发的异常： <a id="d43747e2296" class="indexterm-anchor"></a><a id="d43747e2298" class="indexterm-anchor"></a> ORA-19504：无法创建文件“/oracle/dbs/tbs_01.f”ORA-27086：skgfglk：无法锁定文件 - 已在使用中SVR4错误：11：资源暂时不可用附加信息：8 RMAN-10031：ORA-在调用DBMS_BACKUP_RESTORE.RESTOREBACKUPPIECE期间发生了19624</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2304" headers="d43747e1797 ">
                                 <p><code class="codeph">NOOPEN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2304 d43747e1800 ">
                                 <p>指定在创建重复数据库后不得打开它。</p>
                                 <p>默认情况下，RMAN会创建一个重复的数据库，然后以<code class="codeph">RESETLOGS</code>模式打开它。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2317" headers="d43747e1797 ">
                                 <p><code class="codeph">NOREDO</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2317 d43747e1800 ">
                                 <p>在以下任何一种情况下恢复一致备份时，不应用归档重做日志文件：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>即使存档的重做日志文件可用，您也不希望将存档的重做日志文件应用于一致的备份。</p>
                                    </li>
                                    <li>
                                       <p>源数据库在备份时以<code class="codeph">NOARCHIVELOG</code>模式运行， <code class="codeph">DUPLICATE</code>未连接到目标数据库。
                                       </p>
                                    </li>
                                    <li>
                                       <p>源数据库当前正在<code class="codeph">ARCHIVELOG</code>模式下运行，但是当数据库处于<code class="codeph">NOARCHIVELOG</code>模式时进行备份。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2347" headers="d43747e1797 ">
                                 <p><code class="codeph">NORESUME</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2347 d43747e1800 ">
                                 <p>禁用RMAN从失败的复制操作中自动恢复的功能。在第一次重复调用时使用<code class="codeph">NORESUME</code>永久阻止新数据库的任何后续重复命令使用此自动优化。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic">Oracle数据库备份和恢复用户指南，</span>以了解有关从失败的<code class="codeph">DUPLICATE</code>操作中自动恢复的详细信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2368" headers="d43747e1797 ">
                                 <p><code class="codeph">开放受限制</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2368 d43747e1800 ">
                                 <p>通过发出以下SQL语句在重复数据库中启用受限会话： <code class="codeph">ALTER SYSTEM ENABLE RESTRICTED SESSION</code> 。 RMAN在打开重复数据库之前立即发出此语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2379" headers="d43747e1797 ">
                                 <p><code class="codeph">密码文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2379 d43747e1800 ">
                                 <p>使用源数据库上的密码文件覆盖辅助实例当前使用的密码文件（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDJGCFC">示例2-83</a> ）。此选项仅在指定<code class="codeph">FROM ACTIVE DATABASE</code>时有效;否则，RMAN发出错误信号。
                                 </p>
                                 <p>如果指定<code class="codeph">FOR STANDBY</code> ，则RMAN默认复制密码文件;如果未指定，则默认情况下RMAN不会复制密码文件。您可以使用<code class="codeph">PASSWORD FILE</code>请求RMAN使用源数据库中的密码文件覆盖现有密码文件。如果希望重复数据库包含生产数据库中可用的所有密码，请使用“ <code class="codeph">PASSWORD FILE</code>选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2403" headers="d43747e1797 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2403 d43747e1800 ">
                                 <p></p>
                                 <p></p>
                                 <p>将逗号分隔列表中指定的一个或多个PDB复制到新CDB。要复制PDB，必须按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到<code class="codeph">root</code> 。要执行基于备份的PDB复制，还必须备份包含列出的PDB的CDB的根和种子数据库（ <code class="codeph">PDB$SEED</code> ）。
                                 </p>
                                 <p>默认情况下，RMAN复制包含列出的PDB的CDB的<code class="codeph">root</code>和种子数据库。
                                 </p>
                                 <p>有关复制PDB的示例，请参见“ <a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-23205E75-CFA8-4BCE-AC50-3D39DF040512" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2438" headers="d43747e1797 ">
                                 <p><code class="codeph">PFILE</code> <span class="italic"><code class="codeph">filename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2438 d43747e1800 ">
                                 <p><a id="d43747e2448" class="indexterm-anchor"></a><a id="d43747e2452" class="indexterm-anchor"></a><a id="d43747e2456" class="indexterm-anchor"></a>指定辅助实例使用的基于文本的初始化参数文件（请参见<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">示例2-86</a> ）。RMAN在复制期间自动关闭并重新启动辅助实例。如果辅助程序未在默认位置使用服务器参数文件，则必须指定RMAN在启动辅助实例时使用的基于文本的初始化参数文件。初始化参数文件必须与用于执行复制的RMAN客户端位于同一主机上。
                                 </p>
                                 <p>如果辅助实例在默认位置使用服务器参数文件，则无需指定<code class="codeph">PFILE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2470" headers="d43747e1797 ">
                                 <p><span class="italic"><code class="codeph">sizeSpec</code></span> <code class="codeph">SECTION SIZE</code> <span class="italic"><code class="codeph">sizeSpec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2470 d43747e1800 ">
                                 <p>指定在活动复制操作的数据传输阶段生成的每个备份部分的大小。使用此选项时，RMAN默认使用活动复制和备份集。因此，请确保满足此类复制的先决条件。</p>
                                 <p>请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJCAHI">SECTION SIZE sizeSpec</a> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2487" headers="d43747e1797 ">
                                 <p><code class="codeph">跳过READONLY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2487 d43747e1800 ">
                                 <p>从重复数据库中排除当前只读表空间中的数据文件。默认情况下，RMAN会复制当前的只读表空间。</p>
                                 <p>如果表空间当前是读/写，但您使用<span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span>将数据库复制到表空间为只读的SCN，则RMAN不会在重复数据库中包含表空间。以前只读的表空间被视为脱机表空间，因此不包含在复制中。
                                 </p>
                                 <p><span class="bold">注意：</span>只读表空间必须是自包含的， <code class="codeph">DUPLICATE</code>命令才能成功使用此选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2510" headers="d43747e1797 ">
                                 <p><code class="codeph">SKIP PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2510 d43747e1800 ">
                                 <p></p>
                                 <p>复制CDB中的所有PDB，除了逗号分隔列表<span class="italic"><code class="codeph">pdb_name</code></span>指定的<span class="italic"><code class="codeph">pdb_name</code></span>到新CDB。要复制PDB，必须按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到<code class="codeph">root</code> 。
                                 </p>
                                 <p>默认情况下，RMAN会复制CDB的<code class="codeph">root</code>和种子数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2538" headers="d43747e1797 ">
                                 <p><code class="codeph">SKIP TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2538 d43747e1800 ">
                                 <p>从重复数据库中排除指定的表空间（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">示例2-86</a> ）。
                                 </p>
                                 <p><span class="bold">注意：</span>使用<code class="codeph">DUPLICATE ...创建备用数据库时不能使用此子句<code class="codeph">DUPLICATE ...FOR STANDBY</code> 。</p>
                                 <p><span class="bold">注意：</span>您不能排除具有回滚段的<code class="codeph">SYS</code>拥有的对象或表空间，也不能排除包含实例化视图的表空间。要复制的表空间集必须是自包含的。
                                 </p>
                                 <p>如果在源数据库的某些备份不存在时必须复制数据库，则需要<code class="codeph">SKIP TABLESPACE</code> 。如果您未指定<code class="codeph">SKIP TABLESPACE</code> ，则RMAN会尝试复制以下内容：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>联机表空间中的所有数据文件，无论数据文件是否在线。</p>
                                    </li>
                                    <li>
                                       <p>所有表空间都使用<code class="codeph">NORMAL</code> <span class="italic">以外</span>的选项脱机。例如，RMAN尝试使用<code class="codeph">IMMEDIATE</code>选项复制脱机的表空间。虽然可以在复制后手动添加这些表空间，但不能复制<code class="codeph">OFFLINE NORMAL</code>表空间。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2593" headers="d43747e1797 ">
                                 <p><code class="codeph">SKIP TABLESPACE</code> <span class="italic"><code class="codeph">pdb-name</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2593 d43747e1800 ">
                                 <p></p>
                                 <p>在将PDB复制到新CDB时，从复制PDB中排除指定的表空间。多个数据库可以具有相同名称的表空间，因此名称前面的限定符唯一标识表空间。 <span class="italic"><code class="codeph">pdb-name</code></span>是PDB的名称。</p>
                                 <p>有关从重复数据库中排除表空间的一般信息，请参阅<code class="codeph">SKIP TABLESPACE</code>的先前描述。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能将此子句与<code class="codeph">CREATE PLUGGABLE DATABASE</code>一起使用，以将PDB复制到现有CDB。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2626" headers="d43747e1797 ">
                                 <p><code class="codeph" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEAJCC">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2626 d43747e1800 ">
                                 <p>将服务器参数文件从源数据库复制到重复数据库。不使用先前在重复数据库中设置的初始化参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2634" headers="d43747e1797 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHAJGD">setParameter</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2634 d43747e1800 ">
                                 <p>将指定的初始化参数设置为指定的值。请参阅<span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHAJGD">setParameter</a></code></span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2651" headers="d43747e1797 "><code class="codeph">PARAMETER_VALUE_CONVERT</code> <span class="italic"><code class="codeph">string_pattern</code></span> <code class="codeph">[</code> <span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHAJGD">setParameter</a></code></span> <code class="codeph">]</code></td>
                              <td align="left" valign="top" width="71%" headers="d43747e2651 d43747e1800 ">
                                 <p>在所有匹配的初始化参数值中用第二个字符串替换第一个字符串。请参阅<span class="italic"><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I1011578">dupOptionList</a></code></span>中<code class="codeph">PARAMETER_VALUE_CONVERT</code>的说明。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2679" headers="d43747e1797 ">
                                 <p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2679 d43747e1800 ">
                                 <p>指定指定数据库中包含的表空间。</p>
                                 <p>与<code class="codeph">SKIP TABLESPACE</code> （指定从重复数据库中<span class="italic">排除</span>哪些表空间）不同，此选项指定包含哪些表空间，然后跳过剩余的表空间。
                                 </p>
                                 <p><span class="bold">注意：</span> RMAN自动在重复数据库中包含<code class="codeph">SYSTEM</code> ， <code class="codeph">SYSAUX</code>和undo表空间。无法跳过这些表空间，并且要复制的表空间集必须是自包含的。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2709" headers="d43747e1797 ">
                                 <p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">pdb-name</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2709 d43747e1800 ">
                                 <p></p>
                                 <p>指定在将PDB复制到新CDB时CDB中包含哪些表空间。多个数据库可以具有相同名称的表空间。名称前面的限定符唯一标识表空间。 <span class="italic"><code class="codeph">pdb-name</code></span>是PDB的名称。</p>
                                 <p>有关这些参数的一般信息，请参阅前面的<code class="codeph">TABLESPACE</code>和<code class="codeph">UNDO TABLESPACE</code>描述。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2738" headers="d43747e1797 ">
                                 <p><code class="codeph">UNDO TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2738 d43747e1800 ">
                                 <p>指定具有还原段的表空间的名称。仅当使用<code class="codeph">SKIP TABLESPACE</code>和<code class="codeph">TABLESPACE</code>子句复制表空间的子集时，才需要此选项。在以下情况下，您必须提供包含还原段的表空间列表：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>没有与目标数据库或恢复目录的连接</p>
                                    </li>
                                    <li>
                                       <p>没有与恢复目录的连接，与目标的连接但目标数据库未打开。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2764" headers="d43747e1797 "><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d43747e2764 d43747e1800 ">
                                 <p>指定基于备份的复制的还原点，其中创建还原点的SCN为包含上限的上限。由于限制是包含的，因此RMAN仅选择可用于复制数据库的文件， <span class="italic">包括</span>相应的SCN。</p>
                                 <p><span class="bold">注意：</span>适用于<span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span>的相同限制也适用于<code class="codeph">TO RESTORE POINT</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2791" headers="d43747e1797 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2791 d43747e1800 ">
                                 <p><a id="d43747e2800" class="indexterm-anchor"></a><a id="d43747e2802" class="indexterm-anchor"></a><a id="d43747e2804" class="indexterm-anchor"></a><a id="d43747e2808" class="indexterm-anchor"></a>设置基于备份的复制中的时间点恢复的结束时间，SCN或日志序列号（请参见<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">示例2-86</a> ）。活动数据库复制不支持<code class="codeph">UNTIL</code>子句。
                                 </p>
                                 <p>您可以通过在<code class="codeph">DUPLICATE</code>命令之前运行<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code>来获得相同的结果。如果为复制指定<code class="codeph">UNTIL</code>子句，则适用以下限制：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>RMAN决定是否使用<a id="d43747e2838" class="indexterm-anchor"></a> <code class="codeph">NOREDO</code>基于数据库的当前状态。如果数据库在指定的<code class="codeph">UNTIL</code>时间处于归档模式，或者SCN与当前归档模式不同，则RMAN不使用<code class="codeph">NOREDO</code> 。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">DUPLICATE</code>命令的结束点不能位于最近的<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>的SCN之前。与目标的连接重复不支持以前的数据库版本。但是，如果在没有连接到目标数据库的情况下进行复制，则可以指定以前的版本。
                                       </p>
                                    </li>
                                    <li>
                                       <p>您无法将重复数据库恢复到当前时间点，即最新的SCN。 RMAN在最新的可用存档日志之前或之前恢复重复数据库，但无法恢复到联机重做日志。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2864" headers="d43747e1797 ">
                                 <p><code class="codeph">使用BACKUPSET</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2864 d43747e1800 ">
                                 <p>通过使用备份集将全部或部分数据从源数据库复制到目标数据库来执行活动数据库复制。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2872" headers="d43747e1797 ">
                                 <p><code class="codeph">使用压缩后备箱</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2872 d43747e1800 ">
                                 <p>启用从源数据库到辅助数据库的数据传输的二进制压缩，从而减少网络带宽消耗。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDHAJGD"><span class="bold"><span class="italic">的setParameter</span></span></p>
                  <p>本小节指定服务器参数文件值。</p>
                  <div class="tblformalwide" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-98AF7A1E-6C36-4A14-86FD-6C296749088B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes DUPLICATE command setParameter parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d43747e2893">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d43747e2896">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2901" headers="d43747e2893 ">
                                 <p><code class="codeph">SET</code> <span class="italic"><code class="codeph">identifier string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2901 d43747e2896 ">
                                 <p>将指定的初始化参数设置为指定的值（请参见<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCBDHI">示例2-84</a> ）。您可以使用<code class="codeph">SET</code>调整内存差异，关闭复制选项，并为重复数据库设置其他选项。
                                 </p>
                                 <p>此<code class="codeph">SET</code>功能相当于在恢复服务器参数文件并发出<code class="codeph">ALTER SYSTEM SET</code>语句以更改初始化参数文件后暂停复制。
                                 </p>
                                 <p>RMAN后处理<code class="codeph">SET</code> <a id="d43747e2930" class="indexterm-anchor"></a> <code class="codeph">PARAMETER_VALUE_CONVERT</code> 。如果<code class="codeph">PARAMETER_VALUE_CONVERT</code>设置参数指定的文件名，并且<code class="codeph">SET</code>设置由同一参数指定的文件名，则<code class="codeph">SET</code>值将覆盖<code class="codeph">PARAMETER_VALUE_CONVERT</code>设置。
                                 </p>
                                 <p><span class="bold">注意：</span>如果<a id="d43747e2954" class="indexterm-anchor"></a><a id="d43747e2956" class="indexterm-anchor"></a>在<code class="codeph">DUPLICATE</code>命令中指定了<code class="codeph">DB_FILE_NAME_CONVERT</code> ，然后其文件名设置将覆盖<code class="codeph">SPFILE SET</code>指定的竞争设置。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2968" headers="d43747e2893 ">
                                 <p><code class="codeph">COMMENT</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">string</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2968 d43747e2896 ">
                                 <p>指定参数设置的可选注释。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e2984" headers="d43747e2893 ">
                                 <p><code class="codeph">RESET</code> <span class="italic"><code class="codeph">identifier string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e2984 d43747e2896 ">
                                 <p>从参数文件中删除指定的初始化参数。您可以使用<code class="codeph">RESET</code>删除不需要的初始化参数。
                                 </p>
                                 <p>此<code class="codeph">RESET</code>功能相当于在恢复服务器参数文件并发出<code class="codeph">ALTER SYSTEM RESET</code>语句以更改初始化参数文件后暂停复制。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBIHEHG"><span class="bold"><span class="italic">logSpec</span></span></p>
                  <p><a id="d43747e3012" class="indexterm-anchor"></a>本子条款在创建不是备用数据库的重复数据库时指定联机重做日志。有关语法图，请参阅<span class="italic"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDIGIJD">logSpec :: =</a></span>图表。
                  </p>
                  <p>如果未指定<code class="codeph">LOGFILE</code> ，则RMAN首先检查是否设置了以下任何初始化参数： <code class="codeph">LOG_FILE_NAME_CONVERT,DB_CREATE_FILE_DEST, DB_RECOVERY_FILE_DEST</code>或<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_n</code> 。如果设置了这些参数，RMAN会根据这些参数设置将重复的数据库联机重做日志文件定向到Oracle托管存储。如果没有设置这些初始化参数，则RMAN将源数据库的原始重做日志文件名用于重复数据库的重做日志文件。你必须指定<a id="d43747e3032" class="indexterm-anchor"></a>在这种情况下， <code class="codeph">NOFILENAMECHECK</code>选项。
                  </p>
                  <div class="tblformalwide" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-9819993D-05D3-4EF6-8D22-A3035136E10A">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes DUPLICATE command logSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d43747e3045">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d43747e3048">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e3053" headers="d43747e3045 ">
                                 <p><code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code> <code class="codeph">SIZE</code> <span class="italic"><code class="codeph">sizeSpec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e3053 d43747e3048 ">
                                 <p>指定联机重做日志成员的文件名和文件大小，以千字节（ <code class="codeph">K</code> ）或兆字节（ <code class="codeph">M</code> ）为单位。默认值以字节为单位。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e3077" headers="d43747e3045 ">
                                 <p><code class="codeph">REUSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e3077 d43747e3048 ">
                                 <p>允许数据库重用现有文件。如果文件存在，则数据库验证其大小是否与<code class="codeph">SIZE</code>参数的值匹配。如果该文件不存在，则创建该文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e3088" headers="d43747e3045 "><code class="codeph">GROUP</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">('</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">', ...)</code> <code class="codeph">SIZE</code> <span class="italic"><code class="codeph">sizeSpec</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d43747e3088 d43747e3048 ">
                                 <p>指定包含联机重做日志成员的组，联机重做日志成员的文件名以及以千字节（ <code class="codeph">K</code> ）或兆字节（ <code class="codeph">M</code> ）为单位的文件大小。默认值以字节为单位。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d43747e3120" headers="d43747e3045 ">
                                 <p><code class="codeph">REUSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d43747e3120 d43747e3048 ">
                                 <p>允许数据库重用现有日志。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__I104404">
                  <p class="subhead1" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-9B34AC47-A2D5-4C3D-90CA-4597F52AB2C0">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDJGCFC">
                  <p class="titleinexample">示例2-83从活动数据库复制到具有相同目录结构的主机</p>
                  <p>假设您要在新主机上从数据库<code class="codeph">prod1</code>创建测试数据库。新主机具有与源主机相同的目录结构，因此重复数据库中的文件可以使用与源数据库中的文件相同的名称。您希望在不使用RMAN备份的情况下创建数据库，并允许<code class="codeph">prod1</code>在复制期间保持打开状态。
                  </p>
                  <p>如果<code class="codeph">prod1</code>使用服务器参数文件，则可以在目标主机上创建初始化参数文件，该文件仅包含设置为新值的<code class="codeph">DB_NAME</code>参数和设置为适当域的<code class="codeph">DB_DOMAIN</code>参数。通过设置<code class="codeph">DB_DOMAIN</code>您可以将RMAN连接到默认数据库服务。在启动辅助实例之前，请创建一个与源数据库具有相同<code class="codeph">SYS</code>和<code class="codeph">SYSBACKUP</code>密码的密码文件。然后，使用spfile启动辅助实例（如果可用）。如果使用pfile启动辅助实例，则RMAN会在默认位置创建一个spfile，可能会覆盖驻留在那里的任何spfile。
                  </p>
                  <p>默认情况下，RMAN在创建不是备用数据库的重复数据库时不会复制密码文件。<code class="codeph">PASSWORD FILE</code>选项将密码文件复制到目标主机。如果希望重复数据库包含源数据库上可用的所有密码，请使用<code class="codeph">PASSWORD FILE</code>选项。
                  </p>
                  <p>您无需更改源数据库通道配置或配置辅助通道。启动RMAN客户端，使用网络服务名称连接到源和辅助数据库实例，并按如下方式复制数据库：</p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; CONNECT TARGET“sbu @ prod1 AS SYSBACKUP”目标数据库密码：连接到目标数据库的<span class="italic">密码</span> ：PROD1（DBID = 39525561）RMAN&gt; CONNECT AUXILIARY“sbu @ dup1 AS SYSBACKUP”辅助数据库密码：连接到辅助数据库的<span class="italic">密码</span> ： DUP1（未安装）RMAN&gt; DUPLICATE TARGET DATABASE TO dup1 2&gt; FROM ACTIVE DATABASE 3&gt; NOFILENAMECHECK 4&gt; PASSWORD FILE 5&gt; SPFILE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCBDHI">
                  <p class="titleinexample">示例2-84在活动数据库复制中复制服务器参数文件</p>
                  <p>假设您要在新主机上从数据库<code class="codeph">prod1</code>创建备用数据库。目标主机具有与源主机不同的目录结构，因此备用数据库文件存储在<code class="codeph">/disk2</code>而不是<code class="codeph">/disk1</code> 。您希望在不使用RMAN备份的情况下创建备用数据库，并且在复制期间让<code class="codeph">prod1</code>保持打开状态。
                  </p>
                  <p>第一步是为备用数据库创建最小初始化参数文件，然后启动备用实例。此参数文件很小，因为当您使用<code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEAJCC">SPFILE</a></code>选项时，RMAN <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDEAJCC">SPFILE</a></code>服务器参数文件复制到新主机，并将各种参数设置为提供的新值。
                  </p>
                  <p>启动RMAN客户端， <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到源数据库为<code class="codeph">TARGET</code> ，并连接到辅助实例。将多个通道分配给目标实例，将通道分配给辅助实例，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALLOCATE CHANNEL tgt10 TYPE DISK; ALLOCATE CHANNEL tgt20 TYPE DISK; ALLOCATE CHANNEL tgt30 TYPE DISK; ALLOCATE CHANNEL tgt40 TYPE DISK; ALLOCATE AUXILIARY CHANNEL dup1 TYPE DISK;</pre><p>然后，您可以输入以下命令：</p><pre class="oac_no_warn" dir="ltr">来自活动数据库密码文件的备用目标数据库SPFILE PARAMETER_VALUE_CONVERT'/ disk1'，'/ disk2'SET DB_FILE_NAME_CONVERT'/ disk1'，'/ disk2'CET LOG_FILE_NAME_CONVERT'/ disk1'，'/ disk2'SET DB_UNIQUE_NAME'dudu1'SET SGA_MAX_SIZE 200M SET SGA_TARGET 125M;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-53D10CD6-73A4-4EDD-A221-84F99598104F">
                  <p class="titleinexample">示例2-85将没有目标连接的数据库复制到具有相同目录结构的主机</p>
                  <p>假设您希望使用备份复制源数据库<code class="codeph">prod</code>并且不希望将RMAN作为<code class="codeph">TARGET</code>连接到此数据库，因为它已关闭以进行维护。以下是对环境的描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>源主机和目标主机具有相同的目录结构。重复数据库中的数据文件和联机重做日志名称与源数据库中的名称相同。</p>
                     </li>
                     <li>
                        <p>重复数据库中使用相同数量的联机重做日志文件。</p>
                     </li>
                     <li>
                        <p>可以使用恢复目录。源数据库名称<code class="codeph">prod</code>在恢复目录中是唯一的。
                        </p>
                     </li>
                     <li>
                        <p>已使用<code class="codeph">CONFIGURE CHANNEL</code>命令配置辅助通道。
                        </p>
                     </li>
                  </ul>
                  <p>以下命令创建名为<code class="codeph">DUPDB</code>的重复数据库：</p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; <span class="bold">CONNECT CATALOG rco @ catdb;</span>恢复目录数据库密码：连接到恢复目录数据库的<span class="italic"><span class="bold">密码</span></span> RMAN&gt; <span class="bold">CONNECT AUXILIARY“sbu @ dupdb AS SYSBACKUP”;</span>辅助数据库密码：连接到辅助数据库的<span class="italic"><span class="bold">密码</span></span> ：DUPDB（未安装）RMAN&gt; <span class="bold">DUPLICATE DATABASE'PROD'to'DUPDB'NOFILENAMECHECK;</span>
</pre><p>假设数据库名称<code class="codeph">prod</code>在恢复目录中不唯一的不同方案。以下<code class="codeph">DUPLICATE</code>命令使用<code class="codeph">DBID</code>参数唯一标识源数据库：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; <span class="bold">DUPLICATE DATABASE'PROD'DBID 39525561 TO'DUPDB'NOUFILENAMECHECK;</span></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDCHBGC">
                  <p class="titleinexample">例2-86在DUPLICATE命令中设置新文件名</p>
                  <p>假设您要使用磁带备份将<code class="codeph">newdb</code>上的源数据库<code class="codeph">prod</code> <code class="codeph">srchost</code>到<code class="codeph">newdb</code>上的<code class="codeph">desthost</code> 。
                  </p>
                  <p>在此方案中，源数据库不使用服务器参数文件。您在<code class="codeph">desthost</code>上创建基于文本的初始化参数文件，并使用它来启动数据库实例。因此，基于备份的复制必须使用目标连接（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BABEDFJI" title="两种基于备份的复制模式的要求">表2-6</a> ）。
                  </p>
                  <p>当执行<code class="codeph">DUPLICATE</code>上<code class="codeph">desthost</code> ，你必须使用<code class="codeph">PFILE</code>参数指定的初始化参数文件的位置。必须在与重复数据库的初始化参数文件相同的主机上使用RMAN客户端。
                  </p>
                  <p>您不希望表空间<code class="codeph">example</code>和<code class="codeph">history</code>包含在重复数据库中，因此您指定<code class="codeph">DUPLICATE ...这些表空间的SKIP TABLESPACE</code> 。此外，您希望重复数据库处于生产数据库24小时前的状态，因此您使用<code class="codeph">DUPLICATE ...UNTIL TIME</code> 。</p>
                  <p>此示例假定源数据库的数据文件位于目录<code class="codeph">/h1/oracle/dbs/trgt</code> <code class="codeph">srchost</code>中的<code class="codeph">srchost</code>上。您打算将数据文件复制到目录<code class="codeph">/h2/oracle/oradata/newdb</code> ，因此您指定<code class="codeph">DUPLICATE ...DB_FILE_NAME_CONVERT</code>生成重复数据文件的名称。你用<code class="codeph">DUPLICATE ...LOGFILE</code>指定重复数据库中联机重做日志文件的名称。
                  </p>
                  <p>启动RMAN客户端上<code class="codeph">desthost</code> ， <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>源数据库为<code class="codeph">TARGET</code> ，并连接到辅助实例。然后，您可以输入以下<code class="codeph">RUN</code>命令：</p><pre class="oac_no_warn" dir="ltr">运行{ALLOCATE AUXILIARY CHANNEL newdb DEVICE TYPE sbt; DUPLICATE TARGET DATABASE到newdb PFILE？/dbs/initNEWDB.ora UNTIL TIME'SYSDATE-1'＃指定不完全恢复SKIP TABLESPACE示例，历史＃跳过所需的表空间DB_FILE_NAME_CONVERT（'/ h1 / oracle / dbs / trgt /'，'/ h2 / oracle / oradata / newdb / '）LOGFILE GROUP 1（'/ h2/oradata/newdb/redo01_1.f'，'/ h2 / oradata / newdb / redo01_2.f'）SIZE 4M，GROUP 2（'/ h2/oradata/newdb/redo02_1.f' ，'/ h2 / oradata / newdb / redo02_2.f'）SIZE 4M，GROUP 3（'/ h2/oradata/newdb/redo03_1.f','/h2/oradata/newdb/redo03_2.f'）SIZE 4M REUSE; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBGEHCG">
                  <p class="titleinexample">示例2-87使用SET NEWNAME FOR DATABASE命名重复文件</p>
                  <p>在这种情况下，您打算在没有目标连接的情况下使用基于备份的复制。</p>
                  <p>源数据库<code class="codeph">prod</code>包含分布在多个目录中的八个数据文件。数据文件不是Oracle托管文件。你要复制的源数据库<code class="codeph">dupdb</code>对目标主机<code class="codeph">desthost</code> 。
                  </p>
                  <p>在这种情况下， <code class="codeph">srchost</code>和<code class="codeph">desthost</code>具有不同的目录结构。您希望将数据文件存储在<code class="codeph">/oradata1</code>子目录中的<code class="codeph">desthost</code>中，因此使用<code class="codeph">SET NEWNAME FOR DATABASE</code>指定剥离目录路径的文件名。例如，如果源数据文件的名称为<code class="codeph">'/oradata/prod/financial.dbf'</code> ，则<code class="codeph">%b</code> <code class="codeph">'financial.dbf'</code> 。
                  </p>
                  <p>源数据库不使用服务器参数文件，因此您无法使用<code class="codeph">SPFILE</code>技术指定重复数据文件的名称。您决定使用<code class="codeph">SET NEWNAME DATABASE</code>命令，因为您希望目标主机上的同一目录中包含所有重复数据文件。
                  </p>
                  <p>您希望在目标主机上的目录<code class="codeph">/duplogs</code>创建两个联机重做日志组，每个组具有两个大小为200 KB的成员。假设<code class="codeph">srchost</code>和<code class="codeph">desthost</code>无法通过NFS等任何方式挂载彼此的文件系统。</p>
                  <p>磁盘上存储了磁盘副本或备份集，用于存储在源数据库中的所有数据文件和归档重做日志文件，并且您已使用操作系统实用程序将它们手动复制到<code class="codeph">desthost</code> 。这些备份和副本中的相同位置上存在<code class="codeph">desthost</code> ，因为他们在做<code class="codeph">srchost</code> 。
                  </p>
                  <p>您可以使用操作系统实用程序从初始化参数文件复制<code class="codeph">srchost</code>到适当的位置<code class="codeph">desthost</code> 。您已重置以<code class="codeph">_DEST</code>结尾的所有初始化参数并指定路径名。您没有设置<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>因为您在<code class="codeph">RUN</code>命令本身中指定了数据文件和在线日志的名称。辅助实例在默认位置使用服务器端初始化参数文件，因此<code class="codeph">DUPLICATE</code>命令中不需要<code class="codeph">PFILE</code>参数。
                  </p>
                  <p>以下示例脚本创建重复数据库。<code class="codeph">RUN</code>命令是必需的，因为您只能在<code class="codeph">RUN</code>执行<code class="codeph">SET NEWNAME</code> 。</p><pre class="oac_no_warn" dir="ltr">运行{设置数据库的新名称'/ oradata1 /％b'; DUPLICATE TARGET DATABASE到dupdb LOGFILE GROUP 1（'/duplogs/redo01a.log'，'/ duplogs / redo01b.log'）SIZE 4M REUSE，GROUP 2（'/duplogs / redo02a.log'，'/ duplogs / redo02b.log '）SIZE 4M REUSE; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">
                  <p class="titleinexample">例2-88对DATAFILE使用SET NEWNAME并为TABLESPACE设置NEWNAME以命名重复文件</p>
                  <p>在此方案中，您打算使用基于备份的复制来复制数据库。</p>
                  <p>假设源数据库<code class="codeph">PROD</code>在<code class="codeph">SRCHOST</code>并包含九个数据文件，这些文件分布在多个目录中。你要复制的源数据库数据库<code class="codeph">DUPDB</code>远程主机<code class="codeph">DESTHOST</code> 。 <code class="codeph">DUPDB</code>数据库排除了表空间<code class="codeph">TOOLS</code> ，但保留了所有其他表空间。
                  </p>
                  <p>源数据库不使用服务器参数文件，因此您无法使用<code class="codeph">SPFILE</code>技术指定重复数据文件的名称。您决定使用<code class="codeph">SET NEWNAME</code>命令来指定文件名，因为重复的数据文件将分布在多个目录中。
                  </p>
                  <p>在这种情况下， <code class="codeph">srchost</code>和<code class="codeph">desthost</code>具有不同的目录结构。你想在数据文件存储<code class="codeph">desthost</code>的<code class="codeph">/oradata1</code>通过<code class="codeph">/oradata7</code>子目录。您希望将每个数据文件放在不同的目录中， <code class="codeph">USERS</code>表空间除外，它包含两个要复制到<code class="codeph">/oradata7</code>数据文件。
                  </p>
                  <p>您希望在目标主机上的目录<code class="codeph">/duplogs</code>创建两个联机重做日志组，每个组具有两个大小为200 KB的成员。假设<code class="codeph">srchost</code>和<code class="codeph">desthost</code>无法通过NFS等任何方式挂载彼此的文件系统。</p>
                  <p>磁盘上存储了磁盘副本或备份集，用于存储在源数据库中的所有数据文件和归档重做日志文件，并且您已使用操作系统实用程序将它们手动复制到<code class="codeph">desthost</code> 。这些备份和副本中的相同位置上存在<code class="codeph">desthost</code> ，因为他们在做<code class="codeph">srchost</code> 。
                  </p>
                  <p>您可以使用操作系统实用程序从初始化参数文件复制<code class="codeph">srchost</code>到适当的位置<code class="codeph">desthost</code> 。您已重置以<code class="codeph">_DEST</code>结尾的所有初始化参数并指定路径名。您没有设置<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>因为您在<code class="codeph">RUN</code>命令本身中指定了数据文件和在线日志的名称。辅助实例在默认位置使用服务器端初始化参数文件，因此<code class="codeph">DUPLICATE</code>命令中不需要<code class="codeph">PFILE</code>参数。
                  </p>
                  <p>以下示例脚本创建重复数据库。<code class="codeph">RUN</code>命令是必需的，因为您只能在<code class="codeph">RUN</code>执行<code class="codeph">SET NEWNAME</code> 。</p><pre class="oac_no_warn" dir="ltr">运行{为数据文件设置NEWNAME 1'到'/oradata1/system01.dbf';将DATAFILE 2的NEWNAME设置为'/oradata2/undotbs01.dbf';将DATAFILE 3的NEWNAME设置为'/oradata3/cwmlite01.dbf';将DATAFILE 4的NEWNAME设置为'/ oradata4 / drsys01';将DATAFILE 5的NEWNAME设置为'/oradata5/example01.dbf'; ＃因为users表空间包含2个数据文件，下面的命令＃为这两个数据文件生成唯一的名称，将它们放在/ oradata7 SET NEWNAME FOR FOR TABLESPACE用户TO'/oradata7/users%b.dbf'; DUPLICATE TARGET DATABASE到dupdb SKIP TABLESPACE工具LOGFILE GROUP 1（'/duplogs / redo01a.log'，'/ duplogs / redo01b.log'）SIZE 4M REUSE，GROUP 2（'/duplogs / redo02a.log'，'/ duplogs / redo02b.log'）SIZE 4M REUSE; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBCEBDI">
                  <p class="titleinexample">示例2-89使用SET NEWNAME FOR DATAFILE命名Oracle管理文件</p>
                  <p>有两种方法可以将特定数据文件或临时文件存储在Oracle管理的文件目标中，该目标独立于其余数据库文件的位置。</p>
                  <ol>
                     <li>
                        <p>将辅助实例的初始化参数文件中的参数<code class="codeph">DB_CREATE_FILE_DEST</code>设置为所需位置</p>
                     </li>
                     <li>
                        <p>设置初始化参数<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_FILE_NAME_CONVERT</code> 。此时，您可以将<code class="codeph">SET NEWNAME</code>命令用于那些您不希望由<code class="codeph">DB_FILE_NAME_CONVERT</code>转换的数据文件。</p>
                     </li>
                  </ol>
                  <p>使用Oracle管理的文件名在<code class="codeph">DB_CREATE_FILE_DEST</code>指定的位置创建指定的数据文件或临时文件。</p>
                  <p>如以下示例脚本所示，您还可以使用<code class="codeph">SET</code> <code class="codeph">NEWNAME</code>将单个数据文件或临时文件定向到特定的ASM磁盘组。
                  </p><pre class="oac_no_warn" dir="ltr">运行{为数据文件1设置NEWNAME到“+ DGROUP1”;将DATAFILE 2的NEWNAME设置为“+ DGROUP2”; 。。。DUPLICATE TARGET DATABASE to dupdb FROM ACTIVE DATABASE SPFILE SET DB_CREATE_FILE_DEST + DGROUP3; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-A48906FB-3F3E-42AF-A668-20C28FDD6FAB">
                  <p class="titleinexample">示例2-90使用CONFIGURE AUXNAME命名重复文件</p>
                  <p><a id="d43747e3655" class="indexterm-anchor"></a>本节假设与<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">例2-88中</a>描述的情况相同。此示例是使用<code class="codeph">CONFIGURE AUXNAME</code>而不是<code class="codeph">SET NEWNAME</code>指定新数据文件名的变体。这些新文件名记录在控制文件中，并在以后每次执行复制时使用。
                  </p>
                  <p>此示例还使用自动通道和客户端初始化参数文件进行数据库复制，并使用<code class="codeph">LOGFILE</code>子句指定联机重做日志的名称和大小。在这种情况下，不需要<code class="codeph">RUN</code>命令，因为您没有使用<code class="codeph">SET NEWNAME</code> 。</p><pre class="oac_no_warn" dir="ltr">将DATAFILE 1的AUXNAME配置为'/oradata1/system01.dbf';将数据文件2的AUXNAME配置为'/oradata2/undotbs01.dbf';将DATAFILE 3的AUXNAME配置为'/oradata3/cwmlite01.dbf';将DATAFILE 4的AUXNAME配置为'/ oradata4 / drsys01';将DATAFILE 5的AUXNAME配置为'/oradata5/example01.dbf';将数据文件6的AUXNAME配置为'/oradata6/indx01.dbf'; DUPLICATE TARGET DATABASE到dupdb SKIP TABLESPACE工具LOGFILE GROUP 1（'/duplogs / redo01a.log'，'/ duplogs / redo01b.log'）SIZE 4M REUSE，GROUP 2（'/duplogs / redo02a.log'，'/ duplogs / redo02b.log'）SIZE 4M REUSE;</pre><p>RMAN使用所有增量备份，归档重做日志备份和归档重做日志文件来执行不完全恢复，然后使用<code class="codeph">RESETLOGS</code>选项打开数据库以创建联机重做日志。
                  </p>
                  <p>复制完成后，您可以清除重复数据库中数据文件的已配置辅助名称，以便将来的操作不会覆盖它们。例如，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">配置数据文件的AUXNAME 1清除;配置数据文件的AUXNAME 2清除;配置数据文件的AUXNAME 3清除;配置数据文件的AUXNAME 4清除;配置数据文件的AUXNAME 5清除;配置数据文件的AUXNAME 6清除;</pre><p>或者，您可能希望定期将重复数据库与重复的原始数据库同步。在这种情况下，您可以再次运行<code class="codeph">DUPLICATE</code>命令，实质上是重新创建重复数据库。此技术需要制作重复数据库的数据文件的完整副本。每当要将副本与源数据库同步时，请运行以下脚本。例如，您可以每天或每周运行该脚本。
                  </p><pre class="oac_no_warn" dir="ltr">DUPLICATE TARGET DATABASE到dupdb SKIP TABLESPACE工具LOGFILE GROUP 1（'/duplogs / redo01a.log'，'/ duplogs / redo01b.log'）SIZE 4M REUSE，GROUP 2（'/duplogs / redo02a.log'，'/ duplogs / redo02b.log'）SIZE 4M REUSE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-148EFBC3-B1C4-4FD7-B06A-A0D8D99F14DF">
                  <p class="titleinexample">示例2-91创建具有相同目录结构的备用数据库</p>
                  <p>假设您要使用RMAN备份在远程主机上创建备用数据库，该远程主机具有与源主机相同的目录结构。源数据库称为<code class="codeph">prod1</code> ，是Data Guard环境中的主数据库。
                  </p>
                  <p>首先，启动RMAN客户端， <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到源数据库<code class="codeph">prod1</code>作为<code class="codeph">TARGET</code> ，并连接到辅助实例。然后，您可以使用<code class="codeph">standby1</code>的<code class="codeph">DB_UNIQUE_NAME</code>将默认设备类型<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>为备用数据库的<code class="codeph">sbt</code> ：</p><pre class="oac_no_warn" dir="ltr">配置默认设备类型sbt FOR DB_UNIQUE_NAME standby1;配置设备类型sbt PARALLELISM 2 FOR DB_UNIQUE_NAME standby1;</pre><p>假设创建备用数据库所需的所有备份都在磁带上。在备用数据库初始化参数文件中，将<code class="codeph">DB_UNIQUE_NAME</code>设置为<code class="codeph">standby1</code> 。
                  </p>
                  <p>在备用数据库上使用默认初始化参数文件位置。启动备用实例<code class="codeph">NOMOUNT</code> ，启动RMAN客户端，以<code class="codeph">TARGET</code> <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到源数据库，并连接到辅助实例和恢复目录。您运行以下<code class="codeph">DUPLICATE</code>命令，指定<code class="codeph">NOFILENAMECHECK</code>选项，因为备用数据文件和主数据文件以及联机重做日志文件具有相同的名称：</p><pre class="oac_no_warn" dir="ltr">用于备用NOFILENAMECHECK的重复目标数据库;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__CHDDFDGH">
                  <p class="titleinexample">示例2-92在OMF和ASM中创建备用数据库</p>
                  <p><a id="d43747e3768" class="indexterm-anchor"></a><a id="d43747e3772" class="indexterm-anchor"></a>假设您要使用RMAN备份在使用OMF和ASM的主机上创建备用数据库。源数据库称为<code class="codeph">prod1</code> ，是Data Guard环境中的主数据库。
                  </p>
                  <p>首先，启动RMAN客户端， <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到数据库<code class="codeph">prod1</code>作为<code class="codeph">TARGET</code> ，并连接到恢复目录。运行以下命令，将备用数据库的默认设备类型<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>为<code class="codeph">sbt</code> ，备用数据库为<code class="codeph">standby1</code>的<code class="codeph">DB_UNIQUE_NAME</code> ，网络服务名称为<code class="codeph">sby1</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CONNECT IDENTIFIER“sby1”FOR DB_UNIQUE_NAME standby1;配置默认设备类型为DB_UNIQUE_NAME standby1;配置设备类型sbt PARALLELISM 2 FOR DB_UNIQUE_NAME standby1;</pre><p>假设创建备用数据库所需的所有备份都存储在磁带上。您在数据库<code class="codeph">standby1</code>的初始化参数文件中设置以下参数：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将<code class="codeph">DB_UNIQUE_NAME</code>设置为值<code class="codeph">standby1</code> 。
                        </p>
                     </li>
                     <li>
                        <p>将<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>设置为备用主机上的所需ASM磁盘组。例如，设置<code class="codeph">DB_CREATE_FILE_DEST</code>到<code class="codeph">+DATAFILE</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>到<code class="codeph">+FLASH_REC_AREA</code> 。</p>
                     </li>
                  </ul>
                  <p>确保备用实例处于<code class="codeph">NOMOUNT</code>模式。启动RMAN客户端，将数据库<code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到数据库<code class="codeph">prod1</code>作为<code class="codeph">TARGET</code> ，连接到<code class="codeph">standby1</code>实例作为<code class="codeph">AUXILIARY</code> ，并连接到恢复目录。输入以下命令以创建备用数据库：</p><pre class="oac_no_warn" dir="ltr">用于待机的重复目标数据库;</pre><p>RMAN自动为还原的数据文件生成新的OMF / ASM数据文件名。</p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-03A90CCC-D820-40DE-8E92-CFF69A24F5E2">
                  <p class="titleinexample">示例2-93在没有连接到目标数据库和恢复目录的情况下复制数据库</p>
                  <p>在此示例中，可以从以下位置访问数据文件，控制文件和数据库<code class="codeph">prod</code>存档日志的所有必要备份： <code class="codeph">/net/prod/backups</code> 。此位置仅驻留数据库<code class="codeph">prod</code>备份。唯一的连接是作为<code class="codeph">AUXILIARY</code>的新实例。</p>
                  <p>如果没有与恢复目录或目标数据库的连接，请输入以下命令以创建测试数据库：</p><pre class="oac_no_warn" dir="ltr">重复数据库'测试'备份位置'/ net / prod / backups'NOFILENAMECHECK;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-D370FB02-059B-4B18-8D07-E521DA73B688">
                  <p class="titleinexample">示例2-94在不连接目标数据库和恢复目录的情况下复制时选择特定数据库</p>
                  <p>在此示例中， <code class="codeph">/backups</code>包含来自多个数据库的备份，包括两个以上名称为<code class="codeph">PROD</code>数据库。在这种情况下，您必须指定要复制的数据库的<code class="codeph">DBNAME</code>和<code class="codeph">DBID</code> 。唯一的连接是辅助实例。
                  </p><pre class="oac_no_warn" dir="ltr">DUPLICATE DATABASE'PROD'dbid 8675309'TEST'UNTIL TIME“to_date（'11 / 01/2013'，'MM / DD / YYYY'）”BACKUP LOCATION'/ backups'NOFILENAMECHECK PFILE ='？/dbs/inittest.ora'db_file_name_convert ='prod'，'test';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__GUID-B7DE1167-97EF-4F9D-83D1-D4F4B81D104A">
                  <p class="titleinexample">例2-95将PDB中的PDB和特定表空间复制到新CDB</p>
                  <p>在此示例中，PDB <code class="codeph">pdb1</code> ， <code class="codeph">pdb5</code>和PDB <code class="codeph">pdb2</code>中的<code class="codeph">users</code>表空间被复制到新的CDB。默认情况下，RMAN还会复制CDB中的<code class="codeph">root</code>和种子数据库。必须使用包含声明<code class="codeph">enable_pluggable_database=TRUE</code>的初始化参数文件启动辅助实例。您以具有公共<code class="codeph">SYSBACKUP</code>权限的用户身份连接到root。
                  </p><pre class="oac_no_warn" dir="ltr">DUPLICATE TARGET DATABASE to cdb PLUGGABLE DATABASE pdb1，pdb5 TABLESPACE pdb2：users;</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04711.object-type-translator-utility.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>对象类型转换器实用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="programming-with-lobs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="globalization-and-unicode-support.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="programming-with-lobs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="globalization-and-unicode-support.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">对象类型转换器实用程序</li>
            </ol>
            <a id="GUID-72088FFE-4A01-4296-B207-10F2D3550318" name="GUID-72088FFE-4A01-4296-B207-10F2D3550318"></a><a id="LNCPP008"></a>
            
            <h2 id="LNCPP-GUID-72088FFE-4A01-4296-B207-10F2D3550318" class="sect2"><span class="enumeration_chapter">8</span>对象类型转换器实用程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论对象类型转换器（OTT）实用程序，该实用程序用于将数据库对象类型，LOB类型和命名集合类型映射到CCI类声明，以便在OCCI应用程序中使用。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-6CEFB856-A10E-49EC-B379-C28FC06C7551">对象类型转换器实用程序概述</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-985273B1-B82F-405A-9575-A5F87D18CA65">使用OTT实用程序</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-AB0A022F-7EE1-422D-9036-BC3F7D96B858">在数据库中创建类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-60EAEC6F-2F61-4FA1-BC58-85B00F32D8B3">关于调用OTT实用程序</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-2B0C5750-97C8-41E7-BD07-F417598C5E9D">关于使用INTYPE文件</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751">使用OTT实用程序数据类型映射</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-B5D1FB85-549E-484A-B492-24ADE223C24E">OUTTYPE文件概述</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD">使用OTT实用程序和OCCI应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="object-type-translator-utility.html#GUID-497FB400-8E07-4810-B481-ADCCA703C1F9">继承用户添加的代码</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-72088FFE-4A01-4296-B207-10F2D3550318__GUID-EBBFDFE2-3EA7-4463-8704-7F408F294614">
                  <p class="notep1">也可以看看：</p>
                  <p><code class="codeph">$</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/rdbms/demo</code>获取本章中使用的演示程序的完整代码清单，以及OTT实用程序生成的类和方法实现。
                  </p>
               </div>
            </div><a id="LNCPP20348"></a><div class="props_rev_3"><a id="GUID-6CEFB856-A10E-49EC-B379-C28FC06C7551" name="GUID-6CEFB856-A10E-49EC-B379-C28FC06C7551"></a><h3 id="LNCPP-GUID-6CEFB856-A10E-49EC-B379-C28FC06C7551" class="sect3"><span class="enumeration_section">8.1</span>对象类型转换器实用程序概述</h3>
               <div>
                  <p>对象类型转换器（OTT）实用程序有助于开发在Oracle数据库服务器中使用用户定义类型的应用程序。</p>
                  <p>您可以使用SQL <code class="codeph">CREATE TYPE</code>语句创建对象类型。这些类型的定义存储在数据库中，随后可用于创建数据库表。填充这些表后，OCCI程序员可以访问存储在表中的对象。
                  </p>
                  <p>访问对象数据的应用程序必须能够以宿主语言格式表示数据。这是通过在C ++中表示对象类型类来实现的。</p>
                  <p>您可以手动编写结构或类来表示数据库对象类型，但这非常耗时且容易出错。OTT实用程序通过自动为C ++生成适当的类来简化此步骤。</p>
                  <p>对于OCCI，应用程序必须包含并链接以下文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>包含包含生成的类声明的头文件</p>
                     </li>
                     <li>
                        <p>包含包含函数原型的头文件以注册映射</p>
                     </li>
                     <li>
                        <p>链接C ++源文件，其中包含OCCI在实例化对象时要调用的静态方法</p>
                     </li>
                     <li>
                        <p>链接包含函数的文件以注册与环境的映射并调用此函数</p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNCPP20350"></a><a id="LNCPP20349"></a><div class="props_rev_3"><a id="GUID-985273B1-B82F-405A-9575-A5F87D18CA65" name="GUID-985273B1-B82F-405A-9575-A5F87D18CA65"></a><h3 id="LNCPP-GUID-985273B1-B82F-405A-9575-A5F87D18CA65" class="sect3"><span class="enumeration_section">8.2</span>使用OTT实用程序</h3>
               <div>
                  <div class="section">
                     <p>要将数据库类型转换为C ++表示，必须显式调用OTT实用程序。OCCI程序员必须在环境中注册映射。该功能由OTT实用程序生成。</p>
                     <p>在大多数操作系统上，在命令行上调用OTT实用程序。它将<code class="codeph">INTYPE</code>文件作为输入，并生成一个<code class="codeph">OUTTYPE</code>文件，一个或多个包含原型信息的C ++头文件，以及注册生成的映射的其他C ++方法文件。
                     </p>
                     <div class="infoboxnotealso" id="GUID-985273B1-B82F-405A-9575-A5F87D18CA65__GUID-D746BC51-7C10-4EBE-B496-A00B1FDB18DB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="object-type-translator-utility.html#GUID-ACB9795D-378E-4D18-A31B-AA674410BE65">扩展C ++类</a>以获得完整的C ++示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-985273B1-B82F-405A-9575-A5F87D18CA65__GUID-0AC92BAC-244C-44B8-B983-05B39624D9B3">
                     <p class="titleinexample">例8-1如何使用OTT实用程序</p>
                     <p>以下命令调用OTT实用程序并生成C ++类。OTT尝试连接用户名<code class="codeph">demousr</code> ;系统提示输入密码。
                     </p><pre class="oac_no_warn" dir="ltr">ott userid = demousr intype = demoin.typ outtype = demoout.typ code = cpp hfile = demo.h cppfile = demo.cpp mapfile = RegisterMappings.cpp</pre><p>OTT实用程序使用<code class="codeph">demoin.typ</code>文件作为<code class="codeph">INTYPE</code>文件，将<code class="codeph">demoout.typ</code>文件用作<code class="codeph">OUTTYPE</code>文件。生成的声明输出到C ++文件<code class="codeph">demo.h</code> ，由<code class="codeph">CODE=cpp</code>参数指定，方法实现写入文件<code class="codeph">demo.cpp</code> ，注册映射的函数写入<code class="codeph">RegisterMappings.cpp</code> ，其原型写入<code class="codeph">RegisterMappings.h</code> 。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNCPP20352"></a><a id="LNCPP20351"></a><div class="props_rev_3"><a id="GUID-AB0A022F-7EE1-422D-9036-BC3F7D96B858" name="GUID-AB0A022F-7EE1-422D-9036-BC3F7D96B858"></a><h3 id="LNCPP-GUID-AB0A022F-7EE1-422D-9036-BC3F7D96B858" class="sect3"><span class="enumeration_section">8.3</span>在数据库中创建类型</h3>
               <div>
                  <div class="section">
                     <p>使用OTT实用程序的第一步是创建对象类型或命名集合类型，并将它们存储在数据库中。这是通过SQL <code class="codeph">CREATE TYPE</code>语句完成的。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AB0A022F-7EE1-422D-9036-BC3F7D96B858__GUID-DA5A70B1-6D03-4E87-9F62-852100843C34">
                     <p class="titleinexample">例8-2 OTT实用程序的对象创建语句</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE FULL_NAME AS OBJECT（first_name CHAR（20），last_name CHAR（20））; CREATE TYPE ADDRESS AS OBJECT（状态CHAR（20），zip CHAR（20））;创建类型ADDRESS_TAB作为REF地址的变体（3）;创建类型人员作为对象（ID号，名称FULL_NAME，curr_addr REF ADDRESS，prev_addr_1 ADDRESS_TAB）NOT FINAL;创建学生类型学生（school_name CHAR（20））;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNCPP20353"></a><div class="props_rev_3"><a id="GUID-60EAEC6F-2F61-4FA1-BC58-85B00F32D8B3" name="GUID-60EAEC6F-2F61-4FA1-BC58-85B00F32D8B3"></a><h3 id="LNCPP-GUID-60EAEC6F-2F61-4FA1-BC58-85B00F32D8B3" class="sect3"><span class="enumeration_section">8.4</span>关于调用OTT实用程序</h3>
               <div>
                  <p>在数据库中创建类型后，下一步是调用OTT实用程序。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-F7DB9784-89D1-4AA8-A625-10E686CC9860">指定OTT参数</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-05CDF705-35FE-4494-9636-F662B5F21D00">在命令行上调用OTT实用程序</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B">OTT实用程序参数</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-77786ABB-AD5E-4FA1-9455-FFBC30DC1D86">OTT参数可以出现的地方</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-A0881819-C788-439D-8DCB-2E3628FDD2EB">文件名比较限制</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-8FC3C3F1-C21B-494C-859C-37F72409FE02">在Microsoft Windows上使用OTT命令</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20354"></a><div class="props_rev_3"><a id="GUID-F7DB9784-89D1-4AA8-A625-10E686CC9860" name="GUID-F7DB9784-89D1-4AA8-A625-10E686CC9860"></a><h4 id="LNCPP-GUID-F7DB9784-89D1-4AA8-A625-10E686CC9860" class="sect4"><span class="enumeration_section">8.4.1</span>指定OTT参数</h4>
                  <div>
                     <div class="section">
                        <p>您可以在命令行或配置文件中指定OTT参数。某些参数也可以在<code class="codeph">INTYPE</code>文件中指定。
                        </p>
                        <p>如果在多个位置指定参数，则其在命令行上的值优先于其在<code class="codeph">INTYPE</code>文件中的值。<code class="codeph">INTYPE</code>文件中的值优先于用户定义的配置文件中的值，该文件优先于默认配置文件中的值。
                        </p>
                        <p>参数优先级如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>OTT命令行</span></li>
                        <li><span><code class="codeph">INTYPE</code>文件中的值</span></li>
                        <li><span>用户定义的配置文件</span></li>
                        <li><span>默认配置文件</span></li>
                     </ol>
                     <div class="section">
                        <p>对于全局选项（即命令行上的选项或任何<code class="codeph">TYPE</code>语句之前<code class="codeph">INTYPE</code>文件开头的选项），命令行上的值将覆盖<code class="codeph">INTYPE</code>文件中的值。（可以在<code class="codeph">INTYPE</code>文件中全局指定的选项是<code class="codeph">CASE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INITFUNC</code> ， <code class="codeph">MAPFILE</code>和<code class="codeph">MAPFUNC</code> ，但不是<code class="codeph">HFILE</code>或<code class="codeph">CPPFILE</code> 。）<code class="codeph">TYPE</code>规范中的<code class="codeph">INTYPE</code>文件中的任何内容仅适用于特定类型，并覆盖命令行上可能适用于该类型的任何内容。因此，如果输入<code class="codeph">TYPE person HFILE=ph</code> ，则它仅适用于<code class="codeph">person</code>并覆盖命令行上的<code class="codeph">HFILE</code> 。该语句不被视为命令行参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="object-type-translator-utility.html#GUID-F0C5A03C-03CD-4D20-97F7-6C5498638CAE">关于在命令行上设置参数</a></p>
                              </li>
                              <li>
                                 <p><a href="object-type-translator-utility.html#GUID-93043F2C-9181-40CD-AF79-7A0B6E96A986">关于在INTYPE文件中设置参数</a></p>
                              </li>
                              <li>
                                 <p><a href="object-type-translator-utility.html#GUID-586A860A-772D-4849-864E-F094F8D548A0">关于在配置文件中设置参数</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNCPP20355"></a><div class="props_rev_3"><a id="GUID-F0C5A03C-03CD-4D20-97F7-6C5498638CAE" name="GUID-F0C5A03C-03CD-4D20-97F7-6C5498638CAE"></a><h5 id="LNCPP-GUID-F0C5A03C-03CD-4D20-97F7-6C5498638CAE" class="sect5"><span class="enumeration_section">8.4.1.1</span>关于在命令行上设置参数</h5>
                     <div>
                        <p>在命令行上设置的参数（也称为选项）会覆盖其他地方设置的任何参数或选项。</p>
                     </div>
                  </div><a id="LNCPP20356"></a><div class="props_rev_3"><a id="GUID-93043F2C-9181-40CD-AF79-7A0B6E96A986" name="GUID-93043F2C-9181-40CD-AF79-7A0B6E96A986"></a><h5 id="LNCPP-GUID-93043F2C-9181-40CD-AF79-7A0B6E96A986" class="sect5"><span class="enumeration_section">8.4.1.2</span>关于在INTYPE文件中设置参数</h5>
                     <div>
                        <p><code class="codeph">INTYPE</code>文件提供要翻译的OTT实用程序的类型列表。
                        </p>
                        <p>参数<code class="codeph">CASE</code> ， <code class="codeph">CPPFILE</code> ， <code class="codeph">HFILE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INITFUNC</code> ， <code class="codeph">MAPFILE</code>和<code class="codeph">MAPFUNC</code>可以出现在<code class="codeph">INTYPE</code>文件中。
                        </p>
                     </div>
                  </div><a id="LNCPP20357"></a><div class="props_rev_3"><a id="GUID-586A860A-772D-4849-864E-F094F8D548A0" name="GUID-586A860A-772D-4849-864E-F094F8D548A0"></a><h5 id="LNCPP-GUID-586A860A-772D-4849-864E-F094F8D548A0" class="sect5"><span class="enumeration_section">8.4.1.3</span>关于配置文件中的参数设置</h5>
                     <div>
                        <p>配置文件是包含OTT参数的文本文件。文件中的每个非空行包含一个参数及其关联的值。如果多个参数在同一行上，则仅使用第一个参数。配置文件的任何非空行都不允许有空格。</p>
                        <p>可以在命令行上命名配置文件。此外，始终读取默认配置文件。此默认配置文件必须始终存在，但可以为空。默认配置文件的名称是<code class="codeph">ottcfg.cfg</code> ，文件的位置是特定于操作系统的。
                        </p>
                        <div class="infoboxnotealso" id="GUID-586A860A-772D-4849-864E-F094F8D548A0__GUID-8E213F7C-2D08-44F2-9D39-959D276BD7E4">
                           <p class="notep1">也可以看看：</p>
                           <p>有关默认配置文件位置的详细信息，请参见特定于操作系统的文档。</p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNCPP20359"></a><a id="LNCPP20358"></a><div class="props_rev_3"><a id="GUID-05CDF705-35FE-4494-9636-F662B5F21D00" name="GUID-05CDF705-35FE-4494-9636-F662B5F21D00"></a><h4 id="LNCPP-GUID-05CDF705-35FE-4494-9636-F662B5F21D00" class="sect4"><span class="enumeration_section">8.4.2</span>在命令行上调用OTT实用程序</h4>
                  <div>
                     <div class="section">
                        <p>在大多数平台上，在命令行上调用OTT实用程序。您可以在命令行中指定输入和输出文件以及数据库连接信息等。</p>
                        <div class="infoboxnotealso" id="GUID-05CDF705-35FE-4494-9636-F662B5F21D00__GUID-FECF1F2F-3370-457F-B5C1-C5B858D73D51">
                           <p class="notep1">也可以看看：</p>
                           <p>您的操作系统特定文档，以了解如何在操作系统上调用OTT实用程序</p>
                        </div>
                        <div class="infoboxnote" id="GUID-05CDF705-35FE-4494-9636-F662B5F21D00__GUID-3F34F521-A91E-42FE-823D-229BB663ADC3">
                           <p class="notep1">注意：</p>
                           <p>OTT命令行上的等号（ <code class="codeph">=</code> ）周围不允许有空格。
                           </p>
                        </div>
                        <p>OTT命令行语句由命令OTT组成，后跟OTT实用程序参数列表。</p>
                        <p>几乎总是使用<code class="codeph">HFILE</code>参数。如果省略，然后<code class="codeph">HFILE</code>必须单独在每种类型的指定<code class="codeph">INTYPE</code>文件。如果OTT实用程序确定必须翻译<code class="codeph">INTYPE</code>文件中未列出的类型，则会报告错误。因此，仅当<code class="codeph">INTYPE</code>文件先前作为OTT <code class="codeph">OUTTYPE</code>文件生成时，才能安全地省略<code class="codeph">HFILE</code>参数。
                        </p>
                        <p>如果省略<code class="codeph">INTYPE</code>文件，则翻译整个模式。有关详细信息，请参阅以下部分中的参数说明。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-05CDF705-35FE-4494-9636-F662B5F21D00__GUID-10DB08B2-8377-408F-AFF4-3B063CB2DE5F">
                        <p class="titleinexample">示例8-3如何调用OTT实用程序以生成C ++类</p>
                        <p>OTT尝试连接用户名<code class="codeph">demousr</code> ;系统提示输入密码。
                        </p><pre class="oac_no_warn" dir="ltr">ott userid = demousr intype = demoin.typ outtype = demoout.typ code = cpp hfile = demo.h cppfile = demo.cpp mapfile = RegisterMappings.cpp</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>本节包括以下主题： <a href="object-type-translator-utility.html#GUID-3EE229DA-9EE4-40D4-A074-7B4E1FB2169C">OTT命令行上使用的元素</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNCPP20360"></a><div class="props_rev_3"><a id="GUID-3EE229DA-9EE4-40D4-A074-7B4E1FB2169C" name="GUID-3EE229DA-9EE4-40D4-A074-7B4E1FB2169C"></a><h5 id="LNCPP-GUID-3EE229DA-9EE4-40D4-A074-7B4E1FB2169C" class="sect5"><span class="enumeration_section">8.4.2.1</span> OTT命令行使用的元素</h5>
                     <div>
                        <p>OTT命令行中使用的元素是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>调用OTT实用程序的OTT命令。它必须是命令行中的第一项。</p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-B4BB12D4-5527-4B83-B7E9-F1916BBC32EE">USERID</a>参数</p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D">INTYPE</a>参数</p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E">OUTTYPE</a>参数。
                              </p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-2158AA13-83C8-412A-8241-8F8893D03009">CODE</a>参数。
                              </p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-3D18CAD9-3650-4CB3-81ED-6C77D2A1EA03">HFILE</a>参数。
                              </p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-14386588-D5A8-4DCA-84D2-3CBCA18BE418">CPPFILE</a>参数。
                              </p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-7FBA0DB4-3C69-4DEA-8082-13C05552F299">MAPFILE</a>参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNCPP20362"></a><a id="LNCPP20361"></a><div class="props_rev_3"><a id="GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B" name="GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B"></a><h4 id="LNCPP-GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B" class="sect4"><span class="enumeration_section">8.4.3</span> OTT实用程序参数</h4>
                  <div>
                     <div class="section">
                        <p>要使用OTT实用程序生成C ++，必须将<code class="codeph">CODE</code>参数设置为<code class="codeph">CODE=CPP</code> 。指定<code class="codeph">CODE=CPP</code> ，您需要指定<code class="codeph">CPPFILE</code>和<code class="codeph">MAPFILE</code>参数，以定义方法实现文件和映射注册函数文件的文件名。映射函数的名称由<code class="codeph">MAPFILE</code>实用程序从<code class="codeph">MAPFILE</code>或者您可以使用<code class="codeph">MAPFUNC</code>参数指定名称。<code class="codeph">ATTRACCESS</code>也是一个可选参数，可以指定它来更改生成的代码。这些参数控制C ++类的生成。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在OTT命令行上输入参数，其中<code class="codeph">parameter</code>是文字参数字符串， <code class="codeph">value</code>是有效参数设置。文字参数字符串不区分大小写：</p><pre class="oac_no_warn" dir="ltr">参数=值</pre></li>
                           <li>
                              <p>使用空格或制表符分隔命令行参数。</p>
                           </li>
                           <li>
                              <p>参数也可以出现在配置文件中，但在这种情况下，行内不允许有空格，并且每个参数必须出现在单独的行中。此外，参数<code class="codeph">CASE</code> ， <code class="codeph">CPPFILE</code> ， <code class="codeph">HFILE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INTFUNC</code> ， <code class="codeph">MAPFILE</code>和<code class="codeph">MAPFUNC</code>可以出现在<code class="codeph">INTYPE</code>文件中。
                              </p>
                           </li>
                        </ul>
                        <p><a href="object-type-translator-utility.html#GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B__BABBEIHG" title="该表有2列。第1列是参数名称，第2列是其描述">表8-1</a>列出了所有OTT Utility参数：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D462A1B9-D2C2-4A1A-BFF8-97E2FC8C578B__BABBEIHG">
                        <p class="titleintable">表8-1 OTT实用程序参数摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="OTT实用程序参数摘要" width="100%" border="1" summary="This table has 2 columns. Column 1 is the parameter name and column 2 is its description" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d65341e1302">参数</th>
                                 <th align="left" valign="bottom" width="70%" id="d65341e1305">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1310" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-F2698DEF-6EA6-4026-9546-09F1CC24AE05">ATTRACCESS</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1310 d65341e1305 ">
                                    <p>指定对类型属性的访问权限是<code class="codeph">PROTECTED</code>还是<code class="codeph">PRIVATE</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1324" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-30B1799D-8D84-4A72-A4B1-2FD0629166AC">案件</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1324 d65341e1305 ">
                                    <p>影响生成的C ++标识符的字母大小写</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1332" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-2158AA13-83C8-412A-8241-8F8893D03009">码</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1332 d65341e1305 ">
                                    <p>指定转换的目标语言。使用<code class="codeph">CPP</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1343" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-3C1A0D54-82C4-49C4-879A-DC5FCCE6B8F2">CONFIG</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1343 d65341e1305 ">
                                    <p>指定列出常用参数规范的OTT配置文件的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1351" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-14386588-D5A8-4DCA-84D2-3CBCA18BE418">CPPFILE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1351 d65341e1305 ">
                                    <p>指定编写方法实现的C ++源文件的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1359" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-E96901DC-49A5-4CBB-AD5A-1C725FC61C08">ERRTYPE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1359 d65341e1305 ">
                                    <p>指定错误消息输出文件的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1367" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-3D18CAD9-3650-4CB3-81ED-6C77D2A1EA03">HFILE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1367 d65341e1305 ">
                                    <p>指定生成的C ++类所写的C ++头文件的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1375" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D">输入法菜单</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1375 d65341e1305 ">
                                    <p>指定<code class="codeph">INTYPE</code>文件的名称。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1386" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-7FBA0DB4-3C69-4DEA-8082-13C05552F299">MAPFILE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1386 d65341e1305 ">
                                    <p>指定映射文件的名称以及OTT实用程序生成的相应头文件。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1394" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-FFFBB8D5-1EC0-46DB-A838-2001B258D224">MAPFUNC</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1394 d65341e1305 ">
                                    <p>指定用于注册生成的映射的函数的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1402" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E">OUTTYPE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1402 d65341e1305 ">
                                    <p>指定<code class="codeph">OUTTYPE</code>文件的名称。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1414" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-8D3EE31C-90B9-4681-BB8D-227658DCF5F9">SCHEMA_NAMES</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1414 d65341e1305 ">
                                    <p>控制从默认架构中限定类型的数据库名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1422" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-6EAA11AD-1287-403B-87AF-C103F9D171A3">传递性</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1422 d65341e1305 ">
                                    <p>指示是否转换未在<a href="object-type-translator-utility.html#GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D">INTYPE中</a>明确列出的类型依赖<a href="object-type-translator-utility.html#GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D">项</a> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1433" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-34F425D9-344F-4413-8909-3048DBCA6778">UNICODE</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1433 d65341e1305 ">
                                    <p>指示应用程序是否应提供UTF16支持生成<code class="codeph">UString</code>类型。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1444" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-966D792F-9ADF-45B6-8EFD-7C3301B080E9">USE_MARKER</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1444 d65341e1305 ">
                                    <p>指示是否应支持OTT标记以结转用户添加的cod</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d65341e1452" headers="d65341e1302 ">
                                    <p><a href="object-type-translator-utility.html#GUID-B4BB12D4-5527-4B83-B7E9-F1916BBC32EE">用户身份</a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d65341e1452 d65341e1305 ">
                                    <p>指定OTT实用程序使用的数据库连接信息。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="LNCPP20363"></a><div class="props_rev_3"><a id="GUID-F2698DEF-6EA6-4026-9546-09F1CC24AE05" name="GUID-F2698DEF-6EA6-4026-9546-09F1CC24AE05"></a><h5 id="LNCPP-GUID-F2698DEF-6EA6-4026-9546-09F1CC24AE05" class="sect5"><span class="enumeration_section">8.4.3.1</span>吸引力</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定对类型属性的访问：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">PROTECTED</code>是默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">PRIVATE</code>表示OTT实用程序为每个类型属性生成附件和mutator方法， <code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code>并<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20364"></a><div class="props_rev_3"><a id="GUID-30B1799D-8D84-4A72-A4B1-2FD0629166AC" name="GUID-30B1799D-8D84-4A72-A4B1-2FD0629166AC"></a><h5 id="LNCPP-GUID-30B1799D-8D84-4A72-A4B1-2FD0629166AC" class="sect5"><span class="enumeration_section">8.4.3.2</span>案例</h5>
                     <div>
                        <div class="section">
                           <p>此参数会影响生成的C ++标识符的字母大小写。<code class="codeph">CASE</code>的有效值为：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将数据库类型和属性名称转换为C ++标识符时， <code class="codeph">SAME</code>是字母保持不变的情况。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOWER</code>表示所有大写字母都转换为小写。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPPER</code>表示所有小写字母都转换为大写。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPPOSITE</code>表示所有大写字母都转换为小写，所有小写字母都转换为大写。
                                 </p>
                              </li>
                           </ul>
                           <p>此参数仅影响<code class="codeph">INTYPE</code>文件中未提及的那些标识符（未明确列出的属性或类型）。在生成合法标识符之后进行大小写转换。
                           </p>
                           <p>如果<code class="codeph">CASE=SAME</code> ， <code class="codeph">INTYPE</code>文件中未提及的不区分大小写的SQL标识符<code class="codeph">INTYPE</code>大写<code class="codeph">INTYPE</code>显示，如果<code class="codeph">CASE=OPPOSITE</code> ， <code class="codeph">INTYPE</code>小写形式显示。如果SQL标识符在声明时未引用，则它不区分大小写。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20365"></a><div class="props_rev_3"><a id="GUID-2158AA13-83C8-412A-8241-8F8893D03009" name="GUID-2158AA13-83C8-412A-8241-8F8893D03009"></a><h5 id="LNCPP-GUID-2158AA13-83C8-412A-8241-8F8893D03009" class="sect5"><span class="enumeration_section">8.4.3.3</span>代码</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定OTT实用程序要输出的主机语言。必须为OTT实用程序指定<code class="codeph">CODE=CPP</code> ，以便为OCCI应用程序生成C ++代码。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20366"></a><div class="props_rev_3"><a id="GUID-3C1A0D54-82C4-49C4-879A-DC5FCCE6B8F2" name="GUID-3C1A0D54-82C4-49C4-879A-DC5FCCE6B8F2"></a><h5 id="LNCPP-GUID-3C1A0D54-82C4-49C4-879A-DC5FCCE6B8F2" class="sect5"><span class="enumeration_section">8.4.3.4</span>配置</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定列出常用参数规范的OTT配置文件的名称。还从依赖于操作系统的位置中的系统配置文件中读取参数规范。所有剩余的参数规范必须出现在命令行或<code class="codeph">INTYPE</code>文件中。
                           </p>
                           <p><code class="codeph">CONFIG</code>参数只能在OTT命令行中指定。<code class="codeph">CONFIG</code>文件中不允许使用它。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20367"></a><div class="props_rev_3"><a id="GUID-14386588-D5A8-4DCA-84D2-3CBCA18BE418" name="GUID-14386588-D5A8-4DCA-84D2-3CBCA18BE418"></a><h5 id="LNCPP-GUID-14386588-D5A8-4DCA-84D2-3CBCA18BE418" class="sect5"><span class="enumeration_section">8.4.3.5</span> CPPFILE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定包含OTT实用程序生成的方法实现的C ++源文件的名称。OCCI在实例化对象时调用此文件中生成的方法，而不是直接在应用程序中调用。</p>
                           <p>在以下条件下需要此参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>必须生成<code class="codeph">INTYPE</code>文件中未提及的类型，并且正在生成两个或更多<code class="codeph">CPPFILE</code> 。在这种情况下，未提及的类型将在命令行中指定的<code class="codeph">CPPFILE</code>中。
                                 </p>
                              </li>
                              <li>
                                 <p>未指定<code class="codeph">INTYPE</code>参数，并且您希望OTT实用程序转换架构中的所有类型。
                                 </p>
                              </li>
                           </ul>
                           <p>当为<code class="codeph">INTYPE</code>文件中的各个类型指定<code class="codeph">CPPFILE</code>时，此参数是可选的。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20368"></a><div class="props_rev_3"><a id="GUID-E96901DC-49A5-4CBB-AD5A-1C725FC61C08" name="GUID-E96901DC-49A5-4CBB-AD5A-1C725FC61C08"></a><h5 id="LNCPP-GUID-E96901DC-49A5-4CBB-AD5A-1C725FC61C08" class="sect5"><span class="enumeration_section">8.4.3.6</span> ERRTYPE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定错误消息输出文件的名称。无论是否指定了<code class="codeph">ERRTYPE</code>参数，都会将信息和错误消息发送到标准输出。从本质上讲， <code class="codeph">ERRTYPE</code>文件是复印件<code class="codeph">INTYPE</code>添加了错误信息的文件。在大多数情况下，错误消息包含指向导致错误的文本的指针。
                           </p>
                           <p>如果在命令行上为<code class="codeph">ERRTYPE</code>参数指定的文件名不包含扩展名，则特定于平台的扩展名，如。<code class="codeph">TLS</code>或。 <code class="codeph">tls</code> ，自动添加。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20369"></a><div class="props_rev_3"><a id="GUID-3D18CAD9-3650-4CB3-81ED-6C77D2A1EA03" name="GUID-3D18CAD9-3650-4CB3-81ED-6C77D2A1EA03"></a><h5 id="LNCPP-GUID-3D18CAD9-3650-4CB3-81ED-6C77D2A1EA03" class="sect5"><span class="enumeration_section">8.4.3.7</span> HFILE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定OTT实用程序生成的标头（ <code class="codeph">.h</code> ）文件的名称。命令行中指定的<code class="codeph">HFILE</code>包含<code class="codeph">INTYPE</code>文件中提到但未在其中指定其头文件的类型声明。
                           </p>
                           <p>除非在<code class="codeph">INTYPE</code>文件中单独指定每种类型的头文件，否则此参数是必需的。如果必须生成<code class="codeph">INTYPE</code>文件中未提及的类型，因为其他类型需要它，并且这些其他类型在两个或多个不同的文件中声明，则此参数也是必需的。
                           </p>
                           <p>如果在命令行或<code class="codeph">INTYPE</code>文件中为<code class="codeph">HFILE</code>参数指定的文件名不包含扩展名， <code class="codeph">INTYPE</code>特定于平台的扩展名，如<code class="codeph">.H</code>或<code class="codeph">.h</code> ，自动添加。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20370"></a><div class="props_rev_3"><a id="GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D" name="GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D"></a><h5 id="LNCPP-GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D" class="sect5"><span class="enumeration_section">8.4.3.8</span> INTYPE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定要从中读取对象类型规范列表的文件的名称。OTT实用程序转换列表中的每种类型。如果未指定<code class="codeph">INTYPE</code>参数，则转换用户架构中的所有类型。
                           </p>
                           <p>如果在命令行上为<code class="codeph">INTYPE</code>参数指定的文件名不包含扩展名，则特定于平台的扩展名，如<code class="codeph">.TYP</code>或<code class="codeph">.typ</code>会自动添加。
                           </p>
                           <p>如果<code class="codeph">USERID</code>和<code class="codeph">INTYPE</code>是前两个参数，则可以省略<code class="codeph">INTYPE=</code> ，并且省略<code class="codeph">USERID=</code> 。
                           </p>
                           <p><code class="codeph">INTYPE</code>文件可以被认为是类型声明的makefile。它列出了需要C ++类的类型。
                           </p>
                           <div class="infoboxnotealso" id="GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D__GUID-76E153DA-BD45-425A-91F4-57AE9FDC0688">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="object-type-translator-utility.html#GUID-D78CB214-1A42-42D1-9100-EDAFB463602C">INTYPE文件的结构</a> ”</span> ，以获取有关<code class="codeph">INTYPE</code>文件格式的更多信息</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20371"></a><div class="props_rev_3"><a id="GUID-7FBA0DB4-3C69-4DEA-8082-13C05552F299" name="GUID-7FBA0DB4-3C69-4DEA-8082-13C05552F299"></a><h5 id="LNCPP-GUID-7FBA0DB4-3C69-4DEA-8082-13C05552F299" class="sect5"><span class="enumeration_section">8.4.3.9</span> MAPFILE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定由OTT实用程序生成的映射文件（ <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">.cpp</code> ）和相应的头文件（ <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">.h</code> ）的名称。<span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">.cpp</code>文件包含注册映射的函数的实现，而<span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">.h</code>文件包含函数的原型。
                           </p>
                           <p>可以在命令行或<code class="codeph">INTYPE</code>文件中指定此参数。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20372"></a><div class="props_rev_3"><a id="GUID-FFFBB8D5-1EC0-46DB-A838-2001B258D224" name="GUID-FFFBB8D5-1EC0-46DB-A838-2001B258D224"></a><h5 id="LNCPP-GUID-FFFBB8D5-1EC0-46DB-A838-2001B258D224" class="sect5"><span class="enumeration_section">8.4.3.10</span> MAPFUNC</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定用于注册OTT实用程序生成的映射的函数的名称。</p>
                           <p>如果省略此参数，则注册映射的函数的名称是从<code class="codeph">MAPFILE</code>参数中指定的文件名派生的。
                           </p>
                           <p>可以在命令行或<code class="codeph">INTYPE</code>文件中指定此参数。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20373"></a><div class="props_rev_3"><a id="GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E" name="GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E"></a><h5 id="LNCPP-GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E" class="sect5"><span class="enumeration_section">8.4.3.11</span> OUTTYPE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定OTT实用程序为其处理的所有对象数据类型写入类型信息的文件的名称。此文件包括在<code class="codeph">INTYPE</code>文件中显式命名的所有类型，并且可能包含已翻译的其他类型，因为它们用于必须转换的其他类型的声明中。在将来调用OTT实用程序时，此文件可用作<code class="codeph">INTYPE</code>文件。
                           </p>
                           <p>如果<code class="codeph">INTYPE</code>和<code class="codeph">OUTTYPE</code>参数引用同一文件，则新的<code class="codeph">INTYPE</code>信息将替换<code class="codeph">INTYPE</code>文件中的旧信息。这为在更改类型，生成类型声明，编辑源代码，预编译，编译和调试的循环中重复使用相同的<code class="codeph">INTYPE</code>文件提供了一种便捷的方法。
                           </p>
                           <p>如果在命令行或<code class="codeph">INTYPE</code>文件中为<code class="codeph">OUTTYPE</code>参数指定的文件名不包含扩展名， <code class="codeph">INTYPE</code>特定于平台的扩展名，如<code class="codeph">.TYP</code>或<code class="codeph">.typ</code>会自动添加。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20375"></a><a id="LNCPP20374"></a><div class="props_rev_3"><a id="GUID-8D3EE31C-90B9-4681-BB8D-227658DCF5F9" name="GUID-8D3EE31C-90B9-4681-BB8D-227658DCF5F9"></a><h5 id="LNCPP-GUID-8D3EE31C-90B9-4681-BB8D-227658DCF5F9" class="sect5"><span class="enumeration_section">8.4.3.12</span> SCHEMA_NAMES</h5>
                     <div>
                        <div class="section">
                           <p>此参数提供控制，以从<a href="object-type-translator-utility.html#GUID-317685CC-A0F0-48E0-853E-DA7F6A3A7E9E">OUTTYPE</a>文件中指定的默认架构限定类型的数据库名称。OTT实用程序生成的<code class="codeph">OUTTYPE</code>文件包含有关OTT实用程序处理的类型的信息，包括类型名称。有效值包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ALWAYS</code> （默认值）表示<code class="codeph">OUTTYPE</code>文件中的所有类型名称都使用模式名称限定。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IF_NEEDED</code>表示<code class="codeph">OUTTYPE</code>文件中属于默认架构的类型名称未使用架构名称限定。属于其他模式的类型名称使用模式名称限定。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">FROM_INTYPE</code>表明，在提到型<a href="object-type-translator-utility.html#GUID-CF2AE1F7-49E8-4600-8103-534AE659FF1D">输入法菜单</a>文件是用合格的架构名称<code class="codeph">OUTTYPE</code>文件，只有当它被用在模式名修饰<code class="codeph">INTYPE</code>文件。缺省模式中的类型在<code class="codeph">INTYPE</code>文件中未提及但由于类型依赖性而生成的类型仅在依赖于它的OTT实用程序遇到的第一个类型也使用模式名称写入时才使用模式名称编写。但是，OTT实用程序所连接的默认架构中的类型始终使用显式架构名称编写。
                                 </p>
                              </li>
                           </ul>
                           <p>来自其他模式的类型的名称，默认模式始终使用<code class="codeph">OUTTYPE</code>文件中的模式名称进行<code class="codeph">OUTTYPE</code> 。
                           </p>
                           <p>模式名称或其缺席确定在程序执行期间在哪个模式中找到类型。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8D3EE31C-90B9-4681-BB8D-227658DCF5F9__GUID-29CEB3B6-81F4-4ACC-9E26-6D946901DC0A">
                           <p class="titleinexample">示例8-4如何在OTT实用程序中使用SCHEMA_NAMES参数</p>
                           <p>考虑一个示例，其中<code class="codeph">SCHEMA_NAMES</code>参数设置为<code class="codeph">FROM_INTYPE</code> ， <code class="codeph">INTYPE</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">TYPE Person TYPE乔。部门类型山姆。公司</pre><p>如果OTT实用程序和应用程序都连接到schema joe，那么应用程序使用相同的类型（ <code class="codeph">joe.Person</code> ），该OTT实用程序使用。如果OTT实用程序连接到架构<code class="codeph">joe</code>但应用程序连接到架构<code class="codeph">mary</code> ，则应用程序使用类型<code class="codeph">mary.Person</code>仅当在schema <code class="codeph">joe</code>和schema <code class="codeph">mary</code>执行了相同的<code class="codeph">CREATE TYPE Person</code>语句时，此行为才适用。
                           </p>
                           <p>另一方面，应用程序使用类型<code class="codeph">joe.无论应用程序连接到哪个架构，都要Dept</code> 。如果这是您想要的行为，请确保在<code class="codeph">INTYPE</code>文件中包含带有您的类型名称的模式名称。
                           </p>
                           <p>在某些情况下，OTT实用程序会转换用户未明确命名的类型。例如，请考虑以下SQL声明：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE地址AS OBJECT（街道VARCHAR2（40），城市VARCHAR（30），州CHAR（2），zip_code CHAR（10））; CREATE TYPE Person AS OBJECT（名称CHAR（20），年龄NUMBER，地址ADDRESS）;</pre><p>假设OTT实用程序连接到模式<code class="codeph">joe</code> ，指定了<code class="codeph">SCHEMA_NAMES=FROM_INTYPE</code> ，并且用户的<code class="codeph">INTYPE</code>文件包括<code class="codeph">TYPE Person</code>或<code class="codeph">TYPE joe.Person</code><code class="codeph">INTYPE</code>文件未提及类型<code class="codeph">joe.Address</code> ，用作类型为<code class="codeph">joe.的嵌套对象类型<code class="codeph">joe.Person</code>
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果<code class="codeph">Type Person</code>出现在<code class="codeph">INTYPE</code>文件中，则<code class="codeph">TYPE Person</code>和<code class="codeph">TYPE Address</code>出现在<code class="codeph">OUTTYPE</code>文件中。
                                 </p>
                              </li>
                              <li>
                                 <p>如果<code class="codeph">TYPE joe.Person</code>出现在<code class="codeph">INTYPE</code>文件中，然后出现在<code class="codeph">TYPE joe.Person</code>与<code class="codeph">TYPE joe.Address</code>显示在<code class="codeph">OUTTYPE</code>文件中。
                                 </p>
                              </li>
                              <li>
                                 <p>如果是<code class="codeph">joe.Address</code>类型嵌入在由OTT实用程序转换的几种类型中，但在<code class="codeph">INTYPE</code>文件中没有明确提及，然后在OTT实用程序第一次遇到嵌入式<code class="codeph">joe.决定是否使用模式名称<code class="codeph">joe.Address</code>类型。如果由于某种原因，用户想要键入<code class="codeph">joe.要具有模式名称但不希望类型为<code class="codeph">Person</code> Address</code> ，则必须在<code class="codeph">INTYPE</code>文件中显式请求： <code class="codeph">TYPE joe.Address</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>在通常情况下，在单个模式中声明每个类型，最安全的是使用<code class="codeph">INTYPE</code>文件中的模式名称限定所有类型名称。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNCPP20376"></a><div class="props_rev_3"><a id="GUID-6EAA11AD-1287-403B-87AF-C103F9D171A3" name="GUID-6EAA11AD-1287-403B-87AF-C103F9D171A3"></a><h5 id="LNCPP-GUID-6EAA11AD-1287-403B-87AF-C103F9D171A3" class="sect5"><span class="enumeration_section">8.4.3.13传统</span></h5>
                     <div>
                        <div class="section">
                           <p>此参数指示是否要转换未在<code class="codeph">INTYPE</code>文件中明确列出的类型依赖项。有效值为：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">TRUE</code> （默认值）：生成<code class="codeph">INTYPE</code>文件中未提及的其他类型所需的类型</p>
                              </li>
                              <li>
                                 <p><code class="codeph">FALSE</code> ：不会生成<code class="codeph">INTYPE</code>文件中未提及的类型，即使它们用作其他生成类型的属性类型也是如此。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20378"></a><a id="LNCPP20379"></a><a id="LNCPP20380"></a><a id="LNCPP20377"></a><div class="props_rev_3"><a id="GUID-34F425D9-344F-4413-8909-3048DBCA6778" name="GUID-34F425D9-344F-4413-8909-3048DBCA6778"></a><h5 id="LNCPP-GUID-34F425D9-344F-4413-8909-3048DBCA6778" class="sect5"><span class="enumeration_section">8.4.3.14</span> UNICODE</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定应用程序是否提供unicode（ <code class="codeph">UTF16</code> ）支持。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">NONE</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALL</code> ：所有<code class="codeph">CHAR</code> （ <code class="codeph">CHAR</code> / <code class="codeph">VARCHAR</code> ）和<code class="codeph">NCHAR</code> （ <code class="codeph">NCHAR</code> / <code class="codeph">NVARCHAR2</code> ）类型属性在OTT生成的C ++类文件中声明为<code class="codeph">UString</code>类型。相应的<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code> / <code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code>返回值或参数是<code class="codeph">UString</code>类型。生成的持久运算符new也只<code class="codeph">UString</code>参数。
                                 </p>
                                 <p>当客户端字符集和国家字符集都是<code class="codeph">UTF16</code>时，此设置是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ONLYNCHAR</code> ：类似于<code class="codeph">ALL</code>选项，但只有<code class="codeph">NCHAR</code>类型属性声明为<code class="codeph">UString</code> 。
                                 </p>
                                 <p>当应用程序仅将环境的国家字符集设置为<code class="codeph">UTF16</code>时，此设置是必需的。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-34F425D9-344F-4413-8909-3048DBCA6778__GUID-834C2600-E423-4F36-BE68-98C2146B42C5">
                           <p class="titleinexample">示例8-5如何在OTT中定义Unicode支持的模式</p><pre class="oac_no_warn" dir="ltr">创建类型CitiesList作为varchar2（100）的varray（100）; create type Country as object（CNo Number（10），CName Varchar2（100），CNationalName NVarchar2（100），MainCities CitiesList）;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-34F425D9-344F-4413-8909-3048DBCA6778__GUID-9CE4C656-6062-4F66-A89E-35E75958BFB7">
                           <p class="titleinexample">例8-6如何在OTT中使用UNICODE = ALL参数</p><pre class="oac_no_warn" dir="ltr">class Country：public oracle :: occi :: PObject {private：oracle :: occi :: Number CNO; oracle :: occi :: UString CNAME; oracle :: occi :: UString CNATIONALNAME; OCCI_STD_NAMESPACE ::: vector &lt;oracle :: occi :: UString&gt; MAINCITIES; public：oracle :: occi :: Number getCno（）const; void setCno（const oracle :: occi :: Number＆value）; oracle :: occi :: UString getCname（）const; void setCname（const oracle :: occi :: UString＆value）; oracle :: occi :: UString getCnationalname（）const; void setCnationalname（const oracle :: occi :: UString＆value）; OCCI_STD_NAMESPACE :: vector &lt;oracle :: occi :: UString&gt;＆getMaincities（）; const OCCI_STD_NAMESPACE :: vector &lt;oracle :: occi :: UString&gt;＆getMaincities（）const; void setMaincities（const OCCI_STD_NAMESPACE :: vector &lt;oracle :: occi :: UString&gt;＆value）; ...}</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-34F425D9-344F-4413-8909-3048DBCA6778__GUID-D7F65DA3-1125-49DE-8C72-E56910ADB970">
                           <p class="titleinexample">例8-7如何在OTT中使用UNICODE = ONLYCHAR参数</p><pre class="oac_no_warn" dir="ltr">class Country：public oracle :: occi :: PObject {private：oracle :: occi :: Number CNO; oracle :: occi :: string CNAME; oracle :: occi :: UString CNATIONALNAME; OCCI_STD_NAMESPACE :: vector &lt;std :: string&gt; MAINCITIES; public：oracle :: occi :: Number getCno（）const; void setCno（const oracle :: occi :: Number＆value）; oracle :: occi :: string getCname（）const; void setCname（const OCCI_STD_NAMESPACE :: string＆value）; oracle :: occi :: UString getCnationalname（）const; void setCnationalname（const oracle :: occi :: UString＆value）; OCCI_STD_NAMESPACE :: vector &lt;OCCI_STD_NAMESPACE :: string&gt;＆getMaincities（）; const OCCI_STD_NAMESPACE :: vector &lt;OCCI_STD_NAMESPACE :: string&gt;＆getMaincities（）const; void setMaincities（const OCCI_STD_NAMESPACE :: vector &lt;OCCI_STD_NAMESPACE :: string&gt;＆value）; ...}</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNCPP20381"></a><div class="props_rev_3"><a id="GUID-966D792F-9ADF-45B6-8EFD-7C3301B080E9" name="GUID-966D792F-9ADF-45B6-8EFD-7C3301B080E9"></a><h5 id="LNCPP-GUID-966D792F-9ADF-45B6-8EFD-7C3301B080E9" class="sect5"><span class="enumeration_section">8.4.3.15</span> USE_MARKER</h5>
                     <div>
                        <div class="section">
                           <p>此参数指示是否支持用于转发用户添加代码的OTT标记。有效值为：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">FALSE</code> （默认值）：即使在<code class="codeph">OTT_USERCODE_START</code>和<code class="codeph">OTT_USERCODE_END</code>标记之间添加代码，也不会继续使用用户提供的代码。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TRUE</code> ：标记<code class="codeph">OTT_USER_CODESTART</code>和<code class="codeph">OTT_USERCODE_END</code>之间的用户提供的代码在再次生成相同文件时继续执行。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNCPP20382"></a><div class="props_rev_3"><a id="GUID-B4BB12D4-5527-4B83-B7E9-F1916BBC32EE" name="GUID-B4BB12D4-5527-4B83-B7E9-F1916BBC32EE"></a><h5 id="LNCPP-GUID-B4BB12D4-5527-4B83-B7E9-F1916BBC32EE" class="sect5"><span class="enumeration_section">8.4.3.16</span> USERID</h5>
                     <div>
                        <div class="section">
                           <p>此参数指定Oracle用户名和可选数据库名称（Oracle Net数据库规范字符串）。如果省略数据库名称，则假定使用缺省数据库。</p><pre class="oac_no_warn" dir="ltr">USERID = <span class="italic">用户名</span> [@db_name]</pre><p>如果这是第一个参数，则可以省略<code class="codeph">USERID=</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">OTT <span class="italic">用户名</span> ...
</pre><p>请注意，系统会提示您输入与用户ID对应的密码。</p>
                           <p>此参数是可选的。如果省略，OTT实用程序会自动尝试以用户<span class="italic"><code class="codeph">OPS$username</code></span>连接到默认数据库，其中<span class="italic"><code class="codeph">username</code></span>是用户的操作系统用户名。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNCPP20383"></a><div class="props_rev_3"><a id="GUID-77786ABB-AD5E-4FA1-9455-FFBC30DC1D86" name="GUID-77786ABB-AD5E-4FA1-9455-FFBC30DC1D86"></a><h4 id="LNCPP-GUID-77786ABB-AD5E-4FA1-9455-FFBC30DC1D86" class="sect4"><span class="enumeration_section">8.4.4</span>可以出现OTT参数的地方</h4>
                  <div>
                     <p>在命令行，命令行上指定的<code class="codeph">CONFIG</code>文件或两者中提供OTT参数。<code class="codeph">INTYPE</code>文件中也允许使用某些参数。
                     </p>
                     <p>OTT实用程序的调用方式如下：</p><pre class="oac_no_warn" dir="ltr">OTT参数</pre><p>您可以使用<code class="codeph">CONFIG</code>参数在命令行上命名配置文件，如下所示：</p><pre class="oac_no_warn" dir="ltr">CONFIG = <span class="italic">文件名</span>
</pre><p>如果在命令行中为此参数命名，则会从名为<span class="italic"><code class="codeph">filename</code></span>的配置文件中读取其他参数。
                     </p>
                     <p>此外，还会从驻留在依赖于操作系统的位置的默认配置文件中读取参数。此文件必须存在，但可以为空。如果选择在配置文件中输入数据，请注意一行上不允许有空格，并且必须在一行中输入参数。</p>
                     <p>如果在没有任何参数的情况下执行OTT实用程序，则会显示在线参数引用。</p>
                     <p>要转换的OTT实用程序的类型在<code class="codeph">INTYPE</code>参数指定的文件中命名。参数<code class="codeph">CASE</code> ， <code class="codeph">CPPFILE</code> ， <code class="codeph">HFILE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INITFUNC</code> ， <code class="codeph">MAPFILE</code>和<code class="codeph">MAPFNC</code>也可能出现在<code class="codeph">INTYPE</code>文件中。OTT实用程序生成的<code class="codeph">OUTTYPE</code>文件包括<code class="codeph">CASE</code>参数，如果生成了初始化文件，则包括<code class="codeph">INITFILE</code>和<code class="codeph">INITFUNC</code>参数;如果生成了C ++代码，则包括<code class="codeph">MAPFILE</code>和<code class="codeph">MAPFUNC</code>参数。<code class="codeph">OUTTYPE</code>文件和<code class="codeph">CPPFILE</code> for C ++为每种类型单独指定<code class="codeph">HFILE</code> 。
                     </p>
                     <p>OTT命令的情况与操作系统有关。</p>
                  </div>
               </div><a id="LNCPP20384"></a><div class="props_rev_3"><a id="GUID-A0881819-C788-439D-8DCB-2E3628FDD2EB" name="GUID-A0881819-C788-439D-8DCB-2E3628FDD2EB"></a><h4 id="LNCPP-GUID-A0881819-C788-439D-8DCB-2E3628FDD2EB" class="sect4"><span class="enumeration_section">8.4.5</span>文件名比较限制</h4>
                  <div>
                     <p>目前，OTT实用程序通过比较用户在命令行或<code class="codeph">INTYPE</code>文件中提供的文件名来确定两个文件是否相同。但是，当OTT实用程序必须知道两个文件名是否引用同一文件时，可能会出现一个潜在问题。例如，如果OTT生成的文件foo.h需要写入<code class="codeph">foo1.h</code>的类型声明，并且另一个类型声明写入<code class="codeph">/private/smith/foo1.h</code> ，那么OTT实用程序应该生成一个<code class="codeph">#include</code>如果这两个文件是相同的，如果文件不同，则有两个<code class="codeph">#include</code> 。但实际上，它得出的结论是两个文件不同，并生成两个<code class="codeph">#include</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">#ifndef FOO1_ORACLE #include“foo1.h”#endif #ifndef FOO1_ORACLE #include“/private/smith/foo1.h”#endif</pre><p>如果<code class="codeph">foo1.h</code>和<code class="codeph">/private/smith/foo1.h</code>是不同的文件，则只包含第一个文件。如果<code class="codeph">foo1.h</code>和<code class="codeph">/private/smith/foo1.h</code>是同一个文件，则写入冗余的<code class="codeph">#include</code> 。
                     </p>
                     <p>因此，如果在命令行或<code class="codeph">INTYPE</code>文件中多次提到文件，则每次提及该文件都应使用相同的文件名。
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8FC3C3F1-C21B-494C-859C-37F72409FE02" name="GUID-8FC3C3F1-C21B-494C-859C-37F72409FE02"></a><h4 id="LNCPP-GUID-8FC3C3F1-C21B-494C-859C-37F72409FE02" class="sect4"><span class="enumeration_section">8.4.6</span>在Microsoft Windows上使用OTT命令</h4>
                  <div>
                     <div class="section">
                        <p>当前版本中Microsoft Windows上的OTT可执行文件是<code class="codeph">ott.bat</code> ，而不是早期版本中的<code class="codeph">ott.exe</code> 。这可能会破坏Windows批处理脚本，因为脚本在执行ott后立即退出。要解决此问题，应在Windows批处理脚本中按如下方式调用OTT：</p><pre class="oac_no_warn" dir="ltr">叫ott [参数]</pre><div class="infoboxnote" id="GUID-8FC3C3F1-C21B-494C-859C-37F72409FE02__GUID-EA3DAC7B-2D22-450B-BA8F-CBBE4A14875E">
                           <p class="notep1">注意：</p>
                           <p>在修复脚本之前，可以使用<code class="codeph">ORACLE_HOME\precomp\admin\ott.exe</code>作为中间解决方案。但是，将来的版本中不会提供此中间解决方案。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNCPP20385"></a><div class="props_rev_3"><a id="GUID-2B0C5750-97C8-41E7-BD07-F417598C5E9D" name="GUID-2B0C5750-97C8-41E7-BD07-F417598C5E9D"></a><h3 id="LNCPP-GUID-2B0C5750-97C8-41E7-BD07-F417598C5E9D" class="sect3"><span class="enumeration_section">8.5</span>关于使用INTYPE文件</h3>
               <div>
                  <p>运行OTT实用程序时， <code class="codeph">INTYPE</code>文件告诉OTT实用程序应转换哪些数据库类型。<code class="codeph">INTYPE</code>文件还控制生成的结构或类的命名。您可以创建<code class="codeph">INTYPE</code>文件，也可以使用先前调用OTT实用程序的<code class="codeph">OUTTYPE</code>文件。如果不使用<code class="codeph">INTYPE</code>文件，则转换OTT实用程序所连接的架构中的所有类型。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290">使用INTYPE文件</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-D78CB214-1A42-42D1-9100-EDAFB463602C">INTYPE文件的结构</a></p>
                        </li>
                        <li>
                           <p><a href="object-type-translator-utility.html#GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348">使用嵌套包括文件生成</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20387"></a><a id="LNCPP20386"></a><div class="props_rev_3"><a id="GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290" name="GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290"></a><h4 id="LNCPP-GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290" class="sect4"><span class="enumeration_section">8.5.1</span>使用INTYPE文件</h4>
                  <div>
                     <div class="section">
                        <p>OTT实用程序可能必须转换<code class="codeph">INTYPE</code>文件中未列出的其他类型。这是因为OTT实用程序在执行转换之前分析<code class="codeph">INTYPE</code>文件中的类型依赖关系类型，并根据需要转换其他类型。例如，如果<code class="codeph">ADDRESS</code>类型并没有在上市<code class="codeph">INTYPE</code>文件，但<code class="codeph">Person</code>类型有类型的属性<code class="codeph">ADDRESS</code> ，那么OTT效用仍然翻译<code class="codeph">ADDRESS</code> ，因为它需要定义的<code class="codeph">Person</code>类型。
                        </p>
                        <p>您可以指示OTT实用程序是否应生成<code class="codeph">INTYPE</code>文件中未指定的所需对象类型。设置<code class="codeph">TRANSITIVE=FALSE</code>以便OTT实用程序不会生成所需的对象类型。默认值为<code class="codeph">TRANSITIVE=TRUE</code> 。</p>
                        <p>正常的不区分大小写的SQL标识符可以拼写为<code class="codeph">INTYPE</code>文件中的大写和小写的任意组合，并且不会引用。
                        </p>
                        <p>使用引号（例如<code class="codeph">TYPE "Person"</code>来引用以区分大小写的方式创建的SQL标识符，例如， <code class="codeph">CREATE TYPE "Person"</code> 。如果SQL标识符在声明时引用，则它区分大小写。引号也可用于引用作为OTT保留字的SQL标识符，例如<code class="codeph">TYPE "CASE"</code> 。在这种情况下，如果SQL标识符是以不区分大小写的方式创建的，则引用的名称必须为大写，例如， <code class="codeph">CREATE TYPE Case</code> 。如果使用OTT保留字来引用SQL标识符的名称但未引用，则OTT实用程序会报告<code class="codeph">INTYPE</code>文件中的语法错误。
                        </p>
                        <div class="infoboxnotealso" id="GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290__GUID-463DF289-349B-4796-B0B7-E592C113B4ED">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="object-type-translator-utility.html#GUID-D78CB214-1A42-42D1-9100-EDAFB463602C">INTYPE文件的结构</a> ”，</span>用于更详细地说明<code class="codeph">INTYPE</code>文件的结构和可用选项。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="object-type-translator-utility.html#GUID-30B1799D-8D84-4A72-A4B1-2FD0629166AC">CASE</a> ”</span>有关<code class="codeph">CASE</code>参数的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-55F8629A-7420-4AA5-8BA2-AED2CCF50290__GUID-2869A6CC-877A-4FDA-8366-C79CF6289F3D">
                        <p class="titleinexample">示例8-8如何使用OTT实用程序创建用户定义的INTYPE文件</p><pre class="oac_no_warn" dir="ltr">CASE = LOWER TYPE员工TRANSLATE SALARY $ AS薪水DEPTNO AS部门类型地址类型项目类型“人员”TYPE PURCHASE_ORDER as p_o</pre><ul style="list-style-type:disc">
                           <li>
                              <p>在第一行中， <code class="codeph">CASE</code>参数指示生成的C标识符应为小写。但是，此<code class="codeph">CASE</code>参数仅应用于<code class="codeph">INTYPE</code>文件中未明确提及的那些标识符。因此， <code class="codeph">employee</code>和<code class="codeph">ADDRESS</code>将始终分别导致C结构<code class="codeph">employee</code>和<code class="codeph">ADDRESS</code> 。这些结构的成员以小写命名。
                              </p>
                           </li>
                           <li>
                              <p>以<code class="codeph">TYPE</code>关键字开头的行指定应转换数据库中的哪些类型。在这种情况下， <code class="codeph">EMPLOYEE</code> ， <code class="codeph">ADDRESS</code> ， <code class="codeph">ITEM</code> ， <code class="codeph">PERSON</code>和<code class="codeph">PURCHASE_ORDER</code>类型设置为翻译。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TRANSLATE...AS</code>关键字指定在将类型转换为C结构时应更改对象属性的名称。在这种情况下， <code class="codeph">employee</code>类型的<code class="codeph">SALARY$</code>属性将转换为<code class="codeph">salary</code> 。
                              </p>
                           </li>
                           <li>
                              <p>最后一行中的<code class="codeph">AS</code>关键字指定在将对象类型转换为结构时应更改该对象类型的名称。在这种情况下， <code class="codeph">purchase_order</code>数据库类型将转换为名为<code class="codeph">p_o</code>的结构。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNCPP20388"></a><div class="props_rev_3"><a id="GUID-D78CB214-1A42-42D1-9100-EDAFB463602C" name="GUID-D78CB214-1A42-42D1-9100-EDAFB463602C"></a><h4 id="LNCPP-GUID-D78CB214-1A42-42D1-9100-EDAFB463602C" class="sect4"><span class="enumeration_section">8.5.2</span> INTYPE文件的结构</h4>
                  <div>
                     <p><code class="codeph">INTYPE</code>和<code class="codeph">OUTTYPE</code>文件列出了OTT实用程序转换的类型，并提供了确定如何将类型或属性名称转换为合法的C或C ++标识符所需的所有信息。这些文件包含一个或多个类型规范，也可能包含<code class="codeph">CASE</code> ， <code class="codeph">CPPFILE</code> ， <code class="codeph">HFILE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INITFUNC</code> ， <code class="codeph">MAPFILE</code>或<code class="codeph">MAPFUNC</code> 。</p>
                     <p>如果存在<code class="codeph">CASE</code> ， <code class="codeph">INITFILE</code> ， <code class="codeph">INITFUNC</code> ， <code class="codeph">MAPFILE</code>或<code class="codeph">MAPFUNC</code>选项，则它们必须位于任何类型规范之前。如果这些选项同时出现在命令行和<code class="codeph">INTYPE</code>文件中，则使用命令行上的值。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D78CB214-1A42-42D1-9100-EDAFB463602C__GUID-C1133465-2E5B-4B13-97CC-07DAB368BC7F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="object-type-translator-utility.html#GUID-B5D1FB85-549E-484A-B492-24ADE223C24E">OUTTYPE文件概述</a> ”，</span>用于简单的用户定义的<code class="codeph">INTYPE</code>文件和OTT实用程序从中生成的完整<code class="codeph">OUTTYPE</code>文件的示例</p>
                     </div>
                     <p>本节包括以下主题： <a href="object-type-translator-utility.html#GUID-CD9E83E7-51BF-4B23-A5D9-E0E7DAC68847">INTYPE文件类型规范</a> 。
                     </p>
                  </div><a id="LNCPP20389"></a><div class="props_rev_3"><a id="GUID-CD9E83E7-51BF-4B23-A5D9-E0E7DAC68847" name="GUID-CD9E83E7-51BF-4B23-A5D9-E0E7DAC68847"></a><h5 id="LNCPP-GUID-CD9E83E7-51BF-4B23-A5D9-E0E7DAC68847" class="sect5"><span class="enumeration_section">8.5.2.1</span> INTYPE文件类型规范</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">INTYPE</code>文件中的类型规范命名要转换的对象数据类型。以下是用户创建的<code class="codeph">INTYPE</code>文件的示例：</p><pre class="oac_no_warn" dir="ltr">TYPE员工TRANSLATE SALARY $ AS薪水DEPTNO AS部门类型地址类型PURCHASE_ORDER作为p_o</pre><p>类型规范的结构如下：</p><pre class="oac_no_warn" dir="ltr">TYPE type_name [GENERATE type_identifier] [AS type_identifier] [VERSION [=] version_string] [HFILE [=] hfile_name] [CPPFILE [=] cppfile_name] [TRANSLATE {member_name [AS identifier]} ...]
</pre><p><code class="codeph">type_name</code>语法遵循以下形式：</p><pre class="oac_no_warn" dir="ltr">[模式名。] TYPE_NAME</pre><p>在此语法中， <span class="italic"><code class="codeph">schema_name</code></span>是拥有给定对象数据类型的模式的名称， <span class="italic"><code class="codeph">type_name</code></span>是该类型的名称。如果未指定默认架构，则默认架构是调用OTT实用程序的userID的架构。要使用特定架构，必须使用schema_name。
                           </p>
                           <p>类型规范的组件是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="italic"><code class="codeph">type_name</code></span> ：对象数据类型的名称。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">type_identifier</code></span> ：用于表示类的C / C ++标识符。<code class="codeph">GENERATE</code>子句用于指定OTT实用程序生成的类的名称。AS子句指定您编写的类的名称。<code class="codeph">GENERATE</code>子句通常用于扩展类。<code class="codeph">AS</code>子句（可选地在没有<code class="codeph">GENERATE</code>子句的情况下使用）指定C结构的名称或表示用户定义类型的C ++类。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">version_string</code></span> ：上次调用OTT实用程序生成代码时使用的类型的版本字符串。版本字符串由OTT实用程序生成并写入<code class="codeph">OUTTYPE</code>文件，以后可以在以后的OTT实用程序调用中用作<code class="codeph">INTYPE</code>文件。版本字符串不会影响OTT实用程序的运行方式，但可用于选择正在运行的程序中使用的对象数据类型的版本。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">hfile_name</code></span> ：写入相应类的声明的头文件的名称。如果省略<code class="codeph">HFILE</code>子句，则使用命令行<code class="codeph">HFILE</code>参数指定的文件。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">cppfile_name</code></span> ：写入相应类的方法实现的C ++源文件的名称。如果省略<code class="codeph">CPPFILE</code>子句，则使用命令行<code class="codeph">CPPFILE</code>参数指定的文件。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">member_name</code></span> ：要转换为标识符的属性（数据成员）的名称。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">identifier</code></span> ：用于表示程序中属性的C / C ++标识符。您可以通过这种方式为任意数量的属性指定标识符。默认名称映射算法用于未提及的属性。
                                 </p>
                              </li>
                           </ul>
                           <p>可以翻译对象数据类型，原因有两个：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>它出现在<code class="codeph">INTYPE</code>文件中。
                                 </p>
                              </li>
                              <li>
                                 <p>需要声明必须转换的另一种类型，并且<code class="codeph">TRANSITIVE</code>参数设置为<code class="codeph">TRUE</code> 。</p>
                              </li>
                           </ul>
                           <p>如果在一个文件中声明的类型需要显式未提及的类型，则所需类型的转换将写入与需要它的显式声明类型相同的文件。</p>
                           <p>如果在多个文件中声明的类型需要未明确提及的类型，则所需类型的转换将写入全局<code class="codeph">HFILE</code>文件。
                           </p>
                           <p>您可以指示OTT实用程序是否应生成<code class="codeph">INTYPE</code>文件中未指定的所需对象类型。设置<code class="codeph">TRANSITIVE=FALSE</code>以便OTT实用程序不会生成所需的对象类型。默认值为<code class="codeph">TRANSITIVE=TRUE</code> 。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNCPP20391"></a><a id="LNCPP20392"></a><a id="LNCPP20390"></a><div class="props_rev_3"><a id="GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348" name="GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348"></a><h4 id="LNCPP-GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348" class="sect4"><span class="enumeration_section">8.5.3</span>使用嵌套包含文件生成</h4>
                  <div>
                     <div class="section">
                        <p>OTT实用程序生成的<code class="codeph">HFILE</code>文件<code class="codeph">#include</code>其他必要文件和<code class="codeph">#define</code> <code class="codeph"> </code>从文件名构造的符号。然后可以使用此符号<code class="codeph">#define</code>来确定是否已包含相关的<code class="codeph">HFILE</code>文件。例如，考虑具有以下类型的数据库：</p><pre class="oac_no_warn" dir="ltr">create type px1 AS OBJECT（col1 number，col2 integer）;创建类型px2 AS OBJECT（col1 px1）;创建类型px3 AS OBJECT（col1 px1）;</pre><p><code class="codeph">INTYPE</code>文件包含以下信息：</p><pre class="oac_no_warn" dir="ltr">CASE =低级类型pxl hfile tott95a.h类型px3 hfile tott95b.h</pre><p>您可以按如下方式调用OTT实用程序：</p><pre class="oac_no_warn" dir="ltr">&gt; ott hr intype = tott95i.typ outtype = tott95o.typ code = cpp ...输入密码： <span class="italic">密码</span>
</pre><p>然后，OTT实用程序生成以下两个头文件，名为<code class="codeph">tott95a.h</code>和<code class="codeph">tott95b.h</code> 。它们列在</p>
                        <p>在<code class="codeph">tott95b.h</code>文件中，符号<code class="codeph">TOTT95B_ORACLE</code>在文件开头是<code class="codeph">#define</code> d。这使您可以使用以下构造有条件地<code class="codeph">#include</code>此头文件在另一个文件中：</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95B_ORACLE #include“tott95b.h”#endif</pre><p>通过使用这种技术，您可以<code class="codeph">#include</code> <code class="codeph">tott95b.h</code> ，比如<code class="codeph">foo.h</code> ，而不必知道<code class="codeph">foo.h</code>其他文件<code class="codeph">#includ</code> ed是否也包含<code class="codeph">#include</code> s <code class="codeph">tott95b.h</code> 。
                        </p>
                        <p>接下来，包含文件<code class="codeph">tott95a.h</code> ，因为它包含<code class="codeph">tott95b.h</code>所需的<code class="codeph">struct px1</code>的声明。当<code class="codeph">INTYPE</code>文件请求将类型声明写入多个文件时，OTT实用程序确定每个<code class="codeph">HFILE</code>必须<code class="codeph">#include</code>其他文件，并生成每个必要的<code class="codeph">#include</code> 。
                        </p>
                        <p>请注意，OTT实用程序在此<code class="codeph">#include</code>使用引号。当编译包含<code class="codeph">tott95b.h</code>的程序时，搜索<code class="codeph">tott95a.h</code>从找到源程序的<code class="codeph">tott95a.h</code>开始，然后遵循实现定义的搜索规则。如果无法以这种方式找到<code class="codeph">tott95a.h</code> ，则在<code class="codeph">INTYPE</code>文件中需要一个完整的文件名（例如，以斜杠字符（ <code class="codeph">/</code> ）开头的UNIX绝对路径名）来指定<code class="codeph">tott95a.h</code>的位置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348__GUID-E6EB376E-532E-440F-98A7-679DA1B7E493">
                        <p class="titleinexample">例8-9 ott95a.h的列表</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95A_ORACLE #define TOTT95A_ORACLE #ifndef OCCI_ORACLE #include &lt;occi.h&gt; #endif / ******************************* ***************************** / //生成PX1对象类型的声明。/ ******************* *********** / class px1：public oracle :: occi :: PObject {protected：oracle :: occi :: Number col1; oracle :: occi :: Number col2; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void * operator new（size_t，void * ctxOCCI_）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆tableName，const OCCI_STD_NAMESPACE :: string＆typeName，const OCCI_STD_NAMESPACE :: string＆tableSchema，const OCCI_STD_NAMESPACE :: string＆typeSchema）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const; PX1（）; px1（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; 〜PX1（）; }; ＃万一</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-38986E01-A479-4BCE-A7AB-7FB51ED64348__GUID-A6F52469-A639-4E97-83ED-5418FFBBA090">
                        <p class="titleinexample">例8-10 ott95b.h的列表</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95B_ORACLE #define TOTT95B_ORACLE #ifndef OCCI_ORACLE #include &lt;occi.h&gt; #endif #ifndef TOTT95A_ORACLE #include“tott95a.h”#endif / ******************* ***************************************** / //生成PX3对象的声明类型。/ ******************* *********** / class px3：public oracle :: occi :: PObject {protected：px1 * col1; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void * operator new（size_t，void * ctxOCCI_）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆tableName，const OCCI_STD_NAMESPACE :: string＆typeName，const OCCI_STD_NAMESPACE :: string＆tableSchema，const OCCI_STD_NAMESPACE :: string＆typeSchema）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const; PX3（）; px3（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; 〜PX3（）; }; ＃万一</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNCPP20395"></a><a id="LNCPP20394"></a><a id="LNCPP20396"></a><a id="LNCPP20393"></a><div class="props_rev_3"><a id="GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751" name="GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751"></a><h3 id="LNCPP-GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751" class="sect3"><span class="enumeration_section">8.6</span>使用OTT实用程序数据类型映射</h3>
               <div>
                  <div class="section">
                     <p>当OTT实用程序从数据库类型生成C ++类时，该结构或类包含与该对象类型的每个属性对应的一个元素。属性的数据类型映射到Oracle对象数据类型中使用的类型。Oracle中的数据类型包括一组预定义的原始类型，并提供用户定义类型的创建，如对象类型和集合。</p>
                     <p>预定义类型集包括大多数程序员熟悉的标准类型，包括数字和字符类型。它还包括大对象数据类型（例如， <code class="codeph">BLOB</code>或<code class="codeph">CLOB</code> ）。
                     </p>
                     <div class="tblformal" id="GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751__G498965">
                        <p class="titleintable">表8-2对象类型属性的C ++对象数据类型映射</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="对象类型属性的C ++对象数据类型映射" width="100%" border="1" summary="This table has 2 columns. Column 1 lists the object attribute types and column 2 provides the C++ mappings." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="56%" id="d65341e4590">对象属性类型</th>
                                 <th align="left" valign="bottom" width="44%" id="d65341e4593">C ++映射</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4598" headers="d65341e4590 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4598 d65341e4593 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4607" headers="d65341e4590 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4607 d65341e4593 ">
                                    <p><code class="codeph">斑点</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4616" headers="d65341e4590 ">
                                    <p><code class="codeph">BINARY_DOUBLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4616 d65341e4593 ">
                                    <p><code class="codeph">B双击</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4625" headers="d65341e4590 ">
                                    <p><code class="codeph">BINARY_FLOAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4625 d65341e4593 ">
                                    <p><code class="codeph">BFloat</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4634" headers="d65341e4590 ">
                                    <p><code class="codeph">CHAR（n），CHARACTER（n）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4634 d65341e4593 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4643" headers="d65341e4590 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4643 d65341e4593 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4652" headers="d65341e4590 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4652 d65341e4593 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4661" headers="d65341e4590 ">
                                    <p><code class="codeph">DEC，DEC（n），DEC（n，n）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4661 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4670" headers="d65341e4590 ">
                                    <p><code class="codeph">DECIMAL，DECIMAL（n），DECIMAL（n，n）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4670 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4679" headers="d65341e4590 ">
                                    <p><code class="codeph">FLOAT，FLOAT（n），双精度</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4679 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4688" headers="d65341e4590 ">
                                    <p><code class="codeph">INT，INTEGER，SMALLINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4688 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4698" headers="d65341e4590 ">
                                    <p><code class="codeph">间隔第二天</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4698 d65341e4593 ">
                                    <p><code class="codeph">IntervalDS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4707" headers="d65341e4590 ">
                                    <p><code class="codeph">间隔年至月</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4707 d65341e4593 ">
                                    <p><code class="codeph">IntervalYM</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4716" headers="d65341e4590 ">
                                    <p><code class="codeph">嵌套对象类型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4716 d65341e4593 ">
                                    <p>嵌套对象类型的C ++名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4724" headers="d65341e4590 ">
                                    <p><code class="codeph">嵌套表</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4724 d65341e4593 ">
                                    <p><code class="codeph">矢量&lt;attribute_type&gt;</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4733" headers="d65341e4590 ">
                                    <p><code class="codeph">NUMBER，NUMBER（n），NUMBER（n，n）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4733 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4742" headers="d65341e4590 ">
                                    <p><code class="codeph">NUMERIC，NUMERIC（n），NUMERIC（n，n）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4742 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4751" headers="d65341e4590 ">
                                    <p><code class="codeph">生的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4751 d65341e4593 ">
                                    <p><code class="codeph">字节</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4760" headers="d65341e4590 ">
                                    <p><code class="codeph">真实</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4760 d65341e4593 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4769" headers="d65341e4590 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4769 d65341e4593 ">
                                    <p><code class="codeph">参考&lt;attribute_type&gt;</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4778" headers="d65341e4590 ">
                                    <p><code class="codeph">TIMESTAMP，TIMESTAMP与时区，TIMESTAMP与当地时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4778 d65341e4593 ">
                                    <p><code class="codeph">时间戳</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4787" headers="d65341e4590 ">
                                    <p><code class="codeph">VARCHAR（n）的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4787 d65341e4593 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4797" headers="d65341e4590 ">
                                    <p><code class="codeph">VARCHAR2（N）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4797 d65341e4593 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="56%" id="d65341e4806" headers="d65341e4590 ">
                                    <p><code class="codeph">VARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d65341e4806 d65341e4593 ">
                                    <p><code class="codeph">矢量&lt;attribute_type&gt;</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751__GUID-B1DE7EE8-6138-4168-9E4F-835957D5C4AA">
                     <p class="titleinexample">示例8-11如何使用OTT实用程序表示对象属性</p>
                     <p>Oracle还包括一组预定义类型，用于表示C ++类中的对象类型属性。考虑以下对象类型定义及其对应的OTT生成的结构声明：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE employee AS OBJECT（名称VARCHAR2（30），empno NUMBER，deptno NUMBER，hiredate DATE，salary NUMBER）;</pre><p>假设<code class="codeph">CASE</code>参数设置为<code class="codeph">LOWER</code>并且没有类型或属性名称的显式映射，OTT实用程序会生成以下输出：</p><pre class="oac_no_warn" dir="ltr">#ifndef DATATYPES_ORACLE #define DATATYPES_ORACLE #ifndef OCCI_ORACLE #include &lt;occi.h&gt; #endif / ******************************* ***************************** / //生成EMPLOYEE对象类型的声明。/ ******************* *********** / class employee：public oracle :: occi :: PObject {protected：OCCI_STD_NAMESPACE :: string NAME; oracle :: occi :: Number EMPNO; oracle :: occi :: Number DEPTNO; oracle :: occi :: Date HIREDATE; oracle :: occi :: Number SALARY; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void * operator new（size_t，void * ctxOCCI_）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆tableName，const OCCI_STD_NAMESPACE :: string＆typeName，const OCCI_STD_NAMESPACE :: string＆tableSchema，const OCCI_STD_NAMESPACE :: string＆typeSchema）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const;雇员（）; employee（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; 〜雇员（）; }; ＃万一</pre><p><a href="object-type-translator-utility.html#GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751__G498965" title="该表有2列。第1列列出了对象属性类型，第2列提供了C ++映射。">表8-2</a>列出了可以用作OTT实用程序生成的对象数据类型属性的类型的映射。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751__GUID-8B530001-790F-46FE-A68E-5B1E68793D11">
                     <p class="titleinexample">示例8-12如何使用OTT实用程序映射对象数据类型</p>
                     <p>该示例假定已创建以下数据库类型：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE my_varray AS VARRAY（5）的整数; CREATE TYPE object_type AS OBJECT（object_name VARCHAR2（20））; CREATE TYPE other_type AS OBJECT（object_number NUMBER）; CREATE TYPE my_table AS TABLE OF object_type; CREATE TYPE many_types AS OBJECT（the_varchar VARCHAR2（30），the_char CHAR（3），the_blob BLOB，the_clob CLOB，the_object object_type，another_ref REF other_type，the_ref REF many_types，the_varray my_varray，the_table my_table，the_date DATE，the_num NUMBER，the_raw RAW（ 255））;</pre><p>存在<code class="codeph">INTYPE</code>文件，包括以下内容：</p><pre class="oac_no_warn" dir="ltr">CASE = LOWER TYPE many_types</pre><p>以下是C ++的OTT类型映射示例，给出了上一节示例中创建的类型，以及包含以下内容的<code class="codeph">INTYPE</code>文件：</p><pre class="oac_no_warn" dir="ltr">CASE = LOWER TYPE many_types</pre><pre class="oac_no_warn" dir="ltr">#ifndef MYFILENAME_ORACLE #define MYFILENAME_ORACLE #ifndef OCCI_ORACLE #include &lt;occi.h&gt; #endif / ******************************* ***************************** / //生成OBJECT_TYPE对象类型的声明。/ ******************* *********** / class object_type：public oracle :: occi :: PObject {protected：OCCI_STD_NAMESPACE :: string object_name; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const; object_type的（）; object_type（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; }; / ******************* *********** / //为OTHER_TYPE对象类型生成声明。/ ******************* *********** / class other_type：public oracle :: occi :: PObject {protected：oracle :: occi :: Number object_number; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const; other_type（）; other_type（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; }; / ******************* *********** / //为MANY_TYPES对象类型生成声明。/ ******************* *********** / class many_types：public oracle :: occi :: PObject {protected：OCCI_STD_NAMESPACE :: string the_varchar; OCCI_STD_NAMESPACE :: string the_char; oracle :: occi :: Blob the_blob; oracle :: occi :: Clob the_clob; object_type * the_object; oracle :: occi :: Ref &lt;other_type&gt; another_ref; oracle :: occi :: Ref &lt;many_types&gt; the_ref; OCCI_STD_NAMESPACE :: vector &lt;oracle :: occi :: Number&gt; the_varray; OCCI_STD_NAMESPACE :: vector &lt;object_type *&gt; the_table; oracle :: occi :: Date the_date; oracle :: occi :: Number the_num; oracle :: occi :: Bytes the_raw; public：void * operator new（size_t size）; void * operator new（size_t size，const oracle :: occi :: Connection * sess，const OCCI_STD_NAMESPACE :: string＆table）; void getSQLTypeName（oracle :: occi :: Environment * env，void ** schemaName，unsigned int＆schemaNameLen，void ** typeName，unsigned int＆typeNameLen）const; many_types（）; many_types（void * ctxOCCI_）：oracle :: occi :: PObject（ctxOCCI_）{}; static void * readSQL（void * ctxOCCI_）; virtual void readSQL（oracle :: occi :: AnyData＆streamOCCI_）; static void writeSQL（void * objOCCI_，void * ctxOCCI_）; virtual void writeSQL（oracle :: occi :: AnyData＆streamOCCI_）; }; ＃万一</pre><p>OTT实用程序生成以下C ++类声明（注释不是OTT输出的一部分，并且仅为了阐明示例而添加）：</p>
                     <p>对于C ++，当<code class="codeph">TRANSITIVE=TRUE</code> ，OTT实用程序会自动转换用作要转换类型的属性的任何类型，包括仅由对象类型属性中的指针或<code class="codeph">REF</code>访问的类型。即使在C ++示例的<code class="codeph">INTYPE</code>文件中仅指定了<code class="codeph">many_types</code>对象， <code class="codeph">INTYPE</code>为所有对象类型生成类声明，包括<code class="codeph">other_type</code>对象，该对象仅由<code class="codeph">many_types</code>对象中的<code class="codeph">REF</code>访问。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>本节包括以下主题： <a href="object-type-translator-utility.html#GUID-75715714-22B6-4CD4-B022-E27AD7BED67A">默认名称映射</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNCPP20397"></a><div class="props_rev_3"><a id="GUID-75715714-22B6-4CD4-B022-E27AD7BED67A" name="GUID-75715714-22B6-4CD4-B022-E27AD7BED67A"></a><h4 id="LNCPP-GUID-75715714-22B6-4CD4-B022-E27AD7BED67A" class="sect4"><span class="enumeration_section">8.6.1</span>默认名称映射</h4>
                  <div>
                     <p>当OTT实用程序为对象类型或属性创建C或C ++标识符名称时，它会将名称从数据库字符集转换为合法的C或C ++标识符。首先，名称从数据库字符集转换为OTT实用程序使用的字符集。接下来，如果在<code class="codeph">INTYPE</code>文件中提供了结果名称的翻译，则使用该翻译。否则，OTT实用程序将字符逐个字符转换为编译器字符集，并应用CASE参数中指定的字符大小写。以下文本更详细地描述了这一点。
                     </p>
                     <p>当OTT实用程序读取数据库实体的名称时，该名称将自动从数据库字符集转换为OTT实用程序使用的字符集。为了使OTT实用程序成功读取数据库实体的名称，必须在OTT字符集中找到名称的所有字符，尽管字符在两个字符集中可能具有不同的编码。</p>
                     <p>保证OTT实用程序使用的字符集包含所有必需字符的最简单方法是使其与数据库字符集相同。但请注意，OTT字符集必须是编译器字符集的超集。也就是说，如果编译器字符集是7位ASCII，则OTT字符集必须包含7位ASCII作为子集，如果编译器字符集是7位EBCDIC，则OTT字符集必须包括7-位EBCDIC作为子集。用户通过设置<code class="codeph">NLS_LANG</code>环境变量或某些其他特定于操作系统的机制来指定OTT实用程序使用的字符集。
                     </p>
                     <p>一旦OTT实用程序读取了数据库实体的名称，它就会将名称从OTT实用程序使用的字符集转换为编译器的字符集。如果名称的翻译出现在<code class="codeph">INTYPE</code>文件中，则OTT实用程序将使用该翻译。
                     </p>
                     <p>否则，OTT实用程序会尝试按如下方式转换名称：</p>
                     <ol>
                        <li>
                           <p>如果OTT字符集是多字节字符集，则名称中具有单字节等效字符的所有多字节字符将转换为那些单字节等效字符。</p>
                        </li>
                        <li>
                           <p>名称从OTT字符集转换为编译器字符集。编译器字符集是单字节字符集，例如<code class="codeph">US7ASCII</code> 。</p>
                        </li>
                        <li>
                           <p>根据<code class="codeph">CASE</code>参数的定义方式设置字母<code class="codeph">CASE</code> ，并且任何在C或C ++标识符中不合法或在编译器字符集中没有翻译的字符都由下划线字符（ <code class="codeph">_</code> ）替换。如果至少有一个字符被下划线替换，则OTT实用程序会发出警告消息。如果名称中的所有字符都被下划线替换，则OTT实用程序会显示错误消息。
                           </p>
                        </li>
                     </ol>
                     <p>逐个字符的名称转换不会改变编译器字符集中出现的下划线，数字或单字节字母，因此不会更改合法的C或C ++标识符。</p>
                     <p>例如，名称转换可以将重音单字节字符（例如<span class="italic">o</span> ，带有变音符号或带有重音符号的<span class="italic">a）转换</span>为<span class="italic">o</span>或<span class="italic">a</span> ，没有重音，并且可以将多字节字母转换为其单字节等效字符。如果名称包含缺少单字节等效项的多字节字符，则名称转换通常会失败。在这种情况下，用户必须在<code class="codeph">INTYPE</code>文件中指定名称翻译。
                     </p>
                     <p>OTT实用程序不检测由两个或多个数据库标识符映射到同一C名称引起的命名冲突，也不检测数据库标识符映射到C关键字的命名问题。</p>
                  </div>
               </div>
            </div><a id="LNCPP20399"></a><a id="LNCPP20398"></a><div class="props_rev_3"><a id="GUID-B5D1FB85-549E-484A-B492-24ADE223C24E" name="GUID-B5D1FB85-549E-484A-B492-24ADE223C24E"></a><h3 id="LNCPP-GUID-B5D1FB85-549E-484A-B492-24ADE223C24E" class="sect3"><span class="enumeration_section">8.7</span> OUTTYPE文件概述</h3>
               <div>
                  <p><code class="codeph">OUTTYPE</code>文件在OTT命令行上命名。当OTT实用程序生成C ++头文件时，它还会将转换结果写入<code class="codeph">OUTTYPE</code>文件。此文件包含每个已翻译类型的条目，包括其版本字符串和其C ++表示形式所写的头文件。
                  </p>
                  <p>所述<code class="codeph">OUTTYPE</code>从一个OTT效用运行文件可以被用作<code class="codeph">INTYPE</code>的OTT效用的后续调用文件。
                  </p>
                  <p>OTT实用程序在执行转换之前分析<code class="codeph">INTYPE</code>文件中的类型依赖关系类型，并根据需要转换其他类型。
                  </p>
                  <p>您可以指示OTT实用程序是否应生成<code class="codeph">INTYPE</code>文件中未指定的所需对象类型。设置<code class="codeph">TRANSITIVE=FALSE</code>以便OTT实用程序不生成所需的对象类型。默认值为<code class="codeph">TRANSITIVE=TRUE</code> 。</p>
                  <div class="example" id="GUID-B5D1FB85-549E-484A-B492-24ADE223C24E__GUID-FA3BF57D-C35A-4AA4-8B18-00145B6511BF">
                     <p class="titleinexample">例8-13 OTT实用程序生成的OUTTYPE文件</p>
                     <p>在此<code class="codeph">INTYPE</code>文件中，程序员指定OTT生成的C ++标识符的大小写，并提供应翻译的类型列表。在其中两种类型中，指定了命名约定。这是运行OTT实用程序后<code class="codeph">OUTTYPE</code>文件的样子：</p>
                     <p>以下示例显示了t：</p><pre class="oac_no_warn" dir="ltr">CASE = LOWER TYPE EMPLOYEE AS员工VERSION =“$ 8.0”HFILE = demo.h TRANSLATE SALARY $ AS薪水DEPTNO AS部门类型地址作为地址VERSION =“$ 8.0”HFILE = demo.h类型项目为VERSION =“$ 8.0”HFILE = demo.h TYPE“Person”AS Person VERSION =“$ 8.0”HFILE = demo.h TYPE PURCHASE_ORDER as p_o VERSION =“$ 8.0”HFILE = demo.h</pre><p>检查<code class="codeph">OUTTYPE</code>文件的内容时，您可能会发现列出的类型未包含在<code class="codeph">INTYPE</code>文件规范中。例如，考虑<code class="codeph">INTYPE</code>文件仅指定要转换<code class="codeph">person</code>类型的情况：</p><pre class="oac_no_warn" dir="ltr">案例=较低级别的人</pre><p>如果<code class="codeph">person</code>类型的定义包含<code class="codeph">address</code>类型的属性，则<code class="codeph">OUTTYPE</code>文件包括<code class="codeph">PERSON</code>和<code class="codeph">ADDRESS</code>条目。如果没有首先翻译<code class="codeph">address</code>则无法完全翻译<code class="codeph">person</code>类型。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNCPP20401"></a><a id="LNCPP20400"></a><div class="props_rev_3"><a id="GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD" name="GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD"></a><h3 id="LNCPP-GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD" class="sect3"><span class="enumeration_section">8.8</span>使用OTT实用程序和OCCI应用程序</h3>
               <div>
                  <div class="section">
                     <p>OTT实用程序生成对象并将SQL数据类型映射到C ++类。OTT实用程序还实现了OCCI在实例化对象时调用的一些方法，以及在OCCI应用程序中调用的函数来注册与环境的映射。这些声明存储在您在OCCI应用程序中包含（ <code class="codeph">#include</code> ）的头文件中。注册映射的函数的原型被写入单独的头文件，您也将其包含在OCCI应用程序中。方法实现存储在与OCCI应用程序链接的C ++源代码文件（扩展名为<code class="codeph">.cpp</code> ）中。注册映射的函数存储在单独的C ++（ <span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">.cpp</code> ）文件中，该文件也与应用程序链接。
                     </p>
                     <p><a href="object-type-translator-utility.html#GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD__CHDCICIE">图8-1</a>显示了将OTT实用程序与OCCI一起使用所涉及的步骤。这些步骤如下图所示。
                     </p>
                     <div class="figure" id="GUID-048D2653-6462-406A-A43C-26BF9B3FD6FD__CHDCICIE">
                        <p class="titleinfigure">图8-1带OCCI的OTT实用程序</p><img src="img/ott_utility_with_occi.gif" alt="下面是图8-1的描述" title="下面是图8-1的描述" longdesc="img_text/ott_utility_with_occi.html"><br><a href="img_text/ott_utility_with_occi.html">“图8-1带OCCI的OTT实用程序”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用SQL DLL在数据库中创建类型定义。</span></li>
                     <li class="stepexpand"><span>创建包含要由OTT实用程序转换的数据库类型的<code class="codeph">INTYPE</code>文件。</span></li>
                     <li class="stepexpand"><span>指定应生成C ++并调用OTT实用程序。</span><div>
                           <p>然后OTT实用程序生成以下文件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>头文件（扩展名为<code class="codeph">.h</code> ），包含对象类型的C ++类表示;文件名由<code class="codeph">HFILE</code>参数在OTT命令行上指定。
                                 </p>
                              </li>
                              <li>
                                 <p>一个头文件，包含注册映射的函数原型（ <code class="codeph">MAPFUNC</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p>一个C ++源文件（扩展名为<code class="codeph">.cpp</code> ），包含OCCI在实例化对象时调用的静态方法;文件名由<code class="codeph">CPPFILE</code>参数在OTT命令行上指定。不要直接从您的OCCI应用程序调用这些方法。
                                 </p>
                              </li>
                              <li>
                                 <p>包含用于向环境注册映射的函数的文件（扩展名为<code class="codeph">.cpp</code> ）;文件名由<code class="codeph">MAPFILE</code>参数在OTT命令行上指定。
                                 </p>
                              </li>
                              <li>
                                 <p>一个文件（ <code class="codeph">OUTTYPE</code>文件），包含每个已翻译类型的条目，包括版本字符串和写入的文件;文件名由<code class="codeph">OUTTYPE</code>参数在OTT命令行中指定。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>编写OCCI应用程序并将OTT实用程序创建的头文件包含在OCCI源代码文件中。</span><div>
                           <p>应用程序声明一个环境并调用函数<code class="codeph">MAPFUNC</code>来注册映射。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>编译OCCI应用程序以创建OCCI目标代码，并将目标代码链接到OCCI库以创建程序可执行文件。</span></li>
                  </ol>
               </div>
            </div><a id="LNCPP20403"></a><a id="LNCPP20402"></a><div class="props_rev_3"><a id="GUID-24AA6ED3-C895-469B-8A72-D7AFD570C529" name="GUID-24AA6ED3-C895-469B-8A72-D7AFD570C529"></a><h3 id="LNCPP-GUID-24AA6ED3-C895-469B-8A72-D7AFD570C529" class="sect3"><span class="enumeration_section">8.9</span>生成OTT实用程序生成的C ++类</h3>
               <div>
                  <div class="section">
                     <p>当OTT实用程序从数据库对象类型生成C ++类时，类声明包含与对象类型的每个属性对应的一个元素。属性的数据类型映射到Oracle对象数据类型中使用的类型，如<a href="object-type-translator-utility.html#GUID-3DC5D83D-331B-4BE6-820A-DC6330B68751__G498965" title="该表有2列。第1列列出了对象属性类型，第2列提供了C ++映射。">表8-2中</a>所定义。
                     </p>
                     <p>对于每个类，生成两个新的运算符<code class="codeph">readSQL()</code>和<code class="codeph">writeSQL()</code>方法。它们被OCCI用于编组和解组对象。
                     </p>
                     <p>默认情况下，OTT实用程序为对象类型生成的C ++类是从<code class="codeph">PObject</code>类派生的，因此类中生成的构造函数也派生自<code class="codeph">PObject</code>类。对于继承的数据库类型，类是从父类型类派生的，生成的构造函数也是如此，并且只包含与父类不在的属性对应的元素。
                     </p>
                     <p>包含与数据库类型属性和方法声明对应的元素的类声明包含在OTT实用程序生成的头文件中。方法实现包含在OTT实用程序生成的<code class="codeph">CPPFILE</code>文件中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-24AA6ED3-C895-469B-8A72-D7AFD570C529__GUID-6766A72E-D477-4873-AFAF-9F592E7CDD8B">
                     <p class="titleinexample">示例8-14如何使用OTT实用程序生成C ++类</p>
                     <p>此示例演示如何使用OTT实用程序生成C ++类：</p>
                     <ol>
                        <li>
                           <p>定义类型：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE FULL_NAME AS OBJECT（first_name CHAR（20），last_name CHAR（20））; CREATE TYPE ADDRESS AS OBJECT（状态CHAR（20），zip CHAR（20））;创建类型ADDRESS_TAB作为REF ADDRESS的VARRAY（3）;创建类型人员作为对象（ID号，名称FULL_NAME，curr_addr REF ADDRESS，prev_addr_l ADDRESS_TAB）NOT FINAL;创建学生类型学生（school_name CHAR（20））;</pre></li>
                        <li>
                           <p>提供<code class="codeph">INTYPE</code>文件：</p><pre class="oac_no_warn" dir="ltr">CASE = SAME MAPFILE = RegisterMappings_3.cpp TYPE FULL_NAME AS FullName TRANSLATE first_name as FirstName last_name as LastName TYPE ADDRESS TYPE PERSON TYPE STUDENT</pre></li>
                        <li>
                           <p>调用OTT实用程序：</p><pre class="oac_no_warn" dir="ltr">ott userid = demousr intype = demoin_3.typ outype = demoout_3.typ code = cpp hfile = demo_3.h cppfile = demo_3.cpp</pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-7947A68A-03B8-4008-B6EC-7667C54F0EFF">映射注册表功能</a></p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-ACB9795D-378E-4D18-A31B-AA674410BE65">扩展C ++类</a></p>
                           </li>
                           <li>
                              <p><a href="object-type-translator-utility.html#GUID-497FB400-8E07-4810-B481-ADCCA703C1F9">继承用户添加的代码</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNCPP20404"></a><div class="props_rev_3"><a id="GUID-7947A68A-03B8-4008-B6EC-7667C54F0EFF" name="GUID-7947A68A-03B8-4008-B6EC-7667C54F0EFF"></a><h4 id="LNCPP-GUID-7947A68A-03B8-4008-B6EC-7667C54F0EFF" class="sect4"><span class="enumeration_section">8.9.1</span>映射注册表功能</h4>
                  <div>
                     <p>OTT实用程序生成一个向环境注册映射的函数。该函数包含通过调用OTT实用程序转换的所有类型的映射。函数名称在<code class="codeph">MAPFUNC</code>参数中指定，或者，如果未指定该参数，则从<code class="codeph">MAPFILE</code>参数派生。该函数的唯一参数是指向<code class="codeph">Environment</code>的指针。
                     </p>
                     <p>该函数使用提供的<code class="codeph">Environment</code>获取<code class="codeph">Map</code> ，然后注册每个翻译类型的映射。
                     </p>
                  </div>
               </div><a id="LNCPP20406"></a><a id="LNCPP20405"></a><div class="props_rev_2"><a id="GUID-ACB9795D-378E-4D18-A31B-AA674410BE65" name="GUID-ACB9795D-378E-4D18-A31B-AA674410BE65"></a><h4 id="LNCPP-GUID-ACB9795D-378E-4D18-A31B-AA674410BE65" class="sect4"><span class="enumeration_section">8.9.2</span>扩展C ++类</h4>
                  <div>
                     <div class="section">
                        <p>要增强OTT实用程序生成的类的功能，可以派生新类。您还可以向类添加方法，但由于存在固有风险，Oracle不建议这样做。</p>
                        <div class="infoboxnotealso" id="GUID-ACB9795D-378E-4D18-A31B-AA674410BE65__GUID-DB2CC36E-B65A-4F0A-B699-4881FBC5014D">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="object-type-translator-utility.html#GUID-497FB400-8E07-4810-B481-ADCCA703C1F9">携带用户添加代码</a> ”</span>有关如何使用OTT标记保留要在OTT生成的文件中<span class="q"><a href="object-type-translator-utility.html#GUID-497FB400-8E07-4810-B481-ADCCA703C1F9">添加的代码</a></span>的详细信息</p>
                        </div>
                        <p>同时生成<code class="codeph">CAddress</code>和<code class="codeph">MyAddress</code>从SQL对象类型类<code class="codeph">ADDRESS</code> ， <code class="codeph">MyAddress</code>类可以衍生自<code class="codeph">CAddress</code>类。然后，OTT实用程序必须以下列方式更改它生成的代码：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过使用<code class="codeph">MyAddress</code>类而不是<code class="codeph">CAddress</code>类来表示数据库类型为<code class="codeph">ADDRESS</code>属性</p>
                           </li>
                           <li>
                              <p>通过使用<code class="codeph">MyAddress</code>类而不是<code class="codeph">CAddress</code>类来表示数据库类型为<code class="codeph">ADDRESS</code>向量和<code class="codeph">REF</code>元素</p>
                           </li>
                           <li>
                              <p>通过使用<code class="codeph">MyAddress</code>类而不是<code class="codeph">CAddress</code>类作为从<code class="codeph">ADDRESS</code>继承的数据库对象类型的基类。即使派生类是<code class="codeph">MyAddress</code>的子类型， <code class="codeph">MyAddress</code>的<code class="codeph">readSQL</code> （）和<code class="codeph">writeSQL()</code>方法也是<code class="codeph">CAddress</code>类的方法。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-ACB9795D-378E-4D18-A31B-AA674410BE65__GUID-F63FE63B-9508-47D5-8986-7C24D6FCBFE5">
                           <p class="notep1">注意：</p>
                           <p>当一个类被扩展并用作另一个生成的类的基类时，必须在单独的文件中生成<span class="italic">继承</span>类型类和<span class="italic">继承的</span>类型类。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-ACB9795D-378E-4D18-A31B-AA674410BE65__GUID-3EC3732E-10F7-49D8-BD02-1A4D82AC046B">
                        <p class="titleinexample">示例8-15如何使用OTT实用程序扩展C ++类</p>
                        <p>要使用OTT实用程序生成<code class="codeph">CAddress</code>类，它源自<code class="codeph">MyAddress</code>类），以下条款必须在指定<code class="codeph">TYPE</code>语句：</p><pre class="oac_no_warn" dir="ltr">TYPE ADDRESS GENERATE CAdress AS MyAddress</pre><p>鉴于数据库类型为<code class="codeph">FULL_NAME</code> ， <code class="codeph">ADDRESS</code> ， <code class="codeph">PERSON</code>和<code class="codeph">PFGRFDENT</code>因为它们之前已创建并更改<code class="codeph">INTYPE</code>文件以包含<code class="codeph">GENERATE...</code><code class="codeph">AS</code>条款：</p><pre class="oac_no_warn" dir="ltr">CASE = SAME MAPFILE = RegisterMappings_5.cpp TYPE FULL_NAME GENERATE CFullName AS MyFullName TRANSLATE first_name as FirstName last_name as LastName TYPE ADDRESS GENERATE CAddress AS MyAddress TYPE PERSON GENERATE CPerson AS MyPerson TYPE STUDENT GENERATE CStudent AS MyStudent</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNCPP20407"></a><div class="props_rev_3"><a id="GUID-497FB400-8E07-4810-B481-ADCCA703C1F9" name="GUID-497FB400-8E07-4810-B481-ADCCA703C1F9"></a><h4 id="LNCPP-GUID-497FB400-8E07-4810-B481-ADCCA703C1F9" class="sect4"><span class="enumeration_section">8.9.3</span>继承用户添加的代码</h4>
                  <div>
                     <div class="section">
                        <p>为了扩展OTT生成代码的功能，程序员有时可能希望在OTT生成的文件中添加代码。OTT可以区分OTT生成的代码和用户添加的代码的方式是寻找一些预定义的标记（标记）。OTT识别<code class="codeph">OTT_USERCODE_START</code>作为用户代码标记的开始，和<code class="codeph">OTT_USERCODE_END</code>作为用户代码标志的结束。
                        </p>
                        <p>对于OTT标记支持，用户块定义为</p><pre class="oac_no_warn" dir="ltr">OTT_USERCODE_START +用户添加的代码+ OTT_USERCODE_END</pre><p>OTT标记支持可以在* .h和* .cpp文件中转发用户添加的块。</p>
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="object-type-translator-utility.html#GUID-14BA9888-5DA3-44C6-98F1-CB994464F1D1">如何使用OTT标记的属性</a></p>
                              </li>
                              <li>
                                 <p><a href="object-type-translator-utility.html#GUID-6E20D3B2-2960-4517-B920-F77EC4BEE410">使用OTT标记</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNCPP20408"></a><div class="props_rev_3"><a id="GUID-14BA9888-5DA3-44C6-98F1-CB994464F1D1" name="GUID-14BA9888-5DA3-44C6-98F1-CB994464F1D1"></a><h5 id="LNCPP-GUID-14BA9888-5DA3-44C6-98F1-CB994464F1D1" class="sect5"><span class="enumeration_section">8.9.3.1</span>如何使用OTT标记的属性</h5>
                     <div>
                        <div class="section">
                           <p>这些项目描述了OTT标记支持的属性：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>用户必须在调用OTT时首次使用命令行选项<code class="codeph">USE_MARKER=TRUE</code>来生成文件。</span></li>
                           <li class="stepexpand"><span>用户应该像其他C ++语句一样处理标记;使用命令行选项<code class="codeph">USE_MARKER=TRUE</code>时，生成文件中由OTT定义的标记如下：</span><div><pre class="oac_no_warn" dir="ltr">#ifndef OTT_USERCODE_START #define OTT_USERCODE_START #endif #ifndef OTT_USERCODE_END #define OTT_USERCODE_END #endif</pre></div>
                           </li>
                           <li class="stepexpand"><span>标记<code class="codeph">OTT_USERCODE_START</code>和<code class="codeph">OTT_USERCODE_END</code>必须以空格开头和之后。</span></li>
                           <li class="stepexpand"><span>OTT将标记中给出的文本或代码与标记一起复制，同时下次生成代码。</span><div>
                                 <p>用户修改代码：</p><pre class="oac_no_warn" dir="ltr">1 // ---修改生成的代码2 OTT_USERCODE_START 3 // ---包括“myfullname.h”4 #ifndef MYFULLNAME_ORACLE 5 #include“myfullname.h”6 #endif 7 OTT_USERCODE_END 8 // ---代码加法结束</pre><p>前进代码：</p><pre class="oac_no_warn" dir="ltr">1 OTT_USERCODE_START 2 // ---包括“myfullname.h”3 #ifndef MYFULLNAME_ORACLE 4 #include“myfullname.h”5 #endif 6 OTT_USERCODE_END</pre></div>
                           </li>
                           <li class="stepexpand"><span>如果数据库<code class="codeph">TYPE</code>或<code class="codeph">INTYPE</code>文件发生更改，则OTT不会正确执行用户添加的代码，如以下情况所示：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果用户修改了类型名称的大小写，则OTT无法确定先前与代码关联的类名称，因为用户在<code class="codeph">INTYPE</code>文件中修改了类名称的情况。
                                       </p><pre class="oac_no_warn" dir="ltr"><span class="bold">CASE = UPPER CASE = LOWER</span> TYPE employee TYPE employee TRANSLATE SALARY $ AS salary TRANSLATE SALARY $ AS salary DEPTNO AS department DEPTNO AS department TYPE ADDRESS TYPE ADDRESS TYPE item TYPE item TYPE“Person”TYPE“Person”TYPE PURCHASE_ORDER as p_o TYPE PURCHASE_ORDER as p_o</pre></li>
                                    <li>
                                       <p>如果用户要求生成具有不同名称的类（ <code class="codeph">INTYPE</code>文件的<code class="codeph">GENERATE AS</code>子句），则OTT无法确定先前与代码关联的类名，因为用户在<code class="codeph">INTYPE</code>文件中修改了类名。
                                       </p><pre class="oac_no_warn" dir="ltr">CASE = LOWER CASE = LOWER TYPE employee TYPE employee TRANSLATE SALARY $ AS salary TRANSLATE SALARY $ AS salary DEPTNO AS department DEPTNO AS department TYPE ADDRESS TYPE ADDRESS TYPE item TYPE item TYPE“Person”TYPE <span class="bold">TYPE PURCHASE_ORDER as p_o TYPE PURCHASE_ORDER as</span> <span class="bold">purchase_order</span>
</pre></li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>如果OTT在解析<code class="codeph">.h</code>或<code class="codeph">.cpp</code>文件时遇到错误，它会报告错误并使文件保持错误，以便用户可以返回并更正报告的错误，然后重新运行OTT。</span></li>
                           <li class="stepexpand"><span>OTT标记错误，如果：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>它没有找到匹配的<code class="codeph">OTT_USERCODE_END</code>为<code class="codeph">OTT_USERCODE_START</code>遇到</p>
                                    </li>
                                    <li>
                                       <p>标记嵌套（OTT找到下一个<code class="codeph">OTT_USERCODE_START</code>之前<code class="codeph">OTT_USERCODE_END</code>被发现以前<code class="codeph">OTT_USERCODE_START</code> ）</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OTT_USERCODE_END</code>之前遇到<code class="codeph">OTT_USERCODE_START</code></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="LNCPP20409"></a><div class="props_rev_2"><a id="GUID-6E20D3B2-2960-4517-B920-F77EC4BEE410" name="GUID-6E20D3B2-2960-4517-B920-F77EC4BEE410"></a><h5 id="LNCPP-GUID-6E20D3B2-2960-4517-B920-F77EC4BEE410" class="sect5"><span class="enumeration_section">8.9.3.2</span>使用OTT标记</h5>
                     <div>
                        <div class="section">
                           <p>用户必须使用命令行选项<code class="codeph">USE_MARKER=TRUE</code>才能启用标记支持。OTT标记有两种通用方式可以转发用户添加的代码：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span><span class="bold">用户代码添加在.h文件中。</span></span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">用户代码在全局范围内添加。</span> 当用户必须包含不同的头文件，前向声明等时，通常就是这种情况。请参阅稍后提供的代码示例。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">在类声明中添加用户代码。</span> 在任何时候，OTT生成的类声明都具有数据成员的私有范围和方法的公共范围，或者数据成员的受保护范围和方法的公共范围。可以在任一访问说明符中的所有OTT生成声明之后添加用户块。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>如何使用OTT实用程序将用户代码添加到头文件</p><pre class="oac_no_warn" dir="ltr">...#ifndef OTT_USERCODE_START #define OTT_USERCODE_START #endif #ifndef OTT_USERCODE_END #define OTT_USERCODE_END #endif #ifndef OCCI_ORACLE #include &lt;occi.h&gt; #endif OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END #ifndef ...//生成的OTT包括#include“...”＃endif OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END类&lt;class_name_1&gt;：public oracle :: occi :: PObject {protected：...// OTT生成的数据成员OTT_USERCODE_START //用户为数据成员/方法添加的代码... //声明/内联方法OTT_USERCODE_END public：void * operator new（size_t size）; ...OTT_USERCODE_START //用户为数据成员/方法添加了代码... //声明/内联方法定义OTT_USERCODE_END}; OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END类&lt;class_name_2&gt;：public oracle :: occi :: PObject {...}; OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END ...#endif // .h文件的结尾</pre></div>
                           </li>
                           <li class="stepexpand"><span><span class="bold">用户代码添加在.cpp文件中。</span>OTT支持在OTT标记内添加新的用户定义方法。必须在文件的开头添加用户块，在包含之后和OTT生成的方法定义之前添加用户块。如果存在多个OTT生成的<code class="codeph">include</code> s，则还可以在OTT生成的包含之间添加用户代码。在<span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">.cpp</code>文件的任何其他部分中添加的用户代码不会继续使用。</span><div>
                                 <p>如何使用OTT实用程序将用户代码添加到源文件</p><pre class="oac_no_warn" dir="ltr">#ifndef OTT_USERCODE_START #define OTT_USERCODE_START #endif #ifndef OTT_USERCODE_END #define OTT_USERCODE_END #endif ...OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END ...OTT_USERCODE_START //用户添加的代码...OTT_USERCODE_END / ************************************************ ************* /生成...对象类型的方法实现。/ ******************* ************ / void * &lt;class_name_1&gt; :: operator new（size_t size）{return oracle :: occi :: PObject :: operator new（size）; } ...// .cpp文件的结尾</pre></div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01599.package-SOAP-API.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于XML C API的包SOAP</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XML C API Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XML C API Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00"></meta>
      <meta name="dcterms.title" content="XML C API Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96478-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="package-Schema-API.html" title="Previous" type="text/html"></link>
      <link rel="next" href="package-Traversal-API.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-Schema-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="package-Traversal-API.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于XML C API的包SOAP</li>
            </ol>
            <a id="GUID-13122B9B-78DB-47F5-B3A7-D885BCFD8501" name="GUID-13122B9B-78DB-47F5-B3A7-D885BCFD8501"></a><a id="CAXML01300"></a>
            
            <h2 id="CAXML-GUID-13122B9B-78DB-47F5-B3A7-D885BCFD8501" class="sect2"><span class="enumeration_chapter">9</span>用于XML C API的包SOAP</h2>
         </header>
         <div class="ind">
            <div>
               <p>SOAP是一种用于在分散的分布式环境中交换信息的轻量级协议。它是一个基于XML的协议，由三部分组成：一个信封，用于定义用于描述消息中的内容以及如何处理消息的框架，一组用于表示应用程序定义的数据类型实例的编码规则，以及一个用于表示的约定远程过程调用和响应。</p>
               <p>Soap 1.1中不允许附件。在Soap 1.2中，如果存在Fault，则body可能没有其他元素。</p>
               <p>SOAP消息的结构在以下代码部分中说明。</p><pre class="oac_no_warn" dir="ltr">[SOAP消息（XML文档）[SOAP信封[SOAP标题？element *] [SOAP body（element * | Fault）？]]]</pre><p>下表总结了通过SOAP包为XML C API提供的方法。</p>
               <div class="tblformal" id="GUID-13122B9B-78DB-47F5-B3A7-D885BCFD8501__SUMMARYSOAP">
                  <p class="titleintable">表9-1 XML C实现的SOAP方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="XML C实现的SOAP方法摘要" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="40%" id="d98963e58">功能</th>
                           <th align="left" valign="bottom" width="60%" id="d98963e61">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e66" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200">XmlSoapAddBodyElement（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e66 d98963e61 ">
                              <p>将元素添加到SOAP消息正文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e76" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-68280362-B5A9-427F-8879-F4BD9503AFF0">XmlSoapAddFaultReason（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e76 d98963e61 ">
                              <p>添加其他故障原因。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e86" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7">XmlSoapAddFaultSubDetail（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e86 d98963e61 ">
                              <p>向故障详细信息添加其他子项。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e96" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4">XmlSoapAddHeaderElement（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e96 d98963e61 ">
                              <p>将元素添加到SOAP标头。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e106" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-4A220E12-8B95-4486-B4E4-E199EABBB326">XmlSoapCall（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e106 d98963e61 ">
                              <p>发送SOAP消息然后等待回复。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e116" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19">XmlSoapCreateConnection（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e116 d98963e61 ">
                              <p>创建SOAP连接对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e126" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-6731C318-ECD4-40D2-997B-F0FC02432F82">XmlSoapCreateCtx（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e126 d98963e61 ">
                              <p>创建并返回SOAP上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e136" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16">XmlSoapCreateMsg（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e136 d98963e61 ">
                              <p>创建并返回空SOAP消息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e146" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725">XmlSoapDestroyConnection（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e146 d98963e61 ">
                              <p>销毁SOAP连接对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e156" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-286EA9A3-4146-4A16-AF85-C316514E6948">XmlSoapDestroyCtx（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e156 d98963e61 ">
                              <p>销毁SOAP上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e165" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-39694DF4-978A-4260-86C7-40D287234FDA">XmlSoapDestroyMsg（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e165 d98963e61 ">
                              <p>销毁使用XmlSoapCreateMsg创建的SOAP消息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e175" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464">XmlSoapError（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e175 d98963e61 ">
                              <p>获取人类可读的错误代码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e185" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324">XmlSoapGetBody（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e185 d98963e61 ">
                              <p>返回SOAP消息的信封体。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e195" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C">XmlSoapGetBodyElement（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e195 d98963e61 ">
                              <p>从SOAP正文中获取元素。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e205" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7">XmlSoapGetEnvelope（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e205 d98963e61 ">
                              <p>返回SOAP部分的包络。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e215" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-CBC0112C-4240-474C-8549-14C3F6AD4717">XmlSoapGetFault（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e215 d98963e61 ">
                              <p>返回故障代码，原因和详细信息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e225" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2">XmlSoapGetHeader（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e225 d98963e61 ">
                              <p>返回SOAP消息的信封头。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e235" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03">XmlSoapGetHeaderElement（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e235 d98963e61 ">
                              <p>从SOAP标头获取元素。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e245" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8">XmlSoapGetMustUnderstand（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e245 d98963e61 ">
                              <p>从SOAP标头元素获取mustUnderstand属性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e255" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C">XmlSoapGetReasonLang（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e255 d98963e61 ">
                              <p>获取具有指定索引的原因的语言。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e265" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E">XmlSoapGetReasonNum（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e265 d98963e61 ">
                              <p>确定Fault元素中的原因数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e275" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D">XmlSoapGetRelay（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e275 d98963e61 ">
                              <p>从SOAP标头元素获取Relay属性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e286" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C">XmlSoapGetRole（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e286 d98963e61 ">
                              <p>从SOAP标头元素获取角色。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e296" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7">XmlSoapHasFault（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e296 d98963e61 ">
                              <p>确定SOAP消息是否包含Fault对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e305" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-7F779898-C4D7-4853-862F-43043FD8AFE5">XmlSoapSetFault（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e305 d98963e61 ">
                              <p>在SOAP消息中设置Fault。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e314" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53">XmlSoapSetMustUnderstand（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e314 d98963e61 ">
                              <p>设置SOAP标头元素的mustUnderstand属性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e324" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46">XmlSoapSetRelay（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e324 d98963e61 ">
                              <p>设置SOAP标头元素的Relay属性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d98963e334" headers="d98963e58 ">
                              <p><a href="package-SOAP-API.html#GUID-5BF9E327-465D-41C4-B563-086F39ECA043">XmlSoapSetRole（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d98963e334 d98963e61 ">
                              <p>设置SOAP标头元素的角色。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="CAXML6003"></a><a id="CAXML6004"></a><a id="CAXML6002"></a><div class="props_rev_3"><a id="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200" name="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200"></a><h3 id="CAXML-GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200" class="sect3">XmlSoapAddBodyElement（）</h3>
               <div>
                  <div class="section">
                     <p>将元素添加到SOAP消息正文。设置数字错误代码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200__GUID-B121C55C-F423-400E-AA7C-D51F9E9C5426">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapAddBodyElement（xmlsoapctx * ctx，xmldocnode * msg，oratext * qname，oratext * uri，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200__GUID-61286A5B-A113-47E4-BFD8-77AAD50FFEEF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e403">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e406">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e409">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e414" headers="d98963e403 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e414 d98963e406 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e414 d98963e409 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e424" headers="d98963e403 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e424 d98963e406 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e424 d98963e409 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e434" headers="d98963e403 "><pre class="oac_no_warn" dir="ltr">qname的</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e434 d98963e406 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e434 d98963e409 ">
                                 <p>要添加的元素的QName</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e444" headers="d98963e403 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e444 d98963e406 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e444 d98963e409 ">
                                 <p>要添加的元素的名称空间URI</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e454" headers="d98963e403 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e454 d98963e406 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e454 d98963e409 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200__GUID-D7EF207C-A6F3-48AD-BC48-AADE6EB3BC2E">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code>创建的元素</p>
                     <div class="infoboxnotealso" id="GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200__GUID-149F1B6F-E348-4912-B3C9-7904ABA24885">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="package-SOAP-API.html#GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4">XmlSoapAddHeaderElement（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6006"></a><a id="CAXML6007"></a><a id="CAXML6005"></a><div class="props_rev_3"><a id="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0" name="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0"></a><h3 id="CAXML-GUID-68280362-B5A9-427F-8879-F4BD9503AFF0" class="sect3">XmlSoapAddFaultReason（）</h3>
               <div>
                  <div class="section">
                     <p>添加其他故障原因。可以用不同语言提供相同的原因文本。创建故障时，此时会添加主要语言/原因;使用此功能添加原因的其他翻译。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0__GUID-3F00BA75-87EC-44CB-9984-0E4583D481DD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapAddFaultReason（xmlsoapctx * ctx，xmldocnode * msg，ratext * reason，oratext * lang）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0__GUID-878A09FD-0F36-4F49-9961-C14C1152013A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e537">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e540">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e543">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e548" headers="d98963e537 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e548 d98963e540 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e548 d98963e543 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e558" headers="d98963e537 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e558 d98963e540 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e558 d98963e543 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e568" headers="d98963e537 "><pre class="oac_no_warn" dir="ltr">原因</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e568 d98963e540 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e568 d98963e543 ">
                                 <p>人为可读的错误原因</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e578" headers="d98963e537 "><pre class="oac_no_warn" dir="ltr">郎</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e578 d98963e540 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e578 d98963e543 ">
                                 <p>理性的语言</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0__GUID-0C022B44-6BDC-4402-98C5-AB4A04333B83">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-68280362-B5A9-427F-8879-F4BD9503AFF0__GUID-6C764D5F-0440-42EF-A41F-67F8EC8A25DA">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-7F779898-C4D7-4853-862F-43043FD8AFE5">XmlSoapSetFault（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6009"></a><a id="CAXML6010"></a><a id="CAXML6008"></a><div class="props_rev_3"><a id="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7" name="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7"></a><h3 id="CAXML-GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7" class="sect3">XmlSoapAddFaultSubDetail（）</h3>
               <div>
                  <div class="section">
                     <p>向故障详细信息添加其他子项。<code class="codeph">XmlSoapSetFault</code>允许创建只有一个子元素的Deatail元素。可以使用此功能添加额外的孩子。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7__GUID-71CD51F9-9C18-4D78-A389-9F866C4AABAB">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapAddFaultSubDetail（xmlsoapctx * ctx，xmldocnode * msg，xmlelemnode * sub）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7__GUID-DFE06CEE-E3D6-44D2-A287-4F7190F847B3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e667">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e670">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e673">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e678" headers="d98963e667 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e678 d98963e670 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e678 d98963e673 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e688" headers="d98963e667 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e688 d98963e670 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e688 d98963e673 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e698" headers="d98963e667 "><pre class="oac_no_warn" dir="ltr">子</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e698 d98963e670 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e698 d98963e673 ">
                                 <p>小树</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7__GUID-427F46D2-1063-48F5-BFB2-AB189668DD29">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-A4AFF5B0-C880-4321-AEA6-9F0EF3129DA7__GUID-49B1E95D-9903-4D23-A643-0FE821FA13ED">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C">XmlSoapGetReasonLang（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6012"></a><a id="CAXML6013"></a><a id="CAXML6011"></a><div class="props_rev_3"><a id="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4" name="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4"></a><h3 id="CAXML-GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4" class="sect3">XmlSoapAddHeaderElement（）</h3>
               <div>
                  <div class="section">
                     <p>将元素添加到SOAP标头。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4__GUID-804761DD-B530-45C0-A14A-EAEE1906A114">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapAddHeaderElement（xmlsoapctx * ctx，xmldocnode * msg，oratext * qname，oratext * uri，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4__GUID-5044EF81-A156-498C-ACFB-7FC60A574535">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e783">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e786">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e789">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e794" headers="d98963e783 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e794 d98963e786 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e794 d98963e789 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e804" headers="d98963e783 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e804 d98963e786 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e804 d98963e789 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e814" headers="d98963e783 "><pre class="oac_no_warn" dir="ltr">qname的</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e814 d98963e786 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e814 d98963e789 ">
                                 <p>要添加的元素的QName</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e824" headers="d98963e783 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e824 d98963e786 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e824 d98963e789 ">
                                 <p>要添加的元素的名称空间URI</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e834" headers="d98963e783 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e834 d98963e786 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e834 d98963e789 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4__GUID-14EB99EF-3E36-4957-9C53-EA66A70AA71E">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>（xmlelemnode *）创建的元素</p>
                     <div class="infoboxnotealso" id="GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4__GUID-C53A9ECA-0909-4693-9D99-FF5C9050E6F5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200">XmlSoapAddBodyElement（）</a> ， <a href="package-SOAP-API.html#GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03">XmlSoapGetHeaderElement（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6015"></a><a id="CAXML6016"></a><a id="CAXML6014"></a><div class="props_rev_3"><a id="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326" name="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326"></a><h3 id="CAXML-GUID-4A220E12-8B95-4486-B4E4-E199EABBB326" class="sect3">XmlSoapCall（）</h3>
               <div>
                  <div class="section">
                     <p>通过连接发送SOAP消息并等待响应;消息回复（XML文档）被解析并作为SOAP消息（相当于DOM）返回。</p>
                     <p>消息缓冲区首先用于序列化传出消息;如果它太小（发生溢出），则xerr获取XMLERR_SAVE_OVERFLOW并返回<code class="codeph">NULL</code> 。然后重新使用相同的缓冲区来接收回复的SOAP消息。
                     </p>
                     <p>打开连接对象应该会导致活动的SOAP处理程序出现在端点上;如何发生这取决于用户。对于HTTP，URL应该调用cgi-bin，或者检测application / soap + xml内容类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326__GUID-C1173ADF-9A83-46AE-A9C7-2888CB46AF20">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmldocnode * XmlSoapCall（xmlsoapctx * ctx，xmlsoapcon * con，xmldocnode * msg，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326__GUID-4BCF17DC-8CB8-469C-9E55-C850196EC4AF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e925">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e928">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e931">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e936" headers="d98963e925 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e936 d98963e928 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e936 d98963e931 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e946" headers="d98963e925 "><pre class="oac_no_warn" dir="ltr">CON</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e946 d98963e928 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e946 d98963e931 ">
                                 <p>SOAP连接对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e956" headers="d98963e925 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e956 d98963e928 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e956 d98963e931 ">
                                 <p>要发送的SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e966" headers="d98963e925 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e966 d98963e928 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e966 d98963e931 ">
                                 <p>数字代码的失败</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326__GUID-DDE6DBFA-1CB2-4194-9907-CB5849DEDE89">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmldocnode *)</code>返回消息，或者在xerr设置失败时为<code class="codeph">NULL</code></p>
                     <div class="infoboxnotealso" id="GUID-4A220E12-8B95-4486-B4E4-E199EABBB326__GUID-E989F0E6-B04D-43AF-832A-1E7FE47F0875">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16">XmlSoapCreateMsg（）</a> ， <a href="package-SOAP-API.html#GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19">XmlSoapCreateConnection（）</a> ， <a href="package-SOAP-API.html#GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725">XmlSoapDestroyConnection（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6018"></a><a id="CAXML6019"></a><a id="CAXML6017"></a><div class="props_rev_3"><a id="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19" name="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19"></a><h3 id="CAXML-GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19" class="sect3">XmlSoapCreateConnection（）</h3>
               <div>
                  <div class="section">
                     <p>创建SOAP连接对象，指定绑定（传输）和端点。绑定是xmlsoapbind类型的枚举，端点取决于绑定。</p>
                     <p>目前仅支持HTTP绑定，端点是URL。该URL应该是活动的，即cgi-bin脚本或某种基于传入消息的Content-type（“application / soap + xml”）触发SOAP消息处理的机制。</p>
                     <p>要控制HTTP访问方法（GET或POST），请使用名为<code class="codeph">XMLSOAP_PROP_WEB_METHOD</code>的Web方法属性，该属性可以具有可能的值<code class="codeph">XMLSOAP_WEB_METHOD_GET</code>和<code class="codeph">XMLSOAP_WEB_METHOD_POST</code> 。</p>
                     <p>（conbuf，consiz）是与LPU一起使用的连接缓冲区;对于发送，它只包含HTTP头，但在接收时它保存整个回复，包括HTTP头和完整的SOAP主体。如果没有提供缓冲区，将为您分配一个缓冲区。如果size为零，则将使用默认大小（64K）。</p>
                     <p>（msgbuf，msgsiz）是用于形成用于发送的SOAP消息的消息缓冲区。它需要足够大才能包含将要发送的最大消息。如果未指定缓冲区，将为您分配一个缓冲区。如果大小为零，将使用默认大小（64K）。</p>
                     <p>发送需要两个缓冲区，因为需要首先形成SOAP消息以确定它的大小;然后，可以形成HTTP头，因为Content-Length现在是已知的。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19__GUID-956F043C-6909-4232-8232-22B3E30B5394">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlsoapcon * XmlSoapCreateConnection（xmlsoapctx * ctx，xmlerr * xerr，xmlsoapbind bind，void * endp，oratext * conbuf，ubig_ora consiz，oratext * msgbuf，ubig_ora msgsiz，...）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19__GUID-1B9B0A4B-B512-41DF-B82F-0FA2C1D7E387">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1079">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1082">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1085">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1090" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1090 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1090 d98963e1085 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1100" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1100 d98963e1082 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1100 d98963e1085 ">
                                 <p>失败时的数字错误代码</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1110" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">捆绑</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1110 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1110 d98963e1085 ">
                                 <p>连接绑定</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1120" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">ENDP</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1120 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1120 d98963e1085 ">
                                 <p>连接端点</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1130" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">conbuf</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1130 d98963e1082 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1130 d98963e1085 ">
                                 <p>连接缓冲区（或分配一个<code class="codeph">NULL</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1143" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">consiz</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1143 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1143 d98963e1085 ">
                                 <p>连接缓冲区的大小（默认大小为0）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1153" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">msgbuf</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1153 d98963e1082 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1153 d98963e1085 ">
                                 <p>消息缓冲区（或分配一个<code class="codeph">NULL</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1166" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">msgsiz</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1166 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1166 d98963e1085 ">
                                 <p>消息缓冲区的大小（默认大小为0）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1176" headers="d98963e1079 "><pre class="oac_no_warn" dir="ltr">...</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1176 d98963e1082 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1176 d98963e1085 ">
                                 <p>要设置的其他HTTP标头，后跟<code class="codeph">NULL</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19__GUID-F0C2BAE0-4730-4555-A032-5C8F9EA119D6">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlsoapcon *)</code>连接对象，或者在xerr set错误时为<code class="codeph">NULL</code></p>
                     <div class="infoboxnotealso" id="GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19__GUID-86396C48-2CF9-4E9D-A2BB-78F1E4B982B4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725">XmlSoapDestroyConnection（）</a> ， <a href="package-SOAP-API.html#GUID-4A220E12-8B95-4486-B4E4-E199EABBB326">XmlSoapCall（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6021"></a><a id="CAXML6022"></a><a id="CAXML6020"></a><div class="props_rev_3"><a id="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82" name="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82"></a><h3 id="CAXML-GUID-6731C318-ECD4-40D2-997B-F0FC02432F82" class="sect3">XmlSoapCreateCtx（）</h3>
               <div>
                  <div class="section">
                     <p>创建并返回SOAP上下文。必须将此上下文传递给所有XmlSoap API。请注意，提供的名称应该是唯一的，用于在调试时标识上下文。选项指定为（名称，值）对，以<code class="codeph">NULL</code>结尾，与XmlCreate相同。如果不需要选项，则仍需要<code class="codeph">NULL</code> 。选项包括： <code class="codeph">debug_level</code> （启用SOAP调试输出到<code class="codeph">stderr</code> ），数字级别（级别越高，输出越详细）， <code class="codeph">0</code>表示无调试（这是默认设置）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82__GUID-E06A6EF7-BCF5-4040-A909-96A167606824">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlsoapctx * XmlSoapCreateCtx（xmlctx * xctx，xmlerr * xerr，oratext * name，...）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82__GUID-3FBECD15-0866-4B57-902D-04677E7C19B8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1282">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1285">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1288">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1293" headers="d98963e1282 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1293 d98963e1285 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1293 d98963e1288 ">
                                 <p>XML上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1303" headers="d98963e1282 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1303 d98963e1285 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1303 d98963e1288 ">
                                 <p>错误时返回错误代码</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1313" headers="d98963e1282 "><pre class="oac_no_warn" dir="ltr">名称</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1313 d98963e1285 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1313 d98963e1288 ">
                                 <p>上下文的名称;用于调试</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1323" headers="d98963e1282 "><pre class="oac_no_warn" dir="ltr">...</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1323 d98963e1285 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1323 d98963e1288 ">
                                 <p>选项，作为（名称，值）对，后跟<code class="codeph">NULL</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82__GUID-1E126445-AE45-42A5-808E-F46EB441454C">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlsoapctx *)</code> SOAP上下文，或失败时为<code class="codeph">NULL</code> （w / xerr集）</p>
                     <div class="infoboxnotealso" id="GUID-6731C318-ECD4-40D2-997B-F0FC02432F82__GUID-F9F85D7A-CCBF-4A74-B55B-C7EF7918377E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-286EA9A3-4146-4A16-AF85-C316514E6948">XmlSoapDestroyCtx（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6024"></a><a id="CAXML6025"></a><a id="CAXML6023"></a><div class="props_rev_3"><a id="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16" name="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16"></a><h3 id="CAXML-GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16" class="sect3">XmlSoapCreateMsg（）</h3>
               <div>
                  <div class="section">
                     <p>创建并返回空SOAP消息。SOAP消息将包含一个Envelope。信封包含一个空的标题和正文。SOAP消息是由DOM表示的XML文档，与任何其他XML文档没有区别。所有DOM操作对文档都有效，但请确保不要损害整体结构。更改应限于在标题和正文中创建和修改元素。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16__GUID-481E4FF2-8ADF-4630-8BF7-A9952225A6DD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmldocnode * XmlSoapCreateMsg（xmlsoapctx * ctx，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16__GUID-5B52BC61-E75E-4CCD-BF9F-532AAEA7435B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1410">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1413">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1416">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1421" headers="d98963e1410 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1421 d98963e1413 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1421 d98963e1416 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1431" headers="d98963e1410 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1431 d98963e1413 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1431 d98963e1416 ">
                                 <p>错误时返回错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16__GUID-CDBAEEBA-A6E2-4EA3-B8AD-D0189936D3D3">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmldocnode *)</code> SOAP消息，或失败时为<code class="codeph">NULL</code> （w / xerr设置）</p>
                     <div class="infoboxnotealso" id="GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16__GUID-1CBF23F7-75E3-4866-B5C6-A374DCAF000D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-39694DF4-978A-4260-86C7-40D287234FDA">XmlSoapDestroyMsg（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6027"></a><a id="CAXML6028"></a><a id="CAXML6026"></a><div class="props_rev_3"><a id="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725" name="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725"></a><h3 id="CAXML-GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725" class="sect3">XmlSoapDestroyConnection（）</h3>
               <div>
                  <div class="section">
                     <p>销毁使用XmlSoapCreateConnection创建的SOAP连接对象，并释放所有已分配的资源。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725__GUID-045AE1F5-CF2E-471B-BA09-71478792D8B7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapDestroyConnection（xmlsoapctx * ctx，xmlsoapcon * con）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725__GUID-7CB4B1AD-F3B9-4E24-B08F-05FC00B334AB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1517">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1520">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1523">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1528" headers="d98963e1517 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1528 d98963e1520 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1528 d98963e1523 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1538" headers="d98963e1517 "><pre class="oac_no_warn" dir="ltr">CON</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1538 d98963e1520 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1538 d98963e1523 ">
                                 <p>SOAP连接</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725__GUID-93A88A79-33A2-4D7D-85CF-800311616A8B">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-FF7A2D4A-7417-4F0A-98A0-7D3DFE127725__GUID-83722989-D0B2-43BA-A2B7-63FDA2908A8E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-46E6A4E5-3560-480E-BEDA-D03A22448C19">XmlSoapCreateConnection（）</a> ， <a href="package-SOAP-API.html#GUID-4A220E12-8B95-4486-B4E4-E199EABBB326">XmlSoapCall（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6030"></a><a id="CAXML6031"></a><a id="CAXML6029"></a><div class="props_rev_3"><a id="GUID-286EA9A3-4146-4A16-AF85-C316514E6948" name="GUID-286EA9A3-4146-4A16-AF85-C316514E6948"></a><h3 id="CAXML-GUID-286EA9A3-4146-4A16-AF85-C316514E6948" class="sect3">XmlSoapDestroyCtx（）</h3>
               <div>
                  <div class="section">
                     <p>销毁使用XmlSoapCreateCtx创建的SOAP上下文。分配的所有内存都将被释放，所有连接都将关闭。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-286EA9A3-4146-4A16-AF85-C316514E6948__GUID-F67F16E2-E7AF-474B-8364-BED6659A09D7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapDestroyCtx（xmlsoapctx * ctx）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-286EA9A3-4146-4A16-AF85-C316514E6948__GUID-F1598E08-C1E7-44F5-8900-135E1148291E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1627">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1630">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1633">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1638" headers="d98963e1627 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1638 d98963e1630 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1638 d98963e1633 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-286EA9A3-4146-4A16-AF85-C316514E6948__GUID-B51AEEB6-17BA-4222-8744-331771C1B55A">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码，XMLERR_OK [0]成功</p>
                     <div class="infoboxnotealso" id="GUID-286EA9A3-4146-4A16-AF85-C316514E6948__GUID-A85B0882-8C3C-439F-9625-62A586B03FCB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-6731C318-ECD4-40D2-997B-F0FC02432F82">XmlSoapCreateCtx（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6033"></a><a id="CAXML6034"></a><a id="CAXML6032"></a><div class="props_rev_3"><a id="GUID-39694DF4-978A-4260-86C7-40D287234FDA" name="GUID-39694DF4-978A-4260-86C7-40D287234FDA"></a><h3 id="CAXML-GUID-39694DF4-978A-4260-86C7-40D287234FDA" class="sect3">XmlSoapDestroyMsg（）</h3>
               <div>
                  <div class="section">
                     <p>销毁使用XmlSoapCreateMsg创建的SOAP消息;这与调用XmlFreeDocument相同。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39694DF4-978A-4260-86C7-40D287234FDA__GUID-7DD34644-863C-4927-9C8C-9932878913AF">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapDestroyMsg（xmlsoapctx * ctx，xmldocnode * msg）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-39694DF4-978A-4260-86C7-40D287234FDA__GUID-D19AB28D-87B3-457A-B955-2ED54A8EEE06">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1720">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1723">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1726">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1731" headers="d98963e1720 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1731 d98963e1723 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1731 d98963e1726 ">
                                 <p>SOAP连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1741" headers="d98963e1720 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1741 d98963e1723 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1741 d98963e1726 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39694DF4-978A-4260-86C7-40D287234FDA__GUID-6CBE3EC7-0AE6-4FAF-9B01-880686C24A0F">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码，XMLERR_OK [0]成功</p>
                     <div class="infoboxnotealso" id="GUID-39694DF4-978A-4260-86C7-40D287234FDA__GUID-02BF5B3E-6E79-4013-A002-05469BF67C3D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-48DDC787-28B3-40B0-AB91-E205D9E34A16">XmlSoapCreateMsg（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6036"></a><a id="CAXML6037"></a><a id="CAXML6035"></a><div class="props_rev_3"><a id="GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464" name="GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464"></a><h3 id="CAXML-GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464" class="sect3">XmlSoapError（）</h3>
               <div>
                  <div class="section">
                     <p>重现错误代码的人类可读表示。（可选）检索有关基础层的错误代码的信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464__GUID-684D87C9-F02B-419A-A993-188661CA2E29">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">oratext * XmlSoapError（xmlsoapctx * ctx，xmlsoapcon * con，xmlerr err，uword * suberr，oratext ** submsg）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464__GUID-175C7D09-EA0C-477B-8E54-BC46E4BA9B99">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d98963e1824">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1827">进出</th>
                              <th align="left" valign="bottom" width="73%" id="d98963e1830">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e1835" headers="d98963e1824 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1835 d98963e1827 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e1835 d98963e1830 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e1845" headers="d98963e1824 "><pre class="oac_no_warn" dir="ltr">CON</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1845 d98963e1827 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e1845 d98963e1830 ">
                                 <p>关于请求哪些附加信息的连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e1855" headers="d98963e1824 "><pre class="oac_no_warn" dir="ltr">呃</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1855 d98963e1827 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e1855 d98963e1830 ">
                                 <p>将返回人类可读信息的错误代码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e1865" headers="d98963e1824 "><pre class="oac_no_warn" dir="ltr">suberr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1865 d98963e1827 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e1865 d98963e1830 ">
                                 <p>来自<code class="codeph">con</code>错误代码</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e1877" headers="d98963e1824 "><pre class="oac_no_warn" dir="ltr">submsg</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1877 d98963e1827 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e1877 d98963e1830 ">
                                 <p>关于<code class="codeph">con</code>错误的人类可读信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D93B2F6F-1B66-4EB0-BBB0-FDF23163A464__GUID-5FD77D17-2B65-4A70-B949-8A4760951EEE">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(oratext *)</code>错误代码</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6039"></a><a id="CAXML6040"></a><a id="CAXML6038"></a><div class="props_rev_3"><a id="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324" name="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324"></a><h3 id="CAXML-GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324" class="sect3">XmlSoapGetBody（）</h3>
               <div>
                  <div class="section">
                     <p>返回SOAP消息的信封体。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324__GUID-D1ED5632-49C0-4B96-B8C0-1C8B059E3B56">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapGetBody（xmlsoapctx * ctx，xmldocnode * msg，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324__GUID-6035EEA2-DED1-4EA0-A949-9000A9B72891">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e1957">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e1960">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e1963">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1968" headers="d98963e1957 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1968 d98963e1960 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1968 d98963e1963 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1978" headers="d98963e1957 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1978 d98963e1960 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1978 d98963e1963 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e1988" headers="d98963e1957 "><pre class="oac_no_warn" dir="ltr">xmlerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e1988 d98963e1960 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e1988 d98963e1963 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324__GUID-B90DD74F-84DB-462F-8265-DAF5F807008C">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code> SOAP Body</p>
                     <div class="infoboxnotealso" id="GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324__GUID-DB68799B-EE7A-45BD-9904-38F419B005D3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2">XmlSoapGetHeader（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6042"></a><a id="CAXML6043"></a><a id="CAXML6041"></a><div class="props_rev_3"><a id="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C" name="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C"></a><h3 id="CAXML-GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C" class="sect3">XmlSoapGetBodyElement（）</h3>
               <div>
                  <div class="section">
                     <p>从SOAP正文中获取元素。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C__GUID-19B984C6-629F-4642-BC1A-829BF887D477">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapGetBodyElement（xmlsoapctx * ctx，xmldocnode * msg，oratext * uri，oratext * local，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C__GUID-C4EF9AB9-EEA6-4581-9F09-D9947E612CFC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2070">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2073">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2076">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2081" headers="d98963e2070 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2081 d98963e2073 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2081 d98963e2076 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2091" headers="d98963e2070 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2091 d98963e2073 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2091 d98963e2076 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2101" headers="d98963e2070 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2101 d98963e2073 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2101 d98963e2076 ">
                                 <p>要获取的元素的名称空间URI</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2111" headers="d98963e2070 "><pre class="oac_no_warn" dir="ltr">本地</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2111 d98963e2073 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2111 d98963e2076 ">
                                 <p>要获取的元素的本地名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2121" headers="d98963e2070 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2121 d98963e2073 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2121 d98963e2076 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C__GUID-19892EBF-BB1B-441C-8E16-2CF129B51412">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code>命名元素，或者出错时为<code class="codeph">NULL</code></p>
                     <div class="infoboxnotealso" id="GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C__GUID-41F7C7FD-1D26-47A3-860D-69DFB65FB22B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200">XmlSoapAddBodyElement（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6045"></a><a id="CAXML6046"></a><a id="CAXML6044"></a><div class="props_rev_3"><a id="GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7" name="GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7"></a><h3 id="CAXML-GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7" class="sect3">XmlSoapGetEnvelope（）</h3>
               <div>
                  <div class="section">
                     <p>返回SOAP部分的包络</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7__GUID-2A051AE1-4234-423F-B3A7-CA4861705568">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapGetEnvelope（mlsoapctx * ctx，xmldocnode * msg，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7__GUID-F9FFA785-1F5E-4EA7-A620-CF1111C93AE5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2207">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2210">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2213">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2218" headers="d98963e2207 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2218 d98963e2210 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2218 d98963e2213 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2228" headers="d98963e2207 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2228 d98963e2210 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2228 d98963e2213 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2238" headers="d98963e2207 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2238 d98963e2210 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2238 d98963e2213 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB32483C-025E-41CA-9E74-6CBDEBEA37F7__GUID-35974F10-4AED-4C6B-BEE5-95BA8E816A2A">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code> SOAP信封</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6048"></a><a id="CAXML6049"></a><a id="CAXML6047"></a><div class="props_rev_3"><a id="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717" name="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717"></a><h3 id="CAXML-GUID-CBC0112C-4240-474C-8549-14C3F6AD4717" class="sect3">XmlSoapGetFault（）</h3>
               <div>
                  <div class="section">
                     <p>返回故障代码，原因和详细信息。获取故障信息并通过用户变量返回。可以为不需要的任何部分提供<code class="codeph">NULL</code> 。对于lang，如果指向变量为<code class="codeph">NULL</code> ，则将其设置为默认语言（第一个原因）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717__GUID-9F09820A-903F-4DFA-B075-8A584163313D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapGetFault（xmlsoapctx * ctx，xmldocnode * msg，oratext ** code，oratext ** reason，oratext ** lang，oratext ** node，oratext ** role，xmlelemnode ** detail）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717__GUID-2FC76194-82C5-4722-ADF0-F46B679AEC0D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2321">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2324">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2327">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2332" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2332 d98963e2324 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2332 d98963e2327 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2342" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2342 d98963e2324 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2342 d98963e2327 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2352" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">码</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2352 d98963e2324 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2352 d98963e2327 ">
                                 <p>代码（1.2），故障代码（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2362" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">原因</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2362 d98963e2324 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2362 d98963e2327 ">
                                 <p>人为可读的错误原因（1.2），faultreason（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2372" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">郎</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2372 d98963e2324 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2372 d98963e2327 ">
                                 <p>理由所需的语言（1.2），未使用（1.1中的<code class="codeph">NULL</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2385" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">节点</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2385 d98963e2324 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2385 d98963e2327 ">
                                 <p>故障节点</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2395" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">角色</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2395 d98963e2324 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2395 d98963e2327 ">
                                 <p>作用：next，none或ulitmate receiver。1.1中未使用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2405" headers="d98963e2321 "><pre class="oac_no_warn" dir="ltr">详情</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2405 d98963e2324 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2405 d98963e2327 ">
                                 <p>用户定义的详细信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717__GUID-00BE4552-D395-43C6-9123-7FB381A72E98">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码，XMLERR_OK [0]成功</p>
                     <div class="infoboxnotealso" id="GUID-CBC0112C-4240-474C-8549-14C3F6AD4717__GUID-C45417AF-47CA-4AC0-9C42-06456CA5330E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-7F779898-C4D7-4853-862F-43043FD8AFE5">XmlSoapSetFault（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6051"></a><a id="CAXML6052"></a><a id="CAXML6050"></a><div class="props_rev_3"><a id="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2" name="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2"></a><h3 id="CAXML-GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2" class="sect3">XmlSoapGetHeader（）</h3>
               <div>
                  <div class="section">
                     <p>返回SOAP消息的信封头。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2__GUID-CFC53AB1-076D-41BB-9777-B28AA5CF2634">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapGetHeader（xmlsoapctx * ctx，xmldocnode * msg，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2__GUID-22D1DC75-14BB-4A9C-AAF7-030F111E701B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2487">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2490">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2493">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2498" headers="d98963e2487 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2498 d98963e2490 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2498 d98963e2493 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2508" headers="d98963e2487 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2508 d98963e2490 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2508 d98963e2493 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2518" headers="d98963e2487 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2518 d98963e2490 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2518 d98963e2493 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2__GUID-9E38E560-BA74-4CB3-A2A1-4A410D9B8ECA">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code> SOAP标头</p>
                     <div class="infoboxnotealso" id="GUID-4F4A4506-8F6F-488D-A361-EE097812F5E2__GUID-5EEE4063-C82C-4B73-A5FA-7D337CE750B4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-C50AA580-BDB5-47B2-BF7B-81E6CA0F4324">XmlSoapGetBody（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6054"></a><a id="CAXML6055"></a><a id="CAXML6053"></a><div class="props_rev_3"><a id="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03" name="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03"></a><h3 id="CAXML-GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03" class="sect3">XmlSoapGetHeaderElement（）</h3>
               <div>
                  <div class="section">
                     <p>从SOAP标头获取元素。设置数字错误代码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03__GUID-794993FD-0335-43AE-B9AB-0D3DC3C7DD79">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlelemnode * XmlSoapGetHeaderElement（xmlsoapctx * ctx，xmldocnode * msg，oratext * uri，oratext * local，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03__GUID-294B602C-E2F4-4BED-9C06-88693EEDA6F2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2601">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2604">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2607">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2612" headers="d98963e2601 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2612 d98963e2604 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2612 d98963e2607 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2622" headers="d98963e2601 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2622 d98963e2604 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2622 d98963e2607 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2632" headers="d98963e2601 "><pre class="oac_no_warn" dir="ltr">URI</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2632 d98963e2604 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2632 d98963e2607 ">
                                 <p>要获取的元素的名称空间URI</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2642" headers="d98963e2601 "><pre class="oac_no_warn" dir="ltr">本地</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2642 d98963e2604 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2642 d98963e2607 ">
                                 <p>要获取的元素的本地名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2652" headers="d98963e2601 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2652 d98963e2604 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2652 d98963e2607 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03__GUID-64DAE741-E5F5-4BF9-93DD-334209461626">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlelemnode *)</code>命名元素，或者出错时为<code class="codeph">NULL</code></p>
                     <div class="infoboxnotealso" id="GUID-C8B143A5-25D8-4E8D-835D-902BFA74DB03__GUID-6210294A-D7C1-4E7B-97B2-E81FA11CDD20">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-5B8B57BB-F840-4302-8840-1982C76C4EA4">XmlSoapAddHeaderElement（）</a> ， <a href="package-SOAP-API.html#GUID-584E2A23-4531-443B-B01A-DB8A6E3F7D1C">XmlSoapGetBodyElement（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6057"></a><a id="CAXML6058"></a><a id="CAXML6056"></a><div class="props_rev_3"><a id="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8" name="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8"></a><h3 id="CAXML-GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8" class="sect3">XmlSoapGetMustUnderstand（）</h3>
               <div>
                  <div class="section">
                     <p>从SOAP标头元素获取<code class="codeph">mustUnderstand</code>属性。缺少此属性不是错误，并将其视为值FALSE。为了指示缺少属性，在这种情况下返回错误代码XMLERR_SOAP_NO_MUST_UNDERSTAND，如果属性存在则返回XMLERR_OK（0）。可能会返回其他适当的错误代码。用户提供的<code class="codeph">mustUnderstand</code>值相应地设置。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8__GUID-CC32A507-2A51-49A9-97BB-4A9A915EEC0E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapGetMustUnderstand（xmlsoapctx * ctx，xmlelemnode * elem，boolean * mustUnderstand）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8__GUID-64DC8E1B-67B7-4CC8-A87A-777EFB56A2C3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2747">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2750">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2753">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2758" headers="d98963e2747 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2758 d98963e2750 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2758 d98963e2753 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2768" headers="d98963e2747 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2768 d98963e2750 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2768 d98963e2753 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2778" headers="d98963e2747 "><pre class="oac_no_warn" dir="ltr">的mustUnderstand</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2778 d98963e2750 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2778 d98963e2753 ">
                                 <p><code class="codeph">mustUnderstand</code> value，TRUE | FALSE</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8__GUID-557E6142-A800-4779-8463-6CDB18A5F914">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码，XMLERR_OK [0]成功</p>
                     <div class="infoboxnotealso" id="GUID-1682AD35-E642-49F4-9EC9-5BA2900221D8__GUID-2E058847-DA4C-4B84-974F-DD15FF87C241">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200">XmlSoapAddBodyElement（）</a> ， <a href="package-SOAP-API.html#GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53">XmlSoapSetMustUnderstand（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6060"></a><a id="CAXML6061"></a><a id="CAXML6059"></a><div class="props_rev_3"><a id="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C" name="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C"></a><h3 id="CAXML-GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C" class="sect3">XmlSoapGetReasonLang（）</h3>
               <div>
                  <div class="section">
                     <p>获取具有特定索引的原因的语言。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C__GUID-8E8120AB-D61D-4340-A914-167358DC89BF">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapGetReasonLang（xmlsoapctx * ctx，xmldocnode * msg，ub4 index，oratext ** lang）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C__GUID-25624143-0B43-40AA-85AB-C14F564D3A36">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2866">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e2869">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e2872">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2877" headers="d98963e2866 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2877 d98963e2869 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2877 d98963e2872 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2887" headers="d98963e2866 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2887 d98963e2869 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2887 d98963e2872 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2897" headers="d98963e2866 "><pre class="oac_no_warn" dir="ltr">INDX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2897 d98963e2869 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2897 d98963e2872 ">
                                 <p>故障原因索引</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e2907" headers="d98963e2866 "><pre class="oac_no_warn" dir="ltr">郎</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e2907 d98963e2869 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e2907 d98963e2872 ">
                                 <p>原因语言</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C__GUID-6FE748ED-A440-4726-BD48-04CDD8D31040">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码，XMLERR_OK [0]成功</p>
                     <div class="infoboxnotealso" id="GUID-995B0349-63B6-42CF-8596-4D2F8EB4080C__GUID-1B3572EE-A873-4C00-B022-46FC2CC0E4F4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-CBC0112C-4240-474C-8549-14C3F6AD4717">XmlSoapGetFault（）</a> ， <a href="package-SOAP-API.html#GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7">XmlSoapHasFault（）</a> ， <a href="package-SOAP-API.html#GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E">XmlSoapGetReasonNum（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6063"></a><a id="CAXML6064"></a><a id="CAXML6062"></a><div class="props_rev_3"><a id="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E" name="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E"></a><h3 id="CAXML-GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E" class="sect3">XmlSoapGetReasonNum（）</h3>
               <div>
                  <div class="section">
                     <p>确定Fault元素中的原因数。如果Fault不存在，则返回0。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E__GUID-03F6753E-3032-42C2-A702-725C5663EE1E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlSoapGetReasonNum（xmlsoapctx * ctx，xmldocnode * msg）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E__GUID-F9F8F33C-B837-4D16-B425-2273B4C1BD00">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e2998">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3001">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3004">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3009" headers="d98963e2998 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3009 d98963e3001 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3009 d98963e3004 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3019" headers="d98963e2998 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3019 d98963e3001 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3019 d98963e3004 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E__GUID-29C9EA29-CDE9-4FCB-812A-60CB397ABF42">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(ub4 *)</code> #num的原因</p>
                     <div class="infoboxnotealso" id="GUID-F423CD37-7D2F-4DC6-BB18-C075F284379E__GUID-ECAD9272-2915-4FD3-947C-F6C64DB76535">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-CBC0112C-4240-474C-8549-14C3F6AD4717">XmlSoapGetFault（）</a> ， <a href="package-SOAP-API.html#GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7">XmlSoapHasFault（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6066"></a><a id="CAXML6067"></a><a id="CAXML6065"></a><div class="props_rev_3"><a id="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D" name="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D"></a><h3 id="CAXML-GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D" class="sect3">XmlSoapGetRelay（）</h3>
               <div>
                  <div class="section">
                     <p>从SOAP标头元素获取Relay属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D__GUID-765CE14E-77F2-4E98-AEFC-4235F109F75D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapGetRelay（xmlsoapctx * ctx，xmlelemnode * elem，boolean * Relay）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D__GUID-771BC530-FC70-4625-B454-A0120C79D09A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3105">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3108">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3111">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3116" headers="d98963e3105 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3116 d98963e3108 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3116 d98963e3111 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3126" headers="d98963e3105 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3126 d98963e3108 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3126 d98963e3111 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3136" headers="d98963e3105 "><pre class="oac_no_warn" dir="ltr">中继</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3136 d98963e3108 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3136 d98963e3111 ">
                                 <p>中继值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D__GUID-9C9892AD-D7BB-4E7D-8237-3B43C358B0BB">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">xmlerr</code>数字错误代码， <code class="codeph">XMLERR_OK</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D__GUID-3A1AFAB4-45C6-420C-BEDC-40DB52DA4FB5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-4CAAA6E8-DCF2-4F72-97AD-380E05BC4200">XmlSoapAddBodyElement（）</a> ， <a href="package-SOAP-API.html#GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46">XmlSoapSetRelay（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6069"></a><a id="CAXML6070"></a><a id="CAXML6068"></a><div class="props_rev_3"><a id="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C" name="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C"></a><h3 id="CAXML-GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C" class="sect3">XmlSoapGetRole（）</h3>
               <div>
                  <div class="section">
                     <p>从SOAP标头元素获取角色。如果元素没有角色，则返回<code class="codeph">XMLERR_SOAP_NO_ROLE</code> ，否则返回<code class="codeph">XMLERR_OK (0)</code>并相应地设置用户角色。如果元素没有角色，则根据标准，用户的角色设置为<code class="codeph">XMLSOAP_ROLE_ULT</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C__GUID-CED2A332-7AB8-45B8-8F1F-1714DC4564E9">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapGetRole（xmlsoapctx * ctx，xmlelemnode * elem，xmlsoaprole * role）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C__GUID-1FC7894D-F3BD-489E-817F-612581800E39">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3234">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3237">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3240">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3245" headers="d98963e3234 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3245 d98963e3237 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3245 d98963e3240 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3255" headers="d98963e3234 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3255 d98963e3237 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3255 d98963e3240 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3265" headers="d98963e3234 "><pre class="oac_no_warn" dir="ltr">角色</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3265 d98963e3237 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3265 d98963e3240 ">
                                 <p>角色价值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C__GUID-327E7078-E17E-4704-AE75-F13F2A581CFB">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-8CF560CF-1E1A-4864-88CA-6BEA24AE2D1C__GUID-C329B703-1A38-413F-BA88-95B9E564D564">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53">XmlSoapSetMustUnderstand（）</a> ， <a href="package-SOAP-API.html#GUID-5BF9E327-465D-41C4-B563-086F39ECA043">XmlSoapSetRole（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6072"></a><a id="CAXML6073"></a><a id="CAXML6071"></a><div class="props_rev_3"><a id="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7" name="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7"></a><h3 id="CAXML-GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7" class="sect3">XmlSoapHasFault（）</h3>
               <div>
                  <div class="section">
                     <p>确定SOAP消息是否包含Fault对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7__GUID-50E05640-C687-4441-BF4D-DBED5D7E65F5">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean XmlSoapHasFault（xmlsoapctx * ctx，xmldocnode * msg，xmlerr * xerr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7__GUID-D1E2C7E8-3D47-45D0-8399-8A8AA7F6A8CF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3355">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3358">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3361">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3366" headers="d98963e3355 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3366 d98963e3358 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3366 d98963e3361 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3376" headers="d98963e3355 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3376 d98963e3358 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3376 d98963e3361 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3386" headers="d98963e3355 "><pre class="oac_no_warn" dir="ltr">XERR</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3386 d98963e3358 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3386 d98963e3361 ">
                                 <p>错误代码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7__GUID-E9CF71F6-49CC-40D3-98C9-81E70DA40EB4">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(boolean)</code>如果有错误则为<code class="codeph">TRUE</code>否则为<code class="codeph">FALSE</code></p>
                     <div class="infoboxnotealso" id="GUID-AF3DD54A-BA29-4AAF-A18F-47F7F912A7E7__GUID-2562BE06-BF07-49C4-9A8F-0197A8D00D04">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-CBC0112C-4240-474C-8549-14C3F6AD4717">XmlSoapGetFault（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6075"></a><a id="CAXML6076"></a><a id="CAXML6074"></a><div class="props_rev_3"><a id="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5" name="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5"></a><h3 id="CAXML-GUID-7F779898-C4D7-4853-862F-43043FD8AFE5" class="sect3">XmlSoapSetFault（）</h3>
               <div>
                  <div class="section">
                     <p>在SOAP消息中设置Fault。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在1.2版中，每条消息只允许一个Fault，它必须是Body的唯一子节点。如果身体有孩子，他们首先被移除并释放。然后为故障添加子代码 - “env：Code”（必需），原因 - “env：Reason”（必需），node  - “env：Node”（可选），角色 - “env：role”（可选）和细节 - “env：Detail”（可选）。应首先添加主要语言原因;调用传递<code class="codeph">NULL</code>语言的XmlSoapGetFault会选择这个原因。Detail是要拼接到Fault中的用户定义子树。
                           </p>
                        </li>
                        <li>
                           <p>在1.1版中，每条消息只允许一个故障。如果Body已经有Fault，则首先将其删除并释放。然后为故障添加子代码 - “faultcode”（必需），原因 - “faultstring”（必需），node  - “faultactor”（可选）和详细信息 - “detail”（可选）。Detail是要拼接到Fault中的用户定义子树。 ver 1.1中没有使用role和lang</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5__GUID-5A85E0C5-9D50-40AF-8FFE-9A8A65AAAB2C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapSetFault（xmlsoapctx * ctx，xmldocnode * msg，oratext * node，oratext * code，oratext * reason，oratext * lang，oratext * role，xmlelemnode * detail）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5__GUID-03A368C0-43C0-4612-BACC-EB6B6B8C6D4D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3484">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3487">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3490">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3495" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3495 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3495 d98963e3490 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3505" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">味精</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3505 d98963e3487 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3505 d98963e3490 ">
                                 <p>SOAP消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3515" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">节点</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3515 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3515 d98963e3490 ">
                                 <p>出现故障的SOAP节点的URI，节点（1.2），faultactor（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3525" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">码</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3525 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3525 d98963e3490 ">
                                 <p>代码（1.2），故障代码（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3535" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">原因</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3535 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3535 d98963e3490 ">
                                 <p>人为可读的错误原因（1.2），faultreason（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3545" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">郎</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3545 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3545 d98963e3490 ">
                                 <p>理性语言（1.2），未使用（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3555" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">角色</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3555 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3555 d98963e3490 ">
                                 <p>表示角色的URI，角色（1.2），未使用（1.1）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3565" headers="d98963e3484 "><pre class="oac_no_warn" dir="ltr">详情</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3565 d98963e3487 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3565 d98963e3490 ">
                                 <p>细节元素（用户定义）</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5__GUID-ACDCD042-B38C-484A-828B-49616DEFCD54">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-7F779898-C4D7-4853-862F-43043FD8AFE5__GUID-64F5D0CE-AF82-4EEC-B5AE-18B2F58CB8F4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-68280362-B5A9-427F-8879-F4BD9503AFF0">XmlSoapAddFaultReason（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6078"></a><a id="CAXML6079"></a><a id="CAXML6077"></a><div class="props_rev_3"><a id="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53" name="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53"></a><h3 id="CAXML-GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53" class="sect3">XmlSoapSetMustUnderstand（）</h3>
               <div>
                  <div class="section">
                     <p>设置SOAP标头元素的<code class="codeph">mustUnderstand</code>属性。根据标准，如果值为<code class="codeph">FALSE</code> ，则不设置该属性。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53__GUID-7F92E1AB-157E-4573-AFB2-B1384C25BBBD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapSetMustUnderstand（xmlsoapctx * ctx，xmlelemnode * elem，boolean mustUnderstand）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53__GUID-AF77BB07-453C-45A1-A248-FB6BAD5DC55B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3656">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3659">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3662">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3667" headers="d98963e3656 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3667 d98963e3659 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3667 d98963e3662 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3677" headers="d98963e3656 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3677 d98963e3659 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3677 d98963e3662 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3687" headers="d98963e3656 "><pre class="oac_no_warn" dir="ltr">的mustUnderstand</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3687 d98963e3659 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3687 d98963e3662 ">
                                 <p><code class="codeph">mustUnderstand</code> value，TRUE | FALSE</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53__GUID-09F4D496-2DC5-43D9-AF6D-293B316A9433">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53__GUID-C36177DE-F00B-49A5-9966-16B83FD5BB94">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-5BF9E327-465D-41C4-B563-086F39ECA043">XmlSoapSetRole（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6081"></a><a id="CAXML6082"></a><a id="CAXML6080"></a><div class="props_rev_3"><a id="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46" name="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46"></a><h3 id="CAXML-GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46" class="sect3">XmlSoapSetRelay（）</h3>
               <div>
                  <div class="section">
                     <p>设置SOAP标头元素的Relay属性。如果值为FALSE，则不设置该属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46__GUID-AA055C50-286C-42EE-965B-5B98F85BDAD1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapSetRelay（xmlsoapctx * ctx，xmlelemnode * elem，boolean Relay）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46__GUID-B0090671-853A-41FE-9D01-D3BBC0AFC557">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d98963e3775">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3778">进出</th>
                              <th align="left" valign="bottom" width="73%" id="d98963e3781">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e3786" headers="d98963e3775 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3786 d98963e3778 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e3786 d98963e3781 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e3796" headers="d98963e3775 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3796 d98963e3778 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e3796 d98963e3781 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d98963e3806" headers="d98963e3775 "><pre class="oac_no_warn" dir="ltr">中继</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3806 d98963e3778 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="73%" headers="d98963e3806 d98963e3781 ">
                                 <p>中继; <code class="codeph">TRUE|FALSE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46__GUID-B5A1594A-7EEB-486F-B3C4-FBB6874E60C1">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code>数字错误代码， <code class="codeph">XMLERR_OK [0]</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-A3507524-AD4D-4A77-87E0-D673CDB16C46__GUID-E6143893-5884-49DD-BC8D-691AAE057613">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-7D3668B3-2163-4A0F-8185-420514EA2D9D">XmlSoapGetRelay（）</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6084"></a><a id="CAXML6085"></a><a id="CAXML6083"></a><div class="props_rev_3"><a id="GUID-5BF9E327-465D-41C4-B563-086F39ECA043" name="GUID-5BF9E327-465D-41C4-B563-086F39ECA043"></a><h3 id="CAXML-GUID-5BF9E327-465D-41C4-B563-086F39ECA043" class="sect3">XmlSoapSetRole（）</h3>
               <div>
                  <div class="section">
                     <p>设置SOAP标头元素的角色。如果指定的角色是XMLSOAP_ROLE_ULT，则根据标准不设置该属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5BF9E327-465D-41C4-B563-086F39ECA043__GUID-C9AD0D88-EF31-4C7D-86AF-D4CD87D6A71A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlSoapSetRole（xmlsoapctx * ctx，xmlelemnode * elem，xmlsoaprole role）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5BF9E327-465D-41C4-B563-086F39ECA043__GUID-2454080D-201F-4A0B-8325-61288B53291D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d98963e3893">参数</th>
                              <th align="left" valign="bottom" width="12%" id="d98963e3896">进出</th>
                              <th align="left" valign="bottom" width="65%" id="d98963e3899">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3904" headers="d98963e3893 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3904 d98963e3896 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3904 d98963e3899 ">
                                 <p>SOAP上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3914" headers="d98963e3893 "><pre class="oac_no_warn" dir="ltr">ELEM</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3914 d98963e3896 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3914 d98963e3899 ">
                                 <p>SOAP标头元素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d98963e3924" headers="d98963e3893 "><pre class="oac_no_warn" dir="ltr">角色</pre></td>
                              <td align="left" valign="top" width="12%" headers="d98963e3924 d98963e3896 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                              <td align="left" valign="top" width="65%" headers="d98963e3924 d98963e3899 ">
                                 <p>角色价值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5BF9E327-465D-41C4-B563-086F39ECA043__GUID-CA7C719D-9C14-4577-A67D-04AC7A145F3E">返回</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">xmlerr</code>数字错误代码， <code class="codeph">XMLERR_OK</code>成功</p>
                     <div class="infoboxnotealso" id="GUID-5BF9E327-465D-41C4-B563-086F39ECA043__GUID-E8415968-9129-43B5-A4F9-3A462E65A455">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="package-SOAP-API.html#GUID-05B0DE83-D762-4651-B209-7ED6F28BCD53">XmlSoapSetMustUnderstand（）</a></p>
                     </div>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>