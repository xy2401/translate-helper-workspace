<html id="03315.database-gateway-drda-initialization-parameters.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>初始化参数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-drda-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T16:51:33-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18236-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="db2-data-dictionary.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for DRDA User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DRDAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="db2-data-dictionary.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">初始化参数</li>
            </ol>
            <a id="GUID-D5965054-49C8-4D6A-91C3-C33BA2477434" name="GUID-D5965054-49C8-4D6A-91C3-C33BA2477434"></a><a id="DRDAG257"></a>
            
            <h2 id="DRDAG-GUID-D5965054-49C8-4D6A-91C3-C33BA2477434" class="sect2"><span class="enumeration_appendix">B</span>初始化参数</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">init.ora</code>文件中的Oracle数据库初始化参数与网关初始化参数不同。使用特定于代理的机制在初始化参数文件中设置网关参数，或使用<code class="codeph">DBMS_HS</code>包在Oracle数据字典中设置它们。<a id="d62447e26" class="indexterm-anchor"></a>网关启动时，网关初始化参数文件必须可用。对初始化参数所做的更改仅在下一个网关会话中生效。
               </p>
               <p>以下部分包含可以为每个网关及其描述设置的网关初始化参数的列表。它还描述了初始化参数文件语法。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="database-gateway-drda-initialization-parameters.html#GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779">初始化参数文件语法</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-drda-initialization-parameters.html#GUID-74339239-67F9-4384-B598-848AF1E9B607">用于DRDA初始化参数的Oracle数据库网关</a></p>
                  </li>
               </ul>
            </div><a id="DRDAG258"></a><div class="props_rev_3"><a id="GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779" name="GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779"></a><h3 id="DRDAG-GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779" class="sect3">初始化参数文件语法</h3>
               <div>
                  <p>初始化参数文件的语法如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>该文件是一系列命令。</p>
                     </li>
                     <li>
                        <p>每个命令应该从单独的一行开始。</p>
                     </li>
                     <li>
                        <p>行尾被视为命令终止符（除非使用反斜杠进行转义）。</p>
                     </li>
                     <li>
                        <p>如果初始化参数文件中存在语法错误，则所有设置都不会生效。</p>
                     </li>
                     <li>
                        <p>设置参数值如下：</p><pre class="oac_no_warn" dir="ltr">[SET] [PRIVATE] <span class="italic">参数</span> = <span class="italic">值</span>
</pre><p>哪里：</p>
                        <p><span class="italic"><code class="codeph">parameter</code></span>是初始化参数名称。它是一个以字母开头的字符串，由字母，数字和下划线组成。初始化参数名称区分大小写。
                        </p>
                        <p><span class="italic"><code class="codeph">value</code></span>是初始化参数值。它区分大小写。初始化参数值是：</p>
                        <ol>
                           <li>
                              <p>一串不包含任何反斜杠，空格或双引号的字符（“）</p>
                           </li>
                           <li>
                              <p>带引号的字符串，以双引号开头，以双引号结尾。以下内容可以在带引号的字符串中使用：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>反斜杠（\）是转义字符</p>
                                 </li>
                                 <li>
                                    <p>\ n插入一个新行</p>
                                 </li>
                                 <li>
                                    <p>\ t插入一个标签</p>
                                 </li>
                                 <li>
                                    <p>\“插入双引号</p>
                                 </li>
                                 <li>
                                    <p>\\插入一个反斜杠</p>
                                 </li>
                              </ul>
                              <p>该行末尾的反斜杠继续下一行的字符串。如果反斜杠在任何其他字符之前，则忽略反斜杠。</p>
                           </li>
                        </ol>
                        <p>例如，要为代理启用跟踪，请按如下所示设置<code class="codeph">HS_FDS_TRACE_LEVEL</code>初始化参数：</p><pre class="oac_no_warn" dir="ltr"><a id="d62447e133" class="indexterm-anchor"></a> HS_FDS_TRACE_LEVEL = ON</pre><p><code class="codeph">SET</code>和<code class="codeph">PRIVATE</code>是可选关键字。您不能将它们用作初始化参数名称。大多数参数仅作为初始化参数需要，因此您通常不需要使用<code class="codeph">SET</code>或<code class="codeph">PRIVATE</code>关键字。如果未指定<code class="codeph">SET</code>或<code class="codeph">PRIVATE</code> ，则该参数仅用作代理的初始化参数。
                        </p>
                        <p><code class="codeph">SET</code>指定除了用作初始化参数之外，还将参数值设置为代理进程的环境变量。将<code class="codeph">SET</code>用于驱动程序或非Oracle系统需要的参数值作为环境变量。
                        </p>
                        <p><code class="codeph">PRIVATE</code>指定初始化参数应该是代理的私有参数，不应上载到Oracle数据库。大多数初始化参数不应该是私有的。但是，如果您在初始化参数文件中存储密码等敏感信息，则可能不希望将其上载到服务器，因为上载时初始化参数和值未加密。将初始化参数设置为私有可防止上载发生，并且它们不会出现在动态性能视图中。仅当参数值包含敏感信息（如用户名或密码）时，才使用<code class="codeph">PRIVATE</code>作为初始化参数。
                        </p>
                        <p><code class="codeph">SET PRIVATE</code>指定将参数值设置为代理进程的环境变量，并且也是私有的（不会传输到Oracle数据库，不会出现在动态性能视图或图形用户界面中）。
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="DRDAG259"></a><div class="props_rev_3"><a id="GUID-74339239-67F9-4384-B598-848AF1E9B607" name="GUID-74339239-67F9-4384-B598-848AF1E9B607"></a><h3 id="DRDAG-GUID-74339239-67F9-4384-B598-848AF1E9B607" class="sect3">用于DRDA初始化参数的Oracle数据库网关</h3>
               <div>
                  <p>本节列出了可以为Oracle数据库网关为DRDA设置的所有初始化文件参数。它们如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708">HS_CALL_NAME</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-745689D2-4AD8-4DE7-B248-555E66DDC107">HS_DB_DOMAIN</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C">HS_DB_INTERNAL_NAME</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0">HS_DB_NAME</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0">HS_DESCRIBE_CACHE_HWM</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D">HS_LANGUAGE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-682005EB-0613-4072-A822-2D3450E23DF7">HS_LONG_PIECE_TRANSFER_SIZE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC">HS_OPEN_CURSORS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3">HS_RPC_FETCH_REBLOCKING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-168E698C-817E-4588-83F4-A54FE055D52E">HS_RPC_FETCH_SIZE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A">HS_TRANSACTION_MODEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248">IFILE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B">HS_FDS_CONNECT_INFO</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0">HS_FDS_RECOVERY_ACCOUNT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F">HS_FDS_RECOVERY_PWD</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4">HS_FDS_FETCH_ROWS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8A213748-7B17-4345-BD90-7EE477748D25">HS_FDS_TRACE_LEVEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161">HS_FDS_TRANSACTION_LOG</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-F8956706-05E2-4368-939E-A1DC32009464">HS_IDLE_TIMEOUT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B">HS_FDS_MBCS_TO_GRAPHIC</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36">HS_FDS_GRAPHIC_TO_MBCS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5">HS_FDS_TIMESTAMP_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-A16B8C40-16B5-4949-9174-C38999964261">HS_FDS_DATE_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C">HS_FDS_QUOTE_IDENTIFIER</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-D725AE78-87E6-4C4B-9347-E60B4299E673">HS_FDS_CAPABILITY</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C472E1CA-C253-48D1-A36F-31FD7788316A">HS_FDS_ISOLATION_LEVEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37">HS_FDS_PACKAGE_COLLID</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-DD412062-270D-4755-B6C6-B6688CFB52C5">HS_NLS_LENGTH_SEMANTICS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5">HS_KEEP_REMOTE_COLUMN_SIZE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-01214441-BF61-4939-B0B5-41FA0923B40B">HS_FDS_RESULTSET_SUPPORT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB">HS_FDS_REMOTE_DB_CHARSET</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-03C36967-4A20-4613-A593-DCFB03EA5E17">HS_FDS_SUPPORT_STATISTICS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46">HS_FDS_RSET_RETURN_ROWCOUNT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1">HS_FDS_AUTHENTICATE_USER</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E">HS_FDS_ENCRYPT_SESSION</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A">HS_FDS_VALIDATE_SERVER_CERT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-B3096AFF-9484-44D0-8C16-E3106DC32444">HS_FDS_TRUSTSTORE_FILE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C">HS_FDS_TRUSTSTORE_PASSWORD</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92">HS_FDS_SQLLEN_INTERPRETATION</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435">HS_FDS_ARRAY_EXEC</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DRDAG261"></a><div class="props_rev_3"><a id="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708" name="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708"></a><h3 id="DRDAG-GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708" class="sect3">HS_CALL_NAME</h3>
               <div>
                  <div class="tblformal" id="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708__GUID-03B6202C-1FD6-4B6F-A8A3-90D495395DD4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e438">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e441">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e446" headers="d62447e438 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e446 d62447e441 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e453" headers="d62447e438 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e453 d62447e441 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定可在SQL语句中引用的远程函数。该值是远程函数及其所有者的列表，以分号分隔，格式如下：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">[OWNER_NAME]函数名</span>
 </pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">owner1。A1; owner2。A2，A3</pre><p>如果未为远程功能指定所有者名称，则默认所有者名称将成为用于连接到远程数据库的用户名（在创建异构服务数据库链接时指定，如果未在数据库链接中指定，则从用户会话中获取） 。</p>
                     <p>所有者名称和函数名称的条目区分大小写。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG262"></a><div class="props_rev_3"><a id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107" name="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107"></a><h3 id="DRDAG-GUID-745689D2-4AD8-4DE7-B248-555E66DDC107" class="sect3">HS_DB_DOMAIN</h3>
               <div>
                  <div class="tblformal" id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107__GUID-6DEB0A52-6731-4512-980A-617968C4E32D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e502">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e505">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e510" headers="d62447e502 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e510 d62447e505 ">
                                 <p><code class="codeph">世界</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e518" headers="d62447e502 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e518 d62447e505 ">
                                 <p>1到199个字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>为非Oracle系统指定唯一的网络子地址。<code class="codeph">HS_DB_DOMAIN</code>初始化参数类似于<a href="../refrn/PARALLEL_MIN_PERCENT.html#REFRN10159" target="_blank"><span class="variable" translate="no">Oracle Database Reference</span></a>描述的<code class="codeph">DB_DOMAIN</code>初始化参数。如果使用Oracle Names服务器，则需要<code class="codeph">HS_DB_DOMAIN</code>初始化参数。<code class="codeph">HS_DB_NAME</code>和<code class="codeph">HS_DB_DOMAIN</code>初始化参数定义非Oracle系统的全局名称。
                     </p>
                     <div class="infoboxnote" id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107__GUID-7CF4B1C9-1BB0-4FE7-BB4A-942EBEB59131">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">HS_DB_NAME</code>和<code class="codeph">HS_DB_DOMAIN</code>初始化参数必须组合以在协作服务器环境中形成唯一地址。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG263"></a><div class="props_rev_3"><a id="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C" name="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C"></a><h3 id="DRDAG-GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C" class="sect3">HS_DB_INTERNAL_NAME</h3>
               <div>
                  <div class="tblformal" id="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C__GUID-1F51ED0C-E277-404C-8F42-C64BF9AAC406">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e585">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e588">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e593" headers="d62447e585 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e593 d62447e588 ">
                                 <p><code class="codeph">01010101</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e601" headers="d62447e585 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e601 d62447e588 ">
                                 <p>1到16个十六进制字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定标识异构服务代理连接到的实例的唯一十六进制数。激活全局名称服务时，此参数的值将用作事务ID的一部分。当事务需要两阶段提交恢复操作时，指定非唯一编号可能会导致问题。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG264"></a><div class="props_rev_3"><a id="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0" name="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0"></a><h3 id="DRDAG-GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0" class="sect3">HS_DB_NAME</h3>
               <div>
                  <div class="tblformal" id="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0__GUID-9F006C8B-19C7-4AC8-B8D8-58EBA8882EF5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e639">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e642">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e647" headers="d62447e639 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e647 d62447e642 ">
                                 <p><code class="codeph">HO</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e655" headers="d62447e639 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e655 d62447e642 ">
                                 <p>1至8个字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>为给予非Oracle系统的数据存储指定唯一的字母数字名称。这个名字标识了<a id="d62447e664" class="indexterm-anchor"></a><a id="d62447e668" class="indexterm-anchor"></a>协作服务器环境中的非Oracle系统。<code class="codeph">HS_DB_NAME</code>和<code class="codeph">HS_DB_DOMAIN</code>初始化参数定义非Oracle系统的全局名称。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG265"></a><div class="props_rev_3"><a id="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0" name="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0"></a><h3 id="DRDAG-GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0" class="sect3">HS_DESCRIBE_CACHE_HWM</h3>
               <div>
                  <div class="tblformal" id="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0__GUID-E7D6DB6D-52B1-4679-ADC5-EB4938E72D89">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e705">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e708">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e713" headers="d62447e705 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e713 d62447e708 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e721" headers="d62447e705 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e721 d62447e708 ">
                                 <p><code class="codeph">1</code>到<code class="codeph">4000</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e733" class="indexterm-anchor"></a><a id="d62447e735" class="indexterm-anchor"></a>指定异构服务使用的描述高速缓存中的最大条目数。这个限制被称为<a id="d62447e740" class="indexterm-anchor"></a>描述缓存高水位线。缓存包含异构服务重用的映射表的描述，因此它不必重新访问非Oracle数据存储。
                     </p>
                     <p>如果要访问许多映射表，请增加高水位标记以提高性能。增加高水位标记会以内存使用为代价提高性能。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG266"></a><div class="props_rev_3"><a id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D" name="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D"></a><h3 id="DRDAG-GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D" class="sect3">HS_LANGUAGE</h3>
               <div>
                  <div class="tblformal" id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D__GUID-E43C554A-A653-4085-9BC5-235BFA71AE84">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e783">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e786">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e791" headers="d62447e783 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e791 d62447e786 ">
                                 <p>系统专用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e798" headers="d62447e783 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e798 d62447e786 ">
                                 <p>任何有效的语言名称（最多255个字符）</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>为异构服务提供非Oracle数据源的字符集，语言和区域信息。该值必须使用以下格式：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">语言</span> [_ <span class="italic">领土</span> 。 <span class="italic">character_set</span> ]</pre><div class="infoboxnote" id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D__GUID-6721B5B1-FB25-4AEA-828C-63E4CB8824CF">
                        <p class="notep1">注意：</p>
                        <p>全球化支持初始化参数会影响错误消息，SQL Service的数据以及分布式外部过程中的参数。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAG267"></a><div class="props_rev_3"><a id="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039" name="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039"></a><h4 id="DRDAG-GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039" class="sect4">字符集</h4>
                  <div>
                     <p>理想情况下，Oracle数据库和非Oracle数据源的字符集是相同的。在几乎所有情况下， <code class="codeph">HS_LANGUAGE</code>应设置为与Oracle数据库字符集完全相同，以实现最佳字符集映射和性能。如果它们不相同，则异构服务会尝试将非Oracle数据源的字符集转换为Oracle数据库字符集，然后再返回。翻译会降低性能。在某些情况下，异构服务无法将字符从一个字符集转换为另一个字符集。
                     </p>
                     <div class="infoboxnote" id="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039__GUID-05BD177D-9540-42D8-9E5C-B30BAE10C5C9">
                        <p class="notep1">注意：</p>
                        <p>指定的字符集必须是安装代理程序的平台上的操作系统字符集的超集。</p>
                     </div>
                     <p>由于更多Oracle数据库和非Oracle数据库使用Unicode作为数据库字符集，因此最好还以Unicode字符集运行网关。为此，您必须设置<code class="codeph">HS_LANGUAGE=AL32UTF8</code> 。但是，当网关在Windows上运行时，Microsoft ODBC驱动程序管理器界面只能以双字节字符集UCS2交换数据。这导致所述缓冲液和柱尺寸的额外比率扩展。有关如何调整到正确尺寸的说明，请参阅<a href="database-gateway-drda-initialization-parameters.html#GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB">HS_FDS_REMOTE_DB_CHARSET</a> 。
                     </p>
                  </div>
               </div><a id="DRDAG268"></a><div class="props_rev_3"><a id="GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4" name="GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4"></a><h4 id="DRDAG-GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4" class="sect4">语言</h4>
                  <div>
                     <p><code class="codeph">HS_LANGUAGE</code>初始化参数的语言组件确定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>日期的日期和月份名称</p>
                        </li>
                        <li>
                           <p>日期和时间的AD，BC，PM和AM符号</p>
                        </li>
                        <li>
                           <p>默认排序机制</p>
                        </li>
                     </ul>
                     <p>请注意，Oracle不确定通用异构服务消息（ <code class="codeph">ORA-25000</code>到<code class="codeph">ORA-28000</code> ）的错误消息的语言。它们由Oracle数据库中的会话设置控制。
                     </p>
                  </div>
               </div><a id="DRDAG269"></a><div class="props_rev_3"><a id="GUID-56DB1A6A-6051-41CE-931B-932BA868F191" name="GUID-56DB1A6A-6051-41CE-931B-932BA868F191"></a><h4 id="DRDAG-GUID-56DB1A6A-6051-41CE-931B-932BA868F191" class="sect4">领土</h4>
                  <div>
                     <p>territory子句指定日期和星期编号的约定，默认日期格式，十进制字符和组分隔符以及ISO和本地货币符号。请注意，Oracle数据库与非Oracle数据源之间的全球化支持级别取决于网关的实现方式。</p>
                  </div>
               </div>
            </div><a id="DRDAG1147"></a><div class="props_rev_3"><a id="GUID-682005EB-0613-4072-A822-2D3450E23DF7" name="GUID-682005EB-0613-4072-A822-2D3450E23DF7"></a><h3 id="DRDAG-GUID-682005EB-0613-4072-A822-2D3450E23DF7" class="sect3">HS_LONG_PIECE_TRANSFER_SIZE</h3>
               <div>
                  <div class="tblformal" id="GUID-682005EB-0613-4072-A822-2D3450E23DF7__GUID-59EDFBB8-3FE8-42C1-B860-6705D5D4C407">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e966">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e969">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e974" headers="d62447e966 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e974 d62447e969 ">
                                 <p>64 KB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e981" headers="d62447e966 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e981 d62447e969 ">
                                 <p>任何值最多2 GB</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>设置要传输的<code class="codeph">LONG</code>数据的大小。较小的块大小意味着更少的内存需求，但更多的往返来获取所有数据。较大的单件尺寸意味着更少的往返次数，但更多的内存需要在内部存储中间件。因此，初始化参数可用于调整系统以获得最佳性能，在往返和内存要求之间以及网络延迟或响应时间之间进行最佳权衡。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG270"></a><div class="props_rev_3"><a id="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC" name="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC"></a><h3 id="DRDAG-GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC" class="sect3">HS_OPEN_CURSORS</h3>
               <div>
                  <div class="tblformal" id="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC__GUID-18266D34-C303-4732-B928-8121D5BAA7A5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1029">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1032">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1037" headers="d62447e1029 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1037 d62447e1032 ">
                                 <p><code class="codeph">50</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1045" headers="d62447e1029 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1045 d62447e1032 ">
                                 <p><code class="codeph">1</code>到Oracle数据库的<code class="codeph">OPEN_CURSORS</code>初始化参数的值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>定义在与非Oracle系统实例的一个连接上可以打开的最大游标数。</p>
                     <p>该值永远不会超过Oracle数据库中打开游标的数量。因此，建议在Oracle数据库中设置与<code class="codeph">OPEN_CURSORS</code>初始化参数相同的值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG271"></a><div class="props_rev_3"><a id="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3" name="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3"></a><h3 id="DRDAG-GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3" class="sect3">HS_RPC_FETCH_REBLOCKING</h3>
               <div>
                  <div class="tblformal" id="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3__GUID-63591948-F1FB-4441-B446-F871FDD4BBCD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1100">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1103">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1108" headers="d62447e1100 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1108 d62447e1103 ">
                                 <p><code class="codeph">上</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1116" headers="d62447e1100 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1116 d62447e1103 ">
                                 <p><code class="codeph">OFF</code>或<code class="codeph">ON</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>控制异构服务是否尝试优化Oracle数据库与连接到非Oracle数据存储的异构服务代理之间的数据传输性能。</p>
                     <p>可能的值如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OFF</code>禁用对已获取数据的重新锁定，以便立即将数据从代理发送到服务器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code>启用重新锁定，这意味着从非Oracle系统获取的数据将缓冲在代理中，并且在获取的数据量等于或高于<code class="codeph">HS_RPC_FETCH_SIZE</code>初始化参数的值之前不会发送到Oracle数据库。但是，当提取指示不存在更多数据或非Oracle系统报告错误时，将立即返回任何缓冲数据。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG272"></a><div class="props_rev_3"><a id="GUID-168E698C-817E-4588-83F4-A54FE055D52E" name="GUID-168E698C-817E-4588-83F4-A54FE055D52E"></a><h3 id="DRDAG-GUID-168E698C-817E-4588-83F4-A54FE055D52E" class="sect3">HS_RPC_FETCH_SIZE</h3>
               <div>
                  <div class="tblformal" id="GUID-168E698C-817E-4588-83F4-A54FE055D52E__GUID-676980F0-6FAD-4FCA-869F-71E96581BCF0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table desdribes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1182">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1185">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1190" headers="d62447e1182 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1190 d62447e1185 ">
                                 <p><code class="codeph">50000</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1198" headers="d62447e1182 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1198 d62447e1185 ">
                                 <p>1到10000000</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>调整内部数据缓冲以优化服务器和代理进程之间的数据传输速率。</p>
                     <p>增加该值可以减少传输给定数量的数据所需的网络往返次数，但是也倾向于增加数据带宽并减少在发出查询和完成查询的所有提取之间所测量的等待时间。然而，增加提取大小会增加查询的初始提取结果的延迟，因为在其他数据可用之前不会传输第一次提取结果。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG273"></a><div class="props_rev_3"><a id="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A" name="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A"></a><h3 id="DRDAG-GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A" class="sect3">HS_TRANSACTION_MODEL</h3>
               <div>
                  <div class="tblformal" id="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A__GUID-A6EAC393-C18A-47A8-A80D-17B9B167CF18">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_TRANSACTION_MODEL" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1237">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1240">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1245" headers="d62447e1237 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1245 d62447e1240 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1253" headers="d62447e1237 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1253 d62447e1240 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code> ， <code class="codeph">READ_ONLY</code> ， <code class="codeph">READ_ONLY_AUTOCOMMIT</code> ， <code class="codeph">SINGLE_SITE</code> ， <code class="codeph">SINGLE_SITE_AUTOCOMMIT</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定事务更新非Oracle数据库时使用的事务模型的类型。</p>
                     <p>可能的值如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">COMMIT_CONFIRM</code>提供对非Oracle数据库的读写访问，并允许网关成为分布式更新的一部分。要使用commit-confirm模型，必须在非Oracle数据库中创建以下项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>事务日志表。默认表名称为<code class="codeph">HS_TRANSACTION_LOG</code> 。可以使用<code class="codeph">HS_FDS_TRANSACTION_LOG</code>参数设置不同的名称。必须将事务日志表授予设置为public的<code class="codeph">SELECT</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code>权限。
                                 </p>
                              </li>
                              <li>
                                 <p>恢复帐户。帐户名称分配有<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>参数。
                                 </p>
                              </li>
                              <li>
                                 <p>恢复帐户密码。密码分配有<code class="codeph">HS_FDS_RECOVERY_PWD</code>参数。
                                 </p>
                                 <p><code class="codeph">COMMIT_CONFIRM</code>不适用于Oracle Database Gateway for ODBC。 Oracle Database Gateway for ODBC的默认值为<code class="codeph">SINGLE_SITE</code> 。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY</code>提供对非Oracle数据库的读访问权限。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY_AUTOCOMMIT</code>提供对没有日志记录的非Oracle数据库的读访问权。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE</code>提供对非Oracle数据库的读写访问。但是，网关无法参与分布式更新。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE_AUTOCOMMIT</code>提供对没有日志记录的非Oracle数据库的读写访问权限。任何更新都会立即提交，并且网关无法参与分布式更新。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG275"></a><div class="props_rev_3"><a id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248" name="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248"></a><h3 id="DRDAG-GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248" class="sect3">IFILE</h3>
               <div>
                  <div class="tblformal" id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248__GUID-FB5CD241-D3DD-4021-829C-9D34A6A61EE8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes a parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1373">属性</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1376">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1381" headers="d62447e1373 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1381 d62447e1376 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1388" headers="d62447e1373 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1388 d62447e1376 ">
                                 <p>有效参数文件名</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>使用<code class="codeph">IFILE</code>初始化参数在当前初始化文件中嵌入另一个初始化文件。该值应该是绝对路径，不应包含环境变量。嵌套限制的三个级别不适用。
                     </p>
                     <div class="infoboxnotealso" id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248__GUID-E9DF8623-C0EA-41F3-85D7-F4362914C189">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/IFILE.html#REFRN10070" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1154"></a><div class="props_rev_3"><a id="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B" name="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B"></a><h3 id="DRDAG-GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B" class="sect3">HS_FDS_CONNECT_INFO</h3>
               <div>
                  <div class="tblformal" id="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B__GUID-18C07058-C294-41B6-82AE-0D9D956E2708">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_CONNECT_INFO" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1439">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1442">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1447" headers="d62447e1439 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1447 d62447e1442 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1454" headers="d62447e1439 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1454 d62447e1442 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_CONNECT_INFO</code> ，描述与非Oracle系统的连接。
                     </p>
                     <p>默认初始化参数文件已有此参数的条目。网关的<code class="codeph">HS_FDS_CONNECT_INFO</code>语法如下：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = <span class="italic">IP_address</span> ： <span class="italic">Port_number</span> / <span class="italic">Database_name</span> ， <span class="italic">Type</span>
</pre><p>其中<code class="codeph">IP_address</code>是DB2 DRDA服务器的主机名或IP地址</p>
                     <p><code class="codeph">Port_number</code>是DB2 DRDA服务器的端口号。
                     </p>
                     <p><code class="codeph">Database_name</code>是DB2服务器的数据库名称</p>
                     <p><code class="codeph">Type</code> （不区分大小写）是以下之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>ZOS（DB2 UDB for z / OS），</p>
                        </li>
                        <li>
                           <p>IOS（DB2 UDB for iSeries），或</p>
                        </li>
                        <li>
                           <p>LUW（DB2 UDB for Linux，Unix或Windows）</p>
                        </li>
                     </ul>
                     <p>此版本的网关可以支持IPv6。如果要指定IPv6地址格式，则需要在IPv6规范周围包括方括号以指示与端口号的分离。</p>
                     <p>例如，</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = [2001：将0db8：20C：F1FF：FEC6：38AF]：1300 / DB2M，ZOS</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1157"></a><div class="props_rev_3"><a id="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0" name="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0"></a><h3 id="DRDAG-GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0" class="sect3">HS_FDS_RECOVERY_ACCOUNT</h3>
               <div>
                  <div class="tblformal" id="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0__GUID-378B88FA-FFA5-4972-BB51-63424726DDCC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_RECOVERY_ACCOUNT" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1545">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1548">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1553" headers="d62447e1545 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1553 d62447e1548 ">
                                 <p><code class="codeph">恢复</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1561" headers="d62447e1545 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1561 d62447e1548 ">
                                 <p>任何有效的用户ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定用于commit-confirm事务模型的恢复帐户的名称。必须在非Oracle系统上设置具有用户名和密码的帐户。有关commit-confirm模型的更多信息，请参阅<code class="codeph">HS_TRANSACTION_MODEL</code>参数。
                     </p>
                     <p>对于DRDA， <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>指定网关使用的用户ID <a id="d62447e1578" class="indexterm-anchor"></a>分布式交易变得有疑问。此用户标识必须具有程序包的执行权限，并且必须定义到IBM数据库。
                     </p>
                     <p>如果分布式事务存在疑问，则Oracle数据库通过使用<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>连接到IBM数据库来确定事务的状态。如果缺少此参数，则网关尝试连接到用户ID <a id="d62447e1588" class="indexterm-anchor"></a> <code class="codeph">ORARECOV</code> 。</p>
                     <p>恢复帐户的名称区分大小写。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1158"></a><div class="props_rev_3"><a id="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F" name="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F"></a><h3 id="DRDAG-GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F" class="sect3">HS_FDS_RECOVERY_PWD</h3>
               <div>
                  <div class="tblformal" id="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F__GUID-3A750D27-D5B2-4C68-9D4B-271E23B655FD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_RECOVERY_PWD" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1625">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1628">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1633" headers="d62447e1625 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1633 d62447e1628 ">
                                 <p><code class="codeph">恢复</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1641" headers="d62447e1625 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1641 d62447e1628 ">
                                 <p>任何有效的密码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定用于在非Oracle系统上设置的提交确认事务模型的恢复帐户的密码。有关commit-confirm模型的更多信息，请参阅<code class="codeph">HS_TRANSACTION_MODEL</code>参数。
                     </p>
                     <p><code class="codeph">HS_FDS_RECOVERY_PWD</code>与<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> 。如果分布式事务存在疑问，恢复用户将连接到IBM数据库。
                     </p>
                     <p>恢复帐户的密码名称区分大小写。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG274"></a><div class="props_rev_3"><a id="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4" name="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4"></a><h3 id="DRDAG-GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4" class="sect3">HS_FDS_FETCH_ROWS</h3>
               <div>
                  <div class="tblformal" id="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4__GUID-2CD1B45A-C1E8-4B32-931D-C85DFE2F29D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1701">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1704">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1709" headers="d62447e1701 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1709 d62447e1704 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1717" headers="d62447e1701 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1717 d62447e1704 ">
                                 <p><code class="codeph">1</code>到<code class="codeph">1000</code>之间的任何整数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1729" headers="d62447e1701 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1729 d62447e1704 ">
                                 <p><code class="codeph">HS_FDS_FETCH_ROWS=</code> <span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_FETCH_ROWS</code>指定<a id="d62447e1744" class="indexterm-anchor"></a>获取数组大小。这是从非Oracle数据库中提取并一次返回Oracle数据库的行数。该参数将受<code class="codeph">HS_RPC_FETCH_SIZE</code>和<code class="codeph">HS_RPC_FETCH_REBLOCKING</code>参数的影响。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1160"></a><div class="props_rev_3"><a id="GUID-8A213748-7B17-4345-BD90-7EE477748D25" name="GUID-8A213748-7B17-4345-BD90-7EE477748D25"></a><h3 id="DRDAG-GUID-8A213748-7B17-4345-BD90-7EE477748D25" class="sect3">HS_FDS_TRACE_LEVEL</h3>
               <div>
                  <div class="tblformal" id="GUID-8A213748-7B17-4345-BD90-7EE477748D25__GUID-D490117F-1FBC-42AD-96F6-9A2C04DBC00E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_RECOVERY_ACCOUNT" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1785">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1788">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1793" headers="d62447e1785 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1793 d62447e1788 ">
                                 <p><code class="codeph">关闭</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1801" headers="d62447e1785 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1801 d62447e1788 ">
                                 <p><code class="codeph">OFF</code> ， <code class="codeph">ON</code> ， <code class="codeph">DEBUG</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定是否<a id="d62447e1817" class="indexterm-anchor"></a>为网关连接打开或关闭错误跟踪。
                     </p>
                     <p>以下值有效：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OFF</code>禁用跟踪错误消息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code>可以跟踪遇到问题时出现的错误消息。结果默认写入安装网关的LOG目录中的网关日志文件。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DEBUG</code>允许跟踪可用于调试的详细错误消息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1161"></a><div class="props_rev_3"><a id="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161" name="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161"></a><h3 id="DRDAG-GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161" class="sect3">HS_FDS_TRANSACTION_LOG</h3>
               <div>
                  <div class="tblformal" id="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161__GUID-77B0183C-16FF-4AD7-9A2B-D1B7EF11B11E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_TRANSACTION_LOG" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1872">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1875">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1880" headers="d62447e1872 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1880 d62447e1875 ">
                                 <p><code class="codeph">HS_TRANSACTION_LOG</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1888" headers="d62447e1872 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1888 d62447e1875 ">
                                 <p>任何有效的表名</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定在非Oracle系统中为记录事务创建的表的名称。有关事务模型的更多信息，请参阅<code class="codeph">HS_TRANSACTION_MODEL</code>参数。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1183"></a><div class="props_rev_3"><a id="GUID-F8956706-05E2-4368-939E-A1DC32009464" name="GUID-F8956706-05E2-4368-939E-A1DC32009464"></a><h3 id="DRDAG-GUID-F8956706-05E2-4368-939E-A1DC32009464" class="sect3">HS_IDLE_TIMEOUT</h3>
               <div>
                  <div class="tblformal" id="GUID-F8956706-05E2-4368-939E-A1DC32009464__GUID-7A72EAAB-A850-4491-B240-928EFF37DC2D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1929">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1932">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1937" headers="d62447e1929 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1937 d62447e1932 ">
                                 <p>0（没有超时）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1944" headers="d62447e1929 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1944 d62447e1932 ">
                                 <p>0-9999（分钟）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1951" headers="d62447e1929 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1951 d62447e1932 ">
                                 <p><code class="codeph">HS_IDLE_TIMEOUT=</code> <span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>此功能仅适用于Oracle Net TCP协议。</p>
                     <p>如果在指定的时间段内没有连接的网关会话的活动，网关会话将自动终止，同时回滚挂起的更新（如果有）。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1184"></a><div class="props_rev_3"><a id="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B" name="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B"></a><h3 id="DRDAG-GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B" class="sect3">HS_FDS_MBCS_TO_GRAPHIC</h3>
               <div>
                  <div class="tblformal" id="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B__GUID-B4866BCB-7C91-49E6-BEDB-CC0210806160">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1994">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1997">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2002" headers="d62447e1994 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2002 d62447e1997 ">
                                 <p><code class="codeph">假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2010" headers="d62447e1994 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2010 d62447e1997 ">
                                 <p><code class="codeph">FALSE | TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2018" headers="d62447e1994 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2018 d62447e1997 ">
                                 <p><code class="codeph">HS_FDS_MBCS_TO_GRAPHIC=</code> <span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果设置为<code class="codeph">TRUE</code> ，则在插入操作之前，任何要插入DB2（var）图形列的单字节字符都将转换为等效的双字节值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1185"></a><div class="props_rev_3"><a id="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36" name="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36"></a><h3 id="DRDAG-GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36" class="sect3">HS_FDS_GRAPHIC_TO_MBCS</h3>
               <div>
                  <div class="tblformal" id="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36__GUID-6C3EABBE-576C-4D49-AB1D-2BB4AC32FC23">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2062">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2065">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2070" headers="d62447e2062 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2070 d62447e2065 ">
                                 <p><code class="codeph">假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2078" headers="d62447e2062 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2078 d62447e2065 ">
                                 <p><code class="codeph">FALSE | TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2086" headers="d62447e2062 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2086 d62447e2065 ">
                                 <p><code class="codeph">HS_FDS_GRAPHIC_TO_MBCS=</code> <span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果设置为<code class="codeph">TRUE</code> ，那么DB2（var）图形列中任何具有等效单字节等效字符的双字节字符将在发送给用户之前转换为等效的单字节。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1186"></a><div class="props_rev_3"><a id="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5" name="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5"></a><h3 id="DRDAG-GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5" class="sect3">HS_FDS_TIMESTAMP_MAPPING</h3>
               <div>
                  <div class="tblformal" id="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5__GUID-3205094F-BE70-40FA-9294-29EF2DF96E2B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2131">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2134">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2139" headers="d62447e2131 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2139 d62447e2134 ">
                                 <p><code class="codeph">CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2147" headers="d62447e2131 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2147 d62447e2134 ">
                                 <p><code class="codeph">CHAR</code> | <code class="codeph">DATE</code> | <code class="codeph">TIMESTAMP</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2161" headers="d62447e2131 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2161 d62447e2134 ">
                                 <p><code class="codeph">HS_FDS_TIMESTAMP_MAPPING={</code> <span class="italic"><code class="codeph">CHAR|DATE|TIMESTAMP}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果设置为<code class="codeph">CHAR</code> ，则非Oracle目标时间戳将映射到<code class="codeph">CHAR(26)</code> 。如果设置为<code class="codeph">DATE</code> （默认值），则非Oracle目标时间戳将映射到Oracle <code class="codeph">DATE</code> 。如果设置为<code class="codeph">TIMESTAMP</code> ，则非Oracle目标时间戳将映射到Oracle <code class="codeph">TIMESTAMP</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1284"></a><div class="props_rev_3"><a id="GUID-A16B8C40-16B5-4949-9174-C38999964261" name="GUID-A16B8C40-16B5-4949-9174-C38999964261"></a><h3 id="DRDAG-GUID-A16B8C40-16B5-4949-9174-C38999964261" class="sect3">HS_FDS_DATE_MAPPING</h3>
               <div>
                  <div class="tblformal" id="GUID-A16B8C40-16B5-4949-9174-C38999964261__GUID-312EBD3C-382C-40FF-8693-7A5916AD7786">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2221">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2224">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2229" headers="d62447e2221 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2229 d62447e2224 ">
                                 <p><code class="codeph">日期</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2237" headers="d62447e2221 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2237 d62447e2224 ">
                                 <p><code class="codeph">DATE</code> | <code class="codeph">CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2248" headers="d62447e2221 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2248 d62447e2224 ">
                                 <p><code class="codeph">HS_FDS_DATE_MAPPING={</code> <span class="italic"><code class="codeph">DATE|CHAR}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果设置为<code class="codeph">CHAR</code> ，则非oracle目标日期将映射到<code class="codeph">CHAR(10)</code> 。如果设置为<code class="codeph">DATE</code> ，则非Oracle目标日期将映射到Oracle日期。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1187"></a><div class="props_rev_3"><a id="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C" name="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C"></a><h3 id="DRDAG-GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C" class="sect3">HS_FDS_QUOTE_IDENTIFIER</h3>
               <div>
                  <div class="tblformal" id="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C__GUID-3B1EDFBE-1714-4D4B-8607-C1397581F1A2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2298">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2301">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2306" headers="d62447e2298 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2306 d62447e2301 ">
                                 <p><code class="codeph">真正</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2314" headers="d62447e2298 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2314 d62447e2301 ">
                                 <p><code class="codeph">TRUE | FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2322" headers="d62447e2298 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2322 d62447e2301 ">
                                 <p><code class="codeph">HS_FDS_QUOTE_IDENTIFIER=</code> <span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>默认情况下，如果FDS支持，网关将引用标识符。但是，我们为用户提供了覆盖行为的能力。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG277"></a><div class="props_rev_3"><a id="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673" name="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673"></a><h3 id="DRDAG-GUID-D725AE78-87E6-4C4B-9347-E60B4299E673" class="sect3">HS_FDS_CAPABILITY</h3>
               <div>
                  <div class="tblformal" id="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673__GUID-152808F3-8D47-44D2-9D8D-8C1A645578C2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2364">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2367">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2372" headers="d62447e2364 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2372 d62447e2367 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2379" headers="d62447e2364 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2379 d62447e2367 ">
                                 <p>请参阅<a href="developing-applications.html#GUID-69ABFEB3-BAD1-424D-88EC-DE827C203946">可以启用的SQL函数</a> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2389" headers="d62447e2364 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2389 d62447e2367 ">
                                 <p><code class="codeph">HS_FDS_CAPABILITY= {</code> <span class="italic"><code class="codeph">FUNCTION/{ON|OFF|SKIP}</code></span> <code class="codeph">},...</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e2403" class="indexterm-anchor"></a>如果<code class="codeph">HS_FDS_CAPABILITY</code>设置为<code class="codeph">ON</code>则指定的函数将发送到DB2进行处理。换句话说，该功能不需要后处理。
                     </p>
                     <p>如果<code class="codeph">HS_FDS_CAPABILITY</code>设置为<code class="codeph">OFF</code>则指定的函数将不会发送到DB2进行处理。换句话说，它将被后期处理。
                     </p>
                     <p>如果<code class="codeph">HS_FDS_CAPABILITY</code>设置为<code class="codeph">SKIP</code>则将从发送到DB2的SQL语句中删除指定的函数。换句话说，该函数将被忽略。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1270"></a><a id="DRDAG1178"></a><div class="props_rev_3"><a id="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A" name="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A"></a><h3 id="DRDAG-GUID-C472E1CA-C253-48D1-A36F-31FD7788316A" class="sect3">HS_FDS_TRANSACTION_ISOLATION</h3>
               <div>
                  <div class="tblformal" id="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A__GUID-65FD204B-8290-4DA9-9CD5-689A08A577D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2471">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2474">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2479" headers="d62447e2471 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2479 d62447e2474 ">
                                 <p><code class="codeph">READ_COMMITTED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2487" headers="d62447e2471 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2487 d62447e2474 ">
                                 <p>{ <code class="codeph">READ_UNCOMMITTED</code> | <code class="codeph">READ_COMMITTED</code> | <code class="codeph">REPEATABLE_READ</code> | <code class="codeph">SERIALIZABLE</code> | <code class="codeph">NONE</code> }</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2509" headers="d62447e2471 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2509 d62447e2474 ">
                                 <p><code class="codeph">HS_FDS_ISOLATION_LEVEL = {{READ_UNCOMMITTED | READ_COMMITTED | REPEATABLE_READ | SERIALIZABLE | NONE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_TRANSACTION_ISOLATION</code>指定用于网关在非Oracle数据库上打开的事务的隔离级别。<a id="d62447e2521" class="indexterm-anchor"></a><a id="d62447e2525" class="indexterm-anchor"></a><a id="d62447e2529" class="indexterm-anchor"></a></p>
                     <p>隔离级别<code class="codeph">NONE</code>仅对DB2 iSeries有效。它指定级别<code class="codeph">NO COMMIT</code> 。此隔离级别将强制<code class="codeph">HS_TRANSACTION_MODEL</code>的<code class="codeph">SINGLE_SITE_AUTOCOMMIT</code> 。请参阅DB2有关此级别的文档。
                     </p>
                     <p><code class="codeph">READ_UNCOMMITTED</code> ， <code class="codeph">READ_COMMITTED</code> ， <code class="codeph">REPEATABLE_READ</code>和<code class="codeph">SERIALIZABLE</code>的隔离级别是SQL标准中定义的四个隔离级别，并由ANSI和ISO / IEC采用。有关它们的其他信息，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT-GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B" target="_blank"><span><cite>Oracle数据库概念</cite></span></a> 。
                     </p>
                     <p>在指定低于所使用的Oracle事务隔离级别的隔离级别时要小心，因为网关事务将具有与Oracle数据库事务中发生的不同的可预防读取现象。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1182"></a><div class="props_rev_3"><a id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37" name="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37"></a><h3 id="DRDAG-GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37" class="sect3">HS_FDS_PACKAGE_COLLID</h3>
               <div>
                  <div class="tblformal" id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37__GUID-B67153BC-5AE1-4DF2-A513-FE0CA7EA6613">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="DRDA parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2607">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2610">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2615" headers="d62447e2607 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2615 d62447e2610 ">
                                 <p><code class="codeph">ORACLEGTW</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2623" headers="d62447e2607 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2623 d62447e2610 ">
                                 <p>字母数字字符串，长度为1到18个字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2630" headers="d62447e2607 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2630 d62447e2610 ">
                                 <p><code class="codeph">HS_FDS_PACKAGE_COLLID=</code> <span class="italic"><code class="codeph">collection_id</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_PACKAGE_COLLID</code>指定<a id="d62447e2645" class="indexterm-anchor"></a>包集合ID。请注意<a id="d62447e2650" class="indexterm-anchor"></a> DB2 UDB for iSeries，集合ID实际上是一个名称<a id="d62447e2655" class="indexterm-anchor"></a> AS / 400库。
                     </p>
                     <div class="infoboxnote" id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37__GUID-3BDF8601-4418-4F42-8125-7BBF5BE21083">
                        <p class="notep1">注意：</p>
                        <p>对此参数的任何更改都将导致新包被网关隐式绑定。对于DB2 for UDB iSeries，在尝试连接之前，应使用iSeries SQL命令<code class="codeph">CREATE SCHEMA</code>或<code class="codeph">CREATE COLLECTION</code>来创建具有为<code class="codeph">HS_FDS_PACKAGE_COLLID</code>指定的名称的iSeries库。应该在Oracle SQL命令<code class="codeph">CREATE DATABASE LINK</code>的<code class="codeph">CONNECT TO</code>短语中指定的id下创建此<code class="codeph">COLLECTION</code>或<code class="codeph">SCHEMA</code> 。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1271"></a><div class="props_rev_3"><a id="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5" name="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5"></a><h3 id="DRDAG-GUID-DD412062-270D-4755-B6C6-B6688CFB52C5" class="sect3">HS_NLS_LENGTH_SEMANTICS</h3>
               <div>
                  <div class="tblformal" id="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5__GUID-816CE832-9631-43D4-8CEA-4E4236DEA253">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_RECOVERY_PWD" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2719">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2722">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2727" headers="d62447e2719 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2727 d62447e2722 ">
                                 <p><code class="codeph">字节</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2735" headers="d62447e2719 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2735 d62447e2722 ">
                                 <p><code class="codeph">BYTE | CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2743" headers="d62447e2719 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2743 d62447e2722 ">
                                 <p><code class="codeph">HS_NLS_LENGTH_SEMANTICS = {BYTE | CHAR}</code> 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>此版本的网关具有与Oracle数据库字符语义等效的字符语义功能，即<code class="codeph">NLS_LENGTH_SEMANTICS</code> 。当<code class="codeph">HS_NLS_LENGTH_SEMANTICS</code>设置为<code class="codeph">CHAR</code> ，UDB数据库的<code class="codeph">(VAR)CHAR</code>列将被解释为具有<code class="codeph">CHAR</code>语义。网关不遵守<code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>设置的唯一情况是Oracle数据库和网关都在同一个多字节字符集上</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1272"></a><div class="props_rev_3"><a id="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5" name="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5"></a><h3 id="DRDAG-GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5" class="sect3">HS_KEEP_REMOTE_COLUMN_SIZE</h3>
               <div>
                  <div class="tblformal" id="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5__GUID-E8D2FF85-5670-4A8D-B28F-3659E5ADA30C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Initialization parameter" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2801">属性</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2804">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2809" headers="d62447e2801 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2809 d62447e2804 ">
                                 <p><code class="codeph">关闭</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2817" headers="d62447e2801 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2817 d62447e2804 ">
                                 <p><code class="codeph">关闭| LOCAL | REMOTE |所有</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2825" headers="d62447e2801 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2825 d62447e2804 ">
                                 <p><code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE = OFF | LOCAL | REMOTE | ALL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2833" headers="d62447e2801 ">
                                 <p>参数类型</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2833 d62447e2804 ">
                                 <p>串</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e2841" class="indexterm-anchor"></a> <code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code>指定在从UDB数据库到网关，然后到Oracle数据库的数据转换期间计算<code class="codeph">(VAR)CHAR</code>数据类型的长度时是否抑制比率扩展。当它设置为<code class="codeph">REMOTE</code> ，将禁止非Oracle数据库与网关之间的扩展。当它设置为<code class="codeph">LOCAL</code> ，网关和Oracle数据库之间的扩展将被抑制。当它设置为<code class="codeph">ALL</code> ，将扩展从非Oracle数据库抑制到Oracle数据库。
                     </p>
                     <p>设置参数后，在报告远程列大小，计算隐式生成的缓冲区大小以及在本地Oracle数据库中实例化时，将禁止扩展。这仅对从非Oracle数据库到Oracle数据库的远程列大小有效。如果网关在Windows上运行且<code class="codeph">HS_LANGUAGE=AL32UTF8</code> ，则不能指定此参数，因为它会影响其他与比率相关的参数操作。在<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>期间，它对通过网关从Oracle数据库移动到非Oracle数据库的数据的比率没有影响。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1273"></a><div class="props_rev_3"><a id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B" name="GUID-01214441-BF61-4939-B0B5-41FA0923B40B"></a><h3 id="DRDAG-GUID-01214441-BF61-4939-B0B5-41FA0923B40B" class="sect3">HS_FDS_RESULTSET_SUPPORT</h3>
               <div>
                  <div class="tblformal" id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B__GUID-BC9E74D0-C4EE-41EB-A7F9-B1BC07F14A5E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="HS_FDS_RECOVERY_PWD" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2900">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2903">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2908" headers="d62447e2900 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2908 d62447e2903 ">
                                 <p><code class="codeph">假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2916" headers="d62447e2900 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2916 d62447e2903 ">
                                 <p><code class="codeph">TRUE |假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2924" headers="d62447e2900 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2924 d62447e2903 ">
                                 <p><code class="codeph">HS_FDS_RESULTSET_SUPPORT = {TRUE |假的}</code> 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>允许从存储过程返回结果集。默认情况下，所有存储过程都不会将结果集返回给用户。</p>
                     <div class="infoboxnote" id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B__GUID-73204CEF-6827-4FEE-B31E-9B8F7BE6CD7A">
                        <p class="notep1">注意：</p>
                        <p>如果设置此初始化参数，则必须执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>更改所有现有存储过程的过程execute语句的语法，以处理结果集。</p>
                           </li>
                           <li>
                              <p>在异构服务的顺序模式下工作。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1274"></a><div class="props_rev_3"><a id="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB" name="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB"></a><h3 id="DRDAG-GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB" class="sect3">HS_FDS_REMOTE_DB_CHARSET</h3>
               <div>
                  <div class="tblformal" id="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB__GUID-E0A1414A-BE11-4854-98E7-359EF0A9A9EF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="initparam" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2974">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2977">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2982" headers="d62447e2974 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2982 d62447e2977 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2989" headers="d62447e2974 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2989 d62447e2977 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2996" headers="d62447e2974 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2996 d62447e2977 ">
                                 <p><code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>仅当<code class="codeph">HS_LANGUAGE</code>设置为<code class="codeph">AL32UTF8</code>且网关在Windows上运行时，此参数才有效。由于更多Oracle数据库和非Oracle数据库使用Unicode作为数据库字符集，因此最好还以Unicode字符集运行网关。为此，您必须设置<code class="codeph">HS_LANGUAGE=AL32UTF8</code> 。但是，当网关在Windows上运行时，Microsoft ODBC驱动程序管理器界面只能以双字节字符集UCS2交换数据。这导致所述缓冲液和柱尺寸的额外比率扩展。为了补偿，如果<code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code>设置为相应的非Oracle数据库字符集，则网关可以重新调整列大小。例如， <code class="codeph">HS_FDS_REMOTE_DB_CHARSET=KO16KSC5601</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1275"></a><div class="props_rev_3"><a id="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17" name="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17"></a><h3 id="DRDAG-GUID-03C36967-4A20-4613-A593-DCFB03EA5E17" class="sect3">HS_FDS_SUPPORT_STATISTICS</h3>
               <div>
                  <div class="tblformal" id="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17__GUID-AC705DAD-C095-489B-8100-F49760C5CA29">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3049">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3052">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3057" headers="d62447e3049 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3057 d62447e3052 ">
                                 <p><code class="codeph">真正</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3065" headers="d62447e3049 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3065 d62447e3052 ">
                                 <p><code class="codeph">{TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3073" headers="d62447e3049 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3073 d62447e3052 ">
                                 <p><code class="codeph">HS_FDS_SUPPORT_STATISTICS = {TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>我们默认从非Oracle数据库收集统计信息。您可以通过将<code class="codeph">HS_FDS_SUPPORT_STATISTICS</code>参数设置为<code class="codeph">FALSE</code>来选择禁用远程数据库统计信息的收集。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1276"></a><div class="props_rev_3"><a id="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46" name="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46"></a><h3 id="DRDAG-GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46" class="sect3">HS_FDS_RSET_RETURN_ROWCOUNT</h3>
               <div>
                  <div class="tblformal" id="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46__GUID-BBC9CB97-A2DC-41AA-9EB3-43419B50B89C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3117">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3120">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3125" headers="d62447e3117 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3125 d62447e3120 ">
                                 <p><code class="codeph">假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3133" headers="d62447e3117 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3133 d62447e3120 ">
                                 <p><code class="codeph">{TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3141" headers="d62447e3117 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3141 d62447e3120 ">
                                 <p><code class="codeph">HS_FDS_RSET_RETURN_ROWCOUNT = {TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>设置为<code class="codeph">TRUE</code> ，网关返回在存储过程中执行的DML语句的行计数。行计数作为单行有符号整数的单列结果集返回。
                     </p>
                     <p>设置为<code class="codeph">FALSE</code> ，网关会跳过在存储过程中执行的DML语句的行计数。这是默认行为，它是11.1和更早版本的网关的行为。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1277"></a><div class="props_rev_3"><a id="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1" name="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1"></a><h3 id="DRDAG-GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1" class="sect3">HS_FDS_AUTHENTICATE_USER</h3>
               <div>
                  <div class="tblformal" id="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1__GUID-A913FADB-EAAB-4427-8B62-EFCD39C8DCA4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3188">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3191">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3196" headers="d62447e3188 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3196 d62447e3191 ">
                                 <p><code class="codeph">明文</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3204" headers="d62447e3188 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3204 d62447e3191 ">
                                 <p><code class="codeph">{明文| ENCRYPT | ENCRYPT_BOTH |客户| KERBEROS}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3212" headers="d62447e3188 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3212 d62447e3191 ">
                                 <p><code class="codeph">HS_FDS_AUTHENTICATE_USER = {CLEARTEXT | ENCRYPT | ENCRYPT_BOTH |客户| KERBEROS}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定将用户标识和密码发送到远程DB2服务器并进行身份验证的方式。有效值为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CLEARTEXT</code> ：用户ID和密码以明文形式发送到服务器（默认）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENCRYPT</code> ：密码以加密方式发送到服务器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENCRYPT_BOTH</code> ：用户ID和密码以加密方式发送到服务器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CLIENT</code> ：用户ID在客户端而不是服务器上验证。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">KERBEROS</code> ：使用Kerberos验证用户ID。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1278"></a><div class="props_rev_3"><a id="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E" name="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E"></a><h3 id="DRDAG-GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E" class="sect3">HS_FDS_ENCRYPT_SESSION</h3>
               <div>
                  <div class="tblformal" id="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E__GUID-0061DA40-D193-4829-9F64-F42A29C46E63">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3276">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3279">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3284" headers="d62447e3276 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3284 d62447e3279 ">
                                 <p><code class="codeph">没有</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3292" headers="d62447e3276 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3292 d62447e3279 ">
                                 <p><code class="codeph">{NONE | SSL | DB2 | NOTRUST_SSL}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3300" headers="d62447e3276 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3300 d62447e3279 ">
                                 <p><code class="codeph">HS_FDS_ENCRYPT_SESSION = {NONE | SSL | DB2 | NOTRUST_SSL}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定DB2的会话加密方式。有效值为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">NONE</code> ：数据会话未加密（默认）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SSL</code> ：使用SSL加密数据会话。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DB2</code> ：将DB2加密协议用于数据会话（仅在DB2 for Linux，UNIX，Windows和DB2 for z / OS上受支持）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NOTRUST_SSL</code> ：此选项等同于SSL设置，初始化参数为<code class="codeph">HS_FDS_VALIDATE_SERVER_CERT = DISABLED</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A" name="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A"></a><h3 id="DRDAG-GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A" class="sect3">HS_FDS_VALIDATE_SERVER_CERT</h3>
               <div>
                  <div class="tblformal" id="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A__GUID-0061DA40-D193-4829-9F64-F42A29C46E63">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3360">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3363">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3368" headers="d62447e3360 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3368 d62447e3363 ">
                                 <p><code class="codeph">启用</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3376" headers="d62447e3360 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3376 d62447e3363 ">
                                 <p><code class="codeph">{启用|禁用}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3384" headers="d62447e3360 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3384 d62447e3363 ">
                                 <p><code class="codeph">HS_FDS_VALIDATE_SERVER_CERT = {ENABLED | DISABLED}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定当通过<code class="codeph">HS_FDS_ENCRYPT_SESSION</code>启用SSL加密时，驱动程序是否验证数据库服务器发送的证书。使用SSL服务器身份验证时，服务器发送的任何证书都必须由受信任的证书颁发机构颁发。有效值为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ENABLED</code> ：网关验证数据库服务器发送的证书。来自服务器的任何证书必须由信任库文件中的受信任证书颁发机构颁发。使用<code class="codeph">HS_FDS_TRUSTSTORE_FILE</code>和<code class="codeph">HS_FDS_TRUSTSTORE_PASSWORD</code>初始化参数指定信任库信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISABLED</code> ：网关不验证数据库服务器发送的证书。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1279"></a><div class="props_rev_3"><a id="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444" name="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444"></a><h3 id="DRDAG-GUID-B3096AFF-9484-44D0-8C16-E3106DC32444" class="sect3">HS_FDS_TRUSTSTORE_FILE</h3>
               <div>
                  <div class="tblformal" id="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444__GUID-287D610D-E388-491F-BB32-5B5C15C3ED6D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3443">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3446">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3451" headers="d62447e3443 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3451 d62447e3446 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3458" headers="d62447e3443 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3458 d62447e3446 ">
                                 <p><span class="italic"><code class="codeph">信任库文件的路径</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3467" headers="d62447e3443 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3467 d62447e3446 ">
                                 <p><code class="codeph">HS_FDS_TRUSTSTORE_FILE</code> <span class="italic"><code class="codeph">= path to truststore file</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定指定信任库文件位置的路径。信任库文件包含客户端计算机信任的用于SSL服务器身份验证的有效证书颁发机构（CA）的列表。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1280"></a><div class="props_rev_3"><a id="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C" name="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C"></a><h3 id="DRDAG-GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C" class="sect3">HS_FDS_TRUSTSTORE_PASSWORD</h3>
               <div>
                  <div class="tblformal" id="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C__GUID-0CBAEB99-A469-4923-BCF1-91205D19AFA6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3509">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3512">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3517" headers="d62447e3509 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3517 d62447e3512 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3524" headers="d62447e3509 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3524 d62447e3512 ">
                                 <p><span class="italic"><code class="codeph">密码</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3533" headers="d62447e3509 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3533 d62447e3512 ">
                                 <p><code class="codeph">HS_FDS_TRUSTSTORE_PASSWORD</code> = <span class="italic"><code class="codeph">password</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>指定访问信任库所需的密码。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1281"></a><div class="props_rev_3"><a id="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92" name="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92"></a><h3 id="DRDAG-GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92" class="sect3">HS_FDS_SQLLEN_INTERPRETATION</h3>
               <div>
                  <div class="tblformal" id="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92__GUID-B0515BD2-4152-4F7C-9554-3E273114426C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3575">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3578">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3583" headers="d62447e3575 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3583 d62447e3578 ">
                                 <p><code class="codeph">64</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3591" headers="d62447e3575 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3591 d62447e3578 ">
                                 <p><code class="codeph">{64 | 32}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3599" headers="d62447e3575 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3599 d62447e3578 ">
                                 <p><code class="codeph">HS_FDS_SQLLEN_INTERPRETATION = {64 | 32}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>此参数仅对64位平台有效。ODBC标准指定<code class="codeph">SQLLEN</code> （内部ODBC构造）在64位平台上为64位，但某些ODBC驱动程序管理器和驱动程序违反了此约定，并将其实现为32位。为了使网关能够补偿其行为，如果使用这些类型的驱动程序管理器和驱动程序，则需要指定<code class="codeph">HS_FDS_SQLLEN_INTERPRETATION=32</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1285"></a><div class="props_rev_3"><a id="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435" name="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435"></a><h3 id="DRDAG-GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435" class="sect3">HS_FDS_ARRAY_EXEC</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435__GUID-E636AD86-C4E0-4947-BD08-50CAE230C083">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="init param" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3645">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3648">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3653" headers="d62447e3645 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3653 d62447e3648 ">
                                 <p><code class="codeph">假</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3661" headers="d62447e3645 ">
                                 <p>价值范围</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3661 d62447e3648 ">
                                 <p><code class="codeph">{TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3669" headers="d62447e3645 ">
                                 <p>句法</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3669 d62447e3648 ">
                                 <p><code class="codeph">HS_FDS_ARRAY_EXEC = {TRUE | FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果设置为<code class="codeph">TRUE</code> ，则网关将对包含针对远程数据源的绑定的insert，update，delete语句使用数组操作。数组大小由<code class="codeph">HS_FDS_FETCH_ROWS</code> init参数的值确定。
                     </p>
                     <p>如果设置为<code class="codeph">FALSE</code> ，则网关不会对insert，update和delete语句使用数组操作。相反，将为每个值发出一个语句。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01065.DBMS_PARALLEL_EXECUTE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel."></meta>
      <meta name="description" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel."></meta>
      <title>DBMS_PARALLEL_EXECUTE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_OUTPUT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_PART.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_OUTPUT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_PART.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_PARALLEL_EXECUTE</li>
            </ol>
            <a id="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC" name="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC"></a><a id="ARPLS233"></a><a id="ARPLS233"></a>
            
            <h2 id="ARPLS-GUID-D13B6975-09B5-4711-AD43-45F68228C1CC" class="sect2"><span class="enumeration_chapter">115</span> DBMS_PARALLEL_EXECUTE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_PARALLEL_EXECUTE</code>包可以并行地增量更新表数据。
               </p>
               <p>本章包含以下主题：<a id="d647230e89" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" title="该软件包允许您以两个高级步骤并行地逐步更新表数据。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" title="DBMS_PARALLEL_EXECUTE是一个SYS拥有的包，它被授予PUBLIC。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" title="DBMS_PARALLEL_EXECUTE包使用这两个表中描述的常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="DBMS_PARALLEL_EXECUTE包使用以下视图。">查看</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" title="下表列出了DBMS_PARALLEL_EXECUTE引发的异常。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" title="以下示例在Oracle数据库示例模式的人力资源（HR）模式上运行。它们要求使用JOB SYSTEM权限创建HR模式。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" title="此表列出了DBMS_PARALLEL_EXECUTE子程序并简要描述了它们。">DBMS_PARALLEL_EXECUTE子程序的摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC__GUID-4CF78966-A983-48C5-9E64-D207A7724B1A">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../adfns/editions.html#ADFNS020" target="_blank"><span class="italic">Oracle数据库开发指南</span></a></p>
                     </li>
                     <li>
                        <p><a href="../refrn/DBA_PARALLEL_EXECUTE_TASKS.html#REFRN-GUID-AEFFCE5D-AB5B-4EE1-9CB3-4491F3D3D0E7" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS67331"></a><a id="ARPLS67331"></a><div class="props_rev_3"><a id="GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" name="GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49"></a><h3 id="ARPLS-GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" class="sect3"><span class="enumeration_section">115.1</span> DBMS_PARALLEL_EXECUTE概述</h3>
               <div>
                  <p>该软件包允许您以两个高级步骤并行地逐步更新表数据。</p>
                  <div class="section">
                     <ol>
                        <li>
                           <p>将表中的行组分组为较小的块。</p>
                        </li>
                        <li>
                           <p>并行地在这些块上运行用户指定的语句，并在完成处理每个块时提交。</p>
                        </li>
                     </ol>
                     <p>该包介绍了<span class="italic">并行执行任务</span>的概念。此任务将与PL / SQL块的并行执行相关联的各个步骤分组，这通常是更新表数据。
                     </p>
                     <p>所有包子例程（ <a href="DBMS_PARALLEL_EXECUTE.html#GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" title="此函数返回任务的唯一名称。">GENERATE_TASK_NAME函数</a>和<a href="DBMS_PARALLEL_EXECUTE.html#GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" title="此过程返回任务状态。">TASK_STATUS过程</a>除外）都执行提交。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67332"></a><a id="ARPLS67332"></a><div class="props_rev_3"><a id="GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" name="GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F"></a><h3 id="ARPLS-GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" class="sect3"><span class="enumeration_section">115.2</span> DBMS_PARALLEL_EXECUTE安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_PARALLEL_EXECUTE</code>是一个<code class="codeph">SYS</code>拥有的包，它被授予<code class="codeph">PUBLIC</code> 。</p>
                  <div class="section">
                     <p>具有<code class="codeph">ADM_PARALLEL_EXECUTE_TASK</code>角色的用户可以执行管理例程（由前缀<code class="codeph">ADM_</code> ）并访问DBA视图。
                     </p>
                     <p>除了管理例程之外，所有子程序都引用当前用户拥有的任务。</p>
                     <p>要并行执行块，您必须具有<code class="codeph">CREATE</code> <code class="codeph">JOB</code>系统特权。
                     </p>
                     <p><code class="codeph">CHUNK_BY_SQL</code> ， <code class="codeph">RUN_TASK</code>和<code class="codeph">RESUME_TASK</code>子程序需要查询，并使用<code class="codeph">DBMS_SQL</code>执行。 <code class="codeph">DBMS_SQL</code>接口的<code class="codeph">DBMS_SQL</code>必须确保没有查询包含SQL注入。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67333"></a><a id="ARPLS67334"></a><a id="ARPLS67335"></a><a id="ARPLS67334"></a><a id="ARPLS67335"></a><a id="ARPLS67333"></a><div class="props_rev_3"><a id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" name="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F"></a><h3 id="ARPLS-GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" class="sect3"><span class="enumeration_section">115.3</span> DBMS_PARALLEL_EXECUTE常量</h3>
               <div>
                  <p><code class="codeph">DBMS_PARALLEL_EXECUTE</code>包使用这两个表中描述的常量。
                  </p>
                  <div class="tblformal" id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDEIDAF">
                     <p class="titleintable">表115-1 DBMS_PARALLEL_EXECUTE常量 - 块状态值</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE常量 - 块状态值" width="100%" border="1" summary="This table describes DBMS_PARALLEL_EXECUTE Constants - Chunk Status Value" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d647230e539">不变</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e542">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d647230e545">值</th>
                              <th align="left" valign="bottom" width="47%" id="d647230e548">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e553" headers="d647230e539 ">
                                 <p><code class="codeph">ASSIGNED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e553 d647230e542 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e553 d647230e545 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e553 d647230e548 ">
                                 <p>块已被分配进行处理</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e568" headers="d647230e539 ">
                                 <p><code class="codeph">处理</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e568 d647230e542 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e568 d647230e545 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e568 d647230e548 ">
                                 <p>块已成功处理</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e583" headers="d647230e539 ">
                                 <p><code class="codeph">PROCESSED_WITH_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e583 d647230e542 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e583 d647230e545 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e583 d647230e548 ">
                                 <p>块已处理，但在处理过程中发生错误</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e598" headers="d647230e539 ">
                                 <p><code class="codeph">UNASSIGNED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e598 d647230e542 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e598 d647230e545 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e598 d647230e548 ">
                                 <p>块未分配</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDIHJHI">
                     <p class="titleintable">表115-2 DBMS_PARALLEL_EXECUTE常量 - 任务状态值</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE常量 - 任务状态值" width="100%" border="1" summary="This table describes BMS_PARALLEL_EXECUTE Constants - Task Status Value" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d647230e624">不变</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e627">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d647230e630">值</th>
                              <th align="left" valign="bottom" width="47%" id="d647230e633">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e638" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e638 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e638 d647230e630 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e638 d647230e633 ">
                                 <p>与任务关联的表已经分块，但没有分配任何块进行处理</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e653" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKING</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e653 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e653 d647230e630 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e653 d647230e633 ">
                                 <p>与任务相关联的表正在分块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e668" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKING_FAILED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e668 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e668 d647230e630 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e668 d647230e633 ">
                                 <p>Chunking失败了</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e683" headers="d647230e624 ">
                                 <p><code class="codeph">CRASHED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e683 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e683 d647230e630 ">
                                 <p>8</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e683 d647230e633 ">
                                 <p>仅在使用并行执行时才适用，如果作业从属程序崩溃或数据库在<code class="codeph">EXECUTE</code>期间崩溃，则会发生这种情况，从而使一个块处于<code class="codeph">ASSIGNED</code>或<code class="codeph">UNASSIGNED</code>状态。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e707" headers="d647230e624 ">
                                 <p><code class="codeph">CREATED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e707 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e707 d647230e630 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e707 d647230e633 ">
                                 <p>该任务已由<code class="codeph"><a href="DBMS_PARALLEL_EXECUTE.html#GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" title="此过程为当前用户创建任务。task_name和current_user的配对必须是唯一的。">CREATE_TASK Procedure</a></code>创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e735" headers="d647230e624 ">
                                 <p><code class="codeph">FINISHED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e735 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e735 d647230e630 ">
                                 <p>6</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e735 d647230e633 ">
                                 <p>所有块都经过处理而没有错误</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e750" headers="d647230e624 ">
                                 <p><code class="codeph">FINISHED_WITH_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e750 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e750 d647230e630 ">
                                 <p>7</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e750 d647230e633 ">
                                 <p>处理了所有块，但在某些情况下有错误</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e765" headers="d647230e624 ">
                                 <p><code class="codeph">处理</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e765 d647230e627 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e765 d647230e630 ">
                                 <p>五</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e765 d647230e633 ">
                                 <p>分配用于处理或已处理的块的一部分</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67336"></a><a id="ARPLS67336"></a><div class="props_rev_3"><a id="GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" name="GUID-18C01BED-25F5-4B87-BA77-170EDFB70423"></a><h3 id="ARPLS-GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" class="sect3"><span class="enumeration_section">115.4</span> DBMS_PARALLEL_EXECUTE视图</h3>
               <div>
                  <p><code class="codeph">DBMS_PARALLEL_EXECUTE</code>包使用以下视图。
                  </p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../refrn/DBA_PARALLEL_EXECUTE_CHUNKS.html#REFRN23742" target="_blank">DBA_PARALLEL_EXECUTE_CHUNKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/DBA_PARALLEL_EXECUTE_TASKS.html#REFRN23743" target="_blank">DBA_PARALLEL_EXECUTE_TASKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/USER_PARALLEL_EXECUTE_CHUNKS.html#REFRN26742" target="_blank">USER_PARALLEL_EXECUTE_CHUNKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/USER_PARALLEL_EXECUTE_TASKS.html#REFRN26743" target="_blank">USER_PARALLEL_EXECUTE_TASKS</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67337"></a><a id="ARPLS67338"></a><a id="ARPLS67338"></a><a id="ARPLS67337"></a><div class="props_rev_3"><a id="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" name="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171"></a><h3 id="ARPLS-GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" class="sect3"><span class="enumeration_section">115.5</span> DBMS_PARALLEL_EXECUTE异常</h3>
               <div>
                  <p>下表列出了<code class="codeph">DBMS_PARALLEL_EXECUTE</code>引发的<code class="codeph">DBMS_PARALLEL_EXECUTE</code> 。</p>
                  <div class="tblformal" id="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171__GUID-3396E1FD-276C-4C33-973D-E0A86C72D4C2">
                     <p class="titleintable">表115-3 DBMS_PARALLEL_EXECUTE引发的异常</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE引发的异常" width="100%" border="1" summary="This table describes the Exceptions raised by the DBMS_PARALLEL_EXECUTE package." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d647230e993">例外</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e996">错误代码</th>
                              <th align="left" valign="bottom" width="55%" id="d647230e999">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1004" headers="d647230e993 ">
                                 <p><code class="codeph">CHUNK_NOT_FOUND</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1004 d647230e996 ">
                                 <p>29499</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1004 d647230e999 ">
                                 <p>指定的块不存在</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1015" headers="d647230e993 ">
                                 <p><code class="codeph">DUPLICATE_TASK_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1015 d647230e996 ">
                                 <p>29497</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1015 d647230e999 ">
                                 <p>现有任务已使用相同的任务名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1026" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_CHUNK</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1026 d647230e996 ">
                                 <p>29492</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1026 d647230e999 ">
                                 <p>尝试对未处于<code class="codeph">CREATED</code>或<code class="codeph">CHUNKING_FAILED</code>状态的表进行块化</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1043" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_REDSUME</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1043 d647230e996 ">
                                 <p>29495</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1043 d647230e999 ">
                                 <p>尝试恢复执行，但任务不在<code class="codeph">FINISHED_WITH_ERROR</code>或<code class="codeph">CRASHED</code>状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1060" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_RUN</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1060 d647230e996 ">
                                 <p>29494</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1060 d647230e999 ">
                                 <p>尝试执行未处于<code class="codeph">CHUNKED</code>状态的任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1074" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATUS</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1074 d647230e996 ">
                                 <p>29493</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1074 d647230e999 ">
                                 <p>尝试将无效值设置为块状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1085" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1085 d647230e996 ">
                                 <p>29491</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1085 d647230e999 ">
                                 <p>尝试在表不是物理表的情况下通过rowid对表进行块化，或者表是IOT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1096" headers="d647230e993 ">
                                 <p><code class="codeph">MISSING_ROLE</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1096 d647230e996 ">
                                 <p>29490</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1096 d647230e999 ">
                                 <p>用户没有必要的<code class="codeph">ADM_PARALLEL_EXECUTE</code>角色</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1110" headers="d647230e993 ">
                                 <p><code class="codeph">TASK_NOT_FOUND</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1110 d647230e996 ">
                                 <p>29498</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1110 d647230e999 ">
                                 <p>指定的<code class="codeph">task_name</code>不存在</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67339"></a><a id="ARPLS67340"></a><a id="ARPLS67341"></a><a id="ARPLS67342"></a><a id="ARPLS67340"></a><a id="ARPLS67341"></a><a id="ARPLS67342"></a><a id="ARPLS67339"></a><div class="props_rev_3"><a id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" name="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201"></a><h3 id="ARPLS-GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" class="sect3"><span class="enumeration_section">115.6</span> DBMS_PARALLEL_EXECUTE示例</h3>
               <div>
                  <p>以下示例在Oracle数据库示例模式的人力资源（HR）模式上运行。它们要求使用<code class="codeph">JOB</code> <code class="codeph">SYSTEM</code>权限创建HR模式。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-D0A46BDA-D93F-4810-88FC-986600635764">ROWID的块</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此示例显示了此程序包的最常见用法。调用<a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK过程后</a> ，它会检查错误并在出错时重新运行。
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE l_sql_stmt VARCHAR2（1000）; l_try NUMBER; l_status NUMBER; BEGIN  - 创建TASK DBMS_PARALLEL_EXECUTE.CREATE_TASK（'mytask'）; - 通过ROWID DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID（'mytask'，'HR'，'EMPLOYEES'，true，100）对表进行块化; - 并行执行DML l_sql_stmt：='update EMPLOYEES e SET e.salary = e.salary + 10 WHERE rowid BETWEEN：start_id AND：end_id'; DBMS_PARALLEL_EXECUTE.RUN_TASK（'mytask'，l_sql_stmt，DBMS_SQL.NATIVE，parallel_level =&gt; 10）; - 如果出现错误，请将其恢复最多2次。L_try：= 0; L_status：= DBMS_PARALLEL_EXECUTE.TASK_STATUS（'mytask'）; WHILE（l_try &lt;2和L_status！= DBMS_PARALLEL_EXECUTE.FINISHED）LOOP L_try：= l_try + 1; DBMS_PARALLEL_EXECUTE.RESUME_TASK（ 'mytask'）; L_status：= DBMS_PARALLEL_EXECUTE.TASK_STATUS（'mytask'）;结束循环; - 完成处理;删除任务DBMS_PARALLEL_EXECUTE.DROP_TASK（'mytask'）;结束; /</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-5FB9CFDE-7FAA-4DFA-8B79-5408770526A5">用户提供的SQL块</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>用户可以使用<a href="DBMS_PARALLEL_EXECUTE.html#GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" title="此过程通过用户提供的SELECT语句对表（与指定任务关联）进行分块。">CREATE_CHUNKS_BY_SQL过程</a>指定块算法。此示例显示具有相同<code class="codeph">manager_id</code>行组合在一起并在一个块中处理。
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE l_chunk_sql VARCHAR2（1000）; l_sql_stmt VARCHAR2（1000）; l_try NUMBER; l_status NUMBER; BEGIN  - 创建TASK DBMS_PARALLEL_EXECUTE.CREATE_TASK（'mytask'）; - 通过MANAGER_ID对表进行块化l_chunk_sql：='SELECT distinct manager_id，manager_id FROM employees'; DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL（'mytask'，l_chunk_sql，false）; - 并行执行DML  -  WHERE子句在manager_id上包含一个条件，它是块 - 列。在这种情况下，对行进行分组是通过manager_id进行的。l_sql_stmt：='update EMPLOYEES e SET e.salary = e.salary + 10 WHERE manager_id介于：start_id和：end_id'; DBMS_PARALLEL_EXECUTE.RUN_TASK（'mytask'，l_sql_stmt，DBMS_SQL.NATIVE，parallel_level =&gt; 10）; - 如果有错误，请将其恢复最多2次。L_try：= 0; L_status：= DBMS_PARALLEL_EXECUTE.TASK_STATUS（'mytask'）; WHILE（l_try &lt;2和L_status！= DBMS_PARALLEL_EXECUTE.FINISHED）循环L_try：= l_try + 1; DBMS_PARALLEL_EXECUTE.RESUME_TASK（ 'mytask'）; L_status：= DBMS_PARALLEL_EXECUTE.TASK_STATUS（'mytask'）;结束循环; - 完成处理;删除任务DBMS_PARALLEL_EXECUTE.DROP_TASK（'mytask'）;结束; /</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-5030FCF4-A182-429A-A82D-BBFF3B8EE3FB">在用户定义的框架中执行块</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以在不使用<a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK过程的</a>情况下在自定义框架中执行块。此示例显示如何使用<a href="DBMS_PARALLEL_EXECUTE.html#GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" title="此过程选择未分配的ROWID块并将其更改为ASSIGNED。">GET_ROWID_CHUNK过程</a> ， <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> ， <a href="DBMS_PARALLEL_EXECUTE.html#GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" title="此过程设置块的状态。">SET_CHUNK_STATUS过程</a>来执行块。
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE l_sql_stmt varchar2（1000）; l_try号; l_status号码; l_chunk_id号码; l_start_rowid rowid; l_end_rowid rowid; l_any_rows布尔值; CURSOR c1 IS SELECT chunk_id FROM user_parallel_execute_chunks WHERE task_name ='mytask'AND STATUS IN（DBMS_PARALLEL_EXECUTE.PROCESSED_WITH_ERROR，DBMS_PARALLEL_EXECUTE.ASSIGNED）; BEGIN  - 通过ROWID DBMS_PARALLEL_EXECUTE.CREATE_TASK（'mytask'）创建对象，任务和块。 DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID（'mytask'，'HR'，'EMPLOYEES'，true，100）; l_sql_stmt：='update EMPLOYEES e SET e.salary = e.salary + 10 WHERE rowid BETWEEN：start_id AND：end_id'; - 在自己的框架中执行DML  - 处理每个块并提交。- 处理完一个块后，重复此过程，直到 - 处理完所有块。-  &lt;&lt; main_processing &gt;&gt; LOOP  -   - 获取要处理的块;如果没有什么可以处理，那么退出 - 循环; -  DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK（'mytask'，l_chunk_id，l_start_rowid，l_end_rowid，l_any_rows）; IF（l_any_rows = false）然后退出;万一; -   - 块由start_id和end_id指定。- 绑定start_id和end_id然后执行它 -   - 如果没有发生错误，将块状态设置为PROCESSED。 -   - 抓住任何例外。如果发生异常，请将错误num / msg存储到块表中，然后继续处理下一个块。- 使用l_start_rowid，l_end_rowid，BEGIN EXECUTE IMMEDIATE l_sql_stmt; DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS（'mytask'，l_chunk_id，DBMS_PARALLEL_EXECUTE.PROCESSED）;除了DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS（'mytask'，l_chunk_id，DBMS_PARALLEL_EXECUTE.PROCESSED_WITH_ERROR，SQLCODE，SQLERRM）之外的其他例外情况;结束; -   - 完成处理一个块;在这里提交 -  COMMIT;结束循环;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67343"></a><a id="ARPLS67344"></a><a id="ARPLS67344"></a><a id="ARPLS67343"></a><div class="props_rev_3"><a id="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" name="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96"></a><h3 id="ARPLS-GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" class="sect3"><span class="enumeration_section">115.7</span> DBMS_PARALLEL_EXECUTE子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_PARALLEL_EXECUTE</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96__GUID-09629141-2489-4E7A-84EF-36CB5BE62AE6">
                     <p class="titleintable">表115-4 DBMS_PARALLEL_EXECUTE包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE包子程序" width="100%" border="1" summary="This table lists the DBMS_PARALLEL_EXECUTE subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d647230e1405">子程序</th>
                              <th align="left" valign="bottom" width="59%" id="d647230e1408">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1413" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" title="此过程将删除指定所有者拥有的指定任务的所有块。">ADM_DROP_CHUNKS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1413 d647230e1408 ">
                                 <p>删除指定所有者拥有的指定任务的所有块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1425" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" title="此过程将删除指定用户和所有相关块的任务。">ADM_DROP_TASK过程</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1425 d647230e1408 ">
                                 <p>删除给定用户和所有相关块的任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1437" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" title="此函数返回任务状态。">ADM_TASK_STATUS功能</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1437 d647230e1408 ">
                                 <p>返回任务状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1449" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" title="此过程将停止指定所有者和相关作业从属的任务。">ADM_STOP_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1449 d647230e1408 ">
                                 <p>停止给定所有者和相关作业从属的任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1461" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" title="此过程为当前用户创建任务。task_name和current_user的配对必须是唯一的。">CREATE_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1461 d647230e1408 ">
                                 <p>为当前用户创建任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1479" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" title="此过程按指定列对表（与指定任务关联）进行分块。指定的列必须是NUMBER列。此过程获取列的MIN和MAX值，然后根据chunk_size均匀地划分范围。">CREATE_CHUNKS_BY_NUMBER_COL程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1479 d647230e1408 ">
                                 <p>通过指定的列整理与给定任务关联的表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1503" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" title="此过程按ROWID对表（与指定任务关联）进行分块。">CREATE_CHUNKS_BY_ROWID过程</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1503 d647230e1408 ">
                                 <p>通过<code class="codeph">ROWID</code>对与给定任务相关联的表进行块化</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1520" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" title="此过程通过用户提供的SELECT语句对表（与指定任务关联）进行分块。">CREATE_CHUNKS_BY_SQL过程</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1520 d647230e1408 ">
                                 <p>通过用户提供的<code class="codeph">SELECT</code>语句来修改与给定任务关联的表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1538" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" title="此过程将删除任务和所有相关块。">DROP_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1538 d647230e1408 ">
                                 <p>删除任务和所有相关的块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1550" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" title="此过程将删除任务的块。">DROP_CHUNKS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1550 d647230e1408 ">
                                 <p>丢弃任务的块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1562" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" title="此函数返回任务的唯一名称。">GENERATE_TASK_NAME功能</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1562 d647230e1408 ">
                                 <p>返回任务的唯一名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1575" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" title="此过程选择一个未分配的NUMBER块并将其更改为ASSIGNED。如果没有更多的块要分配，any_rows设置为FALSE。否则，块的chunk_id，start和end_id作为OUT参数返回。">GET_NUMBER_COL_CHUNK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1575 d647230e1408 ">
                                 <p>选取未分配的<code class="codeph">NUMBER</code>块并将其更改为<code class="codeph">ASSIGNED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1619" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" title="此过程选择未分配的ROWID块并将其更改为ASSIGNED。">GET_ROWID_CHUNK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1619 d647230e1408 ">
                                 <p>选取未分配的<code class="codeph">ROWID</code>块并将其更改为<code class="codeph">ASSIGNED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1642" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" title="此过程将删除状态为PROCESSED或PROCESSED_WITH_ERROR的所有已处理块。">PURGE_PROCESSED_CHUNKS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1642 d647230e1408 ">
                                 <p>删除状态为<code class="codeph">PROCESSED</code>或<code class="codeph">PROCESSED_WITH_ERROR</code>所有已处理块</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1665" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" title="如果RUN_TASK过程完成错误，此过程将重试指定的任务，如果发生崩溃，则重新执行任务。">RESUME_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1665 d647230e1408 ">
                                 <p>如果<a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK过程</a>完成错误，则重试给定任务，或者如果发生崩溃则恢复任务。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1687" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1687 d647230e1408 ">
                                 <p>并行执行块上指定的SQL语句</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1702" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" title="此过程设置块的状态。">SET_CHUNK_STATUS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1702 d647230e1408 ">
                                 <p>设置块的状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1714" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-02F55085-5D20-4417-851A-121154F0CF87" title="此过程将停止任务和相关作业从属。">STOP_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1714 d647230e1408 ">
                                 <p>停止任务和相关的作业从属</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1726" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" title="此过程返回任务状态。">TASK_STATUS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1726 d647230e1408 ">
                                 <p>返回任务状态</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67345"></a><a id="ARPLS67346"></a><a id="ARPLS67346"></a><a id="ARPLS67345"></a><div class="props_rev_3"><a id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" name="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5"></a><h4 id="ARPLS-GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" class="sect4"><span class="enumeration_section">115.7.1</span> ADM_DROP_CHUNKS过程</h4>
                  <div>
                     <p>此过程将删除指定所有者拥有的指定任务的所有块。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-B3A5195B-1C2C-4D64-8410-BC6797B4D4A7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_DROP_CHUNKS（task_owner IN VARCHAR2，task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-0747554A-8B8C-4131-878C-58BAAF107DCA">参数</p>
                        <div class="tblformal" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-08A42005-8E5F-49C8-893B-F99EC306A2CA">
                           <p class="titleintable">表115-5 ADM_DROP_CHUNKS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_DROP_CHUNKS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_DROP_CHUNKS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e1847">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e1850">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1855" headers="d647230e1847 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1855 d647230e1850 ">
                                       <p>任务的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1863" headers="d647230e1847 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1863 d647230e1850 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67347"></a><a id="ARPLS67348"></a><a id="ARPLS67348"></a><a id="ARPLS67347"></a><div class="props_rev_3"><a id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" name="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC"></a><h4 id="ARPLS-GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" class="sect4"><span class="enumeration_section">115.7.2</span> ADM_DROP_TASK过程</h4>
                  <div>
                     <p>此过程将删除指定用户和所有相关块的任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-261E56A2-7E60-4BB2-91D9-3991F6C134D3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_DROP_TASK（task_owner IN VARCHAR2，task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-FC89E2A5-C596-41F0-A569-9D61AE1AD4AB">参数</p>
                        <div class="tblformal" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-5AFC68B7-544F-4630-B7C1-8B29CA4F2F7C">
                           <p class="titleintable">表115-6 ADM_DROP_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_DROP_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.ADM_DROP_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e1981">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e1984">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1989" headers="d647230e1981 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1989 d647230e1984 ">
                                       <p>任务的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1997" headers="d647230e1981 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1997 d647230e1984 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67349"></a><a id="ARPLS67350"></a><a id="ARPLS67350"></a><a id="ARPLS67349"></a><div class="props_rev_3"><a id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" name="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5"></a><h4 id="ARPLS-GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" class="sect4"><span class="enumeration_section">115.7.3</span> ADM_TASK_STATUS函数</h4>
                  <div>
                     <p>此函数返回任务状态。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-5AEF996C-31B5-47EE-8790-7829152B51B3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_TASK_STATUS（task_owner IN VARCHAR2，task_name IN VARCHAR2）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-816C2E24-06C5-4F71-ADB3-F5800F84FFC6">参数</p>
                        <div class="tblformal" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-CC820546-C3D9-4036-B52D-0BCF3074C00D">
                           <p class="titleintable">表115-7 ADM_TASK_STATUS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_TASK_STATUS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_TASK_STATUS  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2114">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2117">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2122" headers="d647230e2114 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2122 d647230e2117 ">
                                       <p>任务的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2130" headers="d647230e2114 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2130 d647230e2117 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67351"></a><a id="ARPLS67352"></a><a id="ARPLS67352"></a><a id="ARPLS67351"></a><div class="props_rev_3"><a id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" name="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31"></a><h4 id="ARPLS-GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" class="sect4"><span class="enumeration_section">115.7.4</span> ADM_STOP_TASK过程</h4>
                  <div>
                     <p>此过程将停止指定所有者和相关作业从属的任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-534BFFE5-236D-4C5D-A2B0-AE1BAF4F4E95">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_STOP_TASK（task_owner IN VARCHAR2，task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-305B726F-F48A-435C-B0A9-EFFFC9DD3580">参数</p>
                        <div class="tblformal" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-1DFC46BE-A5F9-4D80-93DB-D9FA7739B45D">
                           <p class="titleintable">表115-8 ADM_STOP_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_STOP_TASK过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_STOP_TASK  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2247">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2250">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2255" headers="d647230e2247 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2255 d647230e2250 ">
                                       <p>任务的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2263" headers="d647230e2247 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2263 d647230e2250 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67353"></a><a id="ARPLS67354"></a><a id="ARPLS67354"></a><a id="ARPLS67353"></a><div class="props_rev_3"><a id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" name="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B"></a><h4 id="ARPLS-GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" class="sect4"><span class="enumeration_section">115.7.5</span> CREATE_TASK程序</h4>
                  <div>
                     <p>此过程为当前用户创建任务。<code class="codeph">task_name</code>和<code class="codeph">current_user</code>的配对必须是唯一的。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-83E7FB34-B8D5-4CF6-99A9-98D10A5D2D55">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_TASK（task_name IN VARCHAR2，注释IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-19A67CD1-2307-4C9C-8E59-C97A6E659B16">参数</p>
                        <div class="tblformal" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-7163236E-40C0-46C7-95DD-1849FEFD93E8">
                           <p class="titleintable">表115-9 CREATE_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.CREATE_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2387">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2390">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2395" headers="d647230e2387 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2395 d647230e2390 ">
                                       <p>任务名称。task_name可以是任何相关长度必须小于或等于128个字节的字符串。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2403" headers="d647230e2387 ">
                                       <p><code class="codeph">评论</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2403 d647230e2390 ">
                                       <p>评论字段。注释必须少于4000个字节。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67355"></a><a id="ARPLS67356"></a><a id="ARPLS67356"></a><a id="ARPLS67355"></a><div class="props_rev_3"><a id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" name="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8"></a><h4 id="ARPLS-GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" class="sect4"><span class="enumeration_section">115.7.6</span> CREATE_CHUNKS_BY_NUMBER_COL过程</h4>
                  <div>
                     <p>此过程按指定列对表（与指定任务关联）进行分块。指定的列必须是<code class="codeph">NUMBER</code>列。此过程获取列的<code class="codeph">MIN</code>和<code class="codeph">MAX</code>值，然后根据<code class="codeph">chunk_size</code>均匀地划分范围。
                     </p>
                     <div class="section">
                        <p>块是：</p><pre class="oac_no_warn" dir="ltr">START_ID END_ID --------------------------- --------------------- ------ min_id_val min_id_val + 1 * chunk_size-1 min_id_val + 1 * chunk_size min_id_val + 2 * chunk_size-1 ...... min_id_val + i * chunk_size max_id_val</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-8CAD8168-CB76-4326-8D10-542EFD0AEE9F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_NUMBER_COL（task_name IN VARCHAR2，table_owner IN VARCHAR2，table_name IN VARCHAR2，table_column IN VARCHAR2，chunk_size IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-BBCDA690-B750-4F64-9FDC-6B580E611350">参数</p>
                        <div class="tblformal" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-CA09E5B0-3302-4269-A893-5AE050661793">
                           <p class="titleintable">表115-10 CREATE_CHUNKS_BY_NUMBER_COL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_NUMBER_COL过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_NUMBER_COL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2537">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2540">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2545" headers="d647230e2537 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2545 d647230e2540 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2553" headers="d647230e2537 ">
                                       <p><code class="codeph">TABLE_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2553 d647230e2540 ">
                                       <p>表的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2561" headers="d647230e2537 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2561 d647230e2540 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2569" headers="d647230e2537 ">
                                       <p><code class="codeph">table_column</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2569 d647230e2540 ">
                                       <p><code class="codeph">NUMBER</code>列的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2580" headers="d647230e2537 ">
                                       <p><code class="codeph">CHUNK_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2580 d647230e2540 ">
                                       <p>每个块的范围</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67357"></a><a id="ARPLS67358"></a><a id="ARPLS67358"></a><a id="ARPLS67357"></a><div class="props_rev_3"><a id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" name="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C"></a><h4 id="ARPLS-GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" class="sect4"><span class="enumeration_section">115.7.7</span> CREATE_CHUNKS_BY_ROWID过程</h4>
                  <div>
                     <p>此过程按<code class="codeph">ROWID</code>对表（与指定任务关联）进行分块。</p>
                     <div class="section">
                        <p><code class="codeph">num_row</code>和<code class="codeph">num_block</code>是每个块大小的近似指导。要分块的表必须是具有视图和表函数的物理<code class="codeph">ROWID</code>的物理表。不允许使用索引组织表。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-C1F35D3F-326D-4CE8-9C23-DA34F1F48DFF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID（task_name IN VARCHAR2，table_owner IN VARCHAR2，table_name IN VARCHAR2，by_row IN BOOLEAN，chunk_size IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-50BB63EE-51BA-4714-A8E1-241497A0F186">参数</p>
                        <div class="tblformal" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-80C88455-131E-4D1A-A407-F91DB7F0D53A">
                           <p class="titleintable">表115-11 CREATE_CHUNKS_BY_ROWID过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_ROWID过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2711">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2714">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2719" headers="d647230e2711 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2719 d647230e2714 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2727" headers="d647230e2711 ">
                                       <p><code class="codeph">TABLE_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2727 d647230e2714 ">
                                       <p>表的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2735" headers="d647230e2711 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2735 d647230e2714 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2743" headers="d647230e2711 ">
                                       <p><code class="codeph">by_row</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2743 d647230e2714 ">
                                       <p>如果<code class="codeph">chunk_size</code>引用行数，则为<code class="codeph">TRUE</code> ，否则， <code class="codeph">chunk_size</code>指的是块数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2759" headers="d647230e2711 ">
                                       <p><code class="codeph">CHUNK_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2759 d647230e2714 ">
                                       <p>每个提交周期要处理的大约行数/块数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67359"></a><a id="ARPLS67360"></a><a id="ARPLS67360"></a><a id="ARPLS67359"></a><div class="props_rev_3"><a id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" name="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4"></a><h4 id="ARPLS-GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" class="sect4"><span class="enumeration_section">115.7.8</span> CREATE_CHUNKS_BY_SQL过程</h4>
                  <div>
                     <p>此过程通过用户提供的<code class="codeph">SELECT</code>语句对表（与指定任务关联）进行分块。
                     </p>
                     <div class="section">
                        <p>返回每个块的范围的<code class="codeph">SELECT</code>语句必须有两列： <code class="codeph">start_id</code>和<code class="codeph">end_id</code> 。如果任务是按<code class="codeph">ROWID</code>块，那么这两列必须是<code class="codeph">ROWID</code>类型。如果任务是按<code class="codeph">NUMBER</code>列对表格进行分块，则两列必须为<code class="codeph">NUMBER</code>类型。该过程为想要部署用户定义的块算法的用户提供了灵活性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-F7A79180-19FC-4F5F-8107-6279D8609986">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL（task_name IN VARCHAR2，sql_statement IN CLOB，by_rowid IN BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-02DBBC29-6433-4627-B450-C402912605D9">参数</p>
                        <div class="tblformal" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-D3A8C7DF-6504-4C2C-A71A-B5C191628BC3">
                           <p class="titleintable">表115-12 CREATE_CHUNKS_BY_SQL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_SQL过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2905">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2908">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2913" headers="d647230e2905 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2913 d647230e2908 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2921" headers="d647230e2905 ">
                                       <p><code class="codeph">sql_statment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2921 d647230e2908 ">
                                       <p>返回块范围的SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2929" headers="d647230e2905 ">
                                       <p><code class="codeph">by_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2929 d647230e2908 ">
                                       <p>如果表被rowid分块，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67361"></a><a id="ARPLS67362"></a><a id="ARPLS67362"></a><a id="ARPLS67361"></a><div class="props_rev_3"><a id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" name="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0"></a><h4 id="ARPLS-GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" class="sect4"><span class="enumeration_section">115.7.9</span> DROP_TASK程序</h4>
                  <div>
                     <p>此过程将删除任务和所有相关块。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-2043B750-788D-4E54-833A-EF489202722D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.DROP_TASK（task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-78A1F6B2-97EA-4AE9-BBA4-AA3B8CCB41A2">参数</p>
                        <div class="tblformal" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-9E6A6668-1855-446E-84CD-947549A861D4">
                           <p class="titleintable">表115-13 DROP_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.DROP_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3048">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3051">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3056" headers="d647230e3048 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3056 d647230e3051 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67363"></a><a id="ARPLS67364"></a><a id="ARPLS67364"></a><a id="ARPLS67363"></a><div class="props_rev_3"><a id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" name="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77"></a><h4 id="ARPLS-GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" class="sect4"><span class="enumeration_section">115.7.10</span> DROP_CHUNKS过程</h4>
                  <div>
                     <p>此过程将删除任务的块。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-416377DE-E5E3-40E7-A8B3-227AB4D281FD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.DROP_CHUNKS（task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-05C4CDF2-9BF1-4117-B960-9BC82F2D5D3C">参数</p>
                        <div class="tblformal" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-262D84C5-8A45-496E-9AF7-EC345943118C">
                           <p class="titleintable">表115-14 DROP_CHUNKS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_CHUNKS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.DROP_CHUNKS  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3173">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3176">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3181" headers="d647230e3173 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3181 d647230e3176 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67365"></a><a id="ARPLS67366"></a><a id="ARPLS67366"></a><a id="ARPLS67365"></a><div class="props_rev_3"><a id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" name="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B"></a><h4 id="ARPLS-GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" class="sect4"><span class="enumeration_section">115.7.11</span> GENERATE_TASK_NAME功能</h4>
                  <div>
                     <p>此函数返回任务的唯一名称。</p>
                     <div class="section">
                        <p>名称的格式为<span class="italic">前缀</span> N，其中N是序列中的数字。如果未指定前缀，则生成的名称默认为<code class="codeph">TASK$_1</code> ， <code class="codeph">TASK$_2</code> ， <code class="codeph">TASK$_3</code> ，依此类推。如果将' <code class="codeph">SCOTT</code> '指定为前缀，则名称为<code class="codeph">SCOTT1</code> ， <code class="codeph">SCOTT2</code> ，依此类推。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-62FD19C3-1703-480A-AA56-2023C0DA2EBD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GENERATE_TASK_NAME（前缀IN VARCHAR2 DEFAULT'TASK $ _'）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-A9350CBA-39F3-4982-AC7A-894695BCB5D3">参数</p>
                        <div class="tblformal" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-4BA3883D-6EA4-40EA-B2A0-F4B236B3EA06">
                           <p class="titleintable">表115-15 GENERATE_TASK_NAME函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GENERATE_TASK_NAME函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GENERATE_TASK_NAME  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3324">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3327">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3332" headers="d647230e3324 ">
                                       <p><code class="codeph">字首</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3332 d647230e3327 ">
                                       <p>生成任务名称时使用的前缀</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67367"></a><a id="ARPLS67368"></a><a id="ARPLS67368"></a><a id="ARPLS67367"></a><div class="props_rev_3"><a id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" name="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55"></a><h4 id="ARPLS-GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" class="sect4"><span class="enumeration_section">115.7.12</span> GET_NUMBER_COL_CHUNK程序</h4>
                  <div>
                     <p>此过程选择一个未分配的<code class="codeph">NUMBER</code>块并将其更改为<code class="codeph">ASSIGNED</code> 。如果没有更多的块要分配， <code class="codeph">any_rows</code>设置为<code class="codeph">FALSE</code> 。否则，块的<code class="codeph">chunk_id</code> ， <code class="codeph">start</code>和<code class="codeph">end</code> <code class="codeph">_id</code>作为<code class="codeph">OUT</code>参数返回。
                     </p>
                     <div class="section">
                        <p><code class="codeph">DBMS_PARALLEL_EXECUTE_CHUNKS$</code>的块信息更新如下： <code class="codeph">STATUS</code>变为<code class="codeph">ASSIGNED</code> ; <code class="codeph">START_TIMESTAMP</code>记录当前时间; <code class="codeph">END_TIMESTAMP</code>已清除。
                        </p>
                        <div class="infoboxnotealso" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-C5CF2FCA-C29C-43EE-A2D0-88E289FB544B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="DBMS_PARALLEL_EXECUTE包使用以下视图。">查看</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-47C936CB-B37D-45C1-9E9A-CAC073633017">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GET_NUMBER_COL_CHUNK（task_name IN VARCHAR2，chunk_id OUT NUMBER，start_rowid OUT ROWID，end_id OUT ROWID，any_rows OUT BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-87B8FEEE-E8FE-4CEF-9B02-FA12120F9795">参数</p>
                        <div class="tblformal" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-796F28B1-0E6B-4474-9FBF-C785CD7E21C1">
                           <p class="titleintable">表115-16 GET_NUMBER_COL_CHUNK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_NUMBER_COL_CHUNK过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GET_NUMBER_COL_CHUNK  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3505">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3508">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3513" headers="d647230e3505 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3513 d647230e3508 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3521" headers="d647230e3505 ">
                                       <p><code class="codeph">CHUNK_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3521 d647230e3508 ">
                                       <p>块的Chunk_id</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3529" headers="d647230e3505 ">
                                       <p><code class="codeph">start_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3529 d647230e3508 ">
                                       <p>在返回的范围内启动rowid</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3537" headers="d647230e3505 ">
                                       <p><code class="codeph">END_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3537 d647230e3508 ">
                                       <p>在返回的范围内结束rowid</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3545" headers="d647230e3505 ">
                                       <p><code class="codeph">any_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3545 d647230e3508 ">
                                       <p>指示是否可以在该范围内处理任何行</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-CE4F4B25-7B9D-4138-B6D7-43E9E547E839">使用说明</p>
                        <p>如果任务被<code class="codeph">ROWID</code>分块，则使用<code class="codeph">get_rowid_range</code> 。如果任务按<code class="codeph">NUMBER</code>列分块，则使用<code class="codeph">get_number_col_range</code> 。如果进行了错误的函数调用，则返回的<code class="codeph">chunk_id</code>和<code class="codeph">any_rows</code>具有有效值，但<code class="codeph">start_id</code>和<code class="codeph">end_id</code>为<code class="codeph">NULL</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67369"></a><a id="ARPLS67370"></a><a id="ARPLS67370"></a><a id="ARPLS67369"></a><div class="props_rev_3"><a id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" name="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963"></a><h4 id="ARPLS-GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" class="sect4"><span class="enumeration_section">115.7.13</span> GET_ROWID_CHUNK程序</h4>
                  <div>
                     <p>此过程选择未分配的<code class="codeph">ROWID</code>块并将其更改为<code class="codeph">ASSIGNED</code> 。</p>
                     <div class="section">
                        <p>如果没有更多的块要分配， <code class="codeph">any_rows</code>设置为<code class="codeph">FALSE</code> 。否则，块的<code class="codeph">chunk_id</code> ， <code class="codeph">start</code>和<code class="codeph">end</code> _ <code class="codeph">id</code>作为<code class="codeph">OUT</code>参数返回。<code class="codeph">DBMS_PARALLEL_EXECUTE_CHUNKS$</code>的块信息更新如下： <code class="codeph">STATUS</code>变为<code class="codeph">ASSIGNED</code> ; <code class="codeph">START_TIMESTAMP</code>记录当前时间; <code class="codeph">END_TIMESTAMP</code>已清除。
                        </p>
                        <div class="infoboxnotealso" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-6F92634E-4302-4FBF-B0CF-19555525211C">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="DBMS_PARALLEL_EXECUTE包使用以下视图。">查看</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-194684D2-BFBD-49B6-B392-E32D331D95BD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK（task_name IN VARCHAR2，chunk_id OUT NUMBER，start_rowid OUT ROWID，end_id OUT ROWID，any_rows OUT BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-2E8E16C7-E11C-4434-80C7-EC3B4840DF7F">参数</p>
                        <div class="tblformal" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-FBBC5C64-F8B1-4503-8E89-995B45E0D2F1">
                           <p class="titleintable">表115-17 GET_ROWID_CHUNK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ROWID_CHUNK过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3753">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3756">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3761" headers="d647230e3753 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3761 d647230e3756 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3769" headers="d647230e3753 ">
                                       <p><code class="codeph">CHUNK_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3769 d647230e3756 ">
                                       <p>块的Chunk_id</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3777" headers="d647230e3753 ">
                                       <p><code class="codeph">start_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3777 d647230e3756 ">
                                       <p>在返回的范围内启动rowid</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3785" headers="d647230e3753 ">
                                       <p><code class="codeph">END_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3785 d647230e3756 ">
                                       <p>在返回的范围内结束rowid</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3793" headers="d647230e3753 ">
                                       <p><code class="codeph">any_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3793 d647230e3756 ">
                                       <p>表示范围可以包括要处理的行</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-33BF89D5-1258-4C53-8B63-72CCBBB1AA86">使用说明</p>
                        <p>如果任务被<code class="codeph">ROWID</code>分块，则使用<code class="codeph">get_rowid_range</code> 。如果任务按<code class="codeph">NUMBER</code>列分块，则使用<code class="codeph">get_number_col_range</code> 。如果进行了错误的函数调用，则返回的<code class="codeph">chunk_id</code>和<code class="codeph">any_rows</code>仍将具有有效值，但<code class="codeph">start_id</code>和<code class="codeph">end_id</code>为<code class="codeph">NULL</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67371"></a><a id="ARPLS67372"></a><a id="ARPLS67372"></a><a id="ARPLS67371"></a><div class="props_rev_3"><a id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" name="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468"></a><h4 id="ARPLS-GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" class="sect4"><span class="enumeration_section">115.7.14</span> PURGE_PROCESSED_CHUNKS过程</h4>
                  <div>
                     <p>此过程将删除状态为<code class="codeph">PROCESSED</code>或<code class="codeph">PROCESSED_WITH_ERROR</code>所有已处理块。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-349D013D-DAE4-4AB1-9A99-80B0F79A6593">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.PURGE_PROCESSED_CHUNKS（task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-04EC1C6F-E73F-4E63-96FB-53DAAE14D678">参数</p>
                        <div class="tblformal" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-D6ADB08A-AD4C-4B33-A18D-12389246A6D3">
                           <p class="titleintable">表115-18 PURGE_PROCESSED_CHUNKS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_PROCESSED_CHUNKS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.PURGE_PROCESSED_CHUNKS  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d647230e3950">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d647230e3953">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d647230e3958" headers="d647230e3950 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d647230e3958 d647230e3953 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67373"></a><a id="ARPLS67374"></a><a id="ARPLS67374"></a><a id="ARPLS67373"></a><div class="props_rev_3"><a id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" name="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F"></a><h4 id="ARPLS-GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" class="sect4"><span class="enumeration_section">115.7.15</span> RESUME_TASK程序</h4>
                  <div>
                     <p>如果RUN_TASK过程完成错误，此过程将重试指定的任务，如果发生崩溃，则重新执行任务。</p>
                     <div class="section">
                        <p>如果任务处于<code class="codeph">CRASHED</code>或<code class="codeph">FINISHED_WITH_ERROR</code>状态，则只能调用此过程。
                        </p>
                        <p>对于崩溃的串行执行，状态仍处于<code class="codeph">PROCESSING</code>状态。 <code class="codeph">FORCE</code>选项允许您恢复<code class="codeph">PROCESSING</code>状态中的任何任务。但是，您有责任确定发生了崩溃。
                        </p>
                        <p>该过程恢复处理尚未处理的块。此外，处理<code class="codeph">PROCESSED_WITH_ERROR</code>或<code class="codeph">ASSIGNED</code> （由于崩溃）状态的块，因为这些块没有提交。
                        </p>
                        <p>此过程采用与<a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK过程</a>相同的参数。将<code class="codeph">task_name</code>作为唯一输入参数的重载重新使用先前调用<a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK过程</a>或<a href="DBMS_PARALLEL_EXECUTE.html#GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" title="如果RUN_TASK过程完成错误，此过程将重试指定的任务，如果发生崩溃，则重新执行任务。">RESUME_TASK过程中</a>提供的参数。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-1F646B3D-BED2-4672-B6AE-9F58A4F9D0A3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDIHJHI" title="该表描述了BMS_PARALLEL_EXECUTE常量 - 任务状态值">表115-2</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-899D38A8-AE49-46A3-9530-9AF08CAA7125">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.RESUME_TASK（task_name IN VARCHAR2，sql_stmt IN CLOB，language_flag IN NUMBER，edition IN VARCHAR2 DEFAULT NULL，apply_crossedition_trigger IN VARCHAR2 DEFAULT NULL，fire_apply_trigger IN BOOLEAN DEFAULT TRUE，parallel_level IN NUMBER DEFAULT 0，job_class IN VARCHAR2 DEFAULT'DEFAULT_JOB_CLASS'，强制IN BOOLEAN DEFAULT FALSE）; DBMS_PARALLEL_EXECUTE.RESUME_TASK（task_name IN VARCHAR2，强制IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-1878E0F2-E0AA-4C16-9807-322E837278A0">参数</p>
                        <div class="tblformal" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-6C4C572B-EB99-492F-BE75-D33913D72A46">
                           <p class="titleintable">表115-19 RESUME_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_TASK过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.RESUME_TASK  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4141">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4144">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4149" headers="d647230e4141 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4149 d647230e4144 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4157" headers="d647230e4141 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4157 d647230e4144 ">
                                       <p>SQL语句;必须有<code class="codeph">:start_id</code>和<code class="codeph">:end_id</code>占位符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4171" headers="d647230e4141 ">
                                       <p><code class="codeph">language_flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4171 d647230e4144 ">
                                       <p>确定Oracle如何处理SQL语句。可识别以下选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">V6</code> （或0）指定版本6行为</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NATIVE</code> （或1）指定程序所连接的数据库的正常行为</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">V7</code> （或2）指定Oracle数据库版本7的行为</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4195" headers="d647230e4141 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4195 d647230e4144 ">
                                       <p>指定运行语句的版本。默认为当前版本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4203" headers="d647230e4141 ">
                                       <p><code class="codeph">apply_crossedition_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4203 d647230e4144 ">
                                       <p>指定要应用于指定SQL的前向交叉接触触发器的非限定名称。使用要在其中执行语句的edition和<code class="codeph">current_schema</code>设置解析名称。触发器必须由执行语句的用户拥有。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4214" headers="d647230e4141 ">
                                       <p><code class="codeph">fire_apply_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4214 d647230e4144 ">
                                       <p>指示指定的<code class="codeph">apply_crossedition_trigger</code>本身是否要执行，或仅用作选择其他触发器的指南</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4225" headers="d647230e4141 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4225 d647230e4144 ">
                                       <p>并行工作数;如果串行运行则为零; <code class="codeph">NULL</code>使用默认并行度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4236" headers="d647230e4141 ">
                                       <p><code class="codeph">job_class</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4236 d647230e4144 ">
                                       <p>如果并行运行，则作业都属于指定的作业类</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4244" headers="d647230e4141 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4244 d647230e4144 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在状态为<code class="codeph">PROCESSING</code>不要引发错误。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-4E1F1AE1-2458-446B-BBA9-11106F4E5F01">例子</p>
                        <p>假设块表包含以下块范围：</p><pre class="oac_no_warn" dir="ltr">START_ID END_ID --------------------------- --------------------- ------ 1 10 11 20 21 30</pre><p>并且指定的SQL语句是：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=薪水+10 WHERE e.employee_id BETWEEN：start_id AND：end_id</pre><p>此过程并行执行以下语句：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET salary = .salary + 10 WHERE employee_id BETWEEN 1和10;承诺; UPDATE员工SET salary = .salary + 10 WHERE employee_id在11到20之间;承诺; UPDATE员工SET salary = .salary + 10 WHERE employee_id在21到30之间;承诺;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="此过程并行执行块上的指定语句（sql_stmt）。">RUN_TASK程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS67375"></a><a id="ARPLS67376"></a><a id="ARPLS67376"></a><a id="ARPLS67375"></a><div class="props_rev_3"><a id="GUID-409D701B-8E09-406A-903A-3E74048B2815" name="GUID-409D701B-8E09-406A-903A-3E74048B2815"></a><h4 id="ARPLS-GUID-409D701B-8E09-406A-903A-3E74048B2815" class="sect4"><span class="enumeration_section">115.7.16</span> RUN_TASK程序</h4>
                  <div>
                     <p>此过程并行执行块上的指定语句（ <code class="codeph">sql_stmt</code> ）。
                     </p>
                     <div class="section">
                        <p>它在处理每个块后提交。</p>
                        <p>指定的语句必须分别有两个名为<code class="codeph">start_id</code>和<code class="codeph">end_id,</code>占位符，它们代表要处理的块的范围。类型每个占位符必须<code class="codeph">ROWID</code>其中<code class="codeph">ROWID</code>基组块中使用，或<code class="codeph">NUMBER</code>其中<code class="codeph">NUMBER</code>系使用分块。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-3428DDF0-B296-44E9-B7CC-F506E096F0F6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.RUN_TASK（task_name IN VARCHAR2，sql_stmt IN CLOB，language_flag IN NUMBER，edition IN VARCHAR2 DEFAULT NULL，apply_crossedition_trigger IN VARCHAR2 DEFAULT NULL，fire_apply_trigger IN BOOLEAN DEFAULT TRUE，parallel_level IN NUMBER DEFAULT 0，job_class IN VARCHAR2 DEFAULT'DEFAULT_JOB_CLASS'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-F044E103-DF29-4E79-86C5-59C8FBDC903D">参数</p>
                        <div class="tblformal" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-DFAFB84B-BC39-48C4-935F-A910DF35B26C">
                           <p class="titleintable">表115-20 RUN_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RUN_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.RUN_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4420">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4423">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4428" headers="d647230e4420 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4428 d647230e4423 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4436" headers="d647230e4420 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4436 d647230e4423 ">
                                       <p>SQL语句;必须有<code class="codeph">:start_id</code>和<code class="codeph">:end_id</code>占位符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4450" headers="d647230e4420 ">
                                       <p><code class="codeph">language_flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4450 d647230e4423 ">
                                       <p>确定Oracle如何处理SQL语句。可识别以下选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">V6</code> （或0）指定版本6行为</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NATIVE</code> （或1）指定程序所连接的数据库的正常行为</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">V7</code> （或2）指定Oracle数据库版本7的行为</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4474" headers="d647230e4420 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4474 d647230e4423 ">
                                       <p>指定运行语句的版本。默认为当前版本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4482" headers="d647230e4420 ">
                                       <p><code class="codeph">apply_crossedition_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4482 d647230e4423 ">
                                       <p>指定要应用于指定SQL的前向交叉接触触发器的非限定名称。使用要在其中执行语句的edition和<code class="codeph">current_schema</code>设置解析名称。触发器必须由用户拥有执行语句。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4493" headers="d647230e4420 ">
                                       <p><code class="codeph">fire_apply_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4493 d647230e4423 ">
                                       <p>指示是否要执行指定的<code class="codeph">apply_crossedition_trigger</code> ，或仅指定用于选择其他触发器的指南。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4504" headers="d647230e4420 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4504 d647230e4423 ">
                                       <p>并行工作数;如果串行运行则为零; <code class="codeph">NULL</code>使用默认并行度。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4515" headers="d647230e4420 ">
                                       <p><code class="codeph">job_class</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4515 d647230e4423 ">
                                       <p>如果并行运行，则作业属于指定的作业类</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-8E158FF7-B076-42D6-8E7D-E7972FB88AC5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL语句作为当前用户执行。</p>
                           </li>
                           <li>
                              <p>由于此子程序在出错时需要重新执行，因此您需要非常谨慎地向<code class="codeph">RUN_TASK</code>提交非幂等的语句。
                              </p>
                           </li>
                           <li>
                              <p>块可以由<code class="codeph">DBMS_SCHEDULER</code>作业从站并行执行。因此，并行执行需要<code class="codeph">CREATE</code> <code class="codeph">JOB</code>系统特权。作业从属是在当前用户下创建的。默认的作业从属数量是作为Oracle参数<code class="codeph">cpu_count</code>和<code class="codeph">parallel_threads_per_cpu</code>的乘积计算的。在Real Application Clusters安装中，作业从站的数量是群集中每个节点上各个设置的总和。仅当处理完所有块时，此过程才会返回。在并行情况下，此过程仅在所有作业从站完成时返回。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-C837E02B-0EF3-4D81-AD45-106F4EF9BE21">例子</p>
                        <p>假设块表包含以下块范围：</p><pre class="oac_no_warn" dir="ltr">START_ID END_ID --------------------------- --------------------- ------ 1 10 11 20 21 30</pre><p>并且指定的SQL语句是：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=薪水+10 WHERE e.employee_id BETWEEN：start_id AND：end_id</pre><p>此过程并行执行以下语句：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET salary = .salary + 10 WHERE employee_id BETWEEN 1和10;承诺; UPDATE员工SET salary = .salary + 10 WHERE employee_id在11到20之间;承诺; UPDATE员工SET salary = .salary + 10 WHERE employee_id在21到30之间;承诺;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67377"></a><a id="ARPLS67378"></a><a id="ARPLS67378"></a><a id="ARPLS67377"></a><div class="props_rev_3"><a id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" name="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14"></a><h4 id="ARPLS-GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" class="sect4"><span class="enumeration_section">115.7.17</span> SET_CHUNK_STATUS过程</h4>
                  <div>
                     <p>此过程设置块的状态。</p>
                     <div class="section">
                        <p>块的<code class="codeph">START_TIMESTAMP</code>和<code class="codeph">END_TIMESTAMP</code>根据新状态更新：</p><pre class="oac_no_warn" dir="ltr">新状态副作用的价值--------------------------- ---------------- ----------- UNASSIGNED START_TIMESTAMP和END_TIMESTAMP将被清除ASSIGNED START_TIMESTAMP将是当前时间并且END_TIMESTAMP将被清除。PROCESSED或PROCESSED_WITH_ERROR当前时间将记录在END_TIMESTAMP中</pre><div class="infoboxnotealso" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-65B81AE4-0EDD-4BF2-8F9D-DC589D7C95B3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="DBMS_PARALLEL_EXECUTE包使用以下视图。">查看</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-2DE48080-787A-4E78-85DE-698896778881">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS（task_name IN VARCHAR2，chunk_id OUT NUMBER，status IN NUMBER，err_num IN NUMBER DEFAULT NULL，err_msg IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-B421BF70-C65C-432C-8FF5-B9696C6678BB">参数</p>
                        <div class="tblformal" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-F455EF4B-B253-4DC3-84CC-6973B9A4A2D8">
                           <p class="titleintable">表115-21 SET_CHUNK_STATUS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_CHUNK_STATUS过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4701">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4704">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4709" headers="d647230e4701 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4709 d647230e4704 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4717" headers="d647230e4701 ">
                                       <p><code class="codeph">CHUNK_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4717 d647230e4704 ">
                                       <p>块的Chunk_id</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4725" headers="d647230e4701 ">
                                       <p><code class="codeph">状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4725 d647230e4704 ">
                                       <p>块的状态： <code class="codeph">UNASSIGNED</code> ， <code class="codeph">ASSIGNED</code> ， <code class="codeph">PROCESSED</code> <code class="codeph">PROCESSED_WITH_ERROR</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4744" headers="d647230e4701 ">
                                       <p><code class="codeph">err_num</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4744 d647230e4704 ">
                                       <p>处理块时返回的错误代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4752" headers="d647230e4701 ">
                                       <p><code class="codeph">ERR_MSG</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4752 d647230e4704 ">
                                       <p>处理块时返回的错误消息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67379"></a><a id="ARPLS67380"></a><a id="ARPLS67380"></a><a id="ARPLS67379"></a><div class="props_rev_3"><a id="GUID-02F55085-5D20-4417-851A-121154F0CF87" name="GUID-02F55085-5D20-4417-851A-121154F0CF87"></a><h4 id="ARPLS-GUID-02F55085-5D20-4417-851A-121154F0CF87" class="sect4"><span class="enumeration_section">115.7.18</span> STOP_TASK程序</h4>
                  <div>
                     <p>此过程将停止任务和相关作业从属。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-300A8576-35B7-4B1F-A456-A5B5AEEE5123">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.STOP_TASK（task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-5A5D2B5C-7ED3-4F80-B03E-4EF240E49B53">参数</p>
                        <div class="tblformal" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-99FB49FD-88AE-4BB5-AF5A-82467FA67B47">
                           <p class="titleintable">表115-22 STOP_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STOP_TASK过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.STOP_TASK  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4869">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4872">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4877" headers="d647230e4869 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4877 d647230e4872 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67381"></a><a id="ARPLS67382"></a><a id="ARPLS67382"></a><a id="ARPLS67381"></a><div class="props_rev_3"><a id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" name="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576"></a><h4 id="ARPLS-GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" class="sect4"><span class="enumeration_section">115.7.19</span> TASK_STATUS程序</h4>
                  <div>
                     <p>此过程返回任务状态。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-84D1E430-6FC4-4632-9604-0ED2C67EEC3C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.TASK_STATUS（task_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-3F0ED4AB-5E2B-4FD5-AA1F-D8015B0C67DF">参数</p>
                        <div class="tblformal" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-86D66877-62C4-4BD7-84A0-9E83BD738242">
                           <p class="titleintable">表115-23 TASK_STATUS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TASK_STATUS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.TASK_STATUS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4990">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4993">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4998" headers="d647230e4990 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4998 d647230e4993 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04862.Oracle-dynamic-SQL-method-4.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle动态SQL：方法4</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="cobol-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T02:40:40-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96466-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ANSI-dynamic-SQL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="multithreaded-applications.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*COBOL Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ANSI-dynamic-SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="multithreaded-applications.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name">应用</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle动态SQL：方法4</li>
            </ol>
            <a id="GUID-C6256169-5928-466C-B7C7-960D20705EED" name="GUID-C6256169-5928-466C-B7C7-960D20705EED"></a><a id="LNPCB011"></a>
            
            <h2 id="LNPCB-GUID-C6256169-5928-466C-B7C7-960D20705EED" class="sect2"><span class="enumeration_chapter">11</span> Oracle动态SQL：方法4</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何实现Oracle动态SQL方法4，它允许程序接受或构建包含不同数量的主机变量的动态SQL语句。</p>
               <p>应使用“ANSI Dynamic SQL”中描述的较新的ANSI SQL方法4开发新的应用程序。ANSI方法4支持所有Oracle类型，而老的Oracle方法4 <span class="italic">不</span>支持游标变量，项目组的表，DML返回条款和LOB的。
               </p>
               <p>讨论的主题包括以下内容：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-ADB6E6AD-E098-418D-A702-1848E04EF385">满足方法4的特殊要求</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3">理解SQL描述符区域（SQLDA）</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194">SQLDA变量</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1">先决条件知识</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-2235722D-A4D2-453D-99EE-339F48C96F28">基本步骤</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE">仔细看看每一步</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36">使用方法4的主机表</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49">示例程序10：动态SQL方法4</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-C6256169-5928-466C-B7C7-960D20705EED__GUID-B84FD4BD-FCCF-438F-9B62-8FCA6960C24A">
                  <p class="notep1">注意：</p>
                  <p>有关动态SQL方法1,2和3的讨论以及Oracle方法4的概述，请参阅“Oracle Dynamic SQL”。</p>
               </div>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="ANSI-dynamic-SQL.html#GUID-D6E9ACBE-EFF4-42F6-A855-B510004F4164">ANSI动态SQL</a></li>
                     <li><a href="Oracle-dynamic-SQL.html#GUID-C325218F-3DFF-4551-A5EB-483ADB24E324">Oracle动态SQL</a></li>
                  </ul>
               </div>
            </div>
            <a id="LNPCB707"></a><div class="props_rev_3"><a id="GUID-ADB6E6AD-E098-418D-A702-1848E04EF385" name="GUID-ADB6E6AD-E098-418D-A702-1848E04EF385"></a><h3 id="LNPCB-GUID-ADB6E6AD-E098-418D-A702-1848E04EF385" class="sect3"><span class="enumeration_section">11.1</span>满足方法4的特殊要求</h3>
               <div>
                  <p>在研究方法4的要求之前，您应该熟悉术语<span class="italic">select-list项</span>和<span class="italic">占位符</span> 。选择列表项是查询中关键字SELECT后面的列或表达式。例如，以下动态查询包含三个选择列表项：</p><pre class="oac_no_warn" dir="ltr">从EMP中选择ENAME，JOB，SAL + COMM，DEPTNO = 20</pre><p>占位符是伪绑定（输入）变量，它们在SQL语句中保存实际绑定变量的位置。您没有声明占位符，可以将它们命名为您喜欢的任何名称。绑定变量的占位符最常用于SET，VALUES和WHERE子句中。例如，以下动态SQL语句每个都包含两个占位符。</p><pre class="oac_no_warn" dir="ltr">插入EMP（EMPNO，DEPTNO）值（：E，：D）从部门删除DEPTNO =：DNUM和LOC =：DLOC</pre><p>占位符不能引用表或列名称。</p>
               </div><a id="LNPCB708"></a><div class="props_rev_3"><a id="GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473" name="GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473"></a><h4 id="LNPCB-GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473" class="sect4"><span class="enumeration_section">11.1.1</span>方法4的优点</h4>
                  <div>
                     <p>与方法1,2和3不同，动态SQL方法4允许您的程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>接受或构建包含未知数量的选择列表项或占位符的动态SQL语句</p>
                        </li>
                        <li>
                           <p>明确控制Oracle和COBOL类型之间的数据类型转换</p>
                        </li>
                     </ul>
                     <p>要为程序添加此灵活性，必须为运行时库提供其他信息。<a id="d72777e160" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB709"></a><div class="props_rev_3"><a id="GUID-9003045A-98CE-4150-AFEE-62BA00643E30" name="GUID-9003045A-98CE-4150-AFEE-62BA00643E30"></a><h4 id="LNPCB-GUID-9003045A-98CE-4150-AFEE-62BA00643E30" class="sect4"><span class="enumeration_section">11.1.2</span>数据库需要的信息</h4>
                  <div>
                     <p>Pro * COBOL为所有可执行的动态SQL语句生成对Oracle的调用。如果动态SQL语句不包含选择列表项或占位符，则数据库不需要其他信息来执行该语句。以下DELETE语句属于此类别：</p><pre class="oac_no_warn" dir="ltr">*动态SQL语句......移动'从EMP转移到DEPTNO = 30'到STMT。</pre><p>但是，大多数动态SQL语句包含绑定变量的选择列表项或占位符，如以下UPDATE语句所示：</p><pre class="oac_no_warn" dir="ltr">*带占位符的动态SQL语句......移动'更新EMP设置COMM =：C，其中EMPNO =：E'到STMT。</pre><p>要执行包含选择列表项或绑定变量的占位符或两者的动态SQL语句，数据库需要有关将保存输出或输入值的程序变量的信息。具体而言，数据库需要以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>选择列表项的数量和绑定变量的数量</p>
                        </li>
                        <li>
                           <p>每个选择列表项和绑定变量的长度</p>
                        </li>
                        <li>
                           <p>每个选择列表项和绑定变量的数据类型</p>
                        </li>
                        <li>
                           <p>每个输出变量的内存地址，用于存储选择列表项的值，以及每个绑定变量的地址</p>
                        </li>
                     </ul>
                     <p>例如，要写入select-list项的值，数据库需要相应输出变量的地址。</p>
                  </div>
               </div><a id="LNPCB710"></a><div class="props_rev_3"><a id="GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98" name="GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98"></a><h4 id="LNPCB-GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98" class="sect4"><span class="enumeration_section">11.1.3</span>存储信息的位置</h4>
                  <div>
                     <p>数据库需要的有关绑定变量的选择列表项或占位符的所有信息（除了它们的值）都存储在称为SQL描述符区域（SQLDA）的程序数据结构中。</p>
                     <p>选择列表项的描述存储在<span class="italic">选择的SQLDA中</span> ，绑定变量的占位符描述存储在<span class="italic">绑定的SQLDA中</span> 。<a id="d72777e244" class="indexterm-anchor"></a><a id="d72777e248" class="indexterm-anchor"></a></p>
                     <p>select-list项的值存储在输出缓冲区中;绑定变量的值存储在输入缓冲区中。您可以使用库例程SQLADR将这些数据缓冲区的地址存储在select或bind SQLDA中，以便数据库知道在何处写入输出值和读取输入值。<a id="d72777e252" class="indexterm-anchor"></a><a id="d72777e256" class="indexterm-anchor"></a></p>
                     <p>值如何存储在这些数据变量中？FETCH使用游标生成输出值，输入值由程序填充，通常来自用户交互输入的信息。</p>
                  </div>
               </div><a id="LNPCB711"></a><div class="props_rev_3"><a id="GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C" name="GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C"></a><h4 id="LNPCB-GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C" class="sect4"><span class="enumeration_section">11.1.4</span>如何获取信息</h4>
                  <div>
                     <p>您使用DESCRIBE语句来帮助获取数据库所需的信息。DESCRIBE SELECT LIST语句检查每个选择列表项以确定其名称，数据类型，约束，长度，比例和精度，然后将此信息存储在选择的SQLDA中供您使用。例如，您可以使用选择列表名称作为打印输出中的列标题。DESCRIBE还存储SQLDA中的选择列表项的总数。</p>
                     <p>DESCRIBE BIND VARIABLES语句检查每个占位符以确定其名称和长度，然后将此信息存储在输入缓冲区中并绑定SQLDA供您使用。例如，您可以使用占位符名称来提示用户输入绑定变量的值。</p>
                  </div>
               </div>
            </div><a id="LNPCB712"></a><div class="props_rev_3"><a id="GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3" name="GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3"></a><h3 id="LNPCB-GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3" class="sect3"><span class="enumeration_section">11.2</span>了解SQL描述符区域（SQLDA）</h3>
               <div>
                  <p>本节详细介绍了SQLDA数据结构。您将学习如何声明它，它包含哪些变量，如何初始化它们以及如何在程序中使用它们。<a id="d72777e313" class="indexterm-anchor"></a><a id="d72777e315" class="indexterm-anchor"></a></p>
               </div><a id="LNPCB713"></a><div class="props_rev_3"><a id="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48" name="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48"></a><h4 id="LNPCB-GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48" class="sect4"><span class="enumeration_section">11.2.1</span> SQLDA的用途</h4>
                  <div>
                     <p>对于包含未知数量的选择列表项或绑定变量的占位符的动态SQL语句，需要方法4。要处理这种动态SQL语句，程序必须显式声明SQLDAs，也称为<span class="italic">描述符</span> 。每个描述符对应于程序中的一个组项。<a id="d72777e346" class="indexterm-anchor"></a></p>
                     <p><span class="italic">选择描述符</span>存储选择列表项的描述和包含选择列表项的名称和值的输出缓冲区的地址。<a id="d72777e355" class="indexterm-anchor"></a><a id="d72777e359" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48__GUID-C75358CC-0F6F-40AF-97F2-5FF61603A042">
                        <p class="notep1">注意：</p>
                        <p>选择列表项的名称可以是列名，列别名，也可以是SAL + COMM等表达式的文本。<a id="d72777e364" class="indexterm-anchor"></a><a id="d72777e368" class="indexterm-anchor"></a></p>
                     </div>
                     <p><span class="italic">绑定描述符</span>存储绑定变量和指示符变量的描述以及存储绑定变量和指示符变量的名称和值的输入缓冲区的地址。<a id="d72777e377" class="indexterm-anchor"></a><a id="d72777e381" class="indexterm-anchor"></a><a id="d72777e385" class="indexterm-anchor"></a><a id="d72777e389" class="indexterm-anchor"></a></p>
                     <p>请记住，一些描述符变量包含地址，而不是值。因此，您必须声明数据缓冲区以保存值。您可以决定所需输入和输出缓冲区的大小。因为COBOL不支持指针，所以必须使用库子例程SQLADR来获取输入和输出缓冲区的地址。您将学习如何在“使用SQLADR”部分中调用SQLADR。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59">使用SQLADR</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB714"></a><div class="props_rev_3"><a id="GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348" name="GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348"></a><h4 id="LNPCB-GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348" class="sect4"><span class="enumeration_section">11.2.2</span>多个SQLDA</h4>
                  <div>
                     <p>如果您的程序有多个活动的动态SQL语句，则每个语句必须具有自己的SQLDA。您可以声明任意数量的具有不同名称的SQLDA。例如，您可以声明三个名为SELDSC1，SELDSC2和SELDSC3的选择SQLDDA，以便您可以从三个同时打开的游标进行FETCH。但是，非并发游标可以重用SQLDA。</p>
                  </div>
               </div><a id="LNPCB716"></a><a id="LNPCB717"></a><a id="LNPCB715"></a><div class="props_rev_3"><a id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8" name="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8"></a><h4 id="LNPCB-GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8" class="sect4"><span class="enumeration_section">11.2.3</span>声明SQLDA</h4>
                  <div>
                     <div class="section">
                        <p>要声明select和bind SQLDAs，可以使用示例select和绑定SQLDA将它们编码到程序中， <a href="Oracle-dynamic-SQL-method-4.html#GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__CDDHABCF">如图11-1</a>所示。您可以修改表格尺寸以满足您的需求。
                        </p>
                        <div class="infoboxnote" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__GUID-87B619D7-0782-4480-851C-AFDD5453CC3E">
                           <p class="notep1">注意：</p>
                           <p>对于字节交换平台，在声明SQLDA时使用COMP5而不是COMP。</p>
                        </div>
                        <div class="figure" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__CDDHABCF">
                           <p class="titleinfigure">图11-1 Pro * COBOL SQLDA描述符和数据缓冲区示例（32位）</p><img src="img/pco81005.gif" alt="下面是图11-1的描述" title="下面是图11-1的描述" longdesc="img_text/pco81005.html"><br><a href="img_text/pco81005.html">“图11-1示例Pro * COBOL SQLDA描述符和数据缓冲区（32位）”的说明</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__GUID-DD9F9882-D858-4A99-AC2D-3DBD27003C0F">
                           <p class="notep1">注意：</p>
                           <p>对于64位平台，在声明SQLDA时使用PIC S9（18）声明而不是PIC S9（9）。</p>
                        </div>
                        <p>您可以将SQLDAs存储在文件中（例如，名为SELDSC和BNDDSC），然后使用INCLUDE语句将文件复制到程序中，如下所示：<a id="d72777e469" class="indexterm-anchor"></a><a id="d72777e473" class="indexterm-anchor"></a><a id="d72777e477" class="indexterm-anchor"></a><a id="d72777e481" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC SQL包含SELDSC END-EXEC。 EXEC SQL包含BNDDSC END-EXEC。</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__I25351">图11-2</a>显示了变量是由SQLADR调用，DESCRIBE命令，FETCH命令还是程序分配设置的。
                        </p>
                        <div class="figure" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__I25351">
                           <p class="titleinfigure">图11-2如何设置变量</p><img src="img/pco81006.gif" alt="下面是图11-2的描述" title="下面是图11-2的描述" longdesc="img_text/pco81006.html"><br><a href="img_text/pco81006.html">“图11-2如何设置变量”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB719"></a><a id="LNPCB720"></a><a id="LNPCB721"></a><a id="LNPCB722"></a><a id="LNPCB723"></a><a id="LNPCB724"></a><a id="LNPCB725"></a><a id="LNPCB726"></a><a id="LNPCB727"></a><a id="LNPCB728"></a><a id="LNPCB729"></a><a id="LNPCB730"></a><a id="LNPCB731"></a><a id="LNPCB732"></a><a id="LNPCB733"></a><a id="LNPCB734"></a><a id="LNPCB735"></a><a id="LNPCB736"></a><a id="LNPCB737"></a><a id="LNPCB738"></a><a id="LNPCB739"></a><a id="LNPCB740"></a><a id="LNPCB741"></a><a id="LNPCB742"></a><a id="LNPCB718"></a><div class="props_rev_3"><a id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194" name="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194"></a><h3 id="LNPCB-GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194" class="sect3"><span class="enumeration_section">11.3</span> SQLDA变量</h3>
               <div>
                  <div class="section">
                     <p>本节介绍SQLDA中每个变量的用途和用法。<a id="d72777e546" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E5A055F1-61B1-4370-8D36-98F9A7806700">SQLDNUM</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此变量指定可包含在DESCRIBE中的选择列表项或占位符的最大数量。因此，SQLDNUM确定描述符表中的元素数。<a id="d72777e556" class="indexterm-anchor"></a><a id="d72777e560" class="indexterm-anchor"></a></p>
                     <p>在发出DESCRIBE命令之前，必须将此变量设置为描述符表的维度。在DESCRIBE之后，必须将其重置为DESCRIBE中的实际变量数，该变量存储在SQLDFND中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-F9A6E7E8-C104-472E-81AD-9E3EEAD53FB7">SQLDFND</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>SQLDFND变量是DESCRIBE命令找到的选择列表项或占位符的实际数量。<a id="d72777e570" class="indexterm-anchor"></a><a id="d72777e574" class="indexterm-anchor"></a></p>
                     <p>SQLDFND由DESCRIBE设置。如果SQLDFND为负数，则DESCRIBE命令会找到过多的选择列表项或占位符，以表示描述符的大小。例如，如果将SQLDNUM设置为10但DESCRIBE找到11个选择列表项或占位符，则SQLDFND设置为-11。如果发生这种情况，则无法在不重新分配描述符的情况下处理SQL语句。</p>
                     <p>在DESCRIBE之后，必须将SQLDNUM设置为等于SQLDFND。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-F5B86827-B3E0-427A-9337-6AD6C10D78A8">SELDV | BNDDV</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDV | BNDDV</span>表包含存储select-list或bind-variable值的数据缓冲区的地址。<a id="d72777e589" class="indexterm-anchor"></a><a id="d72777e593" class="indexterm-anchor"></a><a id="d72777e595" class="indexterm-anchor"></a><a id="d72777e599" class="indexterm-anchor"></a></p>
                     <p>您必须使用SQLADR设置SELDV或BNDDV的元素。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-1A7FDFC9-C2C6-47C3-A380-AE9D5D1992AB">选择描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下声明</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH ...使用描述符...
</pre><p>指示数据库在由SELDV（1）到SELDV（SQLDNUM）寻址的数据缓冲区中存储FETCHed选择列表值。因此，数据库将第J个选择列表值存储在SEL-DV（J）中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-4D1CF284-8B53-4E9D-8F35-455F4F15DD35">绑定描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>必须在发出OPEN命令之前设置绑定描述符。以下声明</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN ...使用描述符...
</pre><p>指示Oracle使用BNDDV（1）到BNDDV（SQLDNUM）寻址的绑定变量值来执行动态SQL语句。（通常，值由用户输入。）数据库在BND-DV（J）中找到第J个绑定变量值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-8F128B01-2FAB-427A-8110-E70D78E98285">SELDFMT | BNDDFMT</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDFMT | BNDDFMT</span>表包含存储select-list或bind-variable转换格式字符串的数据缓冲区的地址。您目前只能将它用于COBOL压缩小数。转换字符串的格式为PP。+ SS或PP.-SS，其中PP是精度，SS是比例。有关精度和比例的定义，请参阅<a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">Coercing数据类型中的</a> <span class="q">“提取精度和比例”</span> 。<a id="d72777e639" class="indexterm-anchor"></a><a id="d72777e643" class="indexterm-anchor"></a><a id="d72777e647" class="indexterm-anchor"></a><a id="d72777e649" class="indexterm-anchor"></a></p>
                     <p>格式字符串的使用是可选的。如果需要第J个选择列表项或绑定变量的转换格式，请使用SQLADR设置SELDFMT（J）或BNDDFMT（J），然后在SEL-DFMT中存储压缩十进制格式（例如<code class="codeph">07.+02</code> ）或BND-DFMT。否则，将SELDFMT（J）或BNDDFMT（J）设置为零。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-5C829D07-2D8D-4E7F-8D7F-A73BCF2A387C">SELDVLN | BNDDVLN</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDVLN | BNDDVLN</span>表包含存储在数据缓冲区中的select-list变量或绑定变量值的长度。<a id="d72777e665" class="indexterm-anchor"></a><a id="d72777e669" class="indexterm-anchor"></a><a id="d72777e671" class="indexterm-anchor"></a><a id="d72777e675" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-EB47A703-8600-4350-B335-FB0EE53A112C">选择描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE SELECT LIST将长度表设置为每个选择列表项的预期最大值。但是，您可能希望在发出FETCH命令之前重置某些长度。FETCH最多返回<span class="italic">n个</span>字符，其中<span class="italic">n</span>是FETCH命令之前SELDVLN（J）的值。
                     </p>
                     <p>数据类型的长度格式不同。对于CHAR选择列表项，DESCRIBE SELECT LIST将SELDVLN（J）设置为选择列表项的最大长度（以字节为单位）。对于NUMBER个选择列表项，分别在变量的低字节和下一个字节中返回缩放和精度。您可以使用库例程SQLPRC从SELDVLN中提取精度和比例值。请参阅“提取精度和比例”部分。</p>
                     <p>必须在FETCH之前将SELDVLN（J）重置为数据缓冲区所需的长度。例如，在将NUMBER强制转换为COBOL字符串时，请将SELDVLN（J）设置为数字的精度加上符号和小数点的2。将NUMBER强制转换为COBOL浮点数时，请将SELDVLN（J）设置为系统上相应浮点类型的长度。</p>
                     <p>有关强制数据类型长度的更多信息，请参阅“转换数据”部分。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-68A7E624-409A-4F98-8548-2087911FDCC0">绑定描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>必须在发出OPEN命令之前设置绑定描述符长度。例如，您可以使用以下语句来设置用户输入的绑定变量字符串的长度：</p><pre class="oac_no_warn" dir="ltr">程序部门。 ...执行GET-INPUT-VAR从1乘1变化J直到JND&gt;在BNDDSC中的SQLDNUM。 ...GET-INPUT-VAR。显示“输入值”，BND-DH-VNAME（J）。接受输入字符串。在BNDDVLN（J）中以“”进入BND-DV（J）计数而取消输入输入字符串。
</pre><p>由于Oracle使用SELDV（J）或BNDDV（J）中的地址间接访问数据缓冲区，因此它不知道该缓冲区中值的长度。如果要更改Oracle用于第J个select-list或bind-variable值的长度，请将SELDVLN（J）或BNDDVLN（J）重置为所需的长度。每个输入或输出缓冲区可以具有不同的长度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-6B91249B-4CDB-4CAF-AEAA-AAF2DE3CAEB0">SELDFMTL | BNDDFMTL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>这是一个包含select-list或bind-variable转换格式字符串长度的表。目前，您只能将它用于COBOL压缩十进制数。</p>
                     <p>格式字符串的使用是可选的。如果需要第J个选择列表项或绑定变量的转换格式，请在OPEN之前将SELDFMTL（J）或BNDDFMTL（J）设置为OPEN之前的SEL-DFMT或BND中存储的压缩十进制格式的长度 - DFMT。否则，将SELDFMTL（J）或BNDDFMTL（J）设置为零。</p>
                     <p>如果SELDFMTL（J）或BNDDFMTL（J）的值为零，则不使用SELDFMT（J）或BNDDFMT（J）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-CF3D4A7C-EBF4-4E11-90A9-193EE3E80CF3">SELDVTYP | BNDDVTYP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDVTYP | BNDDVTYP</span>表包含select-list或bind-variable值的数据类型代码。这些代码确定在存储在SELDV元素寻址的数据缓冲区中时如何转换Oracle数据。 “转换数据”中进一步描述了数据类型描述符表。<a id="d72777e725" class="indexterm-anchor"></a><a id="d72777e729" class="indexterm-anchor"></a><a id="d72777e731" class="indexterm-anchor"></a><a id="d72777e735" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-97AE56AC-97F6-468E-8F2F-BF52AB481580">选择描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE SELECT LIST将数据类型代码表设置为选择列表中项目的<span class="italic">内部</span>数据类型（例如，VARCHAR2，CHAR，NUMBER或DATE）。
                     </p>
                     <p>在执行FETCH之前，您可能希望重置某些数据类型，因为数据类型的内部格式可能难以处理。出于显示目的，将选择列表值的数据类型强制转换为VARCHAR2通常是个好主意。对于计算，您可能希望将数字从Oracle强制转换为COBOL格式。请参阅“强制数据类型”。</p>
                     <p>SELDVTYP（J）的高位被设置为指示第J个选择列表列的NULL /非NULL状态。在发出OPEN或FETCH命令之前，必须始终清除该位。使用库例程SQLNUL检索数据类型代码并清除NULL / not NULL位。有关更多信息，请参阅：“处理NULL /非NULL数据类型”。</p>
                     <p>最好将NUMBER内部数据类型更改为与SELDV（J）寻址的COBOL数据缓冲区兼容的外部数据类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-CA99F67A-F13B-4029-BD0D-1F94024D9334">绑定描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE BIND VARIABLES将数据类型代码表设置为零。在发出OPEN命令之前，必须重置数据类型表。代码表示由BNDDV（J）寻址的缓冲区的外部（COBOL）数据类型。通常，绑定变量值存储在字符串中，因此数据类型表元素设置为1（VARCHAR2数据类型代码）。</p>
                     <p>要更改第J个选择列表或绑定变量值的数据类型，请将SELDVTYP（J）或BNDDVTYP（J）重置为所需的数据类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-2AF7ED5B-8B4B-4F13-B693-C576DB00DBF8">SELDI | BNDDI</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDI | BNDDI</span>表包含存储指示符变量值的数据缓冲区的地址。您必须使用SQLADR设置SELDI或BNDDI的元素。<a id="d72777e769" class="indexterm-anchor"></a><a id="d72777e773" class="indexterm-anchor"></a><a id="d72777e775" class="indexterm-anchor"></a><a id="d72777e779" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-1B71D455-E519-443A-9345-940EBE2A9F92">选择描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>必须在发出FETCH命令之前设置此表。当Oracle执行语句时</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH ...使用描述符...
</pre><p>如果Jth返回的select-list值为NULL，则SELDI（J）寻址的缓冲区设置为-1。否则，将其设置为零（值不为NULL）或正整数（该值被截断）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-819CB264-388F-4030-BD6A-D79E3C024CF7">绑定描述符</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>必须初始化此表并在发出OPEN命令之前设置关联的指示符变量。当Oracle执行语句时</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN ...使用描述符...
</pre><p>BNDDI（J）寻址的缓冲区确定第J个绑定变量是否为NULL。如果指示符变量的值为-1，则其关联的绑定变量为NULL。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E6FDA8CC-280C-4ED1-BB0E-E57DEFE10D24">SELDH-VNAME | BNDDH-VNAME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDH-VNAME | BNDDH-VNAME</span>表包含存储在动态SQL语句中出现的选择列表或占位符名称的数据缓冲区的地址。在发出DESCRIBE命令之前，必须使用SQLADR设置SELDH-VNAME或BNDDH-VNAME的元素。<a id="d72777e811" class="indexterm-anchor"></a><a id="d72777e815" class="indexterm-anchor"></a><a id="d72777e817" class="indexterm-anchor"></a><a id="d72777e821" class="indexterm-anchor"></a></p>
                     <p>DESCRIBE指示Oracle将第J个选择列表项或占位符的名称存储在SELDH-VNAME（J）或BNDDH-VNAME（J）所寻址的数据缓冲区中。因此，Oracle将第J个选择列表或占位符名称存储在SEL-DH-VNAME（J）或BND-DH-VNAME（J）中。</p>
                     <div class="infoboxnote" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-13317B60-499D-4F45-A274-55A3189CF156">
                        <p class="notep1">注意：</p>
                        <p><span class="bold">SELDH-VNAME | BNDDH-VNAME</span>表仅包含列的名称， <span class="italic">而不</span>包含table-qualifier.column名称，即使您在SQL语句中提供它也是如此。例如，如果您要在SQL语句中对select-list进行描述， <code class="codeph">select a.owner from all_tables</code>软件将<code class="codeph">not a.owner</code>返回<code class="codeph">not a.owner</code> ，而是返回<code class="codeph">owner</code> 。如有必要，应使用列别名正确标识选择列表中的列。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-C0B20A3A-AD0F-47FC-B4A4-DAA12B133E45">SELDH-MAX-VNAMEL | BNDDH-MAX-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDH-MAX-VNAMEL | BNDDH-MAX-VNAMEL</span>表包含存储选择列表或占位符名称的数据缓冲区的最大长度。缓冲区由SELDH-VNAME或BNDDH-VNAME的元素寻址。<a id="d72777e852" class="indexterm-anchor"></a><a id="d72777e856" class="indexterm-anchor"></a><a id="d72777e858" class="indexterm-anchor"></a><a id="d72777e862" class="indexterm-anchor"></a></p>
                     <p>在发出DESCRIBE命令之前，必须设置SELDH-MAX-VNAMEL或BNDDH-MAX-VNAMEL的元素。每个选择列表或占位符名称缓冲区可以具有不同的长度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-9740DEA9-EDFB-4967-908A-32EEC4B992A3">SELDH-CUR-VNAMEL | BNDDH-CUR-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDH-CUR-VNAMEL | BNDDH-CUR-VNAMEL</span>表包含选择列表或占位符名称的实际长度。DESCRIBE将实际长度表设置为每个选择列表或占位符名称中的字符数。<a id="d72777e875" class="indexterm-anchor"></a><a id="d72777e879" class="indexterm-anchor"></a><a id="d72777e881" class="indexterm-anchor"></a><a id="d72777e885" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-7BE6E3C7-159A-41F4-94AC-E401B43569A6">SELDI-VNAME | BNDDI-VNAME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDI-VNAME | BNDDI-VNAME</span>表包含存储指示符变量名称的数据缓冲区的地址。
                     </p>
                     <p>您可以将指标变量值与选择列表项和绑定变量相关联。但是，您只能将指示符变量名称与绑定变量相关联。您只能将此表与绑定描述符一起使用。 <a id="d72777e898" class="indexterm-anchor"></a><a id="d72777e902" class="indexterm-anchor"></a><a id="d72777e904" class="indexterm-anchor"></a><a id="d72777e908" class="indexterm-anchor"></a> 在发出DESCRIBE命令之前，必须使用SQLADR设置BNDDI-VNAME的元素。
                     </p>
                     <p>DESCRIBE BIND VARIABLES指示Oracle将任何指示符变量名称存储在BNDDI-VNAME（1）通过BNDDI-VNAME（SQLDNUM）寻址的数据缓冲区中。因此，Oracle将第J个指示符变量名称存储在BND-DI-VNAME（J）中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E1575A9A-4C6F-464D-9049-7683EE9F5D25">SELDI-MAX-VNAMEL | BNDDI-MAX-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDI-MAX-VNAMEL | BNDDI-MAX-VNAMEL</span>表包含存储指示符变量名称的数据缓冲区的最大长度。缓冲区由SELDI-VNAME或BNDDI-VNAME的元素寻址。</p>
                     <p>您只能将指示符变量名称与绑定变量相关联。您只能将此表与绑定描述符一起使用。<a id="d72777e924" class="indexterm-anchor"></a><a id="d72777e928" class="indexterm-anchor"></a><a id="d72777e930" class="indexterm-anchor"></a><a id="d72777e934" class="indexterm-anchor"></a></p>
                     <p>在发出DESCRIBE命令之前，必须将元素BNDDI-MAX-VNAMEL（1）设置为BNDDI-MAX-VNAMEL（SQLDNUM）。每个指示符变量名称缓冲区可以具有不同的长度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-DB521173-970D-4811-81FC-C493F5DCB756">SELDI-CUR-VNAMEL | BNDDI-CUR-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDI-CUR-VNAMEL | BNDDI-CUR-VNAMEL</span>表包含指标变量名称的实际长度。您只能将指示符变量名称与绑定变量相关联。您只能将此表与绑定描述符一起使用。<a id="d72777e948" class="indexterm-anchor"></a><a id="d72777e952" class="indexterm-anchor"></a><a id="d72777e954" class="indexterm-anchor"></a><a id="d72777e958" class="indexterm-anchor"></a></p>
                     <p>DESCRIBE BIND VARIABLES将实际长度表设置为每个指标变量名称中的字符数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-94C634CB-2BC8-4C5E-93BA-A74F471B30AB">SELDFCLP | BNDDFCLP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDFCLP | BNDDFCLP</span>表保留供将来使用。它必须存在，因为Oracle期望组项SELDSC或BNDDSC具有特定大小。 <a id="d72777e971" class="indexterm-anchor"></a><a id="d72777e975" class="indexterm-anchor"></a><a id="d72777e977" class="indexterm-anchor"></a><a id="d72777e981" class="indexterm-anchor"></a> 您当前必须将SELDFCLP和BNDDFCLP的元素设置为零。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-94D4B762-326E-4D46-A8D3-B35FFBC11C9C">SELDFCRCP | BNDDFCRCP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">SELDFCRCP | BNDDFCRCP</span>表保留供将来使用。它必须存在，因为Oracle期望组项SELDSC或BNDDSC具有特定大小。 <a id="d72777e993" class="indexterm-anchor"></a><a id="d72777e997" class="indexterm-anchor"></a><a id="d72777e999" class="indexterm-anchor"></a><a id="d72777e1003" class="indexterm-anchor"></a> 必须将SELDFCRCP和BNDDFCRCP的元素设置为零。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF">转换数据</a></li>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">强制数据类型</a></li>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64">处理NULL /非NULL数据类型</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB743"></a><div class="props_rev_3"><a id="GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1" name="GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1"></a><h3 id="LNPCB-GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1" class="sect3"><span class="enumeration_section">11.4</span>先决条件知识</h3>
               <div>
                  <p>您需要具备以下主题的工作知识才能实现动态SQL方法4：<a id="d72777e1051" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用库例程SQLADR</p>
                     </li>
                     <li>
                        <p>转换数据</p>
                     </li>
                     <li>
                        <p>强制数据类型</p>
                     </li>
                     <li>
                        <p>处理NULL / not NULL数据类型</p>
                     </li>
                  </ul>
               </div><a id="LNPCB744"></a><div class="props_rev_3"><a id="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59" name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59"></a><h4 id="LNPCB-GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59" class="sect4"><span class="enumeration_section">11.4.1</span>使用SQLADR</h4>
                  <div>
                     <div class="section">
                        <p>必须调用库子例程SQLADR以获取存储输入和输出值的数据缓冲区的地址。将地址存储在绑定中或选择SQLDA，以便Oracle知道读取绑定变量值的位置或写入选择列表值。</p>
                        <p>使用语法调用SQLADR<a id="d72777e1095" class="indexterm-anchor"></a><a id="d72777e1099" class="indexterm-anchor"></a><a id="d72777e1103" class="indexterm-anchor"></a><a id="d72777e1107" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">CALL“SQLADR”使用BUFFER，ADDRESS。</pre><p>哪里：</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59__GUID-FC60596C-19D7-4B90-9BD4-227938C4A9C0"><!-- --></a> BUFFER</dt>
                           <dd>
                              <p>是一个数据缓冲区，用于存储选择列表项，绑定变量或指示符变量的值或名称。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59__GUID-5EBE25E8-190A-46E4-890F-182C58C34464"><!-- --></a>地址</dt>
                           <dd>
                              <p>是一个返回数据缓冲区地址的整数变量。</p>
                              <p>对SQLADR的调用将BUFFER的地址存储在ADDRESS中。下一个示例使用SQLADR初始化选择描述符表SELDV，SELDH-VNAME和SELDI。它们的元素用于选择列表值，选择列表名称和指示符值的数据缓冲区。</p><pre class="oac_no_warn" dir="ltr">程序部门。 ...执行INIT-SELDSC从1乘1变化J直到J&gt; SQLDSUM在SELDSC中。 ...INIT-SELDSC。使用SEL-DV（J），SELDV（J）调用“SQLADR”。使用SEL-DH-VNAME（J），SELDH-VNAME（J）调用“SQLADR”。使用SEL-DI（J），SELDI（J）调用“SQLADR”。</pre></dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB746"></a><a id="LNPCB747"></a><a id="LNPCB748"></a><a id="LNPCB749"></a><a id="LNPCB750"></a><a id="LNPCB751"></a><a id="LNPCB745"></a><div class="props_rev_3"><a id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF" name="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF"></a><h4 id="LNPCB-GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF" class="sect4"><span class="enumeration_section">11.4.2</span>转换数据</h4>
                  <div>
                     <div class="section">
                        <p>本节提供有关数据类型描述符表的更多详细信息。在既不使用数据类型等效也不使用动态SQL方法4的主机程序中，内部和外部数据类型之间的转换是在预编译时确定的。默认情况下，Pro * COBOL为每个主机变量分配特定的外部数据类型。例如，Pro * COBOL将INTEGER外部数据类型分配给PIC S9（n）COMP类型的主机变量。</p>
                        <p>但是，方法4允许您控制数据转换和格式。您可以通过在数据类型描述符表中设置数据类型代码来指定转换。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-5D77D547-E448-4A32-BABC-5C59AE434063">内部数据类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>内部数据类型指定Oracle用于在数据库表中存储列值以表示伪列值的格式。<a id="d72777e1178" class="indexterm-anchor"></a><a id="d72777e1182" class="indexterm-anchor"></a></p>
                        <p>发出DESCRIBE SELECT LIST命令时，Oracle会将每个选择列表项的内部数据类型代码返回到SELDVTYP（数据类型）描述符表。例如，第J个选择列表项的数据类型代码将返回到SELDVTYP（J）。</p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26357" title="q">表11-1</a>显示了内部数据类型及其代码：</p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26357">
                           <p class="titleintable">表11-1内部数据类型和相关代码</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="内部数据类型和相关代码" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d72777e1204">内部数据类型</th>
                                    <th align="left" valign="bottom" width="69%" id="d72777e1207">码</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1212" headers="d72777e1204 ">
                                       <p>VARCHAR2</p>
                                       <p>数</p>
                                       <p>长</p>
                                       <p>ROWID</p>
                                       <p>日期</p>
                                       <p>生的</p>
                                       <p>LONG RAW</p>
                                       <p>CHAR</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1212 d72777e1207 ">
                                       <p>1</p>
                                       <p>2</p>
                                       <p>8</p>
                                       <p>11</p>
                                       <p>12</p>
                                       <p>23</p>
                                       <p>24</p>
                                       <p>96</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-8F587216-E04A-4059-85A5-48CBE828EB41">外部数据类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>外部数据类型指定用于在输入和输出主机变量中存储值的格式。<a id="d72777e1252" class="indexterm-anchor"></a><a id="d72777e1256" class="indexterm-anchor"></a></p>
                        <p>DESCRIBE BIND VARIABLES命令将数据类型代码的BNDDVTYP表设置为零。因此，必须<span class="italic">在</span>发出OPEN命令<span class="italic">之前</span>重置代码。这些代码告诉Oracle各种绑定变量需要哪些外部数据类型。对于第J个绑定变量，将BNDDVTYP（J）重置为所需的外部数据类型。
                        </p>
                        <p>下表显示了外部数据类型及其代码，以及相应的COBOL数据类型：</p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26226">
                           <p class="titleintable">表11-2 Oracle外部和相关COBOL数据类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle外部和相关COBOL数据类型" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d72777e1278">名称</th>
                                    <th align="left" valign="bottom" width="11%" id="d72777e1281">码</th>
                                    <th align="left" valign="bottom" width="62%" id="d72777e1284">COBOL数据类型</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1289" headers="d72777e1278 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1289 d72777e1281 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1289 d72777e1284 ">
                                       <p>当MODE = ANSI时，PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1302" headers="d72777e1278 ">
                                       <p>数</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1302 d72777e1281 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1302 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1315" headers="d72777e1278 ">
                                       <p>整数</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1315 d72777e1281 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1315 d72777e1284 ">
                                       <p>PIC S9（ <span class="italic">n</span> ）COMP</p>
                                       <p>（在SPARC Solaris 64位平台上使用COMP，而不是COMP5）</p>
                                       <p>PIC S9（ <span class="italic">n</span> ）COMP5</p>
                                       <p>（用于字节交换平台的COMP5）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1337" headers="d72777e1278 ">
                                       <p>浮动</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1337 d72777e1281 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1337 d72777e1284 ">
                                       <p>COMP-1</p>
                                       <p>COMP-2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1349" headers="d72777e1278 ">
                                       <p>STRING（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">1</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1349 d72777e1281 ">
                                       <p>五</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1349 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1365" headers="d72777e1278 ">
                                       <p>VARNUM</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1365 d72777e1281 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1365 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1378" headers="d72777e1278 ">
                                       <p>DECIMAL</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1378 d72777e1281 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1378 d72777e1284 ">
                                       <p>PIC S9（n）V9（n）COMP-3</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1388" headers="d72777e1278 ">
                                       <p>长</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1388 d72777e1281 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1388 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1401" headers="d72777e1278 ">
                                       <p>VARCHAR（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1401 d72777e1281 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1401 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）变化</p>
                                       <p>PIC N（ <span class="italic">n</span> ）变化</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1422" headers="d72777e1278 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1422 d72777e1281 ">
                                       <p>11</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1422 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1435" headers="d72777e1278 ">
                                       <p>日期</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1435 d72777e1281 ">
                                       <p>12</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1435 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1449" headers="d72777e1278 ">
                                       <p>VARRAW（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1449 d72777e1281 ">
                                       <p>15</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1449 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1465" headers="d72777e1278 ">
                                       <p>生的</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1465 d72777e1281 ">
                                       <p>23</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1465 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1478" headers="d72777e1278 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1478 d72777e1281 ">
                                       <p>24</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1478 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1491" headers="d72777e1278 ">
                                       <p>UNSIGNED</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1491 d72777e1281 ">
                                       <p>68</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1491 d72777e1284 ">
                                       <p>（不支持）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1501" headers="d72777e1278 ">
                                       <p>显示</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1501 d72777e1281 ">
                                       <p>91</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1501 d72777e1284 ">
                                       <p>PIC S9 ... 9V9 ... 9显示标志领先独立</p>
                                       <p>PIC S9（ <span class="italic">n</span> ）V9（ <span class="italic">n</span> ）显示标志领先分离</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1519" headers="d72777e1278 ">
                                       <p>LONG VARCHAR（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1519 d72777e1281 ">
                                       <p>94</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1519 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1535" headers="d72777e1278 ">
                                       <p>长萝卜（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1535 d72777e1281 ">
                                       <p>95</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1535 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1551" headers="d72777e1278 ">
                                       <p>CHARF</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1551 d72777e1281 ">
                                       <p>96</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1551 d72777e1284 ">
                                       <p>当MODE = ANSI时，PIC X（ <span class="italic">n</span> ）</p>
                                       <p>当MODE = ANSI时，PIC N（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1569" headers="d72777e1278 ">
                                       <p>CHARZ（ <a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">1</a> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1569 d72777e1281 ">
                                       <p>97</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1569 d72777e1284 ">
                                       <p>PIC X（ <span class="italic">n</span> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1585" headers="d72777e1278 ">
                                       <p>光标</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1585 d72777e1281 ">
                                       <p>102</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1585 d72777e1284 ">
                                       <p>SQL游标</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><span class="bold">备注</span> ：</p>
                        <ol>
                           <li id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">
                              <p>仅用于EXEC SQL VAR语句。</p>
                           </li>
                           <li id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">
                              <p>包括<span class="italic">n</span>字节长度字段。
                              </p>
                           </li>
                        </ol>
                        <p>有关数据类型及其格式的详细信息，请参阅“Oracle数据库数据类型”。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-9AA8E668-882C-4BB4-99C7-AD45848486AF">PL / SQL数据类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>PL / SQL提供了各种预定义的标量和复合数据类型。<span class="italic">标量</span>类型没有内部组件。<span class="italic">复合</span>类型具有可以单独操作的内部组件。“初始化描述符”显示预定义的PL / SQL标量数据类型及其内部数据类型等效性</p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-60D6D1A9-FEC6-4488-B8C2-D6E19A014E33">
                           <p class="titleintable">表11-3 <span class="italic"><span class="bold">具有内部数据类型的PL / SQL数据类型等效项</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="具有内部数据类型的PL / SQL数据类型等效性" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d72777e1634">PL / SQL数据类型</th>
                                    <th align="left" valign="bottom" width="69%" id="d72777e1637">Oracle内部数据类型</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1642" headers="d72777e1634 ">
                                       <p>VARCHAR</p>
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1642 d72777e1637 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1651" headers="d72777e1634 ">
                                       <p>BINARY_INTEGER</p>
                                       <p>DEC</p>
                                       <p>DECIMAL</p>
                                       <p>双精度</p>
                                       <p>浮动</p>
                                       <p>INT</p>
                                       <p>整数</p>
                                       <p>自然</p>
                                       <p>数</p>
                                       <p>数字</p>
                                       <p>正</p>
                                       <p>真实</p>
                                       <p>SMALLINT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1651 d72777e1637 ">
                                       <p>数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1683" headers="d72777e1634 ">
                                       <p>长</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1683 d72777e1637 ">
                                       <p>长</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1690" headers="d72777e1634 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1690 d72777e1637 ">
                                       <p>ROWID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1697" headers="d72777e1634 ">
                                       <p>日期</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1697 d72777e1637 ">
                                       <p>日期</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1704" headers="d72777e1634 ">
                                       <p>生的</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1704 d72777e1637 ">
                                       <p>生的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1711" headers="d72777e1634 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1711 d72777e1637 ">
                                       <p>LONG RAW</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1718" headers="d72777e1634 ">
                                       <p>CHAR</p>
                                       <p>字符</p>
                                       <p>串</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1718 d72777e1637 ">
                                       <p>CHAR</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="datatypes-and-host-variables.html#GUID-6B4F2049-A1CB-4FDA-9CA5-DBC64865DE60">Oracle数据库数据类型</a></li>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8">初始化描述符</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB753"></a><a id="LNPCB754"></a><a id="LNPCB755"></a><a id="LNPCB752"></a><div class="props_rev_3"><a id="GUID-09B53741-283E-420D-988C-2E87D1CB505E" name="GUID-09B53741-283E-420D-988C-2E87D1CB505E"></a><h4 id="LNPCB-GUID-09B53741-283E-420D-988C-2E87D1CB505E" class="sect4"><span class="enumeration_section">11.4.3</span>强制数据类型</h4>
                  <div>
                     <div class="section">
                        <p>对于选择描述符，DESCRIBE SELECT LIST可以返回任何内部数据类型。通常，与字符数据一样，内部数据类型与您要使用的外部数据类型完全对应。但是，一些内部数据类型映射到可能难以处理的外部数据类型。因此，您可能希望重置SELDVTYP描述符表中的某些元素。</p>
                        <p>例如，您可能希望将NUMBER值重置为FLOAT值，这些值对应于COBOL中的PIC S9（ <span class="italic">n</span> ）V9（ <span class="italic">n</span> ）COMP-1值。 Oracle在FETCH时间执行内部和外部数据类型之间的任何必要转换。一定要重置数据类型的DESCRIBE SELECT LIST <span class="italic">之后</span> ，但<span class="italic">之前</span>的FETCH。<a id="d72777e1800" class="indexterm-anchor"></a><a id="d72777e1804" class="indexterm-anchor"></a><a id="d72777e1809" class="indexterm-anchor"></a></p>
                        <p>对于绑定描述符，DESCRIBE BIND VARIABLES <span class="italic">并不</span>返回绑定变量的数据类型，只是它们的数量和名称。因此，必须显式设置数据类型代码的BNDDVTYP表，以告知Oracle每个绑定变量的外部数据类型。Oracle在OPEN时执行外部和内部数据类型之间的任何必要转换。
                        </p>
                        <p>在SELDVTYP或BNDDVTYP描述符表中重置数据类型代码时，您将“强制数据类型”。例如，要将Jth select-list值强制转换为VARCHAR2，请使用以下语句：</p><pre class="oac_no_warn" dir="ltr">*将选择列表值强制转换为VARCHAR2。移动1到SELDVTYP（J）。
</pre><p>将NUMBER选择列表值强制转换为VARCHAR2以进行显示时，还必须提取值的精度和比例字节，并使用它们计算最大显示长度。然后，在FETCH之前，必须重置SELDVLN（长度）描述符表的相应元素，以告知Oracle要使用的缓冲区长度。要指定第J个选择列表值的长度，请将SELDVLN（J）设置为所需的长度。<a id="d72777e1824" class="indexterm-anchor"></a></p>
                        <p>例如，如果DESCRIBE SELECT LIST发现第J个选择列表项的类型为NUMBER，并且您希望将返回的值存储在声明为PIC S9（ <span class="italic">n</span> ）V9（ <span class="italic">n</span> ）COMP-1的COBOL变量中，则只需设置SELDVTYP （J）到4和SELDVLN（J）到你系统上COMP-1号的长度。<a id="d72777e1836" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-B6F9F4E7-3B79-46C2-8FD5-578C3ED47C3C">例外</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在某些情况下，DESCRIBE SELECT LIST返回的内部数据类型可能不适合您的目的。两个例子是DATE和NUMBER。当您描述DATE选择列表项时，Oracle将数据类型代码12返回给SELDVTYP表。除非您在FETCH之前重置代码，否则日期值将以其7字节内部格式返回。要以默认字符格式获取日期，必须将数据类型代码从12更改为1（VARCHAR2），并将SELDVLN值从7增加到9。</p>
                        <p>同样，当您描述NUMBER选择列表项时，Oracle会将数据类型代码2返回给SELDVTYP表。除非您在FETCH之前重置代码，否则数值将以其内部格式返回，这可能是不可取的。因此，将代码从2更改为1（VARCHAR2），3（INTEGER），4（FLOAT）或其他一些适当的数据类型。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__i9038">
                        <p class="subhead3" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-69DA4C82-AF9D-4944-A22C-E80CDB144710">提取精度和规模</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>库子例程SQLPRC提取精度和比例。通常，它在DESCRIBE SELECT LIST之后使用，其第一个参数是SELDVLN（J）。要调用SQLPRC，请使用以下语法<a id="d72777e1854" class="indexterm-anchor"></a><a id="d72777e1858" class="indexterm-anchor"></a><a id="d72777e1862" class="indexterm-anchor"></a><a id="d72777e1866" class="indexterm-anchor"></a><a id="d72777e1870" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">使用LENGTH，PRECISION，SCALE调用“SQLPRC”。</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-C9258260-DE17-4F1F-8394-19B400F8BD03">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d72777e1886">句法</th>
                                    <th align="left" valign="bottom" width="71%" id="d72777e1889">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1894" headers="d72777e1886 ">
                                       <p>长度</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1894 d72777e1889 ">
                                       <p>是一个整数变量，用于存储NUMBER值的长度。值的比例和精度分别存储在低位和高位字节中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1901" headers="d72777e1886 ">
                                       <p>精确</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1901 d72777e1889 ">
                                       <p>是一个整数变量，它返回NUMBER值的<span class="italic">精度</span> 。Precision是有效数字的位数。如果select-list项指的是未指定大小的NUMBER，则设置为零。在这种情况下，由于未指定大小，因此假设最大精度为38。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1911" headers="d72777e1886 ">
                                       <p>规模</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1911 d72777e1889 ">
                                       <p>是一个整数变量，它返回NUMBER值的<span class="italic">比例</span> 。Scale指定舍入将发生的位置。例如，2的刻度表示该值四舍五入到最接近的百分位数（3.456变为3.46）;等级为-3表示该数字四舍五入到最接近的千位（3.456变为3000）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>以下示例显示如何使用SQLPRC计算将被强制转换为VARCHAR2的NUMBER值的最大显示长度：<a id="d72777e1922" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">工作储存部分。 01 PRECISION PIC S9（9）COMP。 01 SCALE PIC S9（9）COMP。 01 DISPLAY-LENGTH PIC S9（9）COMP。 01 MAX-LENGTH PIC S9（9）COMP值80。...程序部门。 ...执行ADJUST-LENGTH变化J从1乘1直到J&gt; SQLDNUM在SELDSC中。调整长度。 *如果数据类型为NUMBER，则提取精度和比例。如果SELDVTYP（J）= 2使用SELDVLN（J），PRECISION，SCALE调用“SQLPRC”。移动0显示 - 长度。 *如果选择列表项*指的是未指定大小的NUMBER，则精度设置为零。我们允许*最大精度为10。如果SELDVTYP（J）= 2且PRECISION = 0则移动10到显示长度。 *允许可能的小数点和符号。如果SELDVTYP（J）= 2且精度&gt; 0则增加2以精确度显示精度以显示长度。 ...
</pre><p>请注意，子例程调用中的第一个参数是选择列表长度表中的第J个元素。</p>
                        <p>在SQLLIB运行时库中定义的SQLPRC过程将返回零作为某些SQL数据类型的精度和小数位数值。SQLPR2过程类似于SQLPRC，因为它具有相同的语法并返回相同的二进制值，但此表中显示的数据类型除外：</p>
                        <div class="tblformal" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-7825952A-C4BD-4FDC-9389-AA5090FA6DBE">
                           <p class="titleintable">表11-4 SQLPR2过程的数据类型例外</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQLPR2过程的数据类型异常" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d72777e1943">SQL数据类型</th>
                                    <th align="left" valign="bottom" width="29%" id="d72777e1946">二进制精度</th>
                                    <th align="left" valign="bottom" width="36%" id="d72777e1949">二进制比例</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1954" headers="d72777e1943 ">
                                       <p>浮动</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1954 d72777e1946 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1954 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1964" headers="d72777e1943 ">
                                       <p>FLOAT（ <span class="italic">n</span> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1964 d72777e1946 ">
                                       <p><span class="italic">n</span> （范围是1 ..126）</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1964 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1979" headers="d72777e1943 ">
                                       <p>真实</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1979 d72777e1946 ">
                                       <p>63</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1979 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1989" headers="d72777e1943 ">
                                       <p>双精度</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1989 d72777e1946 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1989 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB756"></a><div class="props_rev_3"><a id="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64" name="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64"></a><h4 id="LNPCB-GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64" class="sect4"><span class="enumeration_section">11.4.4</span>处理NULL /非NULL数据类型</h4>
                  <div>
                     <div class="section">
                        <p>对于每个select-list列（非表达式），DESCRIBE SELECT LIST在select描述符的数据类型表中返回NULL / not NULL指示。如果第J个select-list列被约束为非NULL，则SELDVTYP（J）数据类型变量的高位清零;否则，它被设定。<a id="d72777e2023" class="indexterm-anchor"></a></p>
                        <p>在OPEN或FETCH语句中使用数据类型之前，如果设置了NULL状态位，则必须清除它。永远不要设置位。</p>
                        <p>您可以使用库例程SQLNUL来查明列是否允许NULL数据类型并清除数据类型的NULL状态位。您可以使用语法调用SQLNUL<a id="d72777e2033" class="indexterm-anchor"></a><a id="d72777e2037" class="indexterm-anchor"></a><a id="d72777e2041" class="indexterm-anchor"></a><a id="d72777e2045" class="indexterm-anchor"></a><a id="d72777e2049" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">使用VALUE-TYPE，TYPE-CODE，NULL-STATUS调用“SQLNUL”。</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64__GUID-66F7E3E6-7ED7-40AF-9814-0F4A0621EADC">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d72777e2065">句法</th>
                                    <th align="left" valign="bottom" width="71%" id="d72777e2068">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2073" headers="d72777e2065 ">
                                       <p>值类型</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2073 d72777e2068 ">
                                       <p>是一个2字节的整数变量，用于存储select-list列的数据类型代码。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2080" headers="d72777e2065 ">
                                       <p>TYPE-CODE</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2080 d72777e2068 ">
                                       <p>是一个2字节的整数变量，它返回清除高位的select-list列的数据类型代码。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2087" headers="d72777e2065 ">
                                       <p>NULL-STATUS</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2087 d72777e2068 ">
                                       <p>是一个整数变量，它返回select-list列的NULL状态。 1表示该列允许NULL; 0意味着它没有。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>以下示例显示如何使用SQLNUL：<a id="d72777e2095" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">工作储存部分。 ...*为子程序调用声明变量。01 NULL-STATUS PIC S9（9）COMP。 ...程序部门。主要。执行SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC。 ...执行HANDLE-NULLS从1乘1变化J直到J&gt; SQLDNUM在SELDSC中。 ...把手空值。 *找出列是否为NULL，并清除高位。使用SELDVTYP（J），SELDVTYP（J），NULL-STATUS调用“SQLNUL”。 *如果NULL-STATUS = 1，则允许NULL。
</pre><p>请注意，子例程调用中的第一个和第二个参数是相同的。它们分别是清除NULL状态位之前和之后的数据类型变量。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB757"></a><div class="props_rev_3"><a id="GUID-2235722D-A4D2-453D-99EE-339F48C96F28" name="GUID-2235722D-A4D2-453D-99EE-339F48C96F28"></a><h3 id="LNPCB-GUID-2235722D-A4D2-453D-99EE-339F48C96F28" class="sect3"><span class="enumeration_section">11.5</span>基本步骤</h3>
               <div>
                  <div class="section">
                     <p>方法4可用于处理<span class="italic">任何</span>动态SQL语句。在“使用方法4使用主机表”中的示例中，将处理查询，以便您可以查看如何处理输入和输出主机变量。<a id="d72777e2132" class="indexterm-anchor"></a></p>
                     <p>要处理动态查询，我们的示例程序采取以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>声明用于保存查询文本的主机字符串。</span></li>
                     <li><span>声明选择和绑定描述符。</span></li>
                     <li><span>设置可以DESCRIBEd的选择列表项和占位符的最大数量。</span></li>
                     <li><span>初始化select和bind描述符。</span></li>
                     <li><span>将查询文本存储在主机字符串中。</span></li>
                     <li><span>从主机字符串中预处理查询。</span></li>
                     <li><span>为查询DECLARE游标。</span></li>
                     <li><span>将绑定变量描述为绑定描述符。</span></li>
                     <li><span>将占位符数量重置为DESCRIBE实际找到的数量。</span></li>
                     <li><span>获取DESCRIBE找到的绑定变量的值。</span></li>
                     <li><span>使用绑定描述符打开游标。</span></li>
                     <li><span>将选择列表描述为选择描述符。</span></li>
                     <li><span>将选择列表项的数量重置为DESCRIBE实际找到的数字。</span></li>
                     <li><span>重置每个选择列表项的长度和数据类型以用于显示目的。</span></li>
                     <li><span>使用select描述符从数据库INTO数据缓冲区中FETCH一行。</span></li>
                     <li><span>处理FETCH返回的select-list值。</span></li>
                     <li><span>当FETCH没有更多行时关闭光标。</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-2235722D-A4D2-453D-99EE-339F48C96F28__GUID-0298A330-FE6C-4FAB-B79C-1387031B9E06">
                        <p class="notep1">注意：</p>
                        <p>如果动态SQL语句<span class="italic">不是</span>查询或包含已知数量的选择列表项或占位符，则前面的一些步骤是不必要的。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36">使用方法4的主机表</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB758"></a><div class="props_rev_3"><a id="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE" name="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE"></a><h3 id="LNPCB-GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE" class="sect3"><span class="enumeration_section">11.6</span>仔细研究每一步</h3>
               <div>
                  <p>本节将更详细地讨论每个步骤。本章末尾将介绍说明方法4的完整示例程序。使用方法4，您可以使用以下嵌入式SQL语句序列：<a id="d72777e2231" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE &lt;statement_name&gt; FROM {：&lt;host_string&gt; | &lt;string_literal&gt;} END-EXEC。 EXEC SQL DECLARE &lt;cursor_name&gt; CURSOR FOR &lt;statement_name&gt; END-EXEC。对于&lt;statement_name&gt; INTO &lt;bind_descriptor_name&gt; END-EXEC，EXEC SQL DESCRIBE BIND VARIABLES。 EXEC SQL OPEN &lt;cursor_name&gt; [USING DESCRIPTOR &lt;bind_descriptor_name&gt;] END-EXEC。 EXEC SQL DESCRIBE [SELECT LIST FOR] &lt;statement_name&gt; INTO &lt;select_descriptor_name&gt; END-EXEC。 EXEC SQL FETCH &lt;cursor_name&gt; USING DESCRIPTOR &lt;select_descriptor_name&gt; END-EXEC。 EXEC SQL CLOSE &lt;cursor_name&gt; END-EXEC。</pre><p>如果已知动态查询中的选择列表项的数量，则可以省略DESCRIBE SELECT LIST并使用以下方法3 FETCH语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH &lt;cursor_name&gt; INTO &lt;host_variable_list&gt; END-EXEC。</pre><p>或者，如果已知动态SQL语句中绑定变量的占位符数，则可以省略DESCRIBE BIND VARIABLES并使用以下方法3 OPEN语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN &lt;cursor_name&gt; [USING &lt;host_variable_list&gt;] END-EXEC。</pre><p>下一节将说明这些语句如何允许宿主程序使用描述符接受和处理动态SQL语句。</p>
                  <div class="infoboxnote" id="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE__GUID-F85B379C-EEEE-41AB-A44D-A218E537FD41">
                     <p class="notep1">注意：</p>
                     <p>以下讨论伴随着几个数字。为了避免使图形混乱，有必要将描述符表限制为3个元素，并将名称和值的最大长度分别限制为5个和10个字符。</p>
                  </div>
               </div><a id="LNPCB759"></a><div class="props_rev_3"><a id="GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F" name="GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F"></a><h4 id="LNPCB-GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F" class="sect4"><span class="enumeration_section">11.6.1</span>声明主机字符串</h4>
                  <div>
                     <div class="section">
                        <p>您的程序需要一个宿主变量来存储动态SQL语句的文本。必须将主变量（在我们的示例中为SELECTSTMT）声明为字符串：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION END-EXEC。 ...01 SELECTSTMT PIC X（120）。EXEC SQL END DECLARE SECTION END-EXEC。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB760"></a><div class="props_rev_3"><a id="GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3" name="GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3"></a><h4 id="LNPCB-GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3" class="sect4"><span class="enumeration_section">11.6.2</span>声明SQLDA</h4>
                  <div>
                     <div class="section">
                        <p>因为我们示例中的查询可能包含未知数量的选择列表项或占位符，所以必须声明选择和绑定描述符。您可以使用INCLUDE将它们复制到程序中，而不是对SQLDAs进行硬编码，如下所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL包含SELDSC END-EXEC。 EXEC SQL包含BNDDSC END-EXEC。</pre><p>作为参考，SELDSC的INCLUDEd声明如下：</p><pre class="oac_no_warn" dir="ltr">工作储存部分。 ...01 SELDSC。 05 SQLDNUM PIC S9（9）COMP。 05 SQLDFND PIC S9（9）COMP。 05 SELDVAR发生3次。 10 SELDV PIC S9（9）COMP。 10 SELDFMT PIC S9（9）COMP。 10 SELDVLN PIC S9（9）COMP。 10 SELDFMTL PIC S9（4）COMP。 10 SELDVTYP PIC S9（4）COMP。 10 SELDI PIC S9（9）COMP。 10 SELDH-VNAME PIC S9（9）COMP。 10 SELDH-MAX-VNAMEL PIC S9（4）COMP。 10 SELDH-CUR-VNAMEL PIC S9（4）COMP。 10 SELDI-VNAME PIC S9（9）COMP。 10 SELDI-MAX-VNAMEL PIC S9（4）COMP。 10 SELDI-CUR-VNAMEL PIC S9（4）COMP。 10 SELDFCLP PIC S9（9）COMP。 10 SELDFCRCP PIC S9（9）COMP。 01 XSELDI。 05 SEL-DI发生3次PIC S9（9）COMP。 01 XSELDIVNAME。 05 SEL-DI-VNAME发生3次PIC X（5）。01 XSELDV。 05 SEL-DV发生3次PIC X（10）。01 XSELDHVNAME。 05 SEL-DH-VNAME发生3次PIC X（5）。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB761"></a><div class="props_rev_3"><a id="GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552" name="GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552"></a><h4 id="LNPCB-GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552" class="sect4"><span class="enumeration_section">11.6.3</span>设置最大编号为DESCRIBE</h4>
                  <div>
                     <div class="section">
                        <p>接下来，您可以设置可以描述的选择列表项或占位符的最大数量，如下所示：</p><pre class="oac_no_warn" dir="ltr">在SELDSC中移动3到SQLDNUM。在BNDDSC中移动3到SQLDNUM。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB763"></a><a id="LNPCB764"></a><a id="LNPCB762"></a><div class="props_rev_3"><a id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8" name="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8"></a><h4 id="LNPCB-GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8" class="sect4"><span class="enumeration_section">11.6.4</span>初始化描述符</h4>
                  <div>
                     <div class="section">
                        <p>您必须初始化几个描述符变量。有些需要库子例程SQLADR。</p>
                        <p>在我们的示例中，您将名称缓冲区的最大长度存储在SELDH-MAX-VNAMEL，BNDDH-MAX-VNAMEL和BNDDI-MAX-VNAMEL表中，并使用SQLADR在SELDV中存储值和名称缓冲区的地址， SELDI，BNDDV，BNDDI，SELDH-VNAME，BNDDH-VNAME和BNDDI-VNAME表。 <a id="d72777e2365" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">程序部门。 ...执行INIT-SELDSC从1乘1变化J直到J&gt; SQLDSUM在SELDSC中。执行INIT-BNDDSC从1比1变化J直到JND&gt;在BNDDSC中的SQLDNUM。 ...INIT-SELDSC。移动空间到SEL-DV（J）。将空间移动到SEL-DH-VNAME（J）。移动5到SELDH-MAX-VNAMEL（J）。使用SEL-DV（J），SELDV（J）调用“SQLADR”。使用SEL-DH-VNAME（J），SELDH-VNAME（J）调用“SQLADR”。使用SEL-DI（J），SELDI（J）调用“SQLADR”。...INIT-BNDDSC。移动空间到BND-DV（J）。移动到BND-DH-VNAME（J）的空间。移动空间到BND-DI-VNAME（J）。移动5到BNDDH-MAX-VNAMEL（J）。移动5到BNDDI-MAX-VNAMEL（J）。使用BND-DV（J），BNDDV（J）调用“SQLADR”。使用BND-DH-VNAME（J），BNDDH-VNAME（J）调用“SQLADR”。使用BND-DI（J），BNDDI（J）调用“SQLADR”。使用BND-DI-VNAME（J），BNDDI-VNAME（J）调用“SQLADR”。...
</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10618">图11-3</a>和<a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10659">图11-4</a>表示结果描述符。
                        </p>
                        <div class="figure" id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10618">
                           <p class="titleinfigure">图11-3初始化的选择描述符</p><img src="img/pco81007.gif" alt="下面是图11-3的描述" title="下面是图11-3的描述" longdesc="img_text/pco81007.html"><br><a href="img_text/pco81007.html">“图11-3初始化选择描述符”的描述</a></div>
                        <!-- class="figure" -->
                        <div class="figure" id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10659">
                           <p class="titleinfigure">图11-4初始化的绑定描述符</p><img src="img/pco81008.gif" alt="下面是图11-4的描述" title="下面是图11-4的描述" longdesc="img_text/pco81008.html"><br><a href="img_text/pco81008.html">“图11-4初始化绑定描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB765"></a><div class="props_rev_3"><a id="GUID-E60D5DB8-2307-412A-B983-2B7961F42C19" name="GUID-E60D5DB8-2307-412A-B983-2B7961F42C19"></a><h4 id="LNPCB-GUID-E60D5DB8-2307-412A-B983-2B7961F42C19" class="sect4"><span class="enumeration_section">11.6.5</span>将查询文本存储在主机字符串中</h4>
                  <div>
                     <div class="section">
                        <p>接下来，提示用户输入SQL语句，然后将输入字符串存储在SELECTSTMT中，如下所示：</p><pre class="oac_no_warn" dir="ltr">显示“输入SELECT语句：”没有进展。接受SELECTSTMT。</pre><p>我们假设用户输入以下字符串：</p><pre class="oac_no_warn" dir="ltr">SELECT ENAME，EMPNO，COMM from EMP WHERE COMM &lt;：BONUS</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB766"></a><div class="props_rev_3"><a id="GUID-6988273B-7782-435F-808B-78F7851D4A34" name="GUID-6988273B-7782-435F-808B-78F7851D4A34"></a><h4 id="LNPCB-GUID-6988273B-7782-435F-808B-78F7851D4A34" class="sect4"><span class="enumeration_section">11.6.6</span>从主机字符串中<span class="enumeration_section">预处理</span>查询</h4>
                  <div>
                     <div class="section">
                        <p>PREPARE解析SQL语句并为其命名。在我们的示例中，PREPARE解析主机字符串SELECTSTMT并为其命名为SQLSTMT，如下所示：<a id="d72777e2444" class="indexterm-anchor"></a><a id="d72777e2448" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE SQLSTMT FROM：SELECTSTMT END-EXEC。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB767"></a><div class="props_rev_3"><a id="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF" name="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF"></a><h4 id="LNPCB-GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF" class="sect4"><span class="enumeration_section">11.6.7</span> DECLARE一个游标</h4>
                  <div>
                     <div class="section">
                        <p>DECLARE CURSOR通过为游标指定名称并将其与特定的SELECT语句相关联来定义游标。</p>
                        <p>要为静态查询声明游标，请使用以下语法：<a id="d72777e2481" class="indexterm-anchor"></a><a id="d72777e2485" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE cursor_name CURSOR FOR SELECT ...
</pre><p>要为动态查询声明游标，PREPARE为动态查询指定的语句名称将替换静态查询。在我们的示例中，DECLARE CURSOR定义了一个名为EMPCURSOR的游标，并将其与SQLSTMT关联，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQLSTMT END-EXEC的EXEC SQL DECLARE EMPCURSOR CURSOR。</pre><div class="infoboxnote" id="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF__GUID-8C1C9C72-4588-4F32-AF0D-5C9EC1DE70F1">
                           <p class="notep1">注意：</p>
                           <p>您必须为所有动态SQL语句声明游标，而不仅仅是查询。对于非查询，OPENing游标执行动态SQL语句。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB769"></a><a id="LNPCB768"></a><div class="props_rev_3"><a id="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B" name="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B"></a><h4 id="LNPCB-GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B" class="sect4"><span class="enumeration_section">11.6.8</span>描述绑定变量</h4>
                  <div>
                     <div class="section">
                        <p>DESCRIBE BIND VARIABLES将绑定变量的描述放入绑定描述符中。在我们的示例中，DESCRIBE准备BNDDSC如下：<a id="d72777e2524" class="indexterm-anchor"></a><a id="d72777e2528" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">执行SQL描述SQLSTMT到BNDDSC END-EXEC的绑定变量。</pre><p>请注意，BNDDSC <span class="italic">不得</span>以冒号为前缀。
                        </p>
                        <p>DESCRIBE BIND VARIABLES语句必须遵循PREPARE语句，但必须在OPEN语句之前。</p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B__I14773">图11-5</a>显示了DESCRIBE之后的示例中的绑定描述符。请注意，DESCRIBE已将SQLDFND设置为在已处理的SQL语句中找到的实际占位符数。
                        </p>
                        <div class="figure" id="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B__I14773">
                           <p class="titleinfigure">图11-5 DESCRIBE后的绑定描述符</p><img src="img/pco81009.gif" alt="下面是图11-5的描述" title="下面是图11-5的描述" longdesc="img_text/pco81009.html"><br><a href="img_text/pco81009.html">“图11-5 DESCRIBE后的绑定描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB770"></a><div class="props_rev_3"><a id="GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B" name="GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B"></a><h4 id="LNPCB-GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B" class="sect4"><span class="enumeration_section">11.6.9</span>重置<span class="enumeration_section">占位符</span>数量</h4>
                  <div>
                     <div class="section">
                        <p>接下来，您必须将最大占位符数重置为DESCRIBE实际找到的数字，如下所示：</p><pre class="oac_no_warn" dir="ltr">如果SQLDFND IN BNDDSC &lt;0 DISPLAY“太多绑定变量”GOTO ROLL-BACK ELSE将BNDDSC中的SQLDFND移动到BNDDSC END-IF中的SQLDNUM。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB772"></a><a id="LNPCB771"></a><div class="props_rev_3"><a id="GUID-7620E808-7738-427C-8EE0-66CE2511C45E" name="GUID-7620E808-7738-427C-8EE0-66CE2511C45E"></a><h4 id="LNPCB-GUID-7620E808-7738-427C-8EE0-66CE2511C45E" class="sect4"><span class="enumeration_section">11.6.10</span>获取绑定变量的值</h4>
                  <div>
                     <div class="section">
                        <p>您的程序必须在SQL语句中获取绑定变量的值。程序如何获取值取决于您。例如，它们可以是硬编码的，从文件中读取或以交互方式输入。</p>
                        <p>在我们的示例中，必须为绑定变量分配一个值，该变量替换查询WHERE子句中的占位符BONUS。提示用户输入值，然后处理它，如下所示：</p><pre class="oac_no_warn" dir="ltr">程序部门。 ...执行GET-INPUT-VAR从1乘1变化J直到JND&gt;在BNDDSC中的SQLDNUM。 ...GET-INPUT-VAR。 ...*将0 DESCRIBEd替换为数据类型表* 1，以避免“无效的数据类型”Oracle错误。移动1到BNDDVTYP（J）。*获取绑定变量的值。显示“输入值”，BND-DH-VNAME（J）。接受输入字符串。在BNDDVLN（J）中以“”进入BND-DV（J）计数而取消输入输入字符串。
</pre><p>假设用户为BONUS提供了值625，下一个表显示了生成的绑定描述符。</p>
                        <div class="figure" id="GUID-7620E808-7738-427C-8EE0-66CE2511C45E__GUID-5CDBAAC2-A10F-4E17-8BB7-B7433CE2D8B7">
                           <p class="titleinfigure">图11-6分配值后的绑定描述符</p><img src="img/pco81010.gif" alt="下面是图11-6的描述" title="下面是图11-6的描述" longdesc="img_text/pco81010.html"><br><a href="img_text/pco81010.html">“图11-6分配值后的绑定描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB773"></a><div class="props_rev_3"><a id="GUID-C26DE703-9405-41B1-A224-944EE7F5A130" name="GUID-C26DE703-9405-41B1-A224-944EE7F5A130"></a><h4 id="LNPCB-GUID-C26DE703-9405-41B1-A224-944EE7F5A130" class="sect4"><span class="enumeration_section">11.6.11</span>打开光标</h4>
                  <div>
                     <div class="section">
                        <p>动态查询的OPEN语句类似于静态查询的语句，除了游标与绑定描述符相关联。在运行时确定并存储在由绑定描述符表的元素寻址的缓冲区中的值用于评估SQL语句。通过查询，这些值还用于标识活动集。<a id="d72777e2639" class="indexterm-anchor"></a><a id="d72777e2643" class="indexterm-anchor"></a></p>
                        <p>在我们的示例中，OPEN将EMPCURSOR与BNDDSC关联如下：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN EMPCUR使用DESCRIPTOR BNDDSC END-EXEC。</pre><p>请记住，BNDDSC <span class="italic">不得</span>以冒号为前缀。
                        </p>
                        <p>然后，OPEN执行SQL语句。通过查询，OPEN还可以识别活动集并将光标定位在第一行。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB775"></a><a id="LNPCB774"></a><div class="props_rev_3"><a id="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4" name="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4"></a><h4 id="LNPCB-GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4" class="sect4"><span class="enumeration_section">11.6.12</span>描述选择列表</h4>
                  <div>
                     <div class="section">
                        <p>如果动态SQL语句是查询，则DESCRIBE SELECT LIST语句必须遵循OPEN语句，但必须在FETCH语句之前。<a id="d72777e2685" class="indexterm-anchor"></a><a id="d72777e2689" class="indexterm-anchor"></a></p>
                        <p>DESCRIBE SELECT LIST将选择列表项的描述放入选择描述符中。在我们的示例中，DESCRIBE准备SELDSC如下：</p><pre class="oac_no_warn" dir="ltr">执行SQL描述SQLSTMT进入SELDSC END-EXEC的选择列表。</pre><p>访问数据字典时，DESCRIBE设置每个选择列表值的长度和数据类型。</p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4__I10665">图11-7</a>显示了DESCRIBE之后的示例中的选择描述符。请注意，DESCRIBE已将SQLDFND设置为查询选择列表中找到的实际项目数。如果SQL语句不是查询，则SQLDFND设置为零。另请注意，NUMBER长度尚不可用。对于定义为NUMBER的列，必须使用库子例程SQLPRC来提取精度和比例。请参阅“强制数据类型”部分。
                        </p>
                        <div class="figure" id="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4__I10665">
                           <p class="titleinfigure">图11-7 DESCR后选择描述符</p><img src="img/pco81011.gif" alt="下面是图11-7的描述" title="下面是图11-7的描述" longdesc="img_text/pco81011.html"><br><a href="img_text/pco81011.html">“图11-7 DESCR后选择描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">强制数据类型</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB776"></a><div class="props_rev_3"><a id="GUID-0678F117-2BFC-4C65-9943-B507305DA11E" name="GUID-0678F117-2BFC-4C65-9943-B507305DA11E"></a><h4 id="LNPCB-GUID-0678F117-2BFC-4C65-9943-B507305DA11E" class="sect4"><span class="enumeration_section">11.6.13</span>重置选择列表项的数量</h4>
                  <div>
                     <div class="section">
                        <p>接下来，您必须将选择列表项的最大数量重置为DESCRIBE实际找到的数字，如下所示：</p><pre class="oac_no_warn" dir="ltr">在SELDSC中将SQLDFND传递给SELDSC中的SQLDNUM。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB778"></a><a id="LNPCB777"></a><div class="props_rev_3"><a id="GUID-390491F0-318D-434C-9470-E462BF369098" name="GUID-390491F0-318D-434C-9470-E462BF369098"></a><h4 id="LNPCB-GUID-390491F0-318D-434C-9470-E462BF369098" class="sect4"><span class="enumeration_section">11.6.14</span>重置每个选择列表项的长度/数据类型</h4>
                  <div>
                     <div class="section">
                        <p>在获取select-list值之前，该示例重置length和datatype表中的一些元素以用于显示目的。</p><pre class="oac_no_warn" dir="ltr">程序部门。 ...执行COOLE-COLUMN-TYPE从1乘1变化J直到J&gt; SQLDNUM在SELDSC中。 ...强制列-TYPE。 *清除NULL位。使用SELDVTYP（J），SELDVTYP（J），NULL-STATUS调用“SQLNUL”。 *如果数据类型为DATE，则延长至9个字符。如果SELDVTYP（J）= 12移动9到SELDVLN（J）。*如果数据类型为NUMBER，则提取精度和比例。移动0显示 - 长度。如果SELDVTYP（J）= 2且PRECISION = 0则移动10到显示长度。如果SELDVTYP（J）= 2且精度&gt; 0则增加2以精确度显示精度以显示长度。如果SELDVTYP（J）= 2如果显示长度&gt;最大长度显示“列值对于数据缓冲区而言太大。”去结束程序以及显示SELDVLN（J）的长度。*将数据类型强制转换为VARCHAR2。移动1到SELDVTYP（J）。</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-390491F0-318D-434C-9470-E462BF369098__I10667">图11-8</a>显示了结果选择描述符。请注意，NUMBER长度现在可用，并且所有数据类型都是VARCHAR2。SELDVLN（2）和SELDVLN（3）中的长度为6和9，因为我们将DESCRIBEd长度4和7增加2以允许可能的符号和小数点。
                        </p>
                        <div class="figure" id="GUID-390491F0-318D-434C-9470-E462BF369098__I10667">
                           <p class="titleinfigure">图11-8 FETCH之前的选择描述符</p><img src="img/pco81011.gif" alt="下面是图11-8的描述" title="下面是图11-8的描述" longdesc="img_text/pco81011.html"><br><a href="img_text/pco81011.html">“图11-8在FETCH之前选择描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB779"></a><div class="props_rev_3"><a id="GUID-25158397-4D35-4DDE-9C82-332912EB7C7C" name="GUID-25158397-4D35-4DDE-9C82-332912EB7C7C"></a><h4 id="LNPCB-GUID-25158397-4D35-4DDE-9C82-332912EB7C7C" class="sect4"><span class="enumeration_section">11.6.15</span>来自激活集的FETCH行</h4>
                  <div>
                     <div class="section">
                        <p>FETCH从活动集返回一行，将select-list值存储在数据缓冲区中，并将光标前进到活动集中的下一行。如果没有更多行，FETCH将SQLCA，SQLCODE变量或SQLSTATE变量中的SQLCODE设置为“找不到数据”错误代码。在以下示例中，FETCH将列ENAME，EMPNO和COMM的值返回给SELDSC：<a id="d72777e2805" class="indexterm-anchor"></a><a id="d72777e2809" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">使用DESCRIPTOR SELDSC END-EXEC的EXEC SQL FETCH EMPCURSOR。</pre><p>“在FETCH之后选择描述符”在FETCH之后的示例中显示了选择描述符。请注意，Oracle已将select-list和指示符值存储在SELDV和SELDI元素所寻址的数据缓冲区中。</p>
                        <p>对于数据类型1，Oracle的输出缓冲区，使用存储在SELDVLN中的长度，左对齐CHAR或VARCHAR2数据，并右对齐NUMBER数据。</p>
                        <p>从EMP表中的VARCHAR2（10）列检索值<code class="codeph">MARTIN</code> 。使用SELDVLN（1）中的长度，Oracle左对齐10字节字段中的值，填充缓冲区。
                        </p>
                        <p>从NUMBER（4）列检索值7654并强制转换为<code class="codeph">7654</code> 。但是，SELDVLN（2）中的长度增加了2以允许可能的符号和小数点，因此Oracle右对齐6字节字段中的值。
                        </p>
                        <p>从NUMBER（7,2）列中检索值482.50并强制为482.50。同样，SELDVLN（3）中的长度增加了2，因此Oracle右对齐9字节字段中的值。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB780"></a><div class="props_rev_3"><a id="GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6" name="GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6"></a><h4 id="LNPCB-GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6" class="sect4"><span class="enumeration_section">11.6.16</span>获取和处理选择列表值</h4>
                  <div>
                     <div class="section">
                        <p>在FETCH之后，您的程序可以处理FETCH返回的选择列表值。在我们的示例中，处理了ENAME，EMPNO和COMM列的值。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB782"></a><a id="LNPCB781"></a><div class="props_rev_3"><a id="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C" name="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C"></a><h4 id="LNPCB-GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C" class="sect4"><span class="enumeration_section">11.6.17</span>关闭光标</h4>
                  <div>
                     <div class="section">
                        <p><a id="d72777e2881" class="indexterm-anchor"></a><a id="d72777e2885" class="indexterm-anchor"></a> CLOSE禁用光标。在我们的示例中，CLOSE禁用EMPCURSOR，如下所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE EMPCURSOR END-EXEC</pre><div class="figure" id="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C__CDDDHFIG">
                           <p class="titleinfigure">图11-9 FETCH后选择描述符</p><img src="img/pco81013.gif" alt="下面是图11-9的描述" title="下面是图11-9的描述" longdesc="img_text/pco81013.html"><br><a href="img_text/pco81013.html">“图11-9 FETCH后选择描述符”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB783"></a><div class="props_rev_3"><a id="GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36" name="GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36"></a><h3 id="LNPCB-GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36" class="sect3"><span class="enumeration_section">11.7</span>使用方法4使用主机表</h3>
               <div>
                  <div class="section">
                     <p>要使用方法4的输入或输出主机表，必须使用可选的FOR子句告诉Oracle主机表的大小。有关FOR子句的详细信息，请参阅“主机表”。</p>
                     <p>设置第J个选择列表项或绑定变量的描述符条目，但SELDVLN（J）或BNDDVLN（J）不是寻址单个数据缓冲区，而是寻址数据缓冲区表。然后根据需要在EXECUTE或FETCH语句中使用FOR子句，以告知Oracle要处理的表元素的数量。</p>
                     <p>此过程是必要的，因为Oracle无法了解主机表的大小。</p>
                     <p>在以下示例中（仅32位），使用两个输入主机表将8对EMPNO和DEPTNO值插入到表EMP中。请注意，EXECUTE可用于方法4的非查询。</p><pre class="oac_no_warn" dir="ltr">识别部门。 PROGRAM-ID。 DYN4INS。环境部门。数据部门。工作储存部分。 01 BNDDSC。 02 SQLDNUM PIC S9（9）COMP VALUE 2。02 SQLDFND PIC S9（9）COMP。 02 BNDDVAR发生2次。 03 BNDDV PIC S9（9）COMP。 03 BNDDFMT PIC S9（9）COMP。 03 BNDDVLN PIC S9（9）COMP。 03 BNDDFMTL PIC S9（4）COMP。 03 BNDDVTYP PIC S9（4）COMP。 03 BNDDI PIC S9（9）COMP。 03 BNDDH-VNAME PIC S9（9）COMP。 03 BNDDH-MAX-VNAMEL PIC S9（4）COMP。 03 BNDDH-CUR-VNAMEL PIC S9（4）COMP。 03 BNDDI-VNAME PIC S9（9）COMP。 03 BNDDI-MAX-VNAMEL PIC S9（4）COMP。 03 BNDDI-CUR-VNAMEL PIC S9（4）COMP。 03 BNDDFCLP PIC S9（9）COMP。 03 BNDDFCRCP PIC S9（9）COMP。 01 XBNDDI。 03 BND-DI发生2次PIC S9（4）COMP。 01 XBNDDIVNAME。 03 BND-DI-VNAME发生2次PIC X（80）。01 XBNDDV。 *由于您知道SQL语句是什么，因此可以设置*最多包含2列和* 8行的二维表。每个元素最长可达10个字符。（您*可以根据您的需要更改这些值。）03 BND-COLUMN发生2次。 05 BND-ELEMENT发生8次PIC X（10）。01 XBNDDHVNAME。 03 BND-DH-VNAME发生2次PIC X（80）。01 COLUMN-INDEX PIC 999。01 ROW-INDEX PIC 999。01 DUMMY-INTEGER PIC 9999。EXEC SQL BEGIN DECLARE SECTION END-EXEC。 01 USERNAME PIC X（20）。01 PASSWD PIC X（20）。01 DYN-STATEMENT PIC X（80）。01行数PIC S9（4）COMP。 EXEC SQL END DECLARE SECTION END-EXEC。 EXEC SQL包含SQLCA END-EXEC。程序部门。 START-MAIN。执行SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC。将“SCOTT”移至USERNAME。将“TIGER”转移到PASSWD。 EXEC SQL CONNECT：USERNAME IDENTIFIED BY：PASSWD END-EXEC。显示“连接到Oracle”。*初始化绑定和选择描述符。执行INIT-BNDDSC THRU INIT-BNDDSC-EXIT变化列索引从1比1直到列指数&gt; 2。*设置SQL语句。向DYN-STATEMENT移动空间。移动“插入EMP（EMPNO，DEPTNO）值（：EMPNO，：DEPTNO）”到DYN-STATEMENT。显示DYN-STATEMENT。 *准备SQL语句。EXEC SQL PREPARE S1 FROM：DYN-STATEMENT END-EXEC。 *描述绑定变量。EXEC SQL描述了用于S1进入BNDDSC END-EXEC的绑定变量。执行Z-BIND型THRU Z-BIND-TYIT变异柱索引从1比1直到列指数&gt; 2。如果SQLDFND在BNDDSC &lt;0显示“太多的各种变量”。转到SQL-ERROR ELSE显示“BIND VARS =”没有推进将BNDDSC中的SQLDFND移动到DUMMY-INTEGER显示DUMMY-INTEGER将BNDDSC中的SQLDFND移动到BNDDSC中的SQLDNUM。移动8到行数。执行所有价值全部获得所有价值 - 从1比1出口不断变化的行指数直到行数指数&gt;行数。 *执行SQL语句。EXEC SQL FOR：行数执行S1使用DESCRIPTOR BNDDSC END-EXEC。显示“插入”没有进展。将SQLERRD（3）移到DUMMY-INTEGER。显示虚拟整合，没有进步。显示“行”。转到END-SQL。 SQL-ERROR。 *显示任何SQL错误消息和代码。显示SQLERRMC。 EXEC SQL ROLLBACK工作发布END-EXEC。停止运行。 END-SQL。执行SQL WHENEVER SQLERROR CONTINUE END-EXEC。 EXEC SQL COMMIT WORK RELEASE END-EXEC。停止运行。 INIT-BNDDSC。 *启动COBOL PERFORM过程，初始化bind *描述符。移动80到BNDDH-MAX-VNAMEL（COLUMN-INDEX）。CALL“SQLADR”使用BND-DH-VNAME（COLUMN-INDEX）BNDDH-VNAME（COLUMN-INDEX）。移动80到BNDDI-MAX-VNAMEL（COLUMN-INDEX）。使用BND-DI-VNAME（COLUMN-INDEX）BNDDI-VNAME（COLUMN-INDEX）调用“SQLADR”。移动10到BNDDVLN（COLUMN-INDEX）。使用BND-ELEMENT（COLUMN-INDEX，1）BNDDV（COLUMN-INDEX）调用“SQLADR”。移动到BNDDI（COLUMN-INDEX）。使用BND-DI（COLUMN-INDEX）BNDDI（COLUMN-INDEX）调用“SQLADR”。移动到BNDDFMT（COLUMN-INDEX）。移动到BNDDFMTL（COLUMN-INDEX）。移动到BNDDFCLP（COLUMN-INDEX）。移动到BNDDFCRCP（COLUMN-INDEX）。INIT-BNDDSC-EXIT。出口。 Z-BIND-TYPE。 *用0s将0s DESCRIBEd替换为数据类型表，以避免“无效数据类型”Oracle错误。移动1到BNDDVTYP（COLUMN-INDEX）。Z-BIND-TYPE-EXIT。出口。 GET-ALL-值。 *获取每一行的绑定变量。ROW-INDEX显示“输入行数值”。执行GIDE-BIND-VARS变化列索引从1比1直到列指数&gt;在BNDDSC中的SQLDFND。 GET-ALL值-EXIT。出口。 GET-BIND-VARS。 *获取每个绑定变量的值。显示“输入值”，BND-DH-VNAME（COLUMN-INDEX），没有任何进展。接受BND-ELEMENT（COLUMN-INDEX，ROW-INDEX）。GET-BIND-VARS-EXIT。出口。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="host-tables.html#GUID-11D1B8B5-B5E0-4EB8-8DCB-85D44752F7BB">主机表</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB784"></a><div class="props_rev_3"><a id="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49" name="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49"></a><h3 id="LNPCB-GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49" class="sect3"><span class="enumeration_section">11.8</span>示例程序10：动态SQL方法4</h3>
               <div>
                  <p>此程序显示使用动态SQL方法4所需的基本步骤。</p>
                  <div class="infoboxnote" id="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49__GUID-B8C2FA7F-0268-4A1B-B484-5ECBF2CF05DD">
                     <p class="notep1">注意：</p>
                     <p>以下示例仅为32位。为避免出现问题，请使用<code class="codeph">$ORACLE_HOME/precomp/demo/procob2/sample10.pco</code>的示例，并包含变量声明文件的正确版本。
                     </p>
                     <p><code class="codeph">bndsel.cob</code> <code class="codeph">precomp/public</code> （64位计算机）中的<code class="codeph">bndsel.cob</code> 64位版本</p>
                     <p><code class="codeph">bndsel.cob_32</code> <code class="codeph">precomp/public32</code> （64位计算机）中的32位版本</p>
                  </div>
                  <p>登录后，程序会提示用户输入SQL语句，准备语句，声明游标，使用DESCRIBE BIND检查任何绑定变量，打开游标，并描述任何选择列表变量。如果输入SQL语句是查询，程序将获取每行数据，然后关闭游标。<a id="d72777e2992" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">************************************************** ************* *示例程序10：动态SQL方法4 * * * *此程序显示使用动态* * SQL方法4所需的基本步骤。登录到ORACLE后，程序* *提示用户输入SQL语句，PREPAREs * *语句，DECLAREs游标，使用DESCRIBE BIND检查任何绑定变量* *，打开游标，然后DESCRIBE任何* * select-列表变量。如果输入的SQL语句是* *查询，程序会对每行数据进行FETCH，然后CLOSE * * *。* ************************************************* **************身份识别部门。 PROGRAM-ID。DYNSQL4。环境部门。数据部门。工作储存部分。 01 BNDDSC。 02 SQLDNUM PIC S9（9）COMP值20。02 SQLDFND PIC S9（9）COMP。 02 BNDDVAR发生20次。 03 BNDDV PIC S9（9）COMP。 03 BNDDFMT PIC S9（9）COMP。 03 BNDDVLN PIC S9（9）COMP。 03 BNDDFMTL PIC S9（4）COMP。 03 BNDDVTYP PIC S9（4）COMP。 03 BNDDI PIC S9（9）COMP。 03 BNDDH-VNAME PIC S9（9）COMP。 03 BNDDH-MAX-VNAMEL PIC S9（4）COMP。 03 BNDDH-CUR-VNAMEL PIC S9（4）COMP。 03 BNDDI-VNAME PIC S9（9）COMP。 03 BNDDI-MAX-VNAMEL PIC S9（4）COMP。 03 BNDDI-CUR-VNAMEL PIC S9（4）COMP。 03 BNDDFCLP PIC S9（9）COMP。 03 BNDDFCRCP PIC S9（9）COMP。 01 XBNDDI。 03 BND-DI发生20次PIC S9（4）COMP。 01 XBNDDIVNAME。 03 BND-DI-VNAME发生20次PIC X（80）。01 XBNDDV。 03 BND-DV发生20次PIC X（80）。01 XBNDDHVNAME。 03 BND-DH-VNAME发生20次PIC X（80）。01 SELDSC。 02 SQLDNUM PIC S9（9）COMP值20。02 SQLDFND PIC S9（9）COMP。 02 SELDVAR发生20次。 03 SELDV PIC S9（9）COMP。 03 SELDFMT PIC S9（9）COMP。 03 SELDVLN PIC S9（9）COMP。 03 SELDFMTL PIC S9（4）COMP。 03 SELDVTYP PIC S9（4）COMP。 03 SELDI PIC S9（9）COMP。 03 SELDH-VNAME PIC S9（9）COMP。 03 SELDH-MAX-VNAMEL PIC S9（4）COMP。 03 SELDH-CUR-VNAMEL PIC S9（4）COMP。 03 SELDI-VNAME PIC S9（9）COMP。 03 SELDI-MAX-VNAMEL PIC S9（4）COMP。 03 SELDI-CUR-VNAMEL PIC S9（4）COMP。 03 SELDFCLP PIC S9（9）COMP。 03 SELDFCRCP PIC S9（9）COMP。 01 XSELDI。 03 SEL-DI OCCURS 20次PIC S9（4）COMP。 01 XSELDIVNAME。 03 SEL-DI-VNAME发生20次PIC X（80）。01 XSELDV。 03 SEL-DV发生20次PIC X（80）。01 XSELDHVNAME。 03 SEL-DH-VNAME发生20次PIC X（80）。01表 - 索引PIC 9（3）。01 VAR-COUNT PIC 9（2）。01 ROW-COUNT PIC 9（4）。01 NO-MORE-DATA PIC X（1）值“N”。01 NULLS-ALLOWED PIC S9（9）COMP。 01 PRECISION PIC S9（9）COMP。 01 SCALE PIC S9（9）COMP。 01 DISPLAY-LENGTH PIC S9（9）COMP。 01 MAX-LENGTH PIC S9（9）COMP值80。01 COLUMN-NAME PIC X（30）。01 NULL-VAL PIC X（80）值空间。 EXEC SQL BEGIN DECLARE SECTION END-EXEC。 01 USERNAME PIC X（20）。01 PASSWD PIC X（20）。01 DYN-STATEMENT PIC X（80）。EXEC SQL END DECLARE SECTION END-EXEC。 EXEC SQL包含SQLCA END-EXEC。程序部门。 START-MAIN。执行SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC。显示“USERNAME：”，没有任何进展。接受用户名。显示“密码：”没有进展。接受PASSWD。 EXEC SQL CONNECT：USERNAME IDENTIFIED BY：PASSWD END-EXEC。显示“与用户ORACLE连接：”，USERNAME。 *初始化绑定和选择描述符。执行INIT-BNDDSC变化表索引从1比1直到表索引&gt; 20。执行INIT-SELDSC变化表索引从1比1直到表索引&gt; 20。*从操作员处获取SQL语句。显示“输入没有终结符的SQL语句：”。显示“&gt;”没有进展。接受DYN-STATEMENT。显示“”。*准备SQL语句并声明游标。 EXEC SQL PREPARE S1 FROM：DYN-STATEMENT END-EXEC。用于S1 END-EXEC的EXEC SQL DECLARE C1游标。 *描述任何绑定变量。 EXEC SQL描述了用于S1进入BNDDSC END-EXEC的绑定变量。如果SQLDFND在BNDDSC &lt;0显示“太多的各种变量”。转到结束 -  SQL ELSE显示“绑定变量的数量：”没有进展，将BNDDSC中的SQLDFND移动到VAR-COUNT显示VAR-COUNT将BNDDSC中的SQLDFND移动到BNDDSC END-IF中的SQLDNUM。 *用1S替换描述* BIND DESCRIPTOR的数据字段的0S以避免“无效数据”* ORACLE ERROR移动1到表索引。 FIX-BIND-TYPE。移动1到BNDDVTYP（表索引）向表索引添加1如果表索引&lt;= 20转到固定绑定类型。 *让用户填写各种变量。如果SQLDFND IN BNDDSC = 0转到描述项目。移动1到表索引。 GET-BIND-VAR。显示“输入值”，BND-DH-VNAME（TABLE-INDEX）。接受BND-DV（TABLE-INDEX）。添加1到TABLE-INDEX IF TABLE-INDEX &lt;= BNDDSC中的SQLDFND转到GET-BIND-VAR。 *打开游标并描述选择列表项目。 DESCRIBE项。 EXEC SQL OPEN C1使用DESCRIPTOR BNDDSC END-EXEC。 EXEC SQL描述S1进入SELDSC END-EXEC的选择列表。如果SELDSC中的SQLDFND &lt;0显示“太多选择列表项”。转到结束-SQL ELSE显示“选项列表项目的数量：”没有进展，在SELDSC中将SQLDFND传送到VAR-COUNT显示VAR-COUNT显示“”在SELDSC中将SQLDFND传送到SELDSC END-IF中的SQLDNUM。 *将所有选择列表项目的数据转换为VARCHAR2。如果SQLDSUM IN SELDSC&gt; 0执行COERCE-COLUMN-TYPE变化表索引从1乘1到UNTIL TABLE-INDEX&gt; SQLDNUM在SELDSC显示“”。*每个行和每个选项列表值。如果SQLDSUM IN SELDSC&gt; 0执行FETCH-ROWS直到NO-MORE-DATA =“Y”。显示“显示”处理的行数：“没有进展。将SQLERRD（3）移到ROW-COUNT。显示行数。 *清理和终止。 EXEC SQL CLOSE C1 END-EXEC。 EXEC SQL COMMIT WORK RELEASE END-EXEC。显示“”。显示“有一个好日子！”。显示“”。停止运行。 *显示ORACLE错误消息和代码。 SQL-ERROR。显示“”。显示SQLERRMC。 END-SQL。执行SQL WHENEVER SQLERROR CONTINUE END-EXEC。 EXEC SQL ROLLBACK工作发布END-EXEC。停止运行。 *在这里开始执行的子项目：* INIT-BNDDSC：初始化BIND DESCRIPTOR。 INIT-BNDDSC。将空间移动到BND-DH-VNAME（TABLE-INDEX）。移动80到BNDDH-MAX-VNAMEL（表 - 索引）。CALL“SQLADR”使用BND-DH-VNAME（TABLE-INDEX）BNDDH-VNAME（TABLE-INDEX）。将空格移动到BND-DI-VNAME（TABLE-INDEX）。移动80到BNDDI-MAX-VNAMEL（表 - 索引）。使用BND-DI-VNAME（TABLE-INDEX）BNDDI-VNAME（TABLE-INDEX）调用“SQLADR”。将空间移动到BND-DV（TABLE-INDEX）。移动80到BNDDVLN（表 - 索引）。使用BND-DV（TABLE-INDEX）BNDDV（TABLE-INDEX）调用“SQLADR”。移动到BND-DI（表 - 索引）。使用BND-DI（TABLE-INDEX）BNDDI（TABLE-INDEX）调用“SQLADR”。移动到BNDDFMT（表 - 索引）。移动到BNDDFMTL（表 - 索引）。移动到BNDDFCLP（表 - 索引）。移动零到BNDDFCRCP（TABLE-INDEX）。* INIT-SELDSC：初始化SELECT DESCRIPTOR。 INIT-SELDSC。将空间移动到SEL-DH-VNAME（TABLE-INDEX）。移动80到SELDH-MAX-VNAMEL（表 - 索引）。使用SEL-DH-VNAME（TABLE-INDEX）SELDH-VNAME（TABLE-INDEX）调用“SQLADR”。将空格移动到SEL-DI-VNAME（TABLE-INDEX）。移动80到SELDI-MAX-VNAMEL（表索引）。使用SEL-DI-VNAME（TABLE-INDEX）SELDI-VNAME（TABLE-INDEX）调用“SQLADR”。将空间移动到SEL-DV（TABLE-INDEX）。移动80到SELDVLN（TABLE-INDEX）。使用SEL-DV（TABLE-INDEX）SELDV（TABLE-INDEX）调用“SQLADR”。移动零到SEL-DI（表索引）。使用SEL-DI（TABLE-INDEX）SELDI（TABLE-INDEX）调用“SQLADR”。移动到SELDFMT（TABLE-INDEX）。移动零到SELDFMTL（TABLE-INDEX）。将零移至SELDFCLP（TABLE-INDEX）。将零移至SELDFCRCP（TABLE-INDEX）。* COERCE SELECT-LIST DATATYPES到VARCHAR2。强制列-TYPE。使用SELDVTYP（TABLE-INDEX）调用“SQLNUL”SELDVTYP（TABLE-INDEX）NULLS-ALLOWED。 *如果DATATYPE是日期，长度为9个字符。如果SELDVTYP（TABLE-INDEX）= 12移动9到SELDVLN（TABLE-INDEX）。*如果数字是数字，则设置精确度。如果SELDVTYP（TABLE-INDEX）= 2调用“SQLPRC”使用SELDVLN（TABLE-INDEX）精度等级。移动0显示 - 长度。如果SELDVTYP（TABLE-INDEX）= 2且PRECISION = 0则移动40到显示长度。如果SELDVTYP（表 - 索引）= 2且精度&gt; 0则添加2以精确度显示精度以显示长度。如果SELDVTYP（表索引）= 2如果显示长度&gt;最大长度显示“列值对于数据缓冲区来说太大了”。转到结束 -  SQL ELSE显示SELDVLN（TABLE-INDEX）的显示长度。* COCHCE DATATYPES到VARCHAR2。移动1到SELDVTYP（TABLE-INDEX）。*显示栏目标题。将SEL-DH-VNAME（TABLE-INDEX）移动到列名称。显示栏名称（1：SELDVLN（TABLE-INDEX）），“”没有进展。 * FETCH A ROW并打印选择列表值。获取 - 行。 EXEC SQL FETCH C1使用DESCRIPTOR SELDSC END-EXEC。如果SQLCODE NOT = 0，则将“Y”移动到NO-MORE-DATA。如果SQLCODE = 0执行打印列值，则从1比1改变表索引UNTIL TABLE-INDEX&gt; SELDNC显示中的SQLDNUM“”。*打印选择列表值。 PRINT列值。 IF SEL-DI（TABLE-INDEX）= -1显示NULL-VAL（1：SELDVLN（TABLE-INDEX）），“”没有高级ELSE显示SEL-DV（表索引）（1：SELDVLN（表索引） ）），“”没有先进的结束 - 如果。</pre></div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04094.Oracle-extensions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Extensions</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JDBC-standards-support.html" title="Previous" type="text/html"></link>
      <link rel="next" href="JDBC-Thin-features.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-standards-support.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="JDBC-Thin-features.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-Oracle-JDBC.html" property="item" typeof="WebPage"><span property="name">Oracle JDBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Extensions</li>
            </ol>
            <a id="GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652" name="GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652"></a><a id="JJDBC28120"></a>
            
            <h2 id="JJDBC-GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652" class="sect2"><span class="enumeration_chapter">4个</span> Oracle扩展</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d23567e21" class="indexterm-anchor"></a><a id="d23567e25" class="indexterm-anchor"></a> Oracle提供了扩展Java数据库连接（JDBC）标准实现的Java类和接口，使您能够访问和操作Oracle数据类型并使用Oracle性能扩展。本章概述了Oracle提供的扩展JDBC标准实现的类和接口。它还描述了扩展的一些关键支持功能。
               </p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2">Oracle Extensions概述</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-868B15D0-71BF-4501-83F6-11ABCE319803">Oracle Extensions的功能</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-D61F7AAC-3708-4437-8070-52F707B68259">Oracle JDBC包</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E">Oracle字符数据类型支持</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96">其他Oracle Type Extensions</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-9EC82134-1206-4325-A17B-9FA7610F0169">DML返回</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB">访问PL / SQL关联数组</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="performance-extensions.html#GUID-FEECA64F-44F4-453F-B8A8-AFBF6D29ABA4">性能扩展</a></li>
                  </ul>
               </div>
            </div>
            <a id="JJDBC28121"></a><div class="props_rev_3"><a id="GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2" name="GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2"></a><h3 id="JJDBC-GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2" class="sect3"><span class="enumeration_section">4.1</span> Oracle Extensions概述</h3>
               <div>
                  <p>除标准功能外，Oracle JDBC驱动程序还提供特定于Oracle的类型扩展和性能扩展。这些扩展通过以下Java包提供：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">oracle.sql</code></p>
                        <p>提供以Oracle格式表示SQL数据的类</p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.jdbc</code></p>
                        <p>提供支持Oracle类型格式的数据库访问和更新的接口</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="Oracle-extensions.html#GUID-D61F7AAC-3708-4437-8070-52F707B68259">Oracle JDBC包</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28122"></a><div class="props_rev_3"><a id="GUID-868B15D0-71BF-4501-83F6-11ABCE319803" name="GUID-868B15D0-71BF-4501-83F6-11ABCE319803"></a><h3 id="JJDBC-GUID-868B15D0-71BF-4501-83F6-11ABCE319803" class="sect3"><span class="enumeration_section">4.2</span> Oracle Extensions的功能</h3>
               <div>
                  <div class="section">
                     <p>Oracle的JDBC扩展包括许多增强您使用Oracle数据库的功能。这些包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B">使用JDBC进行数据库管理</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-98B72A83-155A-438A-BC8A-C88F89D24233">支持Oracle数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-2B5B46DD-5608-4407-A5D9-4944567487D1">支持Oracle Objects</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C">支持架构命名</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235">DML返回</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A">关于访问PL / SQL关联数组</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28123"></a><div class="props_rev_3"><a id="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B" name="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B"></a><h4 id="JJDBC-GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B" class="sect4"><span class="enumeration_section">4.2.1</span>使用JDBC进行数据库管理</h4>
                  <div>
                     <div class="section">
                        <p>从Oracle Database <span class="italic">11g</span>第1版开始， <code class="codeph">oracle.jdbc.OracleConnection</code>接口有两个JDBC方法， <code class="codeph">startup</code>和<code class="codeph">shutdown</code> ，使您可以启动和关闭Oracle数据库实例。
                        </p>
                        <div class="infoboxnote" id="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B__GUID-8738A08A-2248-4076-B7CD-6E9975A4FFC3">
                           <p class="notep1">注意：</p>
                           <p>我的Oracle支持说明335754.1宣布Oracle Database <span class="italic">11g</span> JDBC驱动程序中对<code class="codeph">oracle.jdbc.driver.*</code>包的支持。换句话说，Oracle Database <span class="italic">10g</span>第2版是支持此软件包的最后一个数据库，任何依赖于<code class="codeph">oracle.jdbc.driver.*</code>软件包的API都无法在当前版本的数据库中进行编译。您必须删除此类API并迁移到标准API。例如，如果您的代码使用<code class="codeph">oracle.jdbc.CustomDatum</code>和<code class="codeph">oracle.jdbc.CustomDatumFactory</code>接口，然后必须用<code class="codeph">java.sql.替换它们<code class="codeph">java.sql.Struct</code>或<code class="codeph">java.sql.SQLData</code>接口。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-administration.html#GUID-6EC16CE6-5734-473E-A270-EB387A9C0043">数据库管理</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28125"></a><div class="props_rev_3"><a id="GUID-98B72A83-155A-438A-BC8A-C88F89D24233" name="GUID-98B72A83-155A-438A-BC8A-C88F89D24233"></a><h4 id="JJDBC-GUID-98B72A83-155A-438A-BC8A-C88F89D24233" class="sect4"><span class="enumeration_section">4.2.2</span>支持Oracle数据类型</h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC扩展的一个特性是类型支持<a id="d23567e283" class="indexterm-anchor"></a> <code class="codeph">oracle.sql</code>包。此包包含的类是Oracle格式数据的精确表示。在程序中使用<code class="codeph">oracle.sql</code>类型时，请记住以下要点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于数字类型的数据，由于数据转换过程的限制，转换为标准Java类型并不能保证保持完整的精度。使用<code class="codeph">BigDecimal</code>类型可以最大限度地减少任何数据丢失问题。
                              </p>
                           </li>
                           <li>
                              <p>对于某些数据类型，转换为标准Java类型可能取决于系统设置，并且您的程序可能无法按预期运行。将数据从<code class="codeph">oracle.sql</code>类型转换为标准Java类型时，这是一个已知的限制。
                              </p>
                           </li>
                           <li>
                              <p>如果程序的功能仅限于从一个表读取数据并将其写入另一个表，那么对于数字和日期数据，与标准Java类型相比， <code class="codeph">oracle.sql</code>类型稍微快一些。但是，如果您的程序甚至涉及比较或打印等简单的数据操作操作，那么标准Java类型会更快。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。CHAR</code>不是Oracle格式数据的精确表示。 <code class="codeph">oracle.sql.CHAR</code>由<code class="codeph">java.lang.构造<code class="codeph">java.lang.String</code> 。使用<code class="codeph">oracle.sql.没有任何优势<code class="codeph">oracle.sql.CHAR</code>因为<code class="codeph">java.lang.String</code>总是更快并且表示相同的字符集，不包括一些不支持的字符集。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-98B72A83-155A-438A-BC8A-C88F89D24233__GUID-2B89DBAD-D736-4D0F-8676-47D21B701124">
                           <p class="notep1">注意：</p>
                           <p>Oracle强烈建议您使用标准Java类型，并将任何现有的<code class="codeph">oracle.sql</code>类型的数据转换为标准Java类型。在内部，Oracle JDBC驱动程序致力于最大化Java标准类型的性能。支持<code class="codeph">oracle.sql</code>类型<span class="italic">只是</span>为了向后兼容，不鼓励使用它们。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53">包oracle.sql</a></li>
                           <li><a href="Oracle-extensions.html#GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E">Oracle字符数据类型支持</a></li>
                           <li><a href="Oracle-extensions.html#GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96">其他Oracle Type Extensions</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28126"></a><div class="props_rev_3"><a id="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1" name="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1"></a><h4 id="JJDBC-GUID-2B5B46DD-5608-4407-A5D9-4944567487D1" class="sect4"><span class="enumeration_section">4.2.3</span>支持Oracle Objects</h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC支持在数据库中使用结构化对象，其中对象数据类型是具有嵌套属性的用户定义类型。例如，用户应用程序可以定义<code class="codeph">Employee</code>对象类型，其中每个<code class="codeph">Employee</code>对象都具有<code class="codeph">firstname</code>属性（字符串）， <code class="codeph">lastname</code>属性（字符串）和<code class="codeph">employeenumber</code>属性（整数）。
                        </p>
                        <p>Oracle JDBC支持Oracle对象数据类型。在Java应用程序中使用Oracle对象数据类型时，必须考虑以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如何在Oracle对象数据类型和Java类之间进行映射</p>
                           </li>
                           <li>
                              <p>如何在相应的Java对象中存储Oracle对象属性</p>
                           </li>
                           <li>
                              <p>如何在SQL和Java格式之间转换属性数据</p>
                           </li>
                           <li>
                              <p>如何访问数据</p>
                           </li>
                        </ul>
                        <p>Oracle对象可以映射到弱<code class="codeph">java.sql.Struct</code>类型或强类型自定义类。这些强类型被称为<a id="d23567e429" class="indexterm-anchor"></a>自定义Java类，必须实现标准<code class="codeph">java.sql.SQLData</code>接口或Oracle扩展<code class="codeph">oracle.jdbc.OracleData</code>接口。每个接口都指定在SQL和Java之间转换数据的方法。
                        </p>
                        <div class="infoboxnote" id="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1__GUID-C4651E43-F902-4F14-878D-E53083867727">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">OracleData</code>接口已取代<code class="codeph">ORAData</code>接口。
                           </p>
                        </div>
                        <p>Oracle建议使用Oracle JVM Web服务调用实用程序来创建与Oracle对象对应的自定义Java类。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50">使用Oracle对象类型</a></li>
                           <li><a href="../jjdev/database-as-web-service-consumer.html#JJDEV-GUID-E66168C4-6043-4A49-9062-A4937B76ABC0" target="_blank"><span><cite>Oracle数据库Java开发人员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28127"></a><div class="props_rev_3"><a id="GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C" name="GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C"></a><h4 id="JJDBC-GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C" class="sect4"><span class="enumeration_section">4.2.4</span>支持模式命名</h4>
                  <div>
                     <p>Oracle对象数据类型类具有接受和返回完全限定的模式名称的能力。完全限定的模式名称具有以下语法：</p><pre class="oac_no_warn" dir="ltr">{[ <span class="italic">schema_name</span> ]。} [ <span class="italic">sql_type_name]</span> 
 </pre><p>其中， <span class="italic"><code class="codeph">schema_name</code></span>是模式的名称， <span class="italic"><code class="codeph">sql_type_name</code></span>是对象的SQL类型名称。 <span class="italic"><code class="codeph">schema_name</code></span>和<span class="italic"><code class="codeph">sql_type_name</code></span>由句点（ <code class="codeph">.</code> ）分隔。
                     </p>
                     <p>要在JDBC中指定对象类型，请使用其完全限定名称。如果类型名称在当前命名空间（即当前架构）中，则无需输入架构名称。模式命名遵循以下规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>架构名称和类型名称都可以在引号内，也可以不在引号内。但是，如果SQL类型名称中包含句点，例如<code class="codeph">CORPORATE.EMPLOYEE</code> ，则必须引用类型名称。
                           </p>
                        </li>
                        <li>
                           <p>JDBC驱动程序在对象名称中查找不在引号内的第一个句点，并使用句点之前的字符串作为模式名称，并将句点后面的字符串用作类型名称。如果未找到句点，则JDBC驱动程序将当前架构视为默认值。也就是说，如果对象类型名称属于当前架构，则只能指定类型名称而不指示架构，而不是指定完全限定名称。这也解释了为什么必须在类型名称中包含点的情况下将类型名称放在引号内。</p>
                           <p>例如，假设用户<code class="codeph">HR</code>创建了一个名为<code class="codeph">person.address</code>的类型，然后想要在他的会话中使用它。<code class="codeph">HR</code>可能希望跳过模式名称并将<code class="codeph">person.address</code>传递给JDBC驱动程序。在这种情况下，如果<code class="codeph">person.address</code>不在引号内，则检测到句点，并且JDBC驱动程序错误地将<code class="codeph">person</code>解释为模式名称和<code class="codeph">address</code>作为类型名称。
                           </p>
                        </li>
                        <li>
                           <p>JDBC将对象类型名称字符串传递给数据库不变。也就是说，即使对象类型名称在引号内，JDBC驱动程序也不会更改字符大小写。</p>
                           <p>例如，如果<code class="codeph">HR.PersonType</code>作为对象类型名称传递给JDBC驱动程序，则JDBC驱动程序将字符串传递给数据库不变。另一个例子，如果类型名称字符串中的字符之间有空格，则JDBC驱动程序不会删除空格。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JJDBC28128"></a><div class="props_rev_3"><a id="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235" name="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235"></a><h4 id="JJDBC-GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235" class="sect4"><span class="enumeration_section">4.2.5</span> DML返回</h4>
                  <div>
                     <div class="section">
                        <p>Oracle数据库支持将<code class="codeph">RETURNING</code>子句与数据操作语言（DML）语句一起使用。这使您可以将两个SQL语句合并为一个。Oracle JDBC Oracle调用接口（OCI）驱动程序和Oracle JDBC Thin驱动程序都支持DML返回。
                        </p>
                        <div class="infoboxnotealso" id="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235__GUID-4713F5FF-DAFE-4DDF-92D2-98EF0E263B92">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="Oracle-extensions.html#GUID-9EC82134-1206-4325-A17B-9FA7610F0169">DML回归</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28129"></a><div class="props_rev_3"><a id="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A" name="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A"></a><h4 id="JJDBC-GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A" class="sect4"><span class="enumeration_section">4.2.6</span> PL / SQL关联数组</h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC驱动程序使JDBC应用程序能够使用关联数组参数进行PL / SQL调用。Oracle JDBC驱动程序支持标量数据类型的PL / SQL关联数组</p>
                        <div class="infoboxnotealso" id="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A__GUID-DC8286DE-0320-4779-936C-D430454421EE">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="Oracle-extensions.html#GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB">访问PL / SQL关联数组</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28130"></a><div class="props_rev_3"><a id="GUID-D61F7AAC-3708-4437-8070-52F707B68259" name="GUID-D61F7AAC-3708-4437-8070-52F707B68259"></a><h3 id="JJDBC-GUID-D61F7AAC-3708-4437-8070-52F707B68259" class="sect3"><span class="enumeration_section">4.3</span> Oracle JDBC包</h3>
               <div>
                  <div class="section">
                     <p>本节介绍以下支持Oracle JDBC扩展的Java包：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53">包oracle.sql</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66">包oracle.jdbc</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28132"></a><a id="JJDBC28133"></a><a id="JJDBC28134"></a><a id="JJDBC28136"></a><a id="JJDBC28137"></a><a id="JJDBC28138"></a><a id="JJDBC28139"></a><a id="JJDBC28131"></a><div class="props_rev_3"><a id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" name="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53"></a><h4 id="JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" class="sect4"><span class="enumeration_section">4.3.1</span>打包oracle.sql</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">oracle.sql</code>包支持以SQL格式直接访问数据。该包主要包含为SQL数据类型及其支持类提供Java映射的类。本质上，这些类充当SQL数据的Java容器。
                        </p>
                        <p>每个<code class="codeph">oracle.sql.*</code>数据类型类都扩展了<code class="codeph">oracle.sql.Datum</code> ，一个封装所有数据类型共有的功能的超类。某些类适用于符合JDBC 2.0的数据类型。这些类在<code class="codeph">java.sql</code>包中实现标准的JDBC 2.0接口，以及扩展<code class="codeph">oracle.sql.Datum</code>类。
                        </p>
                        <p><code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code> SQL类型和<code class="codeph">REF</code> <code class="codeph">CURSOR</code>类型类没有<code class="codeph">oracle.sql.*</code>类。对这些类型使用标准JDBC功能。例如，使用标准JDBC结果集和可调用语句方法<code class="codeph">getBinaryStream</code>和<code class="codeph">getCharacterStream</code>检索<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据作为输入流。对<code class="codeph">REF</code> <code class="codeph">CURSOR</code>类型使用<code class="codeph">getCursor</code>方法。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-7FC029E1-8DDA-4D00-8AA2-7E42A285F657">
                           <p class="notep1">注意：</p>
                           <p>Oracle建议尽可能使用标准JDBC类型或Java类型。提供<code class="codeph">oracle.sql.*</code>包中的类型主要是为了向后兼容或支持一些Oracle特定功能，如<code class="codeph">OPAQUE</code> ， <code class="codeph">OracleData</code> ， <code class="codeph">TIMESTAMPTZ</code>等。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-71C625B6-4E30-487F-9C52-5CE080BCD26A">一般oracle.sql。*数据类型支持</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每一个<a id="d23567e802" class="indexterm-anchor"></a> Oracle数据类型类提供了以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据存储为SQL数据的Java字节数组</p>
                           </li>
                           <li>
                              <p>一个<code class="codeph">getBytes()</code>方法，它将SQL数据作为字节数组返回</p>
                           </li>
                           <li>
                              <p>一种<code class="codeph">toJdbc()</code>方法，它将数据转换为JDBC规范中定义的相应Java类的对象</p>
                              <p>JDBC驱动程序不转换不属于JDBC规范的特定于Oracle的数据类型，例如<code class="codeph">BFILE</code> 。驱动程序以相应的<code class="codeph">oracle.sql.*</code>格式返回对象。
                              </p>
                           </li>
                           <li>
                              <p>适当的<span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">Value</code>方法将SQL数据转换为Java类型。例如， <code class="codeph">stringValue</code> ， <code class="codeph">intValue</code> ， <code class="codeph">booleanValue</code> ， <code class="codeph">dateValue</code>和<code class="codeph">bigDecimalValue</code></p>
                           </li>
                           <li>
                              <p>其他转换方法，根据需要<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>和<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span>以获取数据类型的功能，例如将数据作为流获取的大对象（LOB）类中的方法以及获取和设置对象的<code class="codeph">REF</code>类中的方法数据通过对象引用。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__I1075337">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-274246BF-8C24-4569-9C06-2F7F26A14E15">类oracle.sql概述。STRUCT</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">oracle.sql。STRUCT</code>类是<code class="codeph">java.sql.的Oracle实现<code class="codeph">java.sql.Struct</code>界面。此类是值类，您不应在构造后更改类的内容。与所有<code class="codeph">oracle.sql.*</code>数据类型类一样，此类是<code class="codeph">oracle.sql.的子类<code class="codeph">oracle.sql.Datum</code>类。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-42E3AD51-0D59-4EB3-AFB0-C6FB9E69EEE7">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.不推荐使用STRUCT</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleStruct</code>接口，它是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle强烈建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以获得Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleStruct</code>接口。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-EBA55865-F5EA-4C0D-BBA5-7DCBC0BAC8EC">类oracle.sql概述。REF</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">oracle.sql.REF</code>类是支持Oracle对象引用的泛型类。与所有<code class="codeph">oracle.sql.*</code>数据类型类一样，此类是<code class="codeph">oracle.sql.的子类<code class="codeph">oracle.sql.Datum</code>类。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-70192D47-A0D5-4EFC-B689-A3733F21B37F">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.不推荐使用REF</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleRef</code>接口，它是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle强烈建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以获得Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleRef</code>接口。
                           </p>
                        </div>
                        <p><code class="codeph">REF</code>类具有检索和传递对象引用的方法。但是，选择对象引用仅检索指向对象的指针。这不会实现对象本身。但<code class="codeph">REF</code>类还包括检索和传递对象数据的方法。您无法在JDBC应用程序中创建<code class="codeph">REF</code>对象。您只能从数据库中检索现有的<code class="codeph">REF</code>对象。
                        </p>
                        <p>您应该使用JDBC标准类型<code class="codeph">java.sql.Ref</code>和JDBC标准方法优先使用<code class="codeph">oracle.sql.REF</code> 。如果希望代码更具可移植性，则必须使用标准类型，因为只有Oracle JDBC驱动程序才会使用<code class="codeph">oracle.sql.实例<code class="codeph">oracle.sql.REF</code>类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-3162BA52-E80E-4EC3-8B0C-573B70FFE05C">类oracle.sql概述。BLOB，oracle.sql。CLOB，oracle.sql。BFILE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d23567e985" class="indexterm-anchor"></a><a id="d23567e987" class="indexterm-anchor"></a><a id="d23567e989" class="indexterm-anchor"></a><a id="d23567e991" class="indexterm-anchor"></a><a id="d23567e995" class="indexterm-anchor"></a><a id="d23567e999" class="indexterm-anchor"></a>二进制大对象（BLOB），字符大对象（CLOB）和二进制文件（BFILE）用于太大而无法直接存储在数据库表中的数据项。相反，数据库表存储指向实际数据位置的定位器。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-00FA74C8-7830-4208-81BF-CCA02015CF00">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.BLOB</code>和<code class="codeph">Oracle.sql.不推荐使用CLOB</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleBlob</code>和<code class="codeph">oracle.jdbc.OracleClob</code>接口分别是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle强烈建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以获得Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleBlob</code>和<code class="codeph">oracle.jdbc.OracleClob</code>接口。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">oracle.sql。BFILE</code>是Oracle专有扩展，没有等效的JDBC标准。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p><code class="codeph">oracle.sql</code>包以几种方式支持这些数据类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>BLOB指向大型非结构化二进制数据项，并由<code class="codeph">oracle.sql.支持<code class="codeph">oracle.sql.BLOB</code>类。
                              </p>
                           </li>
                           <li>
                              <p>CLOB指向大字符数据项，并由<code class="codeph">oracle.sql.支持<code class="codeph">oracle.sql.CLOB</code>类。
                              </p>
                           </li>
                           <li>
                              <p>BFILE指向外部文件（操作系统文件）的内容，并受<code class="codeph">oracle.sql.支持<code class="codeph">oracle.sql.BFILE</code>类。BFiles是只读的。
                              </p>
                           </li>
                        </ul>
                        <p>你可以选择一个BLOB， <a id="d23567e1071" class="indexterm-anchor"></a><a id="d23567e1075" class="indexterm-anchor"></a> CLOB，或<a id="d23567e1082" class="indexterm-anchor"></a>来自数据库的BFILE定位器使用标准的<code class="codeph">SELECT</code>语句。但是，您只收到定位器，而不是数据。检索数据需要其他步骤。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-F81B776A-7B4E-44CC-907F-0A8F9D665FB7">类oracle.sql概述。DATE，oracle.sql。NUMBER和oracle.sql。生的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d23567e1093" class="indexterm-anchor"></a><a id="d23567e1095" class="indexterm-anchor"></a><a id="d23567e1097" class="indexterm-anchor"></a><a id="d23567e1099" class="indexterm-anchor"></a><a id="d23567e1101" class="indexterm-anchor"></a><a id="d23567e1103" class="indexterm-anchor"></a><a id="d23567e1105" class="indexterm-anchor"></a><a id="d23567e1109" class="indexterm-anchor"></a>这些类在Oracle本机表示中包含原始SQL数据类型。在大多数情况下，驱动程序不会在内部使用这些类型，您应该使用标准JDBC类型。
                        </p>
                        <p>Java <code class="codeph">Double</code>和<code class="codeph">Float</code> <code class="codeph">NaN</code>值没有等效的Oracle <code class="codeph">NUMBER</code>表示。例如，对于Oracle <code class="codeph">BINARY_FLOAT</code>和<code class="codeph">BINARY_DOUBLE</code>数据类型，负零被强制为正零，并且所有NaN都被强制转换为规范的NaN。因此，只要<code class="codeph">Double. ，就会抛出<code class="codeph">NullPointerException</code> <code class="codeph">Double.NaN</code>值或<code class="codeph">Float.使用<code class="codeph">oracle.sql. NaN</code>值转换为Oracle <code class="codeph">NUMBER</code> <code class="codeph">oracle.sql.NUMBER</code>班。例如，以下代码抛出<code class="codeph">NullPointerException</code> ：</p><pre class="oac_no_warn" dir="ltr">oracle.sql。NUMBER n =新的oracle.sql。数（双。NAN）;的System.out.println（n.doubleValue（））; //抛出NullPointerException</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-E3A7683E-90A3-481E-BB42-4628106CD2BD">类oracle.sql概述。TIMESTAMP，oracle.sql。TIMESTAMPTZ和oracle.sql。TIMESTAMPLTZ</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>JDBC驱动程序支持以下日期/时间数据类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">TIMESTAMP</code> （ <code class="codeph">TIMESTAMP</code> ）</p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code> （ <code class="codeph">TIMESTAMPTZ</code> ）</p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> （ <code class="codeph">TIMESTAMPLTZ</code> ）</p>
                           </li>
                        </ul>
                        <p>JDBC驱动程序允许<code class="codeph">DATE</code>和日期/时间数据类型之间的转换。例如，您可以将<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列作为<code class="codeph">DATE</code>值进行访问。
                        </p>
                        <p>JDBC驱动程序支持业界使用的最流行的时区名称以及JDK中定义的大多数时区名称。使用<code class="codeph">java.util.指定时区<code class="codeph">java.util.TimeZone</code>类。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-88138F75-1730-4ED5-9818-0D3029DBAFD3">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>不要使用<code class="codeph">TimeZone.getTimeZone</code>来创建时区对象。Oracle时区数据类型支持的时区名称多于JDK。</p>
                              </li>
                              <li>
                                 <p>如果结果集包含<code class="codeph">TIMESTAMPLTZ</code>列，后跟<code class="codeph">LONG</code>列，则读取<code class="codeph">LONG</code>列会导致错误。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>以下代码显示如何为<code class="codeph">US_PACIFIC</code>创建<code class="codeph">TimeZone</code>和<code class="codeph">Calendar</code>对象， <code class="codeph">US_PACIFIC</code>是JDK中未定义的时区名称：</p><pre class="oac_no_warn" dir="ltr">TimeZone tz = TimeZone.getDefault（）; tz.setID（ “US_PACIFIC”）; GregorianCalendar gcal = new GregorianCalendar（tz）;</pre><p>以下Java类表示SQL日期/时间类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.sql。TIMESTAMP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。TIMESTAMPTZ</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。TIMESTAMPLTZ</code></p>
                           </li>
                        </ul>
                        <p>在<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>数据访问<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>之前，请调用<code class="codeph">OracleConnection.setSessionTimeZone(String regionName)</code>方法来设置会话时区。调用此方法时，JDBC驱动程序会设置连接的会话时区并保存会话时区，以便可以使用会话时区调整通过JDBC访问的任何<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>数据。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-C7C1A672-4B20-4EC5-A512-44EDC2BAAAEA">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code>和<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>类型可以表示为标准<code class="codeph">java.sql.Timestamp</code>类型。<code class="codeph">TIMESTAMP WITH TIME ZONE</code>和<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>类型的字节表示<code class="codeph">java.sql.为<code class="codeph">java.sql.Timestamp</code>是直截了当的。这是因为<code class="codeph">TIMESTAMP WITH TIME ZONE</code>和<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>数据类型的内部格式是GMT和<code class="codeph">java.sql.Timestamp</code>类型对象在内部使用毫秒时间值，该值是自EPOCH以来的毫秒数。但是，这些数据类型的<code class="codeph">String</code>表示需要从服务器动态获取并在客户端缓存的时区信息。
                           </p>
                           <p>在早期版本的JDBC驱动程序中，时区缓存是在不同连接之间共享的。由于各个时区的不兼容性，这通常会导致问题。从Oracle Database 11版本的JDBC驱动程序开始，时区缓存基于数据库提供的时区版本。这种新设计的缓存可避免与时区版本不兼容相关的任何问题。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-85C16990-1115-4B49-B5D7-E31C27FB388E">类oracle.sql概述。不透明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">oracle.sql.OPAQUE</code>类提供<code class="codeph">OPAQUE</code>类型的名称和特征以及任何属性。<code class="codeph">OPAQUE</code>类型仅提供对实例的不间断字节的访问。
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-E810526C-912F-4B39-B32F-473276E15648">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">oracle.sql.不推荐使用OPAQUE</code>类，并将其替换为<code class="codeph">oracle.jdbc.OracleOpaque</code>接口，它是<code class="codeph">oracle.jdbc</code>包的一部分。Oracle建议您尽可能使用<code class="codeph">java.sql</code>包中提供的方法，以<code class="codeph">java.sql</code> Oracle特定扩展的<code class="codeph">oracle.jdbc</code>包中提供的标准兼容性和方法。有关<code class="codeph">oracle.jdbc.更多信息，请参阅MoS Note 1364193.1 <code class="codeph">oracle.jdbc.OracleOpaque</code>接口。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../sqlrf/Data-Types.html#SQLRF-GUID-75209AF6-476D-4C44-A5DC-5FA70D701B78" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                           <li><a href="http://docs.oracle.com/database/122/JAJDB/" target="_blank">JDBC Java API参考</a></li>
                           <li><a href="LOBs-and-BFiles.html#GUID-401E10DB-16B5-41C9-965E-E5F286F01E4C">使用LOB和BFILE</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28140"></a><div class="props_rev_3"><a id="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66" name="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66"></a><h4 id="JJDBC-GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66" class="sect4"><span class="enumeration_section">4.3.2</span>打包oracle.jdbc</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">oracle.jdbc</code>包的接口定义了<code class="codeph">java.sql</code>接口的Oracle扩展。这些扩展提供对Oracle SQL格式数据和其他Oracle特定功能的访问，包括Oracle性能增强。
                        </p>
                        <div class="infoboxnotealso" id="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66__GUID-487760FD-FA2C-4245-AB6D-019381E17145">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6">oracle.jdbc包</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28141"></a><div class="props_rev_3"><a id="GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E" name="GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E"></a><h3 id="JJDBC-GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E" class="sect3"><span class="enumeration_section">4.4</span> Oracle字符数据类型支持</h3>
               <div>
                  <div class="section">
                     <p>Oracle字符数据类型包括SQL CHAR和NCHAR数据类型。以下部分描述了如何使用<code class="codeph">oracle.sql.*</code>类访问这些数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8">SQL CHAR数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-9EFED893-8352-4E90-90DA-436D3727F02F">SQL NCHAR数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88">类oracle.sql。CHAR</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28142"></a><div class="props_rev_3"><a id="GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8" name="GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8"></a><h4 id="JJDBC-GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8" class="sect4"><span class="enumeration_section">4.4.1</span> SQL CHAR数据类型</h4>
                  <div>
                     <div class="section">
                        <p>SQL CHAR数据类型包括<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code>和<code class="codeph">CLOB</code> 。这些数据类型允许您以数据库字符集编码方案存储字符数据。创建数据库时会建立数据库的字符集。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28143"></a><div class="props_rev_3"><a id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F" name="GUID-9EFED893-8352-4E90-90DA-436D3727F02F"></a><h4 id="JJDBC-GUID-9EFED893-8352-4E90-90DA-436D3727F02F" class="sect4"><span class="enumeration_section">4.4.2</span> SQL NCHAR数据类型</h4>
                  <div>
                     <div class="section">
                        <p>为全球化支持创建了SQL <code class="codeph">NCHAR</code>数据类型。SQL <code class="codeph">NCHAR</code>数据类型包括<code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">NCLOB</code> 。这些数据类型使您可以存储<a id="d23567e1509" class="indexterm-anchor"></a>数据库中的Unicode数据<code class="codeph">NCHAR</code>字符集编码。在创建数据库时，将建立永不更改的<code class="codeph">NCHAR</code>字符集。
                        </p>
                        <div class="infoboxnote" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-4B4F4832-1342-44D0-B446-760B6936015C">
                           <p class="notep1">注意：</p>
                           <p>由于不推荐使用<code class="codeph">UnicodeStream</code>类而使用<code class="codeph">CharacterStream</code>类，因此<code class="codeph">NCHAR</code>数据类型访问不支持<code class="codeph">setUnicodeStream</code>和<code class="codeph">getUnicodeStream</code>方法。如果要使用流访问，请使用<code class="codeph">setCharacterStream</code>方法和<code class="codeph">getCharacterStream</code>方法。
                           </p>
                        </div>
                        <p>SQL <code class="codeph">NCHAR</code>数据类型的用法类似于SQL <code class="codeph">CHAR</code>数据类型。JDBC使用相同的类和方法来访问用于相应SQL <code class="codeph">CHAR</code>数据类型的SQL <code class="codeph">NCHAR</code>数据类型。因此，在<code class="codeph">oracle.sql</code>包中没有为SQL <code class="codeph">NCHAR</code>数据类型定义单独的相应类。同样， <code class="codeph">oracle.jdbc.没有定义单独的相应常量<code class="codeph">oracle.jdbc.SQL <code class="codeph">NCHAR</code>数据类型的OracleTypes</code>类。
                        </p>
                        <div class="infoboxnotealso" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-FC3E0EB4-2ABF-4F1D-B61C-CB538E473CC5">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="globalization-support.html#GUID-C29926B3-8B5B-4B05-9193-29B247B52C66">NCHAR_ NVARCHAR2_ NCLOB和defaultNChar属性</a> ”</span></p>
                        </div>
                        <div class="infoboxnote" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-275435FA-0122-4305-9634-F9E1CFC3B0EE">
                           <p class="notep1">注意：</p>
                           <p>必须在调用<code class="codeph">registerOutParameter</code>方法之前调用<code class="codeph">setFormOfUse</code>方法，以避免不可预测的结果。
                           </p>
                        </div>
                        <p>以下代码显示了如何访问SQL <code class="codeph">NCHAR</code>数据：</p><pre class="oac_no_warn" dir="ltr">// //表TEST具有以下列：//  -  NUMBER //  -  NVARCHAR2 //  -  NCHAR // oracle.jdbc。OraclePreparedStatement pstmt =（oracle.jdbc。OraclePreparedStatement）conn.prepareStatement（“插入TEST值（？，？，？）“）; // // oracle.jdbc。OraclePreparedStatement。FORM_NCHAR应该用于所有NCHAR，// NVARCHAR2和NCLOB数据类型。// pstmt.setInt（1,1）; // NUMBER列pstmt.setNString（2，myUnicodeString1）; // NVARCHAR2列pstmt.setNString（3，myUnicodeString2）; // NCHAR列pstmt.execute（）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28145"></a><a id="JJDBC28146"></a><a id="JJDBC28144"></a><div class="props_rev_3"><a id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88" name="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88"></a><h4 id="JJDBC-GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88" class="sect4"><span class="enumeration_section">4.4.3</span>类oracle.sql。CHAR</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">oracle.sql.Oracle JDBC在处理和转换字符数据时使用CHAR</code>类。此类提供全球化支持功能以转换字符数据。该类有两个关键属性：全球化支持字符集和字符数据。全球化支持字符集定义字符数据的编码。它是一个在构造<code class="codeph">CHAR</code>对象时始终传递的参数。如果没有全球化支持字符集信息， <code class="codeph">CHAR</code>对象中的数据字节将毫无意义。<code class="codeph">oracle.sql.CHAR</code>类用于SQL <code class="codeph">CHAR</code>和SQL <code class="codeph">NCHAR</code>数据类型。
                        </p>
                        <div class="infoboxnote" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-D1723C80-0BAB-492E-8B47-5606EEAB6F6D">
                           <p class="notep1">注意：</p>
                           <p>在<span class="italic">10g</span>第1版之前的Oracle JDBC驱动程序版本中，使用<code class="codeph">oracle.具有性能优势<code class="codeph">oracle.SQL.CHAR</code> 。从Oracle数据库<span class="italic">10g开始</span> ，不再具有任何此类优势。实际上，使用<code class="codeph">java.lang.可以实现最佳性能<code class="codeph">java.lang.String</code> 。所有Oracle JDBC驱动程序都处理Java UCS2字符集中的所有字符数据。使用<code class="codeph">oracle.sql.CHAR</code>不会阻止数据库字符集和UCS2字符集之间的转换。
                           </p>
                        </div>
                        <p>唯一剩下的使用<code class="codeph">oracle.sql.CHAR</code>类用于处理Oracle全球化支持字符集中编码的原始字节形式的字符数据。应使用<code class="codeph">java.lang.访问从Oracle数据库检索的所有字符数据<code class="codeph">java.lang.String</code>类。处理来自其他源的字节数据时，可以使用<code class="codeph">oracle.sql.用于将字节转换为<code class="codeph">java.lang. CHAR</code> <code class="codeph">java.lang.String</code> 。
                        </p>
                        <p>转换<code class="codeph">oracle.sql.CHAR</code> ，您必须提供数据字节和<code class="codeph">oracle.sql.CharacterSet</code>实例，表示用于对数据字节进行编码的全球化支持字符集。
                        </p>
                        <p>作为Oracle对象属性的<code class="codeph">CHAR</code>对象在数据库字符集中返回。
                        </p>
                        <p>JDBC应用程序代码很少需要直接构造<code class="codeph">CHAR</code>对象，因为JDBC驱动程序会在需要在极少数情况下创建<code class="codeph">CHAR</code>对象时自动创建它们。
                        </p>
                        <p>要构造<code class="codeph">CHAR</code>对象，必须通过<code class="codeph">CharacterSet</code>类的实例向<code class="codeph">CHAR</code>对象提供字符集信息。此类的每个实例都代表Oracle支持的全球化支持字符集之一。<code class="codeph">CharacterSet</code>实例封装了字符集的方法和属性，主要涉及转换为其他字符集或从其他字符集转换的功能。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-F8E4C87C-D126-4D14-8223-255512B51A53">构造一个oracle.sql。CHAR对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>按照以下常规步骤构造<code class="codeph">CHAR</code>对象：</p>
                        <ol>
                           <li>
                              <p>通过调用<code class="codeph">static</code> <code class="codeph">CharacterSet.make</code>方法创建一个<code class="codeph">CharacterSet</code>对象。
                              </p>
                              <p>此方法是字符集实例的工厂。<code class="codeph">make</code>方法采用整数作为输入，它对应于Oracle支持的字符集ID。例如：</p><pre class="oac_no_warn" dir="ltr">int oracleId = CharacterSet。JA16SJIS_CHARSET; //这是字符集ID，// 832 ......CharacterSet mycharset = CharacterSet.make（oracleId）;</pre><p>Oracle支持的每个字符集都具有唯一的预定义Oracle ID。</p>
                           </li>
                           <li>
                              <p>构造一个<code class="codeph">CHAR</code>对象。
                              </p>
                              <p>将字符串或表示字符串的字节与<code class="codeph">CharacterSet</code>对象一起传递给构造函数，该对象指示如何根据字符集解释字节。例如：</p><pre class="oac_no_warn" dir="ltr">String mystring =“teststring”; ...CHAR mychar = new CHAR（teststring，mycharset）;</pre><p><code class="codeph">CHAR</code>有多个构造函数，可以将<code class="codeph">String</code> ， <code class="codeph">byte</code>数组或对象作为输入与<code class="codeph">CharacterSet</code>对象一起使用。对于<code class="codeph">String</code> ，在放入<code class="codeph">CHAR</code>对象之前，该字符串将转换为<code class="codeph">CharacterSet</code>对象指示的字符集。
                              </p>
                              <div class="infoboxnote" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-4036EE0A-DC25-44E4-9C34-7DA4A4941727">
                                 <p class="notep1">注意：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CharacterSet</code>对象不能是null值。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CharacterSet</code>类是一个抽象类，因此它没有构造函数。创建实例的唯一方法是使用<code class="codeph">make</code>方法。
                                       </p>
                                    </li>
                                    <li>
                                       <p>服务器识别特殊值<code class="codeph">CharacterSet.DEFAULT_CHARSET</code>作为数据库字符集。对于客户端，此值没有意义。
                                       </p>
                                    </li>
                                    <li>
                                       <p>Oracle不打算或建议用户扩展<code class="codeph">CharacterSet</code>类。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-1D1CB0B8-913F-42F2-86E0-F0B5D433B231">oracle.sql。CHAR转换方法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">CHAR</code>类提供以下方法将字符数据转换为字符串：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">的getString</code></p>
                              <p>此方法将<code class="codeph">CHAR</code>对象表示的字符序列转换为字符串，返回Java <code class="codeph">String</code>对象。如果输入无效的<code class="codeph">OracleID</code> ，则不会识别该字符集，并且<code class="codeph">getString</code>方法将抛出<code class="codeph">SQLException</code>异常。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">的toString</code></p>
                              <p>此方法与<code class="codeph">getString</code>方法相同。但是，如果输入无效的<code class="codeph">OracleID</code> ，则无法识别字符集，并且<code class="codeph">toString</code>方法将返回<code class="codeph">CHAR</code>数据的十六进制表示形式，并且<span class="italic">不会</span>抛出<code class="codeph">SQLException</code>异常。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">getStringWithReplacement</code></p>
                              <p>此方法与<code class="codeph">getString</code>方法相同，但默认替换字符替换<code class="codeph">CHAR</code>对象字符集中没有unicode表示的字符。此默认字符从字符集到字符集不等，但通常是问号（ <code class="codeph">?</code> ）。
                              </p>
                           </li>
                        </ul>
                        <p>数据库服务器和客户端或客户端上运行的应用程序可以使用不同的<a id="d23567e1876" class="indexterm-anchor"></a>字符集。使用<code class="codeph">CHAR</code>类的方法在服务器和客户端之间传输数据时，JDBC驱动程序必须将数据从服务器字符集转换为客户端字符集，反之亦然。要转换数据，驱动程序使用全球化支持。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-B21327E9-69AC-4A35-9794-3C24C09E738B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="globalization-support.html#GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97">全球化支持</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28148"></a><div class="props_rev_3"><a id="GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96" name="GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96"></a><h3 id="JJDBC-GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96" class="sect3"><span class="enumeration_section">4.5</span>其他Oracle类型扩展</h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC驱动程序支持特定于Oracle的<code class="codeph">BFILE</code>和<code class="codeph">ROWID</code>数据类型以及<code class="codeph">REF</code> <code class="codeph">CURSOR</code>类型，这些类型不属于标准JDBC规范。本节介绍<code class="codeph">ROWID</code>和<code class="codeph">REF CURSOR</code>类型扩展。支持<code class="codeph">ROWID</code>作为Java字符串，并且支持<code class="codeph">REF</code> <code class="codeph">CURSOR</code>类型作为JDBC结果集。
                     </p>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-8069D705-A031-469D-855F-53525798F64F">Oracle ROWID类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555">Oracle REF CURSOR类型类别</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC">Oracle BINARY_FLOAT和BINARY_DOUBLE类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671">Oracle SYS.ANYTYPE和SYS.ANYDATA类型</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6">oracle.jdbc包</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28150"></a><a id="JJDBC28149"></a><div class="props_rev_3"><a id="GUID-8069D705-A031-469D-855F-53525798F64F" name="GUID-8069D705-A031-469D-855F-53525798F64F"></a><h4 id="JJDBC-GUID-8069D705-A031-469D-855F-53525798F64F" class="sect4"><span class="enumeration_section">4.5.1</span> Oracle ROWID类型</h4>
                  <div>
                     <div class="section">
                        <p>一个<a id="d23567e1995" class="indexterm-anchor"></a> ROWID是Oracle数据库表的每一行唯一的标识标记。ROWID可以被认为是一个虚拟列，包含每行的ID。
                        </p>
                        <p><code class="codeph">oracle.sql.ROWID</code>类作为<code class="codeph">ROWID</code> SQL数据类型的容器提供。
                        </p>
                        <p>ROWID提供的功能类似于<code class="codeph">java.sql.指定的<code class="codeph">getCursorName</code>方法<code class="codeph">java.sql.ResultSet</code>接口和<code class="codeph">java.sql.指定的<code class="codeph">setCursorName</code>方法<code class="codeph">java.sql.Statement</code>界面。
                        </p>
                        <p>如果在查询中包含ROWID伪列，则可以使用结果集<code class="codeph">getString</code>方法检索ROWID。您还可以使用<code class="codeph">setString</code>方法将ROWID绑定到<code class="codeph">PreparedStatement</code>参数。这使得就地更新成为可能，如下面的示例所示。
                        </p>
                        <div class="infoboxnote" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-FE4169A6-D108-4287-B606-77B33F356385">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">oracle.sql.ROWID</code>类，仅在使用J2SE 5.0时。对于JSE 6，您应该使用标准的<code class="codeph">java.sql.而是RowId</code>接口。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-D56D9FA4-DBE7-4C63-8D26-FA8607B8136F">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例显示如何访问和操作ROWID数据：</p>
                        <div class="infoboxnote" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-0544D8EC-84DF-43CC-ACFF-866BFE55B009">
                           <p class="notep1">注意：</p>
                           <p>以下示例仅适用于JSE 6。</p>
                        </div><pre class="oac_no_warn" dir="ltr">语句stmt = conn.createStatement（）; //使用“FOR UPDATE”查询员工姓名以锁定行。//选择ROWID以标识要更新的行。ResultSet rset = stmt.executeQuery（“SELECT first_name，rowid FROM employees FOR UPDATE”）; //准备一个语句来更新给定ROWID的first_name列PreparedStatement pstmt = conn.prepareStatement（“UPDATE employees SET first_name =？在哪里rowid =？“）; //循环查询结果while（rset.next（））{String ename = rset.getString（1）; RowId rowid = rset.getROWID（2）; //将ROWID作为String pstmt获取.setString（1，ename.toLowerCase（））; pstmt.setROWID（2，rowid）; //将ROWID传递给更新语句pstmt.executeUpdate（）; //执行更新}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28152"></a><a id="JJDBC28151"></a><div class="props_rev_3"><a id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555" name="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555"></a><h4 id="JJDBC-GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555" class="sect4"><span class="enumeration_section">4.5.2</span> Oracle REF CURSOR类型类别</h4>
                  <div>
                     <div class="section">
                        <p>游标变量保存查询工作区的内存位置，而不是区域的内容。声明游标变量会创建一个指针。在SQL中，指针的数据类型为<code class="codeph">REF</code> <span class="italic"><code class="codeph">x</code></span> ，其中<code class="codeph">REF</code>是<code class="codeph">REFERENCE</code>缩写， <span class="italic"><code class="codeph">x</code></span>表示被引用的实体。然后， <code class="codeph">REF CURSOR</code>标识对游标变量的引用。由于许多游标变量可能存在指向许多工作区域，因此可以将<code class="codeph">REF</code> <code class="codeph">CURSOR</code>视为标识许多不同类型游标变量的类别或数据类型说明符。从Oracle Database Release 18 <span class="italic">c开始</span> ，JDBC驱动程序支持<code class="codeph">REF CURSOR</code>作为IN绑定变量。
                        </p>
                        <div class="infoboxnote" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-293F1483-0528-42D7-84C5-2926C5A24296">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">REF CURSOR</code>实例不可滚动。
                           </p>
                        </div>
                        <p>执行以下步骤以创建游标变量：</p>
                        <ol>
                           <li>
                              <p>标识属于<code class="codeph">REF</code> <code class="codeph">CURSOR</code>类别的类型。例如：</p><pre class="pre codeblock"><code>DECLARE TYPE DeptCursorTyp是REF CURSOR</code></pre></li>
                           <li>
                              <p>然后，通过将其声明为<code class="codeph">DeptCursorTyp</code>类型来创建游标变量：</p><pre class="pre codeblock"><code>dept_cv DeptCursorTyp  -   - 声明游标变量...
</code></pre><p>那么， <code class="codeph">REF</code> <code class="codeph">CURSOR</code>是一类数据类型，而不是特定的数据类型。
                              </p>
                           </li>
                        </ol>
                        <p>存储过程可以接受或返回的游标变量<a id="d23567e2148" class="indexterm-anchor"></a> <code class="codeph">REF</code> <code class="codeph">CURSOR</code>类别。此输出等效于数据库游标或JDBC结果集。<code class="codeph">REF CURSOR</code>基本上封装了查询的结果。
                        </p>
                        <p>在JDBC中，可以按如下方式访问<code class="codeph">REF CURSOR</code> ：</p>
                        <ol>
                           <li>
                              <p>使用JDBC可调用语句或预准备语句来调用存储过程。</p>
                           </li>
                           <li>
                              <p>存储过程接受或返回<code class="codeph">REF CURSOR</code> 。</p>
                           </li>
                           <li>
                              <p>Java应用程序将可调用语句或预准备语句强制转换为Oracle可调用语句或Oracle预准备语句。</p>
                           </li>
                           <li>
                              <p>Java应用程序使用<code class="codeph">setCursor</code>所述的方法<code class="codeph">OraclePreparedStatement</code>接口或<code class="codeph">getCursor</code>所述的方法<code class="codeph">OracleCallableStatement</code>接口物化为<code class="codeph">REF CURSOR</code>作为JDBC <code class="codeph">ResultSet</code>对象。
                              </p>
                           </li>
                           <li>
                              <p>结果集按要求处理。</p>
                              <div class="infoboxnote" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-2FF15DBE-344A-4414-9618-D884FA8B3CD8">
                                 <p class="notep1">注意：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>只要生成<code class="codeph">REF CURSOR</code>的语句对象关闭，就关闭与<code class="codeph">REF CURSOR</code>关联的<code class="codeph">REF CURSOR</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>不像过去的版本，具有相关联的光标<code class="codeph">REF CURSOR</code>时，其中的结果集对象<span class="italic">不是</span>封闭<code class="codeph">REF CURSOR</code>被物化被关闭。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-F8DFA999-3799-4BB6-9086-B08C6D2A3F5F">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例显示如何访问<code class="codeph">REF CURSOR</code>数据。
                        </p><pre class="pre codeblock"><code>...//准备PL / SQL调用CallableStatement cstmt = conn.prepareCall（“DECLARE rc sys_refcursor; curid NUMBER; BEGIN open rc FOR SELECT empno FROM emp order by empno;？：= rc; END;”）; cstmt.registerOutParameter（1，OracleTypes。光标）; cstmt.execute（）; ResultSet rset =（ResultSet）cstmt.getObject（1）; if（rset.next（））{show（rset.getString（“empno”））; } CallableStatement cstmt2 = conn.prepareCall（“DECLARE rc sys_refcursor; v1 NUMBER; BEGIN rc：=？;获取rc INTO v1; ？ ：= v1; END;“）;（（OracleCallableStatement）call2）。setCursor（1，rset）; cstmt2.registerOutParameter（2，OracleTypes。整数）; cstmt2.execute（）; int empno = cstmt2.getInt（2）; show（“Fetch in PL / SQL empno =”+ empno）; //转移（rset.next（））show（rset.getString（“empno”））; //关闭所有资源rset.close（）; cstmt.close（）; cstmt2.close（）; ...</code></pre><p>在前面的示例中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">Connection</code>类的<code class="codeph">prepareCall</code>方法创建两个<code class="codeph">CallableStatement</code>对象<code class="codeph">cstmt1</code>和<code class="codeph">cstmt2</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">cstmt2</code>可调用语句使用<code class="codeph">REF CURSOR</code>作为输入参数。
                              </p>
                           </li>
                           <li>
                              <p>可调用语句实现返回<code class="codeph">REF CURSOR</code> PL / SQL过程。</p>
                           </li>
                           <li>
                              <p>与往常一样，必须注册可调用语句的输出参数以定义其类型。使用类型代码<code class="codeph">OracleTypes.CURSOR</code>一个<code class="codeph">REF CURSOR</code> 。</p>
                           </li>
                           <li>
                              <p>运行可调用语句，返回<code class="codeph">REF CURSOR</code>或发送<code class="codeph">REF CURSOR</code>作为输入绑定。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28153"></a><div class="props_rev_3"><a id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC" name="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC"></a><h4 id="JJDBC-GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC" class="sect4"><span class="enumeration_section">4.5.3</span> Oracle BINARY_FLOAT和BINARY_DOUBLE类型</h4>
                  <div>
                     <div class="section">
                        <p>Oracle <code class="codeph">BINARY_FLOAT</code>和<code class="codeph">BINARY_DOUBLE</code>类型用于存储IEEE 574浮点数和双精度数据。这些对应于Java <code class="codeph">float</code>和<code class="codeph">double</code>标量类型，但负零和<code class="codeph">NaN</code>除外。</p>
                        <div class="infoboxnotealso" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-387634EF-70D5-42B1-ACE9-50441978700B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../sqlrf/Data-Types.html#SQLRF00209" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <p>如果在查询中包含<code class="codeph">BINARY_DOUBLE</code>列， <code class="codeph">BINARY_DOUBLE</code>二进制格式从数据库中检索数据。此外， <code class="codeph">getDouble</code>方法将以二进制格式返回数据。相反，对于<code class="codeph">NUMBER</code>数据类型列，返回数字位并将其转换为Java <code class="codeph">double</code>数据类型。
                        </p>
                        <div class="infoboxnote" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-FAE9EFB2-569E-4111-A64C-E350771B8114">
                           <p class="notep1">注意：</p>
                           <p>SQL <code class="codeph">FLOAT</code> ， <code class="codeph">DOUBLE PRECISION</code>和<code class="codeph">REAL</code>数据类型的Oracle表示使用Oracle <code class="codeph">NUMBER</code>表示。<code class="codeph">BINARY_FLOAT</code>和<code class="codeph">BINARY_DOUBLE</code>数据类型可以视为专有类型。
                           </p>
                        </div>
                        <p>调用<code class="codeph">PreparedStatement</code>接口的JDBC标准<code class="codeph">setDouble(int, double)</code>方法会将Java <code class="codeph">double</code>参数转换为Oracle <code class="codeph">NUMBER</code>样式位并将它们发送到数据库。相比之下， <code class="codeph">oracle.jdbc.的<code class="codeph">setBinaryDouble(int, double)</code>方法<code class="codeph">oracle.jdbc.OraclePreparedStatement</code>接口将数据转换为内部二进制位并将它们发送到数据库。
                        </p>
                        <p>您必须确保使用的数据格式与<code class="codeph">PreparedStatement</code>接口的目标参数的类型相匹配。这将导致正确的数据和最少的CPU使用。如果将<code class="codeph">setBinaryDouble</code>用于<code class="codeph">NUMBER</code>参数，则将二进制位发送到服务器并转换为<code class="codeph">NUMBER</code>格式。数据是正确的，但服务器CPU负载会增加。如果将<code class="codeph">setDouble</code>用于<code class="codeph">BINARY_DOUBLE</code>参数，则数据将首先在客户端上转换为<code class="codeph">NUMBER</code>位并发送到服务器，然后将其转换回二进制格式。这将增加客户端和服务器上的CPU负载，并且还可能导致数据损坏。
                        </p>
                        <p>设置为<code class="codeph">true</code>时， <code class="codeph">SetFloatAndDoubleUseBinary</code>连接属性会导致JDBC标准API， <code class="codeph">setFloat(int,</code> <code class="codeph">float)</code> ， <code class="codeph">setDouble(int,</code> <code class="codeph">double)</code>和所有变体发送内部二进制位而不是<code class="codeph">NUBMER</code>位。
                        </p>
                        <div class="infoboxnote" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-9A59B83C-A3FC-4527-BAB5-F5A0181E3772">
                           <p class="notep1">注意：</p>
                           <p>虽然本节主要讨论<code class="codeph">BINARY_DOUBLE</code> ，但<code class="codeph">BINARY_FLOAT</code>也是如此。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28155"></a><a id="JJDBC28156"></a><a id="JJDBC28157"></a><a id="JJDBC28158"></a><a id="JJDBC28159"></a><a id="JJDBC28160"></a><a id="JJDBC28154"></a><div class="props_rev_3"><a id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671" name="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671"></a><h4 id="JJDBC-GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671" class="sect4"><span class="enumeration_section">4.5.4</span> Oracle SYS.ANYTYPE和SYS.ANYDATA类型</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database <span class="italic">12c</span>第1版（12.1）提供了一个Java接口来访问<a id="d23567e2485" class="indexterm-anchor"></a><a id="d23567e2487" class="indexterm-anchor"></a> <code class="codeph">SYS.ANYTYPE</code>和<a id="d23567e2492" class="indexterm-anchor"></a><a id="d23567e2494" class="indexterm-anchor"></a> <code class="codeph">SYS.ANYDATA</code> Oracle类型。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-866CA3EB-E6E9-4BC2-AA54-D7E55E9FD618">
                           <p class="notep1">也可以看看：</p>
                           <p>有关这些Oracle类型的信息，请参阅<a href="../arpls/ANYTYPE-TYPE.html#ARPLS-GUID-4E6D7301-47C5-4495-A074-BAE102960751" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <p><code class="codeph">SYS.ANYTYPE</code>类型的实例包含任何SQL类型的类型描述，持久或临时，命名或未命名，包括对象类型和集合类型。您可以使用<code class="codeph">oracle.sql.TypeDescriptor</code>类，用于访问<code class="codeph">SYS.ANYTYPE</code>类型。可以从PL / SQL过程或SQL <code class="codeph">SELECT</code>语句中检索<code class="codeph">ANYTYPE</code>实例，其中<code class="codeph">SYS.ANYTYPE</code>用作列类型。要从数据库中检索<code class="codeph">ANYTYPE</code>实例，请使用<code class="codeph">getObject</code>方法。此方法返回<code class="codeph">TypeDescriptor</code>的实例。
                        </p>
                        <p>检索到的<code class="codeph">ANYTYPE</code>实例可以是以下任何一种：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>瞬态对象类型</p>
                           </li>
                           <li>
                              <p>瞬态预定义类型</p>
                           </li>
                           <li>
                              <p>持久对象类型</p>
                           </li>
                           <li>
                              <p>持久预定义类型</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-E12B1896-516B-433F-B2FA-E79AE98225D9">
                        <p class="titleinexample">示例4-1访问SYS.ANYTYPE类型</p>
                        <p>以下代码段说明了如何从数据库中检索<code class="codeph">ANYTYPE</code>的实例：</p><pre class="oac_no_warn" dir="ltr">...ResultSet rs = stmt.executeQuery（“从my_table中选择anytype_column”）; TypeDescriptor td =（TypeDescriptor）rs.getObject（1）; short typeCode = td.getInternalTypeCode（）; if（typeCode == TypeDescriptor。TYPECODE_OBJECT）{//检查它是否是瞬态类型if（td.isTransientType（））{AttributeDescriptor [] attributes =（（StructDescriptor）td）.getAttributesDescriptor（）; for（int i = 0; i &lt;attributes.length; i ++）System.out.println（attributes [i] .getAttributeName（））; } else {System.out.println（td.getTypeName（））; } ...</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-DBF7C48C-03BB-45B6-AE21-E724BAACCB4C">
                        <p class="titleinexample">示例4-2通过PL / SQL创建瞬态对象类型并通过JDBC检索</p>
                        <p>此示例提供了一个代码片段，说明如何通过JDBC检索瞬态对象类型。</p><pre class="oac_no_warn" dir="ltr">...OracleCallableStatement cstmt =（OracleCallableStatement）conn.prepareCall（“BEGIN？：= transient_obj_type（）; END;”）; cstmt.registerOutParameter（1，OracleTypes。不透明的， “SYS.ANYTYPE”）; cstmt.execute（）; TypeDescriptor obj =（TypeDescriptor）cstmt.getObject（1）;如果（！obj.isTransient（））System.out.println（“这必须是JDBC错误”）; cstmt.close（）;返回obj; ...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-A7BDB53F-4960-4C3D-AD6F-FFFF116EEF2A">
                        <p class="titleinexample">示例4-3调用将ANYTPE作为IN参数的PL / SQL存储过程</p>
                        <p>以下代码段说明了如何调用将<code class="codeph">ANYTYPE</code>作为<code class="codeph">IN</code>参数的PL / SQL存储过程：</p><pre class="oac_no_warn" dir="ltr">...CallableStatement cstmt = conn.prepareCall（“BEGIN？：= dumpanytype（？）; END;“）; cstmt.registerOutParameter（1，OracleTypes。VARCHAR）; // obj是您检索到的cstmt.setObject（2，obj）的TypeDescriptor实例; cstmt.execute（）; String str =（String）cstmt.getObject（1）; ...
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><code class="codeph">oracle.sql.ANYDATA</code>类使您可以从数据库访问<code class="codeph">SYS.ANYDATA</code>实例。可以从任何有效的<code class="codeph">oracle.sql.实例获取此类的实例<code class="codeph">oracle.sql.Datum</code>类。<code class="codeph">convertDatum</code>工厂方法接受一个<code class="codeph">Datum</code>实例并返回一个<code class="codeph">ANYDATA</code>实例。此工厂方法的语法如下：</p><pre class="oac_no_warn" dir="ltr">public static ANYDATA convertDatum（Datum datum）抛出SQLException</pre><p>以下是用于创建<code class="codeph">oracle.sql.实例的示例代码<code class="codeph">oracle.sql.ANYDATA</code> ：</p><pre class="oac_no_warn" dir="ltr">// struct是oracle.sql的有效实例。STRUCT来自//数据库或者是用Java构建的。ANYDATA myAnyData = ANYDATA.convertDatum（struct）;</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-BBEEAF43-08A9-4E93-A405-5B55F412EB88">
                        <p class="titleinexample">示例4-4从数据库访问ANYDATA实例</p><pre class="oac_no_warn" dir="ltr">...// anydata_table已创建为：// CREATE TABLE anydata_tab（data SYS.ANYDATA）语句stmt = conn.createStatement（）; ResultSet rs = stmt.executeQuery（“从my_anydata_tab中选择数据”）; while（rs.next（））{ANYDATA anydata =（ANYDATA）rs.getObject（1）;如果（！anydata.isNull（））{TypeDescriptor td = anydata.getTypeDescriptor（）; if（td.getTypeCode（）== OracleType。TYPECODE_OBJECT）STRUCT struct =（STRUCT）anydata.accessDatum（）; } ...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-C53803E1-F05D-469D-BB9C-70100C0C08DD">
                        <p class="titleinexample">示例4-5将对象作为ANYDATA插入数据库表中</p>
                        <p>考虑以下表和对象类型定义：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE anydata_tab（id NUMBER，data SYS.ANYDATA）CREATE OR REPLACE TYPE employee AS OBJECT（employee_id NUMBER，first_name VARCHAR2（10））</pre><p>您可以通过以下方式创建<code class="codeph">EMPLOYEE</code> SQL对象类型的实例并将其插入<code class="codeph">anydata_tab</code>中：</p><pre class="oac_no_warn" dir="ltr">...PreparedStatement pstmt = conn.prepareStatement（“插入anydata_table值（？，？）“）; struct myEmployeeStr = conn.createStruct（”EMPLOYEE“，new Object [] {1120，”Papageno“}）; ANYDATA anyda = ANYDATA.convertDatum（myEmployeeStr）; pstmt.setInt（1,123）; pstmt.setObject（2， anyda）; pstmt.executeUpdate（）; ...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-B599ACA6-FE69-4AFE-AC8B-30D1302F4068">
                        <p class="titleinexample">示例4-6从数据库表中选择ANYDATA列</p><pre class="oac_no_warn" dir="ltr">...语句stmt = conn.createStatement（）; ResultSet rs = stmt.executeQuery（“从anydata_table中选择数据”）; while（rs.next（））{ANYDATA obj =（ANYDATA）rs.getObject（1）; TypeDescriptor td = obj.getTypeDescriptor（）; } rs.close（）; stmt.close（）; ...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JJDBC28162"></a><a id="JJDBC28161"></a><div class="props_rev_3"><a id="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6" name="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6"></a><h4 id="JJDBC-GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6" class="sect4"><span class="enumeration_section">4.5.5</span> oracle.jdbc包</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">oracle.jdbc</code>包的接口定义了<code class="codeph">java.sql</code>接口的Oracle扩展。这些扩展提供了对本章所述的SQL格式数据的访问。它们还提供对其他Oracle特定功能的访问，包括Oracle性能增强。
                        </p>
                        <p>对于<code class="codeph">oracle.jdbc</code>包， <a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6__g1076271" title="表">表4-1</a>列出了用于连接，语句和结果集的关键接口和类。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6__g1076271">
                        <p class="titleintable">表4-1 oracle.jdbc包的关键接口和类</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="oracle.jdbc包的关键接口和类" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d23567e2696">名称</th>
                                 <th align="left" valign="bottom" width="13%" id="d23567e2699">接口或类</th>
                                 <th align="left" valign="bottom" width="47%" id="d23567e2702">关键功能</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2707" headers="d23567e2696 ">
                                    <p><code class="codeph">一个OracleDriver</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2707 d23567e2699 ">
                                    <p>类</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2707 d23567e2702 ">
                                    <p>实现<code class="codeph">java.sql.司机</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2720" headers="d23567e2696 ">
                                    <p><code class="codeph">的OracleConnection</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2720 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2720 d23567e2702 ">
                                    <p>提供启动和停止Oracle数据库实例以及返回Oracle语句对象和方法的方法，以便为当前连接中运行的任何语句设置Oracle性能扩展。</p>
                                    <p>实现<code class="codeph">java.sql.连接。</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2735" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2735 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2735 d23567e2702 ">
                                    <p>提供为单个语句设置Oracle性能扩展的方法。</p>
                                    <p>是的超类型<code class="codeph">OraclePreparedStatement</code>和<code class="codeph">OracleCallableStatement</code> 。
                                    </p>
                                    <p>实现<code class="codeph">java.sql.声明。</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2758" headers="d23567e2696 ">
                                    <p><code class="codeph">OraclePreparedStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2758 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2758 d23567e2702 ">
                                    <p>提供<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span>方法将<code class="codeph">oracle.sql.*</code>类型绑定到<code class="codeph">oracle.sql.*</code>准备语句中。
                                    </p>
                                    <p>提供<code class="codeph">getMetaData</code>方法以从<code class="codeph">getMetaData</code>准备语句中获取元数据，而无需执行SELECT语句。
                                    </p>
                                    <p>实现<code class="codeph">java.sql.PreparedStatement的。</code></p>
                                    <p>扩展<code class="codeph">OracleStatement.</code></p>
                                    <p>是<code class="codeph">OracleCallableStatement</code>的超类型。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2796" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleCallableStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2796 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2796 d23567e2702 ">
                                    <p>提供<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>方法以检索<code class="codeph">oracle.sql</code>格式的数据，并<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span>方法以将<code class="codeph">oracle.sql.*</code>类型绑定到可调用语句中。
                                    </p>
                                    <p>实现<code class="codeph">java.sql.CallableStatement中。</code></p>
                                    <p>扩展<code class="codeph">OraclePreparedStatement.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2833" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleResultSet</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2833 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2833 d23567e2702 ">
                                    <p>提供<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>方法以检索<code class="codeph">oracle.sql</code>格式的数据。
                                    </p>
                                    <p>实现<code class="codeph">java.sql.ResultSet</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2858" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleResultSetMetaData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2858 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2858 d23567e2702 ">
                                    <p>提供获取有关Oracle结果集的元数据信息的方法，例如列名和数据类型。</p>
                                    <p>实现<code class="codeph">java.sql.ResultSetMetaData</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2874" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleDatabaseMetaData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2874 d23567e2699 ">
                                    <p>类</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2874 d23567e2702 ">
                                    <p>提供获取有关数据库的元数据信息的方法，例如数据库产品名称和版本，表信息以及默认事务隔离级别。</p>
                                    <p>实现<code class="codeph">java.sql.DatabaseMetaData</code> ）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2890" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleTypes</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2890 d23567e2699 ">
                                    <p>类</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2890 d23567e2702 ">
                                    <p>定义用于标识SQL类型的整数常量。</p>
                                    <p>对于标准类型，它使用与标准<code class="codeph">java.sql.相同的值<code class="codeph">java.sql.Types</code>类。此外，它还为Oracle扩展类型添加了常量。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2906" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleArray</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2906 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2906 d23567e2702 ">
                                    <p>包括作为整体检索数组，检索数组元素的子集以及检索数组元素的SQL基类型名称的功能。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2917" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleStruct</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2917 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2917 d23567e2702 "> </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2927" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleClob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2927 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2927 d23567e2702 "> </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2936" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleBlob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2936 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2936 d23567e2702 "> </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2945" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleRef</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2945 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2945 d23567e2702 "> </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2954" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleOpaque</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2954 d23567e2699 ">
                                    <p>接口</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2954 d23567e2702 "> </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>本节包括以下主题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59">接口oracle.jdbc。的OracleConnection</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-46404619-5332-4C70-B7BE-7A31372932C3">接口oracle.jdbc。OracleStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61">接口oracle.jdbc。OraclePreparedStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7">接口oracle.jdbc。OracleCallableStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E">接口oracle.jdbc。OracleResultSet</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-177EF9E3-B054-4D91-90D6-23F986C250DD">接口oracle.jdbc。OracleResultSetMetaData</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-A8B450ED-A95B-4B40-B720-922C209D7D88">类oracle.jdbc。OracleTypes</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28164"></a><a id="JJDBC28163"></a><div class="props_rev_3"><a id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59" name="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59"></a><h5 id="JJDBC-GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59" class="sect5"><span class="enumeration_section">4.5.5.1</span>接口oracle.jdbc。的OracleConnection</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3026" class="indexterm-anchor"></a><a id="d23567e3028" class="indexterm-anchor"></a>此接口扩展了标准JDBC连接功能，以创建和返回Oracle语句对象，为Oracle性能扩展设置标志和选项，支持Oracle对象的类型映射以及支持客户端标识符。
                           </p>
                           <p>在Oracle Database <span class="italic">11g</span>第1版中，此接口添加了新方法，可以启动和关闭Oracle数据库实例。此外，为了更好的可见性和清晰度，所有连接属性都在<code class="codeph">OracleConnection</code>接口中定义为常量。
                           </p>
                           <p>此接口还定义用于构造<code class="codeph">oracle.sql</code>数据值（如<code class="codeph">DATE</code>和<code class="codeph">NUMBER</code>工厂方法。使用工厂方法时请记住以下几点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>构造<code class="codeph">oracle.sql</code>类型实例的所有代码都应使用Oracle扩展工厂方法。例如， <code class="codeph">ARRAY</code> ， <code class="codeph">BFILE</code> ， <code class="codeph">DATE</code> ， <code class="codeph">INTERVALDS</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">STRUCT</code> ， <code class="codeph">TIME</code> ， <code class="codeph">TIMESTAMP</code>等。
                                 </p>
                              </li>
                              <li>
                                 <p>构造标准类型实例的所有代码都应使用JDBC 4.0标准工厂方法。例如， <code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code> ， <code class="codeph">NCLOB</code>等。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CHAR</code> ， <code class="codeph">JAVA_STRUCT</code> ， <code class="codeph">ArrayDescriptor</code>和<code class="codeph">StructDescriptor.</code>没有工厂方法<code class="codeph">StructDescriptor.</code> 这些类型仅供内部驱动程序使用。
                                 </p>
                                 <div class="infoboxnote" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-69E3481B-1454-4D36-A812-93E71D750B2D">
                                    <p class="notep1">注意：</p>
                                    <p>在Oracle Database <span class="italic">11g</span>第1版之前，您必须构造<code class="codeph">ArrayDescriptors</code>和<code class="codeph">StructDescriptors</code>以便将参数作为参数传递给<code class="codeph">ARRAY</code>和<code class="codeph">STRUCT</code>类构造函数。新的<code class="codeph">ARRAY</code>和<code class="codeph">Struct</code>工厂方法没有任何描述符参数。驱动程序仍然在内部使用描述符，但您不需要创建它们。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-BCA973AE-19FD-4CCA-875C-DE8B7409BF7B">客户标识符</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>在连接池环境中，客户端标识符可用于使用当前的数据库会话来标识轻量级用户。客户端标识符还可用于在不同数据库会话之间共享全局访问的应用程序上下文。打开数据库审计时，将审计在数据库会话中设置的客户端标识符。</p>
                           <div class="infoboxnotealso" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-B0183873-4948-42C7-8069-523B2AE31585">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更多信息，请<a href="../jajdb/index.html" target="_blank"><span><cite>参见Oracle数据库JDBC Java API参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28165"></a><div class="props_rev_3"><a id="GUID-46404619-5332-4C70-B7BE-7A31372932C3" name="GUID-46404619-5332-4C70-B7BE-7A31372932C3"></a><h5 id="JJDBC-GUID-46404619-5332-4C70-B7BE-7A31372932C3" class="sect5"><span class="enumeration_section">4.5.5.2</span>接口oracle.jdbc。OracleStatement</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3172" class="indexterm-anchor"></a><a id="d23567e3174" class="indexterm-anchor"></a>此接口扩展了标准JDBC语句的作用，是的超接口<code class="codeph">OraclePreparedStatement</code>和<code class="codeph">OracleCallableStatement</code>类。扩展功能包括支持在逐个语句的基础上为Oracle性能扩展设置标志和选项，而不是在连接范围内设置这些标志和选项的<code class="codeph">OracleConnection</code>接口。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28166"></a><div class="props_rev_3"><a id="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61" name="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61"></a><h5 id="JJDBC-GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61" class="sect5"><span class="enumeration_section">4.5.5.3</span>接口oracle.jdbc。OraclePreparedStatement</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3211" class="indexterm-anchor"></a><a id="d23567e3213" class="indexterm-anchor"></a>此接口扩展了<code class="codeph">OracleStatement</code>接口并扩展了标准的JDBC <code class="codeph">OracleStatement</code>准备语句功能。另外， <code class="codeph">oracle.jdbc.OraclePreparedStatement</code>接口由扩展<code class="codeph">OracleCallableStatement</code>接口。扩展功能包括以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span>方法将<code class="codeph">oracle.sql.*</code>类型和对象绑定到<code class="codeph">oracle.sql.*</code>准备语句</p>
                              </li>
                              <li>
                                 <p><code class="codeph">getMetaData</code>方法从<code class="codeph">getMetaData</code>准备语句中获取元数据而不执行SELECT语句</p>
                              </li>
                              <li>
                                 <p>在逐个语句的基础上支持Oracle性能扩展的方法</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61__GUID-26397C18-728B-4F4A-9F0A-21C0666DA6CB">
                              <p class="notep1">注意：</p>
                              <p>不要使用<code class="codeph">PreparedStatement</code>接口来创建引用<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code>列的触发器。请改用<code class="codeph">Statement</code> 。使用<code class="codeph">PreparedStatement</code>将导致执行失败并显示消息<code class="codeph">java.sql.SQLException: Missing IN or OUT parameter at index:: 1</code> 。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28167"></a><div class="props_rev_3"><a id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7" name="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7"></a><h5 id="JJDBC-GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7" class="sect5"><span class="enumeration_section">4.5.5.4</span>接口oracle.jdbc。OracleCallableStatement</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3291" class="indexterm-anchor"></a><a id="d23567e3293" class="indexterm-anchor"></a>此接口扩展了<code class="codeph">OraclePreparedStatement</code>接口，该接口扩展了<code class="codeph">OracleStatement</code>接口并包含标准的JDBC可调用语句功能。
                           </p>
                           <div class="infoboxnote" id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7__GUID-18AA8E77-48E2-4274-8C2C-D4AF1BC5CB28">
                              <p class="notep1">注意：</p>
                              <p>不要使用<code class="codeph">CallableStatement</code>接口来创建引用<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code>列的触发器。改用<code class="codeph">Statement</code> ;使用<code class="codeph">CallableStatement</code>将导致执行失败并显示消息<code class="codeph">java.sql.SQLException：在index :: 1处缺少IN或OUT参数</code></p>
                           </div>
                           <div class="infoboxnote" id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7__GUID-08C68E79-FC43-401D-9909-55A7F023F981">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>仅当所有绑定仅是过程或函数参数时，才能使用<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">(String,...)</code>和<code class="codeph">registerOutParameter(String,...)</code>方法。该语句不能包含其他绑定，参数绑定必须用问号（ <code class="codeph">?)</code> 而不是<code class="codeph">:</code> <span class="italic"><code class="codeph">XX</code></span> 。</p>
                                 </li>
                                 <li>
                                    <p>如果你使用<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">(int,...) or</code> <code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">AtName(String,...)</code>方法，那么任何输出参数都与<code class="codeph">registerOutParameter(int,...)</code>绑定而不是<code class="codeph">registerOutParameter(String,...)</code> ，用于命名参数表示法。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28168"></a><div class="props_rev_3"><a id="GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E" name="GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E"></a><h5 id="JJDBC-GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E" class="sect5"><span class="enumeration_section">4.5.5.5</span>接口oracle.jdbc。OracleResultSet</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3398" class="indexterm-anchor"></a><a id="d23567e3400" class="indexterm-anchor"></a>此接口扩展了标准JDBC结果集功能，实现了<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>方法，用于将数据检索到<code class="codeph">oracle.sql.*</code>对象中。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28169"></a><div class="props_rev_3"><a id="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD" name="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD"></a><h5 id="JJDBC-GUID-177EF9E3-B054-4D91-90D6-23F986C250DD" class="sect5"><span class="enumeration_section">4.5.5.6</span>接口oracle.jdbc。OracleResultSetMetaData</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3437" class="indexterm-anchor"></a><a id="d23567e3439" class="indexterm-anchor"></a>此接口扩展了标准JDBC结果集元数据功能，以检索有关Oracle的信息<a id="d23567e3442" class="indexterm-anchor"></a>结果集对象。
                           </p>
                           <div class="infoboxnotealso" id="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD__GUID-88122DB7-34CF-4A46-A272-6E6197C7356F">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="accessing-and-manipulating-Oracle-data.html#GUID-C9AF8539-12BA-4F19-AAB9-0EE481D78F19">使用结果集元数据扩展</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28171"></a><a id="JJDBC28172"></a><a id="JJDBC28170"></a><div class="props_rev_3"><a id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88" name="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88"></a><h5 id="JJDBC-GUID-A8B450ED-A95B-4B40-B720-922C209D7D88" class="sect5"><span class="enumeration_section">4.5.5.7</span>类oracle.jdbc。OracleTypes</h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3479" class="indexterm-anchor"></a><a id="d23567e3481" class="indexterm-anchor"></a> <code class="codeph">OracleTypes</code>类定义<a id="d23567e3487" class="indexterm-anchor"></a><a id="d23567e3489" class="indexterm-anchor"></a> JDBC用于标识SQL类型的常量。此类中的每个变量都有一个常量整数值。<code class="codeph">oracle.jdbc.OracleTypes</code>类复制标准Java <code class="codeph">java.sql.的类型代码定义<code class="codeph">java.sql.Types</code>类，包含Oracle扩展的这些附加类型代码：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OracleTypes。BFILE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes。ROWID</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes。CURSOR</code> （适用于<code class="codeph">REF CURSOR</code>类型）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes。CHAR_BYTES</code> （用于在同一列上调用<code class="codeph">setNull</code>和<code class="codeph">setCHAR</code>方法）</p>
                              </li>
                           </ul>
                           <p>与<code class="codeph">java.sql.Types</code> ，所有变量名都是大写文本。
                           </p>
                           <p>JDBC在两个主要方面使用由<code class="codeph">OracleTypes</code>类的元素标识的SQL类型：注册输出参数和<code class="codeph">PreparedStatement</code>类的<code class="codeph">setNull</code>方法。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88__GUID-E19F38F4-C3D2-4C4D-A35D-B39D08884C96">OracleTypes和注册输出参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">java.sql.的类型代码<code class="codeph">java.sql.Types</code>或<code class="codeph">oracle.jdbc.OracleTypes</code>在<code class="codeph">java.sql.的<code class="codeph">registerOutParameter</code>方法中标识输出参数的SQL类型<code class="codeph">java.sql.CallableStatement</code>和<code class="codeph">oracle.jdbc.OracleCallableStatement</code>接口。
                           </p>
                           <p>这些是<code class="codeph">registerOutputParameter</code>方法可以为<code class="codeph">CallableStatement</code>和<code class="codeph">OracleCallableStatement</code>接口采用的形式</p><pre class="oac_no_warn" dir="ltr">cs.registerOutParameter（int index，int sqlType）; cs.registerOutParameter（int index，int sqlType，String sql_name）; cs.registerOutParameter（int index，int sqlType，int scale）;</pre><p>在这些签名中， <code class="codeph">index</code>表示参数索引， <code class="codeph">sqlType</code>是SQL数据类型的类型代码， <code class="codeph">sql_name</code>是为数据类型<code class="codeph">sql_name</code>的名称，对于用户定义的类型，当<code class="codeph">sqlType</code>是<code class="codeph">STRUCT</code> ， <code class="codeph">REF</code>或<code class="codeph">ARRAY</code>类型代码时，当<code class="codeph">sqlType</code>是<code class="codeph">NUMERIC</code>或<code class="codeph">DECIMAL</code>类型代码时， <code class="codeph">scale</code>表示小数点右边的位数。
                           </p>
                           <p>以下示例使用<code class="codeph">CallableStatement</code>接口调用名为<code class="codeph">charout</code>的过程，该过程返回<code class="codeph">CHAR</code>数据类型。请注意<code class="codeph">OracleTypes.的使用<code class="codeph">OracleTypes.<code class="codeph">registerOutParameter</code>方法中的CHAR</code>类型代码。
                           </p><pre class="oac_no_warn" dir="ltr">CallableStatement cs = conn.prepareCall（“BEGIN charout（？）; END;“）; cs.registerOutParameter（1，OracleTypes。CHAR）; cs.execute（）; System.out.println（“Out参数是：”+ cs.getString（1））;</pre><p>下一个示例使用<code class="codeph">CallableStatement</code>接口调用<code class="codeph">structout</code> ，它返回<code class="codeph">STRUCT</code>数据类型。<code class="codeph">registerOutParameter</code>的形式要求您指定类型代码， <code class="codeph">Types.STRUCT</code>或<code class="codeph">OracleTypes.STRUCT</code> ，以及SQL名称， <code class="codeph">EMPLOYEE</code> 。</p>
                           <p>该示例假定未为<code class="codeph">EMPLOYEE</code>类型声明类型映射，因此将其检索为<code class="codeph">STRUCT</code>数据类型。要将<code class="codeph">EMPLOYEE</code>的值检索为<code class="codeph">oracle.sql.STRUCT</code>对象，Statement对象<code class="codeph">cs</code>被转换为<code class="codeph">OracleCallableStatement</code>和Oracle扩展<code class="codeph">getSTRUCT</code>方法被调用。
                           </p><pre class="oac_no_warn" dir="ltr">CallableStatement cs = conn.prepareCall（“BEGIN structout（？）; END;“）; cs.registerOutParameter（1，OracleTypes。STRUCT，“EMPLOYEE”）; cs.execute（）; //将值输入STRUCT，因为假设没有定义类型映射STRUCT emp =（（OracleCallableStatement）cs）.getSTRUCT（1）;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88__GUID-CCFCD935-713B-4F02-83B6-8E52C56A3567">OracleTypes和setNull方法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">Types</code>和<code class="codeph">OracleTypes</code>的类型代码标识数据项的SQL类型， <code class="codeph">setNull</code>方法将其设置为<code class="codeph">NULL</code> 。 <code class="codeph">setNull</code>方法可以在<code class="codeph">java.sql.找到<code class="codeph">java.sql.PreparedStatement</code>和<code class="codeph">oracle.jdbc.OraclePreparedStatement</code>接口。
                           </p>
                           <p>这些是<code class="codeph">setNull</code>方法可以为<code class="codeph">PreparedStatement</code>和<code class="codeph">OraclePreparedStatement</code>对象采用的形式：</p><pre class="oac_no_warn" dir="ltr">ps.setNull（int index，int sqlType）; ps.setNull（int index，int sqlType，String sql_name）;</pre><p>在这些签名中， <code class="codeph">index</code>表示参数索引， <code class="codeph">sqlType</code>是SQL数据类型的类型代码， <code class="codeph">sql_name</code>是数据类型的名称，对于用户定义的类型，当<code class="codeph">sqlType</code>是<code class="codeph">STRUCT</code> ， <code class="codeph">REF</code>或<code class="codeph">ARRAY</code>类型代码时。如果输入无效的<code class="codeph">sqlType</code> ，则抛出<code class="codeph">ParameterTypeConflict</code>异常。
                           </p>
                           <p>以下示例使用预准备语句将空值插入数据库。请注意<code class="codeph">OracleTypes.的使用<code class="codeph">OracleTypes.NUMERIC</code>用于标识设置为<code class="codeph">NULL</code>的数字对象。或者， <code class="codeph">Types.可以使用NUMERIC</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“INSERT INTO num_table VALUES（？）“）; pstmt.setNull（1，OracleTypes。数字）; pstmt.execute（）;</pre><p>在此示例中， <code class="codeph">STRUCT</code>准备语句将<code class="codeph">EMPLOYEE</code>类型的<code class="codeph">NULL</code> <code class="codeph">STRUCT</code>对象插入到数据库中。
                           </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“INSERT INTO employees VALUES（？）“）; pstmt.setNull（1，OracleTypes。STRUCT，“EMPLOYEE”）; pstmt.execute（）;</pre><p>您也可以使用<code class="codeph">OracleTypes.CHAR_BYTES</code>键入带有<code class="codeph">setNull</code>方法，如果你也想叫<code class="codeph">setCHAR</code>在同一列的方法。例如：</p><pre class="oac_no_warn" dir="ltr">ps.setCHAR（n，aCHAR）; ps.addBatch（）; ps.setNull（n，OracleTypes。CHAR_BYTES）; ps.addBatch（）;</pre><p>在前面的示例中，除<code class="codeph">OracleTypes.之外的任何其他类型<code class="codeph">OracleTypes.CHAR_BYTES</code>类型，将导致数据库的额外往返。或者，您也可以在不使用<code class="codeph">setNull</code>方法的情况下编写代码。例如，您也可以编写代码，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">ps.setCHAR（n，null）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="JJDBC28174"></a><div class="props_rev_3"><a id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169" name="GUID-9EC82134-1206-4325-A17B-9FA7610F0169"></a><h3 id="JJDBC-GUID-9EC82134-1206-4325-A17B-9FA7610F0169" class="sect3"><span class="enumeration_section">4.6</span> DML返回</h3>
               <div>
                  <div class="section">
                     <p>与检索自动生成的密钥相比，DML返回功能提供了更多功能。它不仅可用于检索自动生成的密钥，还可用于检索应用程序可能使用的其他列或值。</p>
                     <div class="infoboxnote" id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169__GUID-23348EDA-BFA2-4909-9140-6BE89BFED53D">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>服务器端内部驱动程序不支持DML返回和检索自动生成的密钥。</p>
                           </li>
                           <li>
                              <p>您不能在同一语句中同时使用DML返回和检索自动生成的键。</p>
                           </li>
                        </ul>
                     </div>
                     <p>以下部分解释了对DML返回的支持：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F">特定于Oracle的API</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5">关于运行DML返回语句</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B">DML返回的示例</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-4D193775-764B-4080-9BD1-FC6F7135F086">DML返回的局限性</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169__GUID-798FAA62-3C05-42CB-B055-AB9DD87270D9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="JDBC-standards-support.html#GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8">检索自动生成的密钥</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28175"></a><div class="props_rev_3"><a id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F" name="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F"></a><h4 id="JJDBC-GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F" class="sect4"><span class="enumeration_section">4.6.1</span>特定于Oracle的API</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">OraclePreparedStatement</code>接口通过Oracle特定的应用程序编程接口（API）得到增强，以支持DML返回。<code class="codeph">registerReturnParameter</code>和<code class="codeph">getReturnResultSet</code>方法已添加到<code class="codeph">oracle.jdbc.OraclePreparedStatement</code>接口，用于注册返回的参数和由DML返回的数据。
                        </p>
                        <p><code class="codeph">registerReturnParameter</code>方法用于注册返回DML的返回参数。如果发生错误，该方法将抛出<code class="codeph">SQLException</code>实例。您必须传递一个正整数，指定返回参数的索引。您还必须指定返回参数的类型。您还可以指定返回参数的最大字节数或字符数。此方法只能用于<code class="codeph">char</code>或<code class="codeph">RAW</code>类型。您还可以指定SQL结构类型的完全限定名称。
                        </p>
                        <div class="infoboxnote" id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F__GUID-1BE0C9BE-D483-4393-9898-D1A5001D5926">
                           <p class="notep1">注意：</p>
                           <p>如果您不知道返回参数的最大大小，那么您应该使用<code class="codeph">registerReturnParameter(int paramIndex, int externalType)</code> ，它选择默认的最大大小。如果知道返回参数的最大大小，则使用<code class="codeph">registerReturnParameter(int paramIndex, int externalType, int maxSize)</code>可以减少内存消耗。
                           </p>
                        </div>
                        <p><code class="codeph">getReturnResultSet</code>方法获取从DML返回的数据，并将其作为<code class="codeph">ResultSet</code>对象返回。如果发生错误，该方法将抛出<code class="codeph">SQLException</code>异常。
                        </p>
                        <div class="infoboxnote" id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F__GUID-203F81E9-92B2-4552-B14B-95CF4D88182F">
                           <p class="notep1">注意：</p>
                           <p>对于DML恢复功能的Oracle特定的API是<code class="codeph">ojdbc6.jar</code>的Java开发工具包（JDK）6.0和<code class="codeph">ojdbc7.jar</code>为JDK 7。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28176"></a><div class="props_rev_3"><a id="GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5" name="GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5"></a><h4 id="JJDBC-GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5" class="sect4"><span class="enumeration_section">4.6.2</span>关于运行DML返回语句</h4>
                  <div>
                     <div class="section">
                        <p>在运行DML返回语句之前，JDBC应用程序必须调用一个或多个<code class="codeph">registerReturnParameter</code>方法。该方法为JDBC驱动程序提供返回参数的信息，例如类型和大小。然后使用标准JDBC API之一， <code class="codeph">executeUpdate</code>或<code class="codeph">execute</code>处理DML返回语句。然后，您可以使用<code class="codeph">oracle.jdbc.的<code class="codeph">getReturnResultSet</code>方法将返回的参数作为<code class="codeph">ResultSet</code>对象<code class="codeph">ResultSet</code> <code class="codeph">oracle.jdbc.OraclePreparedStatement</code>接口。
                        </p>
                        <p>要读取<code class="codeph">ResultSet</code>对象中的<code class="codeph">ResultSet</code> ，必须打开基础<code class="codeph">Statement</code>对象。关闭基础<code class="codeph">Statement</code>对象时，也会关闭返回的<code class="codeph">ResultSet</code>对象。这与通过处理SQL查询语句检索的<code class="codeph">ResultSet</code>对象一致。
                        </p>
                        <p>运行DML返回语句时， <code class="codeph">getReturnResultSet</code>方法返回的<code class="codeph">ResultSet</code>对象的并发性必须为<code class="codeph">CONCUR_READ_ONLY</code>并且<code class="codeph">ResultSet</code>对象的类型必须为<code class="codeph">TYPE_FORWARD_ONLY</code>或<code class="codeph">TYPE_SCROLL_INSENSITIVE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28177"></a><div class="props_rev_3"><a id="GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B" name="GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B"></a><h4 id="JJDBC-GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B" class="sect4"><span class="enumeration_section">4.6.3</span> DML返回示例</h4>
                  <div>
                     <div class="section">
                        <p>本节提供了两个DML返回的代码示例。</p>
                        <p>以下代码示例说明了使用DML返回。在此示例中，假设<code class="codeph">name</code>列的最大大小为100个字符。因为<code class="codeph">name</code>列的最大大小是已知的，所以使用<code class="codeph">registerReturnParameter(int paramIndex, int externalType, int maxSize)</code>方法。
                        </p><pre class="oac_no_warn" dir="ltr">...OraclePreparedStatement pstmt =（OraclePreparedStatement）conn.prepareStatement（“从tab1删除其中age &lt;？将名字归还？“）; pstmt.setInt（1,18）; / **寄存器返回参数*在这种情况下，名称的最大大小为100个字符* / pstmt.registerReturnParameter（2，OracleTypes。VARCHAR，100）; //处理DML返回语句count = pstmt.executeUpdate（）; if（count&gt; 0）{ResultSet rset = pstmt.getReturnResultSet（）; // rest不是null而不是空的（rset.next（））{String name = rset.getString（1）; ...} ...
</pre><p>以下代码示例还说明了DML返回的用法。但是，在这种情况下，返回参数的最大大小是未知的。因此，使用<code class="codeph">registerReturnParameter(int paramIndex, int externalType)</code>方法。
                        </p><pre class="oac_no_warn" dir="ltr">...OraclePreparedStatement pstmt =（OraclePreparedStatement）conn.prepareStatement（“插入lobtab值（100，empty_clob（））将col1，col2返回到？，？“）; //注册返回参数pstmt.registerReturnParameter（1，OracleTypes。整数）; pstmt.registerReturnParameter（2，OracleTypes。CLOB）; //处理DML返回SQL语句pstmt.executeUpdate（）; ResultSet rset = pstmt.getReturnResultSet（）; int r; CLOB clob; if（rset.next（））{r = rset.getInt（1）;的System.out.println（R）; clob =（CLOB）rset.getClob（2）; ...} ...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28178"></a><div class="props_rev_3"><a id="GUID-4D193775-764B-4080-9BD1-FC6F7135F086" name="GUID-4D193775-764B-4080-9BD1-FC6F7135F086"></a><h4 id="JJDBC-GUID-4D193775-764B-4080-9BD1-FC6F7135F086" class="sect4"><span class="enumeration_section">4.6.4</span> DML返回的限制</h4>
                  <div>
                     <div class="section">
                        <p>使用DML返回时，请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>未指定<code class="codeph">getReturnResultSet</code>方法在<code class="codeph">getReturnResultSet</code>调用时返回的内容。你不应该依赖这方面的任何具体行动。
                              </p>
                           </li>
                           <li>
                              <p>从执行DML返回语句返回的<code class="codeph">ResultSet</code>对象不支持<code class="codeph">ResultSetMetaData</code>类型。因此，应用程序必须在运行DML返回语句之前知道返回参数的信息。
                              </p>
                           </li>
                           <li>
                              <p>DML返回不支持流。</p>
                           </li>
                           <li>
                              <p>DML返回不能与批量更新结合使用。</p>
                           </li>
                           <li>
                              <p>您不能在单个SQL DML语句中同时使用自动生成的键功能和DML返回功能。例如，不允许以下内容：</p><pre class="oac_no_warn" dir="ltr">...PreparedStatement pstmt = conn.prepareStatement（'插入订单（？，？，？）将order_id返回？“）; pstmt.setInt（1，seq01。NEXTVAL）; pstmt.setInt（2,100）; pstmt.setInt（3,966431502）; pstmt.registerReturnParam（4，OracleTypes。整数）; pstmt.executeUpdate; ResultSet rset = pstmt.getGeneratedKeys; ...
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28179"></a><div class="props_rev_3"><a id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB" name="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB"></a><h3 id="JJDBC-GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB" class="sect3"><span class="enumeration_section">4.7</span>访问PL / SQL关联数组</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>Oracle JDBC驱动程序使JDBC应用程序能够使用Associative Arrays参数进行PL / SQL调用。在PL / SQL中，关联数组是一组键值对，其中键可以是<code class="codeph">PLS_INTEGER</code>或字符串。键可以具有任何值，并且不需要密集。从客户端应用程序，您只能使用<code class="codeph">PLS_INTEGER</code>或<code class="codeph">BINARY_INTEGER</code>键。
                     </p>
                     <div class="infoboxnote" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-D8880935-CEFB-4737-9597-25339D1F8750">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">PLS_INTEGER</code>和<code class="codeph">BINARY_INTEGER</code>是相同的数据类型。
                        </p>
                     </div>
                     <p>以前版本的Oracle JDBC驱动程序仅支持标量数据类型的PL / SQL关联数组。此外，支持仅限于数组的键值对的值。Oracle Database Release 18c支持访问关联数组的键（索引）和值，还支持对象类型的关联数组。使用以下方法来实现新功能：</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>Array createOracleArray（String arrayTypeName，Object elements）抛出SQLException</code></pre></li>
                        <li><pre class="pre codeblock"><code>ARRAY createARRAY（String typeName，Object elements）抛出SQLException</code></pre><p>在上述两种方法中，第二个参数都可以是<code class="codeph">java.util.地图&lt;整数，？&gt;</code>保存关联数组的键值对，或者它只能是值数组。如果它是值数组，则JDBC驱动程序将索引默认为0,1,2，依此类推。如果是<code class="codeph">java.util.地图&lt;整数，？&gt;</code> ，然后JDBC驱动程序不会默认密钥。它们保持在Map中的指定，并且可以是稀疏的和负的。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>地图&lt;？，？&gt; oracle.jdbc。OracleArray.getJavaMap（）;</code></pre><p>这个方法返回一个<code class="codeph">Map&lt;?,?&gt;</code>表示关联数组中的数据类型，对于嵌套表和VARRAY表为<code class="codeph">null</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-7184BC8E-93C6-4C9F-9CC0-1E4B8AE7E0AA">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>关联数组以前称为索引表。</p>
                           </li>
                           <li>
                              <p>使用字符串数据类型时，大小限制为PL / SQL中的大小为32767个字符。对于服务器端内部驱动程序，限制较低。</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-37514249-E899-4DFD-A0FA-D0256B2C54B8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span><cite>Oracle数据库JDBC Java API参考</cite></span></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-collections-and-records.html#LNPLS-GUID-8060F01F-B53B-48D4-9239-7EA8461C2170" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a></p>有关关联数组的更多信息</li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04981.ANSI-dynamic-SQL.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>ANSI动态SQL</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96467-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Oracle-dynamic-SQL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Oracle-dynamic-SQL-method-4.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Oracle-dynamic-SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Oracle-dynamic-SQL-method-4.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name">应用</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ANSI动态SQL</li>
            </ol>
            <a id="GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF" name="GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF"></a><a id="LNPCC014"></a>
            
            <h2 id="LNPCC-GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF" class="sect2"><span class="enumeration_chapter">14</span> ANSI动态SQL</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍Oracle的实现<a id="d75516e22" class="indexterm-anchor"></a> ANSI动态SQL（也称为SQL标准动态SQL），应该用于新的方法4应用程序。它对旧版Oracle动态SQL方法4进行了增强，如前一章所述。
               </p>
               <p>ANSI方法4支持所有Oracle类型，而老的Oracle方法4 <span class="italic">不</span>支持的对象类型，游标变量，结构，DML返回条款，Unicode的变量，LOB的数组。
               </p>
               <p>在ANSI动态SQL中，描述符由Oracle内部维护，而在较旧的Oracle动态SQL方法4中，描述符在用户的Pro * C / C ++程序中定义。在这两种情况下，方法4意味着您的Pro * C / C ++程序接受或构建包含不同数量的主机变量的SQL语句。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41">ANSI动态SQL的基础知识</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5">ANSI SQL语句概述</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700">Oracle Extensions</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8">ANSI动态SQL预编译器选项</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-C0D00130-3193-4038-A730-98471BF8E259">动态SQL语句的完整语法</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-F216E6D1-16BA-400A-8C26-75AC9398264A">示例程序</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC4033"></a><div class="props_rev_3"><a id="GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41" name="GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41"></a><h3 id="LNPCC-GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41" class="sect3"><span class="enumeration_section">14.1</span> ANSI动态SQL的基础知识</h3>
               <div>
                  <p>考虑SQL语句：</p><pre class="oac_no_warn" dir="ltr">SELECT ename，empno FROM emp WHERE deptno =：deptno_data</pre><p>您使用ANSI动态SQL的步骤如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>声明变量，包括用于保存要执行的语句的字符串。</p>
                     </li>
                     <li>
                        <p>为输入和输出变量分配描述符。</p>
                     </li>
                     <li>
                        <p>准备声明。</p>
                     </li>
                     <li>
                        <p>描述输入描述符的输入。</p>
                     </li>
                     <li>
                        <p>设置输入描述符（在我们的示例中是一个输入主机绑定变量<code class="codeph">deptno_data)</code> 。
                        </p>
                     </li>
                     <li>
                        <p>声明并打开动态游标。</p>
                     </li>
                     <li>
                        <p>设置输出描述符（在我们的示例中，输出主机变量<code class="codeph">ename</code>和<code class="codeph">empno)</code> 。
                        </p>
                     </li>
                     <li>
                        <p>重复获取数据，使用GET DESCRIPTOR从每行检索<code class="codeph">ename</code>和<code class="codeph">empno</code>数据字段。
                        </p>
                     </li>
                     <li>
                        <p>对检索到的数据执行某些操作（例如，输出它）。</p>
                     </li>
                     <li>
                        <p>关闭动态游标并取消分配输入和输出描述符。</p>
                     </li>
                  </ul>
               </div><a id="LNPCC4034"></a><a id="LNPCC3574"></a><div class="props_rev_3"><a id="GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E" name="GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E"></a><h4 id="LNPCC-GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E" class="sect4"><span class="enumeration_section">14.1.1</span>预编译器选项</h4>
                  <div>
                     <p>将微预编译器选项DYNAMIC设置为ANSI，或将宏选项MODE设置为ANSI，这将导致DYNAMIC的默认值为ANSI。 DYNAMIC的另一个设置是ORACLE。</p>
                     <p>要使用ANSI类型代码，请将预编译器微选项TYPE_CODE设置为ANSI，或将宏选项MODE设置为ANSI，使TYPE_CODE的默认设置为ANSI。要将TYPE_CODE设置为ANSI，DYNAMIC也必须是ANSI。</p>
                     <p>Oracle在<a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5">ANSI SQL语句概述</a>中对ANSI SQL类型的实现与ANSI标准不完全匹配。例如，声明为INTEGER的列的描述将返回NUMERIC的代码。随着Oracle越来越接近ANSI标准，可能需要进行微小的行为更改。如果希望应用程序可跨数据库平台移植并且尽可能符合ANSI，则将ANSI类型与预编译器选项TYPE_CODE设置为ANSI。如果不接受此类更改，请不要将TYPE_CODE设置为ANSI。
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC4036"></a><a id="LNPCC4035"></a><div class="props_rev_3"><a id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5" name="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5"></a><h3 id="LNPCC-GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5" class="sect3"><span class="enumeration_section">14.2</span> ANSI SQL语句概述</h3>
               <div>
                  <p>在动态SQL语句中使用它之前，首先分配描述符区域。</p>
                  <p>ALLOCATE DESCRIPTOR语句语法为：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } [WITH MAX { <span class="italic">：occurrence</span> |] <span class="italic">numeric_literal</span> }];</pre><p>全局描述符可用于程序中的任何模块。只能在分配本地描述符的文件中访问本地描述符。本地是默认值。</p>
                  <p>描述符名称<code class="codeph">desc_nam,</code>可以是单引号中的文字或存储在主变量中的字符值。
                  </p>
                  <p><code class="codeph">occurrences</code>数是描述符可以容纳的最大绑定变量或列数。这必须是数字文字。默认值为100。
                  </p>
                  <p>当不再需要描述符时，取消分配它以节省内存。否则，在没有更多活动数据库连接时自动完成释放。</p>
                  <p>解除分配声明是：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> };</pre><p>使用DESCRIBE语句获取有关准备好的SQL语句的信息。DESCRIBE INPUT描述了已准备好的动态语句的绑定变量。DESCRIBE OUTPUT（默认值）可以给出输出列的数量，类型和长度。简化的语法是：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE [INPUT | OUTPUT] <span class="italic">sql_statement</span>使用[SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> };</pre><p>如果您的SQL语句具有输入和输出值，则必须分配两个描述符：一个用于输入，一个用于输出值。如果没有输入值，例如：</p><pre class="oac_no_warn" dir="ltr">SELECT ename，empno FROM emp;</pre><p>那么就不需要输入描述符。</p>
                  <p>使用SET DESCRIPTOR语句指定INSERTS，UPDATES，DELETES和SELECT语句的WHERE子句的输入值。如果尚未对输入描述符进行DESCRIBE，请使用SET DESCRIPTOR设置输入绑定变量的数量（存储在<code class="codeph">COUNT</code> ）：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } COUNT = {： <span class="italic">kount</span> | <span class="italic">numeric_literal</span> };</pre><p><code class="codeph">kount</code>可以是主变量或数字文字，例如5。对每个主机变量使用SET DESCRIPTOR语句，至少给出变量的数据源：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } VALUE <span class="italic">item_number</span> DATA =： <span class="italic">hv3</span> ;</pre><p>您还可以设置输入主机变量的类型和长度：</p>
                  <div class="infoboxnote" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__GUID-267F11F1-44A3-4474-87A1-D46DEFE4FA56">
                     <p class="notep1">注意：</p>
                     <p>当TYPE_CODE = ORACLE时，如果未设置TYPE和LENGTH，要么显式使用SET语句，要么通过执行DESCRIBE OUTPUT隐式设置，预编译器将使用从主机变量本身派生的值。当TYPE_CODE = ANSI时，必须使用<a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL数据类型">表14-1中</a>的值设置TYPE。您还应该设置LENGTH，因为ANSI默认长度可能与主变量的长度不匹配。
                     </p>
                  </div><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } VALUE <span class="italic">item_number</span> TYPE =： <span class="italic">hv1</span> ，LENGTH =： <span class="italic">hv2</span> ，DATA =： <span class="italic">hv3</span> ;</pre><p>我们使用标识符<code class="codeph">hv1</code> ， <code class="codeph">hv2</code>和<code class="codeph">hv3</code>来提醒我们必须由主变量提供值。 <span class="italic">item_number</span>是SQL语句中输入变量的位置。
                  </p>
                  <p>如果TYPE_CODE设置为ANSI，TYPE是从下表中选择的类型代码：</p>
                  <div class="tblformal" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936">
                     <p class="titleintable">表14-1 ANSI SQL数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ANSI SQL数据类型" width="100%" border="1" summary="ANSI SQL Datatypes" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="71%" id="d75516e370">数据类型</th>
                              <th align="left" valign="bottom" width="29%" id="d75516e373">类型代码</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e378" headers="d75516e370 ">
                                 <p>字符</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e378 d75516e373 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e385" headers="d75516e370 ">
                                 <p>字符变化</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e385 d75516e373 ">
                                 <p>12</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e392" headers="d75516e370 ">
                                 <p>日期</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e392 d75516e373 ">
                                 <p>9</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e399" headers="d75516e370 ">
                                 <p>DECIMAL</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e399 d75516e373 ">
                                 <p>3</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e406" headers="d75516e370 ">
                                 <p>双精度</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e406 d75516e373 ">
                                 <p>8</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e413" headers="d75516e370 ">
                                 <p>浮动</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e413 d75516e373 ">
                                 <p>6</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e420" headers="d75516e370 ">
                                 <p>整数</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e420 d75516e373 ">
                                 <p>4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e427" headers="d75516e370 ">
                                 <p>数字</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e427 d75516e373 ">
                                 <p>2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e434" headers="d75516e370 ">
                                 <p>真实</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e434 d75516e373 ">
                                 <p>7</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e441" headers="d75516e370 ">
                                 <p>SMALLINT</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e441 d75516e373 ">
                                 <p>五</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>DATA是要输入的主变量的值</p>
                  <p>您还可以设置其他输入值，例如指标，精度和比例。</p>
                  <p>SET DESCRIPTOR语句中的数值必须声明为<code class="codeph">int</code>或<code class="codeph">short int</code> ，但指示符和返回的长度值除外，您必须将其声明为<code class="codeph">short int</code> 。
                  </p>
                  <p>例如，在以下示例中，当您要检索<code class="codeph">empno</code> ，请设置以下值：VALUE = 2，因为<code class="codeph">empno</code>是动态SQL语句中的第二个输出主机变量。主机变量<code class="codeph">empno_typ</code>设置为3（整数的Oracle类型）。主机整数<code class="codeph">empno_len</code>的长度设置为4，即主机变量的大小。DATA等同于主机变量<code class="codeph">empno_data</code> ，它将从数据库表中接收值。代码片段如下：</p><pre class="oac_no_warn" dir="ltr">...char * dyn_statement =“SELECT ename，empno FROM emp WHERE deptno =：deptno_number”; int empno_data; int empno_typ = 3; int empno_len = 4; ...EXEC SQL SET DESCRIPTOR'out'VALUE 2 TYPE =：empno_typ，LENGTH =：empno_len，DATA =：empno_data;</pre><p>设置输入值后，使用输入描述符执行或打开语句。如果语句中有输出值，请在执行FETCH之前设置它们。如果您已执行DESCRIBE OUTPUT，则可能必须测试主机变量的实际类型和长度。DESCRIBE执行产生的内部类型和长度与主机变量外部类型和长度不同。</p>
                  <p>在输出描述符的FETCH之后，使用GET DESCRIPTOR访问返回的数据。我们再次在本章后面展示了一个简化的语法及详细信息：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL GET DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } VALUE <span class="italic">item_number</span> ： <span class="italic">hv1</span> = DATA，： <span class="italic">hv2</span> = INDICATOR，： <span class="italic">hv3</span> = RETURNED_LENGTH;</pre><p><code class="codeph">desc_nam</code>和<code class="codeph">item_number</code>可以是文字或主变量。描述符名称可以是文字，例如“out”。项目编号可以是数字文字，例如2。
                  </p>
                  <p><code class="codeph">hv1, hv2, and hv3</code>是主变量。它们必须是主变量，而不是文字。示例中只显示了三个。
                  </p>
                  <p>对所有数值使用<span class="bold">long</span> <span class="bold">，</span> <span class="bold">int</span>或<span class="bold">short</span> ，但指标和返回的长度变量除外，它们必须很<code class="codeph">short</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__GUID-825F7CC6-EEFA-41F4-8BB1-F4AD19E3ADBB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle外部数据类型和数据类型代码">表15-2</a>了解Oracle类型代码</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ANSI-dynamic-SQL.html#GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D">SET DESCRIPTOR</a> ”</span>有关所有可能的描述符项名称的完整讨论</p>
                        </li>
                        <li>
                           <p><a href="ANSI-dynamic-SQL.html#GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022893" title="GET DESC的描述符项名称的定义">表14-4</a>列出了可以获得的所有可能返回数据项。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC4037"></a><div class="props_rev_3"><a id="GUID-AA394CB8-AED3-4941-9E13-1B94C0128724" name="GUID-AA394CB8-AED3-4941-9E13-1B94C0128724"></a><h4 id="LNPCC-GUID-AA394CB8-AED3-4941-9E13-1B94C0128724" class="sect4"><span class="enumeration_section">14.2.1</span>示例代码</h4>
                  <div>
                     <div class="section">
                        <p>以下示例演示了ANSI Dynamic SQL的用法。它分配一个输入描述符（'in'）和一个输出描述符（'out'）来执行SELECT语句。使用SET DESCRIPTOR语句设置输入值。将打开并获取游标，并使用GET DESCRIPTOR语句检索生成的输出值。</p><pre class="oac_no_warn" dir="ltr">...char * dyn_statement =“SELECT ename，empno FROM emp WHERE deptno =：deptno_data”; int deptno_type = 3，deptno_len = 2，deptno_data = 10; int ename_type = 97，ename_len = 30; char ename_data [31]; int empno_type = 3，empno_len = 4; int empno_data; long SQLCODE = 0; ...main（）{/ *放置初步代码，包括连接，这里。* / ...EXEC SQL ALLOCATE DESCRIPTOR'in'; EXEC SQL ALLOCATE DESCRIPTOR'out'; EXEC SQL PREPARE s FROM：dyn_statement; EXEC SQL DESCRIBE INPUT s使用DESCRIPTOR'in'; EXEC SQL SET DESCRIPTOR'在'VALUE 1 TYPE =：deptno_type，LENGTH =：deptno_len，DATA =：deptno_data; EXEC SQL DECLARE c CURSOR FOR s; EXEC SQL OPEN c使用DESCRIPTOR'in'; EXEC SQL DESCRIBE OUTPUT使用DESCRIPTOR'out'; EXEC SQL SET DESCRIPTOR'out'VALUE 1 TYPE =：ename_type，LENGTH =：ename_len，DATA =：ename_data; EXEC SQL SET DESCRIPTOR'out'VALUE 2 TYPE =：empno_type，LENGTH =：empno_len，DATA =：empno_data; EXEC SQL WHENEVER NOT FOUND DO BREAK; while（SQLCODE == 0）{EXEC SQL FETCH c INTO DESCRIPTOR'out'; EXEC SQL GET DESCRIPTOR'out'VALUE 1：ename_data = DATA; EXEC SQL GET DESCRIPTOR'out'VALUE 2：empno_data = DATA; printf（“\ nEname =％s Empno =％s”，ename_data，empno_data）; } EXEC SQL CLOSE c; EXEC SQL DEALLOCATE DESCRIPTOR'in'; EXEC SQL DEALLOCATE DESCRIPTOR'out'; ...}</pre><p>可滚动游标也可以与ANSI动态SQL一起使用。为了将ANSI动态SQL与可滚动游标一起使用，我们在SCROLL模式下将游标DECLARE。使用各种获取方向模式和FETCH语句来访问结果集。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC4038"></a><div class="props_rev_3"><a id="GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700" name="GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700"></a><h3 id="LNPCC-GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700" class="sect3"><span class="enumeration_section">14.3</span> Oracle扩展</h3>
               <div>
                  <p>接下来将介绍这些扩展：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>SET语句中数据项的引用语义。</p>
                     </li>
                     <li>
                        <p>用于批量操作的数组。</p>
                     </li>
                     <li>
                        <p>支持对象类型，NCHAR列和LOB。</p>
                     </li>
                  </ul>
               </div><a id="LNPCC4039"></a><div class="props_rev_3"><a id="GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4" name="GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4"></a><h4 id="LNPCC-GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4" class="sect4"><span class="enumeration_section">14.3.1</span>参考语义</h4>
                  <div>
                     <p>ANSI标准指定了<span class="italic">值</span>语义。为了提高性能，Oracle已将此标准扩展为包含<span class="italic">引用</span>语义。
                     </p>
                     <p>值语义可以复制主变量数据。引用语义使用主机变量的地址，避免复制。因此，引用语义可以为大量数据提供性能改进。</p>
                     <p>要帮助加快提取速度，请在数据子句之前使用REF关键字：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR'out'VALUE 1 TYPE =：ename_type，LENGTH =：ename_len，REF DATA =：ename_data; EXEC SQL DESCRIPTOR'out'VALUE 2 TYPE =：empno_type，LENGTH =：empno_len，REF DATA =：empno_data;</pre><p>然后主机变量接收检索结果。不需要GET声明。在每个FETCH之后，检索到的数据直接写入<code class="codeph">ename_data</code>和<code class="codeph">empno_data</code> 。</p>
                     <p><span class="italic">仅</span>在DATA，INDICATOR和RETURNED_LENGTH项之前允许使用REF关键字（这可以随着每一行获取而变化），如此代码片段中所示：</p><pre class="oac_no_warn" dir="ltr">int indi，returnLen; ...EXEC SQL SET DESCRIPTOR'out'VALUE 1 TYPE =：ename_type，LENGTH =：ename_len，REF DATA =：ename_data，REF INDICATOR =：indi，REF RETURNED_LENGTH =：returnLen;</pre><p>每次获取后， <code class="codeph">returnLen</code>保存实际检索的<code class="codeph">ename</code>字段长度，这对<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>数据很有用。
                     </p>
                     <p><code class="codeph">ename_len</code>将不会收到返回的长度。FETCH语句不会更改它。使用DESCRIBE语句，然后使用GET语句在获取数据行之前找出最大列宽。
                     </p>
                     <p>REF关键字也用于其他类型的SQL语句而不是SELECT，以加快它们的速度。使用引用语义，使用主机变量而不是复制到描述符区域中的值。使用执行SQL语句时的主变量数据，而不是SET时的数据。这是一个例子：</p><pre class="oac_no_warn" dir="ltr">int x = 1; EXEC SQL SET DESCRIPTOR'value'VALUE 1 DATA =：x; EXEC SQL SET DESCRIPTOR'引用'VALUE 1 REF DATA =：x; x = 2; EXEC SQL EXECUTE s使用DESCRIPTOR'值'; / *将使用x = 1 * / EXEC SQL EXECUTE s使用DESCRIPTOR'引用'; / *将使用x = 2 * /</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D">设置描述符</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4040"></a><div class="props_rev_3"><a id="GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296" name="GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296"></a><h4 id="LNPCC-GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296" class="sect4"><span class="enumeration_section">14.3.2</span>关于使用数组进行批量操作</h4>
                  <div>
                     <p>Oracle通过提供批量操作来扩展ANSI动态SQL。要使用批量操作，请使用带有数组大小的<code class="codeph">FOR</code>子句指定输入数据量或要处理的行数。
                     </p>
                     <p><code class="codeph">FOR</code>子句在ALLOCATE语句中用于提供最大数据量或行数。例如，要使用最大数组大小100：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FOR 100 ALLOCATE DESCRIPTOR'out';</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">int array_size = 100; ...EXEC SQL FOR：array_size ALLOCATE DESCRIPTOR'out';</pre><p>然后在访问描述符的后续语句中使用<code class="codeph">FOR</code>子句。在输出描述符中，FETCH语句的数组大小必须等于或小于ALLOCATE语句中已使用的数组大小：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FOR 20 FETCH c1使用DESCRIPTOR'out';</pre><p>获取DATA，INDICATOR或RETURNED_LENGTH值的同一描述符的后续GET语句必须使用与FETCH语句相同的数组大小。</p><pre class="oac_no_warn" dir="ltr">int val_data [20];简短的val_indi [20]; ...EXEC SQL FOR 20获取DESCRIPTOR'输出'值1：val_data = DATA，：val_indi = INDICATOR;</pre><p>但是，引用其他不同行的项的GET语句（如LENGTH，TYPE和COUNT） <span class="italic">不得</span>使用<code class="codeph">FOR</code>子句：</p><pre class="oac_no_warn" dir="ltr">int cnt，len; ...EXEC SQL GET DESCRIPTOR'out'：cnt = COUNT; EXEC SQL GET DESCRIPTOR'out'VALUE 1：len = LENGTH;</pre><p>具有引用语义的SET语句也是如此。在FETCH之前并使用DATA，INDICATOR或RETURNED_LENGTH的引用语义的SET语句必须与FETCH具有相同的数组大小：</p><pre class="oac_no_warn" dir="ltr">int ref_data [20];简短的ref_indi [20]; ...EXEC SQL FOR 20 SET DESCRIPTOR'out'VALUE 1 REF DATA =：ref_data，REF INDICATOR =：ref_indi;</pre><p>同样，对于用于输入的描述符，例如，要插入一批行，EXECUTE或OPEN语句必须使用等于或小于ALLOCATE语句中使用的大小的数组大小。对于值和参考语义，访问DATA，INDICATOR或RETURNED_LENGTH的SET语句必须使用与EXECUTE语句中相同的数组大小。</p>
                     <p>FOR子句从不在DEALLOCATE或PREPARE语句中使用。</p>
                     <p>下面的代码示例说明了没有输出描述符的批量操作（没有输出，只有要插入到表<code class="codeph">emp</code>输入）。<code class="codeph">COUNT</code>值为2（在INSERT语句中有两个主变量， <code class="codeph">ename_arr</code>和<code class="codeph">empno_arr</code> ）。数据数组<code class="codeph">ename_arr</code>包含三个字符串：“Tom”，“Dick”和“Harry”。对于第二个元素，指标数组<code class="codeph">ename_ind</code>的值为-1;因此将插入NULL而不是“Dick”。数据数组<code class="codeph">empno_arr</code>包含三个员工编号。DML返回子句可用于确认插入的实际名称。
                     </p><pre class="oac_no_warn" dir="ltr">...char * dyn_statement =“INSERT INTO emp（ename）VALUES（：ename_arr）”; char ename_arr [3] [6] = {Tom“，”Dick“，”Harry“}; short ename_ind [3] = {0，-1,0}; int ename_len = 6，ename_type = 97，cnt = 2; int empno_arr [3] = {8001,8002,8003}; int empno_len = 4; int empno_type = 3; int array_size = 3; EXEC SQL FOR：array_size ALLOCATE DESCRIPTOR'in';'EXEC SQL SET DESCRIPTOR'in'COUNT =： cnt; EXEC SQL SET DESCRIPTOR'在'VALUE 1 TYPE =：ename_type，LENGTH =：ename_len; EXEC SQL SET DESCRIPTOR'在'VALUE 2 TYPE =：empno_type，LENGTH =：empno_len; EXEC SQL FOR：array_size SET DESCRIPTOR'in' VALUE 1 DATA =：ename_arr，INDICATOR =：ename_ind; EXEC SQL FOR：array_size SET DESCRIPTOR'in'VALUE 2 DATA =：empno_arr; EXEC SQL PREPARE s FROM：dyn_statement; EXEC SQL FOR：array_size EXECUTE s使用DESCRIPTOR'in'; ...
</pre><p>上面的代码将插入以下值：</p><pre class="oac_no_warn" dir="ltr">EMPNO ENAME 8001 Tom 8002 8003 Harry</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">DML返回条款</a></li>
                           <li><a href="host-arrays.html#GUID-A5ABD676-CF67-4EFF-82A4-82D94A653DD0">关于使用FOR子句</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4041"></a><div class="props_rev_3"><a id="GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90" name="GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90"></a><h4 id="LNPCC-GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90" class="sect4"><span class="enumeration_section">14.3.3</span>支持结构数组</h4>
                  <div>
                     <p>必须将HOST_STRIDE_LENGTH设置为结构的大小，将INDICATOR_STRIDE_LENGTH设置为指示器结构的大小，将RETURNED_LENGTH_STRIDE设置为返回的长度结构的大小。</p>
                     <p>ANSI动态SQL支持结构数组，但旧的Oracle动态SQL <span class="italic">不</span>支持这些结构数组。</p>
                  </div>
               </div><a id="LNPCC4042"></a><div class="props_rev_3"><a id="GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB" name="GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB"></a><h4 id="LNPCC-GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB" class="sect4"><span class="enumeration_section">14.3.4</span>支持对象类型</h4>
                  <div>
                     <p>对于您自己定义的对象类型，请使用等于108的Oracle TYPE。对于对象类型列，请使用DESCRIBE语句获取USER_DEFINED_TYPE_VERSION，USER_DEFINED_TYPE_NAME，USER_DEFINED_TYPE_NAME_LENGTH，USER_DEFINED_TYPE_SCHEMA和USER_DEFINED_TYPE_SCHEMA_LENGTH。</p>
                     <p>如果不使用DESCRIBE语句来检索这些值，则必须通过SET DESCRIPTOR语句自行设置它们。</p>
                  </div>
               </div>
            </div><a id="LNPCC4044"></a><a id="LNPCC4045"></a><a id="LNPCC4043"></a><div class="props_rev_3"><a id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8" name="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8"></a><h3 id="LNPCC-GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8" class="sect3"><span class="enumeration_section">14.4</span> ANSI动态SQL预编译器选项</h3>
               <div>
                  <div class="section">
                     <p>宏选项<a id="d75516e932" class="indexterm-anchor"></a> MODE设置ANSI兼容性特性并控制许多功能。它可以具有值ANSI或ORACLE。对于单个功能，有微量选项可以覆盖MODE设置。
                     </p>
                     <p>预编译器微选项<a id="d75516e939" class="indexterm-anchor"></a> <span class="italic">DYNAMIC</span>指定动态SQL中的描述符行为。预编译器微选项<a id="d75516e946" class="indexterm-anchor"></a> <span class="italic">TYPE_CODE</span>指定是使用ANSI还是Oracle数据类型代码。
                     </p>
                     <p>当宏选项MODE设置为ANSI时，微选项DYNAMIC自动变为ANSI。当MODE设置为ORACLE时，DYNAMIC变为ORACLE。</p>
                     <p>DYNAMIC和TYPE_CODE不能内联使用。</p>
                     <p>此表描述了功能以及DYNAMIC设置如何影响它们。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8__G1022849">
                     <p class="titleintable">表14-2 DYNAMIC选项设置</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DYNAMIC选项设置" width="100%" border="1" summary="DYNAMIC Option Settings" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d75516e970">功能</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e973">DYNAMIC = ANSI</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e976">DYNAMIC = ORACLE</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e981" headers="d75516e970 ">
                                 <p>描述符创建。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e981 d75516e973 ">
                                 <p>必须使用ALLOCATE语句。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e981 d75516e976 ">
                                 <p>必须使用函数SQLSQLDAAlloc（）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e991" headers="d75516e970 ">
                                 <p>描述符破坏。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e991 d75516e973 ">
                                 <p>可以使用DEALLOCATE语句。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e991 d75516e976 ">
                                 <p>可以使用函数SQLLDAFree（）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1001" headers="d75516e970 ">
                                 <p>检索数据。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1001 d75516e973 ">
                                 <p>可以使用FETCH和GET语句。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1001 d75516e976 ">
                                 <p>必须只使用FETCH语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1011" headers="d75516e970 ">
                                 <p>设置输入数据。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1011 d75516e973 ">
                                 <p>可以使用DESCRIBE INPUT语句。必须使用SET语句。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1011 d75516e976 ">
                                 <p>必须在代码中设置描述符值。必须使用DESCRIBE BIND VARIABLES语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1021" headers="d75516e970 ">
                                 <p>描述符表示。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1021 d75516e973 ">
                                 <p>单引号文字或包含描述符名称的主机标识符。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1021 d75516e976 ">
                                 <p>主机变量，指向SQLDA的指针。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1031" headers="d75516e970 ">
                                 <p>可用的数据类型。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1031 d75516e973 ">
                                 <p>除BIT和所有Oracle类型之外的所有ANSI类型。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1031 d75516e976 ">
                                 <p>Oracle类型，除了对象，LOB，结构数组和游标变量。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>微型选项TYPE_CODE由预编译器设置为与宏选项MODE相同的设置。如果DYNAMIC等于ANSI，TYPE_CODE只能等于ANSI。</p>
                     <p>以下是TYPE_CODE设置对应的功能：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8__G1022881">
                     <p class="titleintable">表14-3 TYPE_CODE选项设置</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE_CODE选项设置" width="100%" border="1" summary="TYPE_CODE Option Settings" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d75516e1056">功能</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e1059">TYPE_CODE = ANSI</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e1062">TYPE_CODE = ORACLE</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1067" headers="d75516e1056 ">
                                 <p>在动态SQL中输入和返回的数据类型代码编号。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1067 d75516e1059 ">
                                 <p>当ANSI类型存在时，使用ANSI代码。否则，请使用Oracle代码编号的否定值。</p>
                                 <p>仅在DYNAMIC = ANSI时有效。</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1067 d75516e1062 ">
                                 <p>使用Oracle代码。</p>
                                 <p>无论DYNAMIC的设置如何，都可以使用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="precompiler-options.html#GUID-639D5AF6-3CC0-4F9A-A501-DF9C791388B5">模式</a></li>
                        <li><a href="advanced-topics.html#GUID-3B79020D-735A-47A9-84DA-401D86E8F712">SQLLIB公共函数的新名称</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4046"></a><div class="props_rev_3"><a id="GUID-C0D00130-3193-4038-A730-98471BF8E259" name="GUID-C0D00130-3193-4038-A730-98471BF8E259"></a><h3 id="LNPCC-GUID-C0D00130-3193-4038-A730-98471BF8E259" class="sect3"><span class="enumeration_section">14.5</span>动态SQL语句的完整语法</h3>
               <div>
                  <p>有关所有这些语句的更多详细信息，请参阅<a href="embedded-SQL-statements-and-directives.html#GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5">嵌入式SQL语句和指令</a> 。
                  </p>
               </div><a id="LNPCC4048"></a><a id="LNPCC4049"></a><a id="LNPCC4050"></a><a id="LNPCC4051"></a><a id="LNPCC4047"></a><div class="props_rev_3"><a id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334" name="GUID-1D870984-33FA-4F37-B8B6-DB8026205334"></a><h4 id="LNPCC-GUID-1D870984-33FA-4F37-B8B6-DB8026205334" class="sect4"><span class="enumeration_section">14.5.1</span>分配描述<span class="enumeration_section">符</span></h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-B39644BB-378D-461A-A16A-40C60A601A4A">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用此语句分配SQL描述符区域。提供描述符和主机绑定项的最大出现次数以及数组大小。此语句仅适用于ANSI动态SQL。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-CE1793C0-45CF-4103-98EB-AAE8D0400792">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR [：] <span class="italic">array_size</span> ] ALLOCATE DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } [WITH MAX <span class="italic">occurrence</span> ];</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-EA40B444-4862-468A-8764-99E132096121">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p>这是一个支持数组处理的可选子句（它是Oracle扩展）。它告诉预编译器描述符可用于数组处理。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。本地描述符在模块中必须是唯一的。如果先前已分配描述符但未解除分配，则会生成运行时错误。全局描述符对于应用程序必须是唯一的，否则会导致运行时错误。</p>
                        <p>事件</p>
                        <p>描述符中可能的最大主机变量数。它必须是0到64K之间的整数常量，否则返回错误。默认值为100。该条款是可选的。如果预编译器不符合这些规则，则会导致错误。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-A39245B0-8031-436A-BA14-3EA4F264D6B6">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">使用MAX 50执行SQL ALLOCATE DESCRIPTOR'SELDES'; EXEC SQL FOR：批处理ALLOCATE DESCRIPTOR GLOBAL：绑定与MAX 25;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4053"></a><a id="LNPCC4054"></a><a id="LNPCC4055"></a><a id="LNPCC4056"></a><a id="LNPCC4052"></a><div class="props_rev_3"><a id="GUID-39530428-24E2-4576-941B-C9859616DEBB" name="GUID-39530428-24E2-4576-941B-C9859616DEBB"></a><h4 id="LNPCC-GUID-39530428-24E2-4576-941B-C9859616DEBB" class="sect4"><span class="enumeration_section">14.5.2</span> DEALLOCATE DESCRIPTOR</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-D43D4476-2898-4601-A9B9-EBA1998827BF">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用此语句释放先前已分配的SQL描述符区域以释放内存。此语句仅用于ANSI动态SQL。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-9721A988-93B6-4889-801C-6D357A64B96E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> };</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-D195059A-B377-498C-9503-77E3E748EC48">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>如果尚未分配具有相同名称和作用域的描述符，或者已经分配和取消分配了描述符，则会导致运行时错误。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-E26FEDE9-1710-4D36-8CD6-99DF36F7F64B">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL'SELDES'; EXEC SQL DEALLOCATE DESCRIPTOR：binddes;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4058"></a><a id="LNPCC4059"></a><a id="LNPCC4060"></a><a id="LNPCC4061"></a><a id="LNPCC4062"></a><a id="LNPCC4063"></a><a id="LNPCC4064"></a><a id="LNPCC4065"></a><a id="LNPCC4057"></a><div class="props_rev_3"><a id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D" name="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D"></a><h4 id="LNPCC-GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D" class="sect4"><span class="enumeration_section">14.5.3</span>获取描述<span class="enumeration_section">符</span></h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-7E30C062-D5B8-4B4F-91A7-31E224BCE03D">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>用于从SQL描述符区域获取信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-9E765B7D-8CDA-4895-BD87-EEB9EFBB074C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR [：] <span class="italic">array_size</span> ]获取DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } {： <span class="italic">hv0</span> = COUNT | VALUE <span class="italic">item_number</span> ： <span class="italic">hv1</span> = <span class="italic">item_name1</span> [{，： <span class="italic">hvN</span> = <span class="italic">item_nameN</span> }]};</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-6F1F078A-94A5-49E5-9925-F2172DA3181F">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p><code class="codeph">FOR array_size</code>是可选的Oracle扩展。 <code class="codeph">array_size</code>必须等于FETCH语句中的字段<code class="codeph">array_size</code> 。
                        </p>
                        <p>计数</p>
                        <p>绑定变量的总数。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>VALUE item_number</p>
                        <p>项目在SQL语句中的位置。 <code class="codeph">item_number</code>可以是变量或常量。如果<code class="codeph">item_number</code>大于<code class="codeph">COUNT</code> ，则返回“未找到数据”条件。 <code class="codeph">item_number</code>必须大于0。
                        </p>
                        <p>hv1 .. hvN</p>
                        <p>这些是传输值的主变量。</p>
                        <p>item_name1 .. item_nameN</p>
                        <p>描述符项名称对应于主变量。可能的ANSI描述符项名称是：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022893">
                        <p class="titleintable">表14-4 GET DESCRIPTOR的描述符项名称的定义</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="GET DESCRIPTOR的描述符项名称的定义" width="100%" border="1" summary="Definitions of Descriptor Item Names for GET DESC" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1409">描述符项目名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1413">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1419" headers="d75516e1409 ">
                                    <p><code class="codeph">类型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1419 d75516e1413 ">
                                    <p>如果ANSI数据类型不在表中且TYPE_CODE = ANSI，则使用Oracle类型代码的负值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1427" headers="d75516e1409 ">
                                    <p><code class="codeph">长度</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1427 d75516e1413 ">
                                    <p>列中的数据长度：NCHAR的字符数;否则以字节为单位由DESCRIBE OUTPUT设置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1435" headers="d75516e1409 ">
                                    <p><code class="codeph">OCTET_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1435 d75516e1413 ">
                                    <p>以字节为单位的数据长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1443" headers="d75516e1409 ">
                                    <p><code class="codeph">RETURNED_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1443 d75516e1413 ">
                                    <p>FETCH后的实际数据长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1451" headers="d75516e1409 ">
                                    <p><code class="codeph">RETURNED_OCTET_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1451 d75516e1413 ">
                                    <p>返回数据的长度，以字节为单位。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1459" headers="d75516e1409 ">
                                    <p><code class="codeph">精确</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1459 d75516e1413 ">
                                    <p>位数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1467" headers="d75516e1409 ">
                                    <p><code class="codeph">规模</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1467 d75516e1413 ">
                                    <p>对于精确数字类型，小数点右侧的位数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1475" headers="d75516e1409 ">
                                    <p><code class="codeph">NULLABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1475 d75516e1413 ">
                                    <p>如果为1，则列可以具有NULL值。如果为0，则列不能具有NULL值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1483" headers="d75516e1409 ">
                                    <p><code class="codeph">指示符</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1483 d75516e1413 ">
                                    <p>相关指标值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1491" headers="d75516e1409 ">
                                    <p><code class="codeph">数据</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1491 d75516e1413 ">
                                    <p>数据值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1499" headers="d75516e1409 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1499 d75516e1413 ">
                                    <p>列名。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1508" headers="d75516e1409 ">
                                    <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1508 d75516e1413 ">
                                    <p>列的字符集。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>Oracle附加描述符项名称是：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022973">
                        <p class="titleintable">表14-5 GET DESCRIPTOR的描述符项名称定义的Oracle扩展</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="用于GET DESCRIPTOR的描述符项名称定义的Oracle扩展" width="100%" border="1" summary="Oracle Extensions to Definitions of Descriptor Item Names for GET DESCRIPTOR" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1528">描述符项目名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1532">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1538" headers="d75516e1528 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1538 d75516e1532 ">
                                    <p>如果是2，NCHAR或NVARCHAR2。如果是1，字符。如果为0，则为非字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1546" headers="d75516e1528 ">
                                    <p><code class="codeph">INTERNAL_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1546 d75516e1532 ">
                                    <p>内部长度，以字节为单位。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1554" headers="d75516e1528 ">
                                    <p><code class="codeph">HOST_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1554 d75516e1532 ">
                                    <p>主机结构的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1562" headers="d75516e1528 ">
                                    <p><code class="codeph">INDICATOR_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1562 d75516e1532 ">
                                    <p>指标结构的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1570" headers="d75516e1528 ">
                                    <p><code class="codeph">RETURNED_LENGTH_STRIDE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1570 d75516e1532 ">
                                    <p>返回长度结构的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1578" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_VERSION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1578 d75516e1532 ">
                                    <p>用于对象类型版本的字符表示。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1586" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1586 d75516e1532 ">
                                    <p>对象类型的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1594" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1594 d75516e1532 ">
                                    <p>对象类型名称的长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1602" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1602 d75516e1532 ">
                                    <p>用于对象模式的字符表示。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1610" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1610 d75516e1532 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code>长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1621" headers="d75516e1528 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1621 d75516e1532 ">
                                    <p>如果是2，NCHAR或NVARCHAR2。如果是1，字符。如果为0，则为非字符。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-3BF2EC36-3B25-4100-B4B9-FEA837ECF312">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在GET DESCRIPTOR语句中使用FOR子句，该语句仅包含DATA，INDICATOR和RETURNED_LENGTH项。</p>
                        <p>内部类型由DESCRIBE OUTPUT语句提供。对于输入和输出，必须将类型设置为主变量的外部类型。</p>
                        <p>TYPE是ANSI SQL数据类型代码。如果ANSI类型不在表中，请使用Oracle类型代码的负值。</p>
                        <p>LENGTH包含具有固定宽度国家字符集的字段的列长度（以字符为单位）。其他字符列以字节为单位。它在DESCRIBE OUTPUT中设置。</p>
                        <p>RETURNED_LENGTH是FETCH语句设置的实际数据长度。它是以LENGTH描述的字节或字符。字段OCTET_LENGTH和RETURNED_OCTET_LENGTH是以字节为单位的长度。</p>
                        <p>NULLABLE = 1表示该列可以具有NULLS; NULLABLE = 0表示它不能。</p>
                        <p>CHARACTER_SET_NAME仅对字符列有意义。对于其他类型，它是未定义的。DESCRIBE OUTPUT语句获取该值。</p>
                        <p>DATA和INDICATOR是该列的数据值和指示器状态。如果data = NULL，但未请求指示符，则在运行时生成错误（“DATA EXCEPTION，NULL VALUE，NO INDICATOR PARAMETER”）。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-2776F1B0-362A-4DF0-BE2E-3C8EE26934C0">特定于Oracle的描述符项目名称</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p></p>
                        <p>如果列是NCHAR或NVARCHAR2列，则NATIONAL_CHARACTER = 2。如果列是字符（但不是国家字符）列，则此项目设置为1。如果是非字符列，则在执行DESCRIBE OUTPUT后该项为0。</p>
                        <p>INTERNAL_LENGTH用于与Oracle动态方法4兼容。它与Oracle SQL描述符区域的length成员具有相同的值。</p>
                        <p>DESCRIBE OUTPUT语句不返回以下三项。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>HOST_STRIDE_LENGTH是主变量结构的大小。</p>
                           </li>
                           <li>
                              <p>INDICATOR_STRIDE_LENGTH是指标变量结构的大小。</p>
                           </li>
                           <li>
                              <p>RETURNED_LENGTH_STRIDE是返回长度变量的结构大小</p>
                           </li>
                        </ul>
                        <p>当预编译器选项OBJECTS设置为YES时，以下项目仅适用于对象类型。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>USER_DEFINED_TYPE_VERSION包含类型版本的字符表示形式。</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_NAME是该类型名称的字符表示形式。</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_NAME_LENGTH是类型名称的长度（以字节为单位）。</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_SCHEMA是类型的模式名称的字符表示形式。</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_SCHEMA_LENGTH是类型的模式名称的字符长度。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-C6C2F695-D65E-4D85-8A6F-878BAD701C19">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL GET DESCRIPTOR：binddes：n = COUNT; EXEC SQL获取描述符'SELDES'的值1：t = TYPE，：l = LENGTH; EXEC SQL FOR：批处理获取描述符本地'SELDES'值：sel_item_no：i = INDICATOR，：v = DATA;</pre><div class="infoboxnotealso" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-7FE90F60-8143-4C88-B60E-1839CFF0B11A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL数据类型">表14-1</a>了解ANSI类型代码</p>
                              </li>
                              <li>
                                 <p>Oracle <span class="q"><a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle External Datatypes and Datatype Codes">表格</a></span>代码的<span class="q">“ <a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle外部数据类型和数据类型代码">表15-2</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D">Oracle动态SQL：方法4</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4067"></a><a id="LNPCC4068"></a><a id="LNPCC4069"></a><a id="LNPCC4070"></a><a id="LNPCC4071"></a><a id="LNPCC4072"></a><a id="LNPCC4073"></a><a id="LNPCC4066"></a><div class="props_rev_3"><a id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D" name="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D"></a><h4 id="LNPCC-GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D" class="sect4"><span class="enumeration_section">14.5.4</span>设置描述符</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-3A20788F-A0E6-4ABA-A736-F69E0817406E">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用此语句从主机变量设置描述符区域中的信息。SET DESCRIPTOR语句<span class="italic">仅</span>支持项名称的主机变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-17F40BD0-7176-4052-8818-557598EECEB3">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR <span class="italic">array_size</span> ] SET DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } {COUNT =： <span class="italic">hv0</span> | VALUE <span class="italic">item_number</span> [REF] <span class="italic">item_name1</span> =： <span class="italic">hv1</span> [{，[REF] <span class="italic">item_nameN</span> =： <span class="italic">hvN</span> }]};</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-891F8D42-FDE1-4165-B14A-9912FC7CFDE7">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p>此可选Oracle子句允许在仅设置描述符项DATA，INDICATOR和RETURNED_LENGTH时使用数组。您不能在包含FOR子句的SET DESCRIPTOR中使用其他项。所有主机变量数组大小必须匹配。对用于FETCH语句的SET语句使用相同的数组大小。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。它遵循ALLOCATE DESCRIPTOR中的规则。</p>
                        <p>计数</p>
                        <p>绑定（输入）或定义（输出）变量的数量。</p>
                        <p>VALUE item_number</p>
                        <p>位于主机变量的动态SQL语句中。</p>
                        <p>hv1 .. hvN</p>
                        <p>您设置的主变量（不是常量）。</p>
                        <p>item_nameI</p>
                        <p>与GET DESCRIPTOR语法类似， <code class="codeph">desc_item_name</code>可以采用这些值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__G1045758">
                        <p class="titleintable">表14-6 SET DESCRIPTOR的描述符项名称</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SET DESCRIPTOR的描述符项目名称" width="100%" border="1" summary="Descriptor Item Names for SET DESCRIPTOR" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1839">描述符项目名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1843">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1849" headers="d75516e1839 ">
                                    <p><code class="codeph">类型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1849 d75516e1843 ">
                                    <p>如果没有相应的ANSI类型，请使用Oracle类型的负值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1857" headers="d75516e1839 ">
                                    <p><code class="codeph">长度</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1857 d75516e1843 ">
                                    <p>列中的最大数据长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1865" headers="d75516e1839 ">
                                    <p><code class="codeph">指示符</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1865 d75516e1843 ">
                                    <p>相关指标值。设置参考语义。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1873" headers="d75516e1839 ">
                                    <p><code class="codeph">数据</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1873 d75516e1843 ">
                                    <p>要设置的数据的值。设置参考语义。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1881" headers="d75516e1839 ">
                                    <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1881 d75516e1843 ">
                                    <p>列的字符集。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1889" headers="d75516e1839 ">
                                    <p><code class="codeph">类型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1889 d75516e1843 ">
                                    <p>如果没有相应的ANSI类型，请使用Oracle类型的负值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>有关ANSI类型代码，请<a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL数据类型">参见表14-1</a> ;有关Oracle类型代码，请参阅<span class="q">“ <a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle外部数据类型和数据类型代码">表15-2</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>描述符项名称的Oracle扩展是：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__G1045970">
                        <p class="titleintable">表14-7 SET DESCRIPTOR的描述符项目名称的Oracle扩展</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="用于SET DESCRIPTOR的描述符项目名称的Oracle扩展" width="100%" border="1" summary="Oracle Extensions to Descriptor Item Names for SET DESCRIPTOR" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1923">描述符项目名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1927">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1933" headers="d75516e1923 ">
                                    <p><code class="codeph">RETURNED_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1933 d75516e1927 ">
                                    <p>FETCH后返回的长度。设置是否使用引用语义。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1941" headers="d75516e1923 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1941 d75516e1927 ">
                                    <p>当输入主机变量是NCHAR或NVARCHAR2类型时，设置为2。</p>
                                    <p>国家字符设置清除时设置为0。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1951" headers="d75516e1923 ">
                                    <p><code class="codeph">HOST_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1951 d75516e1927 ">
                                    <p>主机变量struct的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1959" headers="d75516e1923 ">
                                    <p><code class="codeph">INDICATOR_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1959 d75516e1927 ">
                                    <p>指标变量的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1967" headers="d75516e1923 ">
                                    <p><code class="codeph">RETURNED_LENGTH_STRIDE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1967 d75516e1927 ">
                                    <p>返回长度结构的大小（以字节为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1975" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1975 d75516e1927 ">
                                    <p>对象类型的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1983" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1983 d75516e1927 ">
                                    <p>对象类型名称的长度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1991" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1991 d75516e1927 ">
                                    <p>用于对象模式的字符表示。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1999" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1999 d75516e1927 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code>长度。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-12D30B30-7BDE-4334-A58D-4E1433C0545E">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>引用语义是另一个可选的Oracle扩展，可以提高性能。在这些描述符项名称之前使用关键字REF：DATA，INDICATOR，RETURNED_LENGTH。使用REF关键字时，不需要使用GET语句。复杂数据类型（对象和集合类型，结构数组和DML返回子句）都需要SET DESCRIPTOR的REF形式。</p>
                        <p>如果程序将DESCRIPTOR重用于另一个SQL，则DESCRIPTOR的旧值仍然存在。</p>
                        <p>当使用REF时，在SET中使用关联的主机变量本身。在这种情况下不需要GET。只能在使用REF语义而不是值语义时设置RETURNED_LENGTH。</p>
                        <p>对FETCH中使用的SET或GET语句使用相同的数组大小。</p>
                        <p>对于NCHAR主机输入值，将NATIONAL_CHAR字段设置为2。</p>
                        <p>当DESCRIPTOR用于旧SQL中的NCHAR主机输入值时，将NATIONAL_CHARACTER字段设置为0。</p>
                        <p>设置对象类型的特征时，必须设置USER_DEFINED_TYPE_NAME和USER_DEFINED_TYPE_NAME_LENGTH。</p>
                        <p>如果省略，则USER_DEFINED_TYPE_SCHEMA和USER_DEFINED_TYPE_SCHEMA_LENGTH默认为当前连接。</p>
                        <p>将CHARACTER_SET_NAME设置为UTF16以获得客户端Unicode支持。数据将采用UCS2编码，RETURNED_LENGTH采用CHARS。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-BF426287-1491-4159-8072-A5BBAA6B74A7">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">int bindno = 2; short indi = -1; char data =“ignore”; int batch = 1; EXEC SQL FOR：批处理ALLOCATE DESCRIPTOR'binddes'; EXEC SQL SET DESCRIPTOR GLOBAL：binddes COUNT = 3; EXEC SQL FOR：batch SET DESCRIPTOR：bindes VALUE：bindno INDICATOR =：indi，DATA =：data; ...</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D">获取描述符</a></li>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">DML返回条款</a></li>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296">关于使用阵列进行批量操作</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-C2F86E0D-82B0-47A9-BCA8-F2B66285D615">
                        <p class="notep1">也可以看看：</p>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4075"></a><a id="LNPCC4076"></a><a id="LNPCC4077"></a><a id="LNPCC4078"></a><a id="LNPCC4074"></a><div class="props_rev_3"><a id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01" name="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01"></a><h4 id="LNPCC-GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01" class="sect4"><span class="enumeration_section">14.5.5</span>使用PREPARE</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-20B0CEC0-82A1-44B3-8A7C-E54716C8B4F8">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此方法中使用的PREPARE语句与其他动态SQL方法中使用的PREPARE语句相同。Oracle扩展允许SQL语句的带引号的字符串以及变量。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-5AB525B0-98F4-44C6-9A0A-FFC69EBBF92E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE <span class="italic">statement_id</span> FROM： <span class="italic">sql_statement</span> ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-918F1F74-EEE2-4D45-9E42-52393B76D2EC">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>不得宣布这一点;它是未声明的SQL标识符。</p>
                        <p>sql_statement</p>
                        <p>保存嵌入式SQL语句的字符串（常量或变量）。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-F1DC47CE-DEFE-420D-AE40-7F23A6EEEA52">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">char * statement =“SELECT ENAME FROM emp WHERE deptno =：d”; EXEC SQL PREPARE S1 FROM：statement;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4080"></a><a id="LNPCC4081"></a><a id="LNPCC4082"></a><a id="LNPCC4083"></a><a id="LNPCC4084"></a><a id="LNPCC4079"></a><div class="props_rev_3"><a id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A" name="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A"></a><h4 id="LNPCC-GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A" class="sect4"><span class="enumeration_section">14.5.6</span>描述输入</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-1FC9AFB4-F943-4B23-B924-9422B76158D1">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此语句返回有关绑定变量的信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-14F4FB96-B076-45BD-B723-C847132A7DA8">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE INPUT <span class="italic">statement_id</span>使用[SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> };</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-F42E02DB-E4D9-43F6-B7B9-2159A4576815">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>与PREPARE和DESCRIBE OUTPUT中使用的相同。不得宣布这一点;它是一个未声明的SQL标识符。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p></p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-BE30D3B9-5144-4D56-BE1F-9C1F89995512">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>DESCRIBE INPUT仅设置COUNT和NAME项。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-7E6A8EB8-C0FC-4746-A4D3-21CB50741A18">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE INPUT S1使用SQL DESCRIPTOR GLOBAL：binddes; EXEC SQL使用DESCRIPTOR'输入'描述输入S2;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4086"></a><a id="LNPCC4087"></a><a id="LNPCC4088"></a><a id="LNPCC4089"></a><a id="LNPCC4085"></a><div class="props_rev_3"><a id="GUID-92918804-0091-413F-BD86-5F5274891445" name="GUID-92918804-0091-413F-BD86-5F5274891445"></a><h4 id="LNPCC-GUID-92918804-0091-413F-BD86-5F5274891445" class="sect4"><span class="enumeration_section">14.5.7</span>描述输出</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-58074930-3FAA-4D51-97E7-DD8A55FF5017">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用此语句可获取有关PREPAREd语句中的输出列的信息。ANSI语法与旧的Oracle语法不同。存储在SQL描述符区域中的信息是返回的值的数量以及类型，长度和名称等相关信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-7B8F560E-55DA-4E10-B02C-260B5E89C3BD">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE [OUTPUT] <span class="italic">statement_id</span>使用[SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> } <span class="italic">;</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-F3F8D6C8-ABE0-4E4E-A51B-26FE87966BEB">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>与PREPARE中使用的相同。不得宣布这一点;它是一个未声明的SQL标识符。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                        <p>OUTPUT是默认值，可以省略。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-B610E242-E325-461E-9EEB-EA70F2449C1E">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">char * desname =“SELDES”; EXEC SQL DESCRIBE S1使用SQL DESCRIPTOR'SELDES'; / *或者，* / EXEC SQL DESCRIBE OUTPUT S1使用DESCRIPTOR：desname;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4091"></a><a id="LNPCC4092"></a><a id="LNPCC4093"></a><a id="LNPCC4094"></a><a id="LNPCC4095"></a><a id="LNPCC4090"></a><div class="props_rev_3"><a id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28" name="GUID-00B73490-5667-4D86-A0D8-1792BF794A28"></a><h4 id="LNPCC-GUID-00B73490-5667-4D86-A0D8-1792BF794A28" class="sect4"><span class="enumeration_section">14.5.8</span>执行</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-7161DF1F-E247-433A-9E18-3C2CB3AA3D29">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>EXECUTE在准备好的SQL语句中匹配输入和输出变量，然后执行该语句。通过允许一个语句中的两个描述符支持DML返回子句，此ANSI版本的EXECUTE与旧的EXECUTE语句不同。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-8A3A32F3-9E8D-4E25-B16B-5BEA077DF2E2">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR： <span class="italic">array_size</span> ] EXECUTE <span class="italic">statement_id</span> [USING [SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> }] [INTO [SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam</span> | <span class="italic">string_literal</span> }];</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-CFB5BD5D-3ED1-4D39-AA11-4A3873DFD705">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p>语句将处理的行数。</p>
                        <p>statement_id</p>
                        <p>与PREPARE中使用的相同。不得宣布这一点;它是一个未声明的SQL标识符。它可以是文字。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-8E6162A4-5D34-4A4B-AEB2-46FDAC7B64CC">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>INTO子句为INSERT，UPDATE和DELETE实现DML返回子句。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-7CB58661-D7B6-40DA-9AF4-824A81C4BBED">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE S1使用SQL DESCRIPTOR GLOBAL：binddes; EXEC SQL EXECUTE S2使用描述符：bv1进入描述符'SELDES';</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">DML返回条款</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4097"></a><a id="LNPCC4098"></a><a id="LNPCC4099"></a><a id="LNPCC4100"></a><a id="LNPCC4096"></a><div class="props_rev_3"><a id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D" name="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D"></a><h4 id="LNPCC-GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D" class="sect4"><span class="enumeration_section">14.5.9</span>使用EXECUTE IMMEDIATE</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-2310C1A0-ADF0-4917-9DA6-330E230D41C8">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>执行包含SQL语句的文字或主机变量字符串。此语句的ANSI SQL形式与旧的Oracle动态SQL中的相同：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-91DCB6F5-5CC3-46EF-AF6E-96017E842390">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE {： <span class="italic">sql_statement</span> | <span class="italic">string_literal</span> }</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-E22DE205-28F3-49D2-929D-F45CEB33E44B">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>sql_statement</p>
                        <p>字符串中的SQL语句或PL / SQL块。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-77B2A51B-0579-4826-97F0-6E4D950414F0">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE：statement;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4102"></a><a id="LNPCC4103"></a><a id="LNPCC4104"></a><a id="LNPCC4105"></a><a id="LNPCC4101"></a><div class="props_rev_3"><a id="GUID-6B921727-7A70-4280-892B-64444691D28A" name="GUID-6B921727-7A70-4280-892B-64444691D28A"></a><h4 id="LNPCC-GUID-6B921727-7A70-4280-892B-64444691D28A" class="sect4"><span class="enumeration_section">14.5.10</span>使用DYNAMIC DECLARE CURSOR</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-88BDCAF9-45B6-486A-BC0E-5C01053D0527">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>声明与作为查询的语句关联的游标。这是通用Declare Cursor语句的一种形式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-9A55CED1-8E8F-4580-B4E4-16CBF36C79EF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE <span class="italic">cursor_name</span> CURSOR FOR <span class="italic">statement_id;</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-30F69975-AF0F-4EE5-9138-0BF551F8EEF2">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>CURSOR_NAME</p>
                        <p>游标变量（SQL标识符，而不是主变量）。</p>
                        <p>statement_id</p>
                        <p>未声明的SQL标识符。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-749F6525-580A-4DC8-A576-93E61E8A7768">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">S1的EXEC SQL DECLARE C1 CURSOR;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4107"></a><a id="LNPCC4108"></a><a id="LNPCC4109"></a><a id="LNPCC4110"></a><a id="LNPCC4111"></a><a id="LNPCC4106"></a><div class="props_rev_3"><a id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1" name="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1"></a><h4 id="LNPCC-GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1" class="sect4"><span class="enumeration_section">14.5.11</span> OPEN游标</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-000A43F0-8148-427F-BF73-A4088D293BA3">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>OPEN语句将输入参数与游标关联，然后打开游标。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-20176522-F128-4564-AFDE-AF430CE9F3EA">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR： <span class="italic">array_size</span> ] OPEN <span class="italic">dyn_cursor</span> [[USING [SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam1</span> | <span class="italic">string_literal</span> }] [INTO [SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam2</span> | <span class="italic">string_literal</span> }]];</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-FDD9127E-A2A8-430E-9E81-52B1B01ED3BF">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p>此限制小于或等于分配描述符时指定的数字。</p>
                        <p>dyn_cursor</p>
                        <p>游标变量。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-FA348FC3-04B0-4254-B510-D0B2C65D78E8">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果与游标关联的预准备语句包含冒号或问号，则必须指定USING子句，否则在运行时会产生错误。支持DML返回子句。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-C1379A4F-BEF3-4CA3-BCE0-F7DB7E06DF29">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN C1使用SQL DESCRIPTOR：binddes; EXEC SQL FOR：限制OPEN C2使用DESCRIPTOR：b1，：b2 INTO SQL DESCRIPTOR：seldes;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">DML返回条款</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4113"></a><a id="LNPCC4114"></a><a id="LNPCC4115"></a><a id="LNPCC4116"></a><a id="LNPCC4117"></a><a id="LNPCC4112"></a><div class="props_rev_3"><a id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC" name="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC"></a><h4 id="LNPCC-GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC" class="sect4"><span class="enumeration_section">14.5.12</span> FETCH</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-3AC46534-0911-44D4-8C3D-F0A0B8871C49">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>获取使用动态DECLARE语句声明的游标的行。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-7F4864AE-A907-47A7-BEAC-7DE0EA58F21D">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR： <span class="italic">array_size</span> ] FETCH <span class="italic">游标</span> INTO [SQL] DESCRIPTOR [GLOBAL | LOCAL] { <span class="italic">：desc_nam | string_literal</span> };</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-F38CCA1C-C0DB-4F76-B8F8-4BA516AAEE8F">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ARRAY_SIZE</p>
                        <p>语句将处理的行数。</p>
                        <p>光标</p>
                        <p>先前声明的动态游标。</p>
                        <p>全球|本地</p>
                        <p>如果未输入，则可选范围子句默认为LOCAL。只能在分配本地描述符的文件中访问本地描述符。全局描述符可以在编译单元的任何模块中使用。</p>
                        <p>desc_nam</p>
                        <p>描述符名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-64E74F7A-43F6-4847-8547-FD313C44C1A9">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>FOR子句中的可选<code class="codeph">array_size</code>必须小于或等于ALLOCATE DESCRIPTOR语句中指定的数字。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-83BB09CC-564B-4522-AE33-E1D8A983F07D">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">执行SQL FETCH从C1到DESCRIPTOR'SELDES'; EXEC SQL FOR：arsz FETCH C2 INTO DESCRIPTOR：desc;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4119"></a><a id="LNPCC4120"></a><a id="LNPCC4121"></a><a id="LNPCC4122"></a><a id="LNPCC4118"></a><div class="props_rev_3"><a id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F" name="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F"></a><h4 id="LNPCC-GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F" class="sect4"><span class="enumeration_section">14.5.13</span>关闭动态光标</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-22F5F2FD-0821-449B-B614-1463E7E0CCE8">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>关闭动态游标。语法没有从旧的Oracle方法4更改：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-3F20F508-E5BA-4787-AFBB-0BBE1767985E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE <span class="italic">游标</span> ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-DC8AAF89-F203-4992-AC0E-66292A4A27C7">变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>光标</p>
                        <p>先前声明的动态游标。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-1F1916A2-709F-4AD4-8DC7-DF164296BE8B">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE C1;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4123"></a><div class="props_rev_3"><a id="GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A" name="GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A"></a><h4 id="LNPCC-GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A" class="sect4"><span class="enumeration_section">14.5.14</span>与Oracle动态方法4的差异</h4>
                  <div>
                     <p>ANSI动态SQL接口支持Oracle动态方法4支持的所有数据类型，并添加了以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>ANSI动态SQL支持所有数据类型，包括对象类型，结果集和LOB类型。</p>
                        </li>
                        <li>
                           <p>ANSI模式使用内部<span class="italic">SQL描述符区域</span> ，该<span class="italic">区域</span>是Oracle旧动态方法4中使用的外部SQLDA的扩展，用于存储其输入和输出信息。
                           </p>
                        </li>
                        <li>
                           <p>引入了新的嵌入式SQL语句：ALLOCATE DESCRIPTOR，DEALLOCATE DESCRIPTOR，DESCRIBE，GET DESCRIPTOR和SET DESCRIPTOR。</p>
                        </li>
                        <li>
                           <p>DESCRIBE语句不返回ANSI动态SQL中的指示符变量的名称。</p>
                        </li>
                        <li>
                           <p>ANSI动态SQL不允许您指定返回的列名称或表达式的最大大小。默认大小设置为128。</p>
                        </li>
                        <li>
                           <p>描述符名称必须是单引号中的标识符或以冒号开头的主变量。</p>
                        </li>
                        <li>
                           <p>对于输出，DESCRIBE中的可选SELECT LIST FOR子句将替换为可选关键字OUTPUT。 INTO子句由USING DESCRIPTOR子句替换，该子句可以包含可选的关键字SQL。</p>
                        </li>
                        <li>
                           <p>对于输入，DESCRIBE的可选BIND VARIABLES FOR子句可以由关键字INPUT替换。 INTO子句由USING DESCRIPTOR子句替换，该子句可以包含可选的关键字SQL。</p>
                        </li>
                        <li>
                           <p>可选关键字SQL可以位于EXECUTE，FETCH和OPEN语句的USING子句中的关键字DESCRIPTOR之前。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC4124"></a><div class="props_rev_3"><a id="GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747" name="GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747"></a><h4 id="LNPCC-GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747" class="sect4"><span class="enumeration_section">14.5.15</span>限制（ANSI动态SQL）</h4>
                  <div>
                     <p>对ANSI动态SQL的限制是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能在同一模块中混用ANSI和Oracle动态SQL方法。</p>
                        </li>
                        <li>
                           <p>预编译器选项DYNAMIC必须设置为ANSI。仅当DYNAMIC设置为ANSI时，预编译器选项TYPE_CODE才能设置为ANSI。</p>
                        </li>
                        <li>
                           <p>SET语句仅支持主变量作为项名称。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC4125"></a><div class="props_rev_3"><a id="GUID-F216E6D1-16BA-400A-8C26-75AC9398264A" name="GUID-F216E6D1-16BA-400A-8C26-75AC9398264A"></a><h3 id="LNPCC-GUID-F216E6D1-16BA-400A-8C26-75AC9398264A" class="sect3"><span class="enumeration_section">14.6</span>示例程序</h3>
               <div>
                  <p>以下两个程序位于demo目录中。</p>
               </div><a id="LNPCC4126"></a><div class="props_rev_3"><a id="GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF" name="GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF"></a><h4 id="LNPCC-GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF" class="sect4"><span class="enumeration_section">14.6.1</span> ansidyn1.pc</h4>
                  <div>
                     <div class="section">
                        <p>此程序演示如何使用ANSI Dynamic SQL处理直到运行时才知道的SQL语句。它旨在演示使用ANSI动态SQL的最简单（尽管不是最有效）的方法。它使用ANSI兼容的值语义和ANSI类型代码。ANSI SQLSTATE用于错误号。描述符名称是文字。所有输入和输出都是通过ANSI变化的字符类型。</p>
                        <p>该程序使用您的用户名和密码将您连接到ORACLE，然后提示您输入SQL语句。使用常规（非嵌入式）SQL语法输入合法的SQL或PL / SQL语句，并使用分号终止每个语句。您的陈述将被处理。如果是查询，则显示已提取的行。</p>
                        <p>您可以输入多行语句。限制为1023个字符。变量MAX_VAR_LEN的大小有限制，定义为255。该程序最多可处理40个绑定变量和40个选择列表项。值语义不支持DML返回子句和用户定义的类型。</p>
                        <p>使用mode = ansi预编译程序，例如：</p><pre class="oac_no_warn" dir="ltr">proc mode = ansi ansidyn1</pre><p>使用<code class="codeph">mode=ansi</code>会将dynamic和<code class="codeph">type_code</code>设置为ansi。
                        </p><pre class="oac_no_warn" dir="ltr">/ ******************* ****************** ANSI动态演示1：具有值语义，文字描述符名称和ANSI类型代码的ANSI动态SQL此程序演示如何使用ANSI动态SQL处理SQL语句直到运行时才知道。它旨在演示使用ANSI动态SQL的最简单（尽管不是最有效）的方法。它使用ANSI兼容的值语义和ANSI类型代码。ANSI Sqlstate用于错误号。描述符名称是文字。所有输入和输出都是通过ANSI变化的字符类型。该程序使用您的用户名和密码将您连接到ORACLE，然后提示您输入SQL语句。使用常规，非嵌入式SQL语法输入合法的SQL或PL / SQL语句，并使用seimcolon终止每个语句。您的陈述将被处理。如果是查询，则显示已提取的行。您可以输入多行语句。限制为1023个字符。变量MAX_VAR_LEN的大小有限制，定义为255。该程序最多可处理40个绑定变量和40个选择列表项。值语义不支持DML返回语句和用户定义类型。使用mode = ansi预编译程序，例如：proc mode = ansi ansidyn1使用mode = ansi将dynamic和type_code设置为ansi。************************************************** ***************** / #include &lt;stdio.h&gt; #include &lt;string.h&gt; #include &lt;setjmp.h&gt; #include &lt;stdlib.h&gt; #include &lt;sqlcpr .h&gt; #define MAX_OCCURENCES 40 #define MAX_VAR_LEN 255 #define MAX_NAME_LEN 31 #ifndef NULL #define NULL 0 #endif / * Prototypes * / #if defined（__ STDC__）void sql_error（void）; int oracle_connect（void）; int get_dyn_statement（void）; int process_input（void）; int process_output（void）; void help（void）; #else void sql_error（/ * _ void _ * /）; int oracle_connect（/ * _ void _ * /）; int get_dyn_statement（/ * void _ * /）; int process_input（/ * _ void _ * /）; int process_output（/ * _ void _ * /）; void help（/ * _ void _ * /）; #endif EXEC SQL INCLUDE sqlca; char SQLSTATE [6]; / *全局变量* / EXEC SQL BEGIN DECLARE SECTION; char dyn_statement [1024]; char SQLSTATE [6]; EXEC SQL END DECLARE SECTION; / *定义一个缓冲区来保存longjmp状态信息。* / jmp_buf jmp_continue; / *错误例程的全局标志。* / int parse_flag = 0; / *表示语句的全局标志是select * / int select_found; void main（）{/ *连接到数据库。* / if（oracle_connect（）！= 0）退出（1）;执行SQL WHENEVER SQLERROR DO sql_error（）; / *分配输入和输出描述符。* / EXEC SQL ALLOCATE DESCRIPTOR'input_descriptor'; EXEC SQL ALLOCATE DESCRIPTOR'output_descriptor'; / *处理SQL语句。* / for（;;）{（void）setjmp（jmp_continue）; / *获取声明。打破“退出”。* / if（get_dyn_statement（）！= 0）休息; / *准备语句并声明游标。* / parse_flag = 1; / *为sql_error（）设置一个标志。* / EXEC SQL PREPARE S FROM：dyn_statement; parse_flag = 0; / *取消设置标志。* / EXEC SQL DECLARE C CURSOR FOR S; / *调用处理输入的函数。* / if（process_input（））exit（1）; / *打开游标并执行语句。* / EXEC SQL OPEN C使用DESCRIPTOR'input_descriptor'; / *调用处理输出的函数。* / if（process_output（））exit（1）; / *关闭光标。* / EXEC SQL CLOSE C; } / * end of for（;;）statement-processing loop * / / *释放描述符* / EXEC SQL DEALLOCATE DESCRIPTOR'input_descriptor'; EXEC SQL DEALLOCATE DESCRIPTOR'output_descriptor'; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL COMMIT WORK;放（“\ n祝你有个美好的一天！\ n“）; EXEC SQL WHENEVER SQLERROR DO sql_error（）; return;} int get_dyn_statement（）{char * cp，linebuf [256]; int iter，plsql; for（plsql = 0，iter = 1 ;;）{if （iter == 1）{printf（“\ nSQL&gt;”）; dyn_statement [0] ='\ 0'; select_found = 0;} fgets（linebuf，sizeof linebuf，stdin）; cp = strrchr（linebuf，'\ n '）; if（cp &amp;&amp; cp！= linebuf）* cp ='';否则如果（cp == linebuf）继续; if（（strncmp（linebuf，“SELECT”，6）== 0）||（strncmp（linebuf，“select”，6）== 0））{select_found = 1 ;; } if（（strncmp（linebuf，“EXIT”，4）== 0）||（strncmp（linebuf，“exit”，4）== 0））{return -1; } else if（linebuf [0] =='？'|| （strncmp（linebuf，“HELP”，4）== 0）|| （strncmp（linebuf，“help”，4）== 0））{help（）; iter = 1;继续; if（strstr（linebuf，“BEGIN”）||（strstr（linebuf，“begin”）））{plsql = 1; } strcat（dyn_statement，linebuf）; if（（plsql &amp;&amp;（cp = strrchr（dyn_statement，'/'）））||（！plsql &amp;&amp;（cp = strrchr（dyn_statement，';'））））{* cp ='\ 0';打破; } else {iter ++; printf（“％3d”，iter）;返回0; int process_input（）{int i; EXEC SQL BEGIN DECLARE SECTION; char name [31]; int input_count，input_len，occurrence，ANSI_varchar_type; char input_buf [MAX_VAR_LEN]; EXEC SQL END DECLARE SECTION; EXEC SQL DESCRIBE INPUT S使用DESCRIPTOR'input_descriptor'; EXEC SQL GET DESCRIPTOR'input_descriptor'：input_count = COUNT; ANSI_varchar_type = 12; for（i = 0; i &lt;input_count; i ++）{occurrence = i +1; / * occurence是1基于* / EXEC SQL GET DESCRIPTOR'input_descriptor'VALUE：发生：name = NAME; printf（“\ n输入变量的值％*。* s：”，10,31，name）; fgets（input_buf，sizeof（input_buf），stdin）; input_len = strlen（input_buf） -  1; / *摆脱新行* / input_buf [input_len] ='\ 0'; / * null terminate * / EXEC SQL SET DESCRIPTOR'input_descriptor'VALUE：出现TYPE =：ANSI_varchar_type，LENGTH =：input_len，DATA =：input_buf; } return（sqlca.sqlcode）; } int process_output（）{int i，j; EXEC SQL BEGIN DECLARE SECTION; int output_count，occurrence，type，len，col_len;简短的; char数据[MAX_VAR_LEN]，名称[MAX_NAME_LEN]; EXEC SQL END DECLARE SECTION;如果（！select_found）return（0）;使用DESCRIPTOR'output_descriptor'执行SQL DESCRIBE OUTPUT; EXEC SQL GET DESCRIPTOR'output_descriptor'：output_count = COUNT; printf（“\ n”）; type = 12; / * ANSI VARYING字符类型* / len = MAX_VAR_LEN; / *使用最大分配长度* /（i = 0; i &lt;output_count; i ++）{occurrence = i + 1; EXEC SQL GET DESCRIPTOR'output_descriptor'VALUE：出现：name = NAME; printf（“％ -  *。* s”，9,9，name）; EXEC SQL SET DESCRIPTOR'output_descriptor'VALUE：出现TYPE =：type，LENGTH =：len; } printf（“\ n”）; / * FETCH选择每一行并打印列值。* / EXEC SQL WHENEVER NOT FOUND GOTO end_select_loop; for（;;）{EXEC SQL FETCH C INTO DESCRIPTOR'output_descriptor'; for（i = 0; i &lt;output_count; i ++）{occurrence = i + 1; EXEC SQL GET DESCRIPTOR'output_descriptor'VALUE：发生：data = DATA，：indi = INDICATOR; if（indi == -1）printf（“％ -  *。* s”，9,9，“NULL”）; else printf（“％ -  *。* s”，9,9，数据）; / *简化输出格式化* / / *截断将发生，但列将排列* /} printf（“\ n”）; } end_select_loop：return（0）; } void help（）{puts（“\ n \ n在SQL&gt;提示符处输入SQL语句或PL / SQL块。”）; puts（“语句可以继续多行，除了”）; puts（“在字符串文字中。”）; puts（“用分号终止SQL语句。”）; puts（“终止PL / SQL块（可以包含嵌入的分号）”）; puts（“用斜杠（/）。”）; puts（“Typing \”exit \“（不需要分号）退出程序。”）; puts（“你打字”？\“或\”帮助\“获取此消息。\ n \ n”）; } void sql_error（）{/ * ORACLE错误处理程序* / printf（“\ n \ nANSI sqlstate：％s：”，SQLSTATE）; printf（“\ n \ n％.70s \ n”，sqlca.sqlerrm.sqlerrmc）; if（parse_flag）printf（“SQL语句中字符偏移％d处的解析错误。\ n”，sqlca.sqlerrd [4]）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK WORK; longjmp（jmp_continue，1）; } int oracle_connect（）{EXEC SQL BEGIN DECLARE SECTION; VARCHAR用户名[128]; VARCHAR密码[32]; EXEC SQL END DECLARE SECTION; printf（“\ nusername：”）; fgets（（char *）username.arr，sizeof username.arr，stdin）; username.arr [strlen（（char *）username.arr）-1] ='\ 0'; username.len =（unsigned short）strlen（（char *）username.arr）; printf（“密码：”）; fgets（（char *）password.arr，sizeof password.arr，stdin）; password.arr [strlen（（char *）password.arr） -  1] ='\ 0'; password.len =（unsigned short）strlen（（char *）password.arr）;执行SQL WHENEVER SQLERROR GOTO connect_error; EXEC SQL CONNECT：用户名IDENTIFIED BY：密码; printf（“\ n以用户％s连接到ORACLE。\ n”，username.arr）;返回0; connect_error：fprintf（stderr，“无法以用户％s \ n”连接到ORACLE，username.arr）;返回-1; }</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4127"></a><div class="props_rev_3"><a id="GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40" name="GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40"></a><h4 id="LNPCC-GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40" class="sect4"><span class="enumeration_section">14.6.2</span> ansidyn2.pc</h4>
                  <div>
                     <div class="section">
                        <p>此程序演示如何使用ANSI Dynamic SQL处理直到运行时才知道的SQL语句。它使用Oracle扩展进行批处理和引用语义。</p>
                        <p>该程序使用您的用户名和密码将您连接到ORACLE，然后提示您输入SQL语句。使用交互式，非嵌入式SQL语法输入合法SQL或PL / SQL语句，以分号结束语句。您的陈述将被处理。如果是查询，则显示已提取的行。</p>
                        <p>您可以输入多行语句。限制为1023个字符。变量MAX_VAR_LEN的大小有限制，定义为255。该程序最多可处理40个绑定变量和40个选择列表项。</p>
                        <p>使用<code class="codeph">dynamic = ansi</code>预编译程序，例如：</p><pre class="oac_no_warn" dir="ltr">proc dynamic = ansi ansidyn2 / ******************************************** *********************** ANSI动态演示2：ANSI动态SQL，在主机变量中具有引用语义，批处理和全局描述符名称此程序演示如何使用ANSI动态用于处理直到运行时才知道的SQL语句的SQL。它使用Oracle扩展进行批处理和引用语义。该程序使用您的用户名和密码将您连接到ORACLE，然后提示您输入SQL语句。使用交互式，非嵌入式SQL语法输入合法SQL或PL / SQL语句，使用seimcolon终止语句。您的陈述将被处理。如果是查询，则显示已提取的行。如果您的语句具有输入绑定变量（除了在where子句中），程序将询问输入数组大小，然后允许您输入该数量的输入值。如果您的语句有输出，程序将询问您输出数组大小，并使用该值执行数组fetchng。它还会将一个批次中提取的行输出到一起，因此使用较小的值来输出数组大小将改善输出的外观。例如，连接为scott / tiger，尝试选择empno，en来自emp，输出数组大小为4;您可以输入多行语句。限制为1023个字符。变量MAX_VAR_LEN的大小有限制，定义为255。该程序最多可处理40个绑定变量和40个选择列表项。使用dynamic = ansi编译程序，例如：proc dynamic = ansi ansidyn2 ********************************** ********************************* / #include &lt;stdio.h&gt; #include &lt;string.h&gt; #include &lt;setjmp.h&gt; #include &lt;stdlib.h&gt; #include &lt;sqlcpr.h&gt; #define MAX_OCCURENCES 40 #define MAX_ARRSZ 100 #define MAX_VAR_LEN 255 #define MAX_NAME_LEN 31 #ifndef NULL #define NULL 0 #endif / * Prototypes * /＃ if defined（__ STDC__）void sql_error（void）; int oracle_connect（void）; int get_dyn_statement（void）; int process_input（void）; int process_output（void）; void rows_processed（void）; void help（void）; #else void sql_error（/ * _ void _ * /）; int oracle_connect（/ * _ void _ * /）; int get_dyn_statement（/ * void _ * /）; int process_input（/ * _ void _ * /）; int process_output（/ * _ void _ * /）; void rows_processed（/ * _ void _ * /）; void help（/ * _ void _ * /）; #endif EXEC SQL INCLUDE sqlca; / *全局变量* / char dyn_statement [1024]; / *语句变量* / EXEC SQL VAR dyn_statement IS STRING（1024）; char indesc [] =“input_descriptor”; / *描述符名称* / char outdesc [] =“output_descriptor”; char输入[MAX_OCCURENCES] [MAX_ARRSZ] [MAX_VAR_LEN +1]，/ *数据区* /输出[MAX_OCCURENCES] [MAX_ARRSZ] [MAX_VAR_LEN + 1]; short outindi [MAX_OCCURENCES] [MAX_ARRSZ]; / *输出指标* /短* iptr; int in_array_size; / *输入批量的大小，即行数* / int out_array_size; / *输入批次的大小，即行数* / int max_array_size = MAX_ARRSZ; / *最大数组大小用于分配* / char * dml_commands [] = {“SELECT”，“select”，“INSERT”，“insert”，“UPDATE”，“update”，“DELETE”，“delete”}; int select_found，cursor_open = 0; / *定义一个缓冲区来保存longjmp状态信息。* / jmp_buf jmp_continue; / *错误例程的全局标志。* / int parse_flag = 0; void main（）{/ *连接到数据库。* / if（oracle_connect（）！= 0）退出（1）;执行SQL WHENEVER SQLERROR DO sql_error（）; / *分配输入和输出描述符。* / EXEC SQL FOR：max_array_size ALLOCATE DESCRIPTOR GLOBAL：indesc; EXEC SQL FOR：max_array_size ALLOCATE DESCRIPTOR GLOBAL：outdesc; / *处理SQL语句。* / for（;;）{（void）setjmp（jmp_continue）; / *获取声明。打破“退出”。* / if（get_dyn_statement（）！= 0）休息; / *准备语句并声明游标。* / parse_flag = 1; / *为sql_error（）设置一个标志。* / EXEC SQL PREPARE S FROM：dyn_statement; parse_flag = 0; / *取消设置标志。* / EXEC SQL DECLARE C CURSOR FOR S; / *调用处理输入的函数。* / if（process_input（））exit（1）; / *打开游标并执行语句。* / EXEC SQL FOR：in_array_size OPEN C使用DESCRIPTOR GLOBAL：indesc; cursor_open = 1; / *调用处理输出的函数。* / if（process_output（））exit（1）; / *告诉用户处理了多少行。* / rows_processed（）; } / * end of for（;;）语句处理循环* / / *关闭游标。* / if（cursor_open）EXEC SQL CLOSE C; / *释放描述符* / EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL：indesc; EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL：outdesc; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL COMMIT WORK RELEASE;放（“\ n祝你有个美好的一天！\ n“）; EXEC SQL WHENEVER SQLERROR DO sql_error（）; return;} int get_dyn_statement（）{char * cp，linebuf [256]; int iter，plsql; for（plsql = 0，iter = 1 ;;）{if （iter == 1）{printf（“\ nSQL&gt;”）; dyn_statement [0] ='\ 0'; select_found = 0;} fgets（linebuf，sizeof linebuf，stdin）; cp = strrchr（linebuf，'\ n '）; if（cp &amp;&amp; cp！= linebuf）* cp ='';否则如果（cp == linebuf）继续; if（（strncmp（linebuf，“SELECT”，6）== 0）||（strncmp（linebuf，“select”，6）== 0））{select_found = 1 ;; } if（（strncmp（linebuf，“EXIT”，4）== 0）||（strncmp（linebuf，“exit”，4）== 0））{return -1; } else if（linebuf [0] =='？'|| （strncmp（linebuf，“HELP”，4）== 0）|| （strncmp（linebuf，“help”，4）== 0））{help（）; iter = 1;继续; if（strstr（linebuf，“BEGIN”）||（strstr（linebuf，“begin”）））{plsql = 1; } strcat（dyn_statement，linebuf）; if（（plsql &amp;&amp;（cp = strrchr（dyn_statement，'/'）））||（！plsql &amp;&amp;（cp = strrchr（dyn_statement，';'））））{* cp ='\ 0';打破; } else {iter ++; printf（“％3d”，iter）;返回0; int process_input（）{int i，j; char name [31]; int input_count，input_len = MAX_VAR_LEN; int发生，string_type = 5; int string_len; char arr_size [3];使用DESCRIPTOR GLOBAL的EXEC SQL DESCRIBE输入：indesc; EXEC SQL GET DESCRIPTOR GLOBAL：indesc：input_count = COUNT; if（input_count&gt; 0 &amp;&amp;！select_found）{/ *获取输入数组大小* / printf（“\ n输入数组大小的值（最大值为％d）：”，max_array_size）; fgets（arr_size，4，stdin）; in_array_size = atoi（arr_size）; } else {in_array_size = 1; } for（i = 0; i &lt;input_count; i ++）{occurrence = i +1; / * occurence是1基于* / EXEC SQL GET DESCRIPTOR GLOBAL：indesc VALUE：出现：name = NAME; for（j = 0; j &lt;in_array_size; j ++）{if（in_array_size == 1）printf（“\ n输入变量的值％*。* s：”，10,31，name）; else printf（“\ n输入％d％s输入变量的值％*。* s：”，j + 1，（（j == 0）？“st”:( j == 1）？“nd”:( j == 2）？“rd”：“th”），10,31，姓名）; fgets（input [i] [j]，sizeof（input [i] [j]），stdin）; string_len = strlen（input [i] [j]）; input [i] [j] [string_len  -  1] ='\ 0'; / *将\ n更改为\ 0 * /} EXEC SQL SET DESCRIPTOR GLOBAL：indesc VALUE：出现TYPE =：string_type，LENGTH =：input_len; EXEC SQL FOR：in_array_size SET DESCRIPTOR GLOBAL：indesc VALUE：发生REF DATA =：input [i]; } return（sqlca.sqlcode）; } int process_output（）{int i，j; int output_count，发生; int type，output_len = MAX_VAR_LEN;字符名称[MAX_OCCURENCES] [MAX_NAME_LEN]; int rows_this_fetch = 0，cumulative_rows = 0; char arr_size [3];如果（！select_found）return（0）; EXEC SQL描述输出使用DESCRIPTOR GLOBAL：outdesc; EXEC SQL GET DESCRIPTOR GLOBAL：outdesc：output_count = COUNT; if（output_count&gt; 0）{printf（“\ n输出数组大小的值（最大值为％d）：”，max_array_size）; fgets（arr_size，4，stdin）; out_array_size = atoi（arr_size）; if（out_array_size &lt;1）/ *必须至少有一个* / out_array_size = 1; printf（“\ n”）; for（i = 0; i &lt;output_count; i ++）{occurrence = i + 1; EXEC SQL GET DESCRIPTOR GLOBAL：outdesc VALUE：出现：type = TYPE，：name [i] = NAME;发生= i + 1; / *出现是一个基于* / type = 5; / *强制所有数据为空终止字符* / EXEC SQL SET DESCRIPTOR GLOBAL：outdesc VALUE：出现TYPE =：type，LENGTH =：output_len; iptr =（short *）＆outindi [i]; / *没有多维非char主机变量* / EXEC SQL FOR：out_array_size SET DESCRIPTOR GLOBAL：outdesc VALUE：发生REF DATA =：output [i]，REF INDICATOR =：iptr; } EXEC SQL WHENEVER NOT FOUND GOTO end_select_loop; / *打印列标题* / for（j = 0; j &lt;out_array_size; j ++）for（i = 0; i &lt;output_count; i ++）printf（“％ -  *。* s”，9,9，name [i ]）;的printf（ “\ n”）; / * FETCH选择每一行并打印列值。* / for（;;）{EXEC SQL FOR：out_array_size FETCH C INTO DESCRIPTOR GLOBAL：outdesc; rows_this_fetch = sqlca.sqlerrd [2]  -  cumulative_rows; cumulative_rows = sqlca.sqlerrd [2]; if（rows_this_fetch）for（j = 0; j &lt;out_array_size &amp;&amp; j &lt;rows_this_fetch; j ++）{/ *使用简化格式的列输出* / for（i = 0; i &lt;output_count; i ++）{if（outindi [i] [j] == -1）printf（“％ -  *。* s”，9,9，“NULL”）; else printf（“％ -  *。* s”，9,9，output [i] [j]）; / *简化* / / *输出格式化可能导致截断* / / *但列将排列* /}} printf（“\ n”）; } end_select_loop：/ *打印任何未打印的行* / rows_this_fetch = sqlca.sqlerrd [2]  -  cumulative_rows; cumulative_rows = sqlca.sqlerrd [2]; if（rows_this_fetch）for（j = 0; j &lt;out_array_size &amp;&amp; j &lt;rows_this_fetch; j ++）{/ *使用简化格式的列输出* / for（i = 0; i &lt;output_count; i ++）{if（outindi [i] [j] == -1）printf（“％ -  *。* s”，9,9，“NULL”）; else printf（“％ -  *。* s”，9,9，output [i] [j]）; } return（0）; } void rows_processed（）{int i; for（i = 0; i &lt;8; i ++）{if（strncmp（dyn_statement，dml_commands [i]，6）== 0）{printf（“\ n \ n％d row％c processing。\ n”，sqlca .sqlerrd [2]，sqlca.sqlerrd [2] == 1？''：'s'）;打破;返回; } void help（）{puts（“\ n \ n在SQL&gt;提示符处输入SQL语句或PL / SQL块。”）; puts（“语句可以继续多行，除了”）; puts（“在字符串文字中。”）; puts（“用分号终止SQL语句。”）; puts（“终止PL / SQL块（可以包含嵌入的分号）”）; puts（“用斜杠（/）。”）; puts（“Typing \”exit \“（不需要分号）退出程序。”）; puts（“你打字”？\“或\”帮助\“获取此消息。\ n \ n”）; } void sql_error（）{/ * ORACLE错误处理程序* / printf（“\ n \ n％.70s \ n”，sqlca.sqlerrm.sqlerrmc）; if（parse_flag）printf（“SQL语句中字符偏移％d处的解析错误。\ n”，sqlca.sqlerrd [4]）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK WORK; longjmp（jmp_continue，1）; } int oracle_connect（）{EXEC SQL BEGIN DECLARE SECTION; VARCHAR用户名[128]; VARCHAR密码[32]; EXEC SQL END DECLARE SECTION; printf（“\ nusername：”）; fgets（（char *）username.arr，sizeof username.arr，stdin）; username.arr [strlen（（char *）username.arr）-1] ='\ 0'; username.len =（unsigned short）strlen（（char *）username.arr）; printf（“密码：”）; fgets（（char *）password.arr，sizeof password.arr，stdin）; password.arr [strlen（（char *）password.arr） -  1] ='\ 0'; password.len =（unsigned short）strlen（（char *）password.arr）;执行SQL WHENEVER SQLERROR GOTO connect_error; EXEC SQL CONNECT：用户名IDENTIFIED BY：密码; printf（“\ n以用户％s连接到ORACLE。\ n”，username.arr）;返回0; connect_error：fprintf（stderr，“无法以用户％s \ n”连接到ORACLE，username.arr）;返回-1; }</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04781.object-advanced-topics-in-oci.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter introduces the OCI facility for working with objects in an Oracle Database."></meta>
      <meta name="description" content="This chapter introduces the OCI facility for working with objects in an Oracle Database."></meta>
      <title>OCI中的对象高级主题</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This chapter introduces the OCI facility for working with objects in an Oracle Database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="direct-path-load-interface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-support-for-xml.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="direct-path-load-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-support-for-xml.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI中的对象高级主题</li>
            </ol>
            <a id="GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" name="GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C"></a><a id="LNOCI130"></a>
            
            <h2 id="LNOCI-GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" class="sect2">在OCI中的<span class="enumeration_chapter">22个</span>对象高级主题</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍用于在Oracle数据库中处理对象的OCI工具。</p>
               <p>它还讨论了对象导航函数调用，类型演化以及对OCI生成的XML的支持。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" title="对象缓存是客户端内存缓冲区，为对象提供查找和内存管理支持。">对象缓存和内存管理</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" title="本节讨论OCI应用程序如何浏览对象缓存中对象的图形。">对象导航</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" title="本节简要概述了可用的OCI导航功能。">OCI导航功能</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" title="当基于类型名称请求类型信息时，OCI返回与该类型的最新版本相对应的类型描述符对象（TDO）。">键入Evolution和对象缓存</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16984"></a><a id="LNOCI16983"></a><div class="props_rev_3"><a id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" name="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1"></a><h3 id="LNOCI-GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" class="sect3"><span class="enumeration_section">22.1</span>对象缓存和内存管理</h3>
               <div>
                  <p>对象缓存是客户端内存缓冲区，为对象提供查找和内存管理支持。</p>
                  <p>它存储和跟踪OCI应用程序提取的对象实例。对象缓存提供内存管理。</p>
                  <p>当应用程序通过SQL <code class="codeph">SELECT</code>语句或通过OCI引脚操作提取对象时，对象的副本将存储在对象缓存中。直接通过<code class="codeph">SELECT</code>语句提取<span class="italic">的</span>对象<span class="italic">由值</span>提取，并且它们是无法固定的不可引用对象。只能固定可引用的对象。
                  </p>
                  <p>如果正在固定对象，并且缓存中存在适当的版本，则不需要从服务器获取该对象。</p>
                  <p>每个使用OCI取消引用<code class="codeph">REF</code>以检索对象的客户端程序都使用对象缓存。为在对象模式下初始化的每个OCI环境句柄分配客户端对象高速缓存。进程的多个线程可以通过共享相同的OCI环境句柄来共享相同的客户端缓存。
                  </p>
                  <p>每个连接的缓存中都存在每个可引用对象的一个副本。对象缓存在逻辑上由连接分区。</p>
                  <p>解引用一个<code class="codeph">REF</code>多次提领或相当于几个<code class="codeph">REF</code>在同一个连接件S返回对象的同一副本。
                  </p>
                  <p>如果在缓存中修改对象的副本，则必须先将更改刷新到服务器，然后才能对其他进程显示。可以取消固定或释放不再需要的对象;然后可以将它们从缓存中换出，释放它们占用的内存空间。</p>
                  <p>将数据库对象加载到缓存中时，它们会透明地映射到C语言结构中。对象缓存维护缓存中的所有对象副本与数据库中对应的对象之间的关联。提交事务时，对缓存中的对象副本所做的更改会自动传播到数据库。</p>
                  <p>缓存不管理对象副本的内容;它不会自动刷新对象副本。应用程序必须确保对象副本内容的正确性和一致性。例如，如果应用程序标记了插入，更新或删除的对象副本，然后终止事务，则缓存只是取消标记对象副本，但不会清除或使副本无效。应用程序必须固定<span class="italic">最近</span>或<span class="italic">最新</span> ，或在下一个事务中刷新对象副本。如果它是<span class="italic">任何</span>引脚，它可能会获得与先前终止的事务的未提交更改相同的对象副本。
                  </p>
                  <p>使用<code class="codeph">mode</code>设置为<code class="codeph">OCI_OBJECT</code> <code class="codeph">OCIEnvCreate()</code>初始化OCI环境时，将创建对象缓存。</p>
                  <p>对象缓存维护一个快速查找表，用于将<code class="codeph">REF</code>映射到对象。当应用程序取消引用<code class="codeph">REF</code>并且相应的对象尚未缓存在对象缓存中时，对象缓存会自动向服务器发送请求以从数据库中获取对象并将其加载到对象缓存中。
                  </p>
                  <p>相同<code class="codeph">REF</code>后续解引用速度更快，因为它们使用本地缓存访问并且不会导致网络往返。要通知对象缓存应用程序正在访问缓存中的对象，应用程序将对象固定;当它完成对象时，它应该取消它。对象缓存维护缓存中每个对象的引脚数;引脚调用时计数递增，unpin调用递减计数。当应用程序不再需要该对象时，引脚数将变为零。
                  </p>
                  <p>对象缓存使用最近最少使用（LRU）算法来管理缓存的大小。当缓存达到最大大小时，LRU算法释放候选对象。候选对象是引脚数为零的对象。</p>
                  <p>针对同一服务器运行的每个应用程序进程都有自己的对象缓存， <a href="object-advanced-topics-in-oci.html#GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__I444407">如图22-1</a>所示。
                  </p>
                  <div class="figure" id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__I444407">
                     <p class="titleinfigure">图22-1对象缓存</p><img src="img/lnoci028.gif" alt="下面是图22-1的描述" title="下面是图22-1的描述" longdesc="img_text/lnoci028.html"><br><a href="img_text/lnoci028.html">“图22-1对象缓存”的描述</a></div>
                  <!-- class="figure" -->
                  <p>对象缓存跟踪当前在内存中的对象，维护对对象的引用，管理自动对象交换以及跟踪对象元属性。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" title="对象缓存不会自动维护对象副本与数据库中对应对象之间的值一致性或一致性。">缓存一致性和一致性</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" title="对象缓存有两个与之关联的重要参数，它们是环境句柄的属性。">对象缓存参数</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" title="本节介绍对象缓存为对象副本操作提供的最重要的功能。">对象缓存操作</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" title="本节将讨论引脚，取消固定和自由功能。">关于加载和删除对象副本</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" title="本节讨论用于标记和取消标记对象副本的函数。">关于对对象副本进行更改</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-55D30393-27ED-430B-BFCC-A25100D109F2" title="本节讨论缓存和服务器同步操作（刷新，刷新）。">关于将对象副本与服务器同步</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" title="本节讨论与对象锁定相关的OCI功能。">对象锁定</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-B0236408-75F1-47C4-880B-FCA003A1C697" title="提交事务时（OCITransCommit（）），所有标记的对象都会刷新到服务器。">对象应用程序中的提交和回滚</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" title="为了保持内存中的可用空间，对象缓存尝试尽可能重用对象的内存。当对象的生命周期（分配持续时间）到期或对象的引脚持续时间到期时，对象缓存会重用对象的内存。">对象持续时间</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" title="存储器中的实例由实例的顶级存储器块，空指示器结构的顶级存储器以及可选的一些辅助存储器块组成。">实例的内存布局</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__GUID-82C8CA51-9DEC-4DD4-BE66-731FB247F1D8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2">关于固定对象副本</a></p>
                        </li>
                        <li>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16985"></a><div class="props_rev_3"><a id="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" name="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2"></a><h4 id="LNOCI-GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" class="sect4"><span class="enumeration_section">22.1.1</span>缓存一致性和一致性</h4>
                  <div>
                     <p>对象缓存不会自动维护对象副本与数据库中对应对象之间的值一致性或一致性。</p>
                     <p>换句话说，如果应用程序对对象副本进行了更改，则更改不会自动应用于数据库中的相应对象，反之亦然。缓存提供诸如将修改后的对象副本刷新到数据库并使用数据库中的最新值刷新陈旧对象副本以使程序保持一定的一致性等操作。</p>
                     <div class="infoboxnote" id="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2__GUID-9739AE10-1FF2-455F-8825-2BF9A40D238B">
                        <p class="notep1">注意：</p>
                        <p>Oracle数据库不支持与服务器缓冲区缓存或数据库的自动缓存一致性。自动高速缓存一致性是指在服务器的缓冲区高速缓存中修改相应对象时，对象高速缓存刷新本地对象副本的机制。当对象高速缓存在对服务器中的相应对象进行任何直接访问之前将对本地对象副本所做的更改刷新到缓冲区高速缓存时，会发生此机制。直接访问包括使用SQL，触发器或存储过程来读取或修改服务器中的对象。</p>
                     </div>
                  </div>
               </div><a id="LNOCI16986"></a><div class="props_rev_3"><a id="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" name="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897"></a><h4 id="LNOCI-GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" class="sect4"><span class="enumeration_section">22.1.2</span>对象缓存参数</h4>
                  <div>
                     <p>对象缓存有两个与之关联的重要参数，它们是环境句柄的属性。</p>
                     <p>他们包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code> - 最大缓存大小</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code> - 最佳缓存大小</p>
                        </li>
                     </ul>
                     <p>这些参数指的是高速缓存内存使用的级别，它们有助于确定高速缓存何时自动老化符合条件的对象以释放内存。</p>
                     <p>如果当前在高速缓存中的对象占用的内存达到或超过最大高速缓存大小，则高速缓存自动开始释放（或老化）引脚数为零的未标记对象。缓存继续释放这些对象，直到缓存中的内存使用达到最佳大小，或者直到它用完了可以释放的对象为止。请注意，缓存可能会超出指定的最大缓存大小。</p>
                     <p><code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code>被指定为<code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code>的百分比。最大对象缓存大小（以字节为单位）通过递增计算<code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code>由<code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code>百分比，使用以下算法：</p><pre class="oac_no_warn" dir="ltr">maximum_cache_size = optimal_size + optimal_size * max_size_percentage / 100</pre><p>接下来，根据环境句柄属性表示算法。</p><pre class="oac_no_warn" dir="ltr">maximum_cache_size = OCI_ATTR_CACHE_OPT_SIZE + OCI_ATTR_CACHE_OPT_SIZE * OCI_ATTR_CACHE_MAX_SIZE / 100</pre><p>您可以设置的值<code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code>在10％（默认值） <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code> 。 <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code>的默认值为8 MB。</p>
                     <p>可以使用<code class="codeph">OCIAttrSet()</code>调用设置环境句柄的高速缓存大小属性，并使用<code class="codeph">OCIAttrGet()</code>函数进行检索。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897__GUID-386F1089-E5A8-424C-89D5-8F4CB069B187">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8" title="列出并描述环境句柄属性。">环境句柄属性</a>以获取更多信息</p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="获取句柄属性的值。">OCIAttrGet（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16987"></a><div class="props_rev_3"><a id="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" name="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1"></a><h4 id="LNOCI-GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" class="sect4"><span class="enumeration_section">22.1.3</span>对象缓存操作</h4>
                  <div>
                     <p>本节介绍对象缓存为对象副本操作提供的最重要的功能。</p>
                     <p></p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" title="固定对象副本使应用程序可以通过取消引用REF来在缓存中访问它。">关于固定和取消固定</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" title="如何释放一个物体呢？它有什么作用。">关于自由</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" title="标记对象会通知缓存已在缓存中更新了对象副本，并且在刷新对象副本时必须在服务器中更新相应的对象。">关于标记和取消标记</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" title="刷新对象会将对缓存中标记的对象副本所做的本地更改写入服务器中的相应对象。">关于法拉盛</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" title="刷新缓存中的对象副本会将其替换为服务器中相应对象的最新值。">关于刷新</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1__GUID-7107D3FA-2288-4EA5-8DC8-50C1DE0E1548">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="object-advanced-topics-in-oci.html#GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" title="本节简要概述了可用的OCI导航功能。">OCI导航功能，</a>用于列出所有OCI导航，缓存和对象管理功能</p>
                     </div>
                  </div><a id="LNOCI16988"></a><div class="props_rev_3"><a id="GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" name="GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897"></a><h5 id="LNOCI-GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" class="sect5"><span class="enumeration_section">22.1.3.1</span>关于固定和取消固定</h5>
                     <div>
                        <p>固定对象副本使应用程序可以通过取消引用<code class="codeph">REF</code>来在缓存中访问它。
                        </p>
                        <p></p>
                        <p>取消固定对象会向缓存指示当前未使用该对象。当不再需要对象时，应该取消固定对象，使其有资格通过缓存进行隐式释放，从而释放内存。</p>
                     </div>
                  </div><a id="LNOCI16989"></a><div class="props_rev_3"><a id="GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" name="GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2"></a><h5 id="LNOCI-GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" class="sect5"><span class="enumeration_section">22.1.3.2</span>关于释放</h5>
                     <div>
                        <p>如何释放一个物体呢？它有什么作用。</p>
                        <p>释放对象副本会将其从缓存中删除并释放其内存。</p>
                     </div>
                  </div><a id="LNOCI16990"></a><div class="props_rev_3"><a id="GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" name="GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9"></a><h5 id="LNOCI-GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" class="sect5"><span class="enumeration_section">22.1.3.3</span>关于标记和取消标记</h5>
                     <div>
                        <p>标记对象会通知缓存已在缓存中更新了对象副本，并且在刷新对象副本时必须在服务器中更新相应的对象。</p>
                        <p></p>
                        <p>取消标记对象将删除对象已更新的指示。</p>
                     </div>
                  </div><a id="LNOCI16991"></a><div class="props_rev_3"><a id="GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" name="GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A"></a><h5 id="LNOCI-GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" class="sect5"><span class="enumeration_section">22.1.3.4</span>关于冲洗</h5>
                     <div>
                        <p>刷新对象会将对缓存中标记的对象副本所做的本地更改写入服务器中的相应对象。</p>
                        <p>发生这种情况时，对象缓存中的副本未标记。</p>
                     </div>
                  </div><a id="LNOCI16992"></a><div class="props_rev_3"><a id="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" name="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0"></a><h5 id="LNOCI-GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" class="sect5"><span class="enumeration_section">22.1.3.5</span>关于刷新</h5>
                     <div>
                        <p>刷新缓存中的对象副本会将其替换为服务器中相应对象的最新值。</p>
                        <p>请注意，刷新后指向顶级对象内存的指针有效。但是，刷新后，指向二级存储器的指针（例如，字符串文本指针，集合等）可能会变为无效。</p>
                        <p>例如，如果对象是具有两个属性的<code class="codeph">person</code>类型： <code class="codeph">salary (number)</code>和<code class="codeph">name (varchar2(20)</code> ）。类型是：</p><pre class="oac_no_warn" dir="ltr">struct Person {OCINumber薪水; OCIString *名称; }</pre><p>如果客户端有一个指针<code class="codeph">scott_p</code>到<code class="codeph">Person</code>实例，并在该实例上调用<code class="codeph">OCIObjectRefresh()</code> ，则刷新后指针<code class="codeph">scott_p</code>仍然相同，但指向二级内存的指针（如<code class="codeph">scott_p-&gt;name</code> ）可能不同。
                        </p>
                        <div class="infoboxnotealso" id="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0__GUID-29975189-3D2C-4BBB-9E8C-037B7A4891D4">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="刷新最新数据库快照中的持久对象。">OCIObjectRefresh（）</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16993"></a><div class="props_rev_3"><a id="GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" name="GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B"></a><h4 id="LNOCI-GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" class="sect4"><span class="enumeration_section">22.1.4</span>关于加载和删除对象拷贝</h4>
                  <div>
                     <p>本节将讨论引脚，取消固定和自由功能。</p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2">关于固定对象副本</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" title="当程序不再使用对象副本时，可以取消该对象副本。">关于取消固定对象副本</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" title="释放对象副本会将其从对象缓存中删除并释放其内存。">关于释放对象副本</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16994"></a><div class="props_rev_3"><a id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2" name="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2"></a><h5 id="LNOCI-GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2" class="sect5"><span class="enumeration_section">22.1.4.1</span>关于固定对象副本</h5>
                     <div>
                        <p></p>
                        <p>当应用程序必须取消引用对象缓存中的<code class="codeph">REF</code>时，它会调用<code class="codeph">OCIObjectPin()</code> 。此调用取消引用<code class="codeph">REF</code>并将对象副本固定在缓存中。只要固定了对象副本，就可以保证应用程序可以访问它。<code class="codeph">OCIObjectPin()</code>接受pin选项， <span class="italic">any</span> ， <span class="italic">recent</span>或<span class="italic">latest</span> 。引脚选项的数据类型是<code class="codeph">OCIPinOpt</code> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<span class="italic">any</span> （ <code class="codeph">OCI_PIN_ANY</code> ）选项，则对象缓存会立即返回缓存中的对象副本（如果存在）。如果缓存中没有副本，则对象缓存将从数据库加载最新的对象副本，然后返回对象副本。<span class="italic">any</span>选项适用于只读，信息，事实或元对象，例如产品，销售代表，供应商，地区，部件或办公室。这些对象通常不会经常更改，即使它们发生更改，更改也不会影响应用程序。
                              </p>
                              <p>请注意，对象缓存仅在指定连接的缓存的逻辑分区内查找对象副本。如果分区中没有副本，则从服务器加载该对象的最新副本。</p>
                           </li>
                           <li>
                              <p>如果指定了<span class="italic">最新</span> （ <code class="codeph">OCI_PIN_LATEST</code> ）选项，则对象缓存会从数据库中将最新的对象副本加载到缓存中。它返回该副本，除非对象副本在高速缓存中被锁定，在这种情况下，立即返回标记的对象副本。如果对象位于缓存中而未锁定，则会加载最新的对象副本并覆盖现有对象副本。<span class="italic">最新</span>选项适用于操作对象，例如采购订单，错误，订单项，银行帐户或股票报价。这些对象通常会经常更改，并且程序在最新可能状态下访问这些对象非常重要。
                              </p>
                           </li>
                           <li>
                              <p>如果指定了<span class="italic">最近的</span> （ <code class="codeph">OCI_PIN_RECENT</code> ）选项，则有两种可能：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果在同一事务中，对象副本先前已使用<span class="italic">最新</span>或<span class="italic">最近</span>选项固定，则<span class="italic">最近</span>选项将等同于<span class="italic">任何</span>选项。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果先前条件不适用，则<span class="italic">最近</span>选项将等同于<span class="italic">最新</span>选项。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>当程序引脚对象时，程序还指定引脚持续时间的两个可能值之一： <span class="italic">会话</span>或<span class="italic">事务</span> 。持续时间的数据类型是<code class="codeph">OCIDuration</code> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果引脚持续时间是<span class="italic">会话</span> （ <code class="codeph">OCI_DURATION_SESSION</code> ），则对象副本将保持固定直到会话结束（即连接结束）或直到程序显式<code class="codeph">OCIObjectUnpin()</code>固定（通过调用<code class="codeph">OCIObjectUnpin()</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>如果引脚持续时间是<span class="italic">事务</span> （ <code class="codeph">OCI_DURATION_TRANS</code> ），则对象副本将保持固定直到事务结束或显式<code class="codeph">OCI_DURATION_TRANS</code>固定。
                              </p>
                           </li>
                        </ul>
                        <p>将对象副本从数据库加载到缓存中时，缓存有效地执行以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE（t）FROM t WHERE REF（t）=：r</pre><p>在此语句中， <code class="codeph">t</code>是存储对象的对象表， <code class="codeph">r</code>是<code class="codeph">REF</code> ，并且获取的值将成为缓存中对象副本的值。
                        </p>
                        <p>由于对象缓存有效地执行单独的<code class="codeph">SELECT</code>语句以将每个对象副本加载到缓存中，因此在读取提交的事务中，不保证对象副本彼此读取一致。
                        </p>
                        <p>在可序列化事务中，固定为<span class="italic">最新</span>或<span class="italic">最新的</span>对象副本彼此读取一致，因为加载这些对象副本的<code class="codeph">SELECT</code>语句是基于相同的数据库快照执行的。
                        </p>
                        <p>读取提交和序列化事务指的是数据库可以支持的不同隔离级别。还有其他隔离级别，例如read-uncommitted，repeatable read等。每个隔离级别允许并发事务之间或多或少的干扰。通常，当隔离级别允许更多干扰时，同时事务具有更高的并发性。在读取提交的事务中，当多次执行查询时，这种类型的事务可能会产生不一致的数据集，因为它允许查看其他已提交事务所做的更改。这在序列化事务中不会发生。</p>
                        <p>对象缓存模型与Oracle数据库事务模型正交或独立。对象缓存的行为不会根据事务模型而改变，即使在不同事务模型下运行相同程序时，通过对象缓存从服务器检索的对象可能不同（例如，read-committed与serializable） ）。</p>
                        <div class="infoboxnote" id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2__GUID-8B93AF7C-2618-4BB2-9C48-90809AE09A93">
                           <p class="notep1">注意：</p>
                           <p>对于<code class="codeph">OCIObjectArrayPin()</code> ，pin选项无效，因为始终从数据库中检索对象。如果<code class="codeph">REF</code>是缓存中的对象，则<code class="codeph">OCIObjectArrayPin()</code>失败：</p><pre class="oac_no_warn" dir="ltr">ORA-22881：悬挂REF</pre></div>
                        <div class="infoboxnotealso" id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2__GUID-D66D6885-7462-4777-A4A6-8A6A51837980">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="引入一系列引用。">OCIObjectArrayPin（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16995"></a><div class="props_rev_3"><a id="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" name="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E"></a><h5 id="LNOCI-GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" class="sect5"><span class="enumeration_section">22.1.4.2</span>关于取消固定对象副本</h5>
                     <div>
                        <p>当程序不再使用对象副本时，可以取消该对象副本。</p>
                        <p>然后它可以被释放。当缓存开始耗尽内存时，对象副本必须完全取消固定和取消标记才有资格被缓存隐式释放。要完全取消固定，已固定<span class="italic">n</span>次的对象副本必须取消固定<span class="italic">n</span>次。
                        </p>
                        <p>在用户刷新或明确取消标记对象副本之前，未固定但已标记的对象副本不符合隐式释放的条件。但是，对象缓存只有在开始耗尽内存时才会隐式释放对象副本，因此不必释放未固定的对象副本。如果它没有被隐式释放并再次固定（使用任何或最近的选项），程序将获得相同的对象副本。</p>
                        <p>应用程序调用<code class="codeph">OCIObjectUnpin()</code>或<code class="codeph">OCIObjectPinCountReset()</code>来取消固定对象副本。此外，程序可以调用<code class="codeph">OCICacheUnpin()</code>来完全取消<code class="codeph">OCICacheUnpin()</code>特定连接的缓存中的所有对象副本。
                        </p>
                        <div class="infoboxnotealso" id="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E__GUID-E50C1863-12D8-481A-B6B3-AE3ECD673366">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="完全取消对象，将其引脚数设置为零。">OCIObjectPinCountReset（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="取消持久对象。">OCICacheUnpin（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16996"></a><div class="props_rev_3"><a id="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" name="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22"></a><h5 id="LNOCI-GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" class="sect5"><span class="enumeration_section">22.1.4.3</span>关于释放对象副本</h5>
                     <div>
                        <p>释放对象副本会将其从对象缓存中删除并释放其内存。</p>
                        <p>缓存支持两种释放内存的方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>显式释放 - 程序通过调用<code class="codeph">OCIObjectFree()</code>从缓存中显式释放或删除对象副本， <code class="codeph">OCIObjectFree()</code>接受（强制）释放标记或固定对象副本的选项。该程序还可以调用<code class="codeph">OCIObjectFree()</code>来释放缓存中的所有对象副本。
                              </p>
                           </li>
                           <li>
                              <p>隐式释放 - 如果缓存开始耗尽内存，它会隐式释放取消固定和取消标记的对象副本。只有在刷新或取消标记对象副本时，标记的未固定对象才有资格隐式释放。</p>
                           </li>
                        </ul>
                        <p>出于内存管理的原因，应用程序在不再需要对象时取消固定对象非常重要。这使得这些对象可用于从缓存中老化，并使缓存在必要时更容易释放内存。</p>
                        <p>OCI不提供在客户端缓存中释放未引用对象的功能。</p>
                        <div class="infoboxnotealso" id="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22__GUID-CA58646B-FD12-42B5-976F-42615CAA02A3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="object-advanced-topics-in-oci.html#GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" title="对象缓存有两个与之关联的重要参数，它们是环境句柄的属性。">对象缓存参数</a>以获取更多信息</p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16997"></a><div class="props_rev_3"><a id="GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" name="GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837"></a><h4 id="LNOCI-GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" class="sect4"><span class="enumeration_section">22.1.5</span>关于对对象副本进行更改</h4>
                  <div>
                     <p>本节讨论用于标记和取消标记对象副本的函数。</p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" title="可以在缓存中本地创建，更新和删除对象副本。">关于标记对象副本</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-3D034011-F414-4E0F-88E9-8CB457696179" title="标记的对象副本可以在对象缓存中取消标记。">关于取消标记对象副本</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16998"></a><div class="props_rev_3"><a id="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" name="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0"></a><h5 id="LNOCI-GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" class="sect5"><span class="enumeration_section">22.1.5.1</span>关于标记对象副本</h5>
                     <div>
                        <p>可以在缓存中本地创建，更新和删除对象副本。</p>
                        <p>如果在缓存中创建了对象副本（通过调用<code class="codeph">OCIObjectNew()</code> ），则对象副本将被标记为由对象高速缓存插入，以便在刷新对象副本时将对象插入到服务器中。
                        </p>
                        <p>如果在缓存中更新了对象副本，则用户必须通过标记对象副本以进行更新来通知对象缓存（通过调用<code class="codeph">OCIObjectMarkUpdate()</code> ）。刷新对象副本时，将使用对象副本中的值更新服务器中的相应对象。
                        </p>
                        <p>如果删除了对象副本，则在对象高速缓存中将对象副本标记为删除（通过调用<code class="codeph">OCIObjectMarkDelete()</code> ）。刷新对象副本时，将删除服务器中的相应对象。在刷新和取消固定之前，不会释放标记的对象副本的内存。固定标记为删除的对象时，程序会收到错误，就好像程序正在取消引用悬空引用一样。
                        </p>
                        <p>当用户对对象副本进行多项更改时，这些更改的最终结果是在刷新副本时应用于服务器中的对象。例如，如果用户更新并删除对象副本，则在刷新对象副本时将删除服务器中的对象。同样，如果对象副本的属性多次更新，则在刷新对象副本时，它是服务器中更新的此属性的最终值。</p>
                        <p>仅当对象副本已加载到对象高速缓存中时，程序才能将对象副本标记为已更新或已删除。</p>
                        <div class="infoboxnotealso" id="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0__GUID-54F9078F-33A9-4241-A4E8-3592628CF54A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="将持久对象标记为已更新（脏）。">OCIObjectMarkUpdate（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-46497858-8E6C-4920-857C-83FFC8B0F7C1" title="在给定指向实例的指针时，将独立实例标记为已删除。">OCIObjectMarkDelete（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16999"></a><div class="props_rev_3"><a id="GUID-3D034011-F414-4E0F-88E9-8CB457696179" name="GUID-3D034011-F414-4E0F-88E9-8CB457696179"></a><h5 id="LNOCI-GUID-3D034011-F414-4E0F-88E9-8CB457696179" class="sect5"><span class="enumeration_section">22.1.5.2</span>关于取消标记对象副本</h5>
                     <div>
                        <p>标记的对象副本可以在对象缓存中取消标记。</p>
                        <p>通过取消标记标记的对象副本，程序可确保对对象副本所做的更改不会刷新到服务器。对象缓存不会撤消对对象副本所做的本地更改。</p>
                        <p>程序调用<code class="codeph">OCIObjectUnmark()</code>来取消标记对象。此外，程序可以调用<code class="codeph">OCICacheUnmark()</code>来取消标记特定连接的缓存中的所有对象副本。
                        </p>
                        <div class="infoboxnotealso" id="GUID-3D034011-F414-4E0F-88E9-8CB457696179__GUID-ABCBCA97-B85E-4C90-96BF-912032841250">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-41C686AE-4C80-4539-80AF-4150680A02A5" title="将对象取消标记为脏。">OCIObjectUnmark（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-BADD75E5-0C72-4364-911D-2DF59BF642C8" title="取消标记对象缓存中的所有脏对象。">OCICacheUnmark（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17000"></a><div class="props_rev_3"><a id="GUID-55D30393-27ED-430B-BFCC-A25100D109F2" name="GUID-55D30393-27ED-430B-BFCC-A25100D109F2"></a><h4 id="LNOCI-GUID-55D30393-27ED-430B-BFCC-A25100D109F2" class="sect4"><span class="enumeration_section">22.1.6</span>关于将对象副本与服务器同步</h4>
                  <div>
                     <p>本节讨论缓存和服务器同步操作（刷新，刷新）。</p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" title="当程序刷新对象副本时，它会将对高速缓存中标记的对象副本所做的本地更改写入服务器。">关于刷新服务器的更改</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" title="刷新时，将使用服务器中相应对象的最新值重新加载对象副本。">关于刷新对象副本</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17001"></a><div class="props_rev_3"><a id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" name="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9"></a><h5 id="LNOCI-GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" class="sect5"><span class="enumeration_section">22.1.6.1</span>关于<span class="enumeration_section">刷新</span>服务器的更改</h5>
                     <div>
                        <p>当程序刷新对象副本时，它会将对高速缓存中标记的对象副本所做的本地更改写入服务器。</p>
                        <p>程序可以调用<code class="codeph">OCIObjectFlush()</code>来刷新单个对象副本。程序可以调用<code class="codeph">OCICacheFlush()</code>来刷新缓存中的所有标记对象副本或所选标记对象副本的列表。<code class="codeph">OCICacheFlush()</code>刷新与特定服务上下文关联的对象。请参阅<code class="codeph">OCICacheFlush()</code> 。
                        </p>
                        <p>刷新对象副本后，它没有标记。（请注意，对象在刷新后会在服务器中锁定;因此对象副本在缓存中标记为已锁定。）</p>
                        <div class="infoboxnote" id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9__GUID-46737B5D-8E39-409E-AFBD-8D72CA2A7CE6">
                           <p class="notep1">注意：</p>
                           <p>即使正在刷新多个对象， <code class="codeph">OCIObjectFlush()</code>操作也只会导致单个服务器往返。
                           </p>
                        </div>
                        <p>回调函数（ <code class="codeph">OCIObjectFlush()</code>调用的可选参数）使应用程序只能刷新某种类型的脏对象。应用程序可以定义仅返回所需对象的回调。在这种情况下，操作仍然只会导致一次服务器往返冲洗。
                        </p>
                        <p>在<code class="codeph">OCIObjectFlush()</code>期间的默认模式下，对象按照标记为脏的顺序刷新。通过在环境句柄中设置<code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code>属性，可以显着提高此刷新操作的性能。
                        </p>
                        <p>但是，仅当刷新对象的顺序<code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code> ， <code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code>应使用<code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code>属性。当此属性生效时，脏对象被组合在一起并以使服务器能够有效更新其表的方式发送到服务器。启用此属性后，无法保证将对象标记为脏的顺序保留。
                        </p>
                        <div class="infoboxnotealso" id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9__GUID-D1A9B75A-791C-4059-A0BD-3057F2AE93FE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8" title="列出并描述环境句柄属性。">环境句柄属性</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="将修改后的持久对象刷新到服务器。">OCIObjectFlush（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="将已修改的持久对象刷新到服务器。">OCICacheFlush（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17003"></a><a id="LNOCI17002"></a><div class="props_rev_3"><a id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" name="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42"></a><h5 id="LNOCI-GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" class="sect5"><span class="enumeration_section">22.1.6.2</span>关于刷新对象副本</h5>
                     <div>
                        <p>刷新时，将使用服务器中相应对象的最新值重新加载对象副本。</p>
                        <p>最新值可能包含由其他已提交事务所做的更改以及事务在服务器中直接（而不是通过对象缓存）所做的更改。该程序可以使用SQL DML，触发器或存储过程直接在服务器中更改对象。</p>
                        <p>要刷新标记的对象副本，程序必须首先取消标记对象副本。刷新时（即刷新整个缓存时）将释放未固定的对象副本。</p>
                        <p>程序可以调用<code class="codeph">OCIObjectRefresh()</code>来刷新单个对象副本，或者<code class="codeph">OCICacheRefresh()</code>来刷新缓存中的所有对象副本，所有在事务中加载的对象副本（即最近固定或最新固定的对象副本），或所选对象副本的列表。
                        </p>
                        <p>将对象刷新到服务器时，可以触发触发器以修改服务器中的更多对象。对象缓存中的相同对象（由触发器修改）变得过时，必须先刷新才能锁定或刷新它们。</p>
                        <p>刷新后，如<a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__BGBEEIIA" title="该表有2列。第1列是对象属性，第2列描述刷新操作后的状态。">表22-1中</a>所述修改对象的各种元属性标志和持续时间。
                        </p>
                        <div class="tblformal" id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__BGBEEIIA">
                           <p class="titleintable">表22-1刷新操作后的对象属性</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="刷新操作后的对象属性" width="100%" border="1" summary="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after a refresh operation." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="47%" id="d164838e4754">对象属性</th>
                                    <th align="left" valign="bottom" width="53%" id="d164838e4757">刷新后的状态</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4762" headers="d164838e4754 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4762 d164838e4757 ">
                                       <p>设置为适当的值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4769" headers="d164838e4754 ">
                                       <p>置顶</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4769 d164838e4757 ">
                                       <p>不变</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4776" headers="d164838e4754 ">
                                       <p>酡</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4776 d164838e4757 ">
                                       <p>重启</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4783" headers="d164838e4754 ">
                                       <p>分配期限</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4783 d164838e4757 ">
                                       <p>不变</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4790" headers="d164838e4754 ">
                                       <p>引脚持续时间</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4790 d164838e4757 ">
                                       <p>不变</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在刷新操作期间，对象高速缓存将新数据加载到对象副本的顶级存储器中，从而重用顶级存储器。对象副本的顶级内存包含对象的内联属性。但是，可以释放和重新定位对象副本的外部属性的内存，因为外部属性的大小可能不同。</p>
                        <div class="infoboxnotealso" id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__GUID-FDAED564-8440-42FD-ABD3-A10447251839">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关对象内存的更多信息<a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" title="存储器中的实例由实例的顶级存储器块，空指示器结构的顶级存储器以及可选的一些辅助存储器块组成。">，请参见实例的内存布局</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="刷新最新数据库快照中的持久对象。">OCIObjectRefresh（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="刷新缓存中的所有固定持久对象。">OCICacheRefresh（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17004"></a><div class="props_rev_3"><a id="GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" name="GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F"></a><h4 id="LNOCI-GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" class="sect4"><span class="enumeration_section">22.1.7</span>对象锁定</h4>
                  <div>
                     <p>本节讨论与对象锁定相关的OCI功能。</p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" title="固定对象时，可以通过锁定选项指定是否应锁定对象。">锁定选项</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" title="程序可以选择调用OCIObjectLock（）来锁定对象以进行更新。">关于锁定对象以进行更新</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-05B2D3AC-0677-4C38-9350-875820048948" title="有时，应用程序会尝试锁定当前被其他用户锁定的对象。在这种情况下，应用程序被阻止。">关于使用NOWAIT选项锁定</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" title="有两个选项可用于在OCI应用程序中实现乐观锁定。">关于实现乐观锁定</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17005"></a><div class="props_rev_3"><a id="GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" name="GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE"></a><h5 id="LNOCI-GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" class="sect5"><span class="enumeration_section">22.1.7.1</span>锁定选项</h5>
                     <div>
                        <p>固定对象时，可以通过锁定选项指定是否应锁定对象。</p>
                        <p>锁定对象时，将获取服务器端锁定，这会阻止任何其他用户修改该对象。事务提交或回滚时释放锁定。不同的锁定选项如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>锁定选项<code class="codeph">OCI_LOCK_NONE</code>指示缓存固定对象而不锁定。
                              </p>
                           </li>
                           <li>
                              <p>锁定选项<code class="codeph">OCI_LOCK_X</code>指示缓存仅在获取锁定后固定对象。如果该对象当前被另一个用户锁定，则使用此选项的引脚调用将等待，直到它可以在返回调用方之前获取锁定。这相当于执行<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句。
                              </p>
                           </li>
                           <li>
                              <p>锁定选项<code class="codeph">OCI_LOCK_X_NOWAIT</code>指示缓存仅在获取锁定后固定对象。不像<code class="codeph">OCI_LOCK_X</code>选项，用针呼叫<code class="codeph">OCI_LOCK_X_NOWAIT</code>如果对象正在被另一个用户锁定选项不会等待。这相当于执行<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> <code class="codeph">WITH</code> <code class="codeph">NOWAIT</code>语句。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17006"></a><div class="props_rev_3"><a id="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" name="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A"></a><h5 id="LNOCI-GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" class="sect5"><span class="enumeration_section">22.1.7.2</span>关于锁定更新对象</h5>
                     <div>
                        <p>程序可以选择调用<code class="codeph">OCIObjectLock()</code>来锁定对象以进行更新。
                        </p>
                        <p>此调用指示对象缓存在数据库中的对象上获取行锁定。这类似于执行以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT NULL FROM t WHERE REF（t）=：r FOR UPDATE</pre><p>在此语句中， <code class="codeph">t</code>是存储要锁定的对象的对象表， <code class="codeph">r</code>是标识对象的<code class="codeph">REF</code> 。调用<code class="codeph">OCIObjectLock()</code>后，对象副本在对象缓存中标记为已锁定。
                        </p>
                        <p>要锁定一个图形或一组对象，需要几个<code class="codeph">OCIObjectLock()</code>调用（每个对象一个），或者可以使用数组引脚<code class="codeph">OCIObjectArrayPin()</code>调用以获得更好的性能。
                        </p>
                        <p>通过锁定对象，应用程序可以保证缓存中的对象是最新的。当应用程序锁定对象时，没有其他事务可以修改对象。</p>
                        <p>在事务结束时，服务器会自动释放所有锁。重置对象副本中的锁定指示符。</p>
                        <div class="infoboxnotealso" id="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A__GUID-19B09C55-FD57-4FC2-B29F-71CDD80F7965">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="锁定服务器上的持久对象。">OCIObjectLock（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="引入一系列引用。">OCIObjectArrayPin（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17007"></a><div class="props_rev_3"><a id="GUID-05B2D3AC-0677-4C38-9350-875820048948" name="GUID-05B2D3AC-0677-4C38-9350-875820048948"></a><h5 id="LNOCI-GUID-05B2D3AC-0677-4C38-9350-875820048948" class="sect5"><span class="enumeration_section">22.1.7.3</span>关于使用NOWAIT选项进行锁定</h5>
                     <div>
                        <p>有时，应用程序会尝试锁定当前被其他用户锁定的对象。在这种情况下，应用程序被阻止。</p>
                        <p></p>
                        <p>为了避免在尝试锁定对象时出现阻塞，应用程序可以使用<code class="codeph">OCIObjectLockNoWait()</code>调用而不是<code class="codeph">OCIObjectLock()</code> 。如果由于它被另一个用户锁定而无法立即锁定对象，则此函数返回错误。
                        </p>
                        <p><code class="codeph">NOWAIT</code>选项也可用于通过传递<code class="codeph">OCI_LOCK_X_NOWAIT</code>值作为锁定选项参数来固定调用。
                        </p>
                        <div class="infoboxnotealso" id="GUID-05B2D3AC-0677-4C38-9350-875820048948__GUID-3E3910B4-1EFA-451D-815A-769EE283AFDC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-F8C389C2-A5F0-4603-B260-BD932D4AC9C8" title="锁定服务器上的持久对象但不等待锁定。">OCIObjectLockNoWait（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="锁定服务器上的持久对象。">OCIObjectLock（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17008"></a><div class="props_rev_3"><a id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02"></a><h5 id="LNOCI-GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" class="sect5"><span class="enumeration_section">22.1.7.4</span>关于实现乐观锁定</h5>
                     <div>
                        <p>有两个选项可用于在OCI应用程序中实现乐观锁定。</p>
                        <p>乐观锁定假设事务将修改缓存中的对象，刷新它们并成功提交更改。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-04BB5474-9E3E-4A61-A763-3D53BA5E3D9C"><!-- --></a>乐观锁定选项1</dt>
                           <dd>
                              <p>第一个乐观锁定选项适用于在可序列化级别运行事务的OCI应用程序。</p>
                              <p>OCI支持允许您在对象缓存中取消引用和固定对象而不锁定它们的调用，在缓存中修改它们（再次不锁定它们），然后将它们（脏的对象）刷新到数据库。</p>
                              <p>在刷新操作期间，如果自事务开始以来另一个已提交事务已修改脏对象，则返回不可序列化的事务错误。如果自事务开始以来没有任何其他事务修改了脏对象，则事务会成功将更改写入数据库。</p>
                              <div class="infoboxnote" id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-9D54809B-DB76-4489-9554-53210B61E8F8">
                                 <p class="notep1">注意：</p>
                                 <p>在提交事务之前， <code class="codeph">OCITransCommit()</code>将脏对象刷新到数据库中。
                                 </p>
                              </div>
                              <p>前面的机制有效地实现了乐观锁定模型。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-6E7F8773-97B7-4879-9845-7320FDFF65A8"><!-- --></a>乐观锁定选项2</dt>
                           <dd>
                              <p>或者，应用程序可以启用对象更改检测模式。要执行此操作，请将环境句柄的<code class="codeph">OCI_ATTR_OBJECT_DETECTCHANGE</code>属性设置为<code class="codeph">TRUE</code>值。</p>
                              <p>激活此模式后，应用程序在尝试通过另一个已提交的事务刷新服务器中已更改的对象时，会收到<code class="codeph">ORA-08179</code>错误（“并发检查失败”）。然后，应用程序可以以适当的方式处理此错误。
                              </p>
                           </dd>
                        </dl>
                        <div class="infoboxnotealso" id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-929B59DB-A3F1-40F0-9368-30B0EA71CFA5">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17009"></a><div class="props_rev_3"><a id="GUID-B0236408-75F1-47C4-880B-FCA003A1C697" name="GUID-B0236408-75F1-47C4-880B-FCA003A1C697"></a><h4 id="LNOCI-GUID-B0236408-75F1-47C4-880B-FCA003A1C697" class="sect4"><span class="enumeration_section">22.1.8</span>对象应用程序中的提交和回滚</h4>
                  <div>
                     <p>提交事务时（ <code class="codeph">OCITransCommit()</code> ），所有标记的对象都会刷新到服务器。
                     </p>
                     <p>如果使用事务持续时间固定对象副本，则取消固定对象副本。</p>
                     <p>回滚事务时，所有标记的对象都未标记。如果使用事务持续时间固定对象副本，则取消固定对象副本。</p>
                     <div class="infoboxnotealso" id="GUID-B0236408-75F1-47C4-880B-FCA003A1C697__GUID-4EA7840B-4BE4-46AE-BAAF-FFB1BC00EB61">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI17010"></a><div class="props_rev_3"><a id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" name="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1"></a><h4 id="LNOCI-GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" class="sect4"><span class="enumeration_section">22.1.9</span>对象持续时间</h4>
                  <div>
                     <p>为了保持内存中的可用空间，对象缓存尝试尽可能重用对象的内存。当对象的生命周期（ <span class="italic">分配持续时间）</span>到期或对象的<span class="italic">引脚持续时间</span>到期时，对象缓存会重用对象的内存。
                     </p>
                     <p>使用<code class="codeph">OCIObjectNew()</code>创建对象时设置分配持续时间，并在使用<code class="codeph">OCIObjectPin()</code>固定对象时设置引脚持续时间。持续时间值的数据类型是<code class="codeph">OCIDuration</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1__GUID-9BAAA62E-AA03-4CE9-A9BA-08E68359CB83">
                        <p class="notep1">注意：</p>
                        <p>对象的引脚持续时间不能长于对象的分配持续时间。</p>
                     </div>
                     <p>当一个对象到达其分配持续时间的末尾时，它将被自动删除并且可以重用其内存。引脚持续时间表示何时可以重用对象的内存;缓存已满时重用内存。</p>
                     <p>OCI支持两个预定义的持续时间：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>交易（ <code class="codeph">OCI_DURATION_TRANS</code> ）</p>
                        </li>
                        <li>
                           <p>会话（ <code class="codeph">OCI_DURATION_SESSION</code> ）</p>
                        </li>
                     </ul>
                     <p>当包含的事务结束（提交或终止）时， <span class="italic">事务持续时间</span>到期。<span class="italic">会话持续时间</span>在包含会话或连接结束时到期。
                     </p>
                     <p>应用程序可以使用<code class="codeph">OCIObjectUnpin()</code>显式取消固定对象。为了最大限度地减少单个对象的显式取消固定，应用程序可以使用函数<code class="codeph">OCICacheUnpin()</code>取消固定当前固定在对象缓存中的所有对象。默认情况下，在引脚持续时间结束时取消固定所有对象。
                     </p>
                     <p>本节包括以下主题： <a href="object-advanced-topics-in-oci.html#GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" title="说明在应用程序中使用不同的持续时间。">持续时间示例</a> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1__GUID-F6722628-2CFB-4522-8E8D-8B5E198F463F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="取消持久对象。">OCICacheUnpin（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17012"></a><a id="LNOCI17011"></a><div class="props_rev_3"><a id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" name="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832"></a><h5 id="LNOCI-GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" class="sect5"><span class="enumeration_section">22.1.9.1</span>持续时间示例</h5>
                     <div>
                        <p>说明在应用程序中使用不同的持续时间。</p>
                        <p><a href="object-advanced-topics-in-oci.html#GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__G453011" title="该表有7列。第1列是时间值T1到T19，第2列是应用程序操作，第3列是OCI函数名，第4列到第7列是名为对象1，对象2，对象3和对象4的列。">表22-2</a>说明了在应用程序中使用不同的持续时间。在一个连接和三个事务的过程中，在此应用程序中创建或固定四个对象。第一列是相对时间指标。第二列表示数据库执行的操作，第三列表示执行操作的功能。其余列指示应用程序中每个点的各种对象的状态。
                        </p>
                        <p>例如，对象1在使用连接持续时间创建时在T2处存在，并且在连接终止时存在直到T19。在T6提取后，对象2在T7处被固定，具有事务持续时间，并且在提交事务时它保持固定直到T9。</p>
                        <div class="tblformalwide" id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__G453011">
                           <p class="titleintable">表22-2分配和引脚持续时间示例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="分配和引脚持续时间的示例" width="100%" border="1" summary="This table has 7 columns. Column 1 is the time value T1 to T19, column 2 is the application action, column 3 is the OCI function name, columns 4 through 7 are columns named object 1, object 2, object 3, and object 4." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="8%" id="d164838e6755">时间</th>
                                    <th align="left" valign="bottom" width="28%" id="d164838e6758">申请行动</th>
                                    <th align="left" valign="bottom" width="21%" id="d164838e6761">功能</th>
                                    <th align="left" valign="bottom" width="10%" id="d164838e6764">对象1</th>
                                    <th align="left" valign="bottom" width="11%" id="d164838e6767">对象2</th>
                                    <th align="left" valign="bottom" width="10%" id="d164838e6770">对象3</th>
                                    <th align="left" valign="bottom" width="11%" id="d164838e6773">对象4</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6778" headers="d164838e6755 ">
                                       <p>T <sub>1</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6778 d164838e6758 ">
                                       <p>建立联系</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6778 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6778 d164838e6764 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6778 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6778 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6778 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6802" headers="d164838e6755 ">
                                       <p>T <sub>2</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6802 d164838e6758 ">
                                       <p>创建对象1  - 分配持续时间=连接</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6802 d164838e6761 ">
                                       <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6802 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6802 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6802 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6802 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6831" headers="d164838e6755 ">
                                       <p>T <sub>5</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6831 d164838e6758 ">
                                       <p>启动Transaction1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6831 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="设置事务的开始。">OCITransStart（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6831 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6831 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6831 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6831 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6860" headers="d164838e6755 ">
                                       <p>T <sub>6</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6860 d164838e6758 ">
                                       <p>SQL  - 将<code class="codeph">REF</code>提取到对象2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6860 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6860 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6860 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6860 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6860 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6887" headers="d164838e6755 ">
                                       <p>T <sub>7</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6887 d164838e6758 ">
                                       <p>Pin对象2  - 引脚持续时间=事务</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6887 d164838e6761 ">
                                       <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6887 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6887 d164838e6767 ">
                                       <p>置顶</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6887 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6887 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6916" headers="d164838e6755 ">
                                       <p>T <sub>8</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6916 d164838e6758 ">
                                       <p>处理申请数据</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6916 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6916 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6916 d164838e6767 ">
                                       <p>置顶</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6916 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6916 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6940" headers="d164838e6755 ">
                                       <p>T <sub>9</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6940 d164838e6758 ">
                                       <p>提交Transaction1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6940 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6940 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6940 d164838e6767 ">
                                       <p>取消固定</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6940 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6940 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6969" headers="d164838e6755 ">
                                       <p>T <sub>10</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6969 d164838e6758 ">
                                       <p>启动Transaction2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6969 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="设置事务的开始。">OCITransStart（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6969 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6969 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6969 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6969 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6998" headers="d164838e6755 ">
                                       <p>T <sub>11</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6998 d164838e6758 ">
                                       <p>创建对象3  - 分配持续时间=事务</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6998 d164838e6761 ">
                                       <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6998 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6998 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6998 d164838e6770 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6998 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7027" headers="d164838e6755 ">
                                       <p>T <sub>12</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7027 d164838e6758 ">
                                       <p>SQL  - 将<code class="codeph">REF</code>提取到对象4</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7027 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7027 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7027 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7027 d164838e6770 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7027 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7054" headers="d164838e6755 ">
                                       <p>T <sub>13</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7054 d164838e6758 ">
                                       <p>引脚对象4  - 引脚持续时间=连接</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7054 d164838e6761 ">
                                       <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7054 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7054 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7054 d164838e6770 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7054 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7084" headers="d164838e6755 ">
                                       <p>T <sub>14</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7084 d164838e6758 ">
                                       <p>提交Transaction2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7084 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7084 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7084 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7084 d164838e6770 ">
                                       <p>删除</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7084 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7113" headers="d164838e6755 ">
                                       <p>T <sub>15</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7113 d164838e6758 ">
                                       <p>终止session1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7113 d164838e6761 ">
                                       <p><a href="lob-functions.html#GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962" title="终止临时LOB的用户持续时间。">OCIDurationEnd（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7113 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7113 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7113 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7113 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7142" headers="d164838e6755 ">
                                       <p>T <sub>16</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7142 d164838e6758 ">
                                       <p>启动Transaction3</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7142 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="设置事务的开始。">OCITransStart（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7142 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7142 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7142 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7142 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7171" headers="d164838e6755 ">
                                       <p>T <sub>17</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7171 d164838e6758 ">
                                       <p>处理申请数据</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7171 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7171 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7171 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7171 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7171 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7195" headers="d164838e6755 ">
                                       <p>T <sub>18</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7195 d164838e6758 ">
                                       <p>提交Transaction3</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7195 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7195 d164838e6764 ">
                                       <p>存在</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7195 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7195 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7195 d164838e6773 ">
                                       <p>置顶</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7224" headers="d164838e6755 ">
                                       <p>T <sub>19</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7224 d164838e6758 ">
                                       <p>终止连接</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7224 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7224 d164838e6764 ">
                                       <p>删除</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7224 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7224 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7224 d164838e6773 ">
                                       <p>取消固定</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__GUID-F4EDC1FA-CB8D-4B12-806F-44097071F832">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关可传递给这些函数的参数值的特定信息，可在<a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="本章介绍用于浏览从Oracle数据库检索的对象的OCI导航功能。">OCI导航和类型函数中</a>对<a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a>和<a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a>进行描述</p>
                              </li>
                              <li>
                                 <p><a href="oci-object-relational-programming.html#GUID-86418D8C-FA67-4B14-A5BC-7A075C6B4206" title="OCI应用程序可以使用OCIObjectNew（）创建任何对象。">关于创建对象，</a>以获取有关在分配持续时间到期之前释放对象内存的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI72770"></a><a id="LNOCI72771"></a><a id="LNOCI17013"></a><div class="props_rev_3"><a id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" name="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5"></a><h4 id="LNOCI-GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" class="sect4"><span class="enumeration_section">22.1.10</span>实例的内存布局</h4>
                  <div>
                     <p>存储器中的实例由实例的顶级存储器块，空指示器结构的顶级存储器以及可选的一些辅助存储器块组成。</p>
                     <p>考虑<a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">例22-1中</a>定义的<code class="codeph">DEPARTMENT</code>行类型。
                     </p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">例22-2</a>显示了<code class="codeph">DEPARTMENT</code>的C表示。
                     </p>
                     <p><code class="codeph">DEPARTMENT</code>每个实例都有一个顶级内存块，其中包含顶级属性，例如<code class="codeph">dep_name</code> ， <code class="codeph">budget</code> ， <code class="codeph">manager</code>和<code class="codeph">employees</code> 。属性<code class="codeph">dep_name</code>和<code class="codeph">employees</code>是指向附加内存（辅助内存块）的指针。辅助内存用于包含嵌入式实例的数据（例如， <code class="codeph">employees</code> varray和<code class="codeph">dep_name</code>字符串）。
                     </p>
                     <p>空指示符结构的顶级内存包含实例的顶级内存块中的属性的空状态。在<a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">实施例22-2</a>中，空结构的顶层存储器包含的属性的空状态<code class="codeph">dep_name</code> ， <code class="codeph">budget</code> ，和<code class="codeph">manager</code> ，和的原子无效<code class="codeph">employees</code> 。
                     </p>
                     <div class="example" id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">
                        <p class="titleinexample">示例22-1部门行的对象类型表示</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE部门AS OBJECT（dep_name varchar2（20），预算编号，经理人，/ *人是对象类型* / employees person_array）; / *人物对象的varray * /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">
                        <p class="titleinexample">例22-2部门行的C表示</p><pre class="oac_no_warn" dir="ltr">struct department {OCIString * dep_name; OCINumber预算;结构人经理; OCIArray *员工; ）; typedef struct department department;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI17014"></a><div class="props_rev_3"><a id="GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" name="GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC"></a><h3 id="LNOCI-GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" class="sect3"><span class="enumeration_section">22.2</span>对象导航</h3>
               <div>
                  <p>本节讨论OCI应用程序如何浏览对象缓存中对象的图形。</p>
                  <p>本节包括以下主题： <a href="object-advanced-topics-in-oci.html#GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" title="如果应用程序检索具有属于另一个对象的REF属性的对象，则应用程序可以使用OCI调用遍历对象图并访问引用的实例。">简单对象导航</a> 。
                  </p>
               </div><a id="LNOCI17016"></a><a id="LNOCI17015"></a><div class="props_rev_3"><a id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" name="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D"></a><h4 id="LNOCI-GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" class="sect4"><span class="enumeration_section">22.2.1</span>简单对象导航</h4>
                  <div>
                     <p>如果应用程序检索具有属于另一个对象的<code class="codeph">REF</code>属性的对象，则应用程序可以使用OCI调用遍历<span class="italic">对象图</span>并访问引用的实例。
                     </p>
                     <p>在<a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">例22-1</a>和<a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">例22-2中</a> ，应用程序检索的对象是一个简单对象，其属性都是标量值。
                     </p>
                     <p>例如，请考虑数据库中新类型的以下声明：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE person_t AS OBJECT（名称VARCHAR2（30），母亲REF person_t，父亲REF person_t）;</pre><p>使用以下语句创建<code class="codeph">person_t</code>对象的对象表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE person_table OF person_t;</pre><p><code class="codeph">person_t</code>类型的实例现在可以存储在类型表中。<code class="codeph">person_t</code>每个实例包括对两个其他对象的引用，这两个对象也将存储在表中。<code class="codeph">NULL</code>引用可以表示父项的信息不可用。
                     </p>
                     <p>对象图是对象实例之间的<code class="codeph">REF</code>链接的图形表示。例如， <a href="object-advanced-topics-in-oci.html#GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__I440204">图22-2</a>描绘了<code class="codeph">person_t</code>实例的对象图，显示了从一个对象到另一个对象的链接。圆圈表示对象，箭头表示对其他对象的引用。与箭头相邻的M和F分别表示母亲和父亲。
                     </p>
                     <div class="figure" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__I440204">
                        <p class="titleinfigure">图22-2 person_t实例的对象图</p><img src="img/lnoci027.gif" alt="下面是图22-2的描述" title="下面是图22-2的描述" longdesc="img_text/lnoci027.html"><br><a href="img_text/lnoci027.html">“图22-2 person_t实例的对象图”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在这种情况下，每个对象都链接到同一对象的另外两个实例（M和F）。情况并非总是如此。对象可能具有指向其他对象类型的链接。其他类型的图也是可能的。例如，如果将一组对象实现为链接列表，则可以将对象图形视为简单链，其中每个对象引用链接列表中的上一个或下一个对象或两者。</p>
                     <p>您可以使用本章前面介绍的方法检索对<code class="codeph">person_t</code>实例的引用，然后固定该实例。OCI提供的功能使您能够通过跟踪从一个对象到另一个对象的引用来遍历对象图。
                     </p>
                     <p>例如，假设应用程序在前面的图中提取<code class="codeph">person1</code>实例并将其固定为<code class="codeph">pers_1</code> 。完成后，应用程序可以访问<code class="codeph">person1</code>的母实例，并通过第二个引脚操作将其固定到<code class="codeph">pers_2</code> ：</p><pre class="oac_no_warn" dir="ltr">OCIObjectPin（env，err，pers_1-&gt; mother，OCI_PIN_ANY，OCI_DURATION_TRANS，OCI_LOCK_X，（OCIComplexObject *）0，＆pers_2）;</pre><p>在这种情况下，不需要OCI提取操作来检索第二个实例。</p>
                     <p>然后，应用程序可以固定<code class="codeph">person1</code>的父实例，或者它可以在<code class="codeph">person2</code>的引用链接上<code class="codeph">person2</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__GUID-8251D80D-ACCD-4BF1-AA20-4CF20949FE8D">
                        <p class="notep1">注意：</p>
                        <p>尝试固定<code class="codeph">NULL</code>或悬空<code class="codeph">REF</code>导致<code class="codeph">OCIObjectPin()</code>调用出错。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__GUID-0D96BDC0-431D-44BB-B0F8-91774FE08579">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI17017"></a><div class="props_rev_3"><a id="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" name="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0"></a><h3 id="LNOCI-GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" class="sect3"><span class="enumeration_section">22.3</span> OCI导航功能</h3>
               <div>
                  <p>本节简要概述了可用的OCI导航功能。</p>
                  <p>功能根据其一般功能进行分组。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" title="列出并描述了引脚，取消固定和自由功能。">关于Pin / Unpin / Free功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" title="列出并描述刷新和刷新功能。">关于刷新和刷新功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" title="列出并描述标记和取消标记功能。">关于Mark和Unmark功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" title="列出并描述元属性访问器功能。">关于对象元属性访问器函数</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" title="列出并描述其他功能。">关于其他功能</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>本章的前面部分描述了这些功能的使用。</p>
                  <p>导航功能遵循命名方案，该方案对不同类型的功能使用不同的前缀：</p>
                  <p><code class="codeph">OCICache*()</code> - 这些函数是缓存操作。
                  </p>
                  <p><code class="codeph">OCIObject*()</code> - 这些函数是单独的对象操作。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0__GUID-2D2A688E-234E-475D-9B96-8EDC4F1B1BAD">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="This chapter describes the OCI navigational functions that are used to navigate through objects retrieved from an Oracle database.">OCI导航和类型功能</a>有关每个<a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="本章介绍用于浏览从Oracle数据库检索的对象的OCI导航功能。">功能</a>的更详细说明</p>
                  </div>
               </div><a id="LNOCI17019"></a><a id="LNOCI17018"></a><div class="props_rev_3"><a id="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" name="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478"></a><h4 id="LNOCI-GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" class="sect4"><span class="enumeration_section">22.3.1</span>关于Pin / Unpin / Free功能</h4>
                  <div>
                     <p>列出并描述了引脚，取消固定和自由功能。</p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478__BGBDIFGI" title="该表有2列。第1列是函数名称，第2列描述其用途。">表22-3</a>中的功能可用于固定，取消固定或释放对象。
                     </p>
                     <div class="tblformal" id="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478__BGBDIFGI">
                        <p class="titleintable">表22-3引脚，自由和取消固定功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Pin，Free和Unpin功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d164838e8531">功能</th>
                                 <th align="left" valign="bottom" width="58%" id="d164838e8534">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8539" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" title="释放指定连接的缓存中的所有对象和值。">OCICacheFree（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8539 d164838e8534 ">
                                    <p>释放缓存中的所有实例</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8551" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="取消持久对象。">OCICacheUnpin（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8551 d164838e8534 ">
                                    <p>取消固定缓存或连接中的持久对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8563" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="引入一系列引用。">OCIObjectArrayPin（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8563 d164838e8534 ">
                                    <p>固定一系列参考文献</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8575" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8575 d164838e8534 ">
                                    <p>免费并取消固定独立实例</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8587" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8587 d164838e8534 ">
                                    <p>固定一个物体</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8599" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="完全取消对象，将其引脚数设置为零。">OCIObjectPinCountReset（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8599 d164838e8534 ">
                                    <p>将对象取消固定为零引脚数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8611" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" title="将表对象固定指定的持续时间。">OCIObjectPinTable（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8611 d164838e8534 ">
                                    <p>固定具有给定持续时间的表对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8623" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="取消一个对象。">OCIObjectUnpin（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8623 d164838e8534 ">
                                    <p>取消固定对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17021"></a><a id="LNOCI17020"></a><div class="props_rev_3"><a id="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" name="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749"></a><h4 id="LNOCI-GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" class="sect4"><span class="enumeration_section">22.3.2</span>关于刷新和刷新功能</h4>
                  <div>
                     <p>列出并描述刷新和刷新功能。</p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749__BGBDFADA" title="该表有2列。第1列是函数名称，第2列描述其用途。">表22-4</a>中的函数可用于将修改后的对象刷新到服务器。
                     </p>
                     <div class="tblformal" id="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749__BGBDFADA">
                        <p class="titleintable">表22-4刷新和刷新功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="刷新和刷新功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d164838e8844">功能</th>
                                 <th align="left" valign="bottom" width="66%" id="d164838e8847">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8852" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="将已修改的持久对象刷新到服务器。">OCICacheFlush（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8852 d164838e8847 ">
                                    <p>将缓存中已修改的持久对象刷新到服务器</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8864" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="将修改后的持久对象刷新到服务器。">OCIObjectFlush（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8864 d164838e8847 ">
                                    <p>将修改后的持久对象刷新到服务器</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8876" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="刷新缓存中的所有固定持久对象。">OCICacheRefresh（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8876 d164838e8847 ">
                                    <p>刷新缓存中的固定持久对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8888" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="刷新最新数据库快照中的持久对象。">OCIObjectRefresh（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8888 d164838e8847 ">
                                    <p>刷新单个持久对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17023"></a><a id="LNOCI17022"></a><div class="props_rev_3"><a id="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" name="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE"></a><h4 id="LNOCI-GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" class="sect4"><span class="enumeration_section">22.3.3</span>关于标记和取消标记功能</h4>
                  <div>
                     <p>列出并描述标记和取消标记功能。</p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE__BGBCDJDH" title="该表有2列。第1列是函数名称，第2列描述其用途。">表22-5中</a>的函数允许应用程序通过修改其中一个元属性来标记或取消标记对象。
                     </p>
                     <div class="tblformal" id="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE__BGBCDJDH">
                        <p class="titleintable">表22-5标记和取消标记功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="标记和取消标记功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d164838e9108">功能</th>
                                 <th align="left" valign="bottom" width="58%" id="d164838e9111">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9116" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-307366DB-B9B1-44E7-A52E-03216F2FF73E" title="在给定对象的引用时，将对象标记为已删除。">OCIObjectMarkDeleteByRef（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9116 d164838e9111 ">
                                    <p>在给定<code class="codeph">REF</code>时标记删除的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9130" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="将持久对象标记为已更新（脏）。">OCIObjectMarkUpdate（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9130 d164838e9111 ">
                                    <p>将对象标记为已更新（脏）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9142" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-46497858-8E6C-4920-857C-83FFC8B0F7C1" title="在给定指向实例的指针时，将独立实例标记为已删除。">OCIObjectMarkDelete（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9142 d164838e9111 ">
                                    <p>标记删除的对象或删除值实例</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9154" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-BADD75E5-0C72-4364-911D-2DF59BF642C8" title="取消标记对象缓存中的所有脏对象。">OCICacheUnmark（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9154 d164838e9111 ">
                                    <p>取消标记缓存中的所有对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9166" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-41C686AE-4C80-4539-80AF-4150680A02A5" title="将对象取消标记为脏。">OCIObjectUnmark（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9166 d164838e9111 ">
                                    <p>将给定对象标记为已更新</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9178" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-3FA9AEC7-AECE-4FD0-8C97-7C47E14231E8" title="在给对象引用时，将对象取消标记为脏。">OCIObjectUnmarkByRef（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9178 d164838e9111 ">
                                    <p>给定<code class="codeph">REF</code>时，将对象标记为已更新</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17025"></a><a id="LNOCI17024"></a><div class="props_rev_3"><a id="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" name="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3"></a><h4 id="LNOCI-GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" class="sect4"><span class="enumeration_section">22.3.4</span>关于对象元属性访问器函数</h4>
                  <div>
                     <p>列出并描述元属性访问器功能。</p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3__BGBDBGJH" title="该表有2列。第1列是函数名称，第2列描述其用途。">表22-6中</a>的函数允许应用程序访问对象的元属性。
                     </p>
                     <div class="tblformal" id="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3__BGBDBGJH">
                        <p class="titleintable">表22-6对象元属性函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="对象元属性函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d164838e9403">功能</th>
                                 <th align="left" valign="bottom" width="61%" id="d164838e9406">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9411" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01" title="返回独立实例的存在元属性。">OCIObjectExists（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9411 d164838e9406 ">
                                    <p>获取实例的存在状态</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9423" headers="d164838e9403 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-22B229C0-369E-453E-A8D6-C7F7DBB1E80C" title="检索独立实例的NULL指示符结构。">OCIObjectGetInd（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9423 d164838e9406 ">
                                    <p>获取实例的null结构</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9438" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-9B96A7DF-BE19-4131-8B95-11063C060012" title="检查对象是否标记为脏。">OCIObjectIsDirty（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9438 d164838e9406 ">
                                    <p>对象是否已标记为已更新？</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9450" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" title="获取对象的锁定状态。">OCIObjectIsLocked（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9450 d164838e9406 ">
                                    <p>对象是否已锁定？</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17027"></a><a id="LNOCI17026"></a><div class="props_rev_3"><a id="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" name="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969"></a><h4 id="LNOCI-GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" class="sect4"><span class="enumeration_section">22.3.5</span>关于其他功能</h4>
                  <div>
                     <p>列出并描述其他功能。</p>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969__BGBDHJHB" title="该表有2列。第1列是函数名称，第2列描述其用途。">表22-7中的</a>函数为OCI应用程序提供了其他对象功能。
                     </p>
                     <div class="tblformal" id="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969__BGBDHJHB">
                        <p class="titleintable">表22-7其他对象函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="其他对象功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d164838e9671">功能</th>
                                 <th align="left" valign="bottom" width="61%" id="d164838e9674">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9679" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-73C98F89-47E5-4B82-B869-731F30F011B0" title="将源实例复制到目标。">OCIObjectCopy（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9679 d164838e9674 ">
                                    <p>将一个实例复制到另一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9691" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-487BE97C-C3CE-49C6-9E8D-62BFCE7980F5" title="返回对给定持久对象的引用。">OCIObjectGetObjectRef（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9691 d164838e9674 ">
                                    <p>返回对给定对象的引用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9703" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-9C83F766-C8A3-48A0-A7D5-2BF4037C2B32" title="返回对独立实例的类型描述符对象（TDO）的引用。">OCIObjectGetTypeRef（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9703 d164838e9674 ">
                                    <p>获取对实例的TDO的引用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9715" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="锁定服务器上的持久对象。">OCIObjectLock（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9715 d164838e9674 ">
                                    <p>锁定持久对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9727" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-F8C389C2-A5F0-4603-B260-BD932D4AC9C8" title="锁定服务器上的持久对象但不等待锁定。">OCIObjectLockNoWait（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9727 d164838e9674 ">
                                    <p>在NOWAIT模式下锁定对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9739" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9739 d164838e9674 ">
                                    <p>创建一个新实例</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="LNOCI17028"></a><div class="props_rev_3"><a id="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" name="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661"></a><h3 id="LNOCI-GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" class="sect3"><span class="enumeration_section">22.4</span>类型Evolution和对象缓存</h3>
               <div>
                  <p>当基于类型名称请求类型信息时，OCI返回与该类型的最新版本相对应的类型描述符对象（TDO）。</p>
                  <p>由于服务器和对象缓存之间没有同步，因此对象缓存中的TDO可能不是最新的。</p>
                  <p>在固定对象期间，图像的版本可能与TDO版本不同。然后，发出错误。您可以停止应用程序或刷新TDO并重新打开对象。继续应用程序可能会导致应用程序失败，因为即使映像和TDO版本相同，也无法保证应用程序中定义的对象结构（即C结构）与新类型版本兼容，尤其是当从服务器中的类型中删除属性时。</p>
                  <p>因此，当更改类型的结构时，必须重新生成已更改类型的头文件，修改其应用程序，重新编译和重新链接，然后再次执行该程序。</p>
                  <div class="infoboxnotealso" id="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661__GUID-5D0E2426-EC0B-4EEE-8FD2-830D96D0372D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-object-relational-programming.html#GUID-34071CB4-805F-4DFE-B2F3-2E51A5B312F9" title="支持添加，删除和修改类型属性。这个概念被称为类型演化。">关于Type Evolution</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>