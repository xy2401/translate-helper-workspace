<html id="01656.CTX_CLS-package.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_CLS包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_ANL-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_DDL-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_ANL-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_DDL-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_CLS包</li>
            </ol>
            <a id="GUID-44681511-E147-4380-87C2-08465E59DE28" name="GUID-44681511-E147-4380-87C2-08465E59DE28"></a><a id="CCREF1500"></a>
            
            <h2 id="CCREF-GUID-44681511-E147-4380-87C2-08465E59DE28" class="sect2"><span class="enumeration_chapter">7</span> CTX_CLS包</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含以下主题。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-97D05E53-0620-4BC4-B419-54B05A82F678">关于CTX_CLS包装程序</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F">培养</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3">聚类</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678" name="GUID-97D05E53-0620-4BC4-B419-54B05A82F678"></a><h3 id="CCREF-GUID-97D05E53-0620-4BC4-B419-54B05A82F678" class="sect3"><span class="enumeration_section">7.1</span>关于CTX_CLS包装程序</h3>
               <div>
                  <p><code class="codeph">CTX_CLS</code> PL / SQL包提供了生成定义文档类别的规则的过程，并使您能够执行文档分类。
                  </p>
                  <p></p>
                  <p>以下过程位于<code class="codeph">CTX_CLS</code> PL / SQL包中。
                  </p>
                  <div class="tblformal" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-8E191283-E871-4666-9EBC-05520659C47A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes CTX_CLS Package Procedures." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d80497e158">名称</th>
                              <th align="left" valign="bottom" width="71%" id="d80497e162">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e167" headers="d80497e158 ">
                                 <p><a href="CTX_CLS-package.html#GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F">培养</a></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d80497e167 d80497e162 ">
                                 <p>生成定义文档类别的规则。基于输入培训文档集的输出。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e176" headers="d80497e158 ">
                                 <p><a href="CTX_CLS-package.html#GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3">聚类</a></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d80497e176 d80497e162 ">
                                 <p>为文档集合生成集群。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e185" headers="d80497e158 "><a href="CTX_CLS-package.html#GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" title="使用此过程训练情绪分类器。您必须提供由分类文档组成的训练集来训练情绪分类器。文档可以是Oracle Text支持的任何格式，并且必须属于一个或多个类别。">SA_TRAIN_MODEL</a></td>
                              <td align="left" valign="top" width="71%" headers="d80497e185 d80497e162 ">训练情绪分类器。</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e194" headers="d80497e158 "><a href="CTX_CLS-package.html#GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" title="使用此过程删除现有情绪分类器。">SA_DROP_MODEL</a></td>
                              <td align="left" valign="top" width="71%" headers="d80497e194 d80497e162 ">删除现有的情绪分类器。</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-FEF107EA-06BD-4D47-AF74-C25522C94A74">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">CTX_CLS</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-97C254CC-ECAC-409D-8796-2A23C4B3CCE8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关文档分类的更多信息，请参阅<a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
               </div>
            </div><a id="CCREF2097"></a><div class="props_rev_3"><a id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F" name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F"></a><h3 id="CCREF-GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F" class="sect3"><span class="enumeration_section">7.2</span>火车</h3>
               <div>
                  <div class="section">
                     <p>使用此过程可生成选择文档类别的查询规则。您必须提供由分类文档组成的培训集。文档可以是Oracle Text支持的任何格式，并且必须属于一个或多个类别。此过程生成定义类别的查询，然后将结果写入表。</p>
                     <p>您还必须具有文档表和类别表。类别表必须至少包含两个类别。</p>
                     <p>例如，您的文档和类别表可以定义为：</p><pre class="oac_no_warn" dir="ltr">创建table trainingdoc（</pre><pre class="oac_no_warn" dir="ltr">docid number primary key，text varchar2（4000））;</pre><pre class="oac_no_warn" dir="ltr">创建表类别（</pre><pre class="oac_no_warn" dir="ltr">docid trainingdoc（docid），categoryid number）;</pre><p>您可以根据所需的分类算法使用两种语法之一。查询兼容语法使用<code class="codeph">RULE_CLASSIFIER</code>首选项并生成规则作为查询字符串。<span class="italic">支持向量机语法</span>使用<code class="codeph">SVM_CLASSIFER</code>首选项并以二进制格式生成规则。<code class="codeph">SVM_CLASSIFIER</code>有利于高分类精度，但由于其规则是以二进制格式生成的，因此无法像使用<code class="codeph">RULE_CLASSIFIER</code>生成的查询字符串那样检查它们。请注意，只有出现在文档表和类别表中的文档ID才会影响<code class="codeph">RULE_CLASSIFIER</code>和<code class="codeph">SVM_CLASSIFIER</code>学习。
                     </p>
                     <p><code class="codeph">CTX_CLS.TRAIN</code>过程要求您的文档表具有关联的上下文索引。为获得最佳结果，应在运行此过程之前同步索引。<code class="codeph">SVM_CLASSIFIER</code>语法允许使用未填充的上下文索引，而与查询兼容的语法要求填充上下文索引。
                     </p>
                     <div class="infoboxnote" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-5DB04990-0F93-4FF8-957B-DF406FA0A965">
                        <p class="notep1">注意：</p>
                        <p>降级数据库时，必须删除使用<code class="codeph">TRAIN</code>在Oracle Database 12 <span class="italic">c</span>第2版（12.2）中创建的任何模型。这些模型与早期版本不兼容。如果在降级之前未删除模型，则会发生以下错误：ORA-40350：存在一个或多个无法降级的模型。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-3AB28254-FB23-4534-871F-24A6B3222C66">
                        <p class="notep1">也可以看看：</p>
                        <p>有关文档分类的更多信息，请<a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">参阅Oracle Text Application Developer's Guide</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-2FFAB449-F80A-492C-BE29-10391B5B6B4D">查询兼容语法</p>
                     <p>以下语法生成与查询兼容的规则，并与<a href="oracle-text-indexing-elements.html#GUID-AFF1EFBE-CC4F-4394-9353-35542C52D6B3">RULE_CLASSIFIER</a>首选项一起使用。当不同类别通过几个关键字与其他类别分开时，请使用此语法和首选项。将规则生成为查询字符串的一个优点是可以轻松检查生成的规则。这与生成二进制格式的SVM规则不同。
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.TRAIN（</pre><pre class="oac_no_warn" dir="ltr">varchar2中的index_name，varchar2中的docid，varchar2中的cattab，varchar2中的catdoc，varchar2中的catid，varchar2中的restab，varchar2中的rescati，varchar2中的resquery，varchar2中的resconfid，varchar2中的首选项DEFAULT NULL</pre><pre class="oac_no_warn" dir="ltr">）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-7D8807D5-CFDA-4865-9CF4-19B76BDEA279"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与文档培训集关联的上下文索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-FC128559-C30F-4235-A514-B58D5B74281C"><!-- --></a> docid</dt>
                        <dd>
                           <p>在文档表中指定文档ID列的名称。此列中的文档ID必须是唯一的，并且此列的数据类型必须为<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0-4294967295范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-FAE513B4-EAFB-4F34-A542-FAC57E15949B"><!-- --></a> cattab</dt>
                        <dd>
                           <p>指定类别表的名称。您必须具有此表的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。（有关<code class="codeph">READ</code>权限的信息，请参阅“ <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG992" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B627FB04-1196-48AC-AA00-DE6685813575"><!-- --></a> catdocid</dt>
                        <dd>
                           <p>在类别表中指定文档ID列的名称。此表中的文档ID也必须存在于文档表中。此列必须是<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0-4294967295范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-532EE42C-1523-4EAF-A6B3-1A3562F504DD"><!-- --></a> catid</dt>
                        <dd>
                           <p>在类别表中指定类别ID列的名称。此列必须是<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0-4294967295范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B6ECE53E-2155-433E-BC27-ACBE9C529CCD"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定结果表的名称。您必须对此表具有<code class="codeph">INSERT</code>权限。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-7AB41FFD-FD02-4107-B28C-B1782A9077C4"><!-- --></a> rescatid</dt>
                        <dd>
                           <p>在结果表中指定类别ID列的名称。此列必须是<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0-4294967295范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-2B74E3D7-AEEC-407B-AD08-4AEFE8C840D2"><!-- --></a> resquery</dt>
                        <dd>
                           <p>在结果表中指定查询列的名称。此列必须是<code class="codeph">VARACHAR2</code> ， <code class="codeph">CHAR,</code> <code class="codeph">CLOB</code> ， <code class="codeph">NVARCHAR2</code>或<code class="codeph">NCHAR</code> 。</p>
                           <p>此列中生成的查询将术语与<code class="codeph">AND</code>或<code class="codeph">NOT</code>运算符连接，例如：</p><pre class="oac_no_warn" dir="ltr">'T1＆T2~T3'</pre><p>术语也可以是主题令牌并与<code class="codeph">ABOUT</code>运算符连接，例如：</p><pre class="oac_no_warn" dir="ltr">'约（T1）＆约（T2）〜约（T3）'</pre><p>生成的规则还支持对字段部分的<code class="codeph">WITHIN</code>查询。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-11B7DF17-13D3-4A22-B7E4-B41934A1E75F"><!-- --></a> resconfid</dt>
                        <dd>
                           <p>在结果表中指定置信度列的名称。此列包含培训数据的估计概率，如果该文档满足查询，则该文档与文档相关。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B35DE8B8-C184-4BD9-9BA7-B2B3C3784773"><!-- --></a>首选项</dt>
                        <dd>
                           <p>指定首选项的名称。有关分类器类型和属性，请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。">分类器类型</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-E72BE7CF-3BED-4865-951A-18F5E17E5F9D">支持向量机（SVM）规则的语法</p>
                     <p>支持向量机或SVM规则首选项以二进制格式生成规则。当您的应用程序需要高分类精度时，请使用此语法</p>
                     <p>以下语法使用<a href="oracle-text-indexing-elements.html#GUID-28CC450D-2DDF-4444-8BFD-A730B59A19DD">SVM_CLASSIFIER</a>首选项生成支持向量机（SVM）规则。
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.TRAIN（varchar2中的index_name，varchar2中的docid，varchar2中的cattab，varchar2中的catdocid，varchar2中的catid，varchar2中的restab，varchar2中的首选项）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-4D08DFCB-1C15-4B1E-B52F-F14DD5789ACE"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定文本索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-96D15098-A98C-4D74-9D0B-E99F20A92F9E"><!-- --></a> docid</dt>
                        <dd>
                           <p>在文档表中指定<code class="codeph">docid</code>列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-E569D6E2-2F24-49EB-A676-9FBE79C53F35"><!-- --></a> cattab</dt>
                        <dd>
                           <p>指定类别表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-C89B7503-9983-41BF-A44D-8F6DE1058DA2"><!-- --></a> catdocid</dt>
                        <dd>
                           <p>在类别表中指定<code class="codeph">docid</code>列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-660264E2-31F5-4ABF-900F-B75F66787EF6"><!-- --></a> catid</dt>
                        <dd>
                           <p>在类别表中指定类别ID列的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-8123FC7B-4CBB-47C4-841D-551D2820BD73"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定结果表的名称。</p>
                           <p>结果表格式如下：</p>
                           <div class="tblformal" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-8E9ED9C2-772C-4D25-9744-5DCC85A0F947">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes result table." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="32%" id="d80497e594">列名称</th>
                                       <th align="left" valign="bottom" width="32%" id="d80497e597">数据类型</th>
                                       <th align="left" valign="bottom" width="36%" id="d80497e600">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e605" headers="d80497e594 ">
                                          <p><code class="codeph">CAT_ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e605 d80497e597 ">
                                          <p><code class="codeph">数</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e605 d80497e600 ">
                                          <p>类别的ID。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e617" headers="d80497e594 ">
                                          <p><code class="codeph">类型</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e617 d80497e597 ">
                                          <p><code class="codeph">NUMBER（3）NOT NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e617 d80497e600 ">
                                          <p>0为实际规则或catid; 1为其他。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e629" headers="d80497e594 ">
                                          <p><code class="codeph">规则</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e629 d80497e597 ">
                                          <p><code class="codeph">BLOB</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e629 d80497e600 ">
                                          <p>返回的规则。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-33379416-936B-4C56-AD2E-C2328BDD862B"><!-- --></a>首选项</dt>
                        <dd>
                           <p>指定用户首选项的名称。有关分类器类型和属性，请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。">分类器类型</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                     <div class="infoboxnote" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-1F1731E3-53E5-4F6D-B5A8-1441E7416829">
                        <p class="notep1">注意：</p>
                        <p>列名不得以所有者，架构或表名为前缀。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-AD3FB2FD-A202-475D-B5BE-94C87D07C551">例</p>
                     <p><code class="codeph">CTX_CLS.TRAIN</code>过程用于监督分类。有关扩展示例，请参阅<a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2098"></a><div class="props_rev_3"><a id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3" name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3"></a><h3 id="CCREF-GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3" class="sect3"><span class="enumeration_section">7.3</span>聚类</h3>
               <div>
                  <div class="section">
                     <p>使用此过程可以聚集文档集合。<a id="d80497e773" class="indexterm-anchor"></a> <span class="italic">群集</span>是内容中彼此相似的一组文档。
                     </p>
                     <p>聚类结果集由<span class="italic">文档分配</span>和<span class="italic">集群描述组成</span> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>文档分配结果集显示每个文档与所有生成的叶簇的相关性。</p>
                        </li>
                        <li>
                           <p>群集描述结果集包含有关群集的主题的信息。此结果集标识群集，并包含群集描述文本，建议的群集标签和群集的质量分数。</p>
                        </li>
                     </ul>
                     <p>群集输出是分层的。仅对叶簇进行评分以与文档相关。生成更多集群需要更多的计算时间。使用<code class="codeph">KMEAN_CLUSTERING</code>集群类型的<code class="codeph">CLUSTER_NUM</code>属性指示生成的集群的上限（请参阅本章中的<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">集群类型</a> ”</span> ）。
                     </p>
                     <p>此过程有两个版本：一个具有表结果集，另一个具有内存中结果集。</p>
                     <p>聚类也称为<span class="italic">无监督分类</span> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-75571A78-83C7-432C-928D-C41E27B6FF81">
                        <p class="notep1">也可以看看：</p>
                        <p>有关群集和相关首选项的更多信息，请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">群集类型</a>以及<a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-C2AC3F61-1B73-46AE-ACD7-9E4CCEDE5AA0">语法：表结果集</p><pre class="oac_no_warn" dir="ltr">ctx_cls.clustering（index_name IN VARCHAR2，docid IN VARCHAR2，doctab_name IN VARCHAR2，clstab_name IN VARCHAR2，pref_name IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-34DE2EE0-C0F0-4C39-AF6E-912197B15A96"><!-- --></a> index_name</dt>
                        <dd>
                           <p>在集合表上指定上下文索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-4AA5DD4D-73B5-4932-A0E4-B2A78CA5CC87"><!-- --></a> docid</dt>
                        <dd>
                           <p>指定集合表的文档ID列的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-1DBBADBB-5B8B-48F5-A5D9-9616D9634914"><!-- --></a> doctab_name</dt>
                        <dd>
                           <p>指定文档分配表的名称。此过程使用以下结构创建表：</p><pre class="oac_no_warn" dir="ltr">doc_assign（docid number，clusterid number，score number）;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-2F5AE0FD-B3BA-4BB5-BD31-9EF84F1AAE07">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes document assignment table." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d80497e873">柱</th>
                                       <th align="left" valign="bottom" width="72%" id="d80497e876">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e881" headers="d80497e873 ">
                                          <p><code class="codeph">DOCID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e881 d80497e876 ">
                                          <p>用于标识文档的文档ID。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e889" headers="d80497e873 ">
                                          <p><code class="codeph">群ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e889 d80497e876 ">
                                          <p>与此文档关联的叶簇的ID。如果<code class="codeph">CLUSTERID</code>为-1，则集群包含“杂项”文档;例如，无法分配给任何其他群集类别的文档。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e900" headers="d80497e873 ">
                                          <p><code class="codeph">得分了</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e900 d80497e876 ">
                                          <p>文档与群集之间的关联分数。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果需要更多列，请在调用此过程之前创建表。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-B555C060-9F03-49BB-A595-D3E15E525955"><!-- --></a> clstab_name</dt>
                        <dd>
                           <p>指定群集描述表的名称。此过程使用以下结构创建表：</p><pre class="oac_no_warn" dir="ltr">cluster_desc（clusterid NUMBER，descript VARCHAR2（4000），label VARCHAR2（200），sze NUMBER，quality_score NUMBER，parent NUMBER）;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-58D16DE1-5B36-4535-BC2B-8196A41494F4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes cluster description table." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="29%" id="d80497e925">柱</th>
                                       <th align="left" valign="bottom" width="71%" id="d80497e928">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e933" headers="d80497e925 ">
                                          <p><code class="codeph">群ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e933 d80497e928 ">
                                          <p>用于标识群集的群集ID。如果<code class="codeph">CLUSTERID</code>为-1，则集群包含“杂项”文档;例如，无法分配给任何其他群集类别的文档。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e944" headers="d80497e925 ">
                                          <p><code class="codeph">DESCRIPT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e944 d80497e928 ">
                                          <p>用于描述集群的字符串。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e952" headers="d80497e925 ">
                                          <p><code class="codeph">标签</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e952 d80497e928 ">
                                          <p>群集的建议标签。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e960" headers="d80497e925 ">
                                          <p><code class="codeph">SZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e960 d80497e928 ">
                                          <p>该参数目前没有任何价值。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e968" headers="d80497e925 ">
                                          <p><code class="codeph">QUALITY_SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e968 d80497e928 ">
                                          <p>群集的质量得分。数字越大表示更大的一致性。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e976" headers="d80497e925 ">
                                          <p><code class="codeph">家长</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e976 d80497e928 ">
                                          <p>父集群ID。零意味着没有父集群。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果需要更多列，请在调用此过程之前创建表。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-9AB8CD92-1A01-4B87-808C-DB01989B2498"><!-- --></a> pref_name</dt>
                        <dd>
                           <p>指定首选项的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-C787972A-E1AB-488E-AD88-36048392D225">语法：内存中结果集</p>
                     <p>将结果集放入内存结构中以获得更好的性能。<code class="codeph">CTX_CLS</code>包中定义了两个内存表，分别用于文档分配和集群描述。
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.CLUSTERING（index_name IN VARCHAR2，docid IN VARCHAR2，dids IN DOCID_TAB，doctab_name IN OUT NOCOPY DOC_TAB，clstab_name IN OUT NOCOPY CLUSTER_TAB，pref_name IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-A726D17F-C164-451F-AD68-F459305C2036"><!-- --></a> index_name</dt>
                        <dd>
                           <p>在集合表上指定上下文索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-05408E09-EA47-4B5F-97EE-D0D3212ADC6D"><!-- --></a> docid</dt>
                        <dd>
                           <p>指定集合表的文档ID列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-E71DA671-F986-4DA2-B917-6B020DFA13B5"><!-- --></a> dids</dt>
                        <dd>
                           <p>指定内存中<code class="codeph">docid_tab</code>的名称。
                           </p><pre class="oac_no_warn" dir="ltr">TYPE docid_tab是数字索引表BINARY_INTEGER;</pre></dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-49296F67-22C8-421F-A4EA-F684D29F1938"><!-- --></a> doctab_name</dt>
                        <dd>
                           <p>在内存表中指定文档分配的名称。该表定义如下：</p><pre class="oac_no_warn" dir="ltr">TYPE doc_rec是RECORD（docid NUMBER，clusterid NUMBER，得分NUMBER）TYPE doc_tab是DOC_rec索引表BINARY_INTEGER;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-97114A06-FEC7-423E-9259-4D90243E5758">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes document assignment in-memory table." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d80497e1041">柱</th>
                                       <th align="left" valign="bottom" width="72%" id="d80497e1044">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1049" headers="d80497e1041 ">
                                          <p><code class="codeph">DOCID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1049 d80497e1044 ">
                                          <p>用于标识文档的文档ID。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1057" headers="d80497e1041 ">
                                          <p><code class="codeph">群ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1057 d80497e1044 ">
                                          <p>与此文档关联的叶簇的ID。如果<code class="codeph">CLUSTERID</code>为-1，则集群包含“杂项”文档;例如，无法分配给任何其他群集类别的文档。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1068" headers="d80497e1041 ">
                                          <p><code class="codeph">得分了</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1068 d80497e1044 ">
                                          <p>文档与群集之间的关联分数。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-FD11D484-AA33-4E86-B7CD-42313F36EC2E"><!-- --></a> cls_tab</dt>
                        <dd>
                           <p>在内存表中指定集群描述的名称。</p><pre class="oac_no_warn" dir="ltr">TYPE cluster_rec是RECORD（clusterid NUMBER，描述VARCHAR2（4000），标签VARCHAR2（200），sze NUMBER，quality_score NUMBER，父NUMBER）; TYPE cluster_tab IS TABLE OF cluster_rec INDEX BY BINARY_INTEGER;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-FF9E3F5A-E53A-468B-BF29-BF43D341BE10">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes cluster description in-memory table." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="27%" id="d80497e1091">柱</th>
                                       <th align="left" valign="bottom" width="73%" id="d80497e1094">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1099" headers="d80497e1091 ">
                                          <p><code class="codeph">群ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1099 d80497e1094 ">
                                          <p>用于标识群集的群集ID。如果<code class="codeph">CLUSTERID</code>为-1，则集群包含“杂项”文档;例如，无法分配给任何其他群集类别的文档。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1110" headers="d80497e1091 ">
                                          <p><code class="codeph">DESCRIPT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1110 d80497e1094 ">
                                          <p>用于描述集群的字符串。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1118" headers="d80497e1091 ">
                                          <p><code class="codeph">标签</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1118 d80497e1094 ">
                                          <p>群集的建议标签。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1126" headers="d80497e1091 ">
                                          <p><code class="codeph">SZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1126 d80497e1094 ">
                                          <p>该参数目前没有任何价值。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1134" headers="d80497e1091 ">
                                          <p><code class="codeph">QUALITY_SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1134 d80497e1094 ">
                                          <p>群集的质量得分。数字越大表示更大的一致性。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1142" headers="d80497e1091 ">
                                          <p><code class="codeph">家长</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1142 d80497e1094 ">
                                          <p>父集群ID。零意味着没有父集群。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-5F7D8AC0-B303-4793-9D6C-EE52CCF43CB0"><!-- --></a> pref_name</dt>
                        <dd>
                           <p>指定首选项的名称。有关集群类型和属性，请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">集群类型</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-03541668-FBCD-4FA4-BCB5-6AEB65617444">例</p>
                     <div class="infoboxnotealso" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-EB5F5473-FF70-4CB9-977E-FA15B5407AB6">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用群集的示例，请参阅<a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D"></a><h3 id="CCREF-GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" class="sect3"><span class="enumeration_section">7.4</span> SA_TRAIN_MODEL</h3>
               <div>
                  <p>使用此过程训练情绪分类器。您必须提供由分类文档组成的训练集来训练情绪分类器。文档可以是Oracle Text支持的任何格式，并且必须属于一个或多个类别。</p>
                  <div class="section">
                     <p></p>
                     <p>Oracle Text首先验证训练集表和提供的类别。从训练集文档中提取的特征用于训练情绪分类器。创建规则表并使用在训练情绪分类器之后生成的规则填充规则表。情绪分类器使用这些规则来执行情绪分析。还构建了规则表上的<code class="codeph">CTXRULE</code>索引。
                     </p>
                     <div class="infoboxnote" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-EA1E506A-9121-43CC-ACDF-22DB6AA03DE2">
                        <p class="notep1">注意：</p>
                        <p>降级数据库时，必须使用<code class="codeph">SA_TRAIN_MODEL</code>删除在Oracle Database 12 <span class="italic">c</span>第2版（12.2）中创建的任何模型。这些模型与早期版本不兼容。如果在降级之前未删除模型，则会发生以下错误：ORA-40350：存在一个或多个无法降级的模型。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-1DC6F0FC-80FD-4779-A26A-342D41CF5D20">句法</p><pre class="pre codeblock"><code>SA_TRAIN_MODEL（clsfier_name IN VARCHAR2，index_name IN VARCHAR2，docid IN VARCHAR2，cattab IN VARCHAR2，cat_docid IN VARCHAR2，catid IN VARCHAR2，pref_name IN VARCHAR2）;</code></pre><dl class="0.63* 3.37*">
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB"><!-- --></a> <span class="bold">clsfier_name</span></dt>
                        <dd>
                           <p>指定必须训练的情绪分类器的名称。情感分类器名称的最大长度为24个字节。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-F744F062-4F26-4D51-B35E-EFF7BB56130C"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与文档培训集关联的文本索引的名称。这是在训练情绪分类器之前必须在训练数据上创建的<code class="codeph">CONTEXT</code>索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-BB1F17A0-C69F-44E4-B473-BF94D750190D"><!-- --></a> docid</dt>
                        <dd>
                           <p>在文档培训集中指定文档ID列的名称。此列中的文档ID必须是唯一的，并且此列的数据类型必须为<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0到4294967295的范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-C5351C8F-383C-4BB5-B519-4934749AB4BA"><!-- --></a> cattab</dt>
                        <dd>
                           <p>指定包含训练集文档的真实标签的类别表的名称。此表应包含用于训练情绪分类器的<code class="codeph">catid</code>映射的<code class="codeph">docid</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-5BDD9548-F165-40F9-8C2E-2AB6E0A39461"><!-- --></a> catdocid</dt>
                        <dd>
                           <p>在类别表中指定文档ID列的名称。此表中的文档ID也必须存在于文档表中。此列必须是<code class="codeph">NUMBER</code> 。此列的值必须存储在无符号的32位整数中，且必须在0到4294967295的范围内。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-D944D434-0C43-4797-B796-ECDC1073BB7F"><!-- --></a> catid</dt>
                        <dd>在类别表中指定类别ID列的名称。此列必须是<code class="codeph">NUMBER</code> 。此列的值可以是0,1或2. 0代表中性，1代表正数，2代表负数。
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-287D5F04-B9C7-4E0E-ABA9-A7B7ABFA0907"><!-- --></a> pref_name</dt>
                        <dd>指定<code class="codeph">SENTIMENT_CLASSIFIER</code>类型的情绪分类器首选项的名称，该名称用于训练情绪分类器。如果未提供名称，则使用默认情绪分类器<code class="codeph">CTXSYS.DEFAULT_SENT_CLASSIFIER</code> 。
                        </dd>
                     </dl>
                     <div class="infoboxnotealso" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-760845F4-544E-4734-8EDD-A924DC954267">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用<code class="codeph">SA_TRAIN_MODEL</code>过程的示例，请<code class="codeph">SA_TRAIN_MODEL</code> <a href="../ccapp/performing-sentiment-analysis-using-oracle-text.html#CCAPP-GUID-7F1B2D64-7F7F-436F-81D3-7C8D18E956BE" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" name="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C"></a><h3 id="CCREF-GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" class="sect3"><span class="enumeration_section">7.5</span> SA_DROP_MODEL</h3>
               <div>
                  <p>使用此过程删除现有情绪分类器。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C__GUID-DACEF22A-A28D-415B-AD94-4002E9F2911B">句法</p>
                     <p></p><pre class="pre codeblock"><code>SA_DROP_MODEL（clsfier_name IN VARCHAR2）;</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB"><!-- --></a> clsfier_name</dt>
                        <dd>
                           <p>指定必须删除的情绪分类器的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00142.clauses-used-in-functions-and-conditions-for-json.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Clauses RETURNING, wrapper, error, and empty-field are described. Each is used in one or more of the SQL functions and conditions json_value, json_query, json_table, json_serialize, json_mergepatch, is json, is not json, json_exists, and json_equal."></meta>
      <meta name="description" content="Clauses RETURNING, wrapper, error, and empty-field are described. Each is used in one or more of the SQL functions and conditions json_value, json_query, json_table, json_serialize, json_mergepatch, is json, is not json, json_exists, and json_equal."></meta>
      <title>SQL查询函数和条件中使用的子句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JSON Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Clauses RETURNING, wrapper, error, and empty-field are described. Each is used in one or more of the SQL functions and conditions json_value, json_query, json_table, json_serialize, json_mergepatch, is json, is not json, json_exists, and json_equal."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JSON Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00"></meta>
      <meta name="dcterms.title" content="JSON Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2015, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96227-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="json-path-expressions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="condition-JSON_EXISTS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="json-path-expressions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="condition-JSON_EXISTS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-json-data.html" property="item" typeof="WebPage"><span property="name">查询JSON数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL查询函数和条件中使用的子句</li>
            </ol>
            <a id="GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" name="GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB"></a>
            
            <h2 id="ADJSN-GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" class="sect2">SQL查询函数和条件中使用的<span class="enumeration_chapter">14个</span>子句</h2>
         </header>
         <div class="ind">
            <div>
               <p>描述了<code class="codeph">RETURNING</code> ，包装器，错误和空字段。每个用于一个或多个SQL函数和条件<code class="codeph">json_value</code> ， <code class="codeph">json_query</code> ， <code class="codeph">json_table</code> ， <code class="codeph">json_serialize</code> ， <code class="codeph">json_mergepatch</code> ， <code class="codeph">is json</code> ， <code class="codeph">is not json</code> ， <code class="codeph">json_exists</code>和<code class="codeph">json_equal</code> 。
               </p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2">SQL查询函数的RETURNING子句</a><br>SQL函数<code class="codeph">json_value</code> ， <code class="codeph">json_query</code> ， <code class="codeph">json_serialize</code>和<code class="codeph">json_mergepatch</code>接受一个可选的<span class="bold"><code class="codeph">RETURNING</code></span>子句，它指定由该函数返回的值的数据类型。此处描述了此子句和默认行为（无<code class="codeph">RETURNING</code>子句）。
                  </li>
                  <li class="ulchildlink"><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317">SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</a><br>SQL / JSON查询函数<code class="codeph">json_query</code>和<code class="codeph">json_table</code>接受一个可选的包装子句，它指定<code class="codeph">json_query</code>返回的值的形式或用于<code class="codeph">json_table</code>列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。
                  </li>
                  <li class="ulchildlink"><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-55344240-B1F0-490A-89BF-1526FA0546D4">SQL查询函数和条件的错误子句</a><br>某些SQL查询函数和条件接受可选的错误子句，该子句指定处理由函数或条件引发的运行时错误。此处总结了此子句和默认行为（无错误子句）。
                  </li>
                  <li class="ulchildlink"><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443">SQL / JSON查询函数的空字段子句</a><br>SQL / JSON查询函数<code class="codeph">json_value</code> ， <code class="codeph">json_query</code>和<code class="codeph">json_table</code>接受可选的<span class="bold"><code class="codeph">ON EMPTY</code></span>子句，该子句指定在查询的数据中不存在目标JSON字段时要使用的处理。此处描述了此子句和默认行为（无<code class="codeph">ON EMPTY</code>子句）。
                  </li>
                  <li class="ulchildlink"><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290">关于JSON_VALUE的MISMATCH子句</a><br>当<code class="codeph">RETURNING</code>子句指定用户定义的对象类型或集合类型实例时，函数<code class="codeph">json_value</code>接受可选的<span class="bold"><code class="codeph">ON MISMATCH</code></span> <code class="codeph">json_value</code>子句，该子句指定在目标JSON值与指定的SQL返回值不匹配时使用的处理。此处描述了此子句及其默认行为（无<code class="codeph">ON MISMATCH</code>子句）。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="query-json-data.html#GUID-119E5069-77F2-45DC-B6F0-A1B312945590" title="您可以使用简单的点表示法查询JSON数据，或者，对于更多功能，使用SQL / JSON函数和条件。您可以创建和查询数据指南，该指南汇总了一组JSON文档的结构和类型信息。">查询JSON数据</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6375"></a><div class="props_rev_3"><a id="GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" name="GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2"></a><h3 id="ADJSN-GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" class="sect3"><span class="enumeration_section">14.1</span> SQL查询函数的RETURNING子句</h3>
               <div>
                  <p>SQL函数<code class="codeph">json_value</code> ， <code class="codeph">json_query</code> ， <code class="codeph">json_serialize</code>和<code class="codeph">json_mergepatch</code>接受一个可选的<span class="bold"><code class="codeph">RETURNING</code></span>子句，它指定由该函数返回的值的数据类型。此处描述了此子句和默认行为（无<code class="codeph">RETURNING</code>子句）。
                  </p>
                  <div class="section">
                     <p>对于<code class="codeph">json_value</code> ，您可以在任何正在使用的这些预定义的SQL数据类型的<code class="codeph">RETURNING</code>子句： <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP WITH TIME ZONE</code> ， <code class="codeph">SDO_GEOMETRY</code>和<code class="codeph">CLOB</code> 。您还可以使用用户定义的对象类型或集合类型。
                     </p>
                     <div class="infoboxnote" id="GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2__GUID-9A783CEB-AB8F-42C2-9710-64FDB57B9C3A">
                        <p class="notep1">注意：</p>
                        <p>Oracle SQL数据类型<code class="codeph">DATE</code>的实例可以包括时间组件。在您的JSON数据中，您可以使用表示ISO 8601日期与时间值的字符串，也就是说，它可以具有时间组件。但是<code class="codeph">json_value</code> <span class="bold"><code class="codeph">RETURNING DATE</code></span> <code class="codeph">json_value</code>总是返回一个<span class="italic">ANSI</span> <code class="codeph">DATE</code>值，该值是<span class="italic">ANSI日期</span> ，也就是说，该值<span class="italic">没有时间组件</span> 。
                        </p>
                        <p>要返回具有时间组件的SQL <code class="codeph">DATE</code>值，请使用<span class="bold"><code class="codeph">RETURNING TIMESTAMP</code></span> ，然后<span class="italic">将</span>返回的值<span class="bold"><code class="codeph">RETURNING TIMESTAMP</code></span>为<code class="codeph">DATE</code> 。例如：</p><pre class="pre codeblock"><code>SELECT <span class="bold">铸造</span> （json_value（ '{ “一个”： <span class="bold">“2019-01-02T12：34：56”}'，</span> '$ .A'返回<span class="bold">时间戳</span> <span class="bold">）AS DATE）FROM</span> DUAL;</code></pre></div>
                     <p>对于<code class="codeph">json_query</code> ， <code class="codeph">json_serialize</code>和<code class="codeph">json_mergepatch</code>您可以使用<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> 。 <code class="codeph">BLOB</code>结果在AL32UTF8字符集中。无论<code class="codeph">json_serialize</code>返回什么数据类型，返回的数据都代表文本JSON数据。
                     </p>
                     <p>您可以选择指定<code class="codeph">VARCHAR2</code>的长度（默认值： <code class="codeph">4000</code> ）以及<code class="codeph">NUMBER</code>的精度和比例。</p>
                     <p>默认行为（无<code class="codeph">RETURNING</code>子句）是使用<code class="codeph">VARCHAR2(4000)</code> 。
                
                     </p>
                     <p>数据类型<code class="codeph">SDO_GEOMETRY</code>用于Oracle Spatial和Graph数据。特别是，这意味着您可以将<code class="codeph">json_value</code>与GeoJSON数据一起使用，GeoJSON数据是一种用于在JSON中编码地理数据的格式。</p>
                     <p><code class="codeph">RETURNING</code>子句还接受两个可选关键字<code class="codeph">PRETTY</code>和<code class="codeph">ASCII</code> 。如果两者都存在，则<code class="codeph">PRETTY</code>必须在<code class="codeph">ASCII</code>之前。 <code class="codeph">json_value</code>不允许使用关键字<code class="codeph">PRETTY</code> 。
                     </p>
                     <p>关键字<span class="bold"><code class="codeph">PRETTY</code></span>的作用是通过插入换行符和缩进来漂亮打印返回的数据。默认行为不是漂亮的打印。
                     </p>
                     <p>关键字<span class="bold"><code class="codeph">ASCII</code></span>的作用是使用标准ASCII Unicode转义序列自动转义返回数据中的所有非ASCII Unicode字符。默认行为是不转义非ASCII Unicode字符。
                     </p>
                     <div class="infobox-tip" id="GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2__GUID-3F6DAB52-5AFE-409C-91FB-EDCF78888340">
                        <p class="notep1">小费：</p>
                        <p>您可以通过仅使用<code class="codeph">$</code>作为路径表达式来打印整个上下文项。
                        </p>
                     </div>
                     <p>如果在<code class="codeph">RETURNING</code>子句中指定了<code class="codeph">VARCHAR2</code> ，则值中的标量表示如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>布尔值由小写字符串<code class="codeph">"true"</code>和<code class="codeph">"false"</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">null</code>值由SQL <code class="codeph">NULL</code>表示。</p>
                        </li>
                        <li>
                           <div class="p">JSON编号以规范形式表示。因此，它可以在输出字符串中与其在文本输入数据中的表示不同。以规范形式表示时：<ul style="list-style-type:disc">
                                 <li>
                                    <p>它可能受SQL <code class="codeph">NUMBER</code>的精度和范围限制。</p>
                                 </li>
                                 <li>
                                    <div class="p">如果它不受SQL <code class="codeph">NUMBER</code>限制：<ul style="list-style-type:disc">
                                          <li>
                                             <p>精度限制为四十（40）位。</p>
                                          </li>
                                          <li>
                                             <p>可选指数限制为九（9）位加上符号（ <code class="codeph">+</code>或<code class="codeph">-</code> ）。
                                             </p>
                                          </li>
                                          <li>
                                             <p>整个文本，包括可能的符号（ <code class="codeph">-</code> ， <code class="codeph">+</code> ），小数点（ <code class="codeph">.</code> ）和指数指示符（ <code class="codeph">E</code> ），限制为48个字符。
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                           <p>JSON编号的<strong class="term">规范形式</strong> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是JSON号码。（它可以作为数字在JSON数据中解析。）</p>
                              </li>
                              <li>
                                 <p>没有前导加号（ <code class="codeph">+</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p>有一个小数点（ <code class="codeph">.</code> ）只在必要时。
                                 </p>
                              </li>
                              <li>
                                 <p>如果数字是一个分数（在0和1之间），则在小数点前有一个零（ <code class="codeph">0</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p>仅在必要时使用指数表示法（ <code class="codeph">E</code> ）。特别地，这可以是这种情况，如果输出字符的数目太有限（由小<code class="codeph"><span class="codeinlineitalic">N</span></code>为<code class="codeph">VARCHAR2( <span class="codeinlineitalic">N</span> )</code>
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>当返回数据类型为<code class="codeph">VARCHAR2( <span class="codeinlineitalic">N</span> )</code> ，Oracle通过在数据类型之后立即允许可选关键字<code class="codeph"><span class="bold">TRUNCATE</span></code>扩展SQL / JSON标准。当<code class="codeph">TRUNCATE</code>存在且要返回的值大于<code class="codeph"><span class="codeinlineitalic">N</span></code> ，该值将被截断 - 仅返回前<code class="codeph"><span class="codeinlineitalic">N</span></code>字符。如果缺少<code class="codeph">TRUNCATE</code> ，则将此情况视为错误，通常由错误子句或默认错误处理行为处理。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-55344240-B1F0-490A-89BF-1526FA0546D4" title="某些SQL查询函数和条件接受可选的错误子句，该子句指定处理由函数或条件引发的运行时错误。此处总结了此子句和默认行为（无错误子句）。">SQL查询函数和条件的错误子句</a></li>
                        <li><a href="function-JSON_VALUE.html#GUID-622170D8-7BAD-4F5F-86BF-C328451FC3BE" title="您可以使用SQL / JSON函数json_value来实例化用户定义的SQL对象类型或集合类型的实例。您可以通过在路径表达式中定位JSON对象或数组并分别在RETURNING子句中指定对象或集合类型来执行此操作。">使用JSON_VALUE实例化用户定义的对象类型实例</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2__GUID-951909CB-055A-4427-8BA7-578C14742C55">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关SQL数据类型<code class="codeph">DATE</code>和<code class="codeph">TIMESTAMP</code>信息，请<a href="../sqlrf/Data-Types.html#SQLRF-GUID-7690645A-0EE3-46CA-90DE-C96DF5A01F8F" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关SQL数据类型<code class="codeph">NUMBER</code>信息，请<a href="../sqlrf/Data-Types.html#SQLRF-GUID-75209AF6-476D-4C44-A5DC-5FA70D701B78" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>
                              <a href="../spatl/spatial-concepts.html#SPATL-GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F" target="_blank"><span><cite>Oracle Spatial and Graph Developer's Guide</cite></span></a> ，了解有关使用Oracle Spatial和Graph数据的信息</p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=geojson_org" target="_blank">GeoJSON.org</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" title="描述了RETURNING，包装器，错误和空字段。每个用于一个或多个SQL函数和条件json_value，json_query，json_table，json_serialize，json_mergepatch，是json，不是json，json_exists和json_equal。">SQL查询函数和条件中使用的子句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6285"></a><a id="ADXDB6376"></a><div class="props_rev_3"><a id="GUID-9079CD9C-3783-4857-9F6B-84D746C91317" name="GUID-9079CD9C-3783-4857-9F6B-84D746C91317"></a><h3 id="ADJSN-GUID-9079CD9C-3783-4857-9F6B-84D746C91317" class="sect3"><span class="enumeration_section">14.2</span> SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</h3>
               <div>
                  <p>SQL / JSON查询函数<code class="codeph">json_query</code>和<code class="codeph">json_table</code>接受一个可选的包装子句，它指定<code class="codeph">json_query</code>返回的值的形式或用于<code class="codeph">json_table</code>列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。
                  </p>
                  <div class="section">
                     <p>wrapper子句采用以下形式之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><code class="codeph">WITH WRAPPER</code></span> - 使用表示包含与路径表达式匹配的<span class="italic">所有</span> JSON值的JSON数组的字符串值。未指定数组元素的顺序。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">WITHOUT WRAPPER</code></span> - 使用表示与路径表达式匹配的<span class="italic">单个</span> JSON <span class="italic">对象</span>或<span class="italic">数组</span>的字符串值。如果路径表达式与标量值（不是对象或数组）或多个值匹配，则引发错误。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">WITH CONDITIONAL WRAPPER</code></span> - 使用表示与路径表达式匹配的<span class="italic">所有</span> JSON值的字符串值。对于零值，单个标量值或多个值， <code class="codeph">WITH CONDITIONAL WRAPPER</code> <code class="codeph">WITH WRAPPER</code>相同。对于单个JSON对象或数组值，它与<code class="codeph">WITHOUT WRAPPER</code>相同。</p>
                        </li>
                     </ul>
                     <p>默认行为是<code class="codeph">WITHOUT WRAPPER</code> 。</p>
                     <p>你可以在关键字<code class="codeph">WITH</code>之后立即添加可选关键字<span class="bold"><code class="codeph">UNCONDITIONAL</code></span> ，如果你发现它更清楚： <code class="codeph">WITH WRAPPER</code>和<code class="codeph">WITH UNCONDITIONAL WRAPPER</code>意味着同样的事情。
                     </p>
                     <p>您可以在关键字<code class="codeph">WRAPPER</code>之前添加可选关键字<span class="bold"><code class="codeph">ARRAY</code></span> ，如果您发现它更清晰： <code class="codeph">WRAPPER</code>和<code class="codeph">ARRAY WRAPPER</code>意味着相同的事情。
                     </p>
                     <p><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317__CACFFGGH" title="此4列表显示了JSON_QUERY包装子句示例。第1列列出了与路径表达式匹配的JSON值。第2列显示了包装器的值。第3列显示没有包装器的值。第4列显示了带条件包装器的值。">表14-1</a>说明了包装子句的可能性。数组包装器以<span class="bold"><code class="codeph">bold</code></span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9079CD9C-3783-4857-9F6B-84D746C91317__CACFFGGH">
                     <p class="titleintable">表14-1 JSON_QUERY包装器子句示例</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="JSON_QUERY包装器子句示例" width="100%" border="1" summary="This 4 column table shows JSON_QUERY wrapper clause examples. Column 1 lists JSON Values matching path expression. Column 2 shows values with a wrapper. Column 3 shows values without a wrapper. Column 4 shows values with a conditional wrapper." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d15223e810">JSON值匹配路径表达式</th>
                              <th align="left" valign="bottom" width="23%" id="d15223e813">用包装纸</th>
                              <th align="left" valign="bottom" width="27%" id="d15223e816">没有包装纸</th>
                              <th align="left" valign="bottom" width="26%" id="d15223e819">带有条件的包装纸</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d15223e824" headers="d15223e810 ">
                                 <p><code class="codeph">{"id": 38327}</code> （单个对象）</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d15223e824 d15223e813 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">{"id": 38327}</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d15223e824 d15223e816 ">
                                 <p><code class="codeph">{“id”：38327}</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d15223e824 d15223e819 ">
                                 <p><code class="codeph">{“id”：38327}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d15223e848" headers="d15223e810 ">
                                 <p><code class="codeph">[42, "a", true]</code> （单个数组）</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d15223e848 d15223e813 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">[42, "a", true]</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d15223e848 d15223e816 ">
                                 <p><code class="codeph">[42，“a”，true]</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d15223e848 d15223e819 ">
                                 <p><code class="codeph">[42，“a”，true]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d15223e872" headers="d15223e810 ">
                                 <p><code class="codeph">42</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d15223e872 d15223e813 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">42</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d15223e872 d15223e816 ">
                                 <p>错误（标量）</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d15223e872 d15223e819 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">42</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d15223e900" headers="d15223e810 ">
                                 <p><code class="codeph">42</code> ， <code class="codeph">"a"</code> ， <code class="codeph">true</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d15223e900 d15223e813 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">42, "a", true</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d15223e900 d15223e816 ">
                                 <p>错误（多个值）</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d15223e900 d15223e819 ">
                                 <p><span class="bold"><code class="codeph">[</code></span> <code class="codeph">42, "a", true</code> <span class="bold"><code class="codeph">]</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d15223e934" headers="d15223e810 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d15223e934 d15223e813 ">
                                 <p><span class="bold"><code class="codeph">[]</code></span></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d15223e934 d15223e816 ">
                                 <p>错误（没有值）</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d15223e934 d15223e819 ">
                                 <p><span class="bold"><code class="codeph">[]</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>例如，考虑使用<code class="codeph">json_query</code>查询来检索JSON对象。如果路径表达式匹配JSON标量值而不是对象，或者它匹配多个JSON值（任何类型），会发生什么？您可能希望检索匹配的值而不是引发错误。例如，您可能希望选择一个作为对象的值，以便进一步处理。使用数组包装器可以实现此目的。
                     </p>
                     <p>如果使用包装器的唯一原因是条件包装器可以方便地避免引发错误，并且您不需要将这些错误情况与非错误情况区分开来。如果您的应用程序正在查找单个对象或数组，并且路径表达式匹配的数据就是这样，那么就不需要在单例数组中包含该预期值。</p>
                     <p>另一方面，使用无条件包装器，您知道结果数组始终是包装器 - 您的应用程序可以依赖它。如果使用条件包装器，则应用程序可能需要额外的处理来解释返回的数组。例如，在<a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317__CACFFGGH" title="此4列表显示了JSON_QUERY包装子句示例。第1列列出了与路径表达式匹配的JSON值。第2列显示了包装器的值。第3列显示没有包装器的值。第4列显示了带条件包装器的值。">表14-1中</a> ，请注意，对于与该数组匹配的路径表达式的非常不同的情况以及与其每个元素匹配的路径表达式，返回相同的数组（ <code class="codeph">[42, "a", true]</code> ）。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" title="描述了RETURNING，包装器，错误和空字段。每个用于一个或多个SQL函数和条件json_value，json_query，json_table，json_serialize，json_mergepatch，是json，不是json，json_exists和json_equal。">SQL查询函数和条件中使用的子句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6377"></a><div class="props_rev_3"><a id="GUID-55344240-B1F0-490A-89BF-1526FA0546D4" name="GUID-55344240-B1F0-490A-89BF-1526FA0546D4"></a><h3 id="ADJSN-GUID-55344240-B1F0-490A-89BF-1526FA0546D4" class="sect3"><span class="enumeration_section">14.3</span> SQL查询函数和条件的错误子句</h3>
               <div>
                  <p>某些SQL查询函数和条件接受可选的错误子句，该子句指定处理由函数或条件引发的运行时错误。此处总结了此子句和默认行为（无错误子句）。</p>
                  <div class="section">
                     <p>默认情况下，JSON的SQL函数和条件可避免引发运行时错误。例如，当JSON数据在语法上无效时， <code class="codeph">json_exists</code>和<code class="codeph">json_equal</code>返回false， <code class="codeph">json_value</code>返回<code class="codeph">NULL</code> 。</p>
                     <p>但在某些情况下，您还可以指定一个错误子句，该子句会覆盖默认行为。您可以指定的错误处理各不相同，但允许您指定错误处理的JSON的每个SQL函数和条件至少支持引发错误的<code class="codeph">ERROR ON ERROR</code>行为。
                     </p>
                     <p>可选的错误子句可以采用以下形式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><code class="codeph">ERROR ON ERROR</code></span> - 提高错误（无特殊处理）。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">NULL ON ERROR</code></span> - 返回<code class="codeph">NULL</code>而不是引发错误。
                           </p>
                           <p><span class="italic">不适</span>用于<code class="codeph">json_exists</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">FALSE ON ERROR</code></span> - 返回false而不是引发错误。
                           </p>
                           <p><span class="italic">仅</span>适用于<code class="codeph">json_exists</code>和<code class="codeph">json_equal</code> ，它是<span class="italic">默认值</span> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">TRUE ON ERROR</code></span> - 返回true而不是引发错误。
                           </p>
                           <p><span class="italic">仅</span>适用于<code class="codeph">json_exists</code>和<code class="codeph">json_equal</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">EMPTY OBJECT ON ERROR</code></span> - 返回空对象（ <code class="codeph">{}</code> ）而不是引发错误。
                           </p>
                           <p><span class="italic">仅</span>适用于<code class="codeph">json_query</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">EMPTY ARRAY ON ERROR</code></span> - 返回一个空数组（ <code class="codeph">[]</code> ）而不是引发错误。
                           </p>
                           <p><span class="italic">仅</span>适用于<code class="codeph">json_query</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">EMPTY ON ERROR</code></span> - 与<code class="codeph">EMPTY ARRAY ON ERROR</code>相同。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">DEFAULT '</code></span> <span class="italic"><code class="codeph">literal_return_value</code></span> <span class="bold"><code class="codeph">' ON ERROR</code></span> -返回提高了错误的指定值来代替。在查询编译时，该值必须是常量。
                           </p>
                           <p><span class="italic">不</span>适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于<code class="codeph">json_exists</code> ， <code class="codeph">json_equal</code> ， <code class="codeph">json_serialize</code> ， <code class="codeph">json_mergepatch</code>或具有<code class="codeph">json_exists</code>行为的<code class="codeph">json_table</code>列值子句</p>
                              </li>
                              <li>
                                 <p>对于具有<code class="codeph">json_query</code>行为的<code class="codeph">json_query</code>或<code class="codeph">json_table</code>列值子句</p>
                              </li>
                              <li>
                                 <p>对于<code class="codeph">json_table</code> <span class="italic">行</span>级错误处理</p>
                              </li>
                              <li>
                                 <p>当<code class="codeph">SDO_GEOMETRY</code>被指定或者作为<code class="codeph">RETURNING</code> for语句数据类型<code class="codeph">json_value</code>或作为<code class="codeph">json_table</code> <span class="italic">列</span>的数据类型</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>除了条件<code class="codeph">json_exists</code>和<code class="codeph">json_equal</code>之外， <span class="italic">默认</span>行为是<code class="codeph">NULL ON ERROR</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-55344240-B1F0-490A-89BF-1526FA0546D4__GUID-F1D594C9-055A-45E5-90A0-DC3E240037F2">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">json_table</code>有两个级别的错误处理，对应于它的两个级别的路径表达式：行和列。如果存在，列错误处理程序将覆盖行级错误处理。两个级别的默认错误处理程序是<code class="codeph">NULL ON ERROR</code> 。</p>
                     </div>
                     <div class="infoboxnote" id="GUID-55344240-B1F0-490A-89BF-1526FA0546D4__GUID-B01FAA37-CA25-4DC2-820A-1FF2A210C1DA">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">ON EMPTY</code>子句会覆盖<code class="codeph">ON ERROR</code>指定的行为，以查找尝试匹配缺少字段的错误。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-55344240-B1F0-490A-89BF-1526FA0546D4__GUID-F142C4B2-1D3E-4570-BAFF-E55CD0658B84">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">ON ERROR</code>子句仅对语法正确的SQL / JSON路径表达式与JSON数据匹配时出现的运行时错误生效。语法错误的路径表达式导致编译时语法错误;它不是由<code class="codeph">ON ERROR</code>子句处理的。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443" title="SQL / JSON查询函数json_value，json_query和json_table接受可选的ON EMPTY子句，该子句指定在查询的数据中不存在目标JSON字段时要使用的处理。此处描述了此子句和默认行为（无ON EMPTY子句）。">SQL / JSON查询函数的空字段子句</a></li>
                        <li><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL / JSON函数json_table将特定的JSON数据投影到各种SQL数据类型的列。您可以使用它将JSON文档的各个部分映射到新虚拟表的行和列中，您也可以将其视为内联视图。">SQL / JSON函数JSON_TABLE</a></li>
                        <li><a href="function-JSON_QUERY.html#GUID-D64C7BE9-335D-449C-916D-1123539BF1FB" title="SQL / JSON函数json_query从JSON数据中选择一个或多个值，并返回表示JSON值的字符串（VARCHAR2，CLOB或BLOB实例）。因此，您可以使用json_query来检索JSON文档的片段。">SQL / JSON函数JSON_QUERY</a></li>
                        <li><a href="function-JSON_VALUE.html#GUID-0565F0EE-5F13-44DD-8321-2AC142959215" title="SQL / JSON函数json_value选择JSON数据并返回SQL标量或用户定义的SQL对象类型或SQL集合类型（varray，嵌套表）的实例。">SQL / JSON函数JSON_VALUE</a></li>
                        <li><a href="oracle-sql-function-json_serialize.html#GUID-667D37FF-F5FB-465D-B8AE-DAE88F191B2F" title="Oracle SQL函数json_serialize将JSON数据（任何SQL数据类型）作为输入，并返回它的文本表示。">Oracle SQL函数JSON_SERIALIZE</a></li>
                        <li><a href="condition-JSON_EXISTS.html#GUID-D60A7E52-8819-4D33-AEDB-223AB7BDE60A" title="SQL / JSON条件json_exists允许您使用SQL / JSON路径表达式作为行筛选器，以根据JSON文档的内容选择行。您可以在CASE表达式或SELECT语句的WHERE子句中使用条件json_exists。">SQL / JSON条件JSON_EXISTS</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290" title="当RETURNING子句指定用户定义的对象类型或集合类型实例时，函数json_value接受可选的ON MISMATCH子句，该子句指定在目标JSON值与指定的SQL返回值不匹配时使用的处理。此处描述了此子句及其默认行为（无ON MISMATCH子句）。">关于JSON_VALUE的MISMATCH子句</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-55344240-B1F0-490A-89BF-1526FA0546D4__GUID-D1EC21AE-A1CD-4F2C-9E90-6A3744507ADD">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关JSON的SQL函数的错误子句的详细信息，请<a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-C13171B3-C070-4137-AC71-7A30BD26F380" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关JSON的SQL条件的错误子句的详细信息，请参阅<a href="../sqlrf/SQL-JSON-Conditions.html#SQLRF-GUID-08C75404-6E58-4EBE-A8B4-0B6041B0DB63" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" title="描述了RETURNING，包装器，错误和空字段。每个用于一个或多个SQL函数和条件json_value，json_query，json_table，json_serialize，json_mergepatch，是json，不是json，json_exists和json_equal。">SQL查询函数和条件中使用的子句</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443" name="GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443"></a><h3 id="ADJSN-GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443" class="sect3"><span class="enumeration_section">14.4</span> SQL / JSON查询函数的空字段子句</h3>
               <div>
                  <p>SQL / JSON查询函数<code class="codeph">json_value</code> ， <code class="codeph">json_query</code>和<code class="codeph">json_table</code>接受可选的<span class="bold"><code class="codeph">ON EMPTY</code></span>子句，该子句指定在查询的数据中不存在目标JSON字段时要使用的处理。此处描述了此子句和默认行为（无<code class="codeph">ON EMPTY</code>子句）。
                  </p>
                  <div class="section">
                     <p>您通常使用错误子句（ <code class="codeph">ON ERROR</code> ）处理SQL / JSON函数和条件的错误。但是，有一种特殊情况，您可能需要对此常规错误处理进行不同的处理：查询以匹配数据中缺少的给定JSON字段。有时您不希望仅因为缺少匹配的字段而引发错误。（丢失的字段通常被视为错误。）
                     </p>
                     <p>您通常将<code class="codeph">NULL ON EMPTY</code>子句与附带的<code class="codeph">ON ERROR</code>子句结合使用。此组合指定根据<code class="codeph">ON ERROR</code>子句处理其他错误，但尝试匹配缺少字段的错误仅通过返回<code class="codeph">NULL</code>来处理。如果不存在<code class="codeph">ON EMPTY</code>子句，则<code class="codeph">ON ERROR</code>子句也处理缺失字段的情况。
                     </p>
                     <p>除了<code class="codeph">NULL ON EMPTY</code>之外，还有<code class="codeph">ERROR ON EMPTY</code>和<code class="codeph">DEFAULT</code> ...<code class="codeph">ON EMPTY</code> ，类似于类似命名的<code class="codeph">ON ERROR</code>子句。
                     </p>
                     <p>如果仅存在<code class="codeph">ON EMPTY</code>子句（无<code class="codeph">ON ERROR</code>子句），则<code class="codeph">ON EMPTY</code>子句指定了缺失字段行为，并且其他错误的处理方式与存在<code class="codeph">NULL ON ERROR</code>相同（默认为<code class="codeph">ON ERROR</code> ）。如果两个子句都不存在，则仅使用<code class="codeph">NULL ON ERROR</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443__USENULLONEMPTYFORANINDEXCREATEDONJS-38D4389A">
                     <p class="subhead2" id="GUID-3176ECEA-BBCE-4C7C-AB24-7FCE250B8443__USENULLONEMPTYFORANINDEXCREATEDONJS-38D43B2B">对JSON_VALUE上创建的索引使用NULL ON EMPTY</p>
                     <p>对于在<code class="codeph">json_value</code>表达式上创建的功能索引的情况， <code class="codeph">NULL ON EMPTY</code>特别有用。该子句对索引是否或何时被拾取没有影响，但它有效地允许一些数据被索引，否则将不会因为它缺少<code class="codeph">json_value</code>表达式所针对的字段。
                     </p>
                     <p>您通常希望对填充索引的查询使用<code class="codeph">ERROR ON ERROR</code> ，以便导致多个值或复杂值的查询路径表达式引发错误。但是，有时您不希望仅因为路径表达式所针对的字段缺失而引发错误 - 您希望将数据编入索引。<a href="indexes-for-json-data.html#GUID-FEE83855-780A-424B-9916-B899BFF2077B__GUID-A257EAA2-C71C-4F6B-A76F-CA539EACD555">例26-5</a>说明了在<code class="codeph">json_value</code>表达式上创建索引时使用<code class="codeph">NULL ON EMPTY</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="indexes-for-json-data.html#GUID-FEE83855-780A-424B-9916-B899BFF2077B" title="您可以为SQL / JSON函数json_value创建基于函数的索引。您可以使用标准语法，显式指定函数json_value，也可以使用简单的点符号语法。以这两种方式之一创建的索引可以与点符号查询和json_value查询一起使用。">创建基于函数的JSON_VALUE索引</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-55344240-B1F0-490A-89BF-1526FA0546D4" title="某些SQL查询函数和条件接受可选的错误子句，该子句指定处理由函数或条件引发的运行时错误。此处总结了此子句和默认行为（无错误子句）。">SQL查询函数和条件的错误子句</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" title="描述了RETURNING，包装器，错误和空字段。每个用于一个或多个SQL函数和条件json_value，json_query，json_table，json_serialize，json_mergepatch，是json，不是json，json_exists和json_equal。">SQL查询函数和条件中使用的子句</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290" name="GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290"></a><h3 id="ADJSN-GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290" class="sect3"><span class="enumeration_section">14.5</span> JSON_VALUE的MISMATCH子句</h3>
               <div>
                  <p>当<code class="codeph">RETURNING</code>子句指定用户定义的对象类型或集合类型实例时，函数<code class="codeph">json_value</code>接受可选的<span class="bold"><code class="codeph">ON MISMATCH</code></span> <code class="codeph">json_value</code>子句，该子句指定在目标JSON值与指定的SQL返回值不匹配时使用的处理。此处描述了此子句及其默认行为（无<code class="codeph">ON MISMATCH</code>子句）。
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290__GUID-47D5A0BC-DE63-4087-BCAC-E5AD1B989E75">
                        <p class="notep1">注意：</p>
                        <p>仅当没有JSON数据与路径表达式匹配时，才会应用<code class="codeph">ON ERROR</code>和<code class="codeph">ON EMPTY</code>子句。当与路径表达式匹配的JSON数据与指定的对象或集合返回类型不匹配时，将应用<code class="codeph">ON MISMATCH</code>子句。只有当返回类型是用户定义的对象类型或集合类型的实例时，才允许使用子句<code class="codeph">ON MISMATCH</code> 。如果将其与其他返回类型一起使用，则会引发查询编译时错误。
                        </p>
                     </div>
                     <p>当您返回反映函数<code class="codeph">json_value</code>针对的JSON数据的SQL对象或集合类型的实例时，该目标数据的定义和要返回的对象或集合必须匹配，否则将应用查询编译时错误。
                     </p>
                     <p>这种错误的<span class="italic">默认</span>处理只是<span class="italic">忽略</span>它。但是，您可以通过提供一个或多个<code class="codeph">ON MISMATCH</code>子句以各种方式处理此类错误，如下所示：</p>
                     <ul id="GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290__UL_AZW_GNJ_2GB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="bold">IGNORE ON MISMATCH</span></code> - 明确指定默认行为：忽略不匹配。返回的对象或集合实例可能包含一个或多个SQL <code class="codeph">NULL</code>值，因为它们与目标JSON数据不匹配。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">NULL ON MISMATCH</span></code> - 返回SQL <code class="codeph">NULL</code>作为object-type或collection-type值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">ERROR ON MISMATCH</span></code>错误 - 针对不匹配<code class="codeph"><span class="bold">ERROR ON MISMATCH</span></code>查询编译时错误。
                           </p>
                        </li>
                     </ul>
                     <p>每个<code class="codeph">ON MISMATCH</code>子句类型也可以在括号（ <code class="codeph"><span class="bold">(</span></code> ... <code class="codeph"><span class="bold">)</span></code> ）中由一个或多个子句跟随，每个子句表示要处理的一种不匹配，用逗号（ <code class="codeph"><span class="bold">,</span></code> ）分隔。这些是可能的不匹配类型：</p>
                     <ul id="GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290__UL_N5F_YQJ_2GB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="bold">MISSING DATA</span></code> - 需要一些JSON数据来匹配对象类型或集合类型数据，但它缺失了。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">EXTRA DATA</span></code> - 一个或多个JSON字段没有对应的对象类型或集合类型数据。例如，对于JSON字段<code class="codeph">address</code> ，没有具有相同名称的object-type属性（默认情况下不区分大小写）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">TYPE ERROR</span></code> -  JSON标量值的数据类型与相应的返回SQL标量数据类型不兼容。这可能是由于类型不兼容，如<a href="function-JSON_VALUE.html#GUID-622170D8-7BAD-4F5F-86BF-C328451FC3BE__TABLE_VTC_315_YFB" title="该表显示了哪些JSON和SQL数据类型兼容。列是JSON类型（源），SQL类型（目标）和Notes。">表16-1所示</a> ，或者因为SQL数据类型过于约束（例如， <code class="codeph">VARCHAR(2)</code>是JSON字符串<code class="codeph">"hello"</code>两个简称）。
                           </p>
                        </li>
                     </ul>
                     <p>如果给定处理程序不存在这种类型的不匹配子句（例如<code class="codeph">EXTRA DATA</code> ）（例如， <code class="codeph">NULL ON MISMATCH</code> ），则该处理程序适用于所有类型的不匹配。
                     </p>
                     <p>您可以拥有任意数量的不同类型的<code class="codeph">ON MISMATCH</code>子句，但如果两个或更多这样的子句相互矛盾，则会引发查询编译时错误。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="function-JSON_VALUE.html#GUID-622170D8-7BAD-4F5F-86BF-C328451FC3BE" title="您可以使用SQL / JSON函数json_value来实例化用户定义的SQL对象类型或集合类型的实例。您可以通过在路径表达式中定位JSON对象或数组并分别在RETURNING子句中指定对象或集合类型来执行此操作。">使用JSON_VALUE实例化用户定义的对象类型实例</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-941C5E44-75C7-4BF1-BB0A-18AD48EDE9EB" title="描述了RETURNING，包装器，错误和空字段。每个用于一个或多个SQL函数和条件json_value，json_query，json_table，json_serialize，json_mergepatch，是json，不是json，json_exists和json_equal。">SQL查询函数和条件中使用的子句</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="00020.defining-operators.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>定义运算符</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00"></meta>
      <meta name="dcterms.title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96431-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="building-domain-indexes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-extensible-optimizer.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="building-domain-indexes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-extensible-optimizer.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据盒式开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="building-data-cartridges.html" property="item" typeof="WebPage"><span property="name">构建数据磁带</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">定义运算符</li>
            </ol>
            <a id="GUID-E10C1C49-E5DA-45E9-959D-E203DD964FBF" name="GUID-E10C1C49-E5DA-45E9-959D-E203DD964FBF"></a><a id="ADDCI2100"></a>
            
            <h2 id="ADDCI-GUID-E10C1C49-E5DA-45E9-959D-E203DD964FBF" class="sect2"><span class="enumeration_chapter">9</span>定义运算符</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以定义运算符，并在有和没有索引类型的情况下使用它们。</p>
            </div><a id="ADDCI4508"></a><div class="props_rev_3"><a id="GUID-D5B0203B-F2E2-4A42-8D03-E29CC9727616" name="GUID-D5B0203B-F2E2-4A42-8D03-E29CC9727616"></a><h3 id="ADDCI-GUID-D5B0203B-F2E2-4A42-8D03-E29CC9727616" class="sect3"><span class="enumeration_section">9.1</span>用户定义的运算符</h3>
               <div>
                  <p>一个<a id="d28333e108" class="indexterm-anchor"></a> <strong class="term">用户定义的运算符</strong>是顶级架构对象。在许多方面，用户定义的运算符就像内置运算符一样，如&lt;，&gt;和=;例如，可以在所有相同的情况下调用它们。它们通过简化SQL语句有助于简化使用，使它们更短，更易读。
                  </p>
                  <p>用户定义的运算符是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>由名称标识，名称与表，视图，类型和独立函数位于同一名称空间中</p>
                     </li>
                     <li>
                        <p>绑定到函数，这些函数在指定的上下文中定义操作符行为</p>
                     </li>
                     <li>
                        <p>由权限控制，表示可以使用每个操作员的情况</p>
                     </li>
                     <li>
                        <p>通常与索引类型相关联，索引类型可用于定义未构建到数据库中的索引</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D5B0203B-F2E2-4A42-8D03-E29CC9727616__GUID-007E69AB-7B7C-4F21-8355-9EAD7ACACB99">
                     <p class="notep1">也可以看看：</p>
                     <p>有关语法和特权的详细信息，请<span class="italic">参见Oracle数据库SQL语言参考</span></p>
                  </div>
               </div><a id="ADDCI4509"></a><div class="props_rev_3"><a id="GUID-D491F7E8-F700-4592-99A1-15E42C9E6D29" name="GUID-D491F7E8-F700-4592-99A1-15E42C9E6D29"></a><h4 id="ADDCI-GUID-D491F7E8-F700-4592-99A1-15E42C9E6D29" class="sect4"><span class="enumeration_section">9.1.1</span>运算符绑定</h4>
                  <div>
                     <p>运算符<strong class="term">绑定</strong>将运算符与实现运算符的函数的<strong class="term">签名</strong>相关联。签名由函数参数的数据类型列表（按发生顺序）和函数的返回类型组成。运算符绑定告诉Oracle在调用运算符时要执行哪个函数。如果每个函数具有不同的签名，则运算符可以绑定到多个函数。要被视为不同，函数必须具有不同的参数列表。参数列表匹配但返回数据类型不匹配的函数不会被视为不同，并且不能绑定到同一运算符。
                     </p>
                     <p>运营商可以绑定到：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>独立功能</p>
                        </li>
                        <li>
                           <p>包装功能</p>
                        </li>
                        <li>
                           <p>用户定义的类型成员方法</p>
                        </li>
                     </ul>
                     <p>操作符可以绑定到任何可访问模式中的函数和方法。每个操作员在创建时必须至少有一个绑定。如果尝试指定非唯一操作员绑定，则Oracle服务器会引发错误。</p>
                  </div>
               </div><a id="ADDCI4510"></a><div class="props_rev_3"><a id="GUID-F7BECA82-B1F8-4F6E-88E3-8DD5DBD3547E" name="GUID-F7BECA82-B1F8-4F6E-88E3-8DD5DBD3547E"></a><h4 id="ADDCI-GUID-F7BECA82-B1F8-4F6E-88E3-8DD5DBD3547E" class="sect4"><span class="enumeration_section">9.1.2</span>运营商权限</h4>
                  <div>
                     <p>要创建运算符及其绑定，您必须具有：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">OPERATOR</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">OPERATOR</code>权限</p>
                        </li>
                        <li>
                           <p>对引用的函数，运算符，包或类型的<code class="codeph">EXECUTE</code>特权</p>
                        </li>
                     </ul>
                     <p>要删除用户定义的运算符，您必须拥有运算符或具有<code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">OPERATOR</code>权限。
                     </p>
                     <p>要在表达式中调用用户定义的运算符，您必须拥有运算符或具有<code class="codeph">EXECUTE</code>特权。
                     </p>
                  </div>
               </div><a id="ADDCI4512"></a><a id="ADDCI4511"></a><div class="props_rev_3"><a id="GUID-E59706C5-6BD4-43CB-9731-047984EB4278" name="GUID-E59706C5-6BD4-43CB-9731-047984EB4278"></a><h4 id="ADDCI-GUID-E59706C5-6BD4-43CB-9731-047984EB4278" class="sect4"><span class="enumeration_section">9.1.3</span>创建运算符</h4>
                  <div>
                     <div class="section">
                        <p>要创建运算符，请使用<code class="codeph">CREATE OPERATOR</code>语句指定其名称及其绑定。<a href="defining-operators.html#GUID-E59706C5-6BD4-43CB-9731-047984EB4278__CHDCGBDC">例9-1</a>创建了运算符<code class="codeph">Contains()</code> ，将其绑定到在Text和Spatial域中提供实现的函数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E59706C5-6BD4-43CB-9731-047984EB4278__CHDCGBDC">
                        <p class="titleinexample">示例9-1创建运算符</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR包含BINDING（VARCHAR2，VARCHAR2）返回数字使用text.contains，（空间。地理，空间。Geo）使用Spatial.contains返回数字;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4514"></a><a id="ADDCI4515"></a><a id="ADDCI4513"></a><div class="props_rev_3"><a id="GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A" name="GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A"></a><h4 id="ADDCI-GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A" class="sect4"><span class="enumeration_section">9.1.4</span>丢弃运营商</h4>
                  <div>
                     <div class="section">
                        <p>要删除运算符及其所有绑定，请使用<code class="codeph">DROP</code> <code class="codeph">OPERATOR</code>语句指定其名称。<a href="defining-operators.html#GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A__CHDIFGFI">例9-2</a>删除了运算符<code class="codeph">Contains()</code> 。
                        </p>
                        <p>默认的<code class="codeph">DROP</code>行为是<code class="codeph">DROP</code> <code class="codeph">RESTRICT</code> ：如果有任何操作符绑定的依赖索引类型或辅助运算符，则不允许<code class="codeph">DROP</code>操作。
                        </p>
                        <p>要覆盖默认行为，请使用<code class="codeph">FORCE</code>选项。<a href="defining-operators.html#GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A__CHDCDEBA">例9-3</a>删除了运算符及其所有绑定，并标记了任何依赖的indextype对象，并且依赖的辅助运算符无效。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A__CHDIFGFI">
                        <p class="titleinexample">例9-2删除操作员;限制选项</p><pre class="oac_no_warn" dir="ltr">DROP OPERATOR包含;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4BF1D52C-13FB-4E5B-9ACE-E23BA28A183A__CHDCDEBA">
                        <p class="titleinexample">例9-3删除操作员; FORCE选项</p><pre class="oac_no_warn" dir="ltr">DROP OPERATOR包含FORCE;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4517"></a><a id="ADDCI4516"></a><div class="props_rev_3"><a id="GUID-CBDCD80C-E171-424D-9040-AA3CD755F594" name="GUID-CBDCD80C-E171-424D-9040-AA3CD755F594"></a><h4 id="ADDCI-GUID-CBDCD80C-E171-424D-9040-AA3CD755F594" class="sect4"><span class="enumeration_section">9.1.5</span>改变运营商</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用<code class="codeph">ALTER OPERATOR</code>语句向现有运算符添加绑定或删除绑定。<a href="defining-operators.html#GUID-CBDCD80C-E171-424D-9040-AA3CD755F594__CHDCBJJE">例9-4</a>为运算符<code class="codeph">Contains().</code>添加了一个绑定<code class="codeph">Contains().</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CBDCD80C-E171-424D-9040-AA3CD755F594__CHDCBJJE">
                        <p class="titleinexample">示例9-4向运算符添加绑定</p><pre class="oac_no_warn" dir="ltr">ALTER OPERATOR包含ADD BINDING（music.artist，music.artist）返回NUMBER使用music.contains;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div class="props_rev_3"><a id="GUID-ADF5C920-B3AC-4A85-B79C-1D43886EDA43" name="GUID-ADF5C920-B3AC-4A85-B79C-1D43886EDA43"></a><h5 id="ADDCI-GUID-ADF5C920-B3AC-4A85-B79C-1D43886EDA43" class="sect5"><span class="enumeration_section">9.1.5.1</span> ALTER OPERATOR的必要特权</h5>
                     <div>
                        <div class="section">
                           <p>要更改运算符，运算符必须位于您自己的架构中，或者您必须具有<code class="codeph">ALTER ANY OPERATOR</code>权限。您还必须对引用的运算符和函数具有<code class="codeph">EXECUTE</code>特权。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-302F97DB-4007-4294-AA89-E926A4603339" name="GUID-302F97DB-4007-4294-AA89-E926A4603339"></a><h5 id="ADDCI-GUID-302F97DB-4007-4294-AA89-E926A4603339" class="sect5"><span class="enumeration_section">9.1.5.2</span> ALTER OPERATOR的限制</h5>
                     <div>
                        <div class="section">
                           <p>以下限制适用于<code class="codeph">ALTER OPERATOR</code>语句：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您只能发出与现有运算符相关的<code class="codeph">ALTER OPERATOR</code>语句。
                                 </p>
                              </li>
                              <li>
                                 <p>您只能在每个<code class="codeph">ALTER OPERATOR</code>语句中添加或删除一个绑定。
                                 </p>
                              </li>
                              <li>
                                 <p>您不能删除操作员与<code class="codeph">ALTER OPERATOR</code>的唯一绑定;使用<code class="codeph">DROP OPERATOR</code>语句删除运算符。没有任何绑定，操作员不能存在。
                                 </p>
                              </li>
                              <li>
                                 <p>如果向与indextype关联的运算符添加绑定，则绑定不与indextype关联，除非您还发出<code class="codeph">ALTER INDEXTYPE ADD OPERATOR</code>语句</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4519"></a><a id="ADDCI4518"></a><div class="props_rev_3"><a id="GUID-126833A5-8CCD-47B3-989E-7919B808ED30" name="GUID-126833A5-8CCD-47B3-989E-7919B808ED30"></a><h4 id="ADDCI-GUID-126833A5-8CCD-47B3-989E-7919B808ED30" class="sect4"><span class="enumeration_section">9.1.6</span>评论运营商</h4>
                  <div>
                     <div class="section">
                        <p>要向操作员添加注释文本，请使用<code class="codeph">COMMENT</code>语句指定名称和文本。<a href="defining-operators.html#GUID-126833A5-8CCD-47B3-989E-7919B808ED30__CHDBGIBB">例9-5</a>提供了有关<code class="codeph">Contains()</code>运算符的信息：</p>
                        <p>有关运算符的注释可通过以下视图在数据字典中找到：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">USER_OPERATOR_COMMENTS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL_OPERATOR_COMMENTS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_OPERATOR_COMMENTS</code></p>
                           </li>
                        </ul>
                        <p>除非您具有<code class="codeph">COMMENT ANY OPERATOR</code>权限，否则您只能在自己的架构中<code class="codeph">COMMENT ANY OPERATOR</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-126833A5-8CCD-47B3-989E-7919B808ED30__CHDBGIBB">
                        <p class="titleinexample">示例9-5向操作员添加COMMENT</p><pre class="oac_no_warn" dir="ltr">对操作者的评论包含IS'一个数字，表示文本是否包含密钥';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4520"></a><div class="props_rev_3"><a id="GUID-B4A841A6-3251-478B-9805-2CB8FF75D5F4" name="GUID-B4A841A6-3251-478B-9805-2CB8FF75D5F4"></a><h4 id="ADDCI-GUID-B4A841A6-3251-478B-9805-2CB8FF75D5F4" class="sect4"><span class="enumeration_section">9.1.7</span>关于调用操作符</h4>
                  <div>
                     <p>与内置运算符一样，只要表达式发生，就可以调用用户定义的运算符。例如，用户定义的运算符可用于：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SELECT</code>命令的选择列表。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WHERE</code>子句的条件。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ORDER</code> <code class="codeph">BY</code>和<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句。
                           </p>
                        </li>
                     </ul>
                     <p>调用运算符时，Oracle通过执行绑定到它的函数来评估运算符。当多个函数绑定到运算符时，Oracle执行其参数数据类型与调用的函数匹配的函数（在任何隐式类型转换之后）。调用具有与该运算符绑定的任何函数的签名不匹配的参数列表的运算符会导致引发错误。因为用户定义的运算符可以有多个绑定，所以它们可以用作重载函数。</p>
                     <p>假设<a href="defining-operators.html#GUID-402BA522-4394-4B6E-AAD3-AF51305A4A97__CHDEFCGA">示例9-6</a>创建运算符<code class="codeph">Contains()</code> 。
                     </p>
                     <p>如果在<a href="defining-operators.html#GUID-1E5DCD14-40EE-4BF1-BE5A-0E836CB5DFDF__CHDFIEGI">例9-7中</a>使用<code class="codeph">Contains()</code> ，则运算符调用<code class="codeph">Contains(resume,</code> <code class="codeph">'Oracle')</code>会导致Oracle执行函数<code class="codeph">text.contains(resume,</code> <span class="italic"> </span> <code class="codeph">'Oracle')</code>因为函数的签名与运算符参数的数据类型匹配。类似地，运算符调用<code class="codeph">Contains(location</code> <span class="italic">，</span> <code class="codeph">:bay_area)</code>执行函数<code class="codeph">spatial.contains(location</code> <span class="italic">，</span> <code class="codeph">:bay_area)</code> 。
                     </p>
                     <p>执行<a href="defining-operators.html#GUID-1556E7BD-1B14-4FE4-897B-0471202712A6__CHDIHJFG">例9-8中</a>的语句会引发错误，因为没有任何运算符绑定满足参数数据类型。
                     </p>
                  </div><a id="ADDCI4521"></a><div class="props_rev_3"><a id="GUID-402BA522-4394-4B6E-AAD3-AF51305A4A97" name="GUID-402BA522-4394-4B6E-AAD3-AF51305A4A97"></a><h5 id="ADDCI-GUID-402BA522-4394-4B6E-AAD3-AF51305A4A97" class="sect5"><span class="enumeration_section">9.1.7.1</span>创建Contains（）运算符</h5>
                     <div>
                        <div class="example" id="GUID-402BA522-4394-4B6E-AAD3-AF51305A4A97__CHDEFCGA">
                           <p class="titleinexample">示例9-6创建Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR包含BINDING（VARCHAR2，VARCHAR2）返回数字使用text.contains，（spatial.geo，spatial.geo）返回NUMBER使用spatial.contains;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4522"></a><div class="props_rev_3"><a id="GUID-1E5DCD14-40EE-4BF1-BE5A-0E836CB5DFDF" name="GUID-1E5DCD14-40EE-4BF1-BE5A-0E836CB5DFDF"></a><h5 id="ADDCI-GUID-1E5DCD14-40EE-4BF1-BE5A-0E836CB5DFDF" class="sect5"><span class="enumeration_section">9.1.7.2</span>在查询中使用Contains（）运算符</h5>
                     <div>
                        <div class="example" id="GUID-1E5DCD14-40EE-4BF1-BE5A-0E836CB5DFDF__CHDFIEGI">
                           <p class="titleinexample">示例9-7在查询中使用运算符包含（）</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM MyEmployees WHERE Contains（resume，'Oracle'）= 1 AND Contains（location，：bay_area）= 1;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4523"></a><div class="props_rev_3"><a id="GUID-1556E7BD-1B14-4FE4-897B-0471202712A6" name="GUID-1556E7BD-1B14-4FE4-897B-0471202712A6"></a><h5 id="ADDCI-GUID-1556E7BD-1B14-4FE4-897B-0471202712A6" class="sect5"><span class="enumeration_section">9.1.7.3</span>错误地使用Contains（）运算符</h5>
                     <div>
                        <div class="example" id="GUID-1556E7BD-1B14-4FE4-897B-0471202712A6__CHDIHJFG">
                           <p class="titleinexample">例9-8运算符包含错误的使用（）</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM MyEmployees WHERE Contains（address，employee_addr_type（'123 Main Street'，'Anytown'，'CA'，'90001'））= 1;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADDCI4524"></a><div class="props_rev_3"><a id="GUID-CAD6F288-5E9F-4385-8627-0D29F8B9CCE8" name="GUID-CAD6F288-5E9F-4385-8627-0D29F8B9CCE8"></a><h3 id="ADDCI-GUID-CAD6F288-5E9F-4385-8627-0D29F8B9CCE8" class="sect3"><span class="enumeration_section">9.2</span>运算符和索引类型</h3>
               <div>
                  <p>通常会定义运算符<a id="d28333e1148" class="indexterm-anchor"></a>索引类型。在使用其功能实现创建运算符之后，您可以创建一个索引类型，该索引类型支持使用索引扫描对这些运算符进行评估。
                  </p>
                  <p>在<code class="codeph">WHERE</code>子句之外出现的运算符实际上是实现它们的函数的替身;这种运算符的含义取决于其功能实现。<code class="codeph">WHERE</code>子句中出现的运算符有时使用函数实现进行求值;在其他时候，它们通过索引扫描进行评估。
                  </p>
               </div><a id="ADDCI4525"></a><div class="props_rev_3"><a id="GUID-D374E180-CEBA-4A95-866E-34B4F88E04E2" name="GUID-D374E180-CEBA-4A95-866E-34B4F88E04E2"></a><h4 id="ADDCI-GUID-D374E180-CEBA-4A95-866E-34B4F88E04E2" class="sect4"><span class="enumeration_section">9.2.1</span> WHERE子句中的运算符</h4>
                  <div>
                     <p>可以使用indextype提供的扫描方法通过索引扫描有效地评估出现在<code class="codeph">WHERE</code>子句中的运算符。该过程涉及以下步骤。
                     </p>
                     <ol>
                        <li>
                           <p>创建支持运算符求值的索引类型</p>
                        </li>
                        <li>
                           <p>识别某种形式的运算符谓词</p>
                        </li>
                        <li>
                           <p>选择域索引</p>
                        </li>
                        <li>
                           <p>设置适当的索引扫描</p>
                        </li>
                        <li>
                           <p>执行索引扫描方法</p>
                        </li>
                     </ol>
                  </div><a id="ADDCI4527"></a><a id="ADDCI4526"></a><div class="props_rev_3"><a id="GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1" name="GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1"></a><h5 id="ADDCI-GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1" class="sect5"><span class="enumeration_section">9.2.1.1</span>使用运算符谓词</h5>
                     <div>
                        <div class="section">
                           <p>索引类型支持对运算符谓词的有效求值，运算符谓词可以由运算符返回值的一系列下限和上限表示。具体而言， <a href="defining-operators.html#GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1__CHDFDBCI">实施例9-9</a>中列出的形式的谓词是基于索引扫描的评估的候选者。
                           </p>
                           <p>运算符谓词Oracle可以在内部转换为<a href="defining-operators.html#GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1__CHDFDBCI">示例9-9中的</a>一种形式，也可以使用基于索引扫描的评估。
                           </p>
                           <p>在表达式中使用运算符（例如<code class="codeph">op(...) + 2 = 3</code> ）会排除基于索引扫描的评估。
                           </p>
                           <p>使用功能实现来评估形式<code class="codeph">op() is NULL</code>谓词。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B3F6B9FC-3A36-48C5-BD5A-229610708FA1__CHDFDBCI">
                           <p class="titleinexample">例9-9运算符谓词</p><pre class="oac_no_warn" dir="ltr">OP（...）LIKE <span class="italic">value_expression</span> op（...） <span class="italic">relop</span> <span class="italic">value_expression</span></pre><p>其中<span class="italic"><code class="codeph">value_expression</code></span>必须求值为可用作域索引键的常量（不是列），而<span class="italic"><code class="codeph">relop</code></span>是<code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">=</code> ， <code class="codeph">&gt;=</code>或<code class="codeph">&gt;</code></p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4529"></a><a id="ADDCI4530"></a><a id="ADDCI4528"></a><div class="props_rev_3"><a id="GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA" name="GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA"></a><h5 id="ADDCI-GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA" class="sect5"><span class="enumeration_section">9.2.1.2</span>使用Contains（）运算符解析查询结果</h5>
                     <div>
                        <div class="section">
                           <p>仅当运算符应用于由indextype索引的列或对象属性时，才可以对运算符进行基于索引扫描的评估。优化器在索引实现和功能实现之间做出最终决定，同时在生成查询执行计划时考虑选择性和成本。</p>
                           <p>考虑<a href="defining-operators.html#GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA__CHDFDCBC">例9-10中</a>的查询。
                           </p>
                           <p>优化器可以选择在评估<code class="codeph">Contains()</code>运算符时使用域索引if</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">resume</code>列有一个已定义的索引。
                                 </p>
                              </li>
                              <li>
                                 <p>索引的类型为<code class="codeph">TextIndexType</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TextIndexType</code>支持相应的<code class="codeph">Contains()</code>运算符。
                                 </p>
                              </li>
                           </ul>
                           <p>如果这些条件中的任何一个不成立，Oracle将对<code class="codeph">MyEmployees</code>表执行完整扫描，并将<code class="codeph">Contains()</code>的功能实现应用为后置过滤器。但是，如果满足所有这些条件，优化程序将使用选择性和成本函数来比较基于索引的评估和全表扫描的成本，并生成相应的执行计划。
                           </p>
                           <p>请考虑<a href="defining-operators.html#GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA__CHDCEIDE">示例9-11中</a>略有不同的查询。
                           </p>
                           <p>在这里，您可以通过<code class="codeph">id</code>列上的索引， <code class="codeph">resume</code>列上的索引或两者的位图合并来访问<code class="codeph">MyEmployees</code>表。优化程序估计三个计划的成本，并选择最便宜的变量一，可以使用<code class="codeph">id</code>上的索引并在结果行上应用<code class="codeph">Contains()</code>运算符。在这种情况下，Oracle将使用<code class="codeph">Contains()</code>的功能实现而不是域索引。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA__CHDFDCBC">
                           <p class="titleinexample">示例9-10在简单查询中使用Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM MyEmployees WHERE Contains（resume，'Oracle'）= 1;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-FA782F59-86A5-4B78-9F4E-0036AA0E68BA__CHDCEIDE">
                           <p class="titleinexample">示例9-11在复杂查询中使用Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM MyEmployees WHERE Contains（resume，'Oracle'）= 1 AND id = 100;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4531"></a><div class="props_rev_3"><a id="GUID-D0B58284-7999-44BF-BE99-A3A9F9D4CC61" name="GUID-D0B58284-7999-44BF-BE99-A3A9F9D4CC61"></a><h5 id="ADDCI-GUID-D0B58284-7999-44BF-BE99-A3A9F9D4CC61" class="sect5"><span class="enumeration_section">9.2.1.3</span>设置索引扫描</h5>
                     <div>
                        <div class="section">
                           <p>如果选择域索引用于评估运算符谓词，则为索引<a id="d28333e1535" class="indexterm-anchor"></a>扫描已设置。索引扫描由扫描方法<code class="codeph">ODCIIndexStart()</code> ， <code class="codeph">ODCIIndexFetch()</code>和<code class="codeph">ODCIIndexClose()</code> ，指定为相应索引类型实现的一部分。使用与运算符相关的信息调用<code class="codeph">ODCIIndexStart()</code>方法，包括名称和参数以及描述谓词的下限和上限。在<code class="codeph">ODCIIndexStart()</code>调用之后，执行一系列提取以获取满足谓词的行的行标识符，最后在销毁SQL游标时调用<code class="codeph">ODCIIndexClose()</code> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-D0B58284-7999-44BF-BE99-A3A9F9D4CC61__GUID-A6418CE2-4B9C-46C0-BC77-023B6BFCF068">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="extensible-indexing-interface.html#GUID-2F49CDE4-C064-4644-948C-BBF014FDD8C8">ODCIIndexClose（）</a></p>
                                 </li>
                                 <li>
                                    <p><a href="extensible-indexing-interface.html#GUID-BB601420-A858-46E3-A9AC-3433220D4F82">ODCIIndexFetch（）</a></p>
                                 </li>
                                 <li>
                                    <p><a href="extensible-indexing-interface.html#GUID-53F2321C-B0F8-4783-AC1B-056372A0C073">ODCIIndexStart（）</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADDCI4532"></a><div class="props_rev_3"><a id="GUID-BDBC368B-0329-49AF-838C-93A2EA5FCF8E" name="GUID-BDBC368B-0329-49AF-838C-93A2EA5FCF8E"></a><h5 id="ADDCI-GUID-BDBC368B-0329-49AF-838C-93A2EA5FCF8E" class="sect5"><span class="enumeration_section">9.2.1.4</span>索引扫描方法的执行模型</h5>
                     <div>
                        <div class="section">
                           <p>要实现索引扫描例程，您必须了解它们的调用方式以及如何组合多组调用。</p>
                           <p>例如，请考虑<a href="defining-operators.html#GUID-DBDC35BB-8EAB-4DF4-A345-56B8FD524455__CHDBBGGJ">示例9-12中</a>的查询。
                           </p>
                           <p>如果优化器选择在两个表的<code class="codeph">resume</code>列上使用域索引，则可以<a href="defining-operators.html#GUID-2F7E1E8C-7E95-4C2B-8229-E3DE4A3F1680__CHDDDGFD">按例9-13中</a>演示的顺序调用indextype例程。
                           </p>
                           <p>在此示例中，对于<code class="codeph">Contains()</code>运算符的不同实例，会多次调用单个indextype例程。可能通过相同的索引类型例程同时评估许多运算符。通过其参数获取所需信息的例程（例如<code class="codeph">CREATE</code>例程）不会在调用之间保持任何状态，因此同时评估多个运算符不是问题。必须在调用之间保持状态的其他例程（如<code class="codeph">FETCH</code>例程）必须知道接下来要返回哪一行。这些例程应该在传递给每个调用的<code class="codeph">SELF</code>参数中维护状态信息。<code class="codeph">SELF</code>参数是实现类型的一个实例，可用于存储整个状态或存储状态的游标持续时间内存的句柄（如果状态信息很大）。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADDCI4533"></a><div class="props_rev_3"><a id="GUID-DBDC35BB-8EAB-4DF4-A345-56B8FD524455" name="GUID-DBDC35BB-8EAB-4DF4-A345-56B8FD524455"></a><h5 id="ADDCI-GUID-DBDC35BB-8EAB-4DF4-A345-56B8FD524455" class="sect5"><span class="enumeration_section">9.2.1.5</span>使用Contains（）运算符过滤多个表查询</h5>
                     <div>
                        <div class="example" id="GUID-DBDC35BB-8EAB-4DF4-A345-56B8FD524455__CHDBBGGJ">
                           <p class="titleinexample">示例9-12在多表查询中使用Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM MyEmployees1，MyEmployees2 WHERE Contains（MyEmployees1.resume，'Oracle'）= 1 AND Contains（MyEmployees2.resume，'UNIX'）= 1 AND MyEmployees1.employee_id = MyEmployees2.employee_id;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4534"></a><div class="props_rev_3"><a id="GUID-2F7E1E8C-7E95-4C2B-8229-E3DE4A3F1680" name="GUID-2F7E1E8C-7E95-4C2B-8229-E3DE4A3F1680"></a><h5 id="ADDCI-GUID-2F7E1E8C-7E95-4C2B-8229-E3DE4A3F1680" class="sect5"><span class="enumeration_section">9.2.1.6</span>为Contains（）运算符调用Indextrype例程</h5>
                     <div>
                        <div class="example" id="GUID-2F7E1E8C-7E95-4C2B-8229-E3DE4A3F1680__CHDDDGFD">
                           <p class="titleinexample">示例9-13为Contains（）运算符查询调用Indextype例程</p><pre class="oac_no_warn" dir="ltr">开始（ctx1，...）; / * corr。 to Contains（MyEmployees1.resume，'Oracle'）* / start（ctx2，...）; / * corr。 to Contains（MyEmployees2.resume，'UNIX'）;获取（ctx1，...）;获取（ctx2，...）;获取（ctx1，...）; ...关闭（CTX1）;关闭（ctx2）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADDCI4536"></a><a id="ADDCI4535"></a><div class="props_rev_3"><a id="GUID-52B70980-69B5-4636-B551-E808481DF702" name="GUID-52B70980-69B5-4636-B551-E808481DF702"></a><h4 id="ADDCI-GUID-52B70980-69B5-4636-B551-E808481DF702" class="sect4"><span class="enumeration_section">9.2.2</span>在WHERE子句之外使用运算符</h4>
                  <div>
                     <p>在<code class="codeph">WHERE</code>子句之外使用的运算符使用功能实现进行评估。为了执行该语句<a href="defining-operators.html#GUID-52B70980-69B5-4636-B551-E808481DF702__CHDEJFJD">例9-14</a> ，甲骨文扫描<code class="codeph">MyEmployees</code>表和调用功能的实施<code class="codeph">Contains()</code>上的每个实例<code class="codeph">resume</code> ，向它传递的实际值<code class="codeph">resume</code> ，文本数据，目前排。请注意，此函数不会使用在<code class="codeph">resume</code>列上构建的任何域索引。
                     </p>
                     <p>因为功能实现可以使用域索引，所以请考虑如何编写使用域索引的函数以及系统如何调用它们。</p>
                     <div class="example" id="GUID-52B70980-69B5-4636-B551-E808481DF702__CHDEJFJD">
                        <p class="titleinexample">示例9-14在WHERE子句外使用运算符</p><pre class="oac_no_warn" dir="ltr">SELECT包含（简历，'Oracle'）FROM MyEmployees;</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADDCI4537"></a><div class="props_rev_3"><a id="GUID-478436F7-A7CC-4594-B60E-0379A8AAA8F0" name="GUID-478436F7-A7CC-4594-B60E-0379A8AAA8F0"></a><h5 id="ADDCI-GUID-478436F7-A7CC-4594-B60E-0379A8AAA8F0" class="sect5"><span class="enumeration_section">9.2.2.1</span>创建基于索引的功能实现</h5>
                     <div>
                        <p>对于许多特定于域的运算符，例如<code class="codeph">Contains()</code> ，功能实现有两个选项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果运算符正在对具有域索引的列或<code class="codeph">OBJECT</code>属性进行操作，则该函数可以通过查看索引数据而不是实际参数值来评估运算符。
                              </p>
                              <p>例如，当在<code class="codeph">MyEmployees</code>表的特定行上调用<code class="codeph">Contains(resume</code> ， <code class="codeph">'Oracle')</code> ，函数更容易查找<code class="codeph">resume</code>列上定义的文本域索引，并根据行标识符评估运算符对于包含<code class="codeph">resume</code>的行而不是处理<code class="codeph">resume</code>文本数据参数。
                              </p>
                           </li>
                           <li>
                              <p>如果运算符正在对未在其上定义适当域索引的列进行操作，或者如果使用文字值（非列）调用运算符，则功能实现将根据参数值评估运算符。这是所有操作员绑定的默认行为。</p>
                           </li>
                        </ul>
                        <p>要使运算符处理这两个选项，请提供一个功能实现，除了运算符的原始参数外，还有三个参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>索引上下文：域索引信息和正在评估运算符的行的行标识符</p>
                           </li>
                           <li>
                              <p>扫描上下文：一个上下文值，用于与在表的其他行上运行的同一运算符的后续调用共享状态</p>
                           </li>
                           <li>
                              <p>扫描标志：指示当前调用是否是最后一次调用，在此调用期间应执行所有清除操作</p>
                           </li>
                        </ul>
                        <p><a href="defining-operators.html#GUID-4A0BCE7E-7CA2-4CFA-951B-77B2C62A1765__CHDHHDDI">例9-15中</a>的函数<code class="codeph">TextContains()</code>为<code class="codeph">Contains()</code>运算符提供了基于索引的功能实现。
                        </p>
                        <p><code class="codeph">Contains()</code>运算符绑定到功能实现，如<a href="defining-operators.html#GUID-D6AC4B25-2A23-4920-BA74-E3E452F7C765__CHDBFEHA">例9-16所示</a> 。
                        </p>
                        <p><code class="codeph">WITH INDEX CONTEXT</code>子句指定功能实现可以使用任何适用的域索引。<code class="codeph">SCAN CONTEXT</code>指定扫描上下文参数的数据类型，该参数必须与支持此运算符的索引类型的实现类型相同。
                        </p>
                     </div>
                  </div><a id="ADDCI4538"></a><div class="props_rev_3"><a id="GUID-4A0BCE7E-7CA2-4CFA-951B-77B2C62A1765" name="GUID-4A0BCE7E-7CA2-4CFA-951B-77B2C62A1765"></a><h5 id="ADDCI-GUID-4A0BCE7E-7CA2-4CFA-951B-77B2C62A1765" class="sect5"><span class="enumeration_section">9.2.2.2</span>在基于索引的函数中实现Contains（）运算符</h5>
                     <div>
                        <div class="example" id="GUID-4A0BCE7E-7CA2-4CFA-951B-77B2C62A1765__CHDHHDDI">
                           <p class="titleinexample">示例9-15在基于索引的函数中实现Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION TextContains（Text IN VARCHAR2，Key IN VARCHAR2，indexctx IN ODCIIndexCtx，scanctx IN OUT TextIndexMethods，scanflg IN NUMBER）返回数字为BEGIN .......END TextContains;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4539"></a><div class="props_rev_3"><a id="GUID-D6AC4B25-2A23-4920-BA74-E3E452F7C765" name="GUID-D6AC4B25-2A23-4920-BA74-E3E452F7C765"></a><h5 id="ADDCI-GUID-D6AC4B25-2A23-4920-BA74-E3E452F7C765" class="sect5"><span class="enumeration_section">9.2.2.3</span>将Contains（）运算符绑定到功能实现</h5>
                     <div>
                        <div class="example" id="GUID-D6AC4B25-2A23-4920-BA74-E3E452F7C765__CHDBFEHA">
                           <p class="titleinexample">示例9-16将Contains（）运算符绑定到功能实现</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR包含BINDING（VARCHAR2，VARCHAR2）RETURN NUMBER WITH INDEX CONTEXT，SCAN语境TextIndexMethods使用TextContains;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4540"></a><div class="props_rev_3"><a id="GUID-CDFA26DA-2481-4D9B-9467-4EEC8D6A1ABC" name="GUID-CDFA26DA-2481-4D9B-9467-4EEC8D6A1ABC"></a><h5 id="ADDCI-GUID-CDFA26DA-2481-4D9B-9467-4EEC8D6A1ABC" class="sect5"><span class="enumeration_section">9.2.2.4</span>运营商解决方案</h5>
                     <div>
                        <p>如果运算符出现在<code class="codeph">WHERE</code>子句之外，Oracle会调用运算符的函数实现。如果功能实现是基于索引的，或者定义为使用索引类型，则附加索引信息作为参数传递，但前提是操作符的第一个参数是具有相应索引类型的域索引的列或对象属性。
                        </p>
                        <p>例如，在查询<code class="codeph">SELECT Contains(resume, 'Oracle &amp; Unix') FROM MyEmployees</code> ，Oracle使用基于索引的功能实现来评估运算符<code class="codeph">Contains()</code> ，并在<code class="codeph">resume</code>列上传递有关域索引的索引信息，而不是<code class="codeph">resume</code>数据。
                        </p>
                     </div>
                  </div><a id="ADDCI4541"></a><div class="props_rev_3"><a id="GUID-1C024DAF-5C6D-4D12-AF38-3DCD89B8FCF3" name="GUID-1C024DAF-5C6D-4D12-AF38-3DCD89B8FCF3"></a><h5 id="ADDCI-GUID-1C024DAF-5C6D-4D12-AF38-3DCD89B8FCF3" class="sect5"><span class="enumeration_section">9.2.2.5</span>操作员执行</h5>
                     <div>
                        <p>为了执行基于索引的功能实现，Oracle以下列方式设置参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>初始参数集与用户为运算符指定的参数集相同。</p>
                           </li>
                           <li>
                              <p>如果第一个参数不是列，则<code class="codeph">ODCIIndexCtx</code>属性设置为<code class="codeph">NULL</code> 。</p>
                           </li>
                           <li>
                              <p>如果第一个参数是列，则<code class="codeph">ODCIIndexCtx</code>属性设置如下。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果存在适用的域索引，则<code class="codeph">ODCIIndexInfo</code>属性包含有关它的信息;否则该属性设置为<code class="codeph">NULL</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">rowid</code>属性保存正在操作的行的行标识符。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>在第一次调用运算符时，扫描上下文设置为<code class="codeph">NULL</code> 。因为它是<code class="codeph">IN</code> / <code class="codeph">OUT</code>参数，所以第一次调用的返回值将传递给第二次调用，依此类推。
                              </p>
                           </li>
                           <li>
                              <p>对于运营商的所有正常调用，扫描标志设置为<code class="codeph">RegularCall</code> 。在最后一次调用之后，再次调用功能实现，此时可以执行任何清理操作。在此调用期间，扫描标志设置为<code class="codeph">CleanupCall</code> ，除扫描上下文之外的所有其他参数都设置为<code class="codeph">NULL</code> 。</p>
                           </li>
                        </ul>
                        <p>传入索引信息时，实现可以使用行标识符作为键来使用域索引查找来计算运算符值。索引元数据用于标识与域索引关联的索引结构。扫描上下文通常用于与同一运算符的后续调用共享状态。</p>
                        <p>如果没有支持运算符的索引类型，或者传递给运算符的列上没有域索引作为其第一个参数，则索引上下文参数为null。但是，扫描上下文参数仍然可用。因此，即使查询未使用索引，操作员也可以在调用之间维护状态。</p>
                     </div>
                  </div>
               </div><a id="ADDCI4543"></a><a id="ADDCI4542"></a><div class="props_rev_3"><a id="GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8" name="GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8"></a><h4 id="ADDCI-GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8" class="sect4"><span class="enumeration_section">9.2.3</span>返回辅助数据的运算符</h4>
                  <div>
                     <p>除了过滤行之外， <code class="codeph">WHERE</code>子句中的运算符有时必须返回辅助数据。辅助数据被建模为一个或多个运算符，每个运算符都有</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单个文字数字参数，它将其与相应的主操作符绑定</p>
                        </li>
                        <li>
                           <p>一种功能实现，可访问由主运算符的基于索引扫描的实现生成的状态</p>
                        </li>
                     </ul>
                     <p>在<a href="defining-operators.html#GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8__CHDIFCGD">例9-17</a>的查询中，可以使用索引扫描来评估主运算符<code class="codeph">Contains()</code> ，索引扫描确定哪些行满足谓词，并计算每行的分数值。<code class="codeph">Score</code>运算符的功能实现访问索引扫描生成的状态，以获取由其行标识符标识的给定行的分数。文字参数<code class="codeph">1</code>将辅助运算符<code class="codeph">Score</code>与主运算符<code class="codeph">Contains()</code>相关联，后者生成辅助数据。
                     </p>
                     <p>辅助运算符的功能实现可以使用域索引或主运算符生成的状态。调用时，函数实现会传递三个额外的参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>索引上下文，包含域索引信息</p>
                        </li>
                        <li>
                           <p>扫描上下文，提供对主操作员生成的状态的访问</p>
                        </li>
                        <li>
                           <p>扫描标志，指示是否最后一次调用功能实现</p>
                        </li>
                     </ul>
                     <p>考虑如何定义和调用对辅助数据建模的运算符。</p>
                     <div class="example" id="GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8__CHDIFCGD">
                        <p class="titleinexample">示例9-17使用Contains（）运算符访问辅助数据</p><pre class="oac_no_warn" dir="ltr">SELECT Score（1）FROM MyEmployees WHERE Contains（resume，'OCI＆UNIX'，1）= 1;</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADDCI4545"></a><a id="ADDCI4546"></a><a id="ADDCI4544"></a><div class="props_rev_3"><a id="GUID-4477D845-0029-4E2B-B369-F2934E43F220" name="GUID-4477D845-0029-4E2B-B369-F2934E43F220"></a><h5 id="ADDCI-GUID-4477D845-0029-4E2B-B369-F2934E43F220" class="sect5"><span class="enumeration_section">9.2.3.1</span>计算辅助数据的运算符绑定</h5>
                     <div>
                        <p>计算辅助数据的运算符绑定称为a <a id="d28333e2452" class="indexterm-anchor"></a> <strong class="term">主要约束力</strong> 。<a href="defining-operators.html#GUID-4477D845-0029-4E2B-B369-F2934E43F220__CHDHBIBJ">例9-18</a>定义了运算符<code class="codeph">Contains()</code>的主绑定。
                        </p>
                        <p>此定义为<code class="codeph">Contains()</code>注册两个绑定：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONTAINS(VARCHAR2</code> ， <code class="codeph">VARCHAR2)</code> ，在不需要辅助数据时使用</p>
                           </li>
                           <li>
                              <p><code class="codeph">CONTAINS(VARCHAR2</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER)</code> ，在需要辅助数据时使用（ <code class="codeph">NUMBER</code>参数将此绑定与辅助运算符绑定相关联）</p>
                           </li>
                        </ul>
                        <p>这两个绑定具有单个功能实现，如<a href="defining-operators.html#GUID-4477D845-0029-4E2B-B369-F2934E43F220__CHDGEJDJ">例9-19</a>所示：</p>
                        <div class="example" id="GUID-4477D845-0029-4E2B-B369-F2934E43F220__CHDHBIBJ">
                           <p class="titleinexample">示例9-18比较辅助数据与Contains（）运算符</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR包含BINDING（VARCHAR2，VARCHAR2）RETURN NUMBER WITH INDEX CONTEXT，SCAN语境TextIndexMethods使用TextContains计算辅助数据;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4477D845-0029-4E2B-B369-F2934E43F220__CHDGEJDJ">
                           <p class="titleinexample">示例9-19为计算实现绑定</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">TextContains(VARCHAR2,</code> <code class="codeph">VARCHAR2</code> ， <code class="codeph">ODCIIndexCtx</code> ， <code class="codeph">TextIndexMethods, NUMBER</code> ）。</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4548"></a><a id="ADDCI4549"></a><a id="ADDCI4547"></a><div class="props_rev_3"><a id="GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1" name="GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1"></a><h5 id="ADDCI-GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1" class="sect5"><span class="enumeration_section">9.2.3.2</span>模拟辅助数据的运算符绑定</h5>
                     <div>
                        <p>对辅助数据建模的运算符绑定称为<a id="d28333e2572" class="indexterm-anchor"></a> <strong class="term">辅助绑定</strong> 。辅助数据运算符的功能实现类似于基于索引的功能实现。定义函数后，使用附加的<code class="codeph">ANCILLARY</code> <code class="codeph">TO</code>属性将其绑定到运算符，指示功能实现必须与主运算符绑定共享其状态。
                        </p>
                        <p>请注意，辅助运算符绑定的功能实现必须与主运算符绑定的功能实现具有相同的签名。</p>
                        <p><a href="defining-operators.html#GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1__CHDHHHCD">例9-20</a>演示了如何在<code class="codeph">TextScore</code> （）函数中评估辅助运算符。
                        </p>
                        <p>使用<code class="codeph">TextScore()</code>定义，您可以创建辅助绑定，如<a href="defining-operators.html#GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1__CHDCJEBH">例9-21所示</a> 。
                        </p>
                        <p><code class="codeph">ANCILLARY</code> <code class="codeph">TO</code>子句指定<code class="codeph">Score</code>与主操作符绑定<code class="codeph">CONTAINS(VARCHAR2</code> ， <code class="codeph">VARCHAR2)</code>共享状态。
                        </p>
                        <p>使用单个文字数参数调用辅助运算符绑定，例如<code class="codeph">Score</code> （1）， <code class="codeph">Score</code> （2）等。
                        </p>
                        <div class="example" id="GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1__CHDHHHCD">
                           <p class="titleinexample">例9-20评估辅助操作员</p><pre class="oac_no_warn" dir="ltr">创建函数TextScore（文本IN VARCHAR2，键入IN VARCHAR2，indexctx IN ODCIIndexCtx，scanctx IN OUT TextIndexMethods，scanflg IN NUMBER）返回数字开始.......结束TextScore;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-857F0B5F-CDA7-4CD7-823E-FD0B23E67BA1__CHDCJEBH">
                           <p class="titleinexample">示例9-21创建辅助运算符绑定</p><pre class="oac_no_warn" dir="ltr">创建运算符分数绑定（数字）使用TextScore返回包含的数字（VARCHAR2，VARCHAR2）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADDCI4550"></a><div class="props_rev_3"><a id="GUID-1505D347-6D21-47A4-8870-ED57BF845AFF" name="GUID-1505D347-6D21-47A4-8870-ED57BF845AFF"></a><h5 id="ADDCI-GUID-1505D347-6D21-47A4-8870-ED57BF845AFF" class="sect5"><span class="enumeration_section">9.2.3.3</span>运营商解决方案</h5>
                     <div>
                        <p>用户使用单个数字参数调用与辅助数据相对应的运算符。此数字参数在辅助操作和主操作符调用中都必须是文字，以便可以在查询编译时完成操作员关联。</p>
                        <p>为了确定相应的主运算符，Oracle将传递给辅助运算符的数字与作为主运算符的最后一个参数传递的数字进行匹配。找到零个或多个匹配的主运算符调用是错误的。找到匹配的主操作符调用后，</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>主运算符的参数成为辅助运算符的操作数。</p>
                           </li>
                           <li>
                              <p>辅助和主要操作员执行传递相同的扫描上下文。</p>
                           </li>
                        </ul>
                        <p>例如，在<a href="defining-operators.html#GUID-86CBAE69-64D2-4A2D-944F-67388FFD1DF8__CHDIFCGD">例9-17</a>查询中，根据数字参数<code class="codeph">1</code>确定<code class="codeph">Score</code>的调用是<code class="codeph">Contains()</code>的辅助， <code class="codeph">Score</code>的功能实现获取操作数<code class="codeph">(resume</code> ， <code class="codeph">'Oracle&amp;Unix'</code> ， <code class="codeph">indexctx</code> ， <code class="codeph">scanctx, scanflg)</code> ，其中<code class="codeph">scanctx</code>与<code class="codeph">Contains()</code>的调用共享。
                        </p>
                     </div>
                  </div><a id="ADDCI4551"></a><div class="props_rev_3"><a id="GUID-70701FED-2C43-4E38-A6D4-7F330284A21C" name="GUID-70701FED-2C43-4E38-A6D4-7F330284A21C"></a><h5 id="ADDCI-GUID-70701FED-2C43-4E38-A6D4-7F330284A21C" class="sect5"><span class="enumeration_section">9.2.3.4</span>操作员执行</h5>
                     <div>
                        <p>运算符执行使用索引扫描来处理<code class="codeph">Contains()</code>运算符。对于索引扫描的<code class="codeph">fetch()</code>调用返回的每一行，通过向其传递<code class="codeph">ODCIIndexCtx</code>参数来调用<code class="codeph">Score</code>的功能实现，该参数包含索引信息，行标识符和索引扫描状态的句柄。功能实现可以使用索引扫描状态的句柄来计算分数。
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01034.DBMS_ILM_ADMIN.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_ILM_ADMIN package provides an interface to customize Automatic Data Optimization (ADO) policy execution. In combination with partitioning and compression, ADO policies can be used to help implement an Information Lifecycle Management (ILM) strategy."></meta>
      <meta name="description" content="The DBMS_ILM_ADMIN package provides an interface to customize Automatic Data Optimization (ADO) policy execution. In combination with partitioning and compression, ADO policies can be used to help implement an Information Lifecycle Management (ILM) strategy."></meta>
      <title>DBMS_ILM_ADMIN</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_ILM_ADMIN package provides an interface to customize Automatic Data Optimization (ADO) policy execution. In combination with partitioning and compression, ADO policies can be used to help implement an Information Lifecycle Management (ILM) strategy."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_ILM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_INMEMORY.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_ILM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_INMEMORY.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_ILM_ADMIN</li>
            </ol>
            <a id="GUID-D1E74EDA-DCEA-4A38-8167-E9B210610064" name="GUID-D1E74EDA-DCEA-4A38-8167-E9B210610064"></a><a id="ARPLS74887"></a><a id="ARPLS74887"></a>
            
            <h2 id="ARPLS-GUID-D1E74EDA-DCEA-4A38-8167-E9B210610064" class="sect2"><span class="enumeration_chapter">84</span> DBMS_ILM_ADMIN</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_ILM_ADMIN</code>包提供了一个用于自定义自动数据优化（ADO）策略执行的接口。结合分区和压缩，ADO策略可用于帮助实施信息生命周期管理（ILM）策略。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_ILM_ADMIN.html#GUID-7362D587-AF74-460E-8F5F-95227C39E37C" title="要实施ILM策略，可以使用Oracle数据库中的热图来跟踪数据访问和修改。您还可以使用自动数据优化（ADO）在数据库中的不同存储层之间自动压缩和移动数据。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ILM_ADMIN.html#GUID-6AEBFC04-1245-422C-9667-E8CB9196CE00" title="该程序包在definer权限下运行。用户需要DBA权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ILM_ADMIN.html#GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F" title="本主题中的表描述了DBMS_ILM_ADMIN包使用的常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ILM_ADMIN.html#GUID-972C3672-AC30-4FF0-93BF-A8335B0F3B1F" title="此表列出并简要描述了DBMS_ILM_ADMIN包子程序。">DBMS_ILM_ADMIN子程序的摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D1E74EDA-DCEA-4A38-8167-E9B210610064__GUID-2CF3A57D-064E-411A-94D6-336BF64350A8">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关使用此程序包管理自动数据优化（ADO）的信息，请参阅<a href="../vldbg/ilm-strategy-heatmap-ado.html#VLDBG14117" target="_blank"><span class="italic">“Oracle数据库VLDB和分区指南”</span></a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_ILM.html#GUID-C4E7D45F-82DA-45AF-A652-FC9481A2C20F" title="DBMS_ILM包提供了使用自动数据优化（ADO）策略实现信息生命周期管理（ILM）策略的接口。">DBMS_ILM</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_HEAT_MAP.html#GUID-1EC43785-1279-4EAF-8370-9FA1027886D8" title="DBMS_HEAT_MAP包提供了一个接口，用于在各种存储级别（包括块，范围，段，对象和表空间）外部化热图。第二组子程序外部化了由前N个表空间背景实现的热图。">DBMS_HEAT_MAP</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS74889"></a><a id="ARPLS74889"></a><div class="props_rev_3"><a id="GUID-7362D587-AF74-460E-8F5F-95227C39E37C" name="GUID-7362D587-AF74-460E-8F5F-95227C39E37C"></a><h3 id="ARPLS-GUID-7362D587-AF74-460E-8F5F-95227C39E37C" class="sect3"><span class="enumeration_section">84.1</span> DBMS_ILM_ADMIN概述</h3>
               <div>
                  <p>要实施ILM策略，可以使用Oracle数据库中的热图来跟踪数据访问和修改。您还可以使用自动数据优化（ADO）在数据库中的不同存储层之间自动压缩和移动数据。</p>
               </div>
            </div><a id="ARPLS74890"></a><a id="ARPLS74890"></a><div class="props_rev_3"><a id="GUID-6AEBFC04-1245-422C-9667-E8CB9196CE00" name="GUID-6AEBFC04-1245-422C-9667-E8CB9196CE00"></a><h3 id="ARPLS-GUID-6AEBFC04-1245-422C-9667-E8CB9196CE00" class="sect3"><span class="enumeration_section">84.2</span> DBMS_ILM_ADMIN安全模型</h3>
               <div>
                  <p>该程序包在definer权限下运行。用户需要DBA权限。</p>
               </div>
            </div><a id="ARPLS74891"></a><a id="ARPLS74892"></a><a id="ARPLS74893"></a><a id="ARPLS74892"></a><a id="ARPLS74893"></a><a id="ARPLS74891"></a><div class="props_rev_3"><a id="GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F" name="GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F"></a><h3 id="ARPLS-GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F" class="sect3"><span class="enumeration_section">84.3</span> DBMS_ILM_ADMIN常量</h3>
               <div>
                  <p>本主题中的表描述了<code class="codeph">DBMS_ILM_ADMIN</code>包使用的<code class="codeph">DBMS_ILM_ADMIN</code> 。
                  </p>
                  <div class="section">
                     <p>值列引用常量解析的数值或字符值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F__CDCDFHHF">
                     <p class="titleintable">表84-1 DBMS_ILM_ADMIN常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ILM_ADMIN常量" width="100%" border="1" summary="This table presents the constants used in DBMS_ILM_ADMIN and DBMS_ILM" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d472332e450">不变</th>
                              <th align="left" valign="bottom" width="9%" id="d472332e453">值</th>
                              <th align="left" valign="bottom" width="16%" id="d472332e456">类型</th>
                              <th align="left" valign="bottom" width="47%" id="d472332e459">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e464" headers="d472332e450 ">
                                 <p><code class="codeph">ABS_JOBLIMIT</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e464 d472332e453 ">
                                 <p><code class="codeph">12</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e464 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e464 d472332e459 ">
                                 <p>指定并发ILM ADO作业的绝对数量。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e480" headers="d472332e450 ">
                                 <p><code class="codeph">EXECUTION_INTERVAL</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e480 d472332e453 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e480 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e480 d472332e459 ">
                                 <p>确定ADO背景评估发生的频率。以分钟为单位指定。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e495" headers="d472332e450 ">
                                 <p><code class="codeph">保留时间</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e495 d472332e453 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e495 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e495 d472332e459 ">
                                 <p>控制应保持ADO历史记录的时间量。以天为单位指定。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e511" headers="d472332e450 ">
                                 <p><code class="codeph">EXECUTION_MODE</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e511 d472332e453 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e511 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e511 d472332e459 ">
                                 <p>控制ADO执行是否在线，脱机。此参数的值应为<code class="codeph">DBMS_ILM_ADMIN</code> 。 <code class="codeph">ILM_EXECUTION_OFFLINE</code>或<code class="codeph">DBMS_ILM_ADMIN</code> 。 <code class="codeph">ILM_EXECUTION_ONLINE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e538" headers="d472332e450 ">
                                 <p><code class="codeph">JOBLIMIT</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e538 d472332e453 ">
                                 <p><code class="codeph">五</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e538 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e538 d472332e459 ">
                                 <p>随时控制ILM ADO作业数量的上限。最大并发ADO作业数为<code class="codeph">JOBLIMIT*</code> （实例数） <code class="codeph">*</code> （每个实例的CPU数）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e560" headers="d472332e450 ">
                                 <p><code class="codeph">JOB_SIZELIMIT</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e560 d472332e453 ">
                                 <p><code class="codeph">13</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e560 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e560 d472332e459 ">
                                 <p>指定由单个ILM ADO行级压缩作业处理的数据的大小（以兆字节为单位）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e576" headers="d472332e450 ">
                                 <p><code class="codeph">启用</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e576 d472332e453 ">
                                 <p><code class="codeph">7</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e576 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e576 d472332e459 ">
                                 <p>提供关闭或打开背景ADO的方法</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e592" headers="d472332e450 ">
                                 <p><code class="codeph">TBS_PERCENT_USED</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e592 d472332e453 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e592 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e592 d472332e459 ">
                                 <p>决定表空间何时被视为已满。指定为表空间配额的百分比。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e608" headers="d472332e450 ">
                                 <p><code class="codeph">TBS_PERCENT_FREE</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e608 d472332e453 ">
                                 <p><code class="codeph">9</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e608 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e608 d472332e459 ">
                                 <p>通过ADO操作确定目标表空间存储，作为表空间配额的百分比。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e624" headers="d472332e450 ">
                                 <p><code class="codeph">DEG_PARALLEL</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e624 d472332e453 ">
                                 <p><code class="codeph">10</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e624 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e624 d472332e459 ">
                                 <p>决定用于ADO作业的并行度</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e640" headers="d472332e450 ">
                                 <p><code class="codeph">POLICY_TIME</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e640 d472332e453 ">
                                 <p>11</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e640 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e640 d472332e459 ">
                                 <p>决定是否将ADO策略视为以秒为单位而不是以天为单位。可以取值<code class="codeph">ILM_POLICY_IN_SECONDS</code> （以秒为单位处理策略时间）或<code class="codeph">ILM_POLICY_IN_DAYS</code> （以天为单位处理策略时间 - 默认值）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e662" headers="d472332e450 ">
                                 <p><code class="codeph">HEAT_MAP_SEG_READ</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e662 d472332e453 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e662 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e662 d472332e459 ">
                                 <p>段读完了</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e677" headers="d472332e450 ">
                                 <p><code class="codeph">HEAT_MAP_SEG_WRITE</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e677 d472332e453 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e677 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e677 d472332e459 ">
                                 <p>段写完成</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e692" headers="d472332e450 ">
                                 <p><code class="codeph">HEAT_MAP_SEG_SCAN</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e692 d472332e453 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e692 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e692 d472332e459 ">
                                 <p>全表扫描完成</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d472332e707" headers="d472332e450 ">
                                 <p><code class="codeph">HEAT_MAP_SEG_LOOKUP</code></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d472332e707 d472332e453 ">
                                 <p>8</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d472332e707 d472332e456 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d472332e707 d472332e459 ">
                                 <p>索引扫描已完成</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">DBMS_ILM_ADMIN</code>包使用常量作为<a href="DBMS_ILM_ADMIN.html#GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F__GUID-641A0585-A7C4-4D2B-93E8-C2AF76C3C5DF" title="此表显示DBMS_ILM_ADMIN和DBMS_ILM中使用的常量">表84-2中</a>显示的参数值。
                     </p>
                     <div class="tblformal" id="GUID-42EF31BE-3665-40A3-A3BC-580A5CEC1A8F__GUID-641A0585-A7C4-4D2B-93E8-C2AF76C3C5DF">
                        <p class="titleintable">表84-2用作参数值的DBMS_ILM_ADMIN常量</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ILM_ADMIN用作参数值的常量" width="100%" border="1" summary="This table presents the constants used in DBMS_ILM_ADMIN and DBMS_ILM" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d472332e744">不变</th>
                                 <th align="left" valign="bottom" width="10%" id="d472332e747">值</th>
                                 <th align="left" valign="bottom" width="22%" id="d472332e750">类型</th>
                                 <th align="left" valign="bottom" width="40%" id="d472332e753">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e758" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_EXECUTION_OFFLINE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e758 d472332e747 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e758 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e758 d472332e753 ">
                                    <p>指定在执行ADO操作时对象可能处于脱机状态。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e773" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_EXECUTION_ONLINE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e773 d472332e747 ">
                                    <p><code class="codeph">2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e773 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e773 d472332e753 ">
                                    <p>指定在执行ADO操作时对象应处于联机状态</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e789" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_ENABLED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e789 d472332e747 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e789 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e789 d472332e753 ">
                                    <p>表示已启用自动ADO策略评估和执行</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e804" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_DISABLED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e804 d472332e747 ">
                                    <p><code class="codeph">2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e804 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e804 d472332e753 ">
                                    <p>表示禁用自动ADO策略评估和执行</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e820" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_POLICY_IN_DAYS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e820 d472332e747 ">
                                    <p><code class="codeph">0</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e820 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e820 d472332e753 ">
                                    <p>表示策略以天为单位指定。这是默认值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d472332e836" headers="d472332e744 ">
                                    <p><code class="codeph">ILM_POLICY_IN_SECONDS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d472332e836 d472332e747 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d472332e836 d472332e750 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d472332e836 d472332e753 ">
                                    <p>表示策略以秒（而不是天）指定。这可用于快速测试ADO策略评估，而不是等待策略持续时间。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74894"></a><a id="ARPLS74895"></a><a id="ARPLS74895"></a><a id="ARPLS74894"></a><div class="props_rev_3"><a id="GUID-972C3672-AC30-4FF0-93BF-A8335B0F3B1F" name="GUID-972C3672-AC30-4FF0-93BF-A8335B0F3B1F"></a><h3 id="ARPLS-GUID-972C3672-AC30-4FF0-93BF-A8335B0F3B1F" class="sect3"><span class="enumeration_section">84.4</span> DBMS_ILM_ADMIN子程序摘要</h3>
               <div>
                  <p>此表列出并简要描述了<code class="codeph">DBMS_ILM_ADMIN</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-972C3672-AC30-4FF0-93BF-A8335B0F3B1F__GUID-7FD72BFE-C5A7-44EA-8F71-0E7DCBF5FB39">
                     <p class="titleintable">表84-3 DBMS_ILM_ADMIN包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ILM_ADMIN包子程序" width="100%" border="1" summary="This table lists and briefly describes the DBMS_ILM_ADMIN package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d472332e952">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d472332e955">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e960" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-BBBDD35D-8EAF-40D2-A1A5-1B7DAC4EF484" title="除虚拟行外，此过程将删除HEAT_MAP_STAT $中的所有行。">CLEAR_HEAT_MAP_ALL程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e960 d472332e955 ">
                                 <p>删除除虚拟行之外的所有行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e975" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-B9B437FE-7BFE-456F-936D-71119C018AC4" title="此过程清除热图表的全部或部分统计信息，删除与给定模式匹配的给定表或段的行或所有此类行。">CLEAR_HEAT_MAP_TABLE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e975 d472332e955 ">
                                 <p>清除热图表的全部或部分统计信息，删除与给定模式匹配的给定表或段的行，或所有此类行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e987" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31" title="此过程通过指定ILM执行相关参数的值来自定义ILM执行的环境。这些值对下一个后台调度生效。">CUSTOMIZE_ILM程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e987 d472332e955 ">
                                 <p>通过指定ILM执行相关参数的值来自定义ILM执行的环境</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e999" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-F9362A55-FFFF-4276-BADD-6D253D69587E" title="此过程将关闭所有后台ILM调度。">DISABLE_ILM程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e999 d472332e955 ">
                                 <p>关闭所有后台ILM调度</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e1011" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-C8741BE0-8EB6-4CA6-B7A8-F03D6058CCEF" title="此过程将打开所有后台ILM调度。">ENABLE_ILM程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e1011 d472332e955 ">
                                 <p>打开所有后台ILM调度</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e1023" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5" title="此过程设置HTTP请求标头。请求标头在设置后立即发送到Web服务器。">SET_HEAT_MAP_ALL过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e1023 d472332e955 ">
                                 <p>更新或插入所有表的热图行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e1035" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16" title="此过程设置收集热图数据的开始日期。">SET_HEAT_MAP_START过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e1035 d472332e955 ">
                                 <p>设置收集热图数据的开始日期</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d472332e1047" headers="d472332e952 ">
                                 <p><a href="DBMS_ILM_ADMIN.html#GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC" title="此过程更新或插入指定表或段的行。">SET_HEAT_MAP_TABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d472332e1047 d472332e955 ">
                                 <p>更新或插入指定表或段的行</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74950"></a><a id="ARPLS74950"></a><div class="props_rev_3"><a id="GUID-BBBDD35D-8EAF-40D2-A1A5-1B7DAC4EF484" name="GUID-BBBDD35D-8EAF-40D2-A1A5-1B7DAC4EF484"></a><h4 id="ARPLS-GUID-BBBDD35D-8EAF-40D2-A1A5-1B7DAC4EF484" class="sect4"><span class="enumeration_section">84.4.1</span> CLEAR_HEAT_MAP_ALL程序</h4>
                  <div>
                     <p>除虚拟行外，此过程将删除<code class="codeph">HEAT_MAP_STAT$</code>所有行。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBDD35D-8EAF-40D2-A1A5-1B7DAC4EF484__GUID-3DEF9D4A-9126-44F0-B189-302CEF7FEE25">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.CLEAR_HEAT_MAP_ALL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74951"></a><a id="ARPLS74952"></a><a id="ARPLS74952"></a><a id="ARPLS74951"></a><div class="props_rev_3"><a id="GUID-B9B437FE-7BFE-456F-936D-71119C018AC4" name="GUID-B9B437FE-7BFE-456F-936D-71119C018AC4"></a><h4 id="ARPLS-GUID-B9B437FE-7BFE-456F-936D-71119C018AC4" class="sect4"><span class="enumeration_section">84.4.2</span> CLEAR_HEAT_MAP_TABLE过程</h4>
                  <div>
                     <p>此过程清除热图表的全部或部分统计信息，删除与给定模式匹配的给定表或段的行或所有此类行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B9B437FE-7BFE-456F-936D-71119C018AC4__GUID-B5AC04F6-A622-457F-9458-F6602212ACEB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.CLEAR_HEAT_MAP_TABLE（所有者IN VARCHAR2，表名IN VARCHAR2，分区IN VARCHAR2默认''，access_date IN DATE DEFAULT NULL，segment_access_summary IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B9B437FE-7BFE-456F-936D-71119C018AC4__GUID-88AA96B9-BA74-458F-8476-6BF8F3A2BCE9">参数</p>
                        <div class="tblformal" id="GUID-B9B437FE-7BFE-456F-936D-71119C018AC4__GUID-07884556-6DCC-403B-81AB-4A7B5D0D53D5">
                           <p class="titleintable">表84-4 <span class="italic"><span class="bold">CLEAR_HEAT_MAP_TABLE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLEAR_HEAT_MAP_TABLE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ILM_ADMIN.CLEAR_HEAT_MAP_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d472332e1269">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d472332e1272">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1277" headers="d472332e1269 ">
                                       <p><code class="codeph">所有者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1277 d472332e1272 ">
                                       <p>表所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1285" headers="d472332e1269 ">
                                       <p><code class="codeph">表名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1285 d472332e1272 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1293" headers="d472332e1269 ">
                                       <p><code class="codeph">划分</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1293 d472332e1272 ">
                                       <p>子对象的名称，默认为<code class="codeph">NULL</code> 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1304" headers="d472332e1269 ">
                                       <p><code class="codeph">ACCESS_DATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1304 d472332e1272 ">
                                       <p>要删除的<code class="codeph">HEAT_MAP_STAT$</code>条目的日期</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1315" headers="d472332e1269 ">
                                       <p><code class="codeph">segment_access_summary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1315 d472332e1272 ">
                                       <p>段访问常量摘要，指示对段执行的访问操作</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74896"></a><a id="ARPLS74897"></a><a id="ARPLS74897"></a><a id="ARPLS74896"></a><div class="props_rev_3"><a id="GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31" name="GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31"></a><h4 id="ARPLS-GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31" class="sect4"><span class="enumeration_section">84.4.3</span> CUSTOMIZE_ILM过程</h4>
                  <div>
                     <p>此过程通过指定ILM执行相关参数的值来自定义ILM执行的环境。这些值对下一个后台调度生效。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31__GUID-D860E2D1-1A56-4D8B-A71F-88EE87C665CE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.CUSTOMIZE_ILM（参数IN NUMBER，值IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31__GUID-C830BEF2-29AD-4B39-9793-2403F2208E69">参数</p>
                        <div class="tblformal" id="GUID-89D37A64-1FDA-49A8-AAA0-FC993F5ABA31__GUID-39AF0D45-3098-4823-A457-8E3E43F70FE4">
                           <p class="titleintable">表84-5 <span class="italic"><span class="bold">CUSTOMIZE_ILM过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CUSTOMIZE_ILM过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ILM_ADMIN.CUSTOMIZE_ILM subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d472332e1434">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d472332e1437">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1442" headers="d472332e1434 ">
                                       <p><code class="codeph">参数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1442 d472332e1437 ">
                                       <p><code class="codeph">DBMS_ILM_ADMIN</code>包中定义的参数常量之一</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1453" headers="d472332e1434 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1453 d472332e1437 ">
                                       <p>参数值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74898"></a><a id="ARPLS74898"></a><div class="props_rev_3"><a id="GUID-F9362A55-FFFF-4276-BADD-6D253D69587E" name="GUID-F9362A55-FFFF-4276-BADD-6D253D69587E"></a><h4 id="ARPLS-GUID-F9362A55-FFFF-4276-BADD-6D253D69587E" class="sect4"><span class="enumeration_section">84.4.4</span> DISABLE_ILM程序</h4>
                  <div>
                     <p>此过程将关闭所有后台ILM调度。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F9362A55-FFFF-4276-BADD-6D253D69587E__GUID-1AD0E17F-2984-4BE5-9D5A-4910AF6E05A3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.DISABLE_ILM;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74899"></a><a id="ARPLS74899"></a><div class="props_rev_3"><a id="GUID-C8741BE0-8EB6-4CA6-B7A8-F03D6058CCEF" name="GUID-C8741BE0-8EB6-4CA6-B7A8-F03D6058CCEF"></a><h4 id="ARPLS-GUID-C8741BE0-8EB6-4CA6-B7A8-F03D6058CCEF" class="sect4"><span class="enumeration_section">84.4.5</span> ENABLE_ILM程序</h4>
                  <div>
                     <p>此过程将打开所有后台ILM调度。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8741BE0-8EB6-4CA6-B7A8-F03D6058CCEF__GUID-28EC8E3F-AA42-49B1-B810-59A58D0CFA85">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.ENABLE_ILM;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74953"></a><a id="ARPLS74954"></a><a id="ARPLS74954"></a><a id="ARPLS74953"></a><div class="props_rev_3"><a id="GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5" name="GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5"></a><h4 id="ARPLS-GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5" class="sect4"><span class="enumeration_section">84.4.6</span> SET_HEAT_MAP_ALL过程</h4>
                  <div>
                     <p>此过程设置HTTP请求标头。请求标头在设置后立即发送到Web服务器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5__GUID-E1163CB5-92D7-4375-9236-F484EA8A05AC">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.SET_HEAT_MAP_ALL（access_date IN DATE，segment_access_summary IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5__GUID-F085C265-50F5-4024-89FD-F73E1E3B3A4B">参数</p>
                        <div class="tblformal" id="GUID-6DE81FDB-16E6-4004-8F92-69F6BC9939F5__GUID-396C0467-3D55-417A-8046-04E0ABC2EBD8">
                           <p class="titleintable">表84-6 <span class="italic"><span class="bold">SET_HEAT_MAP_ALL过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_HEAT_MAP_ALL过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ILM_ADMIN.SET_HEAT_MAP_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d472332e1763">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d472332e1766">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1771" headers="d472332e1763 ">
                                       <p><code class="codeph">ACCESS_DATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1771 d472332e1766 ">
                                       <p>要添加的<code class="codeph">HEAT_MAP_STAT$</code>条目的日期</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1782" headers="d472332e1763 ">
                                       <p><code class="codeph">segment_access_summary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1782 d472332e1766 ">
                                       <p>段访问常量摘要，指示对段执行的访问操作</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74978"></a><a id="ARPLS74979"></a><a id="ARPLS74979"></a><a id="ARPLS74978"></a><div class="props_rev_3"><a id="GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16" name="GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16"></a><h4 id="ARPLS-GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16" class="sect4"><span class="enumeration_section">84.4.7</span> SET_HEAT_MAP_START过程</h4>
                  <div>
                     <p>此过程设置收集热图数据的开始日期。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16__GUID-F81BE453-EF08-4BBA-A507-6446C38C7BEA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.SET_HEAT_MAP_START（start_date IN DATE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16__GUID-E29D5217-753E-40DE-9261-CDA27D02F96B">参数</p>
                        <div class="tblformal" id="GUID-DAD83C6A-9E62-41CC-9E8D-1FCC4CFDBC16__GUID-94D634E7-9F4B-47F1-8B4A-DBC391AEBB3A">
                           <p class="titleintable">表84-7 <span class="italic"><span class="bold">SET_HEAT_MAP_START过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_HEAT_MAP_START过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ILM_ADMIN.SET_HEAT_MAP_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d472332e1901">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d472332e1904">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e1909" headers="d472332e1901 ">
                                       <p><code class="codeph">开始日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e1909 d472332e1904 ">
                                       <p>指示所有统计信息有效的新日期</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74955"></a><a id="ARPLS74956"></a><a id="ARPLS74956"></a><a id="ARPLS74955"></a><div class="props_rev_3"><a id="GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC" name="GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC"></a><h4 id="ARPLS-GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC" class="sect4"><span class="enumeration_section">84.4.8</span> SET_HEAT_MAP_TABLE过程</h4>
                  <div>
                     <p>此过程更新或插入指定表或段的行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC__GUID-45B7FD9B-4EF4-43F2-992A-DA67FCD8D4DD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ILM_ADMIN.SET_HEAT_MAP_TABLE（所有者IN VARCHAR2，表名IN VARCHAR2，分区IN VARCHAR2 DEFAULT''，access_date IN DATE DEFAULT NULL，segment_access_summary IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC__GUID-FB80781D-B9C7-418B-A0BE-E8C3014C6B10">参数</p>
                        <div class="tblformal" id="GUID-60392DCC-9D4F-4506-85A8-AE640BC12BAC__GUID-87D901DC-0453-4860-A5A2-B4122469FEB1">
                           <p class="titleintable">表84-8 <span class="italic"><span class="bold">SET_HEAT_MAP_TABLE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_HEAT_MAP_TABLE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ILM_ADMIN.SET_HEAT_MAP_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d472332e2029">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d472332e2032">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e2037" headers="d472332e2029 ">
                                       <p><code class="codeph">所有者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e2037 d472332e2032 ">
                                       <p>表所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e2045" headers="d472332e2029 ">
                                       <p><code class="codeph">表名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e2045 d472332e2032 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e2053" headers="d472332e2029 ">
                                       <p><code class="codeph">划分</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e2053 d472332e2032 ">
                                       <p>子对象的名称，默认为<code class="codeph">NULL</code> 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e2064" headers="d472332e2029 ">
                                       <p><code class="codeph">ACCESS_DATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e2064 d472332e2032 ">
                                       <p>要添加的<code class="codeph">HEAT_MAP_STAT$</code>条目的日期</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d472332e2075" headers="d472332e2029 ">
                                       <p><code class="codeph">segment_access_summary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d472332e2075 d472332e2032 ">
                                       <p>段访问常量摘要，指示对段执行的访问操作</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00788.determining-XML-differences-using-C.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An explanation is given of how to determine the differences between two Extensible Markup Language (XML) inputs and apply the differences as a patch to one of the XML documents."></meta>
      <meta name="description" content="An explanation is given of how to determine the differences between two Extensible Markup Language (XML) inputs and apply the differences as a patch to one of the XML documents."></meta>
      <title>使用C确定XML差异</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="An explanation is given of how to determine the differences between two Extensible Markup Language (XML) inputs and apply the differences as a patch to one of the XML documents."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-XML-schema-processor-for-C.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-SOAP-with-XDK.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-XML-schema-processor-for-C.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-SOAP-with-XDK.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-C.html" property="item" typeof="WebPage"><span property="name">适用于C的Oracle XML Developer's Kit</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用C确定XML差异</li>
            </ol>
            <a id="GUID-C602E94C-6FC5-4451-B2E0-ED6C5A888B52" name="GUID-C602E94C-6FC5-4451-B2E0-ED6C5A888B52"></a><a id="ADXDK1041"></a><a id="ADXDK2500"></a>
            
            <h2 id="ADXDK-GUID-C602E94C-6FC5-4451-B2E0-ED6C5A888B52" class="sect2"><span class="enumeration_chapter">8</span>使用C确定XML差异</h2>
         </header>
         <div class="ind">
            <div>
               <p>解释了如何确定两个可扩展标记语言（XML）输入之间的差异，并将差异作为补丁应用于其中一个XML文档。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div><a id="ADXDK19828"></a><div class="props_rev_3"><a id="GUID-9CE0A27F-1595-4BA1-8BF2-083C10274EA9" name="GUID-9CE0A27F-1595-4BA1-8BF2-083C10274EA9"></a><h3 id="ADXDK-GUID-9CE0A27F-1595-4BA1-8BF2-083C10274EA9" class="sect3">C语言中的XMLDiff概述</h3>
               <div>
                  <p>您可以使用Oracle <code class="codeph">XmlDiff</code>确定两个类似的XML文档之间的差异。它生成一个<code class="codeph">Xdiff</code>实例文档，指示差异。<code class="codeph">Xdiff</code>文档是符合XML模式（ <code class="codeph">Xdiff</code>模式）的XML文档。
                  </p>
                  <p>然后，您可以使用<code class="codeph">XmlPatch</code> ，它获取<code class="codeph">Xdiff</code>实例文档并将更改应用于其他文档。您可以使用此过程将相同的更改应用于大量XML文档。
                  </p>
                  <p><code class="codeph">XmlDiff</code>仅支持用于输入和输出的文档对象模型（DOM）应用程序编程接口（API）。
                  </p>
                  <p><code class="codeph">XmlPatch</code>还支持输入和补丁文档的DOM。
                  </p>
                  <p>您可以通过C API或命令行工具使用<code class="codeph">XmlDiff</code>和<code class="codeph">XmlPatch</code> 。它们由两个结构化查询语言（SQL）函数公开。
                  </p>
                  <p>提供<code class="codeph">XmlHash</code> C API来计算XML树或子树的哈希值。如果两个树或子树的哈希值相等，则树的概率非常高。
                  </p>
               </div><a id="ADXDK19829"></a><div class="sect3"><a id="GUID-BB147A78-50C6-43DD-8A07-CAAB060A5F74" name="GUID-BB147A78-50C6-43DD-8A07-CAAB060A5F74"></a><h4 id="ADXDK-GUID-BB147A78-50C6-43DD-8A07-CAAB060A5F74" class="sect4">XMLDiff的处理流程</h4>
                  <div>
                     <p>描述了XMLDiff流程。</p>
                     <ol>
                        <li>
                           <p>两个输入文档由<code class="codeph">XmlDiff</code>进行比较。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">XmlDiff</code>创建一个<code class="codeph">Xdiff</code>实例文档。
                           </p>
                        </li>
                        <li>
                           <p>如果需要，应用程序可以将<code class="codeph">Xdiff</code>实例文档传递给<code class="codeph">XmlPatch</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">XmlPatch</code>可以将从比较中捕获的差异应用于应用程序指定的其他文档。
                           </p>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADXDK2510"></a><div class="props_rev_3"><a id="GUID-D25785EA-996A-44BE-ADF8-FF47DDD174E8" name="GUID-D25785EA-996A-44BE-ADF8-FF47DDD174E8"></a><h3 id="ADXDK-GUID-D25785EA-996A-44BE-ADF8-FF47DDD174E8" class="sect3">使用XmlDiff</h3>
               <div>
                  <p><code class="codeph">XmlDiff</code>比较代表两个输入文档的树，以确定它们的差异。两个输入文档都必须使用相同的字符集编码。<code class="codeph">Xdiff</code> （输出）实例文档具有与输入文档的数据编码（DOM编码）相同的编码。
                  </p>
               </div><a id="ADXDK19830"></a><div class="props_rev_3"><a id="GUID-21B69703-474D-4F5A-9804-DD67F1EBC279" name="GUID-21B69703-474D-4F5A-9804-DD67F1EBC279"></a><h4 id="ADXDK-GUID-21B69703-474D-4F5A-9804-DD67F1EBC279" class="sect4">比较优化的用户选项</h4>
                  <div>
                     <p>有两种可供比较的优化选项：全局和局部优化。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>全局优化 - 默认</p>
                           <p>比较整个文档树。</p>
                        </li>
                        <li>
                           <p>本地优化</p>
                           <p>比较是在兄弟级别。局部优化比较来自两棵树的相应父母下的兄弟姐妹。</p>
                        </li>
                     </ul>
                     <p>全局优化可以为大型文档占用更多时间和空间，但总是产生最小的差异集（最佳差异）。局部优化要快得多，但可能无法产生最佳差异。</p>
                  </div>
               </div><a id="ADXDK19831"></a><div class="props_rev_3"><a id="GUID-CD4119E5-921E-498A-8F3F-3432D5CD08C8" name="GUID-CD4119E5-921E-498A-8F3F-3432D5CD08C8"></a><h4 id="ADXDK-GUID-CD4119E5-921E-498A-8F3F-3432D5CD08C8" class="sect4">哈希的用户选项</h4>
                  <div>
                     <p>散列通常会加速全局优化，但质量可能会很小。通过局部优化，散列可以提高差异输出的质量。使用不同的哈希级别可能会产生局部和全局差异。您可以为本地和全局优化指定散列的使用。</p>
                     <p>要指定散列，请提供<code class="codeph">hashLevel</code>参数。如果<code class="codeph">hashLevel</code>大于1，那么只有<code class="codeph">DOMHash</code>值用于比较<code class="codeph">depth &gt;= hashLevel</code> of difference的所有子树。如果散列值相等，则假定子树相等。
                     </p>
                  </div>
               </div><a id="ADXDK19832"></a><div class="props_rev_3"><a id="GUID-C427B536-D231-4214-A051-E32F24251A22" name="GUID-C427B536-D231-4214-A051-E32F24251A22"></a><h4 id="ADXDK-GUID-C427B536-D231-4214-A051-E32F24251A22" class="sect4">XmlDiff如何查看输入文档</h4>
                  <div>
                     <p>描述了<code class="codeph">XmlDiff</code>如何处理输入文档。
                     </p>
                     <p><code class="codeph">XmlDiff</code>在进行比较时忽略属性顺序的差异。
                     </p>
                     <p><code class="codeph">XmlDiff</code>忽略<code class="codeph">DocType</code>声明。不根据文档类型定义（DTD）验证文件。
                     </p>
                     <p>如果名称空间前缀引用相同的名称空间<code class="codeph">XmlDiff</code>资源标识符（URI），则<code class="codeph">XmlDiff</code>忽略名称空间前缀中的任何差异。否则，如果两个节点具有相同的本地名称和内容但名称空间URI不同，则会指示这些差异。
                     </p>
                     <div class="infoboxnote" id="GUID-C427B536-D231-4214-A051-E32F24251A22__GUID-50B88F23-AF51-4934-A31A-68E87E2DBFC2">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">XmlDiff</code>以非基于非标准的方式对其输入文档进行操作。它不以类型感知方式对元素或属性进行操作。
                        </p>
                     </div>
                  </div>
               </div><a id="ADXDK19833"></a><a id="ADXDK2540"></a><div class="props_rev_3"><a id="GUID-74C319A8-BE88-4200-AABC-FD153108D3F3" name="GUID-74C319A8-BE88-4200-AABC-FD153108D3F3"></a><h4 id="ADXDK-GUID-74C319A8-BE88-4200-AABC-FD153108D3F3" class="sect4">使用XmlDiff命令行实用程序</h4>
                  <div>
                     <p>描述了实用程序<code class="codeph">XmlDiff</code>的命令行选项。
                     </p>
                     <div class="section">
                        <div class="tblformal" id="GUID-74C319A8-BE88-4200-AABC-FD153108D3F3__BABJDEEA">
                           <p class="titleintable">表8-1 C语言的XmlDiff命令行选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="C语言的XmlDiff命令行选项" width="100%" border="1" summary="This table describes command-line options. Rows are XmlDiff command line options. The first column is the option name, the second column is its description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d26881e776">选项</th>
                                    <th align="left" valign="bottom" width="69%" id="d26881e779">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e784" headers="d26881e776 ">
                                       <p><code class="codeph">-e</code>编码</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e784 d26881e779 ">
                                       <p>指定默认输入文件编码。如果在XML文件中未指定编码，则假定此编码用于输入。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e793" headers="d26881e776 ">
                                       <p><code class="codeph">-E</code>编码</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e793 d26881e779 ">
                                       <p>指定输出/数据编码。DOM和<code class="codeph">Xdiff</code>实例文档是在此编码中创建的。默认值是Unicode（UTF-8）的8位编码。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e805" headers="d26881e776 ">
                                       <p><code class="codeph">-h</code> <code class="codeph">hash</code> L <code class="codeph">evel</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e805 d26881e779 ">
                                       <p>指定哈希级别。 <code class="codeph">0</code>表示无。
                                       </p>
                                       <p>如果大于<code class="codeph">1</code> ，则为子树使用散列的起始深度。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e827" headers="d26881e776 ">
                                       <p><code class="codeph">-G</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e827 d26881e779 ">
                                       <p>设置全局优化（默认）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e835" headers="d26881e776 ">
                                       <p><code class="codeph">-l</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e835 d26881e779 ">
                                       <p>设置本地优化。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e843" headers="d26881e776 ">
                                       <p><code class="codeph">-p</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e843 d26881e779 ">
                                       <p>显示此用法帮助。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e851" headers="d26881e776 ">
                                       <p><code class="codeph">-u</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e851 d26881e779 ">
                                       <p>禁用更新操作。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19835"></a><a id="ADXDK19834"></a><div class="props_rev_3"><a id="GUID-3750C497-D76A-4F95-9DEB-BC047170FF14" name="GUID-3750C497-D76A-4F95-9DEB-BC047170FF14"></a><h4 id="ADXDK-GUID-3750C497-D76A-4F95-9DEB-BC047170FF14" class="sect4">样本输入文档</h4>
                  <div>
                     <p>提供了一个示例输入XML文档。</p>
                     <div class="section">
                        <p><a href="determining-XML-differences-using-C.html#GUID-3750C497-D76A-4F95-9DEB-BC047170FF14__BABBHCIA">示例8-1</a>是一个示例XML文档，您可以使用它来解释使用<code class="codeph">XmlDiff</code>和<code class="codeph">XmlPatch</code>所产生的更新。接下来是一些假设的变化。
                        </p>
                        <p>假设有另一个文件<code class="codeph">book2.xml</code> ，它看起来就像<a href="determining-XML-differences-using-C.html#GUID-3750C497-D76A-4F95-9DEB-BC047170FF14__BABBHCIA">例8-1，</a>除了它导致这些操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>删除“第十一诫”，一个<code class="codeph">delete-node</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>将来自美国的“C ++ Primer”的国家/地区代码更改为US，这是一种<code class="codeph">update-node</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>向“Emperor's New Mind”添加描述，这是一个<code class="codeph">append-node</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>将版本添加到“晚间新闻”，即<code class="codeph">insert-node-before</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>更新“晚间新闻”的价格，这是一个<code class="codeph">update-node</code>操作。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3750C497-D76A-4F95-9DEB-BC047170FF14__BABBHCIA">
                        <p class="titleinexample">例8-1 book1.xml</p><pre class="pre codeblock"><code>&lt;？xml版本=“1.0”？&gt; &lt;booklist xmlns =“http://booklist.oracle.com”&gt; &lt;book&gt; &lt;title&gt;十二只红鲱鱼&lt;/ title&gt; &lt;作者&gt; Jeffrey Archer &lt;/ author&gt; &lt;publisher&gt; Harper Collins &lt;/ publisher&gt; &lt;price &gt; 7.99 &lt;/ price&gt; &lt;/ book&gt; &lt;book&gt; &lt;title language =“English”&gt;第十一诫&lt;/ title&gt; &lt;author&gt; Jeffrey Archer &lt;/ author&gt; &lt;publisher&gt; McGraw Hill &lt;/ publisher&gt; &lt;price&gt; 3.99 &lt;/ price&gt; &lt;/ book&gt; &lt;book&gt; &lt;title language =“English”country =“USA”&gt; C ++ Primer &lt;/ title&gt; &lt;author&gt; Lippmann &lt;/ author&gt; &lt;publisher&gt; Harper Collins &lt;/ publisher&gt; &lt;price&gt; 4.99 &lt;/ price&gt; &lt;/ book&gt; &lt;book&gt; &lt;title&gt; Emperor's New Mind &lt;/ title&gt; &lt;author&gt; Roger Penrose &lt;/ author&gt; &lt;publisher&gt; Oxford Publishing Company &lt;/ publisher&gt; &lt;price&gt; 15.9 &lt;/ price&gt; &lt; / book&gt; &lt;book&gt; &lt;title&gt;晚间新闻&lt;/ title&gt; &lt;author&gt; Arthur Hailey &lt;/ author&gt; &lt;publisher&gt; MacMillan Publishers &lt;/ publisher&gt; &lt;price&gt; 9.99 &lt;/ price&gt; &lt;/ book&gt; &lt;/ booklist&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19837"></a><a id="ADXDK19836"></a><div class="props_rev_3"><a id="GUID-F7B63052-2AC2-4E25-A50D-CF8F0F2ADCAB" name="GUID-F7B63052-2AC2-4E25-A50D-CF8F0F2ADCAB"></a><h4 id="ADXDK-GUID-F7B63052-2AC2-4E25-A50D-CF8F0F2ADCAB" class="sect4">示例Xdiff实例文档</h4>
                  <div>
                     <p>提供了示例<code class="codeph">Xdiff</code>实例文档。
                     </p>
                     <div class="section">
                        <p>本节显示通过比较上一节中描述的这两个XML文件生成的<code class="codeph">Xdiff</code>实例文档。以下各节介绍了XML处理说明和本文档的操作。
                        </p>
                        <p>您可以调用<code class="codeph">XmlDiff</code> ：</p><pre class="oac_no_warn" dir="ltr">&gt; xmldiff book1.xml book2.xml</pre><p>您还可以检查示例应用程序的参数和标志。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F7B63052-2AC2-4E25-A50D-CF8F0F2ADCAB__GUID-911590D7-7364-4788-AFA0-233514ABBEF8">
                        <p class="titleinexample">示例8-2示例Xdiff实例文档</p><pre class="pre codeblock"><code>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;xd：xdiff xsi：schemaLocation =“http://xmlns.oracle.com/xdb/xdiff.xsd xmlns：xd =”http://xmlns.oracle.com/xdb/xdiff.xsd“xmlns：xsi = “http://www.w3.org/2001/XMLSchema-instance”xmlns：oraxdfns_0 =“http://booklist.oracle.com”&gt; <span class="bold">&lt;？oracle-xmldiff operations-in-docorder =“true”output-model =“snapshot”</span> <span class="bold">diff-algorithm =“global”？&gt;</span> &lt;xd：delete-node xd：node-type =“element”xd：xpath =“/ oraxdfns_0：booklist [1] / oraxdfns_0：book [2]”/&gt; &lt;xd：update-node xd：node-type = “attribute”xd：parent-xpath =“/ oraxdfns_0：booklist [1] / oraxdfns_0：book [3] / oraxdfns_0：title [1]”xd：attr-local =“country”&gt; &lt;xd：content&gt; US &lt;/ xd：content&gt; &lt;/ xd：update-node&gt; &lt;xd：append-node xd：node-type =“element”xd：parent-xpath =“/ oraxdfns_0：booklist [1] / oraxdfns_0：book [4]”&gt; &lt;xd：content&gt; &lt;oraxdfns_0：description&gt;这是经典的&lt;/ oraxdfns_0：description&gt; &lt;/ xd：content&gt; &lt;/ xd：append-node&gt; &lt;xd：insert-node-before xd：node-type =“element “xd：xpath =”/ oraxdfns_0：booklist [1] / oraxdfns_0：book [5] / oraxdfns_0：author [1]“&gt; &lt;xd：content&gt; &lt;oraxdfns_0：edition&gt; Hardcover &lt;/ oraxdfns_0：edition&gt; &lt;/ xd： content&gt; &lt;/ xd：insert-node-before&gt; &lt;xd：update-node xd：node-type =“text”xd：xpath =“/ oraxdfns_0：booklist [1] / oraxdfns_0：book [5] / oraxdfns_0：price [1] / text（）[1]“&gt; &lt;xd：content&gt; 12.99 &lt;/ xd：content&gt; &lt;/ xd：update-node&gt; &lt;/ xd：xdiff&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19838"></a><div class="props_rev_3"><a id="GUID-707B667B-9A93-40E0-A109-1FE89C58BF47" name="GUID-707B667B-9A93-40E0-A109-1FE89C58BF47"></a><h4 id="ADXDK-GUID-707B667B-9A93-40E0-A109-1FE89C58BF47" class="sect4">输出模型和XML处理指令</h4>
                  <div>
                     <p><code class="codeph">Xdiff</code>实例文档使用一些XML处理指令（在上一节中以粗体显示），用于表示差异处理的某些方面。
                     </p>
                     <p>见<a href="determining-XML-differences-using-C.html#GUID-F795D8C3-DB9B-4617-B3B6-F66FB8F0BF94" title="提供了Xdiff XML模式，Xdiff实例文档（输出）遵循该模式。">Xdiff Schema</a> 。这些说明和相关选项包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">operations-in-docorder</code> ：选项是<code class="codeph">true</code>还是<code class="codeph">false</code> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">true</code> - <code class="codeph">Xdiff</code>实例文档以与文档中相同的顺序引用第一个文档中的节点。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">false</code> - <code class="codeph">Xdiff</code>实例文档未按文档中的顺序引用第一个文档中的节点。
                                 </p>
                              </li>
                           </ul>
                           <p>全局优化的输出满足<code class="codeph">operations-in-docorder</code>的<code class="codeph">operations-in-docorder</code>要求，但本地优化不符合。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">output-model</code> ：选项包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">snapshot</code> - <code class="codeph">Xmldiff</code>在快照模型中生成输出，并遵循UNIX <span class="italic">diff</span>模型。每个操作都使用<code class="codeph">XPath</code> ，就好像没有对输入文档应用任何操作一样。这是默认值。仅当<code class="codeph">operations-in-docorder</code>设置为<code class="codeph">true</code>且<code class="codeph">XPath</code>很简单时， <code class="codeph">XmlPatch</code>才能处理此模型。简单的<code class="codeph">XPath</code>需要子轴，没有通配符，并且必须使用位置谓词，例如<code class="codeph">/root[1]/child[2]/text()[2]</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">current</code> -Each操作使用<code class="codeph">XPath</code> ，就好像所有前一个操作都已应用于输入文档一样。尽管<code class="codeph">XmlDiff</code>在当前模型中不会产生差异，但<code class="codeph">XmlPatch</code>可以在当前模型中处理手工制作的<code class="codeph">diff</code>文档</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">diff-algorithm</code> ：选项指示产生差异的优化。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>全局优化</p>
                              </li>
                              <li>
                                 <p>局部优化</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="determining-XML-differences-using-C.html#GUID-21B69703-474D-4F5A-9804-DD67F1EBC279" title="有两种可供比较的优化选项：全局和局部优化。">比较优化的用户选项</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK1042"></a><a id="ADXDK19839"></a><div class="props_rev_3"><a id="GUID-BBB028EC-736C-4F02-B330-75A03B96C1E6" name="GUID-BBB028EC-736C-4F02-B330-75A03B96C1E6"></a><h4 id="ADXDK-GUID-BBB028EC-736C-4F02-B330-75A03B96C1E6" class="sect4">Xdiff操作</h4>
                  <div>
                     <p><code class="codeph">XmlDiff</code>使用<code class="codeph">Xdiff</code>实例文档指示的操作捕获差异。描述了<code class="codeph">XmlDiff</code>操作。
                     </p>
                     <div class="tblformal" id="GUID-BBB028EC-736C-4F02-B330-75A03B96C1E6__GUID-F418F0B5-0171-45B7-91C2-43BD5FDA9ABD">
                        <p class="titleintable">表8-2 Xdiff操作属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Xdiff操作属性" width="100%" border="1" summary="Lists and describes the attributes of an Xdiff operation." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d26881e1409">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d26881e1412">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26881e1417" headers="d26881e1409 ">
                                    <p><code class="codeph">parent-path</code>或<code class="codeph">xpath</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26881e1417 d26881e1412 ">
                                    <p>指定<code class="codeph">XPATH</code>操作数节点或父节点的位置<code class="codeph">XPATH</code>节点的位置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26881e1434" headers="d26881e1409 ">
                                    <p><code class="codeph">节点型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26881e1434 d26881e1412 ">
                                    <p>指定操作数节点的类型。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26881e1442" headers="d26881e1409 ">
                                    <p><code class="codeph">内容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26881e1442 d26881e1412 ">
                                    <p>子元素，指定附加或插入的新子树或值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">Xdiff</code>实例文档中提供的<code class="codeph">Xdiff</code>操作是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">append-node</code> ：</p>
                           <p><code class="codeph">append-node</code>元素指定将给定类型的节点添加为给定父节点的最后一个子节点。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">insert-node-before</code> ：</p>
                           <p><code class="codeph">insert-node-before</code>元素指定在给定的引用节点之前插入给定类型的节点。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">delete-node</code> ：</p>
                           <p><code class="codeph">delete-node</code>元素指定<code class="codeph">delete-node</code>及其所有子节点。您可以使用此元素删除元素，注释等。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">update-node</code> ：</p>
                           <p><code class="codeph">update-node</code>指定与具有给定<code class="codeph">XPath</code>表达式的节点关联的值更新为指定的新值。内容是文本节点的值。属性的值是属性节点的值。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>更新文本节点：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>用户可以关闭更新节点操作的生成。</p>
                                    </li>
                                    <li>
                                       <p>属性的值是属性节点的值。</p>
                                    </li>
                                    <li>
                                       <p>仅通过全局优化为文本节点生成<code class="codeph">update-node</code> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>元素更新：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">XmlDiff</code>不会为元素节点生成更新操作。
                                       </p>
                                       <p>您可以手动修改<code class="codeph">Xdiff</code>实例文档以创建适用于<code class="codeph">XmlPatch</code>的更新操作，也可以提供完全手写的<code class="codeph">Xdiff</code>实例文档。更新操作的元素的所有子项都将被删除。将导入在内容节点下指定的任何新子树。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADXDK19840"></a><div class="props_rev_3"><a id="GUID-4BF58AA7-A438-4663-9483-2DEAAC908885" name="GUID-4BF58AA7-A438-4663-9483-2DEAAC908885"></a><h4 id="ADXDK-GUID-4BF58AA7-A438-4663-9483-2DEAAC908885" class="sect4">Xdiff实例文档的格式</h4>
                  <div>
                     <p><code class="codeph">Xdiff</code>实例文档<code class="codeph">XmlDiff</code>的输出是符合<code class="codeph">Xdiff</code> XML模式的XML文档。输出文档包含一系列描述两个输入文档之间差异的操作。如果将差异应用于第一个文档，则会获得第二个文档。
                     </p>
                  </div>
               </div><a id="ADXDK19842"></a><a id="ADXDK19841"></a><div class="props_rev_3"><a id="GUID-F795D8C3-DB9B-4617-B3B6-F66FB8F0BF94" name="GUID-F795D8C3-DB9B-4617-B3B6-F66FB8F0BF94"></a><h4 id="ADXDK-GUID-F795D8C3-DB9B-4617-B3B6-F66FB8F0BF94" class="sect4">Xdiff Schema</h4>
                  <div>
                     <p>提供了<code class="codeph">Xdiff</code> XML模式， <code class="codeph">Xdiff</code>实例文档（输出）遵循该模式。
                     </p>
                     <div class="example" id="GUID-F795D8C3-DB9B-4617-B3B6-F66FB8F0BF94__BABJEFEE">
                        <p class="titleinexample">例8-3 Xdiff模式：xdiff.xsd</p><pre class="pre codeblock"><code>&lt;schema targetNamespace =“http://xmlns.oracle.com/xdb/xdiff.xsd”xmlns =“http://www.w3.org/2001/XMLSchema”xmlns：xd =“http://xmlns.oracle .com / xdb / xdiff.xsd“version =”1.0“elementFormDefault =”qualified“attributeFormDefault =”qualified“&gt; &lt;annotation&gt; &lt;documentation xml：lang =”en“&gt;定义捕获两者之间差异的XML文档的结构XML文档。Oracle XmlDiff不支持的更改可能无法在此架构中表达。Xdiff文档中的'oracle-xmldiff'PI：我们使用'oracle-xmldiff'PI来描述diff的某些方面。PI表示“在docorder中运行”和“输出模型”的值。XmlDiff的输出总是有PI。如果用户对diff文档进行手工编码，那么它也必须将PI作为顶级xdiff元素的第一个子元素，以便能够调用XmlPatch。operations-in-docorder：可以是'true'或'false'。如果为true，则diff文档中的操作以与文档顺序相同的顺序引用输入文档的元素。全局算法的输出满足此要求，而本地算法则不满足。output-model：表示diff的输出模型。可以是“快照”或“当前”。快照模型：每个操作都使用Xpath，就好像没有对输入文档应用任何操作一样。 （如UNIX diff）这是XmlDiff输出中使用的模型。XmlPatch适用于此（以及当前模型）。要使XmlPatch处理此模型，“operations-in-docorder”必须为true且Xpath必须简单。 （请参阅XmlDif C API文档）。当前模型：每个操作都使用Xpath，就好像前一个操作都已应用于输入文档一样。即使不满足'operations-in-docorder'标准且xpath不简单，也可以使用XmlPatch。&lt;！ - 示例：&lt;？oracle-xmldiff operations-in-docorder =“true”output-model =“snapshot”diff-algorithm =“global”？&gt;  - &gt; &lt;/ documentation&gt; &lt;/ annotation&gt; &lt;！ - 枚举支持的节点类型 - &gt; &lt;simpleType name =“xdiff-nodetype”&gt; &lt;restriction base =“string”&gt; &lt;enumeration value =“element”/ &gt; &lt;enumeration value =“attribute”/&gt; &lt;enumeration value =“text”/&gt; &lt;enumeration value =“cdata”/&gt; &lt;enumeration value =“entity-reference”/&gt; &lt;enumeration value =“entity”/&gt; &lt;enumeration value =“processing-instruction”/&gt; &lt;enumeration value =“notation”/&gt; &lt;enumeration value =“comment”/&gt; &lt;/ restriction&gt; &lt;/ simpleType&gt; &lt;element name =“xdiff”&gt; &lt;complexType&gt; &lt;choice minOccurs = “0”maxOccurs =“unbounded”&gt; &lt;element name =“append-node”&gt; &lt;complexType&gt; &lt;sequence&gt; &lt;element name =“content”type =“anyType”/&gt; &lt;/ sequence&gt; &lt;attribute name =“node- type“type =”xd：xdiff-nodetype“/&gt; &lt;attribute name =”xpath“type =”string“/&gt; &lt;attribute name =”parent-xpath“type =”string“/&gt; &lt;attribute name =”attr- local“type =”string“/&gt; &lt;attribute name =”attr-nsuri“type =”string“/&gt; &lt;/ complexType&gt; &lt;/ element&gt; &lt;element name =”insert-node-before“&gt; &lt;complexType&gt; &lt;sequence &gt; &lt;element name =“cont ent“type =”anyType“/&gt; &lt;/ sequence&gt; &lt;attribute name =”xpath“type =”string“/&gt; &lt;attribute name =”node-type“type =”xd：xdiff-nodetype“/&gt; &lt;/ complexType &gt; &lt;/ element&gt; &lt;element name =“delete-node”&gt; &lt;complexType&gt; &lt;attribute name =“node-type”type =“xd：xdiff-nodetype”/&gt; &lt;attribute name =“xpath”type =“string” /&gt; &lt;attribute name =“parent-xpath”type =“string”/&gt; &lt;attribute name =“attr-local”type =“string”/&gt; &lt;attribute name =“attr-nsuri”type =“string”/&gt; &lt;/ complexType&gt; &lt;/ element&gt; &lt;element name =“update-node”&gt; &lt;complexType&gt; &lt;sequence&gt; &lt;element name =“content”type =“anyType”/&gt; &lt;/ sequence&gt; &lt;attribute name =“node-type “type =”xd：xdiff-nodetype“/&gt; &lt;attribute name =”parent-xpath“type =”string“/&gt; &lt;attribute name =”xpath“type =”string“/&gt; &lt;attribute name =”attr-local “type =”string“/&gt; &lt;attribute name =”attr-nsuri“type =”string“/&gt; &lt;/ complexType&gt; &lt;/ element&gt; &lt;element name =”rename-node“&gt; &lt;complexType&gt; &lt;sequence&gt; &lt;element name =“content”type =“anyType”/&gt; &lt;/ sequence&gt; &lt;attribute name =“xpath”type =“string”/&gt; &lt;attribute name =“node-type”type =“xd：xdiff-nodetype”/&gt; &lt;/ complexType&gt; &lt;/ element&gt; &lt;/ choice&gt; &lt;attribute name =“xdiff-version”type =“string”/&gt; &lt;/ complexType&gt; &lt;/ element&gt; &lt;/ schema&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19844"></a><a id="ADXDK19843"></a><div class="props_rev_3"><a id="GUID-A210D2A4-B291-4BA5-AA43-2FC2F1DE180D" name="GUID-A210D2A4-B291-4BA5-AA43-2FC2F1DE180D"></a><h4 id="ADXDK-GUID-A210D2A4-B291-4BA5-AA43-2FC2F1DE180D" class="sect4">在应用程序中使用XMLDiff</h4>
                  <div>
                     <p>在应用程序中， <code class="codeph">XmlDiff</code>将输入文档的源类型和位置作为参数。源类型可以是URL，文件， <code class="codeph">orastream</code>和<code class="codeph">stream</code>上下文指针，缓冲区和缓冲区<code class="codeph">buffer_length</code>指针或指向DOM文档元素（ <code class="codeph">docelement</code> ）的指针。
                     </p>
                     <p><code class="codeph">XmlDiff</code>返回<code class="codeph">Xdiff</code>实例文档的DOM的文档节点。
                     </p>
                     <p>在执行比较之前，XmlDiff为两个文档构建DOM（如果它们尚未作为DOM提供）。</p>
                     <div class="infoboxnotealso" id="GUID-A210D2A4-B291-4BA5-AA43-2FC2F1DE180D__GUID-C52B078B-71D7-45E8-9C6E-172FC550B25B">
                        <p class="notep1">也可以看看：</p>
                        <p>用于控制<code class="codeph">XmlDiff</code>行为的标志的C API的<a href="../caxml/package-XmlDiff-API.html#CAXML6192" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a></p>
                     </div>
                     <div class="example" id="GUID-A210D2A4-B291-4BA5-AA43-2FC2F1DE180D__GUID-9D8E4169-0CD1-401C-A097-F0F9D7B70077">
                        <p class="titleinexample">例8-4 XMLDiff应用程序</p><pre class="oac_no_warn" dir="ltr">#include &lt;xmldf.h&gt; ...xmlctx * xctx; xmldocnode * doc1，* doc2，* doc3; uword hash_level; oratext * s，* inp1 =“book1.xml”，* inp2 =“book2.xml”; xmlerr错误; ub4标志; flags = 0; / * defaults：global algorithm * / hash_level = 0; / * no hashing * / / *创建XML元上下文* / if（！（xctx = XmlCreate（＆err，（oratext *）“XmlDiff”，NULL）））{printf（“无法创建XML上下文，错误％u \ n”，（unsigned）错误）; err_exit（ “退出”）; } / *加载两个输入文件* / if（！（doc1 = XmlLoadDom（xctx，＆err，“file”，inp1，“discard_whitespace”，TRUE，NULL）））{printf（“解析第一个文件失败，错误％u \ n”，（无符号）错误）; err_exit（（oratext *）“退出。”）; if（！（doc2 = XmlLoadDom（xctx，＆err，“file”，inp2，“discard_whitespace”，TRUE，NULL）））{printf（“解析第二个文件失败，错误％u \ n”，（unsigned）错误）; err_exit（（oratext *）“退出。”）; } / *在DOM树上运行XmlDiff。* / doc3 = XmlDiff（xctx，＆err，flags，XMLDF_SRCT_DOM，doc1，NULL，XMLDF_SRCT_DOM，doc2，NULL，hash_level，NULL）;如果（！doc3）printf（“XmlDiff失败，错误％u \ n”，（无符号）错误）;别的{if（错！= XMLERR_OK）printf（“XmlDiff返回错误％u \ n”，（unsigned）错误）; / *现在我们在doc3中有DOM树，代表Diff * / ...XmlFreeDocument（xctx，doc1）; XmlFreeDocument（xctx，doc2）; XmlFreeDocument（xctx，doc3）; XmlDestroy（xctx）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19846"></a><a id="ADXDK19845"></a><div class="props_rev_3"><a id="GUID-CB4DB221-21E5-4E33-98CC-9E07C28567C0" name="GUID-CB4DB221-21E5-4E33-98CC-9E07C28567C0"></a><h4 id="ADXDK-GUID-CB4DB221-21E5-4E33-98CC-9E07C28567C0" class="sect4">定制输出</h4>
                  <div>
                     <p>自定义输出构建器以适合应用程序的任何格式存储差异。您可以创建自己的自定义输出构建器，而不是使用默认的<code class="codeph">Xdiff</code>实例文档，该文档由<code class="codeph">XmlDiff</code>生成并符合<code class="codeph">Xdiff</code>模式。
                     </p>
                     <p>要创建自定义输出构建器，必须提供可在<code class="codeph">XmlDiff</code>确定差异后调用的回调。差异作为<code class="codeph">xmdlfop</code>数组传递给回调。在生成差异时，可以多次调用回调。
                     </p>
                     <p>使用自定义输出构建器可能比使用默认值更好，因为它不必维护<code class="codeph">XPath</code>生成所需的内部状态。
                     </p>
                     <p>默认情况下， <code class="codeph">XmlDiff</code>捕获符合<code class="codeph">Xdiff</code>模式的XML差异。如有必要，请插入您自己的输出构建器。差异表示为数组<code class="codeph">xmldfop</code> 。您必须编写输出构建器回调函数。功能签名是：</p><pre class="oac_no_warn" dir="ltr">xmlerr（* xdfobcb）（void * uctx，xmldfop * escript，ub4 escript_siz）;</pre><p><code class="codeph">uctx</code>是用户特定的上下文。
                     </p>
                     <p><code class="codeph">escript</code>是大小<code class="codeph">escript_siz</code>的数组：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">的diff [escript_siz]</code>
</pre><p><code class="codeph">mctx</code>是内存上下文。
                     </p>
                     <p>通过属性向<code class="codeph">XmlDiff()</code>提供此内存上下文。使用此内存上下文分配<code class="codeph">escript</code> 。你必须稍后释放<code class="codeph">escript</code> 。
                     </p>
                     <p>在找到差异之后调用输出构建器回调，甚至在调用<code class="codeph">XmlDiff()</code>之前就会发生这种回调。可以多次调用输出构建器回调。
                     </p>
                     <div class="example" id="GUID-CB4DB221-21E5-4E33-98CC-9E07C28567C0__GUID-C4B6D5C8-4448-4073-84FD-272679581F03">
                        <p class="titleinexample">示例8-5自定义XMLDiff输出</p><pre class="oac_no_warn" dir="ltr">/ *样品用量：* / ...#include &lt;orastruc.h&gt; / * for'oraprop'* / ...static oraprop diff_props [] = {ORAPROP（XMLDF_PROPN_CUSTOM_OB，XMLDF_PROPI_CUSTOM_OB，POINTER），ORAPROP（XMLDF_PROPN_CUSTOM_OBMCX，XMLDF_PROPI_CUSTOM_OBMCX，POINTER），ORAPROP（XMLDF_PROPN_CUSTOM_OBUCX，XMLDF_PROPI_CUSTOM_OBUCX，POINTER），{NULL}}; ...oramemctx * mymemctx; ...xmlerr myob（void * uctx，xmldfop * escript，ub4 escript_siz）{/ *进程差异在escript * / / * free escript中可用 - 调用者必须这样做* / OraMemFree（mymemctx，escript）; } main（）{...myctxt * myctx; diff_props [0] .value_oraprop.p_oraprop_v = myob; diff_props [1] .value_oraprop.p_oraprop_v = mymemctx; diff_props [2] .value_oraprop.p_oraprop_v = myctx; XmlDiff（xctx，＆err，0，doc1，NULL，0，doc2，NULL，0，diff_props）; ...
 </pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADXDK2520"></a><div class="props_rev_3"><a id="GUID-45E03E82-7DE3-49C3-A29A-8AC3091566EE" name="GUID-45E03E82-7DE3-49C3-A29A-8AC3091566EE"></a><h3 id="ADXDK-GUID-45E03E82-7DE3-49C3-A29A-8AC3091566EE" class="sect3">使用XmlPatch</h3>
               <div>
                  <p><code class="codeph">XmlPatch</code>接受一个<code class="codeph">Xdiff</code>实例文档，所产生<code class="codeph">XmlDiff</code>或通过其他机制创建的，并遵循中的说明<code class="codeph">Xdiff</code>实例文档修改其他XML文档。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div><a id="ADXDK19847"></a><a id="ADXDK2550"></a><div class="props_rev_3"><a id="GUID-2218E811-A238-4942-A4BF-BE4763ECA2CA" name="GUID-2218E811-A238-4942-A4BF-BE4763ECA2CA"></a><h4 id="ADXDK-GUID-2218E811-A238-4942-A4BF-BE4763ECA2CA" class="sect4">使用XmlPatch命令行实用程序</h4>
                  <div>
                     <p>描述了实用程序<code class="codeph">XmlPatch</code>命令行选项。
                     </p>
                     <div class="section">
                        <div class="tblformal" id="GUID-2218E811-A238-4942-A4BF-BE4763ECA2CA__BABFFEGF">
                           <p class="titleintable">表8-3 C命令行选项的XmlPatch</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="用于C命令行选项的XmlPatch" width="100%" border="1" summary="This table describes the XmlPatch command-line options. Rows are XmlPatch command line options. First column is option name, second column is description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d26881e2185">选项</th>
                                    <th align="left" valign="bottom" width="69%" id="d26881e2188">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e2193" headers="d26881e2185 ">
                                       <p><code class="codeph">-e</code>编码</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e2193 d26881e2188 ">
                                       <p>指定默认输入文件编码。如果在XML文件中未指定编码，则假定此编码用于输入。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e2202" headers="d26881e2185 ">
                                       <p><code class="codeph">-E</code>编码</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e2202 d26881e2188 ">
                                       <p>指定输出/数据编码。在此编码中创建DOM和修补文档。默认值为UTF-8。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e2211" headers="d26881e2185 ">
                                       <p><code class="codeph">-一世</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e2211 d26881e2188 ">
                                       <p>将文件名解释为URL。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d26881e2219" headers="d26881e2185 ">
                                       <p><code class="codeph">-H</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d26881e2219 d26881e2188 ">
                                       <p>显示此用法帮助。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19849"></a><a id="ADXDK19848"></a><div class="props_rev_3"><a id="GUID-7C4C7410-A8FA-4EE7-9996-31799450485E" name="GUID-7C4C7410-A8FA-4EE7-9996-31799450485E"></a><h4 id="ADXDK-GUID-7C4C7410-A8FA-4EE7-9996-31799450485E" class="sect4">在应用程序中使用XmlPatch</h4>
                  <div>
                     <p><code class="codeph">XmlPatch</code>将输入文档和<code class="codeph">diff</code>文档的源类型和位置作为参数。源类型可以是URL，文件， <code class="codeph">orastream</code>和<code class="codeph">stream</code>上下文指针，缓冲区和缓冲区<code class="codeph">buffer_length</code>指针，或指向DOM文档元素（ <code class="codeph">docelement</code> ）的指针。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-7C4C7410-A8FA-4EE7-9996-31799450485E__GUID-07697ED1-8946-4A67-AD05-5087FFF23257">
                           <p class="notep1">也可以看看：</p>
                           <p>用于控制<code class="codeph">XmlPatch</code>行为的标志的C API的<a href="../caxml/package-XmlDiff-API.html#CAXML6201" target="_blank"><span><cite>Oracle Database XML C API参考</cite></span></a></p>
                        </div>
                        <p><code class="codeph">Xdiff</code>模式设置的模式会影响<code class="codeph">XmlPatch</code>工作方式。
                        </p>
                        <p>如果<code class="codeph">output-model</code>是<code class="codeph">Snapshot</code> ， <code class="codeph">XmlPatch</code>只有<code class="codeph">operations-in-docorder</code>为<code class="codeph">TRUE</code> ， <code class="codeph">XmlPatch</code>才有效。</p>
                        <p>如果<code class="codeph">output-model</code>为<code class="codeph">Current</code> ，则无需将<code class="codeph">operations-in-docorder</code>设置为<code class="codeph">TRUE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7C4C7410-A8FA-4EE7-9996-31799450485E__GUID-A71CE5FF-ADAC-457C-A02D-401ABE25AE8E">
                        <p class="titleinexample">示例8-6 XmlPatch的示例应用程序</p><pre class="oac_no_warn" dir="ltr">...#include &lt;xmldf.h&gt; ...xmlctx * xctx; xmldocnode * doc1，* doc2; oratext * s; oratext * inp1 =“book1.xml”; / *输入文件* / oratext * inp2 =“diff.xml”，/ * diff document * / xmlerr err; / *创建XML元上下文* / if（！（xctx = XmlCreate（＆err，（oratext *）“XmlPatch”，NULL）））{printf（“无法创建XML上下文，错误％u \ n”，（unsigned）错误）; err_exit（ “退出”）; } / *加载两个输入文件* / if（！（doc1 = XmlLoadDom（xctx，＆err，“file”，inp1，“discard_whitespace”，TRUE，NULL）））{printf（“解析第一个文件失败，错误％u \ n”，（无符号）错误）; err_exit（（oratext *）“退出。”）; if（！（doc2 = XmlLoadDom（xctx，＆err，“file”，inp2，“discard_whitespace”，TRUE，NULL）））{printf（“解析第二个文件失败，错误％u \ n”，（unsigned）错误）; err_exit（（oratext *）“退出。”）; } / *调用XmlPatch * / if（！XmlPatch（xctx，＆err，0，XMLDF_SRCT_DOM，doc1，NULL，XMLDF_SRCT_DOM，doc2，NULL，NULL））; printf（“XmlPatch失败，错误％u \ n”，（无符号）错误）;别的{if（错！= XMLERR_OK）printf（“XmlPatch返回错误％u \ n”，（unsigned）错误）; / *现在我们在doc1 * /中有修补过的文件XmlFreeDocument（xctx，doc1）; XmlFreeDocument（xctx，doc2）; XmlDestroy（xctx）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADXDK19850"></a><a id="ADXDK2530"></a><div class="props_rev_3"><a id="GUID-C0215942-5C76-4B9F-9ECC-B79F48F4F8EF" name="GUID-C0215942-5C76-4B9F-9ECC-B79F48F4F8EF"></a><h3 id="ADXDK-GUID-C0215942-5C76-4B9F-9ECC-B79F48F4F8EF" class="sect3">使用XmlHash</h3>
               <div>
                  <p><code class="codeph">XmlHash</code>计算XML树的哈希值。如果两个树的哈希值相等，则它们可能是相同的XML。您可以使用<code class="codeph">XmlHash</code>进行快速比较，以查看XML树是否已存在于数据库中。
                  </p>
                  <div class="section">
                     <p>如有必要，您可以在任何匹配<code class="codeph">XmlDiff</code>再次运行<code class="codeph">XmlDiff</code> ，以确保匹配。您可以计算新文档的哈希值并查询数据库。
                     </p>
                     <p><a href="determining-XML-differences-using-C.html#GUID-C0215942-5C76-4B9F-9ECC-B79F48F4F8EF__BABDABHF">例8-7</a>显示了一个使用<code class="codeph">XmlHash</code>的示例程序。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C0215942-5C76-4B9F-9ECC-B79F48F4F8EF__BABDABHF">
                     <p class="titleinexample">例8-7 XmlHash程序</p><pre class="pre codeblock"><code>剑主（剑argc，char * argv []）{xmlctx * xctx; xmldfsrct srct; oratext * data_encoding，* input_encoding，* s，* inp1; ub1标志; xmlerr错误; ub4 num_args; xmlhasht摘要; flags = 0; / * defaults * / srct = XMLDF_SRCT_FILE; inp1 =“somexml.xml”; xctx = XmlCreate（＆err，（oratext *）“XmlHash”，NULL）;如果（！xctx）{/ *处理错误，创建xml上下文并退出* / ...运行XmlHash * / err = XmlHash（xctx，＆digest，0，srct，inp1，NULL，NULL）; if（err）printf（“XmlHash返回错误：％d \ n”，错误）;否则txdfha_pd（摘要）; XmlDestroy（xctx）;返回（剑）错误; / * * xml哈希中的打印字节* / static void txdfha_pd（xmlhasht digest）{ub4 i; for（i = 0; i &lt;digest.l_xmlhasht; i ++）printf（“％x”，digest.d_xmlhasht [i]）;的printf（ “\ n”）; }</code></pre></div>
                  <!-- class="example" -->
               </div><a id="ADXDK19851"></a><div class="props_rev_3"><a id="GUID-6DE2C17C-A24B-428D-9BED-9A6FC9E52390" name="GUID-6DE2C17C-A24B-428D-9BED-9A6FC9E52390"></a><h4 id="ADXDK-GUID-6DE2C17C-A24B-428D-9BED-9A6FC9E52390" class="sect4">调用XmlDiff和XmlPatch</h4>
                  <div>
                     <p><code class="codeph">XmlDiff</code>和<code class="codeph">XmlPatch</code>可以作为命令行工具和C语言调用。它们也可用作SQL函数。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-6DE2C17C-A24B-428D-9BED-9A6FC9E52390__GUID-88A4522A-6FF1-4A9D-8643-E5D42F877A9D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sqlrf/XMLDIFF.html#SQLRF20025" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> <code class="codeph">XMLDiff</code></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/XMLPATCH.html#SQLRF20026" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ， <code class="codeph">XMLPatch</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04283.fast-connection-failover.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>关于快速连接故障转移</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Universal Connection Pool Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Universal Connection Pool Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="universal-connection-pool-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T06:57:38-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96473-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="overview-Oracle-RAC-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="run-time-connection-load-balancing.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Universal Connection Pool Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJUCP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-Oracle-RAC-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="run-time-connection-load-balancing.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">通用连接池开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-Oracle-RAC-features.html" property="item" typeof="WebPage"><span property="name">使用Oracle RAC功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">关于快速连接故障转移</li>
            </ol>
            <a id="GUID-126F8C9B-C0B3-426B-B07D-4B127BBDD867" name="GUID-126F8C9B-C0B3-426B-B07D-4B127BBDD867"></a><a id="JJUCP08100"></a>
            
            <h2 id="JJUCP-GUID-126F8C9B-C0B3-426B-B07D-4B127BBDD867" class="sect2"><span class="enumeration_section">9.2</span>关于快速连接故障转移</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节包含以下小节：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763">快速连接故障转移概述</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-1777BFF1-1FDB-4D3C-BA68-8DD165733F69">什么是快速连接故障转移</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-DEBA115B-9B14-4C4C-83EB-7D09F9F48970">快速连接故障转移先决条件</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F">快速连接故障转移配置示例</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78">启用快速连接故障转移</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-F361FE59-9D12-47F9-B5DC-F5D996809AF4">什么是ONS</a></p>
                  </li>
                  <li>
                     <p><a href="fast-connection-failover.html#GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F">配置连接URL</a></p>
                  </li>
               </ul>
            </div><a id="JJUCP8203"></a><a id="JJUCP8204"></a><a id="JJUCP8205"></a><a id="JJUCP8269"></a><div class="props_rev_3"><a id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763" name="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763"></a><h3 id="JJUCP-GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763" class="sect3"><span class="enumeration_section">9.2.1</span>快速连接故障转移概述</h3>
               <div>
                  <p><a id="d8155e109" class="indexterm-anchor"></a><a id="d8155e111" class="indexterm-anchor"></a><a id="d8155e115" class="indexterm-anchor"></a>快速连接故障转移（FCF）功能是通过连接池实现的快速应用程序通知（FAN）客户端。该功能要求在单个实例数据库上使用Oracle JDBC驱动程序和Oracle RAC数据库或Oracle Restart。
                  </p>
                  <div class="infoboxnote" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-EE02456E-B8FE-4E2C-B661-11EE24F52479">
                     <p class="notep1">注意：</p>
                     <p>本节仅介绍在将FCF与Oracle RAC一起使用时应用程序必须执行的步骤。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-657D6D96-11B8-47FE-9501-08F3E034E69D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关设置Oracle RAC数据库或咨询Oracle数据库管理员的详细信息<a href="../racad/introduction-to-oracle-rac.html#RACAD-GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E" target="_blank"><span><cite>，请参见“Oracle Real Application Clusters管理和部署指南”</cite></span></a> 。
                     </p>
                  </div>
                  <p><a id="d8155e130" class="indexterm-anchor"></a> FCF管理池化连接以实现高可用性，并提供以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>FCF支持意外中断。快速检测到死连接，然后中止连接并从池中删除。连接删除依赖于中止来快速切断套接字连接以防止挂起。借用和使用中的连接仅在意外中断时中断。</p>
                     </li>
                     <li>
                        <p>FCF支持计划中断。借用或使用中的连接不会中断和关闭，直到工作完成并且连接的控制权返回到池中。</p>
                     </li>
                     <li>
                        <p>FCF将致命的连接错误和异常封装到<code class="codeph">isValid</code> API中，以实现强大而高效的重试。
                        </p>
                     </li>
                     <li>
                        <p>FCF识别加入Oracle RAC集群的新节点，并在该节点上适当地放置新连接，以便在运行时为应用程序提供最高质量的服务。这有助于从应用程序层进行Oracle RAC节点连接和工作请求路由的中间层集成。</p>
                     </li>
                     <li>
                        <p>FCF将运行时工作请求分发给所有活动的Oracle RAC实例。</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-3B4C12DF-5416-46E0-8347-1CAFADA48E1A">计划外关机方案</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>FCF通过检测和删除与Oracle RAC集群的过时连接来支持计划外关闭方案。过时连接包括由于服务中断和节点关闭事件而在Oracle RAC集群中的任何实例上没有可用服务的连接。检测到已借入的连接和过时的可用连接，并且在将它们从池中删除之前，它们的网络连接将被切断。这些已删除的连接不会被池替换。相反，应用程序必须在执行任何连接工作之前重试连接。</p>
                     <div class="infoboxnote" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-CF4EBDED-EAB9-4F2B-A4E2-797C21C43C74">
                        <p class="notep1">注意：</p>
                        <p>在计划外关闭情况下，借用的连接会立即中止并关闭。任何正在进行的交易都会立即收到异常。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__BABGFIFI">
                     <p class="subhead2" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-7952931A-59EC-4C88-ACA7-C82C40E45D4E">计划关机方案</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>FCF支持计划关闭方案，可以正常关闭Oracle RAC服务。在这种情况下，过时的借用连接会被标记，只有在它们返回池后才会被中止和删除。任何正在进行的交易都没有看到任何差异并继续完成。</p>
                     <p>计划外和计划关闭方案之间的主要区别在于如何处理借用的连接。池中空闲（未借用）的过时连接将以与计划外关闭方案相同的方式删除。</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，UCP支持从任何计划中的Oracle RAC实例中正常连接耗尽。受影响的借用连接在宽限期内平稳删除，而不是在返回池时立即删除。这有助于在任何服务重定位期间避免吞吐量影响和登录风暴。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8D3EAED-A8D8-47C9-9ECC-296B9D988763__GUID-EC296D45-D419-40E5-AF46-9C4E109073CD">Oracle RAC实例重新加入和新实例方案</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>FCF支持Oracle RAC集群添加提供感兴趣服务的实例的方案。该实例可能是群集的新实例，也可能是在关闭事件后重新启动的。在这两种情况下，UCP都会识别新实例并根据需要创建与节点的连接。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="validating-ucp-connections.html#GUID-39E5A876-8C54-423F-B6A7-5E827DE202C7">检查连接是否有效</a></li>
                        <li><a href="fast-connection-failover.html#GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78">启用快速连接故障转移</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJUCP8270"></a><div class="props_rev_3"><a id="GUID-1777BFF1-1FDB-4D3C-BA68-8DD165733F69" name="GUID-1777BFF1-1FDB-4D3C-BA68-8DD165733F69"></a><h3 id="JJUCP-GUID-1777BFF1-1FDB-4D3C-BA68-8DD165733F69" class="sect3"><span class="enumeration_section">9.2.2</span>什么是快速连接故障转移？
               </h3>
               <div>
                  <p>启用快速连接故障转移后，该机制是自动的;不需要应用程序干预。本节讨论如何向应用程序提供连接故障转移以及应用程序恢复所需的步骤，在以下各节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="fast-connection-failover.html#GUID-AF352305-6B8F-47A9-BD73-1C7479E467BB">应用程序看到了什么</a></p>
                     </li>
                     <li>
                        <p><a href="fast-connection-failover.html#GUID-BD32FED1-6EE1-4148-A4C0-87A0A5E1DA85">FCF如何运作</a></p>
                     </li>
                  </ul>
               </div><a id="JJUCP8271"></a><div class="props_rev_3"><a id="GUID-AF352305-6B8F-47A9-BD73-1C7479E467BB" name="GUID-AF352305-6B8F-47A9-BD73-1C7479E467BB"></a><h4 id="JJUCP-GUID-AF352305-6B8F-47A9-BD73-1C7479E467BB" class="sect4"><span class="enumeration_section">9.2.2.1</span>应用程序看到了什么</h4>
                  <div>
                     <p>当Oracle RAC服务故障传播到JDBC应用程序时，数据库已回滚本地事务。然后缓存管理器清除所有无效连接。当持有无效连接的应用程序尝试通过该连接工作时，可以接收<code class="codeph">SQLException, ORA-17008, Closed Connection</code> 。
                     </p>
                     <p>当应用程序收到“ <code class="codeph">Closed Connection</code>错误消息时，应执行以下操作：</p>
                     <ol>
                        <li>
                           <p>重试连接请求。这是必不可少的，因为旧连接不再开放。</p>
                        </li>
                        <li>
                           <p>重播交易。在连接关闭之前完成的所有工作都已丢失。</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-AF352305-6B8F-47A9-BD73-1C7479E467BB__GUID-92DFE648-F63A-4ABE-8FE7-906C62EAF721">
                        <p class="notep1">注意：</p>
                        <p>应用程序不应尝试回滚事务。在应用程序收到异常时，事务已在数据库中回滚。</p>
                     </div>
                  </div>
               </div><a id="JJUCP8272"></a><div class="props_rev_3"><a id="GUID-BD32FED1-6EE1-4148-A4C0-87A0A5E1DA85" name="GUID-BD32FED1-6EE1-4148-A4C0-87A0A5E1DA85"></a><h4 id="JJUCP-GUID-BD32FED1-6EE1-4148-A4C0-87A0A5E1DA85" class="sect4"><span class="enumeration_section">9.2.2.2</span> FCF的工作原理</h4>
                  <div>
                     <p>在快速连接故障转移下，缓存中的每个连接都维护到服务，实例，数据库和主机名的映射。</p>
                     <p>当数据库生成Oracle RAC事件时，该事件将转发到运行JDBC的JVM。JVM中的守护程序线程接收Oracle RAC事件并将其传递给Connection Cache Manager。然后，连接缓存管理器将SQL异常抛出到受Oracle RAC事件影响的应用程序。</p>
                     <p>典型的故障转移方案可能如下所示：</p>
                     <ol>
                        <li>
                           <p>数据库实例失败，在缓存中留下了几个陈旧的连接。</p>
                        </li>
                        <li>
                           <p>数据库中的Oracle RAC机制生成Oracle RAC事件，该事件将发送到包含JDBC的JVM。</p>
                        </li>
                        <li>
                           <p>JVM中的守护程序线程查找受Oracle RAC事件影响的所有连接，通过SQL异常通知它们已关闭的连接，并回滚所有打开的事务。</p>
                        </li>
                        <li>
                           <p>每个单独的连接都会收到SQL异常，必须重试。</p>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="JJUCP8273"></a><div class="props_rev_3"><a id="GUID-DEBA115B-9B14-4C4C-83EB-7D09F9F48970" name="GUID-DEBA115B-9B14-4C4C-83EB-7D09F9F48970"></a><h3 id="JJUCP-GUID-DEBA115B-9B14-4C4C-83EB-7D09F9F48970" class="sect3"><span class="enumeration_section">9.2.3</span>快速连接故障转移先决条件</h3>
               <div>
                  <div class="section">
                     <p><a id="d8155e386" class="indexterm-anchor"></a>在以下情况下可以使用快速连接故障转移：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通用连接池已启用。</p>
                           <p>快速连接故障转移与JDBC连接缓存机制结合使用。这有助于应用程序管理连接以确保高可用性。</p>
                        </li>
                        <li>
                           <p>应用程序使用服务名称连接到数据库。</p>
                           <p>应用程序无法使用服务标识符。</p>
                        </li>
                        <li>
                           <p>底层数据库具有Oracle Database 12 <span class="italic">c</span>第1版（12.1）或更高版本的Real Application Clusters（Oracle RAC）功能或配置有单实例数据库或Oracle RAC的Oracle Data Guard。</p>
                           <p>如果未传播故障转移事件，则不会发生连接故障转移。</p>
                        </li>
                        <li>
                           <p>Oracle Notification Service（ONS）已在运行JDBC的节点上配置并可用。</p>
                           <p>JDBC依赖于ONS来传播数据库事件并通知它们的JDBC。</p>
                        </li>
                        <li>
                           <p>运行JDBC实例的Java虚拟机（JVM）必须将<code class="codeph">oracle.ons.oraclehome</code>设置为指向<span class="italic"><code class="codeph">ORACLE_HOME</code></span> 。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJUCP8207"></a><a id="JJUCP8206"></a><div class="props_rev_3"><a id="GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F" name="GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F"></a><h3 id="JJUCP-GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F" class="sect3"><span class="enumeration_section">9.2.4</span>快速连接故障转移配置示例</h3>
               <div>
                  <p><a id="d8155e462" class="indexterm-anchor"></a><a id="d8155e466" class="indexterm-anchor"></a>以下示例演示了使用FCF功能的连接池。FCF通过启用池的数据源进行配置。该示例包括启用FCF，配置Oracle Notification Service（ONS）和配置连接URL。这些主题在示例后讨论。
                  </p>
                  <p><code class="codeph">oracle.ucp.jdbc.的<code class="codeph">isValid</code>方法<code class="codeph">oracle.ucp.jdbc.ValidConnection</code>接口通常与FCF功能结合使用，用于检查在由于Oracle RAC关闭事件而引发SQL异常后，借用的连接是否仍然可用。例如：</p><pre class="oac_no_warn" dir="ltr">试试{conn = pds.getConnection; ...} catch（SQLException sqlexc）{if（conn == null ||！（（ValidConnection）conn）.isValid（））//采取适当的行动......conn.close（）; }</pre><div class="example" id="GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">
                     <p class="titleinexample">例9-1快速连接故障转移配置示例</p><pre class="oac_no_warn" dir="ltr">PoolDataSource pds = PoolDataSourceFactory.getPoolDataSource（）; pds.setConnectionPoolName（ “FCFSamplePool”）; pds.setFastConnectionFailoverEnabled（真）; pds.setONSConfiguration（“nodes = racnode1：4200，racnode2：4200 \ nwalletfile = / oracle11 / onswalletfile”）; pds.setConnectionFactoryClassName（“oracle.jdbc.pool。OracleDataSource“）; pds.setURL（”jdbc：oracle：thin @（DESCRIPTION =“+”（LOAD_BALANCE = on）“+”（ADDRESS =（PROTOCOL = TCP）（HOST = racnode1）（PORT = 1521））“+ “（ADDRESS =（PROTOCOL = TCP）（HOST = racnode2）（PORT = 1521））”+“（CONNECT_DATA =（SERVICE_NAME = service_name）））”）; ...
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="validating-ucp-connections.html#GUID-39E5A876-8C54-423F-B6A7-5E827DE202C7">检查连接是否有效</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJUCP8274"></a><a id="JJUCP8208"></a><div class="props_rev_3"><a id="GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78" name="GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78"></a><h3 id="JJUCP-GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78" class="sect3"><span class="enumeration_section">9.2.5</span>启用快速连接故障转移</h3>
               <div>
                  <div class="section">
                     <p><a id="d8155e535" class="indexterm-anchor"></a><a id="d8155e539" class="indexterm-anchor"></a><a id="d8155e541" class="indexterm-anchor"></a> FCF池属性用于启用和禁用FCF。默认情况下禁用FCF。以下示例演示如<a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">示例9-1中</a>所示启用FCF。
                     </p><pre class="oac_no_warn" dir="ltr">pds.setFastConnectionFailoverEnabled（真）;</pre><div class="infoboxnote" id="GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78__GUID-27E76B4E-1D85-4718-AB9D-374C7F0E9716">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12 <span class="italic">c</span> Release 1（12.1.0.2）开始，UCP支持<code class="codeph">oracle.ucp.PlannedDrainingPeriod</code>系统属性。它指定宽限时间段（以整数秒为单位），在该时间段内，池平稳地消耗受计划关闭影响的借用连接。当同一数据库服务在另一个与正在运行的实例不同的实例上可用时，将开始排空。
                        </p>
                        <p>如果未设置此属性或设置为<code class="codeph">0</code> ，则池将在返回池时立即关闭任何受影响的借用连接。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78__GUID-9F37273B-B6E5-4865-A14B-09410599C158">查询快速连接故障转移状态</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>应用程序通过调用<code class="codeph">OracleDataSource.getFastConnectionFailoverEnabled</code>确定是否启用了快速连接故障转移，如果启用了故障转移，则返回<code class="codeph">true</code> ，否则返回<code class="codeph">false</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-A85462D1-A4F1-43DC-869E-721AE30B7E78__GUID-7E85EAB0-7719-427A-A33F-9153055DAD8B">
                        <p class="notep1">注意：</p>
                        <p>还必须启用FCF以使用运行时连接负载平衡和连接关联。这些功能将在本章后面讨论。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJUCP8209"></a><div class="props_rev_3"><a id="GUID-F361FE59-9D12-47F9-B5DC-F5D996809AF4" name="GUID-F361FE59-9D12-47F9-B5DC-F5D996809AF4"></a><h3 id="JJUCP-GUID-F361FE59-9D12-47F9-B5DC-F5D996809AF4" class="sect3"><span class="enumeration_section">9.2.6</span>什么是ONS？
               </h3>
               <div>
                  <p><a id="d8155e621" class="indexterm-anchor"></a><a id="d8155e625" class="indexterm-anchor"></a><a id="d8155e627" class="indexterm-anchor"></a><a id="d8155e629" class="indexterm-anchor"></a><a id="d8155e631" class="indexterm-anchor"></a><a id="d8155e635" class="indexterm-anchor"></a> FCF依靠Oracle Notification Service（ONS）在连接池和Oracle RAC数据库之间传播数据库事件。在运行时，连接池必须能够设置ONS环境。ONS（ <code class="codeph">ons.jar</code> ）作为Oracle客户端软件的一部分包含在内。可以使用远程配置或客户端ONS守护程序配置来配置ONS。远程配置是独立客户端应用程序的首选配置。本节讨论以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="fast-connection-failover.html#GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F">ONS配置文件概述</a></p>
                     </li>
                     <li>
                        <p><a href="fast-connection-failover.html#GUID-C8D5FF91-6333-4E7F-BC81-CF7B93D56BEE">ONS的远程配置</a></p>
                     </li>
                     <li>
                        <p><a href="fast-connection-failover.html#GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63">客户端ONS守护进程的配置</a></p>
                     </li>
                  </ul>
               </div><a id="JJUCP8276"></a><a id="JJUCP8277"></a><a id="JJUCP8275"></a><div class="props_rev_3"><a id="GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F" name="GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F"></a><h4 id="JJUCP-GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F" class="sect4"><span class="enumeration_section">9.2.6.1</span> ONS配置文件概述</h4>
                  <div>
                     <p>ONS配置由ONS配置文件<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/opmn/conf/ons.config</code> 。该文件告诉ONS守护进程它应该如何表现。<code class="codeph">ons.config</code>配置信息以简单的名称和值对定义。
                     </p>
                     <p><code class="codeph">ons.config</code>文件中的某些参数是必需的，有些是可选的。<a href="fast-connection-failover.html#GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F__BABFBABC" title="此表列出了ons.config文件中的必需参数。">表9-2</a>列出了所需的ONS配置参数， <a href="fast-connection-failover.html#GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F__BABDHGCD" title="此表列出了ons.config文件中的可选参数。">表9-3</a>列出了可选的ONS配置参数。更新<code class="codeph">ons.config</code>文件后，必须刷新ONS。
                     </p>
                     <div class="tblformal" id="GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F__BABFBABC">
                        <p class="titleintable">表9-2所需的ONS配置参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="必需的ONS配置参数" width="100%" border="1" summary="This table lists the required parameters in the ons.config file." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d8155e733">参数</th>
                                 <th align="left" valign="bottom" width="80%" id="d8155e736">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e741" headers="d8155e733 ">
                                    <p><code class="codeph">将localPort</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e741 d8155e736 ">
                                    <p>指定ONS在本地主机接口上绑定的端口以与本地客户端通信。</p>
                                    <p>例如， <code class="codeph">localport=4100</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e753" headers="d8155e733 ">
                                    <p><code class="codeph">远程端口</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e753 d8155e736 ">
                                    <p>指定ONS在所有接口上绑定的端口，用于与其他ONS守护进程通信。</p>
                                    <p>例如， <code class="codeph">remoteport=4200</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e765" headers="d8155e733 ">
                                    <p><code class="codeph">节点</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e765 d8155e736 ">
                                    <p>指定要与之通信的其他ONS守护程序的列表。节点值以逗号分隔的主机名或IP地址加端口列表的形式给出。给出的端口值是每个ONS实例正在侦听的远程端口。为了在所有节点上维护相同的文件，当前ONS节点的<code class="codeph">host:port</code>也可以列在节点列表中。读取列表时将忽略它。
                                    </p>
                                    <p>例如， <code class="codeph">nodes=myhost.example.com:4200,123.123.123.123:4200</code></p>
                                    <p>节点行中列出的节点对应于Oracle RAC实例中的各个节点。列出节点可确保中间层节点可以与Oracle RAC节点通信。必须将Oracle RAC实例中的至少一个中间层节点和一个节点配置为彼此查看。只要每侧的一个节点知道另一个节点，所有节点都是可见的。您无需在每个Oracle RAC节点的ONS配置文件中列出每个群集和中间层节点。特别是，如果一个ONS配置文件群集节点知道中间层，则群集中的所有节点都知道它。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-0D8CD8C4-734F-49F7-8737-9AC03173C73F__BABDHGCD">
                        <p class="titleintable">表9-3可选的ONS配置参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="可选的ONS配置参数" width="100%" border="1" summary="This table lists the optional parameters in the ons.config file." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d8155e791">参数</th>
                                 <th align="left" valign="bottom" width="80%" id="d8155e794">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e799" headers="d8155e791 ">
                                    <p><code class="codeph">logcomp</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e799 d8155e794 ">
                                    <p>指定要记录的ONS组件。格式如下：</p><pre class="oac_no_warn" dir="ltr">&lt;组分&gt; [&lt;子&gt;，...]; &lt;部件&gt; [&lt;子&gt;，...]; ...
</pre><p>如果不需要指定子组件，则不要在组件名称后面包括括号（[]）。要从子组件中排除消息，请在子组件名称前加上感叹号（！）。例如，要从<code class="codeph">topology</code>子组件中排除消息，请使用以下格式：</p><pre class="oac_no_warn" dir="ltr">[所有，！拓扑]</pre><p>请注意，在指定要从中排除消息的子组件之前，必须首先确保子组件包含消息。</p>
                                    <p>以下是组件的有效值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">内部</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">附件</code></p>
                                       </li>
                                    </ul>
                                    <p>如果将组件指定为<code class="codeph">internal</code>组件，则子组件没有有效值。如果将组件指定为<code class="codeph">ons</code> ，则可以为子组件指定以下值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">all</code> ：指定所有消息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ons</code> ：ONS本地信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">listener</code> ：ONS监听器信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">discover</code> ：ONS发现（服务器或多播）信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">servers</code> ：当前启动并连接到群集的ONS远程服务器</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">topology</code> ：ONS当前群集范围的服务器连接拓扑</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">server</code> ：ONS远程服务器连接信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">client</code> ：ONS客户端连接信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">connect</code> ：ONS通用连接信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">subscribe</code> ：ONS客户端订阅信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">message</code> ：ONS通知接收和处理信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">deliver</code> ：ONS通知交付信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">special</code> ：ONS特殊通知处理</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">internal</code> ：ONS内部资源信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">secure</code> ：ONS SSL操作信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">workers</code> ：ONS工作者线程</p>
                                       </li>
                                    </ul>
                                    <p>下面的例子表明，你要记录消息下的所有子<code class="codeph">ons</code> ，除了<code class="codeph">secure</code>子组件：</p><pre class="oac_no_warn" dir="ltr">logcomp =项[所有,!安全]</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e929" headers="d8155e791 ">
                                    <p><code class="codeph">日志文件</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e929 d8155e794 ">
                                    <p>指定ONS用于记录消息的日志文件。日志文件的默认值为<code class="codeph">$ORACLE_HOME/opmn/logs/ons.log</code> 。
                                    </p>
                                    <p>例如， <code class="codeph">logfile=/private/oraclehome/opmn/logs/myons.log</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e944" headers="d8155e791 ">
                                    <p><code class="codeph">walletfile</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e944 d8155e794 ">
                                    <p>指定Oracle安全套接字层（SSL）用于存储SSL证书的钱包文件。如果将钱包文件指定给ONS，则它在与其他ONS实例通信时使用SSL，并且需要尝试连接到它的所有ONS实例的SSL证书身份验证。这意味着如果要为一个ONS实例启用SSL，则必须为所有已连接的实例启用SSL。该值应指向<code class="codeph">ewallet.p12</code>文件所在的目录。
                                    </p>
                                    <p>例如， <code class="codeph">walletfile=/private/oraclehome/opmn/conf/ssl.wlt/default</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e959" headers="d8155e791 ">
                                    <p><code class="codeph">useocr</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e959 d8155e794 ">
                                    <p>指定保留在服务器端使用的值，以指示它是否应在Oracle Cluster Registry（OCR）中存储所有Oracle RAC节点和端口号，而不是ONS配置文件。<code class="codeph">useocr=on</code>值用于存储Oracle Cluster Registry（OCR）中的所有Oracle RAC节点和端口号。
                                    </p>
                                    <p>不要在客户端使用此选项。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d8155e972" headers="d8155e791 ">
                                    <p><code class="codeph">allowgroup</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d8155e972 d8155e794 ">
                                    <p>指定ONS设置以指示连接到<code class="codeph">localport</code>的用户组。设置为<code class="codeph">true</code> ，ONS允许同一OS组中的用户连接到其本地端口。设置为<code class="codeph">false</code> ，ONS仅允许运行ONS守护程序的同一用户访问其本地端口。此参数的默认值为<code class="codeph">false</code> 。使用远程ONS配置时，无需设置此参数。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">ons.config</code>文件允许以数字符号（ <code class="codeph">#</code> ）开头的行显示空行和注释。
                     </p>
                  </div>
               </div><a id="JJUCP8210"></a><div class="props_rev_3"><a id="GUID-C8D5FF91-6333-4E7F-BC81-CF7B93D56BEE" name="GUID-C8D5FF91-6333-4E7F-BC81-CF7B93D56BEE"></a><h4 id="JJUCP-GUID-C8D5FF91-6333-4E7F-BC81-CF7B93D56BEE" class="sect4"><span class="enumeration_section">9.2.6.2</span> ONS的远程配置</h4>
                  <div>
                     <p>UCP支持通过<code class="codeph">ONSConfiguration</code>池属性远程配置ONS。<code class="codeph">ONSConfiguration</code>池属性值是一个非常类似于<code class="codeph">ons.config</code>文件内容的字符串。该字符串包含由新行字符（ <code class="codeph">\n</code> ）分隔的<code class="codeph">name=value</code>对列表。您可以通过以下两种方式设置此池属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>名称可以是以下之一： <code class="codeph">nodes</code> ， <code class="codeph">walletfile</code>或<code class="codeph">walletpassword</code> 。参数字符串至少应将ONS配置<code class="codeph">nodes</code>属性指定为由逗号分隔的<code class="codeph">host:port</code>对列表。将<code class="codeph">walletfile</code>属性指定为Oracle钱包文件时使用SSL。
                           </p>
                           <p>以下示例演示了ONS配置字符串，如<a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">例9-1</a>所示：</p><pre class="oac_no_warn" dir="ltr">...pds.setONSConfiguration（ “节点= racnode1：4200，racnode2：4200 \ nwalletfile = / ORACLE11 / onswalletfile”）; ...
</pre></li>
                        <li>
                           <p>该名称只能是<code class="codeph">propertiesfile</code> 。该值是特定于ONS的Java属性文件的位置。此文件必须包含<code class="codeph">oracle.ons.nodes</code>属性，以及以下一个或两个ONS Java属性：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">oracle.ons.walletfile</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">oracle.ons.walletpassword</code></p>
                                 <p>以下示例说明了这样的<code class="codeph">ONSConfiguration</code>字符串：</p><pre class="oac_no_warn" dir="ltr">pds.setONSConfiguration（ “propertiesfile =的/ usr /插件/ ons.properties”）;</pre><p>以下是<code class="codeph">ons.properties</code>文件中Java属性的内容示例：</p><pre class="oac_no_warn" dir="ltr">oracle.ons.nodes = racnode1：4200，racnode2：4200 oracle.ons.walletfile = / oracle11 / onswalletfile</pre></li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-C8D5FF91-6333-4E7F-BC81-CF7B93D56BEE__GUID-200D4E8D-7170-40DA-8B69-14A09588092E">
                        <p class="notep1">注意：</p>
                        <p>配置字符串中的参数必须与Oracle RAC数据库中的参数匹配。此外，如果您使用的是Oracle应用服务器，则必须使用适用于服务器的过程配置ONS。</p>
                        <p>对于独立Java应用程序，必须使用<code class="codeph">setONSConfiguration</code>方法配置ONS。但是，如果您的应用程序满足以下要求，则不再需要调用<code class="codeph">setONSConfiguration</code>方法来启用FCF：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您的应用程序使用的是Oracle Database 12 <span class="italic">c</span>第1版（12.1）或更高版本的UCP和Oracle RAC数据库12 <span class="italic">c</span>第1版（12.1）或更高版本</p>
                           </li>
                           <li>
                              <p>您的应用程序不需要ONS钱包或密钥库</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJUCP8279"></a><a id="JJUCP8280"></a><a id="JJUCP8278"></a><a id="JJUCP8211"></a><div class="props_rev_3"><a id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63" name="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63"></a><h4 id="JJUCP-GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63" class="sect4"><span class="enumeration_section">9.2.6.3</span>客户端ONS守护进程的配置</h4>
                  <div>
                     <p>客户端ONS守护程序配置是在中间层服务器（如Oracle Application Server）上运行的典型应用程序。此方案中的客户端通过更新<code class="codeph">ons.config</code>文件直接配置ONS。根据平台，文件的位置可能不同。<a href="fast-connection-failover.html#GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__BABIIAHB">例9-2</a>演示了<a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">例9-1</a>的<code class="codeph">ons.config</code>文件：</p>
                     <div class="infoboxnote" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__GUID-D3CFF3F5-C855-4FEB-864C-17B9ABF9B78C">
                        <p class="notep1">注意：</p>
                        <p>对于客户端ONS守护程序配置，如果启动连接池的操作系统（OS）用户和启动客户端守护程序的OS用户不同，则它们都<span class="italic">必须</span>属于同一OS组。此外，必须在<code class="codeph">ons.config</code>文件中将<code class="codeph">allowgroup</code>参数的值设置为<code class="codeph">true</code> 。
                        </p>
                     </div>
                     <p>配置ONS后，使用<code class="codeph">onsctl</code>命令启动ONS守护程序。您<span class="italic">必须</span>确保ONS守护程序始终在运行。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__GUID-D0D267BD-7839-440A-89F9-9115EA3B2088">使用onsctl命令</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>配置完成后，使用<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/opmn/bin/onsctl</code>启动，停止，重新配置和监视ONS守护程序。<a href="fast-connection-failover.html#GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__BABEBDBA" title="表">表9-4</a>是<code class="codeph">onsctl</code>支持的命令的摘要。
                        </p>
                        <div class="tblformal" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__BABEBDBA">
                           <p class="titleintable">表9-4 onsctl命令</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="onsctl命令" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d8155e1253">命令</th>
                                    <th align="left" valign="bottom" width="34%" id="d8155e1256">影响</th>
                                    <th align="left" valign="bottom" width="50%" id="d8155e1259">产量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1264" headers="d8155e1253 ">
                                       <p><code class="codeph">开始</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1264 d8155e1256 ">
                                       <p>启动ONS守护程序</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1264 d8155e1259 ">
                                       <p><code class="codeph">onsctl：ons开始了</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1276" headers="d8155e1253 ">
                                       <p><code class="codeph">停</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1276 d8155e1256 ">
                                       <p>停止ONS守护程序</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1276 d8155e1259 ">
                                       <p><code class="codeph">onsctl：关闭ons守护进程......</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1288" headers="d8155e1253 ">
                                       <p><code class="codeph">平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1288 d8155e1256 ">
                                       <p>验证ONS守护程序是否正在运行</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1288 d8155e1259 ">
                                       <p><code class="codeph">ons正在运行......</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1300" headers="d8155e1253 ">
                                       <p><code class="codeph">重新配置</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1300 d8155e1256 ">
                                       <p>触发重新加载ONS配置而不关闭ONS守护程序</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1300 d8155e1259 "> </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1309" headers="d8155e1253 ">
                                       <p><code class="codeph">救命</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1309 d8155e1256 ">
                                       <p>打印onsctl的帮助摘要消息</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1309 d8155e1259 "> </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d8155e1318" headers="d8155e1253 ">
                                       <p><code class="codeph">详细</code></p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d8155e1318 d8155e1256 ">
                                       <p>打印onsctl的详细帮助消息</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d8155e1318 d8155e1259 "> </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__GUID-F31529FB-E316-489F-91FB-6D56753620F1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#RACAD0067" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a></p>
                        </div>
                        <div class="infoboxnote" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__GUID-83B2CEFD-E3B5-43C3-8A54-9B14825AA94D">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行JDBC实例的Java虚拟机（JVM）必须在启动应用程序之前将<code class="codeph">oracle.ons.oraclehome</code>系统属性设置为<code class="codeph">ORACLE_HOME</code>的位置。例如：</p><pre class="oac_no_warn" dir="ltr">java -Doracle.ons.oraclehome = $ ORACLE_HOME ...
</pre></li>
                              <li>
                                 <p>Oracle建议为UCP远程配置ONS。</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnote" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__GUID-FC0815E1-7A68-4F89-8468-FAB6C7536552">
                           <p class="notep1">注意：</p>
                           <p>在Oracle RAC 12.1.0.2.0中，默认情况下，服务器安装需要设置<code class="codeph">walletfile</code> ONS参数的值，并强制对所有ONS连接使用SSL。
                           </p>
                           <p>如果您的UCP应用程序已在ONS远程配置字符串或本地配置文件中使用<code class="codeph">walletfile</code>参数，则唯一的要求是，对于相同的拓扑，客户端上的钱包文件必须具有与服务器端的钱包文件。您可以复制服务器端文件并使其在客户端可用。
                           </p>
                           <p>对于使用Oracle RAC功能而未设置<code class="codeph">walletfile</code>参数的UCP应用程序，您必须执行以下操作之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将walletfile参数设置添加到ONS远程配置字符串或本地配置文件，如<a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">例9-1</a>所示。请记住，对于相同的拓扑，客户端上的钱包文件必须与Oracle RAC服务器端的钱包文件具有相同的内容。
                                 </p>
                              </li>
                              <li>
                                 <p>执行以下命令，从客户端和服务器ONS配置字符串和本地配置文件中删除<code class="codeph">walletfile</code>参数设置：</p><pre class="oac_no_warn" dir="ltr">srvctl修改nodeapps -clientdata</pre></li>
                           </ul>
                           <p>对于安全通信，首次安装或修补Oracle RAC 12.1.0.2.0时，Oracle RAC 12.1.x中的ONS自动配置不再有效。应用程序必须使用显式ONS配置（远程或本地），并进行前面讨论的更改之一。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A78715A2-9F5A-4779-AFD7-5FDEC258DA63__BABIIAHB">
                        <p class="titleinexample">示例9-2示例ons.config文件的示例</p><pre class="oac_no_warn" dir="ltr">＃这是ons.config文件的示例##前三个值是必需的localport = 4100 remoteport = 4200 nodes = racnode1.example.com：4200，racnode2.example.com：4200</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="JJUCP8213"></a><a id="JJUCP8212"></a><div class="props_rev_3"><a id="GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F" name="GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F"></a><h3 id="JJUCP-GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F" class="sect3"><span class="enumeration_section">9.2.7</span>配置连接URL</h3>
               <div>
                  <div class="section">
                     <p><a id="d8155e1423" class="indexterm-anchor"></a><a id="d8155e1427" class="indexterm-anchor"></a><a id="d8155e1429" class="indexterm-anchor"></a>使用FCF时，连接工厂的连接URL必须使用服务名称语法。服务名称用于将连接池映射到服务。此外，工厂类必须是Oracle工厂类。以下示例演示如何配置连接URL，如<a href="fast-connection-failover.html#GUID-18F60DC2-A4C2-43D7-9BCB-628D09A1AC0F__CHDEEBAJ">例9-1</a>所示：</p><pre class="oac_no_warn" dir="ltr">...pds.setConnectionFactoryClassName（“oracle.jdbc.pool。OracleDataSource“）; pds.setURL（”jdbc：oracle：thin @ // host：port / service_name“）; ...
</pre><div class="infoboxnote" id="GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F__GUID-BF84AC3C-CF73-44E5-AAF7-C6149968791A">
                        <p class="notep1">注意：</p>
                        <p>如果在启用FCF时为连接URL指定了服务标识符（SID），则抛出异常。</p>
                     </div>
                     <p>以下示例演示了连接到Oracle RAC数据库时的有效连接URL语法。包括Oracle JDBC瘦和Oracle OCI驱动程序的示例。请注意，URL可用于在Oracle RAC节点之间显式启用负载平衡：<a id="d8155e1441" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C54F3D4D-9973-41EA-B62B-E574DE94970F__GUID-90B76114-F8BC-4A8C-B914-E124DBBD9D5E">有效的连接URL用法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pds.setURL（ “JDBC：预言：薄@ //主机：端口/服务名”）; pds.setURL（ “JDBC：预言：薄@ //群集别名：端口/服务名”）; pds.setURL（“jdbc：oracle：thin：@（DESCRIPTION =”+“（LOAD_BALANCE = on）”+“（ADDRESS =（PROTOCOL = TCP）（HOST = host1）（PORT = 1521））”+“（ADDRESS =（PROTOCOL = TCP）（HOST = host2）（PORT = 1521））“+”（CONNECT_DATA =（SERVICE_NAME = service_name）））“）; pds.setURL（“jdbc：oracle：thin：@（DESCRIPTION =”+“（ADDRESS =（PROTOCOL = TCP）（HOST = cluster_alias）（PORT = 1521））”+“（CONNECT_DATA =（SERVICE_NAME = service_name））） “）; pds.setURL（ “JDBC：预言：OCI：@TNS_ALIAS”）; pds.setURL（“jdbc：oracle：oci：@（DESCRIPTION =”+“（LOAD_BALANCE = on）”+“（ADDRESS =（PROTOCOL = TCP）（HOST = host1）（PORT = 1521））”+“（地址） =（PROTOCOL = TCP）（HOST = host2）（PORT = 1521））“+”（CONNECT_DATA =（SERVICE_NAME = service_name）））“）; pds.setURL（“jdbc：oracle：oci：@（DESCRIPTION =”+“（ADDRESS =（PROTOCOL = TCP）（HOST = cluster_alias）（PORT = 1521））”+“（CONNECT_DATA =（SERVICE_NAME = service_name））） “）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01682.stopword-transformations-in-oracle-text.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Text中的停用词转换</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-text-views.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-text-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Text中的停用词转换</li>
            </ol>
            <a id="GUID-E99976BC-6C0A-4B71-B56B-43E6BBF2865F" name="GUID-E99976BC-6C0A-4B71-B56B-43E6BBF2865F"></a><a id="CCREF1900"></a>
            
            <h2 id="CCREF-GUID-E99976BC-6C0A-4B71-B56B-43E6BBF2865F" class="sect2">Oracle Text中的<span class="enumeration_chapter">H</span> Stopword转换</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录描述了每个运算符的停用词重写或转换。在所有表中，“ <span class="italic">停用词表达式”</span>列描述查询表达式或查询表达式的组件，而右侧列描述Oracle Text重写查询的方式。
               </p>
               <p>本附录包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-EA352ADE-1E03-413D-80CA-77E00B6F32D1">了解停用词转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-67A33B3B-8E17-4730-821F-A4810599CB7B">关于短语查询中的停用词</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-F2413AF4-72B1-4480-A3DE-B21A98979FB4">单词转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-D1456D9A-2915-4572-9539-9BD85CCA6CEC">AND转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-2021BAD0-263E-40D0-ADB7-ABA347BEB9C3">或转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-02EB3E63-E4C6-430E-96D9-C6BEDD8C4C11">累积变换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-3FD41359-0197-4181-B220-2DB6FEE0E28D">MINUS转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-360B79F8-9677-4C1A-8BCE-9CD3F59B3B6D">MNOT转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-2DE48FEF-3502-4CB6-B14F-27F9D8150F27">不转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5">等价变换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-767B47E7-8AA8-470A-812E-6D9C2FE4F2D5">NEAR转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-3B80866C-2671-443E-B3DA-91A4D1219882">重量转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-6DCDE5F9-113C-470F-A062-862CFB18E967">阈值转换</a></p>
                  </li>
                  <li>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-884ED30E-0545-4935-B836-60F78C27CDBF">在转换中</a></p>
                  </li>
               </ul>
            </div><a id="CCREF2362"></a><div class="props_rev_3"><a id="GUID-EA352ADE-1E03-413D-80CA-77E00B6F32D1" name="GUID-EA352ADE-1E03-413D-80CA-77E00B6F32D1"></a><h3 id="CCREF-GUID-EA352ADE-1E03-413D-80CA-77E00B6F32D1" class="sect3"><span class="enumeration_section">H.1</span>了解停用词转换</h3>
               <div>
                  <p>当您使用禁用词或仅限于停用词的短语作为查询运算符的操作数时，Oracle Text会重写表达式以消除禁用词或仅限停用词的短语，然后执行查询。</p>
                  <p>令牌<span class="italic">禁用词</span>代表单个禁用词或仅限禁用词。
                  </p>
                  <p>令牌<span class="italic">non_stopword</span>代表单个非停用词，所有非停用词的短语，或非停用词和停用词的短语。
                  </p>
                  <p>令牌<span class="italic">no_lex</span>代表单个字符或字符串，既不是停用词，也不是索引的单词。例如，+字符本身就是<span class="italic">no_lex</span>标记的示例。
                  </p>
                  <p>当<span class="italic">Stopword Expression</span>列完全描述查询表达式时，重写的<span class="italic">no_token</span>表达式意味着在您输入此类查询时不会返回任何匹配。
                  </p>
                  <p>当“ <span class="italic">停用词表达式”</span>列描述具有多个运算符的查询表达式的组件时，重写的<span class="italic">no_token</span>表达式意味着将<span class="italic">no_token</span>值传递给重写的下一步。
                  </p>
                  <p>在<span class="italic">Stopword</span> <span class="italic">Expression</span>列中包含<span class="italic">no_token</span>作为操作数的转换描述了中间转换，其中<span class="italic">no_token</span>是先前转换的结果。当原始查询表达式具有至少一个停用词和多个运算符时，将应用这些中间转换。
                  </p>
                  <p>例如，请考虑以下复合查询表达式：</p><pre class="oac_no_warn" dir="ltr">'（这不是狗）和猫'</pre><p>假设<span class="italic">这</span>是此表达式中唯一的停用词，Oracle Text将按以下顺序应用以下转换：</p>
                  <p>stopword NOT non-stopword =&gt; no_token</p>
                  <p>no_token AND non_stopword =&gt; non_stopword</p>
                  <p>结果表达式为：</p><pre class="oac_no_warn" dir="ltr">'猫'</pre></div>
            </div><a id="CCREF99023"></a><div class="props_rev_3"><a id="GUID-67A33B3B-8E17-4730-821F-A4810599CB7B" name="GUID-67A33B3B-8E17-4730-821F-A4810599CB7B"></a><h3 id="CCREF-GUID-67A33B3B-8E17-4730-821F-A4810599CB7B" class="sect3"><span class="enumeration_section">H.2</span>关于短语查询中的停用词</h3>
               <div>
                  <p>如果在短语查询中使用，则停用词将匹配任何单个词，无论该词是否为禁用词。例如，如果“in”和“to”是停用词，但“整个”不是，那么查询“在加利福尼亚徒步旅行”将匹配以下任何一个短语：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在加州远足</p>
                     </li>
                     <li>
                        <p>远足到加州</p>
                     </li>
                     <li>
                        <p>在加利福尼亚徒步</p>
                     </li>
                  </ul>
               </div>
            </div><a id="CCREF2363"></a><div class="props_rev_3"><a id="GUID-F2413AF4-72B1-4480-A3DE-B21A98979FB4" name="GUID-F2413AF4-72B1-4480-A3DE-B21A98979FB4"></a><h3 id="CCREF-GUID-F2413AF4-72B1-4480-A3DE-B21A98979FB4" class="sect3"><span class="enumeration_section">H.3</span>单词转换</h3>
               <div>
                  <div class="tblformal" id="GUID-F2413AF4-72B1-4480-A3DE-B21A98979FB4__GUID-C6A6733B-D786-4887-86C5-C42A414DF264">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows Word Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e422">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e426">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e431" headers="d202154e422 ">
                                 <p>停用词</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e431 d202154e426 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e438" headers="d202154e422 ">
                                 <p>no_lex</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e438 d202154e426 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>第一个转换意味着查询表达式中的禁用词或仅限于停用词的短语不会导致命中。</p>
                     <p>第二个转换表明，没有词汇的术语，例如+字符，不会导致命中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2364"></a><div class="props_rev_3"><a id="GUID-D1456D9A-2915-4572-9539-9BD85CCA6CEC" name="GUID-D1456D9A-2915-4572-9539-9BD85CCA6CEC"></a><h3 id="CCREF-GUID-D1456D9A-2915-4572-9539-9BD85CCA6CEC" class="sect3"><span class="enumeration_section">H.4</span> AND转换</h3>
               <div>
                  <div class="tblformal" id="GUID-D1456D9A-2915-4572-9539-9BD85CCA6CEC__GUID-D11E7B93-2758-4F36-97DE-5AD9F3C9A90F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows AND Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e525">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e528">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e533" headers="d202154e525 ">
                                 <p><span class="italic">non_stopword</span>和<span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e533 d202154e528 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e544" headers="d202154e525 ">
                                 <p><span class="italic">non_stopword</span> AND <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e544 d202154e528 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e555" headers="d202154e525 ">
                                 <p><span class="italic">禁用词</span>和<span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e555 d202154e528 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e566" headers="d202154e525 ">
                                 <p><span class="italic">no_token</span>和<span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e566 d202154e528 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e577" headers="d202154e525 ">
                                 <p><span class="italic">禁用词</span>和<span class="italic">禁止词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e577 d202154e528 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e588" headers="d202154e525 ">
                                 <p><span class="italic">no_token</span>和<span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e588 d202154e528 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e599" headers="d202154e525 ">
                                 <p><span class="italic">禁用</span> <span class="italic">词</span>和<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e599 d202154e528 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e610" headers="d202154e525 ">
                                 <p><span class="italic">no_token</span>和<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e610 d202154e528 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2365"></a><div class="props_rev_3"><a id="GUID-2021BAD0-263E-40D0-ADB7-ABA347BEB9C3" name="GUID-2021BAD0-263E-40D0-ADB7-ABA347BEB9C3"></a><h3 id="CCREF-GUID-2021BAD0-263E-40D0-ADB7-ABA347BEB9C3" class="sect3"><span class="enumeration_section">H.5</span> OR转换</h3>
               <div>
                  <div class="tblformal" id="GUID-2021BAD0-263E-40D0-ADB7-ABA347BEB9C3__GUID-D5623368-48C2-4476-9D9B-E5A2A9D0EE2D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows OR Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e696">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e699">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e704" headers="d202154e696 ">
                                 <p><span class="italic">non_stopword</span>或<span class="italic">禁用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e704 d202154e699 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e715" headers="d202154e696 ">
                                 <p><span class="italic">non_stopword</span>或<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e715 d202154e699 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e726" headers="d202154e696 ">
                                 <p><span class="italic">禁止</span> <span class="italic">词</span>或<span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e726 d202154e699 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e737" headers="d202154e696 ">
                                 <p><span class="italic">no_token</span>或<span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e737 d202154e699 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e748" headers="d202154e696 ">
                                 <p><span class="italic">禁止词</span>或<span class="italic">禁止词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e748 d202154e699 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e759" headers="d202154e696 ">
                                 <p><span class="italic">no_token</span>或<span class="italic">禁用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e759 d202154e699 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e770" headers="d202154e696 ">
                                 <p><span class="italic">禁止</span> <span class="italic">词</span>或<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e770 d202154e699 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e781" headers="d202154e696 ">
                                 <p><span class="italic">no_token</span>或<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e781 d202154e699 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2366"></a><div class="props_rev_3"><a id="GUID-02EB3E63-E4C6-430E-96D9-C6BEDD8C4C11" name="GUID-02EB3E63-E4C6-430E-96D9-C6BEDD8C4C11"></a><h3 id="CCREF-GUID-02EB3E63-E4C6-430E-96D9-C6BEDD8C4C11" class="sect3"><span class="enumeration_section">H.6</span>累积变换</h3>
               <div>
                  <div class="tblformal" id="GUID-02EB3E63-E4C6-430E-96D9-C6BEDD8C4C11__GUID-88559F3D-F833-437D-A99C-10E328188702">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows ACCUMulate Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e868">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e871">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e876" headers="d202154e868 ">
                                 <p><span class="italic">non_stopword</span> ACCUM <span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e876 d202154e871 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e887" headers="d202154e868 ">
                                 <p><span class="italic">non_stopword</span> ACCUM <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e887 d202154e871 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e898" headers="d202154e868 ">
                                 <p><span class="italic">停用词</span> ACCUM <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e898 d202154e871 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e909" headers="d202154e868 ">
                                 <p><span class="italic">no_token</span> ACCUM <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e909 d202154e871 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e920" headers="d202154e868 ">
                                 <p><span class="italic">禁用</span>词汇ACCUM禁止<span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e920 d202154e871 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e931" headers="d202154e868 ">
                                 <p><span class="italic">no_token</span> ACCUM <span class="italic">禁用</span> <span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e931 d202154e871 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e942" headers="d202154e868 ">
                                 <p><span class="italic">禁用</span> <span class="italic">词</span> ACCUM <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e942 d202154e871 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e953" headers="d202154e868 ">
                                 <p><span class="italic">no_token</span> ACCUM <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e953 d202154e871 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2367"></a><div class="props_rev_3"><a id="GUID-3FD41359-0197-4181-B220-2DB6FEE0E28D" name="GUID-3FD41359-0197-4181-B220-2DB6FEE0E28D"></a><h3 id="CCREF-GUID-3FD41359-0197-4181-B220-2DB6FEE0E28D" class="sect3"><span class="enumeration_section">H.7</span> MINUS转换</h3>
               <div>
                  <div class="tblformal" id="GUID-3FD41359-0197-4181-B220-2DB6FEE0E28D__GUID-7679D0D5-9870-44BE-A099-738A2DF53B1D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows MINUS Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1039">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e1042">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1047" headers="d202154e1039 ">
                                 <p><span class="italic">non_stopword</span>减号<span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1047 d202154e1042 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1058" headers="d202154e1039 ">
                                 <p><span class="italic">non_stopword</span> MINUS <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1058 d202154e1042 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1069" headers="d202154e1039 ">
                                 <p><span class="italic">禁用</span> <span class="italic">词</span> MINUS <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1069 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1080" headers="d202154e1039 ">
                                 <p><span class="italic">no_token</span> MINUS <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1080 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1091" headers="d202154e1039 ">
                                 <p><span class="italic">停用词</span> <span class="italic">停止词</span> MINUS</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1091 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1102" headers="d202154e1039 ">
                                 <p><span class="italic">no_token</span>减号<span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1102 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1113" headers="d202154e1039 ">
                                 <p><span class="italic">停用词</span>减号<span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1113 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1124" headers="d202154e1039 ">
                                 <p><span class="italic">no_token</span> MINUS <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1124 d202154e1042 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF23671"></a><div class="props_rev_3"><a id="GUID-360B79F8-9677-4C1A-8BCE-9CD3F59B3B6D" name="GUID-360B79F8-9677-4C1A-8BCE-9CD3F59B3B6D"></a><h3 id="CCREF-GUID-360B79F8-9677-4C1A-8BCE-9CD3F59B3B6D" class="sect3"><span class="enumeration_section">H.8</span> MNOT转换</h3>
               <div>
                  <div class="tblformal" id="GUID-360B79F8-9677-4C1A-8BCE-9CD3F59B3B6D__GUID-9FFEF3B0-94A9-430F-AA6D-BD92C243C99A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="MNOT Transofrmation" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="62%" id="d202154e1204">停止词表达</th>
                              <th align="left" valign="bottom" width="38%" id="d202154e1207">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1212" headers="d202154e1204 ">
                                 <p><span class="italic">non_stopword</span> MNOT禁用<span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1212 d202154e1207 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1223" headers="d202154e1204 ">
                                 <p><span class="italic">non_stopword</span> MNOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1223 d202154e1207 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1234" headers="d202154e1204 ">
                                 <p>禁用<span class="italic">词</span> MNOT <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1234 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1245" headers="d202154e1204 ">
                                 <p><span class="italic">no_token</span> MNOT <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1245 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1256" headers="d202154e1204 ">
                                 <p><span class="italic">停止词</span> MNOT禁止<span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1256 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1267" headers="d202154e1204 ">
                                 <p><span class="italic">no_token</span> MNOT禁用<span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1267 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1278" headers="d202154e1204 ">
                                 <p><span class="italic">停止词</span> MNOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1278 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="62%" id="d202154e1289" headers="d202154e1204 ">
                                 <p><span class="italic">no_token</span> MNOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d202154e1289 d202154e1207 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2368"></a><div class="props_rev_3"><a id="GUID-2DE48FEF-3502-4CB6-B14F-27F9D8150F27" name="GUID-2DE48FEF-3502-4CB6-B14F-27F9D8150F27"></a><h3 id="CCREF-GUID-2DE48FEF-3502-4CB6-B14F-27F9D8150F27" class="sect3"><span class="enumeration_section">H.9</span> NOT转换</h3>
               <div>
                  <div class="tblformal" id="GUID-2DE48FEF-3502-4CB6-B14F-27F9D8150F27__GUID-4CDC98AC-4854-41FF-820C-CCA1E5F8052D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows NOT Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1376">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e1379">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1384" headers="d202154e1376 ">
                                 <p><span class="italic">non_stopword</span>不<span class="italic">停止字</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1384 d202154e1379 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1395" headers="d202154e1376 ">
                                 <p><span class="italic">non_stopword</span> NOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1395 d202154e1379 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1406" headers="d202154e1376 ">
                                 <p><span class="italic">停止词</span> NOT <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1406 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1417" headers="d202154e1376 ">
                                 <p><span class="italic">no_token</span> NOT <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1417 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1428" headers="d202154e1376 ">
                                 <p><span class="italic">禁止词</span>不是<span class="italic">禁止词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1428 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1439" headers="d202154e1376 ">
                                 <p><span class="italic">no_token</span>不<span class="italic">停止字</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1439 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1450" headers="d202154e1376 ">
                                 <p><span class="italic">停止词</span> NOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1450 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1461" headers="d202154e1376 ">
                                 <p><span class="italic">no_token</span> NOT <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1461 d202154e1379 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2369"></a><div class="props_rev_3"><a id="GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5" name="GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5"></a><h3 id="CCREF-GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5" class="sect3"><span class="enumeration_section">H.10</span>等效变换</h3>
               <div>
                  <div class="tblformal" id="GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5__GUID-7BC3E8A0-D440-40DF-815D-8F14DA351765">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows EQUIValence Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1547">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e1550">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1555" headers="d202154e1547 ">
                                 <p><span class="italic">non_stopword</span> EQUIV <span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1555 d202154e1550 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1566" headers="d202154e1547 ">
                                 <p><span class="italic">non_stopword</span> EQUIV <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1566 d202154e1550 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1577" headers="d202154e1547 ">
                                 <p><span class="italic">停用词</span> EQUIV <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1577 d202154e1550 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1588" headers="d202154e1547 ">
                                 <p><span class="italic">no_token</span> EQUIV <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1588 d202154e1550 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1599" headers="d202154e1547 ">
                                 <p><span class="italic">停用词</span> <span class="italic">停止词</span> EQUIV</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1599 d202154e1550 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1610" headers="d202154e1547 ">
                                 <p><span class="italic">no_token</span> EQUIV禁止<span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1610 d202154e1550 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1621" headers="d202154e1547 ">
                                 <p><span class="italic">停止词</span> EQUIV <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1621 d202154e1550 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1632" headers="d202154e1547 ">
                                 <p><span class="italic">no_token</span> EQUIV <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1632 d202154e1550 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-AC5A3806-8358-4152-9998-F2FC307AB1F5__GUID-33C99CCD-6608-4D3D-9929-492D9CD3608A">
                        <p class="notep1">注意：</p>
                        <p>使用查询说明计划时，并非所有等效转换都在<code class="codeph">EXPLAIN</code>表中表示。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2370"></a><div class="props_rev_3"><a id="GUID-767B47E7-8AA8-470A-812E-6D9C2FE4F2D5" name="GUID-767B47E7-8AA8-470A-812E-6D9C2FE4F2D5"></a><h3 id="CCREF-GUID-767B47E7-8AA8-470A-812E-6D9C2FE4F2D5" class="sect3"><span class="enumeration_section">H.11</span> NEAR转换</h3>
               <div>
                  <div class="tblformal" id="GUID-767B47E7-8AA8-470A-812E-6D9C2FE4F2D5__GUID-11304A3C-0DD8-4501-82C8-7CA121209AE2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows NEAR Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1725">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e1728">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1733" headers="d202154e1725 ">
                                 <p><span class="italic">non_stopword</span> NEAR <span class="italic">停用词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1733 d202154e1728 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1744" headers="d202154e1725 ">
                                 <p><span class="italic">non_stopword</span> NEAR <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1744 d202154e1728 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1755" headers="d202154e1725 ">
                                 <p><span class="italic">停止词</span> NEAR <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1755 d202154e1728 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1766" headers="d202154e1725 ">
                                 <p><span class="italic">no_token</span> NEAR <span class="italic">non_stopword</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1766 d202154e1728 ">
                                 <p>non_stopword</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1777" headers="d202154e1725 ">
                                 <p><span class="italic">关键字</span> NEAR <span class="italic">禁止词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1777 d202154e1728 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1788" headers="d202154e1725 ">
                                 <p><span class="italic">no_token</span> NEAR <span class="italic">禁止</span> <span class="italic">词</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1788 d202154e1728 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1799" headers="d202154e1725 ">
                                 <p><span class="italic">停止词</span> NEAR <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1799 d202154e1728 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1810" headers="d202154e1725 ">
                                 <p><span class="italic">no_token</span> NEAR <span class="italic">no_token</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1810 d202154e1728 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2371"></a><div class="props_rev_3"><a id="GUID-3B80866C-2671-443E-B3DA-91A4D1219882" name="GUID-3B80866C-2671-443E-B3DA-91A4D1219882"></a><h3 id="CCREF-GUID-3B80866C-2671-443E-B3DA-91A4D1219882" class="sect3"><span class="enumeration_section">H.12</span>重量变换</h3>
               <div>
                  <div class="tblformal" id="GUID-3B80866C-2671-443E-B3DA-91A4D1219882__GUID-4EE2C662-0BFD-426F-B84D-C1547EAAA4EA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows Weight Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1897">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e1900">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1905" headers="d202154e1897 ">
                                 <p><span class="italic">禁止词</span> *</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1905 d202154e1900 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e1914" headers="d202154e1897 ">
                                 <p><span class="italic">no_token *</span> n</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e1914 d202154e1900 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2372"></a><div class="props_rev_3"><a id="GUID-6DCDE5F9-113C-470F-A062-862CFB18E967" name="GUID-6DCDE5F9-113C-470F-A062-862CFB18E967"></a><h3 id="CCREF-GUID-6DCDE5F9-113C-470F-A062-862CFB18E967" class="sect3"><span class="enumeration_section">H.13</span>门限转换</h3>
               <div>
                  <div class="tblformal" id="GUID-6DCDE5F9-113C-470F-A062-862CFB18E967__GUID-CF000B85-8E31-44CC-941C-E6A63DE6482E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows Threshold Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e1998">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e2001">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e2006" headers="d202154e1998 ">
                                 <p><span class="italic">禁止词</span> &gt; n</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e2006 d202154e2001 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e2015" headers="d202154e1998 ">
                                 <p><span class="italic">no_token&gt;</span> n</p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e2015 d202154e2001 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2373"></a><div class="props_rev_3"><a id="GUID-884ED30E-0545-4935-B836-60F78C27CDBF" name="GUID-884ED30E-0545-4935-B836-60F78C27CDBF"></a><h3 id="CCREF-GUID-884ED30E-0545-4935-B836-60F78C27CDBF" class="sect3"><span class="enumeration_section">H.14</span> WITHIN转换</h3>
               <div>
                  <div class="tblformal" id="GUID-884ED30E-0545-4935-B836-60F78C27CDBF__GUID-01D7644D-1D7C-487C-B228-02F23368D4B8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows WITHIN Transformations." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d202154e2099">停止词表达</th>
                              <th align="left" valign="bottom" width="61%" id="d202154e2102">改写表达</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e2107" headers="d202154e2099 ">
                                 <p><span class="italic">禁用词</span> <span class="italic">内容</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e2107 d202154e2102 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d202154e2118" headers="d202154e2099 ">
                                 <p><span class="italic">no_token</span> WITHIN <span class="italic">部分</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d202154e2118 d202154e2102 ">
                                 <p>no_token</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01903.package-Xsl-API.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于C ++的Xsl API包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XML C++ API Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XML C++ API Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T06:28:05-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96479-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="package-XPointer-API.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML C++ API Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CPXML"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-XPointer-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C ++ API参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于C ++的Xsl API包</li>
            </ol>
            <a id="GUID-DDCE7723-BD65-4885-81D3-740E6E38B3B6" name="GUID-DDCE7723-BD65-4885-81D3-740E6E38B3B6"></a><a id="CPXML02000"></a>
            
            <h2 id="CPXML-GUID-DDCE7723-BD65-4885-81D3-740E6E38B3B6" class="sect2"><span class="enumeration_chapter">10</span>用于C ++的Xsl API包</h2>
         </header>
         <div class="ind">
            <div>
               <p>C ++的<code class="codeph">Xsl</code>包包含与XSL转换相关的类型和方法。它们包括<code class="codeph">Xsl</code>数据类型， <code class="codeph">Compiler</code>方法， <code class="codeph">CompTransformer</code>方法， <code class="codeph">Transformer</code>方法和<code class="codeph">XSLException</code>方法。
               </p>
               <div class="infoboxnotealso" id="GUID-DDCE7723-BD65-4885-81D3-740E6E38B3B6__GUID-88DD6A06-FCF7-4FB6-9547-90CFFEE2B6A4">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../adxdk/using-XSLT-processor-for-C-plus-plus.html#ADXDK-GUID-BED2BA80-DD7D-457B-A3CD-76535ECC6B71" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
               </div>
            </div><a id="CPXML3115"></a><a id="CPXML02005"></a><div class="props_rev_3"><a id="GUID-2E06C9E3-687F-4EE8-A227-38FB44BAF4BB" name="GUID-2E06C9E3-687F-4EE8-A227-38FB44BAF4BB"></a><h3 id="CPXML-GUID-2E06C9E3-687F-4EE8-A227-38FB44BAF4BB" class="sect3">Xsl数据类型</h3>
               <div>
                  <div class="section">
                     <p><a href="package-Xsl-API.html#GUID-2E06C9E3-687F-4EE8-A227-38FB44BAF4BB__CIHIJHJG" title="第一列列出了数据类型;第2列有说明。">表10-1</a>总结了<code class="codeph">Xsl</code>包的数据类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2E06C9E3-687F-4EE8-A227-38FB44BAF4BB__CIHIJHJG">
                     <p class="titleintable">表10-1数据类型摘要; Xsl包</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="数据类型摘要; Xsl包" width="100%" border="1" summary="Column one lists datatypes; column 2 has descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d56687e107">数据类型</th>
                              <th align="left" valign="bottom" width="59%" id="d56687e110">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d56687e115" headers="d56687e107 ">
                                 <p><a href="package-Xsl-API.html#GUID-3BE7833D-FC3E-475F-85E9-728335EC91FD">XslCompIdType</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d56687e115 d56687e110 ">
                                 <p>定义XSL编译器标识符。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d56687e124" headers="d56687e107 ">
                                 <p><a href="package-Xsl-API.html#GUID-D790C7DF-D50E-4AAD-8433-C56F33EA2810">XslExceptionCode</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d56687e124 d56687e110 ">
                                 <p>定义与XSLT相关的异常。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d56687e133" headers="d56687e107 ">
                                 <p><a href="package-Xsl-API.html#GUID-F8B1FF6A-EACC-493D-B7DB-DF74B7CE33D0">XslTrIdType</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d56687e133 d56687e110 ">
                                 <p>定义XSL转换器标识符。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CPXML3117"></a><a id="CPXML3116"></a><div class="props_rev_3"><a id="GUID-3BE7833D-FC3E-475F-85E9-728335EC91FD" name="GUID-3BE7833D-FC3E-475F-85E9-728335EC91FD"></a><h4 id="CPXML-GUID-3BE7833D-FC3E-475F-85E9-728335EC91FD" class="sect4">XslCompIdType</h4>
                  <div>
                     <div class="section">
                        <p>定义XSL编译器标识符。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BE7833D-FC3E-475F-85E9-728335EC91FD__GUID-ADAA163B-A77E-4A04-A71D-09AFD1CEA99E">定义</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum XslCompIdType {XvmCompCXml = 1} XslCompIdType;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3119"></a><a id="CPXML3118"></a><div class="props_rev_3"><a id="GUID-D790C7DF-D50E-4AAD-8433-C56F33EA2810" name="GUID-D790C7DF-D50E-4AAD-8433-C56F33EA2810"></a><h4 id="CPXML-GUID-D790C7DF-D50E-4AAD-8433-C56F33EA2810" class="sect4">XslExceptionCode</h4>
                  <div>
                     <div class="section">
                        <p>定义与XSLT相关的异常。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D790C7DF-D50E-4AAD-8433-C56F33EA2810__GUID-3475E1E1-6014-4C4C-83E3-E5196E615BCD">定义</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">typedef typedef enum XslExceptionCode {XSL_UNDEFINED_ERR = 0，XSL_OTHER_ERR = 1} XslExceptionCode;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3121"></a><a id="CPXML3120"></a><div class="props_rev_3"><a id="GUID-F8B1FF6A-EACC-493D-B7DB-DF74B7CE33D0" name="GUID-F8B1FF6A-EACC-493D-B7DB-DF74B7CE33D0"></a><h4 id="CPXML-GUID-F8B1FF6A-EACC-493D-B7DB-DF74B7CE33D0" class="sect4">XslTrIdType</h4>
                  <div>
                     <div class="section">
                        <p>定义XSL转换器标识符。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8B1FF6A-EACC-493D-B7DB-DF74B7CE33D0__GUID-257A9DAD-F0AB-468A-BB2C-CF4209CF82C0">定义</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum XslTrIdType {XslTrCXml = 1，XvmTrCXml = 2} XslTrIdType;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CPXML3122"></a><a id="CPXML02010"></a><div class="props_rev_3"><a id="GUID-12EB97C5-8EAE-4E2C-A7C8-84E9F421391A" name="GUID-12EB97C5-8EAE-4E2C-A7C8-84E9F421391A"></a><h3 id="CPXML-GUID-12EB97C5-8EAE-4E2C-A7C8-84E9F421391A" class="sect3">编译器接口</h3>
               <div>
                  <div class="section">
                     <p><a href="package-Xsl-API.html#GUID-12EB97C5-8EAE-4E2C-A7C8-84E9F421391A__CIHHJDJE" title="第一列列出了接口;第二列提供了这些接口的简要说明。">表10-2</a>总结了<code class="codeph">Compiler</code>界面中可用的方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-12EB97C5-8EAE-4E2C-A7C8-84E9F421391A__CIHHJDJE">
                     <p class="titleintable">表10-2编译器方法摘要; Xsl包</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="编译方法综述; Xsl包" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d56687e307">功能</th>
                              <th align="left" valign="bottom" width="63%" id="d56687e310">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e315" headers="d56687e307 ">
                                 <p><a href="package-Xsl-API.html#GUID-F38AC210-8B1B-412E-BF17-6CD61864D044">编译（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e315 d56687e310 ">
                                 <p>编译Xsl并返回其编译的二进制表示。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e324" headers="d56687e307 ">
                                 <p><a href="package-Xsl-API.html#GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F">getCompilerId（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e324 d56687e310 ">
                                 <p>获取编译器的ID。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e333" headers="d56687e307 ">
                                 <p><a href="package-Xsl-API.html#GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91">的getLength（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e333 d56687e310 ">
                                 <p>获取已编译的XSL文档的长度。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CPXML3124"></a><a id="CPXML3125"></a><a id="CPXML3123"></a><div class="props_rev_3"><a id="GUID-F38AC210-8B1B-412E-BF17-6CD61864D044" name="GUID-F38AC210-8B1B-412E-BF17-6CD61864D044"></a><h4 id="CPXML-GUID-F38AC210-8B1B-412E-BF17-6CD61864D044" class="sect4">编译（）</h4>
                  <div>
                     <div class="section">
                        <p>编译Xsl并返回其编译的二进制表示。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F38AC210-8B1B-412E-BF17-6CD61864D044__GUID-3C344A58-355E-4C19-AEB4-12BF64813582">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual ub2 * compile（InputSource * isrc_ptr）throw（XslException）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-F38AC210-8B1B-412E-BF17-6CD61864D044__GUID-4E6227DE-1A55-46A9-8120-192C3E3CF4F3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e390">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e393">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e398" headers="d56687e390 "><pre class="oac_no_warn" dir="ltr">isrc_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e398 d56687e393 ">
                                    <p>Xsl文件</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F38AC210-8B1B-412E-BF17-6CD61864D044__GUID-B6AFE92E-DF90-4379-A91C-3B23927DD780">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(InputSource)</code>编译的二进制表示中的Xsl文档</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3127"></a><a id="CPXML3128"></a><a id="CPXML3126"></a><div class="props_rev_3"><a id="GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F" name="GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F"></a><h4 id="CPXML-GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F" class="sect4">getCompilerId（）</h4>
                  <div>
                     <div class="section">
                        <p>获取编译器ID。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F__GUID-81A38CEB-DDE4-4207-AE1C-8FC3145C8141">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual XslCompIdType getCompilerId（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FE0D58C1-0C1C-431E-AF51-9D85FA68895F__GUID-FEFBA348-1801-4094-98BE-99AF26929A85">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(XslCompIdType)</code>编译器的ID</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3130"></a><a id="CPXML3131"></a><a id="CPXML3129"></a><div class="props_rev_3"><a id="GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91" name="GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91"></a><h4 id="CPXML-GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91" class="sect4">的getLength（）</h4>
                  <div>
                     <div class="section">
                        <p>返回已编译的XSL文档的长度</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91__GUID-55585D74-47B4-42E9-B8DA-F49201CDE41E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual ub4 getLength（ub2 * binxsl_ptr）throw（XslException）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91__GUID-14649F3D-BEB1-4314-9F18-8046A6AF8010">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e511">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e514">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e519" headers="d56687e511 "><pre class="oac_no_warn" dir="ltr">binxsl_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e519 d56687e514 ">
                                    <p>编译了Xsl文件</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8067AD9A-748C-4729-AD7B-749D5DE24A91__GUID-22E68D00-B0B7-46F7-A109-0A24F3812E94">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub4)</code>文件的长度</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CPXML3132"></a><a id="CPXML02020"></a><div class="props_rev_3"><a id="GUID-132A5E59-EE0C-4A34-84A9-B4C816B08163" name="GUID-132A5E59-EE0C-4A34-84A9-B4C816B08163"></a><h3 id="CPXML-GUID-132A5E59-EE0C-4A34-84A9-B4C816B08163" class="sect3">CompTransformer接口</h3>
               <div>
                  <div class="section">
                     <p><a href="package-Xsl-API.html#GUID-132A5E59-EE0C-4A34-84A9-B4C816B08163__Summaryxsl" title="第一列列出了接口;第二列提供了这些接口的简要说明。">表10-3</a>总结了<code class="codeph">CompTransformer</code>接口可用的方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-132A5E59-EE0C-4A34-84A9-B4C816B08163__Summaryxsl">
                     <p class="titleintable">表10-3 CompTransformer方法摘要; Xsl包</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="CompTransformer方法综述; Xsl包" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d56687e583">功能</th>
                              <th align="left" valign="bottom" width="63%" id="d56687e586">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e591" headers="d56687e583 ">
                                 <p><a href="package-Xsl-API.html#GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877">getTransformerId（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e591 d56687e586 ">
                                 <p>获取变压器的ID。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e600" headers="d56687e583 ">
                                 <p><a href="package-Xsl-API.html#GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34">setBinXsl（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e600 d56687e586 ">
                                 <p>设置已编译的Xsl。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e609" headers="d56687e583 ">
                                 <p><a href="package-Xsl-API.html#GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E">setSAXHandler（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e609 d56687e586 ">
                                 <p>设置SAX处理程序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e618" headers="d56687e583 ">
                                 <p><a href="package-Xsl-API.html#GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE">setXSL（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e618 d56687e586 ">
                                 <p>为此转换器设置XSLT文档。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e627" headers="d56687e583 ">
                                 <p><a href="package-Xsl-API.html#GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11">转变（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e627 d56687e586 ">
                                 <p>转换文档。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CPXML3134"></a><a id="CPXML3135"></a><a id="CPXML3133"></a><div class="props_rev_3"><a id="GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877" name="GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877"></a><h4 id="CPXML-GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877" class="sect4">getTransformerId（）</h4>
                  <div>
                     <div class="section">
                        <p>获取变压器的ID。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877__GUID-13C4387A-A259-4EB3-955C-7A50C31EA133">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual XslTrIdType getTransformerId（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-84A8B21B-6226-4C36-BC3F-14A4376F0877__GUID-3351ED25-94B9-48B3-A9EB-18D9AA19E41E">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(XslTrIdType)</code> Transformer的Id</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3137"></a><a id="CPXML3136"></a><div class="props_rev_3"><a id="GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34" name="GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34"></a><h4 id="CPXML-GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34" class="sect4">setBinXsl（）</h4>
                  <div>
                     <div class="section">
                        <p>设置已编译的Xsl。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34__GUID-79C0EF10-BD5A-4E6B-82F9-A25D32ADA892">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual void setBinXsl（ub2 * binxsl_ptr）throw（XslException）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-003E8FB0-7986-4A15-BF7B-1174D2D5BE34__GUID-D7139DF1-8518-4425-86E5-9FB3A6D05346">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e732">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e735">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e740" headers="d56687e732 "><pre class="oac_no_warn" dir="ltr">binxsl_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e740 d56687e735 ">
                                    <p>编译了Xsl文件</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CPXML3139"></a><a id="CPXML3138"></a><div class="props_rev_3"><a id="GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E" name="GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E"></a><h4 id="CPXML-GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E" class="sect4">setSAXHandler（）</h4>
                  <div>
                     <div class="section">
                        <p>继承自Transformer。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E__GUID-53F46136-5D43-4CCB-B444-02757AF304AF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual void setSAXHandler（SAXHandlerRoot * hdlr_ptr）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CEA2CC83-4697-434B-82CB-CB9BB9241C4E__GUID-AA1A50BB-563D-447D-BBA7-EB2AE5B08A39">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e795">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e798">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e803" headers="d56687e795 "><pre class="oac_no_warn" dir="ltr">hdlr_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e803 d56687e798 ">
                                    <p>SAX处理程序指针</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CPXML3141"></a><a id="CPXML3140"></a><div class="props_rev_3"><a id="GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE" name="GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE"></a><h4 id="CPXML-GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE" class="sect4">setXSL（）</h4>
                  <div>
                     <div class="section">
                        <p>为此转换器设置XSLT文档。应该在调用transform成员函数之前调用。它继承自Transform。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE__GUID-E30C05FC-41A1-4A9D-8A24-33FC0A7D8B56">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual void setXSL（InputSource * isrc_ptr）throw（XslException）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A5C45777-C4EC-4786-8EF3-0CB5617939CE__GUID-9613565B-5E96-4707-B68B-8818BEB45D72">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e857">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e860">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e865" headers="d56687e857 "><pre class="oac_no_warn" dir="ltr">isrc_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e865 d56687e860 ">
                                    <p>要处理的实例文档</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CPXML3143"></a><a id="CPXML3142"></a><div class="props_rev_3"><a id="GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11" name="GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11"></a><h4 id="CPXML-GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11" class="sect4">转变（）</h4>
                  <div>
                     <div class="section">
                        <p>转换文档。如果先前调用setXSL未设置XSLT文档，则引发异常。继承自Transform。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11__GUID-C98DCC39-1105-4449-81C2-AAE756BB5C79">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column has different versions of the method, the second column describes how each is used." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d56687e913">句法</th>
                                 <th align="left" valign="bottom" width="55%" id="d56687e916">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d56687e921" headers="d56687e913 "><pre class="oac_no_warn" dir="ltr">virtual NodeRef &lt;Node&gt; * transform（nputSource * isrc_ptr）throw（XslException）= 0;</pre></td>
                                 <td align="left" valign="top" width="55%" headers="d56687e921 d56687e916 ">
                                    <p>转换文档并返回DOM。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d56687e928" headers="d56687e913 "><pre class="oac_no_warn" dir="ltr">virtual void transform（InputSource * isrc_ptr，SAXHandlerRoot * hdlr_ptr）throw（XslException）= 0;</pre></td>
                                 <td align="left" valign="top" width="55%" headers="d56687e928 d56687e916 ">
                                    <p>转换文档并返回SAX事件。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11__GUID-103B03A2-BA21-464E-B566-29B104FE6503">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e942">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e945">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e950" headers="d56687e942 "><pre class="oac_no_warn" dir="ltr">isrc_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e950 d56687e945 ">
                                    <p>要处理的实例文档</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e957" headers="d56687e942 "><pre class="oac_no_warn" dir="ltr">hdlr_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e957 d56687e945 ">
                                    <p>SAX处理程序指针</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-092B9F54-FAE1-4B14-A6F8-D3952C9BCC11__GUID-AE3928D8-32E6-4C6B-B8F8-C87D58A9854A">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(DocumentRef)</code>新文档的文档树</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CPXML3144"></a><a id="CPXML02030"></a><div class="props_rev_3"><a id="GUID-E3A1D90E-D0C4-49FC-B5CC-64634327881B" name="GUID-E3A1D90E-D0C4-49FC-B5CC-64634327881B"></a><h3 id="CPXML-GUID-E3A1D90E-D0C4-49FC-B5CC-64634327881B" class="sect3">变压器接口</h3>
               <div>
                  <div class="section">
                     <p><a href="package-Xsl-API.html#GUID-E3A1D90E-D0C4-49FC-B5CC-64634327881B__CIHJCBJG" title="第一列列出了接口;第二列提供了这些接口的简要说明。">表10-4</a>总结了<code class="codeph">Transformer</code>接口可用的方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E3A1D90E-D0C4-49FC-B5CC-64634327881B__CIHJCBJG">
                     <p class="titleintable">表10-4变压器方法综述; Xsl包</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="变压器方法综述; Xsl包" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d56687e1020">功能</th>
                              <th align="left" valign="bottom" width="63%" id="d56687e1023">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1028" headers="d56687e1020 ">
                                 <p><a href="package-Xsl-API.html#GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B">getTransformerId（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1028 d56687e1023 ">
                                 <p>获取变压器的ID。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1037" headers="d56687e1020 ">
                                 <p><a href="package-Xsl-API.html#GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7">setSAXHandler（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1037 d56687e1023 ">
                                 <p>设置SAX处理程序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1046" headers="d56687e1020 ">
                                 <p><a href="package-Xsl-API.html#GUID-79E690DB-C8CA-4502-822A-63857772A58E">setXSL（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1046 d56687e1023 ">
                                 <p>为此转换器设置XSLT文档。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1055" headers="d56687e1020 ">
                                 <p><a href="package-Xsl-API.html#GUID-16B2141C-5F0E-4547-895C-95E12F011B25">转变（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1055 d56687e1023 ">
                                 <p>转换文档并返回SAX事件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CPXML3146"></a><a id="CPXML3147"></a><a id="CPXML3145"></a><div class="props_rev_3"><a id="GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B" name="GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B"></a><h4 id="CPXML-GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B" class="sect4">getTransformerId（）</h4>
                  <div>
                     <div class="section">
                        <p>获取变换器的id。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B__GUID-92B4E910-1B9D-4510-813B-8CBD429F8B9A">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual XslTrIdType getTransformerId（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58AC1DC5-545E-4381-82C7-FE8ABC6E608B__GUID-306C9152-3018-4BA7-889F-1D92722AA202">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(XslTrIdType)</code> Transformer的Id</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3149"></a><a id="CPXML3148"></a><div class="props_rev_3"><a id="GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7" name="GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7"></a><h4 id="CPXML-GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7" class="sect4">setSAXHandler（）</h4>
                  <div>
                     <div class="section">
                        <p>设置SAX处理程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7__GUID-B6DD3718-A5C6-43E7-A694-BA1D5313EF4F">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual void setSAXHandler（SAXHandlerRoot * hdlr_ptr）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3EE256C4-8CE4-4E8C-A47C-AC194C23EEB7__GUID-7F9B71CD-21A6-43D5-8294-70CD250EADEC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e1160">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e1163">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e1168" headers="d56687e1160 "><pre class="oac_no_warn" dir="ltr">hdlr_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e1168 d56687e1163 ">
                                    <p>SAX处理程序指针</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CPXML3151"></a><a id="CPXML3150"></a><div class="props_rev_3"><a id="GUID-79E690DB-C8CA-4502-822A-63857772A58E" name="GUID-79E690DB-C8CA-4502-822A-63857772A58E"></a><h4 id="CPXML-GUID-79E690DB-C8CA-4502-822A-63857772A58E" class="sect4">setXSL（）</h4>
                  <div>
                     <div class="section">
                        <p>为此转换器设置XSLT文档。应该在调用transform成员函数之前调用。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-79E690DB-C8CA-4502-822A-63857772A58E__GUID-94ED9F16-080B-4289-98B4-12CC672E6D9B">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual void setXSL（InputSource * isrc_ptr）throw（XslException）= 0;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-79E690DB-C8CA-4502-822A-63857772A58E__GUID-D546FB79-9BDE-4639-9592-F69D1BC48956">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e1223">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e1226">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e1231" headers="d56687e1223 "><pre class="oac_no_warn" dir="ltr">isrc_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e1231 d56687e1226 ">
                                    <p>要处理的实例文档</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CPXML3153"></a><a id="CPXML3152"></a><div class="props_rev_3"><a id="GUID-16B2141C-5F0E-4547-895C-95E12F011B25" name="GUID-16B2141C-5F0E-4547-895C-95E12F011B25"></a><h4 id="CPXML-GUID-16B2141C-5F0E-4547-895C-95E12F011B25" class="sect4">转变（）</h4>
                  <div>
                     <div class="section">
                        <p>转换文档。如果先前调用setXSL未设置XSLT文档，则引发异常。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-16B2141C-5F0E-4547-895C-95E12F011B25__GUID-6518BAF7-BC07-4870-A5FD-412B10146601">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column has different versions of the method, the second column describes how each is used." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d56687e1279">句法</th>
                                 <th align="left" valign="bottom" width="55%" id="d56687e1282">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d56687e1287" headers="d56687e1279 "><pre class="oac_no_warn" dir="ltr">virtual NodeRef &lt;Node&gt; * transform（nputSource * isrc_ptr）throw（XslException）= 0;</pre></td>
                                 <td align="left" valign="top" width="55%" headers="d56687e1287 d56687e1282 ">
                                    <p>转换文档并返回DOM。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d56687e1294" headers="d56687e1279 "><pre class="oac_no_warn" dir="ltr">virtual void transform（InputSource * isrc_ptr，SAXHandlerRoot * hdlr_ptr）throw（XslException）= 0;</pre></td>
                                 <td align="left" valign="top" width="55%" headers="d56687e1294 d56687e1282 ">
                                    <p>转换文档并返回SAX事件。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-16B2141C-5F0E-4547-895C-95E12F011B25__GUID-690671DC-D1AF-454B-8428-9C3DC7035B7C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter Table; column 1 has parameters and column 2 has their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d56687e1308">参数</th>
                                 <th align="left" valign="bottom" width="74%" id="d56687e1311">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e1316" headers="d56687e1308 "><pre class="oac_no_warn" dir="ltr">isrc_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e1316 d56687e1311 ">
                                    <p>要处理的实例文档</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d56687e1323" headers="d56687e1308 "><pre class="oac_no_warn" dir="ltr">hdlr_ptr</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d56687e1323 d56687e1311 ">
                                    <p>SAX处理程序指针</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-16B2141C-5F0E-4547-895C-95E12F011B25__GUID-0741C2FF-975A-4253-8AE7-6B90D832BA8B">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(DocumentRef)</code>新文档的文档树</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CPXML3154"></a><a id="CPXML02040"></a><div class="props_rev_3"><a id="GUID-9981AFDF-7856-4DE9-9307-778F8DE93FCE" name="GUID-9981AFDF-7856-4DE9-9307-778F8DE93FCE"></a><h3 id="CPXML-GUID-9981AFDF-7856-4DE9-9307-778F8DE93FCE" class="sect3">XSLException接口</h3>
               <div>
                  <div class="section">
                     <p><a href="package-Xsl-API.html#GUID-9981AFDF-7856-4DE9-9307-778F8DE93FCE__CEGDFHJF" title="第一列列出了接口;第二列提供了这些接口的简要说明。">表10-5</a>总结了<code class="codeph">XSLException</code>接口可用的方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9981AFDF-7856-4DE9-9307-778F8DE93FCE__CEGDFHJF">
                     <p class="titleintable">表10-5 XSLException方法摘要; Xsl包</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="XSLException方法综述; Xsl包" width="100%" border="1" summary="First column lists interfaces; second column provides a brief description of these interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d56687e1386">功能</th>
                              <th align="left" valign="bottom" width="63%" id="d56687e1389">摘要</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1394" headers="d56687e1386 ">
                                 <p><a href="package-Xsl-API.html#GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED">引用代码（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1394 d56687e1389 ">
                                 <p>获取嵌入在异常中的Oracle XML错误代码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1403" headers="d56687e1386 ">
                                 <p><a href="package-Xsl-API.html#GUID-D2940B31-DF56-46AF-842D-9554D278A9BC">getMesLang（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1403 d56687e1389 ">
                                 <p>获取错误消息的当前语言（编码）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1412" headers="d56687e1386 ">
                                 <p><a href="package-Xsl-API.html#GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6">的getMessage（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1412 d56687e1389 ">
                                 <p>获取Oracle XML错误消息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d56687e1421" headers="d56687e1386 ">
                                 <p><a href="package-Xsl-API.html#GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E">getXslCode（）</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d56687e1421 d56687e1389 ">
                                 <p>定义实现的原型。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CPXML3156"></a><a id="CPXML3157"></a><a id="CPXML3155"></a><div class="props_rev_3"><a id="GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED" name="GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED"></a><h4 id="CPXML-GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED" class="sect4">引用代码（）</h4>
                  <div>
                     <div class="section">
                        <p>获取异常中嵌入的Oracle XML错误代码。虚拟成员函数继承自<code class="codeph">XmlException</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED__GUID-D80ACB19-BBAF-4ADD-957D-3362E235735B">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual unsigned getCode（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8F566B7-02F2-4A33-B7B3-BFC8B74F0AED__GUID-32FBF2FF-4C95-42A1-8D40-E842572C304D">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(unsigned)</code>数字错误代码（成功时为<code class="codeph">0</code> ）</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3159"></a><a id="CPXML3160"></a><a id="CPXML3158"></a><div class="props_rev_3"><a id="GUID-D2940B31-DF56-46AF-842D-9554D278A9BC" name="GUID-D2940B31-DF56-46AF-842D-9554D278A9BC"></a><h4 id="CPXML-GUID-D2940B31-DF56-46AF-842D-9554D278A9BC" class="sect4">getMesLang（）</h4>
                  <div>
                     <div class="section">
                        <p>虚拟成员函数继承自<code class="codeph">XmlException</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2940B31-DF56-46AF-842D-9554D278A9BC__GUID-B820FD34-0438-4F89-91B8-0CBB25CE7478">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual oratext * getMesLang（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2940B31-DF56-46AF-842D-9554D278A9BC__GUID-C1D31574-E162-487A-8735-9EAA7DD93B18">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(oratext*)</code>错误消息的当前语言（编码）</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3162"></a><a id="CPXML3163"></a><a id="CPXML3161"></a><div class="props_rev_3"><a id="GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6" name="GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6"></a><h4 id="CPXML-GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6" class="sect4">的getMessage（）</h4>
                  <div>
                     <div class="section">
                        <p>虚拟成员函数继承自<code class="codeph">XmlException</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6__GUID-FDD0BE67-2972-42B5-A8F2-DA3775DF5583">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual oratext * getMessage（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDEE1AB5-434A-46DA-AC49-70A54ABC8DD6__GUID-EB4CDC28-E718-4595-9B65-C34EEBD79FE4">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(oratext *)</code>错误消息</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CPXML3165"></a><a id="CPXML3166"></a><a id="CPXML3164"></a><div class="props_rev_3"><a id="GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E" name="GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E"></a><h4 id="CPXML-GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E" class="sect4">getXslCode（）</h4>
                  <div>
                     <div class="section">
                        <p>这是一个虚拟成员函数，它定义实现定义的成员函数的原型，返回XSL变换器和<code class="codeph">XslExceptionCode</code>定义的编译器异常代码，执行期间的异常情况。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E__GUID-1E3CAEBC-9A86-42FC-9A7A-98D2CEE1E08F">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">virtual XslExceptionCode getXslCode（）const = 0;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-41A89C6A-6B2F-4F57-ACE4-BA21EDF1319E__GUID-603780E9-2370-4CFA-8F2C-133A9B654896">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(XslExceptionCode)</code>异常代码</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03562.NCR-00001.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>NCR-00001至NCR-04028</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Error Messages"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Error Messages"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00"></meta>
      <meta name="dcterms.title" content="Database Error Messages"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95938-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="MGTCA-01001.html" title="Previous" type="text/html"></link>
      <link rel="next" href="NDFN-00020.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="MGTCA-01001.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="NDFN-00020.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库错误消息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">NCR-00001至NCR-04028</li>
            </ol>
            <a id="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B" name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B"></a>
            
            <h2 id="ERRMG-GUID-2D94B625-814A-4848-9F04-6D2429D31B9B" class="sect2"><span class="enumeration_chapter">53</span> NCR-00001至NCR-04028</h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D5988CEB-094B-4F2D-B6FE-4ECD9E049FE4"><!-- --></a> NCR-00001：NCR：无法分配内存</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>交换空间或系统内存不足。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>增加交换空间或系统内存。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-4D93EC5B-A8B4-4B2E-B4CB-39DFD3EF3EE4"><!-- --></a> NCR-00002：NCR：使用无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>功能参数不正确。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查函数调用。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E46A3B07-4F74-44C6-A25D-A38B9829EFD2"><!-- --></a> NCR-00003：NCR：初始化失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>通常交换空间不足或系统内存不足。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>增加交换空间或系统内存。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-671538D3-3F40-4967-A7F8-53EEFC47145F"><!-- --></a> NCR-01003：NCRS：读取错误。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法从输入设备读取数据。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查输入设备驱动程序返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D78895A4-724F-44DD-AEFD-D35F9EC5A4C3"><!-- --></a> NCR-01004：NCRS：写入错误。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法将数据写入输出设备。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查输出设备驱动程序返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-9DCD772E-6138-45A6-9A50-053BCADECE3D"><!-- --></a> NCR-01005：NCRS：无法刷新输出缓冲区。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法将输出缓冲区中的数据写入输出设备。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查输出设备驱动程序返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-A6DF2848-D0D7-4BB5-BA4C-1076D169C012"><!-- --></a> NCR-01006：NCRS：数据缓冲区溢出。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试在给定数据缓冲区之外读取或写入数据。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查数据缓冲区大小。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-5B945F6A-BA42-484F-923F-CA276D3EA59C"><!-- --></a> NCR-01007：NCRS：在给定模式下不支持操作。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试执行当前模式不支持的操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请参阅文档以获取工作模式和支持的操作列表。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-EBBE5789-26B3-4D3F-881C-4106B5D649A2"><!-- --></a> NCR-01008：NCRS：无法获取传输参数。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法识别传输层参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查传输层返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-A2751B33-FCC6-408B-81A6-B6200402B80B"><!-- --></a> NCR-01009：NCRS：记录处理错误。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>遇到无效记录或尝试超越上次记录。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>有关记录处理方法的说明，请参阅文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-C62657E5-8EB8-4A1F-A6E2-AE56B70546B7"><!-- --></a> NCR-01010：NCRS：网络地址长度无效。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>网络地址大小设置为0。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请参阅有关有效网络地址大小的文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-8E5B8BA8-CBE7-4E49-8CBB-119C7FA9BD6C"><!-- --></a> NCR-01011：NCRS：发送消息失败。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法通过网络发送消息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查网络接口返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-9CCA876B-9BD8-4F8F-BC9E-4D3F897691BE"><!-- --></a> NCR-01012：NCRS：接收消息失败。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法接收网络消息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查网络接口返回代码以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-6CC62035-87E1-4EB0-9537-2E52A2656ACD"><!-- --></a> NCR-01013：NCRS：无效的连接类型。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>连接类型不是流或消息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>有关连接类型的说明，请参阅文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-AFACAB38-B3B3-4220-95D3-6F69CAC5F707"><!-- --></a> NCR-01018：NCRS：加密失败。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法对数据进行加密。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>有关更多信息，请参阅SNS文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-9FF7B543-6766-4367-BC3B-B63E48A3FC56"><!-- --></a> NCR-01019：NCRS：校验和失败。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法为数据添加校验和。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>有关更多信息，请参阅SNS文档。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E676DAF8-1545-4E2B-8DA8-F9596694E05D"><!-- --></a> NCR-01020：NCRS：操作会阻止。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>返回的I / O操作没有读/写数据，因为传输连接是“非阻塞”，并且要成功，操作将需要阻止。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这是一个软错误;重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-87203971-9C9B-4BA0-9C97-FA71064E089A"><!-- --></a> NCR-02003：NCRF：传递给格式解释器的类型无效。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>格式解释器被赋予了它无法识别的数据类型。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>从类型回调例程或类型上下文结构中检查返回到解释器的类型。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-025ED5CF-40B9-4046-9ED6-D025E1CADCA1"><!-- --></a> NCR-02004：NCRF：格式解释器类型上下文无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>格式解释器被赋予了无效的类型上下文。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>此错误通常是由于未正确描述的聚合而发生的。例如，在上下文中声明NCRF_END_STRUCT_DATA_TYPE，而没有互补的NCRF_STRUCT_DATA_TYPE，则无效。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-C9B02178-A682-45AC-AC55-485F422A9B4C"><!-- --></a> NCR-02005：NCRF：会话模式无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>数据格式层收到GET，PUT或FREE以外的会话模式。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>没有</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-C14CCFF3-651E-43EB-9D16-7824C3C61485"><!-- --></a> NCR-02006：NCRF：收到无效的浮点表示</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>数据格式层收到了无法识别的浮点表示。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查传入格式描述符是否有错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-08385F72-CF21-442A-B43C-DF3FA8E9C922"><!-- --></a> NCR-02007：NCRF：收到无效的格式描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>数据格式层收到格式描述符格式不正确。无法格式化后续数据。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查从远程主机接收时的数据完整性。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-934A3CBC-1A7C-4138-844E-1D7A4BBD4E45"><!-- --></a> NCR-02008：NCRF：格式解释器中的流处理错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>解释器处理NCRF_STREAM_DATA_TYPE时发生错误。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查数据完整性或流存在。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E1471FFA-793B-44B8-B5AB-1D91B606F537"><!-- --></a> NCR-02009：NCRF：无法打开跟踪文件</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法打开跟踪文件。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保这是合法的文件名，并且用户具有写访问权限。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-67E854B0-D416-48B7-827F-18A9D2487D5F"><!-- --></a> NCR-02010：NCRF：呼叫上下文不可用</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用上下文未传递给格式上下文。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保已调用创建调用上下文。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-CFAFA543-3935-40DE-B0ED-F8CA453CC51F"><!-- --></a> NCR-02011：NCRF：超过最大rfid数。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>超过最大rfid数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>致电Oracle支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D05D47FC-3814-4402-B306-AA754E230402"><!-- --></a> NCR-03002：NCRO：已达到最大上下文数</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试创建调用上下文或服务上下文失败，因为所有上下文插槽都在使用中。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>通过销毁不再需要的上下文来释放上下文槽，或者使用更多上下文槽重新配置NCRO。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-B54A6711-C65A-4502-96F6-FA599D76E2CB"><!-- --></a> NCR-03003：NCRO：意外消息</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>从服务连接读取的消息不是预期的类型。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E8F7CC99-4997-4F9E-B865-B4F95E29296B"><!-- --></a> NCR-03004：NCRO：未知消息</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>从服务连接读取的消息类型未知。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>内部错误 - 联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-A6F5714E-F00D-47F4-A3AD-F8D1F094EB70"><!-- --></a> NCR-03005：NCRO：孤儿消息</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>从服务连接读取的消息用于不再存在的调用上下文。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-990EC072-C199-4632-8F70-0822279F7F4A"><!-- --></a> NCR-03006：NCRO：无效操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>对调用上下文的尝试操作无效。例如，尝试将IN args发送给定义为none的过程。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-8F1D8084-B136-4DD6-B68E-9BA36AB97845"><!-- --></a> NCR-03007：NCRO：上下文正忙</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试操作失败，因为服务/呼叫上下文忙于执行上一次操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-6753F491-1877-47F9-8FEE-0D4628EFCFB5"><!-- --></a> NCR-03008：NCRO：拒绝来电</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试执行远程过程失败，因为服务器已拒绝过程ID。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>如果程序ID错误，请发送正确的程序。如果联系了错误的服务器，请联系正确的服务器。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D00DF075-9986-4054-BC84-E51A31F740C2"><!-- --></a> NCR-03009：NCRO：协议版本不匹配</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>客户端和服务器NCRO层处于不兼容的版本级别。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>升级到最新的NCRO版本。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-659354BA-0618-488B-ABAD-39B321E43BA4"><!-- --></a> NCR-03010：NCRO：传输回调错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>应用程序传输回调函数已返回“FAILED”状态。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>调试传输回调函数。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-80342EA2-FDF9-4AA0-967D-9A3267B5267E"><!-- --></a> NCR-03012：NCRO：会话模式无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试操作失败，因为会话上下文处于无效状态。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>内部错误 - 联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-C376FEE1-649B-4784-A47D-9C3D3044361D"><!-- --></a> NCR-03013：NCRO：操作不受支持</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>此服务连接不支持尝试操作，因为它与远程应用程序的NCRO版本级别不兼容。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：将</span>远程应用程序与最新的NCR库链接。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-F3CBEC79-78E5-4476-87D2-91A3C1F837EC"><!-- --></a> NCR-03014：NCRO：传输地址错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法创建服务上下文，因为传输地址描述符（包含在绑定上下文中）无效。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 正确初始化传输地址描述符。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E6FA7110-EBC0-4D2D-AE8E-1EC33235A047"><!-- --></a> NCR-03015：NCRO：没有传输地址</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法创建服务上下文，因为未提供传输地址（在绑定上下文中），并且传输协议使用数据报。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 提供传输地址。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-FD3664F9-BD70-4685-8EE3-8A8520DBAE43"><!-- --></a> NCR-03016：NCRO：消息地址错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>从服务连接读取的消息具有错误的地址信息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>内部错误 - 联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-6270CA84-882A-4B68-88D4-E6F2EA9FA509"><!-- --></a> NCR-03017：NCRO：不支持传输类型RSLV</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尚未构建对传输类型RSLV的支持。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用定义的NCR_USE_RSLV重新编译NCR库。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-1B4A019B-208F-403D-8073-F74530A3F61A"><!-- --></a> NCR-03018：NCRO：无法建立RSLV连接</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法建立RSLV通常意味着名称解析失败或解析的TNS地址错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保名称位于TNSNAMES.ORA中，并将其设置为正确的TNS地址。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-990FFCAB-AB4B-4C42-9C25-877C8D8FBA74"><!-- --></a> NCR-03019：NCRO：无法初始化线程支持</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试初始化Core线程包失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>内部错误 - 联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-CE33AAAA-A73A-4A78-9F67-4951C38DEBF8"><!-- --></a> NCR-03020：NCRO：无效的呼叫上下文</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用上下文不是有效的调用上下文。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>调用上下文被破坏，可能是因为收到了Break</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-BFF0DA70-7B64-4ADC-A186-3FA652A30DE0"><!-- --></a> NCR-03021：NCRO：重置带内线</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>我们的parnter要求在收到休息后重置带内线</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>需要重置带内线</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-3AE883CE-1CFD-43FC-AA34-4FF05F4A2CF3"><!-- --></a> NCR-03022：NCRO：无法发送中断</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>使用边带通道发送中断时发生错误</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>阅读有关边带断裂支持问题的文档</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-12119B57-0AE8-47CB-A368-BCA3D16E0A34"><!-- --></a> NCR-03023：NCRO：无法收到休息时间</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>使用边带通道接收中断时发生错误</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>阅读有关边带断裂支持问题的文档</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-B4475C21-1401-4763-92A8-480A217D22C8"><!-- --></a> NCR-03024：NCRO：不支持传输类型LIST</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尚未构建对传输类型LIST的支持。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用定义的NCR_USE_LIST重新编译NCR库。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D588300B-3E50-431C-AB3E-3CF38959530F"><!-- --></a> NCR-03025：NCRO：无法建立LIST连接</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未能建立LIST连接通常意味着以下两种情况之一：（1）地址列表语法错误，（2）无法连接提供的地址</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查地址列表语法，并确保为每个（或某些）提供的地址存在“侦听器”进程。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-265504E6-3E07-489E-86C8-C501B6C8F6A9"><!-- --></a> NCR-03026：NCRO：结果缓冲区溢出</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>用于保持酸洗结果的结果缓冲区太小。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请放大结果缓冲区，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-3A3CEFB1-9320-44F8-ACC8-1F024EDF3962"><!-- --></a> NCR-03027：NCRO：尚未设置远程服务会话。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Sender-make-right需要远程FID。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请在使用Send Make's Right选项之前设置远程会话。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-A7C7EC35-4121-4545-A243-D4DC53AD6E9B"><!-- --></a> NCR-03028：NCRO：合作伙伴拒绝了发件人生产权的请求。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>当前方请求发件人制造权，但服务器拒绝了。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查服务器端以查看它拒绝SMR的原因。</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-6711CA34-C258-474E-9DFA-FBA04967CFB2"><!-- --></a> NCR-04002：NCRR：无效的接口描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于接口描述符无效，尝试注册接口失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查传递给ncrrri_register_interface调用的接口描述符。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-EBD05A67-094A-4EB6-A2B8-60A4AB6DD49D"><!-- --></a> NCR-04003：NCRR：存在接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试注册接口失败，因为接口已存在。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 注册新接口，销毁旧接口或指示必须更换旧接口。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-D0C3CC3F-D7EC-46E6-B3BF-E1DACE6F5179"><!-- --></a> NCR-04004：NCRR：无效的接口实例句柄</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于实例句柄无效，服务注册API调用失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-CF5F6195-B725-4F71-9AD8-F775FA9A9DEF"><!-- --></a> NCR-04005：NCRR：无效的过程句柄</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于程序句柄无效，过程/对象注册失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-69801B7A-9C35-42A2-AF74-A9C8D71DB046"><!-- --></a> NCR-04006：NCRR：无效的参数描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于参数描述符无效，过程注册失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-52661AE8-C06D-4CDE-90AE-850146471DB2"><!-- --></a> NCR-04007：NCRR：无效的对象句柄</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于对象句柄无效（例如，不存在的对象句柄），服务注册API调用失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-2C81D8BD-9CA6-4F1E-9850-4B59794EEEBF"><!-- --></a> NCR-04008：NCRR：程序存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试注册远程过程失败，因为此过程中已存在该过程。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 注册新过程，销毁旧过程或指示必须更换旧过程。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-1D211706-1805-4EF3-91D1-D19A18E8C7F5"><!-- --></a> NCR-04009：NCRR：对象存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试注册对象失败，因为此对象中已存在该对象。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 注册新对象，销毁旧对象或指示必须更换旧对象。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-ACA3602B-140A-44AB-8211-3B7F581A7A68"><!-- --></a> NCR-04010：NCRR：无法联系Oracle Internet Directory Server</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>服务导出或导入无法联系Oracle Internet Directory Server。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保Oracle Internet Directory配置正确。否则，打开跟踪和/或联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-EA249EE2-9883-461D-BDC7-1E9A2C4F09D0"><!-- --></a> NCR-04011：NCRR：Oracle Internet Directory错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在与Oracle Internet Directory Server交互期间，服务导出或导入失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>传入与远程操作服务注册模式有关的错误参数和/或Oracle Internet Directory服务器拒绝执行请求的操作。请参阅远程操作服务注册模式和/或打开Oracle Internet Directory跟踪和/或联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-CD9DB6CA-9376-42BA-A9C4-9CBAEF6C7867"><!-- --></a> NCR-04012：NCRR：无效的地址描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于地址描述符无效，ncrrei_export_interface调用失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-83C3E4E6-A3BB-4869-999F-591ECD1F566D"><!-- --></a> NCR-04013：NCRR：授权不足</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于授权不足，尝试的Oracle Internet Directory Server操作失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-97830F89-31A2-4F4B-AF01-2F6D7C593E4B"><!-- --></a> NCR-04014：NCRR：实例名称无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于实例名称无效，服务导出或导入失败</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E426A791-35AD-46A3-9BF1-58CB21A2F0F8"><!-- --></a> NCR-04015：NCRR：接口名称无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于接口名称无效，服务导出或导入失败</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E1D5C076-4A04-4AA5-AEBD-11344F4B1F8C"><!-- --></a> NCR-04016：NCRR：最后一个接口实例句柄</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>传入的实例句柄是列表中的最后一个实例句柄。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>不是错误 - 意味着到达列表的末尾。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-8603408A-A8F5-41ED-B602-28240163B315"><!-- --></a> NCR-04017：NCRR：无法找到接口实例句柄</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>找不到与实例名称对应的实例句柄。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-ECD37138-6AC8-4EE1-ADA8-7B8D1288863E"><!-- --></a> NCR-04018：NCRR：无法创建TNS地址列表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法从接口实例列表创建TNS地址列表。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-5E78AB2B-312F-451C-9E17-66606C5456FA"><!-- --></a> NCR-04019：NCRR：接口或实例名称已存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>服务导出失败，因为Oracle Internet Directory服务器已存在该名称</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-F004D97D-84F5-411C-ADEB-2DB4FE4094D6"><!-- --></a> NCR-04020：NCRR：接口或实例名称不存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>服务清除/查询失败，因为Oracle Internet Directory服务器不存在该名称</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用相关Oracle Internet Directory实例上的Oracle Internet Directory工具进行验证。否则打开跟踪和/或联系客户支持</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-E6C178A7-BC40-4DA7-800E-AB09023EDD33"><!-- --></a> NCR-04021：NCRR：Pickler错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于pickler错误<span class="keyword">导致</span>服务导出/查询失败</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>联系客户支持</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-06DA2DBE-F444-4B6F-B8C1-B75492025E5C"><!-- --></a> NCR-04022：NCRR：无效的过程描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于程序描述符无效，过程注册失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-0CA69863-D076-4858-9BA6-35AC0251F6D8"><!-- --></a> NCR-04023：NCRR：无效的对象描述符</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于对象描述符无效，对象注册失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>应用程序错误 - 调试和修复。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-57C12739-DD8A-48BA-B533-9D9007022455"><!-- --></a> NCR-04024：NCRR：达到的最大程序数</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>过程注册失败，因为过程数组已填满。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重新注册接口，增加最大程序数。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-ADC9EBEA-1122-4E55-B9EF-A9F310FBECE3"><!-- --></a> NCR-04025：NCRR：操作超时</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Oracle Internet Directory服务器的操作失败，因为它超过了超时期限。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重试该操作和/或打开Oracle Internet Directory跟踪。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-3F0F45FA-E5D2-4B80-85E0-63B23A3988A1"><!-- --></a> NCR-04026：NCRR：不支持操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Oracle Internet Directory服务器的操作失败，因为它遇到了对另一个实例的服务器引用。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>将Remote Ops注册条目统一到Oracle Internet Directory实例和/或打开Oracle Internet Directory跟踪。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-5345CCEE-9D40-4303-8CF7-09D35E109D67"><!-- --></a> NCR-04027：NCRR：操作失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Oracle Internet Directory服务器的操作失败，因为服务注册接口遇到无效参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>联系客户支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-2D94B625-814A-4848-9F04-6D2429D31B9B__GUID-32471365-F0D0-428A-A2CB-88EBE97C6E53"><!-- --></a> NCR-04028：NCRR：操作失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> Oracle Internet Directory服务器的操作失败，因为涉及的数据超出了允许的最大大小。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用Oracle Internet Directory中提供的工具检查Oracle Internet Directory实例中的条目和/或打开Oracle Internet Directory跟踪。

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id="05005.performance-tuning.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>性能调优</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96467-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="reserved-words-keywords-namespaces.html" title="Previous" type="text/html"></link>
      <link rel="next" href="syntactic-and-semantic-checking.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="reserved-words-keywords-namespaces.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="syntactic-and-semantic-checking.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">性能调优</li>
            </ol>
            <a id="GUID-70BC5747-18C2-4017-AC44-500891008097" name="GUID-70BC5747-18C2-4017-AC44-500891008097"></a><a id="LNPCC023"></a>
            
            <h2 id="LNPCC-GUID-70BC5747-18C2-4017-AC44-500891008097" class="sect2"><span class="enumeration_chapter">B</span>性能调整</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录向您展示了一些简单易用的方法，可以提高应用程序的性能。使用这些方法，您通常可以将处理时间缩短25％或更多。本附录包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="performance-tuning.html#GUID-202E5664-DE49-4AF2-84C4-46FD0E530382">什么导致表现不佳？</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-AA4A3450-10AC-4D68-817B-383E0E19C521">如何改进性能？</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE">关于使用主机阵列</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858">关于使用嵌入式PL / SQL</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E">关于优化SQL语句</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-AE542335-820C-4F3B-876D-74621D4C1DBD">关于语句缓存</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0">关于使用索引</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-E9767A74-C760-42A4-9829-4CF99F09918C">关于利用行级锁定</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8">关于消除不必要的解析</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423">关于使用连接池</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" title="Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。">关于在Traffic Director模式下使用Oracle Connection Manager</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC4556"></a><div class="props_rev_3"><a id="GUID-202E5664-DE49-4AF2-84C4-46FD0E530382" name="GUID-202E5664-DE49-4AF2-84C4-46FD0E530382"></a><h3 id="LNPCC-GUID-202E5664-DE49-4AF2-84C4-46FD0E530382" class="sect3"><span class="enumeration_section">B.1</span>导致性能不佳的原因？
               </h3>
               <div>
                  <p>性能不佳的一个原因是高通信开销。服务器必须一次处理一个SQL语句。因此，每个语句都会导致对单个和更高开销的另一个调用。在网络环境中，必须通过网络发送SQL语句，从而增加网络流量。繁重的网络流量会显着降低您的应用程序速度<a id="d114141e104" class="indexterm-anchor"></a><a id="d114141e108" class="indexterm-anchor"></a> 
                  </p>
                  <p>性能不佳的另一个原因是效率低下的SQL语句。因为SQL非常灵活，所以可以使用两个不同的语句获得相同的结果，但是一个语句可能效率较低。例如，以下两个SELECT语句返回相同的行（每个部门的名称和编号至少有一名员工）：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT dname，deptno FROM dept WHERE deptno IN（SELECT deptno FROM emp）; EXEC SQL SELECT dname，deptno FROM dept WHERE EXISTS（SELECT deptno FROM emp WHERE dept.deptno = emp.deptno）;</pre><p>但是，第一个语句较慢，因为它对DEPT表中的每个部门号执行耗时的EMP表全扫描。即使EMP中的DEPTNO列已编制索引，也不会使用索引，因为子查询缺少一个命名DEPTNO的WHERE子句。</p>
                  <p>性能不佳的第三个原因是不必要的解析和绑定。回想一下，在执行SQL语句之前，服务器必须解析并绑定它。解析意味着检查SQL语句以确保它遵循语法规则并引用有效的数据库对象。绑定意味着将SQL语句中的主机变量与其地址相关联，以便服务器可以读取或写入其值。</p>
                  <p>许多应用程序管理游标很差。这导致不必要的解析和绑定，这显着增加了处理开销。</p>
               </div>
            </div><a id="LNPCC4557"></a><div class="props_rev_3"><a id="GUID-AA4A3450-10AC-4D68-817B-383E0E19C521" name="GUID-AA4A3450-10AC-4D68-817B-383E0E19C521"></a><h3 id="LNPCC-GUID-AA4A3450-10AC-4D68-817B-383E0E19C521" class="sect3"><span class="enumeration_section">B.2</span>如何改进性能？
               </h3>
               <div>
                  <p>如果您对预编译程序的性能不满意，可以通过多种方法减少开销。</p>
                  <p>您可以大大减少通信开销，尤其是在网络环境中<a id="d114141e147" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用主机阵列</p>
                     </li>
                     <li>
                        <p>使用嵌入式PL / SQL</p>
                     </li>
                  </ul>
                  <p>您可以减少处理开销 - 有时可以显着降低</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>优化SQL语句</p>
                     </li>
                     <li>
                        <p>使用索引</p>
                     </li>
                     <li>
                        <p>利用行级锁定</p>
                     </li>
                     <li>
                        <p>消除不必要的解析</p>
                     </li>
                     <li>
                        <p>避免不必要的重新分析</p>
                     </li>
                  </ul>
                  <p>以下部分将介绍减少开销的每种方法。</p>
               </div>
            </div><a id="LNPCC4558"></a><div class="props_rev_3"><a id="GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE" name="GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE"></a><h3 id="LNPCC-GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE" class="sect3"><span class="enumeration_section">B.3</span>关于使用主机阵列</h3>
               <div>
                  <p>主机阵列可以提高性能，因为它们允许您使用单个SQL语句操作整个数据集合。例如，假设您要将300名员工的工资插入EMP表。如果没有数组，您的程序必须执行300个单独的INSERT  - 每个员工一个。对于数组，只需要一个INSERT。请考虑以下声明： <a id="d114141e204" class="indexterm-anchor"></a><a id="d114141e208" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp（sal）VALUES（：salary）;</pre><p>如果<span class="italic">salary</span>是一个简单的宿主变量，则服务器执行一次INSERT语句，将一行插入EMP表。在该行中，SAL列具有<span class="italic">salary</span>的值。要以这种方式插入300行，必须执行300次INSERT语句。
                  </p>
                  <p>但是，如果<span class="italic">salary</span>是大小为300的主机数组，则会立即将所有300行插入到EMP表中。在每一行中，SAL列都具有<span class="italic">salary</span>数组中元素的值。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="host-arrays.html#GUID-6B57FBAE-0303-41B9-9056-5C20384442B7">主机阵列</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4560"></a><a id="LNPCC4559"></a><div class="props_rev_3"><a id="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858" name="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858"></a><h3 id="LNPCC-GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858" class="sect3"><span class="enumeration_section">B.4</span>关于使用嵌入式PL / SQL</h3>
               <div>
                  <p><a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">如图B-1</a>所示，如果您的应用程序是数据库密集型的，您可以使用控制结构将PL语句分组，然后将整个块发送到数据库服务器。这可以大大减少应用程序和数据库服务器之间的通信。<a id="d114141e267" class="indexterm-anchor"></a><a id="d114141e271" class="indexterm-anchor"></a></p>
                  <p>此外，您可以使用PL / SQL子程序来减少从应用程序到服务器的调用。例如，要执行十个单独的SQL语句，需要进行十次调用，但要执行包含十个SQL语句的子程序，只需要一次调用。</p>
                  <div class="figure" id="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">
                     <p class="titleinfigure">图B-1 PL / SQL提升性能</p><img src="img/lnpcc019.gif" width="499" alt="下面描述图B-1" title="下面描述图B-1" longdesc="img_text/lnpcc019.html"><br><a href="img_text/lnpcc019.html">“图B-1 PL / SQL提升性能”的描述</a></div>
                  <!-- class="figure" -->
                  <p>PL / SQL还可以与Oracle应用程序开发工具（如Oracle Forms）配合使用。通过为这些工具添加程序处理能力，PL / SQL提高了性能。使用PL / SQL，工具可以快速有效地进行任何计算，而无需调用数据库服务器。这样可以节省时间并减少网络流量。 <a id="d114141e284" class="indexterm-anchor"></a> 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="embedded-PL-SQL.html#GUID-BCE83EB3-88D8-4EA1-853F-D5B66D426654">嵌入式PL / SQL</a></li>
                        <li><a href="../lnpls/index.html" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC4561"></a><div class="props_rev_3"><a id="GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E" name="GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E"></a><h3 id="LNPCC-GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E" class="sect3"><span class="enumeration_section">B.5</span>关于优化SQL语句</h3>
               <div>
                  <p>对于每个SQL语句，Oracle优化器都会生成一个<span class="italic">执行计划</span> ，该<span class="italic">计划</span>是服务器执行该语句所需的一系列步骤。这些步骤由Oracle Application Developer's Guide  -  Fundamentals中给出的规则确定。遵循这些规则将帮助您编写最佳SQL语句。<a id="d114141e327" class="indexterm-anchor"></a><a id="d114141e331" class="indexterm-anchor"></a><a id="d114141e335" class="indexterm-anchor"></a><a id="d114141e337" class="indexterm-anchor"></a></p>
               </div><a id="LNPCC4562"></a><div class="props_rev_3"><a id="GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0" name="GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0"></a><h4 id="LNPCC-GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0" class="sect4"><span class="enumeration_section">B.5.1</span>优化器提示</h4>
                  <div>
                     <p>在某些情况下，您可以向服务器建议优化SQL语句的方法。这些建议称为<span class="italic">提示</span> ，可以影响优化程序的决策。 <a id="d114141e368" class="indexterm-anchor"></a> 
                     </p>
                     <p>提示不是指令;他们只是帮助优化者完成它的工作。一些提示限制了用于优化SQL语句的信息范围，而其他提示则提出了整体策略。</p>
                     <p>您可以使用提示来指定</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL语句的优化方法</p>
                        </li>
                        <li>
                           <p>每个引用表的访问路径</p>
                        </li>
                        <li>
                           <p>加入加入订单</p>
                        </li>
                        <li>
                           <p>用于连接表的方法</p>
                        </li>
                     </ul>
                     <p>因此，提示分为以下四类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>优化方法</p>
                        </li>
                        <li>
                           <p>访问路径</p>
                        </li>
                        <li>
                           <p>加入订单</p>
                        </li>
                        <li>
                           <p>加入运营</p>
                        </li>
                     </ul>
                     <p>例如，两个优化方法提示COST和NOCOST分别调用基于成本的优化器和基于规则的优化器。</p>
                     <p>您可以通过在SELECT，UPDATE，INSERT或DELETE语句中的动词后立即将它们放在C样式的注释中来为优化器提供提示。例如，优化程序对以下语句使用基于成本的方法： <a id="d114141e407" class="indexterm-anchor"></a><a id="d114141e411" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + COST * / ename，sal INTO ...
</pre><p>对于C ++代码，也可以识别// +形式的优化器提示。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../adfns/editions.html#ADFNS-GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906" target="_blank">使用基于版本的重新定义</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNPCC4563"></a><div class="props_rev_3"><a id="GUID-110A35EF-F937-4B44-BC1B-846644B3B02D" name="GUID-110A35EF-F937-4B44-BC1B-846644B3B02D"></a><h4 id="LNPCC-GUID-110A35EF-F937-4B44-BC1B-846644B3B02D" class="sect4"><span class="enumeration_section">B.5.2</span>跟踪设施</h4>
                  <div>
                     <p>您可以使用SQL跟踪工具和EXPLAIN PLAN语句来标识可能会降低应用程序速度的SQL语句。 <a id="d114141e447" class="indexterm-anchor"></a><a id="d114141e451" class="indexterm-anchor"></a> 
                     </p>
                     <p>SQL跟踪工具为每个执行的SQL语句生成统计信息。从这些统计信息中，您可以确定哪些语句需要花费最多的时间来处理。然后，您可以将调整工作集中在这些语句上。 <a id="d114141e458" class="indexterm-anchor"></a> 
                     </p>
                     <p>EXPLAIN PLAN语句显示应用程序中每个SQL语句的执行计划。<span class="italic">执行计划</span>描述了执行SQL语句必须<span class="italic">执行</span>的数据库操作。您可以使用执行计划来识别低效的SQL语句。 <a id="d114141e468" class="indexterm-anchor"></a><a id="d114141e472" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../adfns/performance-and-scalability.html#ADFNS-GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360" target="_blank">性能工具</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC4564"></a><div class="props_rev_3"><a id="GUID-AE542335-820C-4F3B-876D-74621D4C1DBD" name="GUID-AE542335-820C-4F3B-876D-74621D4C1DBD"></a><h3 id="LNPCC-GUID-AE542335-820C-4F3B-876D-74621D4C1DBD" class="sect3"><span class="enumeration_section">B.6</span>关于语句缓存</h3>
               <div>
                  <p>这一功能有助于提高依赖于动态SQL语句的所有预编译器应用程序的性能。新实现将消除在重用时解析动态语句的开销。预编译器应用程序用户可以使用新的命令行选项（对于语句高速缓存大小）来获得此性能改进，这将启用动态语句的语句高速缓存。通过启用新选项，将在会话创建时创建语句缓存。缓存仅适用于动态语句，静态语句的游标缓存与此功能共存。</p>
               </div>
            </div><a id="LNPCC4565"></a><div class="props_rev_3"><a id="GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0" name="GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0"></a><h3 id="LNPCC-GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0" class="sect3"><span class="enumeration_section">B.7</span>关于使用索引</h3>
               <div>
                  <p>使用ROWID， <span class="italic">索引</span>将表列中的每个不同值与包含该值的行相关联。使用CREATE INDEX语句创建索引。有关详细信息，请参见<a href="../sqlrf/CREATE-INDEX.html#SQLRF-GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE" target="_blank">CREATE INDEX</a> 。</p>
                  <p>您可以使用索引来提高返回少于表中行的15％的查询的性能。通过<span class="italic">完全扫描</span> ，即通过顺序读取所有行，可以更快地执行返回表中15％或更多行的查询。 <a id="d114141e551" class="indexterm-anchor"></a> 
                  </p>
                  <p>在WHERE子句中命名索引列的任何查询都可以使用索引。有关帮助您选择要编制索引的列的准则，请参阅“ <a href="../adfns/index.html" target="_blank"><span class="italic">Oracle数据库高级应用程序开发人员指南”</span></a> 。
                  </p>
               </div>
            </div><a id="LNPCC4566"></a><div class="props_rev_3"><a id="GUID-E9767A74-C760-42A4-9829-4CF99F09918C" name="GUID-E9767A74-C760-42A4-9829-4CF99F09918C"></a><h3 id="LNPCC-GUID-E9767A74-C760-42A4-9829-4CF99F09918C" class="sect3"><span class="enumeration_section">B.8</span>关于利用行级锁定</h3>
               <div>
                  <p>默认情况下，数据锁定在行级别而不是表级别。行级锁定允许多个用户同时访问同一表中的不同行。由此带来的性能提升非常显着。</p>
                  <p>您可以指定表级锁定，但会降低事务处理选项的有效性。 <a id="d114141e589" class="indexterm-anchor"></a><a id="d114141e593" class="indexterm-anchor"></a><a id="d114141e597" class="indexterm-anchor"></a> 
                  </p>
                  <p>进行在线事务处理的应用程序从行级锁定中获益最多。如果您的应用程序依赖于表级锁定，请对其进行修改以利用行级锁定。通常，避免显式表级锁定。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="database-concepts.html#GUID-A62517E8-BF42-4E4D-B3A1-BD318DFB42BD">使用LOCK TABLE</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4567"></a><div class="props_rev_3"><a id="GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8" name="GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8"></a><h3 id="LNPCC-GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8" class="sect3"><span class="enumeration_section">B.9</span>关于消除不必要的解析</h3>
               <div>
                  <p>消除不必要的解析需要正确处理游标并选择性地使用以下游标管理选项： <a id="d114141e638" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>MAXOPENCURSORS</p>
                     </li>
                     <li>
                        <p>HOLD_CURSOR</p>
                     </li>
                     <li>
                        <p>RELEASE_CURSOR</p>
                     </li>
                  </ul>
                  <p>这些选项会影响隐式和显式游标，游标缓存和私有SQL区域。 <a id="d114141e655" class="indexterm-anchor"></a><a id="d114141e661" class="indexterm-anchor"></a><a id="d114141e667" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC4568"></a><div class="props_rev_3"><a id="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582" name="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582"></a><h4 id="LNPCC-GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582" class="sect4"><span class="enumeration_section">B.9.1</span>关于处理显式游标</h4>
                  <div>
                     <p>回想一下，有两种类型的游标：隐式和显式。为所有数据定义和数据操作语句隐式声明游标。但是，对于返回多行的查询，必须显式声明游标（或使用主机数组）。您使用DECLARE CURSOR语句来声明显式游标。处理显式游标的打开和关闭的方式会影响性能。 <a id="d114141e698" class="indexterm-anchor"></a> 
                     </p>
                     <p>如果需要重新评估活动集，只需重新打开光标即可。OPEN将使用任何新的主机变量值。如果不先关闭光标，可以节省处理时间。</p>
                     <div class="infoboxnote" id="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582__GUID-462D3554-5DE9-44DE-BE0D-4C383156C35F">
                        <p class="notep1">注意：</p>
                        <p>为了使性能调整更容易，您可以重新打开已经打开的游标。但是，这是ANSI扩展。因此，当MODE = ANSI时，必须在重新打开之前关闭游标。</p>
                     </div>
                     <p>只有在想要释放通过打开光标获取的资源（内存和锁）时才关闭光标。例如，您的程序应该在退出之前关闭所有游标。</p>
                  </div><a id="LNPCC4569"></a><div class="props_rev_3"><a id="GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066" name="GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066"></a><h5 id="LNPCC-GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066" class="sect5"><span class="enumeration_section">B.9.1.1</span>光标控制</h5>
                     <div>
                        <p>通常，有三种方法可以控制显式声明的游标：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用DECLARE，OPEN和CLOSE。</p>
                           </li>
                           <li>
                              <p>使用PREPARE，DECLARE，OPEN和CLOSE。</p>
                           </li>
                           <li>
                              <p>当MODE = ANSI时，COMMIT关闭光标。</p>
                           </li>
                        </ul>
                        <p>用第一种方法，注意不必要的解析。OPEN执行解析，但前提是解析后的语句不可用，因为游标是CLOSEd或从不打开。您的程序应该DECLARE游标，每次主机变量的值更改时重新启动它，并且只有在不再需要SQL语句时才关闭它。</p>
                        <p>使用第二种方式（对于动态SQL方法3和4），PREPARE执行解析，并且解析的语句可用，直到执行CLOSE。您的程序应该执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>预备SQL语句</p>
                           </li>
                           <li>
                              <p>DECLARE光标</p>
                           </li>
                           <li>
                              <p>每次主变量的值改变时再次打开游标</p>
                           </li>
                           <li>
                              <p>再次PREPARE SQL语句</p>
                           </li>
                           <li>
                              <p>如果SQL语句更改，请再次打开游标</p>
                           </li>
                           <li>
                              <p>仅在不再需要SQL语句时关闭游标。</p>
                           </li>
                        </ul>
                        <p>如果可能，避免将OPEN和CLOSE语句放在循环中;这是不必要的重新解析SQL语句的潜在原因。在下一个示例中，OPEN和CLOSE语句都在外部<span class="italic">while</span>循环内。当MODE = ANSI时，CLOSE语句必须如图所示定位，因为ANSI要求在重新启动之前将游标置为CLOSEd。
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，sal from emp where sal&gt;：salary and sal &lt;=：salary + 1000;薪水= 0; while（salary &lt;5000）{EXEC SQL OPEN emp_cursor; while（SQLCODE == 0）{EXEC SQL FETCH emp_cursor INTO .......} salary + = 1000; EXEC SQL CLOSE emp_cursor; }</pre><p>但是，使用MODE = ORACLE时，可以在不打开游标的情况下执行CLOSE语句。通过将CLOSE语句放在外部<span class="italic">while</span>循环之外，可以避免在OPEN语句的每次迭代时进行可能的重新分析。
                        </p><pre class="oac_no_warn" dir="ltr">...while（salary &lt;5000）{EXEC SQL OPEN emp_cursor; while（sqlca.sqlcode == 0）{EXEC SQL FETCH emp_cursor INTO .......} salary + = 1000; } EXEC SQL CLOSE emp_cursor;</pre></div>
                  </div>
               </div><a id="LNPCC4570"></a><div class="props_rev_3"><a id="GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A" name="GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A"></a><h4 id="LNPCC-GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A" class="sect4"><span class="enumeration_section">B.9.2</span>关于使用光标管理选项</h4>
                  <div>
                     <p>除非您更改其构成，否则只需解析一次SQL语句。例如，通过向其选择列表或WHERE子句添加列来更改查询的组成。HOLD_CURSOR，RELEASE_CURSOR和MAXOPENCURSORS选项使您可以控制服务器如何管理SQL语句的解析和重新分析。声明显式游标可以最大程度地控制解析。</p>
                  </div><a id="LNPCC4572"></a><a id="LNPCC4571"></a><div class="props_rev_3"><a id="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570" name="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570"></a><h5 id="LNPCC-GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570" class="sect5"><span class="enumeration_section">B.9.2.1</span> SQL区域和游标缓存</h5>
                     <div>
                        <p>执行数据操作语句时，其关联的游标将链接到Pro * C / C ++游标缓存中的条目。游标缓存是用于游标管理的不断更新的内存区域。游标缓存条目又链接到私有SQL区域。 <a id="d114141e830" class="indexterm-anchor"></a> 
                        </p>
                        <p>私有SQL区域是在运行时动态创建的工作区，包含主机变量的地址以及处理该语句所需的其他信息。显式游标允许您命名SQL语句，访问其私有SQL区域中的信息，并在某种程度上控制其处理。 <a id="d114141e837" class="indexterm-anchor"></a> 
                        </p>
                        <p><a href="performance-tuning.html#GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570__CHEGCFFE">图B-2</a>表示程序完成INSERT和DELETE后的游标缓存。</p>
                        <div class="figure" id="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570__CHEGCFFE">
                           <p class="titleinfigure">图B-2使用游标缓存链接的游标</p><img src="img/pco81062.gif" alt="下面描述图B-2" title="下面描述图B-2" longdesc="img_text/pco81062.html"><br><a href="img_text/pco81062.html">“使用光标缓存链接的图B-2光标”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="LNPCC4573"></a><div class="props_rev_3"><a id="GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7" name="GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7"></a><h5 id="LNPCC-GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7" class="sect5"><span class="enumeration_section">B.9.2.2</span>资源使用</h5>
                     <div>
                        <p>每个用户会话的最大打开游标数由初始化参数OPEN_CURSORS设置。</p>
                        <p>MAXOPENCURSORS指定游标缓存的<span class="italic">初始</span>大小。如果需要新游标且没有空闲缓存条目，则服务器会尝试重用条目。它的成功取决于HOLD_CURSOR和RELEASE_CURSOR的值，对于显式游标，它取决于游标本身的状态。
                        </p>
                        <p>如果MAXOPENCURSORS的值小于实际需要的高速缓存条目数，则服务器使用标记为可重用的第一个高速缓存条目。例如，假设INSERT语句的高速缓存条目<span class="italic">E</span> （1）被标记为可重用，并且高速缓存条目的数量已经等于MAXOPENCURSORS。如果程序执行新语句，则可以将高速缓存条目<span class="italic">E</span> （1）及其私有SQL区域重新分配给新语句。要重新执行INSERT语句，服务器必须重新分析它并重新分配另一个缓存条目。
                        </p>
                        <p>如果服务器找不到要重用的缓存条目，则会分配一个额外的缓存条目。例如，如果MAXOPENCURSORS = 8并且所有八个条目都处于活动状态，则会创建第九个条目。如有必要，服务器将继续分配其他缓存条目，直到内存不足或达到OPEN_CURSORS设置的限制。这种动态分配增加了处理开销。</p>
                        <p>因此，为MAXOPENCURSORS指定一个较低的值可以节省内存，但会导致新的缓存条目的动态分配和解除分配。为MAXOPENCURSORS指定一个高值可确保快速执行但使用更多内存。 <a id="d114141e891" class="indexterm-anchor"></a> 
                        </p>
                     </div>
                  </div><a id="LNPCC4574"></a><div class="props_rev_3"><a id="GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2" name="GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2"></a><h5 id="LNPCC-GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2" class="sect5"><span class="enumeration_section">B.9.2.3</span>不经常执行</h5>
                     <div>
                        <p>有时， <span class="italic">不经常</span>执行的SQL语句与其私有SQL区域之间的链接应该是临时的。
                        </p>
                        <p>当HOLD_CURSOR = NO（缺省值）时，在服务器执行SQL语句并且游标关闭后，预编译器将游标和游标缓存之间的链接标记为可重用。只要另一个SQL语句需要它指向的游标缓存条目，就会重用该链接。这将释放分配给私有SQL区域的内存并释放解析锁。但是，因为PREPAREd游标必须保持活动状态，所以即使HOLD_CURSOR = NO，也会保持其链接。</p>
                        <p>当RELEASE_CURSOR = YES时，在服务器执行SQL语句并关闭游标后，将自动释放私有SQL区域并丢失已解析的语句。例如，如果MAXOPENCURSORS在您的站点设置为低以节省内存，则可能需要这样做。</p>
                        <p>如果数据操作语句在数据定义语句之前并且它们引用相同的表，则为数据操作语句指定RELEASE_CURSOR = YES。这避免了数据操作语句获得的解析锁与数据定义语句所需的排它锁之间的冲突。</p>
                        <p>当RELEASE_CURSOR = YES时，将立即删除私有SQL区域和高速缓存条目之间的链接，并释放私有SQL区域。即使指定HOLD_CURSOR = YES，服务器仍必须为私有SQL区域重新分配内存并在执行之前重新分析SQL语句，因为RELEASE_CURSOR = YES会覆盖HOLD_CURSOR = YES。</p>
                        <p>但是，当RELEASE_CURSOR = YES时，重新分析可能仍然不需要额外的处理，因为服务器在其<span class="italic">共享SQL缓存中缓存</span> SQL语句和PL / SQL块的已解析表示。即使其光标关闭，解析后的表示仍然可用，直到它从缓存中老化。
                        </p>
                     </div>
                  </div><a id="LNPCC4575"></a><div class="props_rev_3"><a id="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA" name="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA"></a><h5 id="LNPCC-GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA" class="sect5"><span class="enumeration_section">B.9.2.4</span>频繁执行</h5>
                     <div>
                        <p>应保持<span class="italic">频繁</span>执行的SQL语句与其私有SQL区域之间的链接，因为私有SQL区域包含执行该语句所需的所有信息。维护对此信息的访问使得后续执行语句的速度更快。
                        </p>
                        <p>当HOLD_CURSOR = YES时，在服务器执行SQL语句后，将保持游标和游标缓存之间的链接。因此，解析的语句和分配的内存仍然可用。这对于您希望保持活动状态的SQL语句非常有用，因为它可以避免不必要的重新分析。 <a id="d114141e968" class="indexterm-anchor"></a><a id="d114141e974" class="indexterm-anchor"></a> 
                        </p>
                        <p>当RELEASE_CURSOR = NO（缺省值）时，在服务器执行SQL语句之后，将保留高速缓存条目和专用SQL区域之间的链接，除非打开的游标数超过MAXOPENCURSORS的值，否则不会重复使用。这对于经常执行的SQL语句很有用，因为解析的语句和分配的内存仍然可用。 <a id="d114141e981" class="indexterm-anchor"></a><a id="d114141e985" class="indexterm-anchor"></a> 
                        </p>
                        <div class="infoboxnote" id="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA__GUID-D8FD0E9D-6869-4DB2-A382-43B82A53ADBF">
                           <p class="notep1">注意：</p>
                           <p>对于Oracle8 <span class="italic">i</span>之前的Oracle版本，当RELEASE_CURSOR = NO且HOLD_CURSOR = YES时，在服务器执行SQL语句之后，其解析的表示仍然可用。但是对于更高版本的Oracle，当RELEASE_CURSOR = NO且HOLD_CURSOR = YES时，解析后的表示只有在它从共享SQL缓存中老化之后才可用。通常，这不是问题，但如果在重新分析SQL语句之前引用对象的定义发生更改，则可能会出现意外结果。
                           </p>
                        </div>
                     </div>
                  </div><a id="LNPCC4576"></a><div class="props_rev_3"><a id="GUID-989DD868-1723-48B9-B153-0233ED8BA776" name="GUID-989DD868-1723-48B9-B153-0233ED8BA776"></a><h5 id="LNPCC-GUID-989DD868-1723-48B9-B153-0233ED8BA776" class="sect5"><span class="enumeration_section">B.9.2.5</span>嵌入式PL / SQL注意事项</h5>
                     <div>
                        <p>出于游标管理的目的，嵌入式PL / SQL块被视为SQL语句。当执行嵌入式PL / SQL块时，父光标与整个块相关联，并且在嵌入式PL / SQL块的PGA中的高速缓存条目和私有SQL区域之间创建链接。请注意，嵌入块内的每个SQL语句也需要PGA中的私有SQL区域。这些SQL语句使用PL / SQL自行管理的子游标。子游标的处置是通过其关联的父游标确定的。也就是说，子游标使用的私有SQL区域在释放其父游标的私有SQL区域后被释放。</p>
                     </div>
                  </div><a id="LNPCC4578"></a><a id="LNPCC4577"></a><div class="props_rev_3"><a id="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B" name="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B"></a><h5 id="LNPCC-GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B" class="sect5"><span class="enumeration_section">B.9.2.6</span>参数交互</h5>
                     <div>
                        <p><a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">图B-1</a>显示了HOLD_CURSOR和RELEASE_CURSOR如何交互。请注意，HOLD_CURSOR = NO会覆盖RELEASE_CURSOR = NO，而RELEASE_CURSOR = YES会覆盖HOLD_CURSOR = YES。</p>
                        <div class="tblformal" id="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B__CHEDAEHH">
                           <p class="titleintable">表B-1 HOLD_CURSOR和RELEASE _CURSOR交互</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HOLD_CURSOR和RELEASE _CURSOR交互" width="100%" border="1" summary="HOLD_CURSOR and RELEASE _CURSOR Interactions" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d114141e1058">HOLD_CURSOR</th>
                                    <th align="left" valign="bottom" width="32%" id="d114141e1061">RELEASE_CURSOR</th>
                                    <th align="left" valign="bottom" width="32%" id="d114141e1064">链接是......</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1069" headers="d114141e1058 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1069 d114141e1061 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1069 d114141e1064 ">
                                       <p>标记为可重复使用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1079" headers="d114141e1058 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1079 d114141e1061 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1079 d114141e1064 ">
                                       <p>保持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1089" headers="d114141e1058 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1089 d114141e1061 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1089 d114141e1064 ">
                                       <p>立即删除</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1099" headers="d114141e1058 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1099 d114141e1061 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1099 d114141e1064 ">
                                       <p>立即删除</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC4579"></a><div class="props_rev_3"><a id="GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D" name="GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D"></a><h3 id="LNPCC-GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D" class="sect3"><span class="enumeration_section">B.10</span>关于避免不必要的重新分析</h3>
               <div>
                  <div class="section">
                     <p>避免不必要的重新分析涉及消除循环中SQL语句的执行阶段期间遇到的错误。在循环中执行嵌入式SQL语句时，SQL语句仅解析一次。但是，如果执行SQL语句导致错误，则通常会重新解析SQL语句。在这种情况下，将对遇到的所有错误进行重新分析，但以下情况除外：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>ORA-1403（未找到）</p>
                        </li>
                        <li>
                           <p>ORA-1405（截断）</p>
                        </li>
                        <li>
                           <p>ORA-1406（空值）</p>
                        </li>
                     </ul>
                     <p>通过消除所有其他错误，您可以避免不必要的重新分析。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC4580"></a><div class="props_rev_3"><a id="GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423" name="GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423"></a><h3 id="LNPCC-GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423" class="sect3"><span class="enumeration_section">B.11</span>关于使用连接池</h3>
               <div>
                  <div class="section">
                     <p>本节介绍使用连接池进行性能调整。如果应用程序是多线程的并且正在同一数据库上执行并发操作，则用户可以使用连接池功能来实现更好的性能。用户可以通过为连接池使用的参数选择适当的值来调整应用程序的性能，与现有应用程序性能相比，可以实现高达三倍的性能提升。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="multithreaded-applications.html#GUID-76B52DE9-54B7-4F3C-9905-AADE6420BE84">多线程应用程序</a></li>
                        <li><a href="multithreaded-applications.html#GUID-617D04C1-EA48-44D0-B5E6-E8CB9C241B07">连接池</a></li>
                        <li><a href="../lnoci/index.html" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" name="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61"></a><h3 id="LNPCC-GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" class="sect3"><span class="enumeration_section">B.12</span>关于在Traffic Director模式下使用Oracle Connection Manager</h3>
               <div>
                  <p>Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。</p>
                  <div class="p">Oracle Database <span class="italic">11g</span>第2版（11.2）及更高版本中支持的客户端可以在Traffic Director模式下连接到Oracle Connection Manager。流量控制器模式中的Oracle连接管理器为计划内和计划外数据库服务器中断，连接多路复用支持和负载平衡提供了改进的高可用性（HA）。以下各节将更详细地介绍对Traffic Director模式中的Oracle Connection Manager的支持<ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">运作模式</a></p>
                        </li>
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">主要特点</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-749BC524-93BC-42F1-B765-970605875B7F">运作模式</p>
                     <p>流量控制器模式中的Oracle连接管理器支持以下操作模式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <div class="p">在池连接模式下，流量控制器模式中的Oracle连接管理器支持使用以下数据库客户端版本的任何应用程序：<ul style="list-style-type:disc">
                                 <li>
                                    <p>OCI，OCCI和开源驱动程序（Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本））</p>
                                 </li>
                                 <li>
                                    <p>JDBC（Oracle Database 12c <span class="italic">第</span> 1版（12.1）及更高版本）</p>
                                 </li>
                                 <li>
                                    <p>ODP.NET（Oracle Database 12 <span class="italic">c第</span> 2版（12.2）及更高版本）</p>
                                 </li>
                              </ul>
                           </div>
                           <p>此外，应用程序必须使用DRCP。也就是说，应用程序必须在连接字符串（或<code class="codeph">tnsnames.ora</code>别名）中启用DRCP。
                           </p>
                        </li>
                        <li>
                           <p>在非池化连接（或专用）模式下，流量控制器模式中的Oracle连接管理器支持使用数据库客户机版本Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本的任何应用程序。在此模式下，某些功能（如连接多路复用）不可用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-3A52B2C3-D63C-4ACB-8FED-1BAFC3801338">主要特点</p>
                     <div class="p">Traffic Director Mode中的Oracle Connection Manager提供以下支持：<ul style="list-style-type:disc">
                           <li>
                              <div class="p">透明的性能增强和连接多路复用，包括：<ul style="list-style-type:disc">
                                    <li>
                                       <p>对所有操作模式自动启用语句高速缓存，行预取和结果集高速缓存。</p>
                                    </li>
                                    <li>
                                       <p>使用代理驻留连接池（PRCP）的数据库会话多路复用（仅池化模式），其中PRCP是数据库驻留连接池（DRCP）的代理模式。应用程序在Traffic Director模式下的Oracle Connection Manager与数据库之间获得透明的连接时负载平衡和运行时负载平衡。</p>
                                    </li>
                                    <li>
                                       <p>对于Traffic Director模式实例中的多个Oracle Connection Manager，应用程序通过客户端连接时间负载平衡或负载均衡器（BIG-IP，NGINX等）获得更高的可扩展性</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">零应用程序停机时间<ul style="list-style-type:disc">
                                    <li>
                                       <div class="p">计划数据库维护或可插拔数据库（PDB）重定位<ul style="list-style-type:disc">
                                             <li>
                                                <p>合并模式</p>
                                                <p>流量控制器模式中的Oracle Connection Manager响应Oracle Notification Service（ONS）事件以计划中断和重定向工作。请求完成后，在流量控制器模式下，Oracle Connection Manager上的池中的连接将耗尽。Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本支持服务重定位。
                                                </p>
                                                <p>对于PDB重定位，当PDB重新定位时，流量控制器模式中的Oracle连接管理器会响应带内通知，即使未配置ONS时也是如此（对于Oracle数据库版本18c，仅限版本18.1及更高版本的服务器）</p>
                                             </li>
                                             <li>
                                                <p>非汇集或专用模式</p>
                                                <div class="p">当客户端没有请求边界信息时，流量控制器模式中的Oracle连接管理器支持许多应用程序的计划中断（只要在请求/事务边界上只需要保留简单的会话状态和游标状态）。这种支持包括：<ul style="list-style-type:disc">
                                                      <li>
                                                         <p>在事务边界处停止服务/ PDB，或者利用Oracle数据库版本18c连续应用程序可用性来停止请求边界处的服务</p>
                                                      </li>
                                                      <li>
                                                         <p>流量控制器模式中的Oracle连接管理器利用透明应用程序故障转移（TAF）故障转移还原来重新连接和还原简单状态。</p>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>针对大多数读取工作负载的计划外数据库中断</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">流量控制器模式中Oracle Connection Manager的高可用性，以避免单点故障。这得到以下支持：<ul style="list-style-type:disc">
                                    <li>
                                       <p>流量控制器模式中的多个Oracle连接管理器实例，使用连接字符串中的负载平衡器或客户端负载平衡/故障转移</p>
                                    </li>
                                    <li>
                                       <p>在Traffic Director模式实例中滚动升级Oracle Connection Manager</p>
                                    </li>
                                    <li>
                                       <p>针对计划中断，在流量控制器模式下从客户端到Oracle Connection Manager的现有连接的正常关闭</p>
                                    </li>
                                    <li>
                                       <p>带有Oracle数据库版本18c及更高版本客户端的带内通知</p>
                                    </li>
                                    <li>
                                       <p>对于较旧的客户端，通知将与当前请求的响应一起发送</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">为了安全性和隔离性，Traffic Director Mode中的Oracle Connection Manager提供：<ul style="list-style-type:disc">
                                    <li>
                                       <p>数据库代理支持传输控制协议/传输控制协议安全（TCP / TCPS）和协议转换</p>
                                    </li>
                                    <li>
                                       <p>防火墙基于IP地址，服务名称和安全套接字层/传输层安全性（SSL / TLS）钱包</p>
                                    </li>
                                    <li>
                                       <p>多租户环境中的租户隔离</p>
                                    </li>
                                    <li>
                                       <p>防止拒绝服务和模糊测试攻击</p>
                                    </li>
                                    <li>
                                       <p>跨Oracle数据库本地和Oracle Cloud安全地隧道传输数据库流量</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-A2DD3A99-8792-4704-A482-B66B30AD1B85">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关配置<code class="codeph">cman.ora</code>配置文件以在Traffic Director模式下设置Oracle Connection Manager的信息，请<code class="codeph">cman.ora</code> <a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-58847B76-3836-41DB-9EB6-A81D5C397024" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在Traffic Director模式代理身份验证中为Oracle Connection Manager配置数据库的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在流量控制器模式下为计划外停机事件配置Oracle Connection Manager的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在Traffic Director模式下为计划的关闭事件配置Oracle Connection Manager的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”，</cite></span></a>以获取有关在流量控制器模式下配置Oracle Connection Manager使用的代理驻留连接池的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-FC833F8F-CE5A-4C02-A962-244954158853" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在流量控制器模式下使用Oracle Connection Manager的所有驱动程序不支持的功能的信息</p>
                           </li>
                           <li>
                              <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services参考</cite></span></a> ，以获取Oracle CMAN配置文件的概述</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13463.parallel-exec-tips.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Various ideas for improving performance in a parallel execution environment are discussed under this section."></meta>
      <meta name="description" content="Various ideas for improving performance in a parallel execution environment are discussed under this section."></meta>
      <title>调整并行执行的提示</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="VLDB and Partitioning Guide"></meta>
      <meta property="og:description" content="Various ideas for improving performance in a parallel execution environment are discussed under this section."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="VLDB and Partitioning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00"></meta>
      <meta name="dcterms.title" content="VLDB and Partitioning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96199-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="monitor-parallel-performance.html" title="Previous" type="text/html"></link>
      <link rel="next" href="vldb-backup.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitor-parallel-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="vldb-backup.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB和分区指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-parallel.html" property="item" typeof="WebPage"><span property="name">使用并行执行</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">调整并行执行的提示</li>
            </ol>
            <a id="GUID-4EE9408B-C03A-4842-9F24-C24EA2A3E704" name="GUID-4EE9408B-C03A-4842-9F24-C24EA2A3E704"></a><a id="VLDBG1525"></a>
            
            <h2 id="VLDBG-GUID-4EE9408B-C03A-4842-9F24-C24EA2A3E704" class="sect2">调整并行执行的提示</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节讨论了在并行执行环境中提高性能的各种想法。</p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-FB1C39E9-CA3E-4AC6-9B01-4B3D99BDC79B" title="实施良好的并行执行策略对于确保高性能非常重要。">实施并行执行策略</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-7A6185D1-AEF3-48C3-A704-8E3D7D3A4AFD" title="要优化检索大型结果集的查询的并行执行性能，请并行创建和填充表。">通过并行创建和填充表来优化性能</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-F9F7C98A-9EA2-42D8-8AA5-46454C64E901" title="使用EXPLAIN PLAN语句查看并行查询的执行计划。">使用EXPLAIN PLAN显示并行操作计划</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-6181F1F5-CCD0-4F95-B831-1045C5F8EC2D" title="本主题介绍了使用并行DML操作时的其他注意事项。">并行DML的其他注意事项</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-5A52793F-15AE-4C86-B8A4-4D7965575BB0" title="您可以通过并行创建索引来优化性能。">通过并行创建索引来优化性能</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-08A08783-C243-4872-AFFA-56B603F1F0F5" title="本主题介绍了并行DML功能的提示。">并行DML技巧</a></p>
                  </li>
                  <li>
                     <p><a href="parallel-exec-tips.html#GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434" title="并行DML与可更新的连接视图工具相结合，为刷新数据仓库系统的表提供了有效的解决方案。">并行增量数据加载</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-FB1C39E9-CA3E-4AC6-9B01-4B3D99BDC79B" name="GUID-FB1C39E9-CA3E-4AC6-9B01-4B3D99BDC79B"></a><h3 id="VLDBG-GUID-FB1C39E9-CA3E-4AC6-9B01-4B3D99BDC79B" class="sect3">实施并行执行策略</h3>
               <div>
                  <p>实施良好的并行执行策略对于确保高性能非常重要。</p>
                  <p>关于良好战略的建议包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>实施简单的设置以了解系统中发生的情况。</p>
                     </li>
                     <li>
                        <p>使用资源管理器为使用者组指定最大并行度（DOP），以便为每个组分配特定数量的处理资源，而不会使系统崩溃。使用并行执行来控制系统时，需要资源管理策略，并确保SQL语句能够并行执行。</p>
                     </li>
                     <li>
                        <p>根据您希望为并行执行提供的系统资源量来制定策略。调整参数<code class="codeph">PARALLEL_MAX_SERVERS</code>和<code class="codeph">PARALLEL_SERVERS_TARGET</code>的值以限制在系统中运行的并行执行（PX）服务器的数量。
                        </p>
                     </li>
                     <li>
                        <p>考虑采用ELT（提取，加载和转换）策略而不是ETL（提取，转换和加载）策略。</p>
                     </li>
                     <li>
                        <p>使用具有并行SQL语句的外部表（例如CTAS或IAS）可以加快数据加载速度</p>
                     </li>
                  </ul>
               </div>
            </div><a id="VLDBG1526"></a><div class="props_rev_3"><a id="GUID-7A6185D1-AEF3-48C3-A704-8E3D7D3A4AFD" name="GUID-7A6185D1-AEF3-48C3-A704-8E3D7D3A4AFD"></a><h3 id="VLDBG-GUID-7A6185D1-AEF3-48C3-A704-8E3D7D3A4AFD" class="sect3">通过并行创建和填充表来优化性能</h3>
               <div>
                  <p>要优化检索大型结果集的查询的并行执行性能，请并行创建和填充表。</p>
                  <p>Oracle数据库无法并行地将结果返回给用户进程。如果查询返回大量行，则查询的执行可能确实更快。但是，用户进程只能串行接收行。要优化检索大型结果集的查询的并行执行性能，请使用<code class="codeph">PARALLEL</code> <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>或直接路径<code class="codeph">INSERT</code>将结果集存储在数据库中。稍后，用户可以连续查看结果集。
                  </p>
                  <p>并行执行<code class="codeph">SELECT</code>不会影响<code class="codeph">CREATE</code>语句。但是，如果并行执行<code class="codeph">CREATE</code>语句，优化程序也会尝试使<code class="codeph">SELECT</code>并行运行。
                  </p>
                  <p>与<code class="codeph">NOLOGGING</code>选项结合使用时， <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>的并行版本提供了非常有效的中间表工具，例如：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE摘要PARALLEL NOLOGGING AS SELECT dim_1，dim_2 ...，SUM（meas_1）FROM facts GROUP BY dim_1，dim_2;</pre><p>这些表也可以通过并行<code class="codeph">INSERT</code>递增加载。您可以使用以下技术利用中间表：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>公共子查询可以计算一次并且可以多次引用。这可以允许一些针对星型模式的查询（特别是没有选择性<code class="codeph">WHERE</code> -clause谓词的查询）更好地并行化。使用星形转换技术的选择性<code class="codeph">WHERE</code> -clause谓词的星型查询可以自动有效地并行化，而无需对SQL进行任何修改。</p>
                     </li>
                     <li>
                        <p>将复杂查询分解为更简单的步骤，以提供应用程序级检查点或重新启动。例如，一个TB级数据库上的复杂多表连接可能会运行数十个小时。此查询期间的失败意味着从头开始。使用<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>或<code class="codeph">PARALLEL</code> <code class="codeph">INSERT</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> ，您可以将查询重写为一系列简单的查询，每个查询运行几个小时。如果发生系统故障，可以从上一个完成的步骤重新启动查询。
                        </p>
                     </li>
                     <li>
                        <p>通过创建一个省略原始表中不需要的行的新表，然后删除原始表，有效地实现手动并行删除操作。或者，您可以使用方便的并行删除功能，该功能直接删除原始表中的行。</p>
                     </li>
                     <li>
                        <p>创建汇总表以进行有效的多维深入分析。例如，摘要表可能存储按月，品牌，地区和销售人员分组的收入总和。</p>
                     </li>
                     <li>
                        <p>通过将旧表复制到新表来重新组织表，消除链接行，压缩可用空间等。这比导出/导入快得多，比重新加载更容易。</p>
                     </li>
                  </ul>
                  <p>请务必使用<code class="codeph">DBMS_STATS</code>包来收集有关新创建的表的优化程序统计信息。要避免I / O瓶颈，请指定至少与CPU一样多的物理磁盘条带化的表空间。为避免分配空间中的碎片，表空间中的文件数应为CPU数量的倍数。
                  </p>
                  <div class="infoboxnotealso" id="GUID-7A6185D1-AEF3-48C3-A704-8E3D7D3A4AFD__GUID-6EB35B78-5A56-484A-AA1E-69F743C4A8B6">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dwhsg/data-warehouse-optimizations-techniques.html#DWHSG9062" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关数据仓库中并行执行的信息</p>
                  </div>
               </div>
            </div><a id="VLDBG1527"></a><div class="props_rev_3"><a id="GUID-F9F7C98A-9EA2-42D8-8AA5-46454C64E901" name="GUID-F9F7C98A-9EA2-42D8-8AA5-46454C64E901"></a><h3 id="VLDBG-GUID-F9F7C98A-9EA2-42D8-8AA5-46454C64E901" class="sect3">使用EXPLAIN PLAN显示并行操作计划</h3>
               <div>
                  <p>使用<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>语句查看并行查询的执行计划。
                  </p>
                  <p><code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>输出显示<code class="codeph">COST</code> ， <code class="codeph">BYTES</code>和<code class="codeph">CARDINALITY</code>列中的优化程序信息。您还可以使用<code class="codeph">utlxplp.sql</code>脚本向<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>输出显示所有相关的并行信息。
                  </p>
                  <p>有几种方法可以优化join语句的并行执行。您可以更改系统配置，调整参数，如本章前面所述，或使用提示，例如<code class="codeph">DISTRIBUTION</code>提示。
                  </p>
                  <p>使用<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>时的关键点是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>验证优化程序选择性估计。如果优化器认为查询只生成了一行，则倾向于使用嵌套循环。这可能表示未分析表或优化程序对同一表上多个谓词的相关性进行了错误估计。可能需要扩展统计信息或提示来为优化程序提供正确的选择性或强制优化程序使用其他连接方法。</p>
                     </li>
                     <li>
                        <p>在低基数连接键上使用散列连接。如果连接键具有很少的不同值，则散列连接可能不是最佳的。如果不同值的数量小于并行度（DOP），则某些并行查询服务器可能无法处理特定查询。</p>
                     </li>
                     <li>
                        <p>考虑数据偏差。如果连接键涉及过多的数据倾斜，则散列连接可能需要一些并行查询服务器才能比其他服务器工作更多。如果优化器没有选择它，请考虑使用提示来生成<code class="codeph">BROADCAST</code>分发方法。仅当<code class="codeph">OPTIMIZER_FEATURES_ENABLE</code>设置为9.0.2或更高版本时， <code class="codeph">OPTIMIZER_FEATURES_ENABLE</code>程序才会考虑<code class="codeph">BROADCAST</code>分发方法。有关更多信息，请参阅<a href="monitor-parallel-performance.html#GUID-81418734-F146-4477-8EC2-145F9A6CEA83" title="您可以使用V $ PQ_TQSTAT动态性能视图监视并行执行性能。">V $ PQ_TQSTAT</a> 。
                        </p>
                     </li>
                  </ul>
               </div><a id="VLDBG1528"></a><div class="props_rev_3"><a id="GUID-3553836E-38CD-4D1C-B624-A310F5A269D7" name="GUID-3553836E-38CD-4D1C-B624-A310F5A269D7"></a><h4 id="VLDBG-GUID-3553836E-38CD-4D1C-B624-A310F5A269D7" class="sect4">示例：使用EXPLAIN PLAN显示并行操作</h4>
                  <div>
                     <p>您可以使用EXPLAIN PLAN显示并行操作。</p>
                     <div class="section">
                        <p>以下示例说明了优化程序打算如何执行并行查询：</p><pre class="oac_no_warn" dir="ltr">解释SELECT / * + PARALLEL * / cust_first_name，cust_last_name FROM customers c，sales s WHERE c.cust_id = s.cust_id; -------------------------------------------------- -------- | Id |操作|名称| -------------------------------------------------- -------- | 0 |选择声明| | | 1 | PX COORDINATOR | | | 2 | PX SEND QC（RANDOM）| ：TQ10000 | | 3 | NESTED LOOPS | | | 4 | PX BLOCK ITERATOR | | | 5 |表访问完全|客户| | 6 | PARTITION RANGE ALL | | | 7 | BITMAP转换为ROWIDS | | | 8 | BITMAP INDEX单一价值| SALES_CUST_BIX | -------------------------------------------------- --------注意-----  - 自动DOP：计算并行度为2</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="VLDBG1529"></a><div class="props_rev_3"><a id="GUID-6181F1F5-CCD0-4F95-B831-1045C5F8EC2D" name="GUID-6181F1F5-CCD0-4F95-B831-1045C5F8EC2D"></a><h3 id="VLDBG-GUID-6181F1F5-CCD0-4F95-B831-1045C5F8EC2D" class="sect3">并行DML的其他注意事项</h3>
               <div>
                  <p>本主题介绍了使用并行DML操作时的其他注意事项。</p>
                  <p>如果要使用数据仓库上的并行插入，更新或删除操作来刷新数据仓库数据库，则在设计物理数据库时还需要考虑其他问题。这些注意事项不会影响并行执行操作。这些问题是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-6035BB6E-D223-4087-AB01-6AA4003B7777" title="本主题中标识了并行DML和直接路径操作的限制。">并行DML和直接路径限制</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06" title="基于所使用的Oracle数据库的软件级别，并行度有一定的限制。">对并行度的限制</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-1FE0C03C-C70A-4109-B574-51A8ADC7DE86" title="在某些情况下，您应该增加INITRANS的值。">何时增加INITRANS</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-17D58575-D0F4-4031-AF07-F67B1769C336" title="字典管理的表空间中的段的可用事务空闲列表的可用数量存在限制。">对段的可用交易免费列表数量的限制</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-8628A98F-CA94-4D52-B3B8-DE3CF8AB2E91" title="归档大量重做日志需要多个归档进程。">用于大量重做日志的多个存档器</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-E042C446-AFFF-4343-9F22-39081EAD0E34" title="在某些情况下，您应该增加数据库编写器进程的数量。">数据库编写器进程（DBWn）工作负载</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-05CE9FD6-3A3E-4441-B2D2-57040F7CA815" title="在设置[NO] LOGGING子句时了解注意事项。">[NO]记录条款</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1530"></a><div class="props_rev_3"><a id="GUID-6035BB6E-D223-4087-AB01-6AA4003B7777" name="GUID-6035BB6E-D223-4087-AB01-6AA4003B7777"></a><h4 id="VLDBG-GUID-6035BB6E-D223-4087-AB01-6AA4003B7777" class="sect4">并行DML和直接路径限制</h4>
                  <div>
                     <p>本主题中标识了并行DML和直接路径操作的限制。</p>
                     <p>如果违反了并行限制，则仅简单地执行操作。如果违反直接路径<code class="codeph">INSERT</code>限制，则忽略<code class="codeph">APPEND</code>提示并执行传统的插入操作。没有返回错误消息。
                     </p>
                  </div>
               </div><a id="VLDBG1531"></a><div class="props_rev_3"><a id="GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06" name="GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06"></a><h4 id="VLDBG-GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06" class="sect4">对并行度的限制</h4>
                  <div>
                     <p>基于所使用的Oracle数据库的软件级别，并行度有一定的限制。</p>
                     <p>对于没有并行DML <code class="codeph">itl</code>不变属性的表（在Oracle9 <span class="italic">i</span> Release 2（9.2）之前创建的表或使用<code class="codeph">COMPATIBLE</code>初始化参数设置为小于<code class="codeph">9.2</code>创建的表），并行度（DOP）等于该数分区或子分区。这意味着，如果表未分区，则查询将以串行方式运行。要确定哪些表没有此属性，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT u.name，o.name FROM obj $ o，tab $ t，user $ u WHERE o.obj＃= t.obj＃AND o.owner＃= u.user＃AND bitand（t.property，536870912）！= 536870912;</pre><div class="infoboxnotealso" id="GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06__GUID-24D9B1D2-2859-4249-9877-C1793D8F8AD3">
                        <p class="notep1">也可以看看：</p>
                        <p>有关感兴趣的事务列表（ITL）的信息，也可以称为<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT88965" target="_blank"><span><cite>Oracle数据库概念</cite></span></a> ，也称为事务表</p>
                     </div>
                  </div>
               </div><a id="VLDBG1532"></a><div class="props_rev_3"><a id="GUID-1FE0C03C-C70A-4109-B574-51A8ADC7DE86" name="GUID-1FE0C03C-C70A-4109-B574-51A8ADC7DE86"></a><h4 id="VLDBG-GUID-1FE0C03C-C70A-4109-B574-51A8ADC7DE86" class="sect4">何时增加INITRANS</h4>
                  <div>
                     <p>在某些情况下，您应该增加<code class="codeph">INITRANS</code>的值。
                     </p>
                     <p>如果您有全局索引，则全局索引段和全局索引块由同一并行DML语句的服务器进程共享。即使不对同一行执行操作，服务器进程也可以共享相同的索引块。每个服务器事务在对块进行更改之前，在索引块头中需要一个事务条目。</p>
                     <p>在这种情况下，使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>或<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句时，应将<code class="codeph">INITRANS</code> （每个数据块中分配的初始事务数）设置为较大的值，例如针对此索引的最大DOP。
                     </p>
                  </div>
               </div><a id="VLDBG1533"></a><div class="props_rev_3"><a id="GUID-17D58575-D0F4-4031-AF07-F67B1769C336" name="GUID-17D58575-D0F4-4031-AF07-F67B1769C336"></a><h4 id="VLDBG-GUID-17D58575-D0F4-4031-AF07-F67B1769C336" class="sect4">对段的可用交易免费列表数量的限制</h4>
                  <div>
                     <p>字典管理的表空间中的段的可用事务空闲列表的可用数量存在限制。</p>
                     <p>创建段后，进程和事务空闲列表的数量是固定的，不能更改。如果在段标题中指定了大量进程空闲列表，则可能会发现这限制了可用的事务空闲列表的数量。下次通过减少进程空闲列表的数量重新创建段头时，可以减轻此限制;这为段头中的事务空闲列表留下了更多空间。</p>
                     <p>对于<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>操作，每个服务器进程可以要求其自己的事务空闲列表。因此，并行DML DOP有效地受到表上可用的最小数量的事务空闲列表以及DML语句必须维护的任何全局索引的限制。例如，如果表有25个事务空闲列表，并且该表有两个全局索引，一个有50个事务空闲列表，另一个有30个事务空闲列表，则DOP限制为25。如果该表有40个交易免费清单，则DOP将限制为30。
                     </p>
                     <p><code class="codeph">STORAGE</code>子句的<code class="codeph">FREELISTS</code>参数用于设置进程空闲列表的数量。默认情况下，不会创建任何进程空闲列表。
                     </p>
                     <p>默认的事务空闲列表数取决于块大小。例如，如果未明确设置进程空闲列表的数量，则默认情况下，4 KB块具有大约80个事务空闲列表。交易免费清单的最小数量为25。</p>
                  </div>
               </div><a id="VLDBG1534"></a><div class="props_rev_3"><a id="GUID-8628A98F-CA94-4D52-B3B8-DE3CF8AB2E91" name="GUID-8628A98F-CA94-4D52-B3B8-DE3CF8AB2E91"></a><h4 id="VLDBG-GUID-8628A98F-CA94-4D52-B3B8-DE3CF8AB2E91" class="sect4">用于大量重做日志的多个存档器</h4>
                  <div>
                     <p>归档大量重做日志需要多个归档进程。</p>
                     <p>并行DDL和并行DML操作可以生成大量重做日志。用于存档这些重做日志的单个<code class="codeph">ARCH</code>进程可能无法跟上。要避免此问题，您可以手动或使用作业队列生成多个归档进程。
                     </p>
                  </div>
               </div><a id="VLDBG1535"></a><div class="props_rev_3"><a id="GUID-E042C446-AFFF-4343-9F22-39081EAD0E34" name="GUID-E042C446-AFFF-4343-9F22-39081EAD0E34"></a><h4 id="VLDBG-GUID-E042C446-AFFF-4343-9F22-39081EAD0E34" class="sect4">数据库编写器进程（DBWn）工作负载</h4>
                  <div>
                     <p>在某些情况下，您应该增加数据库编写器进程的数量。</p>
                     <p>并行DML操作在短时间间隔内在缓冲区高速缓存中使用大量数据，索引和撤消块。例如，假设您在查询<code class="codeph">V$SYSTEM_EVENT</code>视图后看到大量<code class="codeph">free_buffer_waits</code> ，如以下语法所示：</p><pre class="oac_no_warn" dir="ltr">从V $ SYSTEM_EVENT中选择TOTAL_WAITS，其中EVENT ='FREE BUFFER WAITS';</pre><p>在这种情况下，您应该考虑增加DBW <span class="italic">n</span>进程。如果没有等待空闲缓冲区，则查询不会返回任何行。
                     </p>
                  </div>
               </div><a id="VLDBG1536"></a><div class="props_rev_3"><a id="GUID-05CE9FD6-3A3E-4441-B2D2-57040F7CA815" name="GUID-05CE9FD6-3A3E-4441-B2D2-57040F7CA815"></a><h4 id="VLDBG-GUID-05CE9FD6-3A3E-4441-B2D2-57040F7CA815" class="sect4">[NO]记录条款</h4>
                  <div>
                     <p>在设置<code class="codeph">[NO]LOGGING</code>子句时了解注意事项。
                     </p>
                     <div class="section">
                        <p><code class="codeph">[NO]LOGGING</code>子句适用于表，分区，表空间和索引。如果使用<code class="codeph">NOLOGGING</code>子句，实际上不会为某些操作（例如直接路径<code class="codeph">INSERT</code> ）生成日志。<code class="codeph">NOLOGGING</code>属性未在<code class="codeph">INSERT</code>语句级别指定，而是在对表，分区，索引或表空间使用<code class="codeph">ALTER</code>或<code class="codeph">CREATE</code>语句时指定。
                        </p>
                        <p>当表或索引设置了<code class="codeph">NOLOGGING</code> ，并行或串行直接路径<code class="codeph">INSERT</code>操作都不会生成重做日志。使用<code class="codeph">NOLOGGING</code>选项集运行的进程运行得更快，因为不会生成重做。但是，对表，分区或索引执行<code class="codeph">NOLOGGING</code>操作后，如果在执行备份之前发生介质故障，则所有已修改的表，分区和索引可能已损坏。
                        </p>
                        <p>如果使用<code class="codeph">NOLOGGING</code>子句，则直接路径<code class="codeph">INSERT</code>操作（字典更新除外）从不生成重做日志。<code class="codeph">NOLOGGING</code>属性不会影响撤消，只会影响重做。确切地说， <code class="codeph">NOLOGGING</code>允许直接路径<code class="codeph">INSERT</code>操作生成可忽略的重做量（范围无效重做，而不是完整图像重做）。
                        </p>
                        <p>为了向后兼容，仍然支持<code class="codeph">[UN]RECOVERABLE</code>作为<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句的备用关键字。但是，在将来的版本中可能不支持此备用关键字。
                        </p>
                        <p>在表空间级别，logging子句指定在表空间中创建的所有表，索引和分区的缺省日志记录属性。当现有的表空间的日志记录属性由改变<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句，那么所有表，索引和后创建的分区<code class="codeph">ALTER</code>声明中有新的日志记录属性;现有的不会更改其日志记录属性。表空间级别日志记录属性可以由表，索引或分区级别的规范覆盖。
                        </p>
                        <p>默认日志记录属性是<code class="codeph">LOGGING</code> 。但是，如果您已将数据库置于<code class="codeph">NOARCHIVELOG</code>模式，通过发出<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">NOARCHIVELOG</code> ，则无论指定的日志记录属性如何，所有可以在不进行日志记录的情况下执行的操作都不会生成日志。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="VLDBG1537"></a><div class="props_rev_3"><a id="GUID-5A52793F-15AE-4C86-B8A4-4D7965575BB0" name="GUID-5A52793F-15AE-4C86-B8A4-4D7965575BB0"></a><h3 id="VLDBG-GUID-5A52793F-15AE-4C86-B8A4-4D7965575BB0" class="sect3">通过并行创建索引来优化性能</h3>
               <div>
                  <p>您可以通过并行创建索引来优化性能。</p>
                  <p>多个进程可以同时工作以创建索引。通过划分在多个服务器进程之间创建索引所需的工作，Oracle数据库可以比单个服务器进程串行创建索引更快地创建索引。</p>
                  <p>并行索引创建的工作方式与使用<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句的表扫描的工作方式大致相同。该表是随机采样的，并且找到一组索引键，它们将索引等分为与DOP相同的块数。第一组查询过程扫描表，提取key-rowid对，并基于密钥将每对发送到第二组查询过程中的进程。第二组中的每个进程对键进行排序并以通常的方式构建索引。在构建所有索引片之后，并行执行协调器简单地连接片段（它们被排序）以形成最终索引。
                  </p>
                  <p>并行本地索引创建使用单个服务器集。为集合中的每个服务器进程分配一个要扫描的表分区，并为其构建索引分区。因为给定DOP使用了一半的服务器进程，所以可以使用更高的DOP运行并行本地索引创建。但是，DOP被限制为小于或等于要创建的索引分区的数量。要避免此限制，可以使用<code class="codeph">DBMS_PCLXUTIL</code>程序包。
                  </p>
                  <p>您可以选择指定在创建索引期间不应执行重做和撤消日志记录。这可以显着提高性能，但暂时使索引无法恢复。备份新索引后恢复可恢复性。如果您的应用程序可以容忍索引恢复需要重新创建的窗口，那么您应该考虑使用<code class="codeph">NOLOGGING</code>子句。
                  </p>
                  <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句中的<code class="codeph">PARALLEL</code>子句是指定DOP以创建索引的唯一方法。如果未在<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句的parallel子句中指定DOP，则将CPU数用作DOP。如果没有<code class="codeph">PARALLEL</code>子句，则连续完成索引创建。
                  </p>
                  <p>并行创建索引时， <code class="codeph">STORAGE</code>子句指的是查询服务器进程创建的每个子索引的存储。因此，在创建索引期间，使用<code class="codeph">INITIAL</code>值5 MB和DOP 12创建的索引将占用至少60 MB的存储空间，因为每个进程的启动范围为5 MB。当查询协调器进程组合已排序的子索引时，可能会修剪某些扩展区，并且生成的索引可能小于请求的60 MB。</p>
                  <p>在表上添加或启用<code class="codeph">UNIQUE</code>或<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code>约束时，无法并行自动创建所需的索引。而是使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句和适当的<code class="codeph">PARALLEL</code>子句手动在所需列上<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> ，然后添加或启用约束。然后，Oracle Database在启用或添加约束时使用现有索引。
                  </p>
                  <p>如果所有约束都处于<code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code>状态，则可以同时并行地启用对同一表的多个约束。在以下示例中， <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ENABLE</code> <code class="codeph">CONSTRAINT</code>语句执行并行检查约束的表扫描：</p><pre class="oac_no_warn" dir="ltr">创建表a（a1 NUMBER CONSTRAINT ach CHECK（a1&gt; 0）ENABLE NOVALIDATE）PARALLEL;插入值（1）;承诺; ALTER TABLE a ENABLE CONSTRAINT ach;</pre></div>
            </div><a id="VLDBG1538"></a><div class="props_rev_3"><a id="GUID-08A08783-C243-4872-AFFA-56B603F1F0F5" name="GUID-08A08783-C243-4872-AFFA-56B603F1F0F5"></a><h3 id="VLDBG-GUID-08A08783-C243-4872-AFFA-56B603F1F0F5" class="sect3">并行DML技巧</h3>
               <div>
                  <p>本主题介绍了并行DML功能的提示。</p>
                  <p>涵盖的主题包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-2B327BD6-3191-493A-AE5B-EB08325A664C" title="本主题中讨论了使用SQL INSERT语句时的并行DML。">并行DML技巧1：INSERT</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-7E8095F3-9650-405C-B158-B5B4932093C5" title="本主题讨论了使用Direct-Path INSERT操作时的并行DML。">并行DML技巧2：直接路径INSERT</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC" title="本主题中讨论了使用插入，合并，更新和删除操作时的并行DML。">并行DML技巧3：并行化INSERT，MERGE，UPDATE和DELETE</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-08A08783-C243-4872-AFFA-56B603F1F0F5__GUID-8816EC5E-1A97-402F-93F4-0C11DB254A02">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../admin/managing-tables.html#ADMIN01509" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关使用直接路径插入提高负载性能的信息</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">INSERT</code>语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=SQLRF01604" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG1540"></a><a id="VLDBG1539"></a><div class="props_rev_3"><a id="GUID-2B327BD6-3191-493A-AE5B-EB08325A664C" name="GUID-2B327BD6-3191-493A-AE5B-EB08325A664C"></a><h4 id="VLDBG-GUID-2B327BD6-3191-493A-AE5B-EB08325A664C" class="sect4">并行DML技巧1：INSERT</h4>
                  <div>
                     <p>本主题中讨论了使用SQL <code class="codeph">INSERT</code>语句时的并行DML。
                     </p>
                     <p>使用<code class="codeph">INSERT</code>语句可用的功能可以总结如<a href="parallel-exec-tips.html#GUID-2B327BD6-3191-493A-AE5B-EB08325A664C__BEIIHGDC" title="INSERT功能摘要">表8-5</a>所示：</p>
                     <div class="tblformalwide" id="GUID-2B327BD6-3191-493A-AE5B-EB08325A664C__BEIIHGDC">
                        <p class="titleintable">表8-5 INSERT功能摘要</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="INSERT功能摘要" width="100%" border="1" summary="Summary of INSERT Features" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d63248e1938">插入类型</th>
                                 <th align="left" valign="bottom" width="43%" id="d63248e1941">平行</th>
                                 <th align="left" valign="bottom" width="18%" id="d63248e1944">串行</th>
                                 <th align="left" valign="bottom" width="23%" id="d63248e1947">NOLOGGING</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d63248e1952" headers="d63248e1938 ">
                                    <p>常规</p>
                                 </td>
                                 <td align="left" valign="top" width="43%" headers="d63248e1952 d63248e1941 ">
                                    <p>没有</p>
                                    <p>有关使用<code class="codeph">NOAPPEND</code>提示并启用并行DML以执行并行常规插入的信息，请参阅本节中的文本。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d63248e1952 d63248e1944 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d63248e1952 d63248e1947 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d63248e1970" headers="d63248e1938 ">
                                    <p>直接路径</p>
                                    <p><code class="codeph">插入</code></p>
                                    <p>（ <code class="codeph">APPEND</code> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="43%" headers="d63248e1970 d63248e1941 ">
                                    <p>是的，但要求</p>
                                    <p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">ENABLE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code>或<code class="codeph">ENABLE_PARALLEL_DML</code> SQL提示启用<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>模式</p>
                                    <p>以及以下之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>表<code class="codeph">PARALLEL</code>属性或<code class="codeph">PARALLEL</code>提示以显式设置并行性</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">APPEND</code>提示明确设置模式</p>
                                       </li>
                                    </ul>
                                    <p>或者以下</p>
                                    <p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code>强制<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>模式</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d63248e1970 d63248e1944 ">
                                    <p>是的，但需要：</p>
                                    <p><code class="codeph">APPEND</code>提示</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d63248e1970 d63248e1947 ">
                                    <p>是的，但需要：</p>
                                    <p>为分区或表设置的<code class="codeph">NOLOGGING</code>属性</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果启用了并行DML并且为数据字典中的表设置了<code class="codeph">PARALLEL</code>提示或<code class="codeph">PARALLEL</code>属性，则插入操作是并行和附加的，除非适用限制。如果缺少<code class="codeph">PARALLEL</code>提示或<code class="codeph">PARALLEL</code>属性，则会以串行方式执行插入操作。当且仅当并行DML被启用或强制时，自动DOP才会并行化SQL语句的DML部分。
                     </p>
                     <p>如果启用了并行DML，则可以使用<code class="codeph">NOAPPEND</code>提示执行并行传统插入操作。例如，您可以使用<code class="codeph">/*+</code> <code class="codeph">noappend</code> <code class="codeph">parallel</code> <code class="codeph">*/</code>与SQL <code class="codeph">INSERT</code>语句来执行并行传统插入。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT / * + NOAPPEND PARALLEL * / INTO sales_hist SELECT * FROM sales;</pre><p>并行传统插入操作的优点是能够执行在线操作而不受直接路径<code class="codeph">INSERT</code>的限制。并行传统插入操作的缺点是该过程可能比直接路径<code class="codeph">INSERT</code>慢。</p>
                  </div>
               </div><a id="VLDBG1541"></a><div class="props_rev_3"><a id="GUID-7E8095F3-9650-405C-B158-B5B4932093C5" name="GUID-7E8095F3-9650-405C-B158-B5B4932093C5"></a><h4 id="VLDBG-GUID-7E8095F3-9650-405C-B158-B5B4932093C5" class="sect4">并行DML技巧2：直接路径INSERT</h4>
                  <div>
                     <p>本主题讨论了使用Direct-Path <code class="codeph">INSERT</code>操作时的并行DML。
                     </p>
                     <p>追加模式是并行插入操作期间的默认模式。数据始终插入到新块中，该块分配给表。使用<code class="codeph">APPEND</code>提示是可选的。您应该使用追加模式来提高<code class="codeph">INSERT</code>操作的速度，但不能在必须优化空间利用率时使用。您可以使用<code class="codeph">NOAPPEND</code>覆盖追加模式。
                     </p>
                     <p><code class="codeph">APPEND</code>提示适用于串行和并行插入操作。如果使用此提示，串行插入也会更快。但是， <code class="codeph">APPEND</code>提示确实需要更多空间和锁定开销。
                     </p>
                     <p>您可以使用带有<code class="codeph">APPEND</code> <code class="codeph">NOLOGGING</code>来使流程更快。<code class="codeph">NOLOGGING</code>表示不为操作生成重做日志。<code class="codeph">NOLOGGING</code>永远不是默认的;当您想要优化性能时使用它。当表或分区需要恢复时，通常不应使用它。如果需要恢复，请确保在操作后立即执行备份。使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">[NO]LOGGING</code>语句设置适当的值。
                     </p>
                  </div>
               </div><a id="VLDBG1542"></a><div class="props_rev_3"><a id="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC" name="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC"></a><h4 id="VLDBG-GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC" class="sect4">并行DML技巧3：并行化INSERT，MERGE，UPDATE和DELETE</h4>
                  <div>
                     <p>本主题中讨论了使用插入，合并，更新和删除操作时的并行DML。</p>
                     <p>当表或分区在数据字典中具有<code class="codeph">PARALLEL</code>属性时，该属性设置用于确定<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句和查询的并行性。语句中表的显式<code class="codeph">PARALLEL</code>提示会覆盖数据字典中<code class="codeph">PARALLEL</code>属性的效果。
                     </p>
                     <p>您可以使用<code class="codeph">NO_PARALLEL</code>提示覆盖数据字典中表的<code class="codeph">PARALLEL</code>属性。通常，提示优先于属性。
                     </p>
                     <p>如果在<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>模式下使用<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">ENABLE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code>语句<code class="codeph">ENABLE</code>了<code class="codeph">SESSION</code>或者在<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>模式下使用<code class="codeph">ENABLE_PARALLEL_DML</code>提示启用了特定的SQL语句，则会考虑DML操作进行并行化。该模式不会影响查询或DML语句的查询部分的并行化。
                     </p>
                  </div><a id="VLDBG1544"></a><a id="VLDBG1543"></a><div class="props_rev_3"><a id="GUID-A4227A4C-209A-40B9-9A68-A57803E66C04" name="GUID-A4227A4C-209A-40B9-9A68-A57803E66C04"></a><h5 id="VLDBG-GUID-A4227A4C-209A-40B9-9A68-A57803E66C04" class="sect5">并行化INSERT SELECT</h5>
                     <div>
                        <p>在<code class="codeph">INSERT</code> ......<code class="codeph">SELECT</code>语句，除了<code class="codeph">SELECT</code>关键字之后的提示外，还可以在<code class="codeph">INSERT</code>关键字后指定<code class="codeph">PARALLEL</code>提示。
                        </p>
                        <div class="section">
                           <p><code class="codeph">INSERT</code>关键字后的<code class="codeph">PARALLEL</code>提示仅适用于<code class="codeph">INSERT</code>操作， <code class="codeph">SELECT</code>关键字后的<code class="codeph">PARALLEL</code>提示仅适用于<code class="codeph">SELECT</code>操作。因此， <code class="codeph">INSERT</code>和<code class="codeph">SELECT</code>操作的并行性彼此独立。如果一个操作不能并行执行，则对其他操作是否可以并行执行没有影响。
                           </p>
                           <p>如果用户明确为并行DML启用了会话，并且所讨论的表在数据字典条目中设置了<code class="codeph">PARALLEL</code>属性，则并行化插入操作的能力会导致现有行为发生更改。在这种情况下，具有并行化的select操作的现有<code class="codeph">INSERT</code> <code class="codeph">SELECT</code>语句也可以使其insert操作并行化。
                           </p>
                           <p>如果查询多个表，则可以指定多个<code class="codeph">SELECT</code> <code class="codeph">PARALLEL</code>提示和多个<code class="codeph">PARALLEL</code>属性。
                           </p>
                           <p><a href="parallel-exec-tips.html#GUID-A4227A4C-209A-40B9-9A68-A57803E66C04__BEIIGDGI">例8-5</a>显示了在收购<code class="codeph">ACME</code>之后聘用的新员工的增加。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A4227A4C-209A-40B9-9A68-A57803E66C04__BEIIGDGI">
                           <p class="titleinexample">示例8-5并行化INSERT SELECT</p><pre class="oac_no_warn" dir="ltr">INSERT / * + PARALLEL（员工）* / INTO员工SELECT / * + PARALLEL（ACME_EMP）* / *来自ACME_EMP;</pre><p>此示例中不需要<code class="codeph">APPEND</code>关键字，因为它由<code class="codeph">PARALLEL</code>提示隐含。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="VLDBG1546"></a><a id="VLDBG1547"></a><a id="VLDBG1545"></a><div class="props_rev_3"><a id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712" name="GUID-49D5134E-7A04-4B87-A338-C4007D09D712"></a><h5 id="VLDBG-GUID-49D5134E-7A04-4B87-A338-C4007D09D712" class="sect5">并行化UPDATE和DELETE</h5>
                     <div>
                        <p><code class="codeph">PARALLEL</code>提示（紧跟在<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>关键字之后）不仅适用于基础扫描操作，还适用于<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作。
                        </p>
                        <div class="section">
                           <p>或者，您可以在要修改的表的定义中指定的<code class="codeph">PARALLEL</code>子句中指定<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>并行度。
                           </p>
                           <p>如果已为会话或事务显式启用了并行DML，那么将其查询操作并行化的<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句也可以并行化其<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作。语句中的任何子查询或可更新视图都可以有自己独立的<code class="codeph">PARALLEL</code>提示或子句，但这些并行指令不会影响并行化更新或删除的决定。如果这些操作不能并行执行，则不会影响是否可以并行执行<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>部分。
                           </p>
                           <p><a href="parallel-exec-tips.html#GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIGDEHC">例8-6</a>显示了更新操作，为达拉斯的所有职员提供10％的加薪。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIGDEHC">
                           <p class="titleinexample">例8-6并行化UPDATE和DELETE</p><pre class="oac_no_warn" dir="ltr">UPDATE / * + PARALLEL（员工）* /员工SET薪水=薪水* 1.1 WHERE job_id ='CLERK'和department_id IN（SELECT department_id FROM DEPARTMENTS WHERE location_id ='DALLAS'）;</pre><p><code class="codeph">PARALLEL</code>提示应用于<code class="codeph">UPDATE</code>操作和扫描。
                           </p>
                           <p><a href="parallel-exec-tips.html#GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIJIGHJ">例8-7</a>显示了<code class="codeph">39</code>类所有产品的删除，因为该业务线最近被分拆成一个单独的公司。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIJIGHJ">
                           <p class="titleinexample">例8-7并行化UPDATE和DELETE</p><pre class="oac_no_warn" dir="ltr">DELETE / * + PARALLEL（PRODUCTS）* / FROM PRODUCTS where category_id = 39;</pre><p>同样，并行性应用于表<code class="codeph">employees</code>的扫描和<code class="codeph">UPDATE</code>操作。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="VLDBG1548"></a><div class="props_rev_3"><a id="GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434" name="GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434"></a><h3 id="VLDBG-GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434" class="sect3">并行增量数据加载</h3>
               <div>
                  <p>并行DML与可更新的连接视图工具相结合，为刷新数据仓库系统的表提供了有效的解决方案。</p>
                  <p>刷新表是使用从OLTP生产系统生成的差异数据更新它们。</p>
                  <p>在以下示例中，假设刷新名为<code class="codeph">customers</code>的表，该表具有列<code class="codeph">c_key</code> ， <code class="codeph">c_name</code>和<code class="codeph">c_addr</code> 。差异数据包含自上次刷新数据仓库以来已更新的新行或行。在此示例中，更新的数据通过ASCII文件从生产系统发送到数据仓库系统。在开始刷新过程之前，必须将这些文件加载到名为<code class="codeph">diff_customer</code>的临时表中。您可以将SQL * Loader与并行和直接选项一起使用，以有效地执行此任务。您也可以在并行加载时使用<code class="codeph">APPEND</code>提示。
                  </p>
                  <p>加载<code class="codeph">diff_customer</code>后，可以启动刷新过程。它可以分两个阶段执行，也可以并行合并，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" title="本主题讨论如何优化并行更新表的性能。">优化并行更新表的性能</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4" title="本主题讨论如何有效地将新行并行插入表中。">有效地将新行并行插入表中</a></p>
                     </li>
                     <li>
                        <p><a href="parallel-exec-tips.html#GUID-7F00E66F-A941-4299-8D61-36AE5D9CC846" title="本主题讨论了如何通过并行合并来优化性能。">并行合并优化性能</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1549"></a><div class="props_rev_3"><a id="GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" name="GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84"></a><h4 id="VLDBG-GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" class="sect4">优化并行更新表的性能</h4>
                  <div>
                     <p>本主题讨论如何优化并行更新表的性能。</p>
                     <p>以下语句是使用子查询的更新的简单SQL实现：</p><pre class="oac_no_warn" dir="ltr">UPDATE客户SET（c_name，c_addr）=（SELECT c_name，c_addr FROM diff_customer WHERE diff_customer.c_key = customer.c_key）WHERE c_key IN（SELECT c_key FROM diff_customer）;</pre><p>不幸的是，此语句中的两个子查询会影响性能。</p>
                     <p>另一种方法是使用可更新的连接视图重写此查询。要重写查询，必须首先向<code class="codeph">diff_customer</code>表添加主键约束，以确保修改后的列映射到密钥保留表：</p><pre class="oac_no_warn" dir="ltr">CREATE UNIQUE INDEX diff_pkey_ind ON diff_customer（c_key）PARALLEL NOLOGGING; ALTER TABLE diff_customer ADD PRIMARY KEY（c_key）;</pre><p>然后，您可以使用以下SQL语句更新<code class="codeph">customers</code>表：</p><pre class="oac_no_warn" dir="ltr">UPDATE / * + PARALLEL（cust_joinview）* /（SELECT / * + PARALLEL（customers）PARALLEL（diff_customer）* / CUSTOMER.c_name AS c_name CUSTOMER.c_addr AS c_addr，diff_customer.c_name AS c_newname，diff_customer.c_addr AS c_newaddr FROM diff_customer WHERE customers.c_key = diff_customer.c_key）cust_joinview SET c_name = c_newname，c_addr = c_newaddr;</pre><p>为连接视图<code class="codeph">cust_joinview</code>提供的基础扫描是并行完成的。然后，您可以并行化更新以进一步提高性能，但前提是<code class="codeph">customers</code>表已分区。
                     </p>
                  </div>
               </div><a id="VLDBG1550"></a><div class="props_rev_3"><a id="GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4" name="GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4"></a><h4 id="VLDBG-GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4" class="sect4">有效地将新行并行插入表中</h4>
                  <div>
                     <p>本主题讨论如何有效地将新行并行插入表中。</p>
                     <p>刷新过程的最后一个阶段包括将<code class="codeph">diff_customer</code>临时表中的新行插入到<code class="codeph">customers</code>表中。与更新案例不同，您无法避免在<code class="codeph">INSERT</code>语句中使用子查询：</p><pre class="oac_no_warn" dir="ltr">INSERT / * + PARALLEL（客户）* / INTO客户SELECT * FROM diff_customer s）;</pre><p>但是，您可以使用<code class="codeph">HASH_AJ</code>提示保证子查询转换为反散列连接。这样做使您可以使用并行<code class="codeph">INSERT</code>地执行前面的语句。即使表未分区，并行<code class="codeph">INSERT</code>也适用。
                     </p>
                  </div>
               </div><a id="VLDBG1551"></a><div class="props_rev_3"><a id="GUID-7F00E66F-A941-4299-8D61-36AE5D9CC846" name="GUID-7F00E66F-A941-4299-8D61-36AE5D9CC846"></a><h4 id="VLDBG-GUID-7F00E66F-A941-4299-8D61-36AE5D9CC846" class="sect4">并行合并优化性能</h4>
                  <div>
                     <p>本主题讨论了如何通过并行合并来优化性能。</p>
                     <p>您可以将更新和插入操作组合到一个语句中，通常称为<span class="bold">合并</span> ，如以下示例所示。
                     </p><pre class="oac_no_warn" dir="ltr">MERGE INTO客户使用diff_customer ON（diff_customer.c_key = customer.c_key）匹配然后更新设置（c_name，c_addr）=（SELECT c_name，c_addr FROM diff_customer WHERE diff_customer.c_key = customers.c_key）当不匹配时插入值（diff_customer） .c_key，diff_customer.c_data）;</pre><p>上一个示例中的SQL语句实现了与<a href="parallel-exec-tips.html#GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" title="How to optimize performance for updating a table in parallel is discussed in this topic.">优化并行更新表</a>并<a href="parallel-exec-tips.html#GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4" title="How to efficiently insert new rows into a table in parallel is discussed in this topic.">高效地将新行</a> <a href="parallel-exec-tips.html#GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" title="How to optimize performance for updating a table in parallel is discussed in this topic.">并行</a> <a href="parallel-exec-tips.html#GUID-D1AFE9E1-D98C-4A5C-AE3E-75C9ADFE60D4" title="本主题讨论如何有效地将新行并行插入表中。">插入</a> <a href="parallel-exec-tips.html#GUID-E2B7261E-1DC4-4029-A018-B1B8C509FD84" title="本主题讨论如何优化并行更新表的性能。">表中的性能中的</a>所有语句相同的结果。
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05574.optimizing-performance.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>优化性能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="enabling-advanced-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-III-test-and-troubleshoot-oracle-net-services.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enabling-advanced-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-III-test-and-troubleshoot-oracle-net-services.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">网络服务管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Oracle Net Services的配置和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">优化性能</li>
            </ol>
            <a id="GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F" name="GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F"></a><a id="NETAG014"></a>
            
            <h2 id="NETAG-GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F" class="sect2"><span class="enumeration_chapter">14</span>优化性能</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何优化连接性能。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804">了解网络数据压缩的好处</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F">确定带宽延迟产品</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">配置InfiniBand连接的SDP支持</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E">配置InfiniBand连接的Exadirect支持</a><br>Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量</li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6">限制未经授权用户的资源消耗</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803">关于数据相关路由</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Oracle Net Services的配置和管理</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG1593"></a><div class="sect2"><a id="GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804" name="GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804"></a><h3 id="NETAG-GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804" class="sect3"><span class="enumeration_section">14.1</span>了解网络数据压缩的好处</h3>
               <div>
                  <p>网络数据压缩减少了通过数据连接传输的<a href="glossary.html#GUID-DDF7E038-5341-44CA-8634-C03D77EB50BA"><span class="xrefglossterm">会话数据单元（SDU）</span></a>的大小。减少数据大小可减少在整个网络中传输SQL查询和结果所需的时间。此外，压缩数据使用较少的带宽，这允许在更短的时间内传输更大的数据。数据压缩过程对应用程序层是透明的。
                  </p>
                  <p>以下是使用数据压缩的一些好处：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>增加的网络吞吐量意味着受限带宽环境可以利用压缩来减少查询响应时间。</p>
                     </li>
                     <li>
                        <p>减少带宽利用率允许其他应用程序使用带宽。</p>
                     </li>
                     <li>
                        <p>减少站点之间传输的数据量。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG0141"></a><div class="sect2"><a id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04" name="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04"></a><h3 id="NETAG-GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04" class="sect3"><span class="enumeration_section">14.2</span>配置会话数据单元</h3>
               <div>
                  <p>在典型的数据库配置下，Oracle Net在通过网络发送数据之前将数据封装到SDU大小的缓冲区中。Oracle Net在填充，刷新或应用程序尝试读取数据时发送每个缓冲区。调整<a id="d45406e226" class="indexterm-anchor"></a>相对于提供给Oracle Net的数据量，SDU缓冲区的大小可以在任何时候发送，从而提高性能，网络利用率和内存消耗。当传输大量数据时，增加SDU大小可以提高性能和网络吞吐量。可以将SDU大小调整得更低或更高，以实现特定部署的更高吞吐量。
                  </p>
                  <p>提供给Oracle Net以便在任何时间发送的数据量称为消息大小。</p>
                  <p>SDU大小可以从512字节到2 MB。广泛的大小允许网络管理员调整SDU大小，以便为给定部署提供最佳网络性能。较高的SDU大小值需要更多内存。客户端和专用服务器的默认SDU大小为8192字节。共享服务器的默认SDU大小为65535字节。</p>
                  <p>使用的实际SDU大小在连接时在客户端和服务器之间协商，并且是客户端和服务器值中较小的一个。配置不同于默认值的SDU大小需要在客户端和服务器计算机上配置SDU，除非您使用共享服务器。</p>
                  <p>当主要邮件大小小于或大于8192时，应考虑更改SDU大小。SDU大小应比主要消息大小多70个字节。如果主要消息大小加上70字节超过最大SDU，则应设置SDU，使得消息大小被分成最小数量的相等部分，其中每个部分比SDU大小小70个字节。要更改默认值，请更改<code class="codeph">sqlnet.ora</code>文件中的DEFAULT_SDU_SIZE参数。
                  </p>
                  <p>例如，如果应用程序发送和接收的大多数消息小于8 KB，考虑到70字节的开销，则将SDU设置为8 KB可能会产生良好的结果。如果有足够的内存可用，则使用SDU的最大值可以最大限度地减少Oracle Net Services的系统调用和开销。</p>
                  <div class="infoboxnote" id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04__GUID-65AC1A5D-C31F-40D3-BF1B-6A1E6D3C038E">
                     <p class="notep1">注意：</p>
                     <p>在Oracle Database <span class="italic">11g中</span> ，Oracle Net Services优化了组件的批量数据传输，例如Oracle SecureFiles LOB和Oracle Data Guard重做传输服务。网络参数文件中指定的SDU大小限制不适用于这些批量数据传输。启用ASO选项或使用TLS传输时，批量数据传输优化不适用。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E73579F0-9852-4E16-A503-4525471DEBB4">设置数据库的SDU大小</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7">设置客户端的SDU大小</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04__GUID-B722D03D-B866-4375-AF80-1974A94893D7">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="introducing-oracle-net-services.html#GUID-D47D58C3-CA44-4A08-8597-A83335406290">数据传输优化的会话数据单元大小</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-959C27E5-18FA-4CEA-BA7F-25140B2BFB49">统计示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1476"></a><div class="sect3"><a id="GUID-E73579F0-9852-4E16-A503-4525471DEBB4" name="GUID-E73579F0-9852-4E16-A503-4525471DEBB4"></a><h4 id="NETAG-GUID-E73579F0-9852-4E16-A503-4525471DEBB4" class="sect4"><span class="enumeration_section">14.2.1</span>设置数据库的SDU大小</h4>
                  <div>
                     <p>要设置数据库服务器的SDU大小，请配置以下文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLNET.ORA</code></p>
                           <p>在<code class="codeph">sqlnet.ora</code>文件中配置DEFAULT_SDU_SIZE参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">DEFAULT_SDU_SIZE = 32767</pre></li>
                        <li>
                           <p>初始化参数文件</p>
                           <p>如果使用共享服务器进程，则在初始化参数文件的DISPATCHERS参数中设置SDU大小，如下所示：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS =“（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）） <span class="bold">（SDU = 8192）</span> ）”</pre></li>
                        <li>
                           <p><code class="codeph">listener.ora中</code></p>
                           <p>如果侦听器在<code class="codeph">listener.ora</code>文件中配置了目标列表，则在使用专用服务器进程时，SID_LIST参数中的SDU值将覆盖<code class="codeph">sqlnet.ora</code>文件中的当前设置。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1475"></a><div class="sect3"><a id="GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7" name="GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7"></a><h4 id="NETAG-GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7" class="sect4"><span class="enumeration_section">14.2.2</span>设置客户端的SDU大小</h4>
                  <div>
                     <p>要为客户端设置SDU大小，请配置以下文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLNET.ORA</code></p>
                           <p>对于客户端的全局配置，请在<code class="codeph">sqlnet.ora</code>文件中配置DEFAULT_SDU_SIZE参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">DEFAULT_SDU_SIZE = 32767</pre></li>
                        <li>
                           <p><code class="codeph">tnsnames.ora中</code></p>
                           <p>对于特定的连接描述符，您可以在DESCRIPTION参数中指定SDU参数。</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com =（DESCRIPTION =（ <span class="bold"><code class="codeph">SDU=11280)</code></span> （ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com） ）））</pre></li>
                     </ul><pre class="oac_no_warn" dir="ltr"></pre><p>SDU大小适用于特定连接描述符的所有Oracle Net协议。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1477"></a><div class="sect2"><a id="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F" name="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F"></a><h3 id="NETAG-GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F" class="sect3"><span class="enumeration_section">14.3</span>确定带宽延迟产品</h3>
               <div>
                  <p>带宽延迟产品是网络带宽和通过网络传输数据的往返时间的乘积。确定往返时间的一种简单方法是使用命令，例如从一个主机到另一个主机的<code class="codeph">ping</code> ，并使用<code class="codeph">ping</code>返回的响应时间。
                  </p>
                  <p>例如，如果网络具有100 Mbps的带宽和5ms的往返时间，则发送和接收缓冲区应至少为（100 * 106）*（5/103）位或大约62.5千字节。</p>
                  <p>以下等式显示了所涉及的单位和因素之间的关系：</p><pre class="oac_no_warn" dir="ltr">100,000,000位1字节5秒---------------- x ------ x --------- = 62,500字节1秒8位1000</pre><p>将SEND_BUF_SIZE和RECV_BUF_SIZE参数设置为至少带宽延迟产品可确保在发送大量数据时最佳地利用网络带宽。</p>
                  <p>基于前面的等式，该网络链路的带宽延迟乘积约为64KB。如果用于在主数据库和备用数据库之间传输重做数据的最大消息是1 MB，则SEND_BUF_SIZE和RECV_BUF_SIZE参数的值可以是1 MB。但是，如果平均消息较少，则64 KB的设置应足以优化可用带宽的使用。</p>
                  <p>对于大多数网络协议，请确保网络连接一端的RECV_BUF_SIZE参数（通常位于客户端）等于另一端的SEND_BUF_SIZE参数值，通常位于服务器上。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F__GUID-AABBA41B-B1B9-47D6-982E-F458E50010D9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关确定邮件大小的其他信息，请参阅<span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-959C27E5-18FA-4CEA-BA7F-25140B2BFB49">统计示例</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG0142"></a><div class="sect2"><a id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29" name="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29"></a><h3 id="NETAG-GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29" class="sect3"><span class="enumeration_section">14.4</span>配置I / O缓冲区空间</h3>
               <div>
                  <p>可靠的网络协议（例如TCP / IP）在向下层和上层协议发送和接收时将数据缓冲到发送和接收缓冲区中。这些缓冲区的大小通过影响流控制决策来影响网络性能。</p>
                  <p>RECV_BUF_SIZE和SEND_BUF_SIZE参数指定与Oracle Net连接关联的套接字缓冲区的大小。要确保数据的连续流动和网络带宽的更好利用，请使用RECV_BUF_SIZE和SEND_BUF_SIZE参数指定会话的接收和发送操作的I / O缓冲区空间限制。RECV_BUF_SIZE和SEND_BUF_SIZE参数值不必匹配，但应根据您的环境进行设置。</p>
                  <p>为获得最佳性能，应将发送和接收缓冲区的大小设置得足够大，以容纳可在网络连接上同时发送的所有数据。为获得最佳网络性能，应将这些缓冲区设置为至少带宽延迟乘积。</p>
                  <p>请谨慎使用这些参数，因为它们会影响网络和系统性能。这些参数的默认值是特定于操作系统的。以下是Linux操作系统的默认设置：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>SEND_BUF_SIZE：131,072字节（128k）</p>
                     </li>
                     <li>
                        <p>RECV_BUF_SIZE：174,700字节</p>
                     </li>
                  </ul>
                  <p>TCP，TCP / IP和SSL以及SDP支持这些参数。其他协议可能在某些操作系统上支持这些参数。这些参数的建议值在安装指南中指定。有关其他信息，请参阅操作系统特定文档。</p>
                  <div class="infoboxnote" id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29__GUID-3E430807-BE00-494B-8702-729ABDA16E92">
                     <p class="notep1">注意：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>由于主机操作系统的限制或内存限制，SEND_BUF_SIZE和RECV_BUF_SIZE参数的实际值可能小于指定的值。</p>
                        </li>
                        <li>
                           <p>请务必考虑系统必须支持的并发连接总数以及可用内存资源。这些连接消耗的内存总量取决于并发连接数和各自缓冲区的大小。</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-605F136D-DB3B-4D78-A33B-87820B4462F1">在服务器上配置I / O缓冲区大小</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A">在客户端上配置I / O缓冲区空间</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29__GUID-2C7C032C-1FF0-4360-8FAD-FEE568DC785A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关OCI_PREFETCH_MEMORY参数的其他信息，请参阅<a href="../lnoci/using-sql_statements-in-oci.html#LNOCI16357" target="_blank"><span class="italic">“Oracle调用接口程序员指南”</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1479"></a><div class="sect3"><a id="GUID-605F136D-DB3B-4D78-A33B-87820B4462F1" name="GUID-605F136D-DB3B-4D78-A33B-87820B4462F1"></a><h4 id="NETAG-GUID-605F136D-DB3B-4D78-A33B-87820B4462F1" class="sect4"><span class="enumeration_section">14.4.1</span>在服务器上配置I / O缓冲区大小</h4>
                  <div>
                     <p>由于数据库服务器将数据写入客户端，因此在服务器端设置SEND_BUF_SIZE参数通常就足够了。如果数据库服务器正在接收大请求，则还要设置RECV_BUF_SIZE参数。要配置数据库服务器，请在<code class="codeph">listener.ora</code>和<code class="codeph">sqlnet.ora</code>文件中设置缓冲区空间大小。
                     </p>
                     <p>在<code class="codeph">listener.ora</code>文件中，为特定协议地址或描述指定缓冲区空间参数。以下是设置示例：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521） <span class="bold"><code class="codeph">(SEND_BUF_SIZE=11784)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=11784)</code></span> ）（ADDRESS =（PROTOCOL = ipc）（KEY = extproc） <span class="bold"><code class="codeph">(SEND_BUF_SIZE=11784)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=11784)))</code></span> LISTENER2 =（DESCRIPTION = <span class="bold"><code class="codeph">(SEND_BUF_SIZE=8192)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=16384)</code></span> （ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）））</pre><p>虽然前面的示例有多个地址，但未使用<code class="codeph">ADDRESS_LIST</code>参数。这是因为<code class="codeph">ADDRESS_LIST</code>参数不是必需的。
                     </p>
                     <p>以下是<code class="codeph">sqlnet.ora</code>文件中的设置示例：</p><pre class="oac_no_warn" dir="ltr">RECV_BUF_SIZE = 65536 SEND_BUF_SIZE = 65536</pre></div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C">设置共享服务器进程的缓冲区大小参数</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1480"></a><div class="sect4"><a id="GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C" name="GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C"></a><h5 id="NETAG-GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C" class="sect5"><span class="enumeration_section">14.4.1.1</span>设置共享服务器进程的缓冲区大小参数</h5>
                     <div>
                        <p>如果使用共享服务器进程，则可以通过在DISPATCHERS初始化参数中设置缓冲区空间参数来覆盖从服务器<code class="codeph">sqlnet.ora</code>文件获取的当前设置，如下所示：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS = “（ADDRESS =（PROTOCOL = TCP）（SEND_BUF_SIZE = 65536））”</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-605F136D-DB3B-4D78-A33B-87820B4462F1">在服务器上配置I / O缓冲区大小</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1478"></a><div class="sect3"><a id="GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A" name="GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A"></a><h4 id="NETAG-GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A" class="sect4"><span class="enumeration_section">14.4.2</span>在客户端上配置I / O缓冲区空间</h4>
                  <div>
                     <p>要配置客户端，请在指定文件的以下位置设置缓冲区空间大小：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>仅设置RECV_BUF_SIZE参数通常就足够了。如果客户端发送大量请求，则还要设置SEND_BUF_SIZE参数。这些参数在客户端的<code class="codeph">sqlnet.ora</code>文件中设置。
                           </p>
                        </li>
                        <li>
                           <p>对于特定的连接描述符，您可以覆盖客户端<code class="codeph">sqlnet.ora</code>文件中的当前设置。您可以在<code class="codeph">tnsnames.ora</code>文件中为特定协议地址或描述指定缓冲区空间参数，类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = sales1-server）（PORT = 1521） <span class="bold">（SEND_BUF_SIZE = 11784）</span> <span class="bold">（RECV_BUF_SIZE = 11784）</span> ）（ADDRESS =（PROTOCOL） = tcp）（HOST = sales2-server）（PORT = 1521） <span class="bold">（SEND_BUF_SIZE = 11784）</span> <span class="bold">（RECV_BUF_SIZE = 11784）</span> ）（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））hr.us.example.com = （DESCRIPTION = <span class="bold">（SEND_BUF_SIZE = 8192）</span> <span class="bold">（RECV_BUF_SIZE = 8192）</span> （ADDRESS =（PROTOCOL = tcp）（HOST = hr1-server）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = hr.us.example.com）））</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG0143"></a><div class="sect2"><a id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10" name="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10"></a><h3 id="NETAG-GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10" class="sect3"><span class="enumeration_section">14.5</span>配置InfiniBand连接的SDP支持</h3>
               <div>
                  <p><a id="d45406e960" class="indexterm-anchor"></a><a id="d45406e964" class="indexterm-anchor"></a><a id="d45406e968" class="indexterm-anchor"></a> Oracle Net Services为InfiniBand高速网络提供套接字直接协议（ <a href="glossary.html#GUID-FA47E1B6-0845-4401-9DBC-5E97D3A0064F"><span class="xrefglossterm">SDP</span></a> ）支持。
                  </p>
                  <p>SDP是群集服务器环境的标准通信协议。SDP是网络接口卡和应用程序之间的接口。通过使用SDP，应用程序将大部分消息传递负担放在网络接口卡上，从而将CPU释放用于其他任务。因此，SDP可降低网络<a href="glossary.html#GUID-CB716DC0-A429-4B4A-857D-FFB70333E55B"><span class="xrefglossterm">延迟</span></a>和CPU利用率。
                  </p>
                  <p>SDP专为系统区域网络（SAN）而设计。SAN的特点是多个服务器系统之间的短距离，高性能通信，例如Oracle WebLogic Server或集群在一台交换机上的任何其他第三方中间层客户端和数据库服务器。</p>
                  <div class="infoboxnote" id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10__GUID-A6CF7855-61BD-43BD-BAA9-C0F09A9C2919">
                     <p class="notep1">注意：</p>
                     <p>请咨询您的个人供应商，了解他们与Oracle Database 12 <span class="italic">c</span>的版本兼容性。
                     </p>
                     <p>有关SDP支持的更多信息，请访问Oracle技术网</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=otn_index" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/index.html</code></a></p>
                  </div>
                  <p>以下部分描述了如何为中间层和数据库服务器通信设置SDP的Oracle Net支持。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-DFB0969E-8540-4B78-B53A-688BD1B13619">使用SDP的先决条件</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F">在服务器上配置SDP</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-693A1428-9BBB-4BD2-9D28-543910910D66">在客户端上配置SDP</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10__GUID-3159BAE7-4EC2-41CF-819E-0DDFBCB33FA8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="introducing-oracle-net-services.html#GUID-4467A33C-A20A-4E63-B6CD-6ABA2B6A1569">了解性能</a> ”</span>以获取受支持部署的概述</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1481"></a><div class="sect3"><a id="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619" name="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619"></a><h4 id="NETAG-GUID-DFB0969E-8540-4B78-B53A-688BD1B13619" class="sect4"><span class="enumeration_section">14.5.1</span>使用SDP的先决条件</h4>
                  <div>
                     <p>在配置对SDP的支持之前，请安装所需的硬件，并从应用程序Web服务器和数据库服务器上的指定供应商处设置与OpenFabrics Enterprise Distribution（OFED）1.4或1.5兼容的InfiniBand硬件和软件。</p>
                     <p>在安装InfiniBand软件期间，请确定定义SDP的常量或系统的地址族。这可以从操作系统或OFED文档中获得。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619__GUID-B65CD2F3-615E-400E-98DD-95EA747446F4">
                        <p class="notep1">也可以看看：</p>
                        <p>有关安装信息的供应商文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1482"></a><div class="sect3"><a id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F" name="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F"></a><h4 id="NETAG-GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F" class="sect4"><span class="enumeration_section">14.5.2</span>在服务器上配置SDP</h4>
                  <div>
                     <p>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置SDP地址。
                     </p>
                     <div class="infoboxnote" id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F__GUID-0BB81349-8D5F-4E2B-955F-4A2D34BA9819">
                        <p class="notep1">注意：</p>
                        <p>如果SDP或地址协议族常量不是27（Oracle Net Services的默认值），则在<code class="codeph">sqlnet.ora</code>文件中的SDP.PF_INET_SDP参数中定义常量。
                        </p>
                     </div>
                     <p>以下示例显示了在计算机<code class="codeph">sales-server</code>上使用端口号1521的SDP端点。
                     </p><pre class="oac_no_warn" dir="ltr"><span class="bold">LISTENER</span> =（DESCRIPTION =（ADDRESS_LIST = <span class="bold">（ADDRESS =（PROTOCOL = sdp）（HOST = sales-server）（PORT = 1521））</span> （ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）） （ADDRESS =（PROTOCOL = IPC）（KEY = EXTPROC））））</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F__GUID-4A4AEC13-D876-4C3B-81E2-72C673E76FEF">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">创建监听器协议地址列表</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1483"></a><div class="sect3"><a id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66" name="GUID-693A1428-9BBB-4BD2-9D28-543910910D66"></a><h4 id="NETAG-GUID-693A1428-9BBB-4BD2-9D28-543910910D66" class="sect4"><span class="enumeration_section">14.5.3</span>在客户端配置SDP</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66__GUID-792C5A7E-396F-4A46-94DF-43DF2CC81BC2">
                        <p class="notep1">注意：</p>
                        <p>如果SDP或地址协议族常量不是27（Oracle Net Services的默认值），则在<code class="codeph">sqlnet.ora</code>文件中的SDP.PF_INET_SDP参数中定义常量。
                        </p>
                     </div>
                     <p>以下过程介绍了如何配置Oracle WebLogic Server服务器或第三方中间层客户端：</p>
                     <ol>
                        <li>
                           <p>如果配置第三方中间层客户端，则升级客户端以使用Oracle Database 12 <span class="italic">c</span>客户端软件，如下所示：</p>
                           <ol type="a">
                              <li>
                                 <p>运行Oracle Universal Installer。</p>
                              </li>
                              <li>
                                 <p>从Available Products页面中选择<span class="bold">Oracle Database 12 <span class="italic">c</span> Client</span> 。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>对于Oracle WebLogic Server服务器和第三方中间层客户端，请创建网络服务名称以连接到数据库服务器，如下所示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于Oracle WebLogic Server服务器，请指定使用<code class="codeph">tnsnames.ora</code>文件中配置的相同TCP / IP协议地址的网络服务名称。例如：</p><pre class="oac_no_warn" dir="ltr">sales =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</pre></li>
                              <li>
                                 <p>对于第三方中间层客户端，请指定使用<code class="codeph">tnsnames.ora</code>文件中配置的相同SDP地址的网络服务名称。
                                 </p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">sales =（DESCRIPTION =（ADDRESS =（PROTOCOL = sdp）（HOST = sales-server）））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</pre><div class="infoboxnotealso" id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66__GUID-00D7AADF-D38F-4943-A73D-227CFE0E2A40">
                                    <p class="notep1">也可以看看：</p>
                                    <p><a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1" title="从Oracle Database 19c发行版开始，应用程序用于连接Oracle数据库的Easy Connect语法改进了功能。新版本称为Easy Connect Plus。">配置命名方法</a>以获取有关创建连接描述符的其他信息</p>
                                 </div>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" name="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E"></a><h3 id="NETAG-GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" class="sect3"><span class="enumeration_section">14.6</span>配置InfiniBand连接的外部支持</h3>
               <div>
                  <p>Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量</p>
                  <div class="section">
                     <p>Exadirect协议使用TCP进行控制通信，使用IB RC传输数据。此版本仅在Oracle Linux上支持Exadirect协议适配器。</p>
                     <div class="infoboxnote" id="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E__GUID-2A3DBCA0-E07D-465D-8EB1-1AC02885496A">
                        <p class="notep1">注意：</p>在Oracle Database 12 <span class="italic">c第</span> 2版（12.2）中，Exadirect支持单个Exadirect端点配置。它不支持DRCP。</div>
                     <p>以下部分描述了如何为中间层和数据库服务器通信设置Exadirect的Oracle Net支持。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-F5322880-3C30-4E08-90EE-6AA143172C94">使用Exadirect的先决条件</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-386BC919-776A-4F24-91CE-56213B22E947">在服务器上配置Exadirect</a><br>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置Exadirect地址。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6">在客户端上配置Exadirect</a><br>指定使用在<code class="codeph">tnsnames.ora</code>文件中配置的相同Exadirect地址的网络服务名称。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F5322880-3C30-4E08-90EE-6AA143172C94" name="GUID-F5322880-3C30-4E08-90EE-6AA143172C94"></a><h4 id="NETAG-GUID-F5322880-3C30-4E08-90EE-6AA143172C94" class="sect4"><span class="enumeration_section">14.6.1</span>使用Exadirect的先决条件</h4>
                  <div>
                     <p></p>
                     <div class="p">Exadirect可用作Exadata节点之间的传输协议。Exadirect的Exadata版本必须为12.1.2.3.3或更高版本。</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-386BC919-776A-4F24-91CE-56213B22E947" name="GUID-386BC919-776A-4F24-91CE-56213B22E947"></a><h4 id="NETAG-GUID-386BC919-776A-4F24-91CE-56213B22E947" class="sect4"><span class="enumeration_section">14.6.2</span>在服务器上配置Exadirect</h4>
                  <div>
                     <p>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置Exadirect地址。
                     </p>
                     <div class="section">在<code class="codeph">listener.ora</code>文件中配置<code class="codeph">enable_exadirect_listener_name=on</code>参数。
                        <p>以下示例显示了在IB接口为<code class="codeph">192.168.10.1</code>的计算机上使用端口号<code class="codeph">1522</code>的Exadirect端点。
                        </p><pre class="pre codeblock"><code>LISTENER =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = exadirect）（HOST = 192.168.10.1）（PORT = 1522））（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）） （ADDRESS =（PROTOCOL = ipc）（KEY = extproc））））ENABLE_EXADIRECT_LISTENER = on</code></pre><div class="infoboxnote" id="GUID-386BC919-776A-4F24-91CE-56213B22E947__GUID-6ACA8A9D-6D9A-4C30-A3E4-F153CD94B65F">
                           <p class="notep1">注意：</p>要启用Exadirect流控制，请在<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">exadirect_flow_control=on</code> 。这是一个协商参数，应在服务器和客户端<code class="codeph">sqlnet.ora</code>文件中设置。<code class="codeph">EXADIRECT_RECVPOLL</code>参数指定接收方轮询传入数据的时间。Exadirect适配器使用HugePages。
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6" name="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6"></a><h4 id="NETAG-GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6" class="sect4"><span class="enumeration_section">14.6.3</span>在客户端上配置Exadirect</h4>
                  <div>
                     <p>指定使用在<code class="codeph">tnsnames.ora</code>文件中配置的相同Exadirect地址的网络服务名称。
                     </p>
                     <div class="section">通过在<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">exadirect_flow_control=on</code>来启用Exadirect流控制。
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6__GUID-E633D07B-D426-4C88-BF9A-D3B2AD0A9E73">例如：<pre class="pre codeblock"><code>（DESCRIPTION =（ADDRESS =（PROTOCOL = exadirect）（HOST = 192.168.10.1）（port = 1522））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1202"></a><a id="NETAG0144"></a><div class="sect2"><a id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6" name="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6"></a><h3 id="NETAG-GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6" class="sect3"><span class="enumeration_section">14.7</span>限制未授权用户的资源消耗</h3>
               <div>
                  <p><a id="d45406e1771" class="indexterm-anchor"></a><a id="d45406e1777" class="indexterm-anchor"></a><a id="d45406e1783" class="indexterm-anchor"></a><a id="d45406e1789" class="indexterm-anchor"></a>可能会导致未经授权访问侦听器或数据库服务器<a id="d45406e1794" class="indexterm-anchor"></a>拒绝服务攻击，即未经授权的客户端试图阻止授权用户在需要时访问和使用系统的能力。恶意客户端可能会尝试使用连接请求来泛滥侦听器或数据库服务器，这些连接请求的唯一目的是消耗资源，例如连接，进程或线程。要缓解这些类型的攻击，请配置限制，以限制在身份验证之前保留资源的时间。客户端尝试超出配置的限制会导致连接终止和包含要记录的客户端的IP地址的审计跟踪。
                  </p>
                  <p>要限制未授权用户的资源消耗并启用审计跟踪，请为<a href="optimizing-performance.html#GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__g1011291" title="连接超时参数">表14-1中</a>所述的参数设置时间限制值。这些参数没有默认值。
                  </p>
                  <div class="tblformalwide" id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__g1011291">
                     <p class="titleintable">表14-1连接超时参数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="连接超时参数" width="100%" border="1" summary="Connect Timeout Parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d45406e1815">参数</th>
                              <th align="left" valign="bottom" width="16%" id="d45406e1818">文件</th>
                              <th align="left" valign="bottom" width="58%" id="d45406e1821">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d45406e1826" headers="d45406e1815 ">
                                 <p>INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d45406e1826 d45406e1818 ">
                                 <p><code class="codeph">listener.ora中</code></p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45406e1826 d45406e1821 ">
                                 <p>客户端在建立网络连接后完成对侦听器的连接请求的时间（以秒为单位）。</p>
                                 <p>如果侦听器未在指定的时间内收到客户端请求，则它将终止连接。另外，监听器记录客户端的IP地址和<a id="d45406e1840" class="indexterm-anchor"></a><a id="d45406e1842" class="indexterm-anchor"></a> <a href="troubleshooting-oracle-net-services.html#GUID-1D16BC2C-0357-4B4E-98EC-6BD628E1AA02">ORA-12525：侦听器未收到客户端的允许时间请求</a>错误消息到<code class="codeph">listener.log</code>文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d45406e1854" headers="d45406e1815 ">
                                 <p>SQLNET.INBOUND_CONNECT_TIMEOUT<a id="d45406e1857" class="indexterm-anchor"></a><a id="d45406e1859" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d45406e1854 d45406e1818 ">
                                 <p>数据库服务器上的<code class="codeph">sqlnet.ora</code></p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45406e1854 d45406e1821 ">
                                 <p>客户端与数据库服务器连接并提供必要的身份验证信息的时间（以秒为单位）。</p>
                                 <p>如果客户端无法在指定的时间内建立连接并完成身份验证，则数据库服务器将终止连接。另外，数据库服务器记录客户端的IP地址和<a id="d45406e1875" class="indexterm-anchor"></a><a id="d45406e1877" class="indexterm-anchor"></a> <a href="troubleshooting-oracle-net-services.html#GUID-7D6B009D-613A-44C0-A95C-1DD65122B7EF">ORA-12170：连接超时发生</a>错误消息到<code class="codeph">sqlnet.log</code>文件。客户收到一个<a id="d45406e1888" class="indexterm-anchor"></a><a id="d45406e1890" class="indexterm-anchor"></a> ORA-12547：TNS：失去联系，或者<a id="d45406e1895" class="indexterm-anchor"></a><a id="d45406e1898" class="indexterm-anchor"></a> ORA-12637：数据包接收失败错误消息。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>指定这些参数的值时，请考虑以下建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将两个参数都设置为初始低值。</p>
                     </li>
                     <li>
                        <p>将INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span>参数的值设置为低于SQLNET.INBOUND_CONNECT_TIMEOUT参数的值。
                        </p>
                     </li>
                  </ul>
                  <p>例如，您可以将INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span>设置为2秒，将INBOUND_CONNECT_TIMEOUT参数设置为3秒。如果客户端由于特定环境的正常系统或网络延迟而无法在指定时间内完成连接，则根据需要增加时间。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__GUID-AA04B924-93F0-47F8-8B51-F5AB0B3C0C6C">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-F521AB0A-B67C-432B-B899-8F856EB51CAE">解决Oracle Net Services最常见的错误消息</a> ”</span> ，以获取错误消息解决方法的说明</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-13C57450-A1F1-46F4-B48C-8E284C3C87CA">分析侦听器日志文件</a> ”</span>以获取有关<code class="codeph">listener.log</code>文件中的条目的其他信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-profiles.html#GUID-F199D890-73DB-4F8F-A37D-AACAC0909F0C">关于高级配置文件信息</a> ”</span>有关配置这些参数的其他信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803" name="GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803"></a><h3 id="NETAG-GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803" class="sect3"><span class="enumeration_section">14.8</span>关于数据相关路由</h3>
               <div>
                  <p></p>
                  <p>Sharding提供了跨多个独立Oracle数据库（也称为分片）水平分区数据的能力，并且基于连接字符串中指定的密钥，将数据库请求路由到特定分片。</p>
                  <p>路由在会话级别完成，并基于连接字符串中指定的分片密钥的值。数据相关路由假定会话中发出的所有数据库请求都与指定键值相关联的数据相关。如果客户端需要访问具有不同密钥值的数据，则它要么建立新的数据库会话，要么重新使用映射到该分片密钥的预先建立的连接。负责路由数据库请求的所有组件（例如分片导向器（全局服务管理器）和连接池）都包含一个路由表，该表将键值范围映射到存储适当数据的分片。Oracle Sharding自动维护所有这些组件的路由表的一致性。</p>
                  <p></p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401">为客户端 - 服务器连接配置数据相关的路由</a><br>它涉及连接请求过程的单个重定向。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401" name="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401"></a><h4 id="NETAG-GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401" class="sect4"><span class="enumeration_section">14.8.1</span>配置客户端 - 服务器连接的数据相关路由</h4>
                  <div>
                     <p>它涉及连接请求过程的单个重定向。</p>
                     <div class="p">复合分片可实现两级分片 - 一个按列表或范围，另一个按一致哈希。这是通过提供两个键的应用程序实现的：超级分片键和分片键。对于依赖于数据的路由，客户端用于连接到分片的连接字符串必须包含<code class="codeph">CONNECT_DATA</code>部分中的<code class="codeph">(SHARDING_KEY=…)</code>或<code class="codeph">(SHARDING_KEY=…) (SUPER_SHARDING_KEY=...)</code> 。连接字符串应采用连接到全局服务所需的格式。应将碎片导向器指定为端点，并且除了<code class="codeph">SUPER_SHARDING_KEY</code>或<code class="codeph">SHARDING_KEY</code>或两者之外，还应在<code class="codeph">CONNECT_DATA</code>中使用全局服务名称和区域名称。
                     </div>
                     <!-- class="section" -->
                     <div class="section">要处理连接请求：</div>
                     <!-- class="section" -->
                     <ul>
                        <li><span>与其中一个分片导向器建立连接。</span></li>
                        <li><span>共享控制器执行服务和键值的查找，然后将客户端重定向到包含数据的分片。</span></li>
                     </ul>
                     <div class="section">客户端执行SQL语句并直接从分片接收结果。</div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401__GUID-6FBBB1A9-ECCE-46D0-9E7D-DE7B442FF04D">以下是分片的连接字符串示例：<pre class="pre codeblock"><code>（DESCRIPTION =（FAILOVER = on）（ADDRESS_LIST =（LOAD_BALANCE = ON）（ADDRESS =（host = sales-east1）（port = 1522））（ADDRESS =（host = sales-east2）（port = 1522））（ADDRESS =（host = sales-east3）（port = 1522）））（ADDRESS_LIST =（LOAD_BALANCE = ON）（ADDRESS =（host = sales-west1）（port = 1522））（ADDRESS =（host = sales-west2）（ port = 1522））（ADDRESS =（host = sales-west3）（port = 1522）））（CONNECT_DATA =（SERVICE_NAME = sales）（SHARDING_KEY = 40598230）（SUPER_SHARDING_KEY = gold）（REGION = east）））</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../gsmug/intro-global-data-services.html#GSMUG-GUID-D38A0740-B09B-4747-9414-33898208DE70" target="_blank"><span><cite>“Oracle数据库全球数据服务概念和管理指南”</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803">关于数据相关路由</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03364.introduction-to-oracle-database-vault.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database Vault enables you to control administrative access to your data."></meta>
      <meta name="description" content="Oracle Database Vault enables you to control administrative access to your data."></meta>
      <title>Oracle Database Vault简介</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Database Vault enables you to control administrative access to your data."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="what-to-expect-after-you-enable-oracle-database-vault.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="what-to-expect-after-you-enable-oracle-database-vault.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault简介</li>
            </ol>
            <a id="GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" name="GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284"></a><a id="DVADM001"></a>
            
            <h2 id="DVADM-GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" class="sect2"><span class="enumeration_chapter">1</span> Oracle Database Vault简介</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database Vault使您可以控制对数据的管理访问。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A">什么是Oracle Database Vault？</a><br>Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-1501802B-4761-47CF-9DDD-BA91DE4EED2C">使用Oracle Database Vault需要哪些权限？</a><br>Oracle Database Vault提供数据库角色，使不同用户能够根据职责分离指南执行特定任务。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE">Oracle Database Vault的组件</a><br>Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1">Oracle Database Vault如何解决合规性法规</a><br>监管合规带来的最大好处之一就是安全意识。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-3C080FE2-20B0-4F99-A350-9A8ADB6E5EA3">Oracle Database Vault如何保护特权用户帐户</a><br>许多安全漏洞（包括外部和内部）都以特权用户数据库帐户为目标来窃取数据库中的数据。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-A1EA989B-AABC-456C-BB21-6C9BC759E18F">Oracle Database Vault如何实现灵活的安全策略</a><br>Oracle Database Vault可帮助您为数据库设计灵活的安全策略。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6">Oracle Database Vault如何解决数据库整合问题</a><br>整合和云环境可以降低成本，但可以将敏感的应用程序数据暴露给那些没有真正需要知道的人。
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-F4182518-DEFF-4433-9593-0D73315DF661">Oracle Database Vault如何在多租户环境中运行</a><br>为了提高整合的安全性，您可以将Oracle Database Vault与Oracle Multitenant一起使用。
                  </li>
               </ul>
            </div>
            <a id="DVADM70105"></a><div class="props_rev_3"><a id="GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" name="GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A"></a><h3 id="DVADM-GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" class="sect3">什么是Oracle Database Vault？</h3>
               <div>
                  <p>Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-59526942-DC4F-489B-819E-D4F33BA17F9D">关于Oracle Database Vault</a><br>Oracle Database Vault安全控制可保护应用程序数据免受未经授权的访问，并符合隐私和法规要求。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-54208E95-3458-4A36-BBBA-FB4CED1FCFA5">特权帐户的控制</a><br>特权数据库帐户是访问数据库中敏感应用程序数据的最常用途径之一。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-DE52C236-B96C-441E-9F56-30ED6A51438E">数据库配置控件</a><br>常见的审计结果是未经授权的数据库权利更改以及<code class="codeph">DBA</code>角色对太多用户的授权。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-2B520159-92A9-4719-A69A-633A94149F6F">企业应用程序保护策略</a><br>特定于应用程序的Oracle Database Vault保护策略和指南适用于主要企业应用程序。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71409"></a><div class="props_rev_3"><a id="GUID-59526942-DC4F-489B-819E-D4F33BA17F9D" name="GUID-59526942-DC4F-489B-819E-D4F33BA17F9D"></a><h4 id="DVADM-GUID-59526942-DC4F-489B-819E-D4F33BA17F9D" class="sect4">关于Oracle Database Vault</h4>
                  <div>
                     <p>Oracle Database Vault安全控制可保护应用程序数据免受未经授权的访问，并符合隐私和法规要求。</p>
                     <p>您可以部署控件以阻止对应用程序数据的特权帐户访问，并使用受信任路径授权控制数据库内的敏感操作。通过对特权和角色的分析，您可以使用最小特权最佳实践来提高现有应用程序的安全性。Oracle Database Vault透明地保护现有数据库环境，从而消除了代价高昂且耗时的应用程序更改。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" title="Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。">什么是Oracle Database Vault？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71428"></a><a id="DVADM71410"></a><div class="props_rev_3"><a id="GUID-54208E95-3458-4A36-BBBA-FB4CED1FCFA5" name="GUID-54208E95-3458-4A36-BBBA-FB4CED1FCFA5"></a><h4 id="DVADM-GUID-54208E95-3458-4A36-BBBA-FB4CED1FCFA5" class="sect4">特权帐户的控制</h4>
                  <div>
                     <p>特权数据库帐户是访问数据库中敏感应用程序数据的最常用途径之一。</p>
                     <p>虽然它们广泛且不受限制的访问有助于数据库维护，但同样的访问也会产生攻击点，以获取对大量数据的访问权限。围绕应用程序模式，敏感表和存储过程的Oracle Database Vault领域提供了控制，以防止入侵者和内部人员利用特权帐户来访问敏感的应用程序数据。</p>
                     <div class="figure" id="GUID-54208E95-3458-4A36-BBBA-FB4CED1FCFA5__GUID-A5538A5D-C7CD-47FF-9BC1-1D8348FF8D27">
                        <p class="titleinfigure">图1-1 Oracle Database Vault领域阻止DBA访问数据</p><img src="img/dvadm_vm_003.png" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/dvadm_vm_003.html"><br><a href="img_text/dvadm_vm_003.html">“图1-1 Oracle Database Vault领域阻止DBA访问数据”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" title="Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。">什么是Oracle Database Vault？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71411"></a><div class="props_rev_3"><a id="GUID-DE52C236-B96C-441E-9F56-30ED6A51438E" name="GUID-DE52C236-B96C-441E-9F56-30ED6A51438E"></a><h4 id="DVADM-GUID-DE52C236-B96C-441E-9F56-30ED6A51438E" class="sect4">数据库配置控件</h4>
                  <div>
                     <p>常见的审计结果是未经授权的数据库权利更改以及<code class="codeph">DBA</code>角色对太多用户的授权。
                     </p>
                     <p>防止对生产环境进行未经授权的更改不仅对安全性很重要，而且对于合规性也很重要，因为此类更改可能会削弱安全性并打开入侵者的大门，违反隐私和合规性规定。Oracle Database Vault SQL命令规则使您可以控制数据库内的操作，包括<code class="codeph">CREATE TABLE</code> ， <code class="codeph">TRUNCATE TABLE</code>和<code class="codeph">CREATE USER</code> 。各种开箱即用的因素（如IP地址，身份验证方法和程序名称）有助于实施可信路径授权，以阻止利用被盗密码的攻击。这些控件可防止意外配置更改，还可防止黑客和恶意内部人员篡改应用程序。
                     </p>
                     <p>具有强制模式的Oracle Database Vault领域使您能够密封对应用程序对象的访问，甚至对具有直接对象授权的用户（包括对象所有者）也是如此。使用强制域，您无需分析谁有权访问，因为从授权用户列表中可以清楚地看到这一点。您可以在运行时启用强制域，并使用它们来响应网络威胁，在分析威胁之前阻止所有访问。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" title="Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。">什么是Oracle Database Vault？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71412"></a><div class="props_rev_3"><a id="GUID-2B520159-92A9-4719-A69A-633A94149F6F" name="GUID-2B520159-92A9-4719-A69A-633A94149F6F"></a><h4 id="DVADM-GUID-2B520159-92A9-4719-A69A-633A94149F6F" class="sect4">企业应用程序保护策略</h4>
                  <div>
                     <p>特定于应用程序的Oracle Database Vault保护策略和指南适用于主要企业应用程序。</p>
                     <p>这些企业应用程序包括Oracle融合应用程序，Oracle电子商务套装，Oracle PeopleSoft，Oracle Siebel，Oracle金融服务（i-Flex），Oracle Primavera，SAP和Infosys的Finacle。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-2B8316CD-7421-4322-A5A2-1A9B52C1E38A" title="Oracle Database Vault提供控制以防止未经授权的特权用户访问敏感数据并防止未经授权的数据库更改。">什么是Oracle Database Vault？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71377"></a><div class="props_rev_3"><a id="GUID-1501802B-4761-47CF-9DDD-BA91DE4EED2C" name="GUID-1501802B-4761-47CF-9DDD-BA91DE4EED2C"></a><h3 id="DVADM-GUID-1501802B-4761-47CF-9DDD-BA91DE4EED2C" class="sect3">使用Oracle Database Vault需要哪些权限？</h3>
               <div>
                  <p>Oracle Database Vault提供数据库角色，使不同用户能够根据职责分离指南执行特定任务。</p>
                  <p></p>
                  <p>最常用的角色如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ADMIN</code>使您可以创建和管理Database Vault策略。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DV_ACCTMGR</code>使您可以管理用户帐户。
                        </p>
                     </li>
                  </ul>
                  <p>注册Oracle Database Vault时， <code class="codeph">DV_OWNER</code>角色将授予在开始配置过程之前必须存在的用户，并且<code class="codeph">DV_ACCTMGR</code>角色将授予第二个可选用户，该用户在配置之前也必须存在。您可以将Database Vault角色授予其他用户，但请确保这些用户是可信任的。
                  </p>
                  <p>在注册过程中，您必须为<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>用户创建备份帐户。作为最佳实践，Oracle强烈建议您保留和维护这些备份帐户。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault提供基于特定用户任务的默认角色，并遵循职责分离概念。">Oracle Database Vault角色</a></li>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" title="作为最佳实践，您应该维护DV_OWNER和DV_ACCTMGR角色的备份帐户。">备份Oracle Database Vault帐户</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM70106"></a><div class="props_rev_3"><a id="GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" name="GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE"></a><h3 id="DVADM-GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" class="sect3">Oracle Database Vault的组件</h3>
               <div>
                  <p>Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-9673B318-2F38-406E-A441-613E829E1013">Oracle Database Vault访问控制组件</a><br>Oracle Database Vault使您可以创建一组组件来管理数据库实例的安全性。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-7A7CC0B1-BBA5-4162-B181-86A634C4B628">Oracle Enterprise Manager云控制数据库Vault管理员页面</a><br>Oracle Database Vault默认预安装，可以轻松启用。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-78C38076-42E7-463A-B111-214F6958A425">Oracle Database Vault DVSYS和DVF架构</a><br>Oracle Database Vault数据库对象和公共函数分别存储在<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>模式中。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-5E0744C3-4FF6-479F-9A35-928E080C3761">Oracle Database Vault PL / SQL接口和包</a><br>Oracle Database Vault为安全管理员或应用程序开发人员提供PL / SQL接口和程序包，以配置访问控制策略。
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-oracle-database-vault.html#GUID-767CFFEB-DC67-41FB-BC97-79004F396830">Oracle Database Vault报告和监视工具</a><br>您可以生成有关Oracle Database Vault监控的各种活动的报告。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70107"></a><div class="props_rev_3"><a id="GUID-9673B318-2F38-406E-A441-613E829E1013" name="GUID-9673B318-2F38-406E-A441-613E829E1013"></a><h4 id="DVADM-GUID-9673B318-2F38-406E-A441-613E829E1013" class="sect4">Oracle Database Vault访问控制组件</h4>
                  <div>
                     <p>Oracle Database Vault使您可以创建一组组件来管理数据库实例的安全性。</p>
                     <p>这些组件如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">国度。</span> 领域是数据库内部的保护区域，可以保护数据库模式，对象和角色。例如，您可以保护一组与会计，销售或人力资源相关的模式，对象和角色。将这些安全区域保存到领域后，您可以使用领域来控制对特定帐户或角色的系统和对象权限的使用。这使您可以为想要使用这些模式，对象和角色的任何人提供细粒度的访问控制。<a href="configuring-realms.html#GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" title="您可以围绕数据库对象创建领域以保护它们，然后设置授权以控制用户对此数据的访问。">配置领域</a> ，详细讨论领域。另请参见<a href="oracle-database-vault-realm-apis.html#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="DBMS_MACADM PL / SQL包使您可以配置Oracle Database Vault领域。">Oracle Database Vault Realm API</a> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">命令规则。</span> 命令规则是一种特殊的安全策略，您可以创建该策略来控制用户几乎可以执行任何SQL语句的方式，包括<code class="codeph">SELECT</code> ， <code class="codeph">ALTER SYSTEM</code> ，数据库定义语言（DDL）和数据操作语言（DML）语句。命令规则必须与规则集一起使用才能确定是否允许该语句。<a href="configuring-command-rules.html#GUID-8B7EABE6-66F7-4142-A32A-697CD185BCAB" title="您可以创建命令规则或使用默认命令规则来保护DDL和DML语句。">配置命令规则</a> ，详细讨论命令规则。另请参见<a href="oracle-database-vault-command-rule-apis.html#GUID-3E699451-4226-4C5D-A538-9103F536DAE9" title="DBMS_MACADM PL / SQL包提供了配置命令规则的过程。 。">Oracle Database Vault命令规则API</a> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">因素。</span> 因子是命名变量或属性，例如用户位置，数据库IP地址或会话用户，Oracle Database Vault可以识别这些变量或属性并将其用作受信任路径。您可以使用规则中的因子来控制活动，例如授权数据库帐户连接到数据库或执行特定数据库命令以限制数据的可见性和可管理性。每个因素可以具有一个或多个身份。标识是因子的实际值。根据因子检索方法或其身份映射逻辑，因子可以具有多个身份。<a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因素</a> ，详细讨论因素。另请参见<a href="oracle-database-vault-factor-apis.html#GUID-75586A2C-ADCF-4421-A5C3-267E0AA878B2" title="DBMS_MACADM PL / SQL包具有与因子相关的Oracle Database Vault规则过程和函数，DVF具有管理因子的功能。">Oracle Database Vault Factor API</a> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">规则集。</span> 规则集是一个或多个规则的集合，您可以将这些规则与领域授权，命令规则，因子分配或安全应用程序角色相关联。规则集根据其包含的每个规则的评估和评估类型（All True或Any True）评估为true或false。规则集中的规则是PL / SQL表达式，其计算结果为true或false。您可以在多个规则集中使用相同的规则。<a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a> ，详细讨论规则集。另请参见<a href="oracle-database-vault-rule-set-apis.html#GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" title="您可以使用DBMS_MACADM PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。">Oracle Database Vault规则集API</a> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">安全应用角色。</span> 安全应用程序角色是一种特殊的Oracle数据库角色，可以根据对Oracle Database Vault规则集的评估来启用该角色。<a href="configuring-secure-application-roles-for-oracle-database-vault.html#GUID-0437CB04-FC81-493C-A7ED-5CD491FFC024" title="通过安全应用程序角色，您可以控制用户对应用程序的访问权限。">为Oracle Database Vault配置安全应用</a>程序角色，详细讨论了安全应用程序角色。另请参见<a href="oracle-database-vault-secure-application-role-apis.html#GUID-B0538C84-E2D3-4748-8B13-06CC606D7799" title="DBMS_MACADM和DBMS_MACSEC_ROLES PL / SQL包管理Database Vault安全应用程序角色。">Oracle Database Vault安全应用程序角色API</a> 。</p>
                        </li>
                     </ul>
                     <p>为了扩充这些组件，Oracle Database Vault提供了一组PL / SQL接口和包。<a href="introduction-to-oracle-database-vault.html#GUID-5E0744C3-4FF6-479F-9A35-928E080C3761" title="Oracle Database Vault为安全管理员或应用程序开发人员提供PL / SQL接口和程序包，以配置访问控制策略。">Oracle Database Vault PL / SQL接口和包</a>提供了概述。
                     </p>
                     <p>通常，您采取的第一步是创建一个由您想要保护的数据库模式或数据库对象组成的领域。您可以通过创建规则，命令规则，因素，身份，规则集和安全应用程序角色来进一步保护领域。此外，您还可以运行有关这些组件监视和保护的活动的报告。<a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="在开始使用Oracle Database Vault之前，必须将其注册到Oracle数据库。">Oracle Database Vault入门</a>提供了一个简单的教程，可以使您熟悉基本的Oracle Database Vault功能。后面的章节提供了更高级的教程。<a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault Reports</a>提供了有关如何运行报告以检查Oracle Database Vault执行的配置和其他活动的详细信息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" title="Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。">Oracle Database Vault的组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70108"></a><div class="props_rev_3"><a id="GUID-7A7CC0B1-BBA5-4162-B181-86A634C4B628" name="GUID-7A7CC0B1-BBA5-4162-B181-86A634C4B628"></a><h4 id="DVADM-GUID-7A7CC0B1-BBA5-4162-B181-86A634C4B628" class="sect4">Oracle Enterprise Manager云控制数据库Vault管理员页面</h4>
                  <div>
                     <p>Oracle Database Vault默认预安装，可以轻松启用。</p>
                     <p>Oracle Database Vault管理与Oracle Enterprise Manager云控制完全集成，为安全管理员提供了简化的集中式界面来管理Oracle Database Vault。</p>
                     <p>在Oracle Enterprise Manager Cloud Control中，如果您希望使用图形用户界面配置Database Vault策略，并查看Database Vault警报和报告，则可以访问Oracle Database Vault管理员页面。Oracle Database Vault Administrator提供了大量与安全相关的报告，可帮助您了解基准安全配置。这些报告还有助于指出与此基线的偏差。</p>
                     <p>通过<a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-17665902-E9F9-479A-B60A-29853672BB2B" title="数据库管理员可以在Oracle Database Vault环境中执行操作，例如将Database Vault与Oracle Data Pump等产品一起使用。">Oracle Database Vault环境中的DBA操作</a> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="在开始使用Oracle Database Vault之前，必须将其注册到Oracle数据库。">开始使用Oracle Database Vault</a>说明如何使用Oracle Database Vault管理员页面配置在域，命令规则，因素，规则集，安全应用程序角色以及如何集成中定义的访问控制策略Oracle Database Vault与其他Oracle产品。<a href="monitoring-oracle-database-vault.html#GUID-EF26F67E-A410-4868-9B5C-5ABEA9B6BFAB" title="您可以通过检查对Database Vault配置的违规以及跟踪对策略的更改来监控Oracle Database Vault。">监控Oracle Database Vault</a>介绍了如何使用这些页面监控Database Vault活动，以及<a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault报告</a> ，解释了Oracle Database Vault报告。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" title="Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。">Oracle Database Vault的组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70110"></a><div class="props_rev_3"><a id="GUID-78C38076-42E7-463A-B111-214F6958A425" name="GUID-78C38076-42E7-463A-B111-214F6958A425"></a><h4 id="DVADM-GUID-78C38076-42E7-463A-B111-214F6958A425" class="sect4">Oracle Database Vault DVSYS和DVF架构</h4>
                  <div>
                     <p>Oracle Database Vault数据库对象和公共函数分别存储在<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>模式中。
                     </p>
                     <p>Oracle Database Vault提供了一个模式<code class="codeph">DVSYS</code> ，它存储处理Oracle Database Vault的Oracle数据所需的数据库对象。此架构包含Oracle Database Vault使用的角色，视图，帐户，功能和其他数据库对象。<code class="codeph">DVF</code>模式包含用于检索（在运行时）Oracle Database Vault访问控制配置中设置的因子值的公共函数。这两种模式都被认证为仅模式帐户。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault提供包含Database Vault对象的模式，为特定任务提供职责分离的角色以及默认用户帐户。">Oracle Database Vault架构，角色和帐户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" title="Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。">Oracle Database Vault的组件</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70111"></a><div class="props_rev_3"><a id="GUID-5E0744C3-4FF6-479F-9A35-928E080C3761" name="GUID-5E0744C3-4FF6-479F-9A35-928E080C3761"></a><h4 id="DVADM-GUID-5E0744C3-4FF6-479F-9A35-928E080C3761" class="sect4">Oracle Database Vault PL / SQL接口和包</h4>
                  <div>
                     <p>Oracle Database Vault为安全管理员或应用程序开发人员提供PL / SQL接口和程序包，以配置访问控制策略。</p>
                     <p>PL / SQL过程和函数允许通用数据库帐户在给定数据库会话的上下文中的访问控制策略的边界内操作。</p>
                     <p>见<a href="oracle-database-vault-realm-apis.html#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="DBMS_MACADM PL / SQL包使您可以配置Oracle Database Vault领域。">的Oracle Database Vault的境界的API</a>通过<a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">的Oracle Database Vault的API参考</a>以了解更多信息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" title="Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。">Oracle Database Vault的组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70113"></a><div class="props_rev_3"><a id="GUID-767CFFEB-DC67-41FB-BC97-79004F396830" name="GUID-767CFFEB-DC67-41FB-BC97-79004F396830"></a><h4 id="DVADM-GUID-767CFFEB-DC67-41FB-BC97-79004F396830" class="sect4">Oracle Database Vault报告和监视工具</h4>
                  <div>
                     <p>您可以生成有关Oracle Database Vault监控的各种活动的报告。</p>
                     <p>此外，您还可以监视策略更改，安全违规尝试以及数据库配置和结构更改。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault报告</a></li>
                           <li><a href="monitoring-oracle-database-vault.html#GUID-EF26F67E-A410-4868-9B5C-5ABEA9B6BFAB" title="您可以通过检查对Database Vault配置的违规以及跟踪对策略的更改来监控Oracle Database Vault。">监控Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-4374DE0A-FCE4-493E-88B6-72C55314A0AE" title="Oracle Database Vault具有一组包含PL / SQL包和其他特殊工具的组件。">Oracle Database Vault的组件</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM70115"></a><a id="DVADM70114"></a><div class="props_rev_3"><a id="GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1" name="GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1"></a><h3 id="DVADM-GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1" class="sect3">Oracle Database Vault如何解决合规性法规</h3>
               <div>
                  <p>监管合规带来的最大好处之一就是安全意识。</p>
                  <p>从历史上看，信息技术（IT）部门的重点一直是高可用性和高性能。对法规遵从性的关注要求每个人退一步，从安全角度审视其IT基础架构，数据库和应用程序。常见问题包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>敏感信息存储在哪里？</p>
                     </li>
                     <li>
                        <p>谁有权访问这些信息？</p>
                     </li>
                  </ul>
                  <p>“萨班斯 - 奥克斯利法案”，“健康保险流通与责任法案”（HIPAA），“国际资本计量融合与资本标准：经修订的框架（巴塞尔协议II）”，日本隐私法，支付卡行业数据安全标准（PCI DSS）等法规欧盟关于隐私和电子通信的指令有共同的主题，包括内部控制，职责分离和访问控制。</p>
                  <p>虽然萨班斯 - 奥克斯利法案和HIPAA等法规要求的大多数变更都是程序性的，但其余的可能需要技术投资。法规中的常见安全要求是严格的内部控制。Oracle Database Vault帮助组织实现合规性的程度因法规而异。通常，Oracle Database Vault领域，命令规则，因素和职责分离有助于降低全球监管规定所涉及的整体安全风险。</p>
                  <p><a href="introduction-to-oracle-database-vault.html#GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1__CEGIJJGB" title="法规和法规所涉及的安全威胁">表1-1</a>列出了解决潜在安全威胁的法规。
                  </p>
                  <div class="tblformal" id="GUID-63539E98-65E4-4BCB-A4E0-232E094FDCD1__CEGIJJGB">
                     <p class="titleintable">表1-1解决潜在安全威胁的法规</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="解决潜在安全威胁的法规" width="100%" border="1" summary="Regulations and the security threats the regulation addresses" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="48%" id="d6857e1689">规</th>
                              <th align="left" valign="bottom" width="52%" id="d6857e1692">潜在的安全威胁</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1697" headers="d6857e1689 ">
                                 <p>萨班斯 - 奥克斯利法案第302条</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1697 d6857e1692 ">
                                 <p>未经授权更改数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1704" headers="d6857e1689 ">
                                 <p>萨班斯 - 奥克斯利法案404条款</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1704 d6857e1692 ">
                                 <p>修改数据，未经授权的访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1711" headers="d6857e1689 ">
                                 <p>萨班斯 - 奥克斯利法案第409条</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1711 d6857e1692 ">
                                 <p>拒绝服务，未经授权的访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1718" headers="d6857e1689 ">
                                 <p>格雷姆 - 里奇 - 比利雷</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1718 d6857e1692 ">
                                 <p>未经授权的访问，修改或披露</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1725" headers="d6857e1689 ">
                                 <p>健康保险流通与责任法案（HIPAA）164.306</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1725 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1732" headers="d6857e1689 ">
                                 <p>HIPAA 164.312</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1732 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1739" headers="d6857e1689 ">
                                 <p>巴塞尔协议II  - 内部风险管理</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1739 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1746" headers="d6857e1689 ">
                                 <p>CFR第11部分</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1746 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1753" headers="d6857e1689 ">
                                 <p>日本隐私法</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1753 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1760" headers="d6857e1689 ">
                                 <p>欧盟关于隐私和电子通信的指令</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1760 d6857e1692 ">
                                 <p>未经授权的数据访问</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d6857e1767" headers="d6857e1689 ">
                                 <p>支付卡行业数据安全标准（PCI DSS）</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d6857e1767 d6857e1692 ">
                                 <p>未经授权更改数据</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70116"></a><div class="props_rev_3"><a id="GUID-3C080FE2-20B0-4F99-A350-9A8ADB6E5EA3" name="GUID-3C080FE2-20B0-4F99-A350-9A8ADB6E5EA3"></a><h3 id="DVADM-GUID-3C080FE2-20B0-4F99-A350-9A8ADB6E5EA3" class="sect3">Oracle Database Vault如何保护特权用户帐户</h3>
               <div>
                  <p>许多安全漏洞（包括外部和内部）都以特权用户数据库帐户为目标来窃取数据库中的数据。</p>
                  <p>Oracle Database Vault通过使用领域，因素和命令规则来防御受损的权限用户帐户攻击。这些组合提供了强大的安全工具，可帮助保护对数据库，应用程序和敏感信息的访问。您可以组合规则和因子来控制允许数据库中的命令执行的条件，以及控制对域保护的数据的访问。例如，您可以创建规则和因子，以根据IP地址，时间和特定程序控制对数据的访问。这些可以限制只访问那些通过这些条件的连接。这可以防止未经授权的应用程序未经授权访问应用程序数据和访问数据库。</p>
                  <p>Oracle Database Vault提供了内置因子，您可以将这些因素与规则结合使用，以控制对数据库，受域内受保护的应用程序和数据库中的命令的访问。</p>
                  <p>您可以将规则和因子与数据库中的许多SQL语句相关联，以在数据库中提供更强大的内部控制。您可以自定义这些内容以符合您网站的运营政策。例如，您可以定义规则以将<code class="codeph">ALTER SYSTEM</code>语句的执行限制为特定的IP地址和主机名。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70117"></a><div class="props_rev_3"><a id="GUID-A1EA989B-AABC-456C-BB21-6C9BC759E18F" name="GUID-A1EA989B-AABC-456C-BB21-6C9BC759E18F"></a><h3 id="DVADM-GUID-A1EA989B-AABC-456C-BB21-6C9BC759E18F" class="sect3">Oracle Database Vault如何实现灵活的安全策略</h3>
               <div>
                  <p>Oracle Database Vault可帮助您为数据库设计灵活的安全策略。</p>
                  <p>例如，具有<code class="codeph">DBA</code>角色的任何数据库用户都可以对<code class="codeph">DBA</code>中的基本参数进行修改。假设具有系统权限的缺乏经验的管理员决定启动新的重做日志文件，但没有意识到在特定时间这样做可能会导致数据库出现问题。使用Oracle Database Vault，您可以创建命令规则，以防止此用户通过限制他或她对<code class="codeph">ALTER SYSTEM SWITCH LOGFILE</code>语句的使用来进行此类修改。此外，您可以将规则集附加到命令规则以进一步限制活动，例如通过以下方式限制语句的执行：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>按时间（例如，仅在周五下午4点和下午5点）</p>
                     </li>
                     <li>
                        <p>仅通过本地访问，即不是远程访问</p>
                     </li>
                     <li>
                        <p>通过IP地址（例如，允许操作仅指定范围的IP地址）</p>
                     </li>
                  </ul>
                  <p>您可以自定义Oracle Database Vault职责分离，以满足任何规模的业务需求。例如，拥有专职IT人员和一些外包后端操作的大客户可以进一步微调职责分离，以控制外部数据库管理员可以执行的操作。对于一些用户处理多个职责的小型组织，可以调低职责分离，这些用户可以为每个职责创建单独的专用帐户。这有助于此类用户跟踪所做的所有操作，并防止入侵者利用受感染的特权数据库帐户窃取敏感数据。此外，它还有助于审核员验证合规性。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70119"></a><a id="DVADM70118"></a><div class="props_rev_3"><a id="GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6" name="GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6"></a><h3 id="DVADM-GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6" class="sect3">Oracle Database Vault如何解决数据库整合问题</h3>
               <div>
                  <p>整合和云环境可以降低成本，但可以将敏感的应用程序数据暴露给那些没有真正需要知道的人。</p>
                  <p>来自一个国家/地区的数据可能位于完全不同的国家/地区，但必须根据数据所属国家/地区的法规限制对该数据的访问。Oracle Database Vault控件通过阻止数据库管理员访问应用程序数据，为这些环境提供更高的安全性。此外，控件可用于帮助阻止应用程序绕过并强制实施从应用程序层到应用程序数据的可信路径。</p>
                  <p>Oracle Database Vault为安全管理提供了四种不同的职责分离控制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用默认Oracle数据库<code class="codeph">DBA</code>角色的日常数据库管理员任务</p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ADMIN</code>角色的安全管理员任务</p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">DV_ACCTMGR</code>角色的帐户管理员任务</p>
                     </li>
                     <li>
                        <p>由命名的受信任用户授予角色和特权</p>
                     </li>
                  </ul>
                  <p>可以自定义Oracle Database Vault职责分离控制，资源有限的组织可以将多个Oracle Database Vault职责分配给同一个管理员，但为每个职责分离使用单独的帐户，以最大限度地减少对数据库的损害，如果任何一个帐户是被盗和杠杆。</p>
                  <p>如今，Oracle客户仍然拥有数百甚至数千个分布在整个企业和全球各地的数据库。但是，为了使数据库整合成为未来几年的成本节约策略有效，分布式数据库体系结构提供的物理安全性必须在整合环境中可用。Oracle Database Vault解决了数据库整合的主要安全问题。</p>
                  <p><a href="introduction-to-oracle-database-vault.html#GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6__CEGHDDAJ">图1-2</a>说明了Oracle Database Vault如何解决以下数据库安全问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">管理特权帐户对应用程序数据的访问权限</span> ：在这种情况下，Oracle Database Vault会阻止数据库管理员访问受Finance领域保护的模式。尽管数据库管理员是功能最强大且最受信任的用户，但此管理员无需访问驻留在数据库中的应用程序数据。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">应用程序数据访问的职责分离</span> ：在这种情况下，在Oracle Database Vault中创建的HR领域所有者可以访问HR领域模式。
                        </p>
                     </li>
                  </ul>
                  <div class="figure" id="GUID-E7B545F0-3D89-4394-AD0E-E8A1CE37F5D6__CEGHDDAJ">
                     <p class="titleinfigure">图1-2 Oracle Database Vault安全性</p><img src="img/dvadm_vm_002.png" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/dvadm_vm_002.html"><br><a href="img_text/dvadm_vm_002.html">“图1-2 Oracle Database Vault安全性”的说明</a></div>
                  <!-- class="figure" -->
                  <p>数据库整合可以导致多个强大的用户帐户驻留在单个数据库中。这意味着除了整个数据库管理员之外，各个应用程序架构所有者也可能具有强大的权限。撤销某些权限可能会对现有应用程序产生负面影响使用Oracle Database Vault领域，您可以通过可信路径强制访问应用程序，从而防止未经特别授权访问的数据库用户使用强大的权限查看其他应用程序数据。例如，可以阻止具有<code class="codeph">SELECT ANY TABLE</code>系统特权的数据库管理员使用该特权来查看驻留在同一数据库中的其他应用程序数据。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71381"></a><a id="DVADM71131"></a><div class="props_rev_3"><a id="GUID-F4182518-DEFF-4433-9593-0D73315DF661" name="GUID-F4182518-DEFF-4433-9593-0D73315DF661"></a><h3 id="DVADM-GUID-F4182518-DEFF-4433-9593-0D73315DF661" class="sect3">Oracle Database Vault如何在多租户环境中运行</h3>
               <div>
                  <p>为了提高整合的安全性，您可以将Oracle Database Vault与Oracle Multitenant一起使用。</p>
                  <p>Oracle Database Vault可以阻止可插拔数据库（PDB）内的特权用户访问以及PDB与容器数据库中的公共特权用户之间的特权用户访问。每个PDB都有自己的Database Vault元数据，例如领域，规则集，命令规则，默认策略（例如默认域）等。此外， <code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>模式中的对象可自动用于任何子PDB。两种模式都是常见的用户模式。
                  </p>
                  <p>您只能在应用程序根目录中配置公共领域，但可以在应用程序根目录或CDB根目录中创建通用规则集和命令规则。应用程序根目录中的公共命令规则适用于其关联的PDB，CDB根目录中的公共命令规则适用于CDB环境中的所有PDB。通过创建通用领域和命令规则，您可以创建在整个CDB环境中使用共享领域，规则集或命令规则的策略，而不必为多租户环境中的每个PDB创建这些相同的组件。通用保护适用于与启用了Oracle Database Vault的应用程序根关联的所有PDB。</p>
                  <p>您可以为每个PDB创建单独的本地策略。使用Database Vault保护对象时，Database Vault会将公共对象的公共权限设置为与本地系统权限相同的强制规则。</p>
                  <p>配置启用了数据库保管库的PDB时， <code class="codeph">DVSYS</code>模式是存储在根目录中的公共用户模式。这意味着<code class="codeph">DVSYS</code>架构中的所有对象（表，数据字典视图，用户帐户，PL / SQL包，默认策略等）都受此架构可用的公共权限的约束。换句话说，您可以在根目录中创建领域，因子等，以保护根中的架构。在关联的PDB中配置Database Vault之前，请确保先在根目录中配置Database Vault。
                  </p>
                  <p>在CDB根目录中启用Oracle Database Vault时，可以选择常规模式或严格模式。设置根据您选择的设置在整个CDB中传播。例如，假设CDB包含启用了Database Vault的PDB和未启用Database Vault的PDB。如果使用常规模式启用Database Vault，则两种类型的PDB将继续正常运行。如果使用严格模式启用Database Vault，则禁用Database Vault的PDB将以受限模式运行。</p>
                  <p><a href="introduction-to-oracle-database-vault.html#GUID-F4182518-DEFF-4433-9593-0D73315DF661__CHDGHEHH">图1-3</a>说明了常规模式下的数据库如何允许对公共和本地数据库管理员进行不同访问，具体取决于是否启用了Database Vault。在这种情况下，普通用户和本地用户都无法访问PDB1和PDB2中的域。普通用户和PDB3本地用户都可以访问PDB3中的自定义应用程序应用程序，其中未启用Database Vault。
                  </p>
                  <div class="figure" id="GUID-F4182518-DEFF-4433-9593-0D73315DF661__CHDGHEHH">
                     <p class="titleinfigure">图1-3具有常规模式的多租户环境中的Oracle Database Vault</p><img src="img/dvadm_vm_005c.png" alt="下面是图1-3的描述" title="下面是图1-3的描述" longdesc="img_text/dvadm_vm_005c.html"><br><a href="img_text/dvadm_vm_005c.html">“图1-3具有常规模式的多租户环境中的Oracle Database Vault”的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-realms.html#GUID-72403156-3E91-43FD-8D06-859DBBC10568" title="在多租户环境中，您可以创建领域以保护应用程序根目录中的公共对象。">多租户环境中的领域</a></li>
                        <li><a href="configuring-rule-sets.html#GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" title="在多租户环境中，您可以在应用程序根目录中创建规则集及其关联规则。">多租户环境中的规则集和规则</a></li>
                        <li><a href="configuring-command-rules.html#GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" title="在多租户环境中，您可以在CDB根目录或应用程序根目录中创建公共和本地命令规则。">多租户环境中的命令规则</a></li>
                        <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-517E9611-546B-43D9-8C54-37037AF0B198" title="您可以将独立的Oracle Database Release 12c或更高版本的数据库转换为PDB，然后将此PDB插入CDB。">将独立Oracle数据库转换为PDB并将其插入CDB</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="introduction-to-oracle-database-vault.html#GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" title="Oracle Database Vault使您可以控制对数据的管理访问。">Oracle Database Vault简介</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="03526.CLST-01101.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CLST-01101至CLST-03203</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Error Messages"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Error Messages"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00"></meta>
      <meta name="dcterms.title" content="Database Error Messages"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95938-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CLSS-00001.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CLSU-00100.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CLSS-00001.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CLSU-00100.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库错误消息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CLST-01101至CLST-03203</li>
            </ol>
            <a id="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884" name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884"></a>
            
            <h2 id="ERRMG-GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884" class="sect2"><span class="enumeration_chapter">17</span> CLST-01101至CLST-03203</h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-5DE5728D-A5F3-4E46-803B-0D73C62A363B"><!-- --></a> CLST-01101：指定默认的专用互连名称<span class="variable" translate="no">string</span>为节点<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未指定专用互连名称。节点名称用作默认值。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证节点名称是否指私有互连上的IP地址。使用非专用网络可能会导致性能和稳定性问题。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A553DE82-AC95-4347-9D6D-BA2A54FD812D"><!-- --></a> CLST-01102：指定默认的主机名<span class="variable" translate="no">string</span>为节点<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未指定节点的主机名。节点名称用作默认值。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>如果节点名称不等于主机名，则必须将主机名提供给clscfg。如果不这样做，将导致Cluster Ready Services守护程序无法运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-11E2369A-F06C-4290-833C-A59F997CF3E4"><!-- --></a> CLST-01103：检测到现有配置版本（ <span class="variable" translate="no">string</span> ）</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>检测到现有配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。除非使用-force标志明确请求，否则clscfg不会修改现有配置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-F9938CB2-04A3-44A3-BFB8-D6BE58831085"><!-- --></a> CLST-01104：已成功确定所有组件的必需配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg能够确定正确的配置要求。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。 clscfg将尝试下一步编写配置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-6C34DBFD-BFCA-499D-8838-FBAE2FB195B1"><!-- --></a> CLST-01105：检测到现有配置。它没有被覆盖。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>检测到现有配置，clscfg选择不覆盖它。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>如果将此消息视为启动除第一个节点之外的任何节点的一部分，则可以忽略此消息。-force选项可用于覆盖此决策，但如果在存在活动集群成员时使用它，则可能会出现CLSS-0101故障和数据完整性问题。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-157F8D29-1094-40A2-A327-3031355D379F"><!-- --></a> CLST-01301：成功删除<span class="variable" translate="no">string</span>的<span class="variable" translate="no">string</span>配置值</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg完成了部分删除操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。如果某些值未被删除，则应显示另一条错误消息，其中包含更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-558D6FC4-D3F2-42B7-9DD1-27E900060C9D"><!-- --></a> CLST-01302：成功删除<span class="variable" translate="no">string</span>的<span class="variable" translate="no">string</span>配置键</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg完成了部分删除操作。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。如果某些密钥未被删除，则应显示另一条错误消息，其中包含更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-D6EF6E86-FE74-4EB7-8BBD-E3A6853809DC"><!-- --></a> CLST-01303：成功回滚删除操作</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除节点操作失败，但配置已正确恢复到其原始状态。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-ACB5B878-FB29-437C-A4D9-A17D5B8D26F5"><!-- --></a> CLST-01304：节点删除成功</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除节点操作成功。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-29758F2D-D867-43A1-8CD8-EC11A9CFE786"><!-- --></a> CLST-01401：格式化投票设备： <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg开始格式化投票设备。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-017B1B7D-0ACB-4F52-9DB6-A61E0E98EFDB"><!-- --></a> CLST-01501：尝试删除密钥<span class="variable" translate="no">string</span>但它不存在</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg尝试删除键作为删除操作的一部分，但它已被删除。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。这可能表示配置已损坏，或者之前的删除操作未完成。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A7E828AA-F2E5-4C04-9BCC-4D444767DF1E"><!-- --></a> CLST-01901：配置TCP端口<span class="variable" translate="no">string</span> ， <span class="variable" translate="no">string</span> ， <span class="variable" translate="no">string</span>和<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>指定的端口已配置为与Cluster Ready Services守护程序一起使用。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。要更改使用的端口，请使用“-t”指定4个备用端口。示例：-t 1001,1002,1003,1004</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-D0A20938-630F-4C87-A430-899CD0EC3BBA"><!-- --></a> CLST-01902：配置节点：节点号<span class="variable" translate="no">string</span> ，节点名称<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求了此节点配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。要更改节点列表，请重新运行安装并指定一组不同的节点，或在当前安装完成后使用添加和删除节点安装选项。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-618AA7CF-12C6-4CB2-8292-FFE16549CD80"><!-- --></a> CLST-01903：配置节点：主机名<span class="variable" translate="no">string</span> ，专用互连名称<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求了此节点配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。要更改节点列表，请重新运行安装并指定一组不同的节点，或在当前安装完成后使用添加和删除节点安装选项。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-CAFD9317-048D-440A-8443-FB8D7D2A2055"><!-- --></a> CLST-01904：使用用户（ <span class="variable" translate="no">string</span> ）和组（ <span class="variable" translate="no">string</span> ）创建配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>已使用指定的用户和组设置配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>仅提供信息性消息。无需任何操作。某些配置信息只能由指定组的成员访问。注意：在Windows平台上，该组可能为空。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-70F13793-AA8B-44AB-AA3E-90C4DDF9B343"><!-- --></a> CLST-01999：警告：-force指定。覆盖现有配置。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>提供了-force参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span> -force参数将导致clscfg覆盖现有配置。如果在群集就绪服务群集正在运行时使用，则可能导致不稳定和数据完整性暴露。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A81C5E2C-DFAE-4290-9142-9CEEB850A644"><!-- --></a> CLST-02101：指定了太多节点。 limit是<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在命令行上指定了太多节点。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用较少数量的同时更改重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-824BAEAF-1090-4706-8661-817B95DB42FD"><!-- --></a> CLST-02102：指定的节点<span class="variable" translate="no">string</span>超出范围。最大节点数是<span class="variable" translate="no">string</span> 。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>指定了节点编号超出范围的节点。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用较小的节点号重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-C04D5AD8-3A80-4D43-9C8E-89BDF9265C26"><!-- --></a> CLST-02103：无法解析指定的TCP端口选项。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> -t标志的参数不是有效的端口号，或者提供了除4个端口以外的一些数字。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>更正-t标志的参数并重新运行该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-3901A53D-6521-448A-A508-75E7FBB3F4F8"><!-- --></a> CLST-02104：TCP端口<span class="variable" translate="no">string</span>超出范围。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>指定的TCP端口不是有效的端口号。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定另一个端口。通常TCP端口需要介于1001和65,535之间。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-EE3C070D-4AC9-4000-8250-417EFE08AB36"><!-- --></a> CLST-02105：缺少必需参数-l和语言ID信息</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的操作需要-l参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用正确的语言ID提供-l参数。</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-921A3B9A-E637-4FCD-A7E8-2BF475078C31"><!-- --></a> CLST-02106：缺少必需参数-o和ORA_CRS_HOME的路径</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的操作需要-o参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用正确的路径提供-o参数。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-81D48333-0B5C-4ADF-A511-E5D8DA52C8F6"><!-- --></a> CLST-02107：配置组件<span class="variable" translate="no">string</span>失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>指定组件的Oracle Cluster Repository配置不成功。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>查找其他错误信息并联系Oracle支持。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-D5653F4C-81E3-4B9A-BC19-75886CF73477"><!-- --></a> CLST-02108：缺少必需参数-q和投票设备的路径</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的操作需要-q参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>为-q参数提供投票设备的有效路径。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-117E0D6A-724B-4358-9ABC-20F75ACAC541"><!-- --></a> CLST-02109：缺少必需参数-c和群集名称</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的操作需要-c参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>为-c参数提供集群的名称。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-0350781C-BF69-494F-AB58-915C0FDF53BC"><!-- --></a> CLST-02110：缺少必需参数-nn和节点名称列表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>请求的操作需要-nn参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供节点名称列表，格式为：nodenameA，nodenumA，nodenameB，nodenumB，...

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-0EE59C71-F215-406A-83A0-821A13997AC6"><!-- --></a> CLST-02201：节点<span class="variable" translate="no">string</span>已存在节点<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为添加节点操作指定的节点名称与现有配置冲突。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>选择要添加到群集的备用节点，或为新节点指定唯一名称，或删除上一个节点，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A81AA18D-4EBD-4F46-A54D-AB836AE8C325"><!-- --></a> CLST-02202：私有互连名称<span class="variable" translate="no">string</span>已分配给节点号<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为添加节点操作指定的专用互连名称与现有配置冲突。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>选择要添加到群集的备用节点，或为新节点指定唯一名称，或删除上一个节点，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-06E73F53-C22F-4C6C-ACBD-ACB749403D53"><!-- --></a> CLST-02203：主机名<span class="variable" translate="no">string</span>已分配给节点号<span class="variable" translate="no">string</span> 。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为添加节点操作指定的主机名与现有配置冲突。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>选择要添加到群集的备用节点，或为新节点指定唯一名称，或删除上一个节点，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-89767469-B488-4CD2-8282-1407B4CA0FE6"><!-- --></a> CLST-02204：节点编号<span class="variable" translate="no">string</span>已分配给节点<span class="variable" translate="no">string</span> 。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为添加节点操作指定的节点编号与现有配置冲突。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>选择要添加到群集的备用节点，或为新节点提供唯一的节点编号，或删除上一个节点，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-77F66709-381B-43CA-8EDE-A332F6144C14"><!-- --></a> CLST-02301：故障<span class="variable" translate="no">string</span>验证节点<span class="variable" translate="no">string</span>配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法验证指定节点的现有配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性，或选择要删除的其他节点。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-6AEF9908-E4EB-4CCA-A15F-634434A00AF8"><!-- --></a> CLST-02302：故障<span class="variable" translate="no">string</span>验证专用互连名称<span class="variable" translate="no">string</span>配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法验证指定节点的现有配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性，或选择要删除的其他节点。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-40C621CF-0B25-45BC-8E12-8C84AD1CBC1E"><!-- --></a> CLST-02303：故障<span class="variable" translate="no">string</span>验证具有主机名<span class="variable" translate="no">string</span>的节点的配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法验证指定节点的现有配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性，或选择要删除的其他节点。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A0491FC9-00EB-4B32-B636-02D4F982014D"><!-- --></a> CLST-02304：节点名称<span class="variable" translate="no">string</span>为节点<span class="variable" translate="no">string</span>不匹配现有的节点名<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除操作中指定的节点名称与现有配置不匹配。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定描述要删除的节点的正确信息，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-3CF70036-825C-4F5F-A301-C3D65DCAA692"><!-- --></a> CLST-02305：节点号<span class="variable" translate="no">string</span>节点<span class="variable" translate="no">string</span>不匹配现有的节点号<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除操作中指定的节点号与现有配置不匹配。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定描述要删除的节点的正确信息，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-DFAA8A0A-9FFD-4707-84C1-7A60A698D946"><!-- --></a> CLST-02306：专用互连名称<span class="variable" translate="no">string</span>为节点<span class="variable" translate="no">string</span>不匹配<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除操作中指定的专用互连名称与现有配置不匹配。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定描述要删除的节点的正确信息，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-1B4895DB-E914-475B-8EC6-F679D485E22A"><!-- --></a> CLST-02307：主机名<span class="variable" translate="no">string</span>为节点<span class="variable" translate="no">string</span>不匹配现有的主机名<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>删除操作中指定的主机名与现有配置不匹配。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定描述要删除的节点的正确信息，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-58B38A95-982A-4EF6-BA70-7699BA05807B"><!-- --></a> CLST-02308：删除密钥<span class="variable" translate="no">string</span>时怀疑并发节点删除</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>当前操作删除的密钥在打开删除和实际删除之间的少量时间内被另一个进程删除。可能已发生尝试执行多个单独的删除操作，并且可能已损坏配置。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证Oracle Cluster Repository的完整性，并在必要时从备份还原。如果群集上只有一个clscfg进程处于活动状态，则可以忽略该进程。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-EAFD432C-EE58-401C-B342-EA457C811BC8"><!-- --></a> CLST-02309：在节点删除时更新配置失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法修改节点删除的现有配置。现有配置可能没有受到伤害。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-737DA7D4-30C8-4AC4-85BB-BAC331E6F02B"><!-- --></a> CLST-02310：CSS守护程序拒绝删除节点，状态<span class="variable" translate="no">string</span> 。尝试回滚</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>群集同步服务守护程序拒绝删除节点。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>一个或多个指定节点可能仍处于活动状态。 clscfg现在将尝试回滚删除过程。在尝试从配置中删除群集就绪服务守护程序之前，必须先关闭它们。有关尝试被拒绝的原因的详细信息可以在Cluster Synchronization Service日志文件中找到。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-3CEB1727-82F0-4C73-832C-B69613EF103E"><!-- --></a> CLST-02311：故障回滚节点删除。配置无法恢复</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg尝试在失败后回滚删除过程，但无法执行此操作。配置已部分删除并保持不一致状态。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>关闭群集并从备份还原Oracle Cluster Repository。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-8090C230-692A-43A4-8913-073DCF727509"><!-- --></a> CLST-02312：无法完全删除节点配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>节点删除大部分成功，并且应该在此状态下正常运行。配置的某些部分未成功删除。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>这可以忽略。更安全的选择是从备份恢复Oracle Cluster Repository，并再次尝试删除。如果忽略此项，则将来将任何已删除的节点添加回配置可能会失败。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-9E3BC6F8-79B6-4A3C-9971-20A35592874B"><!-- --></a> CLST-02401：故障<span class="variable" translate="no">string</span>查询最大可配置节点号</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法确定节点编号的合法范围。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-FAE824A3-1E32-47DA-8061-5192E07CBC35"><!-- --></a> CLST-02402：故障<span class="variable" translate="no">string</span>查询现有配置的节点列表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法检索当前配置的节点列表。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-50FFC9FA-82FB-4FFD-90B4-6FAF0B8C08E3"><!-- --></a> CLST-02403：故障<span class="variable" translate="no">string</span>查询最大节点名称大小</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法确定最大节点名称的大小。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-849B5741-40CA-4D65-8803-14729C324944"><!-- --></a> CLST-02404：故障<span class="variable" translate="no">string</span>查询群集名称</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法确定现有的群集名称。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证本地节点上的Cluster Ready Services安装的完整性。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-2096DB84-49E1-4AF4-957E-AA1B81EA1D5F"><!-- --></a> CLST-02405：在[ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ]格式化投票设备（ <span class="variable" translate="no">string</span> ）失败</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法格式化投票设备。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证在投票设备上设置的路径和权限。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-0D54D607-C753-4888-B649-0F32770AFD98"><!-- --></a> CLST-02501：写入操作的失败<span class="variable" translate="no">string</span>打开配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg尝试打开当前配置以进行写访问。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证Oracle Cluster Repository的完整性。如有必要，关闭群集并从备份中恢复OCR。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-03A34D56-9FC1-4239-B32B-A02148257F2A"><!-- --></a> CLST-02502：写入新配置的失败<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg正在尝试编写新的配置数据。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证Oracle Cluster Repository的完整性。如有必要，关闭群集并从备份中恢复OCR。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-26B2FDBC-B239-4596-B0F6-26F909DEEA02"><!-- --></a> CLST-02503：删除操作的失败<span class="variable" translate="no">string</span>打开配置</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg在尝试删除部分现有配置时收到错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证Oracle Cluster Repository的完整性。如有必要，关闭群集并从备份中恢复OCR。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-E3F8DD9F-3D85-4B80-8003-D257F4204FA9"><!-- --></a> CLST-02504：将配置写入磁盘的故障<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg收到将信息写入Oracle Cluster Repository的失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证Oracle Cluster Repository的设置并重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-DC01C34E-166B-4C76-9301-7659DBDCA75B"><!-- --></a> CLST-02901：Oracle Cluster Repository密钥的数量超出了<span class="variable" translate="no">string</span>限制。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg在安装期间用完了内部空间的密钥。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重新运行安装并指定较小的节点列表。完成后，使用“添加节点”选项添加其余节点。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-75DC4057-B172-4B5D-A5FF-1C01EC009CA7"><!-- --></a> CLST-02902：Oracle Cluster Repository密钥的数量超出了<span class="variable" translate="no">string</span>限制。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在删除节点期间，clscfg用尽了键的内部空间。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重新运行删除节点操作并一次删除较少的节点。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-420B7543-0023-48B6-BBCA-C3A3C92A5001"><!-- --></a> CLST-02903：无法在location： <span class="variable" translate="no">string</span>处分配内存的<span class="variable" translate="no">string</span>字节</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法分配足够的内存来为请求提供服务。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保指定的内存量可用，然后重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-14BE4DAD-8091-4735-AC0E-3548C07E354A"><!-- --></a> CLST-02904：失败<span class="variable" translate="no">string</span>在SCLS API <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法查询有关系统设置的信息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：请</span>与Oracle支持部门联系，并在此消息之后打印其他信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-176D4BEB-FD11-4181-83BF-D46ED9EE6644"><!-- --></a> CLST-02905：添加，安装，删除，概念和本地是互斥的</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg使用两个不同的模式标志运行。所有模式标志都是互斥的。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>更正命令行，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-4E3BF3C6-8914-477B-BD5A-20970934C389"><!-- --></a> CLST-02906：群集名称应为1和2之间<span class="variable" translate="no">string</span>字母。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> -c参数提供的群集名称大小错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供适当长度的备用群集名称。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-027E00AC-E78D-4DA4-82EF-0AD42220C396"><!-- --></a> CLST-02907：提供的未知参数<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未知参数传递给clscfg。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用“clscfg -help”或“clscfg -concepts”获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-A1890246-4F43-406F-9299-A98A2E3396D2"><!-- --></a> CLST-02908：无法确定本地主机名</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法确定本地主机名。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>验证操作系统主机名配置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-7B893690-59BB-4DAB-80EE-1558D891FF45"><!-- --></a> CLST-02909：请求的操作需要高可用性权限。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>当前用户没有高可用性权限。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>以其他用户身份登录并重试该操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-C080CFF3-10F0-48F9-8FD0-D339760A3152"><!-- --></a> CLST-02910：与CRS守护程序联系的失败<span class="variable" translate="no">string</span> 。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法与CRS守护程序通信。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>必须从活动的群集节点执行所请求的操作。验证本地计算机上的预先存在的安装，或从另一个节点执行操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-04923FFE-6487-40F8-A13C-4450995D7C43"><!-- --></a> CLST-02911：联系CSS守护程序的失败<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> clscfg无法与CSS守护程序通信。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>必须从活动的群集节点执行所请求的操作。验证本地计算机上的预先存在的安装，或从另一个节点执行操作。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-FFA1E1CD-48AC-4D2A-B515-B3FB9E7E3678"><!-- --></a> CLST-02999：未翻译失败：[ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未发生翻译的故障。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle客户支持以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-1DB3C411-5B4E-4BE0-BFF3-DD32777B9810"><!-- --></a> CLST-03100：有关使用信息，请参阅文档。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>向crsuser传递了不正确或不充分的参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>阅读文档以获取有关如何使用此工具的说明。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-6BDF35D4-BE84-48C2-9CCA-52F4805299ED"><!-- --></a> CLST-03101：输入用户<span class="variable" translate="no">string</span>的密码。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> crsuser需要密码才能注册用户。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>输入所需的密码。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-23E3F10A-7EF3-494D-B6BB-B412831DE3F6"><!-- --></a> CLST-03102：操作成功。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>操作成功。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">行动：</span>没有</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-306DD7F3-BD83-4D33-9E74-818DC634F9F4"><!-- --></a> CLST-03200：内部错误：[ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未发生翻译的故障。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>联系Oracle客户支持以获取更多信息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-2647558A-AB06-4E08-ACA8-33DD63F3BB34"><!-- --></a> CLST-03201：意外参数： <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> crsuser无法解析参数，或者传递了未知参数。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供正确的参数，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-462D353B-5092-4087-A37C-F27E36C7A5D4"><!-- --></a> CLST-03202： <span class="variable" translate="no">string</span>字节的内存分配失败。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> crsuser无法分配内存。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>释放一些系统内存，然后重试。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-B950AAC4-0015-436F-ADF7-4E20A6D4E884__GUID-E0BAFB88-672A-4FEB-99D3-D088CD974F6B"><!-- --></a> CLST-03203：操作权限不足： <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>当前用户没有足够的权限。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>以其他用户身份登录，然后重试。

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id="01104.DBMS_SPD.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_SPD package provides subprograms for managing SQL plan directives (SPD)."></meta>
      <meta name="description" content="The DBMS_SPD package provides subprograms for managing SQL plan directives (SPD)."></meta>
      <title>DBMS_SPD</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_SPD package provides subprograms for managing SQL plan directives (SPD)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SPACE_ADMIN.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_SPM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SPACE_ADMIN.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_SPM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SPD</li>
            </ol>
            <a id="GUID-E242EA74-6311-4A25-A92D-D47D374BC156" name="GUID-E242EA74-6311-4A25-A92D-D47D374BC156"></a><a id="ARPLS73856"></a><a id="ARPLS73856"></a>
            
            <h2 id="ARPLS-GUID-E242EA74-6311-4A25-A92D-D47D374BC156" class="sect2"><span class="enumeration_chapter">154</span> DBMS_SPD</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_SPD</code>包提供了用于管理SQL计划指令（SPD）的子程序。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_SPD.html#GUID-530C3266-4293-45BA-8104-E18B0B9F006C" title="该包提供了用于管理SQL计划指令（SPD）的子程序。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPD.html#GUID-F404296A-B523-43ED-A455-E096D90F9B99" title="DBMS_SPD是一个调用者权限包。调用者需要ADMINISTER SQL MANAGEMENT OBJECT权限才能执行此程序包中的大多数子程序。此外，子程序提交当前事务（如果有），执行操作，然后再次提交。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPD.html#GUID-1A8933D3-1284-4C8C-80B5-27E8D0DC25A8" title="DBA视图DBA_SQL_PLAN_DIRECTIVES显示在系统中创建的所有指令，并且视图DBA_SQL_PLAN_DIR_OBJECTS显示指令中包含的对象。">查看</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPD.html#GUID-7B2FFAD2-1983-4829-8673-0B37F98183B0" title="该表列出并简要描述了DBMS_SPD包子程序。">DBMS_SPD子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-E242EA74-6311-4A25-A92D-D47D374BC156__GUID-9A2D3F9B-6342-4E95-8D57-D91EEF6836FC">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_STATS.html#GUID-01FAB8ED-E4A3-4C3E-8FE2-88717DCDDA06" title="使用DBMS_STATS包，您可以查看和修改为数据库对象收集的优化程序统计信息。">DBMS_STATS</a></p>
                     </li>
                     <li>
                        <p>有关SQL计划指令的<a href="../tgsql/optimizer-statistics-concepts.html#TGSQL347" target="_blank"><span class="italic">Oracle数据库SQL调整指南</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS73858"></a><a id="ARPLS73858"></a><div class="props_rev_3"><a id="GUID-530C3266-4293-45BA-8104-E18B0B9F006C" name="GUID-530C3266-4293-45BA-8104-E18B0B9F006C"></a><h3 id="ARPLS-GUID-530C3266-4293-45BA-8104-E18B0B9F006C" class="sect3"><span class="enumeration_section">154.1</span> DBMS_SPD概述</h3>
               <div>
                  <p>该包提供了用于管理SQL计划指令（SPD）的子程序。</p>
                  <div class="section">
                     <p>SPD是Oracle自动生成的对象。例如，如果Oracle检测到优化程序估计的单表基数与访问表时返回的实际行数不同，则会自动创建指令以对表执行动态统计。当编译引用该表的任何SQL语句时，优化器将对表执行动态统计，以获得更准确的估计。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73859"></a><a id="ARPLS73859"></a><div class="props_rev_3"><a id="GUID-F404296A-B523-43ED-A455-E096D90F9B99" name="GUID-F404296A-B523-43ED-A455-E096D90F9B99"></a><h3 id="ARPLS-GUID-F404296A-B523-43ED-A455-E096D90F9B99" class="sect3"><span class="enumeration_section">154.2</span> DBMS_SPD安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_SPD</code>是一个调用者权限包。调用者需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限才能执行此程序包中的大多数子程序。此外，子程序提交当前事务（如果有），执行操作，然后再次提交。
                  </p>
               </div>
            </div><a id="ARPLS73860"></a><a id="ARPLS73860"></a><div class="props_rev_3"><a id="GUID-1A8933D3-1284-4C8C-80B5-27E8D0DC25A8" name="GUID-1A8933D3-1284-4C8C-80B5-27E8D0DC25A8"></a><h3 id="ARPLS-GUID-1A8933D3-1284-4C8C-80B5-27E8D0DC25A8" class="sect3"><span class="enumeration_section">154.3</span> DBMS_SPD视图</h3>
               <div>
                  <p>DBA视图<code class="codeph">DBA_SQL_PLAN_DIRECTIVES</code>显示在系统中创建的所有指令，并且视图<code class="codeph">DBA_SQL_PLAN_DIR_OBJECTS</code>显示指令中包含的对象。
                  </p>
               </div>
            </div><a id="ARPLS73861"></a><a id="ARPLS73862"></a><a id="ARPLS73862"></a><a id="ARPLS73861"></a><div class="props_rev_3"><a id="GUID-7B2FFAD2-1983-4829-8673-0B37F98183B0" name="GUID-7B2FFAD2-1983-4829-8673-0B37F98183B0"></a><h3 id="ARPLS-GUID-7B2FFAD2-1983-4829-8673-0B37F98183B0" class="sect3"><span class="enumeration_section">154.4</span> DBMS_SPD子程序摘要</h3>
               <div>
                  <p>该表列出并简要描述了<code class="codeph">DBMS_SPD</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-7B2FFAD2-1983-4829-8673-0B37F98183B0__GUID-524457DC-AF4B-4126-BDA6-CFAA20102D9A">
                     <p class="titleintable">表154-1 DBMS_SPD包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SPD包子程序" width="100%" border="1" summary="This table lists and briefly describes the DBMS_SPD package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d856291e530">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d856291e533">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e538" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-94E0A914-C274-4A4D-95E8-450F653997A7" title="此过程更改SQL计划指令的不同属性。">ALTER_SQL_PLAN_DIRECTIVE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e538 d856291e533 ">
                                 <p>更改SQL计划指令的不同属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e550" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7" title="此过程创建一个临时表，用于打包（导出）SQL计划指令。">CREATE_STGTAB_DIRECTIVE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e550 d856291e533 ">
                                 <p>创建一个临时表，用于打包（导出）SQL计划指令。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e562" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-037F484B-3ACA-4B8D-8062-666C56F79501" title="此过程将删除SQL计划指令。">DROP_SQL_PLAN_DIRECTIVE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e562 d856291e533 ">
                                 <p>删除SQL计划指令</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e574" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-7C43374C-698E-4E90-8413-C09DF597102E" title="此过程允许手动刷新在执行SQL语句时自动记录在SGA内存中的SQL计划指令。">FLUSH_SQL_PLAN_DIRECTIVE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e574 d856291e533 ">
                                 <p>允许手动刷新在执行SQL语句时自动记录在SGA内存中的SQL计划指令。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e586" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92" title="此函数返回SQL计划指令的指定首选项的值。">GET_PREFS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e586 d856291e533 ">
                                 <p>获取SQL计划指令的首选项的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e598" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC" title="此函数将SQL计划指令打包（导出）到临时表中。">PACK_STGTAB_DIRECTIVE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e598 d856291e533 ">
                                 <p>将SQL计划指令打包（导出）到临时表中。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e610" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-E916B860-4C33-4B0E-814B-594E849631D5" title="此过程允许为SQL计划指令设置不同的首选项。">SET_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e610 d856291e533 ">
                                 <p>允许为SQL计划指令设置不同的首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d856291e622" headers="d856291e530 ">
                                 <p><a href="DBMS_SPD.html#GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA" title="此过程从临时表中解压缩（导入）SQL计划指令。">UNPACK_STGTAB_DIRECTIVE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d856291e622 d856291e533 ">
                                 <p>从登台表解包（导入）SQL计划指令。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73863"></a><a id="ARPLS73864"></a><a id="ARPLS73864"></a><a id="ARPLS73863"></a><div class="props_rev_3"><a id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7" name="GUID-94E0A914-C274-4A4D-95E8-450F653997A7"></a><h4 id="ARPLS-GUID-94E0A914-C274-4A4D-95E8-450F653997A7" class="sect4"><span class="enumeration_section">154.4.1</span> ALTER_SQL_PLAN_DIRECTIVE过程</h4>
                  <div>
                     <p>此过程更改SQL计划指令的不同属性。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-B1888085-137C-4B5C-91CC-1F5E864AFEC5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.ALTER_SQL_PLAN_DIRECTIVE（directive_id IN NUMBER，attribute_name IN VARCHAR2，attribute_value IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-3E400D1B-4B85-43B0-A2C4-EF1C283B539D">参数</p>
                        <div class="tblformal" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-EBA2AD3D-5C46-4E5A-9DE8-B32BB552C992">
                           <p class="titleintable">表154-2 <span class="italic"><span class="bold">ALTER_SQL_PLAN_DIRECTIVE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_SQL_PLAN_DIRECTIVE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.ALTER_SQL_PLAN_DIRECTIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e745">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e748">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e753" headers="d856291e745 ">
                                       <p><code class="codeph">directive_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e753 d856291e748 ">
                                       <p>SQL计划指令ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e761" headers="d856291e745 ">
                                       <p><code class="codeph">ATTRIBUTE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e761 d856291e748 ">
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">启用</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_DROP</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e776" headers="d856291e745 ">
                                       <p><code class="codeph">ATTRIBUTE_VALUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e776 d856291e748 ">
                                       <p>可能的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">启动：</code></p>
                                             <p>- 如果启用了<code class="codeph">YES</code>指令并且可以使用</p>
                                             <p>- 如果未启用<code class="codeph">NO</code>指令且不会使用</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_DROP</code> ：</p>
                                             <p>- 如果未用于<code class="codeph">SPD_RETENTION_WEEKS</code> ， <code class="codeph">SPD_RETENTION_WEEKS</code>自动删除<code class="codeph">YES</code>指令。这是默认行为。
                                             </p>
                                             <p>- 如果<code class="codeph">NO</code>指令不会自动删除</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-E9ACDF44-63C3-452E-A4FC-3BA2E7F3DF41">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-13158 OBJECT_DOES_NOT_EXIST</code> ：指定的对象不存在。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-4B6B23FF-0D58-4D59-8678-D313274A63E2">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94E0A914-C274-4A4D-95E8-450F653997A7__GUID-7E5D8961-D39F-4520-AE17-5F10CD1EA641">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SPD.ALTER_SQL_PLAN_DIRECTIVE（12345，'STATE'，'PERMANENT'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74423"></a><a id="ARPLS74424"></a><a id="ARPLS74424"></a><a id="ARPLS74423"></a><div class="props_rev_3"><a id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7" name="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7"></a><h4 id="ARPLS-GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7" class="sect4"><span class="enumeration_section">154.4.2</span> CREATE_STGTAB_DIRECTIVE过程</h4>
                  <div>
                     <p>此过程创建一个临时表，用于打包（导出）SQL计划指令。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7__GUID-4927AFD4-C81E-43EA-AF5E-C64B5E7C54EB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.CREATE_STGTAB_DIRECTIVE（table_name IN VARCHAR2，table_owner IN VARCHAR2：= USER，tablespace_name IN VARCHAR2：= NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7__GUID-156B5876-8B2E-40F4-8804-8365A239AC39">参数</p>
                        <div class="tblformal" id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7__GUID-421D8763-654D-4E91-BCA4-44BC606AE5C0">
                           <p class="titleintable">表154-3 <span class="italic"><span class="bold">CREATE_STGTAB_DIRECTIVE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_STGTAB_DIRECTIVE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.CREATE_STGTAB_DIRECTIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e961">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e964">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e969" headers="d856291e961 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e969 d856291e964 ">
                                       <p>登台表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e977" headers="d856291e961 ">
                                       <p><code class="codeph">TABLE_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e977 d856291e964 ">
                                       <p>登台表的模式所有者的名称。默认为当前架构。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e985" headers="d856291e961 ">
                                       <p><code class="codeph">TABLESPACE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e985 d856291e964 ">
                                       <p>表空间的名称。默认<code class="codeph">NULL</code>表示在默认表空间中创建临时表：</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7__GUID-8FE5A09B-F8EE-453A-8CB2-9C2CAA6FC352">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-44001 INVALID_SCHEMA</code> ：输入模式不存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-13159 TABLE_ALREADY_EXISTS</code> ：指定的表已存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-29304 TABLESPACE_MISSING</code> ：指定的表空间不存在。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4E55C58-12A2-4542-B6F0-A8C9E8E7B5A7__GUID-F37AE8B4-243B-45B3-B63D-605316691550">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73865"></a><a id="ARPLS73866"></a><a id="ARPLS73866"></a><a id="ARPLS73865"></a><div class="props_rev_3"><a id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501" name="GUID-037F484B-3ACA-4B8D-8062-666C56F79501"></a><h4 id="ARPLS-GUID-037F484B-3ACA-4B8D-8062-666C56F79501" class="sect4"><span class="enumeration_section">154.4.3</span> DROP_SQL_PLAN_DIRECTIVE过程</h4>
                  <div>
                     <p>此过程将删除SQL计划指令。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-277D9576-2522-4524-81E5-BD2B63AC6990">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.DROP_SQL_PLAN_DIRECTIVE（指令ID为NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-EBA0A102-949D-4257-BDC4-AC170C26D874">参数</p>
                        <div class="tblformal" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-159B9AF3-160B-478A-AB76-514A6B16F2D5">
                           <p class="titleintable">表154-4 <span class="italic"><span class="bold">DROP_SQL_PLAN_DIRECTIVE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_SQL_PLAN_DIRECTIVE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.DROP_SQL_PLAN_DIRECTIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e1144">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e1147">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1152" headers="d856291e1144 ">
                                       <p><code class="codeph">directive_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1152 d856291e1147 ">
                                       <p>SQL计划指令ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-C91B66DC-8EA4-466E-A41A-B4D10504F4A5">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-13158 OBJECT_DOES_NOT_EXIST</code> ：指定的对象不存在。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-B146D7D0-2403-4B5D-8F7A-9A5E76D690C3">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-037F484B-3ACA-4B8D-8062-666C56F79501__GUID-FB103A2A-4B14-431C-A7C1-A47CEAF455B8">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SPD.DROP_SQL_PLAN_DIRECTIVE（12345）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74425"></a><a id="ARPLS74425"></a><div class="props_rev_3"><a id="GUID-7C43374C-698E-4E90-8413-C09DF597102E" name="GUID-7C43374C-698E-4E90-8413-C09DF597102E"></a><h4 id="ARPLS-GUID-7C43374C-698E-4E90-8413-C09DF597102E" class="sect4"><span class="enumeration_section">154.4.4</span> FLUSH_SQL_PLAN_DIRECTIVE过程</h4>
                  <div>
                     <p>此过程允许手动刷新在执行SQL语句时自动记录在SGA内存中的SQL计划指令。</p>
                     <div class="section">
                        <p>记录在SGA中的信息由Oracle后台进程定期刷新。此过程提供了一种手动刷新信息的方法。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C43374C-698E-4E90-8413-C09DF597102E__GUID-3988239F-9B59-4CB1-AFAE-6FFB3E8274B4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.FLUSH_SQL_PLAN_DIRECTIVE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C43374C-698E-4E90-8413-C09DF597102E__GUID-676F91AB-05ED-478B-ABF6-0FC5AB790B03">例外</p>
                        <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C43374C-698E-4E90-8413-C09DF597102E__GUID-64AE2383-C9A1-41CA-BE31-9A314611F632">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C43374C-698E-4E90-8413-C09DF597102E__GUID-DAFCA880-31B3-4699-9127-F9EE8487C5A6">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SPD.FLUSH_SQL_PLAN_DIRECTIVE;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74426"></a><a id="ARPLS74427"></a><a id="ARPLS74427"></a><a id="ARPLS74426"></a><div class="props_rev_3"><a id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92" name="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92"></a><h4 id="ARPLS-GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92" class="sect4"><span class="enumeration_section">154.4.5</span> GET_PREFS函数</h4>
                  <div>
                     <p>此函数返回SQL计划指令的指定首选项的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-7E19D736-2254-4284-B360-6AF9BF5E7CB5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.GET_PREFS（pname IN VARCHAR2）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-9CE078EA-04B9-4BD5-89C7-D4CC3B9C4E44">参数</p>
                        <div class="tblformal" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-E61B769C-F174-48CF-9B17-390DA6CE20DE">
                           <p class="titleintable">表154-5 <span class="italic"><span class="bold">GET_PREFS函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_PREFS函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.GET_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e1422">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e1425">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1430" headers="d856291e1422 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1430 d856291e1425 ">
                                       <p>偏好名称。该过程支持首选项<code class="codeph">SPD_RETENTION_WEEKS</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-CB5A67F5-E0B3-407E-AAE4-E6AEE5A7EFA3">返回值</p>
                        <p>偏好值</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-0A12B198-EA16-4FA6-A0F8-7D3A5ED76503">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-0BEE0B6B-11F8-4F22-823A-C79E970A173E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SPD_RETENTION_WEEKS</code> - 如果不使用超过为此首选项设置的值，则清除SQL计划指令。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4165996-5B72-4C63-BCF3-66BA431E0E92__GUID-7882E18B-7BC1-4BD2-AB37-872ECA08F9D1">例子</p><pre class="oac_no_warn" dir="ltr">SELECT DBMS_SPD.GET_PREFS（'SPD_RETENTION_WEEKS'）FROM DUAL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74428"></a><a id="ARPLS74429"></a><a id="ARPLS74429"></a><a id="ARPLS74428"></a><div class="props_rev_3"><a id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC" name="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC"></a><h4 id="ARPLS-GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC" class="sect4"><span class="enumeration_section">154.4.6</span> PACK_STGTAB_DIRECTIVE函数</h4>
                  <div>
                     <p>此函数将SQL计划指令打包（导出）到临时表中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-412C1FE6-829D-43AF-BA9D-4D4942313367">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.PACK_STGTAB_DIRECTIVE（table_name IN VARCHAR2，table_owner IN VARCHAR2：= USER directive_id IN NUMBER：= NULL，obj_list IN OBJECTTAB：= NULL）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-EE4C47DA-0ED7-4EC1-81B4-3F1611C909DF">参数</p>
                        <div class="tblformal" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-657D2947-0CB9-4829-B095-A63F2638FB23">
                           <p class="titleintable">表154-6 <span class="italic"><span class="bold">PACK_STGTAB_DIRECTIVE函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PACK_STGTAB_DIRECTIVE函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.PACK_STGTAB_DIRECTIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e1591">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e1594">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1599" headers="d856291e1591 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1599 d856291e1594 ">
                                       <p>登台表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1607" headers="d856291e1591 ">
                                       <p><code class="codeph">TABLE_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1607 d856291e1594 ">
                                       <p>登台表的模式所有者的名称。默认为当前架构。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1615" headers="d856291e1591 ">
                                       <p><code class="codeph">directive_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1615 d856291e1594 ">
                                       <p>SQL计划指令ID。默认值<code class="codeph">NULL</code>表示系统中的所有指令。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1626" headers="d856291e1591 ">
                                       <p><code class="codeph">OBJ_LIST</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1626 d856291e1594 ">
                                       <p>用于根据指令中使用的对象过滤要打包的指令。如果<code class="codeph">obj_list</code>不为<code class="codeph">NULL</code> ，则只有当指令中的所有对象都存在于<code class="codeph">obj_list</code>才会打包指令。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-DD7D716C-3746-45D6-8130-D79AE85A0BEE">返回值</p>
                        <p>打包的SQL计划指令数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-FB1A8AC4-E6EF-4EBE-9A87-AE164657F823">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-44001 INVALID_SCHEMA</code> ：输入模式不存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-29304 INVALID_STGTAB</code> ：指定的临时表无效或不存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-13158 OBJECT_DOES_NOT_EXIST</code> ：指定的对象不存在。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-3F0899E4-5E08-400A-96BB-D06D61B52D31">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-962112CA-3E7B-4C18-934E-9CDEFFD63FBC__GUID-3248CEE0-FEEF-459D-AB7E-1C8353AB810F">例子</p><pre class="oac_no_warn" dir="ltr">- 在系统中包装所有指令SELECT DBMS_SPD.PACK_STGTAB_DIRECTIVE（'mydirtab'）FROM DUAL; SET SERVEROUTPUT ON; - 与SH模式中的对象相关的包指令DECLARE my_list DBMS_SPD.OBJECTTAB：= DBMS_SPD.ObjectTab（）; dir_cnt NUMBER; BEGIN my_list.extend（1）; my_list（1）.owner：='SH'; - 模式名称my_list（1）.object_name：= NULL; -  SH my_list中的所有表（1）.object_type：='TABLE'; - 对象类型dir_cnt：= DBMS_SPD.PACK_STGTAB_DIRECTIVE（'mydirtab'，obj_list =&gt; my_list）; DBMS_OUTPUT.PUT_LINE（'dir_cnt ='|| dir_cnt）;结束; - 与SH模式中的表SALES和CUSTOMERS相关的包指令DECLARE my_list DBMS_SPD.OBJECTTAB：= DBMS_SPD.ObjectTab（）; dir_cnt NUMBER; BEGIN my_list.extend（2）; -  SALES表my_list（1）.owner：='SH'; my_list（1）.object_name：='SALES'; my_list（1）.object_type：='TABLE'; -  CUSTOMERS表my_list（2）.owner：='SH'; my_list（2）.object_name：='CUSTOMERS'; my_list（2）.object_type：='TABLE'; dir_cnt：= DBMS_SPD.PACK_STGTAB_DIRECTIVE（'mydirtab'，obj_list =&gt; my_list）; DBMS_OUTPUT.PUT_LINE（'dir_cnt ='|| dir_cnt）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74430"></a><a id="ARPLS74431"></a><a id="ARPLS74431"></a><a id="ARPLS74430"></a><div class="props_rev_3"><a id="GUID-E916B860-4C33-4B0E-814B-594E849631D5" name="GUID-E916B860-4C33-4B0E-814B-594E849631D5"></a><h4 id="ARPLS-GUID-E916B860-4C33-4B0E-814B-594E849631D5" class="sect4"><span class="enumeration_section">154.4.7</span> SET_PREFS过程</h4>
                  <div>
                     <p>此过程允许为SQL计划指令设置不同的首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-DD1E87FD-D97A-47BE-BC89-B50D7082D698">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.SET_PREFS（pname IN VARCHAR2，pvalue IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-2118E14E-A916-4084-8A5B-025595876D3E">参数</p>
                        <div class="tblformal" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-5D6B344A-BCF4-4D37-8724-1D7DB3E6D922">
                           <p class="titleintable">表154-7 <span class="italic"><span class="bold">SET_PREFS过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_PREFS过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.SET_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e1801">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e1804">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1809" headers="d856291e1801 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1809 d856291e1804 ">
                                       <p>偏好名称。该过程支持首选项<code class="codeph">SPD_RETENTION_WEEKS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1820" headers="d856291e1801 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1820 d856291e1804 ">
                                       <p>偏好值。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>SPD_RETENTION_WEEKS：如果SQL计划指令的使用不超过为此首选项设置的值，则会清除它们。默认值为53（ <code class="codeph">SPD_RETENTION_WEEKS_DEFAULT</code> ）周，这意味着如果指令在一年多的时间内未使用，则清除该指令。它可以设置为大于或等于0的任何值。也可以传递值<code class="codeph">NULL</code>以将首选项设置为默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-2FCD3D2D-E7C6-4C9D-97DA-2C130D496345">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-B4FC59C6-338F-4082-9F8F-50877510A033">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SPD_RETENTION_WEEKS</code> - 如果不使用超过为此首选项设置的值，则清除SQL计划指令。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E916B860-4C33-4B0E-814B-594E849631D5__GUID-BD523917-E831-4D2A-8C36-6514FF43863A">例子</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SPD.SET_PREFS（'SPD_RETENTION_WEEKS'，'4'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74432"></a><a id="ARPLS74433"></a><a id="ARPLS74433"></a><a id="ARPLS74432"></a><div class="props_rev_3"><a id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA" name="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA"></a><h4 id="ARPLS-GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA" class="sect4"><span class="enumeration_section">154.4.8</span> UNPACK_STGTAB_DIRECTIVE函数</h4>
                  <div>
                     <p>此过程从临时表中解压缩（导入）SQL计划指令。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-9C20EA26-E3D4-4362-9550-9DF5157A4C3E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SPD.UNPACK_STGTAB_DIRECTIVE（table_name IN VARCHAR2，table_owner IN VARCHAR2：= USER，directive_id IN NUMBER：= NULL，obj_list IN OBJECTTAB：= NULL）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-CE4DE0B5-8957-4158-9157-F1CF3B8E57F7">参数</p>
                        <div class="tblformal" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-B9854FA6-0425-436A-A82B-64BC1FAA287B">
                           <p class="titleintable">表154-8 <span class="italic"><span class="bold">UNPACK_STGTAB_DIRECTIVE函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNPACK_STGTAB_DIRECTIVE函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SPD.UNPACK_STGTAB_DIRECTIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d856291e1984">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d856291e1987">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e1992" headers="d856291e1984 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e1992 d856291e1987 ">
                                       <p>登台表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e2000" headers="d856291e1984 ">
                                       <p><code class="codeph">TABLE_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e2000 d856291e1987 ">
                                       <p>登台表的模式所有者的名称。默认为当前架构。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e2008" headers="d856291e1984 ">
                                       <p><code class="codeph">directive_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e2008 d856291e1987 ">
                                       <p>SQL计划指令ID。默认值<code class="codeph">NULL</code>表示系统中的所有指令。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d856291e2019" headers="d856291e1984 ">
                                       <p><code class="codeph">OBJ_LIST</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d856291e2019 d856291e1987 ">
                                       <p>用于根据指令中使用的对象过滤要解压缩的指令。如果<code class="codeph">obj_list</code>不为<code class="codeph">NULL</code> ，则仅当指令中的所有对象都存在于<code class="codeph">obj_list</code>才会解压缩指令。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-8ED76707-9DFB-4C76-8C3C-62DACCD42420">返回值</p>
                        <p>解压缩的SQL计划指令数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-D70E6B28-938D-435C-A46F-43E195EB8F2F">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-38171 INSUFFICIENT_PRIVILEGE</code> ：用户没有适当的权限来执行操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-28104 INVALID_INPUT</code> ：输入值无效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-44001 INVALID_SCHEMA</code> ：输入模式不存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-29304 INVALID_STGTAB</code> ：指定的临时表无效或不存在。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-13158 OBJECT_DOES_NOT_EXIST</code> ：指定的对象不存在。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-AEC3CD2B-AFF9-4836-8521-3DECC7CB8331">使用说明</p>
                        <p>执行此过程需要<code class="codeph">ADMINISTER SQL MANAGEMENT OBJECT</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F297E28-CF02-44DE-9348-D9CEFB9CC5FA__GUID-FC0139B9-D81C-4920-ADD4-05A5084909AF">例子</p><pre class="oac_no_warn" dir="ltr">- 在登台表中取消所有指令SELECT DBMS_SPD.UNPACK_STGTAB_DIRECTIVE（'mydirtab'）FROM DUAL; SET SERVEROUTPUT ON; - 与SH模式中的对象相关的解包指令DECLARE my_list DBMS_SPD.OBJECTTAB：= DBMS_SPD.ObjectTab（）; dir_cnt号码; BEGIN my_list.extend（1）; my_list（1）.owner：='SH'; - 模式名称my_list（1）.object_name：= null; -  SH my_list中的所有表（1）.object_type：='TABLE'; - 对象类型dir_cnt：= DBMS_SPD.UNPACK_STGTAB_DIRECTIVE（'mydirtab'，obj_list =&gt; my_list）; DBMS_OUTPUT.PUT_LINE（'dir_cnt ='|| dir_cnt）;结束; - 与SH模式中的表SALES和CUSTOMERS相关的解包指令DECLARE my_list DBMS_SPD.OBJECTTAB：= DBMS_SPD.ObjectTab（）; dir_cnt NUMBER;开始my_list.extend（2）; -  SALES表my_list（1）.owner：='SH'; my_list（1）.object_name：='SALES'; my_list（1）.object_type：='TABLE'; -  CUSTOMERS表my_list（2）.owner：='SH'; my_list（2）.object_name：='CUSTOMERS'; my_list（2）.object_type：='TABLE'; dir_cnt：= DBMS_SPD.UNPACK_STGTAB_DIRECTIVE（'mydirtab'，obj_list =&gt; my_list）; DBMS_OUTPUT.PUT_LINE（'dir_cnt ='|| dir_cnt）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>