<html id="02892.keeping-your-oracle-database-secure.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle provides guidelines for keeping your database secure, such as advice on securing user accounts, privileges, roles, passwords, and data."></meta>
      <meta name="description" content="Oracle provides guidelines for keeping your database secure, such as advice on securing user accounts, privileges, roles, passwords, and data."></meta>
      <title>确保您的Oracle数据库安全</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Oracle provides guidelines for keeping your database secure, such as advice on securing user accounts, privileges, roles, passwords, and data."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part_7.html" title="Previous" type="text/html"></link>
      <link rel="next" href="data-encryption-and-integrity-parameters.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part_7.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="data-encryption-and-integrity-parameters.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_7.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">确保您的Oracle数据库安全</li>
            </ol>
            <a id="GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" name="GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA"></a><a id="DBSEG009"></a>
            
            <h2 id="DBSEG-GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" class="sect2"><span class="enumeration_appendix">一个</span>使你的Oracle数据库安全</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-5167857B-7CEC-423B-8A6F-64569B3A661D">关于Oracle数据库安全指南</a><br>在任何企业中，信息安全，隐私以及对公司资产和数据的保护都至关重要。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-15762379-0042-429C-84A5-528DDA778563">下载安全补丁并联系Oracle关于漏洞</a><br>您应该始终应用安全补丁。如果出现问题，那么您应该就漏洞与Oracle联系。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-1574C821-528C-4874-AD6B-92762DBEB400">保护用户帐户和权限的准则</a><br>Oracle提供了保护用户帐户和权限的指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-79BE3F64-F556-498F-B85A-36A0CD813982">保护角色的准则</a><br>Oracle提供了角色管理指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156">密码保护指南</a><br>Oracle提供了保护密码的准则。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91">保护数据的准则</a><br>Oracle提供了保护系统数据安全的指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1">保护ORACLE_LOADER访问驱动程序的准则</a><br>Oracle提供了保护<code class="codeph">ORACLE_LOADER</code>访问驱动程序的指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-0D3F40C2-C086-4787-A47F-726CD91CBF77">保护数据库安装和配置的准则</a><br>Oracle提供了保护数据库安装和配置安全的指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6">保护网络的准则</a><br>通过使用客户端，监听器和网络指南来确保全面保护，从而提高网络通信的安全性。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F">保护外部程序的准则</a><br><code class="codeph">ENFORCE_CREDENTIAL</code>环境变量控制<code class="codeph">extproc</code>进程如何验证用户凭据和标注函数。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37">审计指南</a><br>Oracle提供了审计指南。
                  </li>
                  <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924">解决CONNECT角色转换问题</a><br>随Oracle数据库版本7引入的<code class="codeph">CONNECT</code>角色为数据库角色添加了新的强大支持。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_7.html" title="第VII部分包含一组参考附录。">附录</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG495"></a><div class="props_rev_3"><a id="GUID-5167857B-7CEC-423B-8A6F-64569B3A661D" name="GUID-5167857B-7CEC-423B-8A6F-64569B3A661D"></a><h3 id="DBSEG-GUID-5167857B-7CEC-423B-8A6F-64569B3A661D" class="sect3">关于Oracle数据库安全指南</h3>
               <div>
                  <p>在任何企业中，信息安全，隐私以及对公司资产和数据的保护都至关重要。</p>
                  <p>Oracle数据库通过提供深度数据保护，审计，可扩展安全性，安全托管和数据交换等尖端安全功能，全面满足信息安全需求。</p>
                  <p>Oracle数据库在安全方面处于行业领先地为了在任何业务环境中最大化Oracle数据库提供的安全功能，数据库本身必须得到很好的保护。</p>
                  <p>安全指南通过坚持并推荐行业标准和可行的操作数据库部署安全实践，提供有关如何配置Oracle数据库以确保安全的建议。本节中描述的许多指南都涉及常见的法规要求，例如“萨班斯 - 奥克斯利法案”中所述的要求。有关Oracle数据库如何解决法规遵从性，个人身份信息保护和内部威胁的更多信息，请访问：</p>
                  <p><a href="http://www.oracle.com/technetwork/topics/security/whatsnew/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/topics/security/whatsnew/index.html</code></a></p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG496"></a><div class="props_rev_3"><a id="GUID-15762379-0042-429C-84A5-528DDA778563" name="GUID-15762379-0042-429C-84A5-528DDA778563"></a><h3 id="DBSEG-GUID-15762379-0042-429C-84A5-528DDA778563" class="sect3">下载安全补丁并联系Oracle关于漏洞</h3>
               <div>
                  <p>您应该始终应用安全补丁。如果出现问题，那么您应该就漏洞与Oracle联系。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-D6BF7ECB-4379-4CF9-91FA-6CB34FC23B32">下载安全补丁和解决方案</a><br>安全修补程序适用于Oracle数据库所在的操作系统，Oracle数据库本身以及所有已安装的Oracle数据库选项和组件。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-5D5EDAA6-AB24-424D-ABA1-F3869E445544">联系Oracle安全性，了解Oracle数据库中的漏洞</a><br>您可以联系Oracle Security，了解Oracle数据库中的漏洞。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG497"></a><div class="props_rev_3"><a id="GUID-D6BF7ECB-4379-4CF9-91FA-6CB34FC23B32" name="GUID-D6BF7ECB-4379-4CF9-91FA-6CB34FC23B32"></a><h4 id="DBSEG-GUID-D6BF7ECB-4379-4CF9-91FA-6CB34FC23B32" class="sect4">下载安全补丁和解决方案</h4>
                  <div>
                     <p>安全修补程序适用于Oracle数据库所在的操作系统，Oracle数据库本身以及所有已安装的Oracle数据库选项和组件。</p>
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要下载安全补丁和解决方案解决方案：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关安全修补程序，请定期检查Oracle Technology Network上的安全站点，以获取有关Oracle发布的安全警报的详细信息， <a href="http://www.oracle.com/technetwork/topics/security/alerts-086861.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/topics/security/alerts-086861.html</code></a>为<a href="http://www.oracle.com/technetwork/topics/security/alerts-086861.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/topics/security/alerts-086861.html</code></a></p>
                                 </li>
                                 <li>
                                    <p>有关可用和即将发布的安全相关修补程序的详细信息，请访问Oracle全球支持服务站点My Oracle Support</p>
                                    <p><a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-15762379-0042-429C-84A5-528DDA778563" title="您应该始终应用安全补丁。如果出现问题，那么您应该就漏洞与Oracle联系。">下载安全修补程序并联系Oracle以了解漏洞</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG498"></a><div class="props_rev_3"><a id="GUID-5D5EDAA6-AB24-424D-ABA1-F3869E445544" name="GUID-5D5EDAA6-AB24-424D-ABA1-F3869E445544"></a><h4 id="DBSEG-GUID-5D5EDAA6-AB24-424D-ABA1-F3869E445544" class="sect4">联系Oracle安全性，了解Oracle数据库中的漏洞</h4>
                  <div>
                     <p>您可以联系Oracle Security，了解Oracle数据库中的漏洞。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用以下任一方法联系Oracle Security：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果您是Oracle客户或Oracle合作伙伴，请使用My Oracle Support对任何潜在的Oracle产品安全漏洞提交服务请求。</p>
                                 </li>
                                 <li>
                                    <p>发送电子邮件至<code class="codeph">secalert_us@oracle.com</code> ，其中包含问题的完整描述，包括产品版本和平台，以及任何脚本和示例。Oracle鼓励那些想要联系Oracle Security的人使用我们的加密密钥来使用电子邮件加密。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-15762379-0042-429C-84A5-528DDA778563" title="您应该始终应用安全补丁。如果出现问题，那么您应该就漏洞与Oracle联系。">下载安全修补程序并联系Oracle以了解漏洞</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG499"></a><div class="props_rev_3"><a id="GUID-1574C821-528C-4874-AD6B-92762DBEB400" name="GUID-1574C821-528C-4874-AD6B-92762DBEB400"></a><h3 id="DBSEG-GUID-1574C821-528C-4874-AD6B-92762DBEB400" class="sect3">保护用户帐户和权限的准则</h3>
               <div>
                  <p>Oracle提供了保护用户帐户和权限的指南。</p>
                  <ol>
                     <li id="GUID-1574C821-528C-4874-AD6B-92762DBEB400__CHDDCCHA">
                        <p><span class="bold">锁定并使默认（预定义）用户帐户过期。</span></p>
                        <p>Oracle数据库安装有多个默认数据库用户帐户。成功安装数据库后，Database Configuration Assistant会自动锁定并超过大多数默认值<span class="bold"></span>数据库用户帐户。
                        </p>
                        <p>如果您执行Oracle数据库的手动（不使用Database Configuration Assistant）安装，则在成功安装数据库服务器后不会锁定默认数据库用户。或者，如果您已从先前版本的Oracle数据库升级，则可能拥有早期版本的默认帐户。在其默认状态下保持打开状态，可以利用这些用户帐户，以获得对数据的未授权访问或中断数据库操作。</p>
                        <p>你应该<span class="italic">锁定</span> <span class="italic"></span>并使所有默认数据库用户帐户<span class="italic">到期</span> 。Oracle数据库提供SQL语句来执行这些操作。例如：</p><pre class="oac_no_warn" dir="ltr">更改用户匿名密码存取帐户锁定;</pre><p>有关<code class="codeph">ALTER USER</code>语句的更多信息，请参见<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                        </p>
                        <p>初始安装后安装其他产品和组件也会导致创建更多默认数据库帐户。Database Configuration Assistant会自动锁定并使所有其他创建的数据库用户帐户失效。仅解锁那些需要定期访问的帐户，并为每个未锁定的帐户分配一个强大，有意义的密码。Oracle提供SQL和密码管理来执行这些操作。</p>
                        <p>如果出于任何原因需要任何默认数据库用户帐户而不是打开的用户帐户，则数据库管理员（DBA）必须使用新的安全密码解锁并激活该帐户。</p>
                        <p>如果出于任何原因需要默认数据库用户帐户（保持打开状态除外），则数据库管理员（DBA）可以使用新的安全密码解锁并激活该帐户。</p>
                        <p><span class="bold">保护Oracle Enterprise Manager帐户</span></p>
                        <p>如果安装Oracle Enterprise Manager，则会打开<code class="codeph">SYSMAN</code>和<code class="codeph">DBSNMP</code>帐户，除非您将Oracle Enterprise Manager配置为集中管理。在这种情况下， <code class="codeph">SYSMAN</code>帐户（如果存在）将被锁定。
                        </p>
                        <p>如果未安装Oracle Enterprise Manager，则仅打开<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>帐户。Database Configuration Assistant会锁定并过期所有其他帐户（包括<code class="codeph">SYSMAN</code>和<code class="codeph">DBSNMP</code> ）。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">不鼓励用户在SQL语句中使用NOLOGGING子句。</span> 
                        </p>
                        <p>在某些SQL语句中，用户可以选择指定<code class="codeph">NOLOGGING</code>子句，该子句指示数据库操作未记录在联机重做日志文件中。即使用户指定了该子句，仍会将重做记录写入联机重做日志文件。但是，没有与此记录相关的数据。因此，使用<code class="codeph">NOLOGGING</code>可以在没有审计跟踪的情况下完成输入恶意代码的可能性。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">实践最小特权原则。</span></p>
                        <p>Oracle建议遵循以下准则：</p>
                        <ol type="a">
                           <li>
                              <p><span class="bold">仅授予必要的权限。</span></p>
                              <p>不要为数据库用户或角色提供超出必要的权限。（如果可能，请为角色授予权限，而不是用户。）换句话说， <span class="italic">最小特权</span>的<span class="italic">原则</span>是仅向用户提供有效执行其工作所需的那些特权。
                              </p>
                              <p>实施<span class="bold"></span>这个原则，尽可能限制以下内容：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>授予数据库用户的<code class="codeph">SYSTEM</code>和<code class="codeph">OBJECT</code>权限数。
                                    </p>
                                 </li>
                                 <li>
                                    <p>允许与数据库建立<code class="codeph">SYS</code>特权连接的人数。
                                    </p>
                                 </li>
                                 <li>
                                    <p>被授予<code class="codeph">ANY</code>权限的用户数，例如<code class="codeph">DROP ANY TABLE</code>权限。例如，通常不需要为非DBA特权用户授予<code class="codeph">CREATE ANY TABLE</code>权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>允许执行创建，修改或删除数据库对象的操作的用户数，例如<code class="codeph">TRUNCATE TABLE</code> ， <code class="codeph">DELETE TABLE</code> ， <code class="codeph">DROP TABLE</code>语句等。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><span class="bold">限制授予CREATE ANY EDITION和DROP ANY EDITION特权。</span></p>
                              <p>要维护其他版本的对象，版本可能会增加数据库中的资源和磁盘空间消耗。仅向负责执行升级的受信任用户授予<code class="codeph">CREATE ANY EDITION</code>和<code class="codeph">DROP ANY EDITION</code>特权。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">重新评估已授予用户的SELECT对象特权和SELECT ANY TABLE系统特权。</span></p>
                              <p>如果要限制用户只能查询表，视图，物化视图和同义词，则为用户授予<code class="codeph">READ</code>对象权限，或仅为可信用户授予<code class="codeph">READ ANY TABLE</code>系统特权。如果除了执行查询操作之外，您希望用户能够以独占模式锁定表或执行<code class="codeph">SELECT ...FOR UPDATE</code>语句，然后向用户授予<code class="codeph">SELECT</code>对象特权，或者仅为可信用户授予<code class="codeph">SELECT ANY TABLE</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">限制CREATE ANY JOB，BECOME USER，EXP_FULL_DATABASE和IMP_FULL_DATABASE权限。还限制CREATE DIRECTORY的授予和CREATE ANY DIRECTORY权限。</span></p>
                              <p>这些是与安全相关的强大权限。仅将这些权限授予需要它们的用户。</p>
                           </li>
                           <li>
                              <p><span class="bold">将BECOME USER权限限制为Oracle Data Pump的用户以及DBMS_WORKLOAD_CAPTURE和DBMS_WORKLOAD_REPLAY包。</span> 
                              </p>
                              <p><code class="codeph">BECOME USER</code>权限仅用于以下子系统：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Oracle Data Pump导入实用程序<code class="codeph">impdp</code>和<code class="codeph">imp</code> ，以承担另一个用户的身份，以执行第三方无法直接执行的操作（例如，加载对象权限授予等对象）。在Oracle Database Vault环境中，Database Vault提供了几个级别的必需授权，这些授权会影响<code class="codeph">BECOME USER</code>授权。请参见<a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM-GUID-02497FDC-C4AE-4D64-AD38-E2B31607239E"><span><cite>Oracle Database Vault管理员指南</cite></span> 。</a></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_WORKLOAD_CAPTURE</code>和<code class="codeph">DBMS_WORKLOAD_REPLAY</code> PL / SQL包，作为必须使用这些包的用户所必需的权限。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果在调用其中一个子系统时使用<code class="codeph">AUTHID CURRENT_USER</code>子句（例如，在PL / SQL代码中的静态引用中），则确保通过直接授权或角色为<code class="codeph">CURRENT_USER</code>授予<code class="codeph">BECOME USER</code>权限。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">仅限与受信任用户的库相关权限。</span></p>
                              <p>该<code class="codeph"> </code> <code class="codeph">CREATE LIBRARY</code> ， <code class="codeph">CREATE ANY LIBRARY</code> ， <code class="codeph">ALTER ANY LIBRARY</code> ，并<code class="codeph">EXECUTE ANY LIBRARY</code>的特权，并授权<code class="codeph">EXECUTE ON</code> <span class="italic"><code class="codeph">library_name</code></span>传输电能的大量用户。如果计划为库创建PL / SQL接口，则只授予PL / SQL接口<code class="codeph">EXECUTE</code>特权。不要在底层库上授予<code class="codeph">EXECUTE</code> 。您必须具有库的<code class="codeph">EXECUTE</code>特权才能为其创建PL / SQL接口。但是，用户在他们自己的模式中创建的库上隐式拥有此特权。很少需要明确授予<code class="codeph">EXECUTE ON</code> <span class="italic"><code class="codeph">library_name</code></span> 。仅向受信任的用户明确授予这些权限，而从不向<code class="codeph">PUBLIC</code>角色授予这些权限。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">仅限与受信任用户的同义词相关权限。</span></p>
                              <p><code class="codeph">CREATE PUBLIC SYNONYM</code>和<code class="codeph">DROP PUBLIC SYNONYM</code>系统特权为这些用户传递了巨大的力量。除非信任，否则不要将这些权限授予用户。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">不允许非管理用户访问SYS架构拥有的对象。</span></p>
                              <p>不允许用户更改<code class="codeph">SYS</code>模式中的表行或模式对象，因为这样做会损害数据完整性。将<code class="codeph">SYS</code>对象上的<code class="codeph">DROP TABLE</code> ， <code class="codeph">TRUNCATE TABLE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code>或类似对象修改语句等语句的使用仅限于高权限管理用户。
                              </p>
                              <p><code class="codeph">SYS</code>架构拥有数据字典。您可以通过将<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>参数设置为<code class="codeph">FALSE</code>来保护数据字典。有关详细信息，请参阅<a href="keeping-your-oracle-database-secure.html#GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91" title="Oracle提供了保护系统数据安全的指南。">保护数据的准则</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">仅将DBMS_RANDOM PL / SQL包的EXECUTE特权授予可信用户。</span> 
                              </p>
                              <p><code class="codeph">DBMS_RANDOM</code>包的<code class="codeph">EXECUTE</code>特权可以允许通常应该只具有最小访问权限的用户执行与此包关联的功能。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">限制运行时</span> <span class="bold">工具的</span> <span class="bold">权限</span> <span class="bold">。</span></p>
                              <p>许多Oracle数据库产品都使用运行时工具，例如Oracle Java虚拟机（OJVM）。不要将所有权限分配给数据库运行时工具。而是将显式文档的特定权限授予可能在数据库外部运行文件和包的工具的根文件路径。</p>
                              <p>以下是易受攻击的运行时调用的示例，其中指定了单个文件：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.grant_permission（'wsmith'，'SYS：java.io。FilePermission'，'&lt;&lt; ALL FILES &gt;&gt;'，'read'）;</pre><p>下面是一个更好（更安全）的运行时调用的示例，它指定了一个目录路径：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.grant_permission（'wsmith'，'SYS：java.io。FilePermission'，'&lt;&lt;实际目录路径&gt;&gt;'，'读'）;</pre></li>
                        </ol>
                     </li>
                     <li>
                        <p><span class="bold">撤消对以下内容的访问：</span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>来自除<code class="codeph">SYS</code>和<code class="codeph">DBA</code>帐户之外的所有用户的<code class="codeph">SYS.USER_HISTORY$</code>表</p>
                           </li>
                           <li>
                              <p>典型应用程序帐户中的<code class="codeph">RESOURCE</code>角色</p>
                           </li>
                           <li>
                              <p>典型应用程序帐户的<code class="codeph">CONNECT</code>角色</p>
                           </li>
                           <li>
                              <p>来自不需要此角色的用户的<code class="codeph">DBA</code>角色</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">仅授予角色权限。</span></p>
                        <p>授予角色特权而非个人用户特权使得管理和跟踪特权变得更加容易。</p>
                     </li>
                     <li>
                        <p><span class="bold">将代理帐户（用于代理授权）权限仅限于CREATE SESSION。</span></p>
                     </li>
                     <li>
                        <p><span class="bold">使用安全应用程序角色来保护应用程序代码启用的角色。</span></p>
                        <p>安全应用程序角色允许您在PL / SQL包中定义一组条件，用于确定用户是否可以登录到应用程序。用户无需使用具有安全应用程序角色的密码。</p>
                        <p>保护角色不被应用程序启用或禁用的另一种方法是使用角色密码。此方法可防止用户直接访问SQL（而不是应用程序）中的数据库，以启用与该角色关联的权限。但是，Oracle建议您使用安全应用程序角色，以避免必须管理另一组密码。</p>
                     </li>
                     <li>
                        <p><span class="bold">创建权限捕获以查找过度授予的权限。</span> 有关更多信息，请参见“ <a href="../dvadm/index.html" target="_blank"><span><cite>Oracle Database Vault管理指南”</cite></span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">仅监视向需要这些权限的用户和角色授予以下权限。</span></p>
                        <p>默认情况下，Oracle数据库会审核以下权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">改变系统</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">审计系统</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建外部工作</code> 
                              </p>
                           </li>
                        </ul>
                        <p>Oracle建议您还审核以下权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALL PRIVILEGES</code> （包括<code class="codeph">BECOME USER</code> ， <code class="codeph">CREATE LIBRARY</code>和<code class="codeph">CREATE PROCEDURE</code>等特权）</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_BACKUP_RESTORE</code>包</p>
                           </li>
                           <li>
                              <p><code class="codeph">EXECUTE</code>到<code class="codeph">DBMS_SYS_SQL</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">选择任何表格</code></p>
                           </li>
                           <li>
                              <p>在<code class="codeph">PERFSTAT.STATS$SQLTEXT</code>上<code class="codeph">SELECT</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT</code>在<code class="codeph">PERFSTAT.STATS$SQL_SUMMARY</code></p>
                           </li>
                           <li>
                              <p>在<code class="codeph">SYS.SOURCE$</code>上<code class="codeph">SELECT</code></p>
                           </li>
                           <li>
                              <p>具有<code class="codeph">WITH ADMIN</code>子句的权限</p>
                           </li>
                           <li>
                              <p>具有<code class="codeph">WITH GRANT</code>子句的权限</p>
                           </li>
                           <li>
                              <p>具有<code class="codeph">CREATE</code>关键字的权限</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">使用以下数据字典视图查找有关用户对数据库的访问的信息。</span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBA_</code> *</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_ROLES</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_SYS_PRIVS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_ROLE_PRIVS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_TAB_PRIVS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_AUDIT_TRAIL</code> （如果启用了标准审核）</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_FGA_AUDIT_TRAIL</code> （如果启用了细粒度审计）</p>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG10004"></a><div class="props_rev_3"><a id="GUID-79BE3F64-F556-498F-B85A-36A0CD813982" name="GUID-79BE3F64-F556-498F-B85A-36A0CD813982"></a><h3 id="DBSEG-GUID-79BE3F64-F556-498F-B85A-36A0CD813982" class="sect3">保护角色的准则</h3>
               <div>
                  <p>Oracle提供了角色管理指南。</p>
                  <ol>
                     <li>
                        <p><span class="bold">仅在用户需要角色的所有权限时才向用户授予角色。</span></p>
                        <p>角色（特权组）对于快速轻松地向用户授予权限非常有用。虽然您可以使用Oracle定义的角色，但如果您创建自己的角色（仅包含与您的要求相关的权限），则可以获得更多控制和连续性。Oracle可能会更改或删除Oracle数据库定义角色中的权限，因为它具有<code class="codeph">CONNECT</code>角色，该角色现在只具有<code class="codeph">CREATE SESSION</code>权限。以前，这个角色有八个其他特权。
                        </p>
                        <p>确保您定义的角色仅包含反映工作职责的权限。如果您的应用程序用户不需要现有角色所包含的所有权限，则应用一组不同的角色，这些角色仅提供正确的权限。或者，创建并分配更受限制的角色。</p>
                        <p>例如，必须严格限制用户<code class="codeph">SCOTT</code>的权限，因为这是一个众所周知的帐户，可能容易受到入侵者的攻击。由于<code class="codeph">CREATE DBLINK</code>权限允许从一个数据库访问另一个数据库，因此请删除其对<code class="codeph">SCOTT</code>权限。然后，删除用户的整个角色，因为不能单独删除通过角色获取的权限。仅使用所需权限重新创建自己的角色，并将该新角色授予该用户。同样，为了更好的安全性，请从不需要它的所有用户中删除<code class="codeph">CREATE DBLINK</code>权限。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">不要将用户角色授予应用程序开发人员。</span></p>
                        <p>角色不应由应用程序开发人员使用，因为需要直接授予在存储的编程构造中访问模式对象的权限。请记住，除了调用者正确的程序之外，在存储过程中不启用角色。有关此主题的信息，请参阅<a href="configuring-privilege-and-role-authorization.html#GUID-5C57B842-AF82-4462-88E9-5E9E8FD59874" title="PL / SQL块中的角色行为取决于块的类型以及定义者的权限或调用者的权限。">PL / SQL块中的角色如何工作</a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">创建和分配特定于每个Oracle数据库安装的角色。</span></p>
                        <p>该原则使组织能够保留对其角色和特权的详细控制。这也避免了在Oracle数据库更改或删除Oracle数据库定义的角色时进行调整的必要性，因为它与<code class="codeph">CONNECT</code> ，后者现在只具有<code class="codeph">CREATE SESSION</code>权限。以前，它还有八个其他特权。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">对于企业用户，请创建全局角色。</span></p>
                        <p>全局角色由企业目录服务（如Oracle Internet Directory）管理。有关全局角色的更多信息，请参阅以下部分：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-authentication.html#GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" title="通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。">全局用户身份验证和授权</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-privilege-and-role-authorization.html#GUID-DC9B06A3-14E7-4FEC-A0B8-9876356023EC" title="全局角色使全局用户只能由企业目录服务授权。">通过企业目录服务授予全局角色</a></p>
                           </li>
                           <li>
                              <p><a href="../dbimi/introducing-enterprise-user-security.html#DBIMI214" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a></p>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG10005"></a><div class="props_rev_3"><a id="GUID-451679EB-8676-47E6-82A6-DF025FD65156" name="GUID-451679EB-8676-47E6-82A6-DF025FD65156"></a><h3 id="DBSEG-GUID-451679EB-8676-47E6-82A6-DF025FD65156" class="sect3">密码保护指南</h3>
               <div>
                  <p>Oracle提供了保护密码的准则。</p>
                  <p>创建用户帐户时，Oracle数据库会为该用户分配默认密码策略。密码策略定义了如何创建密码的规则，例如最小字符数，到期时间等等。您可以使用密码策略来增强密码。另请参阅<a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a>以了解保护密码的其他方法。
                  </p>
                  <p>请遵循以下准则以进一步加强密码：</p>
                  <ol>
                     <li id="GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDDCHAH">
                        <p><span class="bold">仔细选择密码。</span></p>
                        <p><a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">密码</a>的最低要求描述了<a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle提供了一组密码的最低要求。">密码</a>的最低要求。创建或更改密码时，请遵循以下附加准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将密码设置为12到30个字符和数字。</p>
                           </li>
                           <li>
                              <p>密码包含至少一个数字，一个大写字符和一个小写字符。</p>
                           </li>
                           <li>
                              <p>在密码中使用混合大小写字母和特殊字符。（有关详细信息，请参阅<a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保密码安全威胁</a> 。）
                              </p>
                           </li>
                           <li>
                              <p>您可以在密码中包含多字节字符。</p>
                           </li>
                           <li>
                              <p>使用数据库字符集作为密码的字符，可以包括下划线（_），美元（$）和数字符号（＃）字符。</p>
                           </li>
                           <li>
                              <p>您必须将以下密码括在双引号中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>包含多字节字符的密码。</p>
                                 </li>
                                 <li>
                                    <p>密码以数字或特殊字符开头并包含字母字符。例如：</p>
                                    <p><code class="codeph">“123ABC”</code></p>
                                    <p><code class="codeph">“#abc”</code></p>
                                    <p><code class="codeph">“123dc $”</code></p>
                                 </li>
                                 <li>
                                    <p>包含字母字符，数字和特殊字符以外的任何字符的密码。例如：</p>
                                    <p><code class="codeph">“ABC&gt;”</code></p>
                                    <p><code class="codeph">“ABC @”，</code></p>
                                    <p><code class="codeph">“”</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>您不需要在双引号中指定以下密码。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>密码以字母字符（a-z，A-Z）开头，包含数字（0-9）或特殊字符（$，＃，_）。例如：</p>
                                    <p><code class="codeph">ABC123</code></p>
                                    <p><code class="codeph">ab23a</code></p>
                                    <p><code class="codeph">AB $＃_</code></p>
                                 </li>
                                 <li>
                                    <p>仅包含数字的密码。</p>
                                 </li>
                                 <li>
                                    <p>密码仅包含字母字符。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>密码中不要包含双引号。</p>
                           </li>
                           <li>
                              <p>不要将实际单词用于整个密码。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">要从更短，更容易记住的密码创建更长，更复杂的密码，请遵循以下技术：</span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从易于记忆的句子的单词的第一个字母创建密码。例如，“我通常工作到6:00几乎每周的每一天”可以是<code class="codeph">Iuwu6aedotw</code> 。
                              </p>
                           </li>
                           <li>
                              <p>结合两个弱口令，如<code class="codeph">welcome1</code>和<code class="codeph">binky</code>到<code class="codeph">WelBinkyCome1</code> 。
                              </p>
                           </li>
                           <li>
                              <p>在密码的开头或结尾重复一个字符。</p>
                           </li>
                           <li>
                              <p>将字符串，另一个密码或部分密码添加到要创建的密码的开头或结尾。例如，您可以修改密码<code class="codeph">fussy2all</code>的方法如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">fussy2all34hj2</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WelBinkyCome1fussy2all</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">fusfussy2all</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>加倍部分或全部字母。例如， <code class="codeph">welcome13</code>可以成为<code class="codeph">wwellCcooMmee13</code> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">确保密码足够复杂。</span></p>
                        <p>Oracle数据库提供了密码复杂性验证例程，即PL / SQL脚本<code class="codeph">utlpwdmg.sql</code> ，您可以运行该例程来检查密码是否足够复杂。理想情况下，编辑<code class="codeph">utlpwdmg.sql</code>脚本以提供更强大的密码保护。另请参阅<a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a> ，以获取可用于检查密码的示例例程。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">将密码复杂性功能与用户配置文件或默认配置文件相关联。</span></p>
                        <p><code class="codeph">CREATE PROFILE</code>和<code class="codeph">ALTER PROFILE</code>语句的<code class="codeph">PASSWORD_VERIFY_FUNCTION</code>子句将密码复杂性函数与用户配置文件或默认配置文件相关联。密码复杂性功能可确保用户使用特定于您网站的指南创建强密码。具有密码复杂性功能还需要用户更改他或她自己的密码（没有<code class="codeph">ALTER USER</code>系统特权）来提供旧密码和新密码。您可以创建自己的密码复杂性函数，也可以使用Oracle数据库提供的密码复杂性函数。
                        </p>
                        <p>有关更多信息，请参阅<a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a> 。
                        </p>
                     </li>
                     <li id="GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDIAEGG">
                        <p><span class="bold">更改默认用户密码。</span></p>
                        <p>Oracle数据库使用一组预定义的默认用户帐户进行安装。当默认数据库用户帐户<span class="italic">即使在安装后</span>仍具有默认密码时，安全性最容易被破坏。对于用户帐户<code class="codeph">SCOTT</code>尤其如此，这是一个众所周知的帐户，可能容易受到入侵者的攻击。在Oracle数据库中，默认帐户安装已锁定且密码已过期，但如果您已从先前版本升级，则可能仍有使用默认密码的帐户。
                        </p>
                        <p>要查找具有默认密码的用户帐户，请查询<code class="codeph">DBA_USERS_WITH_DEFPWD</code>数据字典视图。有关详细信息，请参阅<a href="configuring-authentication.html#GUID-BA2A4A2A-27A6-4769-9259-98213D6027FE" title="DBA_USERS_WITH_DEFPWD数据字典视图可以查找使用默认密码的用户帐户。">查找具有默认密码的用户帐户</a> 。
                        </p>
                     </li>
                     <li id="GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDBABCJ">
                        <p><span class="bold">更改管理用户的默认密码。</span></p>
                        <p>您可以为<code class="codeph">SYS</code> ， <code class="codeph">SYSTEM</code> ， <code class="codeph">SYSMAN</code>和<code class="codeph">DBSNMP</code>管理帐户使用相同或不同的密码。Oracle建议您为每个密码使用不同的密码。在任何Oracle环境（生产或测试）中，为这些管理帐户分配强大，安全且不同的密码。如果使用Database Configuration Assistant创建新数据库，则需要输入<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>帐户的密码，不允许使用默认密码<code class="codeph">CHANGE_ON_INSTALL</code>和<code class="codeph">MANAGER</code> 。</p>
                        <p>同样，对于生产环境，请勿对管理帐户使用默认密码，包括<code class="codeph">SYSMAN</code>和<code class="codeph">DBSNMP</code> 。</p>
                     </li>
                     <li>
                        <p><span class="bold">实施密码管理。</span></p>
                        <p>将基本密码管理规则（例如密码长度，历史记录，复杂性等）应用于所有用户密码。Oracle数据库为默认配置文件启用了密码策略。本节中的准则<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDDCHAH">1</a>列出了这些密码策略。
                        </p>
                        <p>您可以通过查询<code class="codeph">DBA_USERS</code>视图来查找有关用户帐户的信息。<code class="codeph">DBA_USERS</code>视图的<code class="codeph">PASSWORD</code>列指示密码是全局密码，外部密码还是空密码。<code class="codeph">DBA_USERS</code>视图提供有用的信息，例如用户帐户状态，帐户是否已锁定以及密码版本。
                        </p>
                        <p>如果可能，Oracle还建议使用Oracle强身份验证和网络身份验证服务（如Kerberos），令牌卡，智能卡或X.509证书。这些服务提供强大的用户身份验证，并提供防止未经授权访问Oracle数据库的保护。</p>
                     </li>
                     <li>
                        <p><span class="bold">不要在Oracle表中以明文形式存储用户密码。</span></p>
                        <p>为了更好的安全性，请不要在Oracle表中以明文（即人类可读）存储密码。您可以通过使用安全的外部密码存储来加密包含密码的表列来更正此问题。有关信息，请参阅<a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a> 。
                        </p>
                        <p>在为用户帐户创建或修改密码时，Oracle数据库会自动创建加密哈希或密码摘要。如果查询<code class="codeph">DBA_USERS</code>视图以查找有关用户帐户的信息，则<code class="codeph">PASSWORD</code>列中的数据指示用户密码是全局，外部还是null。
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG500"></a><div class="props_rev_3"><a id="GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91" name="GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91"></a><h3 id="DBSEG-GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91" class="sect3">保护数据的准则</h3>
               <div>
                  <p>Oracle提供了保护系统数据安全的指南。</p>
                  <ol>
                     <li>
                        <p><span class="bold">启用数据字典保护。</span></p>
                        <p>Oracle建议您保护数据字典，以防止具有<code class="codeph">ANY</code>系统特权的用户在数据字典上使用这些特权。更改或操纵数据字典表中的数据会永久地和不利地影响数据库的操作。
                        </p>
                        <p>要启用数据字典保护，请在<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>控制文件中将以下初始化参数设置为<code class="codeph">FALSE</code> （这是默认值）：</p><pre class="oac_no_warn" dir="ltr">O7_DICTIONARY_ACCESSIBILITY = FALSE</pre><p>您可以在服务器参数文件中设置<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>参数。有关服务器参数文件的详细信息，请参阅“ <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank"><span><cite>Oracle Database Vault管理员指南”</cite></span></a> 。
                        </p>
                        <p>将<code class="codeph">O7_DICTIONARY_ACCESSIBILTY</code>设置为<code class="codeph">FALSE</code> ，只有具有<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户和具有DBA特权（例如<code class="codeph">CONNECT / AS SYSDBA</code> ）连接的授权用户才能使用数据字典的<code class="codeph">ANY</code>系统特权。如果<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>参数未设置为<code class="codeph">FALSE</code> ，则具有<code class="codeph">DROP ANY TABLE</code> （例如）系统特权的任何用户都将能够删除部分数据字典。但是，如果用户<span class="italic">需要</span>对数据字典的视图访问权限，则可以向该用户授予<code class="codeph">SELECT ANY DICTIONARY</code>系统特权。
                        </p>
                        <div class="infoboxnote" id="GUID-27A8C0A3-6DFD-4A0E-9FBE-772F867D6C91__GUID-368694C2-F3E2-4961-B6A7-22D247A6003C">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在默认安装中， <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>参数设置为<code class="codeph">FALSE</code> 。但是，在Oracle8 <span class="italic">i中</span> ，默认情况下此参数设置为<code class="codeph">TRUE</code> ，并且必须更改为<code class="codeph">FALSE</code>才能启用此安全功能。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SELECT ANY DICTIONARY</code>特权不包含在<code class="codeph">GRANT ALL PRIVILEGES</code>语句中，但您可以通过角色授予它。<a href="configuring-privilege-and-role-authorization.html#GUID-89CE989D-C97F-4CFD-941F-18203090A1AC" title="权限和角色授权控制用户必须执行日常任务的权限。">配置权限和角色授权</a> ，详细描述角色。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><span class="bold">限制操作系统访问。</span></p>
                        <p>请遵循以下准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>限制操作系统用户的数量。</p>
                           </li>
                           <li>
                              <p>将Oracle数据库主机上的操作系统帐户（管理，root权限或数据库管理）的权限限制为用户执行必要任务所需的最小权限。</p>
                           </li>
                           <li>
                              <p>限制修改Oracle数据库主目录（安装）目录或其内容的默认文件和目录权限的能力。即使特权操作系统用户和Oracle所有者也不应修改这些权限，除非Oracle另有指示。</p>
                           </li>
                           <li>
                              <p>限制符号链接。确保在向数据库提供路径或文件时，文件或路径的任何部分都不可由不受信任的用户修改。文件和路径的所有组件应归数据库管理员或受信任帐户所有，例如<span class="italic">root</span> 。
                              </p>
                              <p>此建议适用于所有类型的日志文件，跟踪文件，外部表，BFILE数据类型等。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">加密敏感数据和包含数据库文件的所有备份媒体。</span></p>
                        <p>根据常见的法规遵从性要求，您必须加密敏感数据，如信用卡号和密码。从数据库中删除敏感数据时，加密数据不会在数据块，操作系统文件或磁盘扇区中停留。</p>
                        <p>在大多数情况下，您可能希望使用透明数据加密来加密敏感数据。有关更多信息，请参见<a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span><cite>Oracle Database高级安全性指南</cite></span></a>另请参阅不应加密数据时<a href="manually-encrypting-data.html#GUID-4E2F3704-CD79-4F60-AEEB-31FDA6F5124C" title="虽然加密数据有很多好的理由，但有很多理由不加密数据。">加密无法解决的安全问题</a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">对于Linux和UNIX系统上的Oracle自动存储管理（Oracle ASM）环境，请使用Oracle ASM文件访问控制来限制对Oracle ASM磁盘组的访问。</span> 
                        </p>
                        <p>如果为Oracle数据库安装使用不同的操作系统用户和组，则可以将Oracle ASM文件访问控制配置为仅限授权用户访问Oracle ASM磁盘组中的文件。例如，数据库管理员只能访问他或她管理的数据库的数据文件。此管理员将无法查看或覆盖其他数据库所属（或由其使用）的数据文件。</p>
                        <p>有关管理磁盘组的Oracle ASM文件访问控制的更多信息，请参阅“ <a href="../ostmg/asm-access-control-diskgroups.html#OSTMG02660" target="_blank"><span><cite>Oracle自动存储管理管理员指南”</cite></span></a> 。有关多个软件所有者所需的各种权限的信息，另请参阅“ <a href="../ostmg/authenticate-access-asm-instance.html#OSTMG02600" target="_blank"><span><cite>Oracle自动存储管理管理员指南”</cite></span></a> 。
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG10007"></a><div class="props_rev_3"><a id="GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1" name="GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1"></a><h3 id="DBSEG-GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1" class="sect3">保护ORACLE_LOADER访问驱动程序的准则</h3>
               <div>
                  <p>Oracle提供了保护<code class="codeph">ORACLE_LOADER</code>访问驱动程序的指南。
                  </p>
                  <ol>
                     <li>
                        <p><span class="bold">创建单独的操作系统目录以存储访问驱动程序预处理程序。</span> 如果不同的Oracle数据库用户将运行不同的预处理器，您（或操作系统管理员）可能需要创建多个目录。如果要阻止一组用户使用一个预处理器，同时允许这些用户访问另一个预处理器，则将预处理器放在不同的目录中。如果所有用户都需要相同的访问权限，那么您可以将预处理器放在一个目录中。创建这些操作系统目录后，在SQL * Plus中，可以为每个目录创建目录对象。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">授予操作系统用户ORACLE正确的操作系统权限以运行访问驱动程序预处理器。</span> 此外，保护预处理程序不受负责管理预处理程序的用户以外的操作系统用户的<code class="codeph">WRITE</code>访问。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">将EXECUTE特权授予将在目录对象中运行预处理程序的每个用户。</span> 不要授予此用户对目录对象的<code class="codeph">WRITE</code>权限。永远不要授予用户目录对象的<code class="codeph">EXECUTE</code>和<code class="codeph">WRITE</code>权限。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">将WRITE权限谨慎地授予将管理包含预处理器的目录对象的任何人。</span> 这可以防止数据库用户意外或恶意地覆盖预处理程序。
                        </p>
                     </li>
                     <li id="GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1__BABGGBIH">
                        <p><span class="bold">为外部表所需的任何数据文件创建单独的操作系统目录和目录对象。</span> 确保它们与访问目录预处理器使用的目录和目录对象分开。
                        </p>
                        <p>使用操作系统管理器确保只有适当的操作系统用户才能访问此目录。授予<code class="codeph">ORACLE</code>操作系统用户对具有授予数据库用户<code class="codeph">READ</code>权限的目录对象的目录的<code class="codeph">READ</code>访问权限。同样，授予<code class="codeph">ORACLE</code>操作系统用户<code class="codeph">WRITE</code>访问权限的任何目录，该目录具有授予数据库用户的<code class="codeph">WRITE</code>权限。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">为访问驱动程序生成的任何文件创建单独的操作系统目录和目录对象。</span> 这包括日志文件，错误文件和丢弃的文件。您和操作系统管理员必须确保此目录和目录对象具有适当的保护，类似于准则<a href="keeping-your-oracle-database-secure.html#GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1__BABGGBIH">5中</a>所述的保护。解决数据文件中的问题时，数据库用户可能需要访问这些文件，因此您和操作系统管理员必须确定该用户读取这些文件的方法。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">谨慎授予CREATE ANY DIRECTORY和DROP ANY DIRECTORY特权。</span> 具有这些权限的用户和已被授予<code class="codeph">DBA</code>角色的用户具有对所有目录对象的完全访问权限。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">考虑审核DROP ANY DIRECTORY权限。</span> 有关<a href="configuring-audit-policies.html#GUID-5D6F6F38-B9F9-4681-8879-8F880E637D75" title="You can use the CREATE AUDIT POLICY statement to audit system privileges.">审核权限</a>的更多信息，请参阅<a href="configuring-audit-policies.html#GUID-5D6F6F38-B9F9-4681-8879-8F880E637D75" title="您可以使用CREATE AUDIT POLICY语句来审核系统特权。">审核系统</a>权限。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">考虑审核目录对象。</span> 有关更多信息，请参阅<a href="configuring-audit-policies.html#GUID-12B6375C-25F7-46A9-BA03-4714BFAC6056" title="您可以使用CREATE AUDIT POLICY语句来审核对象操作。">审核对象操作</a> 。
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7627A4E1-08B0-45D9-8823-97C603ECA9D1__GUID-8A10A210-583E-4673-91A0-F819C514A5AB">
                     <p class="notep1">也可以看看：</p>
                     <p>   有关<code class="codeph">ORACLE_DATAPUMP</code>访问驱动<a href="../sutil/oracle_loader-access-driver.html#SUTIL1385" target="_blank"><span><cite>程序</cite></span></a>的详细信息，请<code class="codeph">ORACLE_DATAPUMP</code> <a href="../sutil/oracle_loader-access-driver.html#SUTIL1385" target="_blank"><span><cite>Oracle数据库实用</cite></span></a>程序</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG501"></a><div class="props_rev_3"><a id="GUID-0D3F40C2-C086-4787-A47F-726CD91CBF77" name="GUID-0D3F40C2-C086-4787-A47F-726CD91CBF77"></a><h3 id="DBSEG-GUID-0D3F40C2-C086-4787-A47F-726CD91CBF77" class="sect3">保护数据库安装和配置的准则</h3>
               <div>
                  <p>Oracle提供了保护数据库安装和配置安全的指南。</p>
                  <p>对Oracle数据库的默认配置进行了更改，以使其更安全。本节中的建议增强了新的安全默认配置。</p>
                  <ol>
                     <li>
                        <p><span class="bold">在UNIX系统上开始安装Oracle数据库之前，请确保Oracle所有者帐户的umask值为022。</span></p>
                        <p>有关在Linux和UNIX系统上管理Oracle数据库的更多信息，请参见<a href="../unxar/administering-oracle-database.html#UNXAR001" target="_blank"><span><cite>适用于Linux和基于UNIX的操作系统的Oracle数据库管理员参考</cite></span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">仅安装所需的内容。</span></p>
                        <p><span class="bold">选项和产品</span> ：Oracle数据库CD包除数据库外还包含产品和选项。仅在必要时安装其他产品和选件。使用“自定义安装”功能可以避免安装不必要的产品，或执行典型安装，然后卸载不需要的选件和产品。如果不使用它们，则无需维护其他产品和选项。始终可以根据需要正确安装它们。
                        </p>
                        <p><span class="bold">示例模式</span> ：Oracle数据库提供了示例模式，以提供示例的通用平台。如果您的数据库将在生产环境中使用，则不要安装示例模式。如果已在测试数据库上安装了示例模式，那么在进入生产之前，请删除或重新锁定示例模式帐户。有关<a href="../comsc/introduction-to-sample-schemas.html#COMSC005" target="_blank"><span><cite>示例模式</cite></span></a>的更多信息，请参阅<a href="../comsc/introduction-to-sample-schemas.html#COMSC005" target="_blank"><span><cite>Oracle数据库</cite></span></a>示例模式。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">在安装过程中，当系统提示您输入密码时，请创建安全密码。</span></p>
                        <p>按照准则<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDDCHAH">1</a> ， <a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDIAEGG">5</a>和<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDBABCJ">6</a>的<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">准则保护密码</a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">安装后立即锁定并使默认用户帐户失效。</span> 
                        </p>
                        <p>请参阅“ <a href="keeping-your-oracle-database-secure.html#GUID-1574C821-528C-4874-AD6B-92762DBEB400" title="Oracle提供了保护用户帐户和权限的指南。">保护用户帐户和权限的</a>准则”中的准则<a href="keeping-your-oracle-database-secure.html#GUID-1574C821-528C-4874-AD6B-92762DBEB400__CHDDCCHA">1</a> 。
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG502"></a><div class="props_rev_3"><a id="GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6" name="GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6"></a><h3 id="DBSEG-GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6" class="sect3">保护网络的准则</h3>
               <div>
                  <p>通过使用客户端，监听器和网络指南来确保全面保护，从而提高网络通信的安全性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-E342985E-F451-4508-BBA4-46E1EE5D98FA">客户端连接安全</a><br>严格验证客户端，为连接配置加密，并使用强身份验证可加强客户端连接。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-B80C1126-6F10-48B1-BD46-EC31CFE1378D">网络连接安全</a><br>保护网络及其流量免受不适当的访问或修改是网络安全的本质。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-4020FD32-578B-475E-8965-CF64F6D5D34C">安全套接字层连接安全性</a><br>Oracle提供了保护安全套接字层（SSL）的指南。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG503"></a><div class="props_rev_3"><a id="GUID-E342985E-F451-4508-BBA4-46E1EE5D98FA" name="GUID-E342985E-F451-4508-BBA4-46E1EE5D98FA"></a><h4 id="DBSEG-GUID-E342985E-F451-4508-BBA4-46E1EE5D98FA" class="sect4">客户端连接安全</h4>
                  <div>
                     <p>严格验证客户端，为连接配置加密，并使用强身份验证可加强客户端连接。</p>
                     <div class="section">
                        <p>由于验证客户端计算机存在问题，因此通常会执行用户身份验证。这种方法避免了客户端系统问题，包括伪造的IP地址，被黑客入侵的操作系统或应用程序，以及伪造或被盗的客户端系统身份。</p>
                        <p>但是，以下指南可提高客户端连接的安全性：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span><span class="bold">有效地实施访问控制并严格验证客户端。</span> </span><div>
                              <p>默认情况下，Oracle仅允许通过安全连接进行操作系统身份验证登录，从而无法使用Oracle Net和共享服务器配置。此默认限制可防止用户通过网络连接。</p>
                              <p>将初始化参数<code class="codeph">REMOTE_OS_AUTHENT</code>设置为<code class="codeph">TRUE</code>强制数据库接受通过不安全连接接收的客户端操作系统用户名，并将其用于帐户访问。由于不信任客户端（例如PC）正确执行操作系统身份验证，因此使用此功能的安全措施很差。
                              </p>
                              <p>默认设置<code class="codeph">REMOTE_OS_AUTHENT = FALSE</code> ，可创建更安全的配置，以强制对连接到Oracle数据库的客户端进行正确的基于服务器的身份验证。请注意，Oracle Database <span class="italic">11g</span> （11.1）中不推荐使用<code class="codeph">REMOTE_OS_AUTHENT</code> ，仅为了向后兼容而保留<code class="codeph">REMOTE_OS_AUTHENT</code> 。
                              </p>
                              <p>您不应更改<code class="codeph">REMOTE_OS_AUTHENT</code>初始化参数的默认设置，该参数为<code class="codeph">FALSE</code> 。</p>
                              <p>将此参数设置为<code class="codeph">FALSE</code>并不意味着用户无法远程连接。这意味着数据库不会信任客户端已经过身份验证，因此将应用其标准身份验证过程。
                              </p>
                              <p>请注意，Oracle Database <span class="italic">11g</span>第1版（11.1）中不推荐使用<code class="codeph">REMOTE_OS_AUTHENT</code>参数，并且仅为了向后兼容性而保留该参数。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span><span class="bold">配置连接以使用加密。</span></span><div>
                              <p>Oracle本机网络加密使窃听变得困难。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span><span class="bold">设置强身份验证。</span></span><div>
                              <p>有关使用Kerberos和公钥基础结构（PKI）的详细信息，请参阅<a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span><span class="bold">在Oracle Data Guard环境中，设置<code class="codeph">ADG_ACCOUNT_INFO_TRACKING</code>初始化参数。</span></span><div>
                              <p><code class="codeph">ADG_ACCOUNT_INFO_TRACKING</code>参数控制Oracle Active Data Guard备用数据库的登录尝试。它为跨Oracle数据库生产环境和所有Active Data Guard备用数据库的登录攻击提供了更高的安全性。使用以下设置之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">LOCAL</code> （默认）强制执行现有行为，该行为在备用数据库的内存中视图中维护用户帐户信息的本地副本。此设置仅在每个数据库的基础上本地跟踪登录失败。当达到最大失败登录时，它拒绝登录。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">GLOBAL</code>通过在所有Data Guard主数据库和备用数据库中维护单个全局副本的用户帐户信息来提高登录的安全性。Data Guard环境中所有数据库的登录失败都计入最大计数。达到此计数后，将拒绝任何位置的登录访问。
                                    </p>
                                 </li>
                              </ul>
                              <p>要了解有关<code class="codeph">ADG_ACCOUNT_INFO_TRACKING</code>参数的详细信息，请参阅<a href="../refrn/ADG_ACCOUNT_INFO_TRACKING.html#REFRN-GUID-D8CBA7A5-A027-4366-8146-1F141FC7B111" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6" title="通过使用客户端，监听器和网络指南来确保全面保护，从而提高网络通信的安全性。">保护网络的准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG504"></a><div class="props_rev_3"><a id="GUID-B80C1126-6F10-48B1-BD46-EC31CFE1378D" name="GUID-B80C1126-6F10-48B1-BD46-EC31CFE1378D"></a><h4 id="DBSEG-GUID-B80C1126-6F10-48B1-BD46-EC31CFE1378D" class="sect4">网络连接安全</h4>
                  <div>
                     <p>保护网络及其流量免受不适当的访问或修改是网络安全的本质。</p>
                     <p>您应该考虑数据传输的所有路径，并评估每个路径和节点上的威胁。然后，采取措施减少或消除这些威胁以及安全漏洞的后果。此外，监视和审计以检测增加的威胁级别或渗透尝试。</p>
                     <p>要管理网络连接，可以使用Oracle Net Manager。有关Net Manager的详细信息，请参阅“ <a href="../netag/managing-oracle-net-services.html#NETAG216" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                     </p>
                     <p>以下实践可提高网络安全性：</p>
                     <ol>
                        <li>
                           <p><span class="bold">管理侦听器时使用安全套接字层（SSL）。</span></p>
                           <p>有关更多信息，请参阅<a href="keeping-your-oracle-database-secure.html#GUID-4020FD32-578B-475E-8965-CF64F6D5D34C" title="Oracle提供了保护安全套接字层（SSL）的指南。">安全套接字层连接安全性</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">通过要求管理员对侦听器密码和服务器上的listener.ora文件具有写权限来防止在线管理。</span></p>
                           <ol type="a">
                              <li>
                                 <p>在<code class="codeph">listener.ora</code>文件中添加或更改此行：</p><pre class="oac_no_warn" dir="ltr">ADMIN_RESTRICTIONS_LISTENER = ON</pre></li>
                              <li>
                                 <p>使用<code class="codeph">RELOAD</code>重新加载配置。
                                 </p>
                              </li>
                              <li>
                                 <p>通过将TCPS协议作为地址列表中的第一个条目来管理侦听器时使用SSL，如下所示：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcps）（HOST = sales.us.example.com）（PORT = 8281）））</pre><p>要远程管理侦听器，请在客户端计算机上的<code class="codeph">listener.ora</code>文件中定义侦听器。例如，要远程访问侦听器USER281，请使用以下配置：</p><pre class="oac_no_warn" dir="ltr">user281 =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcps）（HOST = sales.us.example.com）（PORT = 8281））））</pre></li>
                           </ol>
                           <p>有关<code class="codeph">listener.ora</code>的参数的详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">不要设置监听器密码。</span> 
                           </p>
                           <p>确保未在<code class="codeph">listener.ora</code>文件中设置密码。本地操作系统身份验证将保护侦听器管理。未设置密码时，将禁用远程侦听器管理。这可以防止对侦听器密码的暴力攻击。
                           </p>
                           <p>此版本中已弃用侦听器密码。下一版本的Oracle数据库不支持它。</p>
                        </li>
                        <li>
                           <p><span class="bold">当主机有多个与多个网络接口控制器（NIC）卡关联的IP地址时，请将侦听器配置为特定的IP地址。</span></p>
                           <p>这允许侦听器侦听所有IP地址。您可以限制侦听器侦听特定的IP地址。Oracle建议您在这些类型的计算机上指定特定的IP地址，而不是允许侦听器侦听所有IP地址。将侦听器限制为特定IP地址有助于防止入侵者从侦听器进程下窃取TCP端点。</p>
                        </li>
                        <li>
                           <p><span class="bold">限制侦听器的权限，使其无法读取或写入数据库或Oracle服务器地址空间中的文件。</span></p>
                           <p>此限制可防止侦听器（或代理程序执行的过程）生成的外部过程代理继承执行读取或写入操作的能力。此单独侦听器进程的所有者不应是安装Oracle数据库或执行Oracle数据库实例的所有者（例如<code class="codeph">ORACLE</code> ，默认所有者）。
                           </p>
                           <p>有关在侦听器中配置外部过程的详细信息，请参阅“ <a href="../netag/enabling-advanced-features.html#NETAG0132" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">使用加密来保护飞行中的数据。</span></p>
                           <p>有关网络数据加密的详细信息，请参阅<a href="introduction-to-strong-authentication.html#GUID-33950602-401B-4345-9C28-BC4E03EB7A4D" title="强身份验证支持安全套接字层（SSL）等工具来验证登录数据库的用户的身份。">强身份验证简介</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">使用防火墙。</span></p>
                           <p>适当放置和配置的防火墙可以防止外部访问您的数据库。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将数据库服务器保留在防火墙后面。Oracle数据库网络基础架构Oracle Net Services（以前称为SQL * Net）为各种供应商的各种防火墙提供支持。支持代理的防火墙包括Network Associates的Gauntlet和Axent的Raptor。支持的包过滤防火墙包括Cisco的PIX防火墙，支持的状态检测防火墙（更复杂的包过滤防火墙）包括CheckPoint的Firewall-1。</p>
                              </li>
                              <li>
                                 <p>确保防火墙位于要保护的网络之外。</p>
                              </li>
                              <li>
                                 <p>将防火墙配置为仅接受您知道安全的协议，应用程序或客户端/服务器源。</p>
                              </li>
                              <li>
                                 <p>使用Net8和Oracle Connection Manager等产品通过与数据库的单个网络连接来管理Multiplex多客户端网络会话。它可以过滤源，目标和主机名。通过此产品，您可以确保仅从物理安全终端或具有已知IP地址的应用程序Web服务器接受连接。（仅对IP地址进行过滤不足以进行身份验证，因为它可能会被伪造。）</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">防止未经授权管理Oracle侦听器。</span></p>
                           <p>有关侦听器的更多信息，请参见“ <a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG010" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">检查网络IP地址。</span></p>
                           <p>使用Oracle Net <span class="italic">有效节点检查</span>安全功能允许或拒绝从具有指定IP地址的网络客户端访问Oracle服务器进程。要使用此功能，请设置以下<code class="codeph">sqlnet.ora</code>配置文件参数：</p><pre class="oac_no_warn" dir="ltr">tcp.validnode_checking = YES tcp.excluded_nodes = {IP地址列表} tcp.invited_nodes = {IP地址列表}</pre><p><code class="codeph">tcp.validnode_checking</code>参数启用该功能。<code class="codeph">tcp.excluded_nodes</code>和<code class="codeph">tcp.invited_nodes</code>参数拒绝并启用特定客户端IP地址与Oracle侦听器建立连接。这有助于防止潜在的拒绝服务攻击。
                           </p>
                           <p>您可以使用Oracle Net Manager配置这些参数。有关更多信息，请参见“ <a href="../netag/managing-oracle-net-services.html#NETAG005" target="_blank"><span><cite>Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">加密网络流量。</span></p>
                           <p>如果可能，请使用Oracle本机网络数据加密来加密客户端，数据库和应用程序服务器之间的网络流量。有关本机网络加密的详细信息，请参阅<a href="configuring-network-data-encryption-and-integrity.html#GUID-7F12066A-2BA1-476C-809B-BB95A3F727CF" title="您可以为服务器和客户端配置本机Oracle Net Services数据加密和数据完整性。">配置Oracle数据库本机网络加密和数据完整性</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">保护主机操作系统（安装Oracle数据库的系统）。</span></p>
                           <p>通过禁用所有不必要的操作系统服务来保护主机操作系统。UNIX和Windows都提供各种操作系统服务，其中大部分都不是典型部署所必需的。这些服务包括FTP，TFTP，TELNET等。确保为每个正在禁用的服务关闭UDP和TCP端口。禁用一种类型的端口而不是另一种端口不会使操作系统更安全。</p>
                        </li>
                        <li>
                           <p><span class="bold">配置数据库链接通信协议。</span></p>
                           <p>要指定进行数据库链接通信的协议，请将<code class="codeph">OUTBOUND_DBLINK_PROTOCOLS</code>初始化参数设置为以下设置之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ALL</code> （默认）允许所有网络协议用于数据库链接。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="codeinlineitalic">comma-separated_list_of_protocols</span></code>可以设置<code class="codeph">TPC</code> ， <code class="codeph">TCPS</code>或<code class="codeph">IPC</code> 。例如，对于单个协议：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET OUTBOUND_DBLINK_PROTOCOLS = TCPS;</pre><p>对于多种协议：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET OUTBOUND_DBLINK_PROTOCOLS = TCP，TCPS，IPC;</pre></li>
                              <li>
                                 <p><code class="codeph">NONE</code>禁用任何数据库链接通信。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">如有必要，请禁用全局数据库链接的LDAP查找。</span> 
                           </p>
                           <p>设置<code class="codeph">ALLOW_GLOBAL_DBLINKS</code>初始化参数以启用或禁用全局数据库链接的LDAP查找。设置如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ON</code>启用LDAP查找全局数据库链接。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OFF</code> （默认值）禁用全局数据库链接的LDAP查找。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6" title="通过使用客户端，监听器和网络指南来确保全面保护，从而提高网络通信的安全性。">保护网络的准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10083"></a><div class="props_rev_3"><a id="GUID-4020FD32-578B-475E-8965-CF64F6D5D34C" name="GUID-4020FD32-578B-475E-8965-CF64F6D5D34C"></a><h4 id="DBSEG-GUID-4020FD32-578B-475E-8965-CF64F6D5D34C" class="sect4">安全套接字层连接安全性</h4>
                  <div>
                     <p>Oracle提供了保护安全套接字层（SSL）的指南。</p>
                     <p>安全套接字层（SSL）是用于安全通信的Internet标准协议，提供数据完整性和数据加密的机制。这些机制可以保护您或应用程序和服务器发送和接收的消息，支持通过证书进行安全身份验证，授权和消息传递，并在必要时加密。良好的安全措施可以最大限度地保护并最大限度地减少威胁安</p>
                     <ol>
                        <li>
                           <p><span class="bold">确保配置文件（例如，对于客户端和侦听器）使用正确的SSL端口，即安装时配置的端口。</span> 
                           </p>
                           <p>您可以在任何端口上运行HTTPS，但标准指定端口443，默认情况下，任何符合HTTPS的浏览器都会查找。端口也可以在URL中指定，例如：</p><pre class="oac_no_warn" dir="ltr">https://secure.example.com:4445/</pre><p>如果正在使用防火墙，那么它也必须使用相同的端口进行安全（SSL）通信。</p>
                        </li>
                        <li>
                           <p><span class="bold">确保在tnsnames.ora文件的ADDRESS参数中指定TCPS作为PROTOCOL（通常在客户端或LDAP目录中）。</span> 
                           </p>
                           <p>相同的规范必须出现在<code class="codeph">listener.ora</code>文件中（通常位于<code class="codeph">$ORACLE_HOME/network/admin</code>目录中）。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">确保SSL模式对于每个通信的两端都是一致的。例如，数据库（在一侧）和用户或应用程序（在另一侧）必须具有相同的SSL模式。</span></p>
                           <p>该模式可以指定客户端或服务器身份验证（单向），客户端和服务器身份验证（双向）或无身份验证。</p>
                        </li>
                        <li>
                           <p><span class="bold">确保服务器支持使用的客户端密码套件和证书密钥算法。</span></p>
                        </li>
                        <li>
                           <p><span class="bold">为服务器和客户端启用DN匹配，以防止服务器在连接期间伪造其身份到客户端。</span></p>
                           <p>此设置通过将其全局数据库名称与服务器证书中的DN相匹配来确保服务器标识正确。</p>
                           <p>您可以在<code class="codeph">tnsnames.ora</code>文件中启用DN匹配。例如：</p><pre class="oac_no_warn" dir="ltr">设置：SSL_SERVER_CERT_DN = “CN =金融，CN = OracleContext，C = US，O =例如”</pre><p>否则，客户端应用程序将不检查服务器证书，这可能允许服务器伪造其身份。</p>
                        </li>
                        <li>
                           <p><span class="bold">不要从server.key文件中的RSA私钥中删除加密，这需要您输入密码来读取和解析此文件。</span></p>
                           <div class="infoboxnote" id="GUID-4020FD32-578B-475E-8965-CF64F6D5D34C__GUID-E5A500A8-0822-462F-B5E9-F7E6309CE809">
                              <p class="notep1">注意：</p>
                              <p>没有SSL的服务器不需要密码短语。</p>
                           </div>
                           <p>如果您确定服务器足够安全，则可以在保留原始文件的同时从RSA私钥中删除加密。这使系统引导脚本能够启动数据库服务器，因为不需要密码短语。理想情况下，仅限制root用户的权限，并让Web服务器以<code class="codeph">root</code>身份启动，然后以另一个用户身份登录。否则，获得此密钥的任何人都可以在Internet上模拟您，或者解密发送到服务器的数据。
                           </p>
                           <div class="infoboxnotealso" id="GUID-4020FD32-578B-475E-8965-CF64F6D5D34C__GUID-A88A41C6-A623-4798-9C73-7AA3EF6941C0">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="configuring-secure-sockets-layer-authentication.html#GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" title="您可以将Oracle数据库配置为使用安全套接字层身份验证。">配置安全套接字层身份验证</a> ，用于一般SSL信息，包括配置</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">sqlnet.ora</code>与TCP相关的参数的<a href="../netrf/index.html" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-2F7BD01B-8C89-429C-A62D-6B5EFC0762E6" title="通过使用客户端，监听器和网络指南来确保全面保护，从而提高网络通信的安全性。">保护网络的准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG759"></a><div class="props_rev_3"><a id="GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F" name="GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F"></a><h3 id="DBSEG-GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F" class="sect3">保护外部程序的准则</h3>
               <div>
                  <p><code class="codeph">ENFORCE_CREDENTIAL</code>环境变量控制<code class="codeph">extproc</code>进程如何验证用户凭据和标注函数。
                  </p>
                  <p></p>
                  <p>您可以在<code class="codeph">extproc.ora</code>文件中指定此变量。在修改此变量之前，请检查站点的外部库处理安全性要求。为了最大限度地提高安全性，请将<code class="codeph">ENFORCE_CREDENTIAL</code>变量设置为<code class="codeph">TRUE</code> 。默认设置为<code class="codeph">FALSE</code> 。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F__GUID-8367C63F-DB06-4BDF-9C8F-6D63C6BE64AB">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部程序</a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG90008"></a><div class="props_rev_3"><a id="GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" name="GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37"></a><h3 id="DBSEG-GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" class="sect3">审计指南</h3>
               <div>
                  <p>Oracle提供了审计指南。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-870B6C28-B334-402A-B04E-34A54AE50C8B">审计信息的可管理性</a><br>虽然审计相对便宜，但尽可能限制审计事件的数量。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-91FA75FD-9874-4591-93AC-AD43FBC526E5">典型数据库活动的审计</a><br>Oracle提供了何时必须收集有关特定数据库活动的历史信息的指南。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-866AF2A6-1CF0-4936-87D0-26AF4D38028E">审计可疑数据库活动</a><br>Oracle提供了审计监视可疑数据库活动的准则。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-AA77F6F8-8A59-4EBB-B386-9223F28A9B09">推荐的审核设置</a><br>Oracle提供的预定义策略包含适用于大多数站点的建议审核设置。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-E24B8B4D-9739-4FF8-A036-D3A2622AEBB5">查询UNIFIED_AUDIT_TRAIL数据字典视图的最佳实践</a><br>要通过查询<code class="codeph">UNIFIED_AUDIT_TRAIL</code>数据字典视图获得最佳结果，您应遵循以下准则。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG505"></a><div class="props_rev_3"><a id="GUID-870B6C28-B334-402A-B04E-34A54AE50C8B" name="GUID-870B6C28-B334-402A-B04E-34A54AE50C8B"></a><h4 id="DBSEG-GUID-870B6C28-B334-402A-B04E-34A54AE50C8B" class="sect4">审计信息的可管理性</h4>
                  <div>
                     <p>虽然审计相对便宜，但尽可能限制审计事件的数量。</p>
                     <p>这最大限度地降低了对审计报表执行的性能影响和审计跟踪的大小，使分析和理解更容易。</p>
                     <p>在制定审计策略时，请遵循以下准则：</p>
                     <ol>
                        <li>
                           <p><span class="bold">评估您的审核原因。</span></p>
                           <p>在清楚了解审计原因之后，您可以制定适当的审计策略并避免不必要的审计。</p>
                           <p>例如，假设您正在审核以调查可疑数据库活动。这些信息本身并不具体。您怀疑或注意到哪些类型的可疑数据库活动？更集中的审计策略可能是审计数据库中任意表的未授权删除。此目的缩小了被审计的行动类型以及受可疑活动影响的对象类型。</p>
                        </li>
                        <li>
                           <p><span class="bold">审核知识渊博。</span></p>
                           <p>审核获取目标信息所需的最少语句，用户或对象数。这可以防止不必要的审计信息混乱有意义的信息并使用<code class="codeph">SYSTEM</code>表空间中的宝贵空间。平衡您需要收集足够的安全信息以及存储和处理它的能力。
                           </p>
                           <p>例如，如果您正在审核以收集有关数据库活动的信息，则确切地确定要跟踪的活动类型，仅审核感兴趣的活动，并仅审核收集所需信息所需的时间。另一个例子，如果您只对每个会话的逻辑I / O信息感兴趣，请不要审核<span class="italic">对象</span> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">在实施审核策略之前，请咨询您的法律部门。</span></p>
                           <p>您应该让组织的法律部门审核您的审核策略。由于您的审核将监控组织中的其他用户，因此您必须确保正确遵循站点的合规性和公司策略。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle提供了审计指南。">审计准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG506"></a><div class="props_rev_3"><a id="GUID-91FA75FD-9874-4591-93AC-AD43FBC526E5" name="GUID-91FA75FD-9874-4591-93AC-AD43FBC526E5"></a><h4 id="DBSEG-GUID-91FA75FD-9874-4591-93AC-AD43FBC526E5" class="sect4">典型数据库活动的审计</h4>
                  <div>
                     <p>Oracle提供了何时必须收集有关特定数据库活动的历史信息的指南。</p>
                     <ol>
                        <li>
                           <p><span class="bold">仅审核相关操作。</span></p>
                           <p>至少，审核用户访问权限，系统权限的使用以及对数据库架构结构的更改。为避免使用无用的审计记录混乱有意义的信息并减少审计跟踪管理的数量，只审计目标数据库活动。还要记住，审计过多会影响数据库性能。</p>
                           <p>例如，审计对数据库中所有表的更改会产生太多审计跟踪记录，并可能降低数据库性能。但是，审计关键表的更改（例如人力资源表中的工资）很有用。</p>
                           <p>您可以使用细粒度审核来审核特定操作，这在<a href="configuring-audit-policies.html#GUID-B706FF6F-13A6-4944-AFCB-29971F5076FD" title="Fine-grained auditing enables you to create audit policies at the granular level.">审核具有</a>细粒度审核的<a href="configuring-audit-policies.html#GUID-B706FF6F-13A6-4944-AFCB-29971F5076FD" title="细粒度审计使您可以在粒度级别创建审计策略。">特定活动中进行了</a>描述。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">存档审计记录并清除审计跟踪。</span></p>
                           <p>收集所需信息后，归档感兴趣的审核记录，然后清除此信息的审核跟踪。请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="administering-the-audit-trail.html#GUID-58CFB1F4-7E76-46A4-8DDD-2546DBD67FBE" title="您可以归档传统操作系统，统一数据库和传统数据库审计跟踪。">归档审计跟踪</a></p>
                              </li>
                              <li>
                                 <p><a href="administering-the-audit-trail.html#GUID-9B891A44-3DF4-4B52-98D4-A931DBFAEC1D" title="DBMS_AUDIT_MGMT PL / SQL程序包可以计划自动清除作业，手动清除审计记录以及执行其他审计跟踪操作。">清除审计跟踪记录</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">记住贵公司的隐私考虑因素。</span></p>
                           <p>隐私法规通常会导致额外的商业隐私政策。大多数隐私法要求企业监控对个人身份信息（PII）的访问，并通过审计实施监控。业务级隐私策略应解决数据访问和用户责任的所有相关方面，包括技术，法律和公司政策问题。</p>
                        </li>
                        <li>
                           <p><span class="bold">检查Oracle数据库日志文件以获取其他审核信息</span></p>
                           <p>Oracle数据库生成的日志文件包含审计数据库时可以使用的有用信息。例如，Oracle数据库创建一个警报文件来记录<code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>操作，以及结构更改，例如将数据文件添加到数据库。
                           </p>
                           <p>例如，如果要审核已提交或已回滚的事务，则可以使用重做日志文件。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle提供了审计指南。">审计准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG507"></a><div class="props_rev_3"><a id="GUID-866AF2A6-1CF0-4936-87D0-26AF4D38028E" name="GUID-866AF2A6-1CF0-4936-87D0-26AF4D38028E"></a><h4 id="DBSEG-GUID-866AF2A6-1CF0-4936-87D0-26AF4D38028E" class="sect4">审计可疑数据库活动</h4>
                  <div>
                     <p>Oracle提供了审计监视可疑数据库活动的准则。</p>
                     <ol>
                        <li>
                           <p><span class="bold">一般是先审核，然后是具体的。</span></p>
                           <p>当您开始审核可疑数据库活动时，通常没有太多信息可用于定位特定用户或架构对象。因此，审计一般首先，即通过使用统一的审计政策。<a href="configuring-audit-policies.html#GUID-22CDB667-5AA2-4051-A262-FBD0236763CB" title="统一审计支持自定义统一审计策略，预定义的统一审计策略和细粒度审计。">配置审核策略</a>说明了如何审核SQL语句，模式对象，权限等。
                           </p>
                           <p>记录并分析初步审核信息后，请更改审核策略以审核特定操作和权限。您可以为策略添加条件以排除不必要的审核记录。您还可以使用<code class="codeph">AUDIT POLICY</code>语句中的<code class="codeph">EXCEPT</code>子句来排除不需要审计的特定用户。有关<a href="configuring-audit-policies.html#GUID-A215CCAF-4AFF-448A-909C-736EBDED5A8A" title="You can use the CREATE AUDIT POLICY and AUDIT statements to use unified auditing policies.">统一审核策略的</a>详细信息，请参阅<a href="configuring-audit-policies.html#GUID-A215CCAF-4AFF-448A-909C-736EBDED5A8A" title="您可以使用CREATE AUDIT POLICY和AUDIT语句来使用统一的审计策略。">使用统一审核策略审核活动和审核声明</a> 。
                           </p>
                           <p>您可以使用细粒度审计（在具有细粒度审计的<a href="configuring-audit-policies.html#GUID-B706FF6F-13A6-4944-AFCB-29971F5076FD" title="细粒度审计使您可以在粒度级别创建审计策略。">审计特定活动中进行</a>描述）来审计特定操作。
                           </p>
                           <p>继续此过程，直到您收集到足够的证据来得出有关可疑数据库活动起源的结论。</p>
                        </li>
                        <li>
                           <p><span class="bold">审核常见的可疑活动。</span></p>
                           <p>常见的可疑活动如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在非正常时间访问数据库的用户</p>
                              </li>
                              <li>
                                 <p>多次失败的用户登录尝试</p>
                              </li>
                              <li>
                                 <p>不存在的用户登录尝试</p>
                              </li>
                           </ul>
                           <p>此外，请注意，敏感数据（如信用卡号）可以显示在审计跟踪列中，例如SQL查询中使用的SQL文本。您还应该监视共享帐户的用户或从同一IP地址登录的多个用户。您可以查询<code class="codeph">UNIFIED_AUDIT_TRAIL</code>数据字典视图以查找此类活动。对于非常精细的方法，请创建细粒度的审核策略。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle提供了审计指南。">审计准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG508"></a><div class="props_rev_3"><a id="GUID-AA77F6F8-8A59-4EBB-B386-9223F28A9B09" name="GUID-AA77F6F8-8A59-4EBB-B386-9223F28A9B09"></a><h4 id="DBSEG-GUID-AA77F6F8-8A59-4EBB-B386-9223F28A9B09" class="sect4">推荐的审核设置</h4>
                  <div>
                     <p>Oracle提供的预定义策略包含适用于大多数站点的建议审核设置。</p>
                     <p>例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ORA_SECURECONFIG</code>审核Oracle Database Release 11 <span class="italic">g中</span>的相同默认审核设置。它跟踪许多权限的使用，例如<code class="codeph">ALTER ANY TABLE</code> ， <code class="codeph">GRANT ANY PRIVILEGE</code>和<code class="codeph">CREATE USER</code> 。它跟踪的操作包括<code class="codeph">ALTER USER</code> ， <code class="codeph">CREATE ROLE</code> ， <code class="codeph">LOGON</code>和其他常用活动。仅当在Oracle Database Release 12 <span class="italic">c中</span>创建数据库时，才会默认启用此策略。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ORA_DATABASE_PARAMETER</code>审核常用的Oracle数据库参数设置： <code class="codeph">ALTER DATABASE</code> ， <code class="codeph">ALTER SYSTEM</code>和<code class="codeph">CREATE SPFILE</code> 。默认情况下，不启用此策略。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ORA_ACCOUNT_MGMT</code>审核常用的用户帐户和权限设置： <code class="codeph">CREATE USER</code> ， <code class="codeph">ALTER USER</code> ， <code class="codeph">DROP USER</code> ， <code class="codeph">CREATE ROLE</code> ， <code class="codeph">DROP ROLE</code> ， <code class="codeph">ALTER ROLE</code> ， <code class="codeph">SET ROLE</code> ， <code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code> 。默认情况下，不启用此策略。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AA77F6F8-8A59-4EBB-B386-9223F28A9B09__GUID-A8EFF609-C808-4CCC-865B-D9CF47B3A71B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="configuring-audit-policies.html#GUID-C43651C6-A35C-4EEF-BEA7-EADA408BFF67" title="Oracle数据库提供预定义的统一审计策略，涵盖常用的安全相关审计设置。">使用预定义的统一审核策略审核活动，以</a>获取有关这些和其他预定义审核策略的详细信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle提供了审计指南。">审计准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E24B8B4D-9739-4FF8-A036-D3A2622AEBB5" name="GUID-E24B8B4D-9739-4FF8-A036-D3A2622AEBB5"></a><h4 id="DBSEG-GUID-E24B8B4D-9739-4FF8-A036-D3A2622AEBB5" class="sect4">查询UNIFIED_AUDIT_TRAIL数据字典视图的最佳实践</h4>
                  <div>
                     <p>要通过查询<code class="codeph">UNIFIED_AUDIT_TRAIL</code>数据字典视图获得最佳结果，您应遵循以下准则。
                     </p>
                     <ol id="GUID-E24B8B4D-9739-4FF8-A036-D3A2622AEBB5__OL_GWP_4TR_MFB">
                        <li><span class="bold">确保统一审计内部表的统计信息是最新的。</span><p>在<code class="codeph">AUDSYS</code>模式中的<code class="codeph">AUD$UNIFIED</code>表上执行<code class="codeph">DBMS_STATS.GATHER_TABLE_STATS</code>过程，以确保在查询<code class="codeph">UNIFIED_AUDIT_TRAIL</code>数据字典视图之前更新统一审计表统计信息。
                           </p>
                        </li>
                        <li><span class="bold">加载写入操作系统溢出文件的统一审计记录。</span><p>您可以使用<code class="codeph">DBMS_AUDIT_MGMT.LOAD_UNIFIED_AUDIT_FILES</code>过程显式地或通过配置Oracle Scheduler作业来执行此<code class="codeph">DBMS_AUDIT_MGMT.LOAD_UNIFIED_AUDIT_FILES</code> 。
                           </p>
                        </li>
                        <li><span class="bold">当统一审计跟踪中的记录数量达到相当大的数量（例如，一百万）时，则启动正确的归档和清除机制。</span><p>归档和清除统一审计试验可减少否则可能增长并导致读取性能问题的数据量。Oracle建议您配置标准清除策略。您创建的清除策略将取决于系统上生成的审核记录的速率。高审计记录生成率需要频繁清除。</p>
                        </li>
                        <li><span class="bold">将统一审计跟踪移动到自定义表空间。</span> 
                           <p>使用自定义表空间可以更好地管理审计数据并减少对<code class="codeph">SYSAUX</code>表空间中其他对象的影响。默认情况下，统一审计跟踪记录将写入<code class="codeph">SYSAUX</code>表空间。要使用其他表空间，请执行<code class="codeph">DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_LOCATION</code>过程。
                           </p>
                        </li>
                        <li><span class="bold">查询UNIFIED_AUDIT_TRAIL数据字典视图时，请在WHERE子句中包含EVENT_TIMESTAMP_UTC列。</span><p><code class="codeph">EVENT_TIMESTAMP_UTC</code>列记录UTC时区中审计事件的时间戳。在查询中包含此列有助于实现分区修剪，从而提高<code class="codeph">UNIFIED_AUDIT_TRAIL</code>视图的读取性能。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="administering-the-audit-trail.html#GUID-91B14CCD-E408-4669-82FA-EE833EDBBBA9" title="已写入溢出审计文件的审计记录可以移动到统一审计跟踪数据库表中。">将操作系统审计记录移动到统一审计跟踪中</a></li>
                           <li><a href="administering-the-audit-trail.html#GUID-58CFB1F4-7E76-46A4-8DDD-2546DBD67FBE" title="您可以归档传统操作系统，统一数据库和传统数据库审计跟踪。">归档审计跟踪</a></li>
                           <li><a href="administering-the-audit-trail.html#GUID-9B891A44-3DF4-4B52-98D4-A931DBFAEC1D" title="DBMS_AUDIT_MGMT PL / SQL程序包可以计划自动清除作业，手动清除审计记录以及执行其他审计跟踪操作。">清除审计跟踪记录</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle提供了审计指南。">审计准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG509"></a><div class="props_rev_3"><a id="GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" name="GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924"></a><h3 id="DBSEG-GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" class="sect3">解决CONNECT角色转换问题</h3>
               <div>
                  <p>随Oracle数据库版本7引入的<code class="codeph">CONNECT</code>角色为数据库角色添加了新的强大支持。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-DC84DA60-7B3C-4024-9AB0-38899DBC1BC0">为什么CONNECT角色发生了变化？</a><br><code class="codeph">CONNECT</code>角色用于示例代码，应用程序，文档和技术文档。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8">CONNNECT角色更改如何影响应用程序</a><br><code class="codeph">CONNECT</code>角色更改可以在数据库升级，帐户配置和使用新数据库的应用程序安装中看到。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB">CONNECT角色更改如何影响用户</a><br>对<code class="codeph">CONNECT</code>角色的更改会以不同方式影响一般用户，应用程序开发人员和客户端/服务器应用程序。
                     </li>
                     <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D">解决CONNECT角色变更的方法</a><br>Oracle建议使用三种方法来解决<code class="codeph">CONNECT</code>角色更改的影响。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ED169179-BB00-4C1E-9C2D-C7C30CC4E6CA" title="Oracle提供了保护数据库安全的指南，例如保护用户帐户，权限，角色，密码和数据的建议。">确保Oracle数据库安全</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG510"></a><div class="props_rev_3"><a id="GUID-DC84DA60-7B3C-4024-9AB0-38899DBC1BC0" name="GUID-DC84DA60-7B3C-4024-9AB0-38899DBC1BC0"></a><h4 id="DBSEG-GUID-DC84DA60-7B3C-4024-9AB0-38899DBC1BC0" class="sect4">为什么CONNECT角色发生了变化？</h4>
                  <div>
                     <p><code class="codeph">CONNECT</code>角色用于示例代码，应用程序，文档和技术文档。
                     </p>
                     <p>在Oracle数据库<span class="italic">10g</span>第2版（10.2）中， <code class="codeph">CONNECT</code>角色已更改。如果要从Oracle Database 10.2之前的版本升级到当前版本，那么您应该了解最新版本中<code class="codeph">CONNECT</code>角色的更改方式。
                     </p>
                     <p><code class="codeph">CONNECT</code>角色最初建立了一组特殊的权限。这些权限如下： <code class="codeph">ALTER SESSION</code> ， <code class="codeph">CREATE CLUSTER</code> ， <code class="codeph">CREATE DATABASE LINK</code> ， <code class="codeph">CREATE SEQUENCE</code> ， <code class="codeph">CREATE SESSION</code> ， <code class="codeph">CREATE SYNONYM</code> ， <code class="codeph">CREATE TABLE</code> ， <code class="codeph">CREATE VIEW</code> 。</p>
                     <p>从Oracle数据库<span class="italic">10g</span>第2版开始， <code class="codeph">CONNECT</code>角色仅具有<code class="codeph">CREATE SESSION</code>权限，所有其他权限都将被删除。从Oracle Database 12 <span class="italic">c</span>第1版开始， <code class="codeph">CONNECT</code>角色具有<code class="codeph">CREATE SESSION</code>和<code class="codeph">SET CONTAINER</code>权限。
                     </p>
                     <p>尽管<code class="codeph">CONNECT</code>角色经常用于在Oracle数据库中配置新帐户，但连接到数据库并不需要所有这些权限。通过此更改，您可以更轻松地实施良好的安全实践。
                     </p>
                     <p>每个用户应该只拥有执行其任务所需的权限，这个概念称为最小权限原则。最低权限通过限制权限来降低风险，因此在不经意或恶意地同时降低执行不适当事物的能力的同时，仍然可以轻松地执行所需操作。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" title="随Oracle数据库版本7引入的CONNECT角色为数据库角色添加了新的强大支持。">解决CONNECT角色更改</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG511"></a><div class="props_rev_3"><a id="GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8" name="GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8"></a><h4 id="DBSEG-GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8" class="sect4">CONNNECT角色更改如何影响应用程序</h4>
                  <div>
                     <p><code class="codeph">CONNECT</code>角色更改可以在数据库升级，帐户配置和使用新数据库的应用程序安装中看到。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-31DD374A-3EE0-4C6C-A4CE-CEA3644B2CC7">CONNECT角色更改如何影响数据库升级</a><br>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响数据库升级。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-76081836-9E01-48D7-B0DF-F65F5A8C2065">CONNECT角色更改如何影响帐户设置</a><br>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响帐户配置。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-8A814877-31B0-4CC4-B4D3-CB9741BE553B">CONNECT角色更改如何影响使用新数据库的应用程序</a><br>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响使用新数据库的应用程序。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" title="随Oracle数据库版本7引入的CONNECT角色为数据库角色添加了新的强大支持。">解决CONNECT角色更改</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG512"></a><div class="props_rev_3"><a id="GUID-31DD374A-3EE0-4C6C-A4CE-CEA3644B2CC7" name="GUID-31DD374A-3EE0-4C6C-A4CE-CEA3644B2CC7"></a><h5 id="DBSEG-GUID-31DD374A-3EE0-4C6C-A4CE-CEA3644B2CC7" class="sect5">CONNECT角色更改如何影响数据库升级</h5>
                     <div>
                        <p>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响数据库升级。
                        </p>
                        <p>将现有Oracle数据库升级到Oracle数据库<span class="italic">10g</span>第2版（10.2）会自动将<code class="codeph">CONNECT</code>角色更改为仅具有<code class="codeph">CREATE SESSION</code>权限。
                        </p>
                        <p>大多数应用程序不受影响，因为应用程序对象已存在：不需要创建新表，视图，序列，同义词，集群或数据库链接。</p>
                        <p>创建表，视图，序列，同义词，集群或数据库链接或动态使用<code class="codeph">ALTER SESSION</code>命令的应用程序可能由于权限不足而失败。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8" title="CONNECT角色更改可以在数据库升级，帐户配置和使用新数据库的应用程序安装中看到。">CONNNECT角色更改如何影响应用程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG513"></a><div class="props_rev_3"><a id="GUID-76081836-9E01-48D7-B0DF-F65F5A8C2065" name="GUID-76081836-9E01-48D7-B0DF-F65F5A8C2065"></a><h5 id="DBSEG-GUID-76081836-9E01-48D7-B0DF-F65F5A8C2065" class="sect5">CONNECT角色更改如何影响帐户设置</h5>
                     <div>
                        <p>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响帐户配置。
                        </p>
                        <p>如果您的应用程序或DBA授予<code class="codeph">CONNECT</code>角色作为帐户设置过程的一部分，则仅包括<code class="codeph">CREATE SESSION</code>权限。必须直接或通过其他角色授予任何其他权限。
                        </p>
                        <p>可以通过创建新的自定义数据库角色来解决此问题。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-76081836-9E01-48D7-B0DF-F65F5A8C2065__GUID-7342C2D3-FA7C-46E4-BEEE-42A380344833">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" title="Oracle建议使用三种方法来解决CONNECT角色更改的影响。">解决CONNECT角色变更的方法</a> 
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8" title="CONNECT角色更改可以在数据库升级，帐户配置和使用新数据库的应用程序安装中看到。">CONNNECT角色更改如何影响应用程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG514"></a><div class="props_rev_3"><a id="GUID-8A814877-31B0-4CC4-B4D3-CB9741BE553B" name="GUID-8A814877-31B0-4CC4-B4D3-CB9741BE553B"></a><h5 id="DBSEG-GUID-8A814877-31B0-4CC4-B4D3-CB9741BE553B" class="sect5">CONNECT角色更改如何影响使用新数据库的应用程序</h5>
                     <div>
                        <p>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响使用新数据库的应用程序。
                        </p>
                        <p>使用Oracle数据库<span class="italic">10g</span>第2版（10.2）实用程序（DBCA）创建的新数据库，或使用从DBCA生成的数据库创建模板，仅使用<code class="codeph">CREATE SESSION</code>权限定义<code class="codeph">CONNECT</code>角色。
                        </p>
                        <p>如果用于应用程序的数据库架构仅通过<code class="codeph">CONNECT</code>角色授予特权，则安装应用程序以使用新数据库可能会失败。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-ACEF73C2-8D85-4605-A384-4C4A5A7F5CA8" title="CONNECT角色更改可以在数据库升级，帐户配置和使用新数据库的应用程序安装中看到。">CONNNECT角色更改如何影响应用程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG515"></a><div class="props_rev_3"><a id="GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB" name="GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB"></a><h4 id="DBSEG-GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB" class="sect4">CONNECT角色更改如何影响用户</h4>
                  <div>
                     <p>对<code class="codeph">CONNECT</code>角色的更改会以不同方式影响一般用户，应用程序开发人员和客户端/服务器应用程序。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-1745CAF1-C069-43CE-83AB-20657114E30F">CONNECT角色更改如何影响一般用户</a><br>您应该了解<code class="codeph">CONNECT</code>角色如何影响一般用户。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-A51CF057-86CF-4DFC-B5E2-F476C728B9B0">CONNECT角色更改如何影响应用程序开发人员</a><br>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响应用程序开发人员。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-CF5ABC37-C4CF-4B5F-80B8-C6B8194767C3">CONNECT角色更改如何影响客户端服务器应用程序</a><br>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响客户端服务器应用程序。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" title="随Oracle数据库版本7引入的CONNECT角色为数据库角色添加了新的强大支持。">解决CONNECT角色更改</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG516"></a><div class="props_rev_3"><a id="GUID-1745CAF1-C069-43CE-83AB-20657114E30F" name="GUID-1745CAF1-C069-43CE-83AB-20657114E30F"></a><h5 id="DBSEG-GUID-1745CAF1-C069-43CE-83AB-20657114E30F" class="sect5">CONNECT角色更改如何影响一般用户</h5>
                     <div>
                        <p>您应该了解<code class="codeph">CONNECT</code>角色如何影响一般用户。
                        </p>
                        <p>新的<code class="codeph">CONNECT</code>角色仅提供<code class="codeph">CREATE SESSION</code>权限。连接到数据库以使用应用程序的用户不受影响，因为<code class="codeph">CONNECT</code>角色仍具有<code class="codeph">CREATE SESSION</code>权限。
                        </p>
                        <p>但是，如果某些用户仅使用<code class="codeph">CONNECT</code>角色进行配置，则不会为其提供适当的权限。这些是创建表，视图，序列，同义词，集群或数据库链接的用户，或使用<code class="codeph">ALTER SESSION</code>命令。<code class="codeph">CONNECT</code>角色不再提供所需的权限。要授予所需的其他权限，数据库管理员必须为相应的权限创建和应用其他角色，或者将其直接授予需要的用户。
                        </p>
                        <p>请注意，设置事件需要<code class="codeph">ALTER SESSION</code>权限。很少有数据库用户需要<code class="codeph">ALTER SESSION</code>权限。
                        </p>
                        <p>该<code class="codeph">ALTER SESSION</code> <span class="italic">不需要</span>其他ALTER SESSION命令的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB" title="对CONNECT角色的更改会以不同方式影响一般用户，应用程序开发人员和客户端/服务器应用程序。">CONNECT角色更改如何影响用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG517"></a><div class="props_rev_3"><a id="GUID-A51CF057-86CF-4DFC-B5E2-F476C728B9B0" name="GUID-A51CF057-86CF-4DFC-B5E2-F476C728B9B0"></a><h5 id="DBSEG-GUID-A51CF057-86CF-4DFC-B5E2-F476C728B9B0" class="sect5">CONNECT角色更改如何影响应用程序开发人员</h5>
                     <div>
                        <p>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响应用程序开发人员。
                        </p>
                        <p>仅使用<code class="codeph">CONNECT</code>角色配置的应用程序开发人员没有适当的权限来创建表，视图，序列，同义词，集群或数据库链接，也无法使用<code class="codeph">ALTER SESSION</code>语句。
                        </p>
                        <p>您必须为相应的权限创建和应用其他角色，或者直接将其授予需要它们的应用程序开发人员。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB" title="对CONNECT角色的更改会以不同方式影响一般用户，应用程序开发人员和客户端/服务器应用程序。">CONNECT角色更改如何影响用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG518"></a><div class="props_rev_3"><a id="GUID-CF5ABC37-C4CF-4B5F-80B8-C6B8194767C3" name="GUID-CF5ABC37-C4CF-4B5F-80B8-C6B8194767C3"></a><h5 id="DBSEG-GUID-CF5ABC37-C4CF-4B5F-80B8-C6B8194767C3" class="sect5">CONNECT角色更改如何影响客户端服务器应用程序</h5>
                     <div>
                        <p>您应该了解<span class="apiname" translate="no">CONNECT</span>角色如何影响客户端服务器应用程序。
                        </p>
                        <p>使用专用用户帐户的大多数客户端/服务器应用程序不会受此更改的影响。</p>
                        <p>但是，在帐户设置或运行时操作期间在用户模式中使用动态SQL创建私有同义词或临时表的应用程序将受到影响。他们需要额外的角色或拨款才能获得适合其活动的系统权限。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-93C7F6D5-C123-4757-AC5D-E53B4D321ABB" title="对CONNECT角色的更改会以不同方式影响一般用户，应用程序开发人员和客户端/服务器应用程序。">CONNECT角色更改如何影响用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG519"></a><div class="props_rev_3"><a id="GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" name="GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D"></a><h4 id="DBSEG-GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" class="sect4">解决CONNECT角色变更的方法</h4>
                  <div>
                     <p>Oracle建议使用三种方法来解决<code class="codeph">CONNECT</code>角色更改的影响。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-09752935-CDC0-49A6-8D7C-6C4213B39F10">创建新的数据库角色</a><br>可以通过创建新的数据库角色来管理从<code class="codeph">CONNECT</code>角色中删除的权限。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-60522654-62F1-4264-81DF-4B82928F044C">恢复CONNECT权限</a><br><code class="codeph">rstrconn.sql</code>脚本恢复<code class="codeph">CONNECT</code>权限。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-D917D47D-30EB-4728-A0CE-9D28681642C6">数据字典视图显示CONNECT受赠者</a><br><code class="codeph">DBA_CONNECT_ROLE_GRANTEES</code>数据字典视图使继续使用旧<code class="codeph">CONNECT</code>角色的管理员可以查看哪些用户具有该角色。
                        </li>
                        <li class="ulchildlink"><a href="keeping-your-oracle-database-secure.html#GUID-5BACDD31-A7DA-4C8A-8FFD-4BD00AF45E57">最小特权分析研究</a><br>Oracle合作伙伴和应用程序提供商应进行最小权限分析，以便他们能够向Oracle客户提供更安全的产品。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-D29AD047-B99B-4460-AB1F-F2BC3EC75924" title="随Oracle数据库版本7引入的CONNECT角色为数据库角色添加了新的强大支持。">解决CONNECT角色更改</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG520"></a><div class="props_rev_3"><a id="GUID-09752935-CDC0-49A6-8D7C-6C4213B39F10" name="GUID-09752935-CDC0-49A6-8D7C-6C4213B39F10"></a><h5 id="DBSEG-GUID-09752935-CDC0-49A6-8D7C-6C4213B39F10" class="sect5">创建新的数据库角色</h5>
                     <div>
                        <p>可以通过创建新的数据库角色来管理从<code class="codeph">CONNECT</code>角色中删除的权限。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>连接到已升级的Oracle数据库并创建新的数据库角色。</span><div>
                                 <p>以下示例使用名为<code class="codeph">my_app_developer</code>的角色。
                                 </p><pre class="oac_no_warn" dir="ltr">创建角色my_app_developer; GRANT CREATE TABLE，CREATE VIEW，CREATE SEQUENCE，CREATE SYNONYM，CREATE CLUSTER，CREAT DATABASE LINK，ALTER SESSION to my_app_developer;</pre></div>
                           </li>
                           <li class="stepexpand"><span>确定哪些用户或数据库角色具有<code class="codeph">CONNECT</code>角色，并将新角色授予这些用户或角色。</span><div><pre class="oac_no_warn" dir="ltr">SELECT USER $。NAME，ADMIN_OPTION，DEFAULT_ROLE来自USER $，SYSAUTH $，DBA_ROLE_PRIVS WHERE PRIVILEGE＃=（SELECT USER＃FROM USER $ WHERE NAME ='CONNECT'）AND USER $。USER＃= GRANTEE＃AND GRANTEE = USER $。NAME AND GRANTED_ROLE ='CONNECT';名称ADMIN_OPTI DEF ------------------------------ ---------- --- R1是是R2否是通过ADMIN OPTION授予my_app_developer到R1;授予my_app_developer至R2;</pre></div>
                           </li>
                           <li class="stepexpand"><span>通过创建权限分析策略来确定用户所需的权限。</span><div>
                                 <p>然后，可以分析您收集的信息，并使用它们以更精细的粒度创建其他数据库角色。然后，可以针对特定用户撤消未使用的权限。</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'my_app_dev_role_pol'，description =&gt;'Captures my_app_developer role use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_ROLE，roles =&gt; role_name_list（'my_app_developer'）; END; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'my_app_dev_role_pol' ）;</pre><p> </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>一段时间后，禁用权限分析策略，然后生成报告。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'my_app_dev_role_pol'）; EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（'my_app_dev_role_pol'）;</pre><p></p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>生成报告后，查询权限分析数据字典视图。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">来自DBA_USED_PRIVS的SELECT USERNAME，SYS_PRIV，OBJECT_OWNER，OBJECT_NAME;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" title="Oracle建议使用三种方法来解决CONNECT角色更改的影响。">解决CONNECT角色更改的方法</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG521"></a><div class="props_rev_3"><a id="GUID-60522654-62F1-4264-81DF-4B82928F044C" name="GUID-60522654-62F1-4264-81DF-4B82928F044C"></a><h5 id="DBSEG-GUID-60522654-62F1-4264-81DF-4B82928F044C" class="sect5">恢复CONNECT权限</h5>
                     <div>
                        <p><code class="codeph">rstrconn.sql</code>脚本恢复<code class="codeph">CONNECT</code>权限。
                        </p>
                        <div class="section">
                           <p>在数据库升级或新数据库创建之后，您可以使用此脚本授予从Oracle Database <span class="italic">10g第</span> 2版（10.2）中的<code class="codeph">CONNECT</code>角色中删除的权限。如果使用此方法，则应撤消不需要它们的用户使用的权限。
                           </p>
                           <p>要恢复<code class="codeph">CONNECT</code>权限：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>运行<code class="codeph">rstrconn.sql</code>脚本，该脚本位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中。</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / rdbm_admin / rstrconn.sql</pre></div>
                           </li>
                           <li class="stepexpand"><span>监视使用的权限。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">创建审计策略connect_priv_pol特权审计创建表，创建序列，创建同义词，创建数据库链接，创建集群，创建视图，更改会话;审计政策connect_priv_pol BY psmith;</pre></div>
                           </li>
                           <li class="stepexpand"><span>定期监视数据库权限使用情况。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT USERID，NAME FROM AUD $，SYSTEM_PRIVILEGE_MAP WHERE  -  PRIV $ USED = PRIVILEGE; USERID NAME ------------------------------ ---------------- ACME CREATE表ACME创建序列ACME CREATE TABLE ACME ALTER SESSION APPS CREATE TABLE APPS CREATE TABLE APPS CREATE TABLE APPS CREATE TABLE 8行选择。</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" title="Oracle建议使用三种方法来解决CONNECT角色更改的影响。">解决CONNECT角色更改的方法</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG523"></a><a id="DBSEG522"></a><div class="props_rev_3"><a id="GUID-D917D47D-30EB-4728-A0CE-9D28681642C6" name="GUID-D917D47D-30EB-4728-A0CE-9D28681642C6"></a><h5 id="DBSEG-GUID-D917D47D-30EB-4728-A0CE-9D28681642C6" class="sect5">数据字典视图显示CONNECT受赠者</h5>
                     <div>
                        <p><code class="codeph">DBA_CONNECT_ROLE_GRANTEES</code>数据字典视图使继续使用旧<code class="codeph">CONNECT</code>角色的管理员可以查看哪些用户具有该角色。
                        </p>
                        <p><a href="keeping-your-oracle-database-secure.html#GUID-D917D47D-30EB-4728-A0CE-9D28681642C6__CHDDGIBB" title="此表命名并描述新视图DBA_CONNECT_ROLE_GRANTEES中的列。">表A-1</a>显示了<code class="codeph">DBA_CONNECT_ROLE_GRANTEES</code>视图中的列。
                        </p>
                        <div class="tblformal" id="GUID-D917D47D-30EB-4728-A0CE-9D28681642C6__CHDDGIBB">
                           <p class="titleintable">表A-1 DBA_CONNECT_ROLE_GRANTEES的列和内容</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBA_CONNECT_ROLE_GRANTEES的列和内容" width="100%" border="1" summary="This table names and describes the columns in the new view DBA_CONNECT_ROLE_GRANTEES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d182523e7874">柱</th>
                                    <th align="left" valign="bottom" width="17%" id="d182523e7877">数据类型</th>
                                    <th align="left" valign="bottom" width="17%" id="d182523e7879">空值</th>
                                    <th align="left" valign="bottom" width="45%" id="d182523e7881">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d182523e7886" headers="d182523e7874 ">
                                       <p><code class="codeph">GRANTEE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7886 d182523e7877 ">
                                       <p><code class="codeph">VARCHAR2（128）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7886 d182523e7879 ">
                                       <p><code class="codeph">空值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d182523e7886 d182523e7881 ">
                                       <p>用户授予<code class="codeph">CONNECT</code>角色</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d182523e7905" headers="d182523e7874 ">
                                       <p><code class="codeph">PATH_OF_CONNECT_ROLE_GRANT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7905 d182523e7877 ">
                                       <p><code class="codeph">VARCHAR2（4000</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7905 d182523e7879 ">
                                       <p><code class="codeph">空值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d182523e7905 d182523e7881 ">
                                       <p>用户被授予<code class="codeph">CONNECT</code>角色（或嵌套角色）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d182523e7923" headers="d182523e7874 ">
                                       <p><code class="codeph">ADMIN_OPT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7923 d182523e7877 ">
                                       <p><code class="codeph">VARCHAR2（3）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d182523e7923 d182523e7879 ">
                                       <p><code class="codeph">空值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d182523e7923 d182523e7881 ">
                                       <p>如果用户在<code class="codeph">CONNECT</code>上具有<code class="codeph">ADMIN</code>选项，则为<code class="codeph">YES</code> ;否则， <code class="codeph">NO</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" title="Oracle建议使用三种方法来解决CONNECT角色更改的影响。">解决CONNECT角色更改的方法</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG967"></a><div class="props_rev_3"><a id="GUID-5BACDD31-A7DA-4C8A-8FFD-4BD00AF45E57" name="GUID-5BACDD31-A7DA-4C8A-8FFD-4BD00AF45E57"></a><h5 id="DBSEG-GUID-5BACDD31-A7DA-4C8A-8FFD-4BD00AF45E57" class="sect5">最小特权分析研究</h5>
                     <div>
                        <p>Oracle合作伙伴和应用程序提供商应进行最小权限分析，以便他们能够向Oracle客户提供更安全的产品。</p>
                        <p>最小特权原则通过将特权限制为执行给定功能所需的最小集来减轻风险。</p>
                        <p>对于分析显示需要相同权限集的每类用户，请创建仅具有这些权限的角色。从这些用户中删除所有其他权限，并将该角色分配给这些用户。随着需求的变化，您可以直接或通过这些新角色授予其他权限，也可以创建新角色以满足新需求。这种方法有助于确保不当的特权受到限制，从而降低无意或恶意伤害的风险。</p>
                        <p>您可以创建显示数据库用户使用权限的权限分析策略。策略捕获此信息并使其在数据字典视图中可用。根据这些报告，您可以确定谁应该有权访问您的数据。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="keeping-your-oracle-database-secure.html#GUID-DEC688F7-CD99-4529-9E8F-9A8F4553BC4D" title="Oracle建议使用三种方法来解决CONNECT角色更改的影响。">解决CONNECT角色更改的方法</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09625.LOG_ARCHIVE_DEST_n-parameter-attributes.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."></meta>
      <meta name="description" content="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."></meta>
      <title>LOG_ARCHIVE_DEST_n参数属性</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-initialization-parameters-used-by-oracle-data-guard.html" title="Previous" type="text/html"></link>
      <link rel="next" href="sql-statements-used-by-oracle-data-guard.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-initialization-parameters-used-by-oracle-data-guard.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="sql-statements-used-by-oracle-data-guard.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-parameters-views.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">LOG_ARCHIVE_DEST_n参数属性</li>
            </ol>
            <a id="GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" name="GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1"></a><a id="SBYDB5077"></a><a id="SBYDB01100"></a>
            
            <h2 id="SBYDB-GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" class="sect2"><span class="enumeration_chapter">17</span> LOG_ARCHIVE_DEST_n参数属性</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='LOG_ARCHIVE_DEST_n-parameter-attributes'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>这是<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>的属性列表<span class="italic"> </span>初始化参数，（其中<span class="italic"><code class="codeph">n</code></span>是1到31之间的整数）。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0" title="AFFIRM和NOAFFIRM属性控制重做传输目标是否在将其写入备用重做日志之前或之后确认收到的重做数据。">AFFIRM和NOAFFIRM</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725" title="ALTERNATE属性指定在原始目标失败时要使用的备用归档目标。">备用</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006" title="COMPRESSION属性用于指定在传输到重做传输目标之前是否压缩重做数据。">压缩</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A" title="DB_UNIQUE_NAME属性指定此目标的数据库的唯一名称。">DB_UNIQUE_NAME</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167" title="DELAY属性指定在备用站点上归档主站点的重做数据与将归档的重做日志文件应用于备用数据库或从其级联的任何备用数据库之间的最小时间延迟。">延迟</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5" title="ENCRYPTION属性用于指定在传输到零数据丢失恢复设备（恢复设备）之前是否对重做数据进行加密。">加密</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C" title="GROUP属性用于指定特定日志归档目标集合中的成员身份。">组</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D" title="每个目标必须指定LOCATION或SERVICE属性，以标识本地磁盘目录或重做传输服务可以传输重做数据的远程数据库目标。">位置和服务</a> （ <code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31)</code>不支持<code class="codeph">LOCATION</code> <code class="codeph">LOG_ARCHIVE_DEST_31)</code></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D" title="MANDATORY属性指定填充的在线日志文件必须先成功存档到目标，然后才能重复使用。">强制性</a> （ <code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>不支持）</p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-3655C0B5-E669-4475-95B9-01A67AE6A144" title="MAX_FAILURE属性控制日志交换机的连续次数，重做传输服务尝试重新建立通信，并在主数据库放弃目标之前将重做数据传输到失败的目标。">MAX_FAILURE</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-5067F60F-780E-429E-A0FB-CB121B8DF321" title="NET_TIMEOUT属性指定LGWR后台进程阻止等待重做传输目标确认发送给它的重做数据的秒数。">NET_TIMEOUT</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5" title="NOREGISTER属性指示归档重做日志文件的位置不应记录在相应的目标位置。">NOREGISTER</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5" title="PRIORITY属性用于指定日志归档目标集合中的首选项。">优先</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7" title="REOPEN属性指定重做传输服务尝试重新打开失败目标之前的最小秒数。">REOPEN</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349" title="SYNC和ASYNC属性指定是使用同步（SYNC）还是异步（ASYNC）重做传输模式。">SYNC和ASYNC</a> （ <code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31)</code>不支持<code class="codeph">SYNC</code> <code class="codeph">LOG_ARCHIVE_DEST_31)</code></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657" title="TEMPLATE属性为目标上的归档重做日志文件的名称定义目录规范和格式模板。">模板</a></p>
                  </li>
                  <li>
                     <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5" title="VALID_FOR属性指定重做数据是否写入目标。">VALID_FOR</a></p>
                  </li>
               </ul>
               <div class="section">
                  <p class="subhead1" id="GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1__GUID-FD7802C7-7FD1-4DC2-9C2A-B81B6A0E88F1">使用说明</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle Data Guard配置中的每个数据库通常都有一个目标，其中<code class="codeph">LOCATION</code>属性用于存储联机和备用重做日志，另一个目标具有<code class="codeph">REMOTE</code>属性，用于配置中的每个其他数据库。
                     </p>
                  </li>
                  <li>
                     <p>如果已配置，则每个<code class="codeph">LOG_ARCHIVE_DEST_1</code>到<code class="codeph">LOG_ARCHIVE_DEST_10</code>目标必须包含<code class="codeph">LOCATION</code>或<code class="codeph">SERVICE</code>属性，以分别指定本地磁盘目录或远程访问的数据库。每个<code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>目标必须包含<code class="codeph">SERVICE</code>属性。
                     </p>
                     <p>所有其他属性都是可选的。</p>
                  </li>
                  <li>
                     <p>只有当<code class="codeph">COMPATIBLE</code>初始化参数设置为11.2.0.0或更高版本时，才能使用<code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code> 。
                     </p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1__GUID-83720E49-6EC4-42DE-8CD5-B304F41F3CF3">
                  <p class="notep1">注意：</p>
                  <p>不推荐使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数的几个属性。这些属性仅支持向后兼容，并在<a href="../refrn/LOG_ARCHIVE_DEST_n.html#REFRN10086" target="_blank"><span class="italic">Oracle数据库参考中进行了说明</span></a> 。
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1__GUID-6631F1BF-FA66-439B-8DFA-C42DE544B2FD">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="oracle-data-guard-redo-transport-services.html#GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31" title="Oracle Data Guard配置要求配置和监视Oracle重做传输服务。">重做传输服务</a> ，了解更多有关定义<code class="codeph"><span class="variable" translate="no">LOG_ARCHIVE_DEST_ n</span></code>目的地和设置重做传输服务</p>
               </div>
            </div><a id="SBYDB01101"></a><div class="sect2"><a id="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0" name="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0"></a><h3 id="SBYDB-GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0" class="sect3"><span class="enumeration_section">17.1</span> AFFIRM和NOAFFIRM</h3>
               <div>
                  <p><code class="codeph">AFFIRM</code>和<code class="codeph">NOAFFIRM</code>属性控制重做传输目标是否在将其写入备用重做日志之前或之后确认收到的重做数据。
                  </p>
                  <p>每个选项的定义如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">AFFIRM</code> - 指定重做传输目标<span class="italic">在</span>将其写入备用重做日志<span class="italic">后</span>确认收到的重做数据。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NOAFFIRM</code> - 指定重做传输目标<span class="italic">在</span>将其写入备用重做日志<span class="italic">之前</span>确认收到的重做数据。
                        </p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0__GUID-457CED90-DD05-4F7F-8394-73D3DBE94518">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table shows the minimum and maximum attribute values, and provides other statistics for the AFFIRM and NOAFFIRM attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d45036e518">类别</th>
                              <th align="left" valign="bottom" width="33%" id="d45036e521">确认</th>
                              <th align="left" valign="bottom" width="33%" id="d45036e524">NOAFFIRM</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e529" headers="d45036e518 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e529 d45036e521 ">
                                 <p>关键词</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e529 d45036e524 ">
                                 <p>关键词</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e539" headers="d45036e518 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e539 d45036e521 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e539 d45036e524 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e549" headers="d45036e518 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e549 d45036e521 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e549 d45036e524 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e559" headers="d45036e518 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e559 d45036e521 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e559 d45036e524 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e571" headers="d45036e518 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e571 d45036e521 ">
                                 <p><code class="codeph">NOAFFIRM</code></p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e571 d45036e524 ">
                                 <p><code class="codeph">确认</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e583" headers="d45036e518 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e583 d45036e521 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">AFFIRM</code>列</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45036e583 d45036e524 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">AFFIRM</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0__GUID-97BAD4C0-3201-4C42-B1C8-F231A602A5F0">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果既未指定<code class="codeph">AFFIRM</code>也未指定<code class="codeph">NOAFFIRM</code>属性，则在指定<code class="codeph">SYNC</code>属性时默认为<code class="codeph">AFFIRM</code> ，在指定<code class="codeph">ASYNC</code>属性时为默认值<code class="codeph">NOAFFIRM</code> 。
                           </p>
                        </li>
                        <li>
                           <p>不推荐使用不带<code class="codeph">SYNC</code>属性的<code class="codeph">AFFIRM</code>属性的规范，将来的版本将不再支持。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0__GUID-D15B65D9-4189-4F63-85AD-3AC79BE5CF14">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349" title="SYNC和ASYNC属性指定是使用同步（SYNC）还是异步（ASYNC）重做传输模式。">SYNC和ASYNC</a>属性</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-559248E6-B153-4B7B-A8A9-9CEE102088F0__GUID-D6B33824-FF72-458D-888D-9048E09ACB48">例</p>
                     <p>以下示例显示远程目标的<code class="codeph">AFFIRM</code>属性。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = stby1 SYNC AFFIRM'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5078"></a><a id="SBYDB5079"></a><a id="SBYDB5449"></a><a id="SBYDB5450"></a><a id="SBYDB5451"></a><a id="SBYDB5452"></a><a id="SBYDB01102"></a><div class="sect2"><a id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725" name="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725"></a><h3 id="SBYDB-GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725" class="sect3"><span class="enumeration_section">17.2</span>替代</h3>
               <div>
                  <p><code class="codeph">ALTERNATE</code>属性指定在原始目标失败时要使用的备用归档目标。
                  </p>
                  <div class="infoboxnote" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__GUID-7833F468-4F0C-44CB-8B3C-2CC5A2FAB812">
                     <p class="notep1">注意：</p>如Oracle数据库12的<span class="italic">c</span>解除2（12.2.0.1），则可以通过使用扩展备用归档目标和功能的数目<code class="codeph">GROUP</code>和<code class="codeph">PRIORITY</code>代替属性<code class="codeph">ALTERNATE</code>进行远程日志归档目的地属性。此新方法不能与<code class="codeph">ALTERNATE</code>属性方法一起使用。有关更多信息，请参阅<a href="creating-oracle-data-guard-far-sync-instance.html#GUID-5CA464E7-40B6-486C-AF95-2F04493EB2DD" title="使用LOG_ARCHIVE_DEST_n初始化参数的GROUP属性将日志归档目标分配给组。使用LOG_ARCHIVE_DEST_n初始化参数的PRIORITY属性在日志归档目标组中分配目标首选项，可以控制故障恢复机制，尤其是对于组内的多个成员。您还可以使用PRIORITY属性配置组，以便在首选目标失败时将其发送到多个目标。多个日志归档目标组可用于特定于站点的高可用性注意事项，也可用于通过大型级联（读取器场）配置分发服务。Oracle Data Guard通过定期轮询已配置的目标以确定其可用性，跟踪日志归档目标组中可用但不活动的目标的当前状态。">备用目标</a> 。
                     <p><code class="codeph">ALTERNATE</code>属性保留用于配置备用本地归档目标。为了向后兼容， <a href="using-ALTERNATE-attribute-to-configure-alternate-destinations.html#GUID-7055337B-A852-402F-8B2F-2E119CBE6437" title="从Oracle Database 12c第2版（12.2）开始，为活动目标失败而为远程备用数据库和远程同步实例创建备用日志归档目标的首选方法是使用GROUP和PRIORITY属性。">使用ALTERNATE属性配置远程备用</a>目标中提供了使用<code class="codeph">ALTERNATE</code>进行远程日志归档目标的示例。
                     </p>
                  </div>
                  <div class="tblformal" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__GUID-D6C5E85C-2BB3-410D-861E-6207A4D1B3AC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This two column table shows the minimum and maximum attribute values, and provides other statistics for the ALTERNATE and NOALTERNATE attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d45036e840">类别</th>
                              <th align="left" valign="bottom" width="60%" id="d45036e843">ALTERNATE =的LOG_ARCHIVE_DEST_n</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e851" headers="d45036e840 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e851 d45036e843 ">
                                 <p>串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e858" headers="d45036e840 ">
                                 <p>有效价值</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e858 d45036e843 ">
                                 <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>目标，其中<span class="italic"><code class="codeph">n</code></span>是1到10之间的值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e875" headers="d45036e840 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e875 d45036e843 ">
                                 <p>没有。如果未指定备用目标，则重做传输服务不会自动更改为其他目标。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e882" headers="d45036e840 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e882 d45036e843 ">
                                 <p>无<a id="fn_1" name="fn_1" href="#fn_1" value="" although="" it="" is="" not="" mandatory="" that="" max_failure="" be="" used="" with="" alternate,="" a="" nonzero="" required="" for="" an="" alternate="" to="" become="" active.="" using="" the="" default="" of="" (zero),="" does="" result="" in="" any="" change="" behavior=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e907" headers="d45036e840 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e907 d45036e843 ">
                                 <p><code class="codeph">GROUP</code> <code class="codeph">PRIORITY</code> <a id="fn_2" name="fn_2" href="#fn_2" value="" if="" the="" reopen="" attribute="" is="" specified="" with="" a="" nonzero="" value,="" then="" an="" alternate="" not="" activated="" until="" number="" of="" failures="" greater="" than="" or="" equal="" to="" max_failure,="" minimum="" time="" period="" between="" attempts="" (in="" seconds)=")" ="" onclick="footdisplay(2, "><sup>Foot 2</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d45036e930" headers="d45036e840 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d45036e930 d45036e843 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">ALTERNATE</code>和<code class="codeph">STATUS</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>虽然<code class="codeph">MAX_FAILURE</code>不是必须与<code class="codeph">ALTERNATE</code>一起使用，但是备用数据库需要非零<code class="codeph">MAX_FAILURE</code>值才能变为活动状态。使用带有默认值<code class="codeph">MAX_FAILURE</code> （零）的<code class="codeph">ALTERNATE</code>不会导致行为发生任何变化。
                     </p>
                  <p></p>
                  <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>如果使用非零值指定<code class="codeph">REOPEN</code>属性，则在故障数大于或等于<code class="codeph">MAX_FAILURE</code>的值之前不会激活备用，并且尝试之间的最小时间间隔等于<code class="codeph">REOPEN</code>的值（以秒为单位） 。
                     </p>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__GUID-6160740C-F9E8-45FD-AF84-004171AB971E">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALTERNATE</code>属性是可选的。如果未指定备用目标，则如果原始目标失败，则归档服务不会自动更改为其他目标。
                           </p>
                        </li>
                        <li>
                           <p>您只能为每个本地<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>参数指定一个备用目标（ <code class="codeph">LOCATION=</code> ...）。
                           </p>
                        </li>
                        <li>
                           <p>备用目标应在同一本地主数据库系统或备用数据库系统上指定不同的磁盘位置，如下面的示例所示。</p>
                        </li>
                        <li>
                           <p>要配置备用目标，请将其<code class="codeph">LOG_ARCHIVE_DEST_STATE_ <span class="codeinlineitalic">n</span></code>参数设置为<code class="codeph">ALTERNATE</code> 。</p>
                        </li>
                        <li>
                           <p>要手动启用备用目标，请将其<code class="codeph">LOG_ARCHIVE_DEST_STATE_ <span class="codeinlineitalic">n</span></code>参数设置为<code class="codeph">ENABLE</code> 。</p>
                        </li>
                        <li>
                           <p>如果没有启用的目标引用备用目标，则假定备用目标是延迟的，因为没有启用备用目标的自动方法。但是，您可以使用<code class="codeph">ALTER SYSTEM</code>语句在运行时启用（或推迟）备用目标。
                           </p>
                        </li>
                        <li>
                           <p>考虑到以下限制，可以将任何目的地指定为备用目的地：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>至少启用一个本地目标。</p>
                              </li>
                              <li>
                                 <p>启用的目标数必须符合定义的<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>参数值。
                                 </p>
                              </li>
                              <li>
                                 <p>目的地不能是它自己的替代品。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>目标失败时，将在下一个归档操作中启用其备用目标。不支持在归档操作过程中启用备用目标，因为这需要重新读取已处理的块。</p>
                        </li>
                        <li>
                           <p>如果未指定备用目标，或者<code class="codeph">MAX_FAILURE</code>设置为零（默认值），则如果原始目标失败，则归档服务不会自动更改为其他目标。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__GUID-77D62E14-DF10-4EF4-83D5-3A6ED76D5DF9">例子</p>
                     <p>包含这些示例是为了说明基本概念，并不打算完全按照所示使用。它们的配置会有所不同，具体取决于您的本地存档设置。</p>
                     <p>以下示例显示了一个示例初始化参数文件，如果发生错误，本地归档目标<code class="codeph">LOG_ARCHIVE_DEST_1</code>在下一个归档操作中自动故障转移到备用目标<code class="codeph">LOG_ARCHIVE_DEST_2</code> ，例如写入失败或分配失败（如果设备已满） 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__I77370">
                     <p class="titleinexample">示例17-1自动故障转移到备用本地目标</p><pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='LOCATION = / disk1 MANDATORY MAX_FAILURE = 1 ALTERNATE = LOG_ARCHIVE_DEST_2'LOG_ARCHIVE_DEST_STATE_1 = ENABLE LOG_ARCHIVE_DEST_STATE_2 = ALTERNATE LOG_ARCHIVE_DEST_2 ='LOCATION = / disk2 MANDATORY'</code></pre><p>要恢复归档到原始目标<code class="codeph">LOG_ARCHIVE_DEST_1</code> ，必须手动重新启用它。然后，必须将<code class="codeph">LOG_ARCHIVE_DEST_2</code>重置为其以前的备用状态，以避免具有两个活动的本地归档目标。为此，请将<code class="codeph">LOG_ARCHIVE_DEST_STATE_ <span class="codeinlineitalic">n</span></code>参数设置回其原始值，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_DEST_STATE_1 = ENABLE ALTER SYSTEM SET LOG_ARCHIVE_DEST_STATE_2 = ALTERNATE</pre><p>您可以自动执行此回退机制。通过指定指向首选目标的<code class="codeph">ALTERNATE</code>属性来配对原始目标和备用目标，如<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__I77382">示例17-2</a>中的示例初始化参数文件所示。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-88222D10-22FD-4F3B-BBE5-B59C8ABEC725__I77382">
                     <p class="titleinexample">例17-2自动本地备用后备</p><pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='LOCATION = / disk1 MANDATORY MAX_FAILURE = 1 ALTERNATE = LOG_ARCHIVE_DEST_2'LOG_ARCHIVE_DEST_STATE_1 = ENABLE LOG_ARCHIVE_DEST_STATE_2 = ALTERNATE LOG_ARCHIVE_DEST_2 ='LOCATION = / disk2 MANDATORY ALTERNATE = LOG_ARCHIVE_DEST_1'</code></pre><p>如果<code class="codeph">LOG_ARCHIVE_DEST_1</code>再次可用，则Oracle Data Guard会自动将其设置为活动的本地归档目标，并将<code class="codeph">LOG_ARCHIVE_DEST_2</code>重置为其备用目标。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div><a id="SBYDB4902"></a><div class="sect2"><a id="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006" name="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006"></a><h3 id="SBYDB-GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006" class="sect3"><span class="enumeration_section">17.3</span>压缩</h3>
               <div>
                  <p><code class="codeph">COMPRESSION</code>属性用于指定在传输到重做传输目标之前是否压缩重做数据。
                  </p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006__GUID-DF5509EC-AE7F-4895-B89A-28422B2438A7">
                     <p class="notep1">注意：</p>
                     <p>重做传输压缩是Oracle Advanced Compression选项的一项功能。在使用重做传输压缩功能之前，您必须购买此选项的许可证。</p>
                  </div>
                  <div class="tblformal" id="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006__GUID-F93D463E-367D-4ABC-B08B-F6E9E4F2F40B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists reference information for the COMPRESSION attribute of LOG_ARCHIVE_DEST_n." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d45036e1169">类别</th>
                              <th align="left" valign="bottom" width="72%" id="d45036e1172">压缩= [ENABLE |禁用| ZLIB | LZO]</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1177" headers="d45036e1169 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1177 d45036e1172 ">
                                 <p>布尔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1184" headers="d45036e1169 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1184 d45036e1172 ">
                                 <p><code class="codeph">ENABLE</code> ， <code class="codeph">DISABLE</code> ， <code class="codeph">ZLIB</code>或<code class="codeph">LZO</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1201" headers="d45036e1169 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1201 d45036e1172 ">
                                 <p><code class="codeph">DISABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1209" headers="d45036e1169 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1209 d45036e1172 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1216" headers="d45036e1169 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1216 d45036e1172 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d45036e1223" headers="d45036e1169 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d45036e1223 d45036e1172 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">COMPRESSION</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006__GUID-B91E2F44-43B0-46CE-98D9-0096FBA15C1C">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ENABLE</code>选项启用压缩并默认使用ZLIB压缩算法。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">COMPRESSION</code>属性是可选的。如果未指定，则默认压缩行为为<code class="codeph">DISABLE</code> 。</p>
                        </li>
                        <li>
                           <p>对于也使用Oracle Data Guard <code class="codeph">COMPRESSION</code>属性的Oracle Data Guard <code class="codeph">SYNC</code>连接字符串，请确保在<code class="codeph">sqlnet.ora</code>文件中将<code class="codeph">SQLNET.COMPRESSION</code>配置参数设置为disabled（设置为off）。有关<code class="codeph">SQLNET.COMPRESSION</code>参数的详细信息，请参阅<a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF1972" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DD58C7C2-EE9D-4632-94C9-F6C652718006__GUID-E598F726-4281-400D-B9DF-2B8BD7F5EFAB">例</p>
                     <p>以下示例显示带有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">COMPRESSION</code>属性。由于指定了<code class="codeph">ENABLE</code>选项，因此使用ZLIB压缩算法。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = denver SYNC COMPRESSION = ENABLE'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01104"></a><div class="sect2"><a id="GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A" name="GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A"></a><h3 id="SBYDB-GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A" class="sect3"><span class="enumeration_section">17.4</span> DB_UNIQUE_NAME</h3>
               <div>
                  <p><code class="codeph">DB_UNIQUE_NAME</code>属性指定此目标的数据库的唯一名称。
                  </p>
                  <div class="tblformal" id="GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A__GUID-FD6B1F85-D9EC-4FE0-9638-00B0F430FA79">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table shows the minimum and maximum attribute values, and provides other statistics for the DB_UNIQUE_NAME attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d45036e1387">类别</th>
                              <th align="left" valign="bottom" width="62%" id="d45036e1390">DB_UNIQUE_NAME =名称</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1397" headers="d45036e1387 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1397 d45036e1390 ">
                                 <p>串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1404" headers="d45036e1387 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1404 d45036e1390 ">
                                 <p>该名称必须与使用<code class="codeph">DB_UNIQUE_NAME</code>参数为此数据库定义的值匹配。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1414" headers="d45036e1387 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1414 d45036e1390 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1421" headers="d45036e1387 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1421 d45036e1390 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1428" headers="d45036e1387 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1428 d45036e1390 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e1435" headers="d45036e1387 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e1435 d45036e1390 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DB_UNIQUE_NAME</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A__GUID-F7F7AD96-3D1B-4351-87E7-F1A3DAF9A536">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果符合以下条件，则此<span class="italic">属</span></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>未指定<code class="codeph">LOG_ARCHIVE_CONFIG=DG_CONFIG</code>初始化参数。
                                 </p>
                              </li>
                              <li>
                                 <p>这是一个本地目的地（使用<code class="codeph">LOCATION</code>属性指定）。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>此属性如果<span class="italic">需要</span> <code class="codeph">LOG_ARCHIVE_CONFIG=DG_CONFIG</code>指定的初始化参数，并且如果这是一个远程目标（与指定的<code class="codeph">SERVICE</code>属性）。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DB_UNIQUE_NAME</code>属性可以清楚地标识主数据库和备用数据库之间的关系。如果Oracle Data Guard配置中有多个备用数据库，则此属性特别有用。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DB_UNIQUE_NAME</code>指定的名称必须与<code class="codeph">DG_CONFIG</code>列表中的<code class="codeph">DG_CONFIG</code> <code class="codeph">DB_UNIQUE_NAME</code>值匹配。重做运输服务验证该<code class="codeph">DB_UNIQUE_NAME</code>在指定的目标数据库的属性相匹配<code class="codeph">DB_UNIQUE_NAME</code>属性或到目的地的连接被拒绝。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DB_UNIQUE_NAME</code>属性指定的名称必须与目标标识的数据库的<code class="codeph">DB_UNIQUE_NAME</code>初始化参数指定的名称匹配。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-59781B0B-B8EA-4676-9F93-A7A72E021D7A__GUID-AC7C6D8D-2072-4654-900C-ED4A29E06C2F">例</p>
                     <p>在以下示例中<a id="d45036e1519" class="indexterm-anchor"></a> ， <code class="codeph">DB_UNIQUE_NAME</code>参数指定<code class="codeph">boston</code> （ <code class="codeph">DB_UNIQUE_NAME=boston</code> ），它也使用<code class="codeph">LOG_ARCHIVE_DEST_1</code>参数上的<code class="codeph">DB_UNIQUE_NAME</code>属性指定。<code class="codeph">LOG_ARCHIVE_DEST_2</code>参数上的<code class="codeph">DB_UNIQUE_NAME</code>属性指定了<code class="codeph">chicago</code>目的地。<code class="codeph">boston</code>和<code class="codeph">chicago</code>都列在<code class="codeph">LOG_ARCHIVE_CONFIG=DG_CONFIG</code>参数中。
                     </p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = boston LOG_ARCHIVE_CONFIG ='DG_CONFIG =（芝加哥，波士顿，丹佛）'LOG_ARCHIVE_DEST_1 ='LOCATION = / arch1 / VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = boston'LOG_ARCHIVE_DEST_2 ='SERVICE = Sales_DR VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）DB_UNIQUE_NAME =芝加哥'</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01105"></a><div class="sect2"><a id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167" name="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167"></a><h3 id="SBYDB-GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167" class="sect3"><span class="enumeration_section">17.5</span>延迟</h3>
               <div>
                  <p><code class="codeph">DELAY</code>属性指定在备用站点上归档主站点的重做数据与将归档的重做日志文件应用于备用数据库或从其级联的任何备用数据库之间的最小时间延迟。
                  </p>
                  <div class="tblformal" id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167__GUID-55B3A5CA-0B79-4682-B029-6BB348047247">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table shows the minimum and maximum attribute values, and provides other statistics for the DELAY attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d45036e1669">类别</th>
                              <th align="left" valign="bottom" width="54%" id="d45036e1672">DELAY [=分钟]</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1680" headers="d45036e1669 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1680 d45036e1672 ">
                                 <p>数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1687" headers="d45036e1669 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1687 d45036e1672 ">
                                 <p>&gt; = 0分钟</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1694" headers="d45036e1669 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1694 d45036e1672 ">
                                 <p>30分钟</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1701" headers="d45036e1669 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1701 d45036e1672 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1709" headers="d45036e1669 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1709 d45036e1672 ">
                                 <p><code class="codeph">LOCATION</code> ，VALID_FOR =（*，STANDBY_ROLE）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d45036e1718" headers="d45036e1669 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d45036e1718 d45036e1672 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DELAY_MINS</code>和<code class="codeph">DESTINATION</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167__GUID-39DFA49F-B833-48DD-BA8E-255A8866EF0B">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DELAY</code>属性是可选的。默认情况下没有延迟。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELAY</code>属性指示在指定的时间间隔到期之前，备用目标上的归档重做日志文件无法恢复。时间间隔以分钟表示，并且在重做数据成功传输到备用站点并在备用站点存档时开始。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELAY</code>属性可用于保护备用数据库免受损坏或错误的主数据。但是，需要进行权衡，因为在故障转移期间，将所有重做应用到损坏点需要更多时间。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELAY</code>属性不会影响重做数据到备用目标的传输。
                           </p>
                        </li>
                        <li>
                           <p>如果您启用了实时应用，则会忽略您设置的任何延迟。</p>
                        </li>
                        <li>
                           <p><code class="codeph">DELAY</code>属性的更改将在下次重做数据存档时生效（在日志切换后）。正在进行的归档不受影响。
                           </p>
                        </li>
                        <li>
                           <p>您可以在备用站点覆盖指定的延迟时间间隔，如下所示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于物理备用数据库：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE RECOVER MANAGED STANDBY DATABASE NODELAY;</pre></li>
                              <li>
                                 <p>对于逻辑备用数据库：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE START LOGICAL STANDBY应用NODELAY;</pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>级联备用数据库使用的<code class="codeph">DELAY</code>值是为将重做发送到级联备用数据库的主数据库上的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数设置的值。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167__GUID-D969A36B-1327-4B7D-87DD-0F3FFE0571BF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关这些<code class="codeph">ALTER DATABASE</code>语句的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF00802" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167__GUID-638733D0-CFE5-4C24-8FCB-471CDBC8A105">例</p>
                     <p>您可以使用<code class="codeph">DELAY</code>属性设置一个配置，其中多个备用数据库与主数据库保持不同程度的同步。但是，这种保护会在故障转移期间产生一些开销，因为重做应用需要更多时间将所有重做应用到损坏点。
                     </p>
                     <p>例如，假设主数据库A具有备用数据库B和C.备用数据库B被设置为灾难恢复数据库，因此没有时间延迟。备用数据库C设置为延迟2小时，这足以允许在将用户错误传播到备用数据库之前发现它们。</p>
                     <p>以下示例显示如何为此配置指定<code class="codeph">DELAY</code>属性：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1 ='LOCATION = / arch / dest MANDATORY'LOG_ARCHIVE_DEST_STATE_1 = ENABLE LOG_ARCHIVE_DEST_2 ='SERVICE = stbyB SYNC AFFIRM'LOG_ARCHIVE_DEST_STATE_2 = ENABLE LOG_ARCHIVE_DEST_3 ='SERVICE = stbyC DELAY = 120'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre><div class="infoboxnote" id="GUID-C014D9BB-79D3-4E49-9477-A5CBF0E88167__GUID-589F6D34-5851-4C44-AA18-E902DB9F8971">
                        <p class="notep1">注意：</p>
                        <p>或者，只要有足够的闪回日志数据，您就可以使用闪回数据库将数据库还原到不同数据库版本的时间点或SCN。“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV71000" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”中</span></a>介绍了如何使用闪回数据库。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5464"></a><div class="sect2"><a id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5" name="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5"></a><h3 id="SBYDB-GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5" class="sect3"><span class="enumeration_section">17.6</span>加密</h3>
               <div>
                  <p><code class="codeph">ENCRYPTION</code>属性用于指定在传输到零数据丢失恢复设备（恢复设备）之前是否对重做数据进行加密。
                  </p>
                  <div class="infoboxnote" id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5__GUID-1B0765BF-41F6-4F0B-B0CB-18FD28A2A851">
                     <p class="notep1">注意：</p>
                     <p>仅允许与恢复设备的连接进行重做传输加密。尝试在恢复设备以外的日志归档目标上配置加密会导致错误。</p>
                  </div>
                  <div class="tblformal" id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5__GUID-E03CC0B3-9045-4999-98FF-4834FB7B7675">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the ENCRYPTION=ENABLE or DISABLE attribute on the LOG_ARCHIVE_DEST_n parameter. There are two columns, CATEGORY and ENCRYPTION=DISABLE or ENABLE, and 7 rows including the header row." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d45036e1916">类别</th>
                              <th align="left" valign="bottom" width="63%" id="d45036e1919">加密=启用或禁用</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1924" headers="d45036e1916 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1924 d45036e1919 ">
                                 <p>布尔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1931" headers="d45036e1916 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1931 d45036e1919 ">
                                 <p><code class="codeph">ENABLE</code>或<code class="codeph">DISABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1942" headers="d45036e1916 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1942 d45036e1919 ">
                                 <p><code class="codeph">DISABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1950" headers="d45036e1916 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1950 d45036e1919 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1958" headers="d45036e1916 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1958 d45036e1919 ">
                                 <p><code class="codeph">COMPRESSION</code> ， <code class="codeph">SYNC</code>和<code class="codeph">LOCATION</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d45036e1972" headers="d45036e1916 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d45036e1972 d45036e1919 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">ENCRYPTION</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5__GUID-66129C11-6300-4C5E-99B8-D48826BF0C51">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ENCRYPTION</code>属性是可选的。如果未指定，则默认加密行为为<code class="codeph">DISABLE</code> 。</p>
                        </li>
                        <li>
                           <p>要使用<code class="codeph">ENCRYPTION</code>属性，必须在受保护的数据库上将<code class="codeph">COMPATIBLE</code>初始化参数设置为11.2.0.4或更高版本。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5__GUID-B943EE60-73B0-4466-B671-BB235A183BDE">例</p>
                     <p>以下示例显示了<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数上指定的<code class="codeph">ENCRYPTION</code>属性。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = denver ENCRYPTION = ENABLE'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre><div class="infoboxnotealso" id="GUID-72FD2420-BD1A-4121-94BE-3A3B8EFFA3A5__GUID-D0430E9A-FADD-4728-A197-4AB4C346123B">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=AMAGD-GUID-328CB500-2AD3-4F42-A2C6-5657C0ABC568" target="_blank"><span><cite>零数据丢失恢复设备管理员指南</cite></span></a> ，了解有关使用<code class="codeph">LOG_ARCHIVE_DEST_ <span class="variable" translate="no">n</span></code>参数进行重做加密的更多信息</p>
                           </li>
                           <li>
                              <p>有关透明数据加密的详细信息，请参见<a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-62AA9447-FDCD-4A4C-B563-32DE04D55952" target="_blank"><span><cite>Oracle数据库高级安全</cite></span></a>性</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C" name="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C"></a><h3 id="SBYDB-GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C" class="sect3"><span class="enumeration_section">17.7</span>集团</h3>
               <div>
                  <p><code class="codeph">GROUP</code>属性用于指定特定日志归档目标集合中的成员身份。
                  </p>
                  <p>组编号为1到8。默认组（ <code class="codeph">GROUP=0</code> ）的特殊之处在于无法分配。默认组将填充未明确分配给组的所有目标。
                  </p>
                  <div class="tblformal" id="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C__GUID-473F82C2-6FA5-43C7-9FA1-6D300FCB5482">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the GROUP attribute on LOG_ARCHIVE_DEST_n. There are two columns: CATEGORY and GROUP=integer, and 7 rows including the header row." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d45036e2131">类别</th>
                              <th align="left" valign="bottom" id="d45036e2133">GROUP =整数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2137" headers="d45036e2131 ">数据类型</td>
                              <td align="left" valign="top" headers="d45036e2137 d45036e2133 ">整数</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2142" headers="d45036e2131 ">有效价值</td>
                              <td align="left" valign="top" headers="d45036e2142 d45036e2133 ">1到8</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2147" headers="d45036e2131 ">默认值</td>
                              <td align="left" valign="top" headers="d45036e2147 d45036e2133 ">0</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2152" headers="d45036e2131 ">需要属性</td>
                              <td align="left" valign="top" headers="d45036e2152 d45036e2133 ">服务</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2157" headers="d45036e2131 ">与属性冲突</td>
                              <td align="left" valign="top" headers="d45036e2157 d45036e2133 "><code class="codeph">备用</code> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e2164" headers="d45036e2131 ">对应于</td>
                              <td align="left" valign="top" headers="d45036e2164 d45036e2133 ">不适用</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C__GUID-82EDBAE3-4D5D-4E9A-BE37-EFB59F7871E0">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>没有</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C__GUID-463B1E24-81CC-4D07-ADA0-99101F4E5BD5">例子</p>
                     <div class="p">以下示例用于说明基本概念，并不意味着完全按照所示使用。根据您的配置，可能还需要其他参数，例如<code class="codeph">DB_UNIQUE_NAME</code> 。<pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='SERVICE = FS1 GROUP = 1'LOG_ARCHIVE_DEST_2 ='SERVICE = FS2 GROUP = 1'LOG_ARCHIVE_DEST_3 ='SERVICE = FS3 GROUP = 2'LOG_ARCHIVE_DEST_4 ='SERVICE = FS4 GROUP = 2'</code></pre></div>
                     <div class="infoboxnotealso" id="GUID-99D83167-AA3A-4311-B2A9-6E38A353E33C__GUID-5E667A29-C65D-4706-80BA-F94C522A1A6B">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="creating-oracle-data-guard-far-sync-instance.html#GUID-DB84EA69-8B64-4230-88AB-E83D5298C009" title="使用LOG_ARCHIVE_DEST_n初始化参数的GROUP属性将日志归档目标分配给组。">将日志归档目标分配给组</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01107"></a><div class="sect2"><a id="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D" name="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D"></a><h3 id="SBYDB-GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D" class="sect3"><span class="enumeration_section">17.8</span>地点和服务</h3>
               <div>
                  <p>每个目标<span class="italic">必须</span>指定<code class="codeph">LOCATION</code>或<code class="codeph">SERVICE</code>属性，以标识本地磁盘目录或重做传输服务可以传输重做数据的远程数据库目标。
                  </p>
                  <p><code class="codeph">LOG_ARCHIVE_DEST_1</code>到<code class="codeph">LOG_ARCHIVE_DEST_10</code>目标可以包含<code class="codeph">LOCATION</code>属性或<code class="codeph">SERVICE</code>属性。
                  </p>
                  <p><code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>目的地只能包含<code class="codeph">SERVICE</code>属性。
                  </p>
                  <div class="tblformal" id="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D__GUID-A2D794B3-393D-4BDE-8DF2-22D2ECA94FFE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table provides the minimum and maximum values and other usage information for the LOCATION and SERVICE attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d45036e2330">类别</th>
                              <th align="left" valign="bottom" width="42%" id="d45036e2333">LOCATION = local_disk_directory或USE_DB_RECOVERY_FILE_DEST</th>
                              <th align="left" valign="bottom" width="37%" id="d45036e2343">SERVICE = net_service_name</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2351" headers="d45036e2330 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2351 d45036e2333 ">
                                 <p>字符串值</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2351 d45036e2343 ">
                                 <p>字符串值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2361" headers="d45036e2330 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2361 d45036e2333 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2361 d45036e2343 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2371" headers="d45036e2330 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2371 d45036e2333 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2371 d45036e2343 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2381" headers="d45036e2330 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2381 d45036e2333 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2381 d45036e2343 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2391" headers="d45036e2330 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2391 d45036e2333 ">
                                 <p><code class="codeph">SERVICE</code> ， <code class="codeph">DELAY</code> ， <code class="codeph">NOREGISTER</code> ， <code class="codeph">SYNC</code> ， <code class="codeph">ASYNC</code> ， <code class="codeph">NET_TIMEOUT, AFFIRM,NOAFFIRM</code> ， <code class="codeph">COMPRESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2391 d45036e2343 ">
                                 <p><code class="codeph">地点</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d45036e2422" headers="d45036e2330 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d45036e2422 d45036e2333 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DESTINATION</code>和<code class="codeph">TARGET</code>列</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d45036e2422 d45036e2343 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DESTINATION</code>和<code class="codeph">TARGET</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D__GUID-E51B6B85-0529-400F-B65D-64B219DA604A">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须指定<code class="codeph">LOCATION</code>或<code class="codeph">SERVICE</code>属性。没有默认值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>参数不支持<code class="codeph">LOCATION</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>如果要指定多个属性，请首先在属性列表中指定<code class="codeph">LOCATION</code>或<code class="codeph">SERVICE</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>您必须使用<code class="codeph">LOCATION</code>属性指定至少一个本地磁盘目录。这可确保在需要进行数据库的介质恢复时可以访问本地存档的重做日志文件。您最多可以指定30个本地或远程目标。
                           </p>
                        </li>
                        <li>
                           <p>对于<code class="codeph">LOCATION</code>属性，您可以指定以下之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">LOCATION=</code> <code class="codeph"><span class="variable" translate="no">local_disk_directory</span></code></p>
                                 <p>这为托管数据库的系统上的磁盘目录指定了唯一的目录路径名。这是归档重做日志文件的本地目标。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOCATION = USE_DB_RECOVERY_FILE_DEST</code></p>
                                 <p>要配置快速恢复区域，请使用<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数指定目录或Oracle Storage Manager磁盘组作为快速恢复区域。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>指定<code class="codeph">SERVICE</code>属性时：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过使用有效的Oracle Net服务名称（ <code class="codeph">SERVICE=</code> <code class="codeph"><span class="variable" translate="no">net_service_name</span></code> ）指定<code class="codeph">SERVICE</code>属性来标识远程目标，该服务名称标识要将重做数据发送到的远程Oracle数据库实例。
                                 </p>
                                 <p>使用<code class="codeph">SERVICE</code>属性指定的Oracle Net服务名称将转换为连接描述符，其中包含连接到远程数据库所需的信息。
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D__GUID-1E0247B6-AF40-4CB8-80D1-E665A3790C05">
                                    <p class="notep1">也可以看看：</p>
                                    <p>有关设置Oracle Net服务名称的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG003" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”</span></a></p>
                                 </div>
                              </li>
                              <li>
                                 <p>将重做数据传输到远程目标需要网络连接和与远程目标关联的Oracle数据库实例来接收传入的重做数据。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>要验证<code class="codeph">LOCATION</code>和<code class="codeph">SERVICE</code>属性的当前设置，请查询<code class="codeph">V$ARCHIVE_DEST</code>固定视图：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">TARGET</code>列标识目标是主数据库的本地还是远程。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DESTINATION</code>列标识为目标指定的值。例如，destination参数值指定标识归档重做日志文件所在的远程Oracle实例的Oracle Net服务名称。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9ACDEC6C-C2E0-4EDA-B66D-B1F819D3368D__GUID-7E3963C2-4929-40ED-980F-5B46F0005542">例子</p>
                     <p>以下示例显示如何指定LOCATION属性：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2 ='LOCATION = / disk1 / oracle / oradata / payroll / arch /'LOG_ARCHIVE_DEST_STATE_2 = ENABLE</pre><p>以下示例显示如何指定<code class="codeph">SERVICE</code>属性：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = stby1'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01108"></a><div class="sect2"><a id="GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D" name="GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D"></a><h3 id="SBYDB-GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D" class="sect3"><span class="enumeration_section">17.9</span>强制性</h3>
               <div>
                  <p><code class="codeph">MANDATORY</code>属性指定填充的在线日志文件必须先成功存档到目标，然后才能重复使用。
                  </p>
                  <div class="tblformal" id="GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D__GUID-A353E0BB-7616-4D08-A90F-274A6394DA9D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table shows provides the minimum and maximum values and other usage information for the MANDATORY attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d45036e2678">类别</th>
                              <th align="left" valign="bottom" width="50%" id="d45036e2681">强制性</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2686" headers="d45036e2678 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2686 d45036e2681 ">
                                 <p>关键词</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2693" headers="d45036e2678 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2693 d45036e2681 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2700" headers="d45036e2678 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2700 d45036e2681 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2707" headers="d45036e2678 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2707 d45036e2681 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2714" headers="d45036e2678 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2714 d45036e2681 ">
                                 <p>可选的</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d45036e2721" headers="d45036e2678 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d45036e2721 d45036e2681 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">BINDING</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D__GUID-9B1F901C-5DEC-493F-8F2F-5CD563259F08">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>参数不支持<code class="codeph">MANDATORY</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>如果未指定<code class="codeph">MANDATORY</code> ，则默认情况下，目标被视为可选。
                           </p>
                           <p>即使所有目的地都是可选的，也必须至少有一个目的地成功。如果归档到可选目标失败，则联机重做日志文件仍可供重用，最终可能会被覆盖。但是，如果强制目标的归档操作失败，则无法覆盖联机重做日志文件。</p>
                        </li>
                        <li>
                           <p><a id="d45036e2758" class="indexterm-anchor"></a><a id="d45036e2760" class="indexterm-anchor"></a> <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="variable" translate="no">n</span>参数（其中<span class="variable" translate="no">n</span>是1到10之间的整数）指定在覆盖联机重做日志文件之前必须成功存档的目标数。
                           </p>
                           <p>所有<code class="codeph">MANDATORY</code>目的地和可选的本地目的地都有助于满足<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic">n</span>计数。如果满足为<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>参数设置的值，则可以重用联机重做日志文件。例如，您可以按如下方式设置参数：</p><pre class="oac_no_warn" dir="ltr">＃在覆盖联机重做日志文件之前，数据库必须至少存档到两个位置。LOG_ARCHIVE_MIN_SUCCEED_DEST = 2</pre></li>
                        <li>
                           <p>您必须至少有一个本地目的地，您可以声明<code class="codeph">MANDATORY</code>或保留为可选。
                           </p>
                           <p>至少有一个本地目标在操作上被视为必需目标，因为<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>参数的最小值为1。
                           </p>
                        </li>
                        <li>
                           <p>任何强制目标的失败都会使<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>参数无关紧要。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>参数值不能大于强制目标的数量加上可选的本地目标的数量。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">V$ARCHIVE_DEST</code>固定视图的<code class="codeph">BINDING</code>列指定失败如何影响归档操作</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD4812-D4A6-41C9-8F03-4C87B64F1D4D__GUID-C417AC9B-821D-46CA-9E92-B129D00A6E7D">例</p>
                     <p>以下示例显示了<code class="codeph">MANDATORY</code>属性：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1 ='LOCATION = / arch / dest MANDATORY'LOG_ARCHIVE_DEST_STATE_1 = ENABLE LOG_ARCHIVE_DEST_3 ='SERVICE = denver MANDATORY'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01110"></a><div class="sect2"><a id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144" name="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144"></a><h3 id="SBYDB-GUID-3655C0B5-E669-4475-95B9-01A67AE6A144" class="sect3"><span class="enumeration_section">17.10</span> MAX_FAILURE</h3>
               <div>
                  <p><code class="codeph">MAX_FAILURE</code>属性控制日志交换机的连续次数，重做传输服务尝试重新建立通信，并在主数据库放弃目标之前将重做数据传输到失败的目标。
                  </p>
                  <p>在Oracle Database 12 <span class="italic">c</span>第1版（12.1）和Oracle Database 12 <span class="italic">c</span>第2版（12.2）中， <code class="codeph">MAX_FAILURE</code>属性的处理方式不同。了解差异非常重要。请参阅下面的使用说明。
                  </p>
                  <div class="tblformal" id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144__GUID-34DBDB46-836B-4018-8E0A-D38B03721F6D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table provides the minimum and maximum values and other usage information for the MAX_FAILURE attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d45036e2932">类别</th>
                              <th align="left" valign="bottom" width="62%" id="d45036e2935">MAX_FAILURE =计</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2942" headers="d45036e2932 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2942 d45036e2935 ">
                                 <p>数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2949" headers="d45036e2932 ">
                                 <p>有效价值</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2949 d45036e2935 ">
                                 <p>&gt; = 0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2956" headers="d45036e2932 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2956 d45036e2935 ">
                                 <p>对于默认组目标，默认值为0。对于非默认日志归档目标组目标，默认值为1。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2963" headers="d45036e2932 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2963 d45036e2935 ">
                                 <p><code class="codeph">REOPEN</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2971" headers="d45036e2932 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2971 d45036e2935 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d45036e2978" headers="d45036e2932 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d45036e2978 d45036e2935 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">MAX_FAILURE</code> ， <code class="codeph">FAILURE_COUNT</code>和<code class="codeph">REOPEN_SECS</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144__GUID-248D70FA-3B17-4800-AFB6-DBDB3C4168AF">Oracle Database 12c第2版（12.2）中MAX_FAILURE的使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于使用新<code class="codeph">GROUP</code>和<code class="codeph">PRIORITY</code>属性的重做目标，如果错误计数达到为<code class="codeph">MAX_FAILURE</code>属性指定的值，则目标进入ERROR状态，直到找到可访问的状态。它会根据为<code class="codeph">REOPEN</code>属性指定的值定期检查。
                           </p>
                        </li>
                        <li>
                           <p>对于日志归档组中的默认目标（不使用新<code class="codeph">GROUP</code>和<code class="codeph">PRIORITY</code>属性的重做目标）， <code class="codeph">MAX_FAILURE</code>属性的行为与Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.1）中的行为相同</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144__GUID-CE44F7CF-F843-484C-8749-4509306183D4">Oracle Database 12c第1版（12.1）中MAX_FAILURE的使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MAX_FAILURE</code>属性是可选的。默认情况下，失败目标的归档尝试次数不限。
                           </p>
                        </li>
                        <li>
                           <p>此属性对于在失败后重试发送重做数据但不会无限期重试的目标提供故障解决方案非常有用。</p>
                        </li>
                        <li>
                           <p>指定<code class="codeph">MAX_FAILURE</code>属性时，还必须设置<code class="codeph">REOPEN</code>属性。一旦超过指定的日志切换连续尝试次数，就会将目标视为未指定<code class="codeph">REOPEN</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>您可以在<code class="codeph">V$ARCHIVE_DEST</code>固定视图的<code class="codeph">FAILURE_COUNT</code>列中查看失败计数。相关列<code class="codeph">REOPEN_SECS</code>标识<code class="codeph">REOPEN</code>属性值。
                           </p>
                           <div class="infoboxnote" id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144__GUID-FE649D68-624F-4FED-93CD-B835D4F42445">
                              <p class="notep1">注意：</p>
                              <p>一旦目标的故障计数达到指定的<code class="codeph">MAX_FAILURE</code>属性值，重用目标的唯一方法是设置<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>参数。这具有将故障计数重置为零（0）的效果。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>只要目标被<code class="codeph">ALTER SYSTEM SET</code>语句修改，故障计数就会重置为零（0）。这避免了将<code class="codeph">MAX_FAILURE</code>属性设置为小于当前故障计数值的问题。
                           </p>
                        </li>
                        <li>
                           <p>一旦失败计数大于或等于为<code class="codeph">MAX_FAILURE</code>属性设置的值， <code class="codeph">REOPEN</code>属性值将隐式设置为零，这会导致重做传输服务将重做数据传输到备用目标（使用<code class="codeph">ALTERNATE</code>属性定义）下一次档案操作。
                           </p>
                        </li>
                        <li>
                           <p>如果未指定<code class="codeph">MAX_FAILURE</code>属性（或指定<code class="codeph">MAX_FAILURE=0</code> ），重做传输服务将尝试无限期地存档到失败的目标，并为<code class="codeph">REOPEN</code>属性指定非零值。如果目标具有<code class="codeph">MANDATORY</code>属性，则联机重做日志文件在归档到此目标之前不可重复使用。
                           </p>
                        </li>
                        <li>
                           <p>对于未配置为首选备用项的日志归档目标，如果错误计数达到为<code class="codeph">MAX_FAILURE</code>属性指定的值，则会禁用目标，并且在手动重新启用目标之前无法进一步访问。
                           </p>
                        </li>
                        <li>
                           <p>对于配置为首选备用项的日志归档目标，如果错误计数达到为<code class="codeph">MAX_FAILURE</code>属性指定的值，则启用备用目标，并将失败目标切换到<code class="codeph">ALTERNATE</code>状态。由于此目标是首选备用项，因此会定期检查（取决于<code class="codeph">REOPEN</code>属性的值）。
                           </p>
                        </li>
                        <li>
                           <p>对于配置为非首选备用项的日志归档目标，如果错误计数达到为<code class="codeph">MAX_FAILURE</code>属性指定的值，则目标将被禁用，并且在手动（重新）启用目标之前无法进一步访问。此外，先前首选的目标（当前不可用且处于<code class="codeph">ALTERNATE</code>状态）保持在<code class="codeph">ALTERNATE</code>状态，并且在明确手动（重新）启用之前不会返回服务。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3655C0B5-E669-4475-95B9-01A67AE6A144__GUID-DEE9D9FE-E456-45F8-92E7-B459768E82A0">例</p>
                     <p>以下示例允许重做传输服务尝试在日志切换到连接失败的目标时连续重新连接三次，只要每个日志切换间隔超过5秒。如果在第三次尝试后归档操作失败，则将目标视为未指定<code class="codeph">REOPEN</code>属性，并且目标在重置之前被标记为永久失败。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1 ='LOCATION = / arc_dest REOPEN = 5 MAX_FAILURE = 3'LOG_ARCHIVE_DEST_STATE_1 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01111"></a><div class="sect2"><a id="GUID-5067F60F-780E-429E-A0FB-CB121B8DF321" name="GUID-5067F60F-780E-429E-A0FB-CB121B8DF321"></a><h3 id="SBYDB-GUID-5067F60F-780E-429E-A0FB-CB121B8DF321" class="sect3"><span class="enumeration_section">17.11</span> NET_TIMEOUT</h3>
               <div>
                  <p><code class="codeph">NET_TIMEOUT</code>属性指定LGWR后台进程阻止等待重做传输目标确认发送给它的重做数据的秒数。
                  </p>
                  <p>如果在<code class="codeph">NET_TIMEOUT</code>秒内未收到确认，则会记录错误并终止到该目标的重做传输会话。
                  </p>
                  <div class="tblformal" id="GUID-5067F60F-780E-429E-A0FB-CB121B8DF321__GUID-4D38A0F4-A3BA-4E71-9B6A-42B1C8B36820">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table provides the minimum and maximum values and other usage information for the NET_TIMEOUT attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="42%" id="d45036e3277">类别</th>
                              <th align="left" valign="bottom" width="58%" id="d45036e3280">NET_TIMEOUT =秒</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3287" headers="d45036e3277 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3287 d45036e3280 ">
                                 <p>数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3294" headers="d45036e3277 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3294 d45036e3280 ">
                                 <p>1 <a id="fn_3" name="fn_3" href="#fn_3" value="" although="" a="" minimum="" of="" 1="" second="" is="" allowed,="" oracle="" recommends="" 8="" to="" 10="" seconds="" avoid="" disconnecting="" from="" the="" standby="" database="" due="" transient="" network="" errors=")" ="" onclick="footdisplay(3, "><sup>英尺3</sup></a>到1200</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3305" headers="d45036e3277 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3305 d45036e3280 ">
                                 <p>30秒</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3312" headers="d45036e3277 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3312 d45036e3280 ">
                                 <p><code class="codeph">同步</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3320" headers="d45036e3277 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3320 d45036e3280 ">
                                 <p><code class="codeph">ASYNC</code> （如果指定<code class="codeph">ASYNC</code>属性，重做传输服务将忽略它;不返回任何错误。）
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d45036e3332" headers="d45036e3277 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45036e3332 d45036e3280 ">
                                 <p>主数据库的<code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">NET_TIMEOUT</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p>虽然允许的最小值为1秒，但Oracle建议最小值为8到10秒，以避免由于瞬时网络错误而与备用数据库断开连接。</p>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5067F60F-780E-429E-A0FB-CB121B8DF321__GUID-0ACCC1FE-71D9-476F-B8F0-23728E029B91">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">NET_TIMEOUT</code>属性是可选的。但是，如果未指定<code class="codeph">NET_TIMEOUT</code>属性，则将其设置为30秒，但是<a id="d45036e3356" class="indexterm-anchor"></a>主数据库可能会停滞。要避免这种情况，请为<code class="codeph">NET_TIMEOUT</code>属性指定一个小的非零值，以便在等待来自网络服务器的状态时，在用户指定的超时间隔到期后，主数据库可以继续操作。
                           </p>
                        </li>
                        <li>
                           <p>从Oracle Database 12 <span class="italic">c</span>版本12.2（12.2.0.1）开始，有一个新的数据库初始化参数<code class="codeph">DATA_GUARD_SYNC_LATENCY</code> ，它对所有同步备用目标都是全局的。它定义了在至少一个同步备用数据库确认收到重做后，主数据库在断开后续目标之前可能等待的最长时间（以秒为单位）。请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN-GUID-A0965F0B-608C-4B68-85D1-9F14EFC191CC" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5067F60F-780E-429E-A0FB-CB121B8DF321__GUID-26CF00D9-887F-479B-85FD-9F5C2F3A540B">例</p>
                     <p>以下示例说明如何使用<code class="codeph">NET_TIMEOUT</code>属性在主数据库上指定10秒网络超时值。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2 ='SERVICE = stby1 SYNC NET_TIMEOUT = 10'LOG_ARCHIVE_DEST_STATE_2 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01112"></a><div class="sect2"><a id="GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5" name="GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5"></a><h3 id="SBYDB-GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5" class="sect3"><span class="enumeration_section">17.12</span>注册</h3>
               <div>
                  <p><code class="codeph">NOREGISTER</code>属性指示归档重做日志文件的位置不应记录在相应的目标位置。
                  </p>
                  <div class="tblformal" id="GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5__GUID-A84E853D-86E9-4B56-BD3D-91F9522E3633">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table provides the minimum and maximum values and other usage information for the NOREGISTER attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="49%" id="d45036e3482">类别</th>
                              <th align="left" valign="bottom" width="51%" id="d45036e3485">NOREGISTER</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3490" headers="d45036e3482 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3490 d45036e3485 ">
                                 <p>关键词</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3497" headers="d45036e3482 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3497 d45036e3485 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3504" headers="d45036e3482 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3504 d45036e3485 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3511" headers="d45036e3482 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3511 d45036e3485 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3519" headers="d45036e3482 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3519 d45036e3485 ">
                                 <p><code class="codeph">地点</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3527" headers="d45036e3482 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3527 d45036e3485 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DESTINATION</code>和<code class="codeph">TARGET</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5__GUID-20815875-E154-4CA8-818E-A11CAC1FB39E">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果备用数据库目标是Oracle Data Guard配置的一部分，则<code class="codeph">NOREGISTER</code>属性<span class="italic">是可选</span>的。
                           </p>
                        </li>
                        <li>
                           <p>如果目标不是Oracle Data Guard配置的一部分， <span class="italic">则需要</span> <code class="codeph">NOREGISTER</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>此属性仅适用于远程目标。每个归档重做日志文件的位置始终记录在主数据库控制文件中。</p>
                        </li>
                        <li>
                           <p></p>
                           <p>不得在没有下游GoldenGate挖掘设置的Oracle Data Guard配置中使用此属性。在此方案中使用<code class="codeph">NOREGISTER</code>可能会在切换操作期间导致问题。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B23425C5-FED4-4084-9D82-A2B7888AE1E5__GUID-538B331F-B0C5-4847-A497-19CB95B1CE27">例</p>
                     <p>以下示例显示了<code class="codeph">NOREGISTER</code>属性：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_5 = 'NOREGISTER'</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5" name="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5"></a><h3 id="SBYDB-GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5" class="sect3"><span class="enumeration_section">17.13</span>优先权</h3>
               <div>
                  <p><code class="codeph">PRIORITY</code>属性用于指定日志归档目标集合中的首选项。
                  </p>
                  <p>优先级编号为1到8。较低的值表示较高的优先级。最低优先级（ <code class="codeph">PRIORITY=8</code> ）在某种意义上是特殊的，即如果该优先级处于活动状态，那么该优先级的所有目的地都将被激活。如果任何更高优先级的目标返回服务，则该目标将变为活动状态，并且所有低优先级目标将变为非活动状态。
                  </p>
                  <div class="tblformal" id="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5__GUID-589764E7-1362-4331-8C1E-D84717F284E1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the PRIORITY attribute on LOG_ARCHIVE_DEST_n. There are two columns: CATEGORY and PRIORITY=integer, and 7 rows including the header row." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d45036e3670">类别</th>
                              <th align="left" valign="bottom" id="d45036e3672">优先级= <span class="italic">整数</span></th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3678" headers="d45036e3670 ">数据类型</td>
                              <td align="left" valign="top" headers="d45036e3678 d45036e3672 ">整数</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3683" headers="d45036e3670 ">有效价值</td>
                              <td align="left" valign="top" headers="d45036e3683 d45036e3672 ">1到8</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3688" headers="d45036e3670 ">默认值</td>
                              <td align="left" valign="top" headers="d45036e3688 d45036e3672 ">1</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3693" headers="d45036e3670 ">需要属性</td>
                              <td align="left" valign="top" headers="d45036e3693 d45036e3672 "><code class="codeph">服务</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3699" headers="d45036e3670 ">与属性冲突</td>
                              <td align="left" valign="top" headers="d45036e3699 d45036e3672 "><code class="codeph">备用</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d45036e3705" headers="d45036e3670 ">对应于</td>
                              <td align="left" valign="top" headers="d45036e3705 d45036e3672 ">不适用</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5__GUID-806AA0F5-13B7-46F2-87EF-62E20168173B">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">PRIORITY</code>属性始终与<code class="codeph">GROUP</code>属性一起使用，以提供<code class="codeph">GROUP</code>的成员（重做目标）的有序启用和回退。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5__GUID-9CD555C8-109F-4FF2-A9CC-5627C14AD961">例</p>
                     <p>以下示例用于说明基本概念，并不意味着完全按照所示使用。根据您的配置，可能还需要其他参数，例如<code class="codeph">DB_UNIQUE_NAME</code> 。定义优先级的示例日志归档目标设置如下：</p><pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='SERVICE = FS1 SYNC GROUP = 1 PRIORITY = 1'LOG_ARCHIVE_DEST_2 ='SERVICE = FS2 SYNC GROUP = 1 PRIORITY = 1'LOG_ARCHIVE_DEST_3 ='SERVICE = FS3 ASYNC GROUP = 1 PRIORITY = 2'LOG_ARCHIVE_DEST_4 ='SERVICE = TS ASYNC GROUP = 1优先级= 3'</code></pre><p>此声明会导致以下行为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>主要发送到两个首选远程同步实例<code class="codeph">FS1</code>或<code class="codeph">FS2</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">FS1</code>和<code class="codeph">FS2</code>都不可用，则主要<code class="codeph">FS3</code>到<code class="codeph">FS3</code> （在这种情况下通过<code class="codeph">ASYNC</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>如果在主服务器发送到<code class="codeph">FS3</code>时<code class="codeph">FS1</code>或<code class="codeph">FS2</code>可用，则主服务器将故障回复到可用的首选日志存档目标。
                           </p>
                        </li>
                        <li>
                           <p>如果所有三个更高优先级的日志归档目标都失败，则主数据库开始传送到<code class="codeph">TS</code> （终端待机）。在运送到<code class="codeph">TS</code> ，如果<code class="codeph">FS1</code> ， <code class="codeph">FS2</code>或<code class="codeph">FS3</code>可用，则主交换机将切换到新可用的更高优先级目标。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B5AC0CAF-92FB-4CE6-B164-CC4328E389F5__GUID-6E22DEBF-1C94-49E9-AD8E-5CF7C3F40D50">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="creating-oracle-data-guard-far-sync-instance.html#GUID-872B6548-DEC9-4BD1-9997-E1A4E3D2B808" title="使用LOG_ARCHIVE_DEST_n初始化参数的PRIORITY属性在日志归档目标组中分配目标首选项，可以控制故障恢复机制，尤其是对于组内的多个成员。">为组中的日志归档目标分配优先级</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01113"></a><div class="sect2"><a id="GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7" name="GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7"></a><h3 id="SBYDB-GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7" class="sect3"><span class="enumeration_section">17.14</span> REOPEN</h3>
               <div>
                  <p><code class="codeph">REOPEN</code>属性指定重做传输服务尝试重新打开失败目标之前的最小秒数。
                  </p>
                  <p></p>
                  <div class="tblformal" id="GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7__GUID-A8DE6AD5-B403-43C0-99FA-19BC9A7ED6F4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table shows the minimum and maximum attribute values, and provides other statistics for the REOPEN and NOREOPEN attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="49%" id="d45036e3929">类别</th>
                              <th align="left" valign="bottom" width="51%" id="d45036e3932">REOPEN [=秒]</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3940" headers="d45036e3929 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3940 d45036e3932 ">
                                 <p>数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3947" headers="d45036e3929 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3947 d45036e3932 ">
                                 <p>&gt; = 0秒</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3954" headers="d45036e3929 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3954 d45036e3932 ">
                                 <p>300秒</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3961" headers="d45036e3929 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3961 d45036e3932 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3968" headers="d45036e3929 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3968 d45036e3932 ">
                                 <p><code class="codeph">不适用</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="49%" id="d45036e3976" headers="d45036e3929 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="51%" headers="d45036e3976 d45036e3932 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">REOPEN_SECS</code>和<code class="codeph">MAX_FAILURE</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7__GUID-CEB048C6-77B9-408F-9339-FBC1D7E324EB">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">REOPEN</code>属性是可选的。
                           </p>
                        </li>
                        <li>
                           <p>重做传输服务尝试在日志切换时重新打开失败的目标。</p>
                        </li>
                        <li>
                           <p>重做传输服务检查上一个错误加上<code class="codeph">REOPEN</code>间隔的时间是否小于当前时间。如果是，重做传输服务尝试重新打开目的地。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">REOPEN</code>适用于所有错误，而不仅仅是连接失败。这些错误包括但不限于网络故障，磁盘错误和配额异常。
                           </p>
                        </li>
                        <li>
                           <p>如果为可选目标指定<code class="codeph">REOPEN</code> ，则Oracle数据库可能会在出现错误时覆盖联机重做日志文件。如果为<code class="codeph">MANDATORY</code>目标指定<code class="codeph">REOPEN</code> ，则当无法成功传输重做数据时，重做传输服务会停止主数据库。发生这种情况时，请考虑以下选项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过延迟目标，将目标指定为可选或更改<code class="codeph">SERVICE</code>属性值来更改目标。
                                 </p>
                              </li>
                              <li>
                                 <p>指定备用目标。</p>
                              </li>
                              <li>
                                 <p>禁用目的地。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE01BD16-8FD7-4C4D-BBB6-156281C947A7__GUID-0514DFF0-BAF5-423A-AC0A-E1A4240F7FFF">例</p>
                     <p>以下示例显示了<code class="codeph">REOPEN</code>属性。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = stby1 MANDATORY REOPEN = 60'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01114"></a><div class="sect2"><a id="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349" name="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349"></a><h3 id="SBYDB-GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349" class="sect3"><span class="enumeration_section">17.15</span> SYNC和ASYNC</h3>
               <div>
                  <p><code class="codeph">SYNC</code>和<code class="codeph">ASYNC</code>属性指定是使用同步（ <code class="codeph">SYNC</code> ）还是异步（ <code class="codeph">ASYNC</code> ）重做传输模式。
                  </p>
                  <div class="tblformal" id="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349__GUID-025E4B19-4E51-4D69-A116-64B4155F055A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table provides the minimum and maximum values and other usage information for the SYNC and ASYNC attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d45036e4164">类别</th>
                              <th align="left" valign="bottom" width="32%" id="d45036e4167">同步</th>
                              <th align="left" valign="bottom" width="35%" id="d45036e4170">异步</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4175" headers="d45036e4164 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4175 d45036e4167 ">
                                 <p>关键词</p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4175 d45036e4170 ">
                                 <p>关键词</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4185" headers="d45036e4164 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4185 d45036e4167 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4185 d45036e4170 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4195" headers="d45036e4164 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4195 d45036e4167 ">
                                 <p>不适用</p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4195 d45036e4170 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4205" headers="d45036e4164 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4205 d45036e4167 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4205 d45036e4170 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4215" headers="d45036e4164 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4215 d45036e4167 ">
                                 <p><code class="codeph">ASYNC</code> ， <code class="codeph">LOCATION</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4215 d45036e4170 ">
                                 <p><code class="codeph">SYNC</code> ， <code class="codeph">LOCATION</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d45036e4233" headers="d45036e4164 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d45036e4233 d45036e4167 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">TRANSMIT_MODE</code>列</p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d45036e4233 d45036e4170 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">TRANSMIT_MODE</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349__GUID-4E4D1274-41DF-4194-B09E-6D9ADA43711B">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code>参数不支持<code class="codeph">SYNC</code>属性。
                           </p>
                        </li>
                        <li>
                           <p>事务生成的重做数据必须已由具有<code class="codeph">SYNC</code>属性的每个已启用目标接收，然后该事务才能提交。
                           </p>
                        </li>
                        <li>
                           <p>在主数据库和逻辑备用数据库上，目标1到10默认为<code class="codeph">ASYNC</code> （实时级联）。
                           </p>
                           <p>在物理备用数据库，快照备用数据库和远程同步实例上，目标1到10默认为<code class="codeph">ARCH</code>传输模式。（请注意，不推荐使用<code class="codeph">ARCH</code>属性;在这种情况下使用<code class="codeph">ARCH</code>只表示非实时级联。）
                           </p>
                           <p>目的地11到31始终默认为<code class="codeph">ASYNC</code> 。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349__GUID-F2E0A1FD-EF2E-432B-BB5B-F7EF5A827E7D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>已弃用属性的更多信息，请<a href="../refrn/LOG_ARCHIVE_DEST_n.html#REFRN10086" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3626025-2E4C-4C61-B5DF-2BB106F0A349__GUID-10936A07-5D85-4FA1-BAA7-7CB1D02B6FAA">例</p>
                     <p>以下示例显示了带有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">SYNC</code>属性。
                     </p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_3 ='SERVICE = stby1 SYNC'LOG_ARCHIVE_DEST_STATE_3 = ENABLE</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5116"></a><a id="SBYDB5115"></a><div class="sect2"><a id="GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657" name="GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657"></a><h3 id="SBYDB-GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657" class="sect3"><span class="enumeration_section">17.16</span>模板</h3>
               <div>
                  <p><code class="codeph">TEMPLATE</code>属性为目标上的归档重做日志文件的名称定义目录规范和格式模板。
                  </p>
                  <p>该模板用于生成与重做目标中的<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数定义的默认文件名格式不同的文件名。
                  </p>
                  <div class="tblformal" id="GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657__GUID-2B2546E0-9ABF-4ACE-8025-6587EBA889A4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the TEMPLATE attribute of LOG_ARCHIVE_DEST_n. There are two columns, Category and TEMPLATE=filename_template_%t_%s_%r. There are 7 rows including the header." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d45036e4416">类别</th>
                              <th align="left" valign="bottom" width="65%" id="d45036e4419">TEMPLATE = filename_template_％T_％S_％R</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4424" headers="d45036e4416 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4424 d45036e4419 ">
                                 <p>字符串值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4431" headers="d45036e4416 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4431 d45036e4419 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4438" headers="d45036e4416 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4438 d45036e4419 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4445" headers="d45036e4416 ">
                                 <p>需要属性......</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4445 d45036e4419 ">
                                 <p><code class="codeph">服务</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4453" headers="d45036e4416 ">
                                 <p>与属性冲突......</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4453 d45036e4419 ">
                                 <p><code class="codeph">地点</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4461" headers="d45036e4416 ">
                                 <p>对应...</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4461 d45036e4419 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">REMOTE_TEMPLATE</code>和<code class="codeph">REGISTER</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657__GUID-814B91C2-A3C2-43C0-8C54-05AF7B140923">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">TEMPLATE</code>属性是可选的。如果未指定<code class="codeph">TEMPLATE</code> ，则使用<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数的值命名归档重做日志。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TEMPLATE</code>属性会覆盖远程存档目标上的<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数设置。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TEMPLATE</code>属性仅对远程目标有效（使用<code class="codeph">SERVICE</code>属性指定）。
                           </p>
                        </li>
                        <li>
                           <p>您为<code class="codeph"><span class="variable" translate="no">filename_template</span></code>指定的值必须包含<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657__BABFAFID" title="TEMPLATE属性的指令">表17-1中</a>描述的％s，％t和％r指令。
                           </p>
                           <div class="tblformal" id="GUID-9E06C1CD-DA57-44FE-8BC4-720A890EB657__BABFAFID">
                              <p class="titleintable">表17-1 TEMPLATE属性的指令</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="TEMPLATE属性的指令" width="90%" border="1" summary="Directives for the TEMPLATE attribute" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d45036e4531">指示</th>
                                       <th align="left" valign="bottom" width="69%" id="d45036e4534">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4539" headers="d45036e4531 ">
                                          <p>％T</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4539 d45036e4534 ">
                                          <p>替换实例线程号。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4546" headers="d45036e4531 ">
                                          <p>％T</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4546 d45036e4534 ">
                                          <p>替换实例线程号，填零。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4553" headers="d45036e4531 ">
                                          <p>％S</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4553 d45036e4534 ">
                                          <p>替换日志文件序列号。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4560" headers="d45036e4531 ">
                                          <p>％S</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4560 d45036e4534 ">
                                          <p>替换日志文件序列号，填零。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4567" headers="d45036e4531 ">
                                          <p>％R</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4567 d45036e4534 ">
                                          <p>替换resetlogs ID。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d45036e4574" headers="d45036e4531 ">
                                          <p>％R</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d45036e4574 d45036e4534 ">
                                          <p>替换resetlogs ID，零填充。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                        <li>
                           <p>filename_template值将传输到目标，在创建文件名之前将其转换并验证。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB01116"></a><div class="sect2"><a id="GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5" name="GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5"></a><h3 id="SBYDB-GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5" class="sect3"><span class="enumeration_section">17.17</span> VALID_FOR</h3>
               <div>
                  <p><code class="codeph">VALID_FOR</code>属性指定重做数据是否写入目标。
                  </p>
                  <p>考虑以下因素：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库<span class="italic">当前</span>是以主角色还是备用角色运行</p>
                     </li>
                     <li>
                        <p><span class="italic">当前</span>是否在此目标的数据库上存档联机重做日志文件，备用重做日志文件或两者</p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5__GUID-B3574AEC-F703-4F6A-90F7-23F03407ABE5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table shows the minimum and maximum attribute values, and provides other statistics for the VALID_FOR attribute." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d45036e4702">类别</th>
                              <th align="left" valign="bottom" width="65%" id="d45036e4705">VALID_FOR =（redo_log_type，database_role）</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4713" headers="d45036e4702 ">
                                 <p>数据类型</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4713 d45036e4705 ">
                                 <p>字符串值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4720" headers="d45036e4702 ">
                                 <p>有效值</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4720 d45036e4705 ">
                                 <p>不适用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4727" headers="d45036e4702 ">
                                 <p>默认值</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4727 d45036e4705 ">
                                 <p><code class="codeph">VALID_FOR =（ALL_LOGFILES，ALL_ROLES）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4735" headers="d45036e4702 ">
                                 <p>需要属性</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4735 d45036e4705 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4742" headers="d45036e4702 ">
                                 <p>与属性冲突</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4742 d45036e4705 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d45036e4749" headers="d45036e4702 ">
                                 <p>对应于</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d45036e4749 d45036e4705 ">
                                 <p><code class="codeph">V$ARCHIVE_DEST</code>视图中的<code class="codeph">VALID_NOW</code> ， <code class="codeph">VALID_TYPE</code>和<code class="codeph">VALID_ROLE</code>列</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5__GUID-26ABBAF3-AA6D-4695-9C98-52C97D4EB97C">使用说明</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">VALID_FOR</code>属性是可选的。但是，Oracle建议为Oracle Data Guard配置中的每个数据库的每个重做传输目标指定<code class="codeph">VALID_FOR</code>属性，以便在角色转换到配置中的任何备用数据库后继续重做传输。
                           </p>
                        </li>
                        <li>
                           <p>要为每个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>目标配置这些因子，请使用一对关键字指定此属性： <code class="codeph">VALID_FOR=(</code> <span class="variable" translate="no">redo_log_type</span> <code class="codeph">,</code> <span class="variable" translate="no">database_role</span> <code class="codeph">)</code> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="variable" translate="no">redo_log_type</span>关键字将目标标识为对存档以下内容之一有效：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">ONLINE_LOGFILE</code> - 此目标仅在归档联机重做日志文件时有效。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">STANDBY_LOGFILE</code> - 此目标仅在归档备用重做日志文件时有效。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALL_LOGFILES</code> - 归档联机重做日志文件或备用重做日志文件时，此目标有效。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p><span class="variable" translate="no">database_role</span>关键字标识此目标对归档有效的角色：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">PRIMARY_ROLE</code> - 仅当数据库在主角色中运行时，此目标才有效。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">STANDBY_ROLE</code> - 仅当数据库以备用角色运行时，此目标才有效。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALL_ROLES</code> - 当数据库以主角色或备用角色运行时，此目标有效。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果未指定目标的<code class="codeph">VALID_FOR</code>属性，则默认情况下，无论数据库是以主角色还是备用角色运行，都会在目标上启用归档联机重做日志文件和备用重做日志文件。此默认行为等同于在<code class="codeph">VALID_FOR</code>属性上设置<code class="codeph">(ALL_LOGFILES,ALL_ROLES)</code>关键字对。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">VALID_FOR</code>属性使您可以<code class="codeph">VALID_FOR</code>角色和备用角色使用相同的初始化参数文件。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2E1845CC-B3CA-4409-BACB-6AB40D6D42E5__GUID-B117A58A-303D-4E5F-B4DA-5BF6BB312525">例</p>
                     <p>以下示例显示了默认的<code class="codeph">VALID_FOR</code>关键字对：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1 ='LOCATION = / disk1 / oracle / oradata VALID_FOR =（ALL_LOGFILES，ALL_ROLES）'</pre><p>当此数据库以主角色或备用角色运行时，目标1将所有日志文件归档到<code class="codeph">/disk1/oracle/oradata</code>本地目录位置。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00111.xa.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用Oracle XA开发应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="external-procedures.html" title="Previous" type="text/html"></link>
      <link rel="next" href="publish-subscribe-model.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="external-procedures.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="publish-subscribe-model.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员的高级主题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle XA开发应用程序</li>
            </ol>
            <a id="GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7" name="GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7"></a><a id="ADFNS1097"></a><a id="ADFNS017"></a>
            
            <h2 id="ADFNS-GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7" class="sect2"><span class="enumeration_chapter">22</span>使用Oracle XA开发应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <div class="infoboxnote" id="GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7__GUID-87C74900-502C-40FF-9457-99D2AC698B40">
                  <p class="notep1">注意：</p>
                  <p>如果可能，请避免使用XA，原因如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>XA会降低性能。</p>
                     </li>
                     <li>
                        <p>XA可能会导致不确定的交易。</p>
                     </li>
                     <li>
                        <p>XA可能无法利用Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.1）功能，这些功能可增强应用程序在可恢复中断后继续运行的能力。
                        </p>
                     </li>
                  </ul>
                  <p>即使可以避免使用XA，也可以避免使用XA（例如，如果必须在同一事务中使用Oracle和非Oracle资源）。</p>
               </div>
               <p>本章介绍如何使用Oracle XA库。通常，您在使用事务监视器的应用程序中使用此库。XA功能在事务与多个数据库交互的应用程序中最有用。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7__GUID-055B150E-7A14-4327-9D3D-2A72B6DE9C17">话题：</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="xa.html#GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C">X / Open分布式事务处理（DTP）</a></p>
                  </li>
                  <li>
                     <p><a href="xa.html#GUID-9A7404AC-CE6F-4F41-B8C6-CA2936A78609">Oracle XA库子程序</a></p>
                  </li>
                  <li>
                     <p><a href="xa.html#GUID-22284B0A-C63F-471A-96ED-AEA195068944">开发和安装XA应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="xa.html#GUID-194B0A1B-1A10-47B5-B898-5CDECD7FFA9B">XA应用程序疑难解答</a></p>
                  </li>
                  <li>
                     <p><a href="xa.html#GUID-D1F82CDD-DDDA-4895-B18B-C9F7D44AAEBB">Oracle XA问题和限制</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-1DAB062F-F796-4424-9FFD-9756688AC5B7__GUID-4BF8CF25-B27D-4EAD-8C8E-D09C4CAC0A78">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">分布式TP：XA规范</span> ，概述了XA，包括基本架构<span class="italic">。</span> 访问<a href="https://www2.opengroup.org/ogsys/jsp/publications/PublicationDetails.jsp?publicationid=11144" target="_blank"><code class="codeph">https://www2.opengroup.org/ogsys/jsp/publications/PublicationDetails.jsp?publicationid=11144</code></a> 。</p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI350" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> ，了解有关Oracle XA库的背景和参考信息</p>
                     </li>
                     <li>
                        <p>有关库链接文件名的信息，请参阅Oracle数据库平台特定文档</p>
                     </li>
                     <li>
                        <p>有关适用于您的平台的Oracle XA库中的更改，错误和限制的自述文件</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADFNS760"></a><a id="ADFNS1098"></a><a id="ADFNS1501"></a><div class="props_rev_3"><a id="GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C" name="GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C"></a><h3 id="ADFNS-GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C" class="sect3">X / Open分布式事务处理（DTP）</h3>
               <div>
                  <p>X / Open分布式事务处理（DTP）体系结构定义了一种标准体系结构或接口，使多个应用程序（AP）能够共享由多个（可能是不同的）资源管理器（RM）提供的资源。它协调AP和RM之间的工作进入全局事务。</p>
                  <p>Oracle XA库符合X / Open软件架构的XA接口规范。Oracle XA库是一个外部接口，它使不是Oracle客户端TM的客户端事务管理器（TM）能够协调全局事务，从而允许在分布式事务中包含非Oracle数据库RM的数据库RM。例如，客户端应用程序可以将NTFS文件系统中的Oracle数据库事务和事务作为单个全局事务进行管理。</p>
                  <p><a href="xa.html#GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C__BGBJEHGJ">图22-1</a>说明了可能的X / Open DTP模型。
                  </p>
                  <div class="figure" id="GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C__BGBJEHGJ">
                     <p class="titleinfigure">图22-1可能的DTP模型</p><img src="img/adfns079.gif" width="400" alt="下面是图22-1的描述" title="下面是图22-1的描述" longdesc="img_text/adfns079.html"><br><a href="img_text/adfns079.html">“图22-1可能的DTP模型”的描述</a></div>
                  <!-- class="figure" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C__GUID-7C56C978-7923-4A1E-9FCB-1692AA110A2C">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E">DTP术语</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1">所需的公共信息</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS762"></a><a id="ADFNS763"></a><a id="ADFNS764"></a><a id="ADFNS765"></a><a id="ADFNS766"></a><a id="ADFNS767"></a><a id="ADFNS768"></a><a id="ADFNS769"></a><a id="ADFNS770"></a><a id="ADFNS771"></a><a id="ADFNS761"></a><div class="props_rev_3"><a id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E" name="GUID-CA0BA438-300D-4978-AE75-52D293D3552E"></a><h4 id="ADFNS-GUID-CA0BA438-300D-4978-AE75-52D293D3552E" class="sect4">DTP术语</h4>
                  <div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABDCAIG">资源经理（RM）</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABFFCHB">分布式事务</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABHEGBF">科</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABIACJA">交易经理（TM）</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABDBFFB">事务处理监视器（TPM）</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABBBCHD">两阶段提交协议</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABCBIAH">应用程序（AP）</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABFDADA">TX接口</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABBDDFC">紧凑和松散的耦合</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABGHHEG">动态和静态注册</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABDCAIG">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-F0D59031-48A6-4599-99C3-3B800502573C">资源经理（RM）</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>资源管理器控制共享的可恢复资源，该资源可在失败后返回到一致状态。示例是关系数据库，事务性队列和事务性文件系统。Oracle数据库是RM，使用其联机重做日志和还原段在失败后返回到一致状态。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABFFCHB">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-0CA959CF-5C8A-44B0-BDA6-AC1D8FDB3AF6">分布式事务</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>分布式事务（也称为<strong class="term">全局事务</strong> ）是一种客户端事务，它涉及对多个分布式资源的更新，并且需要跨分布式RM的“全有或全无”语义。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABHEGBF">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-808BE7EC-91B6-4C9E-8F60-4636A309C62F">科</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>分支是一个RM中包含的工作单元。多个分支包括全局事务。对于Oracle数据库，每个分支映射到数据库服务器内的本地事务。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABIACJA">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-7137E6FF-E308-497A-9251-0DA1D3E9C2C8">交易经理（TM）</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>事务管理器提供用于指定事务边界的API，并管理提交和恢复。TM实现了两阶段提交引擎，以跨分布式RM提供“全有或全无”语义。</p>
                        <p><strong class="term">外部TM</strong>是位于Oracle数据库之外的中间层组件。通常，数据库是它自己的内部TM。使用基于标准的TM使Oracle数据库能够在单个事务中与其他异构RM协作。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABDBFFB">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-12171B7B-DDF7-4002-9F42-C0A6A65FC4F2">事务处理监视器（TPM）</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>TM通常由事务处理监视器（TPM）提供，例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Tuxedo</p>
                           </li>
                           <li>
                              <p>IBM Transarc Encina</p>
                           </li>
                           <li>
                              <p>IBM CICS</p>
                           </li>
                        </ul>
                        <p>TPM协调发出请求的客户端进程与处理它们的后端服务器之间的事务请求流。基本上，TPM协调需要几种不同类型的后端进程的服务的事务，例如通过网络分发的应用程序服务器和RM。</p>
                        <p>TPM同步完成分布式事务所需的任何提交或回滚。TPM的TM部分负责控制何时进行分布式提交和回滚。因此，如果分布式应用程序利用TPM，则TPM的TM部分负责控制两阶段提交协议。RM使TM能够执行此任务。</p>
                        <p>由于TM控制分布式提交或回滚，因此它必须通过XA接口直接与Oracle数据库（或任何其他RM）通信。它使用Oracle XA库子程序（在<span class="q">“ <a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340">Oracle XA库子程序</a> ”</span>中描述），根据其对事务中所有RM的了解，告知Oracle数据库如何处理事务。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABBBCHD">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-11969F91-28A8-4D39-BC05-60DB34C658E0">两阶段提交协议</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle XA库接口遵循两阶段提交协议。事件顺序如下：</p>
                        <ol>
                           <li>
                              <p>在准备阶段，TM要求每个RM保证它可以提交交易的任何部分。如果可能，则RM记录其准备好的状态并肯定地回复TM。如果不可能，那么RM可能会回滚任何工作，对TM做出否定回复，并忘记交易。该协议允许应用程序或任何RM单方面回滚事务，直到准备阶段完成。</p>
                           </li>
                           <li>
                              <p>在第二阶段，TM记录提交决策并向参与事务的所有RM发出提交或回滚。只有当所有客户经理肯定地回复第一阶段时，TM才能为RM发出提交。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABCBIAH">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-2D142483-7C2F-459D-AA08-245875528D82">应用程序（AP）</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>应用程序定义事务边界并指定构成事务的操作。例如，AP可以是预编译器或Oracle调用接口（OCI）程序。AP通过其本机接口（例如，SQL）在RM资源上运行。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABFDADA">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-1D409ADA-6013-4F0F-A191-A474890F92C8">TX接口</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>应用程序通过名为<strong class="term">TX</strong>的接口通过TM启动并完成所有事务控制操作。 AP不直接使用XA接口。AP不知道在中间层中分支的分支：应用程序线程没有明确地加入，离开，暂停和恢复分支工作，而是事务处理监视器的TM部分管理AP的全局事务的分支。最终，AP呼叫TM提交全有或全无。
                        </p>
                        <div class="infoboxnote" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-293402A0-94B2-4B5C-804F-5460BFA68609">
                           <p class="notep1">注意：</p>
                           <p>TX接口和相关子程序的命名约定是特定于供应商的。例如， <code class="codeph">tx_open</code>调用可能在您的系统上称为<code class="codeph">tp_open</code> 。在某些情况下，调用可能是隐式的，例如，在事务RPC的入口处。有关详细信息，请参阅事务处理监视器随附的文档。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABBDDFC">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-74CB271D-C466-4928-9137-4C94D60A9823">紧凑和松散的耦合</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果RM将它们视为用于所有隔离语义目的的单个实体，则应用程序线程<span class="bold">紧密耦合</span> 。紧密耦合的分支必须看到彼此的变化。此外，外部客户端必须要么看到紧耦合集的所有更改，要么看不到任何更改。如果应用程序线程没有紧密耦合，那么它们是<span class="bold">松散耦合的</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__BABGHHEG">
                        <p class="subhead3" id="GUID-CA0BA438-300D-4978-AE75-52D293D3552E__GUID-E572F404-6B66-4496-B3B9-77EC82AF2C1E">动态和静态注册</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle数据库支持动态和静态注册。在<span class="bold">动态注册中</span> ，RM在开始任何工作之前运行应用程序回调。在<span class="bold">静态注册中</span> ，您必须在开始任何工作之前为每个RM调用<code class="codeph">xa_start</code> ，即使不涉及某些RM。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS773"></a><a id="ADFNS772"></a><div class="props_rev_3"><a id="GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1" name="GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1"></a><h4 id="ADFNS-GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1" class="sect4">所需的公共信息</h4>
                  <div>
                     <p>作为资源管理器，Oracle数据库必须发布<a href="xa.html#GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1__BGBFABGJ" title="此表汇总了Oracle数据库发布的所需XA功能。">表22-1中</a>描述的信息。
                     </p>
                     <div class="tblformal" id="GUID-2CF88A6E-A75B-4CE0-891D-0E6AE7D31FA1__BGBFABGJ">
                        <p class="titleintable">表22-1 Oracle数据库发布的必需XA功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库发布的必需XA功能" width="100%" border="1" summary="This table summarizes the required XA features published by Oracle Database." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d132228e765">XA功能</th>
                                 <th align="left" valign="bottom" width="72%" id="d132228e768">Oracle Database详细信息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e773" headers="d132228e765 ">
                                    <p><code class="codeph">xa_switch_t</code>结构</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e773 d132228e768 ">
                                    <p>Oracle数据库<code class="codeph">xa_switch_t</code>结构名称是<code class="codeph">xaosw</code>静态登记和<code class="codeph">xaoswd</code>动态注册。这些结构包含资源管理器的入口点和其他信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e791" headers="d132228e765 ">
                                    <p><code class="codeph">xa_switch_t</code>资源管理器</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e791 d132228e768 ">
                                    <p><code class="codeph">xa_switch_t</code>结构中的Oracle数据库资源管理器名称是<code class="codeph">Oracle_XA</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e806" headers="d132228e765 ">
                                    <p>关闭字符串</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e806 d132228e768 ">
                                    <p><code class="codeph">xa_close</code>使用的关闭字符串将被忽略，并且可以为null。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e816" headers="d132228e765 ">
                                    <p>打开字符串</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e816 d132228e768 ">
                                    <p>有关<code class="codeph">xa_open</code>使用的打开字符串格式的说明，请参阅<a href="xa.html#GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96">定义xa_open字符串</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e830" headers="d132228e765 ">
                                    <p>图书馆</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e830 d132228e768 ">
                                    <p>使用Oracle XA链接应用程序所需的库具有特定于平台的名称。该过程类似于链接普通预编译器或OCI程序，但您可能必须链接任何特定于TPM的库。</p>
                                    <p>如果您不使用预编译器（例如Pro * C / C ++，Pro * COBOL等），则链接到<code class="codeph">$ORACLE_HOME/rdbms/lib/xaonsl.o</code>或<code class="codeph">$ORACLE_HOME/rdbms/lib32/xaonsl.o</code> （对于32 64位平台上的位应用程序）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d132228e845" headers="d132228e765 ">
                                    <p>要求</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d132228e845 d132228e768 ">
                                    <p>没有。支持XA的功能是标准版和企业版的一部分。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="ADFNS1099"></a><a id="ADFNS1502"></a><div class="props_rev_3"><a id="GUID-9A7404AC-CE6F-4F41-B8C6-CA2936A78609" name="GUID-9A7404AC-CE6F-4F41-B8C6-CA2936A78609"></a><h3 id="ADFNS-GUID-9A7404AC-CE6F-4F41-B8C6-CA2936A78609" class="sect3">Oracle XA库子程序</h3>
               <div>
                  <p>Oracle XA库子程序使TM能够告诉Oracle数据库如何处理事务。通常，TM必须使用<code class="codeph">xa_open</code>打开资源。通常，资源的打开是由AP调用<code class="codeph">tx_open</code> 。当应用程序开始时，某些TM可能会隐式调用<code class="codeph">xa_open</code> 。
                  </p>
                  <p>类似地，当应用程序完成资源时，会发生关闭（使用<code class="codeph">xa_close</code> ）。当AP调用<code class="codeph">tx_close</code>或应用程序终止时，可能会发生关闭。
                  </p>
                  <p>TM指示RM执行其他几项任务，包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>启动事务并将其与ID关联</p>
                     </li>
                     <li>
                        <p>回滚交易</p>
                     </li>
                     <li>
                        <p>准备和提交交易</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-9A7404AC-CE6F-4F41-B8C6-CA2936A78609__GUID-7C1AF3C7-1DD7-4F98-A4EB-49A2BF1F290B">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340">Oracle XA库子程序</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51">Oracle XA接口扩展</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS775"></a><a id="ADFNS774"></a><div class="props_rev_3"><a id="GUID-9C1460F8-43B4-470B-A624-07889E522340" name="GUID-9C1460F8-43B4-470B-A624-07889E522340"></a><h4 id="ADFNS-GUID-9C1460F8-43B4-470B-A624-07889E522340" class="sect4">Oracle XA库子程序</h4>
                  <div>
                     <p>XA库子程序如<a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340__g1017655" title="此表总结了XA库子例程。">表22-2所示</a> 。
                     </p>
                     <div class="tblformal" id="GUID-9C1460F8-43B4-470B-A624-07889E522340__g1017655">
                        <p class="titleintable">表22-2 XA库子程序</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XA库子程序" width="100%" border="1" summary="This table summarizes the XA library subroutines." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d132228e1116">XA子程序</th>
                                 <th align="left" valign="bottom" width="80%" id="d132228e1119">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1124" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_open</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1124 d132228e1119 ">
                                    <p>连接到RM。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1132" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_close</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1132 d132228e1119 ">
                                    <p>与RM断开连接。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1140" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_start</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1140 d132228e1119 ">
                                    <p>启动事务并将其与给定的事务ID（XID）相关联，或将该流程与现有事务相关联。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1148" headers="d132228e1116 ">
                                    <p><code class="codeph">XA_END</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1148 d132228e1119 ">
                                    <p>将进程与给定的XID解除关联。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1156" headers="d132228e1116 ">
                                    <p><code class="codeph">XA_ROLLBACK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1156 d132228e1119 ">
                                    <p>回滚与给定XID关联的事务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1164" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_prepare</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1164 d132228e1119 ">
                                    <p>准备与给定XID关联的事务。这是两阶段提交协议的第一阶段。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1172" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_commit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1172 d132228e1119 ">
                                    <p>提交与给定XID关联的事务。这是两阶段提交协议的第二阶段。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1180" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_recover</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1180 d132228e1119 ">
                                    <p>检索已准备好，启发式提交或启发式回滚事务的列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d132228e1188" headers="d132228e1116 ">
                                    <p><code class="codeph">xa_forget</code></p>
                                 </td>
                                 <td align="left" valign="top" width="80%" headers="d132228e1188 d132228e1119 ">
                                    <p>忘记与给定XID相关联的启发式完成的事务。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>通常，除了理解<code class="codeph">xa_open</code>字符串所起的作用外，AP不必担心<a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340__g1017655" title="此表总结了XA库子例程。">表22-2中</a>的子程序。
                     </p>
                  </div>
               </div><a id="ADFNS777"></a><a id="ADFNS776"></a><div class="props_rev_3"><a id="GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51" name="GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51"></a><h4 id="ADFNS-GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51" class="sect4">Oracle XA接口扩展</h4>
                  <div>
                     <p>Oracle数据库的XA接口包括一些附加功能，如<a href="xa.html#GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51__BGBEDJAG" title="此表汇总了Oracle数据库XA界面中的其他功能。">表22-3所示</a> 。
                     </p>
                     <div class="tblformalwide" id="GUID-00C2A1DD-B351-4377-A13B-0E67D0E21B51__BGBEDJAG">
                        <p class="titleintable">表22-3 Oracle XA接口扩展</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle XA接口扩展" width="100%" border="1" summary="This table summarizes additional functions in the XA interface for Oracle Database." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="49%" id="d132228e1318">功能</th>
                                 <th align="left" valign="bottom" width="51%" id="d132228e1321">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d132228e1326" headers="d132228e1318 ">
                                    <p><code class="codeph">OCISvcCtx * xaoSvcCtx（text * dbname）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d132228e1326 d132228e1321 ">
                                    <p>返回给定XA连接的OCI服务句柄。<code class="codeph">dbname</code>参数必须与<code class="codeph">xa_open</code>字符串中传递的<code class="codeph">DB</code>参数相同。OCI应用程序可以使用此路由而不是<code class="codeph">sqlld2</code>调用来获取连接句柄。因此，OCI应用程序不需要与<code class="codeph">sqllib</code>库链接。可以使用<code class="codeph">OCISvcCtxToLda</code> [Version 8 OCI]将服务句柄转换为V7 OCI登录数据区（LDA）。客户端应用程序必须记住在完成OCI调用后使用<code class="codeph">OCILdaToSvcCtx</code>将V7 LDA转换为服务句柄。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d132228e1356" headers="d132228e1318 ">
                                    <p><code class="codeph">OCIEnv * xaoEnv（text * dbname）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d132228e1356 d132228e1321 ">
                                    <p>返回给定XA连接的OCI环境句柄。<code class="codeph">dbname</code>参数必须与<code class="codeph">xa_open</code>字符串中传递的<code class="codeph">DB</code>参数相同。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d132228e1373" headers="d132228e1318 ">
                                    <p><code class="codeph">int xaosterr（OCISvcCtx * SvcCtx，sb4错误）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d132228e1373 d132228e1321 ">
                                    <p>将Oracle数据库错误代码转换为XA错误代码（仅适用于动态注册）。第一个参数是用于在数据库中运行工作的服务句柄。第二个参数是从Oracle数据库返回的错误代码。使用此函数可确定是否因为<code class="codeph">xa_start</code>失败而导致从OCI语句返回的错误。如果XA模块未生成错误，则函数返回XA_OK;如果XA模块生成错误，则函数返回有效的XA错误。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="ADFNS1503"></a><div class="props_rev_3"><a id="GUID-22284B0A-C63F-471A-96ED-AEA195068944" name="GUID-22284B0A-C63F-471A-96ED-AEA195068944"></a><h3 id="ADFNS-GUID-22284B0A-C63F-471A-96ED-AEA195068944" class="sect3">开发和安装XA应用程序</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何开发和安装Oracle XA应用程序：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-91007BAE-9DD3-4993-8220-C3EC8391376B">DBA或系统管理员职责</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-FE99AEDA-C4B1-40F9-A3BB-4484F9532753">应用程序开发人员职责</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96">定义xa_open字符串</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-22284B0A-C63F-471A-96ED-AEA195068944">开发和安装XA应用程序</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C">使用Oracle XA管理事务控制</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE">将预编译器或OCI应用程序迁移到TPM应用程序</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-1769DFE4-A670-471F-81D2-514398386A41">管理Oracle XA Library线程安全</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6">使用DBMS_XA包</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS778"></a><div class="props_rev_3"><a id="GUID-91007BAE-9DD3-4993-8220-C3EC8391376B" name="GUID-91007BAE-9DD3-4993-8220-C3EC8391376B"></a><h4 id="ADFNS-GUID-91007BAE-9DD3-4993-8220-C3EC8391376B" class="sect4">DBA或系统管理员职责</h4>
                  <div>
                     <div class="section">
                        <p>DBA或系统管理员的职责是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在应用程序开发人员的帮助下定义打开的字符串。</span></li>
                        <li class="stepexpand"><span>确保存在静态数据字典视图<code class="codeph">DBA_PENDING_TRANSACTIONS</code> ，并为<code class="codeph">xa_open</code>字符串中指定的所有Oracle用户授予对视图的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。</span><div>
                              <p>使用命令<code class="codeph">COMMIT</code> <code class="codeph">FORCE</code> <span class="italic"><code class="codeph">local_tran_id</code></span>或<code class="codeph">ROLLBACK</code> <code class="codeph">FORCE</code> <span class="italic"><code class="codeph">local_tran_id</code></span>向Oracle用户授予<code class="codeph">FORCE</code> <code class="codeph">TRANSACTION</code>权限，该用户可能提交或回滚他或她创建的待处理（不确定）事务。
                              </p>
                              <p>向可能提交或回滚其他用户创建的XA事务的Oracle用户授予<code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code>权限。例如，如果用户A可能提交或回滚用户B创建的事务，则用户A必须具有<code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code>权限。
                              </p>
                              <p>在Oracle Database <code class="codeph">V$XATRANS$</code>客户端应用程序中，Oracle XA库使用的所有Oracle数据库帐户必须具有动态性能视图<code class="codeph">V$XATRANS$</code>的<code class="codeph">SELECT</code>权限。必须在XA库安装期间创建此视图。如有必要，可以通过运行SQL脚本<code class="codeph">xaview</code>手动创建视图。 <code class="codeph">sql</code>作为Oracle数据库用户<code class="codeph">SYS</code> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用打开的字符串信息，将RM安装到TPM配置中。按照TPM供应商的说明进行操作</span><div>
                              <p>DBA或系统管理员必须知道TPM系统启动连接到Oracle数据库的进程。请参阅TPM文档以确定流程存在的环境以及必须具有的用户ID。确保在此环境中为<code class="codeph">$ORACLE_HOME</code>和<code class="codeph">$ORACLE_SID</code>设置了正确的值。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将用户标识写入权限授予系统要在其中写入XA跟踪文件的目录。</span><div></div>
                        </li>
                        <li class="stepexpand"><span>启动相关数据库实例以使Oracle XA应用程序联机。在启动任何TPM服务器之前执行此任务。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-91007BAE-9DD3-4993-8220-C3EC8391376B__NOTE-1231-CB04EA89">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="xa.html#GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96">定义xa_open String</a>以获取有关如何定义开放字符串的信息，并指定Oracle系统标识符（SID）或与默认值不同的跟踪目录</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">catxpend</code>位置的Oracle数据库平台特定文档。 <code class="codeph">sql</code>脚本</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS779"></a><div class="props_rev_3"><a id="GUID-FE99AEDA-C4B1-40F9-A3BB-4484F9532753" name="GUID-FE99AEDA-C4B1-40F9-A3BB-4484F9532753"></a><h4 id="ADFNS-GUID-FE99AEDA-C4B1-40F9-A3BB-4484F9532753" class="sect4">应用程序开发人员职责</h4>
                  <div>
                     <div class="section">
                        <p>应用程序开发人员的职责是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在DBA或系统管理员的帮助下定义打开的字符串，如<a href="xa.html#GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96">定义xa_open字符串中所述</a> 。</span></li>
                        <li class="stepexpand"><span>开发应用程序。</span><div>
                              <p>对预编译器的事务导向SQL语句遵守特殊限制。</p>
                              <div class="infoboxnotealso" id="GUID-FE99AEDA-C4B1-40F9-A3BB-4484F9532753__GUID-AB0A5F35-9E3B-4959-990B-959E0C3B13FE">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="xa.html#GUID-22284B0A-C63F-471A-96ED-AEA195068944">开发和安装XA应用程序</a></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>根据TPM供应商说明链接应用程序。</span></li>
                     </ol>
                  </div>
               </div><a id="ADFNS1100"></a><a id="ADFNS780"></a><div class="props_rev_3"><a id="GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96" name="GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96"></a><h4 id="ADFNS-GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96" class="sect4">定义xa_open字符串</h4>
                  <div>
                     <div class="section">
                        <p>事务监视器使用打开的字符串来打开数据库。打开字符串中的最大字符数为256。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33E70E78-7ACD-4B6F-84C2-AC567C6EDE96__GUID-C967996D-E739-49A0-A6B6-FBEC760D51B8">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xa.html#GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B">xa_open字符串的语法</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-C6CEF296-5873-4F8B-80AE-F647B9367054">xa_open字符串的必填字段</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2">xa_open字符串的可选字段</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS782"></a><a id="ADFNS781"></a><div class="props_rev_3"><a id="GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B" name="GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B"></a><h5 id="ADFNS-GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B" class="sect5">xa_open字符串的语法</h5>
                     <div>
                        <div class="section">
                           <p>您可以使用<a href="xa.html#GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B__BGBJCIHB">示例22-1中</a>显示的语法定义一个打开的字符串。
                           </p>
                           <p>这些字符串显示示例参数设置：</p><pre class="oac_no_warn" dir="ltr">ORACLE_XA + DB = MANAGERS + SqlNet = SID1 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog ORACLE_XA + DB = PAYROLL + SqlNet = SID2 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog ORACLE_XA + SqlNet = SID3 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog</pre><p>这些主题描述了<span class="italic"><code class="codeph">required_fields</code></span>有效参数<span class="italic"> </span>和<span class="italic"><code class="codeph">optional_fields</code></span>占位符：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="xa.html#GUID-C6CEF296-5873-4F8B-80AE-F647B9367054">xa_open字符串的必填字段</a></p>
                              </li>
                              <li>
                                 <p><a href="xa.html#GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2">xa_open字符串的可选字段</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B__GUID-482A066D-E03F-4A9C-BCD4-0F8F59C18348">
                              <p class="notep1">注意：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在构造打开的字符串时，您可以按任何顺序输入必填字段和可选字段。</p>
                                 </li>
                                 <li>
                                    <p>所有字段名称都不区分大小写。它们的值是否区分大小写取决于平台。</p>
                                 </li>
                                 <li>
                                    <p>无法使用加号（ <code class="codeph">+</code> ）作为实际信息字符串的一部分。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B__BGBJCIHB">
                           <p class="titleinexample">例22-1 xa_open字符串</p><pre class="oac_no_warn" dir="ltr">ORACLE_XA {+ <span class="italic"><code class="codeph">required_fields</code></span> ...} [+ <span class="italic"><code class="codeph">optional_fields</code></span> <span class="italic">..</span> ]
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS784"></a><a id="ADFNS783"></a><div class="props_rev_3"><a id="GUID-C6CEF296-5873-4F8B-80AE-F647B9367054" name="GUID-C6CEF296-5873-4F8B-80AE-F647B9367054"></a><h5 id="ADFNS-GUID-C6CEF296-5873-4F8B-80AE-F647B9367054" class="sect5">xa_open字符串的必填字段</h5>
                     <div>
                        <p><a href="xa.html#GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B__BGBJCIHB">例22-1中</a>的<span class="italic"><code class="codeph">required_fields</code></span>占位符引用<a href="xa.html#GUID-C6CEF296-5873-4F8B-80AE-F647B9367054__BGBDIACH" title="此表汇总了xa_open字符串的必填字段。">表22-4中</a>描述的任何名称 - 值对。
                        </p>
                        <div class="tblformal" id="GUID-C6CEF296-5873-4F8B-80AE-F647B9367054__BGBDIACH">
                           <p class="titleintable">表22-4 xa_open字符串的必填字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="xa_open字符串的必填字段" width="100%" border="1" summary="This table summarizes the required fields of the xa_open string." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d132228e2287">语法元素</th>
                                    <th align="left" valign="bottom" width="64%" id="d132228e2290">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d132228e2295" headers="d132228e2287 ">
                                       <p><code class="codeph">度Acc = P //</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d132228e2295 d132228e2290 ">
                                       <p>指定不提供显式用户或密码信息，并且使用操作系统身份验证表单。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d132228e2303" headers="d132228e2287 ">
                                       <p><code class="codeph">Acc=P/</code> <span class="italic"><code class="codeph">user</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">password</code></span> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d132228e2303 d132228e2290 ">
                                       <p>指定有效Oracle数据库帐户的用户名和密码。如<a href="xa.html#GUID-91007BAE-9DD3-4993-8220-C3EC8391376B">DBA或系统管理员职责中所述</a> ，确保HR对<code class="codeph">DBA_PENDING_TRANSACTIONS</code>表具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d132228e2333" headers="d132228e2287 ">
                                       <p><code class="codeph">SesTm=</code> <span class="italic"><code class="codeph">session_time_limit</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d132228e2333 d132228e2290 ">
                                       <p>指定在系统终止事务之前，一个服务与下一个服务之间或服务与事务的提交或回滚之间的事务中允许的最大秒数。例如， <code class="codeph">SesTM=15</code>表示会话空闲时间限制为15秒。
                                       </p>
                                       <p>例如，如果TPM使用客户端和服务器之间的远程子程序调用，则<code class="codeph">SesTM</code>适用于完成一个RPC和启动下一个RPC，或<code class="codeph">tx_commit</code>或<code class="codeph">tx_rollback</code> 。
                                       </p>
                                       <p>值<code class="codeph">0</code>表示没有限制。强烈建议不要输入值<code class="codeph">0</code> 。如果出现问题，它可能会长时间占用资源。此外，如果子进程的<code class="codeph">SesTM=0</code> ，则父进程终止后， <code class="codeph">SesTM</code>设置无效。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-C6CEF296-5873-4F8B-80AE-F647B9367054__NOTE-123-CB061EE4">
                           <p class="notep1">也可以看看：</p>
                           <p>有关管理员身份验证的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11046" target="_blank"><span class="italic">“Oracle数据库管</span></a></p>
                        </div>
                     </div>
                  </div><a id="ADFNS786"></a><a id="ADFNS785"></a><div class="props_rev_3"><a id="GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2" name="GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2"></a><h5 id="ADFNS-GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2" class="sect5">xa_open字符串的可选字段</h5>
                     <div>
                        <p><a href="xa.html#GUID-A4EF3AB0-8800-45B8-9A71-07986BE3697B__BGBJCIHB">例22-1中</a>的<span class="italic"><code class="codeph">optional_fields</code></span>占位符引用<a href="xa.html#GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2__BGBFICJB" title="此表汇总了xa_open字符串的可选字段。">表22-5中</a>描述的任何名称 - 值对。
                        </p>
                        <div class="tblformal" id="GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2__BGBFICJB">
                           <p class="titleintable">表22-5 xa_open字符串中的可选字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="xa_open字符串中的可选字段" width="100%" border="1" summary="This table summarizes the optional fields of the xa_open string." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d132228e2498">语法元素</th>
                                    <th align="left" valign="bottom" width="69%" id="d132228e2501">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2506" headers="d132228e2498 ">
                                       <p><code class="codeph">NoLocal = true |假</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2506 d132228e2501 ">
                                       <p>指定是否允许本地事务。默认值为<code class="codeph">false</code> 。如果应用程序必须禁止本地事务，则将值设置为<code class="codeph">true</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2520" headers="d132228e2498 ">
                                       <p><code class="codeph">DB=</code> <span class="italic"><code class="codeph">db_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2520 d132228e2501 ">
                                       <p>指定Oracle数据库预编译器用于标识数据库的名称。例如， <code class="codeph">DB=payroll</code>指定数据库名称是<code class="codeph">payroll</code> ，并且应用程序服务器程序在<code class="codeph">AT</code>子句中使用该名称。
                                       </p>
                                       <p>仅使用Oracle数据库预编译器的默认数据库的应用程序（即，它们的SQL语句中不使用<code class="codeph">AT</code>子句）必须省略打开字符串中的<code class="codeph">DB=</code> <span class="italic"><code class="codeph">db_name</code></span>子句。使用显式命名数据库的应用程序必须在其<code class="codeph">DB=</code> <span class="italic"><code class="codeph">db_name</code></span>字段中指明该数据库名称。Oracle数据库版本7 OCI程序必须调用<code class="codeph">sqlld2</code>函数以获取登录数据区域（ <code class="codeph">Lda_Def</code> ）的正确上下文，该区域等同于OCI服务上下文。版本8及更高版本的OCI程序必须调用<code class="codeph">xaoSvcCtx</code>函数来获取<code class="codeph">OCISvcCtx</code>服务上下文。
                                       </p>
                                       <p><span class="italic"><code class="codeph">db_name</code></span>不是SID，不用于查找要打开的数据库。相反，它将此打开字符串打开的数据库与应用程序中用于运行SQL语句的名称相关联。SID是从TPM应用程序服务器的环境变量<code class="codeph">ORACLE_SID</code>或打开字符串中的Oracle Net子句中给出的SID设置的。Oracle Net子句将在本节后面介绍。某些TPM供应商提供了一种命名一组使用相同开放字符串的服务器的方法。您可能会发现为此目的和db_name选择相同的名称很方便。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2579" headers="d132228e2498 ">
                                       <p><code class="codeph">LogDir=</code> <span class="italic"><code class="codeph">log_dir</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2579 d132228e2501 ">
                                       <p>指定要记录Oracle XA库错误和跟踪信息的本地系统上的路径名。默认值是<code class="codeph">$ORACLE_HOME/rdbms/log</code> ，如果<code class="codeph">ORACLE_HOME</code>设置;否则，它指定当前目录。例如， <code class="codeph">LogDir=/xa_trace</code>表示日志记录信息位于<code class="codeph">/xa_trace</code>目录下。确保该目录存在且应用程序服务器可以写入该目录。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2602" headers="d132228e2498 ">
                                       <p><code class="codeph">Objects= true</code> | <code class="codeph">false</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2602 d132228e2501 ">
                                       <p>指定是否在对象模式下初始化应用程序。默认值为false。如果应用程序必须使用某些需要对象模式的API调用，例如<code class="codeph">OCIRawAssignBytes</code> ，则将该值设置为<code class="codeph">true</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2619" headers="d132228e2498 ">
                                       <p><code class="codeph">MaxCur=</code> <span class="italic"><code class="codeph">maximum_#_of_open_cursors</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2619 d132228e2501 ">
                                       <p>指定打开数据库时要分配的游标数。它与预编译器选项<code class="codeph">maxopencursors</code>用途相同。例如， <code class="codeph">MaxCur=5</code>表示预编译器尝试保持缓存五个打开的游标。此参数将覆盖您可能在源代码中或在编译时指定的预编译器选项<code class="codeph">maxopencursors</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2639" headers="d132228e2498 ">
                                       <p><code class="codeph">SqlNet=</code> <span class="italic"><code class="codeph">db_link</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2639 d132228e2501 ">
                                       <p>指定用于登录系统的Oracle Net数据库链接。该字符串必须是<code class="codeph">tnsnames.ora</code>的条目。例如，如果在<code class="codeph">tnsnames.ora</code>定义，则字符串<code class="codeph">SqlNet=inst1_disp</code>可能会连接到实例1上的共享服务器。
                                       </p>
                                       <p>在无法控制服务器环境变量的情况下，可以使用<code class="codeph">SqlNet</code>参数指定<code class="codeph">ORACLE_SID</code> 。当服务器必须访问多个Oracle数据库实例时，您还必须使用它。要在不实际访问远程数据库的情况下使用Oracle Net字符串，请使用管道驱动程序。例如，指定<code class="codeph">SqlNet=localsid1</code> ，其中<code class="codeph">localsid1</code>是<code class="codeph">tnsnames.ora</code>文件中定义的别名。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2676" headers="d132228e2498 ">
                                       <p><code class="codeph">Loose_Coupling = true |假</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2676 d132228e2501 ">
                                       <p>指定是否共享锁。同一个全局事务中的Oracle数据库事务分支可以紧密耦合或松散耦合。如果分支松散耦合，则它们不共享锁。对于松散耦合的分支，将值设置为<code class="codeph">true</code> 。如果分支紧密耦合，则它们共享锁。对于紧耦合分支，将值设置为<code class="codeph">false</code> 。默认值为<code class="codeph">false</code> 。
                                       </p>
                                       <p><span class="bold">注意：</span>运行Oracle RAC时，如果事务分支<code class="codeph">Loose_Coupling=false</code>在不同的Oracle RAC实例上，则即使<code class="codeph">Loose_Coupling=false</code> ，它们也会松散耦合。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2700" headers="d132228e2498 ">
                                       <p><code class="codeph">SesWt=</code> <span class="italic"><code class="codeph">session_wait_limit</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2700 d132228e2501 ">
                                       <p>指定Oracle数据库在返回<code class="codeph">XA_RETRY</code>之前<code class="codeph">XA_RETRY</code>另一个会话正在使用的事务分支的<code class="codeph">XA_RETRY</code> 。默认值为60秒。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2714" headers="d132228e2498 ">
                                       <p><code class="codeph">Threads=true</code> | <code class="codeph">false</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2714 d132228e2501 ">
                                       <p>指定应用程序是否为多线程。默认值为<code class="codeph">false</code> 。如果应用程序是多线程的，则设置为<code class="codeph">true</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e2731" headers="d132228e2498 ">
                                       <p><code class="codeph">FAN=true</code> | <code class="codeph">false</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e2731 d132228e2501 ">
                                       <p>指定应用程序是否将使用快速应用程序通知（FAN）。默认值为<code class="codeph">false</code> 。如果应用程序将使用FAN，则设置为<code class="codeph">true</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2__NOTE-123-CB056A25">
                           <p class="notep1">也可以看看：</p>
                           <p>有关FAN的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN13178" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS787"></a><div class="props_rev_3"><a id="GUID-F59B1580-2DAF-44DA-9B19-F4AA10DF9937" name="GUID-F59B1580-2DAF-44DA-9B19-F4AA10DF9937"></a><h4 id="ADFNS-GUID-F59B1580-2DAF-44DA-9B19-F4AA10DF9937" class="sect4">将Oracle XA与预编译器一起使用</h4>
                  <div>
                     <div class="section">
                        <p>在Oracle XA应用程序中使用时，游标仅在事务持续时间内有效。必须在事务开始后打开显式游标，并在提交或回滚之前关闭。</p>
                        <p>在与预编译器连接时，您有以下选项：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xa.html#GUID-EEFA138F-9B25-4085-B141-FF5E959A2B87">将预编译器与默认数据库一起使用</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB">将预编译器与命名数据库一起使用</a></p>
                           </li>
                        </ul>
                        <p>本主题中的示例使用预编译器Pro * C / C ++。</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS788"></a><div class="props_rev_3"><a id="GUID-EEFA138F-9B25-4085-B141-FF5E959A2B87" name="GUID-EEFA138F-9B25-4085-B141-FF5E959A2B87"></a><h5 id="ADFNS-GUID-EEFA138F-9B25-4085-B141-FF5E959A2B87" class="sect5">将预编译器与默认数据库一起使用</h5>
                     <div>
                        <div class="section">
                           <p>要使用缺省数据库连接预编译器，请确保不存在打开字符串中使用的<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span>字段。缺少此字段表示默认连接。每个进程只允许一个默认连接。
                           </p>
                           <p>这是一个标识默认Pro * C / C ++连接的开放字符串示例：</p><pre class="oac_no_warn" dir="ltr">ORACLE_XA + SqlNet = maildb + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / logs</pre><p><code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span>不存在，表示空数据库ID字符串。
                           </p>
                           <p>SQL语句的语法是：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE Emp_tab SET Sal = Sal * 1.5;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS790"></a><a id="ADFNS789"></a><div class="props_rev_3"><a id="GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB" name="GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB"></a><h5 id="ADFNS-GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB" class="sect5">将预编译器与命名数据库一起使用</h5>
                     <div>
                        <div class="section">
                           <p>要与具有指定数据库的预编译器连接，请在打开的字符串中包含<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span>字段。您引用的任何数据库都必须引用您在相应的打开字符串中指定的相同<span class="italic"><code class="codeph">db_name</code></span> 。
                           </p>
                           <p>应用程序可能包括默认数据库和一个或多个命名数据库。例如，假设您要在一个数据库中更新员工的薪水，在另一个数据库中更新他的部门编号（ <code class="codeph">DEPTNO</code> ），在第三个数据库中更新他的经理。在事务管理器中配置打开的字符串，如<a href="xa.html#GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB__BGBIEBII">例22-2</a>所示。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB__BGBIEBII">
                           <p class="titleinexample">示例22-2示例打开字符串配置</p><pre class="oac_no_warn" dir="ltr">ORACLE_XA + DB = MANAGERS + SqlNet = SID1 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog ORACLE_XA + DB = PAYROLL + SqlNet = SID2 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog ORACLE_XA + SqlNet = SID3 + ACC = P / <span class="italic">用户名</span> / <span class="italic">密码</span> + SesTM = 10 + LogDir = / usr / local / xalog</pre><p><a href="xa.html#GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB__BGBIEBII">例22-2中</a>最后一个打开的字符串中没有<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span>字段。
                           </p>
                           <p>在应用程序服务器程序中，输入声明，例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE PAYROLL DATABASE; EXEC SQL DECLARE MANAGERS DATABASE;</pre><p>同样，默认连接（对应于不包含<code class="codeph">DB</code>字段的第三个打开的字符串）不需要声明。
                           </p>
                           <p>进行更新时，输入与以下类似的语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL AT PAYROLL UPDATE Emp_Tab SET Sal = 4500 WHERE Empno = 7788; EXEC SQL AT MANAGERS UPDATE Emp_Tab SET Mgr = 7566 WHERE Empno = 7788; EXEC SQL UPDATE Emp_Tab SET Deptno = 30 WHERE Empno = 7788;</pre><p>最后一个语句中没有<code class="codeph">AT</code>子句，因为它指的是默认数据库。
                           </p>
                           <p>在Oracle数据库预编译器1.5.3或更高版本中，您可以在<code class="codeph">AT</code>子句中使用字符主机变量，如下例所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION; DB_NAME1 CHARACTER（10）; DB_NAME2 CHARACTER（10）; EXEC SQL END DECLARE SECTION; ...SET DB_NAME1 ='PAYROLL'SET DB_NAME2 ='MANAGERS'...EXEC SQL AT：DB_NAME1更新...EXEC SQL AT：DB_NAME2更新...</pre><div class="infoboxnote" id="GUID-FB945892-26E9-4AF4-B0DB-7ED5A66CAAFB__GUID-7765C40A-DEF7-4957-A632-10F9CE39F8BB">
                              <p class="notep1">警告：</p>
                              <p>没有XA应用程序创建除通过<code class="codeph">xa_open</code>创建的连接之外的连接。在非XA连接上执行的工作在全局事务之外，必须单独提交。
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADFNS791"></a><div class="props_rev_3"><a id="GUID-085722D0-7EFA-40D8-88F0-9C06D19A26CB" name="GUID-085722D0-7EFA-40D8-88F0-9C06D19A26CB"></a><h4 id="ADFNS-GUID-085722D0-7EFA-40D8-88F0-9C06D19A26CB" class="sect4">将Oracle XA与OCI结合使用</h4>
                  <div>
                     <div class="section">
                        <p>使用Oracle XA库的Oracle Call Interface应用程序不得调用<code class="codeph">OCISessionBegin</code>登录资源管理器。相反，登录必须通过TPM完成。当应用程序必须访问资源管理器时，应用程序可以运行<code class="codeph">xaoSvcCtx</code>函数以获取服务上下文结构。
                        </p>
                        <p>在必须将环境句柄传递给OCI函数的应用程序中，您还可以调用<code class="codeph">xaoEnv</code>来查找该句柄。
                        </p>
                        <p>由于应用程序服务器可以具有多个并发的Oracle数据库资源管理器，因此必须使用正确的参数调用函数<code class="codeph">xaoSvcCtx</code>以获取正确的服务上下文。
                        </p>
                        <div class="infoboxnotealso" id="GUID-085722D0-7EFA-40D8-88F0-9C06D19A26CB__GUID-B04D1CD9-1351-4C0A-A385-2543C4D7F7A5">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI-GUID-27645179-6957-4004-8BB8-38775266B038" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS793"></a><a id="ADFNS792"></a><div class="props_rev_3"><a id="GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C" name="GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C"></a><h4 id="ADFNS-GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C" class="sect4">使用Oracle XA管理事务控制</h4>
                  <div>
                     <div class="section">
                        <p>使用XA库时，事务不受提交或回滚事务的SQL语句控制。相反，它们由TM接受的API控制，该API启动和停止事务。您调用事务管理器提供的API，包括<a href="xa.html#GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C__g1017842" title="该表总结了TX接口功能。">表22-6中</a>列出的TX接口，但不调用<a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340__g1017655" title="此表总结了XA库子例程。">表22-2中</a>列出的XA库子程序。
                        </p>
                        <p>TM通常通过XA接口控制事务。该接口包括<a href="xa.html#GUID-9C1460F8-43B4-470B-A624-07889E522340__g1017655" title="此表总结了XA库子例程。">表22-2中</a>描述的功能。
                        </p>
                        <div class="tblformal" id="GUID-731EEEF6-C3CB-460C-85DE-25F5EF88FD2C__g1017842">
                           <p class="titleintable">表22-6 TX接口功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TX接口功能" width="100%" border="1" summary="This table summarizes the TX interface functions." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d132228e3444">TX功能</th>
                                    <th align="left" valign="bottom" width="69%" id="d132228e3447">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e3452" headers="d132228e3444 ">
                                       <p><code class="codeph">tx_open</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e3452 d132228e3447 ">
                                       <p>登录资源管理器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e3460" headers="d132228e3444 ">
                                       <p><code class="codeph">tx_close</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e3460 d132228e3447 ">
                                       <p>退出资源管理器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e3468" headers="d132228e3444 ">
                                       <p><code class="codeph">tx_begin</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e3468 d132228e3447 ">
                                       <p>开始交易</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e3476" headers="d132228e3444 ">
                                       <p><code class="codeph">tx_commit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e3476 d132228e3447 ">
                                       <p>提交交易</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d132228e3484" headers="d132228e3444 ">
                                       <p><code class="codeph">tx_rollback</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d132228e3484 d132228e3447 ">
                                       <p>回滚交易</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>大多数TPM应用程序使用客户端/服务器架构，其中应用程序客户端请求服务，应用程序服务器提供服务。<span class="q">“ <a href="xa.html#GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A">预编译器应用程序</a></span>示例”中显示的<span class="q"><a href="xa.html#GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A">示例</a></span>使用这样的客户端/服务器模型。服务是一个逻辑工作单元，对于作为资源管理器的Oracle数据库，它包含一组执行相关工作单元的SQL语句。
                        </p>
                        <p>例如，当名为“credit”的服务收到帐号和要记入的金额时，它会运行SQL语句来更新数据库中某些表中的信息。此外，服务可能会请求其他服务。例如，“转账”服务可能会从“信用”和“借记”服务请求服务。</p>
                        <p>通常，应用程序客户端从应用程序服务器请求服务以在事务中执行任务。但是，对于某些TPM系统，应用程序客户端本身可以提供自己的本地服务。如<span class="q">“ <a href="xa.html#GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A">预编译器应用程序示例</a> ”中所示</span> ，您可以在客户端或服务器中编码事务控制语句。
                        </p>
                        <p>为了让多个进程参与同一事务，TPM提供了一个通信API，使事务信息能够在参与的进程之间流动。通信API的示例包括RPC，伪RPC函数和发送/接收函数。</p>
                        <p>由于领先的供应商支持不同的通信功能，因此这些示例使用通信伪功能<code class="codeph">tpm_service</code>来概括通信API。</p>
                        <p>X / Open包括几种在其初步规范中提供通信功能的替代方法。每个领先的TPM供应商都支持这些替代方案中的至少一个。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS795"></a><a id="ADFNS796"></a><a id="ADFNS794"></a><div class="props_rev_3"><a id="GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A" name="GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A"></a><h4 id="ADFNS-GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A" class="sect4">预编译器应用程序的示例</h4>
                  <div>
                     <p>这些示例说明了预编译器应用程序。假设应用程序服务器已以TPM特定方式登录到RM系统。<a href="xa.html#GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A__BGBDDBJJ">例22-3</a>显示了由应用程序服务器启动的事务。
                     </p>
                     <div class="example" id="GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A__BGBDDBJJ">
                        <p class="titleinexample">示例22-3应用程序服务器启动的事务</p><pre class="oac_no_warn" dir="ltr">/ *****客户端：***** / tpm_service（“ServiceName”）; <span class="italic">/ * Request Service * /</span> / ***** Server：***** / ServiceName（）{&lt;get service specific data&gt; tx_begin（）; <span class="italic">/ *开始事务边界* /</span> EXEC SQL UPDATE ...; / *此应用程序服务器暂时变为* / / *客户端并请求其他服务。* / tpm_service（“AnotherService”）; tx_commit（）; <span class="italic">/ *提交事务* /</span> &lt;将服务状态返回给客户端&gt;}</pre><p><a href="xa.html#GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A__BGBGFADB">例22-4</a>显示了由应用程序客户端启动的事务。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-629D4D9D-1B0D-4582-9FC7-9AE011CDA07A__BGBGFADB">
                        <p class="titleinexample">示例22-4应用程序客户端启动的事务</p><pre class="oac_no_warn" dir="ltr">/ *****客户端：***** / tx_begin（）; <span class="italic">/ *开始事务边界* /</span> tpm_service（“Service1”）; tpm_service（ “服务2”）; tx_commit（）; / *提交事务* / / *****服务器：***** / Service1（）{&lt;获取服务特定数据&gt; EXEC SQL UPDATE ...; &lt;将服务状态返回给客户端&gt;} Service2（）{&lt;获取服务特定数据&gt; EXEC SQL UPDATE ...; ...&lt;将服务状态返回客户端&gt;}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS798"></a><a id="ADFNS797"></a><div class="props_rev_3"><a id="GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE" name="GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE"></a><h4 id="ADFNS-GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE" class="sect4">将预编译器或OCI应用程序迁移到TPM应用程序</h4>
                  <div>
                     <div class="section">
                        <p>要将现有预编译器或OCI应用程序迁移到使用Oracle XA库的TPM应用程序，您必须：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将应用程序重新组织到“服务”框架中，以便应用程序客户端从应用程序服务器请求服务。某些TPM要求应用程序使用<code class="codeph">tx_open</code>和<code class="codeph">tx_close</code>函数，而其他TPM则隐式执行登录和注销。</span><div>
                              <p>如果未在打开的字符串中指定<code class="codeph">SqlNet</code>参数，则应用程序将使用默认的Oracle Net驱动程序。因此，请确保使用正确定义的<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量启动应用程序服务器。这是以TPM特定的方式完成的。有关如何完成此操作的说明，请参阅TPM供应商文档。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>确保应用程序替换常规的connect和disconnect语句。例如，替换连接语句<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">CONNECT</code> （对于预编译器）或<code class="codeph">OCISessionBegin</code> ， <code class="codeph">OCIServerAttach</code> ，和<code class="codeph">OCIEnvCreate</code>用（对于OCI） <code class="codeph">tx_open</code> 。更换断开语句<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">COMMIT</code> / <code class="codeph">ROLLBACK</code> <code class="codeph">WORK RELEASE</code> （对于预编译器）或<code class="codeph">OCISessionEnd</code> / <code class="codeph">OCIServerDetach</code> （用于OCI）与<code class="codeph">tx_close</code> 。</span></li>
                        <li class="stepexpand"><span>确保应用程序替换任何全局事务的常规提交或回滚语句，并显式启动事务。</span><div>
                              <p>例如，更换<code class="codeph">COMMIT</code> / <code class="codeph">ROLLBACK</code>语句<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">COMMIT</code> / <code class="codeph">ROLLBACK</code> <code class="codeph">WORK</code> （用于预编译器），或者<code class="codeph">OCITransCommit</code> <code class="codeph">/</code> <code class="codeph">OCITransRollback</code>用（用于OCI） <code class="codeph">tx_commit/tx_rollback</code> ，并通过调用启动事务<code class="codeph">tx_begin</code> 。
                              </p>
                              <div class="infoboxnote" id="GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE__GUID-8097AC93-3568-406D-8070-F25AF61F8EC9">
                                 <p class="notep1">注意：</p>
                                 <p>以上内容仅适用于全局事务而非本地事务。使用Oracle API提交或回滚本地事务。</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>确保应用程序在结束事务之前重置获取状态。通常，使用<code class="codeph">release_cursor=no</code> 。仅当您确定语句只运行一次时才使用<code class="codeph">release_cursor=yes</code> 。</span></li>
                     </ol>
                     <div class="section">
                        <p><a href="xa.html#GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE__g1017864" title="此表汇总了TPM替换命令。">表22-7</a>列出了在将预编译器或OCI应用程序迁移到TPM应用程序时替换常规Oracle Database语句的TPM函数。
                        </p>
                        <div class="tblformal" id="GUID-97D86BEB-B303-4CCE-9D7A-D65BB79F43DE__g1017864">
                           <p class="titleintable">表22-7 TPM替换声明</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TPM替换声明" width="100%" border="1" summary="This table summarizes the TPM replacement commands." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="44%" id="d132228e3883">常规Oracle数据库语句</th>
                                    <th align="left" valign="bottom" width="56%" id="d132228e3886">TPM功能</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3891" headers="d132228e3883 ">
                                       <p><code class="codeph">CONNECT</code> <span class="italic"><code class="codeph">user</code></span> / <span class="italic"><code class="codeph">password</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3891 d132228e3886 ">
                                       <p><code class="codeph">tx_open</code> （可能隐含）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3908" headers="d132228e3883 ">
                                       <p>隐含的交易开始</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3908 d132228e3886 ">
                                       <p><code class="codeph">tx_begin</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3916" headers="d132228e3883 ">
                                       <p><code class="codeph">SQL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3916 d132228e3886 ">
                                       <p>运行SQL的服务</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3924" headers="d132228e3883 ">
                                       <p><code class="codeph">承诺</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3924 d132228e3886 ">
                                       <p><code class="codeph">tx_commit</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3933" headers="d132228e3883 ">
                                       <p><code class="codeph">ROLLBACK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3933 d132228e3886 ">
                                       <p><code class="codeph">tx_rollback</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d132228e3942" headers="d132228e3883 ">
                                       <p>断开</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d132228e3942 d132228e3886 ">
                                       <p><code class="codeph">tx_close</code> （可能隐含）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1106"></a><a id="ADFNS799"></a><div class="props_rev_3"><a id="GUID-1769DFE4-A670-471F-81D2-514398386A41" name="GUID-1769DFE4-A670-471F-81D2-514398386A41"></a><h4 id="ADFNS-GUID-1769DFE4-A670-471F-81D2-514398386A41" class="sect4">管理Oracle XA Library线程安全</h4>
                  <div>
                     <div class="section">
                        <p>如果使用支持线程的事务监视器，则Oracle XA库使您可以编写线程安全的应用程序。不过，请记住某些问题。</p>
                        <p><strong class="term">控制线程</strong> （或线程）是指与资源管理器的连接集。在非线程系统中，每个进程都被视为一个控制线程，因为每个进程都有自己的一组与RM的连接，并维护自己独立的资源管理器表。在线程系统中，每个线程都有一组与RM的自主连接，每个线程都维护一个<span class="italic">私有</span> RM表。必须为每个线程分配此专用表，并在线程终止时解除分配，即使终止异常。
                        </p>
                        <div class="infoboxnote" id="GUID-1769DFE4-A670-471F-81D2-514398386A41__GUID-7D61DDF5-5E58-49C7-90BD-9C5432AD2D99">
                           <p class="notep1">注意：</p>
                           <p>在Oracle数据库中，访问数据库的每个线程都必须具有自己的连接。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1769DFE4-A670-471F-81D2-514398386A41__GUID-773EFAC2-B84F-447B-8514-ACBD22B95747">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xa.html#GUID-45CBD96F-DE5E-4A2C-AEC4-5E1AA6E33D0A">在Open String中指定线程</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-50E69541-0FA8-44F4-A8AB-2EE199533003">Oracle XA中的线程限制</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS800"></a><div class="props_rev_3"><a id="GUID-45CBD96F-DE5E-4A2C-AEC4-5E1AA6E33D0A" name="GUID-45CBD96F-DE5E-4A2C-AEC4-5E1AA6E33D0A"></a><h5 id="ADFNS-GUID-45CBD96F-DE5E-4A2C-AEC4-5E1AA6E33D0A" class="sect5">在Open String中指定线程</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">xa_open</code>字符串提供了<code class="codeph">Threads=</code>子句。必须将此子句指定为<code class="codeph">true</code>才能启用TM的线程使用。默认值为<code class="codeph">false</code> 。在大多数情况下，TM会创建线程;应用程序不知道何时创建线程。因此，建议在为TM应用程序编写的每个服务中为堆栈分配服务上下文。在对该服务执行任何与Oracle数据库相关的调用之前，必须调用<code class="codeph">xaoSvcCtx</code>函数来检索已初始化的OCI服务上下文。然后，您可以将此上下文用于服务中的OCI调用。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS801"></a><div class="props_rev_3"><a id="GUID-50E69541-0FA8-44F4-A8AB-2EE199533003" name="GUID-50E69541-0FA8-44F4-A8AB-2EE199533003"></a><h5 id="ADFNS-GUID-50E69541-0FA8-44F4-A8AB-2EE199533003" class="sect5">Oracle XA中的线程限制</h5>
                     <div>
                        <p>使用线程时适用这些限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>除非在每个应用程序线程启动时明确告知事务监视器，否则不能对作为事务监视器上的应用程序服务器进程的一部分运行的任何Pro *或OCI代码进行线程化。这通常通过使用TM供应商提供的特殊C编译器来完成。</p>
                           </li>
                           <li>
                              <p>不支持Pro *语句<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">ALLOCATE</code>和<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">USE</code> 。因此，启用线程时，不能跨非XA连接使用嵌入式SQL语句。
                              </p>
                           </li>
                           <li>
                              <p>如果进程中的一个线程通过XA连接到Oracle数据库，则进程中连接到Oracle数据库的所有其他线程也必须通过XA连接。您无法通过一个线程中的<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">CONNECT</code>和另一个线程中的<code class="codeph">xa_open</code>进行<code class="codeph">CONNECT</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS802"></a><a id="ADFNS0171"></a><div class="props_rev_3"><a id="GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6" name="GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6"></a><h4 id="ADFNS-GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6" class="sect4">使用DBMS_XA包</h4>
                  <div>
                     <div class="section">
                        <p>PL / SQL应用程序可以将Oracle XA库与<code class="codeph">DBMS_XA</code>包一起使用。
                        </p>
                        <p>在<a href="xa.html#GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6__BABJDBFH">例22-5中</a> ，一个PL / SQL会话启动一个事务但不提交它，第二个会话恢复事务，第三个会话提交事务。所有三个会话都连接到<code class="codeph">HR</code>模式。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6__BABJDBFH">
                        <p class="titleinexample">示例22-5使用DBMS_XA包</p><pre class="oac_no_warn" dir="ltr"><span class="bold">REM Session 1启动一个事务并完成一些工作。</span>DECLARE rc PLS_INTEGER;是PLS_INTEGER; xae EXCEPTION; BEGIN rc：= <span class="bold">DBMS_XA.XA_START（DBMS_XA_XID（123），DBMS_XA.TMNOFLAGS</span> ）;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'ORA-'|| oer ||'发生，XA_START失败'）;升起xae; ELSE DBMS_OUTPUT.PUT_LINE（'XA_START（new xid = 123）OK'）;万一; UPDATE员工SET薪水=薪水* 1.1 WHERE employee_id = 100; rc：= <span class="bold">DBMS_XA.XA_END（DBMS_XA_XID（123），DBMS_XA.TMSUSPEND）</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'ORA-'|| oer ||'发生，XA_END失败'）;升起xae; ELSE DBMS_OUTPUT.PUT_LINE（'XA_END（suspend xid = 123）OK'）;万一;除了DBMS_OUTPUT.PUT_LINE（'XA错误（'|| rc ||'）之外发生的异常，回滚事务......“）; rc：= <span class="bold">DBMS_XA.XA_END（DBMS_XA_XID（123），DBMS_XA.TMSUCCESS）</span> ; rc：= <span class="bold">DBMS_XA.XA_ROLLBACK（DBMS_XA_XID（123））</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'XA-'|| rc ||'，ORA-'|| oer ||'XA_ROLLBACK不返回XA_OK'）; raise_application_error（-20001，'ORA-'|| oer ||'在回滚失败的事务时出错'）;万一; raise_application_error（-20002，事务处理中的'ORA-'|| oer ||'错误，事务回滚'）;结束; /显示ERRORS <span class="bold">DISCONNECT</span> <span class="bold">REM会话2恢复交易并完成一些工作。</span>DECLARE rc PLS_INTEGER;是PLS_INTEGER;的数字; xae EXCEPTION; BEGIN rc：= <span class="bold">DBMS_XA.XA_START（DBMS_XA_XID（123），DBMS_XA.TMRESUME）</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'ORA-'|| oer ||'发生，xa_start失败'）;升起xae; ELSE DBMS_OUTPUT.PUT_LINE（'XA_START（resume xid = 123）OK'）;万一; SELECT salary INTO s FROM employees WHERE employee_id = 100; DBMS_OUTPUT.PUT_LINE（'employee_id = 100，salary ='|| s）; rc：= <span class="bold">DBMS_XA.XA_END（DBMS_XA_XID（123），DBMS_XA.TMSUCCESS）</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'ORA-'|| oer ||'发生，XA_END失败'）;升起xae; ELSE DBMS_OUTPUT.PUT_LINE（'XA_END（detach xid = 123）OK'）;万一;除了DBMS_OUTPUT.PUT_LINE（'XA错误（'|| rc ||'）之外发生的异常，回滚事务......“）; rc：= <span class="bold">DBMS_XA.XA_END（DBMS_XA_XID（123），DBMS_XA.TMSUCCESS）</span> ; rc：= <span class="bold">DBMS_XA.XA_ROLLBACK（DBMS_XA_XID（123））</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'XA-'|| rc ||'，ORA-'|| oer ||'XA_ROLLBACK不返回XA_OK'）; raise_application_error（-20001，'ORA-'|| oer ||'在回滚失败的事务时出错'）;万一; raise_application_error（-20002，事务处理中的'ORA-'|| oer ||'错误，事务回滚'）;结束; /显示ERRORS <span class="bold">DISCONNECT</span> <span class="bold">REM会话3提交事务。</span>DECLARE rc PLS_INTEGER;是PLS_INTEGER; xae EXCEPTION; BEGIN rc：= <span class="bold">DBMS_XA.XA_COMMIT（DBMS_XA_XID（123），TRUE）</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'ORA-'|| oer ||'发生，XA_COMMIT失败'）;升起xae; ELSE DBMS_OUTPUT.PUT_LINE（'XA_COMMIT（commit xid = 123）OK'）;万一;当xae那时出现DBMS_OUTPUT.PUT_LINE（'XA错误（'|| rc ||'），回滚事务......“）; rc：= <span class="bold">DBMS_XA.XA_ROLLBACK（DBMS_XA_XID（123））</span> ;如果rc！= <span class="bold">DBMS_XA.XA_OK</span>那么：= <span class="bold">DBMS_XA.XA_GETLASTOER（）</span> ; DBMS_OUTPUT.PUT_LINE（'XA-'|| rc ||'，ORA-'|| oer ||'XA_ROLLBACK不返回XA_OK'）; raise_application_error（-20001，'ORA-'|| oer ||'在回滚失败的事务时出错'）;万一; raise_application_error（-20002，事务处理中的'ORA-'|| oer ||'错误，事务回滚'）;结束; /显示错误<span class="bold">断开</span> <span class="bold">退出</span></pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-27CD17CC-91C7-4C4D-B341-132AB8E167A6__NOTE-1331-CB06F080">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_XA</code>包的更多信息，请<code class="codeph">DBMS_XA</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS209" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1107"></a><a id="ADFNS1504"></a><div class="props_rev_3"><a id="GUID-194B0A1B-1A10-47B5-B898-5CDECD7FFA9B" name="GUID-194B0A1B-1A10-47B5-B898-5CDECD7FFA9B"></a><h3 id="ADFNS-GUID-194B0A1B-1A10-47B5-B898-5CDECD7FFA9B" class="sect3">XA应用程序疑难解答</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-194B0A1B-1A10-47B5-B898-5CDECD7FFA9B__GUID-D4113682-7688-43B8-8F8F-B1576E5FDA06">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65">访问Oracle XA跟踪文件</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-06BB7A40-971F-43A5-AF4F-581A6A1F95F9">管理疑似或待定Oracle XA事务</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-8EFEBEF3-5827-4EF9-AFEA-355BB3994DDA">使用SYS帐户表监视Oracle XA事务</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS804"></a><a id="ADFNS1108"></a><a id="ADFNS803"></a><div class="props_rev_3"><a id="GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65" name="GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65"></a><h4 id="ADFNS-GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65" class="sect4">访问Oracle XA跟踪文件</h4>
                  <div>
                     <div class="section">
                        <p>Oracle XA库将任何错误和跟踪信息记录到其跟踪文件中。此信息可用于补充XA错误代码。例如，它可以指示<code class="codeph">xa_open</code>失败是由错误的打开字符串，无法找到Oracle数据库实例还是登录授权失败引起的。
                        </p>
                        <p>跟踪文件的名称是<code class="codeph">xa_</code> <span class="italic"><code class="codeph">db_namedate</code></span> 。 <code class="codeph">trc</code> ，其中<span class="italic"><code class="codeph">db_name</code></span>是在打开的字符串字段<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span>指定的数据库名称，而<span class="italic"><code class="codeph">date</code></span>是将信息记录到跟踪文件的日期。如果未在打开的字符串中指定<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span> ，则它会自动默认为<code class="codeph">NULL</code> 。</p>
                        <p>例如， <code class="codeph">xa_NULL06022005</code> 。 <code class="codeph">trc</code>表示2005年6月2日创建的跟踪文件。打开资源管理器时，未在打开的字符串中指定其<code class="codeph">DB</code>字段。文件名<code class="codeph">xa_Finance12152004</code> 。 <code class="codeph">trc</code>表示在2004年12月15日创建了跟踪文件。打开资源管理器时，其<code class="codeph">DB</code>字段在打开的字符串中指定为“Finance”。
                        </p>
                        <div class="infoboxnote" id="GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65__GUID-1605428A-F122-46BA-BE72-7D9706A92CFA">
                           <p class="notep1">注意：</p>
                           <p>多个Oracle XA库资源管理器在其打开的字符串中具有相同的<code class="codeph">DB</code>字段和<code class="codeph">LogDir</code>字段，将同一天发生的所有跟踪信息记录到同一个跟踪文件中。
                           </p>
                        </div>
                        <p>假设跟踪文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">1032.12345.2：ORA-01017：用户名/密码无效;登录被拒绝1032.12345.2：xaolgn：XAER_INVAL;登录被拒绝</pre><p><a href="xa.html#GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65__BGBHBCIJ" title="此表描述了示例跟踪文件内容。">表22-8</a>说明了每个元素的含义。
                        </p>
                        <div class="tblformal" id="GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65__BGBHBCIJ">
                           <p class="titleintable">表22-8跟踪文件内容示例</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="示例跟踪文件内容" width="100%" border="1" summary="This table describes sample trace file contents." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d132228e4868">串</th>
                                    <th align="left" valign="bottom" width="76%" id="d132228e4871">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4876" headers="d132228e4868 ">
                                       <p><code class="codeph">1032</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4876 d132228e4871 ">
                                       <p>记录信息的时间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4884" headers="d132228e4868 ">
                                       <p><code class="codeph">12345</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4884 d132228e4871 ">
                                       <p>进程ID（PID）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4892" headers="d132228e4868 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4892 d132228e4871 ">
                                       <p>资源经理ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4900" headers="d132228e4868 ">
                                       <p><code class="codeph">xaolgn</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4900 d132228e4871 ">
                                       <p>模块名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4908" headers="d132228e4868 ">
                                       <p><code class="codeph">XAER_INVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4908 d132228e4871 ">
                                       <p>按照XA标准中的指定返回错误</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d132228e4916" headers="d132228e4868 ">
                                       <p>ORA-01017</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d132228e4916 d132228e4871 ">
                                       <p>返回的Oracle数据库信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02FDAD5D-7C03-430A-93F1-5C0B93194F65__GUID-0830BF45-8EB7-4609-BEB3-906491602BFE">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xa.html#GUID-1C816BFB-9B5D-490A-BD40-8560E4743847">xa_open String DbgFl</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-8271A46E-A8F5-4E73-A2DF-DB7DA03315B6">跟踪文件位置</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS805"></a><div class="props_rev_3"><a id="GUID-1C816BFB-9B5D-490A-BD40-8560E4743847" name="GUID-1C816BFB-9B5D-490A-BD40-8560E4743847"></a><h5 id="ADFNS-GUID-1C816BFB-9B5D-490A-BD40-8560E4743847" class="sect5">xa_open String DbgFl</h5>
                     <div>
                        <p>通常，只有在检测到错误时才会打开XA跟踪文件。<code class="codeph">xa_open</code>字符串<code class="codeph">DbgFl</code>提供跟踪工具来记录有关XA库的其他详细信息。默认情况下，其值为零。您可以将其设置为这些值的任意组合：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">0x1</code> ，使您可以跟踪XA界面中每个子程序的进入和退出。此值可用于准确查看TP Monitor正在调用哪些XA调用以及它正在生成哪个事务标识符。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">0x2</code> ，使您可以跟踪其他非公共XA库程序的入口和出口。这通常仅对Oracle数据库开发人员有用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">0x4</code> ，它使您能够跟踪XA库所做的各种其他“有趣”调用，例如对OCI的特定调用。这通常仅对Oracle数据库开发人员有用。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-1C816BFB-9B5D-490A-BD40-8560E4743847__GUID-8A242A59-58B2-46A2-8711-8CF340A272DF">
                           <p class="notep1">注意：</p>
                           <p>标志是<code class="codeph">ub4</code>独立位，因此要从两个或多个标志获取打印输出，必须设置标志的组合值。
                           </p>
                        </div>
                     </div>
                  </div><a id="ADFNS806"></a><div class="props_rev_3"><a id="GUID-8271A46E-A8F5-4E73-A2DF-DB7DA03315B6" name="GUID-8271A46E-A8F5-4E73-A2DF-DB7DA03315B6"></a><h5 id="ADFNS-GUID-8271A46E-A8F5-4E73-A2DF-DB7DA03315B6" class="sect5">跟踪文件位置</h5>
                     <div>
                        <div class="section">
                           <p>XA应用程序根据此算法确定跟踪文件的位置：</p>
                           <ol>
                              <li>
                                 <p>在打开的字符串中指定的<code class="codeph">LogDir</code>目录。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未在打开的字符串中指定<code class="codeph">LogDir</code> ，则Oracle XA应用程序会尝试在此目录中创建跟踪文件（如果可以访问Oracle主目录）：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>Windows上的<code class="codeph">%ORACLE_HOME%\rdbms\trace</code></p>
                                    </li>
                                    <li>
                                       <p>Linux和UNIX上的<code class="codeph">$ORACLE_HOME/rdbms/log</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>如果Oracle XA应用程序无法确定Oracle主目录所在的位置，则应用程序会在当前工作目录中创建跟踪文件。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS807"></a><div class="props_rev_3"><a id="GUID-06BB7A40-971F-43A5-AF4F-581A6A1F95F9" name="GUID-06BB7A40-971F-43A5-AF4F-581A6A1F95F9"></a><h4 id="ADFNS-GUID-06BB7A40-971F-43A5-AF4F-581A6A1F95F9" class="sect4">管理疑似或待定Oracle XA事务</h4>
                  <div>
                     <div class="section">
                        <p>不确定或待处理事务是已准备但未提交到数据库的事务。通常，TPM系统提供的TM可以解决无意或未决事务的任何故障和恢复。如果出现以下情况，DBA可能必须覆盖不确定的事务：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它锁定其他事务所需的数据。</p>
                           </li>
                           <li>
                              <p>它没有在合理的时间内解决。</p>
                           </li>
                        </ul>
                        <p>有关在这种情况下覆盖不确定事务以及如何决定是否提交或回滚不确定事务的更多信息，请参阅TPM文档。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS808"></a><div class="props_rev_3"><a id="GUID-8EFEBEF3-5827-4EF9-AFEA-355BB3994DDA" name="GUID-8EFEBEF3-5827-4EF9-AFEA-355BB3994DDA"></a><h4 id="ADFNS-GUID-8EFEBEF3-5827-4EF9-AFEA-355BB3994DDA" class="sect4">使用SYS帐户表监视Oracle XA事务</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database <code class="codeph">SYS</code>帐户下的这些视图包含由常规Oracle数据库应用程序和Oracle XA应用程序生成的事务：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBA_PENDING_TRANSACTIONS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">V $ GLOBAL_TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_2PC_PENDING</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_2PC_NEIGHBORS</code></p>
                           </li>
                        </ul>
                        <p>对于Oracle XA应用程序生成的事务，此列信息特别适用于<code class="codeph">DBA_2PC_NEIGHBORS</code>表：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBID</code>列始终为<code class="codeph">xa_orcl</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBUSER_OWNER</code>列始终为<span class="italic"><code class="codeph">db_name</code></span> <code class="codeph">xa</code> 。 <code class="codeph">oracle</code> 。 <code class="codeph">com</code></p>
                           </li>
                        </ul>
                        <p>请记住， <span class="italic">db_name</span>始终在打开的字符串中指定为<code class="codeph">DB</code> = <span class="italic"><code class="codeph">db_name</code></span> 。如果未在打开的字符串中指定此字段，则此列的值为<code class="codeph">NULLxa</code> 。 <code class="codeph">oracle</code> 。 <code class="codeph">com</code>用于Oracle XA应用程序生成的事务。
                        </p>
                        <p>例如，此SQL语句提供有关Oracle XA应用程序生成的不确定事务的更多信息：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_2PC_PENDING p，DBA_2PC_NEIGHBORS n WHERE p。LOCAL_TRAN_ID = n。LOCAL_TRAN_ID和n。DBID ='xa_orcl';</pre><p>或者，如果您知道事务处理监视器使用的格式<code class="codeph">ID</code> ，则可以使用<code class="codeph">DBA_PENDING_TRANSACTIONS</code>或<code class="codeph">V$GLOBAL_TRANSACTION</code> 。 <code class="codeph">DBA_PENDING_TRANSACTIONS</code>提供准备好的事务列表，而<code class="codeph">V$GLOBAL_TRANSACTION</code>提供所有活动全局事务的列表。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1109"></a><a id="ADFNS1505"></a><div class="props_rev_3"><a id="GUID-D1F82CDD-DDDA-4895-B18B-C9F7D44AAEBB" name="GUID-D1F82CDD-DDDA-4895-B18B-C9F7D44AAEBB"></a><h3 id="ADFNS-GUID-D1F82CDD-DDDA-4895-B18B-C9F7D44AAEBB" class="sect3">Oracle XA问题和限制</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F82CDD-DDDA-4895-B18B-C9F7D44AAEBB__GUID-D4EBF802-279C-4F90-A475-AFEFF73346DE">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-C4F27C42-C388-4604-8986-7917930F7EF8">在Oracle XA应用程序中使用数据库链接</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-66124F06-FC05-4513-A76A-F00D725440E4">管理Oracle XA应用程序中的事务分支</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F">将Oracle XA与Oracle Real Application Clusters一起使用（Oracle RAC）</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-F6CB7EA2-BC01-47D6-BCF6-BD3D329B42EA">基于SQL的Oracle XA限制</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-6166F2B9-4ADA-417E-A8B2-6FF22C3D72E8">其他限制</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS809"></a><div class="props_rev_3"><a id="GUID-C4F27C42-C388-4604-8986-7917930F7EF8" name="GUID-C4F27C42-C388-4604-8986-7917930F7EF8"></a><h4 id="ADFNS-GUID-C4F27C42-C388-4604-8986-7917930F7EF8" class="sect4">在Oracle XA应用程序中使用数据库链接</h4>
                  <div>
                     <div class="section">
                        <p>Oracle XA应用程序可以通过具有以下限制的数据库链接访问其他Oracle数据库实例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>他们必须使用共享服务器配置。</p>
                              <p>事务处理监视器（TPM）使用共享服务器打开与Oracle数据库A的连接。然后，调度程序而不是专用服务器进程打开数据库链接所需的操作系统网络连接。这允许不同的服务或线程对事务进行操作。</p>
                              <p>如果不满足此限制，则在XA事务中使用数据库链接时，它会在专用服务器进程与其他Oracle数据库B之间创建操作系统网络连接。因为此网络连接无法从一个专用服务器进程移动到另外，您无法从数据库A的此专用服务器进程分离。然后，当您通过数据库链接访问数据库B时，会收到ORA-24777错误。</p>
                           </li>
                           <li>
                              <p>正在访问的另一个数据库必须是另一个Oracle数据库。</p>
                           </li>
                        </ul>
                        <p>如果满足这些限制，Oracle数据库允许此类链接并将事务协议（准备，回滚和提交）传播到其他Oracle数据库实例。</p>
                        <p>如果无法使用共享服务器配置，则使用<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">AT</code>语法通过Pro * C / C ++应用程序访问远程数据库。
                        </p>
                        <p><code class="codeph">init.ora</code>参数<code class="codeph">OPEN_LINKS_PER_INSTANCE</code>指定可以迁移的打开的数据库链接连接数。XA事务使用这些<code class="codeph">dblink</code>连接，以便在提交事务后缓存连接。如果创建连接的用户也创建了事务，则另一个事务可以使用数据库链接连接。此参数与<code class="codeph">init</code>不同。 <code class="codeph">ora</code>参数<code class="codeph">OPEN_LINKS</code> ，指定一个会话中远程数据库的最大并发打开连接数（包括数据库链接）。<code class="codeph">OPEN_LINKS</code>参数不适用于XA应用程序。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS811"></a><a id="ADFNS810"></a><div class="props_rev_3"><a id="GUID-66124F06-FC05-4513-A76A-F00D725440E4" name="GUID-66124F06-FC05-4513-A76A-F00D725440E4"></a><h4 id="ADFNS-GUID-66124F06-FC05-4513-A76A-F00D725440E4" class="sect4">管理Oracle XA应用程序中的事务分支</h4>
                  <div>
                     <div class="section">
                        <p>同一个全局事务中的Oracle数据库事务分支可以紧密耦合或松散耦合。如果事务分支<strong class="term">紧密耦合</strong> ，则它们共享锁。因此，一个事务分支中的预<code class="codeph">COMMIT</code>更新在属于同一全局事务的其他分支中可见。在松散耦合的事务分支中，分支不共享锁，也不会在其他分支中看到更新。
                        </p>
                        <p>在紧密耦合的分支中，Oracle数据库在运行任何语句之前获取DX锁。因为系统在运行语句之前没有获得锁，所以松散耦合的事务分支会导致更大的并发性。缺点是所有事务分支都必须经历两个提交阶段，即系统不能使用XA单阶段优化。</p>
                        <p><a href="xa.html#GUID-66124F06-FC05-4513-A76A-F00D725440E4__g1017904" title="此表比较紧密和松散耦合的事务分支。">表22-9</a>总结了紧耦合分支和松散耦合分支之间的权衡。
                        </p>
                        <div class="tblformal" id="GUID-66124F06-FC05-4513-A76A-F00D725440E4__g1017904">
                           <p class="titleintable">表22-9紧密且松散耦合的交易分支</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="紧密且松散耦合的交易分支" width="100%" border="1" summary="This table compares tightly and loosely coupled transaction branches." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d132228e5886">属性</th>
                                    <th align="left" valign="bottom" width="39%" id="d132228e5889">紧密耦合的分支</th>
                                    <th align="left" valign="bottom" width="39%" id="d132228e5892">松散耦合的分支</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d132228e5897" headers="d132228e5886 ">
                                       <p>两阶段提交</p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d132228e5897 d132228e5889 ">
                                       <p>只读优化</p>
                                       <p>[为所有分支做准备，为最后一个分支做准备]</p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d132228e5897 d132228e5892 ">
                                       <p>两个阶段</p>
                                       <p>[准备并承诺所有分支机构]</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d132228e5911" headers="d132228e5886 ">
                                       <p>序列化</p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d132228e5911 d132228e5889 ">
                                       <p>数据库通话</p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d132228e5911 d132228e5892 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1110"></a><a id="ADFNS812"></a><div class="props_rev_3"><a id="GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F" name="GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F"></a><h4 id="ADFNS-GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F" class="sect4">将Oracle XA与Oracle Real Application Clusters一起使用（Oracle RAC）</h4>
                  <div>
                     <div class="section">
                        <p>从Oracle Database <span class="italic">11g</span>第1版（11.1）开始，XA事务可以跨越Oracle RAC实例，允许任何使用XA的应用程序充分利用Oracle RAC环境，从而增强应用程序的可用性和可伸缩性。
                        </p>
                        <div class="infoboxnote" id="GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F__GUID-CD6B383F-D744-4058-A821-24E3E5D2090C">
                           <p class="notep1">注意：</p>
                           <p>不支持外部过程标注与分布式事务相结合。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-086B00D2-116E-4862-B8D0-AADF90CC9E8F__GUID-CD272BCA-7B39-4529-A67B-4D70B26C13AE">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xa.html#GUID-B0A727E2-06BC-44E2-8359-EF1EFE060082">GLOBAL_TXN_PROCESSES初始化参数</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96">管理Oracle RAC上的事务分支</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE">使用DTP服务管理Oracle RAC中的实例恢复（10.2）</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-AFE8748A-61A2-44FB-8C8D-2A2EEAE91EA0">Oracle RAC中XID的全局唯一性</a></p>
                           </li>
                           <li>
                              <p><a href="xa.html#GUID-1A97ED73-4C0E-42D2-AF06-8BB2CAF05977">紧凑和松散的耦合</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS813"></a><div class="props_rev_3"><a id="GUID-B0A727E2-06BC-44E2-8359-EF1EFE060082" name="GUID-B0A727E2-06BC-44E2-8359-EF1EFE060082"></a><h5 id="ADFNS-GUID-B0A727E2-06BC-44E2-8359-EF1EFE060082" class="sect5">GLOBAL_TXN_PROCESSES初始化参数</h5>
                     <div>
                        <p>初始化参数<code class="codeph">GLOBAL_TXN_PROCESSES</code>指定每个Oracle RAC实例的初始GTX <span class="italic">n</span>后台进程数。其默认值为1。
                        </p>
                        <p>如果分布式事务可能跨越多个Oracle RAC实例，请将此参数保留为群集范围的默认值。这允许跨这些Oracle RAC实例执行的工作单元共享资源并充当单个事务（即，工作单元紧密耦合）。它还允许将2PC请求发送到群集中的任何节点。</p>
                        <div class="infoboxnotealso" id="GUID-B0A727E2-06BC-44E2-8359-EF1EFE060082__GUID-89EEECAB-AF94-46DA-96AA-67A358E6BAE7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">GLOBAL_TXN_PROCESSES</code>更多信息，请<code class="codeph">GLOBAL_TXN_PROCESSES</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN10291" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </div>
                     </div>
                  </div><a id="ADFNS815"></a><a id="ADFNS816"></a><a id="ADFNS814"></a><div class="props_rev_3"><a id="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96" name="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96"></a><h5 id="ADFNS-GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96" class="sect5">管理Oracle RAC上的事务分支</h5>
                     <div>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96__GUID-8559641B-484C-4D9A-B66E-29604A8BE7B1">
                              <p class="notep1">注意：</p>
                              <p>如果满足以下任一条件，则本主题适用：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>初始化参数<code class="codeph">GLOBAL_TXN_PROCESSES</code>在每个Oracle RAC实例的初始化文件中都不是其默认值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>Oracle XA应用程序恢复或加入以前分离的事务分支。</p>
                                 </li>
                              </ul>
                           </div>
                           <p>Oracle数据库允许不同的实例在Oracle RAC中的不同事务分支上运行。例如，节点1可以在分支A上运行，而节点2在分支B上运行。在Oracle Database <span class="italic">11g</span>第1版（11.1）之前，如果事务分支在不同的实例上，那么它们是松散耦合的并且不共享锁。在这种情况下，Oracle数据库将不同应用程序线程中的不同工作单元视为不共享资源的单独实体。
                           </p>
                           <p>另一种情况是多个实例在单个事务分支上运行。例如，假设单个事务落在节点1和节点2上，如下所示：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96__GUID-3F97576D-7DEA-49E2-B342-E43EE1920D04">节点1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p><code class="codeph">xa_start</code></p>
                              </li>
                              <li>
                                 <p>SQL操作</p>
                              </li>
                              <li>
                                 <p><code class="codeph">xa_end</code> （SUSPEND）</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96__GUID-BC744918-1A0D-41FC-B30A-BA673CFDFB5D">节点2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p><code class="codeph">xa_start</code> （ <code class="codeph">xa_start</code> ）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">xa_prepare</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">xa_commit</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">XA_END</code></p>
                              </li>
                           </ol>
                           <p>在前面的序列中，Oracle数据库返回错误，因为节点2不能恢复物理上位于不同节点（节点1）上的分支。</p>
                           <p>在Oracle Database <span class="italic">11g</span>第1版（11.1）之前，在Oracle RAC中实现紧耦合的方法是使用<strong class="term">分布式事务处理（DTP）服务</strong> ，即基数（一）确保所有紧密耦合的分支到达的服务。同一实例 - 无论是否启用了负载均衡。中间层组件通过在任何时间点映射到单个Oracle RAC实例的公共逻辑数据库服务名称来解决Oracle数据库问题。数据库服务的中间名称解析程序隐藏了数据库实例的物理特征。DTP服务使紧密耦合的全局事务的所有参与者能够在一个实例上创建分支。
                           </p>
                           <p>从Oracle Database <span class="italic">11g</span>第1版（11.1）开始，不再需要DTP服务来支持紧密耦合分支的XA事务。默认情况下，位于不同Oracle RAC实例上的紧密耦合分支保持紧密耦合;也就是说，它们跨Oracle RAC实例共享锁和资源。
                           </p>
                           <p>例如，当您使用DTP服务时，这一系列操作发生在同一个实例上：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span><code class="codeph">xa_start</code></span></li>
                           <li><span>SQL操作</span></li>
                           <li><span><code class="codeph">xa_end</code> （SUSPEND）</span></li>
                           <li><span><code class="codeph">xa_start</code> （ <code class="codeph">xa_start</code> ）</span></li>
                           <li><span>SQL操作</span></li>
                           <li><span><code class="codeph">xa_prepare</code></span></li>
                           <li><span><code class="codeph">xa_commit</code>或<code class="codeph">xa_rollback</code></span></li>
                        </ol>
                        <div class="section">
                           <p>此外，如果每个分支都使用相同的DTP服务对Oracle RM进行寻址，则多个紧密耦合的分支将落在同一实例上。</p>
                           <p>要利用群集中的所有实例，请创建多个DTP服务，每个承载分布式事务的节点上都有一个或多个DTP服务。全局分布式事务的所有分支都存在于同一实例上。因此，您可以利用Oracle RAC集群的所有实例和节点来平衡许多分布式XA事务的负载，从而最大化应用程序吞吐量。</p>
                           <div class="infoboxnotealso" id="GUID-E8D197D4-E2CE-43C7-AF61-047EABB71F96__GUID-0FF94259-A3D9-459E-90D1-FFE7E92EB3BB">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD967" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> ，了解如何在Real Application Clusters配置中管理分布式事务</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS817"></a><div class="props_rev_3"><a id="GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE" name="GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE"></a><h5 id="ADFNS-GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE" class="sect5">使用DTP服务管理Oracle RAC中的实例恢复（10.2）</h5>
                     <div>
                        <div class="section">
                           <p>在Oracle Database <span class="italic">10g</span>第2版（10.2）之前，TM负责检测Oracle RAC中的故障并触发故障转移和故障恢复。为确保有关<code class="codeph">DBA_2PC_PENDING</code>事务的信息传播到<code class="codeph">DBA_2PC_PENDING</code> ，TM必须在解决<code class="codeph">xa_recover</code>之前调用<code class="codeph">xa_recover</code> 。如果实例失败，则XA客户端库无法故障转移到另一个实例，直到它运行<code class="codeph">SYS.DBMS_XA.DIST_TXN_SYNC</code>过程以确保已恢复失败实例的还原段。从Oracle数据库<span class="italic">10g</span>第2版（10.2）开始，如果TM有足够的有关<code class="codeph">xa_recover</code>事务的信息，则不需要调用<code class="codeph">xa_recover</code> 。
                           </p>
                           <div class="infoboxnote" id="GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE__GUID-C9C6B44C-38B6-49D2-BC2F-70D2F7C590E4">
                              <p class="notep1">注意：</p>
                              <p>从Oracle Database <span class="italic">9g</span>第2版（9.2）开始， <code class="codeph">xa_recover</code>需要等待在远程站点上完成分布式数据操作语言（DML）语句。
                              </p>
                           </div>
                           <p>在Oracle RAC中使用DTP服务具有以下优点：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>自动化实例故障检测。</p>
                              </li>
                              <li>
                                 <p>自动执行实例故障转移和故障回复。当实例失败时，此实例上托管的DTP服务将故障转移到另一个实例。故障转移强制客户端重新连接;尽管如此，服务的逻辑名称保持不变。故障转移是自动的，不需要管理员干预。管理员可以通过服务重定位语句引发故障回复，但所有与故障回复相关的恢复都会在数据库服务器中自动处理。</p>
                              </li>
                              <li>
                                 <p>使Oracle数据库而不是客户端能够驱动实例恢复。数据库不需要中间层TM参与来确定由其他实例准备的事务的状态。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-5D7075DF-3857-49DA-BE4A-835AEA2DE3BE__GUID-4290CF4E-FE6B-4E9F-B116-D104C6D2901C">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD063" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> ，了解如何管理实例恢复</p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD7147" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关Oracle RAC中的服务和分布式事务处理的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS818"></a><div class="props_rev_3"><a id="GUID-AFE8748A-61A2-44FB-8C8D-2A2EEAE91EA0" name="GUID-AFE8748A-61A2-44FB-8C8D-2A2EEAE91EA0"></a><h5 id="ADFNS-GUID-AFE8748A-61A2-44FB-8C8D-2A2EEAE91EA0" class="sect5">Oracle RAC中XID的全局唯一性</h5>
                     <div>
                        <p>在Oracle Database <span class="italic">11g</span>第1版（11.1）之前，Oracle RAC数据库无法确定给定的XID是否对整个群集中的XA事务是唯一的。
                        </p>
                        <p>例如，假设存在XID <code class="codeph">Fmt(</code> <span class="italic"><code class="codeph">x</code></span> <code class="codeph">)</code> 。<code class="codeph">Tx(1)</code> 。Oracle RAC实例1上的<code class="codeph">Br(1)</code>和另一个XID <code class="codeph">Fmt(</code> <span class="italic"><code class="codeph">x</code></span> <code class="codeph">)</code> 。<code class="codeph">Tx(1)</code> 。Oracle RAC实例2上的<code class="codeph">Br(1)</code> 。其中每个都可以启动分支并运行SQL，即使XID在Oracle RAC实例中不是唯一的。
                        </p>
                        <p>从Oracle Database <span class="italic">11g</span>第1版（11.1）开始，Oracle RAC数据库检测跨Oracle RAC实例的重复XID，并防止启动具有重复XID的分支。
                        </p>
                        <div class="infoboxnotealso" id="GUID-AFE8748A-61A2-44FB-8C8D-2A2EEAE91EA0__GUID-3C896BA5-FD5D-44AD-9447-1CFBA51FEB39">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD7147" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关Oracle RAC中的服务和分布式事务处理的信息</p>
                        </div>
                     </div>
                  </div><a id="ADFNS819"></a><div class="props_rev_3"><a id="GUID-1A97ED73-4C0E-42D2-AF06-8BB2CAF05977" name="GUID-1A97ED73-4C0E-42D2-AF06-8BB2CAF05977"></a><h5 id="ADFNS-GUID-1A97ED73-4C0E-42D2-AF06-8BB2CAF05977" class="sect5">紧凑和松散的耦合</h5>
                     <div>
                        <p>同一全局事务中的Oracle数据库事务分支可以紧密耦合或松散耦合。通常，耦合类型由<code class="codeph">xa_open</code>字符串的<code class="codeph">Loose_Coupling</code>字段的值确定（ <a href="xa.html#GUID-F2867F04-EE6C-4AB7-83FE-7E77F6EFACD2__BGBFICJB" title="此表汇总了xa_open字符串的可选字段。">参见表22-5</a> ）。但是，如果事务分支在运行Oracle RAC时落在不同的Oracle RAC实例上，即使<code class="codeph">Loose_Coupling=false</code> ，它们也会松散耦合。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A97ED73-4C0E-42D2-AF06-8BB2CAF05977__GUID-E558C90A-0D15-409B-B102-F2B5C6227DB6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD7147" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关Oracle RAC中的服务和分布式事务处理的信息</p>
                              </li>
                              <li>
                                 <p><a href="xa.html#GUID-66124F06-FC05-4513-A76A-F00D725440E4">管理Oracle XA应用程序中的事务分支</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS820"></a><div class="props_rev_3"><a id="GUID-F6CB7EA2-BC01-47D6-BCF6-BD3D329B42EA" name="GUID-F6CB7EA2-BC01-47D6-BCF6-BD3D329B42EA"></a><h4 id="ADFNS-GUID-F6CB7EA2-BC01-47D6-BCF6-BD3D329B42EA" class="sect4">基于SQL的Oracle XA限制</h4>
                  <div>
                     <p>本节介绍有关这些SQL操作的限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="xa.html#GUID-73F77CBF-D4AA-4E05-9493-4A07FB774751">回滚和提交</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-C83AE4C3-0FD5-49FC-B3F5-AC0F5BAD6463">DDL声明</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-5E6A9F11-244B-4A26-8781-0C654AC9E448">会话状态</a></p>
                        </li>
                        <li>
                           <p><a href="xa.html#GUID-407EDF18-A106-4E62-B795-2C5A8552C824">EXEC SQL</a></p>
                        </li>
                     </ul>
                  </div><a id="ADFNS821"></a><div class="props_rev_3"><a id="GUID-73F77CBF-D4AA-4E05-9493-4A07FB774751" name="GUID-73F77CBF-D4AA-4E05-9493-4A07FB774751"></a><h5 id="ADFNS-GUID-73F77CBF-D4AA-4E05-9493-4A07FB774751" class="sect5">回滚和提交</h5>
                     <div>
                        <p>由于事务管理器负责协调和监视全局事务的进度，因此应用程序不得包含任何独立回滚或提交全局事务的Oracle Database特定语句。但是，您可以在本地事务中使用回滚和提交。</p>
                        <p>当您处于全局事务中时，不要将<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">ROLLBACK</code> <code class="codeph">WORK</code>用于预编译器应用程序。同样，OCI应用程序不得运行<code class="codeph">OCITransRollback</code>或版本7等效的<code class="codeph">orol</code> 。您可以通过调用<code class="codeph">tx_rollback</code>来回滚全局事务。
                        </p>
                        <p>同样，预编译器应用程序在全局事务中不得具有<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">COMMIT</code> <code class="codeph">WORK</code>语句。OCI应用程序不得运行<code class="codeph">OCITransCommit</code>或版本7等效的<code class="codeph">ocom</code> 。例如，使用<code class="codeph">tx_commit</code>或<code class="codeph">tx_rollback</code>结束全局事务。
                        </p>
                     </div>
                  </div><a id="ADFNS822"></a><div class="props_rev_3"><a id="GUID-C83AE4C3-0FD5-49FC-B3F5-AC0F5BAD6463" name="GUID-C83AE4C3-0FD5-49FC-B3F5-AC0F5BAD6463"></a><h5 id="ADFNS-GUID-C83AE4C3-0FD5-49FC-B3F5-AC0F5BAD6463" class="sect5">DDL声明</h5>
                     <div>
                        <p>由于数据定义语言（DDL）语句（如<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ）意味着隐式提交，因此Oracle XA应用程序无法运行任何DDL语句。
                        </p>
                     </div>
                  </div><a id="ADFNS823"></a><div class="props_rev_3"><a id="GUID-5E6A9F11-244B-4A26-8781-0C654AC9E448" name="GUID-5E6A9F11-244B-4A26-8781-0C654AC9E448"></a><h5 id="ADFNS-GUID-5E6A9F11-244B-4A26-8781-0C654AC9E448" class="sect5">会话状态</h5>
                     <div>
                        <p>Oracle数据库不保证会话状态在TPM服务之间有效。例如，如果TPM服务更新会话变量（例如全局包变量），则作为同一全局事务的一部分运行的另一个TPM服务可能看不到更改。仅在TPM服务中使用保存点。应用程序不得引用在另一个TPM服务中创建的保存点。同样，应用程序不得尝试从另一个TPM服务中执行的游标中获取。</p>
                     </div>
                  </div><a id="ADFNS824"></a><div class="props_rev_3"><a id="GUID-407EDF18-A106-4E62-B795-2C5A8552C824" name="GUID-407EDF18-A106-4E62-B795-2C5A8552C824"></a><h5 id="ADFNS-GUID-407EDF18-A106-4E62-B795-2C5A8552C824" class="sect5">EXEC SQL</h5>
                     <div>
                        <p>不要使用<code class="codeph">EXEC</code> <code class="codeph">SQL</code>语句进行连接或断开连接。也就是说，不要使用<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">CONNECT</code> ， <code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">COMMIT</code> <code class="codeph">WORK</code> <code class="codeph">RELEASE</code>或<code class="codeph">EXEC</code> <code class="codeph">SQL</code> <code class="codeph">ROLLBACK</code> <code class="codeph">WORK</code> <code class="codeph">RELEASE</code> 。</p>
                     </div>
                  </div>
               </div><a id="ADFNS825"></a><div class="props_rev_3"><a id="GUID-6166F2B9-4ADA-417E-A8B2-6FF22C3D72E8" name="GUID-6166F2B9-4ADA-417E-A8B2-6FF22C3D72E8"></a><h4 id="ADFNS-GUID-6166F2B9-4ADA-417E-A8B2-6FF22C3D72E8" class="sect4">其他限制</h4>
                  <div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能在同一会话中同时使用Oracle XA和网关。</p>
                        </li>
                        <li>
                           <p>Oracle数据库不支持关联迁移（事务管理器可以恢复另一个分支中的挂起分支关联的方法）。</p>
                        </li>
                        <li>
                           <p>不支持可选的XA功能异步XA调用。</p>
                        </li>
                        <li>
                           <p>将<code class="codeph">TRANSACTIONS</code>初始化参数设置为预期的并发全局事务数。初始化参数<code class="codeph">OPEN_LINKS_PER_INSTANCE</code>指定可以迁移的打开的数据库链接连接数。XA事务使用这些数据库链接连接，以便在提交事务后缓存连接。
                           </p>
                           <div class="infoboxnotealso" id="GUID-6166F2B9-4ADA-417E-A8B2-6FF22C3D72E8__GUID-7A537654-45E3-40A0-9389-29ABDE8E182A">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="xa.html#GUID-C4F27C42-C388-4604-8986-7917930F7EF8">在Oracle XA应用程序中使用数据库链接</a></p>
                           </div>
                        </li>
                        <li>
                           <p>每个线程的最大<code class="codeph">xa_open</code>调用数为32。
                           </p>
                        </li>
                        <li>
                           <p>在构建基于TP-monitor的XA应用程序时，请确保TP-monitors库（定义符号<code class="codeph">ax_reg</code>和<code class="codeph">ax_unreg</code> ）放置在Oracle Database的客户端共享库之前的链接行中。如果您的平台不支持共享库，或者链接器对链接行中的库排序不敏感，请使用Oracle数据库的非共享客户端库。这些链接限制仅在使用XA的动态注册（Oracle XA交换机<code class="codeph">xaoswd</code> ）时适用。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12844.connecting-exploring-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can connect to Oracle Database only through a client program, such as SQL*Plus or SQL Developer. When connected to the database, you can view schema objects, view the properties and data of Oracle Database tables, and use queries to retrieve data from Oracle Database tables."></meta>
      <meta name="description" content="You can connect to Oracle Database only through a client program, such as SQL*Plus or SQL Developer. When connected to the database, you can view schema objects, view the properties and data of Oracle Database tables, and use queries to retrieve data from Oracle Database tables."></meta>
      <title>连接到Oracle数据库并探索它</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="2 Day Developer&#39;s Guide "></meta>
      <meta property="og:description" content="You can connect to Oracle Database only through a client program, such as SQL*Plus or SQL Developer. When connected to the database, you can view schema objects, view the properties and data of Oracle Database tables, and use queries to retrieve data from Oracle Database tables."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="2 Day Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="2-day-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:00:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94801-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="two-day-developer-intro.html" title="Previous" type="text/html"></link>
      <link rel="next" href="dml-and-transactions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="2 Day Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TDDDG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="two-day-developer-intro.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="dml-and-transactions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2天开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">连接到Oracle数据库并探索它</li>
            </ol>
            <a id="GUID-BB75E62F-9B30-4322-97C5-F062830ED488" name="GUID-BB75E62F-9B30-4322-97C5-F062830ED488"></a><a id="TDDDG99998"></a>
            
            <h2 id="TDDDG-GUID-BB75E62F-9B30-4322-97C5-F062830ED488" class="sect2"><span class="enumeration_chapter">2</span>连接到Oracle数据库并探索它</h2>
         </header>
         <div class="ind">
            <div>
               <p>您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。</p>
               <p>通过客户端程序连接到Oracle数据库后，在该客户端程序中输入并运行命令。有关详细信息，请参阅客户端程序的文档。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473">从SQL * Plus连接到Oracle数据库</a><br>SQL * Plus是一个客户端程序，您可以从中访问Oracle数据库。本主题说明如何启动SQL * Plus并连接到Oracle数据库。
                  </li>
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245">从SQL Developer连接到Oracle数据库</a><br>SQL Developer是一个客户端程序，您可以使用它来访问Oracle数据库。
                  </li>
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8">以用户HR身份连接到Oracle数据库</a><br>要执行本文档中的教程和示例，您必须以用户<code class="codeph">HR</code>身份连接到Oracle数据库。</li>
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-E1407FE1-B4A9-4402-A576-E98716F943DC">使用SQL * Plus探索Oracle数据库</a><br>如果从SQL * Plus作为用户HR连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。
                  </li>
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD">使用SQL Developer探索Oracle数据库</a><br>如果从SQL Developer以用户HR身份连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。
                  </li>
                  <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表格数据</a><br></li>
               </ul>
            </div>
            <a id="TDDDG119"></a><a id="TDDDG104"></a><a id="TDDDG12300"></a><div class="sect2"><a id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473" name="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473"></a><h3 id="TDDDG-GUID-F386B7FE-7FDD-4C49-B809-63A46D339473" class="sect3"><span class="enumeration_section">2.1</span>从SQL * Plus连接到Oracle数据库</h3>
               <div>
                  <p>SQL * Plus是一个客户端程序，您可以从中访问Oracle数据库。本主题说明如何启动SQL * Plus并连接到Oracle数据库。</p>
                  <div class="infoboxnote" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__GUID-C6D4D955-2AC8-4C1A-8F72-C85FA622DA8D">
                     <p class="notep1">注意：</p>
                     <p>对于以下过程的步骤<a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGBCAGC">3</a>和<a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGDAHFF">4</a> ，您需要用户名和密码。
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__GUID-9D46BD1B-81BA-49AE-AE31-C198FCD86802">要从SQL * Plus连接到Oracle数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li>
                        <p>如果您使用的是Windows系统，请显示Windows命令提示符。</p>
                     </li>
                     <li>
                        <p>在命令提示符下，键入<kbd class="userinput">sqlplus</kbd> ，然后按<span class="uicontrol bold">Enter键</span> 。
                        </p>
                     </li>
                     <li id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGBCAGC">
                        <p>在用户名提示符下，键入您的用户名，然后按<span class="uicontrol bold">Enter键</span> 。
                        </p>
                     </li>
                     <li id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGDAHFF">
                        <p>在密码提示符下，键入密码，然后按<span class="uicontrol bold">Enter键</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__GUID-E6261EE9-1508-4917-8501-96AB68E3BC1E">
                           <p class="notep1">注意：</p>
                           <p>为安全起见，您的密码在屏幕上不可见。</p>
                        </div>
                        <p>系统将您连接到Oracle数据库实例。</p>
                        <p>您在SQL * Plus环境中。在<samp class="sysout">SQL&gt;</samp>提示符下，您可以输入并运行SQL * Plus命令，SQL语句，PL / SQL语句和操作系统命令。
                        </p>
                        <p>要退出SQL * Plus，请键入<kbd class="userinput">exit</kbd>并按<span class="uicontrol bold">Enter键</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__GUID-150A29F8-3007-41B5-BE15-4868035F7CC9">
                           <p class="notep1">注意：</p>
                           <p>退出SQL * Plus会结束SQL * Plus会话，但不会关闭Oracle数据库实例。</p>
                        </div>
                        <p><a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGHFHIG">例2-1</a>启动SQL * Plus，连接到Oracle数据库，运行SQL <code class="codeph">SELECT</code>语句，并退出SQL * Plus。用户输入为<span class="bold">粗体</span> 。
                        </p>
                     </li>
                  </ol>
                  <div class="example" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGHFHIG">
                     <p class="titleinexample">示例2-1从SQL * Plus连接到Oracle数据库</p><pre class="oac_no_warn" dir="ltr">&gt; <span class="bold">sqlplus</span> SQL * Plus：版本12.1.0.1.0生产于2012年12月27日星期四07:43:41版权所有（c）1982,2012，Oracle。版权所有。输入用户名： <span class="italic"><span class="bold"><code class="codeph">your_user_name</code></span></span>输入密码： <span class="italic"><span class="bold"><code class="codeph">your_password</code></span></span>连接到：Oracle Database 12c企业版发行版 -  12.1.0.1.0 64位生产SQL&gt; <span class="bold">从员工中选择计数（*）;</span> COUNT（*）---------- 107 SQL&gt; <span class="bold">退出</span>与Oracle Database 12c企业版发行版断开连接 -  12.1.0.1.0 64位生产&gt;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__GUID-B8E4F6C2-4B40-4EE3-87E6-BC87C6E50643">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB" title="您可以使用SQL * Plus作为HR用户连接到Oracle数据库。">从SQL * Plus连接到Oracle数据库作为用户HR</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="two-day-developer-intro.html#GUID-C5ABE48D-C8D7-4BB7-AD66-406719AF6BFD" title="SQL*Plus (pronounced sequel plus) is an interactive and batch query tool that is installed with every Oracle Database installation. It has a command-line user interface that acts as the client when connecting to the database.">关于SQL * Plus</a> ”</span>有关<span class="q"><a href="two-day-developer-intro.html#GUID-C5ABE48D-C8D7-4BB7-AD66-406719AF6BFD" title="SQL * Plus（发音为sequel plus）是一个交互式批处理查询工具，随每个Oracle数据库安装一起安装。它有一个命令行用户界面，在连接到数据库时充当客户端。">SQL * Plus</a></span>的简要说明</p>
                        </li>
                        <li>
                           <p>有关启动SQL * Plus和连接到Oracle数据库的更多信息<a href="../sqpug/SQL-Plus-quick-start.html#SQPUG002" target="_blank"><span class="italic">，请参见SQL * Plus用户指南和参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG121"></a><a id="TDDDG12200"></a><div class="sect2"><a id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245" name="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245"></a><h3 id="TDDDG-GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245" class="sect3"><span class="enumeration_section">2.2</span>从SQL Developer连接到Oracle数据库</h3>
               <div>
                  <p>SQL Developer是一个客户端程序，您可以使用它来访问Oracle数据库。</p>
                  <p>建议您使用当前可用的SQL Developer版本，您可以从以下版本下载：</p>
                  <p><a href="http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/</code></a></p>
                  <p>本节假定您的系统上安装了SQL Developer，并说明了如何启动它并连接到Oracle数据库。如果系统上未安装SQL Developer，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10100" target="_blank"><span class="italic">Oracle SQL Developer用户指南</span></a>以获取安装说明。
                  </p>
                  <div class="infoboxnote" id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__GUID-CB7137A2-1709-4AF2-BEC3-03B27CF35FB8">
                     <p class="notep1">注意：</p>
                     <p>对于以下过程：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您使用的是不包含JDK的SQL Developer工具包，那么第一次在系统上启动SQL Developer时，必须提供Java Development Kit的路径。</p>
                        </li>
                        <li>
                           <p>出现提示时，您需要输入用户名和密码。</p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__GUID-6F9A4FA6-74E8-4146-AF5A-BE5DDFB58ECD">从SQL Developer连接到Oracle数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__CEGJHDEC">
                        <p>启动SQL Developer。</p>
                        <p>有关说明，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10100" target="_blank"><span class="italic">Oracle SQL Developer用户指南”</span></a> 。
                        </p>
                        <p>如果这是您第一次在系统上启动SQL Developer，则会提示您输入Java Development Kit（JDK）安装的路径（例如， <code class="codeph">C:\Program Files\Java\jdk1.8.0_65</code> ）。在提示后键入路径或浏览到该路径，然后按<span class="uicontrol bold">Enter键</span> 。
                        </p>
                     </li>
                     <li>
                        <p>在“ <span class="wintitle">连接”</span>框中，单击“ <span class="uicontrol bold">新建连接</span> ”图标。
                        </p>
                     </li>
                     <li id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__CEGGJCBH">
                        <p>在“ <span class="wintitle">新建/选择数据库连接”</span>窗口中：</p>
                        <ol type="a">
                           <li>
                              <p>在“ <span class="wintitle">连接名称”</span> ，“ <span class="wintitle">用户名</span> ”和“ <span class="wintitle">密码</span> ”字段中键入适当的值。
                              </p>
                              <p>为安全起见，您键入的密码字符显示为星号。</p>
                              <p>“ <span class="wintitle">密码”</span>字段旁边是“ <span class="wintitle">保存密码</span> ”复选框。默认情况下，取消选择它。Oracle建议接受默认值。
                              </p>
                           </li>
                           <li>
                              <p>如果未显示<span class="wintitle">Oracle</span>窗格，请单击<span class="uicontrol bold">Oracle</span>选项卡。
                              </p>
                           </li>
                           <li>
                              <p>在<span class="wintitle">Oracle</span>窗格中，接受默认值。
                              </p>
                              <p>（默认值为： <span class="wintitle">连接类型</span> ，基本; <span class="wintitle">角色</span> ，默认， <span class="wintitle">主机名</span> ，localhost; <span class="wintitle">端口</span> ，1521; <span class="wintitle">SID选项</span> ，已选中; <span class="wintitle">SID字段</span> ，xe。）
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="uicontrol bold">测试</span> ”按钮。</p>
                              <p>连接已经过测试。如果连接成功，则<span class="wintitle">状态指示器</span>将从空白变为<samp class="sysout">成功</samp> 。
                              </p>
                           </li>
                           <li>
                              <p>如果测试成功，请单击“ <span class="uicontrol bold">连接</span> ”按钮。
                              </p>
                              <p>“ <span class="wintitle">新建/选择数据库连接”</span>窗口将关闭。<span class="wintitle">Connections</span>框架显示您在步骤<a href="connecting-exploring-database.html#GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__CEGGJCBH">3</a>的“ <span class="wintitle">连接名称”</span>字段中输入的<span class="wintitle">名称</span>的<span class="wintitle">连接</span> 。
                              </p>
                           </li>
                        </ol>
                     </li>
                  </ol>
                  <p>您在SQL Developer环境中。</p>
                  <p>要退出SQL Developer，请从“ <span class="wintitle">文件”</span>菜单中选择“ <span class="uicontrol bold">退出</span> ”。
                  </p>
                  <div class="infoboxnote" id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__GUID-490E27A7-0F55-48F8-9AFA-3FD940EF3784">
                     <p class="notep1">注意：</p>
                     <p>退出SQL Developer会结束SQL Developer会话，但不会关闭Oracle数据库实例。下次启动SQL Developer时，使用上述过程创建的连接仍然存在。SQL Developer会提示您输入在步骤<a href="connecting-exploring-database.html#GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__CEGGJCBH">3中</a>提供的密码（除非您选中了“ <span class="wintitle">保存密码</span> ”复选框）。
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__GUID-F416FEB7-18EA-4A8D-BAD5-C7487D02EF4C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA" title="您可以使用SQL Developer以HR用户身份连接到Oracle数据库。">从SQL Developer连接到Oracle数据库作为用户HR</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="two-day-developer-intro.html#GUID-C00AD6B2-394E-4FD9-A0E4-E0A227662354" title="SQL Developer (pronounced sequel developer) is a graphical user interface for Oracle Database, that is available in the default installation of Oracle Database and by free download from the Oracle Technology Network.">关于SQL Developer</a> ”</span>有关<span class="q"><a href="two-day-developer-intro.html#GUID-C00AD6B2-394E-4FD9-A0E4-E0A227662354" title="SQL Developer（发音为sequel developer）是Oracle数据库的图形用户界面，可在Oracle数据库的默认安装中获得，也可从Oracle技术网免费下载。">SQL Developer</a></span>的简要说明</p>
                        </li>
                        <li>
                           <p>有关使用SQL Developer创建与Oracle数据库的连接的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10400" target="_blank"><span class="italic">参见“Oracle SQL Developer用户指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG12500"></a><div class="sect2"><a id="GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8" name="GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8"></a><h3 id="TDDDG-GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8" class="sect3"><span class="enumeration_section">2.3</span>以用户HR身份连接Oracle数据库</h3>
               <div>
                  <p>要执行本文档中的教程和示例，您必须以用户<code class="codeph">HR</code>身份连接到Oracle数据库。</p>
                  <p>用户<code class="codeph">HR</code>拥有本文档中的示例和教程使用的<code class="codeph">HR</code>示例模式。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-F779D716-7901-4A84-B854-67F4E03D24FB">解锁人力资源账户</a><br>您必须先解锁HR帐户并重置其密码，然后才能以用户HR身份连接到Oracle数据库。</li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB">从SQL * Plus连接到Oracle数据库作为用户HR</a><br>您可以使用SQL * Plus作为HR用户连接到Oracle数据库。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA">从SQL Developer以用户HR身份连接到Oracle数据库</a><br>您可以使用SQL Developer以HR用户身份连接到Oracle数据库。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG122"></a><a id="TDDDG12510"></a><div class="sect3"><a id="GUID-F779D716-7901-4A84-B854-67F4E03D24FB" name="GUID-F779D716-7901-4A84-B854-67F4E03D24FB"></a><h4 id="TDDDG-GUID-F779D716-7901-4A84-B854-67F4E03D24FB" class="sect4"><span class="enumeration_section">2.3.1</span>解锁人力资源账户</h4>
                  <div>
                     <p>您必须先解锁HR帐户并重置其密码，然后才能以用户HR身份连接到Oracle数据库。</p>
                     <p>默认情况下，安装HR模式时，HR帐户将被锁定，其密码已过期。</p>
                     <div class="infoboxnote" id="GUID-F779D716-7901-4A84-B854-67F4E03D24FB__GUID-86999BA8-26CA-40EB-9B1F-C3BBCACC3C63">
                        <p class="notep1">注意：</p>
                        <p>对于以下过程，您需要具有<span class="keyword">ALTER USER</span>系统特权的用户的名称和密码。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F779D716-7901-4A84-B854-67F4E03D24FB__GUID-5472C105-B82E-459D-86A3-4F3F9CBF7949">要解锁HR帐户并重置其密码：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li>
                           <p>使用SQL * Plus，以具有<span class="keyword">ALTER USER</span>系统特权的用户身份连接到Oracle数据库。
                           </p>
                        </li>
                        <li>
                           <p>在<samp class="sysout">SQL&gt;</samp>提示符下，解锁HR帐户并重置其密码：</p>
                           <div class="infoboxnote" id="GUID-F779D716-7901-4A84-B854-67F4E03D24FB__GUID-3920A198-B316-46F6-8A91-56BDADF5E19C">
                              <p class="notep1">警告：</p>
                              <p>选择安全密码。有关安全密码的准则，请参见“ <a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                              </p>
                           </div><pre class="oac_no_warn" dir="ltr">通过<span class="italic">密码</span>识别的ALTER USER HR帐户解锁;</pre><p>系统响应：</p><pre class="oac_no_warn" dir="ltr">用户改动了。
</pre><p><code class="codeph">HR</code>帐户已解锁，密码为<span class="parmname" translate="no">password</span> 。
                           </p>
                        </li>
                     </ol>
                     <p>现在，您可以使用密码<span class="parmname" translate="no">password</span>以用户HR身份连接到Oracle数据库。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F779D716-7901-4A84-B854-67F4E03D24FB__GUID-0E99EDC1-17D4-4A63-A828-9E459F6EE54E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关在SQL Developer中访问SQL * Plus的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10710" target="_blank"><span class="italic">“Oracle SQL Developer用户指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8" title="要执行本文档中的教程和示例，您必须以用户HR身份连接到Oracle数据库。">作为用户HR连接到Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG123"></a><a id="TDDDG12520"></a><div class="sect3"><a id="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB" name="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB"></a><h4 id="TDDDG-GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB" class="sect4"><span class="enumeration_section">2.3.2</span>从SQL * Plus连接到Oracle数据库作为用户HR</h4>
                  <div>
                     <p>您可以使用SQL * Plus作为HR用户连接到Oracle数据库。</p>
                     <div class="infoboxnote" id="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB__GUID-8EBC30AB-EAD1-486A-878C-58D57CCD3EFE">
                        <p class="notep1">注意：</p>
                        <p>如果HR帐户已锁定，请参阅<span class="q">“ <a href="connecting-exploring-database.html#GUID-F779D716-7901-4A84-B854-67F4E03D24FB" title="您必须先解锁HR帐户并重置其密码，然后才能以用户HR身份连接到Oracle数据库。">解锁HR帐户</a> ”</span> ，然后返回此部分。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB__GUID-712CD932-42D2-4240-8E32-DB1B15E7650D">要从SQL * Plus以用户HR身份连接到Oracle数据库：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="infoboxnote" id="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB__GUID-C839FB7E-01C1-4288-A082-DD0CC0D9FBE4">
                        <p class="notep1">注意：</p>
                        <p>对于此任务，您需要HR帐户的密码。</p>
                     </div>
                     <ol>
                        <li>
                           <p>如果已连接到Oracle数据库，请关闭当前连接。</p>
                        </li>
                        <li>
                           <p>按照<span class="q">“ <a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473" title="SQL * Plus是一个客户端程序，您可以从中访问Oracle数据库。本主题说明如何启动SQL * Plus并连接到Oracle数据库。">从SQL * Plus连接到Oracle数据库</a> ”中的说明操作</span> ，在步骤<a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGBCAGC">3</a>输入用户名<kbd class="userinput">HR</kbd> ，在步骤<a href="connecting-exploring-database.html#GUID-F386B7FE-7FDD-4C49-B809-63A46D339473__CEGDAHFF">4</a>输入HR帐户的密码。
                           </p>
                           <p>您现在以用户HR身份连接到Oracle数据库。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB__GUID-BE6BF744-9156-45FA-B1A4-27AC9C0265CC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../sqpug/SQL-Plus-user-interface.html#SQPUG008" target="_blank"><span class="italic">SQL * Plus用户指南和参考</span></a> ，以获取使用SQL * Plus创建<code class="codeph">HR</code>连接的示例</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8" title="要执行本文档中的教程和示例，您必须以用户HR身份连接到Oracle数据库。">作为用户HR连接到Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG124"></a><a id="TDDDG12530"></a><div class="sect3"><a id="GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA" name="GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA"></a><h4 id="TDDDG-GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA" class="sect4"><span class="enumeration_section">2.3.3</span>从SQL Developer以用户HR身份连接Oracle数据库</h4>
                  <div>
                     <p>您可以使用SQL Developer以HR用户身份连接到Oracle数据库。</p>
                     <div class="infoboxnote" id="GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA__GUID-87AC64A5-DE9B-4B8B-BF8B-9454616EA8B9">
                        <p class="notep1">注意：</p>
                        <p>如果HR帐户已锁定，请参阅<span class="q">“ <a href="connecting-exploring-database.html#GUID-F779D716-7901-4A84-B854-67F4E03D24FB" title="您必须先解锁HR帐户并重置其密码，然后才能以用户HR身份连接到Oracle数据库。">解锁HR帐户</a> ”</span> ，然后返回此部分。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA__GUID-E690A109-E0B9-479A-9977-5E420F53C2F2">要从SQL Developer以用户HR身份连接到Oracle数据库：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="infoboxnote" id="GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA__GUID-4030659C-883A-4ACC-A1DC-17BFF6171E44">
                        <p class="notep1">注意：</p>
                        <p>对于此任务，您需要HR帐户的密码。</p>
                     </div>
                     <p>按照<span class="q">“ <a href="connecting-exploring-database.html#GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245" title="SQL Developer是一个客户端程序，您可以使用它来访问Oracle数据库。">从SQL Developer连接到Oracle数据库</a> ”中的说明操作</span> ，在步骤<a href="connecting-exploring-database.html#GUID-4EF62A6C-8CDA-470A-901E-C24D2A9A5245__CEGGJCBH">3中</a>输入以下值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于“ <span class="wintitle">连接名称”</span> ，请输入<kbd class="userinput">hr_conn</kbd> 。
                           </p>
                           <p>（您可以输入其他名称，但本文档中的教程假定您将连接命名为<kbd class="userinput">hr_conn</kbd> 。）
                           </p>
                        </li>
                        <li>
                           <p>对于<span class="wintitle">用户名</span> ，请输入<kbd class="userinput">HR</kbd> 。</p>
                        </li>
                        <li>
                           <p>对于<span class="wintitle">密码</span> ，请输入HR帐户的密码。
                           </p>
                        </li>
                     </ul>
                     <p>您现在以用户HR身份连接到Oracle数据库。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-E010ADBC-E264-4E5E-8F04-7F3D02CF95C8" title="要执行本文档中的教程和示例，您必须以用户HR身份连接到Oracle数据库。">作为用户HR连接到Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG137"></a><div class="props_rev_4"><a id="GUID-E1407FE1-B4A9-4402-A576-E98716F943DC" name="GUID-E1407FE1-B4A9-4402-A576-E98716F943DC"></a><h3 id="TDDDG-GUID-E1407FE1-B4A9-4402-A576-E98716F943DC" class="sect3"><span class="enumeration_section">2.4</span>使用SQL * Plus探索Oracle数据库</h3>
               <div>
                  <p>如果从SQL * Plus作为用户HR连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。</p>
                  <div class="infoboxnote" id="GUID-E1407FE1-B4A9-4402-A576-E98716F943DC__GUID-660D85D7-CB18-4FDC-8A04-94ED4B2E1675">
                     <p class="notep1">注意：</p>
                     <p>如果未使用SQL * Plus作为用户HR连接到Oracle数据库，请参阅<span class="q">“</span>从SQL * Plus <span class="q"><a href="connecting-exploring-database.html#GUID-3EBC7F86-1D6E-4E44-9D17-B3FCB69607CB" title="您可以使用SQL * Plus作为HR用户连接到Oracle数据库。">连接到Oracle数据库作为用户HR</a> ”</span> ，然后返回到本节。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-7BCD3985-F47E-4354-B711-3F05D3B82088">使用SQL * Plus查看HR模式对象</a><br>使用SQL * Plus，您可以通过查询静态数据字典视图<span class="keyword">USER_OBJECTS</span>来查看属于HR模式的对象。</li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4">使用SQL * Plus查看EMPLOYEES表属性和数据</a><br>您可以使用SQL * Plus命令，SQL <span class="keyword">SELECT</span>语句和静态数据字典视图来查看HR.EMPLOYEES表的属性和数据。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG135"></a><a id="TDDDG133"></a><div class="sect3"><a id="GUID-7BCD3985-F47E-4354-B711-3F05D3B82088" name="GUID-7BCD3985-F47E-4354-B711-3F05D3B82088"></a><h4 id="TDDDG-GUID-7BCD3985-F47E-4354-B711-3F05D3B82088" class="sect4"><span class="enumeration_section">2.4.1</span>使用SQL * Plus查看HR模式对象</h4>
                  <div>
                     <p>使用SQL * Plus，您可以通过查询静态数据字典视图<span class="keyword">USER_OBJECTS</span>来查看属于HR模式的对象。</p>
                     <p><a href="connecting-exploring-database.html#GUID-7BCD3985-F47E-4354-B711-3F05D3B82088__CEGDDFDD">示例2-2</a>显示了如何查看属于HR模式的对象的名称和数据类型。
                     </p>
                     <div class="example" id="GUID-7BCD3985-F47E-4354-B711-3F05D3B82088__CEGDDFDD">
                        <p class="titleinexample">示例2-2使用SQL * Plus查看HR模式对象</p><pre class="oac_no_warn" dir="ltr">COLUMN OBJECT_NAME FORMAT A25 COLUMN OBJECT_TYPE FORMAT A25 <span class="bold">SELECT OBJECT_NAME，OBJECT_TYPE FROM USER_OBJECTS</span> <span class="bold">ORDER BY OBJECT_TYPE，OBJECT_NAME;</span>
</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">OBJECT_NAME OBJECT_TYPE ------------------------- ----------------------- -  COUNTRY_C_ID_PK INDEX DEPT_ID_PK INDEX DEPT_LOCATION_IX INDEX EMP_DEPARTMENT_IX INDEX EMP_EMAIL_UK INDEX EMP_EMP_ID_PK INDEX EMP_JOB_IX INDEX EMP_MANAGER_IX INDEX EMP_NAME_IX INDEX JHIST_DEPARTMENT_IX INDEX JHIST_EMPLOYEE_IX INDEX JHIST_EMP_ID_ST_DATE_PK INDEX JHIST_JOB_IX INDEX JOB_ID_PK INDEX LOC_CITY_IX INDEX LOC_COUNTRY_IX INDEX LOC_ID_PK INDEX LOC_STATE_PROVINCE_IX INDEX REG_ID_PK INDEX ADD_JOB_HISTORY程序SECURE_DML程序DEPARTMENTS_SEQ SEQUENCE EMPLOYEES_SEQ SEQUENCE LOCATIONS_SEQ SEQUENCE COUNTRIES TABLE DEPARTMENTS表员工表JOBS表JOB_HISTORY表位置表区域表SECURE_EMPLOYEES TRIGGER UPDATE_JOB_HISTORY TRIGGER EMP_DETAILS_VIEW VIEW选择34行。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7BCD3985-F47E-4354-B711-3F05D3B82088__GUID-55CB5F8E-F042-4E79-B6FA-BD5B3AF17A4D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<span class="keyword">USER_OBJECTS的</span>信息，请<a href="../refrn/ALL_OBJECTS.html#REFRN20146" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD" title="查询或SQL SELECT语句从一个或多个表或视图中选择数据。本节介绍如何使用Worksheet在SQL Developer中运行查询。本教程介绍如何选择EMPLOYEES表的所有列。本教程介绍如何仅选择EMPLOYEES表的FIRST_NAME，LAST_NAME和DEPARTMENT_ID列。在显示的查询结果中，默认列标题是列名称。要在新标题下显示列，请在列名称后面立即指定新标题（别名）。别名在查询期间重命名列，但不会在数据库中更改其名称。要仅选择与指定条件匹配的数据，请在SELECT语句中包含WHERE子句。显示查询结果时，记录可以按任何顺序排列，除非您使用ORDER BY子句指定其顺序。要从多个表中选择数据，请使用称为连接的查询。联接中的表必须至少共享一个列名。查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。基本算术运算符 -  +（加法）， - （减法），*（乘法）和/（除法） - 对列值进行操作。数字函数接受数字输入并返回数值。每个数字函数为每个计算的行返回一个值。连接运算符（||）将两个字符串组合成一个字符串，方法是将第二个字符串附加到第一个字符串。例如，&#39;a&#39;||&#39;b&#39;=&#39;ab&#39;。您可以使用此运算符组合查询结果的同一列中的两列或表达式的信息。字符函数接受字符输入。大多数返回字符值，但有些返回数值。每个字符函数为每个计算的行返回一个值。日期时间功能在日期，时间戳和间隔值上运行。每个datetime函数为每个计算的行返回一个值。转换函数将一种数据类型转换为另一种。聚合函数采用一组行并返回单个结果行。行组可以是整个表或视图。与NULL相关的函数有助于处理NULL值。CASE表达式允许您使用IF ...然后 ...SQL语句中的ELSE逻辑，无需调用子程序。有两种CASE表达式，简单和搜索。DECODE函数将表达式与多个搜索值进行比较。只要表达式的值与搜索值匹配，DECODE就会返回与该搜索值关联的结果。如果DECODE找不到匹配项，则返回默认值（如果指定）或NULL（如果未指定默认值）。">选择表数据</a> ”</span>以获取有关使用查询查看表数据的信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="two-day-developer-intro.html#GUID-F55D4815-FCD8-4075-AEBC-BC2B57A47F9E" title="HR示例模式可以与Oracle数据库一起安装。此架构包含有关员工 - 部门，位置，工作历史和相关信息的信息。与所有模式一样，HR具有表，视图，索引，过程，函数和其他属性。本文档中的示例和教程使用模式。">关于样本模式HR</a> ”</span> ，了解有关模式HR的一般信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-E1407FE1-B4A9-4402-A576-E98716F943DC" title="如果从SQL * Plus作为用户HR连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。">使用SQL * Plus探索Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG147"></a><a id="TDDDG148"></a><a id="TDDDG146"></a><div class="sect3"><a id="GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4" name="GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4"></a><h4 id="TDDDG-GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4" class="sect4"><span class="enumeration_section">2.4.2</span>使用SQL * Plus查看EMPLOYEES表属性和数据</h4>
                  <div>
                     <p>您可以使用SQL * Plus命令，SQL <span class="keyword">SELECT</span>语句和静态数据字典视图来查看HR.EMPLOYEES表的属性和数据。
                     </p>
                     <p>您可以使用SQL * Plus命令<code>DESCRIBE</code>来查看HR模式中EMPLOYEES表的列的属性，并使用SQL语句<span class="keyword">SELECT</span>来查看数据。要查看表的其他属性，请使用静态数据字典视图（例如， <span class="keyword">USER_CONSTRAINTS</span> ， <span class="keyword">USER_INDEXES</span>和<span class="keyword">USER_TRIGGERS</span> ）。
                     </p>
                     <p><a href="connecting-exploring-database.html#GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4__CEGCGJGA">示例2-3</a>显示了如何在HR模式中查看EMPLOYEES表的属性。
                     </p>
                     <div class="example" id="GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4__CEGCGJGA">
                        <p class="titleinexample">示例2-3使用SQL * Plus查看EMPLOYEES表属性</p><pre class="oac_no_warn" dir="ltr">描述员工</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ------------- EMPLOYEE_ID非空数字（6）FIRST_NAME VARCHAR2（20）LAST_NAME NOT NULL VARCHAR2（25）EMAIL NOT NULL VARCHAR2（25）PHONE_NUMBER VARCHAR2（20）HIRE_DATE NOT NULL DATE JOB_ID NOT NULL VARCHAR2（10）SALARY NUMBER（8,2）COMMISSION_PCT NUMBER（2,2）MANAGER_ID NUMBER（6）DEPARTMENT_ID NUMBER（4）</pre></div>
                     <!-- class="example" -->
                     <p><a href="connecting-exploring-database.html#GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4__CEGBDFHB">示例2-4</a>显示了如何在HR模式中查看EMPLOYEES表中的某些数据。
                     </p>
                     <div class="example" id="GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4__CEGBDFHB">
                        <p class="titleinexample">示例2-4使用SQL * Plus查看EMPLOYEES表数据</p><pre class="oac_no_warn" dir="ltr">COLUMN FIRST_NAME FORMAT A20 COLUMN LAST_NAME格式A25专栏PHONE_NUMBER FORMAT A20 <span class="bold">选择LAST_NAME，FIRST_NAME，PHONE_NUMBER来自</span> <span class="bold">LAST_NAME的</span> <span class="bold">员工</span> <span class="bold">订购;</span>
</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME FIRST_NAME PHONE_NUMBER ------------------------- --------------------  - ------------------ Abel Ellen 011.44.1644.429267 Ande Sundar 011.44.1346.629268 Atkinson Mozhe 650.124.6234 Austin David 590.423.4569 Baer Hermann 515.123.8888 Baida Shelli 515.127.4563 Banda Amit 011.44.1346.729268 Bates Elizabeth 011.44.1343.529268 ...Urman Jose Manuel 515.124.4469 Vargas Peter 650.121.2004 Vishney Clara 011.44.1346.129268 Vollman Shanta 650.123.4234 Walsh Alana 650.507.9811 Weiss Matthew 650.123.1234 Whalen Jennifer 515.123.4444 Zlotkey Eleni 011.44.1344.429018 107行选择。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-65EB3CC5-9383-4EF2-AE20-884F5CB24EA4__GUID-832FD002-EDB5-46F7-A7A6-354F3F739763">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code>DESCRIBE</code>信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQPUG040" target="_blank"><span class="italic">SQL * Plus用户指南和参考</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD" title="查询或SQL SELECT语句从一个或多个表或视图中选择数据。本节介绍如何使用Worksheet在SQL Developer中运行查询。本教程介绍如何选择EMPLOYEES表的所有列。本教程介绍如何仅选择EMPLOYEES表的FIRST_NAME，LAST_NAME和DEPARTMENT_ID列。在显示的查询结果中，默认列标题是列名称。要在新标题下显示列，请在列名称后面立即指定新标题（别名）。别名在查询期间重命名列，但不会在数据库中更改其名称。要仅选择与指定条件匹配的数据，请在SELECT语句中包含WHERE子句。显示查询结果时，记录可以按任何顺序排列，除非您使用ORDER BY子句指定其顺序。要从多个表中选择数据，请使用称为连接的查询。联接中的表必须至少共享一个列名。查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。基本算术运算符 -  +（加法）， - （减法），*（乘法）和/（除法） - 对列值进行操作。数字函数接受数字输入并返回数值。每个数字函数为每个计算的行返回一个值。连接运算符（||）将两个字符串组合成一个字符串，方法是将第二个字符串附加到第一个字符串。例如，&#39;a&#39;||&#39;b&#39;=&#39;ab&#39;。您可以使用此运算符组合查询结果的同一列中的两列或表达式的信息。字符函数接受字符输入。大多数返回字符值，但有些返回数值。每个字符函数为每个计算的行返回一个值。日期时间功能在日期，时间戳和间隔值上运行。每个datetime函数为每个计算的行返回一个值。转换函数将一种数据类型转换为另一种。聚合函数采用一组行并返回单个结果行。行组可以是整个表或视图。与NULL相关的函数有助于处理NULL值。CASE表达式允许您使用IF ...然后 ...SQL语句中的ELSE逻辑，无需调用子程序。有两种CASE表达式，简单和搜索。DECODE函数将表达式与多个搜索值进行比较。只要表达式的值与搜索值匹配，DECODE就会返回与该搜索值关联的结果。如果DECODE找不到匹配项，则返回默认值（如果指定）或NULL（如果未指定默认值）。">选择表数据</a> ”</span>以获取有关使用查询查看表数据的信息</p>
                           </li>
                           <li>
                              <p>有关静态数据字典视图的信息，请参阅<a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-E1407FE1-B4A9-4402-A576-E98716F943DC" title="如果从SQL * Plus作为用户HR连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。">使用SQL * Plus探索Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG99996"></a><div class="props_rev_4"><a id="GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD" name="GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD"></a><h3 id="TDDDG-GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD" class="sect3"><span class="enumeration_section">2.5</span>使用SQL Developer探索Oracle数据库</h3>
               <div>
                  <p>如果从SQL Developer以用户HR身份连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927">教程：使用SQL Developer查看HR模式对象</a><br>本教程介绍如何使用SQL Developer查看属于HR模式的对象，即如何<strong class="term">浏览</strong> HR模式。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C">教程：使用SQL Developer查看EMPLOYEES表属性和数据</a><br>本教程介绍如何使用SQL Developer查看HR模式中EMPLOYEES表的属性和数据。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG125"></a><a id="TDDDG21200"></a><div class="props_rev_3"><a id="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927" name="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927"></a><h4 id="TDDDG-GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927" class="sect4"><span class="enumeration_section">2.5.1</span>教程：使用SQL Developer查看HR模式对象</h4>
                  <div>
                     <p>本教程介绍如何使用SQL Developer查看属于HR模式的对象，即如何<strong class="term">浏览</strong> HR模式。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927__GUID-699C9443-6F27-4CCB-A130-DEF5CB184F49">
                           <p class="notep1">注意：</p>
                           <p>如果您未从SQL Developer以用户HR身份连接到Oracle数据库，请参阅<span class="q">“</span>从SQL Developer <span class="q"><a href="connecting-exploring-database.html#GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA" title="您可以使用SQL Developer以HR用户身份连接到Oracle数据库。">连接到Oracle数据库作为用户HR</a> ”</span> ，然后返回本教程。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927__GUID-DB17D57E-2020-4EE6-B10B-EF2D77CDB375">要浏览HR模式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在<span class="wintitle">Connections</span>框架中，在<span class="wintitle">hr_conn</span>图标的左侧，单击<span class="uicontrol bold">加号（+）</span> 。
                              </p>
                              <p>如果未连接到数据库，则会打开“ <span class="wintitle">连接信息”</span>窗口。如果已连接到数据库， <span class="wintitle">则会</span>扩展<span class="wintitle">hr_conn</span>信息（请参阅步骤<a href="connecting-exploring-database.html#GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927__CEGGFFIA">2中</a> “单击确定” <span class="wintitle">后面的</span>信息）。
                              </p>
                           </li>
                           <li id="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927__CEGGFFIA">
                              <p>如果“ <span class="wintitle">连接信息”</span>窗口打开：</p>
                              <ol type="a">
                                 <li>
                                    <p>在“ <span class="wintitle">用户名”</span>字段中，输入<kbd class="userinput">hr</kbd> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="wintitle">密码”</span>字段中，输入用户HR的密码。</p>
                                 </li>
                                 <li>
                                    <p>单击<span class="uicontrol bold">确定</span> 。</p>
                                 </li>
                              </ol>
                              <p><span class="wintitle">hr_conn</span>信息展开：加号变为减号（ - ），在<span class="wintitle">hr_conn</span>图标下，将显示模式对象类型列表 - 表，视图，索引等。（如果单击减号， <span class="wintitle">hr_conn</span>信息将折叠：减号将成为加号，列表将消失。）
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927__GUID-7496A1FD-EA60-463C-BA1E-3086CFA0BE6C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关SQL Developer用户界面的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10200" target="_blank"><span class="italic">“Oracle SQL Developer用户指南”</span></a></p>
                           </li>
                           <li>
                              <p><span class="q"><a href="two-day-developer-intro.html#GUID-F55D4815-FCD8-4075-AEBC-BC2B57A47F9E" title="The HR sample schema can be installed with Oracle Database. This schema contains information about employees—departments, locations, work histories, and related information. Like all schemas, HR has tables, views, indexes, procedures, functions, and other attributes. The examples and tutorials in this document use the schema.">关于模式HR</a></span>的一般信息<span class="q">“ <a href="two-day-developer-intro.html#GUID-F55D4815-FCD8-4075-AEBC-BC2B57A47F9E" title="HR示例模式可以与Oracle数据库一起安装。此架构包含有关员工 - 部门，位置，工作历史和相关信息的信息。与所有模式一样，HR具有表，视图，索引，过程，函数和其他属性。本文档中的示例和教程使用模式。">关于示例模式HR</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD" title="如果从SQL Developer以用户HR身份连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。">使用SQL Developer探索Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG126"></a><a id="TDDDG21100"></a><div class="props_rev_3"><a id="GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C" name="GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C"></a><h4 id="TDDDG-GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C" class="sect4"><span class="enumeration_section">2.5.2</span>教程：使用SQL Developer查看EMPLOYEES表属性和数据</h4>
                  <div>
                     <p>本教程介绍如何使用SQL Developer查看HR模式中EMPLOYEES表的属性和数据。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C__GUID-B098E469-A460-41C6-9E43-3583E812701B">
                           <p class="notep1">注意：</p>
                           <p>如果您没有浏览HR模式，请参阅<span class="q">“ <a href="connecting-exploring-database.html#GUID-C5118FEB-8476-4CA2-A1D5-81ACFFCD1927" title="本教程介绍如何使用SQL Developer查看属于HR模式的对象，即如何浏览HR模式。">教程：使用SQL Developer查看HR模式对象</a> ”</span> ，然后返回本教程。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C__GUID-4E1D1221-AE19-44D8-9455-8AC73D718EED">要查看EMPLOYEES表的属性和数据：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在<span class="wintitle">Connections</span>框架中，展开<span class="uicontrol bold">Tables</span> 。</span><div>
                              <p>在<span class="wintitle">Tables下</span> ，将显示HR模式中的表列表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择表<span class="uicontrol bold">EMPLOYEES</span> 。</span><div>
                              <p>在<span class="wintitle">Oracle SQL Developer</span>窗口的右侧框架的“ <span class="wintitle">列”</span>窗格中，将显示该表的所有列的列表。每列的右侧是其属性名称，数据类型等。（要查看所有列属性，请将水平滚动条向右移动。）
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在右侧框架中，单击选项卡<span class="uicontrol bold">数据</span> 。</span><div>
                              <p>将出现“ <span class="wintitle">数据”</span>窗格，其中显示此表中所有记录的编号列表。（要查看更多记录，请向下移动垂直滚动条。要查看更多记录列，请将水平滚动条向右移动。）
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在右侧框架中，单击“ <span class="uicontrol bold">约束</span> ”选项卡。</span><div>
                              <p>将出现“ <span class="wintitle">约束”</span>窗格，其中显示了此表上所有约束的列表。每个约束的右侧是其属性名称，类型，搜索条件等。（要查看所有约束属性，请将水平滚动条向右移动。）
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击相应的选项卡，浏览其他属性。</span><div>
                              <p>要查看用于创建EMPLOYEES表的SQL语句，请单击“ <span class="uicontrol bold">SQL”</span>选项卡。SQL语句显示在名为<span class="wintitle">EMPLOYEES</span>的窗格中。要关闭此窗格，请单击名称<span class="wintitle">EMPLOYEES</span>右侧的<span class="uicontrol bold">x</span> 。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C__GUID-0914E8D9-2913-4CFF-BFA0-12B58B8BCB90">
                        <p class="notep1">也可以看看：</p>
                        <p>有关SQL Developer用户界面的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10200" target="_blank"><span class="italic">“Oracle SQL Developer用户指南”</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-B38A7C64-DCE5-4A33-9DAD-27DB1E212EFD" title="如果从SQL Developer以用户HR身份连接到Oracle数据库，则可以查看HR模式对象和EMPLOYEES表的属性。">使用SQL Developer探索Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG20000"></a><div class="props_rev_4"><a id="GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD" name="GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD"></a><h3 id="TDDDG-GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD" class="sect3"><span class="enumeration_section">2.6</span>选择表数据</h3>
               <div>
                  <div class="infoboxnote" id="GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD__GUID-A5CB78BD-2DF8-4710-B790-8FF87EDE3BFA">
                     <p class="notep1">注意：</p>
                     <p>要执行本节中的教程和示例，您必须以SQL Developer中的用户HR身份连接到Oracle数据库。有关说明，请参阅<span class="q">“ <a href="connecting-exploring-database.html#GUID-872A147C-19D2-4782-AFA4-9987E7AE66BA" title="您可以使用SQL Developer以HR用户身份连接到Oracle数据库。">从SQL Developer连接到Oracle数据库作为用户HR</a> ”</span> 。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03">关于查询</a><br><strong class="term">查询</strong>或SQL <span class="keyword">SELECT</span>语句从一个或多个表或视图中选择数据。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651">在SQL Developer中运行查询</a><br>本节介绍如何使用<span class="wintitle">Worksheet</span>在SQL Developer中运行查询。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A">教程：选择表的所有列</a><br>本教程介绍如何选择EMPLOYEES表的所有列。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E">教程：选择表的特定列</a><br>本教程介绍如何仅选择EMPLOYEES表的FIRST_NAME，LAST_NAME和DEPARTMENT_ID列。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487">在新标题下显示所选列</a><br>在显示的查询结果中，默认列标题是列名称。要在新标题下显示列，请在列名称后面立即指定新标题（ <strong class="term">别名</strong> ）。别名在查询期间重命名列，但不会在数据库中更改其名称。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF">选择满足指定条件的数据</a><br>要仅选择与指定条件匹配的数据，请在<span class="keyword">SELECT</span>语句中包含<span class="keyword">WHERE</span>子句。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1">对所选数据进行排序</a><br>显示查询结果时，记录可以按任何顺序排列，除非您使用<span class="keyword">ORDER</span> <span class="keyword">BY</span>子句指定其顺序。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-5EC90E59-F2CF-42D0-AF74-943062278E23">从多个表中选择数据</a><br>要从多个表中选择数据，请使用称为<strong class="term">连接</strong>的查询。联接中的表必须至少共享一个列名。
                     </li>
                     <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085">在查询中使用运算符和函数</a><br>查询的<span class="synph">select_list</span>可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-BB75E62F-9B30-4322-97C5-F062830ED488" title="您只能通过客户端程序（如SQL * Plus或SQL Developer）连接到Oracle数据库。连接到数据库时，您可以查看模式对象，查看Oracle数据库表的属性和数据，以及使用查询从Oracle数据库表中检索数据。">连接到Oracle数据库并探索它</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG22000"></a><div class="props_rev_3"><a id="GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03" name="GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03"></a><h4 id="TDDDG-GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03" class="sect4"><span class="enumeration_section">2.6.1</span>关于查询</h4>
                  <div>
                     <p><strong class="term">查询</strong>或SQL <span class="keyword">SELECT</span>语句从一个或多个表或视图中选择数据。
                     </p>
                     <p>最简单的查询形式具有以下语法：</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="italic">select_list</span> FROM <span class="italic">source_list</span>
</pre><p><span class="synph">select_list</span>指定从中选择数据的列， <span class="synph">source_list</span>指定具有这些列的表或视图。
                     </p>
                     <p>嵌套在另一个SQL语句中的<strong class="term">查询</strong>称为<strong class="term">子查询</strong> 。
                     </p>
                     <p>在SQL * Plus环境中，您可以在<samp class="sysout">SQL&gt;</samp>提示符后输入查询（或任何其他SQL语句）。
                     </p>
                     <p>在SQL Developer环境中，您可以在Worksheet中输入查询（或任何其他SQL语句）。</p>
                     <div class="infoboxnote" id="GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03__GUID-223E33FB-22E2-4584-B26A-EFFCB4A1E64D">
                        <p class="notep1">注意：</p>
                        <p>显示查询结果时，记录可以按任何顺序排列，除非您使用<span class="keyword">ORDER</span> <span class="keyword">BY</span>子句指定其顺序。有关更多信息，请参阅<span class="q">“ <a href="connecting-exploring-database.html#GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1" title="显示查询结果时，记录可以按任何顺序排列，除非您使用ORDER BY子句指定其顺序。">对所选数据进行排序</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03__GUID-1F815EC2-0808-4A25-9CCF-094763F4F31C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关查询和子查询的更多信息，请<a href="../sqlrf/SQL-Queries-and-Subqueries.html#SQLRF007" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<span class="keyword">SELECT</span>语句的更多信息，请<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关SQL * Plus命令行界面的详细信息<a href="../sqpug/SQL-Plus-user-interface.html#SQPUG008" target="_blank"><span class="italic">，请参见SQL * Plus用户指南和参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10700" target="_blank"><span class="italic">Oracle SQL Developer用户指南</span></a> ，了解有关在SQL Developer中使用<span class="wintitle">Worksheet的</span>信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG127"></a><a id="TDDDG22600"></a><div class="props_rev_3"><a id="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651" name="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651"></a><h4 id="TDDDG-GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651" class="sect4"><span class="enumeration_section">2.6.2</span>在SQL Developer中运行查询</h4>
                  <div>
                     <p>本节介绍如何使用<span class="wintitle">Worksheet</span>在SQL Developer中运行查询。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651__GUID-D97AC458-2BCE-4B37-A1BA-677B3AB42531">
                           <p class="notep1">注意：</p>
                           <p><span class="wintitle">工作表</span>不仅限于查询;您可以使用它来运行任何SQL语句。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651__GUID-114E3679-5A93-443A-957B-82A7FA165740">在SQL Developer中运行查询：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>如果SQL Developer的右框显示<span class="wintitle">hr_conn</span>窗格：</p>
                              <ol type="a">
                                 <li>
                                    <p>如果未显示“ <span class="wintitle">工作表”子</span>窗格，请单击“ <span class="uicontrol bold">工作表</span> ”选项卡。
                                    </p>
                                 </li>
                                 <li>
                                    <p>转到第<a href="connecting-exploring-database.html#GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651__CEGIAJHJ">4</a>步。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>单击图标<span class="uicontrol bold">SQL Worksheet</span> 。
                              </p>
                           </li>
                           <li>
                              <p>如果“ <span class="wintitle">选择连接”</span>窗口打开：</p>
                              <ol type="a">
                                 <li>
                                    <p>如果“ <span class="wintitle">连接”</span>字段没有值<code>hr_conn</code> ，请从菜单中选择该值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="uicontrol bold">确定</span> 。</p>
                                 </li>
                              </ol>
                              <p>将出现一个窗格，其中包含标记为<span class="wintitle">hr_conn</span>的选项卡和两个子窗格，即<span class="wintitle">Worksheet</span>和<span class="wintitle">Query Builder</span> 。在<span class="wintitle">工作表中</span> ，您可以输入SQL语句。
                              </p>
                           </li>
                           <li id="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651__CEGIAJHJ">
                              <p>在<span class="wintitle">工作表中</span> ，键入查询（ <span class="keyword">SELECT</span>语句）。
                              </p>
                           </li>
                           <li>
                              <p>单击图标<span class="uicontrol bold">Run Statement</span> 。
                              </p>
                              <p>查询运行。在<span class="wintitle">工作表下</span> ，将出现“ <span class="wintitle">查询结果”</span>窗格，显示查询结果。
                              </p>
                           </li>
                           <li>
                              <p>在<span class="wintitle">hr_conn</span>选项卡下，单击图标<span class="uicontrol bold">Clear</span> 。
                              </p>
                              <p>查询消失，您可以在<span class="wintitle">工作表中</span>输入另一个SQL语句。运行另一个SQL语句时，其结果将显示在“ <span class="wintitle">查询结果”</span>窗格中，替换以前运行的SQL语句的结果。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651__GUID-4CB19115-4FC9-4029-A6AB-B0C547FAD08C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10700" target="_blank"><span class="italic">Oracle SQL Developer用户指南</span></a> ，了解有关在SQL Developer中使用<span class="wintitle">Worksheet的</span>信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG128"></a><a id="TDDDG99997"></a><div class="props_rev_3"><a id="GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A" name="GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A"></a><h4 id="TDDDG-GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A" class="sect4"><span class="enumeration_section">2.6.3</span>教程：选择表的所有列</h4>
                  <div>
                     <p>本教程介绍如何选择EMPLOYEES表的所有列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A__GUID-BE88B8BC-AE9F-46BE-8561-A841FC5D7865">要选择EMPLOYEES表的所有列：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如果存在具有选项卡<span class="wintitle">hr_conn</span>的窗格，请选择它。否则，单击图标<span class="uicontrol bold">SQL Worksheet</span> ，如<span class="q">“ <a href="connecting-exploring-database.html#GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651" title="本节介绍如何使用Worksheet在SQL Developer中运行查询。">在SQL Developer中运行查询</a> ”中所示</span> 。</span></li>
                        <li class="stepexpand"><span>在<span class="wintitle">工作表中</span> ，输入以下查询：</span><div><kbd class="userinput">SELECT * FROM EMPLOYEES;</kbd></div>
                        </li>
                        <li class="stepexpand"><span>单击图标<span class="uicontrol bold">Run Statement</span> 。</span><div>
                              <p>查询运行。在“ <span class="wintitle">工作表”下</span> ，将显示“ <span class="wintitle">查询结果”</span>窗格，其中显示了EMPLOYEES表的所有列。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A__GUID-7B802AA0-7EEF-4B21-B5D1-166C9C0D82E3">
                           <p class="notep1">警告：</p>
                           <p>在包含存储敏感数据的列（例如密码或信用卡信息）的表上使用<span class="keyword">SELECT *</span>时要非常小心。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A1D0A59B-3DD6-4678-A6ED-7DDAD1B6BC6A__GUID-5CBBC3C7-94CD-40B6-8948-2EF0E3111339">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-D1FFB912-EDC5-4DE0-BABC-902207A2F04C" title="本教程介绍如何使用SQL Developer查看HR模式中EMPLOYEES表的属性和数据。">教程：使用SQL Developer查看EMPLOYEES表属性和数据</a> ”</span> ，了解有关使用SQL Developer查看表数据的另一种方法的信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG129"></a><a id="TDDDG99962"></a><div class="props_rev_3"><a id="GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E" name="GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E"></a><h4 id="TDDDG-GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E" class="sect4"><span class="enumeration_section">2.6.4</span>教程：选择表的特定列</h4>
                  <div>
                     <p>本教程介绍如何仅选择EMPLOYEES表的FIRST_NAME，LAST_NAME和DEPARTMENT_ID列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E__GUID-ADE09954-5237-4F00-BF0F-C6D59C2DECAD">要仅选择FIRST_NAME，LAST_NAME和DEPARTMENT_ID：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如果存在具有选项卡<span class="wintitle">hr_conn</span>的窗格，请选择它。否则，单击图标<span class="wintitle">SQL Worksheet</span> ，如<span class="q">“ <a href="connecting-exploring-database.html#GUID-B16A89C8-5FFA-4254-96CB-0BCE9CF39651" title="本节介绍如何使用Worksheet在SQL Developer中运行查询。">在SQL Developer中运行查询</a> ”中所示</span> 。</span></li>
                        <li class="stepexpand"><span>如果“ <span class="wintitle">工作表”</span>窗格包含查询，请单击“ <span class="uicontrol bold">清除</span> ”图标<span class="uicontrol bold">清除</span>查询。</span></li>
                        <li class="stepexpand"><span>在<span class="wintitle">工作表中</span> ，输入以下查询：</span><div><kbd class="userinput">选择FIRST_NAME，LAST_NAME，DEPARTMENT_ID来自员工;</kbd></div>
                        </li>
                        <li class="stepexpand"><span>单击图标<span class="uicontrol bold">Run Statement</span> 。</span><div>
                              <p>查询运行。在<span class="wintitle">工作表下</span> ，将出现“ <span class="wintitle">查询结果”</span>窗格，显示<span class="wintitle">查询结果</span> ，类似于：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME DEPARTMENT_ID -------------------- -------------------------  - ----------- Donald OConnell 50 Douglas Grant 50 Jennifer Whalen 10 Michael Hartstein 20 Pat Fay 20 Susan Mavris 40 Hermann Baer 70 Shelley Higgins 110 William Gietz 110 Steven King 90 Neena Kochhar 90 FIRST_NAME LAST_NAME DEPARTMENT_ID --- ----------------- ------------------------- -------- ----- Lex De Haan 90 ...凯文菲尼50选107行。</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG130"></a><a id="TDDDG131"></a><a id="TDDDG22100"></a><div class="props_rev_3"><a id="GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487" name="GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487"></a><h4 id="TDDDG-GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487" class="sect4"><span class="enumeration_section">2.6.5</span>在新标题下显示所选列</h4>
                  <div>
                     <p>在显示的查询结果中，默认列标题是列名称。要在新标题下显示列，请在列名称后面立即指定新标题（ <strong class="term">别名</strong> ）。别名在查询期间重命名列，但不会在数据库中更改其名称。
                     </p>
                     <div class="section">
                        <p><a href="connecting-exploring-database.html#GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487__CEGJADAB">例2-5中</a>的查询选择与<span class="q">“ <a href="connecting-exploring-database.html#GUID-62692CDF-8E8B-4B91-A577-CE3D484A718E" title="本教程介绍如何仅选择EMPLOYEES表的FIRST_NAME，LAST_NAME和DEPARTMENT_ID列。">教程：选择表的特定列</a> ”中</span>的查询相同的列，但它也为它们指定了别名。由于别名未用双引号括起来，因此它们以大写字母显示。
                        </p>
                        <p>如果将列别名括在双引号中，则保留大小写，并且别名可以包含空格，如<a href="connecting-exploring-database.html#GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487__CEGBBEGD">示例2-6所示</a> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487__GUID-14A7F4ED-25D5-4CD8-8AB0-D84DC96C5649">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<span class="keyword">SELECT</span>语句的更多信息，包括列别名（ <span class="synph">c_alias</span> ），请<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487__CEGJADAB">
                        <p class="titleinexample">示例2-5在新标题下显示所选列</p><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME <span class="bold">首先</span> ，LAST_NAME <span class="bold">持续</span> ，DEPARTMENT_ID从员工<span class="bold">部署</span> ;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">第一个最后的部门-------------------- -------------------------  - -------- Donald OConnell 50 Douglas Grant 50 Jennifer Whalen 10 Michael Hartstein 20 Pat Fay 20 Susan Mavris 40 Hermann Baer 70 Shelley Higgins 110 William Gietz 110 Steven King 90 Neena Kochhar 90第一个最后的部门------ -------------- ------------------------- ---------- Lex德哈恩90 ...凯文菲尼50选107行。</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-68201783-B6A2-4860-B0D0-25D8ADCDA487__CEGBBEGD">
                        <p class="titleinexample">例2-6保留案例并在列别名中包含空格</p><pre class="oac_no_warn" dir="ltr">选择FIRST_NAME <span class="bold">“给予姓名”</span> ，LAST_NAME <span class="bold">“家庭姓名”</span>来自员工;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">给姓名姓氏-------------------- -------------------------唐纳德OConnell Douglas Grant Jennifer Whalen Michael Hartstein Pat Fay Susan Mavris Hermann Baer Shelley Higgins William Gietz Steven King Neena Kochhar姓名姓名-------------------- ----- -------------------- Lex De Haan ......凯文菲尼107排选中。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG132"></a><a id="TDDDG134"></a><a id="TDDDG136"></a><a id="TDDDG22200"></a><div class="props_rev_3"><a id="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF" name="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF"></a><h4 id="TDDDG-GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF" class="sect4"><span class="enumeration_section">2.6.6</span>选择满足特定条件的数据</h4>
                  <div>
                     <p>要仅选择与指定条件匹配的数据，请在<span class="keyword">SELECT</span>语句中包含<span class="keyword">WHERE</span>子句。
                     </p>
                     <div class="section">
                        <p><span class="keyword">WHERE</span>子句中的条件可以是任何SQL条件（有关SQL条件的信息，请参阅<a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> ）。
                        </p>
                        <p><a href="connecting-exploring-database.html#GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGGJDHI">例2-7中</a>的查询仅为部门90中的员工选择数据。
                        </p>
                        <p>要仅为部门100,110和120中的员工选择数据，请使用此<span class="keyword">WHERE</span>子句：</p><pre class="oac_no_warn" dir="ltr">在哪里DEPARTMENT_ID IN（100,110,120）;</pre><p><a href="connecting-exploring-database.html#GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGBCCIE">例2-8中</a>的查询仅为姓氏以“Ma”开头的员工选择数据。
                        </p>
                        <p>要仅为姓氏包含“ma”的员工选择数据，请使用此<span class="keyword">WHERE</span>子句：</p><pre class="oac_no_warn" dir="ltr">在哪里LAST_NAME喜欢'％ma％';</pre><p><a href="connecting-exploring-database.html#GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGGGHGF">例2-9中</a>的查询测试两个条件 - 工资是否至少为11000，以及佣金百分比是否为空。
                        </p>
                        <div class="infoboxnotealso" id="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__GUID-4206202F-3487-43C0-98AA-28BD99321099">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<span class="keyword">SELECT</span>语句的更多信息，包括<span class="keyword">WHERE</span>子句，请<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关SQL条件的详细信息，请<a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGGJDHI">
                        <p class="titleinexample">示例2-7从一个部门选择数据</p><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME，LAST_NAME，DEPARTMENT_ID来自员工<span class="bold">DEPARTMENT_ID = 90</span> ;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME DEPARTMENT_ID -------------------- -------------------------  - ----------- Steven King 90 Neena Kochhar 90 Lex De Haan 90</pre><pre class="oac_no_warn" dir="ltr">选择了3行。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGBCCIE">
                        <p class="titleinexample">示例2-8选择以相同子字符串开头的姓氏的数据</p><pre class="oac_no_warn" dir="ltr">选择FIRST_NAME，LAST_NAME来自员工<span class="bold">LAST_NAME喜欢'Ma％'</span> ;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME -------------------- ------------------------- Jason Mallin Steven Markle James Marlow Mattea Marvins Randall Matos Susan Mavris 6排选中。</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-374D905A-3DE0-46F3-8525-A647E65DE8DF__CEGGGHGF">
                        <p class="titleinexample">例2-9选择满足两个条件的数据</p><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME，LAST_NAME，SALARY，COMMISSION_PCT“％”来自员工<span class="bold">（SALARY&gt; = 11000）和（COMMISSION_PCT不为空）</span> ;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME SALARY％-------------------- -------------------------  - ---------- ---------- John Russell 14000 .4 Karen Partners 13500 .3 Alberto Errazuriz 12000 .3 Gerald Cambrault 11000 .3 Lisa Ozer 11500 .25 Ellen Abel 11000 .3 6选中的行。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG143"></a><a id="TDDDG144"></a><a id="TDDDG22400"></a><div class="props_rev_3"><a id="GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1" name="GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1"></a><h4 id="TDDDG-GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1" class="sect4"><span class="enumeration_section">2.6.7</span>对所选数据进行排序</h4>
                  <div>
                     <p>显示查询结果时，记录可以按任何顺序排列，除非您使用<span class="keyword">ORDER</span> <span class="keyword">BY</span>子句指定其顺序。
                     </p>
                     <div class="section">
                        <p><a href="connecting-exploring-database.html#GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1__CEGCEDFB">示例2-10</a>中的查询结果按<code class="codeph">LAST_NAME</code>按升序排序（默认值）。
                        </p>
                        <p>或者，在SQL Developer中，可以省略<span class="keyword">ORDER</span> <span class="keyword">BY</span>子句并双击要排序的列的名称。
                        </p>
                        <p>排序标准不必包含在选择列表中，如<a href="connecting-exploring-database.html#GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1__CEGEGADJ">例2-11</a>所示。
                        </p>
                        <div class="infoboxnotealso" id="GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1__GUID-FCEECF42-CE1F-43F2-971F-BF3C9B442FCD">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<span class="keyword">SELECT</span>语句的更多信息，包括<span class="keyword">ORDER</span> <span class="keyword">BY</span>子句，请<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1__CEGCEDFB">
                        <p class="titleinexample">示例2-10按LAST_NAME对所选数据进行排序</p><pre class="oac_no_warn" dir="ltr">选择FIRST_NAME，LAST_NAME，HIRE_DATE来自<span class="bold">LAST_NAME的</span>员工<span class="bold">订购</span> ;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME HIRE_DATE -------------------- -------------------------  - ------- Ellen Abel 11-MAY-04 Sundar Ande 24-MAR-08 Mozhe Atkinson 30-OCT-05 David Austin 25-JUN-05 Hermann Baer 07-JUN-02 Shelli Baida 24-DEC-05 Amit Banda 21-APR-08 Elizabeth Bates 24-MAR-07 ...FIRST_NAME LAST_NAME HIRE_DATE -------------------- -------------------------  - ------- Jose Manuel Urman 07-MAR-06 Peter Vargas 09-JUL-06 Clara Vishney 11-NOV-05 Shanta Vollman 10-OCT-05 Alana Walsh 24-APR-06 Matthew Weiss 18-JUL-04 Jennifer Whalen 17-SEP-03 Eleni Zlotkey 29-JAN-08 107行选中</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-584DB914-BB6D-46CF-B7D6-3EB3E94723F1__CEGEGADJ">
                        <p class="titleinexample">示例2-11按未选择的列对选定数据进行排序</p><pre class="oac_no_warn" dir="ltr"><span class="bold">选择FIRST_NAME，HIRE_DATE</span>来自<span class="bold">LAST_NAME的</span>员工<span class="bold">订购</span> ;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME HIRE_DATE -------------------- --------- Ellen 11-MAY-04 Sundar 24-MAR-08 Mozhe 30-OCT-05 David 25-JUN-05 Hermann 07-JUN-02 Shelli 24-DEC-05 Amit 21-APR-08 Elizabeth 12-MAR-07 ...FIRST_NAME HIRE_DATE -------------------- --------- Jose Manuel 07-MAR-06 Peter 09-JUL-06 Clara 11-NOV-05 Shanta 10-OCT-05 Alana 24-APR-06 Matthew 18-JUL-04 Jennifer 17-SEP-03 Eleni 29-JAN-08 107行选择。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG145"></a><a id="TDDDG99961"></a><div class="props_rev_3"><a id="GUID-5EC90E59-F2CF-42D0-AF74-943062278E23" name="GUID-5EC90E59-F2CF-42D0-AF74-943062278E23"></a><h4 id="TDDDG-GUID-5EC90E59-F2CF-42D0-AF74-943062278E23" class="sect4"><span class="enumeration_section">2.6.8</span>从多个表中选择数据</h4>
                  <div>
                     <p>要从多个表中选择数据，请使用称为<strong class="term">连接</strong>的查询。联接中的表必须至少共享一个列名。
                     </p>
                     <div class="section">
                        <p>假设您要选择每位员工的FIRST_NAME，LAST_NAME和DEPARTMENT_NAME。FIRST_NAME和LAST_NAME位于EMPLOYEES表格中，DEPARTMENT_NAME位于DEPARTMENTS表格中。两个表都有DEPARTMENT_ID。您可以使用<a href="connecting-exploring-database.html#GUID-5EC90E59-F2CF-42D0-AF74-943062278E23__CEGBJFFJ">示例2-12中</a>的查询。
                        </p>
                        <p>对于仅出现在连接的一个表中的列名，表名限定符是可选的，但对于出现在两个表中的列名称都是必需的。以下查询等效于<a href="connecting-exploring-database.html#GUID-5EC90E59-F2CF-42D0-AF74-943062278E23__CEGBJFFJ">示例2-12中</a>的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="bold">FIRST_NAME</span> “First”， <span class="bold">LAST_NAME</span> “Last”， <span class="bold">DEPARTMENT_NAME</span> “部门名称”来自员工，员工部门<span class="bold">.DEPARTMENT_ID = DEPARTMENTS.DEPARTMENT_ID</span>由DEPARTMENT_NAME，LAST_NAME订购;</pre><p>要使使用限定列名的查询更具可读性，请使用表别名，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME“First”，LAST_NAME“Last”，DEPARTMENT_NAME“部门名称”来自<span class="bold">员工e</span> ， <span class="bold">部门d在</span>哪里<span class="bold">。DEPARTMENT_ID</span> = <span>d。DEPARTMENT_ID</span>订购d。DEPARTMENT_NAME，e。姓;</pre><p>虽然您在<span class="keyword">FROM</span>子句中创建了别名，但您可以在查询中使用它们，如下例所示：</p><pre class="oac_no_warn" dir="ltr">选择<span class="bold">e。FIRST_NAME</span> “First”， <span class="bold">e。LAST_NAME</span> “最后”， <span class="bold">d。DEPARTMENT_NAME</span> “部门名称”来自员工e，部门d在哪里。DEPARTMENT_ID = d。DEPARTMENT_ID订购d。DEPARTMENT_NAME，e。姓;</pre><div class="infoboxnotealso" id="GUID-5EC90E59-F2CF-42D0-AF74-943062278E23__GUID-6ED9BC7E-FE7D-4476-AC6E-8DC13D679FCE">
                           <p class="notep1">也可以看看：</p>
                           <p>有关联接的详细信息，请<a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5EC90E59-F2CF-42D0-AF74-943062278E23__CEGBJFFJ">
                        <p class="titleinexample">例2-12从两个表中选择数据（连接两个表）</p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEES.FIRST_NAME“First”，EMPLOYEES.LAST_NAME“Last”，DEPARTMENTS.DEPARTMENT_NAME“部门名称”来自员工，员工部门<span class="bold">.DEPARTMENT_ID = DEPARTMENTS.DEPARTMENT_ID</span>订单由DEPARTMENTS.DEPARTMENT_NAME，EMPLOYEES.LAST_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">First Last Dept. Name -------------------- ------------------------- ------------------------------ William Gietz会计Shelley Higgins会计Jennifer Whalen管理部门Lex De Haan执行官Steven King执行官Neena Kochhar执行John陈财...Jose Manuel Urman财务Susan Mavris人力资源David Austin IT ...Valli Pataballa IT Pat Fay营销Michael Hartstein营销Hermann Baer公共关系Shelli Baida采购......Sigal Tobias收购Ellen Abel销售...Eleni Zlotkey销售Mozhe Atkinson航运......Matthew Weiss出货106行。
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG22500"></a><div class="props_rev_4"><a id="GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" name="GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085"></a><h4 id="TDDDG-GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" class="sect4"><span class="enumeration_section">2.6.9</span>在查询中使用运算符和函数</h4>
                  <div>
                     <p>查询的<span class="synph">select_list</span>可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD">在查询中使用算术运算符</a><br>基本算术运算符 -  +（加法）， - （减法），*（乘法）和/（除法） - 对列值进行操作。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-3DED1F6D-719B-41AB-9682-C43E95410E13">在查询中使用数字函数</a><br>数字函数接受数字输入并返回数值。每个数字函数为每个计算的行返回一个值。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9">在查询中使用连接运算符</a><br>连接运算符（ <code class="codeph">||</code> ）将两个字符串组合成一个字符串，方法是将第二个字符串附加到第一个字符串。例如， <code class="codeph">'a'||'b'='ab'</code> 。您可以使用此运算符组合查询结果的同一列中的两列或表达式的信息。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533">在查询中使用字符函数</a><br>字符函数接受字符输入。大多数返回字符值，但有些返回数值。每个字符函数为每个计算的行返回一个值。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-3243357D-48EC-4275-B770-20DA1E5469FD">在查询中使用日期时间函数</a><br>日期时间功能在<span class="keyword">日期</span> ，时间戳和间隔值上运行。每个datetime函数为每个计算的行返回一个值。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-9E724355-6B45-46DC-A15B-59EBAC38E701">在查询中使用转换函数</a><br>转换函数将一种数据类型转换为另一种。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B">在查询中使用聚合函数</a><br>聚合函数采用一组行并返回单个结果行。行组可以是整个表或视图。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-703425FD-82B2-400F-AA87-C48604CE89FF">在查询中使用NULL相关函数</a><br>与<span class="keyword">NULL</span>相关的函数有助于处理<span class="keyword">NULL</span>值。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F">在查询中使用CASE表达式</a><br><span class="keyword">CASE</span>表达式允许您使用<span class="keyword">IF</span> ...<span class="keyword">那</span> ......SQL语句中的<span class="keyword">ELSE</span>逻辑，无需调用子程序。有两种<span class="keyword">CASE</span>表达式，简单和搜索。
                        </li>
                        <li class="ulchildlink"><a href="connecting-exploring-database.html#GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1">在查询中使用DECODE函数</a><br><span class="keyword">DECODE</span>函数将表达式与多个搜索值进行比较。只要表达式的值与搜索值匹配， <span class="keyword">DECODE就会</span>返回与该搜索值关联的结果。如果<span class="keyword">DECODE</span>找不到匹配项，则返回默认值（如果指定）或<span class="keyword">NULL</span> （如果未指定默认值）。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085__GUID-27B54F2E-A4C9-404E-99BA-36DBFF0BD113">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关SQL运算符的更多信息，请<a href="../sqlrf/Operators.html#SQLRF003" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关SQL函数的详细信息，请<a href="../sqlrf/Functions.html#SQLRF006" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-ECC91F84-8E75-42B9-B733-5CBE4D5717FD">选择表数据</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG138"></a><a id="TDDDG22510"></a><div class="props_rev_3"><a id="GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD" name="GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD"></a><h5 id="TDDDG-GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD" class="sect5"><span class="enumeration_section">2.6.9.1</span>在查询中使用算术运算符</h5>
                     <div>
                        <p>基本算术运算符 -  +（加法）， - （减法），*（乘法）和/（除法） - 对列值进行操作。</p>
                        <div class="section">
                           <p><a href="connecting-exploring-database.html#GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD__CEGJDCII">示例2-13中</a>的查询按照SALARY的降序显示部门90中每个员工的LAST_NAME，SALARY（月工资）和年薪。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-75E0CFD9-3B69-45C4-A3D4-B4ED7FBA61AD__CEGJDCII">
                           <p class="titleinexample">例2-13在查询中使用算术表达式</p><pre class="oac_no_warn" dir="ltr">选择LAST_NAME，SALARY“每月工资”， <span class="bold">SALARY * 12</span> “年度工资”来自员工，其中DEPARTMENT_ID = 90，按SALARY DESC订购;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME每月支付年薪------------------------- ----------- --------- -  King 24000 288000 De Haan 17000 204000 Kochhar 17000 204000</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG139"></a><a id="TDDDG140"></a><a id="TDDDG22520"></a><div class="props_rev_3"><a id="GUID-3DED1F6D-719B-41AB-9682-C43E95410E13" name="GUID-3DED1F6D-719B-41AB-9682-C43E95410E13"></a><h5 id="TDDDG-GUID-3DED1F6D-719B-41AB-9682-C43E95410E13" class="sect5"><span class="enumeration_section">2.6.9.2</span>在查询中使用数字函数</h5>
                     <div>
                        <p>数字函数接受数字输入并返回数值。每个数字函数为每个计算的行返回一个值。</p>
                        <div class="section">
                           <p>SQL <a href="../sqlrf/Single-Row-Functions.html#SQLRF20031" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的数字函数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-3DED1F6D-719B-41AB-9682-C43E95410E13__CEGIACAA">例2-14中</a>的查询使用数字函数<code class="codeph">ROUND</code>显示部门100中每个员工的每日工资，四舍五入到最接近的分数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-3DED1F6D-719B-41AB-9682-C43E95410E13__CEGDGGAB">例2-15中</a>的查询使用数字函数<code class="codeph">TRUNC</code>显示部门100中每个员工的每日工资，截断为最接近的美元。
                           </p>
                           <div class="infoboxnotealso" id="GUID-3DED1F6D-719B-41AB-9682-C43E95410E13__GUID-8523AA8C-7D11-42C8-BD77-35760B7AF460">
                              <p class="notep1">也可以看看：</p>
                              <p>有关SQL数字函数的详细信息，请<a href="../sqlrf/Single-Row-Functions.html#SQLRF20031" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3DED1F6D-719B-41AB-9682-C43E95410E13__CEGIACAA">
                           <p class="titleinexample">例2-14舍入数字数据</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME， <span class="bold">ROUND（（（SALARY * 12）/ 365），2）</span>来自员工的“每日付款”DEPARTMENT_ID = 100订购LAST_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME每日支付------------------------- ----------陈269.59 Faviet 295.89 Greenberg 394.52 Popp 226.85 Sciarra 253.15 Urman 256.44选择了6行。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3DED1F6D-719B-41AB-9682-C43E95410E13__CEGDGGAB">
                           <p class="titleinexample">示例2-15截断数字数据</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME， <span class="bold">TRUNC（（SALARY * 12）/ 365）</span> “每日付款”来自员工，其中DEPARTMENT_ID = 100订购LAST_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME每日支付------------------------- ----------陈269 Faviet 295 Greenberg 394 Popp 226 Sciarra 253 Urman 256选择了6行。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG141"></a><a id="TDDDG99995"></a><div class="props_rev_3"><a id="GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9" name="GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9"></a><h5 id="TDDDG-GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9" class="sect5"><span class="enumeration_section">2.6.9.3</span>在查询中使用连接运算符</h5>
                     <div>
                        <p>连接运算符（ <code class="codeph">||</code> ）将两个字符串组合成一个字符串，方法是将第二个字符串附加到第一个字符串。例如， <code class="codeph">'a'||'b'='ab'</code> 。您可以使用此运算符组合查询结果的同一列中的两列或表达式的信息。
                        </p>
                        <div class="section">
                           <p><a href="connecting-exploring-database.html#GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9__CEGIHCBE">例2-16中</a>的查询连接了每个所选员工的名字，空格和姓氏。
                           </p>
                           <div class="infoboxnotealso" id="GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9__GUID-FC6DDFA6-44FE-4091-A456-835EECD88ECD">
                              <p class="notep1">也可以看看：</p>
                              <p>有关连接运算符的详细信息，请<a href="../sqlrf/Concatenation-Operator.html#SQLRF51158" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-552A3DC5-AFB3-48F1-BED9-90D3650A5CE9__CEGIHCBE">
                           <p class="titleinexample">例2-16连接字符数据</p><pre class="oac_no_warn" dir="ltr">选择<span class="bold">FIRST_NAME || ''|| LAST_NAME</span> “姓名”来自员工，其中DEPARTMENT_ID = 100，由LAST_NAME订购;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">姓名----------------------------------------------约翰陈丹尼尔Faviet Nancy Greenberg Luis Popp Ismael Sciarra Jose Manuel Urman选择6排。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG150"></a><a id="TDDDG22530"></a><div class="props_rev_3"><a id="GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533" name="GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533"></a><h5 id="TDDDG-GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533" class="sect5"><span class="enumeration_section">2.6.9.4</span>在查询中使用字符函数</h5>
                     <div>
                        <p>字符函数接受字符输入。大多数返回字符值，但有些返回数值。每个字符函数为每个计算的行返回一个值。</p>
                        <div class="section">
                           <p>SQL <a href="../sqlrf/Single-Row-Functions.html#SQLRF20032" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的字符函数。
                           </p>
                           <p>函数<span class="keyword">UPPER</span> ， <span class="keyword">INITCAP</span>和<span class="keyword">LOWER</span>分别以大写，初始大写和小写显示它们的字符参数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533__CEGGAAFJ">示例2-17中</a>的查询以大写形式显示LAST_NAME，FIRST_NAME的第一个字符为大写，所有其他字符为小写，EMAIL为小写。
                           </p>
                           <div class="infoboxnotealso" id="GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533__GUID-6036790E-B2A7-4144-958F-407AE7B937AA">
                              <p class="notep1">也可以看看：</p>
                              <p>有关SQL字符函数的详细信息，请<a href="../sqlrf/Single-Row-Functions.html#SQLRF20032" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-1A5EC7DB-7501-4CC8-B550-516798B1F533__CEGGAAFJ">
                           <p class="titleinexample">例2-17更改字符数据的大小写</p><pre class="oac_no_warn" dir="ltr">选择<span class="bold">UPPER（LAST_NAME）</span> “最后”， <span class="bold">INITCAP（FIRST_NAME）</span> “第一个”， <span class="bold">下限（电子邮件）</span> “电子邮件”来自员工DEPARTMENT_ID = 100订购电子邮件;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">最后一封电子邮件------------------------- -------------------- ------------------------- FAVIET Daniel dfaviet SCIARRA Ismael isciar陈陈约翰jchen URMAN Jose Manuel jmurman POPP Luis lpopp GREENBERG Nancy ngreenbe 6行入选。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG156"></a><a id="TDDDG159"></a><a id="TDDDG22540"></a><div class="props_rev_3"><a id="GUID-3243357D-48EC-4275-B770-20DA1E5469FD" name="GUID-3243357D-48EC-4275-B770-20DA1E5469FD"></a><h5 id="TDDDG-GUID-3243357D-48EC-4275-B770-20DA1E5469FD" class="sect5"><span class="enumeration_section">2.6.9.5</span>在查询中使用日期时间函数</h5>
                     <div>
                        <p>日期时间功能在<span class="keyword">日期</span> ，时间戳和间隔值上运行。每个datetime函数为每个计算的行返回一个值。
                        </p>
                        <div class="section">
                           <p>SQL <a href="../sqlrf/Single-Row-Functions.html#SQLRF20033" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的日期时间函数。
                           </p>
                           <p>对于每个<span class="keyword">DATE</span>和时间戳值，Oracle数据库存储以下信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>年</p>
                              </li>
                              <li>
                                 <p>月</p>
                              </li>
                              <li>
                                 <p>日期</p>
                              </li>
                              <li>
                                 <p>小时</p>
                              </li>
                              <li>
                                 <p>分钟</p>
                              </li>
                              <li>
                                 <p>第二</p>
                                 <p>对于每个时间戳值，Oracle数据库还存储第二个小数部分，您可以指定其精度。要同时存储时区，请使用数据类型<span class="keyword">TIMESTAMP</span> <span class="keyword">WITH</span> <span class="keyword">TIME</span> <span class="keyword">ZONE</span>或<span class="keyword">TIMESTAMP</span> <span class="keyword">WITH</span> <span class="keyword">LOCAL</span> <span class="keyword">TIME</span> <span class="keyword">ZONE</span> 。</p>
                              </li>
                           </ul>
                           <p>有关<span class="keyword">DATE</span>数据类型的更多信息，请参见<a href="../sqlrf/Data-Types.html#SQLRF00202" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p>有关<span class="keyword">TIMESTAMP</span>数据类型的更多信息，请参见<a href="../sqlrf/Data-Types.html#SQLRF00203" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p>有关其他时间戳数据类型和间隔数据类型的信息，请参阅<a href="../sqlrf/Data-Types.html#SQLRF00200" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-3243357D-48EC-4275-B770-20DA1E5469FD__CEGBCDFJ">示例2-18中</a>的查询使用<span class="keyword">EXTRACT</span>和<span class="keyword">SYSDATE</span>函数来显示部门100中每位员工的工作年限。<span class="keyword">SYSDATE</span>函数将系统时钟的当前日期作为<span class="keyword">DATE</span>值返回。有关<span class="keyword">SYSDATE</span>函数的更多信息，请参见<a href="../sqlrf/SYSDATE.html#SQLRF06124" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。有关<span class="keyword">EXTRACT</span>函数的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF00639" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-3243357D-48EC-4275-B770-20DA1E5469FD__CEGEHDBB">例2-19中</a>的查询使用<span class="keyword">SYSTIMESTAMP</span>函数显示当前系统日期和时间。<span class="keyword">SYSTIMESTAMP</span>函数返回<span class="keyword">TIMESTAMP</span>值。有关<span class="keyword">SYSTIMESTAMP</span>函数的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF06125" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p>查询的<span class="keyword">FROM</span>子句中的表<span class="keyword">DUAL</span>是Oracle数据库与数据字典一起自动创建的单行表。如果要使用<span class="keyword">SELECT</span>语句计算常量表达式，请从<span class="keyword">DUAL中</span> <span class="keyword">选择</span> 。因为<span class="keyword">DUAL</span>只有一行，所以常量只返回一次。有关从<span class="keyword">DUAL中</span>选择的更多信息，请参阅<a href="../sqlrf/Selecting-from-the-DUAL-Table.html#SQLRF20036" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-3243357D-48EC-4275-B770-20DA1E5469FD__GUID-CF045C60-78DA-4155-B2B5-B7A4D2838ACC">
                              <p class="notep1">也可以看看：</p>
                              <p>有关SQL datetime函数的详细信息，请<a href="../sqlrf/Single-Row-Functions.html#SQLRF20033" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3243357D-48EC-4275-B770-20DA1E5469FD__CEGBCDFJ">
                           <p class="titleinexample">示例2-18显示日期之间的年数</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME， <span class="bold">（提取（从SYSDATE开始） - 提取（从HIRE_DATE开始））</span> “雇用年限”来自员工，其中DEPARTMENT_ID = 100，按“雇用年限” <span class="bold">排序</span> ;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME受雇年限------------------------- -------------- Popp 5 Urman 6 Chen 7 Sciarra 7 Greenberg 10 Faviet 10 6行被选中。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3243357D-48EC-4275-B770-20DA1E5469FD__CEGEHDBB">
                           <p class="titleinexample">例2-19显示系统日期和时间</p><pre class="oac_no_warn" dir="ltr">SELECT EXTRACT（来自SYSTIMESTAMP的时间）|| '：'||提取物（从SYSTIMESTAMP开始）|| '：'|| ROUND（EXTRACT（第二次来自SYSTIMESTAMP），0）|| '，'||提取物（来自SYSTIMESTAMP的月份）|| '/'||提取物（来自SYSTIMESTAMP的日子）|| '/'||提取（来自SYSTIMESTAMP的年份）“系统时间和日期”来自DUAL;</pre><p>结果取决于当前的<span class="keyword">SYSTIMESTAMP</span>值，但具有以下格式：</p><pre class="oac_no_warn" dir="ltr">系统时间和日期---------------------------------------------- --------------------- 18：17：53,12 / 27/2012</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG160"></a><a id="TDDDG163"></a><a id="TDDDG22550"></a><div class="props_rev_3"><a id="GUID-9E724355-6B45-46DC-A15B-59EBAC38E701" name="GUID-9E724355-6B45-46DC-A15B-59EBAC38E701"></a><h5 id="TDDDG-GUID-9E724355-6B45-46DC-A15B-59EBAC38E701" class="sect5"><span class="enumeration_section">2.6.9.6</span>在查询中使用转换函数</h5>
                     <div>
                        <p>转换函数将一种数据类型转换为另一种。</p>
                        <div class="section">
                           <p>SQL <a href="../sqlrf/Single-Row-Functions.html#SQLRF20034" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的转换函数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-9E724355-6B45-46DC-A15B-59EBAC38E701__CEGCBBCI">例2-20中</a>的查询使用<span class="keyword">TO_CHAR</span>函数将HIRE_DATE值（类型为<span class="keyword">DATE</span> ）转换为格式为<code class="codeph">FMMonth DD YYYY</code>字符值。<code class="codeph">FM</code>从月份名称中删除前导和尾随空白。<code class="codeph">FMMonth DD YYYY</code>是<strong class="term">日期时间格式模型</strong>的示例。有关日期时间格式模型的信息，请参阅<a href="../sqlrf/Format-Models.html#SQLRF00212" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-9E724355-6B45-46DC-A15B-59EBAC38E701__CEGIJDDJ">例2-21中</a>的查询使用<span class="keyword">TO_NUMBER</span>函数将POSTAL_CODE值（类型为<span class="keyword">VARCHAR2</span> ）转换为<span class="keyword">NUMBER</span>类型的值，并将其用于计算。
                           </p>
                           <div class="infoboxnotealso" id="GUID-9E724355-6B45-46DC-A15B-59EBAC38E701__GUID-6725511B-B643-46A5-9639-105E3233BD8C">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关SQL转换函数的详细信息，请<a href="../sqlrf/Single-Row-Functions.html#SQLRF20034" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="working-in-global-environment.html#GUID-79B81BEE-38A2-4AC9-95AA-652F0A852C45" title="此参数指定与TO_CHAR和TO_DATE函数一起使用的默认日期格式。">关于NLS_DATE_FORMAT参数</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-9E724355-6B45-46DC-A15B-59EBAC38E701__CEGCBBCI">
                           <p class="titleinexample">示例2-20使用格式模板将日期转换为字符</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME，HIRE_DATE， <span class="bold">TO_CHAR（HIRE_DATE，'FMMonth DD YYYY'）</span> “日期已开始”来自员工，其中DEPARTMENT_ID = 100订购LAST_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME HIRE_DATE开始日期------------------------- --------- ------------ -----陈28-SEP-05 2005年9月28日Faviet 16-AUG-02 2002年8月16日Greenberg 17-AUG-02 2002年8月17日Popp 07-DEC-07 2007年12月7日Sciarra 30-SEP-05 2005年9月30日Urman 07-MAR-06 2006年3月7日选择了6行。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-9E724355-6B45-46DC-A15B-59EBAC38E701__CEGIJDDJ">
                           <p class="titleinexample">示例2-21将字符转换为数字</p><pre class="oac_no_warn" dir="ltr">SELECT CITY，POSTAL_CODE“旧代码”， <span class="bold">TO_NUMBER（POSTAL_CODE）+ 1</span> “新代码”FROM LOCATIONS COUNERE_ID ='US'ORDER BY POSTAL_CODE;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">CITY旧代码新代码------------------------------ ------------ --- ------- Southlake 26192 26193 South Brunswick 50090 50091 Seattle 98199 98200 South San Francisco 99236 99237 4行选择。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG166"></a><a id="TDDDG169"></a><a id="TDDDG168"></a><a id="TDDDG22560"></a><div class="props_rev_3"><a id="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B" name="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B"></a><h5 id="TDDDG-GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B" class="sect5"><span class="enumeration_section">2.6.9.7</span>在查询中使用聚合函数</h5>
                     <div>
                        <p>聚合函数采用一组行并返回单个结果行。行组可以是整个表或视图。</p>
                        <div class="section">
                           <p>SQL <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF20035" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的聚合函数。
                           </p>
                           <p>当与<span class="keyword">GROUP</span> <span class="keyword">BY</span>子句一起使用时，聚合函数特别强大，该子句将查询结果按一个或多个列分组，每个组的结果。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGGIDDF">例2-22中</a>的查询使用<span class="keyword">COUNT</span>函数和<span class="keyword">GROUP</span> <span class="keyword">BY</span>子句来显示向每个经理报告的人数。通配符<span class="keyword">*</span>表示整个记录。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGGIDDF">示例2-22</a>显示一名员工未向经理报告。以下查询选择该员工的名字，姓氏和职位：</p><pre class="oac_no_warn" dir="ltr">COLUMN FIRST_NAME FORMAT A10; COLUMN LAST_NAME格式A10; COLUMN JOB_TITLE FORMAT A10;选择e。FIRST_NAME，e。LAST_NAME，j。来自员工的JOB_TITLE e，JOBS j WHERE e。JOB_ID = j。JOB_ID和<span class="bold">MANAGER_ID为NULL</span> ;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME LAST_NAME JOB_TITLE ---------- ---------- ----------史蒂芬金总统</pre><p>要使查询仅返回聚合值满足指定条件的行，请在查询的<span class="keyword">HAVING</span>子句中使用聚合函数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGGAIJC">例2-23</a>中的查询显示了每个部门每年花在工资上的金额，但仅适用于金额超过1,000,000美元的部门。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGFJGCC">例2-24中</a>的查询使用多个聚合函数来显示每个JOB_ID的工资统计信息。</p>
                           <div class="infoboxnotealso" id="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__GUID-B3EF05EA-A4FC-4301-B4A5-461ECBBB2796">
                              <p class="notep1">也可以看看：</p>
                              <p>有关SQL聚合函数的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF20035" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGGIDDF">
                           <p class="titleinexample">示例2-22计算每个组中的行数</p><pre class="oac_no_warn" dir="ltr">SELECT MANAGER_ID“Manager”， <span class="bold">COUNT（*）</span> “来自员工<span class="bold">组</span>的报告数量” <span class="bold">由MANAGER_ID</span> ORDER BY MANAGER_ID;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">经理报告数量---------- ----------------- 100 14 101 5 102 1 103 4 108 5 114 5 120 8 121 8 122 8 123选择8 124 8 145 6 146 6 147 6 148 6 149 6 201 1 205 1 1 19行。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGGAIJC">
                           <p class="titleinexample">示例2-23将聚合函数限制为满足条件的行</p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID“部门”，SUM（SALARY * 12）“所有工资”来自拥有<span class="bold">SUM的</span>员工<span class="bold">（SALARY * 12）&gt; = 1000000</span> GROUP BY DEPARTMENT_ID;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">部门所有薪水---------- ------------ 50 1876800 80 3654000</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-B8DF101D-1613-42F2-ABF5-AE67E00E3C2B__CEGFJGCC">
                           <p class="titleinexample">示例2-24使用统计信息的聚合函数</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_ID， <span class="bold">COUNT（*）</span> “＃”， <span class="bold">MIN（SALARY）</span> “Minimum”， <span class="bold">ROUND（AVG（SALARY），0）</span> “Average”， <span class="bold">MEDIAN（SALARY）</span> “Median”， <span class="bold">MAX（SALARY）</span> “Maximum”， <span class="bold">ROUND（ STDDEV（SALARY））</span>来自员工<span class="bold">集团的</span> “标准开发人员”按<span class="bold">JOB_ID</span> <span class="bold">排序JOB_ID</span> ;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">JOB_ID＃最小平均中位数最大标准发布---------- ---------- ---------- ----------  - -------- ---------- ---------- AC_ACCOUNT 1 8300 8300 8300 8300 0 AC_MGR 1 12008 12008 12008 12008 0 AD_ASST 1 4400 4400 4400 4400 0 AD_PRES 1 24000 24000 24000 24000 0 AD_VP 2 17000 17000 17000 17000 0 FI_ACCOUNT 5 6900 7920 7800 9000 766 FI_MGR 1 12008 12008 12008 12008 0 HR_REP 1 6500 6500 6500 6500 0 IT_PROG 5 4200 5760 4800 9000 1926 MK_MAN 1 13000 13000 13000 13000 0 MK_REP 1 6000 6000 6000 6000 0 PR_REP 1 10000 10000 10000 10000 0 PU_CLERK 5 2500 2780 2800 3100 239 PU_MAN 1 11000 11000 11000 11000 0 SA_MAN 5 10500 12200 12000 14000 1525 SA_REP 30 6100 8350 8200 11500 1524 SH_CLERK 20 2500 3215 3100 4200 548 ST_CLERK 20 2100选择2785 2700 3600 453 ST_MAN 5 5800 7280 7900 8200 1066 19行。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG172"></a><a id="TDDDG173"></a><a id="TDDDG22570"></a><div class="props_rev_3"><a id="GUID-703425FD-82B2-400F-AA87-C48604CE89FF" name="GUID-703425FD-82B2-400F-AA87-C48604CE89FF"></a><h5 id="TDDDG-GUID-703425FD-82B2-400F-AA87-C48604CE89FF" class="sect5"><span class="enumeration_section">2.6.9.8</span>在查询中使用NULL相关函数</h5>
                     <div>
                        <p>与<span class="keyword">NULL</span>相关的函数有助于处理<span class="keyword">NULL</span>值。
                        </p>
                        <div class="section">
                           <p>SQL <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF30049" target="_blank"><span class="italic">数据库SQL语言参考</span></a>中列出并描述了SQL支持的与<span class="keyword">NULL</span>相关的函数。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-703425FD-82B2-400F-AA87-C48604CE89FF__CEGDHHHG">例2-25中</a>的查询返回姓氏以“B”开头的员工的姓氏和佣金。如果员工没有收到任何佣金（即，如果COMMISSION_PCT为<span class="keyword">NULL</span> ），则<span class="keyword">NVL</span>函数将“不适用”替换为<span class="keyword">NULL</span> 。</p>
                           <p><a href="connecting-exploring-database.html#GUID-703425FD-82B2-400F-AA87-C48604CE89FF__CEGCECIA">例2-26中</a>的查询使用<span class="keyword">NVL2</span>函数返回姓氏以“B”开头的员工的姓氏，工资和收入：如果COMMISSION_PCT不为<span class="keyword">NULL</span> ，则收入为工资加佣金;如果COMMISSION_PCT为<span class="keyword">NULL</span> ，收入只是工资。
                           </p>
                           <div class="infoboxnotealso" id="GUID-703425FD-82B2-400F-AA87-C48604CE89FF__GUID-473F496F-431B-4369-B2E8-92C69E2465E2">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<span class="keyword">NVL</span>功能的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF00684" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<span class="keyword">NVL2</span>功能的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF00685" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-703425FD-82B2-400F-AA87-C48604CE89FF__CEGDHHHG">
                           <p class="titleinexample">示例2-25将字符串替换为NULL值</p><pre class="oac_no_warn" dir="ltr">选择LAST_NAME， <span class="bold">NVL（TO_CHAR（COMMISSION_PCT），“不适用”）</span> “LAST_NAME”表示“LAST_NAME”的“B％”订单的“佣金”;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME COMMISSION ------------------------- ----------------------- ----------------- Baer不适用Baida不适用Banda .1 Bates .15 Bell不适用Bernstein .25 Bissot不适用Bloom .2 Bull不适用9行选择。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-703425FD-82B2-400F-AA87-C48604CE89FF__CEGCECIA">
                           <p class="titleinexample">示例2-26为NULL和非NULL值指定不同的表达式</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME，SALARY， <span class="bold">NVL2（COMMISSION_PCT，SALARY +（SALARY * COMMISSION_PCT），SALARY）收入</span>来自LAST_NAME的LAST_NAME喜欢“B％”订单的员工;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME SALARY INCOME ------------------------- ---------- ---------- Baer 10000 10000 Baida 2900 2900 Banda 6200 6820 Bates 7300 8395 Bell 4000 4000 Bernstein 9500 11875 Bissot 3300 3300 Bloom 10000 12000 Bull 4100 4100 9行选择。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG149"></a><a id="TDDDG174"></a><a id="TDDDG22580"></a><div class="props_rev_3"><a id="GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F" name="GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F"></a><h5 id="TDDDG-GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F" class="sect5"><span class="enumeration_section">2.6.9.9</span>在查询中使用CASE表达式</h5>
                     <div>
                        <p><span class="keyword">CASE</span>表达式允许您使用<span class="keyword">IF</span> ...<span class="keyword">那</span> ......SQL语句中的<span class="keyword">ELSE</span>逻辑，无需调用子程序。有两种<span class="keyword">CASE</span>表达式，简单和搜索。
                        </p>
                        <div class="section">
                           <p><a href="connecting-exploring-database.html#GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F__CEGEFFIE">例2-27中</a>的查询使用简单的<span class="keyword">CASE</span>表达式来显示每个国家/地区代码的国家/地区名称。
                           </p>
                           <p><a href="connecting-exploring-database.html#GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F__CEGEBIAF">示例2-28中</a>的查询使用搜索的<span class="keyword">CASE</span>表达式，根据与服务长度相关的日期范围显示建议的工资增长（15％，10％，5％或0％）。
                           </p>
                           <div class="infoboxnotealso" id="GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F__GUID-E753B00E-691D-4B17-9C52-42E09A928CE0">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<span class="keyword">CASE</span>表达式的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF20037" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<span class="keyword">CASE</span>表达式的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS278" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1" title="DECODE函数将表达式与多个搜索值进行比较。只要表达式的值与搜索值匹配，DECODE就会返回与该搜索值关联的结果。如果DECODE找不到匹配项，则返回默认值（如果指定）或NULL（如果未指定默认值）。">在查询中使用DECODE函数</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="stored-subprograms-packages.html#GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2" title="CASE语句从一系列条件中选择，并执行相应的语句。">使用CASE声明</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F__CEGEFFIE">
                           <p class="titleinexample">示例2-27在查询中使用简单CASE表达式</p><pre class="oac_no_warn" dir="ltr">选择独特的COUNTRY_ID ID， <span class="bold">CASE COUNTRY_ID</span> <span class="bold">当'AU'那么'澳大利亚'</span> <span class="bold">当'''那么'巴西'</span> <span class="bold">当'加'然后'加拿大'</span> <span class="bold">当''那么'瑞士'</span> <span class="bold">当'CN'那么'中国'</span> <span class="bold">当'德' '那么'德国'</span> <span class="bold">当''那么'印度'</span> <span class="bold">当'它'那么'意大利'</span> <span class="bold">当'JP'然后'日本'</span> <span class="bold">当'MX'然后'墨西哥'</span> <span class="bold">当''''那么'荷兰'</span> <span class="bold">当'SG'那么“新加坡”</span> <span class="bold">当“英国”然后“英国”</span> <span class="bold">当“美”，那么“美”</span> <span class="bold">ELSE“未知”</span> <span class="bold">END</span> COUNTRY FROM地点ORDER BY COUNTRY_ID;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">ID COUNTRY  -  -------------- AU澳大利亚BR巴西CA加拿大CH瑞士CN中国DE德国IN印度IT意大利JP日本MX墨西哥NL荷兰SG新加坡英国英国美国美国14排选择。
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F__CEGEBIAF">
                           <p class="titleinexample">示例2-28在查询中使用搜索的CASE表达式</p><pre class="oac_no_warn" dir="ltr">选择LAST_NAME“姓名”，HIRE_DATE“已开始”，SALARY“薪资”， <span class="bold">情况是在HIRE_DATE &lt;TO_DATE（'01 -Jan-03'，'dd-mon-yy'）THEN TRUNC（SALARY * 1.15,0）在HIRE_DATE时&gt; = TO_DATE（'01 -Jan-03'，'dd-mon-yy'）和HIRE_DATE &lt;TO_DATE（'01 -Jan-06'，'dd-mon-yy'）THEN TRUNC（SALARY * 1.10,0）WHEN HIRE_DATE&gt; = TO_DATE（'01 -Jan-06'，'dd-mon-yy'）和HIRE_DATE &lt;TO_DATE（'01 -Jan-07'，'dd-mon-yy'）THEN TRUNC（SALARY * 1.05,0） ）ELRE SALARY END</span> “提议的工资”来自员工，其中DEPARTMENT_ID = 100订单在1月1日前完成;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">名称开始工资建议工资------------------------- --------- ----------  - -------------- Faviet 16-AUG-02 9000 10350 Greenberg 17-AUG-02 12008 13809 Chen 28-SEP-05 8200 9020 Sciarra 30-SEP-05 7700 8470 Urman 07-MAR -06 7800 8190 Popp 07-DEC-07 6900 6900 6行选择。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG175"></a><a id="TDDDG99971"></a><div class="props_rev_3"><a id="GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1" name="GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1"></a><h5 id="TDDDG-GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1" class="sect5"><span class="enumeration_section">2.6.9.10</span>在查询中使用DECODE函数</h5>
                     <div>
                        <p><span class="keyword">DECODE</span>函数将表达式与多个搜索值进行比较。只要表达式的值与搜索值匹配， <span class="keyword">DECODE就会</span>返回与该搜索值关联的结果。如果<span class="keyword">DECODE</span>找不到匹配项，则返回默认值（如果指定）或<span class="keyword">NULL</span> （如果未指定默认值）。
                        </p>
                        <div class="section">
                           <p><a href="connecting-exploring-database.html#GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1__CEGCACGA">例2-29中</a>的查询使用<span class="keyword">DECODE</span>函数显示三个不同作业的建议工资增长。表达式为JOB_ID;搜索值为“PU_CLERK”，“SH_CLERK”和“ST_CLERK”;默认为SALARY。</p>
                           <div class="infoboxnote" id="GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1__GUID-96CF41B2-B844-42B3-A4CE-CDB794B6F51E">
                              <p class="notep1">注意：</p>
                              <p><span class="keyword">DECODE</span>函数的参数可以是任何SQL数字或字符类型。在比较之前，Oracle会自动将表达式和每个搜索值转换为第一个搜索值的数据类型。Oracle会自动将返回值转换为与第一个结果相同的数据类型。如果第一个结果具有数据类型<span class="keyword">CHAR</span>或第一个结果为<span class="keyword">NULL</span> ，则Oracle将返回值转换为数据类型<span class="keyword">VARCHAR2</span> 。
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1__GUID-A8172F10-7828-4E80-92B1-C712F9030866">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<span class="keyword">DECODE</span>函数的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=SQLRF00631" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="connecting-exploring-database.html#GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F" title="CASE表达式允许您使用IF ...然后 ...SQL语句中的ELSE逻辑，无需调用子程序。有两种CASE表达式，简单和搜索。">在查询中使用CASE表达式</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-5DFAEBA9-C1E7-4AC5-942C-0DEC6C2A1EB1__CEGCACGA">
                           <p class="titleinexample">示例2-29在查询中使用DECODE函数</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME，JOB_ID，SALARY， <span class="bold">DECODE（JOB_ID，</span> <span class="bold">'PU_CLERK'，SALARY * 1.10，</span> <span class="bold">'SH_CLERK'，SALARY * 1.15，</span> <span class="bold">'ST_CLERK'，SALARY * 1.20，</span> <span class="bold">SALARY）</span> “建议工资”来自员工，其中JOB_ID喜欢'％_CLERK'和LAST_NAME &lt;'E'订购LAST_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LAST_NAME JOB_ID SALARY建议薪资------------------------- ---------- ---------- --------------- Atkinson ST_CLERK 2800 3360 Baida PU_CLERK 2900 3190 Bell SH_CLERK 4000 4600 Bissot ST_CLERK 3300 3960 Bull SH_CLERK 4100 4715 Cabrio SH_CLERK 3000 3450 Chung SH_CLERK 3800 4370 Colmenares PU_CLERK 2500 2750 Davies ST_CLERK 3100 3720 Dellinger SH_CLERK 3400 3910 Dilly SH_CLERK 3600 4140 11行选择。</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="connecting-exploring-database.html#GUID-3E045FD9-CEA9-4BF5-B4F5-33085E1BC085" title="查询的select_list可以包括SQL表达式，它可以包括SQL运算符和SQL函数。这些运算符和函数可以将表数据作为操作数和参数。将评估SQL表达式，并将其值显示在查询结果中。">在查询中使用运算符和函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05672.choosing-character-set.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>选择一个字符集</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Globalization Support Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Globalization Support Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-globalization-support-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:55:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96349-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="overview-of-globalization-support.html" title="Previous" type="text/html"></link>
      <link rel="next" href="setting-up-globalization-support-environment.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Globalization Support Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NLSPG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-of-globalization-support.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="setting-up-globalization-support-environment.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库全球化支持指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">选择一个字符集</li>
            </ol>
            <a id="GUID-BF26E01D-AB92-48FC-855A-69A5B3AF9A92" name="GUID-BF26E01D-AB92-48FC-855A-69A5B3AF9A92"></a><a id="NLSPG002"></a>
            
            <h2 id="NLSPG-GUID-BF26E01D-AB92-48FC-855A-69A5B3AF9A92" class="sect2"><span class="enumeration_chapter">2</span>选择字符集</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何选择字符集。包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="choosing-character-set.html#GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94">字符集编码</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D">长度语义</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-EA913CC8-C5BA-4FB3-A1B8-882734AF4F43">选择Oracle数据库字符集</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-09777A99-B7DD-4695-9B2B-278122131000">为多租户容器数据库选择数据库字符集</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-162F0087-2F35-424B-8033-1820828150E5">数据库创建后更改字符集</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C">单语数据库场景</a></p>
                  </li>
                  <li>
                     <p><a href="choosing-character-set.html#GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC">多语言数据库场景</a></p>
                  </li>
               </ul>
            </div><a id="NLSPG157"></a><div class="props_rev_3"><a id="GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94" name="GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94"></a><h3 id="NLSPG-GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94" class="sect3"><span class="enumeration_section">2.1</span>字符集编码</h3>
               <div>
                  <p>当计算机系统<a id="d5564e182" class="indexterm-anchor"></a>处理字符，它们使用数字代码而不是字符的图形表示。例如，当数据库存储字母<code class="codeph">A</code> ，它实际上存储计算机系统解释为字母的数字代码。这些数字代码在全局环境中尤为重要，因为可能需要在不同字符集之间转换数据。
                  </p>
                  <p>本节讨论以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="choosing-character-set.html#GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2">什么是编码字符集？</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-80237B19-D625-472F-AD62-5F28053D1728">哪些字符编码？</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-DF101E58-4F50-4106-9581-DE665A5FCA9F">字符集支持哪些字符？</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-648C6F20-4FD1-45AE-A710-7BEB99AAABA9">角色是如何编码的？</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3">Oracle数据库字符集的命名约定</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35">子集和超集</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG701"></a><a id="NLSPG158"></a><div class="props_rev_3"><a id="GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2" name="GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2"></a><h4 id="NLSPG-GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2" class="sect4"><span class="enumeration_section">2.1.1</span>什么是编码字符集？
                  </h4>
                  <div>
                     <p>您在创建数据库时指定编码字符集。选择字符集可确定可在数据库中表示的语言。它还影响：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如何创建数据库模式</p>
                        </li>
                        <li>
                           <p>如何开发处理字符数据的应用程序</p>
                        </li>
                        <li>
                           <p>数据库如何与操作系统一起使用</p>
                        </li>
                        <li>
                           <p>数据库性能</p>
                        </li>
                        <li>
                           <p>存储字符数据所需的存储空间</p>
                        </li>
                     </ul>
                     <p>可以将一组字符（例如，字母字符，表意符号，符号，标点符号和控制字符）编码为字符集。<span class="italic">编码字符集</span>为<span class="italic">字符集中的</span>每个字符分配唯一的数字代码。数字代码称为<span class="italic">代码点</span>或<span class="italic">编码值</span> 。下表显示了在ASCII字符集中分配了十六进制代码值的字符示例。
                     </p>
                     <div class="tblformal" id="GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2__CIHDGBHD">
                        <p class="titleintable">表2-1 ASCII字符集中的编码字符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ASCII字符集中的编码字符" width="100%" border="1" summary="This table describes characters that have been assigned a hexadecimal code value in the ASCII character set." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d5564e342">字符</th>
                                 <th align="left" valign="bottom" width="33%" id="d5564e345">描述</th>
                                 <th align="left" valign="bottom" width="33%" id="d5564e348">十六进制代码值</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e353" headers="d5564e342 ">
                                    <p>！</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e353 d5564e345 ">
                                    <p>感叹号</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e353 d5564e348 ">
                                    <p>21</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e363" headers="d5564e342 ">
                                    <p>＃</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e363 d5564e345 ">
                                    <p>数字标志</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e363 d5564e348 ">
                                    <p>23</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e373" headers="d5564e342 ">
                                    <p>$</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e373 d5564e345 ">
                                    <p>美元符号</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e373 d5564e348 ">
                                    <p>24</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e383" headers="d5564e342 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e383 d5564e345 ">
                                    <p>1号</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e383 d5564e348 ">
                                    <p>31</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e393" headers="d5564e342 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e393 d5564e345 ">
                                    <p>2号</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e393 d5564e348 ">
                                    <p>32</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e403" headers="d5564e342 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e403 d5564e345 ">
                                    <p>3号</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e403 d5564e348 ">
                                    <p>33</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e413" headers="d5564e342 ">
                                    <p>一个</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e413 d5564e345 ">
                                    <p>大写字母A.</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e413 d5564e348 ">
                                    <p>41</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e423" headers="d5564e342 ">
                                    <p>乙</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e423 d5564e345 ">
                                    <p>大写字母B.</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e423 d5564e348 ">
                                    <p>42</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e433" headers="d5564e342 ">
                                    <p>C</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e433 d5564e345 ">
                                    <p>大写C</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e433 d5564e348 ">
                                    <p>43</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e443" headers="d5564e342 ">
                                    <p>一个</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e443 d5564e345 ">
                                    <p>小写a</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e443 d5564e348 ">
                                    <p>61</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e453" headers="d5564e342 ">
                                    <p>b</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e453 d5564e345 ">
                                    <p>小写字母b</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e453 d5564e348 ">
                                    <p>62</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5564e464" headers="d5564e342 ">
                                    <p>C</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e464 d5564e345 ">
                                    <p>小写c</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5564e464 d5564e348 ">
                                    <p>63</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>计算机行业使用许多编码字符集。字符集在以下方面有所不同：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可在集合中使用的字符数</p>
                        </li>
                        <li>
                           <p>可用于集合中的<span class="italic">字符</span> （也称为<span class="italic">字符集</span> ）</p>
                        </li>
                        <li>
                           <p>用于编写的脚本及其代表的语言</p>
                        </li>
                        <li>
                           <p>分配给每个字符的代码点或值</p>
                        </li>
                        <li>
                           <p>用于表示特定字符的编码方案</p>
                        </li>
                     </ul>
                     <p>Oracle数据库支持大多数国家，国际和供应商特定的编码字符集标准。</p>
                     <div class="infoboxnotealso" id="GUID-71BEC5B9-7993-4C93-A801-C9190D4B08A2__GUID-E0A89287-D000-41C6-A758-EB4BFD02D754">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="appendix-A-locale-data.html#GUID-344E34CA-DD16-4979-8CF1-6D0A7AEBAA4A">字符集</a> ”，</span>用于Oracle数据库支持的完整字符集列表</p>
                     </div>
                  </div>
               </div><a id="NLSPG159"></a><div class="props_rev_3"><a id="GUID-80237B19-D625-472F-AD62-5F28053D1728" name="GUID-80237B19-D625-472F-AD62-5F28053D1728"></a><h4 id="NLSPG-GUID-80237B19-D625-472F-AD62-5F28053D1728" class="sect4"><span class="enumeration_section">2.1.2</span>编码了哪些字符？
                  </h4>
                  <div>
                     <p>在字符集中编码的字符取决于所表示的书写系统。书写系统可用于表示语言或一组语言。书写系统可分为两类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="choosing-character-set.html#GUID-AB542BCA-8025-4565-8903-007A6A64D967">语音书写系统</a></p>
                        </li>
                        <li>
                           <p><a href="choosing-character-set.html#GUID-0C09C024-A260-47B5-A725-7A3B40346E8A">表意文字系统</a></p>
                        </li>
                     </ul>
                     <p>本节还包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="choosing-character-set.html#GUID-9C513A7D-D1EF-4B41-8B72-10C95D1D7D16">标点符号，控制字符，数字和符号</a></p>
                        </li>
                        <li>
                           <p><a href="choosing-character-set.html#GUID-2C9310EA-C484-46B7-92FB-B478FF040FAF">写作方向</a></p>
                        </li>
                     </ul>
                  </div><a id="NLSPG160"></a><div class="props_rev_3"><a id="GUID-AB542BCA-8025-4565-8903-007A6A64D967" name="GUID-AB542BCA-8025-4565-8903-007A6A64D967"></a><h5 id="NLSPG-GUID-AB542BCA-8025-4565-8903-007A6A64D967" class="sect5"><span class="enumeration_section">2.1.2.1</span>语音书写系统</h5>
                     <div>
                        <p>语音书写系统由表示与语言相关的不同声音的符号组成。希腊语，拉丁语，西里尔语和梵文都是基于字母表的语音书写系统的例子。请注意，字母表可以表示多种语言。例如，拉丁字母可以代表许多西欧语言，例如法语，德语和英语。</p>
                        <p>与a相关的字符<a id="d5564e677" class="indexterm-anchor"></a><a id="d5564e679" class="indexterm-anchor"></a>语音书写系统通常可以用一个字节编码，因为字符库通常小于256个字符。
                        </p>
                     </div>
                  </div><a id="NLSPG161"></a><div class="props_rev_3"><a id="GUID-0C09C024-A260-47B5-A725-7A3B40346E8A" name="GUID-0C09C024-A260-47B5-A725-7A3B40346E8A"></a><h5 id="NLSPG-GUID-0C09C024-A260-47B5-A725-7A3B40346E8A" class="sect5"><span class="enumeration_section">2.1.2.2</span>表意文字系统</h5>
                     <div>
                        <p>表意文字书写系统由表意文字或象形文字组成，表示单词的含义，而不是语言的声音。中国人和日本人就是例子<a id="d5564e762" class="indexterm-anchor"></a><a id="d5564e764" class="indexterm-anchor"></a>基于成千上万的表意文字的表意文字书写系统。使用表意文字书写系统的语言也可以使用<span class="bold">音节</span> 。Syllabaries提供了一种传递额外语音信息的机制。例如，日语有两个音节：通常用于语法元素的平假名，和通常用于外语和拟声词的片假名。
                        </p>
                        <p>与表意文字书写系统相关联的字符通常以多于一个字节编码，因为字符集有数万个字符。</p>
                     </div>
                  </div><a id="NLSPG162"></a><div class="props_rev_3"><a id="GUID-9C513A7D-D1EF-4B41-8B72-10C95D1D7D16" name="GUID-9C513A7D-D1EF-4B41-8B72-10C95D1D7D16"></a><h5 id="NLSPG-GUID-9C513A7D-D1EF-4B41-8B72-10C95D1D7D16" class="sect5"><span class="enumeration_section">2.1.2.3</span>标点符号，控制字符，数字和符号</h5>
                     <div>
                        <p>此外<a id="d5564e849" class="indexterm-anchor"></a><a id="d5564e851" class="indexterm-anchor"></a><a id="d5564e853" class="indexterm-anchor"></a><a id="d5564e855" class="indexterm-anchor"></a><a id="d5564e857" class="indexterm-anchor"></a><a id="d5564e861" class="indexterm-anchor"></a><a id="d5564e865" class="indexterm-anchor"></a><a id="d5564e869" class="indexterm-anchor"></a>编码语言的脚本，必须编码其他特殊字符：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>标点符号，例如逗号，句号和撇号</p>
                           </li>
                           <li>
                              <p>数字</p>
                           </li>
                           <li>
                              <p>特殊符号，如货币符号和数学运算符</p>
                           </li>
                           <li>
                              <p>控制回车和制表符等字符</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="NLSPG163"></a><div class="props_rev_3"><a id="GUID-2C9310EA-C484-46B7-92FB-B478FF040FAF" name="GUID-2C9310EA-C484-46B7-92FB-B478FF040FAF"></a><h5 id="NLSPG-GUID-2C9310EA-C484-46B7-92FB-B478FF040FAF" class="sect5"><span class="enumeration_section">2.1.2.4</span>写作方向</h5>
                     <div>
                        <p>大多数西方语言是从页面的顶部到底部从左到右书写的。东亚语言通常从页面的右侧到左侧从上到下书写，但是经常对从西方语言翻译的技术书籍进行例外处理。阿拉伯语和希伯来语从上到下依次从左到右书写。</p>
                        <p>数字反向阿拉伯语和希伯来语。尽管文本是从右到左书写的，但句子中的数字是从左到右书写的。例如，“我写了32本书”将写成“skoob 32 etorw I”。无论编写方向如何，Oracle数据库都按逻辑顺序存储数据。逻辑顺序是指某人键入语言所使用的顺序，而不是它在屏幕上的显示方式。</p>
                        <p>书写方向不会影响角色的编码。</p>
                     </div>
                  </div>
               </div><a id="NLSPG164"></a><div class="props_rev_3"><a id="GUID-DF101E58-4F50-4106-9581-DE665A5FCA9F" name="GUID-DF101E58-4F50-4106-9581-DE665A5FCA9F"></a><h4 id="NLSPG-GUID-DF101E58-4F50-4106-9581-DE665A5FCA9F" class="sect4"><span class="enumeration_section">2.1.3</span>字符集支持哪些字符？
                  </h4>
                  <div>
                     <p>不同<a id="d5564e1040" class="indexterm-anchor"></a><a id="d5564e1044" class="indexterm-anchor"></a>字符集支持不同的角色曲目。由于字符集通常基于特定的编写脚本，因此它们可以支持多种语言。首次开发字符集时，它们的字符集有限。即使是现在，跨平台使用某些字符也会出现问题。以下<code class="codeph">CHAR</code>和<code class="codeph">VARCHAR</code>字符在所有Oracle数据库字符集中表示，并可以传输到任何平台：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>大写和小写英文字符A到Z和a到z</p>
                        </li>
                        <li>
                           <p>阿拉伯数字0到9</p>
                        </li>
                        <li>
                           <p>以下标点符号：％''（）* +  - ，。 / \ :; &lt;&gt; =！_＆〜{} | ^？$＃@“[]</p>
                        </li>
                        <li>
                           <p>以下控制字符：空格，水平制表符，垂直制表符，换页符</p>
                        </li>
                     </ul>
                     <p>如果您使用此集合之外的字符，请注意您选择的数据库字符集中支持您的数据。</p>
                     <p>正确设置<code class="codeph">NLS_LANG</code>参数对于正确的数据转换至关重要。<code class="codeph">NLS_LANG</code>参数指定的字符集应反映客户端操作系统的设置。正确设置<code class="codeph">NLS_LANG</code>可以正确地从客户端操作系统字符编码转换为数据库字符集。当这些设置相同时，Oracle数据库假定发送或接收的数据编码在与数据库字符集相同的字符集中，因此可能无法执行字符集验证或转换。如果需要转换，这可能会导致数据损坏。
                     </p>
                     <p>在从一个字符集转换为另一个字符集的过程中，Oracle数据库期望客户端数据以<code class="codeph">NLS_LANG</code>参数指定的字符集进行编码。如果将其他值放入字符串中（例如，通过使用<code class="codeph">CHR</code>或<code class="codeph">CONVERT</code> SQL函数），则在将值发送到数据库时可能会损坏这些值，因为它们未正确转换。如果已正确配置环境，并且数据库字符集支持可输入数据库的整个字符数据库，则无需更改当前数据库字符集。但是，如果您的企业变得更加全球化并且您需要支持其他字符或新语言，那么您可能需要选择具有更大字符库的字符集。Oracle建议您使用Unicode数据库和数据类型。
                     </p>
                     <div class="infoboxnotealso" id="GUID-DF101E58-4F50-4106-9581-DE665A5FCA9F__GUID-AECE4DDA-F81A-4BFF-9603-8A5681B1569C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CONVERT</code> SQL函数的更多信息，请<a href="../sqlrf/CONVERT.html#SQLRF51294" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CHR</code> SQL函数的更多信息，请<a href="../sqlrf/CHR.html#SQLRF51267" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="customizing-locale-data.html#GUID-6DBEDFFF-B5C5-49D6-893D-B7579752C5D7">使用Oracle Locale Builder显示代码表</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="NLSPG974"></a><a id="NLSPG703"></a><a id="NLSPG165"></a><div class="props_rev_3"><a id="GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9" name="GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9"></a><h5 id="NLSPG-GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9" class="sect5"><span class="enumeration_section">2.1.3.1</span> ASCII编码</h5>
                     <div>
                        <p><a href="choosing-character-set.html#GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9__CIHJEADJ" title="该表描述了7位ASCII字符集的编码方式。行和列标题表示十六进制数字。要查找字符的编码值，请读取列号后跟行号。例如，字符A的代码值是0x41。">表2-2</a>显示了ASCII字符集的编码方式。行和列标题表示十六进制数字。要查找字符的编码值，请读取列号后跟行号。例如，字符A的代码值是0x41。
                        </p>
                        <div class="tblformal" id="GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9__CIHJEADJ">
                           <p class="titleintable">表2-2 7位ASCII字符集</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="7位ASCII字符集" width="100%" border="1" summary="This table describes how the 7-Bit  ASCII character set is encoded. Row and column headings denote hexadecimal digits. To find the encoded value of a character, read the column number followed by the row number. For example, the code value of the character A is 0x41." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="11%" id="d5564e1232">-</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1235">0</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1238">1</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1241">2</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1244">3</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1247">4</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1250">五</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1253">6</th>
                                    <th align="left" valign="bottom" width="11%" id="d5564e1256">7</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1261" headers="d5564e1232 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1235 ">
                                       <p>NUL</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1238 ">
                                       <p>DLE</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1241 ">
                                       <p>SP</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1244 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1247 ">
                                       <p>@</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1250 ">
                                       <p>P</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1253 ">
                                       <p>“</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1261 d5564e1256 ">
                                       <p>p</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1289" headers="d5564e1232 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1235 ">
                                       <p>SOH</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1238 ">
                                       <p>DC1</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1241 ">
                                       <p>！</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1244 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1247 ">
                                       <p>一个</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1250 ">
                                       <p>Q</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1253 ">
                                       <p>一个</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1289 d5564e1256 ">
                                       <p>q</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1317" headers="d5564e1232 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1235 ">
                                       <p>STX</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1238 ">
                                       <p>DC2</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1241 ">
                                       <p>“</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1244 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1247 ">
                                       <p>乙</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1250 ">
                                       <p>[R</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1253 ">
                                       <p>b</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1317 d5564e1256 ">
                                       <p>[R</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1345" headers="d5564e1232 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1235 ">
                                       <p>ETX</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1238 ">
                                       <p>DC3</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1241 ">
                                       <p>＃</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1244 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1247 ">
                                       <p>C</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1250 ">
                                       <p>小号</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1253 ">
                                       <p>C</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1345 d5564e1256 ">
                                       <p>小号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1373" headers="d5564e1232 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1235 ">
                                       <p>EOT</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1238 ">
                                       <p>DC4</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1241 ">
                                       <p>$</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1244 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1247 ">
                                       <p>d</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1250 ">
                                       <p>Ť</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1253 ">
                                       <p>d</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1373 d5564e1256 ">
                                       <p>Ť</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1401" headers="d5564e1232 ">
                                       <p>五</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1235 ">
                                       <p>ENQ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1238 ">
                                       <p>NAK</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1241 ">
                                       <p>％</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1244 ">
                                       <p>五</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1247 ">
                                       <p>Ë</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1250 ">
                                       <p>ü</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1253 ">
                                       <p>Ë</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1401 d5564e1256 ">
                                       <p>ü</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1429" headers="d5564e1232 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1235 ">
                                       <p>ACK</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1238 ">
                                       <p>SYN</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1241 ">
                                       <p>＆</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1244 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1247 ">
                                       <p>F</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1250 ">
                                       <p>V</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1253 ">
                                       <p>F</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1429 d5564e1256 ">
                                       <p>v</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1457" headers="d5564e1232 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1235 ">
                                       <p>BEL</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1238 ">
                                       <p>ETB</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1241 ">
                                       <p>“</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1244 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1247 ">
                                       <p>G</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1250 ">
                                       <p>w ^</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1253 ">
                                       <p>G</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1457 d5564e1256 ">
                                       <p>w ^</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1485" headers="d5564e1232 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1235 ">
                                       <p>BS</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1238 ">
                                       <p>能够</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1241 ">
                                       <p>（</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1244 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1247 ">
                                       <p>H</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1250 ">
                                       <p>X</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1253 ">
                                       <p>H</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1485 d5564e1256 ">
                                       <p>X</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1513" headers="d5564e1232 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1235 ">
                                       <p>标签</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1238 ">
                                       <p>EM</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1241 ">
                                       <p>）</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1244 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1247 ">
                                       <p>一世</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1250 ">
                                       <p>ÿ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1253 ">
                                       <p>一世</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1513 d5564e1256 ">
                                       <p>ÿ</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1541" headers="d5564e1232 ">
                                       <p>一个</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1235 ">
                                       <p>如果</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1238 ">
                                       <p>SUB</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1241 ">
                                       <p>*</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1244 ">
                                       <p>：</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1247 ">
                                       <p>Ĵ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1250 ">
                                       <p>ž</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1253 ">
                                       <p>Ĵ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1541 d5564e1256 ">
                                       <p>ž</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1570" headers="d5564e1232 ">
                                       <p>乙</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1235 ">
                                       <p>VT</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1238 ">
                                       <p>退出</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1241 ">
                                       <p>+</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1244 ">
                                       <p>;</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1247 ">
                                       <p>ķ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1250 ">
                                       <p>[</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1253 ">
                                       <p>ķ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1570 d5564e1256 ">
                                       <p>{</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1598" headers="d5564e1232 ">
                                       <p>C</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1235 ">
                                       <p>FF</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1238 ">
                                       <p>FS</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1241 ">
                                       <p>，</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1244 ">
                                       <p>&lt;</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1247 ">
                                       <p>大号</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1250 ">
                                       <p>\</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1253 ">
                                       <p>升</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1598 d5564e1256 ">
                                       <p>|</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1626" headers="d5564e1232 ">
                                       <p>d</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1235 ">
                                       <p>CR</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1238 ">
                                       <p>GS</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1241 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1244 ">
                                       <p>=</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1247 ">
                                       <p>中号</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1250 ">
                                       <p>]</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1253 ">
                                       <p>米</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1626 d5564e1256 ">
                                       <p>}</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1654" headers="d5564e1232 ">
                                       <p>Ë</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1235 ">
                                       <p>所以</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1238 ">
                                       <p>RS</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1241 ">
                                       <p>。</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1244 ">
                                       <p>&gt;</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1247 ">
                                       <p>ñ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1250 ">
                                       <p>^</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1253 ">
                                       <p>ñ</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1654 d5564e1256 ">
                                       <p>〜</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d5564e1682" headers="d5564e1232 ">
                                       <p>F</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1235 ">
                                       <p>SI</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1238 ">
                                       <p>我们</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1241 ">
                                       <p>/</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1244 ">
                                       <p>？</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1247 ">
                                       <p>Ø</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1250 ">
                                       <p>_</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1253 ">
                                       <p>Ø</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d5564e1682 d5564e1256 ">
                                       <p>DEL</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>随着语言的发展以满足世界各地人们的需求，创建了新的字符集来支持语言。通常，这些新字符集支持基于相同脚本的一组相关语言。例如，创建ISO 8859字符集系列是为了支持不同的欧洲语言。<a href="choosing-character-set.html#GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9__G1009542" title="此表列出了ISO 8859字符集支持的语言。">表2-3</a>显示了ISO 8859字符集支持的语言。
                        </p>
                        <div class="tblformalwide" id="GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9__G1009542">
                           <p class="titleintable">表2-3 lSO 8859字符集</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="lSO 8859字符集" width="100%" border="1" summary="This table lists the languages supported by the ISO 8859 character sets." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d5564e1726">标准</th>
                                    <th align="left" valign="bottom" id="d5564e1729">语言支持</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1734" headers="d5564e1726 ">
                                       <p>ISO 8859-1</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1734 d5564e1729 ">
                                       <p>西欧（阿尔巴尼亚语，巴斯克语，布列塔尼语，加泰罗尼亚语，丹麦语，荷兰语，英语，法语，芬兰语，法语，德语，格陵兰语，冰岛语，爱尔兰盖尔语，意大利语，拉丁语，卢森堡语，挪威语，葡萄牙语，Rhaeto-Romanic，苏格兰盖尔语，西班牙语，瑞典语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1741" headers="d5564e1726 ">
                                       <p>ISO 8859-2</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1741 d5564e1729 ">
                                       <p>东欧（阿尔巴尼亚语，克罗地亚语，捷克语，英语，德语，匈牙利语，拉丁语，波兰语，罗马尼亚语，斯洛伐克语，斯洛文尼亚语，塞尔维亚语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1748" headers="d5564e1726 ">
                                       <p>ISO 8859-3</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1748 d5564e1729 ">
                                       <p>东南欧（南非荷兰语，加泰罗尼亚语，荷兰语，英语，世界语，德语，意大利语，马耳他语，西班牙语，土耳其语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1755" headers="d5564e1726 ">
                                       <p>ISO 8859-4</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1755 d5564e1729 ">
                                       <p>北欧（丹麦语，英语，爱沙尼亚语，芬兰语，德语，格陵兰语，拉丁语，拉脱维亚语，立陶宛语，挪威语，萨米语，斯洛文尼亚语，瑞典语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1762" headers="d5564e1726 ">
                                       <p>ISO 8859-5</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1762 d5564e1729 ">
                                       <p>东欧（基于西里尔语：保加利亚语，白俄罗斯语，马其顿语，俄语，塞尔维亚语，乌克兰语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1769" headers="d5564e1726 ">
                                       <p>ISO 8859-6</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1769 d5564e1729 ">
                                       <p>阿拉伯</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1776" headers="d5564e1726 ">
                                       <p>ISO 8859-7</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1776 d5564e1729 ">
                                       <p>希腊语</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1783" headers="d5564e1726 ">
                                       <p>ISO 8859-8</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1783 d5564e1729 ">
                                       <p>希伯来语</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1790" headers="d5564e1726 ">
                                       <p>ISO 8859-9</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1790 d5564e1729 ">
                                       <p>西欧（阿尔巴尼亚语，巴斯克语，布列塔尼语，加泰罗尼亚语，康沃尔语，丹麦语，荷兰语，英语，芬兰语，法语，弗里斯兰语，加利西亚语，德语，格陵兰语，爱尔兰盖尔语，意大利语，拉丁语，卢森堡语，挪威语，葡萄牙语，Rhaeto-Romanic，苏格兰盖尔语，西班牙语，瑞典语，土耳其语</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1797" headers="d5564e1726 ">
                                       <p>ISO 8859-10</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1797 d5564e1729 ">
                                       <p>北欧（丹麦语，英语，爱沙尼亚语，法语，芬兰语，德语，格陵兰语，冰岛语，爱尔兰盖尔语，拉丁语，立陶宛语，挪威语，萨米语，斯洛文尼亚语，瑞典语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1804" headers="d5564e1726 ">
                                       <p>ISO 8859-13</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1804 d5564e1729 ">
                                       <p>Baltic Rim（英语，爱沙尼亚语，芬兰语，拉丁语，拉脱维亚语，挪威语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1812" headers="d5564e1726 ">
                                       <p>ISO 8859-14</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1812 d5564e1729 ">
                                       <p>凯尔特语（阿尔巴尼亚语，巴斯克语，布列塔尼语，加泰罗尼亚语，康沃尔语，丹麦语，英语，加利西亚语，德语，格陵兰语，爱尔兰盖尔语，意大利语，拉丁语，卢森堡语，马恩岛盖尔语，挪威语，葡萄牙语，Rhaeto-Romanic，苏格兰盖尔语，西班牙语，瑞典语，威尔士语）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d5564e1819" headers="d5564e1726 ">
                                       <p>ISO 8859-15</p>
                                    </td>
                                    <td align="left" valign="top" headers="d5564e1819 d5564e1729 ">
                                       <p>西欧（阿尔巴尼亚语，巴斯克语，布列塔尼语，加泰罗尼亚语，丹麦语，荷兰语，英语，爱沙尼亚语，法罗语，芬兰语，法语，弗里斯兰语，加利西亚语，德语，格陵兰语，冰岛语，爱尔兰盖尔语，意大利语，拉丁语，卢森堡语，挪威语，葡萄牙语，Rhaeto-罗马语，苏格兰盖尔语，西班牙语，瑞典语）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>从历史上看，字符集提供了受限制的多语言支持，其仅限于基于类似脚本的语言组。最近，出现了通用字符集，以便大大改进多语言支持的解决方案。Unicode是一种包含现代世界大多数主要脚本的通用字符集。</p>
                        <div class="infoboxnotealso" id="GUID-CD1C1A9A-9DC7-41CE-A5F9-33559F4AAEC9__GUID-B8AE836C-DF7B-4228-90F9-ECCACC7995B2">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NLSPG166"></a><div class="props_rev_3"><a id="GUID-648C6F20-4FD1-45AE-A710-7BEB99AAABA9" name="GUID-648C6F20-4FD1-45AE-A710-7BEB99AAABA9"></a><h4 id="NLSPG-GUID-648C6F20-4FD1-45AE-A710-7BEB99AAABA9" class="sect4"><span class="enumeration_section">2.1.4</span>如何编码字符？
                  </h4>
                  <div>
                     <p>计算机行业已经创建了不同类型的编码方案。您选择的字符集会影响使用何种编码方案。这很重要，因为不同的编码方案具有不同的性能特征。这些特征可能会影响数据库架构和应用程序开发。您选择的字符集使用以下类型的编码方案之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="choosing-character-set.html#GUID-EB1D9CE7-4730-4995-945D-0647AA6EF7AC">单字节编码方案</a></p>
                        </li>
                        <li>
                           <p><a href="choosing-character-set.html#GUID-06243EB2-B708-4912-8669-C7812B9FFB77">多字节编码方案</a></p>
                        </li>
                     </ul>
                  </div><a id="NLSPG704"></a><a id="NLSPG167"></a><div class="props_rev_3"><a id="GUID-EB1D9CE7-4730-4995-945D-0647AA6EF7AC" name="GUID-EB1D9CE7-4730-4995-945D-0647AA6EF7AC"></a><h5 id="NLSPG-GUID-EB1D9CE7-4730-4995-945D-0647AA6EF7AC" class="sect5"><span class="enumeration_section">2.1.4.1</span>单字节编码方案</h5>
                     <div>
                        <p>单字节编码<a id="d5564e1992" class="indexterm-anchor"></a><a id="d5564e1996" class="indexterm-anchor"></a>方案是有效的。它们占用最少的空间来表示字符，并且易于处理和编程，因为一个字符可以用一个字节表示。单字节编码方案被分类为以下类型之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d5564e2002" class="indexterm-anchor"></a><a id="d5564e2004" class="indexterm-anchor"></a> 7位编码方案</p>
                              <p>单字节<a id="d5564e2011" class="indexterm-anchor"></a><a id="d5564e2013" class="indexterm-anchor"></a> 7位编码方案最多可以定义128个字符，通常只支持一种语言。从计算的早期开始使用的最常见的单字节字符集之一是ASCII（美国信息交换标准码）。
                              </p>
                           </li>
                           <li>
                              <p><a id="d5564e2020" class="indexterm-anchor"></a><a id="d5564e2022" class="indexterm-anchor"></a> 8位编码方案</p>
                              <p>单字节<a id="d5564e2029" class="indexterm-anchor"></a><a id="d5564e2031" class="indexterm-anchor"></a> 8位编码方案最多可以定义256个字符，并且通常支持一组相关语言。一个例子是ISO 8859-1，它支持许多西欧语言。下图显示了ISO 8859-1 8位编码方案。
                              </p>
                           </li>
                        </ul>
                        <div class="figure" id="GUID-EB1D9CE7-4730-4995-945D-0647AA6EF7AC__I1006599">
                           <p class="titleinfigure">图2-1 ISO 8859-1 8位编码方案</p><br><div class="imageright"><img class="imageright" src="img/iso88591.png" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/iso88591.html"><br><a href="img_text/iso88591.html">“图2-1 ISO 8859-1 8位编码方案”的描述</a></div><br></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="NLSPG168"></a><div class="props_rev_3"><a id="GUID-06243EB2-B708-4912-8669-C7812B9FFB77" name="GUID-06243EB2-B708-4912-8669-C7812B9FFB77"></a><h5 id="NLSPG-GUID-06243EB2-B708-4912-8669-C7812B9FFB77" class="sect5"><span class="enumeration_section">2.1.4.2</span>多字节编码方案</h5>
                     <div>
                        <p>多字节编码<a id="d5564e2115" class="indexterm-anchor"></a><a id="d5564e2119" class="indexterm-anchor"></a>需要一些方案来支持亚洲语言（如中文或日语）中使用的表意脚本，因为这些语言使用了数千个字符。这些编码方案使用固定数字或可变数量的字节来表示每个字符。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d5564e2125" class="indexterm-anchor"></a><a id="d5564e2127" class="indexterm-anchor"></a><a id="d5564e2131" class="indexterm-anchor"></a>固定宽度多字节编码方案</p>
                              <p>在固定宽度多字节编码方案中，每个字符由固定数量的字节表示。在多字节编码方案中，字节数至少为2。</p>
                           </li>
                           <li id="GUID-06243EB2-B708-4912-8669-C7812B9FFB77__i1006614">
                              <p><a id="d5564e2140" class="indexterm-anchor"></a><a id="d5564e2142" class="indexterm-anchor"></a><a id="d5564e2146" class="indexterm-anchor"></a>可变宽度多字节编码方案</p>
                              <p>可变宽度编码方案使用一个或多个字节来表示单个字符。一些多字节编码方案使用某些位来指示表示字符的字节数。例如，如果两个字节是用于表示字符的最大字节数，则最高有效位可用于指示该字节是单字节字符还是双字节字符的第一个字节。</p>
                           </li>
                           <li>
                              <p><a id="d5564e2155" class="indexterm-anchor"></a><a id="d5564e2157" class="indexterm-anchor"></a><a id="d5564e2161" class="indexterm-anchor"></a>移敏感<a id="d5564e2166" class="indexterm-anchor"></a>可变宽度多字节编码方案</p>
                              <p>一些可变宽度编码方案使用控制代码来区分具有相同代码值的单字节和多字节字符。移出代码表示以下字符是多字节的。移入代码表示以下字符是单字节。移位敏感编码方案主要用于IBM平台。请注意，ISO-2022字符集不能用作数据库字符集，但它们可用于邮件服务器等应用程序。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="NLSPG705"></a><a id="NLSPG169"></a><div class="props_rev_3"><a id="GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3" name="GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3"></a><h4 id="NLSPG-GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3" class="sect4"><span class="enumeration_section">2.1.5</span> Oracle数据库字符集的命名约定</h4>
                  <div>
                     <p>Oracle数据库对其字符集名称使用以下命名约定：</p><pre class="oac_no_warn" dir="ltr">&lt;region&gt; &lt;用于表示字符的位数&gt; &lt;标准字符集名称&gt; [S | C]</pre><p>出现在尖括号之间的名称部分是连接在一起的。可选的<code class="codeph">S</code>或<code class="codeph">C</code>用于区分仅可在服务器（ <code class="codeph">S</code> ）上使用或仅在客户端（ <code class="codeph">C</code> ）上使用的字符集。
                     </p>
                     <div class="infoboxnote" id="GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3__GUID-8226F0A7-EDA7-4109-8ED4-0EB39ED77BAD">
                        <p class="notep1">注意：</p>
                        <p>请记住：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您应该在Macintosh平台上使用服务器字符集（ <code class="codeph">S</code> ）。Macintosh客户端字符集已过时。在EBCDIC平台上，使用服务器上的服务器字符集（ <code class="codeph">S</code> ）和客户端上的客户端字符集（ <code class="codeph">C</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>UTF8和UTFE是命名约定的例外。</p>
                           </li>
                        </ul>
                     </div>
                     <p>下表显示了Oracle数据库字符集名称的示例。</p>
                     <div class="tblformalwide" id="GUID-A50D7FE6-25E5-4B3E-98D6-A00ABC128DD3__G1009784">
                        <p class="titleintable">表2-4 Oracle数据库字符集名称示例</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库字符集名称的示例" width="100%" border="1" summary="This table shows examples of Oracle Database character set names." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d5564e2303">Oracle数据库字符集名称</th>
                                 <th align="left" valign="bottom" id="d5564e2306">描述</th>
                                 <th align="left" valign="bottom" id="d5564e2309">区域</th>
                                 <th align="left" valign="bottom" id="d5564e2312">用于表示字符的位数</th>
                                 <th align="left" valign="bottom" id="d5564e2315">标准字符集名称</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e2320" headers="d5564e2303 ">
                                    <p>US7ASCII</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2320 d5564e2306 ">
                                    <p>美国7位ASCII</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2320 d5564e2309 ">
                                    <p>我们</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2320 d5564e2312 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2320 d5564e2315 ">
                                    <p>ASCII</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e2336" headers="d5564e2303 ">
                                    <p>WE8ISO8859P1</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2336 d5564e2306 ">
                                    <p>西欧8位ISO 8859第1部分</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2336 d5564e2309 ">
                                    <p>WE（西欧）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2336 d5564e2312 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2336 d5564e2315 ">
                                    <p>ISO8859第1部分</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e2352" headers="d5564e2303 ">
                                    <p>JA16SJIS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2352 d5564e2306 ">
                                    <p>日本16位移位日本工业标准</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2352 d5564e2309 ">
                                    <p>JA</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2352 d5564e2312 ">
                                    <p>16</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e2352 d5564e2315 ">
                                    <p>SJIS</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="NLSPG1037"></a><div class="props_rev_3"><a id="GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35" name="GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35"></a><h4 id="NLSPG-GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35" class="sect4"><span class="enumeration_section">2.1.6</span>子集和超集</h4>
                  <div>
                     <p>在讨论数据库之间的字符集转换或字符集兼容性时，Oracle文档有时会使用术语<span class="italic">超集</span> ， <span class="italic">子集</span> ， <span class="italic">二进制</span> <span class="italic">超集</span>或<span class="italic">二进制</span> <span class="italic">子集</span>来描述两个字符集之间的关系。没有形容词“二进制”的术语<span class="italic">子集</span>和<span class="italic">超集</span>属于两个Oracle字符集的字符库，即，由每个字符集支持（编码）的字符集。根据定义，如果A支持B支持的所有字符，则字符集A是字符集B的超集。如果A是B的超集，则字符集B是字符集A的子集。</p>
                     <p>术语<span class="italic">二进制</span> <span class="italic">子集</span>和<span class="italic">二进制</span> <span class="italic">超</span>集通过在两个字符集的字符的二进制表示（二进制代码）上添加条件来限制上述子集 - 超集关系。根据定义，字符集A是字符集B的二进制超集，如果A支持B支持的所有字符，并且所有这些字符在A和B中具有相同的二进制表示。字符集B是字符集A的二进制子集，如果A是B的二进制超集</p>
                     <p>当字符集A是字符集B的二进制超集时，在B中编码的任何文本值在A中同时有效，而不需要字符集转换。当A是B的非二进制超集时，B中编码的文本值可以用A表示而不丢失数据，但可能需要字符集转换来转换二进制表示。</p>
                     <p>Oracle数据库不维护所有子集超集对的列表，但它确实维护了在各种情况下可识别的二进制子集超集对的列表，例如检查可传输表空间或可插拔数据库的兼容性。</p>
                     <div class="infoboxnotealso" id="GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35__GUID-9A6F630E-708D-43EC-8944-627652E6165E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="appendix-A-locale-data.html#GUID-02A80824-EDC9-4D90-BE9E-BEF67F7B60EE">二进制子</a></span>集 - 超集对<span class="q">”</span>用于Oracle数据库识别的二进制子集 - 超集对列表</p>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG706"></a><a id="NLSPG170"></a><div class="props_rev_3"><a id="GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D" name="GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D"></a><h3 id="NLSPG-GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D" class="sect3"><span class="enumeration_section">2.2</span>长度语义</h3>
               <div>
                  <p>在单字节字符集中，字符串中的字节数和字符数是相同的。在多字节字符集中，字符或代码点由一个或多个字节组成。在可变宽度字符集中，基于字节长度计算字符数可能是困难的。以字节为单位计算列长度称为<span class="bold">字节语义</span> ，而以字符为单位测量列长度称为<span class="bold">字符语义</span> 。
                  </p>
                  <p>字符语义对于定义不同宽度的多字节字符串的存储要求很有用。例如，在Unicode数据库（AL32UTF8）中，假设您需要定义一个<code class="codeph">VARCHAR2</code>列，该列最多可以存储五个中文字符和五个英文字符。使用字节语义，此列需要15个字节用于中文字符，长度为3个字节，英文字符为5个字节，长度为一个字节，总共20个字节。使用字符语义，该列需要10个字符。
                  </p>
                  <p>以下表达式使用字节语义：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">VARCHAR2（20 BYTE）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">SUBSTRB(</code> <span class="italic"><code class="codeph">string</code></span> <code class="codeph">, 1, 20)</code> <code class="codeph">SUBSTRB(</code> <code class="codeph">, 1, 20)</code></p>
                     </li>
                  </ul>
                  <p>请注意<code class="codeph">VARCHAR2</code>表达式中的<code class="codeph">BYTE</code>限定符和SQL函数名称中的<code class="codeph">B</code>后缀。
                  </p>
                  <p>以下表达式使用字符语义：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">VARCHAR2（10 CHAR）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">SUBSTR(</code> <span class="italic"><code class="codeph">string</code></span> <code class="codeph">, 1, 10)</code> <code class="codeph">SUBSTR(</code> <code class="codeph">, 1, 10)</code></p>
                     </li>
                  </ul>
                  <p>请注意<code class="codeph">VARCHAR2</code>表达式中的<code class="codeph">CHAR</code>限定符。
                  </p>
                  <p>可以使用<code class="codeph">BYTE</code>或<code class="codeph">CHAR</code>限定符在其定义中明确指定字符数据类型列，用户定义的类型属性和PL / SQL变量的长度语义。建议使用这种指定长度语义的方法，因为它正确地记录了创建DDL语句中的预期语义，并使语句独立于任何执行环境。
                  </p>
                  <p>如果列，用户定义的类型属性或PL / SQL变量定义既不包含<code class="codeph">BYTE</code>也不包含<code class="codeph">CHAR</code>限定符，则与列，属性或变量关联的长度语义由会话参数<code class="codeph">NLS_LENGTH_SEMANTICS</code>的值确定。如果使用过大且复杂的旧脚本创建数据库对象以进行更新以包含显式<code class="codeph">BYTE</code>和/或<code class="codeph">CHAR</code>限定符，请在运行每个脚本之前执行显式<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">NLS_LENGTH_SEMANTICS</code>语句，以确保脚本在预期中创建对象语义。
                  </p>
                  <p><code class="codeph">NLS_LENGTH_SEMANTICS</code>初始化参数确定新会话的<code class="codeph">NLS_LENGTH_SEMANTICS</code>会话参数的默认值。它的默认值是<code class="codeph">BYTE</code> 。为了与在Oracle SQL中引入字符长度语义之前编写的现有应用程序安装过程兼容，Oracle建议您保留此初始化参数未定义或将其设置为<code class="codeph">BYTE</code> 。否则，创建的列可能比预期的大，导致应用程序出现故障，或者在某些情况下导致缓冲区溢出。
                  </p>
                  <p>字节语义是数据库字符集的默认值。字符长度语义是<code class="codeph">NCHAR</code>数据类型的默认和唯一允许类型的长度语义。用户无法为<code class="codeph">NCHAR</code>定义指定<code class="codeph">CHAR</code>或<code class="codeph">BYTE</code>限定符。
                  </p>
                  <p>请考虑以下示例：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE员工</pre><pre class="oac_no_warn" dir="ltr">（employee_id NUMBER（4），last_name NVARCHAR2（10），job_id NVARCHAR2（9），manager_id NUMBER（4），hire_date DATE，工资NUMBER（7,2），department_id NUMBER（2））;</pre><p><code class="codeph">last_name</code>最多可以容纳10个Unicode代码点，与<code class="codeph">NCHAR</code>字符集是AL16UTF16还是UTF8无关。当<code class="codeph">NCHAR</code>字符集为AL16UTF16时，这些存储的10个代码点最多可占用20个字节。当<code class="codeph">NCHAR</code>字符集为UTF8时，它们最多可占用30个字节。
                  </p>
                  <p>下图显示了在UTF-8字符集中存储不同类型字符所需的字节数。ASCII字符需要一个字节，非ASCII拉丁语，希腊语，西里尔语，阿拉伯语和希伯来语字符需要两个字节，亚洲字符需要三个字节，而补充字符需要四个字节的存储空间。</p>
                  <div class="figure" id="GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D__I1006715">
                     <p class="titleinfigure">图2-2不同类型字符的存储字节数</p><img src="img/figure-2-2-bytes-storage-different-kinds-characters.png" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/figure-2-2-bytes-storage-different-kinds-characters.html"><br><a href="img_text/figure-2-2-bytes-storage-different-kinds-characters.html">“图2-2不同种类字符的存储字节”的描述</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D__GUID-7D20A717-24C8-4137-8EB6-D50B455E5366">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="sql-and-plsql-programming-in-global-environment.html#GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB">有关不同长度语义的SQL函数</a> ”</span> ，有关<code class="codeph">SUBSTR</code>和<code class="codeph">SUBSTRB</code>函数的更多信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="setting-up-globalization-support-environment.html#GUID-C0306672-8501-4D73-BDAC-5FC19ED6C4EB">长度语义</a> ”</span>有关<code class="codeph">NLS_LENGTH_SEMANTICS</code>初始化参数的更多信息</p>
                        </li>
                        <li>
                           <p>有关Unicode和<code class="codeph">NCHAR</code>数据类型的更多信息，请<a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">SUBSTRB</code>和<code class="codeph">SUBSTR</code>函数以及字符数据类型的<code class="codeph">BYTE</code>和<code class="codeph">CHAR</code>限定符的详细信息，请<a href="../sqlrf/SUBSTR.html#SQLRF51811" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="NLSPG171"></a><div class="props_rev_3"><a id="GUID-EA913CC8-C5BA-4FB3-A1B8-882734AF4F43" name="GUID-EA913CC8-C5BA-4FB3-A1B8-882734AF4F43"></a><h3 id="NLSPG-GUID-EA913CC8-C5BA-4FB3-A1B8-882734AF4F43" class="sect3"><span class="enumeration_section">2.3</span>选择Oracle数据库字符集</h3>
               <div>
                  <p>Oracle数据库使用<a id="d5564e2862" class="indexterm-anchor"></a>数据库字符集：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>存储的数据<a id="d5564e2871" class="indexterm-anchor"></a> SQL <code class="codeph">CHAR</code>数据类型（ <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>和<code class="codeph">LONG)</code></p>
                     </li>
                     <li>
                        <p>表名，列名和PL / SQL变量等标识符</p>
                     </li>
                     <li>
                        <p>输入并存储SQL和PL / SQL源代码</p>
                     </li>
                  </ul>
                  <p>数据库使用的字符编码方案定义为<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句的一部分。所有SQL <code class="codeph">CHAR</code>数据类型列（ <code class="codeph">CHAR</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">VARCHAR2</code>和<code class="codeph">LONG)</code> （包括数据字典中的列<code class="codeph">LONG)</code>都将其数据存储在数据库字符集中。此外，数据库字符集的选择决定了哪些字符可以命名数据库中的对象。SQL <code class="codeph">NCHAR</code>数据类型列（ <code class="codeph">NCHAR</code> ， <code class="codeph">NCLOB</code>和<code class="codeph">NVARCHAR2)</code>使用国家字符集。
                  </p>
                  <p>创建数据库后，除了一些例外，您无法更改字符集，而无需重新创建数据库。</p>
                  <p>为数据库选择Oracle数据库字符集时，请考虑以下问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>现在数据库需要支持哪些语言？</p>
                     </li>
                     <li>
                        <p>该数据库将来需要支持哪些语言？</p>
                     </li>
                     <li>
                        <p>字符集是否在操作系统上可用？</p>
                     </li>
                     <li>
                        <p>客户端使用了哪些字符集？</p>
                     </li>
                     <li>
                        <p>应用程序处理字符集的效果如何？</p>
                     </li>
                     <li>
                        <p>字符集的性能影响是什么？</p>
                     </li>
                     <li>
                        <p>与字符集相关的限制是什么？</p>
                     </li>
                  </ul>
                  <p>Oracle数据库字符集列在<span class="q">“ <a href="appendix-A-locale-data.html#GUID-344E34CA-DD16-4979-8CF1-6D0A7AEBAA4A">字符集</a> ”中</span> 。它们根据使用它们的语言和区域命名。为区域命名的某些字符集也按语言显式列出。
                  </p>
                  <p>如果要查看字符集中包含的字符，则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>检查国家，国际或供应商产品文档或标准文档</p>
                     </li>
                     <li>
                        <p>使用Oracle Locale Builder</p>
                     </li>
                  </ul>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="choosing-character-set.html#GUID-1559AD4F-DD12-487D-81E4-38ADB4C83F75">当前和未来的语言要求</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-0EC71330-1D8E-4C3E-8A52-0C7C0421724B">客户操作系统和应用程序兼容性</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F">客户端和服务器之间的字符集转换</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-0F957DA7-2F74-4EBC-8711-5DD9CEC0690A">选择数据库字符集的性能影响</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-D24D403E-F6D4-4C57-AF7D-DA2DFB8B287C">数据库字符集的限制</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F">选择国家字符集</a></p>
                     </li>
                     <li>
                        <p><a href="choosing-character-set.html#GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A">支持的数据类型摘要</a></p>
                        <div class="infoboxnotealso" id="GUID-EA913CC8-C5BA-4FB3-A1B8-882734AF4F43__GUID-DC69026A-F0DF-46FE-98E6-1060701A5F80">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="supporting-multilingual-databases-with-unicode.html#GUID-42BCD57A-A380-4ED9-897F-0500A94803D1">UCS-2编码表</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="choosing-character-set.html#GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F">选择国家字符集</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="choosing-character-set.html#GUID-162F0087-2F35-424B-8033-1820828150E5">在创建数据库后更改字符集</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="appendix-A-locale-data.html#GUID-A9E30C27-FD47-4552-B670-F41A95B11405">区域设置数据</a></p>
                              </li>
                              <li>
                                 <p><a href="customizing-locale-data.html#GUID-ED5E5917-15CD-4075-BBA8-BEE69A162A19">自定义区域设置数据</a></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div><a id="NLSPG172"></a><div class="props_rev_3"><a id="GUID-1559AD4F-DD12-487D-81E4-38ADB4C83F75" name="GUID-1559AD4F-DD12-487D-81E4-38ADB4C83F75"></a><h4 id="NLSPG-GUID-1559AD4F-DD12-487D-81E4-38ADB4C83F75" class="sect4"><span class="enumeration_section">2.3.1</span>当前和未来的语言要求</h4>
                  <div>
                     <p>多个字符集可能符合您当前的语言要求。选择数据库字符集时，请考虑未来的语言要求。如果您希望将来支持其他语言，请选择支持这些语言的字符集，以防止以后需要迁移到其他字符集。您通常应该选择Unicode字符集AL32UTF8，因为它支持世界上大多数语言。</p>
                     <div class="infoboxnote" id="GUID-1559AD4F-DD12-487D-81E4-38ADB4C83F75__GUID-73A4E038-FB42-46C4-BBF3-710DC5C93670">
                        <p class="notep1">注意：</p>从Oracle Database 12 <span class="italic">c</span>第2版开始，如果使用Oracle Universal Installer（OUI）或Oracle Database Configuration Assistant（DBCA）创建数据库，则使用的默认数据库字符集是Unicode字符集AL32UTF8。
                     </div>
                  </div>
               </div><a id="NLSPG173"></a><div class="props_rev_3"><a id="GUID-0EC71330-1D8E-4C3E-8A52-0C7C0421724B" name="GUID-0EC71330-1D8E-4C3E-8A52-0C7C0421724B"></a><h4 id="NLSPG-GUID-0EC71330-1D8E-4C3E-8A52-0C7C0421724B" class="sect4"><span class="enumeration_section">2.3.2</span>客户端操作系统和应用程序兼容性</h4>
                  <div>
                     <p>数据库<a id="d5564e3194" class="indexterm-anchor"></a><a id="d5564e3198" class="indexterm-anchor"></a><a id="d5564e3202" class="indexterm-anchor"></a>字符集是<a id="d5564e3207" class="indexterm-anchor"></a>独立于操作系统，因为Oracle数据库具有自己的全球化体系结构。例如，在英语Windows操作系统上，您可以使用日语字符集创建和运行数据库。但是，当客户端操作系统中的应用程序访问数据库时，客户端操作系统必须能够使用适当的字体和输入方法支持数据库字符集。例如，如果不先安装日语字体和输入法，则无法在英语Windows操作系统上插入或检索日语数据。插入和检索日语数据的另一种方法是远程使用日语操作系统来访问数据库服务器。
                     </p>
                  </div>
               </div><a id="NLSPG174"></a><div class="props_rev_3"><a id="GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F" name="GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F"></a><h4 id="NLSPG-GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F" class="sect4"><span class="enumeration_section">2.3.3</span>客户端和服务器之间的字符集转换</h4>
                  <div>
                     <p>如果选择与客户端操作系统上的字符集不同的数据库字符集，则Oracle数据库可以将操作系统字符集转换为数据库字符集。字符集转换具有以下缺点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>潜在的数据丢失</p>
                        </li>
                        <li>
                           <p>增加了开销</p>
                        </li>
                     </ul>
                     <p>字符集转换有时会导致数据丢失。例如，如果要从字符集A转换为字符集B，则目标字符集B必须具有与A相同的字符集库。字符集B中不可用的任何字符都将转换为替换字符。替换字符通常被指定为问号或语言相关字符。例如， <code class="codeph">ä</code> （ <code class="codeph">a</code>元音变音）可以被转换为<code class="codeph">a</code> 。如果您有分布式环境，请考虑使用具有相似字符库的字符集以避免数据丢失。
                     </p>
                     <p>字符集转换可能需要在数据到达客户端之前多次在缓冲区之间复制字符串。数据库字符集应始终是客户端操作系统的本机字符集的超集或等效项。访问数据库的客户端应用程序使用的字符集通常决定哪个超集是最佳选择。</p>
                     <p>如果所有客户端应用程序使用相同的字符集，则该字符集通常是数据库字符集的最佳选择。当客户端应用程序使用不同的字符集时，数据库字符集应该是所有客户端字符集的超集。这可确保在从客户端字符集转换为数据库字符集时表示每个字符。</p>
                     <div class="infoboxnotealso" id="GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F__GUID-AD1BEA9B-1294-46A2-BE0C-63D920FFDFD0">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="character-set-migration.html#GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A">字符集迁移</a></p>
                     </div>
                  </div>
               </div><a id="NLSPG175"></a><div class="props_rev_3"><a id="GUID-0F957DA7-2F74-4EBC-8711-5DD9CEC0690A" name="GUID-0F957DA7-2F74-4EBC-8711-5DD9CEC0690A"></a><h4 id="NLSPG-GUID-0F957DA7-2F74-4EBC-8711-5DD9CEC0690A" class="sect4"><span class="enumeration_section">2.3.4</span>选择数据库字符集的性能影响</h4>
                  <div>
                     <p>为了最好<a id="d5564e3403" class="indexterm-anchor"></a><a id="d5564e3407" class="indexterm-anchor"></a>性能，选择一个避免字符集转换的字符集，并为所需的语言使用最有效的编码。单字节字符集比多字节字符集具有更好的性能，并且它们在空间要求方面也是最有效的。但是，单字节字符集限制了您可以支持的语言数量。
                     </p>
                  </div>
               </div><a id="NLSPG176"></a><div class="props_rev_3"><a id="GUID-D24D403E-F6D4-4C57-AF7D-DA2DFB8B287C" name="GUID-D24D403E-F6D4-4C57-AF7D-DA2DFB8B287C"></a><h4 id="NLSPG-GUID-D24D403E-F6D4-4C57-AF7D-DA2DFB8B287C" class="sect4"><span class="enumeration_section">2.3.5</span>数据库字符集的限制</h4>
                  <div>
                     <p>基于ASCII的字符集仅在基于ASCII的平台上受支持。同样，您只能在基于EBCDIC的平台上使用基于EBCDIC的字符集。</p>
                     <p>数据库字符集用于标识SQL和PL / SQL源代码。为此，它必须具有EBCDIC或7位ASCII作为子集，以平台本机为准。因此，不可能使用固定宽度，多字节字符集作为数据库字符集。目前，只有AL16UTF16字符集不能用作数据库字符集。</p>
                  </div><a id="NLSPG707"></a><a id="NLSPG177"></a><div class="props_rev_3"><a id="GUID-73A858F9-DE6C-471E-8293-9FCE3C4B4FA6" name="GUID-73A858F9-DE6C-471E-8293-9FCE3C4B4FA6"></a><h5 id="NLSPG-GUID-73A858F9-DE6C-471E-8293-9FCE3C4B4FA6" class="sect5"><span class="enumeration_section">2.3.5.1</span>用于表示名称的字符集的限制</h5>
                     <div>
                        <div class="section">
                           <p>下表列出了可用于表示名称的字符集的限制。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformalwide" id="GUID-73A858F9-DE6C-471E-8293-9FCE3C4B4FA6__G1009616">
                              <p class="titleintable">表2-5用于表示名称的字符集的限制</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="用于表达名称的字符集的限制" width="100%" border="1" summary="This table lists the restrictions on the character sets that can be used to express names." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d5564e3583">名称</th>
                                       <th align="left" valign="bottom" id="d5564e3586">单字节</th>
                                       <th align="left" valign="bottom" id="d5564e3589">可变宽度</th>
                                       <th align="left" valign="bottom" id="d5564e3592">评论</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3597" headers="d5564e3583 ">
                                          <p>列名</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3597 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3597 d5564e3589 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3597 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3610" headers="d5564e3583 ">
                                          <p>架构对象</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3610 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3610 d5564e3589 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3610 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3623" headers="d5564e3583 ">
                                          <p>评论</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3623 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3623 d5564e3589 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3623 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3636" headers="d5564e3583 ">
                                          <p>数据库链接名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3636 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3636 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3636 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3649" headers="d5564e3583 ">
                                          <p>数据库名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3649 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3649 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3649 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3662" headers="d5564e3583 ">
                                          <p>文件名</p>
                                          <p>（数据文件，日志文件，控制文件，初始化参数文件）</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3662 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3662 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3662 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3677" headers="d5564e3583 ">
                                          <p>实例名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3677 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3677 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3677 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3690" headers="d5564e3583 ">
                                          <p>目录名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3690 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3690 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3690 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3703" headers="d5564e3583 ">
                                          <p>关键词</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3703 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3703 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3703 d5564e3592 ">
                                          <p>只能用英文ASCII或EBCDIC字符表示</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3716" headers="d5564e3583 ">
                                          <p>Recovery Manager文件名</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3716 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3716 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3716 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3729" headers="d5564e3583 ">
                                          <p>回滚段名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3729 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3729 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3729 d5564e3592 ">
                                          <p><code class="codeph">ROLLBACK_SEGMENTS</code>参数不支持NLS</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3746" headers="d5564e3583 ">
                                          <p>存储的脚本名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3746 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3746 d5564e3589 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3746 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d5564e3759" headers="d5564e3583 ">
                                          <p>表空间名称</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3759 d5564e3586 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3759 d5564e3589 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" headers="d5564e3759 d5564e3592 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>有关支持的字符串格式和字符集的列表，包括LOB数据（ <code class="codeph">LOB</code> ， <code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ），请参阅<a href="choosing-character-set.html#GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A__G1009747" title="该表在前面的文本中描述">表2-7</a> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="NLSPG178"></a><div class="props_rev_3"><a id="GUID-4F487245-C75A-4DA0-A79B-3A6E6F9A16EE" name="GUID-4F487245-C75A-4DA0-A79B-3A6E6F9A16EE"></a><h4 id="NLSPG-GUID-4F487245-C75A-4DA0-A79B-3A6E6F9A16EE" class="sect4"><span class="enumeration_section">2.3.6</span>数据库字符集方向声明</h4>
                  <div>
                     <p><a href="appendix-A-locale-data.html#GUID-9529D1B5-7366-4195-94B5-0F90F3B472E1__CIAEICDE" title="This table lists the recommended ASCII-based Oracle Database character sets.">表A-4</a>和<a href="appendix-A-locale-data.html#GUID-9529D1B5-7366-4195-94B5-0F90F3B472E1__CIAJAGCB" title="此表列出了推荐的基于EBCDIC的Oracle数据库字符集。">表A-5</a>中编译了<a href="appendix-A-locale-data.html#GUID-9529D1B5-7366-4195-94B5-0F90F3B472E1__CIAEICDE" title="此表列出了推荐的基于ASCII的Oracle数据库字符集。">一个</a>字符集列表，Oracle强烈建议将其用作数据库字符集。此列表中未显示的其他Oracle支持的字符集可以继续在此Oracle数据库版本中使用，但在将来的版本中可能会被禁用。从Oracle Database <span class="italic">11g</span>第1版开始，数据库字符集的选择仅限于Oracle Universal Installer（OUI）和Oracle Database Configuration Assistant（DBCA）的常用安装路径中的推荐字符集列表。客户仍然可以使用自定义安装路径创建新数据库，并迁移现有数据库，即使字符集不在推荐列表中也是如此。但是，Oracle建议客户尽快迁移到推荐的字符集。在Oracle为所有新系统部署推荐的字符集列表的顶部，是Unicode字符集AL32UTF8。
                     </p>
                     <div class="infoboxnote" id="GUID-4F487245-C75A-4DA0-A79B-3A6E6F9A16EE__GUID-0A8D2077-4855-4813-8949-60237006C7F8">
                        <p class="notep1">注意：</p>从Oracle Database 12 <span class="italic">c</span>第2版开始，如果使用Oracle Universal Installer（OUI）或Oracle Database Configuration Assistant（DBCA）创建数据库，则使用的默认数据库字符集是AL32UTF8。
                     </div>
                  </div>
               </div><a id="NLSPG179"></a><div class="props_rev_3"><a id="GUID-12404669-63FD-4891-9A3E-59797F45A135" name="GUID-12404669-63FD-4891-9A3E-59797F45A135"></a><h4 id="NLSPG-GUID-12404669-63FD-4891-9A3E-59797F45A135" class="sect4"><span class="enumeration_section">2.3.7</span>选择Unicode作为数据库字符集</h4>
                  <div>
                     <p>Oracle建议对所有新系统部署使用Unicode。还建议将旧系统迁移到Unicode。今天使用Unicode部署您的系统在可用性，兼容性和可扩展性方面提供了许多优势。Oracle Database使您能够利用Unicode的优势，更快，更轻松地部署高性能系统。即使您今天不需要支持多语言数据，也不需要Unicode，从长远来看，它仍然可能是新系统的最佳选择，最终可以节省您的时间和金钱，并为您提供竞争力长期的优势。</p>
                     <div class="infoboxnotealso" id="GUID-12404669-63FD-4891-9A3E-59797F45A135__GUID-28100511-A22A-41A5-AA59-B32E2184DE14">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                     </div>
                  </div>
               </div><a id="NLSPG180"></a><div class="props_rev_3"><a id="GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F" name="GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F"></a><h4 id="NLSPG-GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F" class="sect4"><span class="enumeration_section">2.3.8</span>选择国家字符集</h4>
                  <div>
                     <p><span class="bold">国家字符集</span>一词<a id="d5564e4040" class="indexterm-anchor"></a><a id="d5564e4042" class="indexterm-anchor"></a>是指另一种字符集，它使您能够将Unicode字符数据存储在没有Unicode数据库字符集的数据库中。选择国家字符集的另一个原因是，对于广泛的字符处理操作，可能更期望不同字符编码方案的属性。
                     </p>
                     <p>SQL <code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">NCLOB</code>数据类型仅支持Unicode数据。您可以使用UTF8或AL16UTF16字符集。默认值为AL16UTF16。
                     </p>
                     <p>Oracle建议在AL32UTF8数据库中使用SQL <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code>和<code class="codeph">CLOB</code>数据类型来存储Unicode字符数据。仅当必须使用数据库字符集不是AL32UTF8的数据库时，才应考虑使用SQL <code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">NCLOB</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E12D991-C286-4F1A-AFC6-F35040A5DE4F__GUID-E778297D-E90A-4ED3-B38C-280AFC538E77">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                     </div>
                  </div>
               </div><a id="NLSPG708"></a><a id="NLSPG709"></a><a id="NLSPG181"></a><div class="props_rev_3"><a id="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A" name="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A"></a><h4 id="NLSPG-GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A" class="sect4"><span class="enumeration_section">2.3.9</span>支持的数据类型摘要</h4>
                  <div>
                     <p>下表列出了不同编码方案支持的数据类型。</p>
                     <div class="tblformal" id="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A__G1009694">
                        <p class="titleintable">表2-6编码方案支持的SQL数据类型</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="编码方案支持的SQL数据类型" width="100%" border="1" summary="This table lists the SQL data types that are supported for different encoding schemes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d5564e4183">数据类型</th>
                                 <th align="left" valign="bottom" id="d5564e4186">单字节</th>
                                 <th align="left" valign="bottom" id="d5564e4189">多字节非Unicode</th>
                                 <th align="left" valign="bottom" id="d5564e4192">多字节Unicode</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4197" headers="d5564e4183 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4197 d5564e4186 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4197 d5564e4189 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4197 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4211" headers="d5564e4183 ">
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4211 d5564e4186 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4211 d5564e4189 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4211 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4225" headers="d5564e4183 ">
                                    <p><code class="codeph">NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4225 d5564e4186 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4225 d5564e4189 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4225 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4239" headers="d5564e4183 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4239 d5564e4186 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4239 d5564e4189 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4239 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4253" headers="d5564e4183 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4253 d5564e4186 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4253 d5564e4189 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4253 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4267" headers="d5564e4183 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4267 d5564e4186 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4267 d5564e4189 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4267 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4281" headers="d5564e4183 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4281 d5564e4186 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4281 d5564e4189 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4281 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d5564e4295" headers="d5564e4183 ">
                                    <p><code class="codeph">NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4295 d5564e4186 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4295 d5564e4189 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" headers="d5564e4295 d5564e4192 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A__GUID-392B45AF-0A89-43C2-8F79-B85FFA6E1E99">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">BLOBs</code>字符作为一系列字节序列处理。数据不受任何NLS敏感操作的约束。
                        </p>
                     </div>
                     <p>下表列出了抽象数据类型支持的SQL数据类型。</p>
                     <div class="tblformal" id="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A__G1009747">
                        <p class="titleintable">表2-7 SQL数据类型的抽象数据类型支持</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SQL数据类型的抽象数据类型支持" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d5564e4329">抽象数据类型</th>
                                 <th align="left" valign="bottom" width="14%" id="d5564e4332">CHAR</th>
                                 <th align="left" valign="bottom" width="14%" id="d5564e4335">NCHAR</th>
                                 <th align="left" valign="bottom" width="14%" id="d5564e4338">BLOB</th>
                                 <th align="left" valign="bottom" width="14%" id="d5564e4341">CLOB</th>
                                 <th align="left" valign="bottom" width="14%" id="d5564e4344">NCLOB</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d5564e4349" headers="d5564e4329 ">
                                    <p>宾语</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4349 d5564e4332 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4349 d5564e4335 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4349 d5564e4338 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4349 d5564e4341 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4349 d5564e4344 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d5564e4368" headers="d5564e4329 ">
                                    <p>采集</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4368 d5564e4332 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4368 d5564e4335 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4368 d5564e4338 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4368 d5564e4341 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d5564e4368 d5564e4344 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>您可以创建一个摘要<a id="d5564e4388" class="indexterm-anchor"></a><a id="d5564e4392" class="indexterm-anchor"></a>具有<code class="codeph">NCHAR</code>属性的数据类型如下：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TYPE tp1 AS OBJECT（NCHAR（10））;已创建类型。SQL&gt; CREATE TABLE t1（a tp1）;表创建。</pre><div class="infoboxnotealso" id="GUID-5ED94F13-F2BF-4F36-BA78-13E44884709A__GUID-1F2310F1-201D-4720-97EB-3DB0A938796F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Oracle对象的更多信息，请参见<a href="../adobj/about-oracle-objects.html#ADOBJ-GUID-8F0BA083-FA6D-4373-B440-50FDDA4D6E90" target="_blank"><span class="italic">“Oracle数据库对象关系开发人员指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关Oracle集合的更多信息，请参阅<a href="../lnpls/plsql-collections-and-records.html#LNPLS-GUID-7115C8B6-62F9-496D-BEC3-F7441DFE148A" target="_blank"><span class="italic">数据库PL / SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG1035"></a><div class="props_rev_3"><a id="GUID-09777A99-B7DD-4695-9B2B-278122131000" name="GUID-09777A99-B7DD-4695-9B2B-278122131000"></a><h3 id="NLSPG-GUID-09777A99-B7DD-4695-9B2B-278122131000" class="sect3"><span class="enumeration_section">2.4</span>为多租户容器数据库选择数据库字符集</h3>
               <div>
                  <div class="p">从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，多租户容器数据库（CDB）中的可插拔数据库（PDB）可以具有不同的<span class="italic">数据库</span>字符集和不同的<span class="italic">国家</span>字符集。可以插入CDB的数据库或<span class="italic">PDB候选者</span>可以是传统的独立数据库，也可以是从CDB中的其他CDB或新创建的PDB中拔出的现有PDB。<div class="infoboxnote" id="GUID-09777A99-B7DD-4695-9B2B-278122131000__GUID-13D46708-13A7-4DAD-8533-4A6499525E85">
                        <p class="notep1">注意：</p>
                        <p>CDB根的字符集被视为整个CDB的字符集。</p>
                     </div>
                  </div>
                  <p>根据需要插入CDB的PDB候选项的<span class="italic">数据库</span>字符集，可能会出现以下情况：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果PDB候选者是要插入应用程序根目录的应用程序PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果PDB候选的数据库字符集与应用程序根目录的数据库字符集相同，则插件操作成功（就数据库字符集而言）。</p>
                           </li>
                           <li>
                              <p>如果PDB候选的数据库字符集与应用程序根的数据库字符集<span class="italic">插件兼容</span> ，也就是说，PDB候选的数据库字符集是应用程序根的数据库字符集的二进制子集，并且都是单个-byte或两者都是多字节的，然后当PDB候选者第一次打开并且插件操作成功时，PDB候选者的数据库字符集自动改变为应用程序根的数据库字符集。
                              </p>
                           </li>
                           <li>
                              <p>如果PDB候选的数据库字符集与应用程序根目录的数据库字符集不<span class="italic">兼容</span> （当上述两种情况都不适用时），则插件操作成功。但在这种情况下，新插入的PDB只能在<span class="italic">受限</span>模式下打开，以执行管理任务，不能用于生产。除非将新PDB的数据库字符集迁移到应用程序根目录的数据库字符集，否则新PDB将无法使用。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果要将PDB候选项直接插入CDB根目录：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果PDB候选的数据库字符集与CDB的数据库字符集相同，则插件操作成功（就数据库字符集而言）。</p>
                           </li>
                           <li>
                              <p>如果CDB的数据库字符集是<code class="codeph">AL32UTF8</code> ，则无论PDB候选的数据库字符集如何，插件操作都会成功。
                              </p>
                           </li>
                           <li>
                              <p>如果PDB候选的数据库字符集与CDB的数据库字符集<span class="italic">插件兼容</span> ，也就是说，PDB候选者的数据库字符集是CDB的数据库字符集的二进制子集，并且都是单字节或者两者都是多字节的，当PDB候选者第一次打开并且插件操作成功时，PDB候选者的数据库字符集自动改变为CDB的数据库字符集。
                              </p>
                           </li>
                           <li>
                              <p>如果PDB候选的数据库字符集与CDB的数据库字符集不<span class="italic">兼容</span> ，即，当上述最后三个场景都不适用时，则插件操作成功。但是，在这种情况下，新插入的PDB只能在<span class="italic">受限</span>模式下打开以执行管理任务，并且不能用于生产。除非将新PDB的数据库字符集迁移到CDB的数据库字符集，否则新PDB将无法使用。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-09777A99-B7DD-4695-9B2B-278122131000__GUID-90E3993B-E1A8-4911-91A4-3FE61C8FA5FD">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="choosing-character-set.html#GUID-B8A1BDEC-7992-41E1-B10C-F141479EAD35">子</a></span>集和超集”有关字符集的二进制子集和二进制超集的更多信息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>根据需要插入CDB的PDB候选者的<span class="italic">国家</span>字符集，可能会出现以下情况：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果PDB候选者是要插入应用程序根目录的应用程序PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果PDB候选的国家字符集与应用程序根的国家字符集相同，则插件操作成功（就国家字符集而言）。</p>
                           </li>
                           <li>
                              <p>如果PDB候选的国家字符集与应用程序根的国家字符集不同，则插件操作成功。但是，在这种情况下，新插入的PDB只能在<span class="italic">受限</span>模式下打开以执行管理任务，并且不能用于生产。除非将新PDB的国家字符集迁移到应用程序根目录的国家字符集，否则新PDB将无法使用。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果要将PDB候选者直接插入CDB根目录，则插件操作成功（就国家字符集而言）。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-09777A99-B7DD-4695-9B2B-278122131000__GUID-70B65258-580A-4636-BCE1-873B48C6040D">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当PDB字符集与CDB字符集不同时，如果CDB视图和<code class="codeph">V$</code>视图的列宽不能容纳在字符集转换期间已扩展的PDB数据，则可能存在数据截断。
                           </p>
                        </li>
                        <li>
                           <p>由于<code class="codeph">UTF8</code>和<code class="codeph">AL32UTF8</code>具有不同的最大字符宽度（每个字符三个对四个字节），因此在插件操作期间自动将<code class="codeph">UTF8</code>更改为<code class="codeph">AL32UTF8</code>将改变具有字符长度语义的列的隐式最大字节长度。如果在这些列上定义了功能索引，虚拟列，位图连接索引，域索引，分区键，子分区键或群集键，则此更改可能会失败。如果字符长度语义列是索引键的一部分，并且索引键超出了字符集更改后的大小限制（大约占索引块大小的70％），则插件操作也可能失败。在插入CDB之前，必须确保从数据库中删除所有违规对象。在将数据库插入CDB后，您可以在数据库中重新创建那些有问题的对象。</p>
                        </li>
                     </ul>
                  </div>
                  <p>由于这些限制，Oracle在为CDB选择字符集时建议使用以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于所有新的多租户部署，使用<code class="codeph">AL32UTF8</code>作为数据库字符集，使用<code class="codeph">AL16UTF16</code>作为CDB的国家字符集。</p>
                     </li>
                     <li>
                        <p>在合并之前将现有数据库迁移到<code class="codeph">AL32UTF8</code>数据库字符集，然后根据需要将数据库合并到一个或多个<code class="codeph">AL32UTF8</code> CDB中。您可以使用<span class="italic">Oracle Database Migration Assistant for Unicode</span>软件将非CDB迁移到<code class="codeph">AL32UTF8</code>数据库字符集。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-09777A99-B7DD-4695-9B2B-278122131000__GUID-AB0CAB75-15F1-456C-BB98-D1EC627A908E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关CDB，PDB和应用程序容器的详细信息，请参见<a href="../multi/index.html" target="_blank"><span class="italic">“</span></a> <a href="../multi/multitenant-architecture.html#CNCPT89233" target="_blank"><span class="italic">Oracle数据库概念”</span></a>和“ <a href="../multi/index.html" target="_blank"><span class="italic">Oracle多租户管理员指南”</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/nlspg&amp;id=DUMAG113" target="_blank"><span class="italic">适用于Unicode的Oracle数据库迁移助手指南</span></a> ，以获取有关将非Unicode数据库字符集迁移到Unicode数据库字符集的更多信息。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="NLSPG182"></a><div class="props_rev_3"><a id="GUID-162F0087-2F35-424B-8033-1820828150E5" name="GUID-162F0087-2F35-424B-8033-1820828150E5"></a><h3 id="NLSPG-GUID-162F0087-2F35-424B-8033-1820828150E5" class="sect3"><span class="enumeration_section">2.5</span>数据库创建后更改字符集</h3>
               <div>
                  <p>您<a id="d5564e4739" class="indexterm-anchor"></a>可能希望在创建数据库后更改数据库字符集。例如，您可能会发现数据库中必须支持的语言数量已增加，因此您希望迁移到Unicode字符集AL32UTF8。
                  </p>
                  <p>由于数据库中的字符类型数据必须转换为Unicode，因此在大多数情况下，将数据库字符集更改为AL32UTF8时会遇到问题。例如， <code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>列数据可能超过声明的列长度。如果字符数据包含无效字符，则在转换为Unicode时可能会丢失该字符数据。
                  </p>
                  <p>在更改数据库字符集之前，确定所有问题并仔细规划数据迁移非常重要。Oracle建议使用Unicode的Database Migration Assistant将数据库字符集更改为AL32UTF8。</p>
                  <div class="infoboxnote" id="GUID-162F0087-2F35-424B-8033-1820828150E5__GUID-16A250BF-DF51-4A7E-A92D-FC6FFB4DCA35">
                     <p class="notep1">注意：</p>从Oracle Database 12 <span class="italic">c</span>第2版开始，如果使用Oracle Universal Installer（OUI）或Oracle Database Configuration Assistant（DBCA）创建数据库，则使用的默认数据库字符集是Unicode字符集AL32UTF8。
                  </div>
                  <div class="infoboxnotealso" id="GUID-162F0087-2F35-424B-8033-1820828150E5__GUID-3B5DB189-B259-424F-A897-D65772B82BBD">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/nlspg&amp;id=DUMAG113" target="_blank"><span class="italic">适用于Unicode的Oracle数据库迁移助手指南</span></a> ，了解有关如何更改字符集的更多信息</p>
                  </div>
               </div>
            </div><a id="NLSPG710"></a><a id="NLSPG711"></a><a id="NLSPG183"></a><div class="props_rev_3"><a id="GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C" name="GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C"></a><h3 id="NLSPG-GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C" class="sect3"><span class="enumeration_section">2.6</span>单语数据库场景</h3>
               <div>
                  <p>最简单的数据库配置示例是在同一语言环境中运行并使用相同字符集的客户端和服务器。这种单语情形具有快速响应的优点，因为避免了与字符集转换相关的开销。下图显示了使用相同字符集的数据库服务器和客户端。日语客户端和服务器都使用JA16EUC字符集。</p>
                  <div class="figure" id="GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C__I1007234">
                     <p class="titleinfigure">图2-3单语数据库场景</p><img src="img/nlspg025.gif" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/nlspg025.html"><br><a href="img_text/nlspg025.html">“图2-3单语数据库场景”的描述</a></div>
                  <!-- class="figure" -->
                  <p>您还可以使用多层架构。下图显示了数据库服务器和客户端之间的应用程序服务器。应用程序服务器和数据库服务器在单语方案中使用相同的字符集。服务器，应用程序服务器和客户端使用JA16EUC字符集。</p>
                  <div class="figure" id="GUID-BB8DB7E5-25C7-4DD4-A19D-09C5B2D9299C__I1007245">
                     <p class="titleinfigure">图2-4多层单语数据库场景</p><img src="img/nlspg026.gif" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/nlspg026.html"><br><a href="img_text/nlspg026.html">“图2-4多层单语数据库场景”的描述</a></div>
                  <!-- class="figure" -->
               </div><a id="NLSPG712"></a><a id="NLSPG713"></a><a id="NLSPG184"></a><div class="props_rev_3"><a id="GUID-1DFBCB6B-C58D-407A-AE5F-0A4501B6C3F9" name="GUID-1DFBCB6B-C58D-407A-AE5F-0A4501B6C3F9"></a><h4 id="NLSPG-GUID-1DFBCB6B-C58D-407A-AE5F-0A4501B6C3F9" class="sect4"><span class="enumeration_section">2.6.1</span>单语场景中的字符集转换</h4>
                  <div>
                     <p>如果客户端应用程序驻留在与服务器不同的平台上并且平台不使用相同的字符编码方案，则客户端/服务器环境中可能需要字符集转换。客户端和服务器之间传递的字符数据必须在两种编码方案之间转换。字符转换通过Oracle Net自动且透明地进行。</p>
                     <p>您可以在任意两个字符集之间进行转换。下图显示了具有JA16EUC日语字符集的服务器和一个客户端。另一个客户端使用JA16SJIS日语字符集。</p>
                     <div class="figure" id="GUID-1DFBCB6B-C58D-407A-AE5F-0A4501B6C3F9__I1007260">
                        <p class="titleinfigure">图2-5字符集转换</p><img src="img/nlspg027.gif" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/nlspg027.html"><br><a href="img_text/nlspg027.html">“图2-5字符集转换”的说明</a></div>
                     <!-- class="figure" -->
                     <p>当目标字符集不包含源数据中的所有字符时，将使用替换字符。例如，如果服务器使用US7ASCII而德国客户使用WE8ISO8859P1，那么德语字符<code class="codeph">ß</code>将替换为<code class="codeph">?</code> 和<code class="codeph">ä</code>被替换<code class="codeph">a</code> 。
                     </p>
                     <p>可以为特定字符定义替换字符，作为字符集定义的一部分。如果未定义特定替换字符，则使用默认替换字符。为避免在从客户端字符集转换为数据库字符集时使用替换字符，服务器字符集应该是所有客户端字符集的超集。</p>
                     <p>下图显示当数据库字符集不包含客户端字符集中的所有字符时，会发生数据丢失。数据库字符集是US7ASCII。客户端的字符集是WE8MSWIN1252，客户端使用的语言是德语。当客户端插入包含<code class="codeph">ß</code>的字符串时，数据库会将<code class="codeph">ß</code>替换为<code class="codeph">?</code> ，导致数据丢失。
                     </p>
                     <div class="figure" id="GUID-1DFBCB6B-C58D-407A-AE5F-0A4501B6C3F9__I1007272">
                        <p class="titleinfigure">图2-6字符转换过程中的数据丢失</p><img src="img/nlspg033.gif" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/nlspg033.html"><br><a href="img_text/nlspg033.html">“图2-6字符转换过程中数据丢失”的说明</a></div>
                     <!-- class="figure" -->
                     <p>如果预计德语数据将存储在服务器上，则应为服务器和客户端使用支持德语字符的数据库字符集，以避免数据丢失和转换开销。</p>
                     <p>当其中一个字符集是可变宽度多字节字符集时，转换会引入明显的开销。仔细评估您的情况并选择字符集以尽可能避免转换。</p>
                  </div>
               </div>
            </div><a id="NLSPG715"></a><a id="NLSPG716"></a><a id="NLSPG185"></a><div class="props_rev_3"><a id="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC" name="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC"></a><h3 id="NLSPG-GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC" class="sect3"><span class="enumeration_section">2.7</span>多语言数据库场景</h3>
               <div>
                  <p>如果需要多语言支持，请使用Unicode AL32UTF8作为服务器数据库字符集。</p>
                  <div class="infoboxnote" id="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC__GUID-C1C0E771-B857-44E4-A115-6E6C8DDD5F67">
                     <p class="notep1">注意：</p>从Oracle Database 12 <span class="italic">c</span>第2版开始，如果使用Oracle Universal Installer（OUI）或Oracle Database Configuration Assistant（DBCA）创建数据库，则使用的默认数据库字符集是Unicode字符集AL32UTF8。
                  </div>
                  <p>Unicode有两种主要的编码方案：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>UTF-16：每个字符长2或4个字节。</p>
                     </li>
                     <li>
                        <p>UTF-8：每个字符需要1到4个字节来存储。</p>
                     </li>
                  </ul>
                  <p>Oracle数据库支持将UTF-8作为数据库字符集，并将UTF-8和UTF-16作为国家字符集。</p>
                  <p>UTF-8数据库与任何单字节字符集之间的字符集转换引入的开销非常小。</p>
                  <p>UTF-8和任何多字节字符集之间的转换都有一些开销。转换没有数据丢失，但以下情况除外：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在与UTF-8进行字符集转换期间，某些多字节字符集不支持用户定义的字符。</p>
                     </li>
                     <li>
                        <p>某些Unicode字符映射到另一个字符集中的多个字符。例如，一个Unicode字符映射到JA16SJIS字符集中的三个字符。这意味着往返转换可能不会导致原始JA16SJIS字符。</p>
                     </li>
                  </ul>
                  <p>下图显示了使用基于Unicode UTF-8字符集的AL32UTF8 Oracle数据库字符集的服务器。</p>
                  <div class="figure" id="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC__I1007338">
                     <p class="titleinfigure">图2-7客户端/服务器配置中的多语言支持方案</p><br><div class="imagecenter"><img class="imagecenter" src="img/nlspg029.png" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/nlspg029.html"><br><a href="img_text/nlspg029.html">“图2-7客户端/服务器配置中的多语言支持方案”的说明</a></div><br></div>
                  <!-- class="figure" -->
                  <p>有四个客户：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用WE8ISO8859P1 Oracle数据库字符集的法语客户端</p>
                     </li>
                     <li>
                        <p>使用WE8DEC字符集的德语客户端</p>
                     </li>
                     <li>
                        <p>使用AL32UTF8字符集的日语客户端</p>
                     </li>
                     <li>
                        <p>使用JA16SJIS字符集的日语客户端</p>
                     </li>
                  </ul>
                  <p>除了AL32UTF8客户端之外，每个客户端和服务器之间都会进行字符转换，但没有数据丢失，因为AL32UTF8是一个通用字符集。如果德语客户端尝试从其中一个日语客户端检索数据，则在字符集转换期间数据中的所有日语字符都将丢失。</p>
                  <p>下图显示了多层配置的Unicode解决方案。</p>
                  <div class="figure" id="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC__I1007354">
                     <p class="titleinfigure">图2-8多层配置中的多层多语言支持场景</p><img src="img/nlspg030.gif" alt="下面是图2-8的描述" title="下面是图2-8的描述" longdesc="img_text/nlspg030.html"><br><a href="img_text/nlspg030.html">“图2-8多层配置中的多层多语言支持场景”的描述</a></div>
                  <!-- class="figure" -->
                  <p>数据库，应用程序服务器和每个客户端使用AL32UTF8字符集。即使客户端是法语，德语和日语，这也无需进行字符转换。</p>
                  <div class="infoboxnotealso" id="GUID-D866D0CF-17C3-4BD9-8FE9-4BCC7AEF38EC__GUID-073B1204-B387-44E6-9FA8-FF7EFEEAA755">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-AA09A60E-123E-457C-ACE1-89E4634E492C">使用Unicode支持多语言数据库</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>