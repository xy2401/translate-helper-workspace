<html id="10436.CREATE-MATERIALIZED-VIEW.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建物质化视图</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-LOCKDOWN-PROFILE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-MATERIALIZED-VIEW-LOG.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-LOCKDOWN-PROFILE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-MATERIALIZED-VIEW-LOG.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-LIBRARY-to-CREATE-SCHEMA.html" property="item" typeof="WebPage"><span property="name">SQL语句：CREATE LIBRARY以创建SCHEMA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建物质化视图</li>
            </ol>
            <a id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B" name="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B"></a><a id="SQLRF54098"></a><a id="SQLRF54101"></a><a id="SQLRF54099"></a><a id="SQLRF54100"></a><a id="SQLRF56757"></a><a id="SQLRF54102"></a><a id="SQLRF56865"></a><a id="SQLRF54104"></a><a id="SQLRF54105"></a><a id="SQLRF54106"></a><a id="SQLRF54107"></a><a id="SQLRF54108"></a><a id="SQLRF54109"></a><a id="SQLRF54110"></a><a id="SQLRF56783"></a><a id="SQLRF56933"></a><a id="SQLRF56934"></a><a id="SQLRF56935"></a><a id="SQLRF56936"></a><a id="SQLRF56937"></a><a id="SQLRF56998"></a><a id="SQLRF54111"></a><a id="SQLRF54112"></a><a id="SQLRF54113"></a><a id="SQLRF54114"></a><a id="SQLRF54115"></a><a id="SQLRF54116"></a><a id="SQLRF54117"></a><a id="SQLRF54118"></a><a id="SQLRF54119"></a><a id="SQLRF54120"></a><a id="SQLRF54121"></a><a id="SQLRF54122"></a><a id="SQLRF56240"></a><a id="SQLRF56241"></a><a id="SQLRF56333"></a><a id="SQLRF54123"></a><a id="SQLRF54124"></a><a id="SQLRF54125"></a><a id="SQLRF54126"></a><a id="SQLRF54127"></a><a id="SQLRF54128"></a><a id="SQLRF54129"></a><a id="SQLRF54130"></a><a id="SQLRF54131"></a><a id="SQLRF54132"></a><a id="SQLRF54133"></a><a id="SQLRF54134"></a><a id="SQLRF54135"></a><a id="SQLRF54136"></a><a id="SQLRF54137"></a><a id="SQLRF54138"></a><a id="SQLRF54139"></a><a id="SQLRF56785"></a><a id="SQLRF57030"></a><a id="SQLRF54140"></a><a id="SQLRF54141"></a><a id="SQLRF54142"></a><a id="SQLRF54143"></a><a id="SQLRF54144"></a><a id="SQLRF54145"></a><a id="SQLRF54146"></a><a id="SQLRF54147"></a><a id="SQLRF54148"></a><a id="SQLRF54149"></a><a id="SQLRF54150"></a><a id="SQLRF54151"></a><a id="SQLRF54152"></a><a id="SQLRF54153"></a><a id="SQLRF54154"></a><a id="SQLRF54155"></a><a id="SQLRF56104"></a><a id="SQLRF54156"></a><a id="SQLRF54157"></a><a id="SQLRF54158"></a><a id="SQLRF54159"></a><a id="SQLRF54160"></a><a id="SQLRF54161"></a><a id="SQLRF54162"></a><a id="SQLRF54163"></a><a id="SQLRF54164"></a><a id="SQLRF54165"></a><a id="SQLRF54166"></a><a id="SQLRF54167"></a><a id="SQLRF54168"></a><a id="SQLRF54169"></a><a id="SQLRF54170"></a><a id="SQLRF54171"></a><a id="SQLRF54172"></a><a id="SQLRF54173"></a><a id="SQLRF54174"></a><a id="SQLRF56244"></a><a id="SQLRF54175"></a><a id="SQLRF54176"></a><a id="SQLRF54177"></a><a id="SQLRF54178"></a><a id="SQLRF56303"></a><a id="SQLRF56304"></a><a id="SQLRF56305"></a><a id="SQLRF54179"></a><a id="SQLRF54180"></a><a id="SQLRF54181"></a><a id="SQLRF54182"></a><a id="SQLRF54183"></a><a id="SQLRF54184"></a><a id="SQLRF54185"></a><a id="SQLRF54186"></a><a id="SQLRF54187"></a><a id="SQLRF54188"></a><a id="SQLRF54189"></a><a id="SQLRF54190"></a><a id="SQLRF54191"></a><a id="SQLRF54192"></a><a id="SQLRF01302"></a>
            
            <h2 id="SQLRF-GUID-EE262CA4-01E5-4618-B659-6165D993CA1B" class="sect2">创建物质化视图</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5A3E6775-AEED-4C4C-8889-D30CE8D4E044">目的</p>
                  <p><a id="d325748e370" class="indexterm-anchor"></a><a id="d325748e374" class="indexterm-anchor"></a><a id="d325748e376" class="indexterm-anchor"></a>使用<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句创建<code class="codeph">VIEW</code> <span class="bold">化视图</span> 。物化视图是包含查询结果的数据库对象。查询的<code class="codeph">FROM</code>子句可以命名表，视图和其他物化视图。这些对象统称<span class="bold">为主表</span> （复制术语）或<span class="bold">详细信息表</span> （数据仓库术语）。该引用使用“主表”来保持一致性。包含主表的<span class="bold">数据库</span>称为<span class="bold">主数据库</span> 。
                  </p>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-D904D6FF-617F-4151-B0C6-AEA16783D338">
                     <p class="notep1">注意：</p>
                     <p>支持使用关键字<code class="codeph">SNAPSHOT</code>代替<code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>以实现向后兼容。
                     </p>
                  </div>
                  <p><a id="d325748e417" class="indexterm-anchor"></a>出于复制目的，物化视图允许您在本地节点上维护远程数据的只读副本。您可以像在表格或视图中一样从实体化视图中选择数据。在复制环境中，通常创建的物化视图是<span class="bold">主键</span> ， <span class="bold">rowid</span> ， <span class="bold">对象</span>和<span class="bold">子查询</span>物化视图。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-272B109C-F1D6-464C-B681-EEC9A7DF0CF5">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../admin/read-only-materialized-view-concepts.html#ADMIN-GUID-350A169D-8937-484D-B21F-37B46A024782" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关用于支持复制的物化视图类型的信息</p>
                  </div>
                  <p><a id="d325748e442" class="indexterm-anchor"></a>出于数据仓库的目的，通常创建的物化视图是<span class="bold">物化聚合视图</span> ， <span class="bold">单表物化聚合视图</span>和<span class="bold">物化连接视图</span> 。查询重写可以使用所有三种类型的物化视图，查询重写是一种优化技术，它将根据主表编写的用户请求转换为包含一个或多个物化视图的语义等效请求。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-8C917243-264A-43D9-BDEC-891B2D86EAB7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233">改变物质化的视图</a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”，</span></a>以获取有关用于支持数据仓库的物化视图类型的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2162987">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-6C8503BC-CBE9-485B-8573-EEA2EEF925B5">先决条件</p>
                  <p>创建实例化视图所需的权限应该直接授予，而不是通过角色授予。</p>
                  <p>要<span class="bold">在您自己的架构中</span>创建物化视图<span class="bold">：</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须已被授予<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>系统特权<span class="bold">以及</span> <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>您还必须能够访问您不拥有的物化视图的任何主表，可以通过每个表的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，也可以通过<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统权限访问。
                        </p>
                     </li>
                  </ul>
                  <p>要<span class="bold">在另一个用户的架构中</span>创建物化视图<span class="bold">：</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>物化视图的所有者必须具有<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>系统特权。所有者还必须能够访问架构所有者不拥有的物化视图的任何主表（例如，如果主表位于远程数据库上）以及在这些主表上定义的任何物化视图日志（通过对每个表或通过<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权。
                        </p>
                     </li>
                  </ul>
                  <p>要创建一个提交时<code class="codeph">REFRESH</code>实例化视图（ <code class="codeph">REFRESH</code> <code class="codeph">ON</code> <code class="codeph">COMMIT</code>子句），除了上述特权之外，您必须对您不拥有的任何主表具有<code class="codeph">ON</code> <code class="codeph">COMMIT</code> <code class="codeph">REFRESH</code>对象特权，或者您必须具有<code class="codeph">ON</code> <code class="codeph">COMMIT</code> <code class="codeph">REFRESH</code>系统特权。
                  </p>
                  <p>要创建<span class="bold">启用</span> <span class="bold">了查询重写</span>的物化视图，除了以上权限：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果架构所有者不拥有主表，则架构所有者必须对架构外的每个表具有<code class="codeph">GLOBAL</code> <code class="codeph">QUERY</code> <code class="codeph">REWRITE</code>权限或<code class="codeph">QUERY</code> <code class="codeph">REWRITE</code>对象权限。
                        </p>
                     </li>
                     <li>
                        <p>如果要在预构建容器（ <code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句）上定义实例化视图，则必须在容器表上具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限<code class="codeph">WITH</code> <code class="codeph">GRANT</code> <code class="codeph">OPTION</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>其架构包含实例化视图的用户必须在目标表空间中具有足够的配额来存储<code class="codeph">UNLIMITED</code>化视图的主表和索引，或者必须具有<code class="codeph">UNLIMITED</code> <code class="codeph">TABLESPACE</code>系统特权。
                  </p>
                  <p>创建实例化视图时，Oracle数据库会创建一个内部表和至少一个索引，并且可以在实例化视图的模式中创建一个视图。Oracle数据库使用这些对象来维护物化视图数据。您必须具有创建这些对象所需的权限。</p>
                  <p>您可以使用基于提交SCN的物化视图日志在主表上创建以下类型的本地物化视图（包括<code class="codeph">ON</code> <code class="codeph">COMMIT</code>和<code class="codeph">ON</code> <code class="codeph">DEMAND</code> ）：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>物化聚合视图，包括单个表上的物化聚合视图</p>
                     </li>
                     <li>
                        <p>物化连接视图</p>
                     </li>
                     <li>
                        <p>基于主键和基于rowid的单表物化视图</p>
                     </li>
                     <li>
                        <p><code class="codeph">UNION</code> <code class="codeph">ALL</code>物化视图，其中每个<code class="codeph">UNION</code> <code class="codeph">ALL</code>分支都是上述物化视图类型之一</p>
                     </li>
                  </ul>
                  <p>您无法使用基于提交SCN的物化视图日志在主表上创建远程实例化视图。</p>
                  <p>不支持使用不同类型的物化视图日志（即具有基于时间戳的物化视图日志的主表和具有基于提交SCN的物化视图日志的主表）在主表上创建物化视图，并导致<code class="codeph">ORA-32414</code> 。
                  </p>
                  <p>要在<span class="italic"><code class="codeph">evaluation_edition_clause</code></span>或<span class="italic"><code class="codeph">unusable_editions_clause</code></span>指定版本，您必须具有该版本的<code class="codeph">USE</code>特权。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E47778C5-B256-4E63-AE86-577C0C403C91">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a> ， <a href="CREATE-VIEW.html#GUID-61D2D2B4-DACC-4C7C-89EB-7E50D9594D30">CREATE VIEW</a>和<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a>以获取有关这些权限的信息</p>
                        </li>
                        <li>
                           <p><a href="../admin/read-only-materialized-view-concepts.html#ADMIN-GUID-A422B474-4BED-4A60-AEDB-E93630746083" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关创建复制实例化视图的先决条件的信息</p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”，</span></a>以获取有关创建数据仓库物化视图的先决条件的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2145767">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-38EDD313-E261-418B-BCD9-9F716C2EDD45">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-9567F479-6658-49CA-AE48-F08F54918C8B"><span class="italic">create_materialized_view</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-0A9A7A70-622C-4D35-99EE-1EE5377B57AC"><img src="img/create_materialized_view.gif" alt="下面是create_materialized_view.eps的描述" title="下面是create_materialized_view.eps的描述" longdesc="img_text/create_materialized_view.html"><br><a href="img_text/create_materialized_view.html">插图描述create_materialized_view.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116388">scoped_table_ref_constraint :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2147304">physical_properties :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116410">materialized_view_props :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116626">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116443">create_mv_refresh :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHDHFBH">evaluation_edition_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHGFGAI">query_rewrite_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116388">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-94E21488-68D6-45F2-9880-06958AC11857"><span class="italic">scoped_table_ref_constraint</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-11D557B6-8640-453C-8737-299B15923817"><img src="img/scoped_table_ref_constraint.gif" alt="scoped_table_ref_constraint.eps的描述如下" title="scoped_table_ref_constraint.eps的描述如下" longdesc="img_text/scoped_table_ref_constraint.html"><br><a href="img_text/scoped_table_ref_constraint.html">scoped_table_ref_constraint.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2147304">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-14452DE7-6FAF-4E11-AFBB-E0CEF22FB437"><span class="italic">physical_properties</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E486DA34-F490-4FE9-882F-8DCEAF77A54B"><img src="img/physical_properties.gif" alt="physical_properties.eps的描述如下" title="physical_properties.eps的描述如下" longdesc="img_text/physical_properties.html"><br><a href="img_text/physical_properties.html">physical_properties.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACGCCDG">deferred_segment_creation :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116465">segment_attributes_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116476">table_compression :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIBHAD">inmemory_table_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACDACJE">heap_org_table_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116399">index_org_table_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116410">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-115F7F20-4F8D-4218-B9CA-1CF56DC543F7"><span class="italic">materialized_view_props</span> :: =</p><a id="d325748e867" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CDA8B467-8D7F-4769-9287-9365E8574E5D"><img src="img/materialized_view_props.gif" alt="materialized_view_props.eps的描述如下" title="materialized_view_props.eps的描述如下" longdesc="img_text/materialized_view_props.html"><br><a href="img_text/materialized_view_props.html">materialized_view_props.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116487">column_properties :: =</a></span> ， <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2129707">table_partitioning_clauses :: =</a></span> -part of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语法， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116920">parallel_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116521">build_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACDACJE">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-528F1DB0-0167-403A-8DED-A36AC6298D77"><span class="italic">heap_org_table_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E29136E6-413B-46D4-BB87-0BCA484FEFF3"><img src="img/heap_org_table_clause.gif" alt="下面是heap_org_table_clause.eps的描述" title="下面是heap_org_table_clause.eps的描述" longdesc="img_text/heap_org_table_clause.html"><br><a href="img_text/heap_org_table_clause.html">插图描述heap_org_table_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116399">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-560E0631-8A2A-4083-B250-E5F359E381DA"><span class="italic">index_org_table_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-03CAC022-DD2E-4D6A-948E-8A98C7B1FE83"><img src="img/index_org_table_clause.gif" alt="下面是index_org_table_clause.eps的描述" title="下面是index_org_table_clause.eps的描述" longdesc="img_text/index_org_table_clause.html"><br><a href="img_text/index_org_table_clause.html">说明index_org_table_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><code class="codeph">mapping_table_clause</code></span> ：物化视图不支持， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACDAHIE">prefix_compression :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116560">index_org_overflow_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACDAHIE">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-24A9741B-C334-4891-887F-C4DBA8614D4D"><span class="italic">prefix_compression</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-F4EEFF8B-63BF-42F2-BC53-180EEE4405E2"><img src="img/prefix_compression.gif" alt="前面是prefix_compression.eps的描述" title="前面是prefix_compression.eps的描述" longdesc="img_text/prefix_compression.html"><br><a href="img_text/prefix_compression.html">说明prefix_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116560">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5E11B5DF-C540-414D-B88E-668BAF7CB6D2"><span class="italic">index_org_overflow_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-49D54C4B-EE64-418B-9941-EE506DF9EFE8"><img src="img/index_org_overflow_clause.gif" alt="下面是index_org_overflow_clause.eps的描述" title="下面是index_org_overflow_clause.eps的描述" longdesc="img_text/index_org_overflow_clause.html"><br><a href="img_text/index_org_overflow_clause.html">说明index_org_overflow_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116465">segment_attributes_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116443">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-F5F5A195-F874-40EA-9AF9-ACD4D965E3F9"><span class="italic">create_mv_refresh</span> :: =</p><a id="d325748e957" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-15C79743-632E-4238-A63E-E733448365AC"><img src="img/create_mv_refresh.gif" alt="下面是create_mv_refresh.eps的描述" title="下面是create_mv_refresh.eps的描述" longdesc="img_text/create_mv_refresh.html"><br><a href="img_text/create_mv_refresh.html">插图描述create_mv_refresh.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-0B384C2A-F1DD-4C90-A734-A19856C7F136"></p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACGCCDG">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-C3C00352-1B4B-4C81-857B-237F9D6E47E5"><span class="italic">deferred_segment_creation</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5C52E0EE-B5B2-4048-B932-556333363DC9"><img src="img/deferred_segment_creation.gif" alt="deferred_segment_creation.eps的描述如下" title="deferred_segment_creation.eps的描述如下" longdesc="img_text/deferred_segment_creation.html"><br><a href="img_text/deferred_segment_creation.html">deferred_segment_creation.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116465">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-DDEFE471-FF4C-474D-8384-94A4BEAAE8D9"><span class="italic">segment_attributes_clause</span> :: =</p><a id="d325748e979" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E8D7BDB9-C91E-4099-93D6-D63D3A319899"><img src="img/segment_attributes_clause.gif" alt="下面是segment_attributes_clause.eps的描述" title="下面是segment_attributes_clause.eps的描述" longdesc="img_text/segment_attributes_clause.html"><br><a href="img_text/segment_attributes_clause.html">段落描述segment_attributes_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116626">physical_attributes_clause :: =</a></span> ， <code class="codeph">TABLESPACE</code> <code class="codeph">SET</code> ：不支持<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116596">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116626">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-783B5417-109D-439A-A74A-E18BED2F841E"><span class="italic">physical_attributes_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-762E035C-CCE0-4D7A-B042-2E6BBE48D695"><img src="img/physical_attributes_clause.gif" alt="physical_attributes_clause.eps的描述如下" title="physical_attributes_clause.eps的描述如下" longdesc="img_text/physical_attributes_clause.html"><br><a href="img_text/physical_attributes_clause.html">physical_attributes_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116596">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CDB21234-34E9-4572-ABF6-37579B655A5D"><span class="italic">logging_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-474358B7-7D5F-4EEF-BB83-A6C3C35C0FD5"><img src="img/logging_clause.gif" alt="logging_clause.eps的描述如下" title="logging_clause.eps的描述如下" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">说明logging_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116476">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-D2CAA8AC-CC8C-417D-BF34-13E1485DCDD0"><span class="italic">table_compression</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-549FA8DA-5B1E-47E2-B4B4-AC75F3F1E183"><img src="img/table_compression.gif" alt="table_compression.eps的描述如下" title="table_compression.eps的描述如下" longdesc="img_text/table_compression.html"><br><a href="img_text/table_compression.html">插图描述table_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIBHAD">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-99931048-AB67-48E9-BE3A-828A0979084F"><span class="italic">inmemory_table_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5528FBEE-EF3C-4B5F-85B0-0A1ECA3E9CC6"><img src="img/inmemory_table_clause.gif" alt="下面是inmemory_table_clause.eps的描述" title="下面是inmemory_table_clause.eps的描述" longdesc="img_text/inmemory_table_clause.html"><br><a href="img_text/inmemory_table_clause.html">inmemory_table_clause.eps中插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACJDJAJ">inmemory_attributes :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIIGGA">inmemory_column_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACJDJAJ">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4B0C5D98-F4B6-4C25-A44F-E68166E942F2"><span class="italic">inmemory_attributes</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-98ECE4B8-DC9D-49FA-BEB4-DF54FDFC4105"><img src="img/inmemory_attributes.gif" alt="inmemory_attributes.eps的描述如下" title="inmemory_attributes.eps的描述如下" longdesc="img_text/inmemory_attributes.html"><br><a href="img_text/inmemory_attributes.html">inmemory_attributes.eps中插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACCCGDI">inmemory_memcompress :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIFBIC">inmemory_priority :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIJEAA">inmemory_distribute :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACFCBGA">inmemory_duplicate :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACCCGDI">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-EEC624AA-BEF4-4F8A-A11D-0D4EA00183E2"><span class="italic">inmemory_memcompress</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5BB97C07-A092-4CE8-9931-A9BD148984EC"><img src="img/inmemory_memcompress.gif" alt="inmemory_memcompress.eps的描述如下" title="inmemory_memcompress.eps的描述如下" longdesc="img_text/inmemory_memcompress.html"><br><a href="img_text/inmemory_memcompress.html">inmemory_memcompress.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIFBIC">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-467E40A1-22FB-4731-BA6C-02CB64EF1EC2"><span class="italic">inmemory_priority</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-7783C9E1-76EB-4950-9F75-D578484A9514"><img src="img/inmemory_priority.gif" alt="下面是inmemory_priority.eps的描述" title="下面是inmemory_priority.eps的描述" longdesc="img_text/inmemory_priority.html"><br><a href="img_text/inmemory_priority.html">Inmemory_priority.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIJEAA">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-B70C4228-D1F5-4675-B74D-6AE8A8D3FC68"><span class="italic">inmemory_distribute</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-FD2D204A-0B4D-41F1-A5EE-7BAF3843610B"><img src="img/inmemory_distribute.gif" alt="inmemory_distribute.eps的描述如下" title="inmemory_distribute.eps的描述如下" longdesc="img_text/inmemory_distribute.html"><br><a href="img_text/inmemory_distribute.html">inmemory_distribute.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACFCBGA">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-46E1E66D-23E1-4E5B-8C3C-7045692AD095"><span class="italic">inmemory_duplicate</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-49EF6BFE-7DC6-4E39-ACA5-6DB7A2D0140B"><img src="img/inmemory_duplicate.gif" alt="下面是inmemory_duplicate.eps的描述" title="下面是inmemory_duplicate.eps的描述" longdesc="img_text/inmemory_duplicate.html"><br><a href="img_text/inmemory_duplicate.html">inmemory_duplicate.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACIIGGA">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-47265EA1-F4FD-4FD5-B025-8BA04E5C2293"><span class="italic">inmemory_column_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-132D8F07-D1E8-426E-8937-47C97BC25CFF"><img src="img/inmemory_column_clause.gif" alt="inmemory_column_clause.eps的描述如下" title="inmemory_column_clause.eps的描述如下" longdesc="img_text/inmemory_column_clause.html"><br><a href="img_text/inmemory_column_clause.html">inmemory_column_clause.eps中插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACCCGDI">inmemory_memcompress :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116487">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-A50CE312-8CB8-4EEF-AE2A-A547B300CF81"><span class="italic">column_properties</span> :: =</p><a id="d325748e1138" class="indexterm-anchor"></a><a id="d325748e1144" class="indexterm-anchor"></a><a id="d325748e1148" class="indexterm-anchor"></a><a id="d325748e1154" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CFFDE3F8-1FC7-4D5C-A3C0-C6872684C44E"><img src="img/column_properties.gif" alt="下面是column_properties.eps的描述" title="下面是column_properties.eps的描述" longdesc="img_text/column_properties.html"><br><a href="img_text/column_properties.html">插图描述column_properties.eps</a></div>
                  <!-- class="figure" -->
                  <p><span class="italic"><code class="codeph">(</code></span> <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116642">object_type_col_properties :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116653">nested_table_col_properties :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116664">varray_col_properties :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116912">LOB_partition_storage :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116856">LOB_storage_clause :: =</a></span> ， <span class="italic"><code class="codeph">XMLType_column_properties</code></span> ：物化视图不支持）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116642">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-9EE4DEB6-E669-4782-B726-BC8CA74FEC9D"><span class="italic">object_type_col_properties</span> :: =</p><a id="d325748e1195" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-6997B0C8-1F10-44C4-9006-DE79112C24AB"><img src="img/object_type_col_properties.gif" alt="下面是object_type_col_properties.eps的描述" title="下面是object_type_col_properties.eps的描述" longdesc="img_text/object_type_col_properties.html"><br><a href="img_text/object_type_col_properties.html">插图描述object_type_col_properties.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116730">substitutable_column_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116730">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-DE23AFA0-8BA3-4483-A5E8-C43E7E780ECB"><span class="italic">substitutable_column_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5F2E47EF-42EE-4F33-8517-3D79BB6DEA0B"><img src="img/substitutable_column_clause.gif" alt="下面是substitutable_column_clause.eps的描述" title="下面是substitutable_column_clause.eps的描述" longdesc="img_text/substitutable_column_clause.html"><br><a href="img_text/substitutable_column_clause.html">substitutable_column_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116653">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-DE82713C-69DF-4504-8713-AF0AED2803A5"><span class="italic">nested_table_col_properties</span> :: =</p><a id="d325748e1223" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-B7AEC57A-91CA-4E3C-AEDE-3D7AF276E0FE"><img src="img/nested_table_col_properties.gif" alt="下面是nested_table_col_properties.eps的描述" title="下面是nested_table_col_properties.eps的描述" longdesc="img_text/nested_table_col_properties.html"><br><a href="img_text/nested_table_col_properties.html">插图说明nested_table_col_properties.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116730">substitutable_column_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2126768">object_properties :: =</a></span> ， <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2126711">physical_properties :: =</a></span> -part of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语法， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116487">column_properties :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116664">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-99B0082A-6B4E-4AB1-9536-1AAA5AE3E20E"><span class="italic">varray_col_properties</span> :: =</p><a id="d325748e1260" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CD64FF86-46BF-4865-8531-E120A1AF1A91"><img src="img/varray_col_properties.gif" alt="下面是varray_col_properties.eps的描述" title="下面是varray_col_properties.eps的描述" longdesc="img_text/varray_col_properties.html"><br><a href="img_text/varray_col_properties.html">varray_col_properties.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116730">substitutable_column_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__BABFECCA">varray_storage_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__BABFECCA">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-383453EF-0CF5-49DE-8A22-D4AE07A8C859"><span class="italic">varray_storage_clause</span> :: =</p><a id="d325748e1282" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4009C007-39ED-43C4-AD18-1F351C482A9C"><img src="img/varray_storage_clause.gif" alt="下面是varray_storage_clause.eps的描述" title="下面是varray_storage_clause.eps的描述" longdesc="img_text/varray_storage_clause.html"><br><a href="img_text/varray_storage_clause.html">varray_storage_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2160265">LOB_parameters :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116856">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-96B61DDC-ED53-4DE6-82BC-763E441E56EC"><span class="italic">LOB_storage_clause</span> :: =</p><a id="d325748e1300" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-1334E998-7D0A-417E-BE2C-58B39E892BB2"><img src="img/lob_storage_clause.gif" alt="lob_storage_clause.eps的描述如下" title="lob_storage_clause.eps的描述如下" longdesc="img_text/lob_storage_clause.html"><br><a href="img_text/lob_storage_clause.html">说明lob_storage_clause.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__BABCGFBH">LOB_storage_parameters :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__BABCGFBH">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-954D629A-F87A-4778-BEB8-194B8ED793A7"><span class="italic">LOB_storage_parameters</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-AC918E57-EA18-4B1F-B26C-32AD9E02AA97"><img src="img/lob_storage_parameters.gif" alt="下面是lob_storage_parameters.eps的描述" title="下面是lob_storage_parameters.eps的描述" longdesc="img_text/lob_storage_parameters.html"><br><a href="img_text/lob_storage_parameters.html">说明lob_storage_parameters.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <code class="codeph">TABLESPACE</code> <code class="codeph">SET</code> ：不支持<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2160265">LOB_parameters :: =</a></span> ， <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2160265">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-8E294AD3-4307-4615-84D8-B0E610C476DF"><span class="italic">LOB_parameters</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-2BAD9A69-2667-4A5A-902A-2B9297574E3B"><img src="img/lob_parameters.gif" alt="lob_parameters.eps的描述如下" title="lob_parameters.eps的描述如下" longdesc="img_text/lob_parameters.html"><br><a href="img_text/lob_parameters.html">说明lob_parameters.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116596">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116912">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-C17CECC7-CA65-441D-BBA8-9586932D1C43"><span class="italic">LOB_partition_storage</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-56DE0F26-ED3B-4232-B241-769C0DFA1217"><img src="img/lob_partition_storage.gif" alt="lob_partition_storage.eps的描述如下" title="lob_partition_storage.eps的描述如下" longdesc="img_text/lob_partition_storage.html"><br><a href="img_text/lob_partition_storage.html">说明lob_partition_storage.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116856">LOB_storage_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116664">varray_col_properties :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116920">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-9FBF2B8B-963A-4E5E-8AC0-EE168A171D2C"><span class="italic">parallel_clause</span> :: =</p><a id="d325748e1389" class="indexterm-anchor"></a><div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-1F13ECE8-100E-463D-B080-8AFE49C8561B"><img src="img/parallel_clause.gif" alt="parallel_clause.eps的描述如下" title="parallel_clause.eps的描述如下" longdesc="img_text/parallel_clause.html"><br><a href="img_text/parallel_clause.html">parallel_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116521">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-09E8AF24-00AA-4B40-B232-5B43C6DBD7AE"><span class="italic">build_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-95179ACF-586E-43F8-82AB-509DE46B447F"><img src="img/build_clause.gif" alt="build_clause.eps的描述如下" title="build_clause.eps的描述如下" longdesc="img_text/build_clause.html"><br><a href="img_text/build_clause.html">插图描述build_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHDHFBH">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CADC7312-DFF3-47B3-BB3C-71C893EEB3DA"><span class="italic">evaluation_edition_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-EFB7BA46-B0FC-4C91-9E02-41A73A5581DA"><img src="img/evaluation_edition_clause.gif" alt="evaluate_edition_clause.eps的描述如下" title="evaluate_edition_clause.eps的描述如下" longdesc="img_text/evaluation_edition_clause.html"><br><a href="img_text/evaluation_edition_clause.html">说明的描述evaluation_edition_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHGFGAI">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-BF9AF681-9667-45AA-82AD-0A828EB9B402"><span class="italic">query_rewrite_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-17DEC8F3-C1FD-4F89-A483-256CCECC3D70"><img src="img/query_rewrite_clause.gif" alt="query_rewrite_clause.eps的描述如下" title="query_rewrite_clause.eps的描述如下" longdesc="img_text/query_rewrite_clause.html"><br><a href="img_text/query_rewrite_clause.html">query_rewrite_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-3467ADC8-5524-4CB1-B010-9A5458C986E3"><span class="italic">unusable_editions_clause</span> :: =</p>
                  <div class="figure" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-EBEEDE09-1CB0-40C5-BDAA-4555ACF43319"><img src="img/unusable_editions_clause.gif" alt="下面是unusable_editions_clause.eps的说明" title="下面是unusable_editions_clause.eps的说明" longdesc="img_text/unusable_editions_clause.html"><br><a href="img_text/unusable_editions_clause.html">插图说明unusable_editions_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2145773">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E1C4B1B8-C961-4379-9E01-AC58538AE30D">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-680C3657-DD16-4E82-BD49-32C5ECD7C2BA"><span class="italic">模式</span></p>
                  <p>指定要包含实例化视图的架构。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库会在模式中创建实例化视图。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-208FCA5A-E298-44E8-BAFF-AE6DA84C4906"><span class="italic">materialized_view</span></p>
                  <p>指定要创建的实例化视图的名称。该名称必须满足<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”中</span>列出的要求。Oracle数据库通过向实例化视图名称添加前缀或后缀来生成用于维护实例化视图的表和索引的名称。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-98DC9713-6D19-4775-98CA-A2B250D64970"><span class="italic">column_alias</span></p>
                  <p>您可以为实例化视图的每列指定列别名。列别名列表显式解决了任何列名冲突，无需在实例化视图的<code class="codeph">SELECT</code>子句中指定别名。如果在此子句中指定任何列别名，则必须为<code class="codeph">SELECT</code>子句中引用的每个数据源指定别名。
                  </p>
                  <p><span class="bold">ENCRYPT条款</span></p>
                  <p>使用此子句加密实例化视图的此列。请参考<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>子句<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGDFHBD">encryption_spec</a></span>有关列加密的详细信息。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-50588C82-1BF3-4F50-93CF-981DFF459B51">OF <span class="italic">object_type</span></p>
                  <p><code class="codeph">OF</code> <span class="italic"><code class="codeph">object_type</code></span>子句允许您显式创建<span class="italic"><code class="codeph">object_type</code></span>类型的<span class="bold">对象物化视图</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-121DFE61-B05A-415B-B7C3-11D8A801294F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">OF</code> <span class="italic"><code class="codeph">type_name</code></span>子句的更多信息，请参见<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ... <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159410">object_table</a></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-0DCED048-7C14-4FB8-882A-C95D10C5E6EF"><span class="italic">scoped_table_ref_constraint</span></p>
                  <p>使用<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句限制对单个对象表的引用范围。您可以使用<span class="italic"><code class="codeph">scope_table_name</code></span>引用表名，也<span class="italic"><code class="codeph">scope_table_name</code></span>列别名。<code class="codeph">REF</code>列或属性中的值指向<span class="italic"><code class="codeph">scope_table_name</code></span>或<span class="italic"><code class="codeph">c_alias</code></span>中的对象，其中存储与<code class="codeph">REF</code>列相同类型的对象实例。如果指定别名，则它们必须与<code class="codeph">SELECT</code>化视图的定义查询的<code class="codeph">SELECT</code>列表中的列一一对应。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-908EB334-D705-46CD-AA88-ADF63B960D0B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002226">SCOPE REF Constraints</a> ”</span>了解更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-C3762BB3-0FBE-4096-B275-E68E1D20A3A1">默认收集</p>
                  <p>使用此子句指定实例化视图的默认排序规则。默认排序规则用作实体化视图的定义查询中包含的所有字符文字的派生排序规则。物化视图列不使用默认排序规则;物化视图列的排序规则派生自物化视图的定义子查询。如果任何字符列基于定义子查询中没有派生排序规则的表达式，则<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句将失败并显示错误，或者物化视图将以无效状态创建。
                  </p>
                  <p>对于<span class="italic"><code class="codeph">collation_name</code></span> ，请指定有效的命名排序规则或伪排序规则。
                  </p>
                  <p>如果省略此子句，则物化视图的默认排序规则将设置为包含实例化视图的模式的有效模式默认排序规则。有关有效架构默认排序规则的详细信息，请参阅<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>的<a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B__DEFAULT_COLLATION-39CF7241">DEFAULT_COLLATION</a>子句。
                  </p>
                  <p>仅当<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.2</code>或更高，并且<code class="codeph">MAX_STRING_SIZE</code>初始化参数设置为<code class="codeph">EXTENDED</code> ，才能指定<code class="codeph">DEFAULT</code> <code class="codeph">COLLATION</code>子句。</p>
                  <p>要更改实例化视图的默认排序规则，必须重新创建实例化视图。</p>
                  <p><span class="bold">物化视图的默认排序规则限制</span></p>
                  <p>指定实例化视图的默认排序规则时，以下限制适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果物化视图的定义查询包含<code class="codeph">WITH</code> <span class="italic"><code class="codeph">plsql_declarations</code></span>子句，则物化视图的默认排序规则必须为<code class="codeph">USING_NLS_COMP</code> 。</p>
                     </li>
                     <li>
                        <p>如果在预构建的表上创建实例化视图，则表列的声明的排序规则必须与从定义查询派生的实例化视图列的相应排序规则相同。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-A128CD1A-EF11-42E7-8F46-20CC015DBBDE">关于PREUUTT表条款</p>
                  <p><a id="d325748e1640" class="indexterm-anchor"></a> <code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句允许您将现有表注册为<code class="codeph">PREBUILT</code>初始化的物化视图。此子句对于在数据仓库环境中注册大型实例化视图特别有用。该表必须具有相同的名称，并且与生成的实例化视图位于相同的模式中。
                  </p>
                  <p>如果删除了物化视图，则预先存在的表将恢复为其作为表的标识。</p>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-8B0172C7-C729-4824-855C-A21935C7EB17">
                     <p class="notep1">注意：</p>
                     <p>此子句假定表对象反映子查询的实现。Oracle强烈建议您确保此假设为真，以确保物化视图正确反映其主表中的数据。</p>
                  </div>
                  <p><code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句在以下场景中可能很有用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您有一个表格来表示查询结果。创建表是一项昂贵的操作，可能需要很长时间。您想要在查询上创建物化视图。您可以使用<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句来避免执行查询和填充<code class="codeph">PREBUILT</code>化视图的容器的开销。
                        </p>
                     </li>
                     <li>
                        <p>您暂时停止使用物化视图，但使用<code class="codeph">DROP</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>保留其容器表...<code class="codeph">PRESERVE</code> <code class="codeph">TABLE</code>语句。然后，您决定重新创建实例化视图，并且您知道视图的主表未更改。您可以使用<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句创建<code class="codeph">PREBUILT</code>化视图。这避免了为物化视图创建和填充容器表的开销和时间。
                        </p>
                     </li>
                  </ul>
                  <p>如果指定<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code> ，则Oracle数据库不会创建<code class="codeph">I_SNAP$</code>索引。该索引提高了快速刷新性能。如果您想要此索引的好处，那么您可以手动创建它。有关更多信息，请参阅<a href="../dwhsg/basic-materialized-views.html#DWHSG8216" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> 。
                  </p>
                  <p><span class="bold">降低精度</span></p>
                  <p>如果表或物化视图列的精度与<span class="italic"><code class="codeph">subquery</code></span>返回的精度不完全匹配，则指定<code class="codeph">WITH</code> <code class="codeph">REDUCED</code> <code class="codeph">PRECISION</code>以授权精度损失。
                  </p>
                  <p><span class="bold">没有降低精度</span></p>
                  <p>指定<code class="codeph">WITHOUT</code> <code class="codeph">REDUCED</code> <code class="codeph">PRECISION</code>以要求表或物化视图列的精度完全匹配<span class="italic"><code class="codeph">subquery</code></span>返回的精度，否则创建操作将失败。这是默认值。
                  </p>
                  <p><span class="bold">使用预构建表的限制</span></p>
                  <p>预建表受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">subquery</code></span>每个列别名必须对应于预构建表中的列，并且相应的列必须具有匹配的数据类型。
                        </p>
                     </li>
                     <li>
                        <p>如果指定此子句，则不能为<span class="italic"><code class="codeph">subquery</code></span>未引用的任何列指定<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束，除非您还为该列指定了默认值。
                        </p>
                     </li>
                     <li>
                        <p>创建rowid <code class="codeph">PREBUILT</code>化视图时，不能指定<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5B20AD51-85B3-4420-A1A6-0F69C5DCC2B0">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092101">创建预构建的物化视图：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E0E08E79-FA87-4785-B07D-7BBD8BC15295"><span class="italic">physical_properties_clause</span></p>
                  <p><span class="italic"><code class="codeph">physical_properties_clause</code></span>的组件对于它们对表具有的物化视图具有相同的语义，并在后面的部分中描述了异常和添加。
                  </p>
                  <p><span class="bold"><span class="italic">physical_properties_clause的</span></span> <span class="bold">限制</span></p>
                  <p>您不能为<code class="codeph">ORGANIZATION</code>化视图指定<code class="codeph">ORGANIZATION</code> <code class="codeph">EXTERNAL</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-44BAF717-17F9-4C42-8C13-8C877ED43272"><span class="italic">deferred_segment_creation</span></p>
                  <p>使用此子句确定何时应创建此物化视图的段。有关更多信息，请参见<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>子句<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGJHDEB">deferred_segment_creation</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-BF9E0CF7-782D-4629-A495-A0667B7383B6"><span class="italic">segment_attributes_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">segment_attributes_clause</code></span>为<code class="codeph">PCTFREE</code> ， <code class="codeph">PCTUSED</code>和<code class="codeph">INITRANS</code>参数建立值，实现视图的存储特性，分配表空间以及指定是否要进行日志记录。在<code class="codeph">USING</code> <code class="codeph">INDEX</code>子句中，您不能指定<code class="codeph">PCTFREE</code>或<code class="codeph">PCTUSED</code> 。</p>
                  <p><span class="bold">TABLESPACE条款</span> <a id="d325748e1887" class="indexterm-anchor"></a></p>
                  <p>指定要在其中创建实例化视图的表空间。如果省略此子句，则Oracle数据库会在包含实例化视图的模式的缺省表空间中创建实例化视图。</p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-015647B9-791B-413C-AD90-B4950883215D">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393">physical_attributes_clause</a></span>和<span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393__I1026834">storage_clause</a></span>获取这些子句的完整描述，包括默认值</p>
                  </div>
                  <p><span class="bold"><span class="italic">logging_clause</span></span></p>
                  <p>指定<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code>以建立<code class="codeph">NOLOGGING</code>化视图的日志记录特征。日志记录特性会影响物化视图的创建以及通过<code class="codeph">DBMS_REFRESH</code>程序包启动的任何非原子刷新。默认值是物化视图所在的表空间的日志记录特征。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-82503AFA-A55B-4780-BB15-E1A5BE83A3DC">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span>获取有关此子句和<a href="../arpls/DBMS_REFRESH.html#ARPLS043" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>的完整说明，以获取有关原子和非原子刷新的更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-7F579A3C-5813-4132-9B49-E3CE5B64D36A"><span class="italic">table_compression</span></p>
                  <p><a id="d325748e1934" class="indexterm-anchor"></a><a id="d325748e1936" class="indexterm-anchor"></a><a id="d325748e1940" class="indexterm-anchor"></a>使用<span class="italic"><code class="codeph">table_compression</code></span>子句指示数据库是否压缩数据段以减少磁盘和内存使用。该子句在<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>和<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>具有相同的语义。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2128733">table_compression</a></span>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CACHGBGI">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-5392186D-01A0-428A-B1E9-04F83FB89F23"><span class="italic">inmemory_table_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">inmemory_table_clause</code></span>启用或禁用内存中列存储（IM列存储）的<span class="italic"><code class="codeph">inmemory_table_clause</code></span>化视图。此子句与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGBCAAE">inmemory_table_clause</a></span>具有相同的语义。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-D6347D09-6108-4C8D-B4D1-E6A774A5E595"><span class="italic">inmemory_column_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">inmemory_column_clause</code></span>禁用IM列存储的特定<span class="italic"><code class="codeph">inmemory_column_clause</code></span>化视图列，并指定特定列的数据压缩方法。此子句与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGJEEBB">inmemory_column_clause</a></span>具有相同的语义，并添加了以下内容：如果指定<span class="italic"><code class="codeph">inmemory_column_clause</code></span> ，则还必须为<span class="italic"><code class="codeph">column_alias</code></span>化视图中的每个列指定<span class="italic"><code class="codeph">column_alias</code></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2105365">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-1302CCFA-E573-44E1-939D-14A3AB740C92"><span class="italic">index_org_table_clause</span></p>
                  <p><code class="codeph">ORGANIZATION</code> <code class="codeph">INDEX</code>子句允许您创建索引组织的物化视图。在这样的物化视图中，数据行存储在物化视图的主键上定义的索引中。您可以为以下类型的物化视图指定索引组织：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>只读和可更新的对象物化视图。您必须确保主表具有主键。</p>
                     </li>
                     <li>
                        <p>只读和可更新的主键物化视图。</p>
                     </li>
                     <li>
                        <p>只读rowid实体化视图。</p>
                     </li>
                  </ul>
                  <p><span class="italic"><code class="codeph">index_org_table_clause</code></span>的关键字和参数具有与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>描述的相同的语义，并具有以下限制。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-ADB2B4B2-ED84-455E-8CB7-75F450E2954B">
                     <p class="notep1">也可以看看：</p>
                     <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2128766">index_org_table_clause</a></span></p>
                  </div>
                  <p><span class="bold">索引组织物化视图的限制</span></p>
                  <p>索引组织的物化视图受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能指定以下<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>子句： <code class="codeph">CACHE</code>或<code class="codeph">NOCACHE</code> ， <code class="codeph">CLUSTER</code>或<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code> 。</p>
                     </li>
                     <li>
                        <p>在<span class="italic"><code class="codeph">index_org_table_clause</code></span> ：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您无法指定<span class="italic"><code class="codeph">mapping_table_clause</code></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您只能为基于复合主键的物化视图指定<code class="codeph">COMPRESS</code> 。您可以基于简单主键或复合主键为<code class="codeph">NOCOMPRESS</code>化视图指定<code class="codeph">NOCOMPRESS</code> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-2A64B250-6C1B-43B9-B5B5-01824184FCC2">CLUSTER条款</p>
                  <p><code class="codeph">CLUSTER</code>子句允许您将<code class="codeph">CLUSTER</code>化视图创建为指定集群的一部分。集群实例化视图使用集群的空间分配。因此，您不要使用<code class="codeph">CLUSTER</code>子句指定物理属性或<code class="codeph">TABLESPACE</code>子句。
                  </p>
                  <p><span class="bold">对集群物化视图的限制</span></p>
                  <p>如果指定<code class="codeph">CLUSTER</code> ，则无法在<span class="italic"><code class="codeph">materialized_view_props</code></span>指定<span class="italic"><code class="codeph">table_partitioning_clauses</code></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-F7A44531-3E2C-46DD-A63E-E550393C24B0"><span class="italic">materialized_view_props</span></p>
                  <p>使用这些属性子句描述不基于现有表的实例化视图。要创建基于现有表的<code class="codeph">PREBUILT</code>化视图，请使用<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句。
                  </p>
                  <p><span class="bold"><span class="italic">column_properties</span></span></p>
                  <p><span class="italic"><code class="codeph">column_properties</code></span>子句允许您指定LOB，嵌套表，varray或<code class="codeph">XMLType</code>列的存储特征。<span class="italic"><code class="codeph">object_type_col_properties</code></span>与物化视图无关。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-EAC1CB17-47F3-4E5E-ADF5-636F11187B39">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">创建表</a> <span class="bold"> </span>有关指定此子句的参数的详细信息</p>
                  </div>
                  <p><span class="bold"><span class="italic">table_partitioning_clauses</span></span></p>
                  <p><span class="italic"><code class="codeph">table_partitioning_clauses</code></span>允许您指定<span class="italic"><code class="codeph">table_partitioning_clauses</code></span>化视图在指定的值范围或散列函数上进行分区。物化视图的分区与表的分区相同。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-D630187C-A09B-440D-AAC6-1A5E4E416254">
                     <p class="notep1">也可以看看：</p>
                     <p><code class="codeph">CREATE TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2215406">table_partitioning_clauses</a></span></p>
                  </div>
                  <p><span class="bold">CACHE | NOCACHE</span><a id="d325748e2225" class="indexterm-anchor"></a><a id="d325748e2229" class="indexterm-anchor"></a></p>
                  <p>对于将频繁访问的数据， <code class="codeph">CACHE</code>指定在执行全表扫描时，为此表检索的块放置在缓冲区高速缓存中最近最少使用（LRU）列表的最近使用的末尾。此属性对小型查找表很有用。<code class="codeph">NOCACHE</code>指定将块放置在LRU列表的最近最少使用的末尾。
                  </p>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-E6BCDDDC-90C6-4FA7-92B0-8B031CB94F9F">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">NOCACHE</code>对您在<span class="italic"><code class="codeph">storage_clause</code></span>指定<code class="codeph">KEEP</code>物化视图没有影响。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-D3B8EC9E-7167-435C-8152-4F7FD8DDD54C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">创建表</a> <span class="bold"> </span>有关指定<code class="codeph">CACHE</code>或<code class="codeph">NOCACHE</code></p>
                  </div>
                  <p><span class="bold"><span class="italic">parallel_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">parallel_clause</code></span>允许您指示物化视图是否支持并行操作，并在创建后为物化视图设置查询和DML的默认并行度。
                  </p>
                  <p>有关此子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> 。</p>
                  <p><span class="bold"><span class="italic">build_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">build_clause</code></span>允许您指定何时填充<span class="italic"><code class="codeph">build_clause</code></span>化视图。
                  </p>
                  <p><span class="bold">即时</span></p>
                  <p>指定<code class="codeph">IMMEDIATE</code>以指示要立即填充<code class="codeph">IMMEDIATE</code>化视图。这是默认值。
                  </p>
                  <p><span class="bold">DEFERRED</span></p>
                  <p>指定<code class="codeph">DEFERRED</code>以指示<code class="codeph">DEFERRED</code>化视图将由下一个<code class="codeph">REFRESH</code>操作填充。第一个（延迟）刷新必须始终是完全刷新。在此之前，物化视图的过期值为<code class="codeph">UNUSABLE</code> ，因此不能用于查询重写。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4EB346C1-6C2E-4711-9449-FDE0325686E7">使用INDEX条款</p>
                  <p><a id="d325748e2324" class="indexterm-anchor"></a><a id="d325748e2328" class="indexterm-anchor"></a> <code class="codeph">USING</code> <code class="codeph">INDEX</code>子句允许您为Oracle数据库用于维护物化视图数据的默认索引建立<code class="codeph">INITRANS</code>和<code class="codeph">STORAGE</code>参数的值。如果未指定<code class="codeph">USING</code> <code class="codeph">INDEX</code> ，则默认值将用于索引。Oracle数据库使用默认索引来加速<code class="codeph">FAST</code>化视图的增量（ <code class="codeph">FAST</code> ）刷新。
                  </p>
                  <p><span class="bold">对USING INDEX条款的限制</span></p>
                  <p>您不能在此子句中指定<code class="codeph">PCTUSED</code>参数。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-1ACA57F0-E86F-416B-8507-A27DE39CCB82">不使用索引条款</p>
                  <p><a id="d325748e2367" class="indexterm-anchor"></a><a id="d325748e2371" class="indexterm-anchor"></a><a id="d325748e2375" class="indexterm-anchor"></a><a id="d325748e2377" class="indexterm-anchor"></a>指定<code class="codeph">USING</code> <code class="codeph">NO</code> <code class="codeph">INDEX</code>以禁止创建默认索引。您可以使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句显式创建备用索引。如果指定<code class="codeph">USING</code> <code class="codeph">NO</code> <code class="codeph">INDEX</code>并且<code class="codeph">USING</code>快速刷新方法（ <code class="codeph">REFRESH</code> <code class="codeph">FAST</code> ）创建实例化视图，则应创建此类索引。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-FC03CD97-B8CB-4BD9-812B-98ECF8C0B9BC"><span class="italic">create_mv_refresh</span></p>
                  <p>使用<span class="italic"><code class="codeph">create_mv_refresh</code></span>子句指定数据库刷新实例化视图的默认方法，模式和时间。如果修改了物化视图的主表，则必须更新物化视图中的数据，以使物化视图准确反映当前主表中的数据。此子句允许您计划时间并指定数据库刷新实例化视图的方法和模式。
                  </p>
                  <p><span class="bold">对同步刷新的限制</span></p>
                  <p>如果使用同步刷新方法，则必须指定<code class="codeph">ON</code> <code class="codeph">DEMAND</code>和<code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code> 。</p>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-719D9E6B-FD13-450D-B784-79D1F189FA4D">
                     <p class="notep1">注意：</p>
                     <p>此子句仅设置默认刷新选项。有关实际实现刷新的说明，请参阅“ <a href="../admin/read-only-materialized-view-concepts.html#ADMIN-GUID-31E1E90D-C565-40EF-BD22-4DB2D13462AA" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a>和“ <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南”</span></a> 。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-325BF242-0A96-4379-9532-E87D70D59D7B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2098290">物化视图的定期刷新：示例</a> ”</span>和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119766">物化视图的自动刷新时间：示例</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关刷新方法的更多信息，请<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/monitoring-materialized-view-refresh.html#DWHSG-GUID-6AD8879A-0BE5-466E-8D19-1D076C5DDFFB" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解如何使用刷新统计信息来监视物化视图刷新操作的性能</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">快速条款</span><a id="d325748e2483" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">FAST</code>以指示快速刷新方法，该方法根据主表发生的更改执行刷新。传统DML更改的更改存储在与主表关联的物化视图日志中。直接路径<code class="codeph">INSERT</code>操作的更改存储在直接加载程序日志中。
                  </p>
                  <p>如果指定<code class="codeph">REFRESH</code> <code class="codeph">FAST</code> ，则除非已为物化视图主表存在实例化视图日志，否则<code class="codeph">CREATE</code>语句将失败。当直接路径<code class="codeph">INSERT</code>发生时，Oracle数据库会自动创建直接加载器日志。无需用户干预。
                  </p>
                  <p>对于传统的DML更改和直接路径<code class="codeph">INSERT</code>操作，其他条件可能会限制物化视图的合格性以进行快速刷新。
                  </p>
                  <p><span class="bold">FAST Refresh的限制</span></p>
                  <p><code class="codeph">FAST</code>刷新受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在创建时指定<code class="codeph">FAST</code>刷新时，Oracle数据库会验证您正在创建的实例化视图是否有资格进行快速刷新。在<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中将刷新方法更改为<code class="codeph">FAST</code>时，Oracle数据库不会执行此验证。如果物化视图不符合快速刷新条件，则当您尝试刷新此视图时，Oracle数据库会返回错误。
                        </p>
                     </li>
                     <li>
                        <p>如果定义查询包含分析函数或<code class="codeph">XMLTable</code>函数，则物化视图不符合快速刷新的条件。
                        </p>
                     </li>
                     <li>
                        <p>如果定义查询引用了定义了<code class="codeph">XMLIndex</code>索引的表，则物化视图不符合快速刷新的条件。
                        </p>
                     </li>
                     <li>
                        <p>如果其任何列已加密，则无法快速刷新实例化视图。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4DA7A1CA-E401-4809-AFC4-E72525F4CB61">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../admin/creating-and-managing-read-only-materialized-views.html#ADMIN-GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1" target="_blank"><span class="italic">“Oracle数据库管理员指南”，</span></a>用于限制复制环境中的快速刷新</p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于限制数据仓库环境中的快速刷新</p>
                        </li>
                        <li>
                           <p>该<code class="codeph">EXPLAIN_MVIEW</code>的议事<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><code class="codeph">DBMS_MVIEW</code></a>包快速刷新和帮助诊断问题<code class="codeph">TUNE_MVIEW</code>的议事<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><code class="codeph">DBMS_MVIEW</code></a>包的查询重写问题修正</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">分析函数</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2080820">创建快速可刷新的物化视图：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">完整的条款</span><a id="d325748e2604" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">COMPLETE</code>以指示完整的刷新方法，该方法通过执行实例化视图的定义查询来实现。如果您请求完全刷新，则即使可以快速刷新，Oracle数据库也会执行完全刷新。
                  </p>
                  <p><span class="bold">FORCE条款</span><a id="d325748e2616" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">FORCE</code>以指示在发生刷新时，Oracle数据库将在可能的情况下执行快速刷新，或者如果无法快速刷新则执行完全刷新。如果未指定刷新方法（ <code class="codeph">FAST</code> ， <code class="codeph">COMPLETE</code>或<code class="codeph">FORCE</code> ），则<code class="codeph">FORCE</code>是默认值。
                  </p>
                  <p><span class="bold">ON COMMIT条款</span><a id="d325748e2640" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ON</code> <code class="codeph">COMMIT</code>以指示只要数据库提交在实例化视图的主表上操作的事务，就会发生刷新。此子句可能会增加完成提交所需的时间，因为数据库会在提交过程中执行刷新操作。
                  </p>
                  <p>您只能指定<code class="codeph">ON</code> <code class="codeph">COMMIT</code> ， <code class="codeph">ON</code> <code class="codeph">DEMAND</code>和<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>子句中的一个。如果指定<code class="codeph">ON</code> <code class="codeph">COMMIT</code> ，则不能同时指定<code class="codeph">START</code> <code class="codeph">WITH</code>或<code class="codeph">NEXT</code> 。</p>
                  <p><span class="bold">刷新ON COMMIT的限制</span></p>
                  <p>以下限制适用于<code class="codeph">ON</code> <code class="codeph">COMMIT</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>包含对象类型或Oracle提供的类型的实例化视图不支持此子句。</p>
                     </li>
                     <li>
                        <p>具有远程表的物化视图不支持此子句。</p>
                     </li>
                     <li>
                        <p>如果指定此子句，则不能随后在此物化视图的任何主表上执行分布式事务。例如，您无法通过从远程表中进行选择来插入主服务器。<code class="codeph">ON</code> <code class="codeph">DEMAND</code>子句不会对主表上的后续分布式事务施加此限制。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">根据需求条款</span><a id="d325748e2721" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ON</code> <code class="codeph">DEMAND</code>以指示数据库不会刷新<code class="codeph">DBMS_MVIEW</code>化视图，除非用户通过三个<code class="codeph">DBMS_MVIEW</code>刷新过程之一手动启动刷新。
                  </p>
                  <p>您只能指定<code class="codeph">ON</code> <code class="codeph">COMMIT</code> ， <code class="codeph">ON</code> <code class="codeph">DEMAND</code>和<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>子句中的一个。如果省略所有这三个子句，则默认为<code class="codeph">ON</code> <code class="codeph">DEMAND</code> 。您可以通过在同一<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句或后续<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中指定<code class="codeph">START</code> <code class="codeph">WITH</code>或<code class="codeph">NEXT</code>子句来覆盖此默认设置。
                  </p>
                  <p><code class="codeph">START</code> <code class="codeph">WITH</code>和<code class="codeph">NEXT</code>优先于<code class="codeph">ON</code> <code class="codeph">DEMAND</code> 。因此，在大多数情况下，指定<code class="codeph">START</code> <code class="codeph">WITH</code>或<code class="codeph">NEXT</code>时指定<code class="codeph">ON</code> <code class="codeph">DEMAND</code>没有意义。</p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-508F47F0-EE0C-48D1-921F-4D0A39EDC3BA">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关这些过程的信息，请<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，您可以通过指定<code class="codeph">REFRESH</code> <code class="codeph">ON</code> <code class="codeph">DEMAND</code>来创建物化视图的类型</p>
                        </li>
                     </ul>
                  </div>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__ONSTATEMENTCLAUSE-3D1E0D2F"><span class="bold">关于陈述条款</span></p>
                  <p>指定<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>以指示每次在任何物化视图的基表上执行DML操作时都会发生自动刷新。
                  </p>
                  <p>您只能指定<code class="codeph">ON</code> <code class="codeph">COMMIT</code> ， <code class="codeph">ON</code> <code class="codeph">DEMAND</code>和<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>子句中的一个。只有在<span class="italic">创建</span>物化视图时才能指定<code class="codeph">ON</code> <code class="codeph">STATEMENT</code> 。您不能随后<span class="italic">更改实体</span>化视图以使用<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>刷新。
                  </p>
                  <p><span class="bold">刷新ON声明的限制</span></p>
                  <p>以下限制适用于<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>此子句只能用于可快速刷新的物化视图。必须使用<code class="codeph">REFRESH</code> <code class="codeph">FAST</code>子句指定<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>物化视图定义查询中引用的基表必须连接在使用星型模式或雪花模式模型的连接图中。查询必须只包含一个集中式事实表和一个或多个维度表，所有连接表对都使用主键 - 外键约束相关联。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>雪花模型的深度没有限制。</p>
                           </li>
                           <li>
                              <p>约束可以处于<code class="codeph">RELY</code>模式。但是，在创建<code class="codeph">RELY</code>化视图以使用<code class="codeph">RELY</code>约束时，必须包含<code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINT</code>子句。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>物化视图的定义查询必须包含事实表的<code class="codeph">ROWID</code>列。
                        </p>
                     </li>
                     <li>
                        <p>物化视图的定义查询不能包括以下任何内容：不可见列，ANSI连接语法，复杂查询，作为基表的内联视图，复合主键， <code class="codeph">LONG</code>列和LOB列。
                        </p>
                     </li>
                     <li>
                        <p>您无法更改使用<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>刷新模式的现有物化视图的定义。
                        </p>
                     </li>
                     <li>
                        <p>您无法更改现有的物化视图并为其启用<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>刷新。
                        </p>
                     </li>
                     <li>
                        <p>以下操作导致具有<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>刷新的物化视图变为不可用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对物化视图所基于的一个或多个维表上的<code class="codeph">UPDATE</code>操作</p>
                           </li>
                           <li>
                              <p>在任何基表上进行分区维护操作和<code class="codeph">TRUNCATE</code>操作</p>
                              <p>但是，可以对具有<code class="codeph">ON</code> <code class="codeph">STATEMENT</code>刷新模式的物化视图进行分区。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>适用于<code class="codeph">ON</code> <code class="codeph">COMMIT</code>子句的所有限制都适用于<code class="codeph">ON</code> <code class="codeph">STATEMENT</code> 。</p>
                     </li>
                  </ul> 
                  <p><span class="bold">从条款开始</span></p>
                  <p>为第一个自动刷新时间指定日期时间表达式。</p>
                  <p><span class="bold">下一条款</span></p>
                  <p>指定日期时间表达式以计算自动刷新之间的间隔。</p>
                  <p><code class="codeph">START</code> <code class="codeph">WITH</code>和<code class="codeph">NEXT</code>值都必须评估到将来的某个时间。如果省略<code class="codeph">START</code> <code class="codeph">WITH</code>值，则数据库通过根据<code class="codeph">NEXT</code>化视图的创建时间计算<code class="codeph">NEXT</code>表达式来确定第一个自动刷新时间。如果指定<code class="codeph">START</code> <code class="codeph">WITH</code>值但省略<code class="codeph">NEXT</code>值，则数据库仅刷新实例化视图一次。如果省略<code class="codeph">START</code> <code class="codeph">WITH</code>和<code class="codeph">NEXT</code>值，或者如果完全省略<span class="italic"><code class="codeph">create_mv_refresh</code></span> ，则数据库不会自动刷新实例化视图。
                  </p>
                  <p><span class="bold">与主要条款</span> <a id="d325748e3086" class="indexterm-anchor"></a><a id="d325748e3090" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">WITH PRIMARY</code> <code class="codeph">KEY</code>以创建主键物化视图。这是默认值，除了针对<code class="codeph">WITH</code> <code class="codeph">ROWID</code>描述的情况外，应该在所有情况下<code class="codeph">WITH</code> 。主键物化视图允许重新组织物化视图主表，而不会影响物化视图的资格以进行快速刷新。主表必须包含已启用的主键约束，并且实例化视图的定义查询必须直接指定所有主键列。在定义查询中，不能将主键列指定为<code class="codeph">UPPER</code>等函数的参数。</p>
                  <p><span class="bold">对主键物化视图的限制</span></p>
                  <p>您不能为对象物化视图指定此子句。Oracle数据库隐式刷新<code class="codeph">WITH</code> <code class="codeph">OBJECT</code> <code class="codeph">ID</code>实现的<code class="codeph">OBJECT</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-8823E30E-D7BA-49EE-A56F-511DC5AE7A35">
                     <p class="notep1">也可以看看：</p>
                     <p>有关主键物化视图和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119730">创建主键物化视图：示例</a> ”的</span>详细信息，请参见<a href="../admin/read-only-materialized-view-concepts.html#ADMIN-GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D" target="_blank"><span class="italic">“Oracle数据库管理员指南</span></a> <span class="q">”</span></p>
                  </div>
                  <p><span class="bold">与ROWID条款</span></p>
                  <p>指定<code class="codeph">WITH</code> <code class="codeph">ROWID</code>以创建rowid实体化视图。如果物化视图不包括主表的所有主键列，则Rowid物化视图很有用。Rowid物化视图必须基于单个表，并且不能包含以下任何内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>不同或集合的功能</p>
                     </li>
                     <li>
                        <p><code class="codeph">GROUP</code> <code class="codeph">BY</code> <code class="codeph">or</code> <code class="codeph">CONNECT</code> <code class="codeph">BY</code>子句</p>
                     </li>
                     <li>
                        <p>子查询</p>
                     </li>
                     <li>
                        <p>加盟</p>
                     </li>
                     <li>
                        <p>设置操作</p>
                     </li>
                  </ul>
                  <p>如果定义查询中有多个主表，则<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句无效。
                  </p>
                  <p>在主表重组之后，Rowid实体化视图不能进行快速刷新，直到执行完全刷新。</p>
                  <p><span class="bold">对Rowid物化视图的限制</span></p>
                  <p>您不能为对象物化视图指定此子句。Oracle数据库隐式刷新<code class="codeph">WITH</code> <code class="codeph">OBJECT</code> <code class="codeph">ID</code>实现的<code class="codeph">OBJECT</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4D165195-A409-4A19-B317-3813FF886674">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092102">创建物化聚合视图：示例</a> ”</span>和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2098291">创建Rowid物化视图：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHHBCEB"><span class="bold">使用ROLLBACK SEGMENT条款</span> <a id="d325748e3214" class="indexterm-anchor"></a></p>
                  <p>如果您的数据库处于自动撤消模式，则此子句无效，因为在该模式下，Oracle数据库使用撤消表空间而不是回滚段。Oracle强烈建议您使用自动撤消模式。支持此子句以向后兼容包含仍使用回滚段的旧版Oracle数据库的复制环境。</p>
                  <p>对于<span class="italic"><code class="codeph">rollback_segment</code></span> ，请指定在物化视图刷新期间要使用的远程回滚段。
                  </p>
                  <p><span class="bold">默认</span></p>
                  <p><code class="codeph">DEFAULT</code>指定Oracle数据库将自动选择要使用的回滚段。如果指定<code class="codeph">DEFAULT</code> ，则无法指定<span class="italic"><code class="codeph">rollback_segment</code></span> 。在修改而不是创建实体化视图时， <code class="codeph">DEFAULT</code>最有用。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-978C84A3-EB7F-47ED-AFA1-A4A9A2B253D8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233">改变物质化的视图</a></p>
                  </div>
                  <p><span class="bold">主</span></p>
                  <p><code class="codeph">MASTER</code>指定要在远程主站点上为单个物化视图使用的远程回滚段。
                  </p>
                  <p><span class="bold">本地</span></p>
                  <p><code class="codeph">LOCAL</code>指定要用于包含实例化视图的本地刷新组的远程回滚段。这是默认值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-9F5ABF28-06BA-4DE3-9598-E119CCBA8DA4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_REFRESH.html#ARPLS043" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>有关使用<code class="codeph">DBMS_REFRESH</code>包指定本地<code class="codeph">DBMS_REFRESH</code>化视图回滚段的<code class="codeph">DBMS_REFRESH</code></p>
                  </div>
                  <p>如果省略<span class="italic"><code class="codeph">rollback_segment</code></span> ，则数据库会自动选择要使用的回滚段。为每个物化视图存储一个主回滚段，并在物化视图创建和刷新期间进行验证。如果物化视图很复杂，则数据库将忽略您指定的任何主回滚段。
                  </p>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2152121"><span class="bold">使用......约束条款</span> <a id="d325748e3283" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">USING</code> ......<code class="codeph">CONSTRAINTS</code>子句允许Oracle数据库在刷新操作期间选择更多重写选项，从而提高刷新执行效率。该子句允许Oracle数据库使用非强制约束，例如<code class="codeph">RELY</code>状态中的维度关系或约束，而不是仅依赖于刷新操作期间的强制约束。
                  </p>
                  <p><code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code>子句使您能够在表上具有非NULL虚拟专用数据库（VPD）策略的物化视图。在这种情况下，您必须确保物化视图的行为正确。物化视图结果基于VPD策略过滤的行和列计算。因此，您必须使用VPD策略协调物化视图定义，以确保正确的结果。如果没有<code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code>子句，主表上的任何VPD策略都将阻止创建<code class="codeph">USING</code>化视图。
                  </p>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-FF220673-AA28-45BB-B6C6-F4441E366E0E">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code>子句允许Oracle数据库使用已被数据库管理员声明为可信但未经数据库验证的维度和约束信息。如果维度和约束信息有效，则性能可能会提高。但是，如果此信息无效，则刷新过程可能会破坏实例化视图，即使它返回成功状态。
                     </p>
                  </div>
                  <p>如果省略此子句，则默认为<code class="codeph">USING</code> <code class="codeph">ENFORCED</code> <code class="codeph">CONSTRAINTS.</code></p>
                  <p><span class="bold">永远不要刷新条款</span></p>
                  <p>指定<code class="codeph">NEVER</code> <code class="codeph">REFRESH</code>以防止使用任何Oracle数据库刷新机制或打包过程刷新<code class="codeph">REFRESH</code>化视图。Oracle数据库将忽略从此类过程发出的物化视图上的任何<code class="codeph">REFRESH</code>语句。如果指定此子句，则可以在实例化视图上执行DML操作。要反转此条款，您必须发出<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> ...<code class="codeph">REFRESH</code>声明。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHCFGHG">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-F7E7A0FD-896F-47D9-8B0C-3501E05BFB9D"><span class="italic">evaluation_edition_clause</span></p>
                  <p>如果<span class="italic"><code class="codeph">subquery</code></span>引用了已编辑的对象，则必须指定此子句。使用此子句指定在编辑对象的名称解析期间搜索的版本 - 评估版。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">CURRENT</code> <code class="codeph">EDITION</code>以搜索执行此DDL语句的版本。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">EDITION</code> <span class="italic"><code class="codeph">edition</code></span>搜索<span class="italic"><code class="codeph">edition</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">NULL</code> <code class="codeph">EDITION</code>相当于省略了<span class="italic"><code class="codeph">evaluation_edition_clause</code></span> 。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略了<span class="italic"><code class="codeph">evaluation_edition_clause</code></span> ，然后editioned对象名称解析过程中不可见的，并会导致错误。删除评估版会使实体化视图无效。
                  </p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-33B16BD6-8B6F-41FE-B0C0-F57D5C331D06">
                     <p class="notep1">也可以看看：</p>
                     <p>有关为物化视图指定评估版本的详细信息，请参见“ <a href="../adfns/editions.html#ADFNS1326" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__ENABLEDISABLEONQUERYCOMPUTATION-2C8E4857">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-F6CAE3DE-D99B-449A-8815-C5A66F2B71FC">{ENABLE |关于查询计算的DISABLE}</p>
                  <p>此子句允许您创建实时物化视图或常规视图。即使物化视图由于数据更改而与其基表不同步，实时物化视图也会为用户查询提供新数据。优化程序不是修改实例化视图，而是编写一个查询，该查询将实例化视图中的现有行与日志文件中记录的更改（实体化视图日志或直接加载器日志）组合在一起。这称为查询计算。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过<code class="codeph">ENABLE</code> <code class="codeph">QUERY</code> <code class="codeph">COMPUTATION</code> ，指定<code class="codeph">ENABLE</code> <code class="codeph">ON</code> <code class="codeph">QUERY</code> <code class="codeph">COMPUTATION</code>以创建实时物化视图。这允许您通过在<code class="codeph">SELECT</code>语句中指定<code class="codeph">FRESH_MV</code>提示直接从<code class="codeph">FRESH_MV</code>化视图查询最新数据。如果物化视图也启用了查询重写，则在查询重写期间会自动进行查询计算。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">DISABLE</code> <code class="codeph">ON</code> <code class="codeph">QUERY</code> <code class="codeph">COMPUTATION</code>以通过禁用查询计算来创建常规物化视图。这是默认值。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">对实时物化视图的限制</span></p>
                  <p>实时物化视图受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当在基表上创建的一个或多个物化视图日志不可用或不存在时，不能使用实时物化视图。</p>
                     </li>
                     <li>
                        <p>必须使用不适当的刷新，基于日志的刷新或分区更改跟踪（PCT）刷新来刷新实时物化视图。</p>
                     </li>
                     <li>
                        <p>刷新提交的物化视图不能是实时物化视图。</p>
                     </li>
                     <li>
                        <p>如果实时物化视图是在一个或多个基本物化视图之上定义的嵌套物化视图，则只有在所有基本物化视图都是新的时才会发生查询重写。如果一个或多个基本物化视图过时，则不使用此实时物化视图执行查询重写。</p>
                     </li>
                     <li>
                        <p>不共享直接访问实时物化视图的查询的游标。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-6941212E-E5B5-4B6A-BE7D-38197F4F05F3">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Comments.html#GUID-5EF4198B-50B3-40D8-B12A-3D3115C69D9B">FRESH_MV提示</a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/advanced-materialized-views.html#DWHSG-GUID-0702359B-D379-4299-86C4-2958BCD4381D" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解有关实时物化视图的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-4A5BF90E-E594-4ED0-956F-EB9CB0421643"><span class="italic">query_rewrite_clause</span></p>
                  <p><a id="d325748e3512" class="indexterm-anchor"></a><a id="d325748e3516" class="indexterm-anchor"></a><a id="d325748e3520" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">query_rewrite_clause</code></span>允许您指定<span class="italic"><code class="codeph">query_rewrite_clause</code></span>化视图是否有资格用于查询重写。
                  </p>
                  <p><span class="bold">ENABLE条款</span></p>
                  <p>指定<code class="codeph">ENABLE</code>以启用查询重写的实例化视图。如果还指定了<span class="italic"><code class="codeph">unusable_editions_clause</code></span> ，则不会在不可用的版本中启用实例化视图以进行查询重写。
                  </p>
                  <p><span class="bold">启用查询重写的限制</span></p>
                  <p>启用查询重写受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>仅当物化视图中的所有用户定义函数都为<code class="codeph">DETERMINISTIC</code>才能启用查询重写。</p>
                     </li>
                     <li>
                        <p>只有在语句中的表达式可重复时，才能启用查询重写。例如，您不能包括<code class="codeph">CURRENT_TIME</code>或<code class="codeph">USER</code> ，序列值（例如<code class="codeph">CURRVAL</code>或<code class="codeph">NEXTVAL</code>伪列）或<code class="codeph">SAMPLE</code>子句（可以在物化视图的内容更改时对不同的行进行采样）。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-A614F0DA-2602-412B-87A2-F47C40EF5500">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>默认情况下禁用查询重写，因此您必须指定此子句以使实体化视图符合查询重写的条件。</p>
                        </li>
                        <li>
                           <p>创建<code class="codeph">DBMS_STATS</code>化视图后，必须使用<code class="codeph">DBMS_STATS</code>包收集统计信息。Oracle数据库需要此程序包生成的统计信息来优化查询重写。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-AF090913-CBCD-41EB-BC19-52EF4BE2999C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关查询重写的详细信息，请参阅<a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/monitoring-materialized-view-refresh.html#DWHSG-GUID-6AD8879A-0BE5-466E-8D19-1D076C5DDFFB" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解如何使用刷新统计信息来监视物化视图刷新操作的性能</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_STATS</code>包的信息<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">，请参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </li>
                        <li>
                           <p>该<code class="codeph">EXPLAIN_MVIEW</code>的议事<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><code class="codeph">DBMS_MVIEW</code></a>包与查询重写和帮助诊断问题<code class="codeph">TUNE_MVIEW</code>的议事<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><code class="codeph">DBMS_MVIEW</code></a>包的查询重写问题修正</p>
                        </li>
                        <li>
                           <p><a href="CREATE-FUNCTION.html#GUID-156AEDAC-ADD0-4E46-AA56-6D1F7CA63306">创造功能</a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">禁用条款</span></p>
                  <p>指定<code class="codeph">DISABLE</code>以指示<code class="codeph">DISABLE</code>化视图不符合查询重写的使用条件。可以刷新禁用的物化视图。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__CCHICCEH">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-90FF804A-7FA0-4807-B95E-04C9BC397BA9"><span class="italic">unusable_editions_clause</span></p>
                  <p>此子句允许您指定实例化视图不适合在一个或多个版本中进行查询重写。无论是否指定<code class="codeph">ENABLE</code>或<code class="codeph">DISABLE</code>子句，都可以指定此子句。如果指定<code class="codeph">DISABLE</code>子句，那么如果随后使用<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>为查询重写启用了实例化视图，则此子句将生效...<code class="codeph">ENABLE</code> <code class="codeph">QUERY</code> <code class="codeph">REWRITE</code>语句。
                  </p>
                  <p><span class="bold">条款之前不可用</span></p>
                  <p>此子句允许您指定实例化视图不适合在版本的祖先中进行查询重写。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">CURRENT</code> <code class="codeph">EDITION</code> ，则物化视图不符合当前版本祖先的查询重写条件。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">EDITION</code> <span class="italic"><code class="codeph">edition</code></span> ，那么物化视图不符合指定的祖先查询重写<span class="italic"><code class="codeph">edition</code></span> 。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">不可能与条款开始</span></p>
                  <p>此子句允许您指定实例化视图不适合在版本及其后代中进行查询重写。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">CURRENT</code> <code class="codeph">EDITION</code> ，则<code class="codeph">CURRENT</code>化视图不符合当前版本及其后代中的查询重写条件。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">EDITION</code> <span class="italic"><code class="codeph">edition</code></span> ，那么物化视图不符合指定版本及其后代查询重写。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">NULL</code> <code class="codeph">EDITION</code>相当于省略<code class="codeph">UNUSABLE</code> <code class="codeph">BEGINNING</code> <code class="codeph">WITH</code>子句。
                        </p>
                     </li>
                  </ul>
                  <p>物化视图依赖于不符合查询重写条件的每个版本。如果随后删除了此类版本，则删除依赖项。但是，物化视图不会失效。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-B130FD59-EBD8-47D1-8225-4E1B9C33ECE9">AS <span class="italic">子查询</span></p>
                  <p>指定实例化视图的定义查询。创建实例化视图时，Oracle数据库会执行此子查询并将结果放在实例化视图中。此子查询是任何有效的SQL子查询。但是，并非所有子查询都可以快速刷新，也不是所有子查询都有资格进行查询重写。</p>
                  <p><span class="bold">关于物化视图定义查询的注记</span></p>
                  <p>以下说明适用于物化视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">BUILD</code> <code class="codeph">DEFERRED</code> Oracle数据库不会立即执行定义查询。</p>
                     </li>
                     <li>
                        <p>Oracle建议您使用包含它的架构限定物化视图的定义查询的<code class="codeph">FROM</code>子句中的每个表和视图。
                        </p>
                     </li>
                     <li>
                        <p>为了创建物理化视图，其定义查询从具有虚拟专用数据库（VPD）策略的主表中进行选择，您必须指定<code class="codeph">REFRESH</code> <code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code>子句。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">物化视图定义查询的限制</span></p>
                  <p>物化视图查询受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>物化视图的定义查询可以从用户<code class="codeph">SYS</code>拥有的表，视图或物化视图中进行选择，但不能在此类物化视图上启用<code class="codeph">QUERY</code> <code class="codeph">REWRITE</code> 。
                        </p>
                     </li>
                     <li>
                        <p>物化视图的定义查询无法从<code class="codeph">V$</code>视图或<code class="codeph">GV$</code>视图中进行选择。
                        </p>
                     </li>
                     <li>
                        <p>您无法在定义查询的选择列表中使用子查询定义实例化视图。但是，您可以在定义查询的其他位置包含子查询，例如在<code class="codeph">WHERE</code>子句中。
                        </p>
                     </li>
                     <li>
                        <p>您不能在物化视图的定义查询中使用<span class="italic"><code class="codeph">flashback_query_clause</code></span>的<code class="codeph">AS</code> <code class="codeph">OF</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>具有<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句的物化连接视图和物化聚合视图无法从索引组织表中进行选择。
                        </p>
                     </li>
                     <li>
                        <p>物化视图不能包含数据类型为<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code> 。</p>
                     </li>
                     <li>
                        <p>物化视图不能包含虚拟列。</p>
                     </li>
                     <li>
                        <p>您无法在临时表上创建物化视图日志。因此，如果定义查询引用临时表，则此实例化视图将不符合<code class="codeph">FAST</code>刷新条件，也不能在此语句中指定<code class="codeph">QUERY</code> <code class="codeph">REWRITE</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>如果定义查询的<code class="codeph">FROM</code>子句引用另一个实例化视图，则必须始终刷新定义查询中引用的实例化视图，然后再刷新您在此语句中创建的实例化视图。
                        </p>
                     </li>
                     <li>
                        <p>定义查询中具有连接表达式的物化视图不能具有XML数据类型列。XML数据类型包括<code class="codeph">XMLType</code>和URI数据类型列。
                        </p>
                     </li>
                  </ul>
                  <p>如果要创建为查询重写启用的物化视图，则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>定义查询不能直接或通过视图包含对写入或读取数据库或包状态的<code class="codeph">ROWNUM</code> ， <code class="codeph">USER</code> ， <code class="codeph">SYSDATE</code> ，远程表，序列或PL / SQL函数的引用。
                        </p>
                     </li>
                     <li>
                        <p>物化视图和物化视图的主表都不是远程的。</p>
                     </li>
                  </ul>
                  <p>如果您希望物化视图有资格使用物化视图日志进行快速刷新，或者使用分段日志进行同步刷新，则需要一些其他限制。</p>
                  <div class="infoboxnotealso" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-CD671827-4C86-4AB3-8E66-2E4E1A51B3E2">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>了解与使用<a href="../dwhsg/basic-materialized-views.html#DWHSG8201" target="_blank">快速刷新</a>和同步刷新相关的限制</p>
                        </li>
                        <li>
                           <p><a href="../admin/planning-for-read-only-materialized-views.html#ADMIN-GUID-EF9222CE-A090-4D71-9B94-15B6034F48D6" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关复制限制的更多信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119687">创建物化连接视图：示例</a> ”</span> ， <span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119713">创建子查询物化视图：示例</a> ”</span>和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119822">创建嵌套物化视图：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2106785">
                  <p class="subhead1" id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__GUID-EAD3D9D9-B7AF-4AB4-8982-B83EF7D04D90">例子</p>
                  <p>以下示例需要在<a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B">CREATE MATERIALIZED VIEW LOG</a>的“Examples”部分中<a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B">创建的具体化日志</a> 。</p>
                  <p><span class="bold">创建简单的物化视图：示例</span></p>
                  <p>以下语句基于<code class="codeph">hr</code>模式中的<code class="codeph">employees</code>和table创建一个非常简单的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW mv1 AS SELECT * FROM hr.employees;</pre><p>默认情况下，Oracle数据库仅使用按需刷新创建主键物化视图。如果<code class="codeph">employees</code>存在物化视图日志，则可以更改<code class="codeph">mv1</code>以便能够快速刷新。如果不存在此类日志，则只能完全刷新<code class="codeph">mv1</code> 。Oracle数据库使用<code class="codeph">mv1</code>默认存储属性。此操作所需的唯一权限是<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>系统特权，以及<code class="codeph">hr</code>的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权。 <code class="codeph">employees</code> 。
                  </p>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119713"><span class="bold">创建子查询物化视图：示例</span></p>
                  <p>以下语句基于<code class="codeph">remote</code>数据库的<code class="codeph">sh</code>模式中的<code class="codeph">customers</code>和<code class="codeph">countries</code>表创建子查询实例化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW foreign_customers AS SELECT * FROM sh.customers@remote cu WHERE EXISTS（SELECT * FROM sh.countries@remote co WHERE co.country_id = cu.country_id）;</pre><p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092102"><span class="bold">创建物化聚合视图：示例</span></p>
                  <p>以下语句在示例<code class="codeph">sh.sales</code>表上创建并填充实例化聚合视图，并指定默认刷新方法，模式和时间。它使用在<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098404">创建物化视图日志以进行快速刷新：示例</a> ”中<a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098404">创建的物化视图日志</a></span> ，以及此处显示的另外两个日志：</p><pre class="oac_no_warn" dir="ltr">使用ROWID，SEQUENCE（time_id，calendar_year）创建物质化视图日志，包括新值;创建物质化的视图登录产品，包括ROWID，SEQUENCE（prod_id），包括新的价值; CREATE MATERIALIZED VIEW sales_mv在COMMIT上快速构建立即刷新t.calendar_year，p.prod_id，SUM（s.amount_sold）AS sum_sales FROM times t，products p，sales s WHERE t.time_id = s.time_id AND p.prod_id = s.prod_id GROUP BY t.calendar_year，p.prod_id;</pre><p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119687"><span class="bold">创建物化连接视图：示例</span></p>
                  <p>以下语句使用示例<code class="codeph">sh</code>模式中的表创建并填充实现聚合视图<code class="codeph">sales_by_month_by_state</code> 。一旦语句成功执行，物化视图将填充数据。默认情况下，后续刷新将通过重新执行实例化视图的定义查询来完成：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW sales_by_month_by_state TABLESPACE示例PARALLEL 4构建立即刷新完成启用QUERY REWRITE作为选择t.calendar_month_desc，c.cust_state_province，SUM（s.amount_sold）AS sum_sales FROM times t，sales s，customers c WHERE s.time_id = t.time_id AND s.cust_id = c.cust_id GROUP BY t.calendar_month_desc，c.cust_state_province;</pre><p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092101"><span class="bold">创建预构建的物化视图：示例</span></p>
                  <p>以下语句为预先存在的摘要表<code class="codeph">sales_sum_table</code>创建物化聚合视图：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_sum_table（月VARCHAR2（8），州VARCHAR2（40），销售NUMBER（10,2））; CREATE MATERIALIZED VIEW sales_sum_table在PREBUILT表上具有降低的PRECISION ENABLE QUERY REWRITE作为选择t.calendar_month_desc AS月，c.cust_state_province AS状态，SUM（s.amount_sold）AS销售从时间t，客户c，销售s WHERE s.time_id = t .time_id AND s.cust_id = c.cust_id GROUP BY t.calendar_month_desc，c.cust_state_province;</pre><p>在前面的示例中，实例化视图具有相同的名称，并且具有与预构建表具有相同数据类型的相同列数。<code class="codeph">WITH</code> <code class="codeph">REDUCED</code> <code class="codeph">PRECISION</code>子句允许<code class="codeph">REDUCED</code>化视图列的精度与子查询返回的值的精度之间存在差异。
                  </p>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119730"><span class="bold">创建主键物化视图：示例</span></p>
                  <p>以下语句在样本表<code class="codeph">oe.product_information</code>上创建主键物化视图<code class="codeph">catalog</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW catalog REFRESH FAST START WITH SYSDATE NEXT SYSDATE + 1/4096 WITH PRIMARY KEY AS SELECT * FROM product_information;</pre><p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2098291"><span class="bold">创建Rowid物化视图：示例</span></p>
                  <p>以下语句在示例表<code class="codeph">oe.orders</code>上创建rowid实例化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW order_data REFRESH WITH ROWID as SELECT * FROM orders;</pre><p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2098290"><span class="bold">定期刷新物化视图：示例</span></p>
                  <p>以下语句创建主键物化视图<code class="codeph">emp_data</code> ，并使用示例表<code class="codeph">hr.employees</code>数据填充它：</p><pre class="oac_no_warn" dir="ltr">创建物质化的视图记录员工的主要关键，包括新的价值观;创建物化视图emp_data PCTFREE 5 PCTUSED 60 TABLESPACE示例存储（初始50K）刷新快速下一个sysdate + 7 AS SELECT * FROM employees;</pre><p>前面的语句不包含<code class="codeph">START</code> <code class="codeph">WITH</code>参数，因此Oracle数据库通过使用当前<code class="codeph">SYSDATE</code>评估<code class="codeph">NEXT</code>值来确定第一个自动刷新时间。为employee表创建了物化视图日志，因此Oracle数据库每7天从物化视图创建后的7天开始快速刷新物化视图。
                  </p>
                  <p>由于物化视图符合快速刷新的条件，因此数据库将执行快速刷新。前面的语句还建立了数据库用于维护物化视图的存储特征。</p>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119766"><span class="bold">物化视图的自动刷新时间：示例</span></p>
                  <p>以下语句创建复杂的物化视图<code class="codeph">all_customers</code> ，用于查询<code class="codeph">remote</code>数据库和<code class="codeph">local</code>数据库上的员工表：</p><pre class="oac_no_warn" dir="ltr">创建物化视图all_customers PCTFREE 5 PCTUSED 60 TABLESPACE示例存储（初始50K）使用索引存储（初始25K）刷新开始（SYSDATE + 1）+ 11/24 NEXT NEXT_DAY（TRUNC（SYSDATE），'MONDAY'）+ 15 / 24 AS SELECT * FROM sh.customers@remote UNION SELECT * FROM sh.customers@local;</pre><p>Oracle数据库将于明天上午11:00自动刷新此物化视图，随后每周一下午3:00刷新。默认刷新方法为<code class="codeph">FORCE</code> 。定义查询包含<code class="codeph">UNION</code>运算符，快速刷新不支持该运算符，因此数据库将自动执行完整刷新。
                  </p>
                  <p>前面的语句还为物化视图和数据库用于维护它的索引建立了存储特性：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>第一个<code class="codeph">STORAGE</code>子句将物化视图的第一个和第二个范围的大小确定为每个50千字节。
                        </p>
                     </li>
                     <li>
                        <p>与<code class="codeph">USING</code> <code class="codeph">INDEX</code>子句一起出现的第二个<code class="codeph">STORAGE</code>子句将<code class="codeph">INDEX</code>的第一和第二范围的大小确定为每个25千字节。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2080820"><span class="bold">创建快速可刷新的物化视图：示例</span></p>
                  <p>以下语句创建一个快速刷新的实例化视图，该视图从示例<code class="codeph">oe</code>模式中的<code class="codeph">order_items</code>表中选择列，使用<code class="codeph">UNION</code>集合运算符来限制使用<code class="codeph">WHERE</code>条件从<code class="codeph">product_information</code>和<code class="codeph">inventories</code>表返回的行。<code class="codeph">order_items</code>和<code class="codeph">product_information</code>的物化视图日志是在<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code>的<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2064930">Examples</a> ”</span>部分中<code class="codeph">CREATE</code> 。此示例还需要<code class="codeph">oe.inventories</code>上的物化视图日志。
                  </p><pre class="oac_no_warn" dir="ltr">创建物料化查看库存日期（quantity_on_hand）;创建物料化视图warranty_orders快速刷新SELECT order_id，line_item_id，product_id FROM order_items o WHERE EXISTS（SELECT * FROM inventoryories i WHERE o.product_id = i.product_id AND i.quantity_on_hand IS NOT NULL）UNION SELECT order_id，line_item_id，product_id FROM order_items WHERE数量&gt; 5;</pre><p>物化视图<code class="codeph">warranty_orders</code>要求在<code class="codeph">order_items</code> （使用<code class="codeph">product_id</code>作为连接列）和库存（使用<code class="codeph">quantity_on_hand</code>作为过滤器列）上定义物化视图日志。请参阅<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098358">为物化视图日志指定过滤器列：示例</a> ”</span>和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098379">为物化视图日志指定连接列：示例</a> ”</span> 。
                  </p>
                  <p id="GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2119822"><span class="bold">创建嵌套的物化视图：示例</span></p>
                  <p>以下示例使用前面示例中的物化视图作为主表来创建为示例<code class="codeph">oe</code>架构中的特定销售代表量身定制的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW my_warranty_orders AS SELECT w.order_id，w.line_item_id，o.order_date FROM warranty_orders w，orders o WHERE o.order_id = o.order_id AND o.sales_rep_id = 165;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04878.large-objects-LOBs.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>大对象（LOB）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="cobol-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T02:40:40-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96466-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="multithreaded-applications.html" title="Previous" type="text/html"></link>
      <link rel="next" href="precompiler-options.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*COBOL Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="multithreaded-applications.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="precompiler-options.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name">应用</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">大对象（LOB）</li>
            </ol>
            <a id="GUID-8F9739C2-B753-4707-A060-EE9086FD5196" name="GUID-8F9739C2-B753-4707-A060-EE9086FD5196"></a><a id="LNPCB013"></a>
            
            <h2 id="LNPCB-GUID-8F9739C2-B753-4707-A060-EE9086FD5196" class="sect2"><span class="enumeration_chapter">13</span>大对象（LOB）</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='large-objects-LOBs'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章介绍嵌入式SQL语句为<span class="italic">LOB</span> （大对象）数据类型提供的支持。引入了四种类型的LOB，并与较旧的LONG和LONG RAW数据类型进行了比较。
               </p>
               <p>Pro * COBOL中的嵌入式SQL接口显示为提供与PL / SQL语言类似的功能。</p>
               <p>将显示LOB语句及其选项和主机变量。</p>
               <p>最后，使用LOB接口进行Pro * COBOL编程的示例。</p>
               <p>主要部分是：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="large-objects-LOBs.html#GUID-94DAE6EE-A155-4072-8EB5-8A25249585CA">使用LOB</a></p>
                  </li>
                  <li>
                     <p><a href="large-objects-LOBs.html#GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB">如何使用LOB</a></p>
                  </li>
                  <li>
                     <p><a href="large-objects-LOBs.html#GUID-75ABC03D-2DD4-4399-A294-5655F2F91312">LOB声明规则</a></p>
                  </li>
                  <li>
                     <p><a href="large-objects-LOBs.html#GUID-5783536E-5066-41C8-9155-AC28C8CF8CDD">LOB声明</a></p>
                  </li>
                  <li>
                     <p><a href="large-objects-LOBs.html#GUID-F7E1C804-7A87-4903-B8F4-B573B32E5C77">LOB示例程序：LOBDEMO1。PCO</a></p>
                  </li>
               </ul>
            </div><a id="LNPCB812"></a><div class="props_rev_3"><a id="GUID-94DAE6EE-A155-4072-8EB5-8A25249585CA" name="GUID-94DAE6EE-A155-4072-8EB5-8A25249585CA"></a><h3 id="LNPCB-GUID-94DAE6EE-A155-4072-8EB5-8A25249585CA" class="sect3"><span class="enumeration_section">13.1</span>使用LOB</h3>
               <div>
                  <p>LOB（大对象）是用于存储大量数据（最大大小为4千兆字节）的数据库类型，例如ASCII文本，国家字符中的文本，各种图形格式的文件以及声波形式。</p>
               </div><a id="LNPCB813"></a><div class="props_rev_3"><a id="GUID-4ECF02C5-F364-4208-B71B-07DD6B53BA60" name="GUID-4ECF02C5-F364-4208-B71B-07DD6B53BA60"></a><h4 id="LNPCB-GUID-4ECF02C5-F364-4208-B71B-07DD6B53BA60" class="sect4"><span class="enumeration_section">13.1.1</span>内部LOB</h4>
                  <div>
                     <p>内部LOB（BLOB，CLOB，NCLOB）存储在数据库表空间中，并具有数据库服务器的事务支持。（COMMITT，ROLLBACK等等与他们合作。）</p>
                     <p><span class="italic">BLOB</span> （二进制LOB）存储非结构化二进制（也称为“原始”）数据，例如视频剪辑。
                     </p>
                     <p><span class="italic">CLOB</span> （字符LOB）存储来自数据库字符集的大块字符数据。
                     </p>
                     <p><span class="italic">NCLOB</span> （国家字符LOB）存储来自国家字符集的大块字符数据。
                     </p>
                  </div>
               </div><a id="LNPCB814"></a><div class="props_rev_3"><a id="GUID-FF9B0F1C-8603-4C2C-A1A4-68700DF7FEEB" name="GUID-FF9B0F1C-8603-4C2C-A1A4-68700DF7FEEB"></a><h4 id="LNPCB-GUID-FF9B0F1C-8603-4C2C-A1A4-68700DF7FEEB" class="sect4"><span class="enumeration_section">13.1.2</span>外部LOB</h4>
                  <div>
                     <p>外部LOB是数据库表空间之外的操作系统文件，它们没有来自数据库服务器的事务支持。</p>
                     <p><span class="italic">BFILE</span> （二进制文件）将数据存储在外部二进制文件中。BFILE可以是GIF，JPEG，MPEG，MPEG2，文本或其他格式。<a id="d79028e165" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB815"></a><div class="props_rev_3"><a id="GUID-2528FB25-9D4A-462D-BDC0-9E0A4B4159F3" name="GUID-2528FB25-9D4A-462D-BDC0-9E0A4B4159F3"></a><h4 id="LNPCB-GUID-2528FB25-9D4A-462D-BDC0-9E0A4B4159F3" class="sect4"><span class="enumeration_section">13.1.3</span> BFILE的安全性</h4>
                  <div>
                     <p><span class="italic">DIRECTORY</span>对象用于访问和使用BFILE。DIRECTORY是包含该文件的服务器文件系统中的实际物理目录的逻辑别名（存储在服务器中）。仅当授予DIRECTORY对象的访问权限时，才允许用户访问该文件。
                     </p>
                     <p>BFILE可以使用两种SQL语句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DDL（数据定义语言）SQL语句CREATE，REPLACE，ALTER和DROP。</p>
                        </li>
                        <li>
                           <p>DML（数据管理语言）SQL语句用于GRANT和REVOKE DIRECTORY对象的READ系统和对象权限。</p>
                        </li>
                     </ul>
                     <p>CREATE DIRECTORY指令示例如下：</p><pre class="oac_no_warn" dir="ltr">执行SQL创建或替换目录“Mydir”AS'/ usr / home / mydir'END-EXEC。</pre><p>仅当您使用DML（数据操作语言）语句（例如GRANT）授予其权限时，其他用户或角色才能读取该目录。例如，允许用户<code class="codeph">scott</code>读取目录<code class="codeph">/usr/home/mydir</code> BFILES：</p><pre class="oac_no_warn" dir="ltr">执行SQL GRANT阅读目录“Mydir”scott END-EXEC。</pre><p>一次会话中最多可同时打开10个BFILES。可以通过设置SESSION_MAX_OPEN_FILES参数来更改此默认值。</p>
                     <p>有关DIRECTORY对象和BFILE安全性以及GRANT命令的更多详细信息，请参见“ <a href="../adfns/index.html" target="_blank"><span class="italic">Oracle数据库高级应用程序开发人员指南”</span></a> 。
                     </p>
                  </div>
               </div><a id="LNPCB816"></a><div class="props_rev_3"><a id="GUID-57F79F4F-D22D-41DD-8AF2-6D359FC6F37B" name="GUID-57F79F4F-D22D-41DD-8AF2-6D359FC6F37B"></a><h4 id="LNPCB-GUID-57F79F4F-D22D-41DD-8AF2-6D359FC6F37B" class="sect4"><span class="enumeration_section">13.1.4</span> LOBs与LONG和LONG RAW相比</h4>
                  <div>
                     <p>LOB在许多方面与旧的LONG和LONG RAW数据类型不同。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>LOB和LONG RAW的最大LOB大小为4千兆字节，而2千兆字节。</p>
                        </li>
                        <li>
                           <p>您可以在LOB上使用随机和顺序访问方法;您只能在LONG和LONG RAW上使用顺序访问方法。</p>
                        </li>
                        <li>
                           <p>LOB（NCLOB除外）可以是您定义的对象类型的属性。</p>
                        </li>
                        <li>
                           <p>表可以有多个LOB列，但只能有一个LONG或LONG RAW列。</p>
                        </li>
                     </ul>
                     <p>Oracle建议将现有的LONG和LONG Raw属性迁移到LOB。甲骨文计划在未来的版本中终止对LONG和LONG RAW的支持。另请参阅： <a href="../upgrd/index.html" target="_blank"><span class="italic">Oracle数据库升级指南</span></a>以获取有关迁移的更多信息，以及<a href="../adlob/index.html" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a>以获取有关LOB的更多信息。
                     </p>
                  </div>
               </div><a id="LNPCB817"></a><div class="props_rev_3"><a id="GUID-C99B0261-7EA8-4049-892E-880178746FE7" name="GUID-C99B0261-7EA8-4049-892E-880178746FE7"></a><h4 id="LNPCB-GUID-C99B0261-7EA8-4049-892E-880178746FE7" class="sect4"><span class="enumeration_section">13.1.5</span> LOB定位器</h4>
                  <div>
                     <p><span class="italic">LOB定位符</span>指向实际的LOB内容。检索LOB时返回定位器，而不是LOB的内容。LOB定位器无法保存在一个事务或会话中，并在以后的事务或会话中再次使用。
                     </p>
                  </div>
               </div><a id="LNPCB818"></a><div class="props_rev_3"><a id="GUID-95075C97-6736-4BEC-9346-8BCDFDE17669" name="GUID-95075C97-6736-4BEC-9346-8BCDFDE17669"></a><h4 id="LNPCB-GUID-95075C97-6736-4BEC-9346-8BCDFDE17669" class="sect4"><span class="enumeration_section">13.1.6</span>临时LOB</h4>
                  <div>
                     <p>您可以创建<span class="italic">临时</span> LOB以帮助您使用数据库LOB。临时LOB类似于局部变量，不与任何表关联。它们只能由创建者使用其定位器访问，并在会话结束时删除。
                     </p>
                     <p>临时BFILES不支持。临时LOB仅允许在INSERT语句的WHERE子句中，UPDATE的SET子句中或DELETE语句的WHERE子句中作为输入变量（IN值）。临时LOB没有来自数据库服务器的事务支持，这意味着您无法对它们执行COMMIT或ROLLBACK。</p>
                     <p>临时LOB定位器可以跨越事务。当服务器异常终止时，以及从数据库SQL操作返回错误时，它们将被删除。</p>
                  </div>
               </div><a id="LNPCB819"></a><div class="props_rev_3"><a id="GUID-9A70D912-CBC9-4C60-ACE3-0C75C78BAB0F" name="GUID-9A70D912-CBC9-4C60-ACE3-0C75C78BAB0F"></a><h4 id="LNPCB-GUID-9A70D912-CBC9-4C60-ACE3-0C75C78BAB0F" class="sect4"><span class="enumeration_section">13.1.7</span> LOB缓冲子系统</h4>
                  <div>
                     <p><span class="italic">LBS</span> （LOB缓冲子系统）是用户存储器的一个区域，用作客户端地址空间中一个或多个LOB的缓冲区。
                     </p>
                     <p>缓冲具有这些优点，特别是对于客户端上的应用程序，它对LOB的特定区域执行许多小的读取和写入：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>LBS减少了到服务器的往返次数，因为您通过对LOB进行多次读/写来填充缓冲区，然后在执行FLUSH指令时写入服务器。</p>
                        </li>
                        <li>
                           <p>缓冲还减少了服务器上LOB更新的总数。这可以创建更好的LOB性能并节省磁盘空间。</p>
                        </li>
                     </ul>
                     <p>Oracle提供了一个简单的缓冲子系统，而不是缓存。Oracle不保证缓冲区的内容始终与服务器LOB值同步。使用FLUSH语句实际在服务器LOB中写入更新。</p>
                     <p>通过其定位器执行LOB的缓冲读/写。启用缓冲的定位器提供LOB的一致读取版本，直到您通过该定位器执行写入。</p>
                     <p>在用于缓冲的WRITE之后，定位器成为更新的定位器，并提供对<span class="italic">通过缓冲子系统看到</span>的最新LOB版本的访问。所有进一步缓冲的写入LOB只能通过此更新的定位器完成。涉及缓冲LOB操作的事务无法跨用户会话进行迁移。
                     </p>
                     <p>LBS由用户管理，用户负责通过使用FLUSH语句更新服务器LOB值。LBS是单用户和单线程。使用ROLLBACK和SAVEPOINT操作来保证服务器LOB中的正确性。Oracle不保证对缓冲LOB操作的事务支持。要确保缓冲LOB更新的事务语义，必须维护逻辑保存点以在发生错误时执行回滚。</p>
                  </div>
               </div>
            </div><a id="LNPCB821"></a><a id="LNPCB820"></a><div class="props_rev_3"><a id="GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB" name="GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB"></a><h3 id="LNPCB-GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB" class="sect3"><span class="enumeration_section">13.2</span>如何使用LOB</h3>
               <div>
                  <p>在Pro * COBOL中有两种方法可以访问LOB：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL块中的DBMS_LOB包。</p>
                     </li>
                     <li>
                        <p>嵌入式SQL语句。</p>
                     </li>
                  </ul>
                  <p>嵌入式SQL语句旨在为用户提供与PL / SQL接口等效的功能。</p>
                  <p>下表比较了PL / SQL中的LOB访问和Pro * COBOL中的嵌入式SQL语句。破折号表示缺少功能。</p>
                  <div class="tblformal" id="GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB__GUID-EC169E21-D671-4F9E-8158-7A2AB6BCACB7">
                     <p class="titleintable">表13-1 LOB访问方法</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="LOB访问方法" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d79028e454">PL / SQL（1）</th>
                              <th align="left" valign="bottom" width="53%" id="d79028e461">Pro * COBOL嵌入式SQL</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e466" headers="d79028e454 ">
                                 <p>相比（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e466 d79028e461 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e473" headers="d79028e454 ">
                                 <p>INSTR（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e473 d79028e461 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e480" headers="d79028e454 ">
                                 <p>SUBSTR（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e480 d79028e461 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e487" headers="d79028e454 ">
                                 <p>附加（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e487 d79028e461 ">
                                 <p>附加</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e494" headers="d79028e454 ">
                                 <p>：=</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e494 d79028e461 ">
                                 <p>分配</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e501" headers="d79028e454 ">
                                 <p>关（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e501 d79028e461 ">
                                 <p>关</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e508" headers="d79028e454 ">
                                 <p>复制（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e508 d79028e461 ">
                                 <p>复制</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e515" headers="d79028e454 ">
                                 <p>CREATETEMPORARY（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e515 d79028e461 ">
                                 <p>创建临时</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e522" headers="d79028e454 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e522 d79028e461 ">
                                 <p>禁用缓冲</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e529" headers="d79028e454 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e529 d79028e461 ">
                                 <p>启用缓冲</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e536" headers="d79028e454 ">
                                 <p>ERASE（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e536 d79028e461 ">
                                 <p>ERASE</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e544" headers="d79028e454 ">
                                 <p>GETCHUNKSIZE（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e544 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e551" headers="d79028e454 ">
                                 <p>开了（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e551 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e558" headers="d79028e454 ">
                                 <p>FILECLOSE（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e558 d79028e461 ">
                                 <p>关</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e565" headers="d79028e454 ">
                                 <p>FILECLOSEALL（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e565 d79028e461 ">
                                 <p>文件关闭所有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e572" headers="d79028e454 ">
                                 <p>文件已存在（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e572 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e579" headers="d79028e454 ">
                                 <p>FILEGETNAME（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e579 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e586" headers="d79028e454 ">
                                 <p>FILEISOPEN（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e586 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e593" headers="d79028e454 ">
                                 <p>FILEOPEN（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e593 d79028e461 ">
                                 <p>打开</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e600" headers="d79028e454 ">
                                 <p>BFILENAME（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e600 d79028e461 ">
                                 <p>文件设置<a id="fn_2" name="fn_2" href="#fn_2" the="" bfilename()="" built="" in="" sql="" function="" may="" also="" be="" used=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e611" headers="d79028e454 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e611 d79028e461 ">
                                 <p>冲洗缓冲器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e618" headers="d79028e454 ">
                                 <p>FREETEMPORARY（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e618 d79028e461 ">
                                 <p>免费临时</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e626" headers="d79028e454 ">
                                 <p>GETLENGTH（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e626 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e633" headers="d79028e454 ">
                                 <p>=</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e633 d79028e461 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e640" headers="d79028e454 ">
                                 <p>方法isTemporary（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e640 d79028e461 ">
                                 <p>描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e647" headers="d79028e454 ">
                                 <p>LOADFROMFILE（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e647 d79028e461 ">
                                 <p>从文件中加载</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e654" headers="d79028e454 ">
                                 <p>打开（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e654 d79028e461 ">
                                 <p>打开</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e661" headers="d79028e454 ">
                                 <p>读（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e661 d79028e461 ">
                                 <p>读</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e668" headers="d79028e454 ">
                                 <p>修剪（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e668 d79028e461 ">
                                 <p>修剪</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e675" headers="d79028e454 ">
                                 <p>写（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e675 d79028e461 ">
                                 <p>写</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d79028e682" headers="d79028e454 ">
                                 <p>WRITEAPPEND（）</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d79028e682 d79028e461 ">
                                 <p>写</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup>来自dbmslob.sql。所有例程都以“DBMS_LOB”为前缀。除了BFILENAME。</p>
                  <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p><span class="bold">也可以使用内置SQL函数的BFILENAME（）。</span></p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-30BAFE59-F850-4F23-99BB-AE3C6C5834CB__GUID-849F9CBC-97E6-419D-9177-27C1B0F9AE8D">
                     <p class="notep1">注意：</p>
                     <p>在使用以任何方式修改或更改LOB的任何新语句之前，必须显式锁定该行。可以修改LOB值的操作是APPEND，COPY，ERASE，LOAD FROM FILE，TRIM和WRITE。</p>
                  </div>
               </div><a id="LNPCB822"></a><div class="props_rev_3"><a id="GUID-17BED256-DEFB-49BA-BB49-2A1D664348CC" name="GUID-17BED256-DEFB-49BA-BB49-2A1D664348CC"></a><h4 id="LNPCB-GUID-17BED256-DEFB-49BA-BB49-2A1D664348CC" class="sect4"><span class="enumeration_section">13.2.1</span>您的应用程序中的LOB定位器</h4>
                  <div>
                     <p>要在Pro * COBOL应用程序中使用LOB定位器，请使用以下伪类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL-BLOB</p>
                        </li>
                        <li>
                           <p>SQL-CLOB</p>
                        </li>
                        <li>
                           <p>SQL-NCLOB</p>
                        </li>
                        <li>
                           <p>SQL-BFILE</p>
                        </li>
                     </ul>
                     <p>例如，要声明一个名为MY-NCLOB的NCLOB变量：</p><pre class="oac_no_warn" dir="ltr">01 MY-NCLOB SQL-NCLOB。</pre></div>
               </div><a id="LNPCB823"></a><div class="props_rev_3"><a id="GUID-E87093C7-CDF5-4FAB-BA0E-5844DD2AC7B6" name="GUID-E87093C7-CDF5-4FAB-BA0E-5844DD2AC7B6"></a><h4 id="LNPCB-GUID-E87093C7-CDF5-4FAB-BA0E-5844DD2AC7B6" class="sect4"><span class="enumeration_section">13.2.2</span>初始化LOB</h4>
                  <div>
                     <div class="section">
                        <p>本节讨论如何初始化不同种类的LOB。</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNPCB824"></a><div class="props_rev_3"><a id="GUID-828BF7BF-7B45-455C-B420-B8A694B1F969" name="GUID-828BF7BF-7B45-455C-B420-B8A694B1F969"></a><h5 id="LNPCB-GUID-828BF7BF-7B45-455C-B420-B8A694B1F969" class="sect5"><span class="enumeration_section">13.2.2.1</span>内部LOB</h5>
                     <div>
                        <p>要将BLOB初始化为空，请使用<span class="italic">EMPTY_BLOB（）</span>函数或使用ALLOCATE SQL语句。对于CLOB和NCLOB，请使用<span class="italic">EMPTY_CLOB（）</span>函数<span class="italic">。</span> 有关EMPTY_BLOB（）和EMPTY_CLOB（）的更多信息，请参见<a href="../sqlrf/index.html" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。这些函数仅在INSERT语句的VALUES子句中或在UPDATE语句中作为SET子句的源允许。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO lob_table（a_blob，a_clob）VALUES（EMPTY_BLOB（），EMPTY_CLOB（））END-EXEC。</pre><p>ALLOCATE语句分配一个LOB定位器并将其初始化为空，因此，以下代码与前一个示例等效：</p><pre class="oac_no_warn" dir="ltr">...01 A-BLOB SQL-BLOB。 01 A-CLOB SQL-CLOB。 ...EXEC SQL ALLOCATE：A-BLOB END-EXEC。 EXEC SQL ALLOCATE：A-CLOB END-EXEC。 EXEC SQL INSERT INTO lob_table（a_blob，a_clob）VALUES（：A-BLOB，：A-CLOB）END-EXEC。</pre></div>
                  </div><a id="LNPCB825"></a><div class="props_rev_3"><a id="GUID-0A3FB714-8AB5-4393-8601-F62E452D40E3" name="GUID-0A3FB714-8AB5-4393-8601-F62E452D40E3"></a><h5 id="LNPCB-GUID-0A3FB714-8AB5-4393-8601-F62E452D40E3" class="sect5"><span class="enumeration_section">13.2.2.2</span>外部LOB</h5>
                     <div>
                        <p>使用LOB FILE SET语句以这种方式初始化BFILE和FILENAME的DIRECTORY别名：</p><pre class="oac_no_warn" dir="ltr">...01 ALIAS PIC X（14）变化。 01 FILENAME PIC X（14）变化。 01 A-BFILE SQL-BFILE。 ...将“lob_dir”移至ALIAS-ARR。移7到ALIAS-LEN。移动“image.gif”到FILENAME-ARR移动9到FILENAME-LEN ..EXEC SQL ALLOCATE：A-BFILE END-EXEC。 EXEC SQL LOB文件集：A-BFILE DIRECTORY =：ALIAS，FILENAME =：FILENAME END-EXEC。 EXEC SQL INSERT INTO file_table（a_bfile）VALUES（：A-BFILE）END-EXEC。</pre><p>有关DIRECTORY对象命名约定和DIRECTORY对象特权的完整说明，请参阅<a href="../adfns/index.html" target="_blank"><span class="italic">Oracle数据库高级应用程序开发人员指南</span></a> 。
                        </p>
                        <p>或者，您可以在INSERT或UPDATE语句中使用BFILENAME（'directory'，'filename'）函数来初始化特定行的BFILE列或属性，并提供实际物理目录和文件名的名称：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO file_table（a_bfile）VALUES（BFILENAME（'lob_dir'，'image.gif'））返回a_bfile INTO：A-BFILE END-EXEC。</pre><div class="infoboxnote" id="GUID-0A3FB714-8AB5-4393-8601-F62E452D40E3__GUID-E23D3EC8-0B46-4D37-989C-768FCC212A88">
                           <p class="notep1">注意：</p>
                           <p>BFILENAME（）不检查目录或文件名的权限，或物理目录是否确实存在。使用BFILE定位器的后续文件访问将执行这些检查，并在文件不可访问时返回错误。</p>
                        </div>
                     </div>
                  </div><a id="LNPCB826"></a><div class="props_rev_3"><a id="GUID-171B9CBF-13D3-496C-AC61-74A877427B89" name="GUID-171B9CBF-13D3-496C-AC61-74A877427B89"></a><h5 id="LNPCB-GUID-171B9CBF-13D3-496C-AC61-74A877427B89" class="sect5"><span class="enumeration_section">13.2.2.3</span>临时LOB</h5>
                     <div>
                        <p>使用嵌入式SQL LOB CREATE TEMPORARY语句首次创建临时LOB时，它将初始化为空。EMPTY_BLOB（）和EMPTY_CLOB（）函数不能与临时LOB一起使用。</p>
                     </div>
                  </div><a id="LNPCB827"></a><div class="props_rev_3"><a id="GUID-CF5DBCA3-325A-4EA4-876B-CCFEB0F55E92" name="GUID-CF5DBCA3-325A-4EA4-876B-CCFEB0F55E92"></a><h5 id="LNPCB-GUID-CF5DBCA3-325A-4EA4-876B-CCFEB0F55E92" class="sect5"><span class="enumeration_section">13.2.2.4</span>释放LOB</h5>
                     <div>
                        <div class="section">
                           <p>FREE语句用于释放ALLOCATE语句使用的内存：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FREE：A-BLOB END-EXEC。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB828"></a><div class="props_rev_3"><a id="GUID-75ABC03D-2DD4-4399-A294-5655F2F91312" name="GUID-75ABC03D-2DD4-4399-A294-5655F2F91312"></a><h3 id="LNPCB-GUID-75ABC03D-2DD4-4399-A294-5655F2F91312" class="sect3"><span class="enumeration_section">13.3</span> LOB声明规则</h3>
               <div>
                  <p>以下是使用LOB语句的规则：</p>
               </div><a id="LNPCB829"></a><div class="props_rev_3"><a id="GUID-AA333C14-0CBB-4C1E-B06C-A445152FA84B" name="GUID-AA333C14-0CBB-4C1E-B06C-A445152FA84B"></a><h4 id="LNPCB-GUID-AA333C14-0CBB-4C1E-B06C-A445152FA84B" class="sect4"><span class="enumeration_section">13.3.1</span>所有LOB声明</h4>
                  <div>
                     <p>当使用SQL LOB语句操作LOB时，这些一般限制和限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>嵌入式SQL LOB语句中不允许使用FOR子句。在这些语句中只能使用一个LOB定位器。但是，ALLOCATE和FREE语句允许使用FOR子句。</p>
                        </li>
                        <li>
                           <p>不支持分布式LOB。虽然您可以在任何新的嵌入式SQL LOB语句中使用AT数据库子句，但是不能混合在同一SQL LOB语句中使用不同数据库连接创建或分配的LOB定位符。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCB830"></a><div class="props_rev_3"><a id="GUID-85CF8A3E-F407-4089-BA75-EA4C65B7D6CA" name="GUID-85CF8A3E-F407-4089-BA75-EA4C65B7D6CA"></a><h4 id="LNPCB-GUID-85CF8A3E-F407-4089-BA75-EA4C65B7D6CA" class="sect4"><span class="enumeration_section">13.3.2</span>对于LOB缓冲子系统</h4>
                  <div>
                     <p>对于LBS，必须遵循以下规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>读取或写入访问中的错误在下次访问服务器时报告。因此，错误恢复必须由您（用户）编码。</p>
                        </li>
                        <li>
                           <p>使用缓冲写入更新LOB时，请勿使用绕过LOB缓冲子系统的方法更新相同的LOB。</p>
                        </li>
                        <li>
                           <p>启用缓冲的更新LOB定位器可以作为IN参数传递给PL / SQL过程，但不能作为IN OUT或OUT参数传递。返回错误。尝试返回更新的定位器时也会返回错误。</p>
                        </li>
                        <li>
                           <p>不允许使用<span class="italic">已更新的</span>定位器的ASSIGN来缓冲到另一个定位器。
                           </p>
                        </li>
                        <li>
                           <p>您可以使用缓冲写入附加到LOB值，但起始偏移量必须是LOB结束后的一个字符。 LBS不允许APPEND语句在数据库服务器的LOB中产生零字节填充或空格。</p>
                        </li>
                        <li>
                           <p>主机定位器绑定变量的字符集，数据库服务器CLOB必须相同。</p>
                        </li>
                        <li>
                           <p>只有ASSIGN，READ和WRITE语句才能与启用缓冲的定位器一起使用。</p>
                        </li>
                        <li>
                           <p>与启用缓冲的定位器一起使用时，以下语句会导致错误：APPEND，COPY，ERASE，DESCRIBE（仅限LENGTH），SELECT和TRIM。如果将这些语句与未启用缓冲的定位器一起使用，如果定位器指向的LOB正由另一个定位器以缓冲模式访问，则也会返回错误。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-85CF8A3E-F407-4089-BA75-EA4C65B7D6CA__GUID-B6A421A8-6576-49B5-9968-8B7FD6624090">
                        <p class="notep1">注意：</p>
                        <p>必须在之前由LOB缓冲子系统启用的LOB上使用FLUSH语句</p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>提交交易。</p>
                        </li>
                        <li>
                           <p>从当前事务迁移到另一个事务。</p>
                        </li>
                        <li>
                           <p>禁用LOB上的缓冲区操作。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCB831"></a><div class="props_rev_3"><a id="GUID-C6854F26-7A57-4913-A024-62CC6D1E24F2" name="GUID-C6854F26-7A57-4913-A024-62CC6D1E24F2"></a><h4 id="LNPCB-GUID-C6854F26-7A57-4913-A024-62CC6D1E24F2" class="sect4"><span class="enumeration_section">13.3.3</span>对于主机变量</h4>
                  <div>
                     <p>对LOB语句使用以下规则和注释：<a id="d79028e1071" class="indexterm-anchor"></a></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">src</span>和<span class="italic">dst</span>可以引用内部或外部LOB定位器，但<span class="italic">file</span>仅指外部定位器。
                           </p>
                        </li>
                        <li>
                           <p>数字主机值（ <code class="codeph">amt, src_offset, dst_offset</code> <span class="italic">，</span>等等。）被声明<code class="codeph">as</code>一个4字节整数变量，PIC S9（9）COMP。值限制在0到4千兆字节之间。
                           </p>
                        </li>
                        <li>
                           <p>NULL的概念是LOB定位器的一部分。LOB语句中不需要指示符变量。NULL不能与数值变量（如<code class="codeph">amt, src_offset</code> ，从而导致错误。
                           </p>
                        </li>
                        <li>
                           <p>偏移值<code class="codeph">src_offset</code>和<code class="codeph">dst_offset</code>默认值为1。
                           </p>
                           <div class="infoboxnote" id="GUID-C6854F26-7A57-4913-A024-62CC6D1E24F2__GUID-7A3B45F1-8260-476A-9C8E-1DEBF2FC141E">
                              <p class="notep1">注意：</p>
                              <p>BLOB，CLOB和NCLOB变量需要遵守平台的对齐要求。请参阅平台文档，了解特定平台的对齐限制。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCB832"></a><div class="props_rev_3"><a id="GUID-5783536E-5066-41C8-9155-AC28C8CF8CDD" name="GUID-5783536E-5066-41C8-9155-AC28C8CF8CDD"></a><h3 id="LNPCB-GUID-5783536E-5066-41C8-9155-AC28C8CF8CDD" class="sect3"><span class="enumeration_section">13.4</span> LOB声明</h3>
               <div>
                  <div class="section">
                     <p>这些陈述按字母顺序排列。在出现的所有语句中， <span class="italic">数据库</span>指的是数据库连接</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPCB834"></a><a id="LNPCB835"></a><a id="LNPCB836"></a><a id="LNPCB837"></a><a id="LNPCB833"></a><div class="props_rev_3"><a id="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A" name="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A"></a><h4 id="LNPCB-GUID-8E05707F-F13B-4363-91EB-094DEBD7545A" class="sect4"><span class="enumeration_section">13.4.1</span>附录</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-21656DC6-3F84-4E32-97A6-B2158A08CB93">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>APPEND语句在另一个LOB的末尾附加一个LOB值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-8E6D31AC-5F34-4FE3-8080-8B2E26C6DA18">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB APPEND： <span class="italic">src</span> TO： <span class="italic">dst</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-2930C52D-B7E3-498C-9BCD-65EB6A748AC0">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <dl>
                           <dt class="dlterm"><a name="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-420DEB49-4DDC-41CC-872C-B456AB3307D8"><!-- --></a> src（IN）</dt>
                           <dd>
                              <p>内部LOB定位器，唯一引用源LOB。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-CE4CC92B-D55F-441D-8049-318FDDC81837"><!-- --></a> dsc（IN OUT）</dt>
                           <dd>
                              <p>唯一引用目标LOB的内部LOB定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E05707F-F13B-4363-91EB-094DEBD7545A__GUID-5D5B1584-03E9-4408-A2BB-C564E14691E6">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>数据从源LOB复制到目标LOB的末尾，将目标LOB扩展到最大4千兆字节。如果LOB超出4千兆字节，则会发生错误。</p>
                        <p>源和目标LOB必须已存在，并且必须初始化目标LOB。</p>
                        <p>源LOB和目标LOB都必须具有相同的内部LOB类型。为任一类型的定位器启用LOB缓冲是错误的。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB839"></a><a id="LNPCB840"></a><a id="LNPCB841"></a><a id="LNPCB842"></a><a id="LNPCB838"></a><div class="props_rev_3"><a id="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC" name="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC"></a><h4 id="LNPCB-GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC" class="sect4"><span class="enumeration_section">13.4.2</span>分配</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-8FE29FA0-6041-48D2-A0F1-76C5F3F2B936">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将LOB或BFILE定位器分配给另一个。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-4446DF02-B8D4-453D-9E7B-3E1F0FC36091">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB ASSIGN： <span class="italic">src</span> to： <span class="italic">dst</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-2D9E86D5-ACAD-439A-A1C8-5DF8249AFCB1">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <dl>
                           <dt class="dlterm"><a name="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-FE497AAB-F112-4069-82DF-4AFA42AC0181"><!-- --></a> src（IN）</dt>
                           <dd>
                              <p>从中复制LOB或BFILE定位器源。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-18A78FA3-C6D8-46CF-9C12-94F107303EA4"><!-- --></a> dsc（IN OUT）</dt>
                           <dd>
                              <p>LOB或BFILE定位器复制到。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-066FEEFA-0533-4872-A631-7A58EDE9AEEC__GUID-F8782D28-2D3D-48F8-9419-0E54BE03E59B">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>赋值后，两个定位器都引用相同的LOB值。目标LOB定位器必须是有效的初始化（已分配）定位器。</p>
                        <p>对于内部LOB，仅当目标定位器存储在表中时，源定位器的LOB值才会复制到目标定位器的LOB值。对于Pro * COBOL，发出包含目标定位符的对象的FLUSH将复制LOB值。</p>
                        <p>将BFILE定位器分配给内部LOB定位器时会返回错误，反之亦然。如果<span class="italic">src</span>和<span class="italic">dst</span> LOB的类型不同，也是一个错误。
                        </p>
                        <p>如果源定位器用于已启用缓冲的内部LOB，并且源定位器已用于通过LOB缓冲子系统修改LOB值，并且自WRITE以来尚未刷新缓冲区，则源定位器不能分配给目标定位器。这是因为每个LOB只有一个定位器可以通过LOB缓冲子系统修改LOB值。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB844"></a><a id="LNPCB845"></a><a id="LNPCB846"></a><a id="LNPCB847"></a><a id="LNPCB843"></a><div class="props_rev_3"><a id="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF" name="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF"></a><h4 id="LNPCB-GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF" class="sect4"><span class="enumeration_section">13.4.3</span>关闭</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF__GUID-408FE06D-7D4A-463B-82D7-2AFA4A00B739">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>关闭一个打开的LOB或BFILE。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF__GUID-F6A70D34-3469-4984-9170-0A2FBCCA0CE1">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB CLOSE： <span class="italic">src</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF__GUID-74D70CFF-44D5-457B-8C46-D44D19DB27F7">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <dl>
                           <dt class="dlterm"><a name="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF__GUID-0F160797-2A7F-443A-A032-521DB1AB5039"><!-- --></a> src（IN OUT）</dt>
                           <dd>
                              <p>要关闭的LOB或BFILE的定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DB20604-8FF9-4276-A365-4F47CEC93CDF__GUID-98D18B5F-7925-463A-BCAB-CCCFE5AAAD6F">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用不同的定位器或使用相同的定位器关闭相同的LOB两次是错误的。对于外部LOB，如果BFILE存在但尚未打开，则不会产生错误。</p>
                        <p>在关闭所有先前打开的LOB之前执行COMMIT是一个错误。在事务ROLLBACK时，所有仍处于打开状态的LOB将在不先关闭的情况下被丢弃。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB849"></a><a id="LNPCB850"></a><a id="LNPCB851"></a><a id="LNPCB852"></a><a id="LNPCB853"></a><a id="LNPCB854"></a><a id="LNPCB855"></a><a id="LNPCB856"></a><a id="LNPCB857"></a><a id="LNPCB848"></a><div class="props_rev_3"><a id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5" name="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5"></a><h4 id="LNPCB-GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5" class="sect4"><span class="enumeration_section">13.4.4</span>复制</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-8673F6DC-9DF3-4AC8-B314-B614C7E8DA04">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将全部或部分LOB值复制到第二个LOB中。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-8DC1C126-3F1B-4000-9FD5-CFB0F249F7BE">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB COPY： <span class="italic">amt</span> FROM： <span class="italic">src</span> [AT： <span class="italic">src_offset</span> ] TO： <span class="italic">dst</span> [AT： <span class="italic">dst_offset</span> ] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-420023D6-E2A4-4A45-BD84-C18D167DAF2A">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-9B7AD6F5-7B0E-4D2D-AAD8-482B783F4387">amt（IN）</p>
                        <p>要复制的BLOB或CLOB和NCLOB的字符的最大字节数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-36F2EAB7-16E7-4C77-B75E-F199B7CAE4E0">src（IN）</p>
                        <p>源LOB的定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-51AC8EDB-C30F-4B47-A756-05CC8E1CC453">src_offset（IN）</p>
                        <p>这是CLOB或NCLOB的字符数，以及BLOB的字节数，从LOB开头的1开始。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-3A8F7EC8-DDA0-4678-B362-31860B31FE9E">dst（IN）</p>
                        <p>目标LOB的定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-861C6D26-CCBB-4BDA-9C0D-B95AF0578EC4">dst_offset（IN）</p>
                        <p>目的地偏移量。与src_offset相同的规则。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFFE5F7C-4321-425F-81FF-1C89BB0108A5__GUID-F8617832-8505-4EEC-8B6A-CEFF7D0BF9EC">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果数据已经存在于目标的偏移量以及更远的位置，则会被源数据覆盖。如果目标的偏移量超出当前数据的末尾，则从当前数据的末尾到源的新写入数据的开头，将零字节填充符（BLOB）或空格（CLOB）写入目标LOB。</p>
                        <p>如果目标LOB超出目标LOB的当前长度，则扩展目标LOB以容纳新写入的数据。将此LOB扩展到4 GB以上是一个运行时错误。</p>
                        <p>尝试从未初始化的LOB进行复制也是错误的。</p>
                        <p>源LOB和目标LOB都必须属于同一类型。不能为任何一个定位器启用LOB缓冲。</p>
                        <p>要使临时LOB永久化，必须使用COPY语句将临时LOB明确复制为永久LOB。<code class="codeph">amt</code>变量表示要复制的最大数量。如果在复制指定的数量之前到达源LOB的末尾，则操作将终止而不会出现错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB859"></a><a id="LNPCB860"></a><a id="LNPCB861"></a><a id="LNPCB862"></a><a id="LNPCB863"></a><a id="LNPCB858"></a><div class="props_rev_3"><a id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843" name="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843"></a><h4 id="LNPCB-GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843" class="sect4"><span class="enumeration_section">13.4.5</span>创建临时</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843__GUID-CBAD86C4-E4E1-44A8-85DD-E4B8CF2A7C22">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>创建一个临时LOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843__GUID-0AD3CEAF-36A2-4D22-BAD8-F99821F0A7E1">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB CREATE TEMPORARY： <span class="italic">src</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843__GUID-F4665663-15DF-4D80-8E9A-B5D23D2230D4">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843__GUID-345A45A3-915B-45D6-AE32-454EF9DAD2CB">src（IN OUT）</p>
                        <p>在执行之前，当IN， <code class="codeph">src</code>是先前分配的LOB定位符时。
                        </p>
                        <p>执行后，当OUT， <code class="codeph">src</code>是一个LOB定位器，它将指向一个新的空临时LOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4362D0D2-54BB-45EA-9810-2F31FB4FE843__GUID-9EF85B6A-8EE8-4838-BF65-A7E5D3355A78">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>成功执行后，定位器指向新创建的临时LOB，该临时LOB独立于表驻留在数据库服务器上。临时LOB为空，长度为零。</p>
                        <p>在会话结束时，释放所有临时LOB。对临时LOB的读取和写入永远不会通过缓冲区缓存。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB865"></a><a id="LNPCB866"></a><a id="LNPCB867"></a><a id="LNPCB868"></a><a id="LNPCB869"></a><a id="LNPCB864"></a><div class="props_rev_3"><a id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47" name="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47"></a><h4 id="LNPCB-GUID-7C573474-BB16-4815-B2E9-6B05B333CD47" class="sect4"><span class="enumeration_section">13.4.6</span>禁用<span class="enumeration_section">缓冲</span></h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47__GUID-DBC5700B-DB22-4D1C-813C-9E717BBDF40B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>禁用LOB定位器的LOB缓冲。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47__GUID-6EA8D09F-3CD5-4AC1-8662-C90CED9ECA23">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB DISABLE BUFFERING： <span class="italic">src</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47__GUID-4E4BD1D3-201E-42DB-B8E8-6C416502089E">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47__GUID-BA9F9B76-43FA-4057-85B7-A5B45065E92E">src（IN OUT）</p>
                        <p>内部LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C573474-BB16-4815-B2E9-6B05B333CD47__GUID-3DB1480B-FADB-459F-A50C-7F81D6A598AB">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该语句不支持BFILE。后续的读取或写入不会通过LBS完成。</p>
                        <p><span class="bold">注意：</span>使用FLUSH BUFFER命令永久更改，因为DISABLE BUFFERING语句不会隐式刷新LOB缓冲子系统中所做的更改。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB871"></a><a id="LNPCB872"></a><a id="LNPCB873"></a><a id="LNPCB874"></a><a id="LNPCB875"></a><a id="LNPCB870"></a><div class="props_rev_3"><a id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658" name="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658"></a><h4 id="LNPCB-GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658" class="sect4"><span class="enumeration_section">13.4.7</span>启用<span class="enumeration_section">缓冲</span></h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658__GUID-DBB16D24-FFE5-473E-B672-B1697EC387C7">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>为LOB定位器启用LOB缓冲。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658__GUID-84454AA9-01F2-4316-A323-1FAE7C636476">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB ENABLE BUFFERING： <span class="italic">src</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658__GUID-81230C07-C910-429F-81A0-62ECC444381D">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658__GUID-23599CDF-1188-48F9-84DA-FF9F1176195C">src（IN OUT）</p>
                        <p>内部LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-74790F0A-067C-4C9A-B1CD-C8CBE84AF658__GUID-57C6CCF9-B2F0-43E2-A8F0-DB994B6EA238">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该语句不支持BFILE。随后的读取和写入通过LBS完成。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB877"></a><a id="LNPCB878"></a><a id="LNPCB879"></a><a id="LNPCB880"></a><a id="LNPCB881"></a><a id="LNPCB882"></a><a id="LNPCB883"></a><a id="LNPCB876"></a><div class="props_rev_3"><a id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC" name="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC"></a><h4 id="LNPCB-GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC" class="sect4"><span class="enumeration_section">13.4.8</span>删除</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-313A59DF-AF0B-400A-BD89-F2E880105AE3">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>从给定的偏移量开始擦除给定数量的LOB数据。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-6DD346DB-020B-4E6A-8F19-3A65FE31CA61">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB ERASE：amt FROM：src [AT：src_offset] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-2110CA13-E7C4-4161-B05E-CE5445D9AF9A">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-2902385D-34F2-4465-B636-E8AC72D70A0B">amt（IN OUT）</p>
                        <p>输入是要擦除的字节数或字符数。返回的输出是擦除的实际数字。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-5259D3F7-50A3-4121-9E61-6EC3857FCF44">src（IN OUT）</p>
                        <p>内部LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-98333A9C-6B83-45AB-B450-922F62D32AEB">src_offset（IN）</p>
                        <p>从LOB开始的偏移量，从1开始。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D27FAFC-5B61-45AF-826C-EE7F12220DBC__GUID-4D5FC880-CD35-43B8-950A-CB4061262CB4">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该语句不支持BFILE。</p>
                        <p>执行后， <span class="italic">amt</span>返回已擦除的实际字符数/字节数。如果在擦除所请求的字符/字节数之前达到LOB值的末尾，则实际数量和请求的数量将不同。如果LOB是空的<span class="italic">，AMT</span>将表明，0个字符/字节都被擦除。
                        </p>
                        <p>对于BLOB，擦除意味着零字节填充程序覆盖现有的LOB值。对于CLOB，擦除意味着空格会覆盖现有的LOB值。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB885"></a><a id="LNPCB886"></a><a id="LNPCB887"></a><a id="LNPCB884"></a><div class="props_rev_3"><a id="GUID-AF7F4B27-9400-4201-917F-23013E0657C3" name="GUID-AF7F4B27-9400-4201-917F-23013E0657C3"></a><h4 id="LNPCB-GUID-AF7F4B27-9400-4201-917F-23013E0657C3" class="sect4"><span class="enumeration_section">13.4.9</span>文件关闭全部</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AF7F4B27-9400-4201-917F-23013E0657C3__GUID-42F234A2-A492-4052-920F-6B31980697A6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>关闭当前会话中打开的所有BFILES。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF7F4B27-9400-4201-917F-23013E0657C3__GUID-C6E96A00-787D-49F4-8464-9461AB9373E6">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB FILE关闭所有END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF7F4B27-9400-4201-917F-23013E0657C3__GUID-931F80F7-C409-407C-B17B-2EA9FDF6BAC1">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果会话中的任何打开文件的闭包未正确处理，则可以使用FILE CLOSE ALL语句关闭会话中打开的所有文件，并从头开始恢复文件操作。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB889"></a><a id="LNPCB890"></a><a id="LNPCB891"></a><a id="LNPCB892"></a><a id="LNPCB893"></a><a id="LNPCB894"></a><a id="LNPCB895"></a><a id="LNPCB888"></a><div class="props_rev_3"><a id="GUID-50066F85-1DE1-457C-8861-79D3693A412C" name="GUID-50066F85-1DE1-457C-8861-79D3693A412C"></a><h4 id="LNPCB-GUID-50066F85-1DE1-457C-8861-79D3693A412C" class="sect4"><span class="enumeration_section">13.4.10</span>文件集</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-EEA9829F-03D1-452B-A802-B83DEE1E050B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在BFILE定位器中设置DIRECTORY别名和FILENAME。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-19573944-E07D-4E8A-BC06-DA6C61FF0E52">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB FILE SET： <span class="italic">文件</span> DIRECTORY =： <span class="italic">alias</span> ，FILENAME =： <span class="italic">filename</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-B7DBD2F9-AB76-476B-9BD2-84400379BF5F">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-E1027EB4-65F3-47E1-AB02-37DAA2B0754A">文件（IN OUT）</p>
                        <p>BFILE定位器，其中设置了DIRECTORY别名和FILENAME。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-F955CA90-35CC-4188-9E62-74D9387222E2">别名（IN）</p>
                        <p>要设置的DIRECTORY别名。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-A0CB3FD9-AA56-4BA6-8291-EF9F5ACA5074">文件名（IN）</p>
                        <p>要设置的FILENAME。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50066F85-1DE1-457C-8861-79D3693A412C__GUID-E0D83241-1E47-4C2B-AD20-61E92CEB28B7">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>给定的BFILE定位器在此语句中使用之前必须首先进行ALLOCATEd。</p>
                        <p>必须提供DIRECTORY别名和FILENAME。</p>
                        <p>DIRECTORY别名的最大长度为128个字节。FILENAME的最大长度为255个字节。</p>
                        <p>支持与DIRECTORY别名和FILENAME属性一起使用的唯一外部数据类型是VARCHAR，VARCHAR2和CHARF。</p>
                        <p>将此语句与除外部LOB定位符之外的任何内容一起使用是错误的。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB897"></a><a id="LNPCB898"></a><a id="LNPCB899"></a><a id="LNPCB900"></a><a id="LNPCB901"></a><a id="LNPCB896"></a><div class="props_rev_3"><a id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448" name="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448"></a><h4 id="LNPCB-GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448" class="sect4"><span class="enumeration_section">13.4.11</span>冲洗缓冲器</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448__GUID-333DCFB0-5607-4970-B4C7-F45F41AB3AF9">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将此LOB的缓冲区写入数据库服务器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448__GUID-E26574EE-B3F7-4337-A688-6D2CF62C1E6D">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB FLUSH BUFFER：src [FREE] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448__GUID-18C7CA7A-F14B-4E52-A581-A6CBD76A547F">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448__GUID-837D1FF6-9045-479D-A63D-84C9FF822CAC">src（IN OUT）</p>
                        <p>内部LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB0A00CE-3BC5-4E3B-B304-DDC4B46C1448__GUID-8F126EA8-534F-41BE-9B53-DE518CB9A132">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将缓冲区数据从输入定位器引用的LOB写入服务器中的数据库LOB。</p>
                        <p>必须已为输入LOB定位器启用LOB缓冲。</p>
                        <p>默认情况下，FLUSH操作不会释放缓冲区资源以重新分配到另一个缓冲的LOB操作。但是，如果要显式释放缓冲区，可以包含可选的FREE关键字以表示。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB903"></a><a id="LNPCB904"></a><a id="LNPCB905"></a><a id="LNPCB906"></a><a id="LNPCB907"></a><a id="LNPCB902"></a><div class="props_rev_3"><a id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218" name="GUID-284D7C30-A00F-4503-9F12-E4F723F76218"></a><h4 id="LNPCB-GUID-284D7C30-A00F-4503-9F12-E4F723F76218" class="sect4"><span class="enumeration_section">13.4.12</span>免费临时</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218__GUID-0EFDD67A-C955-4390-9262-07E16FCAE7B8">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>释放LOB定位器的临时空间。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218__GUID-6F5B100B-83EA-4134-8B85-591968B6777E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB FREE TEMPORARY： <span class="italic">src</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218__GUID-4D717976-46DB-4391-9247-20DD8BEF58E4">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218__GUID-21FC03D2-C766-452E-853C-5AB1EA3CE2DA">src（IN OUT）</p>
                        <p>LOB定位器指向临时LOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-284D7C30-A00F-4503-9F12-E4F723F76218__GUID-71044303-6D51-4360-A962-E21527E9CDDA">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>输入定位器必须指向临时LOB。输出定位器标记为未初始化，可以在后续LOB语句中使用。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB909"></a><a id="LNPCB910"></a><a id="LNPCB911"></a><a id="LNPCB912"></a><a id="LNPCB913"></a><a id="LNPCB914"></a><a id="LNPCB915"></a><a id="LNPCB916"></a><a id="LNPCB917"></a><a id="LNPCB908"></a><div class="props_rev_3"><a id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550" name="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550"></a><h4 id="LNPCB-GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550" class="sect4"><span class="enumeration_section">13.4.13</span>从文件加载</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-DC7F73F2-AC88-4A19-8E5E-EB11A224036D">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将全部或部分BFILE复制到内部LOB中。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-929086E1-AA45-4C35-9076-63BA14F2691C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB LOAD： <span class="italic">amt</span> FROM FILE： <span class="italic">file</span> [AT： <span class="italic">src_offset</span> ] INTO： <span class="italic">dst</span> [AT： <span class="italic">dst_offset</span> ] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-90BDC718-D26C-4DC2-AB6B-922FDB5E8009">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-B39F906E-E429-4D1B-9000-96E811FF9B32">amt（IN）</p>
                        <p>要加载的最大字节数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-669E29DA-D90A-42EE-8600-B600764F01BE">文件（IN OUT）</p>
                        <p>源BFILE定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-698139CA-DED6-4CB0-8CE9-91223292F707">src_offset（IN）</p>
                        <p>从文件开头偏移的字节数，从1开始。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-11D27C55-030F-4CE0-BDC7-C1D24900CC77">dst（IN OUT）</p>
                        <p>目标LOB定位器，可以是BLOB，CLOB，是NCLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-DE1C46C1-D61C-420E-AB55-3B7BBEB663AE">dst_offset（IN）</p>
                        <p>从写入开始的目标LOB开始的字节数（对于BLOB）或字符（CLOB和NCLOB）。它从1开始。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A977BA5-64F6-4EAD-82A1-4FC2BCB03550__GUID-6140EE00-9462-4032-BE3A-FD56A8D12A47">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>数据从源BFILE复制到目标内部LOB。将BFILE数据复制到CLOB或NCLOB时，不执行字符集转换。因此，BFILE数据必须已与数据库中的CLOB或NCLOB位于相同的字符集中。</p>
                        <p>源和目标LOB必须已存在。如果数据已存在于目的地的起始位置，则会被源数据覆盖。如果目标的起始位置超出当前数据的末尾，则将零字节填充符（BLOB）或空格（CLOB和NCLOB）写入目标LOB，从数据末尾到新写入数据的开头。资源。</p>
                        <p>如果目标LOB超出目标LOB的当前长度，则扩展目标LOB以容纳新写入的数据。将此LOB扩展到4千兆字节是错误的。</p>
                        <p>从未初始化的BFILE复制也是错误的。</p>
                        <p>amount参数表示要加载的最大数量。如果在加载指定的数量之前到达源BFILE的末尾，则操作将终止而不会出现错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB919"></a><a id="LNPCB920"></a><a id="LNPCB921"></a><a id="LNPCB922"></a><a id="LNPCB923"></a><a id="LNPCB918"></a><div class="props_rev_3"><a id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B" name="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B"></a><h4 id="LNPCB-GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B" class="sect4"><span class="enumeration_section">13.4.14</span>开放</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B__GUID-7288C099-5F05-4F9B-9C35-D19DBECF99B1">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>打开LOB或BFILE以进行读取或读/写访问。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B__GUID-8D7FA3B4-F00F-45E6-937E-D6CEA8E9512D">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB OPEN： <span class="italic">src</span> [READ ONLY | READ WRITE] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B__GUID-712B3FAE-2A97-44B7-B78C-4DBDBFED8D80">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B__GUID-F2E8496C-C644-4421-A26D-6C3C830DA04B">src（IN OUT）</p>
                        <p>LOB或BFILE的LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9CF8AB7-F5FB-46E8-B8A9-EAC44221B85B__GUID-F74432D0-AD50-49C1-8B7D-C020988AD090">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>可以打开LOB或BFILE的默认模式是READ ONLY访问。</p>
                        <p>对于内部LOB，OPEN与LOB关联，而不是与定位器关联。将已打开的定位器分配给另一个定位器不会计为打开新的LOB。相反，两个定位器都引用相同的LOB。对于BFILE，OPEN与定位器相关联。</p>
                        <p>任何时候都只能打开32个LOB。第33个LOB打开时将返回错误。</p>
                        <p>不支持可写BFILE。因此，当您在READ WRITE模式下打开BFILE时，将返回错误。</p>
                        <p>在READ ONLY模式下打开LOB然后尝试写入LOB也是错误的。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB925"></a><a id="LNPCB926"></a><a id="LNPCB927"></a><a id="LNPCB928"></a><a id="LNPCB929"></a><a id="LNPCB930"></a><a id="LNPCB931"></a><a id="LNPCB932"></a><a id="LNPCB933"></a><a id="LNPCB934"></a><a id="LNPCB924"></a><div class="props_rev_3"><a id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1" name="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1"></a><h4 id="LNPCB-GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1" class="sect4"><span class="enumeration_section">13.4.15</span>阅读</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-4EFD2855-5972-4880-8469-EC4B4CF9666E">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将全部或部分LOB或BFILE读入缓冲区。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-A739299D-2315-4C7E-A068-FAB92EA114B7">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB READ：amt FROM： <span class="italic">src</span> [AT： <span class="italic">src_offset</span> ] INTO： <span class="italic">buffer</span> [WITH LENGTH： <span class="italic">buflen</span> ] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-EEEA72B7-BDA1-4BDB-899F-75EA87B039BB">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-1BBAF731-9719-49BE-BE99-46B103E1B007">amt（IN OUT）</p>
                        <p>输入是要读取的字符数或字节数。输出是读取的实际字符数或字节数。</p>
                        <p>如果要读取的字节数大于缓冲区长度，则假定LOB在轮询模式下处于READ状态。在输入时，如果该值为0，则将以轮询模式从输入偏移量读取数据，直到LOB结束。</p>
                        <p>实际读取的字节数或字符数以<code class="codeph">amt.</code>形式返回<code class="codeph">amt.</code> 如果数据是以片段形式读取的，则<code class="codeph">amt</code>将始终包含最后一页读取的长度。
                        </p>
                        <p>当到达LOB的末尾时， <span class="italic">ORA-1403：未发现数据</span>错误。
                        </p>
                        <p>在轮询模式下读取时，应用程序必须重复调用LOB READ以读取更多LOB片段，直到不再有数据为止。使用WHENEVER指令中的NOT FOUND条件控制轮询模式的使用，以捕获ORA-1403错误。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-E38AE41C-6343-476E-9BD0-B29147143F82">src（IN）</p>
                        <p>LOB或BFILE定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-AA2F2D93-2B64-42A4-B4FA-1DE741164984">src_offset（IN）</p>
                        <p>这是从LOB值的开头到开始读取的绝对偏移量。对于字符LOB，它是从LOB开始的字符数。对于二进制LOB或BFILE，它是字节数。第一个位置是1。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-16D17CEF-0390-4ED2-BBE0-0B83759C99D1">缓冲区（IN OUT）</p>
                        <p>一个缓冲区，LOB数据将被读入其中。缓冲区的外部数据类型仅限于几种类型，具体取决于源LOB的类型。缓冲区的最大长度取决于用于存储LOB值的外部数据类型。<a id="d79028e2361" class="indexterm-anchor"></a>下表总结了合法的外部数据类型及其按源LOB类型分类的相应最大长度：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-69796C34-F48B-433B-B291-B6467C69B977">
                        <p class="titleintable">表13-2源LOB和预编译器数据类型</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="源LOB和预编译器数据类型" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="11%" id="d79028e2378">外部LOB（3）</th>
                                 <th align="left" valign="bottom" width="17%" id="d79028e2385">内部LOB</th>
                                 <th align="left" valign="bottom" width="24%" id="d79028e2388">预编译器外部数据类型</th>
                                 <th align="left" valign="bottom" width="17%" id="d79028e2391">预编译器最大长度（4）</th>
                                 <th align="left" valign="bottom" width="18%" id="d79028e2398">PL / SQL数据类型</th>
                                 <th align="left" valign="bottom" width="14%" id="d79028e2401">PL / SQL最大长度</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d79028e2406" headers="d79028e2378 ">
                                    <p></p>
                                    <p></p>
                                    <p></p>
                                    <p>BFILE</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2406 d79028e2385 ">
                                    <p>BLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d79028e2406 d79028e2388 ">
                                    <p>生的</p>
                                    <p>VARRAW</p>
                                    <p>LONG RAW</p>
                                    <p>LONG VARRAW</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2406 d79028e2391 ">
                                    <p>65535</p>
                                    <p>65533</p>
                                    <p>2147483647</p>
                                    <p>2147483643</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d79028e2406 d79028e2398 ">
                                    <p>生的</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d79028e2406 d79028e2401 ">
                                    <p>32767</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d79028e2440" headers="d79028e2378 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2440 d79028e2385 ">
                                    <p>CLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d79028e2440 d79028e2388 ">
                                    <p>VARCHAR2</p>
                                    <p>VARCHAR</p>
                                    <p>LONG VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2440 d79028e2391 ">
                                    <p>65535</p>
                                    <p>65533</p>
                                    <p>2147483643</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d79028e2440 d79028e2398 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d79028e2440 d79028e2401 ">
                                    <p>32767</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d79028e2467" headers="d79028e2378 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2467 d79028e2385 ">
                                    <p>NCLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d79028e2467 d79028e2388 ">
                                    <p>NVARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d79028e2467 d79028e2391 ">
                                    <p>4000</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d79028e2467 d79028e2398 ">
                                    <p>NVARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d79028e2467 d79028e2401 ">
                                    <p>4000</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注3显示的</sup>任何外部数据类型都可以与BFILES一起使用。</p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注4</sup>长度以字节为单位，而不是字符。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-910A015C-7182-4061-8829-535EE9AE46B7">buflen（IN）</p>
                        <p>指定给定缓冲区的长度，否则无法确定。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1__GUID-DA409537-1CD0-4EB9-B4CA-DC88906AF441">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>BFILE必须已存在于数据库服务器上，并且必须已使用输入定位器打开。数据库必须具有读取文件的权限，并且用户必须具有该目录的读取权限。</p>
                        <p>尝试从未初始化的LOB或BFILE读取是错误的。</p>
                        <p>缓冲区的长度以这种方式确定：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从<code class="codeph">buflen</code> ，当出现WITH LENGTH子句时。
                              </p>
                           </li>
                           <li>
                              <p>在没有WITH LENGTH子句的情况下，根据“处理字符数据”中的规则，通过在OUT模式下处理缓冲区主机变量来确定长度。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="datatypes-and-host-variables.html#GUID-7DFCC56E-3326-4BE0-B808-60AF4F50D39B">处理字符数据</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB936"></a><a id="LNPCB937"></a><a id="LNPCB938"></a><a id="LNPCB939"></a><a id="LNPCB940"></a><a id="LNPCB941"></a><a id="LNPCB935"></a><div class="props_rev_3"><a id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2" name="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2"></a><h4 id="LNPCB-GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2" class="sect4"><span class="enumeration_section">13.4.16</span> TRIM</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-A206C9AA-3874-4A0F-929C-18644955B74B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>截断LOB值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-1703977C-86A0-49AD-A911-F69F42EAC2FE">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB TRIM： <span class="italic">src</span> TO： <span class="italic">newlen</span> END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-C107EAE0-E223-4B74-ADDB-9C651F58B116">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-EA46529E-CB0E-417F-A1BB-6AF8B2BD1689">src（IN OUT）</p>
                        <p>内部LOB的LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-FAB9934A-B58E-442B-B502-0484F16C8D1E">纽伦（印第安纳州）</p>
                        <p>LOB值的新长度。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6A848-4CC9-402F-B376-DFF772FF59F2__GUID-E04C7224-F889-4AEA-B95E-FC51268F06DC">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>本声明不适用于BFILES。新长度不能大于当前长度，否则返回错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB943"></a><a id="LNPCB944"></a><a id="LNPCB945"></a><a id="LNPCB946"></a><a id="LNPCB947"></a><a id="LNPCB948"></a><a id="LNPCB949"></a><a id="LNPCB950"></a><a id="LNPCB951"></a><a id="LNPCB942"></a><div class="props_rev_3"><a id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0" name="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0"></a><h4 id="LNPCB-GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0" class="sect4"><span class="enumeration_section">13.4.17</span>写</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-938FD512-0746-451F-8714-465BAC63132C">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>将缓冲区的内容写入LOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-48A24E43-2520-4131-841F-1A25A9D647C5">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB WRITE [APPEND] [FIRST |下一步|最后| ONE]： <span class="italic">amt</span> FROM： <span class="italic">buffer</span> [WITH LENGTH： <span class="italic">buflen</span> ] INTO： <span class="italic">dst</span> [AT： <span class="italic">dst_offset</span> ] END-EXEC。</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-9FEFE4CD-0C63-48FE-A98F-6699CA86842A">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-A186A84C-124A-4C54-9E3D-AB716EB526E4">amt（IN OUT）</p>
                        <p>输入是要写入的字符数或字节数。</p>
                        <p>输出是写入的实际字符数或字节数。</p>
                        <p>使用轮询方法写入时， <code class="codeph">amt</code>将返回执行WRITE LAST后为执行WRITE语句而写入的累计总长度。如果WRITE语句被中断，则<code class="codeph">amt</code>将是未定义的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-C4C96449-7107-4D56-8A14-B3FB4FF4144E">缓冲区（IN）</p>
                        <p>用于写入LOB数据的缓冲区。有关数据类型的长度，请参见“READ”。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-3086CDD1-5626-4C2A-BEB8-1961547C411B">dst（IN OUT）</p>
                        <p>LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-B6616BB6-E3D8-439B-8DB9-406A15C977BA">dst_offset（IN）</p>
                        <p>从LOB开头（从1开始计算）的偏移量，以CLOB和NCLOB的字符为单位，以BLOB为单位。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-C7561867-513A-4EF9-8D6D-4729D3C54931">buflen（IN）</p>
                        <p>无法以任何其他方式计算的缓冲区长度。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFBD67AB-5DFC-418D-87E6-BBDF9FA243F0__GUID-FEA7A840-4D80-4250-B261-B89EE744BBE1">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果LOB数据已存在，则会被存储在缓冲区中的数据覆盖。如果指定的偏移量超出了当前LOB中数据的末尾，则将零字节填充符或空格插入到LOB中。</p>
                        <p>在WRITE语句中指定关键字APPEND会导致数据自动写入LOB的末尾。指定APPEND时，假定目标偏移量是LOB的结尾。在WRITE语句中使用APPEND选项时指定目标偏移量是错误的。</p>
                        <p>缓冲区可以整体写入LOB（使用默认的ONE方向），也可以使用标准轮询方法逐段提供。</p>
                        <p>通过使用FIRST开始轮询，然后使用NEXT编写后续部分。LAST关键字用于写入终止写入的最终部分。</p>
                        <p>使用这种分段写入模式，如果片段具有不同的大小和不同的位置，则缓冲区和长度在每次调用中可以是不同的。</p>
                        <p>如果传递给Oracle的数据总量小于执行所有写入后<code class="codeph">amt</code>参数指定的数量，则会产生错误。
                        </p>
                        <p>相同的规则适用于确定缓冲区长度，如READ语句中所示。请参阅“READ”。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="large-objects-LOBs.html#GUID-889494EC-DF64-42DA-BBD3-BA2F09F35DB1">读</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB953"></a><a id="LNPCB954"></a><a id="LNPCB955"></a><a id="LNPCB956"></a><a id="LNPCB957"></a><a id="LNPCB958"></a><a id="LNPCB959"></a><a id="LNPCB960"></a><a id="LNPCB961"></a><a id="LNPCB952"></a><div class="props_rev_3"><a id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582" name="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582"></a><h4 id="LNPCB-GUID-21CC05FA-CD63-46CD-8271-7DD342C05582" class="sect4"><span class="enumeration_section">13.4.18</span>描述</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-13B27D27-D185-49EC-9CBB-675798491BB6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是一个等同于几个OCI和PL / SQL语句的语句。使用LOB DESCRIBE SQL语句从LOB检索属性。 LOB DESCRIBE语句具有以下格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-F025AF5D-69BF-4775-A1D2-89F88092CBAF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT [：] <span class="italic">database</span> ] LOB DESCRIBE： <span class="italic">src</span> GET <span class="italic">attribute1</span> [{， <span class="italic">attributeN</span> }] INTO： <span class="italic">hv1</span> [[INDICATOR]： <span class="italic">hv_ind1</span> ] [{，： <span class="italic">hvN</span> [[INDICATOR]： <span class="italic">hv_indN</span> ]}] END-EXEC。</pre><p>其中属性可以是以下任何选项：</p><pre class="oac_no_warn" dir="ltr">CHUNKSIZE |目录| FILEEXISTS | FILENAME | ISOPEN | ISTEMPORARY |长度</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-6BBB3A92-3BEA-4FCB-9433-8CBB1B98B2A7">主机变量</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-A9A48B26-1C5B-4B19-B99F-FD6E12FB77A2">src（IN）</p>
                        <p>内部或外部LOB的LOB定位器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-EC6F5C5F-B121-4EAC-96F1-FEA3D3715B78">hv1 ... hvN（OUT）</p>
                        <p>按属性名称列表中指定的顺序接收属性值的主变量。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-43FD354C-1250-45E6-98FE-B9E9776DC78B">hv_ind1 ... hv_indN（OUT）</p>
                        <p>可选的主机变量，按属性名称列表的顺序接收指示符NULL状态。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>下表描述了与之关联的LOB以及应该读取它们的COBOL类型的属性：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-A02641D0-117A-4AF8-898E-A8B06184B37E">
                        <p class="titleintable">表13-3 LOB属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="LOB属性" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d79028e2840">LOB属性</th>
                                 <th align="left" valign="bottom" width="54%" id="d79028e2843">属性描述</th>
                                 <th align="left" valign="bottom" width="15%" id="d79028e2846">限制</th>
                                 <th align="left" valign="bottom" width="12%" id="d79028e2849">COBOL类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2854" headers="d79028e2840 ">
                                    <p>CHUNKSIZE <a id="d79028e2857" class="indexterm-anchor"></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2854 d79028e2843 ">
                                    <p>给定表空间块的空间的最佳量（以字节为单位表示BLOB和CLOB / NCLOB的字符），用于存储LOB值。块大小不固定，并且基于可用块大小的最大可能值用于存储。如果在同一页面或一组页面上发出多个WRITE请求，则只有在提交时才将数据写入磁盘，并将其视为单个修改。这允许以更大的块大小写入数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2854 d79028e2846 ">
                                    <p>仅限BLOB，CLOB和NCLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2854 d79028e2849 ">
                                    <p>PIC S9（9）COMP</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2872" headers="d79028e2840 ">
                                    <p>目录<a id="d79028e2875" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2872 d79028e2843 ">
                                    <p>BFILE的DIRECTORY别名的名称。长度n介于1到128个字节之间。在图片中使用该长度。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2872 d79028e2846 ">
                                    <p>仅限文件LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2872 d79028e2849 ">
                                    <p>PIC X（n）[VARYING]</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2889" headers="d79028e2840 ">
                                    <p>文件已存在<a id="d79028e2892" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2889 d79028e2843 ">
                                    <p>确定服务器的操作系统文件系统上是否存在BFILE。当FILEEXISTS非零时，它是真的;当它等于0时为false。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2889 d79028e2846 ">
                                    <p>仅限文件LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2889 d79028e2849 ">
                                    <p>PIC S9（9）COMP</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2906" headers="d79028e2840 ">
                                    <p>文件名<a id="d79028e2909" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2906 d79028e2843 ">
                                    <p>BFILE的名称。长度n介于1到255个字节之间。在图片中使用该长度。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2906 d79028e2846 ">
                                    <p>仅限文件LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2906 d79028e2849 ">
                                    <p>PIC X（n）[VARYING]</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2923" headers="d79028e2840 ">
                                    <p>开了<a id="d79028e2926" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2923 d79028e2843 ">
                                    <p>对于BFILE，如果从未在OPEN语句中使用输入BFILE定位符，则此定位器认为BFILE不会打开。但是，不同的BFILE定位器可能已打开BFILE。可以使用不同的定位器在同一个BFILE上执行多个OPEN。对于LOB，如果不同的定位器打开LOB，则输入定位器仍然认为LOB是OPEN。ISOPEN在非零时是正确的;当它等于0时为false。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2923 d79028e2846 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2923 d79028e2849 ">
                                    <p>PIC S9（9）COMP</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2940" headers="d79028e2840 ">
                                    <p>方法isTemporary<a id="d79028e2943" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2940 d79028e2843 ">
                                    <p>确定输入LOB定位符是否引用临时LOB。ISTEMPORARY在非零时是真的;当它等于0时为false。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2940 d79028e2846 ">
                                    <p>仅限BLOB，CLOB和NCLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2940 d79028e2849 ">
                                    <p>PIC S9（9）COMP</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d79028e2957" headers="d79028e2840 ">
                                    <p>长度<a id="d79028e2960" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d79028e2957 d79028e2843 ">
                                    <p>BLOB和BFILE的长度，以字节为单位，CLOB和NCLOB以字符为单位。对于BFILE，长度包括EOF（如果存在）。空内部LOB的长度为零。未初始化的LOB / BFILE具有未定义的长度。</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d79028e2957 d79028e2846 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d79028e2957 d79028e2849 ">
                                    <p>PIC 9（9）COMP</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-7629835B-EDED-4A04-B5FB-36BD39126CBF">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>指标变量应声明为PIC S9（4）COMP。执行完成后，SQLERRD（3）包含无错检索的属性数。如果存在执行错误，则发生它的属性比SQLERRD（3）的内容多一个。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21CC05FA-CD63-46CD-8271-7DD342C05582__GUID-44F7E539-F124-445D-8AF6-EC58F63E7558">DESCRIBE示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是一个简单的Pro * COBOL示例，它提取给定BFILE的DIRECTORY和FILENAME属性：</p><pre class="oac_no_warn" dir="ltr">...01 A-BFILE SQL-BFILE。 01目录PIC X（30）变化。 01 FILENAME PIC X（30）变化。 01 D-IND PIC S9（4）COMP。 01 F-IND PIC S9（4）COMP。 01 FEXISTS PIC S9（9）COMP。 01 ISOPN PIC S9（9）COMP。...
</pre><p>最后，从某个LOB表中选择一个BFILE定位器并执行DESCRIBE：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE：A-BFILE END-EXEC。 EXEC SQL INSERT INTO lob_table（a_bfile）VALUES（BFILENAME（'lob.dir'，'image.gif'））END-EXEC。 EXEC SQL SELECT a_bfile INTO：A-BFILE FROM lob_table WHERE ...END-EXEC。 EXEC SQL DESCRIBE：A-BFILE获取目录，文件名，FILEEXISTS，ISOPEN INTO：目录：D-IND，：文件名：F-IND，FEXISTS，ISOPN ND-EXEC。</pre><p>指示符变量仅对DIRECTORY和FILENAME属性有效。这些属性是字符串，如果用于保存其值的主机变量缓冲区不够大，则其值可能会被截断。发生截断时，指标的值将设置为属性的原始长度。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB962"></a><div class="props_rev_3"><a id="GUID-35E01A34-6DD5-4D82-BE5E-4DA0BEB48A3B" name="GUID-35E01A34-6DD5-4D82-BE5E-4DA0BEB48A3B"></a><h4 id="LNPCB-GUID-35E01A34-6DD5-4D82-BE5E-4DA0BEB48A3B" class="sect4"><span class="enumeration_section">13.4.19</span>使用轮询方法进行读取和写入</h4>
                  <div>
                     <div class="section">
                        <p>以下是使用READ和轮询方法的概述：</p>
                        <p>通过在第一个LOB READ中将数量设置为零（或将数量设置为要读取的总数据的大小）来启动读取轮询。在这种情况下，该数量首先设置为零，省略了详细信息：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE：CLOB1 END-EXEC。 EXEC SQL WHENEVER未找到GOTO END-OF-CLOB END-EXEC。 EXEC SQL SELECT A_CLOB INTO：CLOB1 FROM LOB_TABLE WHERE ...END-EXEC。移动0到AMT。 EXEC SQL LOB READ：AMT FROM：VLOB1 AT：OFFSET INTO：BUFFER END-EXEC。 READ-LOOP。 EXEC SQL LOB READ：AMT FROM：CLOB1 INTO BUFFER $ END-EXEC。去阅读循环。 END-OF-CLOB。EXEC SQL WHENEVER NOT FOUND CONTINUE END-EXEC。 EXEC SQL FREE：CLOB1 END-EXEC。</pre><p>以下代码大纲将数据从缓冲区写入内部CLOB。初始写入语句中的AMT值（16个字符）应该是您要写入的整个数据的长度。缓冲区长度为5个字符。</p>
                        <p>如果在初始读取中读取EOF，则执行LOB WRITE ONE。如果没有，请使用LOB WRITE FIRST缓冲区开始轮询。读取数据，并对输出执行LOB WRITE NEXT。LOB WRITE NEXT不需要偏移，因为数据是在最后一次写入结束时写入的。读取EOF后，跳出读取循环并执行LOB WRITE LAST。返回的金额必须等于初始金额值（16）。</p><pre class="oac_no_warn" dir="ltr">16点到16点。执行READ-NEXT-RECORD。将INREC推向BUFFER-ARR。移动5到BUFFER-LEN。 IF（END-OF-FILE =“Y”）EXEC SQL LOB WRITE ONE：AMT FROM：BUFFER IN到CLOB1 AT：OFFSET END-EXEC。执行显示-CLOB ELSE EXEC SQL LOB写入：AMT FROM：BUFFER INTO：CLOB1 AT：OFFSET END-EXEC。执行READ-NEXT-RECORD。执行WRITE-TO-CLOB直到文件结束=“Y”。将INREC推向BUFFER-ARR。移动1到BUFFER-LEN。 EXEC SQL LOB WRITE LAST：AMT FROM：BUFFER INTO：CLOB1 END-EXEC。执行DISPLAY-CLOB。 ...WRITE-TO-CLOB。将INREC推向BUFFER-ARR。移动5到BUFFER-LEN。 EXEC SQL LOB WRITE NEXT：AMT FROM：BUFFER INTO：CLOB1 END-EXEC。执行READ-NEXT RECORD。 READ-NEXT-RECORD。向INREC移动空间。读取INFIFILE NEXT RECORD结束时将“Y”移动到文件结尾。 ...</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB963"></a><div class="props_rev_3"><a id="GUID-F7E1C804-7A87-4903-B8F4-B573B32E5C77" name="GUID-F7E1C804-7A87-4903-B8F4-B573B32E5C77"></a><h3 id="LNPCB-GUID-F7E1C804-7A87-4903-B8F4-B573B32E5C77" class="sect3"><span class="enumeration_section">13.5</span> LOB示例程序：LOBDEMO1。PCO</h3>
               <div>
                  <p>LOBDEMO1。PCO程序说明了几个LOB嵌入式SQL语句。源代码位于您的<code class="codeph">demo</code>目录中。该应用程序使用名为<code class="codeph">license_table</code>的表，其<code class="codeph">license_table</code>社会安全号，名称和包含驱动违规行为的文本的CLOB。对典型机动车部门的几个简化的SQL操作进行了建模。
                  </p>
                  <p>可能的行动是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>添加新记录。</p>
                     </li>
                     <li>
                        <p>按社会安全号码列出记录。</p>
                     </li>
                     <li>
                        <p>在给定社会安全号码的情况下列出记录中的信息。</p>
                     </li>
                     <li>
                        <p>将新的流量违规附加到现有CLOB的内容。</p>
                     </li>
                  </ul>
                  <p>这是LOBDEMO1的列表。PCO：</p><pre class="oac_no_warn" dir="ltr">************************************************** ******************* * LOB演示1：DMV数据库* * * *情景：* * * *我们考虑用于存储驱动程序* *许可证的数据库示例。许可证存储为包含* *三列的表的行：一个人的sss号，他/她的名字以及在其许可证中找到的信息的* *文本摘要。* * * * sss号码和名称是唯一的社会安全号码* *和个人姓名。文本摘要是关于个人的* *信息的摘要，包括他的驾驶记录，* *可以任意长，并且可以包含关于该人的驾驶能力的评论和数据* *。* * * *应用程序概述：* * * *此示例演示了Pro * COBOL客户端如何处理* *新的LOB数据类型。展示了访问* *和将lobs存储到表中或从表中存储lobs的机制。* * * *运行演示：* * * * 1。在服务器管理器* * 2中执行脚本lobdemo1.sql。使用Pro * COBOL * * procob lobdemo1 * * 3进行预编译。编译/链接（此步骤是特定于平台的）* * * * lobdemo1.sql包含以下SQL语句：* * * * connect scott / tiger; * * * * drop table license_table; * * * * create table license_table（* * sss char（9），* * name varchar2（50），* * txt_summary clob）; * * * *插入license_table * *值（'971517006'，'Dennis Kernighan'，* *'穿着亮橙色衬衫'）; * * * *插入license_table * *值（'555001212'，'Eight H. Number'，* *'在影响下驾驶'）; * * * *插入license_table * *值（'010101010'，'P。Doughboy'，* *'冒充Oracle员工'）; * * * *插入license_table * *值（'555377012'，'Calvin N. Hobbes'，* *'在影响下驾驶'）; * * * *主程序提供可* *执行的操作菜单。输入数字5（退出）选项* *后程序停止。根据输入，此主程序调用* *相应的嵌套程序来执行所选操作。* * * ********************************************* **********************身份识别部门。 PROGRAM-ID。LOBDEMO1。数据部门。工作储存部分。 01 USERNAME PIC X（5）。01 PASSWD PIC X（5）。01 CHOICE PIC 9 VALUE 0。01 SSS PIC X（9）。01 SSSEXISTS PIC 9 VALUE ZERO。 01 LICENSE-TXT SQL-CLOB。01 NEWCRIME PIC X（35）变化。 01 SSSCOUNT PIC S9（4）COMP。 01 THE-STRING PIC X（200）变化。 01 TXT-LENGTH PIC S9（9）COMP。 01犯罪。 05 FILLER PIC X（35）价值“在影响下驾驶”。05 FILLER PIC X（35）价值“侠盗猎车手”。05 FILLER PIC X（35）VALUE“无驾驶驾驶”。05 FILLER PIC X（35）值“假冒Oracle员工”。05 FILLER PIC X（35）VALUE“穿着亮橙色衬衫”。01犯罪分子重新犯罪。 05犯罪PIC X（35）发生5次。 01 CRIME-INDEX PIC 9。01 TXT-LEN PIC S9（9）COMP。 01 CRIME-LEN PIC S9（9）COMP。 01 NAME1 PIC X（50）变化。 01 NEWNAME PIC X（50）。************************************************** ******************* EXEC SQL包含SQLCA END-EXEC。程序部门。 A000控制部分。 ************************************************** ******************* * A000-CONTROL *整体控制部分*********************** ********************************************** A000-CNTRL。执行SQL WHENEVER SQLERROR DO PERFORM Z900-SQLERROR END-EXEC。执行B000-LOGON。执行C000-MAIN直到选择= 5。执行D000-LOGOFF。 A000-EXIT。停止运行。 B000-LOGON部分。 ************************************************** ******************* * B000-LOGON *登录数据库。************************************************** ******************* B000-LGN。显示'************************************************ **”。显示'*欢迎来到DMV数据库*'。显示'************************************************ **”。将“scott”移至USERNAME。移动“虎”到PASSWD。 EXEC SQL CONNECT：USERNAME IDENTIFIED BY：PASSWD END-EXEC。显示“”。显示“连接到许可证数据库帐户：”，USERNAME，“/”，PASSWD。显示“”。B000-EXIT。出口。 C000-MAIN部分。 ************************************************** ******************* * C000-MAIN *显示主菜单和操作请求******************* ************************************************** C000-MN。显示“”。显示“许可证选项：”。显示“1。按SSS号列出可用记录“。显示“2。获取有关特定记录的信息“。显示“3。将犯罪添加到记录中“。显示“4。将新记录插入数据库“。显示“5。放弃”。显示“”。移动零选择。执行Z300-ACCEPT-CHOICE直到选择&lt;6和选择&gt; 0。IF（选择= 1）执行C100-LIST-RECORDS。 IF（选择= 2）执行C200-GET-RECORD。 IF（选择= 3）执行C300-ADD-CRIME。 IF（选择= 4）执行C400-NEW-RECORD。 C000-EXIT。出口。 C100-LIST-RECORDS部分。 ************************************************** ******************* * C100-LIST-RECORDS *从LICENCSE_TABLE *中选择社会安全号码并显示清单************* ************************************************** ****** C100-LST。 EXEC SQL DECLARE SSS_CURSOR CURSOR用于从LICENSE_TABLE END-EXEC中选择SSS。 EXEC SQL OPEN SSS_CURSOR END-EXEC。显示“可用记录：”。执行C110-DISPLAY-RECORDS直到SQLCODE = 1403。EXEC SQL CLOSE SSS_CURSOR END-EXEC。 C100-EXIT。出口。 C110-显示记录部分。 ************************************************** ******************* * C110-DISPLAY-RECORDS *从光标中取出下一条记录并显示。************************************************** ******************* C110-DSPLY。 EXEC SQL FETCH SSS_CURSOR INTO：SSS END-EXEC。如果SQLCODE = 0那么显示SSS。 C110-EXIT。出口。 C200-GET-RECORD部分。 ************************************************** ***************** * C200-GET-RECORD *分配全局clob LICENSE-TXT然后选择*与客户提供的* sss对应的名称和文本。然后它调用Z200-PRINTCRIME打印信息并*释放clob。************************************************** ***************** C200-GTRECRD。执行Z100-GET-SSS。 IF（SSSEXISTS = 1）EXEC SQL ALLOCATE：LICENSE-TXT END-EXEC EXEC SQL SELECT NAME，TXT_SUMMARY INTO：NAME1，：LICENSE-TXT FROM LICENSE_TABLE SSS =：SSS END-EXEC DISPLAY“======== ==========================================  - “====== ==================“显示”“显示”名称：“，NAME1-ARR，”SSS：“，SSS显示”“执行Z200-PRINTCRIME显示”“显示” ================================================== - “========================”EXEC SQL FREE：LICENSE-TXT END-EXEC ELSE显示“未找到SSS编号”。C200-EXIT。出口。 C310-GETNEWCRIME部分。 ************************************************** ***************** * C310-GETNEWCRIME *向用户提供可能的犯罪列表，并*在变量* NEWCRIME中存储用户的正确答案。 ************************************************** ***************** C310-GTNWCRM。执行SQL WHENEVER SQLERROR CONTINUE END-EXEC。显示“”。显示“从以下选项中选择：”。执行C311-显示犯罪的犯罪指数从1比1到犯罪指数&gt; 5。移动零选择。执行Z300-ACCEPT-CHOICE直到选择&lt;6和选择&gt; 0。将犯罪（选择）转移到NEWCRIME-ARR。移动35到NEWCRIME-LEN。移动零选择。 C310-EXIT。出口。 C311-DISPLAY-CRIME SECTION。 ************************************************** ***************** * C311-DISPLAY-CRIME *显示犯罪表的一个元素******************* ************************************************ C311- DSPLYCRM。显示“（”，CRIME-INDEX，“）”，CRIME（CRIME-INDEX）。C311-EXIT。出口。 C320-APPENDTOCLOB部分。 ************************************************** ***************** * C320-APPENDTOCLOB *获取全局clob的长度LICENSE-TXT和*在LOB WRITE语句中使用它来将NEWCRIME *字符缓冲区附加到全局clob LICENSE-TXT。 *然后选择对应全局SSS的名称*并将其与LICENSE-TXT的值一起显示在屏幕上。 *此函数的调用者必须分配，选择并稍后*释放全局clob LICENSE-TXT。 ************************************************** ***************** C320-PPNDTCLB。执行SQL WHENEVER SQLERROR DO PERFORM Z900-SQLERROR END-EXEC。 EXEC SQL LOB DESCRIBE：LICENSE-TXT获取长度：TXT-LEN END-EXEC。将犯罪行为送给犯罪分子。 IF（TXT-LEN NOT = 0）将3加到TXT-LEN，然后加1到TXT-LEN。 EXEC SQL LOB WRITE：CRIME-LEN来自：NEWCRIME INTO：LICENSE-TXT AT：TXT-LEN END-EXEC。 EXEC SQL SELECT NAME INTO：NAME1 FROM LICENSE_TABLE，SSS =：SSS END-EXEC。显示“”。显示“NAME：”，NAME1-ARR，“SSS：”，SSS。显示“”。执行Z200-PRINTCRIME。显示“”。C320-EXIT。出口。 C300-ADD-CRIME部分。 ************************************************** ***************** * ADD-CRIME *从用户那里获得sss和犯罪并将犯罪附加到相应sss的犯罪列表中。************************************************** ***************** C300-DDCRM。执行SQL WHENEVER SQLERROR DO PERFORM Z900-SQLERROR END-EXEC。执行Z100-GET-SSS。 IF（SSSEXISTS = 1）EXEC SQL ALLOCATE：LICENSE-TXT END-EXEC PERFORM C310-GETNEWCRIME EXEC SQL SELECT TXT_SUMMARY INTO：LICENSE-TXT FROM LICENSE_TABLE SSS =：SSS FOR UPDATE END-EXEC PERFORM C320-APPENDTOCLOB EXEC SQL FREE：LICENSE -TXT END-EXEC ELSE显示“未找到SSS编号”。C300-EXIT。出口。 C400-NEW-RECORD SECTION。 ************************************************** ***************** * C400-NEW-RECORD *获取新记录的sss和名称，并在表格中为clob插入*和empty_clob（）。************************************************** ***************** C400-NWRCRD。执行Z100-GET-SSS。 IF（SSSEXISTS = 1）DISPLAY“记录该sss号码已存在”ELSE DISPLAY“姓名？“没有先进的接受NEWNAME显示”“。EXEC SQL ALLOCATE：LICENSE-TXT END-EXEC EXEC SQL INSERT INTO LICENSE_TABLE VALUES（：SSS，：NEWNAME，EMPTY_CLOB（））END-EXEC EXEC SQL SELECT TXT_SUMMARY INTO：LICENSE-TXT FROM LICENSE_TABLE SSS =：SSS END-EXEC DISPLAY “================================================= =  - “========================”DISPLAY“NAME：”，NEWNAME，“SSS：”，SSS PERFORM Z200-PRINTCRIME DISPLAY“== ================================================  - “ ========================“EXEC SQL FREE：LICENSE-TXT END-EXEC。 C400-EXIT。出口。 D000-LOGOFF部分。 ************************************************** ***************** * D000-LOGOFF *将完成的工作提交给数据库并注销****************** ************************************************* D000 -LGFF。 EXEC SQL COMMIT WORK RELEASE END-EXEC。显示“”。显示“有一个好日子！”。显示“”。D000-EXIT。停止运行。 Z100-GET-SSS部分。 ************************************************** ***************** * Z100-GET-SSS *使用客户端提供的sss填充全局变量SSS。*如果sss不对应于数据库中的任何条目，则将全局变量SSSEXISTS设置为0，否则将其设置为1。************************************************** ***************** Z100-GTSSS。显示“社会安全号码？“没有进步。接受SSS。显示”“。EXEC SQL SELECT COUNT（*）INTO：来自LICENSE_TABLE的SSSCOUNT，其中SSS =：SSS END-EXEC。 IF（SSSCOUNT = 0）移动0到SSSEXISTS ELSE移动1到SSSEXISTS。 Z100-EXIT。出口。 Z200-PRINTCRIME部分。 ************************************************** ***************** * Z200-PRINTCRIME *获取全局clob的长度LICENSE-TXT和*在LOB READ语句中使用它来将clob *读入字符缓冲区显示clob的内容。*此函数的调用者必须分配，选择并稍后*释放全局clob LICENSE-TXT。 ************************************************** ***************** Z200-PRNTCRM。显示“=====================”。展示“犯罪概要”摘要。显示“=====================”。向THE-STRING-ARR移动空间。 EXEC SQL LOB描述：许可证 -  TXT获取长度：TXT-LENGTH END-EXEC。 IF（TXT-LENGTH = 0）DISPLAY“记录是干净的”ELSE EXEC SQL LOB READ：TXT-LENGTH FROM：LICENSE-TXT INTO：THE-STRING END-EXEC DISPLAY THE-STRING-ARR。 Z200-EXIT。出口。 Z300-ACCEPT-CHOICE SECTION。 ************************************************** ***************** * Z300-ACCEPT-CHOICE *接受1到5之间的选择******************* ************************************************ Z300- CCPT。显示“你的选择（1-5）？“没有进步。接受选择。显示”“。如果选择&gt; 5或选择&lt;1那么显示“无效选择”显示“请从指示的列表中选择”。Z300-EXIT。出口。 Z900-SQLERROR部分。 ************************************************** ***************** * Z900-SQLERROR *每当发生SQLERROR时调用。*显示错误，回滚所有已完成的工作并注销************************************* ****************************** Z900-SQLRRR。执行SQL WHENEVER SQLERROR CONTINUE END-EXEC。显示“”。显示“ORACLE ERROR DETECTED：”。显示“”。显示SQLERRMC。 EXEC SQL ROLLBACK工作发布END-EXEC。 Z900-EXIT。停止运行。</pre></div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03806.optimizing-in-memory-aggregation.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Database In-Memory provides optimizations to speed up aggregation and arithmetic."></meta>
      <meta name="description" content="Database In-Memory provides optimizations to speed up aggregation and arithmetic."></meta>
      <title>优化聚合</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database In-Memory Guide"></meta>
      <meta property="og:description" content="Database In-Memory provides optimizations to speed up aggregation and arithmetic."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database In-Memory Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00"></meta>
      <meta name="dcterms.title" content="Database In-Memory Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96137-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="optimizing-queries-with-join-groups.html" title="Previous" type="text/html"></link>
      <link rel="next" href="repopulation-and-dml.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="optimizing-queries-with-join-groups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="repopulation-and-dml.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库内存指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-optimizations-for-in-memory-queries.html" property="item" typeof="WebPage"><span property="name">优化内存中查询</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">优化聚合</li>
            </ol>
            <a id="GUID-A9E6044E-DC81-44C7-8D0C-E77502722388" name="GUID-A9E6044E-DC81-44C7-8D0C-E77502722388"></a>
            
            <h2 id="INMEM-GUID-A9E6044E-DC81-44C7-8D0C-E77502722388" class="sect2"><span class="enumeration_chapter">9</span>优化聚合</h2>
         </header>
         <div class="ind">
            <div>
               <p>Database In-Memory提供优化以加速聚合和算术。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077">使用内存中聚合优化联接</a><br>从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始， <strong class="term">内存中聚合（IM聚合）</strong>使查询能够在扫描时聚合。
                  </li>
                  <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-4321558D-853B-41A0-9098-4A45204F21BD">优化内存算法</a><br><span>内存优化算法</span>使用优化的<code class="codeph">NUMBER</code>格式，使用SIMD硬件进行快速计算。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="advanced-optimizations-for-in-memory-queries.html#GUID-33034151-7BD7-4186-B336-C693FBB27634" title="本部分介绍如何使用内存表达式，连接组和内存中聚合来优化查询。它还解释了IM列存储如何重新填充已修改的数据。">优化内存中查询</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" name="GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077"></a><h3 id="INMEM-GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" class="sect3"><span class="enumeration_section">9.1</span>使用内存中聚合优化联接</h3>
               <div>
                  <p>从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始， <strong class="term">内存中聚合（IM聚合）</strong>使查询能够在扫描时聚合。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-C0C57677-E420-432C-9E1F-271011F0C775">关于IM聚合</a><br>IM聚合优化了涉及从大表到多个小表的聚合和连接的查询块。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F">IM聚合的目的</a><br>IM聚合预处理小表以加速在大表上执行的每行工作。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED">IM聚合如何工作</a><br>典型的分析查询在处理阶段之间分配行。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-FA953802-7768-49D5-B70C-C057076F1F4A">IM聚合的控件</a><br>IM聚合与优化器集成在一起。不需要新的SQL或初始化参数。IM聚合不需要其他索引，外键或维度。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-5AB9792F-8030-4D13-BC12-8DB598A15459">内存中聚合：示例</a><br>在此示例中，业务问题是“每个日历年每个类别中销售了多少产品？“</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-A9E6044E-DC81-44C7-8D0C-E77502722388" title="Database In-Memory提供优化以加速聚合和算术。">优化聚合</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-C0C57677-E420-432C-9E1F-271011F0C775" name="GUID-C0C57677-E420-432C-9E1F-271011F0C775"></a><h4 id="INMEM-GUID-C0C57677-E420-432C-9E1F-271011F0C775" class="sect4"><span class="enumeration_section">9.1.1</span>关于IM聚合</h4>
                  <div>
                     <p>IM聚合优化了涉及从大表到多个小表的聚合和连接的查询块。</p>
                     <p><code class="codeph">KEY VECTOR</code>和<code class="codeph">VECTOR GROUP BY</code>操作使用高效的数组进行连接和聚合。优化器根据成本为<code class="codeph">GROUP BY</code>操作选择<code class="codeph">VECTOR GROUP BY</code> 。优化程序不为<code class="codeph">GROUP BY ROLLUP</code> ， <code class="codeph">GROUPING SETS</code>或<code class="codeph">CUBE</code>操作选择<code class="codeph">VECTOR GROUP BY</code>聚合。
                     </p>
                     <div class="infoboxnote" id="GUID-C0C57677-E420-432C-9E1F-271011F0C775__GUID-7B26F550-A64E-4A4B-AB77-5905B1AC317A">
                        <p class="notep1">注意：</p>
                        <p>IM聚合也称为<span class="italic">向量聚合</span>和<span class="italic"><code class="codeph">VECTOR GROUP BY</code>聚合</span> 。
                        </p>
                     </div>
                     <p>IM聚合要求<code class="codeph">INMEMORY_SIZE</code>设置为非零值。但是，IM聚合不要求在IM列存储中<span class="italic">填充</span>引用的表。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0C57677-E420-432C-9E1F-271011F0C775__GUID-DDD0D536-D149-4E5D-A47F-D56ACE4E0B97">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span></p>
                           </li>
                           <li>
                              <p></p>
                              <p><a href="../dwhsg/sql-aggregation-data-warehouses.html#GUID-E051A04E-0C53-491D-9B16-B71BA00B80C2" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关SQL聚合的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" title="从Oracle Database 12c第1版（12.1.0.2）开始，内存中聚合（IM聚合）使查询能够在扫描时聚合。">使用内存中聚合优化联接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F" name="GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F"></a><h4 id="INMEM-GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F" class="sect4"><span class="enumeration_section">9.1.2</span> IM聚合的目的</h4>
                  <div>
                     <p>IM聚合预处理小表以加速在大表上执行的每行工作。</p>
                     <p>典型的分析查询从事实表聚合，并将其连接到维度表。此类查询使用可选的筛选扫描大量数据，并执行1到40列之间的<code class="codeph">GROUP BY</code> 。事实表上的第一个聚合处理最多的行。
                     </p>
                     <p>在<span>Oracle Database 12c</span>之前，唯一的<code class="codeph">GROUP BY</code>操作是<code class="codeph">HASH</code>和<code class="codeph">SORT</code> 。 <code class="codeph">VECTOR GROUP BY</code>是一个额外的基于成本的转换，它将维度和事实表之间的连接转换为过滤器。数据库可以在事实表扫描期间应用此过滤器。连接使用键向量，类似于Bloom过滤器，聚合使用<code class="codeph">VECTOR GROUP BY</code> 。</p>
                     <div class="infoboxnote" id="GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F__GUID-A7D51459-AC5C-4135-A9C7-70E0A8D2F25C">
                        <p class="notep1">注意：</p>
                        <p>虽然矢量变换独立于IM列存储，但它们可以通过SIMD矢量处理非常有效地应用于存储器内数据。</p>
                     </div>
                     <p>IM聚合使矢量连接和<code class="codeph">GROUP BY</code>操作与大表的扫描<span class="italic">同时发生</span> 。因此，这些操作在扫描时聚合，并且不需要等待表扫描和连接操作完成。IM聚合可优化CPU使用率，尤其是CPU缓存。
                     </p>
                     <p>IM聚合可以极大地提高查询性能。数据库可以动态创建报告大纲，然后在扫描事实表期间填写报告详细信息。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E">IM聚合有用时</a><br>IM聚合可提高将相对较小的表连接到相对较大的事实表的查询的性能，并在事实表中聚合数据。这通常发生在星形或雪花查询中。
                        </li>
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-278FB268-D892-4556-BF7F-9F3EAD93B6A9">当IM聚合不利时</a><br>当存在足够的系统资源时，IM聚合有益于某些星型查询其他查询可能收到很少或没有收益。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F__GUID-A7740FE2-955E-45D9-80A6-065B2CF88E83">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-8DCA5CC5-69F6-4F26-AE94-49810F742310" title="对于在IM列存储中填充的数据，数据库使用SIMD（单指令，多数据）向量处理。">CPU架构：SIMD矢量处理</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a>以了解有关查询转换的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" title="从Oracle Database 12c第1版（12.1.0.2）开始，内存中聚合（IM聚合）使查询能够在扫描时聚合。">使用内存中聚合优化联接</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E" name="GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E"></a><h5 id="INMEM-GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E" class="sect5"><span class="enumeration_section">9.1.2.1</span> IM聚合有用时</h5>
                     <div>
                        <p>IM聚合可提高将相对较小的表连接到相对较大的事实表的查询的性能，并在事实表中聚合数据。这通常发生在星形或雪花查询中。</p>
                        <p>IM列存储中的行存储表和表都可以从IM聚合中受益。</p>
                        <div class="example" id="GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E__GUID-6D6E31CD-017C-4AC1-9420-FAE23E04A7CF">
                           <p class="titleinexample">例9-1 VECTOR GROUP BY</p>
                           <p>请考虑以下查询，该查询执行<code class="codeph">customers</code>维度表与<code class="codeph">sales</code>事实表的连接：</p><pre class="pre codeblock"><code>SELECT c.customer_id，s.quantity_sold，s.amount_sold FROM customers c，sales s WHERE c.customer_id = s.customer_id AND c.country_id ='FR';</code></pre><p>当两个表都填充在IM列存储中时，数据库可以使用SIMD向量处理来扫描行集并应用过滤器。下图显示了查询如何使用矢量连接。优化程序将<code class="codeph">customers</code>表上的谓词<code class="codeph">c.country_id='FR'</code>转换为<code class="codeph">sales</code>事实表上的过滤器。过滤器是<code class="codeph">country_id='FR'</code> 。由于<code class="codeph">sales</code>以列式格式存储，因此查询只需扫描一列即可确定结果。
                           </p>
                           <div class="figure" id="GUID-0E4F30FE-674F-4284-90F7-520ED1DB427E__CIHDIHCE">
                              <p class="titleinfigure">图9-1使用内存中列存储的向量连接</p><img src="img/in_mem_joins.gif" alt="下面是图9-1的描述" title="下面是图9-1的描述" longdesc="img_text/in_mem_joins.html"><br><a href="img_text/in_mem_joins.html">“图9-1使用内存中列存储的向量连接”的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F" title="IM聚合预处理小表以加速在大表上执行的每行工作。">IM聚合的目的</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-278FB268-D892-4556-BF7F-9F3EAD93B6A9" name="GUID-278FB268-D892-4556-BF7F-9F3EAD93B6A9"></a><h5 id="INMEM-GUID-278FB268-D892-4556-BF7F-9F3EAD93B6A9" class="sect5"><span class="enumeration_section">9.1.2.2</span> IM聚合<span class="enumeration_section">不利的</span>时候</h5>
                     <div>
                        <p>当存在足够的系统资源时，IM聚合有益于某些星型查询其他查询可能收到很少或没有收益。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-278FB268-D892-4556-BF7F-9F3EAD93B6A9__GUID-47B7E0AA-A956-438E-8583-2B1B932E20C6">VECTOR GROUP BY Aggregation不利的情况</p>
                           <p>具体而言， <code class="codeph">VECTOR GROUP BY</code>聚合在以下情况下不会使性能受益：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>连接在两个非常大的表之间执行。</p>
                                 <p>默认情况下，仅当相对较小的表连接到相对较大的表时，优化程序才会选择<code class="codeph">VECTOR GROUP BY</code>转换。
                                 </p>
                              </li>
                              <li>
                                 <p>维度包含超过20亿行。</p>
                                 <p>如果维度包含超过20亿行，则不使用<code class="codeph">VECTOR GROUP BY</code>转换。
                                 </p>
                              </li>
                              <li>
                                 <p>系统没有足够的内存。</p>
                                 <p>大多数使用IM列存储的数据库都受益于IM聚合。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-378D5929-2D9E-4211-B9E6-4EFA9CC42B7F" title="IM聚合预处理小表以加速在大表上执行的每行工作。">IM聚合的目的</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" name="GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED"></a><h4 id="INMEM-GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" class="sect4"><span class="enumeration_section">9.1.3</span> IM聚合的工作<span class="enumeration_section">原理</span></h4>
                  <div>
                     <p>典型的分析查询在处理阶段之间分配行。</p>
                     <p>阶段如下：</p>
                     <ol>
                        <li>
                           <p>过滤表并生成行集</p>
                        </li>
                        <li>
                           <p>加入行集</p>
                        </li>
                        <li>
                           <p>聚合行</p>
                        </li>
                     </ol>
                     <p><code class="codeph">VECTOR GROUP BY</code>转换结合了不同阶段的工作，将联接转换为过滤器并在扫描事实表时进行聚合。
                     </p>
                     <p>阶段之间的工作单元称为<a href="glossary.html#GUID-0BD22576-DD42-44E5-B1AD-CFF3B9D74E42"><span class="xrefglossterm">数据流操作员（DFO）</span></a> 。<code class="codeph">VECTOR GROUP BY</code>聚合为每个维度使用DFO来创建关键向量结构和临时表。从事实表聚合度量列时，数据库使用此键向量将事实连接键转换为其密集分组键。后期实现步骤将密集分组键连接到临时表。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056">优化程序选择IM聚合时</a><br>优化器根据键向量的大小（即不同的连接键），不同分组键的数量以及其他因素决定是否使用向量变换。当维度连接键具有低基数时，优化器倾向于选择此转换。
                        </li>
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-7A06072C-CC6A-4E47-B122-B9D74B3F2C68">关键矢量</a><br><strong class="term">密钥向量</strong>是在密集连接密钥和密集分组密钥之间映射的数据结构。
                        </li>
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF">IM聚合的两个阶段</a><br>通常， <code class="codeph">VECTOR GROUP BY</code>聚合按顺序处理每个维度，然后处理事实表。
                        </li>
                        <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454">IM聚合：场景</a><br>本节给出了<code class="codeph">VECTOR</code> <code class="codeph">GROUP BY</code>聚合如何工作的概念性示例。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" title="从Oracle Database 12c第1版（12.1.0.2）开始，内存中聚合（IM聚合）使查询能够在扫描时聚合。">使用内存中聚合优化联接</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056" name="GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056"></a><h5 id="INMEM-GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056" class="sect5"><span class="enumeration_section">9.1.3.1</span>优化器选择IM聚合时</h5>
                     <div>
                        <p>优化器根据键向量的大小（即不同的连接键），不同分组键的数量以及其他因素决定是否使用向量变换。当维度连接键具有低基数时，优化器倾向于选择此转换。</p>
                        <p>当满足以下条件时，Oracle数据库使用<code class="codeph">VECTOR GROUP BY</code>聚合执行数据聚合：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询或子查询聚合事实表中的数据，并将事实表连接到一个或多个维度。</p>
                              <p>假设这些事实表仅通过连接连接到维度，也支持连接到相同维度的多个事实表。在这种情况下， <code class="codeph">VECTOR GROUP BY</code>聚合事实表，然后将结果加入分组键。
                              </p>
                           </li>
                           <li>
                              <p>维度和事实表仅通过连接列相互连接。</p>
                              <p>具体而言，查询不得包含任何其他谓词，这些谓词引用跨多维的列，或者来自维度和事实表。如果查询在两个或多个表之间执行连接，然后将结果连接到事实，则<code class="codeph">VECTOR GROUP BY</code>聚合将多个维度视为单个维度。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056__GUID-C185D25C-F53D-411C-880C-5681F76C1322">
                           <p class="notep1">注意：</p>
                           <p>您可以使用查询块提示或表提示指示数据库对查询使用<code class="codeph">VECTOR GROUP BY</code>聚合。
                           </p>
                        </div>
                        <p><code class="codeph">VECTOR GROUP BY</code>聚合不支持以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>跨多个维度或维度与事实表之间的半连接和反连接</p>
                           </li>
                           <li>
                              <p>Equijoins跨越多个维度</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DISTINCT</code>函数执行的聚合</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056__GUID-96D596AA-2156-4F5F-8A83-A831F664FA2A">
                           <p class="notep1">注意：</p>
                           <p>Bloom过滤器和<code class="codeph">VECTOR GROUP BY</code>聚合并且是互斥的。因此，如果查询使用Bloom过滤器来连接行集，则<code class="codeph">VECTOR GROUP BY</code>聚合不适用于此查询的处理。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C3786D7D-0FD6-44F7-93FD-468F3FA02056__GUID-C058C9AE-1CE2-497A-984F-36AEFF1C23BB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dwhsg/sql-aggregation-data-warehouses.html#GUID-E051A04E-0C53-491D-9B16-B71BA00B80C2" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关SQL聚合的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" title="典型的分析查询在处理阶段之间分配行。">IM聚合的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-7A06072C-CC6A-4E47-B122-B9D74B3F2C68" name="GUID-7A06072C-CC6A-4E47-B122-B9D74B3F2C68"></a><h5 id="INMEM-GUID-7A06072C-CC6A-4E47-B122-B9D74B3F2C68" class="sect5"><span class="enumeration_section">9.1.3.2</span>关键向量</h5>
                     <div>
                        <p><strong class="term">密钥向量</strong>是在密集连接密钥和密集分组密钥之间映射的数据结构。
                        </p>
                        <p><a href="glossary.html#GUID-E610A374-ADFA-4BD2-ACD2-A5DBAE073DF1"><span class="xrefglossterm">密钥</span></a>是一个数字密钥，存储为本机整数并具有一系列值。<a href="glossary.html#GUID-ED23F776-3D5C-430B-9677-3F575BCE2BA3"><span class="xrefglossterm">密集连接键</span></a>表示其连接列来自特定事实表或维度的所有连接键。<a href="glossary.html#GUID-23ED77DA-9711-400E-A789-13B5B3FA7C78"><span class="xrefglossterm">密集分组键</span></a>表示所有分组键，其分组列来自特定事实表或维度。关键向量可实现快速查找。
                        </p>
                        <div class="example" id="GUID-7A06072C-CC6A-4E47-B122-B9D74B3F2C68__GUID-11AAE4FC-D3EA-4423-BD62-FA8EA689E325">
                           <p class="titleinexample">例9-2关键向量</p>
                           <p>假设<code class="codeph">hr.locations</code>表具有<code class="codeph">country_id</code>值，如图所示（仅显示前几个结果）：</p><pre class="pre codeblock"><code>SQL&gt; SELECT country_id FROM locations; CO  -  IT IT JP JP US US US US CA CA CN</code></pre><p>复杂的分析查询将过滤器<code class="codeph">WHERE country_id='US'</code>应用于<code class="codeph">locations</code>表。此过滤器的关键向量可能类似于以下一维数组：</p><pre class="pre codeblock"><code>0 0 0 0 1 1 1 1 0 0 0</code></pre><p>在前面的数组中， <code class="codeph">1</code>是<code class="codeph">country_id='US'</code>的密集分组键。<code class="codeph">0</code>值表示与此过滤器不匹配的<code class="codeph">locations</code>中的行。如果查询使用过滤器<code class="codeph">WHERE country_id IN ('US','JP')</code> ，则该数组可能如下所示，其中<code class="codeph">2</code>是<code class="codeph">JP</code>的密集分组键， <code class="codeph">1</code>是<code class="codeph">US</code>的密集分组键：</p><pre class="pre codeblock"><code>0 0 2 2 1 1 1 1 0 0 0</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" title="典型的分析查询在处理阶段之间分配行。">IM聚合的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF" name="GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF"></a><h5 id="INMEM-GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF" class="sect5"><span class="enumeration_section">9.1.3.3</span> IM聚合的两个阶段</h5>
                     <div>
                        <p>通常， <code class="codeph">VECTOR GROUP BY</code>聚合按顺序处理每个维度，然后处理事实表。
                        </p>
                        <p>执行IM聚合时，数据库按如下方式进行：</p>
                        <ol>
                           <li>
                              <p>按如下顺序处理每个维度：</p>
                              <ol type="a">
                                 <li>
                                    <p>找到唯一的密集分组键。</p>
                                 </li>
                                 <li>
                                    <p>创建一个关键向量。</p>
                                 </li>
                                 <li>
                                    <p>创建一个临时表（ <code class="codeph">CURSOR DURATION MEMORY</code> ）。
                                    </p>
                                 </li>
                              </ol>
                              <p>下图说明了此阶段中的步骤，从DFO 0中维度表的扫描开始，到创建临时表结束。在最简单的并行<code class="codeph">GROUP BY</code>或连接处理形式中，数据库处理其自己的DFO中的每个连接或<code class="codeph">GROUP BY</code> 。</p>
                              <div class="figure" id="GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF__BABICEAH">
                                 <p class="titleinfigure">图9-2内存中聚合的第1阶段</p><img src="img/tgsql_vm_079.png" alt="下面是图9-2的描述" title="下面是图9-2的描述" longdesc="img_text/tgsql_vm_079.html"><br><a href="img_text/tgsql_vm_079.html">“图9-2内存中聚合的第1阶段”的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>处理事实表。</p>
                              <ol type="a">
                                 <li>
                                    <p>使用在前一阶段中创建的关键向量处理所有连接和聚合。</p>
                                 </li>
                                 <li>
                                    <p>将结果加入每个临时表。</p>
                                 </li>
                              </ol>
                              <p><a href="optimizing-in-memory-aggregation.html#GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF__BABEIJEA">图9-3</a>说明了事实表与两个维度的连接中的阶段2。在DFO 0中，数据库执行事实表的完整扫描，然后使用每个维度的键向量来过滤掉不匹配的行。DFO 2将DFO 0的结果与DFO 1结合。DFO 4将DFO 2的结果与DFO 3结合在一起。
                              </p>
                              <div class="figure" id="GUID-5FE79500-B8C5-4DD7-A2DD-BDA83340B5FF__BABEIJEA">
                                 <p class="titleinfigure">图9-3内存中聚合的第2阶段</p><img src="img/tgsql_vm_078.png" alt="下面是图9-3的描述" title="下面是图9-3的描述" longdesc="img_text/tgsql_vm_078.html"><br><a href="img_text/tgsql_vm_078.html">“图9-3内存中聚合的第2阶段”的描述</a></div>
                              <!-- class="figure" -->
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" title="典型的分析查询在处理阶段之间分配行。">IM聚合的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-C425C017-8505-4924-A7AE-308C9BAF2454" name="GUID-C425C017-8505-4924-A7AE-308C9BAF2454"></a><h5 id="INMEM-GUID-C425C017-8505-4924-A7AE-308C9BAF2454" class="sect5"><span class="enumeration_section">9.1.3.4</span> IM聚合：场景</h5>
                     <div>
                        <p>本节给出了<code class="codeph">VECTOR</code> <code class="codeph">GROUP BY</code>聚合如何工作的概念性示例。
                        </p>
                        <div class="infoboxnote" id="GUID-C425C017-8505-4924-A7AE-308C9BAF2454__GUID-2E7C6D38-81E5-4A68-B3EF-6FB8B276CCF3">
                           <p class="notep1">注意：</p>
                           <p>该方案不使用示例模式表或显示实际的执行计划。</p>
                        </div>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE">星型模式的样本分析查询</a><br>此方案中的此示例星型模式包含<code class="codeph">sales_online</code>事实表和两个维度表： <code class="codeph">geography</code>和<code class="codeph">products</code> 。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-C739095A-8522-4748-8988-CE7E594E2B39">第1步：地理维度的关键向量和临时表创建</a><br>在此查询的<code class="codeph">VECTOR GROUP BY</code>聚合的第一阶段，数据库为华盛顿州或加利福尼亚州的城市的每个城市/州组合创建密集分组键。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94">第2步：产品维度的关键向量和临时表创建</a><br>数据库为Acme产品的每个不同类别/子类别组合创建密集分组键。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-1FC11741-E3D2-458F-9442-96E9247954CC">第3步：关键矢量查询转换</a><br>在此阶段，数据库处理事实表。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5">第4步：从事实表中进行行过滤</a><br>此阶段获取每个分组键组合的销售金额。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-6A98F912-9D04-4570-99D9-A3D50E171186">步骤5：使用阵列进行聚合</a><br>数据库使用多维数组来执行聚合。
                           </li>
                           <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-699A1CCA-8324-4049-AFD3-457ADBF1D81A">第6步：加入回临时表</a><br>在处理的最后阶段，数据库使用密集分组键将行连接回临时表以获取区域和类别的名称。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-59C1A480-4977-4635-9C5F-FEDD195F44ED" title="典型的分析查询在处理阶段之间分配行。">IM聚合的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="props_rev_3"><a id="GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE" name="GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE"></a><h6 id="INMEM-GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE" class="sect6"><span class="enumeration_section">9.1.3.4.1</span>星型模式的样本分析查询</h6>
                        <div>
                           <p>此方案中的此示例星型模式包含<code class="codeph">sales_online</code>事实表和两个维度表： <code class="codeph">geography</code>和<code class="codeph">products</code> 。
                           </p>
                           <p><code class="codeph">geography</code>每一行都由<code class="codeph">geog_id</code>列唯一标识。<code class="codeph">products</code>每一行都由<code class="codeph">prod_id</code>列唯一标识。<code class="codeph">sales_online</code>每一行<code class="codeph">sales_online</code> <code class="codeph">geog_id</code> ， <code class="codeph">prod_id</code>和销售金额唯一标识。
                           </p>
                           <div class="tblformal" id="GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE__GUID-157E6B61-DDCA-405A-B870-34346844295F">
                              <p class="titleintable">表9-1地理表中的示例行</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="地理表中的示例行" width="100%" border="1" summary="Sample rows in geography table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="23%" id="d27228e1982">国家</th>
                                       <th align="left" valign="bottom" width="25%" id="d27228e1985">州</th>
                                       <th align="left" valign="bottom" width="25%" id="d27228e1988">市</th>
                                       <th align="left" valign="bottom" width="27%" id="d27228e1991">geog_id</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e1996" headers="d27228e1982 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e1996 d27228e1985 ">
                                          <p>WA</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e1996 d27228e1988 ">
                                          <p>西雅图</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e1996 d27228e1991 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2009" headers="d27228e1982 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2009 d27228e1985 ">
                                          <p>WA</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2009 d27228e1988 ">
                                          <p>斯波坎</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e2009 d27228e1991 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2022" headers="d27228e1982 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2022 d27228e1985 ">
                                          <p>CA</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2022 d27228e1988 ">
                                          <p>SF</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e2022 d27228e1991 ">
                                          <p>7</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2035" headers="d27228e1982 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2035 d27228e1985 ">
                                          <p>CA</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e2035 d27228e1988 ">
                                          <p>LA</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e2035 d27228e1991 ">
                                          <p>8</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="tblformal" id="GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE__GUID-B70191EF-AA11-498B-BC66-4F97C46F7228">
                              <p class="titleintable">表9-2产品中的样本行表</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="产品表中的样本行" width="100%" border="1" summary="Sample rows in products table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="23%" id="d27228e2059">MANUF</th>
                                       <th align="left" valign="bottom" width="26%" id="d27228e2062">类别</th>
                                       <th align="left" valign="bottom" width="26%" id="d27228e2065">子类别</th>
                                       <th align="left" valign="bottom" width="26%" id="d27228e2068">PROD_ID</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2073" headers="d27228e2059 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2073 d27228e2062 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2073 d27228e2065 ">
                                          <p>自行车</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2073 d27228e2068 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2086" headers="d27228e2059 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2086 d27228e2062 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2086 d27228e2065 ">
                                          <p>球</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2086 d27228e2068 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2099" headers="d27228e2059 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2099 d27228e2062 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2099 d27228e2065 ">
                                          <p>灯泡</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2099 d27228e2068 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="23%" id="d27228e2112" headers="d27228e2059 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2112 d27228e2062 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2112 d27228e2065 ">
                                          <p>开关</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e2112 d27228e2068 ">
                                          <p>8</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="tblformal" id="GUID-DDD8CDE8-85B4-4644-83FC-0E339CBEE8AE__GUID-3176F3DD-6D28-43E4-BA5D-9FCF9BADF8F9">
                              <p class="titleintable">表9-3 sales_online表中的示例行</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="sales_online表中的示例行" width="100%" border="1" summary="Sample rows in sales_online table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d27228e2135">PROD_ID</th>
                                       <th align="left" valign="bottom" width="34%" id="d27228e2138">geog_id</th>
                                       <th align="left" valign="bottom" width="33%" id="d27228e2141">量</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2146" headers="d27228e2135 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2146 d27228e2138 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2146 d27228e2141 ">
                                          <p>100</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2156" headers="d27228e2135 ">
                                          <p>9</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2156 d27228e2138 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2156 d27228e2141 ">
                                          <p>150</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2166" headers="d27228e2135 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2166 d27228e2138 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2166 d27228e2141 ">
                                          <p>100</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2176" headers="d27228e2135 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2176 d27228e2138 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2176 d27228e2141 ">
                                          <p>110</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2186" headers="d27228e2135 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2186 d27228e2138 ">
                                          <p>三十</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2186 d27228e2141 ">
                                          <p>130</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2196" headers="d27228e2135 ">
                                          <p>6</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2196 d27228e2138 ">
                                          <p>20</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2196 d27228e2141 ">
                                          <p>400</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2206" headers="d27228e2135 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2206 d27228e2138 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2206 d27228e2141 ">
                                          <p>100</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2216" headers="d27228e2135 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2216 d27228e2138 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2216 d27228e2141 ">
                                          <p>120</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2226" headers="d27228e2135 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2226 d27228e2138 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2226 d27228e2141 ">
                                          <p>130</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e2236" headers="d27228e2135 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2236 d27228e2138 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e2236 d27228e2141 ">
                                          <p>200</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>一位经理问商业问题，“每个子类别中有多少Acme产品在华盛顿在线销售，有多少在加利福尼亚销售？“要回答这个问题， <code class="codeph">sales_online</code>事实表的分析查询将连接<code class="codeph">products</code>和<code class="codeph">geography</code>维度表，如下所示：</p><pre class="pre codeblock"><code>SELECT p.category，p.subcategory，g.country，g.state，SUM（s.amount）FROM sales_online s，products p，geography g WHERE s.geog_id = g.geog_id AND s.prod_id = p.prod_id AND g .state IN（'WA'，'CA'）和p.manuf ='ACME'GROUP BY类别，子类别，国家，州</code></pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-C739095A-8522-4748-8988-CE7E594E2B39" name="GUID-C739095A-8522-4748-8988-CE7E594E2B39"></a><h6 id="INMEM-GUID-C739095A-8522-4748-8988-CE7E594E2B39" class="sect6"><span class="enumeration_section">9.1.3.4.2</span>步骤1：地理维度的关键向量和临时表创建</h6>
                        <div>
                           <p>在此查询的<code class="codeph">VECTOR GROUP BY</code>聚合的第一阶段，数据库为华盛顿州或加利福尼亚州的城市的每个城市/州组合创建密集分组键。
                           </p>
                           <p>在<a href="optimizing-in-memory-aggregation.html#GUID-C739095A-8522-4748-8988-CE7E594E2B39__BABIFBJI" title="地理临时表">表9-6中</a> ， <code class="codeph">1</code>是<code class="codeph">USA,WA</code>分组键， <code class="codeph">2</code>是<code class="codeph">USA,CA</code>分组键。
                           </p>
                           <div class="tblformal" id="GUID-C739095A-8522-4748-8988-CE7E594E2B39__GUID-599445B0-236C-463C-BCFB-FF5FB67B7C7C">
                              <p class="titleintable">表9-4地理密集分组密钥</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="密集的地理分组" width="100%" border="1" summary="Dense grouping key for geography table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="14%" id="d27228e2399">国家</th>
                                       <th align="left" valign="bottom" width="13%" id="d27228e2402">州</th>
                                       <th align="left" valign="bottom" width="19%" id="d27228e2405">市</th>
                                       <th align="left" valign="bottom" width="19%" id="d27228e2408">geog_id</th>
                                       <th align="left" valign="bottom" width="34%" id="d27228e2411">dense_gr_key_geog</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d27228e2416" headers="d27228e2399 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d27228e2416 d27228e2402 ">
                                          <p>WA</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2416 d27228e2405 ">
                                          <p>西雅图</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2416 d27228e2408 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2416 d27228e2411 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d27228e2432" headers="d27228e2399 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d27228e2432 d27228e2402 ">
                                          <p>WA</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2432 d27228e2405 ">
                                          <p>斯波坎</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2432 d27228e2408 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2432 d27228e2411 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d27228e2448" headers="d27228e2399 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d27228e2448 d27228e2402 ">
                                          <p>CA</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2448 d27228e2405 ">
                                          <p>SF</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2448 d27228e2408 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2448 d27228e2411 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d27228e2464" headers="d27228e2399 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d27228e2464 d27228e2402 ">
                                          <p>CA</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2464 d27228e2405 ">
                                          <p>LA</p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d27228e2464 d27228e2408 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d27228e2464 d27228e2411 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p><code class="codeph">geography</code>表的关键向量看起来像<a href="optimizing-in-memory-aggregation.html#GUID-C739095A-8522-4748-8988-CE7E594E2B39__BABDBJAA" title="XLATE用于地理表">表9-5中</a>最后一列所代表的数组。值是<code class="codeph">geography</code>密集分组键。因此，关键向量指示<code class="codeph">sales_online</code>哪些行符合<code class="codeph">geography.state</code>过滤条件（在<code class="codeph">CA</code>或<code class="codeph">WA</code>状态下进行的销售）以及每行所属的国家/州组（ <code class="codeph">USA,WA</code>组或<code class="codeph">USA,CA</code>组）。
                           </p>
                           <div class="tblformal" id="GUID-C739095A-8522-4748-8988-CE7E594E2B39__BABDBJAA">
                              <p class="titleintable">表9-5在线销售</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="在线销售" width="100%" border="1" summary="XLATE for geography table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d27228e2523">PROD_ID</th>
                                       <th align="left" valign="bottom" width="22%" id="d27228e2526">geog_id</th>
                                       <th align="left" valign="bottom" width="22%" id="d27228e2529">量</th>
                                       <th align="left" valign="bottom" width="35%" id="d27228e2532">地理的关键矢量</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2537" headers="d27228e2523 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2537 d27228e2526 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2537 d27228e2529 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2537 d27228e2532 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2550" headers="d27228e2523 ">
                                          <p>9</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2550 d27228e2526 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2550 d27228e2529 ">
                                          <p>150</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2550 d27228e2532 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2563" headers="d27228e2523 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2563 d27228e2526 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2563 d27228e2529 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2563 d27228e2532 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2576" headers="d27228e2523 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2576 d27228e2526 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2576 d27228e2529 ">
                                          <p>110</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2576 d27228e2532 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2589" headers="d27228e2523 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2589 d27228e2526 ">
                                          <p>三十</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2589 d27228e2529 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2589 d27228e2532 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2602" headers="d27228e2523 ">
                                          <p>6</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2602 d27228e2526 ">
                                          <p>20</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2602 d27228e2529 ">
                                          <p>400</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2602 d27228e2532 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2615" headers="d27228e2523 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2615 d27228e2526 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2615 d27228e2529 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2615 d27228e2532 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2628" headers="d27228e2523 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2628 d27228e2526 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2628 d27228e2529 ">
                                          <p>120</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2628 d27228e2532 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2641" headers="d27228e2523 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2641 d27228e2526 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2641 d27228e2529 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2641 d27228e2532 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2654" headers="d27228e2523 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2654 d27228e2526 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2654 d27228e2529 ">
                                          <p>200</p>
                                       </td>
                                       <td align="left" valign="top" width="35%" headers="d27228e2654 d27228e2532 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>在内部，数据库创建一个类似于以下内容的临时表：</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLE tt_geography AS SELECT MAX（国家），MAX（州），KEY_VECTOR_CREATE（...）dense_gr_key_geog FROM地理位置WHERE状态IN（'WA'，'CA'）GROUP BY国家，州</pre><p><a href="optimizing-in-memory-aggregation.html#GUID-C739095A-8522-4748-8988-CE7E594E2B39__BABIFBJI" title="地理临时表">表9-6</a>显示了<code class="codeph">tt_geography</code>临时表中的行。<code class="codeph">USA,WA</code>组合的密集分组密钥为<code class="codeph">1</code> ，而<code class="codeph">USA,CA</code>组合的密集分组密钥为<code class="codeph">2</code> 。
                           </p>
                           <div class="tblformal" id="GUID-C739095A-8522-4748-8988-CE7E594E2B39__BABIFBJI">
                              <p class="titleintable">表9-6 tt_geography</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="tt_geography" width="100%" border="1" summary="Temporary table for geography" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d27228e2702">国家</th>
                                       <th align="left" valign="bottom" width="20%" id="d27228e2705">州</th>
                                       <th align="left" valign="bottom" width="60%" id="d27228e2708">dense_gr_key_geog</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2713" headers="d27228e2702 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d27228e2713 d27228e2705 ">
                                          <p>WA</p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d27228e2713 d27228e2708 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d27228e2723" headers="d27228e2702 ">
                                          <p>美国</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d27228e2723 d27228e2705 ">
                                          <p>CA</p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d27228e2723 d27228e2708 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94" name="GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94"></a><h6 id="INMEM-GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94" class="sect6"><span class="enumeration_section">9.1.3.4.3</span>步骤2：产品的关键向量和临时表创建维度</h6>
                        <div>
                           <p>数据库为Acme产品的每个不同类别/子类别组合创建密集分组键。</p>
                           <p>例如，在<a href="optimizing-in-memory-aggregation.html#GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABHFGEJ" title="产品表中的示例行">表9-7中</a> ， <code class="codeph">4</code>是Acme电气开关的密集分组键。
                           </p>
                           <div class="tblformal" id="GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABHFGEJ">
                              <p class="titleintable">表9-7产品中的样本行表</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="产品表中的样本行" width="100%" border="1" summary="Sample rows in products table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="16%" id="d27228e2860">MANUF</th>
                                       <th align="left" valign="bottom" width="18%" id="d27228e2863">类别</th>
                                       <th align="left" valign="bottom" width="18%" id="d27228e2866">子类别</th>
                                       <th align="left" valign="bottom" width="17%" id="d27228e2869">PROD_ID</th>
                                       <th align="left" valign="bottom" width="31%" id="d27228e2872">dense_gr_key_prod</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e2877" headers="d27228e2860 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2877 d27228e2863 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2877 d27228e2866 ">
                                          <p>自行车</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d27228e2877 d27228e2869 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d27228e2877 d27228e2872 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e2893" headers="d27228e2860 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2893 d27228e2863 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2893 d27228e2866 ">
                                          <p>球</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d27228e2893 d27228e2869 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d27228e2893 d27228e2872 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e2909" headers="d27228e2860 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2909 d27228e2863 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2909 d27228e2866 ">
                                          <p>灯泡</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d27228e2909 d27228e2869 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d27228e2909 d27228e2872 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e2925" headers="d27228e2860 ">
                                          <p>顶点</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2925 d27228e2863 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d27228e2925 d27228e2866 ">
                                          <p>开关</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d27228e2925 d27228e2869 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d27228e2925 d27228e2872 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p><code class="codeph">products</code>表的关键向量可能类似于<a href="optimizing-in-memory-aggregation.html#GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABEBAFF" title="XLATE产品">表9-8中</a>最后一列所表示的数组。值表示<code class="codeph">products</code>密集分组键。例如， <code class="codeph">4</code>表示Acme电气开关的在线销售。因此，关键向量指示<code class="codeph">sales_online</code>哪些行符合<code class="codeph">products</code>过滤条件（销售Acme产品）。
                           </p>
                           <div class="tblformal" id="GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABEBAFF">
                              <p class="titleintable">表9-8关键向量</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="关键矢量" width="100%" border="1" summary="XLATE for products" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="22%" id="d27228e2975">PROD_ID</th>
                                       <th align="left" valign="bottom" width="22%" id="d27228e2978">geog_id</th>
                                       <th align="left" valign="bottom" width="28%" id="d27228e2981">量</th>
                                       <th align="left" valign="bottom" width="28%" id="d27228e2984">产品的关键矢量</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e2989" headers="d27228e2975 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e2989 d27228e2978 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e2989 d27228e2981 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e2989 d27228e2984 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3002" headers="d27228e2975 ">
                                          <p>9</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3002 d27228e2978 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3002 d27228e2981 ">
                                          <p>150</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3002 d27228e2984 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3015" headers="d27228e2975 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3015 d27228e2978 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3015 d27228e2981 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3015 d27228e2984 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3028" headers="d27228e2975 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3028 d27228e2978 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3028 d27228e2981 ">
                                          <p>110</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3028 d27228e2984 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3041" headers="d27228e2975 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3041 d27228e2978 ">
                                          <p>三十</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3041 d27228e2981 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3041 d27228e2984 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3054" headers="d27228e2975 ">
                                          <p>6</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3054 d27228e2978 ">
                                          <p>20</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3054 d27228e2981 ">
                                          <p>400</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3054 d27228e2984 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3067" headers="d27228e2975 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3067 d27228e2978 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3067 d27228e2981 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3067 d27228e2984 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3080" headers="d27228e2975 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3080 d27228e2978 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3080 d27228e2981 ">
                                          <p>120</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3080 d27228e2984 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3093" headers="d27228e2975 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3093 d27228e2978 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3093 d27228e2981 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3093 d27228e2984 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d27228e3106" headers="d27228e2975 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d27228e3106 d27228e2978 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3106 d27228e2981 ">
                                          <p>200</p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d27228e3106 d27228e2984 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>在内部，数据库创建一个类似于以下内容的临时表：</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORTARY TABLE tt_products AS SELECT MAX（类别），MAX（子类别），KEY_VECTOR_CREATE（...）dense_gr_key_prod FROM products WHERE manuf ='ACME'GROUP BY类别，子类别</pre><p><a href="optimizing-in-memory-aggregation.html#GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABCAGGI" title="产品临时表">表9-9</a>显示了此临时表中的行。
                           </p>
                           <div class="tblformal" id="GUID-E22A075D-D027-4EEE-B670-B2D2DF50ED94__BABCAGGI">
                              <p class="titleintable">表9-9 tt_products</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="tt_products" width="100%" border="1" summary="Temporary table for products" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d27228e3139">类别</th>
                                       <th align="left" valign="bottom" width="33%" id="d27228e3142">子类别</th>
                                       <th align="left" valign="bottom" width="33%" id="d27228e3145">dense_gr_key_prod</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e3150" headers="d27228e3139 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3150 d27228e3142 ">
                                          <p>自行车</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3150 d27228e3145 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e3160" headers="d27228e3139 ">
                                          <p>运动</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3160 d27228e3142 ">
                                          <p>球</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3160 d27228e3145 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e3170" headers="d27228e3139 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3170 d27228e3142 ">
                                          <p>灯泡</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3170 d27228e3145 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d27228e3180" headers="d27228e3139 ">
                                          <p>电动</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3180 d27228e3142 ">
                                          <p>开关</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d27228e3180 d27228e3145 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-1FC11741-E3D2-458F-9442-96E9247954CC" name="GUID-1FC11741-E3D2-458F-9442-96E9247954CC"></a><h6 id="INMEM-GUID-1FC11741-E3D2-458F-9442-96E9247954CC" class="sect6"><span class="enumeration_section">9.1.3.4.4</span>第3步：密钥向量查询转换</h6>
                        <div>
                           <p>在此阶段，数据库处理事实表。</p>
                           <p>优化器将原始查询转换为以下等效查询，该查询访问键向量：</p><pre class="pre codeblock"><code>SELECT KEY_VECTOR_PROD（prod_id），KEY_VECTOR_GEOG（geog_id），SUM（金额）FROM sales_online WHERE KEY_VECTOR_PROD_FILTER（prod_id）IS NOT NULL AND KEY_VECTOR_GEOG_FILTER（geog_id）IS NOT NULL GROUP BY KEY_VECTOR_PROD（prod_id），KEY_VECTOR_GEOG（geog_id）</code></pre><p>前面的转换不是内部SQL的精确再现，它更复杂，但是用于说明基本概念的概念表示。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5" name="GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5"></a><h6 id="INMEM-GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5" class="sect6"><span class="enumeration_section">9.1.3.4.5</span>第4步：事实表中的行过滤</h6>
                        <div>
                           <p>此阶段获取每个分组键组合的销售金额。</p>
                           <p>数据库使用键向量从事实表中过滤掉不需要的行。在<a href="optimizing-in-memory-aggregation.html#GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5__BABBFFGG" title="sales_online的密集分组键">表9-10中</a> ，前三列表示<code class="codeph">sales_online</code>表。最后两列为<code class="codeph">geography</code>和<code class="codeph">products</code>表提供了密集的分组键。
                           </p>
                           <div class="tblformal" id="GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5__BABBFFGG">
                              <p class="titleintable">表9-10 sales_online表的密集分组键</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="sales_online表的密集分组键" width="100%" border="1" summary="Dense grouping keys for sales_online" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="16%" id="d27228e3435">PROD_ID</th>
                                       <th align="left" valign="bottom" width="16%" id="d27228e3438">geog_id</th>
                                       <th align="left" valign="bottom" width="16%" id="d27228e3441">量</th>
                                       <th align="left" valign="bottom" width="26%" id="d27228e3444">dense_gr_key_prod</th>
                                       <th align="left" valign="bottom" width="26%" id="d27228e3447">dense_gr_key_geog</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3452" headers="d27228e3435 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3452 d27228e3438 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3452 d27228e3441 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3452 d27228e3444 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3452 d27228e3447 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3467" headers="d27228e3435 ">
                                          <p>9</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3467 d27228e3438 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3467 d27228e3441 ">
                                          <p>150</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3467 d27228e3444 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3467 d27228e3447 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3481" headers="d27228e3435 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3481 d27228e3438 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3481 d27228e3441 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3481 d27228e3444 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3481 d27228e3447 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3497" headers="d27228e3435 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3497 d27228e3438 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3497 d27228e3441 ">
                                          <p>110</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3497 d27228e3444 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3497 d27228e3447 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3513" headers="d27228e3435 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3513 d27228e3438 ">
                                          <p>三十</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3513 d27228e3441 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3513 d27228e3444 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3513 d27228e3447 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3527" headers="d27228e3435 ">
                                          <p>6</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3527 d27228e3438 ">
                                          <p>20</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3527 d27228e3441 ">
                                          <p>400</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3527 d27228e3444 ">
                                          <p></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3527 d27228e3447 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3541" headers="d27228e3435 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3541 d27228e3438 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3541 d27228e3441 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3541 d27228e3444 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3541 d27228e3447 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3556" headers="d27228e3435 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3556 d27228e3438 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3556 d27228e3441 ">
                                          <p>120</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3556 d27228e3444 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3556 d27228e3447 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3572" headers="d27228e3435 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3572 d27228e3438 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3572 d27228e3441 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3572 d27228e3444 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3572 d27228e3447 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="16%" id="d27228e3588" headers="d27228e3435 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3588 d27228e3438 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3588 d27228e3441 ">
                                          <p>200</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3588 d27228e3444 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d27228e3588 d27228e3447 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如<a href="optimizing-in-memory-aggregation.html#GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5__BABEHIAG" title="sales_online表中的过滤行">表9-11</a>所示，数据库仅检索<code class="codeph">sales_online</code>具有非空值的两个密集分组键的行，指示满足所有过滤条件的行。
                           </p>
                           <div class="tblformal" id="GUID-F41F2AD3-3AA9-4702-8E90-3EAB8E3453E5__BABEHIAG">
                              <p class="titleintable">表9-11 sales_online表中的过滤行</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="sales_online表中的过滤行" width="100%" border="1" summary="Filtered rows from sales_online table" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="17%" id="d27228e3626">geog_id</th>
                                       <th align="left" valign="bottom" width="15%" id="d27228e3629">PROD_ID</th>
                                       <th align="left" valign="bottom" width="16%" id="d27228e3632">量</th>
                                       <th align="left" valign="bottom" width="27%" id="d27228e3635">dense_gr_key_prod</th>
                                       <th align="left" valign="bottom" width="25%" id="d27228e3638">dense_gr_key_geog</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d27228e3643" headers="d27228e3626 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d27228e3643 d27228e3629 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3643 d27228e3632 ">
                                          <p>100</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e3643 d27228e3635 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e3643 d27228e3638 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d27228e3659" headers="d27228e3626 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d27228e3659 d27228e3629 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3659 d27228e3632 ">
                                          <p>110</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e3659 d27228e3635 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e3659 d27228e3638 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d27228e3675" headers="d27228e3626 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d27228e3675 d27228e3629 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3675 d27228e3632 ">
                                          <p>200</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e3675 d27228e3635 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e3675 d27228e3638 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d27228e3691" headers="d27228e3626 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d27228e3691 d27228e3629 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3691 d27228e3632 ">
                                          <p>120</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e3691 d27228e3635 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e3691 d27228e3638 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d27228e3707" headers="d27228e3626 ">
                                          <p>8</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d27228e3707 d27228e3629 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="16%" headers="d27228e3707 d27228e3632 ">
                                          <p>130</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d27228e3707 d27228e3635 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d27228e3707 d27228e3638 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-6A98F912-9D04-4570-99D9-A3D50E171186" name="GUID-6A98F912-9D04-4570-99D9-A3D50E171186"></a><h6 id="INMEM-GUID-6A98F912-9D04-4570-99D9-A3D50E171186" class="sect6"><span class="enumeration_section">9.1.3.4.6</span>步骤5：使用阵列进行聚合</h6>
                        <div>
                           <p>数据库使用多维数组来执行聚合。</p>
                           <p>在<a href="optimizing-in-memory-aggregation.html#GUID-6A98F912-9D04-4570-99D9-A3D50E171186__BABHIGIA" title="显示聚合数组。第一列标题是“dgkp / dgkg”。第二列标题为“1”，第二列标题为“2”。">表9-12中</a> ， <code class="codeph">geography</code>分组键是水平的， <code class="codeph">products</code>分组键是垂直的。数据库在每个密集分组组合键的交集中添加值。例如，对于<code class="codeph">geography</code>分组密钥<code class="codeph">1</code>和<code class="codeph">products</code>分组密钥<code class="codeph">1</code>的交集， <code class="codeph">110</code>和<code class="codeph">200</code>的总和是<code class="codeph">310</code> 。
                           </p>
                           <div class="tblformal" id="GUID-6A98F912-9D04-4570-99D9-A3D50E171186__BABHIGIA">
                              <p class="titleintable">表9-12聚合数组</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="聚合数组" width="100%" border="1" summary="Shows an aggregation array. The first column heading is “dgkp/dgkg.” The second column heading is “1,” and the second column heading is “2.”" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d27228e3873">dgkp / dgkg</th>
                                       <th align="left" valign="bottom" width="38%" id="d27228e3876">1</th>
                                       <th align="left" valign="bottom" width="38%" id="d27228e3879">2</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d27228e3884" headers="d27228e3873 ">
                                          <p><span class="bold">1</span></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3884 d27228e3876 ">
                                          <p><code class="codeph">110 200</code></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3884 d27228e3879 ">
                                          <p> </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d27228e3896" headers="d27228e3873 ">
                                          <p><span class="bold">2</span></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3896 d27228e3876 ">
                                          <p> </p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3896 d27228e3879 ">
                                          <p><code class="codeph">130</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d27228e3908" headers="d27228e3873 ">
                                          <p><span class="bold">3</span></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3908 d27228e3876 ">
                                          <p> </p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3908 d27228e3879 ">
                                          <p><code class="codeph">120</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d27228e3920" headers="d27228e3873 ">
                                          <p><span class="bold">4</span></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3920 d27228e3876 ">
                                          <p><code class="codeph">100</code></p>
                                       </td>
                                       <td align="left" valign="top" width="38%" headers="d27228e3920 d27228e3879 ">
                                          <p></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-699A1CCA-8324-4049-AFD3-457ADBF1D81A" name="GUID-699A1CCA-8324-4049-AFD3-457ADBF1D81A"></a><h6 id="INMEM-GUID-699A1CCA-8324-4049-AFD3-457ADBF1D81A" class="sect6"><span class="enumeration_section">9.1.3.4.7</span>步骤6：加入临时表</h6>
                        <div>
                           <p>在处理的最后阶段，数据库使用密集分组键将行连接回临时表以获取区域和类别的名称。</p>
                           <p>结果如下：</p><pre class="pre codeblock"><code>类别子国家国家数量-------- ----------- ------- ----- ------电灯泡美国CA 120电动开关美国WA 100运动球美国CA 130运动自行车美国WA 310</code></pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-C425C017-8505-4924-A7AE-308C9BAF2454" title="本节给出了VECTOR GROUP BY聚合如何工作的概念性示例。">IM聚合：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FA953802-7768-49D5-B70C-C057076F1F4A" name="GUID-FA953802-7768-49D5-B70C-C057076F1F4A"></a><h4 id="INMEM-GUID-FA953802-7768-49D5-B70C-C057076F1F4A" class="sect4"><span class="enumeration_section">9.1.4</span> IM聚合的控制</h4>
                  <div>
                     <p>IM聚合与优化器集成在一起。不需要新的SQL或初始化参数。IM聚合不需要其他索引，外键或维度。</p>
                     <p>您可以使用以下提示对：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询块提示</p>
                           <p>无论成本如何， <code class="codeph">VECTOR_TRANSFORM</code>可以在指定的查询块上启用矢量转换。<code class="codeph">NO_VECTOR_TRANSFORM</code>禁止向量转换参与指定的查询块。
                           </p>
                        </li>
                        <li>
                           <p>表提示</p>
                           <p>您可以使用以下提示对：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">VECTOR_TRANSFORM_FACT</code>包含由向量转换生成的事实表中的指定<code class="codeph">FROM</code>表达式。<code class="codeph">NO_VECTOR_TRANSFORM_FACT</code>从向量转换生成的事实表中排除指定的<code class="codeph">FROM</code>表达式。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">VECTOR_TRANSFORM_DIMS</code>包含由向量转换生成的已启用维度中的指定<code class="codeph">FROM</code>表达式。<code class="codeph">NO_VECTOR_TRANSFORM_DIMS</code>从向量转换生成的已启用维度中排除指定的表达式。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FA953802-7768-49D5-B70C-C057076F1F4A__GUID-8C17C610-DCF3-4C3F-A54F-0A3842FB08C6">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SQLRF00219" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关<code class="codeph">VECTOR_TRANSFORM_FACT</code>和<code class="codeph">VECTOR_TRANSFORM_DIMS</code>提示的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" title="从Oracle Database 12c第1版（12.1.0.2）开始，内存中聚合（IM聚合）使查询能够在扫描时聚合。">使用内存中聚合优化联接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5AB9792F-8030-4D13-BC12-8DB598A15459" name="GUID-5AB9792F-8030-4D13-BC12-8DB598A15459"></a><h4 id="INMEM-GUID-5AB9792F-8030-4D13-BC12-8DB598A15459" class="sect4"><span class="enumeration_section">9.1.5</span>内存中聚合：示例</h4>
                  <div>
                     <p>在此示例中，业务问题是“每个日历年每个类别中销售了多少产品？“</p>
                     <div class="section">
                        <p>您编写以下查询，该查询连接<code class="codeph">times</code> ， <code class="codeph">products</code>和<code class="codeph">sales</code>表：</p><pre class="pre codeblock"><code>SELECT t.calendar_year，p.prod_category，SUM（quantity_sold）FROM times t，products p，sales s WHERE t.time_id = s.time_id AND p.prod_id = s.prod_id GROUP BY t.calendar_year，p.prod_category;</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5AB9792F-8030-4D13-BC12-8DB598A15459__BABEDJED">
                        <p class="titleinexample">例9-3按执行计划分类的矢量组</p>       
                        <p>以下示例显示了当前游标中包含的执行计划。步骤4和8显示了维度表<code class="codeph">times</code>和<code class="codeph">products</code>的关键向量的创建。步骤17和18显示了先前创建的关键向量的使用。步骤15显示了<code class="codeph">VECTOR GROUP BY</code>操作。
                        </p><pre class="pre codeblock"><code>-------------------------------------------------- --------执行计划---------------------------------------- ------------------计划哈希值：2093829546 --------------------------- -------------------------------------------------- -------------------------------------- | Id |操作|名称|行|字节|成本（％CPU）|时间| Pstart时| Pstop | -------------------------------------------------- -------------------------------------------------- --------------- | 0 | SELECT STATEMENT | | 18 | 1116 | 302（90）| 00：00：01 | | | | 1 | TEMP TABLE TRANSFORMATION | | | | | | | | | 2 | LOAD AS SELECT（CURSOR DURATION MEMORY）| SYS_TEMP_0FD9D6608_F6A13 | | | | | | | | 3 | HASH GROUP BY | | 5 | 80 | 3（67）| 00：00：01 | | | | 4 |关键矢量创建缓冲| ：KV0000 | 5 | 80 | 2（50）| 00:00:01 | | | | 5 |表访问INMEMORY FULL |时代| 1826 | 21912 | 2（50）| 00:00:01 | | | | 6 | LOAD AS SELECT（CURSOR DURATION MEMORY）| SYS_TEMP_0FD9D6607_F6A13 | | | | | | | | 7 | HASH GROUP BY | | 5 | 125 | 2（50）| 00:00:01 | | | | 8 |关键矢量创建缓冲| ：KV0001 | 5 | 125 | 1（0）| 00:00:01 | | | | 9 |表访问INMEMORY FULL |产品| 72 | 1512 | 1（0）| 00:00:01 | | | | 10 | HASH GROUP BY | | 18 | 1116 | 297（91）| 00:00:01 | | | | 11 | HASH JOIN | | 18 | 1116 | 296（91）| 00:00:01 | | | | 12 | HASH JOIN | | 18 | 666 | 294（91）| 00：00：01 | | | | 13 |表访问已满| SYS_TEMP_0FD9D6608_F6A13 | 5 | 80 | 2（0）| 00:00:01 | | | | 14 |查看| VW_VT_0737CF93 | 18 | 378 | 291（92）| 00:00:01 | | | | 15 |矢量组合| | 18 | 414 | 291（92）| 00：00：01 | | | | 16 | HASH GROUP BY | | 18 | 414 | 291（92）| 00：00：01 | | | | 17 |关键矢量使用| ：KV0000 | 918K | 20M | 285（92）| 00:00:01 | | | | 18 |关键矢量使用| ：KV0001 | 918K | 16M | 284（92）| 00:00:01 | | | | 19 |分区范围ITERATOR | | 918K | 13M | 282（92）| 00:00:01 |：KV0000 |：KV0000 | | 20 |表访问INMEMORY FULL |销售| 918K | 13M | 282（92）| 00:00:01 |：KV0000 |：KV0000 | | 21 |表访问已满| SYS_TEMP_0FD9D6607_F6A13 | 5 | 125 | 2（0）| 00:00:01 | | | -------------------------------------------------- -------------------------------------------------- ---------------谓词信息（由操作ID标识）：-------------------------- ------------------------- 11  -  access（“ITEM_9”= INTERNAL_FUNCTION（“C0”））12  -  access（“ITEM_8”= INTERNAL_FUNCTION（ “C0”））20  - 内存（SYS_OP_KEY_VECTOR_FILTER（“S”。“PROD_ID”，：KV0001）和SYS_OP_KEY_VECTOR_FILTER（“S”。“TIME_ID”，：KV0000））过滤器（SYS_OP_KEY_VECTOR_FILTER（“S”。“PROD_ID”，： KV0001）AND SYS_OP_KEY_VECTOR_FILTER（“S”。“TIME_ID”，：KV0000））注意-----  - 用于此语句的向量转换统计------------------- --------------------------------------- 26个递归调用13个db块得到124个一致得到67个物理读取2200重做大小1454字节通过SQL * Net发送到客户端634字节通过SQL * Net从客户端3接收SQL * Net往返客户端2排序（内存）0排序（磁盘）20行处理</code></pre>     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" title="从Oracle Database 12c第1版（12.1.0.2）开始，内存中聚合（IM聚合）使查询能够在扫描时聚合。">使用内存中聚合优化联接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-4321558D-853B-41A0-9098-4A45204F21BD" name="GUID-4321558D-853B-41A0-9098-4A45204F21BD"></a><h3 id="INMEM-GUID-4321558D-853B-41A0-9098-4A45204F21BD" class="sect3"><span class="enumeration_section">9.2</span>优化内存中算术</h3>
               <div>
                  <p><span>内存优化算法</span>使用优化的<code class="codeph">NUMBER</code>格式，使用SIMD硬件进行快速计算。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-1B4840FF-8917-4616-9768-82D39BB9D10F">关于内存中优化算法</a><br>内存中优化的<code class="codeph">NUMBER</code>格式可以使用SIMD硬件进行快速计算。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-in-memory-aggregation.html#GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD">启用和禁用内存中优化算法</a><br>通过将初始化参数<code class="codeph">INMEMORY_OPTIMIZED_ARITHMETIC</code>设置为<code class="codeph">DISABLE</code> （默认值）或<code class="codeph">ENABLE</code>来控制该功能。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-A9E6044E-DC81-44C7-8D0C-E77502722388" title="Database In-Memory提供优化以加速聚合和算术。">优化聚合</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1B4840FF-8917-4616-9768-82D39BB9D10F" name="GUID-1B4840FF-8917-4616-9768-82D39BB9D10F"></a><h4 id="INMEM-GUID-1B4840FF-8917-4616-9768-82D39BB9D10F" class="sect4"><span class="enumeration_section">9.2.1</span>关于<span>内存中优化算法</span></h4>
                  <div>
                     <p>内存中优化的<code class="codeph">NUMBER</code>格式可以使用SIMD硬件进行快速计算。
                     </p>
                     <p><span id="GUID-1B4840FF-8917-4616-9768-82D39BB9D10F__d5e1600">对于使用<code class="codeph">QUERY LOW</code>压缩的表格， <code class="codeph">NUMBER</code>列使用优化格式进行编码，以便在硬件中进行本机计算。</span> <span id="GUID-1B4840FF-8917-4616-9768-82D39BB9D10F__d5e1609">SIMD矢量处理使简单聚合， <code class="codeph">GROUP BY</code>聚合和算术运算能够显着受益。性能改进取决于聚合在算术计算上花费的时间量。一些聚合可能会受益高达9倍。</span></p>
                     <p>并非查询处理引擎中的所有行源都支持内存中优化的数字格式。因此，IM列存储必须存储传统的Oracle Database <code class="codeph">NUMBER</code>数据类型和In-Memory优化的数字类型。这种双存储增加了空间开销，有时高达15％。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1B4840FF-8917-4616-9768-82D39BB9D10F__GUID-030B9E2F-6B03-41EA-B921-D06537C82147">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="enabling-the-im-column-store.html#GUID-C8BE1A75-CD24-4573-9747-C25D88E3106F" title="根据您的要求估计IM列存储的大小，然后调整IM列存储的大小以满足这些要求。应用压缩可以减少内存大小。">估计IM列存储的所需大小</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-4321558D-853B-41A0-9098-4A45204F21BD" title="内存优化算法使用优化的NUMBER格式，使用SIMD硬件进行快速计算。">优化内存中算术</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD" name="GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD"></a><h4 id="INMEM-GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD" class="sect4"><span class="enumeration_section">9.2.2</span>启用和禁用<span>内存中优化算法</span></h4>
                  <div>
                     <p>通过将初始化参数<code class="codeph">INMEMORY_OPTIMIZED_ARITHMETIC</code>设置为<code class="codeph">DISABLE</code> （默认值）或<code class="codeph">ENABLE</code>来控制该功能。</p>
                     <div class="section">
                        <p>设置为<code class="codeph">ENABLE</code> ，Oracle数据库对使用<code class="codeph">FOR QUERY LOW</code>压缩的表中的<code class="codeph">NUMBER</code>列使用内存优化编码。设置为<code class="codeph">DISABLE</code> ，数据库不使用优化编码。
                        </p>
                        <p>从<code class="codeph">ENABLE</code>切换到<code class="codeph">DISABLE</code>不会立即丢弃现有IMCU的优化数字编码。相反，当IM列存储重新填充IMCU时，新的IMCU不使用优化的编码。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD__GUID-CAEDBE0D-C6CE-46EE-B27F-85641F8634BE">启用和禁用<span>内存优化算术</span> ：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">ALTER SYSTEM</code>语句指定<code class="codeph">INMEMORY_OPTIMIZED_ARITHMETIC</code> 。
                              </p>
                              <p>以下示例启用<span>内存中优化算法</span> ：</p><pre class="pre codeblock"><code>ALTER SYSTEM SET INMEMORY_OPTIMIZED_ARITHMETIC ='ENABLE'SCOPE = BOTH;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-892AB0EB-2960-4D51-A2C1-9D9F291BAEFD__GUID-030B9E2F-6B03-41EA-B921-D06537C82147">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/INMEMORY_OPTIMIZED_ARITHMETIC.html#REFRN-GUID-7321D23C-A75B-4830-9375-99E5B06E06EB" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">INMEMORY_OPTIMIZED_ARITHMETIC</code>初始化参数的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-in-memory-aggregation.html#GUID-4321558D-853B-41A0-9098-4A45204F21BD" title="内存优化算法使用优化的NUMBER格式，使用SIMD硬件进行快速计算。">优化内存中算术</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00933.oracle-database-gateway-appc-data-dictionary.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>APPC数据字典的数据库网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T18:35:49-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18239-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="troubleshooting-oracle-database-gateway-appc.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-gateway-appc-rpc-interface.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="APPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="troubleshooting-oracle-database-gateway-appc.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-gateway-appc-rpc-interface.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">APPC数据字典的数据库网关</li>
            </ol>
            <a id="GUID-F3F6C244-4F0A-4529-B790-A5BBC4FB2F93" name="GUID-F3F6C244-4F0A-4529-B790-A5BBC4FB2F93"></a><a id="APPUG900"></a>
            
            <h2 id="APPUG-GUID-F3F6C244-4F0A-4529-B790-A5BBC4FB2F93" class="sect2"><span class="enumeration_appendix">一种</span> APPC数据字典数据库网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>该<a id="d31699e30" class="indexterm-anchor"></a>程序网关数据字典（PG DD）在传统的Oracle数据库中维护。它是由一个SQL * Plus安装脚本（安装<code class="codeph">pgddcr8.sql</code>在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>在Microsoft Windows或目录<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>基于UNIX系统的目录），并通过PGAU语句和标准的SQL语句操作。
               </p>
               <p>字典分为两部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>环境字典</p>
                  </li>
                  <li>
                     <p>活跃的字典</p>
                  </li>
               </ul>
               <p>环境字典是静态的，不应更改。环境字典的内容支持从远程事务环境到集成服务器环境的正确转换，并且是特定于平台的。响应于用户提供的定义，PGAU在用户的位置更新活动字典。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-542441D4-1C8A-4929-BF58-FD40FF726EB8">PG DD环境词典</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-44CC54D9-AF00-4E20-AC09-494C3FCD2EFD">PG DD活跃词典</a></p>
                  </li>
               </ul>
            </div><a id="APPUG1067"></a><div class="props_rev_3"><a id="GUID-542441D4-1C8A-4929-BF58-FD40FF726EB8" name="GUID-542441D4-1C8A-4929-BF58-FD40FF726EB8"></a><h3 id="APPUG-GUID-542441D4-1C8A-4929-BF58-FD40FF726EB8" class="sect3">PG DD环境词典</h3>
               <div>
                  <div class="section">
                     <p>PGAU严格使用一些字典表作为输入。这些字典表定义了PGAU的环境参数。表和值都在网关安装时由SQL * Plus脚本安装，并且不会被安装修改。</p>
                     <p>环境字典不引用活动字典，但活动字典确实引用环境字典条目。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPUG1322"></a><a id="APPUG1068"></a><div class="props_rev_3"><a id="GUID-035BEAF0-7DAE-42EE-A783-AD6E85956231" name="GUID-035BEAF0-7DAE-42EE-A783-AD6E85956231"></a><h4 id="APPUG-GUID-035BEAF0-7DAE-42EE-A783-AD6E85956231" class="sect4">环境词典序列号</h4>
                  <div>
                     <div class="section">
                        <p>环境字典在某些列中需要唯一的标识号以将环境字典条目连接在一起。因此，Oracle数据库网关为APPC创建Oracle序列对象以支持此要求。
                        </p>
                        <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-035BEAF0-7DAE-42EE-A783-AD6E85956231__G646469" title="此2列表描述了Oracle序列对象及其描述。">表A-1</a>显示了Oracle序列对象及其描述。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-035BEAF0-7DAE-42EE-A783-AD6E85956231__G646469">
                        <p class="titleintable">表A-1 Oracle序列对象</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle序列对象" width="100%" border="1" summary="This 2 column table describes the Oracle sequence objects and their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d31699e172">Oracle序列对象</th>
                                 <th align="left" valign="bottom" width="69%" id="d31699e175">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e180" headers="d31699e172 ">
                                    <p><code class="codeph">pga.envrseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e180 d31699e175 ">
                                    <p>环境ID标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e188" headers="d31699e172 ">
                                    <p><code class="codeph">pga.compseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e188 d31699e175 ">
                                    <p>编译器id标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e196" headers="d31699e172 ">
                                    <p><code class="codeph">pga.eattrseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e196 d31699e175 ">
                                    <p>环境属性标识</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e204" headers="d31699e172 ">
                                    <p><code class="codeph">pga.dtypeseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e204 d31699e175 ">
                                    <p>数据类型标记</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e212" headers="d31699e172 ">
                                    <p><code class="codeph">pga.dtattseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e212 d31699e175 ">
                                    <p>数据类型属性标记</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="APPUG1069"></a><div class="props_rev_3"><a id="GUID-4AFB41A3-C080-45CB-AF6A-8199343A1678" name="GUID-4AFB41A3-C080-45CB-AF6A-8199343A1678"></a><h4 id="APPUG-GUID-4AFB41A3-C080-45CB-AF6A-8199343A1678" class="sect4">环境词典表</h4>
                  <div>
                     <div class="section">
                        <p>环境字典表包含描述操作环境的以下组件的常量：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pga_maint</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_environments</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_env_attr</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_env_values</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_compilers</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_datatypes</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_datatype_attr</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_datatype_values</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_usage</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_modes</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPUG1323"></a><a id="APPUG1070"></a><div class="props_rev_3"><a id="GUID-1E5D7E18-38F0-4B28-8241-871B93EF14F8" name="GUID-1E5D7E18-38F0-4B28-8241-871B93EF14F8"></a><h5 id="APPUG-GUID-1E5D7E18-38F0-4B28-8241-871B93EF14F8" class="sect5">pga_maint</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_maint</code>表存储PG DD维护信息，包括版本号和更改历史记录，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-1E5D7E18-38F0-4B28-8241-871B93EF14F8__CHDCADAA" title="此3列表显示了存储PG DD维护信息的pga_maint表的列，类型和内容信息，包括版本号和更改历史记录">表A-2所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-1E5D7E18-38F0-4B28-8241-871B93EF14F8__CHDCADAA">
                           <p class="titleintable">表A-2 pga_maint</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_maint" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_maint table that stores the PG DD maintenance information, including version number and change history" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d31699e360">柱</th>
                                    <th align="left" valign="bottom" width="21%" id="d31699e363">类型</th>
                                    <th align="left" valign="bottom" width="56%" id="d31699e366">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d31699e371" headers="d31699e360 ">
                                       <p><code class="codeph">版</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e371 d31699e363 ">
                                       <p><code class="codeph">数（10,4）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d31699e371 d31699e366 ">
                                       <p>PG DD版本，格式为<span class="italic"><code class="codeph">VVRRFF.rrff</code></span> ，其中：</p>
                                       <p><span class="italic"><code class="codeph">VV</code></span> - 基础版;</p>
                                       <p><span class="italic"><code class="codeph">RR</code></span> - 碱释放;</p>
                                       <p><span class="italic"><code class="codeph">FF</code></span> - 基础修复;</p>
                                       <p><span class="italic"><code class="codeph">rr</code></span> - 特定端口发布;</p>
                                       <p><span class="italic"><code class="codeph">ff</code></span> - 特定于端口的修复。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d31699e413" headers="d31699e360 ">
                                       <p><code class="codeph">mntdate</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e413 d31699e363 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d31699e413 d31699e366 ">
                                       <p>PG DD升级的Oracle日期和时间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d31699e426" headers="d31699e360 ">
                                       <p><code class="codeph">更改</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e426 d31699e363 ">
                                       <p><code class="codeph">VARCHAR2（256）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d31699e426 d31699e366 ">
                                       <p>PG DD升级说明。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1324"></a><a id="APPUG1071"></a><div class="props_rev_3"><a id="GUID-D544E878-4090-45A7-BB88-2999EC8596E3" name="GUID-D544E878-4090-45A7-BB88-2999EC8596E3"></a><h5 id="APPUG-GUID-D544E878-4090-45A7-BB88-2999EC8596E3" class="sect5">pga_environments</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_environments</code>表存储已定义的环境关键字，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-D544E878-4090-45A7-BB88-2999EC8596E3__G646100" title="这个3列表显示了pga_environments表的列，类型和内容信息。">表A-3所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D544E878-4090-45A7-BB88-2999EC8596E3__G646100">
                           <p class="titleintable">表A-3 pga_environments</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_environments" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_environments table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="17%" id="d31699e495">柱</th>
                                    <th align="left" valign="bottom" width="29%" id="d31699e498">类型</th>
                                    <th align="left" valign="bottom" width="53%" id="d31699e501">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e506" headers="d31699e495 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e506 d31699e498 ">
                                       <p><code class="codeph">varchar2(16)</code>不为null</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d31699e506 d31699e501 ">
                                       <p>环境。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e521" headers="d31699e495 ">
                                       <p><code class="codeph">ENV＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e521 d31699e498 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d31699e521 d31699e501 ">
                                       <p>环境。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1325"></a><a id="APPUG1072"></a><div class="props_rev_3"><a id="GUID-5F5BC457-C1D2-4C37-8E77-BDC36DAC3194" name="GUID-5F5BC457-C1D2-4C37-8E77-BDC36DAC3194"></a><h5 id="APPUG-GUID-5F5BC457-C1D2-4C37-8E77-BDC36DAC3194" class="sect5">pga_env_attr</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_env_attr</code>表存储环境属性的类型，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-5F5BC457-C1D2-4C37-8E77-BDC36DAC3194__G646491" title="此3列表显示pga_env_attr表的列，类型和内容信息。">表A-4所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-5F5BC457-C1D2-4C37-8E77-BDC36DAC3194__G646491">
                           <p class="titleintable">表A-4 pga_env_attr</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_env_attr" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_env_attr table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d31699e593">柱</th>
                                    <th align="left" valign="bottom" width="34%" id="d31699e596">类型</th>
                                    <th align="left" valign="bottom" width="46%" id="d31699e599">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e604" headers="d31699e593 ">
                                       <p><code class="codeph">名称</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d31699e604 d31699e596 ">
                                       <p><code class="codeph">varchar2 (16)</code>不为null</p>
                                    </td>
                                    <td align="left" valign="top" width="46%" headers="d31699e604 d31699e599 ">
                                       <p>属性。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e620" headers="d31699e593 ">
                                       <p><code class="codeph">ATTR＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d31699e620 d31699e596 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="46%" headers="d31699e620 d31699e599 ">
                                       <p>属性ID。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e636" headers="d31699e593 ">
                                       <p><code class="codeph">coltype</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d31699e636 d31699e596 ">
                                       <p><code class="codeph">varchar2 (4)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="46%" headers="d31699e636 d31699e599 ">
                                       <p>Attr值类型。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1326"></a><a id="APPUG1073"></a><div class="props_rev_3"><a id="GUID-754A0F08-6996-416A-8624-9481F517F43B" name="GUID-754A0F08-6996-416A-8624-9481F517F43B"></a><h5 id="APPUG-GUID-754A0F08-6996-416A-8624-9481F517F43B" class="sect5">pga_env_values</h5>
                     <div>
                        <div class="section">
                           <p>该<a id="d31699e689" class="indexterm-anchor"></a> <code class="codeph">pga_env_values</code>表存储环境的值，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-754A0F08-6996-416A-8624-9481F517F43B__G646511" title="此3列表显示pga_env_values表的列，类型和内容信息。">表A-5所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-754A0F08-6996-416A-8624-9481F517F43B__G646511">
                           <p class="titleintable">表A-5 pga_env_values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_env_values" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_env_values table. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d31699e710">柱</th>
                                    <th align="left" valign="bottom" width="32%" id="d31699e713">类型</th>
                                    <th align="left" valign="bottom" width="45%" id="d31699e716">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e721" headers="d31699e710 ">
                                       <p><code class="codeph">ENV＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e721 d31699e713 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d31699e721 d31699e716 ">
                                       <p>环境。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e737" headers="d31699e710 ">
                                       <p><code class="codeph">ATTR＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e737 d31699e713 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d31699e737 d31699e716 ">
                                       <p>属性ID。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e753" headers="d31699e710 ">
                                       <p><code class="codeph">numval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e753 d31699e713 ">
                                       <p><code class="codeph">数字（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d31699e753 d31699e716 ">
                                       <p>数字属性值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e766" headers="d31699e710 ">
                                       <p><code class="codeph">charval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e766 d31699e713 ">
                                       <p><code class="codeph">varchar2（64）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d31699e766 d31699e716 ">
                                       <p>字符属性值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e779" headers="d31699e710 ">
                                       <p><code class="codeph">dateval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e779 d31699e713 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d31699e779 d31699e716 ">
                                       <p>日期属性值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1327"></a><a id="APPUG1074"></a><div class="props_rev_3"><a id="GUID-D05EDFD6-3B45-4405-BC52-0F6C98650F70" name="GUID-D05EDFD6-3B45-4405-BC52-0F6C98650F70"></a><h5 id="APPUG-GUID-D05EDFD6-3B45-4405-BC52-0F6C98650F70" class="sect5">pga_compilers</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_compilers</code>表存储编译器环境名称，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-D05EDFD6-3B45-4405-BC52-0F6C98650F70__G646539" title="这个3列表显示了pga_compilers表的列，类型和内容信息。">表A-6所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D05EDFD6-3B45-4405-BC52-0F6C98650F70__G646539">
                           <p class="titleintable">表A-6 pga_compilers</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_compilers" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_compilers table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d31699e848">柱</th>
                                    <th align="left" valign="bottom" width="32%" id="d31699e851">类型</th>
                                    <th align="left" valign="bottom" width="49%" id="d31699e854">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e859" headers="d31699e848 ">
                                       <p><code class="codeph">名称</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e859 d31699e851 ">
                                       <p><code class="codeph">varchar2 (16)</code>不为null</p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d31699e859 d31699e854 ">
                                       <p>编译器名称。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e875" headers="d31699e848 ">
                                       <p><code class="codeph">plscomp</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e875 d31699e851 ">
                                       <p><code class="codeph">varchar2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d31699e875 d31699e854 ">
                                       <p>PLS编译器名称。</p>
                                       <p>二级密钥。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e890" headers="d31699e848 ">
                                       <p><code class="codeph">ENV＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e890 d31699e851 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d31699e890 d31699e854 ">
                                       <p>环境。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e906" headers="d31699e848 ">
                                       <p><code class="codeph">补偿＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e906 d31699e851 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d31699e906 d31699e854 ">
                                       <p>编译器env id。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e921" headers="d31699e848 ">
                                       <p><code class="codeph">ddl_process</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d31699e921 d31699e851 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d31699e921 d31699e854 ">
                                       <p>PGADDL处理器编号。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1328"></a><a id="APPUG1075"></a><div class="props_rev_3"><a id="GUID-23D6E46D-1DEA-45B4-93A4-E19F2D18A07D" name="GUID-23D6E46D-1DEA-45B4-93A4-E19F2D18A07D"></a><h5 id="APPUG-GUID-23D6E46D-1DEA-45B4-93A4-E19F2D18A07D" class="sect5">pga_datatypes</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_datatypes</code>表存储数据类型关键字，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-23D6E46D-1DEA-45B4-93A4-E19F2D18A07D__G646567" title="此3列表显示pga_datatypes表的列，类型和内容信息。">表A-7所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-23D6E46D-1DEA-45B4-93A4-E19F2D18A07D__G646567">
                           <p class="titleintable">表A-7 pga_datatypes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_datatypes" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_datatypes table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d31699e992">柱</th>
                                    <th align="left" valign="bottom" width="29%" id="d31699e995">类型</th>
                                    <th align="left" valign="bottom" width="50%" id="d31699e998">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e1003" headers="d31699e992 ">
                                       <p><code class="codeph">补偿＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1003 d31699e995 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d31699e1003 d31699e998 ">
                                       <p>编译器env id。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e1018" headers="d31699e992 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1018 d31699e995 ">
                                       <p><code class="codeph">varchar2 (16)</code>不为null</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d31699e1018 d31699e998 ">
                                       <p>数据类型关键字。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e1033" headers="d31699e992 ">
                                       <p><code class="codeph">DT＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1033 d31699e995 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d31699e1033 d31699e998 ">
                                       <p>Datatype_values。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1329"></a><a id="APPUG1076"></a><div class="props_rev_3"><a id="GUID-053CF67A-C6EA-4B39-957D-8FFE452CF6AF" name="GUID-053CF67A-C6EA-4B39-957D-8FFE452CF6AF"></a><h5 id="APPUG-GUID-053CF67A-C6EA-4B39-957D-8FFE452CF6AF" class="sect5">pga_datatype_attr</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_datatype_attr</code>表存储数据类型属性关键字，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-053CF67A-C6EA-4B39-957D-8FFE452CF6AF__G646587" title="此3列表显示pga_datatype_attr表的列，类型和内容信息。">表A-8所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-053CF67A-C6EA-4B39-957D-8FFE452CF6AF__G646587">
                           <p class="titleintable">表A-8 pga_datatype_attr</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_datatype_attr" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_datatype_attr table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d31699e1104">柱</th>
                                    <th align="left" valign="bottom" width="29%" id="d31699e1107">类型</th>
                                    <th align="left" valign="bottom" width="52%" id="d31699e1110">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1115" headers="d31699e1104 ">
                                       <p><code class="codeph">名称</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1115 d31699e1107 ">
                                       <p><code class="codeph">varchar2 (16)</code>不为null</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d31699e1115 d31699e1110 ">
                                       <p>属性关键字。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1131" headers="d31699e1104 ">
                                       <p><code class="codeph">ATTR＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1131 d31699e1107 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d31699e1131 d31699e1110 ">
                                       <p>属性ID。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1147" headers="d31699e1104 ">
                                       <p><code class="codeph">coltype</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d31699e1147 d31699e1107 ">
                                       <p><code class="codeph">varchar2 (4)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d31699e1147 d31699e1110 ">
                                       <p>attr的类型。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1330"></a><a id="APPUG1077"></a><div class="props_rev_3"><a id="GUID-89712FEA-8D7F-49D6-9329-EDDB7C2FE394" name="GUID-89712FEA-8D7F-49D6-9329-EDDB7C2FE394"></a><h5 id="APPUG-GUID-89712FEA-8D7F-49D6-9329-EDDB7C2FE394" class="sect5">pga_datatype_values</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_datatype_values</code>表存储数据类型属性值，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-89712FEA-8D7F-49D6-9329-EDDB7C2FE394__G646607" title="此3列表显示pga_datatype_values表的列，类型和内容信息。">表A-9所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-89712FEA-8D7F-49D6-9329-EDDB7C2FE394__G646607">
                           <p class="titleintable">表A-9 pga_datatype_values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_datatype_values" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_datatype_values table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d31699e1219">柱</th>
                                    <th align="left" valign="bottom" width="27%" id="d31699e1222">类型</th>
                                    <th align="left" valign="bottom" width="57%" id="d31699e1225">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1230" headers="d31699e1219 ">
                                       <p><code class="codeph">补偿＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1230 d31699e1222 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1230 d31699e1225 ">
                                       <p>编译器env id。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1246" headers="d31699e1219 ">
                                       <p><code class="codeph">DT＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1246 d31699e1222 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1246 d31699e1225 ">
                                       <p>datatype_values。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1262" headers="d31699e1219 ">
                                       <p><code class="codeph">ATTR＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1262 d31699e1222 ">
                                       <p><code class="codeph">number (9, 0)</code>不为空</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1262 d31699e1225 ">
                                       <p>属性ID。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1278" headers="d31699e1219 ">
                                       <p><code class="codeph">DAG＃</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1278 d31699e1222 ">
                                       <p><code class="codeph">数字（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1278 d31699e1225 ">
                                       <p>数据类型attr组号。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1291" headers="d31699e1219 ">
                                       <p><code class="codeph">numval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1291 d31699e1222 ">
                                       <p><code class="codeph">数字（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1291 d31699e1225 ">
                                       <p>数字属性值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1304" headers="d31699e1219 ">
                                       <p><code class="codeph">charval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1304 d31699e1222 ">
                                       <p><code class="codeph">varchar2（40）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1304 d31699e1225 ">
                                       <p>字符属性值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e1317" headers="d31699e1219 ">
                                       <p><code class="codeph">dateval</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d31699e1317 d31699e1222 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e1317 d31699e1225 ">
                                       <p>日期属性值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1331"></a><a id="APPUG1078"></a><div class="props_rev_3"><a id="GUID-1E95EC65-04F8-4708-B22B-E3206B16E67D" name="GUID-1E95EC65-04F8-4708-B22B-E3206B16E67D"></a><h5 id="APPUG-GUID-1E95EC65-04F8-4708-B22B-E3206B16E67D" class="sect5">pga_usage</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_usage</code>表执行<code class="codeph">pga_data</code>和<code class="codeph">pga_field</code>列“usage”的参照完整性检查，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-1E95EC65-04F8-4708-B22B-E3206B16E67D__G646643" title="这个3列表显示了pga_usage表的列，类型和内容信息。">表A-10所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-1E95EC65-04F8-4708-B22B-E3206B16E67D__G646643">
                           <p class="titleintable">表A-10 pga_usage</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_usage" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_usage table." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d31699e1401">柱</th>
                                    <th align="left" valign="bottom" width="20%" id="d31699e1404">类型</th>
                                    <th align="left" valign="bottom" width="55%" id="d31699e1407">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31699e1412" headers="d31699e1401 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e1412 d31699e1404 ">
                                       <p><code class="codeph">VARCHAR2（6）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d31699e1412 d31699e1407 ">
                                       <p>数据字典表的“ <code class="codeph">usage</code> ”字段的值。例如：</p>
                                       <p>' <code class="codeph">PASS</code> '</p>
                                       <p>' <code class="codeph">SKIP</code></p>
                                       <p>' <code class="codeph">NULL</code> '</p>
                                       <p>' <code class="codeph">ASIS</code> '</p>
                                       <p>首要的关键。</p>
                                       <p>最大长度=&gt; 4字符串长度。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1332"></a><a id="APPUG1079"></a><div class="props_rev_3"><a id="GUID-F670EBA0-008B-4E60-AEF2-0EEF2F6365FD" name="GUID-F670EBA0-008B-4E60-AEF2-0EEF2F6365FD"></a><h5 id="APPUG-GUID-F670EBA0-008B-4E60-AEF2-0EEF2F6365FD" class="sect5">pga_modes</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_modes</code>表执行<code class="codeph">pga_call_parm</code>列“mode”的参照完整性检查，如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-F670EBA0-008B-4E60-AEF2-0EEF2F6365FD__G646153" title="这个3列表显示了pga_modes表的列，类型和内容信息。">表A-11所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-F670EBA0-008B-4E60-AEF2-0EEF2F6365FD__G646153">
                           <p class="titleintable">表A-11 pga_modes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_modes" width="100%" border="1" summary="This 3-column table presents the column, type and content information for the pga_modes table. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d31699e1515">柱</th>
                                    <th align="left" valign="bottom" width="24%" id="d31699e1518">类型</th>
                                    <th align="left" valign="bottom" width="54%" id="d31699e1521">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e1526" headers="d31699e1515 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d31699e1526 d31699e1518 ">
                                       <p><code class="codeph">VARCHAR2（6）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d31699e1526 d31699e1521 ">
                                       <p>有效参数调用模式的名称。例如：</p>
                                       <p><code class="codeph">在</code></p>
                                       <p><code class="codeph">OUT</code></p>
                                       <p><code class="codeph">进出</code></p>
                                       <p><code class="codeph">Max length =&gt; 'IN OUT'</code>字符串长度。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPUG1080"></a><div class="props_rev_3"><a id="GUID-44CC54D9-AF00-4E20-AC09-494C3FCD2EFD" name="GUID-44CC54D9-AF00-4E20-AC09-494C3FCD2EFD"></a><h3 id="APPUG-GUID-44CC54D9-AF00-4E20-AC09-494C3FCD2EFD" class="sect3">PG DD活跃词典</h3>
               <div>
                  <div class="section">
                     <p>PG DD活动数据字典由创建<a id="d31699e1589" class="indexterm-anchor"></a><a id="d31699e1591" class="indexterm-anchor"></a> <code class="codeph">pgddcr8.sql</code>在安装时，但使用PGAU进行维护。活动字典可以引用环境字典中的项目（通过ID号）。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPUG1081"></a><div class="props_rev_3"><a id="GUID-45900771-B51C-4F57-8FF8-2452773667FD" name="GUID-45900771-B51C-4F57-8FF8-2452773667FD"></a><h4 id="APPUG-GUID-45900771-B51C-4F57-8FF8-2452773667FD" class="sect4">主动词典版本控制</h4>
                  <div>
                     <p>PG DD活动字典表包含事务和数据结构的描述。可能有多个版本的定义。旧版本无限期保留。</p>
                     <p>在PGAU字典操作中，定义由其“名称”引用，其可以由特定版本号限定。如果省略，则假定为最新版本。</p>
                  </div>
               </div><a id="APPUG1333"></a><a id="APPUG1082"></a><div class="props_rev_3"><a id="GUID-E9410C21-9ABD-4F28-948D-300AD9EB24EE" name="GUID-E9410C21-9ABD-4F28-948D-300AD9EB24EE"></a><h4 id="APPUG-GUID-E9410C21-9ABD-4F28-948D-300AD9EB24EE" class="sect4">活动字典序列号</h4>
                  <div>
                     <div class="section">
                        <p>由于活动字典不断变化，因此将活动字典条目连接在一起所需的标识号也必须更改。为了支持此要求，PG DD安装会创建以下Oracle序列对象。</p>
                        <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-E9410C21-9ABD-4F28-948D-300AD9EB24EE__G646116" title="此2列表列出了Oracle序列对象及其描述。">表A-12</a>列出了Oracle序列对象及其描述：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E9410C21-9ABD-4F28-948D-300AD9EB24EE__G646116">
                        <p class="titleintable">表A-12活动字典Oracle序列对象描述</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="活动字典Oracle序列对象描述" width="100%" border="1" summary="This 2 column table lists the Oracle sequence objects and their descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d31699e1699">Oracle序列对象</th>
                                 <th align="left" valign="bottom" width="69%" id="d31699e1702">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1707" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.transeq</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1707 d31699e1702 ">
                                    <p>交易ID标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1716" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.tranvers</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1716 d31699e1702 ">
                                    <p>交易版本ID标记</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1725" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.tattrseq</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1725 d31699e1702 ">
                                    <p>交易属性标识</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1734" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.callseq</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1734 d31699e1702 ">
                                    <p>APPC-Call id标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1743" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.callvers</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1743 d31699e1702 ">
                                    <p>调用版本ID标记</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1752" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.parmseq</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1752 d31699e1702 ">
                                    <p>APPC-呼叫参数ID标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1761" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.dataseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1761 d31699e1702 ">
                                    <p>数据标记</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1769" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.fieldseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1769 d31699e1702 ">
                                    <p>数据子字段标识</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1777" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.datavers</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1777 d31699e1702 ">
                                    <p>数据版本ID标记</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d31699e1785" headers="d31699e1699 ">
                                    <p><code class="codeph">pga.dattrseq</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d31699e1785 d31699e1702 ">
                                    <p>数据属性标记</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="APPUG1083"></a><div class="props_rev_3"><a id="GUID-EB469054-9B69-4C60-89AF-4E684F237D14" name="GUID-EB469054-9B69-4C60-89AF-4E684F237D14"></a><h4 id="APPUG-GUID-EB469054-9B69-4C60-89AF-4E684F237D14" class="sect4">活动字典表</h4>
                  <div>
                     <div class="section">
                        <p>以下是活动字典表的列表：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pga_trans</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_trans_attr</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_trans_values</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_trans_calls</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_call</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_data</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_fields</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_data_attr</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pga_data_values</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPUG1334"></a><a id="APPUG1084"></a><div class="props_rev_3"><a id="GUID-A0FB9796-3FFC-4828-8D23-466BC12721EF" name="GUID-A0FB9796-3FFC-4828-8D23-466BC12721EF"></a><h5 id="APPUG-GUID-A0FB9796-3FFC-4828-8D23-466BC12721EF" class="sect5">pga_trans</h5>
                     <div>
                        <div class="section">
                           <p>每个用户事务在<code class="codeph">PGA_TRANS</code>表中存在一行。该行由PGAU <code class="codeph">DEFINE TRANSACTION</code>语句创建，并由PGAU <code class="codeph">GENERATE</code>语句用于创建PL / SQL包（TIP）。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-A0FB9796-3FFC-4828-8D23-466BC12721EF__G646165" title="这个3列表显示了pga_trans的列，类型和内容信息">表A-13</a>这个3列表显示了<code class="codeph">PGA_TRANS</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-A0FB9796-3FFC-4828-8D23-466BC12721EF__G646165">
                           <p class="titleintable">表A-13 pga_trans</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_trans" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_trans" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d31699e1936">柱</th>
                                    <th align="left" valign="bottom" width="21%" id="d31699e1939">类型</th>
                                    <th align="left" valign="bottom" width="60%" id="d31699e1942">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1947" headers="d31699e1936 ">
                                       <p><code class="codeph">TNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e1947 d31699e1939 ">
                                       <p><code class="codeph">VARCHAR2（64）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e1947 d31699e1942 ">
                                       <p>客户定义的交易名称。</p>
                                       <p>首要的关键。</p>
                                       <p>最大长度=&gt; APPC TPname字符串长度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1963" headers="d31699e1936 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e1963 d31699e1939 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e1963 d31699e1942 ">
                                       <p>此条目的版本标识;它存在于表中，因为可能存在多个已归档或无效的条目，并且可能会保留这些条目以供将来重新激活。</p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的事务版本的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1979" headers="d31699e1936 ">
                                       <p><code class="codeph">updtdate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e1979 d31699e1939 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e1979 d31699e1942 ">
                                       <p>审计跟踪日期/时间记录上次更新。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e1991" headers="d31699e1936 ">
                                       <p><code class="codeph">updtuser</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e1991 d31699e1939 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e1991 d31699e1942 ">
                                       <p>上次更新此记录的审计跟踪用户ID /程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e2003" headers="d31699e1936 ">
                                       <p><code class="codeph">反式＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e2003 d31699e1939 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e2003 d31699e1942 ">
                                       <p>PGA事务编号，用于定义调用，定义数据和定义事务语句。</p>
                                       <p>外键。</p>
                                       <p><code class="codeph">pga_trans_values(trans#)</code> ， <code class="codeph">pga_trans_calls(trans#)</code> 。
                                       </p>
                                       <p>从插入PG DD的事务的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1335"></a><a id="APPUG1085"></a><div class="props_rev_3"><a id="GUID-05230CF5-2607-4E7D-8792-A5395C8775DD" name="GUID-05230CF5-2607-4E7D-8792-A5395C8775DD"></a><h5 id="APPUG-GUID-05230CF5-2607-4E7D-8792-A5395C8775DD" class="sect5">pga_trans_attr</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_trans_attr</code>表通过属性id号和类型将定义PGA支持的事务属性的字符串与<code class="codeph">pga_trans_values</code>条目相关联。
                           </p>
                           <p>在定义新事务时， <code class="codeph">pga_trans_attr</code>表还用于事务属性的完整性检查。
                           </p>
                           <p><code class="codeph">pga_trans_attr</code>表中有一个条目用于每个事务属性名称。指定PGA在任何已定义事务上支持的所有可能的事务属性名称。每个属性都有一行，不允许重复。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-05230CF5-2607-4E7D-8792-A5395C8775DD__G646193" title="这个3列表显示了pga_trans_attr的列，类型和内容信息">表A-14</a>此3列表显示了<code class="codeph">pga_trans_attr</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-05230CF5-2607-4E7D-8792-A5395C8775DD__G646193">
                           <p class="titleintable">表A-14 pga_trans_attr</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_trans_attr" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_trans_attr" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d31699e2105">柱</th>
                                    <th align="left" valign="bottom" width="21%" id="d31699e2108">类型</th>
                                    <th align="left" valign="bottom" width="58%" id="d31699e2111">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2116" headers="d31699e2105 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e2116 d31699e2108 ">
                                       <p><code class="codeph">VARCHAR2（16）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d31699e2116 d31699e2111 ">
                                       <p>属性的字符串名称。</p>
                                       <p>首要的关键。</p>
                                       <p>包含：</p>
                                       <p>“ <code class="codeph">ENVIRONMENT</code> ”，</p>
                                       <p>“ <code class="codeph">LUNAME</code> ”，</p>
                                       <p>“ <code class="codeph">TPNAME</code> ”，</p>
                                       <p>“ <code class="codeph">LOGMODE</code> ”，</p>
                                       <p>“ <code class="codeph">SIDEPROFILE</code> ”，</p>
                                       <p>“ <code class="codeph">SYNCLEVEL</code> ”，</p>
                                       <p>“ <code class="codeph">NLS_LANGUAGE</code> ”，</p>
                                       <p>“ <code class="codeph">REMOTE_MBCS</code> ”</p>
                                       <p>“ <code class="codeph">LOCAL_MBCS</code> ”</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2178" headers="d31699e2105 ">
                                       <p><code class="codeph">ATTR＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e2178 d31699e2108 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d31699e2178 d31699e2111 ">
                                       <p>已分配属性ID。</p>
                                       <p>外键。</p>
                                       <p>pga_data_values（ATTR＃）。</p>
                                       <p>从插入PG DD的每个受支持事务属性的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2196" headers="d31699e2105 ">
                                       <p><code class="codeph">coltype</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e2196 d31699e2108 ">
                                       <p><code class="codeph">VARCHAR2（4）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d31699e2196 d31699e2111 ">
                                       <p>从pga_tran_values中检索属性值的Oracle列的类型。例如：</p>
                                       <p>' <code class="codeph">NUM ' =&gt; pga_tran_values(numval)</code></p>
                                       <p>' <code class="codeph">CHAR' =&gt; pga_tran_values(charval)</code></p>
                                       <p>' <code class="codeph">DATE' =&gt; pga_tran_values(dateval</code> <code class="codeph">)</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2222" headers="d31699e2105 ">
                                       <p><code class="codeph">需要</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e2222 d31699e2108 ">
                                       <p><code class="codeph">炭（1）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d31699e2222 d31699e2111 ">
                                       <p>如果不为null，则为<code class="codeph">DEFINE TRANSACTION</code>必需关键字;如果为null，则为可选。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1336"></a><a id="APPUG1086"></a><div class="props_rev_3"><a id="GUID-8DCC1CE8-6609-4F19-BAF2-397D6F24BC3B" name="GUID-8DCC1CE8-6609-4F19-BAF2-397D6F24BC3B"></a><h5 id="APPUG-GUID-8DCC1CE8-6609-4F19-BAF2-397D6F24BC3B" class="sect5">pga_trans_values</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_trans_values</code>表描述了事务属性的值。
                           </p>
                           <p>存在一行以指定数据字典中定义的每个事务的每个属性的值。</p>
                           <p><code class="codeph">pga_trans_values</code>的列，类型和内容信息<code class="codeph">pga_trans_values</code> <a href="oracle-database-gateway-appc-data-dictionary.html#GUID-8DCC1CE8-6609-4F19-BAF2-397D6F24BC3B__G646217" title="这个3列表显示了pga_trans_values的列，类型和内容信息">表A-15所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-8DCC1CE8-6609-4F19-BAF2-397D6F24BC3B__G646217">
                           <p class="titleintable">表A-15 pga_trans_values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_trans_values" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_trans_values" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="17%" id="d31699e2307">柱</th>
                                    <th align="left" valign="bottom" width="22%" id="d31699e2310">类型</th>
                                    <th align="left" valign="bottom" width="61%" id="d31699e2313">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e2318" headers="d31699e2307 ">
                                       <p><code class="codeph">反式＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d31699e2318 d31699e2310 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2318 d31699e2313 ">
                                       <p>来自<code class="codeph">pga_trans(trans#)</code>交易ID。
                                       </p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的事务的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e2337" headers="d31699e2307 ">
                                       <p><code class="codeph">ATTR＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d31699e2337 d31699e2310 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2337 d31699e2313 ">
                                       <p>来自<code class="codeph">pga_trans_attr(attr#)</code>属性id，</p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的每个受支持事务属性的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e2356" headers="d31699e2307 ">
                                       <p><code class="codeph">numval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d31699e2356 d31699e2310 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2356 d31699e2313 ">
                                       <p>属性的数值，例如对于给定事务的<code class="codeph">SYNCLEVEL</code>属性<code class="codeph">0</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e2374" headers="d31699e2307 ">
                                       <p><code class="codeph">charval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d31699e2374 d31699e2310 ">
                                       <p><code class="codeph">VARCHAR2（64）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2374 d31699e2313 ">
                                       <p>属性的字符值;例如，给定事务的<code class="codeph">TPNAME</code>属性。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="17%" id="d31699e2389" headers="d31699e2307 ">
                                       <p><code class="codeph">dateval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d31699e2389 d31699e2310 ">
                                       <p><code class="codeph">日期</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2389 d31699e2313 ">
                                       <p>属性的日期值。可能总是空的;包括完整性。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1337"></a><a id="APPUG1087"></a><div class="props_rev_3"><a id="GUID-E4529C72-FDD3-4A91-9C94-6D0655988FE5" name="GUID-E4529C72-FDD3-4A91-9C94-6D0655988FE5"></a><h5 id="APPUG-GUID-E4529C72-FDD3-4A91-9C94-6D0655988FE5" class="sect5">pga_trans_calls</h5>
                     <div>
                        <div class="section">
                           <p><a id="d31699e2442" class="indexterm-anchor"></a> <code class="codeph">pga_trans_calls</code>表通过呼叫ID号将任何单个事务可用的所有呼叫与每个特定呼叫定义相关联。
                           </p>
                           <p><code class="codeph">pga_trans_calls</code>表中存在一个条目<a id="d31699e2453" class="indexterm-anchor"></a>通过<code class="codeph">CALL</code> （ <span class="italic">cname</span> ，...）操作数在事务定义中引用的PL / SQL调用。每个交易电话一行;没有重复。
                           </p>
                           <p><code class="codeph">pga_trans_calls</code>的列，类型和内容信息<code class="codeph">pga_trans_calls</code> <a href="oracle-database-gateway-appc-data-dictionary.html#GUID-E4529C72-FDD3-4A91-9C94-6D0655988FE5__G646245" title="这个3列表显示了pga_trans_calls的列，类型和内容信息">表A-16所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-E4529C72-FDD3-4A91-9C94-6D0655988FE5__G646245">
                           <p class="titleintable">表A-16 pga_trans_calls</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_trans_calls" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_trans_calls" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d31699e2485">柱</th>
                                    <th align="left" valign="bottom" width="19%" id="d31699e2488">类型</th>
                                    <th align="left" valign="bottom" width="61%" id="d31699e2491">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e2496" headers="d31699e2485 ">
                                       <p><code class="codeph">反式＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e2496 d31699e2488 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2496 d31699e2491 ">
                                       <p>来自<code class="codeph">pga_trans(trans#)</code>交易ID号。
                                       </p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的事务的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e2515" headers="d31699e2485 ">
                                       <p><code class="codeph">SEQ＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e2515 d31699e2488 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2515 d31699e2491 ">
                                       <p>此呼叫的序列号。</p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d31699e2529" headers="d31699e2485 ">
                                       <p><code class="codeph">呼叫＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e2529 d31699e2488 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d31699e2529 d31699e2491 ">
                                       <p>在<code class="codeph">pga_call(call#)</code>呼叫id号码<code class="codeph">pga_call(call#)</code> 。
                                       </p>
                                       <p>外键。</p>
                                       <p>在插入或更新此事务定义时，从<code class="codeph">pga_call.call#</code>复制引用的调用。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1338"></a><a id="APPUG1088"></a><div class="props_rev_3"><a id="GUID-BEC56575-3E9F-4186-A285-6C3307C1E3D8" name="GUID-BEC56575-3E9F-4186-A285-6C3307C1E3D8"></a><h5 id="APPUG-GUID-BEC56575-3E9F-4186-A285-6C3307C1E3D8" class="sect5">pga_call</h5>
                     <div>
                        <div class="section">
                           <p>pga_call表将所有可用于所有已定义事务的调用与唯一的呼叫ID号和<a id="d31699e2594" class="indexterm-anchor"></a> PL / SQL远程过程调用（RPC）名称。每个表中都有一个条目<a id="d31699e2597" class="indexterm-anchor"></a> PL / SQL调用（在<code class="codeph">DEFINE CALL</code>语句中<code class="codeph">DEFINE CALL</code> ）。
                           </p>
                           <p>每次呼叫一行，当多个事务进行相同的呼叫时，重复是可能的。plsrpc规范在进行调用的Oracle数据库中必须是唯一的，并且通过调用＃唯一地区分行。</p>
                           <p>pga_call的列，类型和内容信息如<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-BEC56575-3E9F-4186-A285-6C3307C1E3D8__G646265" title="这个3列表显示了pga_call的列，类型和内容信息">表A-17所示</a> ：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-BEC56575-3E9F-4186-A285-6C3307C1E3D8__G646265">
                           <p class="titleintable">表A-17 pga_call</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_call" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_call" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d31699e2625">柱</th>
                                    <th align="left" valign="bottom" width="20%" id="d31699e2628">类型</th>
                                    <th align="left" valign="bottom" width="59%" id="d31699e2631">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2636" headers="d31699e2625 ">
                                       <p><code class="codeph">CNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2636 d31699e2628 ">
                                       <p><code class="codeph">VARCHAR2（48）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2636 d31699e2631 ">
                                       <p>PGAU参考的呼叫名称;</p>
                                       <p>首要的关键。</p>
                                       <p>最大长度=&gt; COBOL名称字符串长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2652" headers="d31699e2625 ">
                                       <p><code class="codeph">plsrpc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2652 d31699e2628 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2652 d31699e2631 ">
                                       <p>用于PL / SQL中引用的RPC调用名称（要生成的公共过程）。</p>
                                       <p>最大长度=&gt; PL / SQL RPC名称长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2666" headers="d31699e2625 ">
                                       <p><code class="codeph">updtdate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2666 d31699e2628 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2666 d31699e2631 ">
                                       <p>审核记录上次更新的审核日期/时间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2678" headers="d31699e2625 ">
                                       <p><code class="codeph">updtuser</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2678 d31699e2628 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2678 d31699e2631 ">
                                       <p>上次更新此记录的审计跟踪用户ID /程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2690" headers="d31699e2625 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2690 d31699e2628 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2690 d31699e2631 ">
                                       <p>此条目的版本标识，因为可能存在多个已归档或无效的条目，并且可能会保留这些条目以供将来重新激活。</p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的调用版本的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d31699e2706" headers="d31699e2625 ">
                                       <p><code class="codeph">呼叫＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e2706 d31699e2628 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d31699e2706 d31699e2631 ">
                                       <p>呼叫ID号码。</p>
                                       <p>外键。</p>
                                       <p><code class="codeph">pga_trans_calls(call#)</code> ， <code class="codeph">pga_call_parm(call#)</code> 。
                                       </p>
                                       <p>从插入PG DD的每个调用的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1339"></a><a id="APPUG1089"></a><div class="props_rev_3"><a id="GUID-8D10FAEA-8D2A-4B14-91F9-85694BECFE7E" name="GUID-8D10FAEA-8D2A-4B14-91F9-85694BECFE7E"></a><h5 id="APPUG-GUID-8D10FAEA-8D2A-4B14-91F9-85694BECFE7E" class="sect5">pga_call_parm</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_call_parm</code>表将任何单个事务调用的所有参数与描述每个参数的数据定义相关联。
                           </p>
                           <p><code class="codeph">pga_call_parm</code>表中存在一个条目，用于PGAU <code class="codeph">DEFINE CALL</code>语句的<code class="codeph">PARMS()</code>操作数中的每个参数。每个参数一行，当多个调用（在<code class="codeph">pga_call</code>表中）引用相同的参数时允许重复。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-8D10FAEA-8D2A-4B14-91F9-85694BECFE7E__G646297" title="这个3列表显示了pga_call_parm的列，类型和内容信息">表A-18</a>这个3列表显示了<code class="codeph">pga_call_parm</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-8D10FAEA-8D2A-4B14-91F9-85694BECFE7E__G646297">
                           <p class="titleintable">表A-18 pga_call_parm</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_call_parm" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_call_parm" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d31699e2810">柱</th>
                                    <th align="left" valign="bottom" width="18%" id="d31699e2813">类型</th>
                                    <th align="left" valign="bottom" width="60%" id="d31699e2816">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e2821" headers="d31699e2810 ">
                                       <p><code class="codeph">呼叫＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d31699e2821 d31699e2813 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e2821 d31699e2816 ">
                                       <p>来自<code class="codeph">pga_calls</code>的引用呼叫的呼叫号码。
                                       </p>
                                       <p>首要的关键。</p>
                                       <p>从插入PG DD的每个调用的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e2840" headers="d31699e2810 ">
                                       <p><code class="codeph">PARM＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d31699e2840 d31699e2813 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e2840 d31699e2816 ">
                                       <p>定位在<code class="codeph">DEFINE CALL</code>操作的<code class="codeph">PARMS()</code>参数中（1,2,3 ...）。
                                       </p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e2860" headers="d31699e2810 ">
                                       <p><code class="codeph">CMODE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d31699e2860 d31699e2813 ">
                                       <p><code class="codeph">VARCHAR2（6）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e2860 d31699e2816 ">
                                       <p>此参数的呼叫模式; <code class="codeph">pga_data_modes</code>一个值。例如：</p>
                                       <p>' <code class="codeph">IN</code> '，' <code class="codeph">OUT</code> '，' <code class="codeph">IN OUT</code> '</p>
                                       <p>最大长度=&gt;' <code class="codeph">IN OUT</code> '字符串长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e2891" headers="d31699e2810 ">
                                       <p><code class="codeph">数据＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d31699e2891 d31699e2813 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e2891 d31699e2816 ">
                                       <p>数据定义＃在此项目的<code class="codeph">pga_data(data#)</code>中。
                                       </p>
                                       <p>外键。</p>
                                       <p><code class="codeph">pga_data(data#)</code> ， <code class="codeph">pga_data_values(data#)</code> 。
                                       </p>
                                       <p>插入或更新此调用/ parm定义时，从<code class="codeph">pga_data.data#</code>复制数据项。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1340"></a><a id="APPUG1090"></a><div class="props_rev_3"><a id="GUID-355015DD-BBC0-4071-9FBE-DC031816726D" name="GUID-355015DD-BBC0-4071-9FBE-DC031816726D"></a><h5 id="APPUG-GUID-355015DD-BBC0-4071-9FBE-DC031816726D" class="sect5">pga_data</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_data</code>表定义用作调用中的参数的每个数据项，并将远程主机数据名称与其PL / SQL变量以及每个数据项中的任何组件子字段或子句相关联（如果数据项是聚合，例如记录）。每个数据项可能通过其相应的字段定义具有与之相关的属性。甚至原子数据项在<code class="codeph">pga_field</code>表中也只有一行。
                           </p>
                           <p>对于由a定义的每个数据项， <code class="codeph">pga_data</code>表中存在一行<a id="d31699e2974" class="indexterm-anchor"></a><a id="d31699e2978" class="indexterm-anchor"></a> PGAU <code class="codeph">DEFINE DATA</code>或<a id="d31699e2984" class="indexterm-anchor"></a><a id="d31699e2988" class="indexterm-anchor"></a> <code class="codeph">REDEFINE DATA</code>声明。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-355015DD-BBC0-4071-9FBE-DC031816726D__G646321" title="这个3列表显示了pga_data的列，类型和内容信息">表A-19</a>这个3列表显示了<code class="codeph">pga_data</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-355015DD-BBC0-4071-9FBE-DC031816726D__G646321">
                           <p class="titleintable">表A-19 pga_data</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_data" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_data" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d31699e3013">柱</th>
                                    <th align="left" valign="bottom" width="20%" id="d31699e3016">类型</th>
                                    <th align="left" valign="bottom" width="60%" id="d31699e3019">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3024" headers="d31699e3013 ">
                                       <p><code class="codeph">补偿＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3024 d31699e3016 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3024 d31699e3019 ">
                                       <p>编译器ID号。;</p>
                                       <p>外键。</p>
                                       <p>（ <code class="codeph">pga_compiler(comp#)</code> 。
                                       </p>
                                       <p>在插入数据定义时，根据<code class="codeph">DEFINE DATA</code>语句中指定的语言参数从<code class="codeph">pga_compiler</code> （comp＃）设置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3051" headers="d31699e3013 ">
                                       <p><code class="codeph">compopts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3051 d31699e3016 ">
                                       <p><code class="codeph">VARCHAR2（100）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3051 d31699e3019 ">
                                       <p><code class="codeph">DEFINE DATA</code>语句中<code class="codeph">COMPOPTS</code>关键字的编译器选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3069" headers="d31699e3013 ">
                                       <p><code class="codeph">DNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3069 d31699e3016 ">
                                       <p><code class="codeph">VARCHAR2（255）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3069 d31699e3019 ">
                                       <p>DEFINE声明中的名称;</p>
                                       <p>首要的关键。</p>
                                       <p>最大长度=&gt; COBOL名称长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3085" headers="d31699e3013 ">
                                       <p><code class="codeph">plsdvar</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3085 d31699e3016 ">
                                       <p><code class="codeph">VARCHAR（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3085 d31699e3019 ">
                                       <p>PL / SQL的PL / SQL变量名称，供PL / SQL中引用。</p>
                                       <p>最大长度=&gt; PL / SQL变量长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3099" headers="d31699e3013 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3099 d31699e3016 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3099 d31699e3019 ">
                                       <p>此条目的版本号。从插入PGADD的数据版本的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3111" headers="d31699e3013 ">
                                       <p><code class="codeph">updtdate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3111 d31699e3016 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3111 d31699e3019 ">
                                       <p>此控制记录上次更新的审计跟踪日期/时间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3123" headers="d31699e3013 ">
                                       <p><code class="codeph">updtuser</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3123 d31699e3016 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3123 d31699e3019 ">
                                       <p>上次更新此记录的审计跟踪用户ID /程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3135" headers="d31699e3013 ">
                                       <p><code class="codeph">用法</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3135 d31699e3016 ">
                                       <p><code class="codeph">VARCHAR2（6）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3135 d31699e3019 ">
                                       <p>此数据项的默认用法： <code class="codeph">PASS</code> ， <code class="codeph">SKIP</code> ， <code class="codeph">NULL</code> ， <code class="codeph">ASIS</code> 。</p>
                                       <p>主要由PGAU <code class="codeph">REPORT</code> 。</p>
                                       <p>最大长度=&gt; 4字符串长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d31699e3166" headers="d31699e3013 ">
                                       <p><code class="codeph">数据＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d31699e3166 d31699e3016 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3166 d31699e3019 ">
                                       <p>数据定义编号。</p>
                                       <p>外键。</p>
                                       <p>（ <code class="codeph">pga_call_parm(data#)</code> ， <code class="codeph">(pga_field(data#)</code></p>
                                       <p>从Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1341"></a><a id="APPUG1091"></a><div class="props_rev_3"><a id="GUID-D26E2D70-CAC6-4B3B-B74F-8773956AAEE5" name="GUID-D26E2D70-CAC6-4B3B-B74F-8773956AAEE5"></a><h5 id="APPUG-GUID-D26E2D70-CAC6-4B3B-B74F-8773956AAEE5" class="sect5">pga_fields</h5>
                     <div>
                        <div class="section">
                           <p>pga_fields表定义数据项中的每个字段，并将远程主机数据字段与其PL / SQL变量或嵌套记录相关联。每个字段项可能在<code class="codeph">pga_data_attr</code>和<code class="codeph">pga_data_values</code>表中具有与其相关的属性（按字段＃）。
                           </p>
                           <p>对于由PGAU <code class="codeph">DEFINE DATA</code>语句定义的每个原子项，字段，子句或嵌套记录，pga_fields表中存在一行。将存在若干行（通过单个数据＃和递增fld＃相关）来定义聚合数据项，每个字段或组一行。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-D26E2D70-CAC6-4B3B-B74F-8773956AAEE5__G646421" title="这个3列表显示了pga_fields的列，类型和内容信息">表A-20</a>这个3列表显示了pga_fields的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D26E2D70-CAC6-4B3B-B74F-8773956AAEE5__G646421">
                           <p class="titleintable">表A-20 pga_fields</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_fields" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_fields" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d31699e3260">柱</th>
                                    <th align="left" valign="bottom" width="21%" id="d31699e3263">类型</th>
                                    <th align="left" valign="bottom" width="57%" id="d31699e3266">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3271" headers="d31699e3260 ">
                                       <p><code class="codeph">数据＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3271 d31699e3263 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3271 d31699e3266 ">
                                       <p>数据定义编号。</p>
                                       <p>首要的关键。</p>
                                       <p>（ <code class="codeph">pga_data(data#), pga_call_parm(data#)</code> 。
                                       </p>
                                       <p>从Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3292" headers="d31699e3260 ">
                                       <p><code class="codeph">FNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3292 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（255）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3292 d31699e3266 ">
                                       <p>如果dname定义聚合数据，则提取或派生字段名称。</p>
                                       <p>最大长度=&gt; COBOL名称长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3306" headers="d31699e3260 ">
                                       <p><code class="codeph">plsfvar</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3306 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3306 d31699e3266 ">
                                       <p>PL / SQL中的子域的PL / SQL变量名称，用于PL / SQL中的引用。最大长度=&gt; PL / SQL变量长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3318" headers="d31699e3260 ">
                                       <p><code class="codeph">updtdate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3318 d31699e3263 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3318 d31699e3266 ">
                                       <p>此控制记录上次更新的审计跟踪日期/时间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3330" headers="d31699e3260 ">
                                       <p><code class="codeph">updtuser</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3330 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3330 d31699e3266 ">
                                       <p>上次更新此记录的审计跟踪用户ID /程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3342" headers="d31699e3260 ">
                                       <p><code class="codeph">FLD＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3342 d31699e3263 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3342 d31699e3266 ">
                                       <p>数据定义中的子句或字段ID号。</p>
                                       <p>外键。</p>
                                       <p><code class="codeph">pga_data_values(fld#)</code> 。
                                       </p>
                                       <p>从Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3362" headers="d31699e3260 ">
                                       <p><code class="codeph">POS＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3362 d31699e3263 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3362 d31699e3266 ">
                                       <p>在聚合数据项（例如，1,2 3等）中定义的每个字段的相对位置编号，如果数据是原子的，则为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3377" headers="d31699e3260 ">
                                       <p><code class="codeph">用法</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3377 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（6）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3377 d31699e3266 ">
                                       <p>使用此数据字段：</p>
                                       <p>' <code class="codeph">PASS</code> '，' <code class="codeph">SKIP</code> '，' <code class="codeph">NULL</code> '，' <code class="codeph">ASIS</code> '。
                                       </p>
                                       <p>最大长度=&gt; 4字符串长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3405" headers="d31699e3260 ">
                                       <p><code class="codeph">面具</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3405 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（30）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3405 d31699e3266 ">
                                       <p>数据类型或掩码值。例如：</p>
                                       <p>' <code class="codeph">S9(4)</code> '</p>
                                       <p>' <code class="codeph">X(24)</code> '</p>
                                       <p>' <code class="codeph">VARCHAR2(24)</code> '</p>
                                       <p>' <code class="codeph">BINARY_INTEGER(16)</code> '</p>
                                       <p><code class="codeph">空值</code></p>
                                       <p>当为<code class="codeph">NULL</code> ，假定项目定义为COBOL组或PL / SQL嵌套记录。
                                       </p>
                                       <p>最大长度=&gt;任意选择</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d31699e3447" headers="d31699e3260 ">
                                       <p><code class="codeph">maskopts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d31699e3447 d31699e3263 ">
                                       <p><code class="codeph">VARCHAR2（100）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d31699e3447 d31699e3266 ">
                                       <p>数据类型或掩码选项值。例如：</p>
                                       <p>' <code class="codeph">USAGE COMP-4</code> '</p>
                                       <p>' <code class="codeph">DISPLAY</code> '</p>
                                       <p><code class="codeph">空值</code></p>
                                       <p>最大长度=&gt;任意选择</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1342"></a><a id="APPUG1092"></a><div class="props_rev_3"><a id="GUID-41444509-D231-4CA1-B0AF-25060EE8F589" name="GUID-41444509-D231-4CA1-B0AF-25060EE8F589"></a><h5 id="APPUG-GUID-41444509-D231-4CA1-B0AF-25060EE8F589" class="sect5">pga_data_attr</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_data_attr</code>表定义了PGA允许的所有可能的数据属性名称，并将每个属性名称与数字和类型相关联，通过该数字和类型可以从<code class="codeph">pga_data_values</code>选择特定数据项的此属性的值。
                           </p>
                           <p>在定义新数据项时， <code class="codeph">pga_data_attr</code>表还用于数据属性的完整性检查。
                           </p>
                           <p><code class="codeph">pga_data_attr</code>表中有一个条目用于任何PGA支持的数据项可能涉及的每个可能的属性名称。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-41444509-D231-4CA1-B0AF-25060EE8F589__G646365" title="这个3列表显示了pga_data_attr的列，类型和内容信息">表A-21</a>此3列表显示了<code class="codeph">pga_data_attr</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-41444509-D231-4CA1-B0AF-25060EE8F589__G646365">
                           <p class="titleintable">表A-21 pga_data_attr</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_data_attr" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_data_attr" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d31699e3554">柱</th>
                                    <th align="left" valign="bottom" width="24%" id="d31699e3557">类型</th>
                                    <th align="left" valign="bottom" width="60%" id="d31699e3560">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3565" headers="d31699e3554 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d31699e3565 d31699e3557 ">
                                       <p><code class="codeph">VARCHAR2（16）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3565 d31699e3560 ">
                                       <p>属性的字符串名称。</p>
                                       <p>首要的关键。</p>
                                       <p>包含：</p><pre class="oac_no_warn" dir="ltr">“LEVEL”“RENAMEMF”（首先重命名成员）“RENAMEML”（最后重命名成员）“REMAPSMF”（首先重新定义成员）“REMAPSML”（最后重新定义成员）“REMAPSWM”（重新定义成员时）“REMAPSWC”（重新定义为char时）值）“REMAPSWN”（当num值时重新定义）“REPGRPFF”（出现n）“REPGRPVF”（odo first n）“REPGRPVL”（odo last n）“REPGRPVM”（odo依赖成员）“REPGRPKA”（要么是关键的Asc名称） ）“REPGRPKD”（密钥描述名称）“REPGRPIX”（索引名称）“PLSTYPE”“JUST”（对齐的char数据）“SYNC”（对齐的聚合数据）“LOCAL_LANGUAGE”“REMOTE_LANGUAGE”“LENGTH”（LENGTH是可变的） ）最大长度=&gt; attr名称字符串长度</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3583" headers="d31699e3554 ">
                                       <p><code class="codeph">ATTR＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d31699e3583 d31699e3557 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3583 d31699e3560 ">
                                       <p>已分配属性ID。</p>
                                       <p>外键。</p>
                                       <p>pga_data_values（ATTR＃）。从插入PG DD的每个受支持数据属性的Oracle序列对象设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3599" headers="d31699e3554 ">
                                       <p><code class="codeph">coltype</code></p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d31699e3599 d31699e3557 ">
                                       <p><code class="codeph">VARCHAR2（4）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3599 d31699e3560 ">
                                       <p>从pga_data_values中检索属性值的Oracle列的类型。例如：</p>
                                       <p>' <code class="codeph">NUM ' =&gt; pga_data_values(numval)</code></p>
                                       <p>' <code class="codeph">CHAR'=&gt; pga_data_values(charval</code> <code class="codeph">)</code></p>
                                       <p>' <code class="codeph">DATE' =&gt; pga_data_values(dateval)</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3625" headers="d31699e3554 ">
                                       <p><code class="codeph">需要</code></p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d31699e3625 d31699e3557 ">
                                       <p><code class="codeph">炭（1）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d31699e3625 d31699e3560 ">
                                       <p>如果不为null，则为必需关键字。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="APPUG1343"></a><a id="APPUG1093"></a><div class="props_rev_3"><a id="GUID-0202397B-7EFA-4043-95BA-7A95E418B2F0" name="GUID-0202397B-7EFA-4043-95BA-7A95E418B2F0"></a><h5 id="APPUG-GUID-0202397B-7EFA-4043-95BA-7A95E418B2F0" class="sect5">pga_data_values</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">pga_data_values</code>表中存在一行，用于每个数据定义定义的每个数据项的每个属性。
                           </p>
                           <p><a href="oracle-database-gateway-appc-data-dictionary.html#GUID-0202397B-7EFA-4043-95BA-7A95E418B2F0__G646389" title="这个3列表显示了pga_data_values的列，类型和内容信息">表A-22</a>这个3列表显示了<code class="codeph">pga_data_values</code>的列，类型和内容信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-0202397B-7EFA-4043-95BA-7A95E418B2F0__G646389">
                           <p class="titleintable">表A-22 pga_data_values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="pga_data_values" width="100%" border="1" summary="This 3-column table presents the column, type and content information for pga_data_values" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d31699e3703">柱</th>
                                    <th align="left" valign="bottom" width="19%" id="d31699e3706">类型</th>
                                    <th align="left" valign="bottom" width="65%" id="d31699e3709">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3714" headers="d31699e3703 ">
                                       <p><code class="codeph">FLD＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3714 d31699e3706 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3714 d31699e3709 ">
                                       <p>来自pga_data（fld＃）的数据字段定义编号。首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3726" headers="d31699e3703 ">
                                       <p><code class="codeph">ATTR＃</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3726 d31699e3706 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3726 d31699e3709 ">
                                       <p>来自<code class="codeph">pga_data_attr(attr#)</code>属性id。
                                       </p>
                                       <p>首要的关键。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3743" headers="d31699e3703 ">
                                       <p><code class="codeph">numval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3743 d31699e3706 ">
                                       <p><code class="codeph">号（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3743 d31699e3709 ">
                                       <p>属性的数值。例如：</p><pre class="oac_no_warn" dir="ltr">“REMGRSWN”的“LEVEL”号码号码（重新定义）“REPGRPFF”号码（发生n）“REPGRPVL”（odo first n）号码“REPGRPVL”号码（odo last n）</pre><p>如果是非数字属性，则此项为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3762" headers="d31699e3703 ">
                                       <p><code class="codeph">charval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3762 d31699e3706 ">
                                       <p><code class="codeph">VARCHAR2（40）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3762 d31699e3709 ">
                                       <p>属性的字符值。</p><pre class="oac_no_warn" dir="ltr">fname为“RENAMEML”（重命名为）fname为“REMENSEMF”（重新定义最后一个）fname为“REMAPSM”（重新定义第一个）fname为“REMAPSML”（重新定义最后一个）fname为“REMAPSWM”（重新定义时间）fname为“REPGRPVM”（ odo成员）“REMAPSWC”的字符串（重新定义）“REPGRPKA”（发生密钥）字符串“REPGRPK”（发生密钥）字符串“REPGRPIX”（发生索引）字符串“PLSTYPE”（PL / SQL数据类型） “JUST”字符串“SYNC”字符串“REMOTE_LANGUAGE”fname为“LENGTH”</pre><p>如果是非字符属性，则此项为<code class="codeph">NULL</code> 。</p>
                                       <p>最大长度=&gt; NLS_charset字符串长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3783" headers="d31699e3703 ">
                                       <p><code class="codeph">dateval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3783 d31699e3706 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3783 d31699e3709 ">
                                       <p>属性的日期值。始终为null，包括完整性。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d31699e3795" headers="d31699e3703 ">
                                       <p><code class="codeph">QUAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d31699e3795 d31699e3706 ">
                                       <p><code class="codeph">数字（9,0）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d31699e3795 d31699e3709 ">
                                       <p>合格的姓名。</p>
                                       <p>外键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p></p>
                           <p></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13579.writing-Pro-FORTRAN-program.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>编写Pro * FORTRAN程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Supplement to the Oracle Precompilers Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Supplement to the Oracle Precompilers Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="fortran-supplement-oracle-precompilers.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T01:30:46-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96472-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="error-handling-and-diagnostics.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*FORTRAN Supplement to the Oracle Precompilers"></meta>
    <meta name="dcterms.isVersionOf" content="ZZFOR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="error-handling-and-diagnostics.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Oracle预编译器指南的补充</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">编写Pro * FORTRAN程序</li>
            </ol>
            <a id="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE" name="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE"></a><a id="ZZFOR107"></a>
            
            <h2 id="ZZFOR-GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE" class="sect2"><span class="enumeration_chapter">1</span>编写Pro * FORTRAN程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章提供了编写Pro * FORTRAN程序的基本信息：</p>
               <div class="infoboxnote" id="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE__GUID-3079AA62-879C-4F9D-B369-5B5465F63B48">
                  <p class="notep1">注意：</p>
                  <p>64位Oracle数据库安装不支持Pro * Fortran预编译器。</p>
                  <p>Pro * Fortran预编译器仅在Oracle Database 32位客户端安装中受支持且可用。</p>
               </div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-39755AD8-642E-4522-87CC-007EF146D2DF">编程指南</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3">必需的声明和SQL语句</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF">主机变量名称</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-379B5871-299B-4D07-9C25-C86FF1986FF8">主机变量的范围</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004">主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD">关于引用主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B">指标变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE">主机阵列</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60">VARCHAR主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8">关于处理字符数据</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-B567760E-18C0-4C00-A520-68F64507591A">Oracle数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-B1D58589-9169-4A8B-9B0F-4D4233517784">数据类型转换</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A">数据类型等价</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382">嵌入PL / SQL</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C">关于声明游标变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3">连接到Oracle</a></p>
                  </li>
               </ul>
            </div><a id="ZZFOR108"></a><div class="props_rev_3"><a id="GUID-39755AD8-642E-4522-87CC-007EF146D2DF" name="GUID-39755AD8-642E-4522-87CC-007EF146D2DF"></a><h3 id="ZZFOR-GUID-39755AD8-642E-4522-87CC-007EF146D2DF" class="sect3"><span class="enumeration_section">1.1</span>编程指南</h3>
               <div>
                  <p>本节介绍嵌入式SQL语法，编码约定以及FORTRAN特定的功能和限制。主题按字母顺序排列。</p>
               </div>
               <div class="props_rev_3"><a id="GUID-39663C50-B662-43B2-98E6-517B88576F64" name="GUID-39663C50-B662-43B2-98E6-517B88576F64"></a><h4 id="ZZFOR-GUID-39663C50-B662-43B2-98E6-517B88576F64" class="sect4"><span class="enumeration_section">1.1.1</span> 32位对64位</h4>
                  <div>
                     <div class="section">
                        <p>64位Oracle环境不支持Pro * Fortran预编译器。</p>
                        <p>Pro * Fortran预编译器仅在Oracle Database 32位客户端安装中受支持且可用。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR109"></a><div class="props_rev_3"><a id="GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B" name="GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B"></a><h4 id="ZZFOR-GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B" class="sect4"><span class="enumeration_section">1.1.2</span>区分大小写</h4>
                  <div>
                     <div class="section">
                        <p>虽然标准的FORTRAN字符集不包括小写字母字符，但许多编译器允许它们使用标识符，注释和引用的文字。</p>
                        <p>Pro * FORTRAN预编译器不区分大小写;但是，有些编译器是。如果编译器区分大小写，则必须以相同的大写/小写格式声明和引用变量。检查您的FORTRAN编译器用户指南。</p>
                        <p>您必须在第7列到第72列中编写EXEC SQL和EXEC ORACLE语句（忽略第73到80列）。其他列用于以下目的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第1列可以指示注释行，也可以是可选语句标签的一部分。</p>
                           </li>
                           <li>
                              <p>第2列到第5列可以包含可选的语句标签。</p>
                           </li>
                           <li>
                              <p>第6列表示连续线。</p>
                           </li>
                        </ul>
                        <p>在某些系统上，支持<span class="italic">终端格式</span> ;也就是说，条目不限于某些列。在本手册中，程序片段和示例程序采用ANSI格式（FORMAT = ANSI）。
                        </p>
                        <p>一行中只能出现一个语句。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR110"></a><div class="props_rev_3"><a id="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0" name="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0"></a><h4 id="ZZFOR-GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0" class="sect4"><span class="enumeration_section">1.1.3</span>评论</h4>
                  <div>
                     <p>您可以在SQL语句中放置FORTRAN注释行。FORTRAN注释行以字母C开头或第1列以星号（*）开头。您可以在行末尾的SQL语句中放置ANSI SQL样式的注释（ -   -  ...），也可以在SQL语句中放置C样式的注释（/ * ... * /）。</p>
                     <p>以下示例显示了所有三种注释样式：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ENAME，SAL C将列值分配给主机变量。1 INTO：ENAM，：ESAL  - 输出主变量2 FROM EMP 3 / *在4搜索条件下使用输入主变量* / 5 WHERE DEPTNO =：DNUM</pre><div class="infoboxnote" id="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0__GUID-99FBF62B-A1BE-4C22-A6E0-563CE17E5763">
                        <p class="notep1">注意：</p>
                        <p>你不能嵌套评论。空行被视为注释，但持续的语句中是<span class="italic">不允许</span>的。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR111"></a><div class="props_rev_3"><a id="GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC" name="GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC"></a><h4 id="ZZFOR-GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC" class="sect4"><span class="enumeration_section">1.1.4</span>延续线</h4>
                  <div>
                     <p>根据FORTRAN的规则，您可以将SQL语句从一行继续到下一行。要编写连续行，请在第6列中放置非零非空字符。在本手册中，数字用作连续字符，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT EMPNO，ENAME，JOB，SAL 1 INTO：ENUM，：ENAM，：EJOB，：ESAL 2 FROM EMP 3 WHERE DEPTNO =：DNUM</pre><p>要将字符串文字从一行继续到下一行，请通过第72列对文字进行编码。在下一行，编写一个连续字符和文字的其余部分。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*执行动态SQL语句。EXEC SQL EXECUTE IMMEDIATE'更新EMP设置COMM = 500 WHERE 1 DEPTNO = 20'</pre><p>大多数FORTRAN实现允许多达19个连续行。检查您的FORTRAN编译器用户指南。</p>
                  </div>
               </div><a id="ZZFOR112"></a><div class="props_rev_3"><a id="GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9" name="GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9"></a><h4 id="ZZFOR-GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9" class="sect4"><span class="enumeration_section">1.1.5</span>分隔符</h4>
                  <div>
                     <p>虽然FORTRAN不需要空格来分隔关键字，但您必须使用空格来分隔SQL语句中的关键字。FORTRAN使用撇号来分隔字符串文字，如</p><pre class="oac_no_warn" dir="ltr">*显示员工姓名。IF（ENAM。LT。 'ZZZZZ'）然后打印*，'员工姓名：'，ENAM END IF</pre><p>SQL还使用撇号来分隔字符串文字，如</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT ENAME，SAL 1 INTO：ENAM，：ESAL 2 FROM EMP 3 WHERE JOB ='CLERK'</pre><p>SQL还使用引号来分隔包含特殊或小写字符的标识符。</p>
                  </div>
               </div><a id="ZZFOR113"></a><div class="props_rev_3"><a id="GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C" name="GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C"></a><h4 id="ZZFOR-GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C" class="sect4"><span class="enumeration_section">1.1.6</span>嵌入式SQL语法</h4>
                  <div>
                     <p>要在宿主程序中使用SQL语句，请在SQL语句前加上EXEC SQL子句。<a href="../lnpcc/introduction.html#LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span class="italic">Pro * C / C ++程序员指南中</span></a>介绍了嵌入式SQL语法。预编译器将所有EXEC SQL语句转换为对运行时库SQLLIB的调用。</p>
                  </div>
               </div><a id="ZZFOR114"></a><div class="props_rev_3"><a id="GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B" name="GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B"></a><h4 id="ZZFOR-GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B" class="sect4"><span class="enumeration_section">1.1.7</span>文件长度</h4>
                  <div>
                     <p>Pro * FORTRAN预编译器无法处理任意长的源文件。内部使用的一些变量限制了生成的文件的大小。允许的行数没有绝对限制，但源文件的以下方面是文件大小约束的影响因素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>嵌入式SQL语句的复杂性（例如，绑定和定义变量的数量）</p>
                        </li>
                        <li>
                           <p>是否使用数据库名称（例如，连接到具有AT子句的数据库）</p>
                        </li>
                        <li>
                           <p>嵌入式SQL语句的数量</p>
                        </li>
                     </ul>
                     <p>要防止与此限制相关的问题，请使用多个程序单元根据需要减小源文件的大小。</p>
                  </div>
               </div><a id="ZZFOR115"></a><div class="props_rev_3"><a id="GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3" name="GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3"></a><h4 id="ZZFOR-GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3" class="sect4"><span class="enumeration_section">1.1.8</span>文件命名限制</h4>
                  <div>
                     <p>避免使用以“sql”开头的文件名，因为可能会发生错误。例如，如果将文件命名为SQLERROR.PFO，则某些链接器会返回名称冲突，因为会有一个名为SQLERD的数组和一个名为SQLERD的公共块。</p>
                  </div>
               </div><a id="ZZFOR116"></a><div class="props_rev_3"><a id="GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA" name="GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA"></a><h4 id="ZZFOR-GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA" class="sect4"><span class="enumeration_section">1.1.9</span> FORTRAN版本</h4>
                  <div>
                     <p>Pro * FORTRAN预编译器支持操作系统的FORTRAN标准实现（通常为FORTRAN 77）。有关更多信息，请参阅Oracle系统特定的文档。</p>
                  </div>
               </div>
            </div><a id="ZZFOR117"></a><div class="props_rev_3"><a id="GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3" name="GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3"></a><h3 id="ZZFOR-GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3" class="sect3"><span class="enumeration_section">1.2</span>必需的声明和SQL语句</h3>
               <div>
                  <p>在Oracle和应用程序之间传递数据需要主机变量和事件处理。本节介绍如何满足这些要求。</p>
               </div><a id="ZZFOR118"></a><div class="props_rev_3"><a id="GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272" name="GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272"></a><h4 id="ZZFOR-GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272" class="sect4"><span class="enumeration_section">1.2.1</span>申报部分</h4>
                  <div>
                     <p>您必须在<span class="italic">声明部分</span>中<span class="italic">声明</span>要在SQL语句中使用的所有程序变量，该<span class="italic">部分</span>以该语句开头</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION</pre><p>并以声明结束</p><pre class="oac_no_warn" dir="ltr">EXEC SQL END DECLARE SECTION</pre><p>在这两个语句之间只允许以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>主变量和指标变量声明</p>
                        </li>
                        <li>
                           <p>EXEC SQL DECLARE语句</p>
                        </li>
                        <li>
                           <p>EXEC SQL INCLUDE语句</p>
                        </li>
                        <li>
                           <p>EXEC SQL VAR语句</p>
                        </li>
                        <li>
                           <p>EXEC ORACLE声明</p>
                        </li>
                        <li>
                           <p>FORTRAN评论</p>
                        </li>
                     </ul>
                     <p>在Pro * FORTRAN源文件中，多个程序单元可以包含SQL语句。因此，每个预编译单元允许多个Declare Sections。此外，Pro * FORTRAN程序可以包含多个文件。</p>
                  </div>
               </div><a id="ZZFOR119"></a><div class="props_rev_3"><a id="GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E" name="GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E"></a><h4 id="ZZFOR-GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E" class="sect4"><span class="enumeration_section">1.2.2</span>使用INCLUDE语句</h4>
                  <div>
                     <div class="section">
                        <p>FORTRAN INCLUDE由FORTRAN编译器处理，而EXEC SQL INCLUDE语句由Pro * FORTRAN处理，以将文件复制到主机程序中，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*复制到SQL通信区域（SQLCA）*和Oracle通信区域（ORACA）。EXEC SQL包含SQLCA EXEC SQL包含ORACA</pre><p>您可以包含任何文件。预编译Pro * FORTRAN程序时，每个EXEC SQL INCLUDE语句将替换为语句中指定的文件的副本。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR120"></a><div class="props_rev_3"><a id="GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B" name="GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B"></a><h4 id="ZZFOR-GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B" class="sect4"><span class="enumeration_section">1.2.3</span>文件名扩展名</h4>
                  <div>
                     <p>如果您的系统使用文件扩展名但未指定文件扩展名，则Pro * FORTRAN预编译器将采用源文件的默认扩展名（通常为FOR或F）。默认扩展名取决于系统。有关更多信息，请参阅Oracle系统特定的文档。</p>
                  </div>
               </div><a id="ZZFOR121"></a><div class="props_rev_3"><a id="GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83" name="GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83"></a><h4 id="ZZFOR-GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83" class="sect4"><span class="enumeration_section">1.2.4</span>搜索路径</h4>
                  <div>
                     <p>如果系统使用目录，则可以使用INCLUDE预编译器选项为INCLUDE文件设置搜索路径，如下所示：</p><pre class="oac_no_warn" dir="ltr">INCLUDE = <span class="italic">路径</span> 
</pre><p>其中<span class="italic">path</span>默认为当前目录。
                     </p>
                     <p>预编译器首先搜索当前目录，然后搜索INCLUDE选项指定的目录，最后搜索标准INCLUDE文件的目录。您无需为标准文件指定路径，例如SQLCA和ORACA。但是，非标准文件需要一个路径，除非它们存储在当前目录中。</p>
                     <p>您还可以在命令行上指定多个路径，如下所示：</p><pre class="oac_no_warn" dir="ltr">...INCLUDE = &lt;path1&gt; INCLUDE = &lt;path2&gt; ...
</pre><p>指定多个路径时，预编译器首先搜索当前目录，然后搜索<span class="italic">path1</span>目录，然后搜索<span class="italic">path2</span>目录，依此类推。最后搜索包含标准INCLUDE文件的目录。路径语法是特定于系统的。查看系统的Oracle安装或用户指南。
                     </p>
                  </div>
               </div><a id="ZZFOR122"></a><div class="props_rev_3"><a id="GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C" name="GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C"></a><h4 id="ZZFOR-GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C" class="sect4"><span class="enumeration_section">1.2.5</span>注意</h4>
                  <div>
                     <p>请记住，即使您指定了搜索路径，预编译器也会首先在当前目录中搜索文件。如果要包含的文件位于另一个目录中，请确保当前目录或搜索路径中位于其前面的任何其他目录中没有相同名称的文件。此外，如果您的操作系统区分大小写，则必须指定存储文件的相同大写或小写文件名。</p>
                  </div>
               </div><a id="ZZFOR123"></a><div class="props_rev_3"><a id="GUID-5C9DE4AE-EB45-4726-8135-313F97441A18" name="GUID-5C9DE4AE-EB45-4726-8135-313F97441A18"></a><h4 id="ZZFOR-GUID-5C9DE4AE-EB45-4726-8135-313F97441A18" class="sect4"><span class="enumeration_section">1.2.6</span>事件和错误处理</h4>
                  <div>
                     <p>Pro * FORTRAN在检查执行SQL语句的结果时提供向前和向后兼容性。但是，根据MODE和DBMS选项设置，使用SQLCA，SQLCODE和SQLSTATE存在限制。有关更多信息，请参阅<a href="../zzpre/error-handling-diagnostics.html#ZZPRE-GUID-75EB7FA6-5080-44B1-B96D-C542EBB16088" target="_blank">错误处理和诊断</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR124"></a><div class="props_rev_3"><a id="GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF" name="GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF"></a><h3 id="ZZFOR-GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF" class="sect3"><span class="enumeration_section">1.3</span>主机变量名称</h3>
               <div>
                  <p>主机变量名称必须仅包含字母和数字，并且必须以字母开头。它们可以是任意长度，但只有前31个字符才有意义。有些编译器禁止长度超过6个字符的变量名，或者在第6个字符后忽略字符。检查您的FORTRAN编译器用户指南。</p>
               </div><a id="ZZFOR126"></a><a id="ZZFOR127"></a><a id="ZZFOR125"></a><div class="props_rev_3"><a id="GUID-356222B9-304C-4759-A316-C8F75F1DE744" name="GUID-356222B9-304C-4759-A316-C8F75F1DE744"></a><h4 id="ZZFOR-GUID-356222B9-304C-4759-A316-C8F75F1DE744" class="sect4"><span class="enumeration_section">1.3.1</span>逻辑和关系运算符</h4>
                  <div>
                     <div class="section">
                        <p>对于FORTRAN和SQL，逻辑和关系运算符是不同的，分别如下表所示。例如，SQL运算符没有前导和尾随句点，如表1-1和表1-2所示。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-356222B9-304C-4759-A316-C8F75F1DE744__GUID-1946588A-631C-4DF4-A5E6-4F16394BFE6B">
                        <p class="titleintable">表1-1逻辑运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="逻辑运算符" width="100%" border="1" summary="Logical Operators" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="51%" id="d1790e686">SQL运算符</th>
                                 <th align="left" valign="bottom" width="49%" id="d1790e689">FORTRAN运营商</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e694" headers="d1790e686 ">
                                    <p>不</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e694 d1790e689 ">
                                    <p>。不。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e701" headers="d1790e686 ">
                                    <p>和</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e701 d1790e689 ">
                                    <p>。和。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e708" headers="d1790e686 ">
                                    <p>要么</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e708 d1790e689 ">
                                    <p>。要么。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e715" headers="d1790e686 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e715 d1790e689 ">
                                    <p>。EQV。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e722" headers="d1790e686 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e722 d1790e689 ">
                                    <p>。NEQV。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-356222B9-304C-4759-A316-C8F75F1DE744__GUID-C0DB8BAC-99AC-4527-AC69-E67514915CDA">
                        <p class="titleintable">表1-2关系运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="关系运算符" width="100%" border="1" summary="Relational Operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="54%" id="d1790e738">SQL运算符</th>
                                 <th align="left" valign="bottom" width="46%" id="d1790e741">FORTRAN运营商</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e746" headers="d1790e738 ">
                                    <p>=</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e746 d1790e741 ">
                                    <p>。EQ。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e753" headers="d1790e738 ">
                                    <p>&lt;&gt; ,!=，^ =</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e753 d1790e741 ">
                                    <p>。NE。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e760" headers="d1790e738 ">
                                    <p>&gt;</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e760 d1790e741 ">
                                    <p>。GT。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e767" headers="d1790e738 ">
                                    <p>&lt;</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e767 d1790e741 ">
                                    <p>。LT。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e774" headers="d1790e738 ">
                                    <p>&gt; =</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e774 d1790e741 ">
                                    <p>。GE。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e781" headers="d1790e738 ">
                                    <p>&lt;=</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e781 d1790e741 ">
                                    <p>。LE。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>逻辑和关系FORTRAN运营商都<span class="italic">没有</span>在SQL语句中允许的。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR128"></a><div class="props_rev_3"><a id="GUID-6627D368-0853-469D-9022-ED8C2EC82BF0" name="GUID-6627D368-0853-469D-9022-ED8C2EC82BF0"></a><h4 id="ZZFOR-GUID-6627D368-0853-469D-9022-ED8C2EC82BF0" class="sect4"><span class="enumeration_section">1.3.2</span> MAXLITERAL默认值</h4>
                  <div>
                     <div class="section">
                        <p>使用MAXLITERAL预编译器选项，您可以指定预编译器生成的字符串文字的最大长度，以便不超过编译器限制。对于Pro * FORTRAN，默认值为1000，但您可能需要指定较低的值。</p>
                        <p>例如，如果FORTRAN编译器无法处理长度超过512个字符的字符串文字，请指定MAXLITERAL = 512。检查您的FORTRAN编译器用户指南。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR129"></a><div class="props_rev_3"><a id="GUID-59B35440-F071-4A43-BD90-C5130BBFF880" name="GUID-59B35440-F071-4A43-BD90-C5130BBFF880"></a><h4 id="ZZFOR-GUID-59B35440-F071-4A43-BD90-C5130BBFF880" class="sect4"><span class="enumeration_section">1.3.3</span>无效</h4>
                  <div>
                     <p>在SQL中，null表示缺少，未知或不适用的列值;它既不等于零也不等于空白。使用NVL函数将空值转换为非空值，使用IS [NOT] NULL比较运算符搜索空值，并使用指示符变量插入和测试空值。</p>
                  </div>
               </div><a id="ZZFOR130"></a><div class="props_rev_3"><a id="GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4" name="GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4"></a><h4 id="ZZFOR-GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4" class="sect4"><span class="enumeration_section">1.3.4</span>计划单位</h4>
                  <div>
                     <p>在FORTRAN中， <span class="italic">程序单元</span>是功能，子程序或主程序。在Pro * FORTRAN中，输入文件包含一个或多个程序单元。
                     </p>
                     <p>如果程序单元包含SQL语句，则必须</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在其Declare部分中定义所有本地主机变量</p>
                        </li>
                        <li>
                           <p>MODE = {ORACLE | ANSI13}时包含SQLCA</p>
                        </li>
                        <li>
                           <p>当MODE = {ANSI | ANSI14}时，在声明部分内部或外部声明一个名为SQLATA或SQLCOD的变量</p>
                        </li>
                        <li>
                           <p>如果指定ORACA = YES，则包含ORACA</p>
                        </li>
                     </ul>
                     <p>多个程序单元可以包含SQL语句。例如，您可以在一个程序单元中将游标DECLARE，在另一个程序单元中打开它，在另一个程序单元中打开它，并在另一个程序单元中将它关闭，只要它们位于同一文件中，就可以将它关闭。</p>
                  </div>
               </div>
            </div><a id="ZZFOR131"></a><div class="props_rev_3"><a id="GUID-379B5871-299B-4D07-9C25-C86FF1986FF8" name="GUID-379B5871-299B-4D07-9C25-C86FF1986FF8"></a><h3 id="ZZFOR-GUID-379B5871-299B-4D07-9C25-C86FF1986FF8" class="sect3"><span class="enumeration_section">1.4</span>主机变量的范围</h3>
               <div>
                  <p>FORTRAN标识符的范围规则适用于主机变量。在程序单元中声明的主机变量对于该单元是本地的，并且在主程序中声明的主机变量<span class="italic">不是</span>全局的。因此，必须在声明部分的该单元中声明程序单元中使用的所有主变量。
                  </p>
               </div><a id="ZZFOR132"></a><div class="props_rev_3"><a id="GUID-CB98185C-BA60-4D07-BC93-13787B72F22C" name="GUID-CB98185C-BA60-4D07-BC93-13787B72F22C"></a><h4 id="ZZFOR-GUID-CB98185C-BA60-4D07-BC93-13787B72F22C" class="sect4"><span class="enumeration_section">1.4.1</span>声明标签</h4>
                  <div>
                     <p>您可以将FORTRAN数字语句标签（1  -  99999）与SQL语句关联，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*在employee表中插入行。500 EXEC SQL INSERT INTO EMP（EMPNO，ENAME，JOB，DEPTNO）1 VALUES（：ENUM，：ENAM，：EJOB，：DNUM）</pre><p>并且，您可以在WHENEVER DO或WHENEVER GOTO语句中引用语句标签，如下例所示：</p><pre class="oac_no_warn" dir="ltr">*处理SQL执行错误。执行SQL WHENEVER SQLERROR GOTO 900 ...* SQLEMC存储Oracle错误代码和消息。900 WRITE（*，8500）SQLEMC 8500格式（1X，70A1）......
</pre><p>语句标签必须在第1列到第5列中编码，并且<span class="italic">不得</span>出现在连续行中。声明标签可能仅包含字母数字字符;不允许使用特殊字符，下划线（_），连字符（ - ）和美元符号（$）。
                     </p>
                     <p>Pro * FORTRAN预编译器不在生成的代码中使用语句标签。因此，此版本不支持早期Pro * FORTRAN版本中提供的BEGLABEL和ENDLABEL选项，如果找到，将返回信息性消息。</p>
                  </div>
               </div><a id="ZZFOR133"></a><div class="props_rev_3"><a id="GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F" name="GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F"></a><h4 id="ZZFOR-GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F" class="sect4"><span class="enumeration_section">1.4.2</span>语句终结符</h4>
                  <div>
                     <p>嵌入式SQL语句由行尾终止，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*删除员工。EXEC SQL从EMP中删除EMPNO =：ENUM</pre><p>但是，下一行的延续字符会覆盖行尾。</p>
                  </div>
               </div>
            </div><a id="ZZFOR134"></a><div class="props_rev_3"><a id="GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004" name="GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004"></a><h3 id="ZZFOR-GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004" class="sect3"><span class="enumeration_section">1.5</span>主机变量</h3>
               <div>
                  <p>主机变量是主机程序与Oracle之间通信的关键。通常，主机程序将数据输入Oracle，Oracle将数据输出到程序。Oracle将输入数据存储在数据库列中，并将输出数据存储在程序主变量中。</p>
               </div><a id="ZZFOR135"></a><div class="props_rev_3"><a id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898" name="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898"></a><h4 id="ZZFOR-GUID-12420FAA-2E0F-4894-8B9B-760CE8631898" class="sect4"><span class="enumeration_section">1.5.1</span>声明主机变量</h4>
                  <div>
                     <p>使用Oracle支持的FORTRAN数据类型，根据FORTRAN规则声明主机变量。FORTRAN数据类型必须与源/目标数据库列兼容。支持的FORTRAN数据类型如下表所示。还支持一维FORTRAN类型的数组。</p>
                     <div class="tblformal" id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898__GUID-83E792D2-0EEE-46F4-8727-7BCADEAA9372">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable declaration" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d1790e1021">变量声明</th>
                                 <th align="left" valign="bottom" width="50%" id="d1790e1024">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1029" headers="d1790e1021 ">
                                    <p>BYTE <span class="italic">var</span> CHARACTER <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1029 d1790e1024 ">
                                    <p>单个字符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1041" headers="d1790e1021 ">
                                    <p>CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER * <span class="italic">n var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1041 d1790e1024 ">
                                    <p><span class="italic">n</span>字节字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1058" headers="d1790e1021 ">
                                    <p>CHARACTER（*） <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1058 d1790e1024 ">
                                    <p>字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1067" headers="d1790e1021 ">
                                    <p>INTEGER <span class="italic">var</span> INTEGER * 2 <span class="italic">var</span> INTEGER * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1067 d1790e1024 ">
                                    <p>default-length integer 2字节整数4字节整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1082" headers="d1790e1021 ">
                                    <p>LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1082 d1790e1024 ">
                                    <p>单字符2字节字符串4字节字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1100" headers="d1790e1021 ">
                                    <p>REAL <span class="italic">var</span> REAL * 4 <span class="italic">var</span> REAL * 8 <span class="italic">var</span> DOUBLE PRECISION <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1100 d1790e1024 ">
                                    <p>4字节实数8字节实数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1118" headers="d1790e1021 ">
                                    <p>VARCHAR * <span class="italic">n</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1118 d1790e1024 ">
                                    <p>&lt;= 32765字节，可变长度字符串（3）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1127" headers="d1790e1021 ">
                                    <p>SQLCURSOR</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1127 d1790e1024 ">
                                    <p>游标变量</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><span class="bold">备注</span> ：</p>
                     <ol>
                        <li>
                           <p>FORTRAN数字类型的大小取决于实现。表中给出的尺寸是典型的，但不是通用的。检查您的FORTRAN编译器用户指南。</p>
                        </li>
                        <li>
                           <p>CHARACTER（*）变量没有预定长度。它们用于在子例程声明中指定伪参数。LEN内部函数返回实际参数的最大长度。</p>
                        </li>
                        <li>
                           <p>使用VARCHAR * <span class="italic">n</span>声明的变量（不是FORTRAN的本机变量）被赋予VARCHAR外部数据类型。有关更多信息，请参阅“声明VARCHAR变量”。
                           </p>
                        </li>
                     </ol>
                     <p>下表列出了兼容的Oracle内部数据类型。</p>
                     <div class="tblformal" id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898__GUID-E24A59E2-B7ED-4043-8F4B-BA696B7BB7FD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="internal type" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e1161">内部类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e1164">FORTRAN类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e1167">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1172" headers="d1790e1161 ">
                                    <p>CHAR（ <span class="italic">x</span> ）（1）VARCHAR2（ <span class="italic">y</span> ）（1）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1172 d1790e1164 ">
                                    <p>字符字符* <span class="italic">n</span> VARCHAR * <span class="italic">n var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1172 d1790e1167 ">
                                    <p>单字符可变长度字符串可变长度字符串可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1199" headers="d1790e1161 ">
                                    <p>编号（ <span class="italic">p</span> ， <span class="italic">s</span> ）（2）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1199 d1790e1164 ">
                                    <p>CHARACTER * <span class="italic">n</span> <span class="italic">var</span> CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER（*）DOUBLE PRECISION INTEGER INTEGER * 2 INTEGER * 4 LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span> REAL REAL * 4 REAL * 8 VARCHAR * <span class="italic">n</span> <span class="italic">var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1199 d1790e1167 ">
                                    <p><span class="italic">n</span>字节字符串（3）字符串（作为参数）8字节浮点数整数（默认大小）2字节整数4字节整数单字符2字节字符串4字节字符串浮点数4字节浮点数数字8字节浮点数可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1251" headers="d1790e1161 ">
                                    <p>日期（4）LONG RAW（1）LONG RAW（*）MLSLABEL（6）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1251 d1790e1164 ">
                                    <p>CHARACTER * <span class="italic">n var</span> CHARACTER * <span class="italic">n var</span> VARCHAR * <span class="italic">n var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1251 d1790e1167 ">
                                    <p><span class="italic">n</span>字节字符串<span class="italic">n</span>字节变长字符串变长字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1280" headers="d1790e1161 ">
                                    <p>光标</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1280 d1790e1164 ">
                                    <p>SQLCURSOR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1280 d1790e1167 ">
                                    <p>游标变量</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><span class="bold">备注</span> ：</p>
                     <ol>
                        <li>
                           <p><span class="italic">x的</span>范围是1到255，默认值是1。 <span class="italic">y的</span>范围是1到2000。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">p的</span>范围为2至38. <span class="italic">s的</span>范围为-84至127。
                           </p>
                        </li>
                        <li>
                           <p>只有当字符串由可转换字符组成时，字符串才能转换为NUMBER个字符 -  0到9，句点（。），+， - ，E，e。系统的NLS设置可能会将小数点从句点（。）更改为逗号（，）。</p>
                        </li>
                        <li>
                           <p>转换为字符串类型时，DATE的默认大小取决于对系统有效的NLS设置。转换为二进制值时，长度为7个字节。</p>
                        </li>
                        <li>
                           <p>转换为字符串类型时，ROWID需要18到256个字节。</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="ZZFOR136"></a><div class="props_rev_3"><a id="GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444" name="GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444"></a><h4 id="ZZFOR-GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444" class="sect4"><span class="enumeration_section">1.5.2</span>示例声明</h4>
                  <div>
                     <p>在以下示例中，声明了几个主机变量以便稍后在Pro * FORTRAN程序中使用：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL INTEGER * 2 DNUM CHARACTER * 15 DNAM EXEC SQL END DECLARE SECTION</pre><p>您还可以声明一维FORTRAN类型数组，如下一个示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（100）CHARACTER * 10 ENAM（100）REAL * 4 ESAL（100）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR137"></a><div class="props_rev_3"><a id="GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12" name="GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12"></a><h4 id="ZZFOR-GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12" class="sect4"><span class="enumeration_section">1.5.3</span>重复定义</h4>
                  <div>
                     <p>您可以对数据类型使用重复定义，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 ESAL，ECOM，EBON EXEC SQL END DECLARE SECTION</pre><p>这相当于</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 ESAL REAL * 4 ECOM REAL * 4 EBON EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR138"></a><div class="props_rev_3"><a id="GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A" name="GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A"></a><h4 id="ZZFOR-GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A" class="sect4"><span class="enumeration_section">1.5.4</span>初始化</h4>
                  <div>
                     <p>虽然没有必要在Declare Section中初始化主变量，但可以使用FORTRAN DATA语句初始化主变量，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 MINSAL REAL * 4 MAXSAL DATA MINSAL，MAXSAL /1000.00,5000.00 / EXEC SQL END DECLARE SECTION</pre><p>DATA语句必须在第一个可执行FORTRAN语句之前，但在任何变量和PARAMETER声明之后。稍后在程序中，您可以更改由DATA语句初始化的变量的值。但是，您不能重用DATA语句来重置更改的值。</p>
                  </div>
               </div><a id="ZZFOR139"></a><div class="props_rev_3"><a id="GUID-1F086982-7926-4141-B1E9-D213805A107C" name="GUID-1F086982-7926-4141-B1E9-D213805A107C"></a><h4 id="ZZFOR-GUID-1F086982-7926-4141-B1E9-D213805A107C" class="sect4"><span class="enumeration_section">1.5.5</span>常数</h4>
                  <div>
                     <p>您可以在Declare Section内部或外部使用FORTRAN PARAMETER语句为主变量分配常量值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD PARAMETER（UID ='AAAAA'，PWD ='BBBBB'）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR140"></a><div class="props_rev_3"><a id="GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818" name="GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818"></a><h4 id="ZZFOR-GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818" class="sect4"><span class="enumeration_section">1.5.6</span> COMMON块</h4>
                  <div>
                     <p>使用FORTRAN COMMON语句，可以将主变量和数组保存在公共存储区域中，就像它们是全局定义的一样，这样您就可以在不同的程序单元中使用它们的值。COMMON语句必须出现<span class="italic">在</span> Declare Section <span class="italic">之外</span> ，并且出现在第一个可执行FORTRAN语句之前，但是在变量声明之后。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL REAL * 4 ECOM EXEC SQL END DECLARE SECTION *定义COMMON块。COMMON / EMPBLK / ENUM，ESAL，ECOM</pre><p>在此示例中，EMPBLK是COMMON块名称。COMMON块，子例程和函数的名称是FORTRAN程序中唯一全局定义的标识符。您应该避免使用空白COMMON块。</p>
                     <p>您可以通过在这些单元中重新定义COMMON块，使其可用于其他程序单元。必须在使用块的所有单元中的COMMON块中重复变量的类型声明。</p>
                     <p>只有COMMON块中变量的顺序和数据类型才重要，而不是它们的名称。因此，变量名称可能因单元而异。但是，在每次出现COMMON块时，对相应的变量使用相同的名称是一种很好的编程习惯。</p>
                     <p>以下限制适用于COMMON块：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能将VARCHAR变量放在COMMON块中。</p>
                        </li>
                        <li>
                           <p>无法在COMMON语句中标注主机数组的大小。</p>
                        </li>
                        <li>
                           <p>您不能使用DATA语句初始化空白COMMON块中的变量。</p>
                        </li>
                        <li>
                           <p>对于大多数编译器，CHARACTER变量必须出现在它们自己的COMMON块中;也就是说，它们不能与COMMON块中的其他变量混合使用。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ZZFOR141"></a><div class="props_rev_3"><a id="GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3" name="GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3"></a><h4 id="ZZFOR-GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3" class="sect4"><span class="enumeration_section">1.5.7</span>等同声明</h4>
                  <div>
                     <p>使用FORTRAN EQUIVALENCE语句，您可以为同一存储位置使用两个或更多主机变量名称。EQUIVALENCE语句必须出现在第一个可执行FORTRAN语句之前。</p>
                     <p>您只能将CHARACTER变量等效于其他CHARACTER变量。你<span class="italic">不能</span>等价VARCHAR变量。
                     </p>
                  </div>
               </div><a id="ZZFOR142"></a><div class="props_rev_3"><a id="GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E" name="GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E"></a><h4 id="ZZFOR-GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E" class="sect4"><span class="enumeration_section">1.5.8</span>子程序的特殊要求</h4>
                  <div>
                     <p>您必须在程序单元的Declare部分中显式声明主机变量，并在SQL语句中使用它们。因此，传递给子例程并在子例程中的SQL语句中使用的变量必须在子例程Declare Section中声明，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">...CALL LOGON（UID，PWD）......SUBROUTINE LOGON（UID，PWD）*在子程序中声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 10 UID CHARACTER * 10 PWD EXEC SQL END DECLARE SECTION ...EXEC SQL CONNECT：UID标识者：PWD WRITE（*，1000）UID 1000 FORMAT（/，'作为用户连接到Oracle：'，A10，/）返回END</pre></div>
               </div><a id="ZZFOR144"></a><a id="ZZFOR145"></a><a id="ZZFOR143"></a><div class="props_rev_3"><a id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196" name="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196"></a><h4 id="ZZFOR-GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196" class="sect4"><span class="enumeration_section">1.5.9</span>限制</h4>
                  <div>
                     <p>以下限制适用于声明：</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196__GUID-EB1946A7-15A2-4A1D-8F4C-2DCF3F262D71">隐含声明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>FORTRAN允许隐式声明INTEGER和REAL变量。除非另有明确声明，否则假定以I，J，K，L，M或N开头的标识符为INTEGER类型，并且假定其他标识符为REAL类型。</p>
                        <p>然而，主机变量的隐式声明是<span class="italic">不允许</span>的;它会在预编译时触发“未声明的主机变量”错误消息。必须在Declare Section中定义SQL语句中引用的每个变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196__GUID-EFD5BE86-4636-4716-ADCD-60A3C7A90043">复数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这些是包括实部和虚部的数字。在FORTRAN中，使用数据类型COMPLEX表示复数。但是，Pro * FORTRAN <span class="italic">不</span>支持在SQL语句中使用COMPLEX主机变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ZZFOR146"></a><div class="props_rev_3"><a id="GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD" name="GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD"></a><h3 id="ZZFOR-GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD" class="sect3"><span class="enumeration_section">1.6</span>关于引用主机变量</h3>
               <div>
                  <p>您在SQL数据操作语句中使用主机变量。主机变量必须在SQL语句中以冒号（:)为前缀，但不能在FORTRAN语句中以冒号为前缀，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL CHARACTER * 10 EJOB EXEC SQL END DECLARE SECTION ...WRITE（*，3100）3100 FORMAT（'输入员工编号：'）READ（*，3200）ENUM 3200 FORMAT（I4）EXEC SQL SELECT ENAME，SAL，JOB 1 INTO：ENAM，：ESAL，：EJOB 2 FROM EMP 3 EMPNO =：ENUM BONUS = ESAL / 10 ......
</pre><p>虽然它可能令人困惑，但您可以为主机变量提供与Oracle表或列相同的名称，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT ENAME，SAL 1 INTO：ENAM，：ESAL 2来自EMP 3，其中EMPNO =：ENUM</pre></div><a id="ZZFOR147"></a><div class="props_rev_3"><a id="GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682" name="GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682"></a><h4 id="ZZFOR-GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682" class="sect4"><span class="enumeration_section">1.6.1</span>限制</h4>
                  <div>
                     <p>主机变量不能替换SQL语句中的列，表或其他Oracle对象，也不能是Oracle保留字。有关<a href="../zzpre/Oracle-reserved-words-keywords-namespaces.html#ZZPRE-GUID-7ECD5BA3-BDE2-4729-9430-CD41F06745F5" target="_blank">Oracle</a>保留字和关键字的列表，请参阅<a href="../zzpre/Oracle-reserved-words-keywords-namespaces.html#ZZPRE-GUID-7ECD5BA3-BDE2-4729-9430-CD41F06745F5" target="_blank">Oracle保留字，关键字和命名空间</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR148"></a><div class="props_rev_3"><a id="GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B" name="GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B"></a><h3 id="ZZFOR-GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B" class="sect3"><span class="enumeration_section">1.7</span>指标变量</h3>
               <div>
                  <p>您可以使用指示符变量向Oracle提供有关主机变量状态的信息，或监视从Oracle返回的数据的状态。指示符变量始终与主变量相关联。</p>
                  <p>您可以在VALUES或SET子句中使用指示符变量将空值分配给输入主变量，并在INTO子句中使用指示变量来检测输出主变量中的空值或截断值。</p>
               </div><a id="ZZFOR149"></a><div class="props_rev_3"><a id="GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5" name="GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5"></a><h4 id="ZZFOR-GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5" class="sect4"><span class="enumeration_section">1.7.1</span>声明指标变量</h4>
                  <div>
                     <p>必须在Declare Section中将指示符变量显式声明为2字节整数（INTEGER * 2），并且不能是Oracle保留字。在以下示例中，您声明了两个指示符变量（名称IESAL和IECOM是任意的）：</p><pre class="oac_no_warn" dir="ltr">*声明主机和指标变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL REAL * 4 ECOM INTEGER * 2 IESAL INTEGER * 2 IECOM EXEC SQL END DECLARE SECTION</pre><p>您可以在Declare Section中的任何位置定义指示符变量。它不需要遵循其关联的主变量。</p>
                  </div>
               </div><a id="ZZFOR150"></a><div class="props_rev_3"><a id="GUID-48C9F138-3D24-4D72-A695-3FC924D05998" name="GUID-48C9F138-3D24-4D72-A695-3FC924D05998"></a><h4 id="ZZFOR-GUID-48C9F138-3D24-4D72-A695-3FC924D05998" class="sect4"><span class="enumeration_section">1.7.2</span>关于引用指标变量</h4>
                  <div>
                     <p>在SQL语句中，指示符变量必须以冒号为前缀并附加到其关联的主变量。在FORTRAN语句中，指示符变量<span class="italic">不能</span>以冒号为前缀或附加到其关联的主变量。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT SAL，COMM 1 INTO：ESAL，：ECOM：IECOM 2 FROM EMP 3 WHERE EMPNO =：ENUM *当指标变量等于-1时，其关联的*主变量为空。IF（IECOM。EQ。 -1）然后支付= ESAL ELSE PAY = ESAL + ECOM END IF</pre><p>为了提高可读性，可以在任何指示符变量之前加上可选关键字INDICATOR。您仍必须使用冒号为指示符变量添加前缀。正确的语法是</p><pre class="oac_no_warn" dir="ltr">：&lt;host_variable&gt; INDICATOR：&lt;indicator_variable&gt;</pre><p>，相当于</p><pre class="oac_no_warn" dir="ltr">：&lt;host_variable&gt;：&lt;indicator_variable&gt;</pre><p>您可以在宿主程序中使用表达式的两种形式。</p>
                  </div>
               </div><a id="ZZFOR151"></a><div class="props_rev_3"><a id="GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F" name="GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F"></a><h4 id="ZZFOR-GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F" class="sect4"><span class="enumeration_section">1.7.3</span>限制</h4>
                  <div>
                     <p>指示符变量不能在WHERE子句中用于搜索空值。例如，以下DELETE语句在运行时触发Oracle错误：</p><pre class="oac_no_warn" dir="ltr">*设置指标变量。IECOM = -1 EXEC SQL DELETE FROM EMP WHERE COMM =：ECOM：IECOM</pre><p>正确的语法如下：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM EMP WHERE COMM为NULL</pre></div>
               </div><a id="ZZFOR152"></a><div class="props_rev_3"><a id="GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58" name="GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58"></a><h4 id="ZZFOR-GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58" class="sect4"><span class="enumeration_section">1.7.4</span> Oracle限制</h4>
                  <div>
                     <p>当DBMS = V6时，如果SELECT或FETCH将null转换为与指示符变量无关的主变量，则Oracle不会发出错误。但是，当DBMS = V7时，如果SELECT或FETCH将null转换为没有指示符的主机变量，Oracle会发出以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01405：获取的列值为NULL</pre><p>使用MODE = ORACLE和DBMS = V7进行预编译时，可以通过在命令行上指定UNSAFE_NULL = YES来禁用ORA-01405消息。有关更多信息，请参阅<a href="../zzpre/running-Oracle-precompilers.html#ZZPRE-GUID-9BD762BA-BFF8-4B91-8188-8D5E64ADF6A7" target="_blank">UNSAFE_NULL</a> 。</p>
                  </div>
               </div><a id="ZZFOR153"></a><div class="props_rev_3"><a id="GUID-C428E4F4-655C-4518-B905-A2167197472C" name="GUID-C428E4F4-655C-4518-B905-A2167197472C"></a><h4 id="ZZFOR-GUID-C428E4F4-655C-4518-B905-A2167197472C" class="sect4"><span class="enumeration_section">1.7.5</span> ANSI要求</h4>
                  <div>
                     <p>当MODE = ORACLE时，如果SELECT或FETCH将截断的列值转换为与指示符变量无关的主变量，Oracle会发出以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01406：获取的列值被截断</pre><p>但是，当MODE = {ANSI | ANSI14 | ANSI13}时，不会生成错误。指标变量的值在<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议计划要求</a>中讨论。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR154"></a><div class="props_rev_3"><a id="GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE" name="GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE"></a><h3 id="ZZFOR-GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE" class="sect3"><span class="enumeration_section">1.8</span>主机阵列</h3>
               <div>
                  <p>主机阵列可以通过使用单个SQL语句操作整个数据项集合来提高性能。除了少数例外，您可以在允许标量主机变量的任何地方使用主机阵列。并且，您可以将指标数组与任何主机数组相关联。</p>
               </div><a id="ZZFOR155"></a><div class="props_rev_3"><a id="GUID-01F124DA-E77E-4789-B8AE-350C4F04280E" name="GUID-01F124DA-E77E-4789-B8AE-350C4F04280E"></a><h4 id="ZZFOR-GUID-01F124DA-E77E-4789-B8AE-350C4F04280E" class="sect4"><span class="enumeration_section">1.8.1</span>关于声明主机阵列</h4>
                  <div>
                     <p>您在Declare Section中声明和维度主机数组。在以下示例中，声明了三个主机数组，每个主机数组的上限维度为50（下限默认为1）：</p><pre class="oac_no_warn" dir="ltr">*声明和维度主机数组。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）CHARACTER * 10 ENAM（50）REAL * 4 ESAL（50）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR156"></a><div class="props_rev_3"><a id="GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA" name="GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA"></a><h4 id="ZZFOR-GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA" class="sect4"><span class="enumeration_section">1.8.2</span>限制</h4>
                  <div>
                     <p>您无法为主机阵列指定较低的维度范围。例如，以下声明<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*主机阵列EXEC SQL BEGIN DECLARE SECTION的尺寸无效......REAL * 4 VECTOR（0:10）EXEC SQL END DECLARE SECTION</pre><p>多维阵列的主机是<span class="italic">不允许</span>的。因此，以下示例中声明的二维主机数组<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效的主机数组声明EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 MATRIX（50,100）EXEC SQL END DECLARE SECTION</pre><p>您不能使用FORTRAN DIMENSION语句标注主机数组。例如，以下用法<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效使用DIMENSION语句EXEC SQL BEGIN DECLARE SECTION REAL * 4 ESAL REAL * 4 ECOM DIMENSION ESAL（50），ECOM（50）EXEC SQL END DECLARE SECTION</pre><p>此外，您无法在COMMON语句中标注主机数组的大小。</p>
                  </div>
               </div><a id="ZZFOR157"></a><div class="props_rev_3"><a id="GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177" name="GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177"></a><h4 id="ZZFOR-GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177" class="sect4"><span class="enumeration_section">1.8.3</span>关于引用主机阵列</h4>
                  <div>
                     <p>如果在单个SQL语句中使用多个主机数组，则它们的维度应相同。但是，这不是必需的，因为Pro * FORTRAN预编译器始终使用SQL操作的<span class="italic">最小</span>维度。在以下示例中，仅插入了50行：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（100）CHARACTER * 10 ENAM（100）INTEGER * 4 DNUM（100）REAL * 4 ECOM（50）EXEC SQL END DECLARE SECTION ...*在此处填充主机阵列。...EXEC SQL INSERT INTO EMP（EMPNO，ENAME，COMM，DEPTNO）1 VALUES（：ENUM，：ENAM，：ECOM，：DNUM）</pre><p>主机数组<span class="italic">不能</span>在SQL语句中下标。例如，以下INSERT语句无效：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）REAL * 4 ESAL（50）INTEGER * 4 DNUM（50）EXEC SQL END DECLARE SECTION ...DO 200 J = 1,50 *无效使用主机阵列EXEC SQL INSERT INTO EMP（EMPNO，SAL，DEPTNO）1 VALUES（：ENUM（J）,: ESAL（J），：DNUM（J））200 CONTINUE</pre><p>您无需在循环中处理主机阵列。而是在SQL语句中使用未订阅的数组名称。Oracle将包含维度<span class="italic">n的</span>主机数组的SQL语句视为使用<span class="italic">n个</span>不同标量变量执行<span class="italic">n</span>次的相同语句。有关更多信息，请参阅<a href="../zzpre/using-host-arrays.html#ZZPRE-GUID-F8DD2840-4F8C-4093-A4F9-51C9FE9FA59F" target="_blank">使用主机阵列</a> 。
                     </p>
                  </div>
               </div><a id="ZZFOR158"></a><div class="props_rev_3"><a id="GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC" name="GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC"></a><h4 id="ZZFOR-GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC" class="sect4"><span class="enumeration_section">1.8.4</span>关于使用指标数组</h4>
                  <div>
                     <p>您可以使用指示符数组为输入主机数组分配空值，并检测输出主机数组中的空值或截断值。以下示例显示如何使用指示符数组进行INSERT：</p><pre class="oac_no_warn" dir="ltr">*声明主机和指示器阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）INTEGER * 4 DNUM（50）REAL * 4 ECOM（50）INTEGER * 2 IECOM（50） - 指标数组EXEC SQL END DECLARE SECTION ...*填充主机和指示器阵列。要将* null插入COMM列，请将-1分配给指示符数组中的* proper元素。...EXEC SQL INSERT INTO EMP（EMPNO，DEPTNO，COMM）1 VALUES（：ENUM，：DNUM，：ECOM：IECOM）</pre><p>指标数组的维度必须大于或等于主机数组的维度。</p>
                  </div>
               </div>
            </div><a id="ZZFOR159"></a><div class="props_rev_3"><a id="GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60" name="GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60"></a><h3 id="ZZFOR-GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60" class="sect3"><span class="enumeration_section">1.9</span> VARCHAR主机变量</h3>
               <div>
                  <p>FORTRAN字符串数据类型具有固定长度。但是，Pro * FORTRAN允许您声明一个名为VARCHAR的可变长度字符串假型。</p>
               </div><a id="ZZFOR160"></a><div class="props_rev_3"><a id="GUID-EA310150-6B02-438A-82FA-BB42C10CF644" name="GUID-EA310150-6B02-438A-82FA-BB42C10CF644"></a><h4 id="ZZFOR-GUID-EA310150-6B02-438A-82FA-BB42C10CF644" class="sect4"><span class="enumeration_section">1.9.1</span>关于声明VARCHAR变量</h4>
                  <div>
                     <p>VARCHAR是使用语法声明的三个变量的集合</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION VARCHAR * &lt;n&gt; &lt;VARNAM&gt;，&lt;VARLEN&gt;，&lt;VARARR&gt; EXEC SQL END DECLARE SECTION</pre><p>哪里：</p><pre class="oac_no_warn" dir="ltr">ñ</pre><p>是VARCHAR的最大长度; <span class="italic">n</span>必须在1到32765的范围内。
                     </p><pre class="oac_no_warn" dir="ltr">VARNAM</pre><p>是用于在SQL语句中引用VARCHAR的名称;它被称为<span class="italic">聚合名称，</span>因为它标识了一组变量。
                     </p><pre class="oac_no_warn" dir="ltr">VARLEN</pre><p>是一个2字节有符号整数变量，用于存储字符串变量的实际长度。</p><pre class="oac_no_warn" dir="ltr">VARARR</pre><p>是FORTRAN语句中使用的字符串变量。</p>
                     <p>使用VARCHAR变量的优点是您可以显式设置和引用VARLEN。对于输入主变量，Oracle读取VARLEN的值并使用相同数量的VARARR字符。对于输出主机变量，Oracle将VARLEN设置为VARARR中存储的字符串的长度。</p>
                     <p>您只能在Declare Section中声明VARCHAR。在以下示例中，您声明一个名为EJOB的VARCHAR，其最大长度为15个字符：</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION ...VARCHAR * 15 EJOB，EJOBL，EJOBA EXEC SQL END DECLARE SECTION</pre><p>预编译器将此声明扩展为</p><pre class="oac_no_warn" dir="ltr">*扩展VARCHAR声明INTEGER * 2 EJOBL LOGICAL * 1 EJOBA（15）INTEGER * 2 SQXXX（2）EQUIVALENCE（SQXXX（1），EJOBL），（SQXXX（2），EJOBA（1））</pre><p>其中SQXXX是预编译器生成的数组，XXX表示三个任意字符。请注意，未声明聚合名称EJOB。EQUIVALENCE语句强制编译器连续存储EJOBL和EJOBA。</p>
                  </div>
               </div><a id="ZZFOR161"></a><div class="props_rev_3"><a id="GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A" name="GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A"></a><h4 id="ZZFOR-GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A" class="sect4"><span class="enumeration_section">1.9.2</span>关于引用VARCHAR变量</h4>
                  <div>
                     <p>在SQL语句中，您可以使用前缀为冒号的聚合名称来引用VARCHAR变量，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT JOB 1 INTO：EJOB 2 FROM EMP 3 WHERE EMPNO =：ENUM</pre><p>执行查询后，EJOBL保存从数据库中检索并存储在EJOBA中的字符串的实际长度。在FORTRAN语句中，您使用length变量和字符串变量名称引用VARCHAR变量，如下例所示：</p><pre class="oac_no_warn" dir="ltr">*显示职位。WRITE（*，5200）（EJOBA（J），J = 1，EJOBL）5200格式（15A1）......
</pre></div>
               </div><a id="ZZFOR162"></a><div class="props_rev_3"><a id="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3" name="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3"></a><h4 id="ZZFOR-GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3" class="sect4"><span class="enumeration_section">1.9.3</span>关于克服长度限制</h4>
                  <div>
                     <p>回想一下，VARCHAR的长度变量必须是2字节整数。FORTRAN提供2字节有符号整数数据类型，可以表示-32768到32767范围内的数字。但是，FORTRAN缺少2字节<span class="italic">无符号</span>整数数据类型，它可以表示0到65535范围内的数字。因此，VARCHAR字符串的最大长度为32765字节（32767减去长度变量的2）。
                     </p>
                     <p>对于其他主机语言，VARCHAR字符串的最大长度为65533字节。如果要使用65533字节的VARCHAR变量，请尝试以下示例中显示的技术：</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION ...VARCHAR * 65533 BUF，BUFL，BUFA EXEC SQL END DECLARE SECTION ...*等价两个2字节整数到一个4字节整数。INTEGER * 2 INT2（2）INTEGER * 4 INT4 EQUIVALENCE（INT2（1），INT4）INTEGER * 4 I ...INT4 = 65533 *将VARCHAR长度变量设置为等于INT4的等效值。BUFL = INT2（1）DO 100 I = 1,65533 BUFA（I）= 32 100继续EXEC SQL插入长时间值（：BUF）...BUFL = 0 EXEC SQL SELECT COL1 INTO：BUF FROM LONG_TABLE INT2（1）= BUFL ...
</pre><div class="infoboxnote" id="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3__GUID-660628BF-AB67-47A1-89AC-AE49BECCB4E8">
                        <p class="notep1">注意：</p>
                        <p>存储整数的方式因系统而异。在某些系统中，最低有效位存储在低地址;在其他系统上，它们存储在高地址。在最后一个示例中，这确定长度是存储在INT2（1）还是INT2（2）中。</p>
                     </div>
                  </div>
               </div>
            </div><a id="ZZFOR163"></a><div class="props_rev_3"><a id="GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8" name="GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8"></a><h3 id="ZZFOR-GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8" class="sect3"><span class="enumeration_section">1.10</span>关于处理字符数据</h3>
               <div>
                  <p>本节介绍Pro * FORTRAN预编译器如何处理字符主机变量。有两种类型的字符宿主变量：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>字符* <span class="italic">n</span></p>
                     </li>
                     <li>
                        <p>VARCHAR</p>
                     </li>
                  </ul>
                  <p>不要将VARCHAR（它是预编译器提供的主机变量数据结构）与VARCHAR2混淆，VARCHAR2是可变长度字符串的Oracle列数据类型。</p>
               </div><a id="ZZFOR164"></a><div class="props_rev_3"><a id="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026" name="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026"></a><h4 id="ZZFOR-GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026" class="sect4"><span class="enumeration_section">1.10.1</span> MODE选项的效果</h4>
                  <div>
                     <p>MODE选项具有以下效果：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它确定Pro * FORTRAN预编译器如何处理字符数组和字符串中的数据。MODE选项允许程序使用ANSI固定长度字符串或保持与以前版本的Oracle Server和Pro * FORTRAN预编译器的兼容性。</p>
                        </li>
                        <li>
                           <p>关于字符处理，MODE = {ANSI14 | ANSI13}等同于MODE = ORACLE。 MODE选项影响输入（从主机变量到Oracle）和输出（从Oracle到主变量）的字符数据。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026__GUID-3F53C240-2D4F-4624-A2B8-1D43FE0A1058">
                        <p class="notep1">注意：</p>
                        <p>MODE选项不影响Pro * FORTRAN处理VARCHAR主变量的方式。</p>
                     </div>
                  </div>
               </div><a id="ZZFOR165"></a><div class="props_rev_3"><a id="GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A" name="GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A"></a><h4 id="ZZFOR-GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A" class="sect4"><span class="enumeration_section">1.10.2</span>字符* <span class="italic">n</span></h4>
                  <div>
                     <p>使用CHARACTER * <span class="italic">n</span>数据类型声明字符变量。这些类型的变量根据其作为输入或输出变量的角色处理字符数据。
                     </p>
                  </div>
               </div><a id="ZZFOR166"></a><div class="props_rev_3"><a id="GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED" name="GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED"></a><h4 id="ZZFOR-GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED" class="sect4"><span class="enumeration_section">1.10.3</span>输入</h4>
                  <div>
                     <p>当MODE = ORACLE时，程序接口会在将值发送到数据库之前删除尾随空白。如果插入到固定长度的CHAR列中，Oracle会将尾随空白重新附加到数据库列的长度。但是，如果插入到可变长度VARCHAR2列中，Oracle永远不会添加空格。</p>
                     <p>当MODE = ANSI时，永远不会剥离尾随空白。</p>
                     <p>确保输入值不会被无关字符追踪。例如，空值不会被剥离并插入到数据库中。通常，这不是问题，因为当一个值读入或赋值给CHARACTER * <span class="italic">n</span>变量时，FORTRAN会将空白追加到变量的长度。
                     </p>
                     <p>以下示例说明了这一点：</p><pre class="oac_no_warn" dir="ltr">*声明主机变量EXEC SQL BEGIN DECLARE SECTION CHARACTER ENAM * 10，EJOB * 8 ...EXEC SQL END DECLARE SECTION ...WRITE（*，300）300 FORMAT（/，'$员工姓名？'）*假设输入名称'MILLER'READ（*，400）400 FORMAT（A10）EJOB ='SALES'EXEC SQL INSERT INTO emp（empno，ename，deptno，job）VALUES（1234，：ENAM，20， ：EJOB）</pre><p>如果使用MODE = ORACLE预编译最后一个示例且目标数据库列为VARCHAR2，程序接口将删除输入上的尾随空白，并将6个字符的字符串“MILLER”和5个字符的字符串“SALES”插入到数据库中。但是，如果目标数据库列为CHAR，则字符串将填充为列的宽度。</p>
                     <p>如果使用MODE = ANSI预编译最后一个示例并且JOB列定义为CHAR（10），则插入该列的值为“SALES #####”（五个尾随空白）。但是，如果JOB列定义为VARCHAR2（10），则插入的值为“SALES ###”（三个尾随空格），因为主机变量是CHARACTER * 8。这可能不是你想要的，所以要小心。</p>
                  </div>
               </div><a id="ZZFOR167"></a><div class="props_rev_3"><a id="GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215" name="GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215"></a><h4 id="ZZFOR-GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215" class="sect4"><span class="enumeration_section">1.10.4</span>关于输出</h4>
                  <div>
                     <p>MODE选项对字符变量的输出没有影响。当您使用CHARACTER * <span class="italic">n</span>变量作为输出主变量时，Oracle将其填空。在我们的示例中，当您的程序从数据库中获取字符串“MILLER”时，ENAM包含值“MILLER ####”（带有四个尾随空格）。可以不加更改地使用此字符串作为另一个SQL语句的输入。
                     </p>
                  </div>
               </div><a id="ZZFOR168"></a><div class="props_rev_3"><a id="GUID-19733687-EAFA-44B8-B16B-37C21BF276C2" name="GUID-19733687-EAFA-44B8-B16B-37C21BF276C2"></a><h4 id="ZZFOR-GUID-19733687-EAFA-44B8-B16B-37C21BF276C2" class="sect4"><span class="enumeration_section">1.10.5</span> VARCHAR变量</h4>
                  <div>
                     <p>VARCHAR变量根据其作为输入或输出变量的角色处理字符数据</p>
                  </div>
               </div><a id="ZZFOR169"></a><div class="props_rev_3"><a id="GUID-E5B92083-0F7A-4236-B845-750872EE670C" name="GUID-E5B92083-0F7A-4236-B845-750872EE670C"></a><h4 id="ZZFOR-GUID-E5B92083-0F7A-4236-B845-750872EE670C" class="sect4"><span class="enumeration_section">1.10.6</span>输入</h4>
                  <div>
                     <p>当您使用VARCHAR变量作为输入主变量时，您的程序必须为长度和字符串变量赋值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA INTEGER * 2 IEJOB INTEGER * 4 DNUM EXEC SQL END DECLARE SECTION ...WRITE（*，4300）4300 FORMAT（/，'输入职位名称：'）READ（*，4400）EJOBA 4400 FORMAT（15A1）*向后扫描最后一个非空白字符，然后*设置长度到该位置。如果输入全部为空，则将指示符变量设置为-1以指示空值。DO 5000 J = 15,1，-1 IF（EJOBA（J）。NE。 ''）GOTO 5100 5000续J = 0 5100 IF（J。EQ。 0）那么IEJOB = -1 ELSE IEJOB = 0 END如果EJOBL = J EXEC SQL INSERT INTO EMP（EMPNO，JOB，DEPTNO）1 VALUES（：ENUM，：EJOB：IEJOB，：DNUM）</pre></div>
               </div><a id="ZZFOR170"></a><div class="props_rev_3"><a id="GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA" name="GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA"></a><h4 id="ZZFOR-GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA" class="sect4"><span class="enumeration_section">1.10.7</span>关于输出</h4>
                  <div>
                     <p>当您使用VARCHAR变量作为输出主变量时，Oracle会设置长度变量。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA INTEGER * 4 ESAL EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT JOB，SAL INTO：EJOB，：ESAL from EMP 1 WHERE EMPNO =：ENUM ...如果（EJOBL。EQ。 0）GOTO .........
</pre><p>VARCHAR变量优于固定长度字符串的一个优点是Oracle返回的值的长度可立即获得。对于固定长度的字符串，要获取值的长度，程序必须计算字符数。（内部函数LEN返回包含空格的字符串的长度，而不是其当前长度。）</p>
                  </div>
               </div>
            </div><a id="ZZFOR171"></a><div class="props_rev_3"><a id="GUID-B567760E-18C0-4C00-A520-68F64507591A" name="GUID-B567760E-18C0-4C00-A520-68F64507591A"></a><h3 id="ZZFOR-GUID-B567760E-18C0-4C00-A520-68F64507591A" class="sect3"><span class="enumeration_section">1.11</span> Oracle数据类型</h3>
               <div>
                  <div class="section">
                     <p>Oracle识别两种数据类型： <span class="italic">内部</span>和<span class="italic">外部</span> 。内部数据类型指定Oracle如何在数据库列中存储数据。Oracle还使用内部数据类型来表示数据库伪列。外部数据类型指定数据在主机变量中的存储方式。有关Oracle数据类型的描述，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-9F34D892-C67C-4567-94C6-E402BB079FA8" target="_blank">Oracle数据类型</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="ZZFOR172"></a><div class="props_rev_3"><a id="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC" name="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC"></a><h4 id="ZZFOR-GUID-5F562403-E83D-4736-AFE2-B5E1898535AC" class="sect4"><span class="enumeration_section">1.11.1</span>内部数据类型</h4>
                  <div>
                     <div class="section">
                        <p>对于存储在数据库列中的值，Oracle使用以下内部数据类型：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC__GUID-8BB7A82E-87E9-4EDA-9EAC-A270ADE08CB5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="name" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2408">名称</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2411">码</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2414">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2419" headers="d1790e2408 ">
                                    <p>CHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2419 d1790e2411 ">
                                    <p>96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2419 d1790e2414 ">
                                    <p>&lt;= 255字节，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2429" headers="d1790e2408 ">
                                    <p>日期</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2429 d1790e2411 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2429 d1790e2414 ">
                                    <p>7字节，固定长度的日期/时间值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2439" headers="d1790e2408 ">
                                    <p>长</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2439 d1790e2411 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2439 d1790e2414 ">
                                    <p>&lt;= 2147483647-byte，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2449" headers="d1790e2408 ">
                                    <p>LONG RAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2449 d1790e2411 ">
                                    <p>24</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2449 d1790e2414 ">
                                    <p>&lt;= 2147483647字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2459" headers="d1790e2408 ">
                                    <p>MLSLABEL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2459 d1790e2411 ">
                                    <p>105</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2459 d1790e2414 ">
                                    <p>&lt;= 5字节，可变长度的二进制标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2469" headers="d1790e2408 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2469 d1790e2411 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2469 d1790e2414 ">
                                    <p>固定或浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2479" headers="d1790e2408 ">
                                    <p>生的</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2479 d1790e2411 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2479 d1790e2414 ">
                                    <p>&lt;= 255字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2489" headers="d1790e2408 ">
                                    <p>ROWID</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2489 d1790e2411 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2489 d1790e2414 ">
                                    <p>固定长度的二进制值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2499" headers="d1790e2408 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2499 d1790e2411 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2499 d1790e2414 ">
                                    <p>&lt;= 2000字节，可变长度字符串</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>表1-5。内部数据类型</p>
                        <p>这些内部数据类型可能与FORTRAN数据类型完全不同。例如，FORTRAN与NUMBER数据类型不同，后者专为可移植性和高精度而设计。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR173"></a><div class="props_rev_3"><a id="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214" name="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214"></a><h4 id="ZZFOR-GUID-78F35FF5-A485-4861-AE4D-0C2E24915214" class="sect4"><span class="enumeration_section">1.11.2</span>外部数据类型</h4>
                  <div>
                     <div class="section">
                        <p>如下表所示，外部数据类型包括所有内部数据类型以及在其他支持的主机语言中找到的几种数据类型。例如，STRING外部数据类型引用C以null结尾的字符串。您在数据类型等效中使用数据类型名称，并在动态SQL方法4中使用数据类型代码。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214__GUID-ED404512-C40F-4E71-8A8F-F35F61ABC088">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="name" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2545">名称</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2548">码</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2551">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2556" headers="d1790e2545 ">
                                    <p>CHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2556 d1790e2548 ">
                                    <p>1 96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2556 d1790e2551 ">
                                    <p>&lt;= 65535字节，可变长度字符串（1）&lt;= 65535字节，固定长度字符串（1）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2566" headers="d1790e2545 ">
                                    <p>CHARF</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2566 d1790e2548 ">
                                    <p>96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2566 d1790e2551 ">
                                    <p>&lt;= 65535字节，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2576" headers="d1790e2545 ">
                                    <p>CHARZ</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2576 d1790e2548 ">
                                    <p>97</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2576 d1790e2551 ">
                                    <p>&lt;= 65535-byte，固定长度，以null结尾的字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2586" headers="d1790e2545 ">
                                    <p>日期</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2586 d1790e2548 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2586 d1790e2551 ">
                                    <p>7字节，固定长度的日期/时间值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2596" headers="d1790e2545 ">
                                    <p>DECIMAL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2596 d1790e2548 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2596 d1790e2551 ">
                                    <p>COBOL压缩十进制</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2606" headers="d1790e2545 ">
                                    <p>显示</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2606 d1790e2548 ">
                                    <p>91</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2606 d1790e2551 ">
                                    <p>COBOL数字字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2616" headers="d1790e2545 ">
                                    <p>浮动</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2616 d1790e2548 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2616 d1790e2551 ">
                                    <p>4字节或8字节浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2626" headers="d1790e2545 ">
                                    <p>整数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2626 d1790e2548 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2626 d1790e2551 ">
                                    <p>2字节或4字节有符号整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2636" headers="d1790e2545 ">
                                    <p>长</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2636 d1790e2548 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2636 d1790e2551 ">
                                    <p>&lt;= 2147483647-byte，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2646" headers="d1790e2545 ">
                                    <p>LONG RAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2646 d1790e2548 ">
                                    <p>24</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2646 d1790e2551 ">
                                    <p>&lt;= 217483647字节，固定长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2656" headers="d1790e2545 ">
                                    <p>LONG VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2656 d1790e2548 ">
                                    <p>94</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2656 d1790e2551 ">
                                    <p>&lt;= 217483643字节，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2667" headers="d1790e2545 ">
                                    <p>LONG VARRAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2667 d1790e2548 ">
                                    <p>95</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2667 d1790e2551 ">
                                    <p>&lt;= 217483643字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2677" headers="d1790e2545 ">
                                    <p>MLSLABEL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2677 d1790e2548 ">
                                    <p>106</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2677 d1790e2551 ">
                                    <p>2..5字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2687" headers="d1790e2545 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2687 d1790e2548 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2687 d1790e2551 ">
                                    <p>整数或浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2697" headers="d1790e2545 ">
                                    <p>生的</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2697 d1790e2548 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2697 d1790e2551 ">
                                    <p>&lt;= 65535字节，固定长度的二进制数据（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2707" headers="d1790e2545 ">
                                    <p>ROWID</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2707 d1790e2548 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2707 d1790e2551 ">
                                    <p>（通常）13字节，固定长度的二进制值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2717" headers="d1790e2545 ">
                                    <p>串</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2717 d1790e2548 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2717 d1790e2551 ">
                                    <p>&lt;= 65535-byte，以null结尾的字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2727" headers="d1790e2545 ">
                                    <p>UNSIGNED</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2727 d1790e2548 ">
                                    <p>68</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2727 d1790e2551 ">
                                    <p>2字节或4字节无符号整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2737" headers="d1790e2545 ">
                                    <p>VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2737 d1790e2548 ">
                                    <p>9</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2737 d1790e2551 ">
                                    <p>&lt;= 65533字节，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2747" headers="d1790e2545 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2747 d1790e2548 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2747 d1790e2551 ">
                                    <p>&lt;= 65535字节，可变长度字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2757" headers="d1790e2545 ">
                                    <p>VARNUM</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2757 d1790e2548 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2757 d1790e2551 ">
                                    <p>可变长度二进制数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2767" headers="d1790e2545 ">
                                    <p>VARRAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2767 d1790e2548 ">
                                    <p>15</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2767 d1790e2551 ">
                                    <p>&lt;= 65533字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><span class="bold">备注</span> ：</p>
                        <ol>
                           <li>
                              <p>当MODE = {ORACLE | ANSI13 | ANSI14}时，CHAR是数据类型1，当MODE = ANSI时，CHAR是数据类型96。</p>
                           </li>
                           <li>
                              <p>某些平台上的最大大小为32767（32K）。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ZZFOR174"></a><div class="props_rev_3"><a id="GUID-B1D58589-9169-4A8B-9B0F-4D4233517784" name="GUID-B1D58589-9169-4A8B-9B0F-4D4233517784"></a><h3 id="ZZFOR-GUID-B1D58589-9169-4A8B-9B0F-4D4233517784" class="sect3"><span class="enumeration_section">1.12</span>数据类型转换</h3>
               <div>
                  <p>在预编译时，将在Declare Section中为每个主机变量分配外部数据类型。例如，预编译器将FLOAT外部数据类型分配给REAL类型的主机变量。在运行时，SQL语句中使用的每个主机变量的数据类型代码都将传递给Oracle。Oracle使用代码在内部和外部数据类型之间进行转换。</p>
                  <p>在将SELECTed列值分配给输出主机变量之前，Oracle必须将源列的内部数据类型转换为主机变量的数据类型。同样，在将输入主机变量的值分配或比较到列之前，Oracle必须将主机变量的外部数据类型转换为目标列的内部数据类型。</p>
                  <p>内部和外部数据类型之间的转换遵循通常的数据转换规则。例如，您可以将CHAR值“1234”转换为INTEGER * 2值。但是，不能将CHAR值“65543”（数字太大）或“10F”（数字不是十进制数）转换为INTEGER * 2值。同样，您无法将包含字母字符的CHARACTER * <span class="italic">n</span>值转换为NUMBER值。
                  </p>
                  <p>有关数据类型转换的详细信息，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议程序要求</a> 。
                  </p>
               </div>
            </div><a id="ZZFOR175"></a><div class="props_rev_3"><a id="GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A" name="GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A"></a><h3 id="ZZFOR-GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A" class="sect3"><span class="enumeration_section">1.13</span>数据类型等价</h3>
               <div>
                  <p>数据类型等效允许您控制Oracle解释输入数据的方式以及Oracle格式化输出数据的方式。您可以在逐个变量的基础上将等效的FORTRAN数据类型支持到Oracle外部数据类型。</p>
               </div><a id="ZZFOR176"></a><div class="props_rev_3"><a id="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F" name="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F"></a><h4 id="ZZFOR-GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F" class="sect4"><span class="enumeration_section">1.13.1</span>主机变量等价</h4>
                  <div>
                     <p>默认情况下，Pro * FORTRAN预编译器为每个主机变量分配特定的外部数据类型。默认分配如下表所示。有关数据类型等效的更多信息，请参阅<a href="../zzpre/learning-basics.html#ZZPRE-GUID-FDFE502B-9288-4133-9CE5-7BAEC62C8AB4" target="_blank">数据类型等效</a> 。
                     </p>
                     <div class="tblformal" id="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F__GUID-5AA3BA8B-53C8-4A69-8E6C-B489D6490950">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="host type" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2881">主机类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2884">外部类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2887">码</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2892" headers="d1790e2881 ">
                                    <p>BYTE <span class="italic">var</span> LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span> CHARACTER <span class="italic">var</span> CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER * <span class="italic">n var</span> CHARACTER（*） <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2892 d1790e2884 ">
                                    <p>VARCHAR2 CHARF</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2892 d1790e2887 ">
                                    <p>1（当MODE！= ANSI）96（当MODE = ANSI时）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2932" headers="d1790e2881 ">
                                    <p>VARCHAR * <span class="italic">n</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2932 d1790e2884 ">
                                    <p>VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2932 d1790e2887 ">
                                    <p>9</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2944" headers="d1790e2881 ">
                                    <p>INTEGER <span class="italic">var</span> INTEGER * 2 <span class="italic">var</span> INTEGER * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2944 d1790e2884 ">
                                    <p>整数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2944 d1790e2887 ">
                                    <p>3</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2962" headers="d1790e2881 ">
                                    <p>REAL <span class="italic">var</span> REAL * 4 <span class="italic">var</span> REAL * 8 <span class="italic">var</span> DOUBLE PRECISION <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2962 d1790e2884 ">
                                    <p>浮动</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2962 d1790e2887 ">
                                    <p>4</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用VAR语句，您可以通过在Declare部分中将主机变量等效为Oracle外部数据类型来覆盖默认分配。您使用的语法是</p><pre class="oac_no_warn" dir="ltr">EXEC SQL VAR &lt;host_variable&gt; IS &lt;ext_type_name&gt; [（{&lt;length&gt; | &lt;precision&gt;，&lt;scale&gt;}）]</pre><p>其中<span class="italic">host_variable</span>是在Declare Section中先前声明的输入或输出主机变量（或主机数组）， <span class="italic">ext_type_name</span>是有效外部数据类型的名称， <span class="italic">length</span>是指定有效长度（以字节为单位）的整数文字。
                     </p>
                     <p>当<span class="italic">ext_type_name</span>为FLOAT时，使用<span class="italic">length</span> ;当<span class="italic">ext_type_name</span>为DECIMAL时，您必须指定<span class="italic">精度</span>和<span class="italic">比例</span>而不是<span class="italic">长度</span> 。
                     </p>
                     <p>主机变量等效在几个方面很有用。例如，您可以在希望Oracle存储但不解释数据时使用它。假设您要在RAW数据库列中存储4字节整数的主机数组。简单地将主机阵列等同于RAW外部数据类型，如下所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）......*将默认数据类型（INTEGER）重置为RAW。 EXEC SQL VAR ENUM是RAW（200）; EXEC SQL END DECLARE SECTION ...
</pre><p>对于主机阵列，指定的长度必须与保存阵列所需的缓冲区大小相匹配。在最后一个示例中，您指定了200的长度，这是保存50个4字节整数所需的缓冲区大小。</p>
                     <p>有关数据类型等效的更多信息，请参阅<a href="../zzpre/learning-basics.html#ZZPRE-GUID-FDFE502B-9288-4133-9CE5-7BAEC62C8AB4" target="_blank">数据类型等效</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR177"></a><div class="props_rev_3"><a id="GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382" name="GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382"></a><h3 id="ZZFOR-GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382" class="sect3"><span class="enumeration_section">1.14</span>嵌入PL / SQL</h3>
               <div>
                  <p>Pro * FORTRAN预编译器将PL / SQL块视为单个嵌入式SQL语句。因此，您可以将PL / SQL块放在可以放置SQL语句的主机程序中的任何位置。</p>
                  <p>要在主机程序中嵌入PL / SQL块，请声明要与PL / SQL共享的变量，并将PL / SQL块与EXEC SQL EXECUTE和END-EXEC关键字括起来。</p>
               </div><a id="ZZFOR178"></a><div class="props_rev_3"><a id="GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52" name="GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52"></a><h4 id="ZZFOR-GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52" class="sect4"><span class="enumeration_section">1.14.1</span>主机变量</h4>
                  <div>
                     <p>在PL / SQL块中，主变量对整个块是全局的，并且可以在允许PL / SQL变量的任何地方使用。与SQL语句中的主变量一样，PL / SQL块中的主机变量必须以冒号为前缀。冒号设置除PL / SQL变量和数据库对象之外的主变量。</p>
                  </div>
               </div><a id="ZZFOR179"></a><div class="props_rev_3"><a id="GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE" name="GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE"></a><h4 id="ZZFOR-GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE" class="sect4"><span class="enumeration_section">1.14.2</span> VARCHAR变量</h4>
                  <div>
                     <p>进入PL / SQL块时，Oracle会自动检查VARCHAR主机变量的长度字段。因此，您必须<span class="italic">在</span>输入块<span class="italic">之前</span>设置长度字段。对于输入变量，将长度字段设置为存储在字符串字段中的值的长度。对于输出变量，将长度字段设置为字符串字段允许的最大长度。
                     </p>
                  </div>
               </div><a id="ZZFOR180"></a><div class="props_rev_3"><a id="GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466" name="GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466"></a><h4 id="ZZFOR-GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466" class="sect4"><span class="enumeration_section">1.14.3</span>指标变量</h4>
                  <div>
                     <p>在PL / SQL块中，您不能单独引用指标变量;它必须附加到其关联的主变量。此外，如果您使用其指示符变量引用主变量，则必须始终在同一块中以相同的方式引用它。</p>
                  </div>
               </div><a id="ZZFOR181"></a><div class="props_rev_3"><a id="GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20" name="GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20"></a><h4 id="ZZFOR-GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20" class="sect4"><span class="enumeration_section">1.14.4</span>关于处理空值</h4>
                  <div>
                     <p>输入块时，如果指示符变量的值为-1，则PL / SQL会自动为主变量分配null。退出块时，如果主机变量为空，PL / SQL会自动为指示符变量赋值-1。</p>
                  </div>
               </div><a id="ZZFOR182"></a><div class="props_rev_3"><a id="GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C" name="GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C"></a><h4 id="ZZFOR-GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C" class="sect4"><span class="enumeration_section">1.14.5</span>关于处理截断值</h4>
                  <div>
                     <p>将截断的字符串值分配给主机变量时，PL / SQL不会引发异常。但是，如果使用指示符变量，PL / SQL会将其设置为字符串的原始长度。</p>
                  </div>
               </div><a id="ZZFOR183"></a><div class="props_rev_3"><a id="GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6" name="GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6"></a><h4 id="ZZFOR-GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6" class="sect4"><span class="enumeration_section">1.14.6</span> SQLCHECK</h4>
                  <div>
                     <p>在使用嵌入式PL / SQL块预编译程序时，必须指定SQLCHECK = SEMANTICS。您还必须使用USERID选项。有关更多信息，请参阅<a href="../zzpre/running-Oracle-precompilers.html#ZZPRE-GUID-C6823AE2-9898-43B4-B400-BEF616AF6D13" target="_blank">SQLCHECK</a> 。</p>
                  </div>
               </div><a id="ZZFOR184"></a><div class="props_rev_3"><a id="GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2" name="GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2"></a><h4 id="ZZFOR-GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2" class="sect4"><span class="enumeration_section">1.14.7</span>游标变量</h4>
                  <div>
                     <p>从Pro * FORTRAN预编译器的1.7版开始，您可以在Pro * FORTRAN程序中使用<span class="italic">游标变量</span>来使用静态嵌入式SQL处理多行查询。游标变量使用PL / SQL标识在Oracle数据库服务器上定义和打开的<span class="italic">游标引用</span> 。有关游标变量的完整信息，请参见<span class="italic">Oracle数据库PL / SQL语言参考</span> 。
                     </p>
                     <p>游标变量的优点是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">封装</span> ：查询集中在打开游标变量的存储过程中。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">易于维护</span> ：如果表更改，则只需更改存储过程。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">安全性</span> ：应用程序的用户（Pro * FORTRAN应用程序连接到数据库时的用户名）必须对打开游标的存储过程具有执行权限。但是，此用户不需要对查询中使用的表具有读取权限。此功能可用于限制对表中列的访问。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ZZFOR185"></a><div class="props_rev_3"><a id="GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C" name="GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C"></a><h3 id="ZZFOR-GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C" class="sect3"><span class="enumeration_section">1.15</span>关于声明游标变量</h3>
               <div>
                  <p>使用SQLCURSOR假型声明Pro * FORTRAN游标变量。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION ...SQLCURSOR CURVAR ......EXEC SQL END DECLARE SECTION</pre><p>在Pro * FORTRAN生成的代码中使用FORTRAN INTEGER * 4数组实现SQLCURSOR变量。游标变量就像任何其他Pro * FORTRAN主变量一样。</p>
               </div><a id="ZZFOR186"></a><div class="props_rev_3"><a id="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A" name="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A"></a><h4 id="ZZFOR-GUID-09F3D3B8-08F3-445C-A262-921627D80B0A" class="sect4"><span class="enumeration_section">1.15.1</span>关于分配游标变量</h4>
                  <div>
                     <p>在OPEN或FETCH游标变量之前，必须使用Pro * FORTRAN ALLOCATE命令进行分配。例如，要分配在上一节中声明的游标变量CURVAR，请编写以下语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE：CURVAR</pre><p>分配游标变量<span class="italic">并不</span>需要对服务器的呼叫，可以在预编译时或运行时。
                     </p>
                     <div class="infoboxnote" id="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A__GUID-81CE8CCD-CBB1-4D6D-BAC6-0C17801E14E7">
                        <p class="notep1">警告：</p>
                        <p>分配游标变量<span class="italic">确实</span>会导致使用堆内存。因此，请避免在程序循环中分配游标变量。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR187"></a><div class="props_rev_3"><a id="GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6" name="GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6"></a><h4 id="ZZFOR-GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6" class="sect4"><span class="enumeration_section">1.15.2</span>关于打开游标变量</h4>
                  <div>
                     <p>必须使用嵌入式匿名PL / SQL块在Oracle Server上打开游标变量。匿名PL / SQL块可以通过调用打开游标的PL / SQL存储过程（并在同一语句中定义）或直接从Pro * FORTRAN程序间接打开游标。</p>
                  </div>
               </div><a id="ZZFOR188"></a><div class="props_rev_3"><a id="GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71" name="GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71"></a><h4 id="ZZFOR-GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71" class="sect4"><span class="enumeration_section">1.15.3</span>关于通过存储的PL / SQL过程间接打开</h4>
                  <div>
                     <p>考虑存储在数据库中的以下PL / SQL包：</p><pre class="oac_no_warn" dir="ltr">CREATE PACKAGE demo_cur_pkg AS TYPE EmpName IS RECORD（名称VARCHAR2（10））; TYPE cur_type IS REF CURSOR RETURN EmpName;程序open_emp_cur（curs IN OUT curtype，dept_num IN NUMBER）;结束; CREATE PACKAGE BODY demo_cur_pkg AS CREATE PROCEDURE open_emp_cur（curs IN OUT curtype，dept_num IN NUMBER）IS BEGIN OPEN curs FOR SELECT ename FROM emp WHERE deptno = dept_num ORDER BY ename ASC;结束;结束;</pre><p>这个包已经被存储后，您可以通过调用你的PRO * FORTRAN程序<span class="italic">open_emp_cur</span>存储过程打开变量<span class="italic">小人</span> ，并从程序游标变量FETCH ECUR。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION SQLCURSOR ECUR INTEGER * 4 DNUM VARCHAR * 10 ENAM，ENAML，ENAMA EXEC SQL END DECLARE SECTION ......*分配游标变量。EXEC SQL ALLOCATE：ECUR ......DNUM = 30 *打开Oracle数据库服务器上的光标。EXEC SQL EXECUTE 1 BEGIN 2 demo_cur_pkg.open_emp_cur（：ECUR，：DNUM）; 3结束; 4 END-EXEC EXEC SQL在未找到的情况下进行调用SIGNOFF * 1000 EXEC SQL FETCH：ECUR INTO：ENAM PRINT *，“员工姓名：”，ENAM GOTO 1000 ......
</pre></div>
               </div><a id="ZZFOR189"></a><div class="props_rev_3"><a id="GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E" name="GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E"></a><h4 id="ZZFOR-GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E" class="sect4"><span class="enumeration_section">1.15.4</span>关于直接从Pro * FORTRAN应用程序打开</h4>
                  <div>
                     <p>要在Pro * FORTRAN程序中使用PL / SQL匿名块打开游标，请在匿名块中定义游标。请考虑以下示例：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE 1 BEGIN 2 OPEN：ECUR for ENAME from EMP 3 WHERE DEPTNO =：DNUM; 4结束; 5结束 - 执行...
</pre></div>
               </div><a id="ZZFOR190"></a><div class="props_rev_3"><a id="GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0" name="GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0"></a><h4 id="ZZFOR-GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0" class="sect4"><span class="enumeration_section">1.15.5</span>返回类型</h4>
                  <div>
                     <p>在PL / SQL存储过程中定义引用游标（REF CURSOR）时，必须声明游标返回的类型。<a href="../lnpls/overview.html#LNPLS-GUID-2FBCFBBE-6B42-4DB8-83F3-55B63B75B1EB" target="_blank"><span class="italic">PL / SQL用户指南和参考</span></a>中描述了允许引用游标的返回类型。
                     </p>
                  </div>
               </div><a id="ZZFOR191"></a><div class="props_rev_3"><a id="GUID-01024084-0CB0-467B-AE87-D558ED3319CD" name="GUID-01024084-0CB0-467B-AE87-D558ED3319CD"></a><h4 id="ZZFOR-GUID-01024084-0CB0-467B-AE87-D558ED3319CD" class="sect4"><span class="enumeration_section">1.15.6</span>关于从游标变量中获取</h4>
                  <div>
                     <p>使用嵌入式SQL FETCH ....INTO命令用于在打开游标变量时检索SELECTed行。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH：ECUR INTO：EINFO：IEINFO</pre><p>在从游标变量进行FETCH之前，必须初始化并打开该变量。您无法从未打开的游标变量进行FETCH。</p>
                  </div>
               </div><a id="ZZFOR192"></a><div class="props_rev_3"><a id="GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7" name="GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7"></a><h4 id="ZZFOR-GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7" class="sect4"><span class="enumeration_section">1.15.7</span>关于关闭游标变量</h4>
                  <div>
                     <p>使用嵌入式SQL CLOSE命令关闭游标变量。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION *声明游标变量。SQLCURSOR ECUR ......EXEC SQL END DECLARE SECTION *分配并打开游标变量，然后*获取一行或多行。...*关闭游标变量。EXEC SQL CLOSE：ECUR</pre></div>
               </div><a id="ZZFOR193"></a><div class="props_rev_3"><a id="GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010" name="GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010"></a><h4 id="ZZFOR-GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010" class="sect4"><span class="enumeration_section">1.15.8</span>限制</h4>
                  <div>
                     <p>以下限制适用于游标变量的使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您只能将游标变量与ALLOCATE，FETCH和CLOSE命令一起使用。该declare cursor命令<span class="italic">并不</span>适用于游标变量。
                           </p>
                        </li>
                        <li>
                           <p>您不能从CLOSEd或unALLOCATEd游标变量FETCH。</p>
                        </li>
                        <li>
                           <p>如果使用MODE = ANSI进行预编译，则关闭已关闭的游标变量是错误的。</p>
                        </li>
                        <li>
                           <p>您不能将AT子句与ALLOCATE命令一起使用。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ZZFOR194"></a><div class="props_rev_3"><a id="GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445" name="GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445"></a><h4 id="ZZFOR-GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445" class="sect4"><span class="enumeration_section">1.15.9</span>错误条件</h4>
                  <div>
                     <p><span class="italic">不要</span>执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>来自闭合游标变量的FETCH</p>
                        </li>
                        <li>
                           <p>使用不是ALLOCATEd的游标变量</p>
                        </li>
                        <li>
                           <p>CLOSE一个未打开的游标变量</p>
                        </li>
                     </ul>
                     <p>对游标变量的这些操作会导致错误。</p>
                  </div>
               </div><a id="ZZFOR234"></a><a id="ZZFOR235"></a><a id="ZZFOR195"></a><div class="props_rev_3"><a id="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC" name="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC"></a><h4 id="ZZFOR-GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC" class="sect4"><span class="enumeration_section">1.15.10</span>示例程序</h4>
                  <div>
                     <p>以下示例程序 -  SQL脚本（SAMPLE11。SQL）和Pro * FORTRAN程序（SAMPLE11。PFO） - 演示如何在Pro * FORTRAN中使用游标变量。</p>
                     <div class="infoboxnote" id="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC__GUID-7746E98B-2338-4AEC-8C23-381C0A1CEFA2">
                        <p class="notep1">注意：</p>
                        <p>为了简化演示此功能，此示例不执行已部署系统通常使用的密码管理技术。在生产环境中，请遵循Oracle数据库密码管理准则，并禁用任何示例帐户。有关密码管理指南和其他安全建议，请参阅<a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> 。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR196"></a><div class="props_rev_3"><a id="GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5" name="GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5"></a><h4 id="ZZFOR-GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5" class="sect4"><span class="enumeration_section">1.15.11</span> SAMPLE11。SQL</h4>
                  <div>
                     <p>以下是用于创建声明并打开游标变量的包的PL / SQL源代码：</p><pre class="oac_no_warn" dir="ltr">CONNECT AAAAA / BBBBB创建或替换包装emp_demo_pkg AS TYPE emp_cur_type IS REF CURSOR RETURN emp％ROWTYPE; PROCEDURE open_cur（光标IN OUT emp_cur_type，dept_num IN编号）; END emp_demo_pkg; / CREATE OR REPLACE PACKAGE BODY emp_demo_pkg AS PROCEDURE open_cur（游标IN OUT emp_cur_type，dept_num IN编号）IS BEGIN OPEN游标FOR SELECT * FROM emp WHERE deptno = dept_num ORDER BY ename ASC;结束; END emp_demo_pkg; /</pre></div>
               </div><a id="ZZFOR197"></a><div class="props_rev_3"><a id="GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0" name="GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0"></a><h4 id="ZZFOR-GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0" class="sect4"><span class="enumeration_section">1.15.12</span> SAMPLE11。PFO</h4>
                  <div>
                     <p>以下是Pro * FORTRAN示例程序，它使用SAMPLE11中声明的游标。用于从EMP表中获取员工姓名，工资和佣金的SQL示例。</p><pre class="oac_no_warn" dir="ltr">PROGRAM SAMPLE11 EXEC SQL BEGIN DECLARE SECTION *声明游标变量。SQLCURSOR ECUR * EMPINFO INTEGER ENUM CHARACTER * 10 ENAM VARCHAR * 9 EJOB，EJOBL，EJOBA INTEGER EMGR VARCHAR * 10 EDAT，EDATL，EDATA REAL ESAL REAL ECOM INTEGER EDEP * EMPINFO INDICATORS INTEGER * 2 IENUM INTEGER * 2 IENAM INTEGER * 2 IEJOB INTEGER * 2 IEMGR INTEGER * 2 IEDAT INTEGER * 2 IESAL INTEGER * 2 IECOM INTEGER * 2 IEDEP EXEC SQL END DECLARE SECTION EXEC SQL包含SQLCA COMMON / CURSOR / ECUR EXEC SQL SQLERROR会调用SQLERR *登录到ORACLE。 CALL LOGON *初始化游标变量。EXEC SQL ALLOCATE：ECUR TYPE 1000 1000 FORMAT（/，'输入部门编号（0表示退出）：'，$）ACCEPT 1100，EDEP 1100 FORMAT（I10）IF（EDEP。LE。 0）然后调用SIGNOFF ENDIF *通过调用PL / SQL存储过程打开游标。EXEC SQL EXECUTE 1 BEGIN 2 emp_demo_pkg.open_cur（：ECUR，：EDEP）; 3结束; 4 END-EXEC PRINT 1200，EDEP 1200格式（/，'部门'，我，'：'，/）打印1300 1300格式（/，'员工薪酬委员会'，+ /，'------- --- ---------- ----------'）*将光标中的数据提取到主变量中。2000 EXEC SQL WHENEVER NOT FOUND DO CALL SIGNOFF EXEC SQL FETCH：ECUR 1 INTO：ENUM：IENUM，2：ENAM：IENAM，3：EJOB：IEJOB，4：EMGR：IEMGR，5：EDAT：IEDAT，6：ESAL：IESAL ，7：ECOM：IECOM，8：EDEP：IEDEP *检查佣金和打印结果。IF（IECOM。EQ。 0）然后打印2100，ENAM，ESAL，ECOM 2100格式（A10,2X，F10.2,2X，F10.2）ELSE PRINT 2200，ENAM，ESAL 2200格式（A10,2X，F10.2,2X，'N / A'）ENDIF GOTO 2000 END *登录ORACLE。 SUBROUTINE LOGON EXEC SQL BEGIN DECLARE SECTION CHARACTER * 10 UID CHARACTER * 10 PWD EXEC SQL END DECLARE SECTION EXEC SQL INCLUDE SQLCA UID ='AAAAA'PWD ='BBBBB'EXEC SQL CONNECT：UID标识：PWD PRINT 3000，UID 3000 FORMAT（ /，'作为用户连接到ORACLE：'，A）END *关闭游标变量。SUBROUTINE SIGNOFF EXEC SQL BEGIN DECLARE SECTION SQLCURSOR ECUR EXEC SQL END DECLARE SECTION EXEC SQL包含SQLCA COMMON / CURSOR / ECUR EXEC SQL CLOSE：ECUR PRINT 4100 4100格式（/，“有一个好日子。”，/）EXEC SQL COMMIT WORK RELEASE停止结束子程序SQLERR EXEC SQL包含SQLCA EXEC SQL WHENEVER SQLERROR CONTINUE PRINT *，''PRINT *，'ORACLE ERROR DETECTED：'PRINT'（70A1）'，SQLEMC PRINT *，''EXEC SQL ROLLBACK WORK RELEASE STOP END</pre></div>
               </div>
            </div><a id="ZZFOR198"></a><div class="props_rev_3"><a id="GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3" name="GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3"></a><h3 id="ZZFOR-GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3" class="sect3"><span class="enumeration_section">1.16</span>连接到Oracle</h3>
               <div>
                  <div class="section">
                     <p>在查询或操作数据之前，您的Pro * FORTRAN程序必须登录到Oracle。要登录，请使用CONNECT语句，如</p><pre class="oac_no_warn" dir="ltr">*登录Oracle。EXEC SQL CONNECT：UID标识：PWD</pre><p>其中UID和PWD是CHARACTER或VARCHAR主变量。或者，您可以使用该语句</p><pre class="oac_no_warn" dir="ltr">*登录Oracle。EXEC SQL CONNECT：UIDPWD</pre><p>其中主机变量UIDPWD包含用斜杠（/）分隔的用户名和密码。</p>
                     <p>CONNECT语句必须是程序执行的第一个SQL语句。也就是说，其他可执行的SQL语句可以位于CONNECT语句之前，但不能在逻辑上。</p>
                     <p>要单独提供Oracle用户名和密码，请在Declare Section中将两个主机变量定义为字符串或VARCHAR变量。如果提供包含用户名和密码的用户标识，则只需要一个主变量。</p>
                     <p>确保在执行CONNECT之前设置用户名和密码变量，否则它将失败。您的程序可以提示输入值，也可以按如下方式对其进行硬编码：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD ......EXEC SQL END DECLARE SECTION UID ='AAAAA'PWD ='BBBBB'*处理登录错误。执行SQL WHENEVER SQLERROR GOTO ...EXEC SQL CONNECT：UID标识：PWD</pre><p>但是，您不能将用户名和密码硬编码到CONNECT语句中或使用带引号的文字。例如，以下两个语句都<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效的CONNECT语句EXEC SQL CONNECT AAAAA由BBBBB EXEC识别SQL CONNECT'AAAAA'由'BBBBB'识别</pre></div>
                  <!-- class="section" -->
               </div><a id="ZZFOR199"></a><div class="props_rev_3"><a id="GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF" name="GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF"></a><h4 id="ZZFOR-GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF" class="sect4"><span class="enumeration_section">1.16.1</span>自动登录</h4>
                  <div>
                     <p>您可以使用以下用户标识自动登录Oracle：</p><pre class="oac_no_warn" dir="ltr">&lt;前缀&gt; &lt;用户名&gt;</pre><p>其中<span class="italic">prefix</span>是Oracle初始化参数OS_AUTHENT_PREFIX的值（默认值为OPS $）， <span class="italic">username</span>是您的操作系统用户或任务名称。例如，如果前缀为OPS $，您的用户名为TBARNES，而OPS $ TBARNES是有效的Oracle用户ID，则您以用户OPS $ TBARNES身份登录Oracle。</p>
                     <p>要利用自动登录功能，只需将斜杠（/）字符传递给预编译器，如下所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...CHARACTER * 1 ORAID EXEC SQL END DECLARE SECTION ORAID ='/'EXEC SQL CONNECT：ORAID</pre><p>这会自动将您作为用户OPS $ <span class="italic">用户名连接</span> 。例如，如果您的操作系统用户名是RHILL，并且OPS $ RHILL是有效的Oracle用户名，则使用斜杠（/）连接会自动以Oracle OPS $ RHILL用户身份登录Oracle。</p>
                     <p>您还可以将字符串传递给预编译器。但是，该字符串不能包含尾随空格。例如，以下CONNECT语句将失败：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...CHARACTER * 5 ORAID EXEC SQL END DECLARE SECTION ORAID ='/'EXEC SQL CONNECT：ORAID</pre><p>有关操作系统身份验证的详细信息，请参阅“ <span class="italic">Oracle数据库管理员指南”</span> 。
                     </p>
                  </div>
               </div><a id="ZZFOR200"></a><div class="props_rev_3"><a id="GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320" name="GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320"></a><h4 id="ZZFOR-GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320" class="sect4"><span class="enumeration_section">1.16.2</span>并发登录</h4>
                  <div>
                     <p>您的应用程序可以使用Oracle Net Services同时访问远程和本地数据库的任意组合，或者与同一数据库建立多个连接。在以下示例中，您同时连接到两个非默认数据库：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD CHARACTER * 12 DBSTR1 CHARACTER * 12 DBSTR2 EXEC SQL END DECLARE SECTION UID ='AAAAA'PWD ='BBBBB'DBSTR1 ='NEWYORK'DBSTR2 ='BOSTON'*给每个数据库连接一个唯一的名称。EXEC SQL DECLARE DBNAM1 DATABASE EXEC SQL DECLARE DBNAM2 DATABASE *连接到两个非默认数据库。EXEC SQL CONNECT：UID标识者：PWD 1 AT DBNAM1使用：DBSTR1 EXEC SQL CONNECT：UID标识者：PWD 1 AT DBNAM2使用：DBSTR2</pre><p>DBSTR1和DBSTR2中的字符串语法取决于您的网络驱动程序及其配置方式。DBNAM1和DBNAM2命名非默认连接;它们可以是未声明的标识符或主机变量。</p>
                     <p>有关通过Oracle Net Services连接到Oracle的分步说明，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议计划要求</a> 。
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00288.starting-up-and-shutting-down.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database."></meta>
      <meta name="description" content="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database."></meta>
      <title>启动和关闭</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-and-configuring-an-oracle-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-automatic-restart-of-an-oracle-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-and-configuring-an-oracle-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-automatic-restart-of-an-oracle-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">基础数据库管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">启动和关闭</li>
            </ol>
            <a id="GUID-045DE684-6680-4099-A49E-2F5B5FA59670" name="GUID-045DE684-6680-4099-A49E-2F5B5FA59670"></a><a id="ADMIN004"></a>
            
            <h2 id="ADMIN-GUID-045DE684-6680-4099-A49E-2F5B5FA59670" class="sect2"><span class="enumeration_chapter">3</span>启动和关闭</h2>
         </header>
         <div class="ind">
            <div>
               <p>启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819">启动数据库</a><br>启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。
                  </li>
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1">改变数据库可用性</a><br>您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。
                  </li>
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866">关闭数据库</a><br>您可以使用SQL * Plus或Oracle Restart关闭数据库。
                  </li>
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9">停止数据库</a><br>静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。
                  </li>
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC">暂停和恢复数据库</a><br><code class="codeph">ALTER SYSTEM SUSPEND</code>语句将所有输入和输出（I / O）停止到数据文件（文件头和文件数据）和控制文件。挂起状态允许您在没有I / O干扰的情况下备份数据库。当数据库挂起时，允许完成所有预先存在的I / O操作，并且任何新的数据库访问都处于排队状态。使用<code class="codeph">ALTER SYSTEM RESUME</code>语句恢复正常的数据库操作。
                  </li>
                  <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3">延迟实例中止</a><br><code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>初始化参数指定在错误导致实例中止时延迟关闭数据库的时间（以秒为单位）。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-045DE684-6680-4099-A49E-2F5B5FA59670__GUID-D43E0009-B0EF-4DA8-8AD2-C3AC5F48E352">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD801" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取特定于Oracle Real Application Clusters环境的其他信息</p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="数据库管理员具有特定的职责，必须了解如何完成数据库管理任务。">基本数据库管理</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN10063"></a><div class="props_rev_3"><a id="GUID-203404B5-5157-4F29-A241-B8ABC4753819" name="GUID-203404B5-5157-4F29-A241-B8ABC4753819"></a><h3 id="ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" class="sect3"><span class="enumeration_section">3.1</span>启动数据库</h3>
               <p>启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A">关于数据库启动选项</a><br>当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。</li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490">在启动时指定初始化参数</a><br>要启动实例，数据库必须从服务器参数文件（ <code class="codeph">SPFILE</code> ）或文本初始化参数文件（PFILE）读取实例配置参数（初始化参数）。数据库在默认位置查找这些文件。您可以为这些文件指定非默认位置，执行此操作的方法取决于您是使用SQL * Plus（不使用Oracle Restart时）还是使用SRVCTL（使用Oracle Restart管理数据库时）启动数据库。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA">关于自动启动数据库服务</a><br>当您的数据库由Oracle Restart管理时，您可以为每个单独的数据库服务（服务）配置启动选项。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8">准备启动实例</a><br>在尝试使用SQL * Plus启动数据库实例之前，必须执行一些初步步骤。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B">启动实例</a><br>您可以使用SQL * Plus或Oracle Restart启动实例。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11136"></a><div class="props_rev_3"><a id="GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" name="GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A"></a><h4 id="ADMIN-GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" class="sect4"><span class="enumeration_section">3.1.1</span>关于数据库启动选项</h4>
                  <div>
                     <p>当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。</p>
                     <p>有关Oracle Restart的信息<a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts.">，</a>请参阅<a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="使用Oracle Restart功能配置Oracle数据库，以便在硬件或软件发生故障后或数据库主机重新启动时自动重新启动数据库，侦听器和其他Oracle组件。">配置Oracle数据库的自动重新</a>启动。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA">使用SQL * Plus启动数据库</a><br>您可以启动SQL * Plus会话，使用管理员权限连接到Oracle数据库，然后发出<code class="codeph">STARTUP</code>命令。以这种方式使用SQL * Plus是本书中详细描述的唯一方法。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F">使用Recovery Manager启动数据库</a><br>您还可以使用Recovery Manager（RMAN）执行<code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>命令。如果您位于RMAN环境中并且不想调用SQL * Plus，则可能更喜欢这样做。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2">使用云控制启动数据库</a><br>您可以使用Cloud Control管理数据库，包括启动和关闭数据库。Cloud Control结合了GUI控制台，代理，通用服务和工具，为管理Oracle产品提供了一个集成的综合系统管理平台。通过Cloud Control，您可以使用GUI界面而不是命令行操作来执行本书中讨论的功能。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8">使用SRVCTL启动数据库</a><br>为数据库安装并配置Oracle Restart后，Oracle建议您使用SRVCTL启动数据库。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。">启动数据库</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11137"></a><div class="props_rev_3"><a id="GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA" name="GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA"></a><h5 id="ADMIN-GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA" class="sect5"><span class="enumeration_section">3.1.1.1</span>使用SQL * Plus启动数据库</h5>
                     <div>
                        <p>您可以启动SQL * Plus会话，使用管理员权限连接到Oracle数据库，然后发出<code class="codeph">STARTUP</code>命令。以这种方式使用SQL * Plus是本书中详细描述的唯一方法。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行SQL * Plus <code class="codeph">STARTUP</code>命令。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../sqpug/STARTUP.html#SQPUG128" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" title="当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。">关于数据库启动选项</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADMIN11138"></a><div class="props_rev_3"><a id="GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F" name="GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F"></a><h5 id="ADMIN-GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F" class="sect5"><span class="enumeration_section">3.1.1.2</span>使用Recovery Manager启动数据库</h5>
                     <div>
                        <p>您还可以使用Recovery Manager（RMAN）执行<code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>命令。如果您位于RMAN环境中并且不想调用SQL * Plus，则可能更喜欢这样做。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行RMAN <code class="codeph">STARTUP</code>命令。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F__GUID-0A4DB8A1-718A-4AFF-A5A2-D8FA4956C5AA">
                           <p class="notep1">也可以看看：</p>
                           <p>有关RMAN <code class="codeph">STARTUP</code>命令的信息<a href="../rcmrf/STARTUP.html#RCMRF158" target="_blank"><span class="italic">，请参见Oracle数据库备份和恢复参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" title="当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。">关于数据库启动选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11139"></a><div class="props_rev_3"><a id="GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2" name="GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2"></a><h5 id="ADMIN-GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2" class="sect5"><span class="enumeration_section">3.1.1.3</span>使用云控制启动数据库</h5>
                     <div>
                        <p>您可以使用Cloud Control管理数据库，包括启动和关闭数据库。Cloud Control结合了GUI控制台，代理，通用服务和工具，为管理Oracle产品提供了一个集成的综合系统管理平台。通过Cloud Control，您可以使用GUI界面而不是命令行操作来执行本书中讨论的功能。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在Cloud Control中，启动数据库实例。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2__GUID-CF805E6C-0E3D-4A51-9B96-8B4EFD30FAE7">
                           <p class="notep1">也可以看看：</p>
                           <p>Cloud Control在线帮助</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" title="当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。">关于数据库启动选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12824"></a><div class="props_rev_3"><a id="GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8" name="GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8"></a><h5 id="ADMIN-GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8" class="sect5"><span class="enumeration_section">3.1.1.4</span>使用SRVCTL启动数据库</h5>
                     <div>
                        <p>为数据库安装并配置Oracle Restart后，Oracle建议您使用SRVCTL启动数据库。</p>
                        <div class="section">
                           <p>使用SRVCTL启动数据库实例可确保：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>数据库所依赖的任何组件（例如Oracle自动存储管理和Oracle Net侦听器）将首先按正确顺序自动启动。</p>
                              </li>
                              <li>
                                 <p>数据库根据其Oracle Restart配置中的设置启动。这种设置的一个例子是服务器参数文件位置。</p>
                              </li>
                              <li>
                                 <p>在启动实例之前，将设置存储在数据库的Oracle Restart配置中的环境变量。</p>
                              </li>
                           </ul>
                           <p>要使用SRVCTL启动数据库实例：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">srvctl start database</code>命令。
                                 </p>
                              </li>
                           </ul>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" title="启动指定的数据库实例。">srvctl start database</a> ”</span>和<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="使用Oracle Restart时，Oracle强烈建议您使用SRVCTL实用程序来启动和停止组件。">启动和停止Oracle Restart管理的组件</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" title="当Oracle Restart未使用时，您可以使用SQL * Plus，Recovery Manager或Oracle Enterprise Manager云控制（云控制）启动数据库实例。如果您的数据库由Oracle Restart管理，则建议使用SRVCTL启动数据库。">关于数据库启动选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12825"></a><div class="props_rev_3"><a id="GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" name="GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490"></a><h4 id="ADMIN-GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" class="sect4"><span class="enumeration_section">3.1.2</span>在启动时指定初始化参数</h4>
                  <div>
                     <p>要启动实例，数据库必须从服务器参数文件（ <code class="codeph">SPFILE</code> ）或文本初始化参数文件（PFILE）读取实例配置参数（初始化参数）。数据库在默认位置查找这些文件。您可以为这些文件指定非默认位置，执行此操作的方法取决于您是使用SQL * Plus（不使用Oracle Restart时）还是使用SRVCTL（使用Oracle Restart管理数据库时）启动数据库。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374">关于初始化参数文件和启动</a><br>启动数据库实例时，它会尝试从特定于平台的默认位置的<code class="codeph">SPFILE</code>中读取初始化参数。如果它没有找到<code class="codeph">SPFILE</code> ，则它搜索文本初始化参数文件。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0">使用带有非默认服务器参数文件的SQL * Plus启动</a><br>使用SQL * Plus，您可以使用<code class="codeph">PFILE</code>子句以非默认服务器参数文件启动实例。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA">使用非默认服务器参数文件启动SRVCTL</a><br>如果您的数据库由Oracle Restart管理，则可以通过在数据库的Oracle Restart配置中设置或修改SPFILE位置选项来指定非默认SPFILE的位置。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490__GUID-75C5D587-4B4B-4A1E-9EDC-1CFE9ABE83FF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关初始化参数，初始化参数文件和服务器参数文件的更多信息，请<a href="creating-and-configuring-an-oracle-database.html#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="规划数据库后，可以使用图形工具或SQL命令创建数据库。">参见创建和配置Oracle数据库</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。">启动数据库</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12827"></a><a id="ADMIN12548"></a><a id="ADMIN12826"></a><div class="props_rev_3"><a id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374" name="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374"></a><h5 id="ADMIN-GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374" class="sect5"><span class="enumeration_section">3.1.2.1</span>关于初始化参数文件和启动</h5>
                     <div>
                        <p>启动数据库实例时，它会尝试从特定于平台的默认位置的<code class="codeph">SPFILE</code>中读取初始化参数。如果它没有找到<code class="codeph">SPFILE</code> ，则它搜索文本初始化参数文件。
                        </p>
                        <p><a href="creating-and-configuring-an-oracle-database.html#GUID-4047A850-E0FC-4BD7-A89E-E8488673529B__CIAJEBBI" title="此表显示UNIX和Windows平台上服务器参数文件的默认名称和默认位置">表2-3</a>列出了PFILE和SPFILE的默认名称和位置。
                        </p>
                        <p>在特定于平台的默认位置，Oracle数据库通过按以下顺序检查文件名来查找初始化参数文件：</p>
                        <ol>
                           <li>
                              <p>SRVCTL命令中的<code class="codeph">-spfile</code>选项指定的位置<code class="codeph">srvctl add database</code>或<code class="codeph">srvctl modify database</code></p>
                              <p>您可以使用<code class="codeph">srvctl config database</code>命令检查当前设置。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">spfile</code> <span class="italic"><code class="codeph">ORACLE_SID</code></span> 。 <code class="codeph">ora</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">spfile.ora中</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">init</code> <span class="italic"><code class="codeph">ORACLE_SID</code></span> 。 <code class="codeph">ora</code> 
                              </p>
                           </li>
                        </ol>
                        <p>前三个文件是<code class="codeph">SPFILE</code> ，第四个是文本初始化参数文件。如果DBCA在Oracle自动存储管理磁盘组中创建了SPFILE，则数据库将在磁盘组中搜索SPFILE。
                        </p>
                        <p>如果未在<code class="codeph">CREATE SPFILE</code>语句中指定<code class="codeph">AS COPY</code>且数据库在Oracle Clusterware中定义为资源，则如果同时指定<code class="codeph">spfile_name</code>和<code class="codeph">FROM PFILE</code> <code class="codeph">spfile_name</code>子句，则此语句将自动更新数据库资源中的SPFILE名称和位置。在<code class="codeph">CREATE SPFILE</code>语句中指定<code class="codeph">AS COPY</code> ，将复制SPFILE，并且不会更新数据库资源。
                        </p>
                        <div class="infoboxnote" id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374__GUID-FF9F3FBA-D244-49F6-ACD0-17109E821A6C">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">spfile.ora</code>文件包含在此搜索路径中，因为在Oracle Real Application Clusters环境中，一个服务器参数文件用于存储所有实例的初始化参数设置。存储服务器参数文件没有特定于实例的位置。
                           </p>
                           <p>有关Oracle Real Application Clusters环境的服务器参数文件的更多信息，请参阅“ <a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD020" target="_blank"><span class="italic">Oracle Real Application Clusters管理和部署指南”</span></a> 。
                           </p>
                        </div>
                        <p>如果您（或数据库配置助手）创建了服务器参数文件，但您希望使用文本初始化参数文件覆盖它，则可以使用SQL * Plus执行此操作，指定<code class="codeph">STARTUP</code>命令的<code class="codeph">PFILE</code>子句以标识初始化参数文件：</p><pre class="oac_no_warn" dir="ltr">STARTUP PFILE = /u01/oracle/dbs/init.ora</pre><div class="section">
                           <p class="subhead3" id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374__GUID-F0C75E09-FCC1-4C03-A14C-FB6FBAFD88C8">非默认服务器参数文件</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>非默认服务器参数文件（ <code class="codeph">SPFILE</code> ）是位于默认位置以外的位置的<code class="codeph">SPFILE</code> 。通常不需要使用非默认<code class="codeph">SPFILE</code>启动实例。但是，如果出现这种需要，SRVCTL（使用Oracle Restart）和SQL * Plus都提供了这样做的方法。这些将在本节后面介绍。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374__GUID-8113703C-FDA5-4EAD-907B-3479C814BD4F">初始化文件和Oracle自动存储管理</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>使用Oracle自动存储管理（Oracle ASM）的数据库通常具有非默认<code class="codeph">SPFILE</code> 。如果使用Database Configuration Assistant（DBCA）将数据库配置为使用Oracle ASM，则DBCA会为Oracle ASM磁盘组中的数据库实例创建<code class="codeph">SPFILE</code> ，然后在该ASAM磁盘组中创建文本初始化参数文件（PFILE）。本地文件系统中的默认位置指向<code class="codeph">SPFILE</code> ，如下一节中所述。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="您可以参考有关Oracle Restart特定的SRVCTL命令的语法和选项的详细信息。">Oracle Restart的SRVCTL命令参考</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" title="要启动实例，数据库必须从服务器参数文件（SPFILE）或文本初始化参数文件（PFILE）读取实例配置参数（初始化参数）。数据库在默认位置查找这些文件。您可以为这些文件指定非默认位置，执行此操作的方法取决于您是使用SQL * Plus（不使用Oracle Restart时）还是使用SRVCTL（使用Oracle Restart管理数据库时）启动数据库。">在启动时指定初始化参数</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADMIN12828"></a><div class="props_rev_3"><a id="GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0" name="GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0"></a><h5 id="ADMIN-GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0" class="sect5"><span class="enumeration_section">3.1.2.2</span>使用带有非默认服务器参数文件的SQL * Plus启动</h5>
                     <div>
                        <p>使用SQL * Plus，您可以使用<code class="codeph">PFILE</code>子句以非默认服务器参数文件启动实例。
                        </p>
                        <div class="section">
                           <p><span class="bold">要使用非默认服务器参数文件启动SQL * Plus：</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>创建仅包含<code class="codeph">SPFILE</code>参数的单行文本初始化参数文件。参数的值是非默认服务器参数文件位置。</span><div>
                                 <p>例如，创建一个文本初始化参数文件<code class="codeph">/u01/oracle/dbs/spf_init.ora</code> ，其中仅包含以下参数：</p><pre class="oac_no_warn" dir="ltr">SPFILE = /u01/oracle/dbs/test_spfile.ora</pre><div class="infoboxnote" id="GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0__GUID-CEA36B08-50BF-484B-A7B6-B315BD12A514">
                                    <p class="notep1">注意：</p>
                                    <p>您不能在文本初始化参数文件中使用<code class="codeph">IFILE</code>初始化参数来指向服务器参数文件。在此上下文中，您必须使用<code class="codeph">SPFILE</code>初始化参数。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>启动指向此初始化参数文件的实例。</span><div><pre class="oac_no_warn" dir="ltr">STARTUP PFILE = /u01/oracle/dbs/spf_init.ora</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p><code class="codeph">SPFILE</code>必须驻留在数据库主机上。因此，前述方法还为客户端系统提供了启动使用<code class="codeph">SPFILE</code>的数据库的方法。它还消除了客户端系统维护客户端初始化参数文件的需要。当客户端系统读取包含<code class="codeph">SPFILE</code>参数的初始化参数文件时，它会将值传递给读取指定<code class="codeph">SPFILE</code>的服务器。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" title="要启动实例，数据库必须从服务器参数文件（SPFILE）或文本初始化参数文件（PFILE）读取实例配置参数（初始化参数）。数据库在默认位置查找这些文件。您可以为这些文件指定非默认位置，执行此操作的方法取决于您是使用SQL * Plus（不使用Oracle Restart时）还是使用SRVCTL（使用Oracle Restart管理数据库时）启动数据库。">在启动时指定初始化参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12829"></a><div class="props_rev_3"><a id="GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA" name="GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA"></a><h5 id="ADMIN-GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA" class="sect5"><span class="enumeration_section">3.1.2.3</span>使用非默认服务器参数文件启动SRVCTL</h5>
                     <div>
                        <p>如果您的数据库由Oracle Restart管理，则可以通过在数据库的Oracle Restart配置中设置或修改SPFILE位置选项来指定非默认SPFILE的位置。</p>
                        <div class="section">
                           <p>要使用非默认服务器参数文件启动SRVCTL：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>准备运行SRVCTL，如<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="许多Oracle Restart任务都要求您运行SRVCTL实用程序。您必须确保从正确的Oracle主目录运行SRVCTL，并使用正确的用户帐户登录主机。">准备运行SRVCTL</a> ”中所述</span> 。</span></li>
                           <li class="stepexpand"><span>输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">srvctl修改数据库-db <span class="italic">db_unique_name</span> -spfile <span class="italic">spfile_path</span>
</pre><p>其中<span class="italic"><code class="codeph">db_unique_name</code></span>必须与数据库的<code class="codeph">DB_UNIQUE_NAME</code>初始化参数设置匹配。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> [ <span class="italic">options</span> ]</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>有关更多信息，请参见<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="您可以参考有关Oracle Restart特定的SRVCTL命令的语法和选项的详细信息。">Oracle Restart的SRVCTL命令参考</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" title="要启动实例，数据库必须从服务器参数文件（SPFILE）或文本初始化参数文件（PFILE）读取实例配置参数（初始化参数）。数据库在默认位置查找这些文件。您可以为这些文件指定非默认位置，执行此操作的方法取决于您是使用SQL * Plus（不使用Oracle Restart时）还是使用SRVCTL（使用Oracle Restart管理数据库时）启动数据库。">在启动时指定初始化参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12830"></a><div class="props_rev_3"><a id="GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA" name="GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA"></a><h4 id="ADMIN-GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA" class="sect4"><span class="enumeration_section">3.1.3</span>关于自动启动数据库服务</h4>
                  <div>
                     <p>当您的数据库由Oracle Restart管理时，您可以为每个单独的数据库服务（服务）配置启动选项。</p>
                     <p>如果将服务的管理策略设置为<code class="codeph">AUTOMATIC</code> （缺省值），则在使用SRVCTL启动数据库时，服务会自动启动。如果将管理策略设置为<code class="codeph">MANUAL</code> ，则服务不会自动启动，您必须使用SRVCTL手动启动它。 <code class="codeph">MANUAL</code>设置不会阻止Oracle Restart在运行时监视服务，如果发生故障则重新启动它。
                     </p>
                     <p>在Oracle Data Guard（Data Guard）环境中，Oracle Restart管理数据库，您还可以通过将Data Guard角色分配给Oracle Restart配置中的服务来控制服务的自动启动。仅当服务的管理策略为<code class="codeph">AUTOMATIC</code>且其分配的角色之一与数据库的当前角色匹配时，服务才会在手动启动数据库时自动启动。
                     </p>
                     <p>有关为<span class="q"><a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-45A7239E-B588-404E-A831-E62541092AE9" title="Modifies the Oracle Restart configuration of a database service.">服务</a></span>设置管理策略和Data Guard角色的语法，请参阅<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-802E24A9-F823-4942-804E-0ABBD97943D1" title="将数据库服务添加到Oracle Restart配置。">srvctl add service</a> ”</span>和<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-45A7239E-B588-404E-A831-E62541092AE9" title="修改数据库服务的Oracle Restart配置。">srvctl modify service</a> ”</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA__GUID-6F3ED60E-AFAF-491E-9504-CC4FED5855C9">
                        <p class="notep1">注意：</p>
                        <p>使用Oracle Restart时，Oracle强烈建议您使用SRVCTL创建数据库服务。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。">启动数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11141"></a><div class="props_rev_3"><a id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8" name="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8"></a><h4 id="ADMIN-GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8" class="sect4"><span class="enumeration_section">3.1.4</span>准备启动实例</h4>
                  <div>
                     <p>在尝试使用SQL * Plus启动数据库实例之前，必须执行一些初步步骤。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8__GUID-51E97222-E3C2-425F-9C57-F66ED36EF04C">
                           <p class="notep1">注意：</p>
                           <p>以下说明适用于未使用Oracle Restart的安装。如果您的数据库由Oracle Restart管理，请按照<span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="使用Oracle Restart时，Oracle强烈建议您使用SRVCTL实用程序来启动和停止组件。">启动和停止Oracle重启管理的组件</a> ”中</span>的说明进行操作。
                           </p>
                        </div>
                        <p>准备启动实例：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保启动数据库所依赖的任何Oracle组件。</span><div>
                              <p>例如，如果数据库将数据存储在Oracle自动存储管理（Oracle ASM）磁盘组中，请确保Oracle ASM实例正在运行并且已装入所需的磁盘组。此外，最好在启动数据库之前启动Oracle Net侦听器。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果要使用操作系统身份验证，请以OSDBA组成员的身份登录数据库主机。</span></li>
                        <li class="stepexpand"><span>确保已设置环境变量，以便连接到所需的Oracle实例。</span></li>
                        <li class="stepexpand"><span>在不连接数据库的情况下启动SQL * Plus：</span><div><pre class="oac_no_warn" dir="ltr">SQLPLUS / NOLOG</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">SYSOPER</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>身份连接到Oracle数据库。例如：</span><div><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic">用户名</span> AS SYSDBA  - 或 -  CONNECT / AS SYSDBA</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>现在，您已连接到数据库并准备启动数据库实例。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8__GUID-FCBFD84E-59DD-4742-B07B-18BDFBD3C08B">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="getting-started-with-database-administration.html#GUID-BB22E256-CC25-405F-A887-E3FA92CC37D4" title="特殊操作系统组的成员身份使DBA能够通过操作系统而不是数据库用户名和密码对数据库进行身份验证。这称为操作系统身份验证。">使用操作系统身份验证</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“将<a href="getting-started-with-database-administration.html#GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" title="有几种方法可以将SQL语句和命令提交给Oracle数据库。">命令和SQL提交到数据库</a> ”，</span>以获取有关设置环境变量以连接到Oracle实例的信息</p>
                           </li>
                           <li>
                              <p><a href="../sqpug/SQL-Plus-command-summary.html#SQPUG-GUID-71DD7D4A-70C1-4E39-9AF8-20AC54928540" target="_blank"><span class="italic">SQL * Plus用户指南和参考</span></a> ，了解<code class="codeph">CONNECT</code> ， <code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>命令的描述和语法</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。">启动数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11142"></a><div class="props_rev_3"><a id="GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" name="GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B"></a><h4 id="ADMIN-GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" class="sect4"><span class="enumeration_section">3.1.5</span>启动实例</h4>
                  <p>您可以使用SQL * Plus或Oracle Restart启动实例。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-85232C86-0135-4F4C-8941-09963AD78BBB">关于启动实例</a><br>如果未使用Oracle Restart，则使用SQL * Plus <code class="codeph">STARTUP</code>命令启动Oracle数据库实例。如果您的数据库由Oracle Restart管理，Oracle建议您使用<code class="codeph">srvctl start database</code>命令。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-88014B87-63F0-43CD-A01F-8EC595AC1636">启动实例，以及挂载和打开数据库</a><br>正常的数据库操作意味着启动实例并安装和打开数据库。此模式允许任何有效用户连接到数据库并执行数据访问操作。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571">在不挂载数据库的情况下启动实例</a><br>您可以在不安装数据库的情况下启动实例。通常，只在数据库创建期间执行此操作。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC">启动实例并装入数据库</a><br>您可以启动实例并装入数据库而无需打开它，从而允许您执行特定的维护操作。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079">在启动时限制对实例的访问</a><br>您可以在受限模式下启动实例，并可选择装入和打开数据库，以便该实例仅对管理人员（而非一般数据库用户）可用。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B">强制实例启动</a><br>在特殊情况下，您可能在尝试启动数据库实例时遇到问题，并且可以强制启动数据库实例。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D">启动实例，挂载数据库和启动完整介质恢复</a><br>如果您知道需要进行介质恢复，则可以启动实例，将数据库装入实例，然后自动启动恢复过程。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-61535B5E-457C-4676-9A6E-070C647CEAFA">操作系统启动时自动启动数据库</a><br>许多站点使用过程在系统启动后立即启用一个或多个Oracle数据库实例和数据库的自动启动。
                        </li>
                        <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F">启动远程实例</a><br>如果本地Oracle数据库服务器是分布式数据库的一部分，那么您可能希望启动远程实例和数据库。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。通常，您通过安装和打开数据库来启动实例。这样做使数据库可供任何有效用户连接并执行典型的数据访问操作。">启动数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB" name="GUID-85232C86-0135-4F4C-8941-09963AD78BBB"></a><h5 id="ADMIN-GUID-85232C86-0135-4F4C-8941-09963AD78BBB" class="sect5"><span class="enumeration_section">3.1.5.1</span>关于启动实例</h5>
                     <div>
                        <p>如果未使用Oracle Restart，则使用SQL * Plus <code class="codeph">STARTUP</code>命令启动Oracle数据库实例。如果您的数据库由Oracle Restart管理，Oracle建议您使用<code class="codeph">srvctl start database</code>命令。
                        </p>
                        <p>使用SQL * Plus和Oracle Restart，您可以在各种模式下启动实例：</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">NOMOUNT</code>在不挂载数据库的情况下<code class="codeph">NOMOUNT</code>实例。这不允许访问数据库，通常仅用于创建数据库或重新创建控制文件。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">MOUNT</code> -启动实例并装载数据库，但离开它关闭。此状态允许某些DBA活动，但不允许对数据库的一般访问。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPEN</code>启动实例，然后挂载并打开数据库。这可以在不受限制的模式下完成，允许访问所有用户，或者以受限模式访问，仅允许数据库管理员访问。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">FORCE</code>强制实例在启动或关闭问题后启动。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPEN</code> <code class="codeph">RECOVER</code>启动实例并立即开始完整的介质恢复。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-5B49FCED-0327-4896-8FCA-57F775D2FFF9">
                              <p class="notep1">注意：</p>
                              <p>如果通过共享服务器进程连接到数据库，则无法启动数据库实例。</p>
                           </div>
                           <p>以下方案描述并说明了可以启动实例的各种状态。组合<code class="codeph">STARTUP</code>命令的子句或组合<a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" title="Starts the specified database instance.">srvctl start database</a>命令的启动选项时， <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" title="启动指定的数据库实例。">会有</a>一些限制。
                           </p>
                           <div class="infoboxnote" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-F949C698-A2C4-4B8F-846D-9DEA08D3C56E">
                              <p class="notep1">注意：</p>
                              <p>如果控制文件，数据库文件或联机重做日志不可用，则可能会遇到启动实例的问题。如果<code class="codeph">CONTROL_FILES</code>初始化参数指定的一个或多个文件不存在或在尝试装入数据库时无法打开，Oracle Database将返回警告消息并且不装入数据库。如果一个或多个数据文件或联机重做日志在尝试打开数据库时不可用或无法打开，则数据库将返回警告消息，但不会打开数据库。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-373FA83C-F98A-4CA6-9034-9A5FAF8D7F58">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">STARTUP</code>命令语法的详细信息，请参阅<a href="../sqpug/START.html#SQPUG127" target="_blank"><span class="italic">SQL * Plus用户指南和参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="使用Oracle Restart时，Oracle强烈建议您使用SRVCTL实用程序来启动和停止组件。">启动和停止Oracle Restart管理的组件</a> ”，</span>以获取启动Oracle Restart管理的数据库的说明。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11143"></a><div class="props_rev_3"><a id="GUID-88014B87-63F0-43CD-A01F-8EC595AC1636" name="GUID-88014B87-63F0-43CD-A01F-8EC595AC1636"></a><h5 id="ADMIN-GUID-88014B87-63F0-43CD-A01F-8EC595AC1636" class="sect5"><span class="enumeration_section">3.1.5.2</span>启动实例，以及装入和打开数据库</h5>
                     <div>
                        <p>正常的数据库操作意味着启动实例并安装和打开数据库。此模式允许任何有效用户连接到数据库并执行数据访问操作。</p>
                        <div class="section">
                           <p>以下命令启动实例，从默认位置读取初始化参数，然后装入并打开数据库。</p>
                           <div class="tblformal" id="GUID-88014B87-63F0-43CD-A01F-8EC595AC1636__GUID-F821B6C2-D9BD-40A9-A8B7-5F04CB4AD4EE">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d63658e1531">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="75%" id="d63658e1534">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d63658e1539" headers="d63658e1531 "><pre class="oac_no_warn" dir="ltr">启动</pre></td>
                                       <td align="left" valign="top" width="75%" headers="d63658e1539 d63658e1534 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span></pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>其中<span class="italic"><code class="codeph">db_unique_name</code></span>与<code class="codeph">DB_UNIQUE_NAME</code>初始化参数匹配。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11144"></a><div class="props_rev_3"><a id="GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571" name="GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571"></a><h5 id="ADMIN-GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571" class="sect5"><span class="enumeration_section">3.1.5.3</span>在不挂载数据库的情况下启动实例</h5>
                     <div>
                        <p>您可以在不安装数据库的情况下启动实例。通常，只在数据库创建期间执行此操作。</p>
                        <div class="section">
                           <p>使用以下命令之一：</p>
                           <div class="tblformal" id="GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571__GUID-3641262B-969B-453C-9155-6A53FF3C1387">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="26%" id="d63658e1606">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="74%" id="d63658e1609">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d63658e1614" headers="d63658e1606 "><pre class="oac_no_warn" dir="ltr">启动NOMOUNT</pre></td>
                                       <td align="left" valign="top" width="74%" headers="d63658e1614 d63658e1609 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption nomount</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11145"></a><div class="props_rev_3"><a id="GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" name="GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC"></a><h5 id="ADMIN-GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" class="sect5"><span class="enumeration_section">3.1.5.4</span>启动实例并装入数据库</h5>
                     <div>
                        <p>您可以启动实例并装入数据库而无需打开它，从而允许您执行特定的维护操作。</p>
                        <div class="section">
                           <p>例如，在以下任务期间必须装入数据库但不能打开：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，将数据库实例置于强制完全数据库缓存模式。有关更多信息，请参阅<span class="q">“ <a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。">使用强制完全数据库缓存模式</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>启用和禁用重做日志归档选项。有关更多信息，请参阅<a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档重做日志文件</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>执行完整数据库恢复。有关更多信息，请参见“ <a href="../bradv/rman-complete-database-recovery.html#BRADV8005" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                                 </p>
                              </li>
                           </ul>
                           <p>以下命令启动实例并装入数据库，但使数据库保持关闭状态：</p>
                           <div class="tblformal" id="GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC__GUID-799719DD-353E-4907-91C5-536A2B90B24B">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="19%" id="d63658e1721">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="81%" id="d63658e1724">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d63658e1729" headers="d63658e1721 "><pre class="oac_no_warn" dir="ltr">启动安装</pre></td>
                                       <td align="left" valign="top" width="81%" headers="d63658e1729 d63658e1724 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption mount</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11146"></a><div class="props_rev_3"><a id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079" name="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079"></a><h5 id="ADMIN-GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079" class="sect5"><span class="enumeration_section">3.1.5.5</span>限制启动时对实例的访问</h5>
                     <div>
                        <p>您可以在受限模式下启动实例，并可选择装入和打开数据库，以便该实例仅对管理人员（而非一般数据库用户）可用。</p>
                        <div class="section">
                           <p>必须完成以下任务之一时，请使用此实例启动模式：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>执行数据导出或导入</p>
                              </li>
                              <li>
                                 <p>执行数据加载（使用SQL * Loader）</p>
                              </li>
                              <li>
                                 <p>暂时阻止典型用户使用数据</p>
                              </li>
                              <li>
                                 <p>执行某些迁移或升级操作</p>
                              </li>
                           </ul>
                           <p>通常，具有<code class="codeph">CREATE SESSION</code>系统特权的所有用户都可以连接到打开的数据库。以受限模式打开数据库只允许数据库访问具有<code class="codeph">CREATE SESSION</code>和<code class="codeph">RESTRICTED SESSION</code>系统特权的用户。只有数据库管理员才具有<code class="codeph">RESTRICTED SESSION</code>系统特权。此外，当实例处于受限模式时，数据库管理员无法通过Oracle Net侦听器远程访问实例，但只能从运行该实例的系统本地访问该实例。
                           </p>
                           <p>以下命令以受限模式启动实例（并装入并打开数据库）：</p>
                           <div class="tblformal" id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079__GUID-CC4649BF-D639-4BFB-B2E6-B02118E26947">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="21%" id="d63658e1839">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="79%" id="d63658e1842">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d63658e1847" headers="d63658e1839 "><pre class="oac_no_warn" dir="ltr">启动限制</pre></td>
                                       <td align="left" valign="top" width="79%" headers="d63658e1847 d63658e1842 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption restrict</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>您可以将限制模式与mount，nomount和open模式结合使用。</p>
                           <p>稍后，使用<code class="codeph">ALTER SYSTEM</code>语句禁用<code class="codeph">RESTRICTED SESSION</code>功能：</p><pre class="oac_no_warn" dir="ltr">更改系统禁用受限制的会议;</pre><p>如果以非限制模式打开数据库，稍后发现必须限制访问，则可以使用<code class="codeph">ALTER SYSTEM</code>语句执行此操作，如<span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5" title="当数据库处于受限模式时，只有具有RESTRICTED SESSION权限的用户才能启动新连接。以SYSDBA身份连接或与DBA角色连接的用户具有此权限。">限制对开放数据库的访问</a> ”中所述</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079__GUID-9691215C-FEF7-4019-9068-81C342DB66E2">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">ALTER SYSTEM</code>语句的更多信息，请<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF53082" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11147"></a><div class="props_rev_3"><a id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B" name="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B"></a><h5 id="ADMIN-GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B" class="sect5"><span class="enumeration_section">3.1.5.6</span>强制实例启动</h5>
                     <div>
                        <p>在特殊情况下，您可能在尝试启动数据库实例时遇到问题，并且可以强制启动数据库实例。</p>
                        <div class="section">
                           <p>除非您遇到以下情况，否则不应强制启动数据库：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您无法使用<code class="codeph">SHUTDOWN NORMAL</code> ， <code class="codeph">SHUTDOWN IMMEDIATE</code>或<code class="codeph">SHUTDOWN TRANSACTIONAL</code>命令关闭当前实例。
                                 </p>
                              </li>
                              <li>
                                 <p>启动实例时遇到问题。</p>
                              </li>
                           </ul>
                           <p>如果出现这些情况之一，您通常可以通过使用以下命令之一启动新实例（以及可选地安装和打开数据库）来解决问题：</p>
                           <div class="tblformal" id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B__GUID-96B2294B-7554-4394-8FBC-872159735D78">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d63658e1984">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="76%" id="d63658e1987">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d63658e1992" headers="d63658e1984 "><pre class="oac_no_warn" dir="ltr">启动力量</pre></td>
                                       <td align="left" valign="top" width="76%" headers="d63658e1992 d63658e1987 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption force</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果实例正在运行，则强制模式会在<code class="codeph">ABORT</code>模式下将其关闭，然后重新启动它。在这种情况下，警报日志会显示消息“ <code class="codeph">Shutting down instance (abort)</code> ”，然后显示“正在<code class="codeph">Starting ORACLE instance (normal)</code> 。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B__GUID-65E43846-D800-495D-AD75-2ACCC0AE57DD">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-CA71AC52-13E6-4958-A963-5F007F106DEC" title="您可以通过中止数据库实例来立即关闭数据库。">关闭中止模式</a> ”</span>以了解中止当前实例的副作用</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11148"></a><div class="props_rev_3"><a id="GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D" name="GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D"></a><h5 id="ADMIN-GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D" class="sect5"><span class="enumeration_section">3.1.5.7</span>启动实例，挂载数据库和启动完整介质恢复</h5>
                     <div>
                        <p>如果您知道需要进行介质恢复，则可以启动实例，将数据库装入实例，然后自动启动恢复过程。</p>
                        <div class="section">
                           <p>为此，请使用以下命令之一：</p>
                           <div class="tblformal" id="GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D__GUID-D0EFF772-47F3-4AE5-B7DE-F8DE61069C40">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d63658e2088">在SQL * Plus</th>
                                       <th align="left" valign="bottom" width="76%" id="d63658e2091">SRVCTL（当Oracle重启时正在使用中）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d63658e2096" headers="d63658e2088 "><pre class="oac_no_warn" dir="ltr">启动打开恢复</pre></td>
                                       <td align="left" valign="top" width="76%" headers="d63658e2096 d63658e2091 "><pre class="oac_no_warn" dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption“open，recover”</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果在不需要恢复时尝试执行恢复，Oracle数据库会发出错误消息。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11149"></a><div class="props_rev_3"><a id="GUID-61535B5E-457C-4676-9A6E-070C647CEAFA" name="GUID-61535B5E-457C-4676-9A6E-070C647CEAFA"></a><h5 id="ADMIN-GUID-61535B5E-457C-4676-9A6E-070C647CEAFA" class="sect5"><span class="enumeration_section">3.1.5.8</span>操作系统启动时自动启动数据库</h5>
                     <div>
                        <p>许多站点使用过程在系统启动后立即启用一个或多个Oracle数据库实例和数据库的自动启动。</p>
                        <p>执行此任务的过程特定于每个操作系统。有关自动启动的信息，请参阅特定于操作系统的Oracle文档。</p>
                        <p>配置数据库自动启动的首选（和平台无关）方法是Oracle Restart。有关详细信息，请参阅<a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="使用Oracle Restart功能配置Oracle数据库，以便在硬件或软件发生故障后或数据库主机重新启动时自动重新启动数据库，侦听器和其他Oracle组件。">配置Oracle数据库的自动重启</a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11150"></a><div class="props_rev_3"><a id="GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F" name="GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F"></a><h5 id="ADMIN-GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F" class="sect5"><span class="enumeration_section">3.1.5.9</span>启动远程实例</h5>
                     <div>
                        <p>如果本地Oracle数据库服务器是分布式数据库的一部分，那么您可能希望启动远程实例和数据库。</p>
                        <p>启动和停止远程实例的过程根据通信协议和操作系统的不同而有很大差异。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" title="您可以使用SQL * Plus或Oracle Restart启动实例。">启动实例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11151"></a><div class="props_rev_3"><a id="GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" name="GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1"></a><h3 id="ADMIN-GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" class="sect3"><span class="enumeration_section">3.2</span>改变数据库可用性</h3>
               <p>您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF">将数据库挂载到实例</a><br>执行特定管理操作时，必须启动数据库并将其挂载到实例，但必须关闭。您可以通过启动实例并装入数据库来实现此方案。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E">打开封闭数据库</a><br>当数据库挂载但已关闭时，您可以通过打开它使其可用于一般用途。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05">以只读模式打开数据库</a><br>以只读模式打开数据库使您可以查询打开的数据库，同时消除任何在线数据内容更改的可能性。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5">限制对开放数据库的访问</a><br>当数据库处于受限模式时，只有具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>权限的用户才能启动新连接。以<code class="codeph">SYSDBA</code>身份连接或与<code class="codeph">DBA</code>角色连接的用户具有此权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11152"></a><div class="props_rev_3"><a id="GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF" name="GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF"></a><h4 id="ADMIN-GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF" class="sect4"><span class="enumeration_section">3.2.1</span>将数据库挂载到实例</h4>
                  <div>
                     <p>执行特定管理操作时，必须启动数据库并将其挂载到实例，但必须关闭。您可以通过启动实例并装入数据库来实现此方案。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <div class="p">要将数据库装载到先前启动但未打开的实例，请使用带有<code class="codeph">MOUNT</code>子句的SQL语句<code class="codeph">ALTER DATABASE</code> ，如下所示：<pre class="oac_no_warn" dir="ltr">ALTER DATABASE MOUNT;</pre></div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF__GUID-325B03C3-5CF0-42E9-8AA9-F9B1BD14D274">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="您可以启动实例并装入数据库而无需打开它，从而允许您执行特定的维护操作。">启动实例并挂载数据库</a> ”</span> ，以获取需要装入和关闭数据库的操作列表（以及启动实例并在一个步骤中装入数据库的过程）</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。">更改数据库可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11153"></a><div class="props_rev_3"><a id="GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E" name="GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E"></a><h4 id="ADMIN-GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E" class="sect4"><span class="enumeration_section">3.2.2</span>打开封闭数据库</h4>
                  <div>
                     <p>当数据库挂载但已关闭时，您可以通过打开它使其可用于一般用途。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <div class="p">要打开已装入的数据库，请使用带有<code class="codeph">OPEN</code>子句的<code class="codeph">ALTER DATABASE</code> SQL语句：<pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN;</pre></div>
                           </li>
                        </ul>
                        <p>执行此语句后，具有<code class="codeph">CREATE SESSION</code>系统特权的任何有效Oracle数据库用户都可以连接到数据库。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。">更改数据库可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13176"></a><a id="ADMIN11154"></a><div class="props_rev_3"><a id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05" name="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05"></a><h4 id="ADMIN-GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05" class="sect4"><span class="enumeration_section">3.2.3</span>以只读模式打开数据库</h4>
                  <div>
                     <p>以只读模式打开数据库使您可以查询打开的数据库，同时消除任何在线数据内容更改的可能性。</p>
                     <div class="section">
                        <p>以只读模式打开数据库可确保不写入数据文件和重做日志文件，但它不会限制数据库恢复或在不生成重做的情况下更改数据库状态的操作。例如，您可以使数据文件脱机或将其联机，因为这些操作不会影响数据内容。</p>
                        <p>如果以只读模式对数据库的查询使用临时表空间（例如，执行磁盘排序），则查询的颁发者必须将本地管理的表空间指定为默认临时表空间。否则，查询将失败。这在<span class="q">“ <a href="managing-tablespaces.html#GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" title="由于空间管理在本地管理的表空间中更加简单和高效，因此它们非常适合临时表空间。">创建本地管理的临时表空间</a> ”中进行了解释</span> 。
                        </p>
                        <p>以下语句以只读模式打开数据库：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN READ ONLY;</pre><p>您还可以按读/写模式打开数据库，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN READ WRITE;</pre><p>但是，读/写是默认模式。</p>
                        <div class="infoboxnote" id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05__GUID-7C17A52D-41A9-46A6-8F2D-546CD001EDF9">
                           <p class="notep1">注意：</p>
                           <p>您不能将<code class="codeph">RESETLOGS</code>子句与<code class="codeph">READ ONLY</code>子句一起使用。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05__GUID-9B2CC53B-7401-4249-8716-A03092D252D9">只读数据库的限制</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在针对只读数据库执行时，应用程序不得编写数据库对象。例如，应用程序在插入，删除，更新或合并数据库表中的行（包括全局临时表）时会写入数据库对象。应用程序在操作数据库序列时写入数据库对象。应用程序在锁定行，运行<code class="codeph">EXPLAIN PLAN</code>或执行DDL时写入数据库对象。 Oracle提供的PL / SQL包中的许多函数和过程（如<code class="codeph">DBMS_SCHEDULER</code> ）都编写数据库对象。如果应用程序调用任何这些函数和过程，或者它执行上述任何操作，则应用程序将写入数据库对象，因此不是只读的。
                              </p>
                           </li>
                           <li>
                              <p>在只读数据库上执行时，必须在使用其他数据库链接之前提交或回滚涉及一个数据库链接的任何正在进行的事务。即使您在第一个数据库链接上执行泛型<code class="codeph">SELECT</code>语句并且该<span class="italic">事务</span>当前是只读的，也是如此。
                              </p>
                           </li>
                           <li>
                              <p>您无法在只读数据库上编译或重新编译PL / SQL存储过程。要最大程度地减少因远程过程调用而导致的PL / SQL失效，请在对只读数据库执行远程过程调用的任何会话中使用<code class="codeph">REMOTE_DEPENDENCIES_MODE=SIGNATURE</code> 。
                              </p>
                           </li>
                           <li>
                              <p>如果从未在数据库上调用远程过程，则无法从只读数据库调用远程过程（甚至是只读远程过程）。此限制适用于匿名PL / SQL块和SQL语句中的远程过程调用。您可以将远程过程调用放在存储过程中，也可以在数据库变为只读之前调用数据库中的远程过程。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05__GUID-5079497B-0C0C-408E-ACCA-304E38B5966E">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ALTER DATABASE</code>语句的更多信息，请<a href="../sqlrf/SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html#SQLRF008" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。">更改数据库可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11155"></a><div class="props_rev_3"><a id="GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5" name="GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5"></a><h4 id="ADMIN-GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5" class="sect4"><span class="enumeration_section">3.2.4</span>限制对开放数据库的访问</h4>
                  <div>
                     <p>当数据库处于受限模式时，只有具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>权限的用户才能启动新连接。以<code class="codeph">SYSDBA</code>身份连接或与<code class="codeph">DBA</code>角色连接的用户具有此权限。
                     </p>
                     <div class="section">
                        <p>要将已在运行的实例置于受限模式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">ENABLE RESTRICTED SESSION</code>子句运行SQL语句<code class="codeph">ALTER SYSTEM</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>将正在运行的实例置于受限模式时，不会终止任何用户会话或以其他方式受到影响。因此，在将实例置于受限模式后，请考虑在执行管理任务之前终止（终止）所有当前用户会话。</p>
                        <p>要从限制模式中提升实例，请使用带有<code class="codeph">DISABLE RESTRICTED SESSION</code>子句的<code class="codeph">ALTER SYSTEM</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5__GUID-018BE751-1D3D-407F-9647-FCAFEDEA9D13">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>杀死用户会话的方向<span class="q">“ <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079" title="您可以在受限模式下启动实例，并可选择装入和打开数据库，以便该实例仅对管理人员（而非一般数据库用户）可用。">限制在启动时访问实例</a> ”</span>以了解将实例置于受限模式的某些原因</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="您可以更改数据库的可用性。您可能希望这样做是为了出于维护原因限制访问或使数据库只读。">更改数据库可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11156"></a><div class="props_rev_3"><a id="GUID-3661B282-5C34-4E32-BC6A-906A72712866" name="GUID-3661B282-5C34-4E32-BC6A-906A72712866"></a><h3 id="ADMIN-GUID-3661B282-5C34-4E32-BC6A-906A72712866" class="sect3"><span class="enumeration_section">3.3</span>关闭数据库</h3>
               <p>您可以使用SQL * Plus或Oracle Restart关闭数据库。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-7E89742D-C723-424D-9899-77FECDF76481">关于关闭数据库</a><br>如果未使用Oracle Restart，则可以通过连接<code class="codeph">SYSOPER</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>并发出<code class="codeph">SHUTDOWN</code>命令来关闭SQL * Plus的数据库实例。如果您的数据库由Oracle Restart管理，则关闭数据库的推荐方法是使用<code class="codeph">srvctl stop database</code>命令。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683">按正常模式关闭</a><br>使用正常模式关闭数据库时，数据库会在关闭之前等待所有连接的用户断开连接。普通模式是默认的关机模式。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA">使用立即模式关闭</a><br>使用立即模式关闭数据库时，Oracle数据库会终止所有正在执行的SQL语句并断开用户连接。活动事务终止，并且回滚未提交的更改。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-37C35468-6C3C-471B-A5E2-16592EBA863A">关闭事务模式</a><br>使用事务模式关闭数据库时，数据库会阻止用户启动新事务，但在关闭之前等待所有当前事务完成。此模式可能需要很长时间，具体取决于当前事务的性质。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-CA71AC52-13E6-4958-A963-5F007F106DEC">关闭中止模式</a><br>您可以通过中止数据库实例来立即关闭数据库。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40">关机超时</a><br>等待用户断开连接或完成事务的关闭模式限制了他们等待的时间。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-7E89742D-C723-424D-9899-77FECDF76481" name="GUID-7E89742D-C723-424D-9899-77FECDF76481"></a><h4 id="ADMIN-GUID-7E89742D-C723-424D-9899-77FECDF76481" class="sect4"><span class="enumeration_section">3.3.1</span>关于关闭数据库</h4>
                  <div>
                     <p>如果未使用Oracle Restart，则可以通过连接<code class="codeph">SYSOPER</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>并发出<code class="codeph">SHUTDOWN</code>命令来关闭SQL * Plus的数据库实例。如果您的数据库由Oracle Restart管理，则关闭数据库的推荐方法是使用<code class="codeph">srvctl stop database</code>命令。
                     </p>
                     <p>在关闭完成之前，控制不会返回到启动数据库关闭的会话。在关机正在进行时尝试连接的用户会收到如下消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01090：正在关闭 - 不允许连接</pre><div class="infoboxnote" id="GUID-7E89742D-C723-424D-9899-77FECDF76481__GUID-AAED9B75-C573-48C4-8F3B-85E3BFABDC7F">
                        <p class="notep1">注意：</p>
                        <p>如果通过共享服务器进程连接到数据库，则无法关闭数据库。</p>
                     </div>
                     <p>关闭数据库有几种模式：正常，立即，事务和中止。在实际关闭数据库之前，某些关闭模式会等待某些事件发生（例如事务完成或用户断开连接）。这些事件有一个小时的超时期限。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7E89742D-C723-424D-9899-77FECDF76481__GUID-F4FB6C39-B717-4492-A0E8-D4E1CE57B10A">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="使用Oracle Restart功能配置Oracle数据库，以便在硬件或软件发生故障后或数据库主机重新启动时自动重新启动数据库，侦听器和其他Oracle组件。">配置Oracle数据库的自动重新启动</a>以获取有关Oracle Restart的信息。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11157"></a><div class="props_rev_3"><a id="GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683" name="GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683"></a><h4 id="ADMIN-GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683" class="sect4"><span class="enumeration_section">3.3.2</span>关闭普通模式</h4>
                  <div>
                     <p>使用正常模式关闭数据库时，数据库会在关闭之前等待所有连接的用户断开连接。普通模式是默认的关机模式。</p>
                     <div class="section">
                        <p>要在正常情况下关闭数据库，请使用以下命令之一：</p>
                        <div class="tblformal" id="GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683__GUID-57FF988B-1AEF-435D-9206-F8C85CF1A402">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d63658e2894">在SQL * Plus</th>
                                    <th align="left" valign="bottom" width="77%" id="d63658e2897">SRVCTL（当Oracle重启时正在使用中）</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d63658e2902" headers="d63658e2894 "><pre class="oac_no_warn" dir="ltr">关闭[正常]</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d63658e2902 d63658e2897 "><pre class="oac_no_warn" dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption normal</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>SQL * Plus <code class="codeph">SHUTDOWN</code>命令的<code class="codeph">NORMAL</code>子句是可选的，因为这是默认的关闭方法。对于SRVCTL，如果省略<code class="codeph">-stopoption</code>选项，则根据存储在数据库的Oracle Restart配置中的停止选项继续执行关闭操作。默认停止选项是<code class="codeph">immediate</code> 。
                        </p>
                        <p>正常的数据库关闭继续执行以下条件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>发布声明后不允许新连接。</p>
                           </li>
                           <li>
                              <p>在关闭数据库之前，数据库会等待所有当前连接的用户与数据库断开连接。</p>
                           </li>
                        </ul>
                        <p>下次启动数据库不需要任何实例恢复过程。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11158"></a><div class="props_rev_3"><a id="GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA" name="GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA"></a><h4 id="ADMIN-GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA" class="sect4"><span class="enumeration_section">3.3.3</span>使用立即模式关闭</h4>
                  <div>
                     <p>使用立即模式关闭数据库时，Oracle数据库会终止所有正在执行的SQL语句并断开用户连接。活动事务终止，并且回滚未提交的更改。</p>
                     <div class="section">
                        <p>仅在以下情况下使用立即数据库关闭：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>启动自动和无人值守备份</p>
                           </li>
                           <li>
                              <p>电源关闭很快就会发生</p>
                           </li>
                           <li>
                              <p>当数据库或其中一个应用程序运行不正常而您无法联系用户要求他们注销或他们无法注销</p>
                           </li>
                        </ul>
                        <p>要立即关闭数据库，请使用以下命令之一：</p>
                        <div class="tblformal" id="GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA__GUID-F916E2C4-08D9-44C3-BFA6-58BBFFC15712">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d63658e3004">在SQL * Plus</th>
                                    <th align="left" valign="bottom" width="72%" id="d63658e3007">SRVCTL（当Oracle重启时正在使用中）</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d63658e3012" headers="d63658e3004 "><pre class="oac_no_warn" dir="ltr">立即关闭</pre></td>
                                    <td align="left" valign="top" width="72%" headers="d63658e3012 d63658e3007 "><pre class="oac_no_warn" dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption immediate</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>立即数据库关闭继续执行以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在发布声明后，不允许新连接，也不允许启动新事务。</p>
                           </li>
                           <li>
                              <p>回滚任何未提交的事务。（如果存在长的未提交事务，则此方法可能无法快速完成，无论其名称如何。）</p>
                           </li>
                           <li>
                              <p>Oracle数据库不会等待当前连接到数据库的用户断开连接。数据库隐式回滚活动事务并断开所有连接的用户。</p>
                           </li>
                        </ul>
                        <p>下次启动数据库不需要任何实例恢复过程。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11159"></a><div class="props_rev_3"><a id="GUID-37C35468-6C3C-471B-A5E2-16592EBA863A" name="GUID-37C35468-6C3C-471B-A5E2-16592EBA863A"></a><h4 id="ADMIN-GUID-37C35468-6C3C-471B-A5E2-16592EBA863A" class="sect4"><span class="enumeration_section">3.3.4</span>关闭事务模式</h4>
                  <div>
                     <p>使用事务模式关闭数据库时，数据库会阻止用户启动新事务，但在关闭之前等待所有当前事务完成。此模式可能需要很长时间，具体取决于当前事务的性质。</p>
                     <div class="section">
                        <p>如果要在允许首先完成活动事务的同时执行计划的实例关闭，请使用以下命令之一：</p>
                        <div class="tblformal" id="GUID-37C35468-6C3C-471B-A5E2-16592EBA863A__GUID-6745EC75-90B1-44EB-BEC9-CE379B483C5E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d63658e3085">在SQL * Plus</th>
                                    <th align="left" valign="bottom" width="72%" id="d63658e3088">SRVCTL（当Oracle重启时正在使用中）</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d63658e3093" headers="d63658e3085 "><pre class="oac_no_warn" dir="ltr">关闭交易</pre></td>
                                    <td align="left" valign="top" width="72%" headers="d63658e3093 d63658e3088 "><pre class="oac_no_warn" dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption transactional</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>事务性数据库关闭具有以下条件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在发布声明后，不允许新连接，也不允许启动新事务。</p>
                           </li>
                           <li>
                              <p>完成所有事务后，任何仍连接到实例的客户端都将断开连接。</p>
                           </li>
                           <li>
                              <p>此时，实例将像提交<code class="codeph">SHUTDOWN IMMEDIATE</code>语句时一样关闭。
                              </p>
                           </li>
                        </ul>
                        <p>下次启动数据库不需要任何实例恢复过程。</p>
                        <p>事务性关闭可防止客户端丢失工作，同时不需要所有用户注销。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11160"></a><div class="props_rev_3"><a id="GUID-CA71AC52-13E6-4958-A963-5F007F106DEC" name="GUID-CA71AC52-13E6-4958-A963-5F007F106DEC"></a><h4 id="ADMIN-GUID-CA71AC52-13E6-4958-A963-5F007F106DEC" class="sect4"><span class="enumeration_section">3.3.5</span>关闭中止模式</h4>
                  <div>
                     <p>您可以通过中止数据库实例来立即关闭数据库。</p>
                     <div class="section">
                        <p>如果可能， <span class="italic">仅</span>在以下情况下执行此类型的关闭：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库或其中一个应用程序运行不正常<span class="italic">，</span>其他类型的关闭都不起作用。
                              </p>
                           </li>
                           <li>
                              <p>您必须立即关闭数据库（例如，如果您知道将在一分钟内关闭电源）。</p>
                           </li>
                           <li>
                              <p>启动数据库实例时遇到问题。</p>
                           </li>
                        </ul>
                        <p>必须通过中止事务和用户连接来执行数据库关闭时，请使用以下命令之一：</p>
                        <div class="tblformal" id="GUID-CA71AC52-13E6-4958-A963-5F007F106DEC__GUID-C75A0E64-3F58-4BDA-BF1A-AFAADFF1D911">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d63658e3192">在SQL * Plus</th>
                                    <th align="left" valign="bottom" width="78%" id="d63658e3195">SRVCTL（当Oracle重启时正在使用中）</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d63658e3200" headers="d63658e3192 "><pre class="oac_no_warn" dir="ltr">关闭中止</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d63658e3200 d63658e3195 "><pre class="oac_no_warn" dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption abort</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>中止的数据库关闭将继续以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在发布声明后，不允许新连接，也不允许启动新事务。</p>
                           </li>
                           <li>
                              <p>Oracle Database正在处理的当前客户端SQL语句将立即终止。</p>
                           </li>
                           <li>
                              <p>未回滚未提交的事务。</p>
                           </li>
                           <li>
                              <p>Oracle数据库不会等待当前连接到数据库的用户断开连接。数据库隐式断开所有连接的用户。</p>
                           </li>
                        </ul>
                        <p>下次启动数据库<span class="italic">将</span>需要自动实例恢复过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11161"></a><div class="props_rev_3"><a id="GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40" name="GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40"></a><h4 id="ADMIN-GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40" class="sect4"><span class="enumeration_section">3.3.6</span>关机超时</h4>
                  <div>
                     <p>等待用户断开连接或完成事务的关闭模式限制了他们等待的时间。</p>
                     <p>如果在一小时内未发生阻止关闭的所有事件，则关闭操作将中止，并显示以下消息： <code class="codeph">ORA-01013: user requested cancel of current operation</code> 。如果中断关闭过程，也会显示此消息，例如按<code class="codeph">CTRL-C</code> 。 Oracle建议您不要尝试中断实例关闭。相反，允许关闭过程完成，然后重新启动实例。
                     </p>
                     <p>发生<code class="codeph">ORA-01013</code>后，您必须认为该实例处于不可预测的状态。因此，您必须通过重新提交<code class="codeph">SHUTDOWN</code>命令来继续关闭过程。如果后续<code class="codeph">SHUTDOWN</code>命令继续失败，则必须提交<code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>命令以关闭实例。然后，您可以重新启动实例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="您可以使用SQL * Plus或Oracle Restart关闭数据库。">关闭数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" name="GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9"></a><h3 id="ADMIN-GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" class="sect3"><span class="enumeration_section">3.4</span>停顿数据库</h3>
               <p>静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23">关于停顿数据库</a><br>有时，您可能希望将数据库置于仅允许DBA事务，查询，提取或PL / SQL语句的状态。在某种意义上，这种状态被称为<span class="bold">静默状态</span> ，即系统中没有正在运行的非DBA事务，查询，提取或PL / SQL语句。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18">将数据库置于静止状态</a><br>将数据库置于静默状态时，非DBA活动会话将继续，直到它们变为非活动状态。活动会话是当前在事务，查询，提取或PL / SQL语句中的会话;或当前持有任何共享资源的会话（例如，入队）。不允许非活动会话变为活动状态。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98">将系统恢复到正常运行状态</a><br>将系统还原到正常操作时，允许所有非DBA活动继续。
                     </li>
                     <li class="ulchildlink"><a href="starting-up-and-shutting-down.html#GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0">查看实例的静默状态</a><br>您可以通过查询<code class="codeph">V$INSTANCE</code>视图来查看实例的静默状态。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN10263"></a><div class="props_rev_3"><a id="GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23" name="GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23"></a><h4 id="ADMIN-GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23" class="sect4"><span class="enumeration_section">3.4.1</span>关于停顿数据库</h4>
                  <div>
                     <p>有时，您可能希望将数据库置于仅允许DBA事务，查询，提取或PL / SQL语句的状态。在某种意义上，这种状态被称为<span class="bold">静默状态</span> ，即系统中没有正在运行的非DBA事务，查询，提取或PL / SQL语句。
                     </p>
                     <div class="infoboxnote" id="GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23__GUID-DDEE1372-E1B3-4E03-9D11-9C02D99EB124">
                        <p class="notep1">注意：</p>
                        <p>在对quiesce数据库的讨论中，DBA被定义为用户<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code> 。其他用户（包括具有<code class="codeph">DBA</code>角色的用户）不允许发出<code class="codeph">ALTER SYSTEM QUIESCE DATABASE</code>语句或在数据库停顿后继续。
                        </p>
                     </div>
                     <p>静默状态允许管理员执行无法安全执行的操作。这些行动包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>并发用户事务访问同一对象时失败的操作 - 例如，更改数据库表的模式或将列添加到需要无等待锁定的现有表。</p>
                        </li>
                        <li>
                           <p>并发用户事务可以看到其不良中间影响的操作 - 例如，在首次导出表时重新组织表的多步骤过程，然后删除，最后导入。在删除表之后但在导入之前尝试访问该表的并发用户将无法准确查看该情况。</p>
                        </li>
                     </ul>
                     <p>如果没有静默数据库的能力，您需要关闭数据库并以受限模式重新打开它。这是一个严重的限制，特别是对于需要24 x 7可用性的系统。停顿数据库的限制要小得多，因为它可以消除用户中断以及与关闭和重新启动数据库相关的停机时间。</p>
                     <p>当数据库处于停顿状态时，通过数据库资源管理器的工具可防止非DBA会话变为活动状态。因此，在此语句生效时，任何更改当前资源计划的尝试都将排队，直到系统取消静默。有关<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">数据库资源管理器</a>的更多信息，请参阅<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle Database Resource Manager管理</a>资源。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" title="静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。">停顿数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11162"></a><div class="props_rev_3"><a id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18" name="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18"></a><h4 id="ADMIN-GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18" class="sect4"><span class="enumeration_section">3.4.2</span>将数据库置于静止状态</h4>
                  <div>
                     <p>将数据库置于静默状态时，非DBA活动会话将继续，直到它们变为非活动状态。活动会话是当前在事务，查询，提取或PL / SQL语句中的会话;或当前持有任何共享资源的会话（例如，入队）。不允许非活动会话变为活动状态。</p>
                     <div class="section">
                        <p>例如，如果用户发出SQL查询以尝试强制非活动会话变为活动状态，则查询将显示为挂起。稍后取消静默数据库时，将恢复会话，并处理阻止的操作。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <div class="p">要将数据库置于静默状态，请发出以下SQL语句：<pre class="oac_no_warn" dir="ltr">ALTER SYSTEM QUIESCE RESTRICTED;</pre></div>
                           </li>
                        </ul>
                        <p>一旦所有非DBA会话变为非活动状态， <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句就会完成，并且数据库处于停顿状态。在Oracle Real Application Clusters环境中，此语句会影响所有实例，而不仅仅是发出该语句的实例。
                        </p>
                        <p><code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句可能需要等待很长时间才能使活动会话变为非活动状态。您可以通过查询<code class="codeph">V$BLOCKING_QUIESCE</code>视图来确定阻止静默操作的会话。此视图仅返回单个列： <code class="codeph">SID</code> （会话ID）。您可以将其与<code class="codeph">V$SESSION</code>以获取有关会话的更多信息，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">从v $ blocking_quiesce bl，v $ session se中选择bl.sid，user，osuser，type，program，其中bl.sid = se.sid;</pre><p>如果中断请求以停顿数据库，或者如果会话在所有活动会话停顿之前异常终止，则Oracle数据库会自动撤消该语句的任何部分影响。</p>
                        <p>对于由连续多个Oracle调用接口（OCI）提取执行的查询， <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句不会等待所有提取完成。它只等待当前的提取完成。
                        </p>
                        <p>对于专用和共享服务器连接，发出此语句后的所有非DBA登录都由数据库资源管理器排队，不允许继续。对用户来说，似乎登录已挂起。数据库取消静默时，登录将恢复。</p>
                        <p>即使发出语句的会话退出，数据库仍处于停顿状态。DBA必须登录到数据库才能发出专门取消数据库静默的语句。</p>
                        <div class="infoboxnote" id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18__GUID-692E0D6E-6586-4033-8B9A-5228401147BE">
                           <p class="notep1">注意：</p>
                           <p>当数据库处于停顿状态时，您无法执行冷备份，因为即使数据库处于静默状态，Oracle数据库后台进程仍可能出于内部目的执行更新。此外，在线数据文件的文件头仍然可以访问。它们看起来不像是否已执行干净关闭。但是，在数据库处于静默状态时，您仍可以进行联机备份。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18__GUID-330DD444-D407-4FBE-B11E-FE7812EBD361">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$BLOCKING_QUIESCE</code>视图的更多信息，请<a href="../refrn/V-BLOCKING_QUIESCE.html#REFRN30399" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$SESSION</code>视图的更多信息，请<a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" title="静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。">停顿数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11163"></a><div class="props_rev_3"><a id="GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98" name="GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98"></a><h4 id="ADMIN-GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98" class="sect4"><span class="enumeration_section">3.4.3</span>将系统恢复到正常运行状态</h4>
                  <div>
                     <p>将系统还原到正常操作时，允许所有非DBA活动继续。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <div class="p">要将数据库还原到正常操作，请发出以下SQL语句：<pre class="oac_no_warn" dir="ltr">ALTER SYSTEM UNQUIESCE;</pre></div>
                           </li>
                        </ul>
                        <p>在Oracle Real Application Clusters环境中，不需要从与静默数据库相同的会话，甚至同一实例发出此语句。如果发出<code class="codeph">ALTER SYSTEM UNQUIESCE</code>语句的会话异常终止，则Oracle数据库服务器会确保取消静默操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" title="静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。">停顿数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11164"></a><div class="props_rev_3"><a id="GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0" name="GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0"></a><h4 id="ADMIN-GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0" class="sect4"><span class="enumeration_section">3.4.4</span>查看实例的静默状态</h4>
                  <div>
                     <p>您可以通过查询<code class="codeph">V$INSTANCE</code>视图来查看实例的静默状态。
                     </p>
                     <div class="section">
                        <p>要查看实例的静默状态：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询<code class="codeph">V$INSTANCE</code>视图的<code class="codeph">ACTIVE_STATE</code>列。
                              </p>
                           </li>
                        </ul>
                        <p>该列具有以下值之一：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">NORMAL</code> ：正常的非静止状态。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">QUIESCING</code> ： <code class="codeph">QUIESCING</code>静默状态，但一些非DBA会话仍处于活动状态。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">QUIESCED</code> ：Quiesced;没有非DBA会话是活动的或允许的。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" title="静默数据库仅允许DBA事务，查询，提取或PL / SQL语句。">停顿数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11165"></a><div class="props_rev_3"><a id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC" name="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC"></a><h3 id="ADMIN-GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC" class="sect3"><span class="enumeration_section">3.5</span>暂停和恢复数据库</h3>
               <div>
                  <p><code class="codeph">ALTER SYSTEM SUSPEND</code>语句将所有输入和输出（I / O）停止到数据文件（文件头和文件数据）和控制文件。挂起状态允许您在没有I / O干扰的情况下备份数据库。当数据库挂起时，允许完成所有预先存在的I / O操作，并且任何新的数据库访问都处于排队状态。使用<code class="codeph">ALTER SYSTEM RESUME</code>语句恢复正常的数据库操作。
                  </p>
                  <div class="section">
                     <p>要暂停数据库操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行<code class="codeph">ALTER SYSTEM SUSPEND</code>语句。
                           </p>
                        </li>
                     </ul>
                     <p>要恢复数据库操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行<code class="codeph">ALTER SYSTEM RESUME</code>语句。
                           </p>
                        </li>
                     </ul>
                     <p>suspend命令不是特定于实例的。在Oracle Real Application Clusters环境中，当您在一个系统上发出suspend命令时，内部锁定机制会跨实例传播暂停请求，从而停止给定群集中的所有活动实例。但是，如果在暂停另一个实例时启动新实例，则不会暂停新实例。</p>
                     <p><code class="codeph">SUSPEND</code>和<code class="codeph">RESUME</code>命令可以从不同的实例发出。例如，如果实例1,2和3正在运行，并且您从实例1发出<code class="codeph">ALTER SYSTEM SUSPEND</code>语句，则可以从实例1,2或3发出具有相同效果的<code class="codeph">RESUME</code>语句。
                     </p>
                     <p>暂停/恢复功能在允许您镜像磁盘或文件然后拆分镜像的系统中非常有用，从而提供备用备份和还原解决方案。如果使用的系统在写入时无法从现有数据库中拆分镜像磁盘，则可以使用挂起/恢复功能来促进拆分。</p>
                     <p>挂起/恢复功能不是正常关闭操作的合适替代，因为挂起的数据库的副本可以包含未提交的更新。</p>
                     <div class="infoboxnote" id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC__GUID-81003017-B503-4CCE-B142-3A2E98ECB8DA">
                        <p class="notep1">注意：</p>
                        <p>不要使用<code class="codeph">ALTER SYSTEM SUSPEND</code>语句替代将表空间置于热备份模式。通过<code class="codeph">ALTER TABLESPACE BEGIN BACKUP</code>语句进行任何数据库挂起操作。
                        </p>
                     </div>
                     <p>以下语句说明了<code class="codeph">ALTER SYSTEM SUSPEND/RESUME</code>用法。查询<code class="codeph">V$INSTANCE</code>视图以确认数据库状态。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SUSPEND;系统更改了SQL&gt; SELECT DATABASE_STATUS FROM V $ INSTANCE; DATABASE_STATUS --------- SUSPENDED SQL&gt; ALTER SYSTEM RESUME;系统更改了SQL&gt; SELECT DATABASE_STATUS FROM V $ INSTANCE; DATABASE_STATUS --------- ACTIVE</pre><div class="infoboxnotealso" id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC__GUID-A6C698DF-CD0C-420B-B700-B1098A29B4A7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库挂起/恢复功能备份数据库的详细信息，请参见<a href="../bradv/user-managed-database-backups.html#BRADV204" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                     </div>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3" name="GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3"></a><h3 id="ADMIN-GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3" class="sect3"><span class="enumeration_section">3.6</span>延迟实例中止</h3>
               <div>
                  <p><code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>初始化参数指定在错误导致实例中止时延迟关闭数据库的时间（以秒为单位）。
                  </p>
                  <div class="section">
                     <p>某些错误导致Oracle数据库实例中止。您可以使用<code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>初始化参数指定延迟关闭实例的时间。数据库管理员可以使用延迟时间来获取有关错误的信息，并最大程度地减少实例中止时可能导致的问题。例如，数据库管理员可能会使用延迟时间来获取诊断，使用透明应用程序故障转移（TAF）重定向连接，并刷新缓冲区缓存。启动延迟中止时，会将消息写入警报日志。
                     </p>
                     <div class="infoboxnote" id="GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3__GUID-391E0DE7-F40C-4A3C-B634-6D8970FC1056">
                        <p class="notep1">警告：</p>
                        <p>不要将<code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>值设置得太高。由于实例因错误而关闭，因此某些进程或资源可能已损坏或不可用，这可能导致无法执行复杂操作。
                        </p>
                     </div>
                     <p>要延迟实例中止：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将<code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>初始化参数设置为在错误导致实例中止时延迟关闭实例的秒数。
                           </p>
                           <p>默认情况下，此参数设置为<code class="codeph">0</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C985FC7B-5D90-4BEA-9E35-E58E609D6AC3__GUID-687DA5AC-3788-45A2-B2BA-6142FC3D37EB">
                     <p class="titleinexample">示例3-1设置INSTANCE_ABORT_DELAY_TIME初始化参数</p><pre class="pre codeblock"><code>ALTER SYSTEM SET INSTANCE_ABORT_DELAY_TIME = 60;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>